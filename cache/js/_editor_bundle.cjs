(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, { get: all[name], enumerable: true });
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));
  var __publicField = (obj, key, value) => {
    __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
    return value;
  };
  var __accessCheck = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet = (obj, member, getter) => {
    __accessCheck(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateMethod = (obj, member, method) => {
    __accessCheck(obj, member, "access private method");
    return method;
  };

  // node_modules/howler/dist/howler.js
  var require_howler = __commonJS({
    "node_modules/howler/dist/howler.js"(exports) {
      (function() {
        "use strict";
        var HowlerGlobal2 = function() {
          this.init();
        };
        HowlerGlobal2.prototype = {
          /**
           * Initialize the global Howler object.
           * @return {Howler}
           */
          init: function() {
            var self2 = this || Howler2;
            self2._counter = 1e3;
            self2._html5AudioPool = [];
            self2.html5PoolSize = 10;
            self2._codecs = {};
            self2._howls = [];
            self2._muted = false;
            self2._volume = 1;
            self2._canPlayEvent = "canplaythrough";
            self2._navigator = typeof window !== "undefined" && window.navigator ? window.navigator : null;
            self2.masterGain = null;
            self2.noAudio = false;
            self2.usingWebAudio = true;
            self2.autoSuspend = true;
            self2.ctx = null;
            self2.autoUnlock = true;
            self2._setup();
            return self2;
          },
          /**
           * Get/set the global volume for all sounds.
           * @param  {Float} vol Volume from 0.0 to 1.0.
           * @return {Howler/Float}     Returns self or current volume.
           */
          volume: function(vol) {
            var self2 = this || Howler2;
            vol = parseFloat(vol);
            if (!self2.ctx) {
              setupAudioContext();
            }
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              self2._volume = vol;
              if (self2._muted) {
                return self2;
              }
              if (self2.usingWebAudio) {
                self2.masterGain.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node) {
                      sound._node.volume = sound._volume * vol;
                    }
                  }
                }
              }
              return self2;
            }
            return self2._volume;
          },
          /**
           * Handle muting and unmuting globally.
           * @param  {Boolean} muted Is muted or not.
           */
          mute: function(muted) {
            var self2 = this || Howler2;
            if (!self2.ctx) {
              setupAudioContext();
            }
            self2._muted = muted;
            if (self2.usingWebAudio) {
              self2.masterGain.gain.setValueAtTime(muted ? 0 : self2._volume, Howler2.ctx.currentTime);
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (!self2._howls[i]._webAudio) {
                var ids = self2._howls[i]._getSoundIds();
                for (var j = 0; j < ids.length; j++) {
                  var sound = self2._howls[i]._soundById(ids[j]);
                  if (sound && sound._node) {
                    sound._node.muted = muted ? true : sound._muted;
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Handle stopping all sounds globally.
           */
          stop: function() {
            var self2 = this || Howler2;
            for (var i = 0; i < self2._howls.length; i++) {
              self2._howls[i].stop();
            }
            return self2;
          },
          /**
           * Unload and destroy all currently loaded Howl objects.
           * @return {Howler}
           */
          unload: function() {
            var self2 = this || Howler2;
            for (var i = self2._howls.length - 1; i >= 0; i--) {
              self2._howls[i].unload();
            }
            if (self2.usingWebAudio && self2.ctx && typeof self2.ctx.close !== "undefined") {
              self2.ctx.close();
              self2.ctx = null;
              setupAudioContext();
            }
            return self2;
          },
          /**
           * Check for codec support of specific extension.
           * @param  {String} ext Audio file extention.
           * @return {Boolean}
           */
          codecs: function(ext) {
            return (this || Howler2)._codecs[ext.replace(/^x-/, "")];
          },
          /**
           * Setup various state values for global tracking.
           * @return {Howler}
           */
          _setup: function() {
            var self2 = this || Howler2;
            self2.state = self2.ctx ? self2.ctx.state || "suspended" : "suspended";
            self2._autoSuspend();
            if (!self2.usingWebAudio) {
              if (typeof Audio !== "undefined") {
                try {
                  var test = new Audio();
                  if (typeof test.oncanplaythrough === "undefined") {
                    self2._canPlayEvent = "canplay";
                  }
                } catch (e) {
                  self2.noAudio = true;
                }
              } else {
                self2.noAudio = true;
              }
            }
            try {
              var test = new Audio();
              if (test.muted) {
                self2.noAudio = true;
              }
            } catch (e) {
            }
            if (!self2.noAudio) {
              self2._setupCodecs();
            }
            return self2;
          },
          /**
           * Check for browser support for various codecs and cache the results.
           * @return {Howler}
           */
          _setupCodecs: function() {
            var self2 = this || Howler2;
            var audioTest = null;
            try {
              audioTest = typeof Audio !== "undefined" ? new Audio() : null;
            } catch (err) {
              return self2;
            }
            if (!audioTest || typeof audioTest.canPlayType !== "function") {
              return self2;
            }
            var mpegTest = audioTest.canPlayType("audio/mpeg;").replace(/^no$/, "");
            var ua = self2._navigator ? self2._navigator.userAgent : "";
            var checkOpera = ua.match(/OPR\/(\d+)/g);
            var isOldOpera = checkOpera && parseInt(checkOpera[0].split("/")[1], 10) < 33;
            var checkSafari = ua.indexOf("Safari") !== -1 && ua.indexOf("Chrome") === -1;
            var safariVersion = ua.match(/Version\/(.*?) /);
            var isOldSafari = checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15;
            self2._codecs = {
              mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType("audio/mp3;").replace(/^no$/, ""))),
              mpeg: !!mpegTest,
              opus: !!audioTest.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
              ogg: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              oga: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              wav: !!(audioTest.canPlayType('audio/wav; codecs="1"') || audioTest.canPlayType("audio/wav")).replace(/^no$/, ""),
              aac: !!audioTest.canPlayType("audio/aac;").replace(/^no$/, ""),
              caf: !!audioTest.canPlayType("audio/x-caf;").replace(/^no$/, ""),
              m4a: !!(audioTest.canPlayType("audio/x-m4a;") || audioTest.canPlayType("audio/m4a;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              m4b: !!(audioTest.canPlayType("audio/x-m4b;") || audioTest.canPlayType("audio/m4b;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              mp4: !!(audioTest.canPlayType("audio/x-mp4;") || audioTest.canPlayType("audio/mp4;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              dolby: !!audioTest.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
              flac: !!(audioTest.canPlayType("audio/x-flac;") || audioTest.canPlayType("audio/flac;")).replace(/^no$/, "")
            };
            return self2;
          },
          /**
           * Some browsers/devices will only allow audio to be played after a user interaction.
           * Attempt to automatically unlock audio on the first user interaction.
           * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/
           * @return {Howler}
           */
          _unlockAudio: function() {
            var self2 = this || Howler2;
            if (self2._audioUnlocked || !self2.ctx) {
              return;
            }
            self2._audioUnlocked = false;
            self2.autoUnlock = false;
            if (!self2._mobileUnloaded && self2.ctx.sampleRate !== 44100) {
              self2._mobileUnloaded = true;
              self2.unload();
            }
            self2._scratchBuffer = self2.ctx.createBuffer(1, 1, 22050);
            var unlock = function(e) {
              while (self2._html5AudioPool.length < self2.html5PoolSize) {
                try {
                  var audioNode = new Audio();
                  audioNode._unlocked = true;
                  self2._releaseHtml5Audio(audioNode);
                } catch (e2) {
                  self2.noAudio = true;
                  break;
                }
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node && !sound._node._unlocked) {
                      sound._node._unlocked = true;
                      sound._node.load();
                    }
                  }
                }
              }
              self2._autoResume();
              var source = self2.ctx.createBufferSource();
              source.buffer = self2._scratchBuffer;
              source.connect(self2.ctx.destination);
              if (typeof source.start === "undefined") {
                source.noteOn(0);
              } else {
                source.start(0);
              }
              if (typeof self2.ctx.resume === "function") {
                self2.ctx.resume();
              }
              source.onended = function() {
                source.disconnect(0);
                self2._audioUnlocked = true;
                document.removeEventListener("touchstart", unlock, true);
                document.removeEventListener("touchend", unlock, true);
                document.removeEventListener("click", unlock, true);
                document.removeEventListener("keydown", unlock, true);
                for (var i2 = 0; i2 < self2._howls.length; i2++) {
                  self2._howls[i2]._emit("unlock");
                }
              };
            };
            document.addEventListener("touchstart", unlock, true);
            document.addEventListener("touchend", unlock, true);
            document.addEventListener("click", unlock, true);
            document.addEventListener("keydown", unlock, true);
            return self2;
          },
          /**
           * Get an unlocked HTML5 Audio object from the pool. If none are left,
           * return a new Audio object and throw a warning.
           * @return {Audio} HTML5 Audio object.
           */
          _obtainHtml5Audio: function() {
            var self2 = this || Howler2;
            if (self2._html5AudioPool.length) {
              return self2._html5AudioPool.pop();
            }
            var testPlay = new Audio().play();
            if (testPlay && typeof Promise !== "undefined" && (testPlay instanceof Promise || typeof testPlay.then === "function")) {
              testPlay.catch(function() {
                console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.");
              });
            }
            return new Audio();
          },
          /**
           * Return an activated HTML5 Audio object to the pool.
           * @return {Howler}
           */
          _releaseHtml5Audio: function(audio) {
            var self2 = this || Howler2;
            if (audio._unlocked) {
              self2._html5AudioPool.push(audio);
            }
            return self2;
          },
          /**
           * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.
           * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.
           * @return {Howler}
           */
          _autoSuspend: function() {
            var self2 = this;
            if (!self2.autoSuspend || !self2.ctx || typeof self2.ctx.suspend === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (self2._howls[i]._webAudio) {
                for (var j = 0; j < self2._howls[i]._sounds.length; j++) {
                  if (!self2._howls[i]._sounds[j]._paused) {
                    return self2;
                  }
                }
              }
            }
            if (self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
            }
            self2._suspendTimer = setTimeout(function() {
              if (!self2.autoSuspend) {
                return;
              }
              self2._suspendTimer = null;
              self2.state = "suspending";
              var handleSuspension = function() {
                self2.state = "suspended";
                if (self2._resumeAfterSuspend) {
                  delete self2._resumeAfterSuspend;
                  self2._autoResume();
                }
              };
              self2.ctx.suspend().then(handleSuspension, handleSuspension);
            }, 3e4);
            return self2;
          },
          /**
           * Automatically resume the Web Audio AudioContext when a new sound is played.
           * @return {Howler}
           */
          _autoResume: function() {
            var self2 = this;
            if (!self2.ctx || typeof self2.ctx.resume === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            if (self2.state === "running" && self2.ctx.state !== "interrupted" && self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
              self2._suspendTimer = null;
            } else if (self2.state === "suspended" || self2.state === "running" && self2.ctx.state === "interrupted") {
              self2.ctx.resume().then(function() {
                self2.state = "running";
                for (var i = 0; i < self2._howls.length; i++) {
                  self2._howls[i]._emit("resume");
                }
              });
              if (self2._suspendTimer) {
                clearTimeout(self2._suspendTimer);
                self2._suspendTimer = null;
              }
            } else if (self2.state === "suspending") {
              self2._resumeAfterSuspend = true;
            }
            return self2;
          }
        };
        var Howler2 = new HowlerGlobal2();
        var Howl2 = function(o) {
          var self2 = this;
          if (!o.src || o.src.length === 0) {
            console.error("An array of source files must be passed with any new Howl.");
            return;
          }
          self2.init(o);
        };
        Howl2.prototype = {
          /**
           * Initialize a new Howl group object.
           * @param  {Object} o Passed in properties for this group.
           * @return {Howl}
           */
          init: function(o) {
            var self2 = this;
            if (!Howler2.ctx) {
              setupAudioContext();
            }
            self2._autoplay = o.autoplay || false;
            self2._format = typeof o.format !== "string" ? o.format : [o.format];
            self2._html5 = o.html5 || false;
            self2._muted = o.mute || false;
            self2._loop = o.loop || false;
            self2._pool = o.pool || 5;
            self2._preload = typeof o.preload === "boolean" || o.preload === "metadata" ? o.preload : true;
            self2._rate = o.rate || 1;
            self2._sprite = o.sprite || {};
            self2._src = typeof o.src !== "string" ? o.src : [o.src];
            self2._volume = o.volume !== void 0 ? o.volume : 1;
            self2._xhr = {
              method: o.xhr && o.xhr.method ? o.xhr.method : "GET",
              headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,
              withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false
            };
            self2._duration = 0;
            self2._state = "unloaded";
            self2._sounds = [];
            self2._endTimers = {};
            self2._queue = [];
            self2._playLock = false;
            self2._onend = o.onend ? [{ fn: o.onend }] : [];
            self2._onfade = o.onfade ? [{ fn: o.onfade }] : [];
            self2._onload = o.onload ? [{ fn: o.onload }] : [];
            self2._onloaderror = o.onloaderror ? [{ fn: o.onloaderror }] : [];
            self2._onplayerror = o.onplayerror ? [{ fn: o.onplayerror }] : [];
            self2._onpause = o.onpause ? [{ fn: o.onpause }] : [];
            self2._onplay = o.onplay ? [{ fn: o.onplay }] : [];
            self2._onstop = o.onstop ? [{ fn: o.onstop }] : [];
            self2._onmute = o.onmute ? [{ fn: o.onmute }] : [];
            self2._onvolume = o.onvolume ? [{ fn: o.onvolume }] : [];
            self2._onrate = o.onrate ? [{ fn: o.onrate }] : [];
            self2._onseek = o.onseek ? [{ fn: o.onseek }] : [];
            self2._onunlock = o.onunlock ? [{ fn: o.onunlock }] : [];
            self2._onresume = [];
            self2._webAudio = Howler2.usingWebAudio && !self2._html5;
            if (typeof Howler2.ctx !== "undefined" && Howler2.ctx && Howler2.autoUnlock) {
              Howler2._unlockAudio();
            }
            Howler2._howls.push(self2);
            if (self2._autoplay) {
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play();
                }
              });
            }
            if (self2._preload && self2._preload !== "none") {
              self2.load();
            }
            return self2;
          },
          /**
           * Load the audio file.
           * @return {Howler}
           */
          load: function() {
            var self2 = this;
            var url = null;
            if (Howler2.noAudio) {
              self2._emit("loaderror", null, "No audio support.");
              return;
            }
            if (typeof self2._src === "string") {
              self2._src = [self2._src];
            }
            for (var i = 0; i < self2._src.length; i++) {
              var ext, str5;
              if (self2._format && self2._format[i]) {
                ext = self2._format[i];
              } else {
                str5 = self2._src[i];
                if (typeof str5 !== "string") {
                  self2._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                  continue;
                }
                ext = /^data:audio\/([^;,]+);/i.exec(str5);
                if (!ext) {
                  ext = /\.([^.]+)$/.exec(str5.split("?", 1)[0]);
                }
                if (ext) {
                  ext = ext[1].toLowerCase();
                }
              }
              if (!ext) {
                console.warn('No file extension was found. Consider using the "format" property or specify an extension.');
              }
              if (ext && Howler2.codecs(ext)) {
                url = self2._src[i];
                break;
              }
            }
            if (!url) {
              self2._emit("loaderror", null, "No codec support for selected audio sources.");
              return;
            }
            self2._src = url;
            self2._state = "loading";
            if (window.location.protocol === "https:" && url.slice(0, 5) === "http:") {
              self2._html5 = true;
              self2._webAudio = false;
            }
            new Sound2(self2);
            if (self2._webAudio) {
              loadBuffer(self2);
            }
            return self2;
          },
          /**
           * Play a sound or resume previous playback.
           * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Number}          Sound ID.
           */
          play: function(sprite, internal) {
            var self2 = this;
            var id = null;
            if (typeof sprite === "number") {
              id = sprite;
              sprite = null;
            } else if (typeof sprite === "string" && self2._state === "loaded" && !self2._sprite[sprite]) {
              return null;
            } else if (typeof sprite === "undefined") {
              sprite = "__default";
              if (!self2._playLock) {
                var num = 0;
                for (var i = 0; i < self2._sounds.length; i++) {
                  if (self2._sounds[i]._paused && !self2._sounds[i]._ended) {
                    num++;
                    id = self2._sounds[i]._id;
                  }
                }
                if (num === 1) {
                  sprite = null;
                } else {
                  id = null;
                }
              }
            }
            var sound = id ? self2._soundById(id) : self2._inactiveSound();
            if (!sound) {
              return null;
            }
            if (id && !sprite) {
              sprite = sound._sprite || "__default";
            }
            if (self2._state !== "loaded") {
              sound._sprite = sprite;
              sound._ended = false;
              var soundId = sound._id;
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play(soundId);
                }
              });
              return soundId;
            }
            if (id && !sound._paused) {
              if (!internal) {
                self2._loadQueue("play");
              }
              return sound._id;
            }
            if (self2._webAudio) {
              Howler2._autoResume();
            }
            var seek = Math.max(0, sound._seek > 0 ? sound._seek : self2._sprite[sprite][0] / 1e3);
            var duration = Math.max(0, (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3 - seek);
            var timeout2 = duration * 1e3 / Math.abs(sound._rate);
            var start = self2._sprite[sprite][0] / 1e3;
            var stop = (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3;
            sound._sprite = sprite;
            sound._ended = false;
            var setParams = function() {
              sound._paused = false;
              sound._seek = seek;
              sound._start = start;
              sound._stop = stop;
              sound._loop = !!(sound._loop || self2._sprite[sprite][2]);
            };
            if (seek >= stop) {
              self2._ended(sound);
              return;
            }
            var node = sound._node;
            if (self2._webAudio) {
              var playWebAudio = function() {
                self2._playLock = false;
                setParams();
                self2._refreshBuffer(sound);
                var vol = sound._muted || self2._muted ? 0 : sound._volume;
                node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                sound._playStart = Howler2.ctx.currentTime;
                if (typeof node.bufferSource.start === "undefined") {
                  sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);
                } else {
                  sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);
                }
                if (timeout2 !== Infinity) {
                  self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                }
                if (!internal) {
                  setTimeout(function() {
                    self2._emit("play", sound._id);
                    self2._loadQueue();
                  }, 0);
                }
              };
              if (Howler2.state === "running" && Howler2.ctx.state !== "interrupted") {
                playWebAudio();
              } else {
                self2._playLock = true;
                self2.once("resume", playWebAudio);
                self2._clearTimer(sound._id);
              }
            } else {
              var playHtml5 = function() {
                node.currentTime = seek;
                node.muted = sound._muted || self2._muted || Howler2._muted || node.muted;
                node.volume = sound._volume * Howler2.volume();
                node.playbackRate = sound._rate;
                try {
                  var play = node.play();
                  if (play && typeof Promise !== "undefined" && (play instanceof Promise || typeof play.then === "function")) {
                    self2._playLock = true;
                    setParams();
                    play.then(function() {
                      self2._playLock = false;
                      node._unlocked = true;
                      if (!internal) {
                        self2._emit("play", sound._id);
                      } else {
                        self2._loadQueue();
                      }
                    }).catch(function() {
                      self2._playLock = false;
                      self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                      sound._ended = true;
                      sound._paused = true;
                    });
                  } else if (!internal) {
                    self2._playLock = false;
                    setParams();
                    self2._emit("play", sound._id);
                  }
                  node.playbackRate = sound._rate;
                  if (node.paused) {
                    self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                    return;
                  }
                  if (sprite !== "__default" || sound._loop) {
                    self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                  } else {
                    self2._endTimers[sound._id] = function() {
                      self2._ended(sound);
                      node.removeEventListener("ended", self2._endTimers[sound._id], false);
                    };
                    node.addEventListener("ended", self2._endTimers[sound._id], false);
                  }
                } catch (err) {
                  self2._emit("playerror", sound._id, err);
                }
              };
              if (node.src === "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA") {
                node.src = self2._src;
                node.load();
              }
              var loadedNoReadyState = window && window.ejecta || !node.readyState && Howler2._navigator.isCocoonJS;
              if (node.readyState >= 3 || loadedNoReadyState) {
                playHtml5();
              } else {
                self2._playLock = true;
                self2._state = "loading";
                var listener = function() {
                  self2._state = "loaded";
                  playHtml5();
                  node.removeEventListener(Howler2._canPlayEvent, listener, false);
                };
                node.addEventListener(Howler2._canPlayEvent, listener, false);
                self2._clearTimer(sound._id);
              }
            }
            return sound._id;
          },
          /**
           * Pause playback and save current position.
           * @param  {Number} id The sound ID (empty to pause all in group).
           * @return {Howl}
           */
          pause: function(id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "pause",
                action: function() {
                  self2.pause(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound && !sound._paused) {
                sound._seek = self2.seek(ids[i]);
                sound._rateSeek = 0;
                sound._paused = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (!sound._node.bufferSource) {
                      continue;
                    }
                    if (typeof sound._node.bufferSource.stop === "undefined") {
                      sound._node.bufferSource.noteOff(0);
                    } else {
                      sound._node.bufferSource.stop(0);
                    }
                    self2._cleanBuffer(sound._node);
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.pause();
                  }
                }
              }
              if (!arguments[1]) {
                self2._emit("pause", sound ? sound._id : null);
              }
            }
            return self2;
          },
          /**
           * Stop playback and reset to start.
           * @param  {Number} id The sound ID (empty to stop all in group).
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Howl}
           */
          stop: function(id, internal) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "stop",
                action: function() {
                  self2.stop(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._seek = sound._start || 0;
                sound._rateSeek = 0;
                sound._paused = true;
                sound._ended = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (sound._node.bufferSource) {
                      if (typeof sound._node.bufferSource.stop === "undefined") {
                        sound._node.bufferSource.noteOff(0);
                      } else {
                        sound._node.bufferSource.stop(0);
                      }
                      self2._cleanBuffer(sound._node);
                    }
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.currentTime = sound._start || 0;
                    sound._node.pause();
                    if (sound._node.duration === Infinity) {
                      self2._clearSound(sound._node);
                    }
                  }
                }
                if (!internal) {
                  self2._emit("stop", sound._id);
                }
              }
            }
            return self2;
          },
          /**
           * Mute/unmute a single sound or all sounds in this Howl group.
           * @param  {Boolean} muted Set to true to mute and false to unmute.
           * @param  {Number} id    The sound ID to update (omit to mute/unmute all).
           * @return {Howl}
           */
          mute: function(muted, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "mute",
                action: function() {
                  self2.mute(muted, id);
                }
              });
              return self2;
            }
            if (typeof id === "undefined") {
              if (typeof muted === "boolean") {
                self2._muted = muted;
              } else {
                return self2._muted;
              }
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._muted = muted;
                if (sound._interval) {
                  self2._stopFade(sound._id);
                }
                if (self2._webAudio && sound._node) {
                  sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler2.ctx.currentTime);
                } else if (sound._node) {
                  sound._node.muted = Howler2._muted ? true : muted;
                }
                self2._emit("mute", sound._id);
              }
            }
            return self2;
          },
          /**
           * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.
           *   volume() -> Returns the group's volume value.
           *   volume(id) -> Returns the sound id's current volume.
           *   volume(vol) -> Sets the volume of all sounds in this Howl group.
           *   volume(vol, id) -> Sets the volume of passed sound id.
           * @return {Howl/Number} Returns self or current volume.
           */
          volume: function() {
            var self2 = this;
            var args = arguments;
            var vol, id;
            if (args.length === 0) {
              return self2._volume;
            } else if (args.length === 1 || args.length === 2 && typeof args[1] === "undefined") {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                vol = parseFloat(args[0]);
              }
            } else if (args.length >= 2) {
              vol = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "volume",
                  action: function() {
                    self2.volume.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._volume = vol;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  sound._volume = vol;
                  if (!args[2]) {
                    self2._stopFade(id[i]);
                  }
                  if (self2._webAudio && sound._node && !sound._muted) {
                    sound._node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                  } else if (sound._node && !sound._muted) {
                    sound._node.volume = vol * Howler2.volume();
                  }
                  self2._emit("volume", sound._id);
                }
              }
            } else {
              sound = id ? self2._soundById(id) : self2._sounds[0];
              return sound ? sound._volume : 0;
            }
            return self2;
          },
          /**
           * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id (omit to fade all sounds).
           * @return {Howl}
           */
          fade: function(from, to, len4, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "fade",
                action: function() {
                  self2.fade(from, to, len4, id);
                }
              });
              return self2;
            }
            from = Math.min(Math.max(0, parseFloat(from)), 1);
            to = Math.min(Math.max(0, parseFloat(to)), 1);
            len4 = parseFloat(len4);
            self2.volume(from, id);
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                if (!id) {
                  self2._stopFade(ids[i]);
                }
                if (self2._webAudio && !sound._muted) {
                  var currentTime = Howler2.ctx.currentTime;
                  var end = currentTime + len4 / 1e3;
                  sound._volume = from;
                  sound._node.gain.setValueAtTime(from, currentTime);
                  sound._node.gain.linearRampToValueAtTime(to, end);
                }
                self2._startFadeInterval(sound, from, to, len4, ids[i], typeof id === "undefined");
              }
            }
            return self2;
          },
          /**
           * Starts the internal interval to fade a sound.
           * @param  {Object} sound Reference to sound to fade.
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id to fade.
           * @param  {Boolean} isGroup   If true, set the volume on the group.
           */
          _startFadeInterval: function(sound, from, to, len4, id, isGroup) {
            var self2 = this;
            var vol = from;
            var diff = to - from;
            var steps = Math.abs(diff / 0.01);
            var stepLen = Math.max(4, steps > 0 ? len4 / steps : len4);
            var lastTick = Date.now();
            sound._fadeTo = to;
            sound._interval = setInterval(function() {
              var tick = (Date.now() - lastTick) / len4;
              lastTick = Date.now();
              vol += diff * tick;
              vol = Math.round(vol * 100) / 100;
              if (diff < 0) {
                vol = Math.max(to, vol);
              } else {
                vol = Math.min(to, vol);
              }
              if (self2._webAudio) {
                sound._volume = vol;
              } else {
                self2.volume(vol, sound._id, true);
              }
              if (isGroup) {
                self2._volume = vol;
              }
              if (to < from && vol <= to || to > from && vol >= to) {
                clearInterval(sound._interval);
                sound._interval = null;
                sound._fadeTo = null;
                self2.volume(to, sound._id);
                self2._emit("fade", sound._id);
              }
            }, stepLen);
          },
          /**
           * Internal method that stops the currently playing fade when
           * a new fade starts, volume is changed or the sound is stopped.
           * @param  {Number} id The sound id.
           * @return {Howl}
           */
          _stopFade: function(id) {
            var self2 = this;
            var sound = self2._soundById(id);
            if (sound && sound._interval) {
              if (self2._webAudio) {
                sound._node.gain.cancelScheduledValues(Howler2.ctx.currentTime);
              }
              clearInterval(sound._interval);
              sound._interval = null;
              self2.volume(sound._fadeTo, id);
              sound._fadeTo = null;
              self2._emit("fade", id);
            }
            return self2;
          },
          /**
           * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.
           *   loop() -> Returns the group's loop value.
           *   loop(id) -> Returns the sound id's loop value.
           *   loop(loop) -> Sets the loop value for all sounds in this Howl group.
           *   loop(loop, id) -> Sets the loop value of passed sound id.
           * @return {Howl/Boolean} Returns self or current loop value.
           */
          loop: function() {
            var self2 = this;
            var args = arguments;
            var loop, id, sound;
            if (args.length === 0) {
              return self2._loop;
            } else if (args.length === 1) {
              if (typeof args[0] === "boolean") {
                loop = args[0];
                self2._loop = loop;
              } else {
                sound = self2._soundById(parseInt(args[0], 10));
                return sound ? sound._loop : false;
              }
            } else if (args.length === 2) {
              loop = args[0];
              id = parseInt(args[1], 10);
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              sound = self2._soundById(ids[i]);
              if (sound) {
                sound._loop = loop;
                if (self2._webAudio && sound._node && sound._node.bufferSource) {
                  sound._node.bufferSource.loop = loop;
                  if (loop) {
                    sound._node.bufferSource.loopStart = sound._start || 0;
                    sound._node.bufferSource.loopEnd = sound._stop;
                    if (self2.playing(ids[i])) {
                      self2.pause(ids[i], true);
                      self2.play(ids[i], true);
                    }
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   rate() -> Returns the first sound node's current playback rate.
           *   rate(id) -> Returns the sound id's current playback rate.
           *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.
           *   rate(rate, id) -> Sets the playback rate of passed sound id.
           * @return {Howl/Number} Returns self or the current playback rate.
           */
          rate: function() {
            var self2 = this;
            var args = arguments;
            var rate, id;
            if (args.length === 0) {
              id = self2._sounds[0]._id;
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                rate = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              rate = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof rate === "number") {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "rate",
                  action: function() {
                    self2.rate.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._rate = rate;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  if (self2.playing(id[i])) {
                    sound._rateSeek = self2.seek(id[i]);
                    sound._playStart = self2._webAudio ? Howler2.ctx.currentTime : sound._playStart;
                  }
                  sound._rate = rate;
                  if (self2._webAudio && sound._node && sound._node.bufferSource) {
                    sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler2.ctx.currentTime);
                  } else if (sound._node) {
                    sound._node.playbackRate = rate;
                  }
                  var seek = self2.seek(id[i]);
                  var duration = (self2._sprite[sound._sprite][0] + self2._sprite[sound._sprite][1]) / 1e3 - seek;
                  var timeout2 = duration * 1e3 / Math.abs(sound._rate);
                  if (self2._endTimers[id[i]] || !sound._paused) {
                    self2._clearTimer(id[i]);
                    self2._endTimers[id[i]] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                  }
                  self2._emit("rate", sound._id);
                }
              }
            } else {
              sound = self2._soundById(id);
              return sound ? sound._rate : self2._rate;
            }
            return self2;
          },
          /**
           * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   seek() -> Returns the first sound node's current seek position.
           *   seek(id) -> Returns the sound id's current seek position.
           *   seek(seek) -> Sets the seek position of the first sound node.
           *   seek(seek, id) -> Sets the seek position of passed sound id.
           * @return {Howl/Number} Returns self or the current seek position.
           */
          seek: function() {
            var self2 = this;
            var args = arguments;
            var seek, id;
            if (args.length === 0) {
              if (self2._sounds.length) {
                id = self2._sounds[0]._id;
              }
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else if (self2._sounds.length) {
                id = self2._sounds[0]._id;
                seek = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              seek = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            if (typeof id === "undefined") {
              return 0;
            }
            if (typeof seek === "number" && (self2._state !== "loaded" || self2._playLock)) {
              self2._queue.push({
                event: "seek",
                action: function() {
                  self2.seek.apply(self2, args);
                }
              });
              return self2;
            }
            var sound = self2._soundById(id);
            if (sound) {
              if (typeof seek === "number" && seek >= 0) {
                var playing = self2.playing(id);
                if (playing) {
                  self2.pause(id, true);
                }
                sound._seek = seek;
                sound._ended = false;
                self2._clearTimer(id);
                if (!self2._webAudio && sound._node && !isNaN(sound._node.duration)) {
                  sound._node.currentTime = seek;
                }
                var seekAndEmit = function() {
                  if (playing) {
                    self2.play(id, true);
                  }
                  self2._emit("seek", id);
                };
                if (playing && !self2._webAudio) {
                  var emitSeek = function() {
                    if (!self2._playLock) {
                      seekAndEmit();
                    } else {
                      setTimeout(emitSeek, 0);
                    }
                  };
                  setTimeout(emitSeek, 0);
                } else {
                  seekAndEmit();
                }
              } else {
                if (self2._webAudio) {
                  var realTime = self2.playing(id) ? Howler2.ctx.currentTime - sound._playStart : 0;
                  var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;
                  return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));
                } else {
                  return sound._node.currentTime;
                }
              }
            }
            return self2;
          },
          /**
           * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.
           * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.
           * @return {Boolean} True if playing and false if not.
           */
          playing: function(id) {
            var self2 = this;
            if (typeof id === "number") {
              var sound = self2._soundById(id);
              return sound ? !sound._paused : false;
            }
            for (var i = 0; i < self2._sounds.length; i++) {
              if (!self2._sounds[i]._paused) {
                return true;
              }
            }
            return false;
          },
          /**
           * Get the duration of this sound. Passing a sound id will return the sprite duration.
           * @param  {Number} id The sound id to check. If none is passed, return full source duration.
           * @return {Number} Audio duration in seconds.
           */
          duration: function(id) {
            var self2 = this;
            var duration = self2._duration;
            var sound = self2._soundById(id);
            if (sound) {
              duration = self2._sprite[sound._sprite][1] / 1e3;
            }
            return duration;
          },
          /**
           * Returns the current loaded state of this Howl.
           * @return {String} 'unloaded', 'loading', 'loaded'
           */
          state: function() {
            return this._state;
          },
          /**
           * Unload and destroy the current Howl object.
           * This will immediately stop all sound instances attached to this group.
           */
          unload: function() {
            var self2 = this;
            var sounds = self2._sounds;
            for (var i = 0; i < sounds.length; i++) {
              if (!sounds[i]._paused) {
                self2.stop(sounds[i]._id);
              }
              if (!self2._webAudio) {
                self2._clearSound(sounds[i]._node);
                sounds[i]._node.removeEventListener("error", sounds[i]._errorFn, false);
                sounds[i]._node.removeEventListener(Howler2._canPlayEvent, sounds[i]._loadFn, false);
                sounds[i]._node.removeEventListener("ended", sounds[i]._endFn, false);
                Howler2._releaseHtml5Audio(sounds[i]._node);
              }
              delete sounds[i]._node;
              self2._clearTimer(sounds[i]._id);
            }
            var index = Howler2._howls.indexOf(self2);
            if (index >= 0) {
              Howler2._howls.splice(index, 1);
            }
            var remCache = true;
            for (i = 0; i < Howler2._howls.length; i++) {
              if (Howler2._howls[i]._src === self2._src || self2._src.indexOf(Howler2._howls[i]._src) >= 0) {
                remCache = false;
                break;
              }
            }
            if (cache && remCache) {
              delete cache[self2._src];
            }
            Howler2.noAudio = false;
            self2._state = "unloaded";
            self2._sounds = [];
            self2 = null;
            return null;
          },
          /**
           * Listen to a custom event.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @param  {Number}   once  (INTERNAL) Marks event to fire only once.
           * @return {Howl}
           */
          on: function(event, fn, id, once) {
            var self2 = this;
            var events = self2["_on" + event];
            if (typeof fn === "function") {
              events.push(once ? { id, fn, once } : { id, fn });
            }
            return self2;
          },
          /**
           * Remove a custom event. Call without parameters to remove all events.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to remove. Leave empty to remove all.
           * @param  {Number}   id    (optional) Only remove events for this sound.
           * @return {Howl}
           */
          off: function(event, fn, id) {
            var self2 = this;
            var events = self2["_on" + event];
            var i = 0;
            if (typeof fn === "number") {
              id = fn;
              fn = null;
            }
            if (fn || id) {
              for (i = 0; i < events.length; i++) {
                var isId = id === events[i].id;
                if (fn === events[i].fn && isId || !fn && isId) {
                  events.splice(i, 1);
                  break;
                }
              }
            } else if (event) {
              self2["_on" + event] = [];
            } else {
              var keys = Object.keys(self2);
              for (i = 0; i < keys.length; i++) {
                if (keys[i].indexOf("_on") === 0 && Array.isArray(self2[keys[i]])) {
                  self2[keys[i]] = [];
                }
              }
            }
            return self2;
          },
          /**
           * Listen to a custom event and remove it once fired.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @return {Howl}
           */
          once: function(event, fn, id) {
            var self2 = this;
            self2.on(event, fn, id, 1);
            return self2;
          },
          /**
           * Emit all events of a specific type and pass the sound id.
           * @param  {String} event Event name.
           * @param  {Number} id    Sound ID.
           * @param  {Number} msg   Message to go with event.
           * @return {Howl}
           */
          _emit: function(event, id, msg) {
            var self2 = this;
            var events = self2["_on" + event];
            for (var i = events.length - 1; i >= 0; i--) {
              if (!events[i].id || events[i].id === id || event === "load") {
                setTimeout(function(fn) {
                  fn.call(this, id, msg);
                }.bind(self2, events[i].fn), 0);
                if (events[i].once) {
                  self2.off(event, events[i].fn, events[i].id);
                }
              }
            }
            self2._loadQueue(event);
            return self2;
          },
          /**
           * Queue of actions initiated before the sound has loaded.
           * These will be called in sequence, with the next only firing
           * after the previous has finished executing (even if async like play).
           * @return {Howl}
           */
          _loadQueue: function(event) {
            var self2 = this;
            if (self2._queue.length > 0) {
              var task = self2._queue[0];
              if (task.event === event) {
                self2._queue.shift();
                self2._loadQueue();
              }
              if (!event) {
                task.action();
              }
            }
            return self2;
          },
          /**
           * Fired when playback ends at the end of the duration.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _ended: function(sound) {
            var self2 = this;
            var sprite = sound._sprite;
            if (!self2._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {
              setTimeout(self2._ended.bind(self2, sound), 100);
              return self2;
            }
            var loop = !!(sound._loop || self2._sprite[sprite][2]);
            self2._emit("end", sound._id);
            if (!self2._webAudio && loop) {
              self2.stop(sound._id, true).play(sound._id);
            }
            if (self2._webAudio && loop) {
              self2._emit("play", sound._id);
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              sound._playStart = Howler2.ctx.currentTime;
              var timeout2 = (sound._stop - sound._start) * 1e3 / Math.abs(sound._rate);
              self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
            }
            if (self2._webAudio && !loop) {
              sound._paused = true;
              sound._ended = true;
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              self2._clearTimer(sound._id);
              self2._cleanBuffer(sound._node);
              Howler2._autoSuspend();
            }
            if (!self2._webAudio && !loop) {
              self2.stop(sound._id, true);
            }
            return self2;
          },
          /**
           * Clear the end timer for a sound playback.
           * @param  {Number} id The sound ID.
           * @return {Howl}
           */
          _clearTimer: function(id) {
            var self2 = this;
            if (self2._endTimers[id]) {
              if (typeof self2._endTimers[id] !== "function") {
                clearTimeout(self2._endTimers[id]);
              } else {
                var sound = self2._soundById(id);
                if (sound && sound._node) {
                  sound._node.removeEventListener("ended", self2._endTimers[id], false);
                }
              }
              delete self2._endTimers[id];
            }
            return self2;
          },
          /**
           * Return the sound identified by this ID, or return null.
           * @param  {Number} id Sound ID
           * @return {Object}    Sound object or null.
           */
          _soundById: function(id) {
            var self2 = this;
            for (var i = 0; i < self2._sounds.length; i++) {
              if (id === self2._sounds[i]._id) {
                return self2._sounds[i];
              }
            }
            return null;
          },
          /**
           * Return an inactive sound from the pool or create a new one.
           * @return {Sound} Sound playback object.
           */
          _inactiveSound: function() {
            var self2 = this;
            self2._drain();
            for (var i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                return self2._sounds[i].reset();
              }
            }
            return new Sound2(self2);
          },
          /**
           * Drain excess inactive sounds from the pool.
           */
          _drain: function() {
            var self2 = this;
            var limit = self2._pool;
            var cnt = 0;
            var i = 0;
            if (self2._sounds.length < limit) {
              return;
            }
            for (i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                cnt++;
              }
            }
            for (i = self2._sounds.length - 1; i >= 0; i--) {
              if (cnt <= limit) {
                return;
              }
              if (self2._sounds[i]._ended) {
                if (self2._webAudio && self2._sounds[i]._node) {
                  self2._sounds[i]._node.disconnect(0);
                }
                self2._sounds.splice(i, 1);
                cnt--;
              }
            }
          },
          /**
           * Get all ID's from the sounds pool.
           * @param  {Number} id Only return one ID if one is passed.
           * @return {Array}    Array of IDs.
           */
          _getSoundIds: function(id) {
            var self2 = this;
            if (typeof id === "undefined") {
              var ids = [];
              for (var i = 0; i < self2._sounds.length; i++) {
                ids.push(self2._sounds[i]._id);
              }
              return ids;
            } else {
              return [id];
            }
          },
          /**
           * Load the sound back into the buffer source.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _refreshBuffer: function(sound) {
            var self2 = this;
            sound._node.bufferSource = Howler2.ctx.createBufferSource();
            sound._node.bufferSource.buffer = cache[self2._src];
            if (sound._panner) {
              sound._node.bufferSource.connect(sound._panner);
            } else {
              sound._node.bufferSource.connect(sound._node);
            }
            sound._node.bufferSource.loop = sound._loop;
            if (sound._loop) {
              sound._node.bufferSource.loopStart = sound._start || 0;
              sound._node.bufferSource.loopEnd = sound._stop || 0;
            }
            sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler2.ctx.currentTime);
            return self2;
          },
          /**
           * Prevent memory leaks by cleaning up the buffer source after playback.
           * @param  {Object} node Sound's audio node containing the buffer source.
           * @return {Howl}
           */
          _cleanBuffer: function(node) {
            var self2 = this;
            var isIOS = Howler2._navigator && Howler2._navigator.vendor.indexOf("Apple") >= 0;
            if (!node.bufferSource) {
              return self2;
            }
            if (Howler2._scratchBuffer && node.bufferSource) {
              node.bufferSource.onended = null;
              node.bufferSource.disconnect(0);
              if (isIOS) {
                try {
                  node.bufferSource.buffer = Howler2._scratchBuffer;
                } catch (e) {
                }
              }
            }
            node.bufferSource = null;
            return self2;
          },
          /**
           * Set the source to a 0-second silence to stop any downloading (except in IE).
           * @param  {Object} node Audio node to clear.
           */
          _clearSound: function(node) {
            var checkIE = /MSIE |Trident\//.test(Howler2._navigator && Howler2._navigator.userAgent);
            if (!checkIE) {
              node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA";
            }
          }
        };
        var Sound2 = function(howl) {
          this._parent = howl;
          this.init();
        };
        Sound2.prototype = {
          /**
           * Initialize a new Sound object.
           * @return {Sound}
           */
          init: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            parent._sounds.push(self2);
            self2.create();
            return self2;
          },
          /**
           * Create and setup a new sound object, whether HTML5 Audio or Web Audio.
           * @return {Sound}
           */
          create: function() {
            var self2 = this;
            var parent = self2._parent;
            var volume = Howler2._muted || self2._muted || self2._parent._muted ? 0 : self2._volume;
            if (parent._webAudio) {
              self2._node = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
              self2._node.gain.setValueAtTime(volume, Howler2.ctx.currentTime);
              self2._node.paused = true;
              self2._node.connect(Howler2.masterGain);
            } else if (!Howler2.noAudio) {
              self2._node = Howler2._obtainHtml5Audio();
              self2._errorFn = self2._errorListener.bind(self2);
              self2._node.addEventListener("error", self2._errorFn, false);
              self2._loadFn = self2._loadListener.bind(self2);
              self2._node.addEventListener(Howler2._canPlayEvent, self2._loadFn, false);
              self2._endFn = self2._endListener.bind(self2);
              self2._node.addEventListener("ended", self2._endFn, false);
              self2._node.src = parent._src;
              self2._node.preload = parent._preload === true ? "auto" : parent._preload;
              self2._node.volume = volume * Howler2.volume();
              self2._node.load();
            }
            return self2;
          },
          /**
           * Reset the parameters of this sound to the original state (for recycle).
           * @return {Sound}
           */
          reset: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._rateSeek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            return self2;
          },
          /**
           * HTML5 Audio error listener callback.
           */
          _errorListener: function() {
            var self2 = this;
            self2._parent._emit("loaderror", self2._id, self2._node.error ? self2._node.error.code : 0);
            self2._node.removeEventListener("error", self2._errorFn, false);
          },
          /**
           * HTML5 Audio canplaythrough listener callback.
           */
          _loadListener: function() {
            var self2 = this;
            var parent = self2._parent;
            parent._duration = Math.ceil(self2._node.duration * 10) / 10;
            if (Object.keys(parent._sprite).length === 0) {
              parent._sprite = { __default: [0, parent._duration * 1e3] };
            }
            if (parent._state !== "loaded") {
              parent._state = "loaded";
              parent._emit("load");
              parent._loadQueue();
            }
            self2._node.removeEventListener(Howler2._canPlayEvent, self2._loadFn, false);
          },
          /**
           * HTML5 Audio ended listener callback.
           */
          _endListener: function() {
            var self2 = this;
            var parent = self2._parent;
            if (parent._duration === Infinity) {
              parent._duration = Math.ceil(self2._node.duration * 10) / 10;
              if (parent._sprite.__default[1] === Infinity) {
                parent._sprite.__default[1] = parent._duration * 1e3;
              }
              parent._ended(self2);
            }
            self2._node.removeEventListener("ended", self2._endFn, false);
          }
        };
        var cache = {};
        var loadBuffer = function(self2) {
          var url = self2._src;
          if (cache[url]) {
            self2._duration = cache[url].duration;
            loadSound(self2);
            return;
          }
          if (/^data:[^;]+;base64,/.test(url)) {
            var data = atob(url.split(",")[1]);
            var dataView = new Uint8Array(data.length);
            for (var i = 0; i < data.length; ++i) {
              dataView[i] = data.charCodeAt(i);
            }
            decodeAudioData(dataView.buffer, self2);
          } else {
            var xhr = new XMLHttpRequest();
            xhr.open(self2._xhr.method, url, true);
            xhr.withCredentials = self2._xhr.withCredentials;
            xhr.responseType = "arraybuffer";
            if (self2._xhr.headers) {
              Object.keys(self2._xhr.headers).forEach(function(key) {
                xhr.setRequestHeader(key, self2._xhr.headers[key]);
              });
            }
            xhr.onload = function() {
              var code = (xhr.status + "")[0];
              if (code !== "0" && code !== "2" && code !== "3") {
                self2._emit("loaderror", null, "Failed loading audio file with status: " + xhr.status + ".");
                return;
              }
              decodeAudioData(xhr.response, self2);
            };
            xhr.onerror = function() {
              if (self2._webAudio) {
                self2._html5 = true;
                self2._webAudio = false;
                self2._sounds = [];
                delete cache[url];
                self2.load();
              }
            };
            safeXhrSend(xhr);
          }
        };
        var safeXhrSend = function(xhr) {
          try {
            xhr.send();
          } catch (e) {
            xhr.onerror();
          }
        };
        var decodeAudioData = function(arraybuffer, self2) {
          var error = function() {
            self2._emit("loaderror", null, "Decoding audio data failed.");
          };
          var success = function(buffer) {
            if (buffer && self2._sounds.length > 0) {
              cache[self2._src] = buffer;
              loadSound(self2, buffer);
            } else {
              error();
            }
          };
          if (typeof Promise !== "undefined" && Howler2.ctx.decodeAudioData.length === 1) {
            Howler2.ctx.decodeAudioData(arraybuffer).then(success).catch(error);
          } else {
            Howler2.ctx.decodeAudioData(arraybuffer, success, error);
          }
        };
        var loadSound = function(self2, buffer) {
          if (buffer && !self2._duration) {
            self2._duration = buffer.duration;
          }
          if (Object.keys(self2._sprite).length === 0) {
            self2._sprite = { __default: [0, self2._duration * 1e3] };
          }
          if (self2._state !== "loaded") {
            self2._state = "loaded";
            self2._emit("load");
            self2._loadQueue();
          }
        };
        var setupAudioContext = function() {
          if (!Howler2.usingWebAudio) {
            return;
          }
          try {
            if (typeof AudioContext !== "undefined") {
              Howler2.ctx = new AudioContext();
            } else if (typeof webkitAudioContext !== "undefined") {
              Howler2.ctx = new webkitAudioContext();
            } else {
              Howler2.usingWebAudio = false;
            }
          } catch (e) {
            Howler2.usingWebAudio = false;
          }
          if (!Howler2.ctx) {
            Howler2.usingWebAudio = false;
          }
          var iOS = /iP(hone|od|ad)/.test(Howler2._navigator && Howler2._navigator.platform);
          var appVersion = Howler2._navigator && Howler2._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
          var version = appVersion ? parseInt(appVersion[1], 10) : null;
          if (iOS && version && version < 9) {
            var safari = /safari/.test(Howler2._navigator && Howler2._navigator.userAgent.toLowerCase());
            if (Howler2._navigator && !safari) {
              Howler2.usingWebAudio = false;
            }
          }
          if (Howler2.usingWebAudio) {
            Howler2.masterGain = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
            Howler2.masterGain.gain.setValueAtTime(Howler2._muted ? 0 : Howler2._volume, Howler2.ctx.currentTime);
            Howler2.masterGain.connect(Howler2.ctx.destination);
          }
          Howler2._setup();
        };
        if (typeof define === "function" && define.amd) {
          define([], function() {
            return {
              Howler: Howler2,
              Howl: Howl2
            };
          });
        }
        if (typeof exports !== "undefined") {
          exports.Howler = Howler2;
          exports.Howl = Howl2;
        }
        if (typeof global !== "undefined") {
          global.HowlerGlobal = HowlerGlobal2;
          global.Howler = Howler2;
          global.Howl = Howl2;
          global.Sound = Sound2;
        } else if (typeof window !== "undefined") {
          window.HowlerGlobal = HowlerGlobal2;
          window.Howler = Howler2;
          window.Howl = Howl2;
          window.Sound = Sound2;
        }
      })();
      (function() {
        "use strict";
        HowlerGlobal.prototype._pos = [0, 0, 0];
        HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];
        HowlerGlobal.prototype.stereo = function(pan) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          for (var i = self2._howls.length - 1; i >= 0; i--) {
            self2._howls[i].stereo(pan);
          }
          return self2;
        };
        HowlerGlobal.prototype.pos = function(x, y, z) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          y = typeof y !== "number" ? self2._pos[1] : y;
          z = typeof z !== "number" ? self2._pos[2] : z;
          if (typeof x === "number") {
            self2._pos = [x, y, z];
            if (typeof self2.ctx.listener.positionX !== "undefined") {
              self2.ctx.listener.positionX.setTargetAtTime(self2._pos[0], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionY.setTargetAtTime(self2._pos[1], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionZ.setTargetAtTime(self2._pos[2], Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setPosition(self2._pos[0], self2._pos[1], self2._pos[2]);
            }
          } else {
            return self2._pos;
          }
          return self2;
        };
        HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          var or = self2._orientation;
          y = typeof y !== "number" ? or[1] : y;
          z = typeof z !== "number" ? or[2] : z;
          xUp = typeof xUp !== "number" ? or[3] : xUp;
          yUp = typeof yUp !== "number" ? or[4] : yUp;
          zUp = typeof zUp !== "number" ? or[5] : zUp;
          if (typeof x === "number") {
            self2._orientation = [x, y, z, xUp, yUp, zUp];
            if (typeof self2.ctx.listener.forwardX !== "undefined") {
              self2.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);
            }
          } else {
            return or;
          }
          return self2;
        };
        Howl.prototype.init = function(_super) {
          return function(o) {
            var self2 = this;
            self2._orientation = o.orientation || [1, 0, 0];
            self2._stereo = o.stereo || null;
            self2._pos = o.pos || null;
            self2._pannerAttr = {
              coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : 360,
              coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : 360,
              coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : 0,
              distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : "inverse",
              maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : 1e4,
              panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : "HRTF",
              refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : 1,
              rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : 1
            };
            self2._onstereo = o.onstereo ? [{ fn: o.onstereo }] : [];
            self2._onpos = o.onpos ? [{ fn: o.onpos }] : [];
            self2._onorientation = o.onorientation ? [{ fn: o.onorientation }] : [];
            return _super.call(this, o);
          };
        }(Howl.prototype.init);
        Howl.prototype.stereo = function(pan, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "stereo",
              action: function() {
                self2.stereo(pan, id);
              }
            });
            return self2;
          }
          var pannerType = typeof Howler.ctx.createStereoPanner === "undefined" ? "spatial" : "stereo";
          if (typeof id === "undefined") {
            if (typeof pan === "number") {
              self2._stereo = pan;
              self2._pos = [pan, 0, 0];
            } else {
              return self2._stereo;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof pan === "number") {
                sound._stereo = pan;
                sound._pos = [pan, 0, 0];
                if (sound._node) {
                  sound._pannerAttr.panningModel = "equalpower";
                  if (!sound._panner || !sound._panner.pan) {
                    setupPanner(sound, pannerType);
                  }
                  if (pannerType === "spatial") {
                    if (typeof sound._panner.positionX !== "undefined") {
                      sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);
                      sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);
                      sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);
                    } else {
                      sound._panner.setPosition(pan, 0, 0);
                    }
                  } else {
                    sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);
                  }
                }
                self2._emit("stereo", sound._id);
              } else {
                return sound._stereo;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pos = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "pos",
              action: function() {
                self2.pos(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? 0 : y;
          z = typeof z !== "number" ? -0.5 : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._pos = [x, y, z];
            } else {
              return self2._pos;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._pos = [x, y, z];
                if (sound._node) {
                  if (!sound._panner || sound._panner.pan) {
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.positionX !== "undefined") {
                    sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setPosition(x, y, z);
                  }
                }
                self2._emit("pos", sound._id);
              } else {
                return sound._pos;
              }
            }
          }
          return self2;
        };
        Howl.prototype.orientation = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "orientation",
              action: function() {
                self2.orientation(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? self2._orientation[1] : y;
          z = typeof z !== "number" ? self2._orientation[2] : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._orientation = [x, y, z];
            } else {
              return self2._orientation;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._orientation = [x, y, z];
                if (sound._node) {
                  if (!sound._panner) {
                    if (!sound._pos) {
                      sound._pos = self2._pos || [0, 0, -0.5];
                    }
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.orientationX !== "undefined") {
                    sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setOrientation(x, y, z);
                  }
                }
                self2._emit("orientation", sound._id);
              } else {
                return sound._orientation;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pannerAttr = function() {
          var self2 = this;
          var args = arguments;
          var o, id, sound;
          if (!self2._webAudio) {
            return self2;
          }
          if (args.length === 0) {
            return self2._pannerAttr;
          } else if (args.length === 1) {
            if (typeof args[0] === "object") {
              o = args[0];
              if (typeof id === "undefined") {
                if (!o.pannerAttr) {
                  o.pannerAttr = {
                    coneInnerAngle: o.coneInnerAngle,
                    coneOuterAngle: o.coneOuterAngle,
                    coneOuterGain: o.coneOuterGain,
                    distanceModel: o.distanceModel,
                    maxDistance: o.maxDistance,
                    refDistance: o.refDistance,
                    rolloffFactor: o.rolloffFactor,
                    panningModel: o.panningModel
                  };
                }
                self2._pannerAttr = {
                  coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== "undefined" ? o.pannerAttr.coneInnerAngle : self2._coneInnerAngle,
                  coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== "undefined" ? o.pannerAttr.coneOuterAngle : self2._coneOuterAngle,
                  coneOuterGain: typeof o.pannerAttr.coneOuterGain !== "undefined" ? o.pannerAttr.coneOuterGain : self2._coneOuterGain,
                  distanceModel: typeof o.pannerAttr.distanceModel !== "undefined" ? o.pannerAttr.distanceModel : self2._distanceModel,
                  maxDistance: typeof o.pannerAttr.maxDistance !== "undefined" ? o.pannerAttr.maxDistance : self2._maxDistance,
                  refDistance: typeof o.pannerAttr.refDistance !== "undefined" ? o.pannerAttr.refDistance : self2._refDistance,
                  rolloffFactor: typeof o.pannerAttr.rolloffFactor !== "undefined" ? o.pannerAttr.rolloffFactor : self2._rolloffFactor,
                  panningModel: typeof o.pannerAttr.panningModel !== "undefined" ? o.pannerAttr.panningModel : self2._panningModel
                };
              }
            } else {
              sound = self2._soundById(parseInt(args[0], 10));
              return sound ? sound._pannerAttr : self2._pannerAttr;
            }
          } else if (args.length === 2) {
            o = args[0];
            id = parseInt(args[1], 10);
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            sound = self2._soundById(ids[i]);
            if (sound) {
              var pa = sound._pannerAttr;
              pa = {
                coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : pa.coneInnerAngle,
                coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : pa.coneOuterAngle,
                coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : pa.coneOuterGain,
                distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : pa.distanceModel,
                maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : pa.maxDistance,
                refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : pa.refDistance,
                rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : pa.rolloffFactor,
                panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : pa.panningModel
              };
              var panner = sound._panner;
              if (!panner) {
                if (!sound._pos) {
                  sound._pos = self2._pos || [0, 0, -0.5];
                }
                setupPanner(sound, "spatial");
                panner = sound._panner;
              }
              panner.coneInnerAngle = pa.coneInnerAngle;
              panner.coneOuterAngle = pa.coneOuterAngle;
              panner.coneOuterGain = pa.coneOuterGain;
              panner.distanceModel = pa.distanceModel;
              panner.maxDistance = pa.maxDistance;
              panner.refDistance = pa.refDistance;
              panner.rolloffFactor = pa.rolloffFactor;
              panner.panningModel = pa.panningModel;
            }
          }
          return self2;
        };
        Sound.prototype.init = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            _super.call(this);
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            }
          };
        }(Sound.prototype.init);
        Sound.prototype.reset = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            } else if (self2._panner) {
              self2._panner.disconnect(0);
              self2._panner = void 0;
              parent._refreshBuffer(self2);
            }
            return _super.call(this);
          };
        }(Sound.prototype.reset);
        var setupPanner = function(sound, type) {
          type = type || "spatial";
          if (type === "spatial") {
            sound._panner = Howler.ctx.createPanner();
            sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;
            sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;
            sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;
            sound._panner.distanceModel = sound._pannerAttr.distanceModel;
            sound._panner.maxDistance = sound._pannerAttr.maxDistance;
            sound._panner.refDistance = sound._pannerAttr.refDistance;
            sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;
            sound._panner.panningModel = sound._pannerAttr.panningModel;
            if (typeof sound._panner.positionX !== "undefined") {
              sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);
              sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);
              sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);
            }
            if (typeof sound._panner.orientationX !== "undefined") {
              sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);
              sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);
              sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);
            }
          } else {
            sound._panner = Howler.ctx.createStereoPanner();
            sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);
          }
          sound._panner.connect(sound._node);
          if (!sound._paused) {
            sound._parent.pause(sound._id, true).play(sound._id, true);
          }
        };
      })();
    }
  });

  // node_modules/earcut/src/earcut.js
  var require_earcut = __commonJS({
    "node_modules/earcut/src/earcut.js"(exports, module) {
      "use strict";
      module.exports = earcut2;
      module.exports.default = earcut2;
      function earcut2(data, holeIndices, dim) {
        dim = dim || 2;
        var hasHoles = holeIndices && holeIndices.length, outerLen = hasHoles ? holeIndices[0] * dim : data.length, outerNode = linkedList(data, 0, outerLen, dim, true), triangles = [];
        if (!outerNode || outerNode.next === outerNode.prev)
          return triangles;
        var minX, minY, maxX, maxY, x, y, invSize;
        if (hasHoles)
          outerNode = eliminateHoles(data, holeIndices, outerNode, dim);
        if (data.length > 80 * dim) {
          minX = maxX = data[0];
          minY = maxY = data[1];
          for (var i = dim; i < outerLen; i += dim) {
            x = data[i];
            y = data[i + 1];
            if (x < minX)
              minX = x;
            if (y < minY)
              minY = y;
            if (x > maxX)
              maxX = x;
            if (y > maxY)
              maxY = y;
          }
          invSize = Math.max(maxX - minX, maxY - minY);
          invSize = invSize !== 0 ? 32767 / invSize : 0;
        }
        earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);
        return triangles;
      }
      function linkedList(data, start, end, dim, clockwise) {
        var i, last;
        if (clockwise === signedArea(data, start, end, dim) > 0) {
          for (i = start; i < end; i += dim)
            last = insertNode(i, data[i], data[i + 1], last);
        } else {
          for (i = end - dim; i >= start; i -= dim)
            last = insertNode(i, data[i], data[i + 1], last);
        }
        if (last && equals6(last, last.next)) {
          removeNode(last);
          last = last.next;
        }
        return last;
      }
      function filterPoints(start, end) {
        if (!start)
          return start;
        if (!end)
          end = start;
        var p = start, again;
        do {
          again = false;
          if (!p.steiner && (equals6(p, p.next) || area(p.prev, p, p.next) === 0)) {
            removeNode(p);
            p = end = p.prev;
            if (p === p.next)
              break;
            again = true;
          } else {
            p = p.next;
          }
        } while (again || p !== end);
        return end;
      }
      function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {
        if (!ear)
          return;
        if (!pass && invSize)
          indexCurve(ear, minX, minY, invSize);
        var stop = ear, prev, next;
        while (ear.prev !== ear.next) {
          prev = ear.prev;
          next = ear.next;
          if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {
            triangles.push(prev.i / dim | 0);
            triangles.push(ear.i / dim | 0);
            triangles.push(next.i / dim | 0);
            removeNode(ear);
            ear = next.next;
            stop = next.next;
            continue;
          }
          ear = next;
          if (ear === stop) {
            if (!pass) {
              earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);
            } else if (pass === 1) {
              ear = cureLocalIntersections(filterPoints(ear), triangles, dim);
              earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);
            } else if (pass === 2) {
              splitEarcut(ear, triangles, dim, minX, minY, invSize);
            }
            break;
          }
        }
      }
      function isEar(ear) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var p = c.next;
        while (p !== a) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.next;
        }
        return true;
      }
      function isEarHashed(ear, minX, minY, invSize) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var minZ = zOrder(x0, y0, minX, minY, invSize), maxZ = zOrder(x1, y1, minX, minY, invSize);
        var p = ear.prevZ, n = ear.nextZ;
        while (p && p.z >= minZ && n && n.z <= maxZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        while (p && p.z >= minZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
        }
        while (n && n.z <= maxZ) {
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        return true;
      }
      function cureLocalIntersections(start, triangles, dim) {
        var p = start;
        do {
          var a = p.prev, b = p.next.next;
          if (!equals6(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {
            triangles.push(a.i / dim | 0);
            triangles.push(p.i / dim | 0);
            triangles.push(b.i / dim | 0);
            removeNode(p);
            removeNode(p.next);
            p = start = b;
          }
          p = p.next;
        } while (p !== start);
        return filterPoints(p);
      }
      function splitEarcut(start, triangles, dim, minX, minY, invSize) {
        var a = start;
        do {
          var b = a.next.next;
          while (b !== a.prev) {
            if (a.i !== b.i && isValidDiagonal(a, b)) {
              var c = splitPolygon(a, b);
              a = filterPoints(a, a.next);
              c = filterPoints(c, c.next);
              earcutLinked(a, triangles, dim, minX, minY, invSize, 0);
              earcutLinked(c, triangles, dim, minX, minY, invSize, 0);
              return;
            }
            b = b.next;
          }
          a = a.next;
        } while (a !== start);
      }
      function eliminateHoles(data, holeIndices, outerNode, dim) {
        var queue = [], i, len4, start, end, list;
        for (i = 0, len4 = holeIndices.length; i < len4; i++) {
          start = holeIndices[i] * dim;
          end = i < len4 - 1 ? holeIndices[i + 1] * dim : data.length;
          list = linkedList(data, start, end, dim, false);
          if (list === list.next)
            list.steiner = true;
          queue.push(getLeftmost(list));
        }
        queue.sort(compareX);
        for (i = 0; i < queue.length; i++) {
          outerNode = eliminateHole(queue[i], outerNode);
        }
        return outerNode;
      }
      function compareX(a, b) {
        return a.x - b.x;
      }
      function eliminateHole(hole, outerNode) {
        var bridge = findHoleBridge(hole, outerNode);
        if (!bridge) {
          return outerNode;
        }
        var bridgeReverse = splitPolygon(bridge, hole);
        filterPoints(bridgeReverse, bridgeReverse.next);
        return filterPoints(bridge, bridge.next);
      }
      function findHoleBridge(hole, outerNode) {
        var p = outerNode, hx = hole.x, hy = hole.y, qx = -Infinity, m;
        do {
          if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {
            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);
            if (x <= hx && x > qx) {
              qx = x;
              m = p.x < p.next.x ? p : p.next;
              if (x === hx)
                return m;
            }
          }
          p = p.next;
        } while (p !== outerNode);
        if (!m)
          return null;
        var stop = m, mx = m.x, my = m.y, tanMin = Infinity, tan;
        p = m;
        do {
          if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {
            tan = Math.abs(hy - p.y) / (hx - p.x);
            if (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {
              m = p;
              tanMin = tan;
            }
          }
          p = p.next;
        } while (p !== stop);
        return m;
      }
      function sectorContainsSector(m, p) {
        return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;
      }
      function indexCurve(start, minX, minY, invSize) {
        var p = start;
        do {
          if (p.z === 0)
            p.z = zOrder(p.x, p.y, minX, minY, invSize);
          p.prevZ = p.prev;
          p.nextZ = p.next;
          p = p.next;
        } while (p !== start);
        p.prevZ.nextZ = null;
        p.prevZ = null;
        sortLinked(p);
      }
      function sortLinked(list) {
        var i, p, q, e, tail, numMerges, pSize, qSize, inSize = 1;
        do {
          p = list;
          list = null;
          tail = null;
          numMerges = 0;
          while (p) {
            numMerges++;
            q = p;
            pSize = 0;
            for (i = 0; i < inSize; i++) {
              pSize++;
              q = q.nextZ;
              if (!q)
                break;
            }
            qSize = inSize;
            while (pSize > 0 || qSize > 0 && q) {
              if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {
                e = p;
                p = p.nextZ;
                pSize--;
              } else {
                e = q;
                q = q.nextZ;
                qSize--;
              }
              if (tail)
                tail.nextZ = e;
              else
                list = e;
              e.prevZ = tail;
              tail = e;
            }
            p = q;
          }
          tail.nextZ = null;
          inSize *= 2;
        } while (numMerges > 1);
        return list;
      }
      function zOrder(x, y, minX, minY, invSize) {
        x = (x - minX) * invSize | 0;
        y = (y - minY) * invSize | 0;
        x = (x | x << 8) & 16711935;
        x = (x | x << 4) & 252645135;
        x = (x | x << 2) & 858993459;
        x = (x | x << 1) & 1431655765;
        y = (y | y << 8) & 16711935;
        y = (y | y << 4) & 252645135;
        y = (y | y << 2) & 858993459;
        y = (y | y << 1) & 1431655765;
        return x | y << 1;
      }
      function getLeftmost(start) {
        var p = start, leftmost = start;
        do {
          if (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y)
            leftmost = p;
          p = p.next;
        } while (p !== start);
        return leftmost;
      }
      function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {
        return (cx - px) * (ay - py) >= (ax - px) * (cy - py) && (ax - px) * (by - py) >= (bx - px) * (ay - py) && (bx - px) * (cy - py) >= (cx - px) * (by - py);
      }
      function isValidDiagonal(a, b) {
        return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges
        (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible
        (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors
        equals6(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0);
      }
      function area(p, q, r) {
        return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);
      }
      function equals6(p1, p2) {
        return p1.x === p2.x && p1.y === p2.y;
      }
      function intersects(p1, q1, p2, q2) {
        var o1 = sign(area(p1, q1, p2));
        var o2 = sign(area(p1, q1, q2));
        var o3 = sign(area(p2, q2, p1));
        var o4 = sign(area(p2, q2, q1));
        if (o1 !== o2 && o3 !== o4)
          return true;
        if (o1 === 0 && onSegment(p1, p2, q1))
          return true;
        if (o2 === 0 && onSegment(p1, q2, q1))
          return true;
        if (o3 === 0 && onSegment(p2, p1, q2))
          return true;
        if (o4 === 0 && onSegment(p2, q1, q2))
          return true;
        return false;
      }
      function onSegment(p, q, r) {
        return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);
      }
      function sign(num) {
        return num > 0 ? 1 : num < 0 ? -1 : 0;
      }
      function intersectsPolygon(a, b) {
        var p = a;
        do {
          if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b))
            return true;
          p = p.next;
        } while (p !== a);
        return false;
      }
      function locallyInside(a, b) {
        return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;
      }
      function middleInside(a, b) {
        var p = a, inside = false, px = (a.x + b.x) / 2, py = (a.y + b.y) / 2;
        do {
          if (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x)
            inside = !inside;
          p = p.next;
        } while (p !== a);
        return inside;
      }
      function splitPolygon(a, b) {
        var a2 = new Node(a.i, a.x, a.y), b2 = new Node(b.i, b.x, b.y), an = a.next, bp = b.prev;
        a.next = b;
        b.prev = a;
        a2.next = an;
        an.prev = a2;
        b2.next = a2;
        a2.prev = b2;
        bp.next = b2;
        b2.prev = bp;
        return b2;
      }
      function insertNode(i, x, y, last) {
        var p = new Node(i, x, y);
        if (!last) {
          p.prev = p;
          p.next = p;
        } else {
          p.next = last.next;
          p.prev = last;
          last.next.prev = p;
          last.next = p;
        }
        return p;
      }
      function removeNode(p) {
        p.next.prev = p.prev;
        p.prev.next = p.next;
        if (p.prevZ)
          p.prevZ.nextZ = p.nextZ;
        if (p.nextZ)
          p.nextZ.prevZ = p.prevZ;
      }
      function Node(i, x, y) {
        this.i = i;
        this.x = x;
        this.y = y;
        this.prev = null;
        this.next = null;
        this.z = 0;
        this.prevZ = null;
        this.nextZ = null;
        this.steiner = false;
      }
      earcut2.deviation = function(data, holeIndices, dim, triangles) {
        var hasHoles = holeIndices && holeIndices.length;
        var outerLen = hasHoles ? holeIndices[0] * dim : data.length;
        var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));
        if (hasHoles) {
          for (var i = 0, len4 = holeIndices.length; i < len4; i++) {
            var start = holeIndices[i] * dim;
            var end = i < len4 - 1 ? holeIndices[i + 1] * dim : data.length;
            polygonArea -= Math.abs(signedArea(data, start, end, dim));
          }
        }
        var trianglesArea = 0;
        for (i = 0; i < triangles.length; i += 3) {
          var a = triangles[i] * dim;
          var b = triangles[i + 1] * dim;
          var c = triangles[i + 2] * dim;
          trianglesArea += Math.abs(
            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) - (data[a] - data[b]) * (data[c + 1] - data[a + 1])
          );
        }
        return polygonArea === 0 && trianglesArea === 0 ? 0 : Math.abs((trianglesArea - polygonArea) / polygonArea);
      };
      function signedArea(data, start, end, dim) {
        var sum = 0;
        for (var i = start, j = end - dim; i < end; i += dim) {
          sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
          j = i;
        }
        return sum;
      }
      earcut2.flatten = function(data) {
        var dim = data[0][0].length, result = { vertices: [], holes: [], dimensions: dim }, holeIndex = 0;
        for (var i = 0; i < data.length; i++) {
          for (var j = 0; j < data[i].length; j++) {
            for (var d = 0; d < dim; d++)
              result.vertices.push(data[i][j][d]);
          }
          if (i > 0) {
            holeIndex += data[i - 1].length;
            result.holes.push(holeIndex);
          }
        }
        return result;
      };
    }
  });

  // node_modules/@wonderlandengine/components/dist/index.js
  var dist_exports = {};
  __export(dist_exports, {
    ARCamera8thwall: () => ARCamera8thwall,
    Anchor: () => Anchor,
    Cursor: () => Cursor,
    CursorTarget: () => CursorTarget,
    DebugObject: () => DebugObject,
    DeviceOrientationLook: () => DeviceOrientationLook,
    FingerCursor: () => FingerCursor,
    FixedFoveation: () => FixedFoveation,
    HandTracking: () => HandTracking,
    HitTestLocation: () => HitTestLocation,
    HowlerAudioListener: () => HowlerAudioListener,
    HowlerAudioSource: () => HowlerAudioSource,
    ImageTexture: () => ImageTexture,
    MouseLookComponent: () => MouseLookComponent,
    PlaneDetection: () => PlaneDetection,
    PlayerHeight: () => PlayerHeight,
    TargetFramerate: () => TargetFramerate,
    TeleportComponent: () => TeleportComponent,
    Trail: () => Trail,
    TwoJointIkSolver: () => TwoJointIkSolver,
    VideoTexture: () => VideoTexture,
    VrModeActiveSwitch: () => VrModeActiveSwitch,
    Vrm: () => Vrm,
    WasdControlsComponent: () => WasdControlsComponent,
    isPointLocalOnXRPlanePolygon: () => isPointLocalOnXRPlanePolygon,
    isPointWorldOnXRPlanePolygon: () => isPointWorldOnXRPlanePolygon
  });

  // node_modules/@wonderlandengine/api/dist/property.js
  var Type;
  (function(Type2) {
    Type2[Type2["Native"] = 1] = "Native";
    Type2[Type2["Bool"] = 2] = "Bool";
    Type2[Type2["Int"] = 4] = "Int";
    Type2[Type2["Float"] = 8] = "Float";
    Type2[Type2["String"] = 16] = "String";
    Type2[Type2["Enum"] = 32] = "Enum";
    Type2[Type2["Object"] = 64] = "Object";
    Type2[Type2["Mesh"] = 128] = "Mesh";
    Type2[Type2["Texture"] = 256] = "Texture";
    Type2[Type2["Material"] = 512] = "Material";
    Type2[Type2["Animation"] = 1024] = "Animation";
    Type2[Type2["Skin"] = 2048] = "Skin";
    Type2[Type2["Color"] = 4096] = "Color";
  })(Type || (Type = {}));
  var Property = {
    /**
     * Create an boolean property.
     *
     * @param defaultValue The default value. If not provided, defaults to `false`.
     */
    bool(defaultValue = false) {
      return { type: Type.Bool, default: defaultValue };
    },
    /**
     * Create an integer property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0`.
     */
    int(defaultValue = 0) {
      return { type: Type.Int, default: defaultValue };
    },
    /**
     * Create an float property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0.0`.
     */
    float(defaultValue = 0) {
      return { type: Type.Float, default: defaultValue };
    },
    /**
     * Create an string property.
     *
     * @param defaultValue The default value. If not provided, defaults to `''`.
     */
    string(defaultValue = "") {
      return { type: Type.String, default: defaultValue };
    },
    /**
     * Create an enumeration property.
     *
     * @param values The list of values.
     * @param defaultValue The default value. Can be a string or an index into
     *     `values`. If not provided, defaults to the first element.
     */
    enum(values, defaultValue) {
      return { type: Type.Enum, values, default: defaultValue };
    },
    /** Create an {@link Object3D} reference property. */
    object(opts) {
      return { type: Type.Object, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Mesh} reference property. */
    mesh(opts) {
      return { type: Type.Mesh, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Texture} reference property. */
    texture(opts) {
      return { type: Type.Texture, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Material} reference property. */
    material(opts) {
      return { type: Type.Material, default: null, required: opts?.required ?? false };
    },
    /** Create an {@link Animation} reference property. */
    animation(opts) {
      return { type: Type.Animation, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Skin} reference property. */
    skin(opts) {
      return { type: Type.Skin, default: null, required: opts?.required ?? false };
    },
    /**
     * Create a color property.
     *
     * @param r The red component, in the range [0; 1].
     * @param g The green component, in the range [0; 1].
     * @param b The blue component, in the range [0; 1].
     * @param a The alpha component, in the range [0; 1].
     */
    color(r = 0, g = 0, b = 0, a = 1) {
      return { type: Type.Color, default: [r, g, b, a] };
    }
  };

  // node_modules/@wonderlandengine/api/dist/decorators.js
  function propertyDecorator(data) {
    return function(target, propertyKey) {
      const ctor = target.constructor;
      ctor.Properties = ctor.hasOwnProperty("Properties") ? ctor.Properties : {};
      ctor.Properties[propertyKey] = data;
    };
  }
  function enumerable() {
    return function(_, __, descriptor) {
      descriptor.enumerable = true;
    };
  }
  function nativeProperty() {
    return function(target, propertyKey, descriptor) {
      enumerable()(target, propertyKey, descriptor);
      propertyDecorator({ type: Type.Native })(target, propertyKey);
    };
  }
  var property = {};
  for (const name in Property) {
    property[name] = (...args) => {
      const functor = Property[name];
      return propertyDecorator(functor(...args));
    };
  }

  // node_modules/@wonderlandengine/api/dist/utils/object.js
  function isString(value) {
    if (value === "")
      return true;
    return value && (typeof value === "string" || value.constructor === String);
  }
  function isNumber(value) {
    if (value === null || value === void 0)
      return false;
    return typeof value === "number" || value.constructor === Number;
  }

  // node_modules/@wonderlandengine/api/dist/utils/event.js
  var TransactionType;
  (function(TransactionType2) {
    TransactionType2[TransactionType2["Addition"] = 1] = "Addition";
    TransactionType2[TransactionType2["Removal"] = 2] = "Removal";
  })(TransactionType || (TransactionType = {}));
  var Emitter = class {
    /**
     * List of listeners to trigger when `notify` is called.
     *
     * @hidden
     */
    _listeners = [];
    /**
     * `true` if the emitter is currently notifying listeners. This
     * is used to defer addition and removal.
     *
     * @hidden
     */
    _notifying = false;
    /**
     * Pending additions / removals, performed during a notification.
     *
     * @hidden
     */
    _transactions = [];
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Basic usage:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * });
     * ```
     *
     * Automatically remove the listener when an event is received:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * }, {once: true});
     * ```
     *
     * @param listener The callback to register.
     * @param opts The listener options. For more information, please have a look
     *     at the {@link ListenerOptions} interface.
     *
     * @returns Reference to self (for method chaining)
     */
    add(listener, opts = {}) {
      const { once = false, id = void 0 } = opts;
      const data = { id, once, callback: listener };
      if (this._notifying) {
        this._transactions.push({ type: TransactionType.Addition, data });
        return this;
      }
      this._listeners.push(data);
      return this;
    }
    /**
     * Equivalent to {@link Emitter.add}.
     *
     * @param listeners The callback(s) to register.
     * @returns Reference to self (for method chaining).
     *
     * @deprecated Please use {@link Emitter.add} instead.
     */
    push(...listeners) {
      for (const cb of listeners)
        this.add(cb);
      return this;
    }
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Once notified, the listener will be automatically removed.
     *
     * The method is equivalent to calling {@link Emitter.add} with:
     *
     * ```js
     * emitter.add(listener, {once: true});
     * ```
     *
     * @param listener The callback to register.
     *
     * @returns Reference to self (for method chaining).
     */
    once(listener) {
      return this.add(listener, { once: true });
    }
    /**
     * Remove a registered listener.
     *
     * Usage with a callback:
     *
     * ```js
     * const listener = (data) => console.log(data);
     * emitter.add(listener);
     *
     * // Remove using the callback reference:
     * emitter.remove(listener);
     * ```
     *
     * Usage with an id:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'my-callback'});
     *
     * // Remove using the id:
     * emitter.remove('my-callback');
     * ```
     *
     * Using identifiers, you will need to ensure your value is unique to avoid
     * removing listeners from other libraries, e.g.,:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'non-unique'});
     * // This second listener could be added by a third-party library.
     * emitter.add((data) => console.log('Hello From Library!'), {id: 'non-unique'});
     *
     * // Ho Snap! This also removed the library listener!
     * emitter.remove('non-unique');
     * ```
     *
     * The identifier can be any type. However, remember that the comparison will be
     * by-value for primitive types (string, number), but by reference for objects.
     *
     * Example:
     *
     * ```js
     * emitter.add(() => console.log('Hello'), {id: {value: 42}});
     * emitter.add(() => console.log('World!'), {id: {value: 42}});
     * emitter.remove({value: 42}); // None of the above listeners match!
     * emitter.notify(); // Prints 'Hello' and 'World!'.
     * ```
     *
     * Here, both emitters have id `{value: 42}`, but the comparison is made by reference. Thus,
     * the `remove()` call has no effect. We can make it work by doing:
     *
     * ```js
     * const id = {value: 42};
     * emitter.add(() => console.log('Hello'), {id});
     * emitter.add(() => console.log('World!'), {id});
     * emitter.remove(id); // Same reference, it works!
     * emitter.notify(); // Doesn't print.
     * ```
     *
     * @param listener The registered callback or a value representing the `id`.
     *
     * @returns Reference to self (for method chaining)
     */
    remove(listener) {
      if (this._notifying) {
        this._transactions.push({ type: TransactionType.Removal, data: listener });
        return this;
      }
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener) {
          listeners.splice(i--, 1);
        }
      }
      return this;
    }
    /**
     * Check whether the listener is registered.
     *
     * @note This method performs a linear search.
     *
     * * @note Doesn't account for pending listeners, i.e.,
     * listeners added / removed during a notification.
     *
     * @param listener The registered callback or a value representing the `id`.
     * @returns `true` if the handle is found, `false` otherwise.
     */
    has(listener) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener)
          return true;
      }
      return false;
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note This method ensures all listeners are called even if
     * an exception is thrown. For (possibly) faster notification,
     * please use {@link Emitter.notifyUnsafe}.
     *
     * @param data The data to pass to listener when invoked.
     */
    notify(...data) {
      const listeners = this._listeners;
      this._notifying = true;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        try {
          listener.callback(...data);
        } catch (e) {
          console.error(e);
        }
      }
      this._notifying = false;
      this._flushTransactions();
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note Because this method doesn't catch exceptions, some listeners
     * will be skipped on a throw. Please use {@link Emitter.notify} for safe
     * notification.
     *
     * @param data The data to pass to listener when invoked.
     */
    notifyUnsafe(...data) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        listener.callback(...data);
      }
      this._flushTransactions();
    }
    /**
     * Return a promise that will resolve on the next event.
     *
     * @note The promise might never resolve if no event is sent.
     *
     * @returns A promise that resolves with the data passed to
     *     {@link Emitter.notify}.
     */
    promise() {
      return new Promise((res, _) => {
        this.once((...args) => {
          if (args.length > 1) {
            res(args);
          } else {
            res(args[0]);
          }
        });
      });
    }
    /**
     * Number of listeners.
     *
     * @note Doesn't account for pending listeners, i.e.,
     * listeners added / removed during a notification.
     */
    get listenerCount() {
      return this._listeners.length;
    }
    /** `true` if it has no listeners, `false` otherwise. */
    get isEmpty() {
      return this.listenerCount === 0;
    }
    /**
     * Flush all pending transactions.
     *
     * @hidden
     */
    _flushTransactions() {
      const listeners = this._listeners;
      for (const transaction of this._transactions) {
        if (transaction.type === TransactionType.Addition) {
          listeners.push(transaction.data);
        } else {
          this.remove(transaction.data);
        }
      }
      this._transactions.length = 0;
    }
  };
  var RetainEmitterUndefined = {};
  var RetainEmitter = class extends Emitter {
    /** Pre-resolved data. @hidden */
    _event = RetainEmitterUndefined;
    /**
     * Emitter target used to reset the state of this emitter.
     *
     * @hidden
     */
    _reset;
    /** @override */
    add(listener, opts) {
      const immediate = opts?.immediate ?? true;
      if (this._event !== RetainEmitterUndefined && immediate) {
        listener(...this._event);
      }
      super.add(listener, opts);
      return this;
    }
    /**
     * @override
     *
     * @param listener The callback to register.
     * @param immediate If `true`, directly resolves if the emitter retains a value.
     *
     * @returns Reference to self (for method chaining).
     */
    once(listener, immediate) {
      return this.add(listener, { once: true, immediate });
    }
    /** @override */
    notify(...data) {
      this._event = data;
      super.notify(...data);
    }
    /** @override */
    notifyUnsafe(...data) {
      this._event = data;
      super.notifyUnsafe(...data);
    }
    /**
     * Reset the state of the emitter.
     *
     * Further call to {@link Emitter.add} will not automatically resolve,
     * until a new call to {@link Emitter.notify} is performed.
     *
     * @returns Reference to self (for method chaining)
     */
    reset() {
      this._event = RetainEmitterUndefined;
      return this;
    }
    /** Returns the retained data, or `undefined` if no data was retained. */
    get data() {
      return this.isDataRetained ? this._event : void 0;
    }
    /** `true` if data is retained from the last event, `false` otherwise. */
    get isDataRetained() {
      return this._event !== RetainEmitterUndefined;
    }
  };

  // node_modules/@wonderlandengine/api/dist/wonderland.js
  var __decorate = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var LogTag;
  (function(LogTag2) {
    LogTag2[LogTag2["Engine"] = 0] = "Engine";
    LogTag2[LogTag2["Scene"] = 1] = "Scene";
    LogTag2[LogTag2["Component"] = 2] = "Component";
  })(LogTag || (LogTag = {}));
  var Collider;
  (function(Collider2) {
    Collider2[Collider2["Sphere"] = 0] = "Sphere";
    Collider2[Collider2["AxisAlignedBox"] = 1] = "AxisAlignedBox";
    Collider2[Collider2["Box"] = 2] = "Box";
  })(Collider || (Collider = {}));
  var Alignment;
  (function(Alignment2) {
    Alignment2[Alignment2["Left"] = 0] = "Left";
    Alignment2[Alignment2["Center"] = 1] = "Center";
    Alignment2[Alignment2["Right"] = 2] = "Right";
  })(Alignment || (Alignment = {}));
  var Justification;
  (function(Justification2) {
    Justification2[Justification2["Line"] = 0] = "Line";
    Justification2[Justification2["Middle"] = 1] = "Middle";
    Justification2[Justification2["Top"] = 2] = "Top";
    Justification2[Justification2["Bottom"] = 3] = "Bottom";
  })(Justification || (Justification = {}));
  var TextEffect;
  (function(TextEffect2) {
    TextEffect2[TextEffect2["None"] = 0] = "None";
    TextEffect2[TextEffect2["Outline"] = 1] = "Outline";
  })(TextEffect || (TextEffect = {}));
  var InputType;
  (function(InputType2) {
    InputType2[InputType2["Head"] = 0] = "Head";
    InputType2[InputType2["EyeLeft"] = 1] = "EyeLeft";
    InputType2[InputType2["EyeRight"] = 2] = "EyeRight";
    InputType2[InputType2["ControllerLeft"] = 3] = "ControllerLeft";
    InputType2[InputType2["ControllerRight"] = 4] = "ControllerRight";
    InputType2[InputType2["RayLeft"] = 5] = "RayLeft";
    InputType2[InputType2["RayRight"] = 6] = "RayRight";
  })(InputType || (InputType = {}));
  var LightType;
  (function(LightType2) {
    LightType2[LightType2["Point"] = 0] = "Point";
    LightType2[LightType2["Spot"] = 1] = "Spot";
    LightType2[LightType2["Sun"] = 2] = "Sun";
  })(LightType || (LightType = {}));
  var AnimationState;
  (function(AnimationState2) {
    AnimationState2[AnimationState2["Playing"] = 0] = "Playing";
    AnimationState2[AnimationState2["Paused"] = 1] = "Paused";
    AnimationState2[AnimationState2["Stopped"] = 2] = "Stopped";
  })(AnimationState || (AnimationState = {}));
  var ForceMode;
  (function(ForceMode2) {
    ForceMode2[ForceMode2["Force"] = 0] = "Force";
    ForceMode2[ForceMode2["Impulse"] = 1] = "Impulse";
    ForceMode2[ForceMode2["VelocityChange"] = 2] = "VelocityChange";
    ForceMode2[ForceMode2["Acceleration"] = 3] = "Acceleration";
  })(ForceMode || (ForceMode = {}));
  var CollisionEventType;
  (function(CollisionEventType2) {
    CollisionEventType2[CollisionEventType2["Touch"] = 0] = "Touch";
    CollisionEventType2[CollisionEventType2["TouchLost"] = 1] = "TouchLost";
    CollisionEventType2[CollisionEventType2["TriggerTouch"] = 2] = "TriggerTouch";
    CollisionEventType2[CollisionEventType2["TriggerTouchLost"] = 3] = "TriggerTouchLost";
  })(CollisionEventType || (CollisionEventType = {}));
  var Shape;
  (function(Shape2) {
    Shape2[Shape2["None"] = 0] = "None";
    Shape2[Shape2["Sphere"] = 1] = "Sphere";
    Shape2[Shape2["Capsule"] = 2] = "Capsule";
    Shape2[Shape2["Box"] = 3] = "Box";
    Shape2[Shape2["Plane"] = 4] = "Plane";
    Shape2[Shape2["ConvexMesh"] = 5] = "ConvexMesh";
    Shape2[Shape2["TriangleMesh"] = 6] = "TriangleMesh";
  })(Shape || (Shape = {}));
  var MeshAttribute;
  (function(MeshAttribute2) {
    MeshAttribute2[MeshAttribute2["Position"] = 0] = "Position";
    MeshAttribute2[MeshAttribute2["Tangent"] = 1] = "Tangent";
    MeshAttribute2[MeshAttribute2["Normal"] = 2] = "Normal";
    MeshAttribute2[MeshAttribute2["TextureCoordinate"] = 3] = "TextureCoordinate";
    MeshAttribute2[MeshAttribute2["Color"] = 4] = "Color";
    MeshAttribute2[MeshAttribute2["JointId"] = 5] = "JointId";
    MeshAttribute2[MeshAttribute2["JointWeight"] = 6] = "JointWeight";
  })(MeshAttribute || (MeshAttribute = {}));
  var MaterialParamType;
  (function(MaterialParamType2) {
    MaterialParamType2[MaterialParamType2["UnsignedInt"] = 0] = "UnsignedInt";
    MaterialParamType2[MaterialParamType2["Int"] = 1] = "Int";
    MaterialParamType2[MaterialParamType2["Float"] = 2] = "Float";
    MaterialParamType2[MaterialParamType2["Sampler"] = 3] = "Sampler";
    MaterialParamType2[MaterialParamType2["Font"] = 4] = "Font";
  })(MaterialParamType || (MaterialParamType = {}));
  function createDestroyedProxy(type) {
    return new Proxy({}, {
      get(_, param) {
        if (param === "isDestroyed")
          return true;
        throw new Error(`Canno't read '${param}' of destroyed ${type}`);
      },
      set(_, param) {
        throw new Error(`Canno't write '${param}' of destroyed ${type}`);
      }
    });
  }
  var DestroyedObjectInstance = createDestroyedProxy("object");
  var DestroyedComponentInstance = createDestroyedProxy("component");
  var DestroyedTextureInstance = createDestroyedProxy("texture");
  function isMeshShape(shape) {
    return shape === Shape.ConvexMesh || shape === Shape.TriangleMesh;
  }
  function isBaseComponentClass(value) {
    return !!value && value.hasOwnProperty("_isBaseComponent") && value._isBaseComponent;
  }
  var UP_VECTOR = [0, 1, 0];
  var SQRT_3 = Math.sqrt(3);
  var Component = class {
    /**
     * Allows to inherit properties directly inside the editor.
     *
     * @note Do not use directly, prefer using {@link inheritProperties}.
     *
     * @hidden
     */
    static _inheritProperties() {
      inheritProperties(this);
    }
    /** Manager index. @hidden */
    _manager;
    /** Instance index. @hidden */
    _id;
    /**
     * Object containing this object.
     *
     * **Note**: This is cached for faster retrieval.
     *
     * @hidden
     */
    _object;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance
     *
     * @param engine The engine instance.
     * @param manager Index of the manager.
     * @param id WASM component instance index.
     *
     * @hidden
     */
    constructor(engine, manager = -1, id = -1) {
      this._engine = engine;
      this._manager = manager;
      this._id = id;
      this._object = null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /** The name of this component's type */
    get type() {
      const ctor = this.constructor;
      return ctor.TypeName ?? this._engine.wasm._typeNameFor(this._manager);
    }
    /** The object this component is attached to. */
    get object() {
      if (!this._object) {
        const objectId = this._engine.wasm._wl_component_get_object(this._manager, this._id);
        this._object = this._engine.wrapObject(objectId);
      }
      return this._object;
    }
    /**
     * Set whether this component is active.
     *
     * Activating/deactivating a component comes at a small cost of reordering
     * components in the respective component manager. This function therefore
     * is not a trivial assignment.
     *
     * Does nothing if the component is already activated/deactivated.
     *
     * @param active New active state.
     */
    set active(active) {
      this._engine.wasm._wl_component_setActive(this._manager, this._id, active);
    }
    /**
     * Whether this component is active
     */
    get active() {
      return this._engine.wasm._wl_component_isActive(this._manager, this._id) != 0;
    }
    /**
     * Copy all the properties from `src` into this instance.
     *
     * @note Only properties are copied. If a component needs to
     * copy extra data, it needs to override this method.
     *
     * #### Example
     *
     * ```js
     * class MyComponent extends Component {
     *     nonPropertyData = 'Hello World';
     *
     *     copy(src) {
     *         super.copy(src);
     *         this.nonPropertyData = src.nonPropertyData;
     *         return this;
     *     }
     * }
     * ```
     *
     * @note This method is called by {@link Object3D.clone}. Do not attempt to:
     *     - Create new component
     *     - Read references to other objects
     *
     * When cloning via {@link Object3D.clone}, this method will be called before
     * {@link Component.start}.
     *
     * @note JavaScript component properties aren't retargeted. Thus, references
     * inside the source object will not be retargeted to the destination object,
     * at the exception of the skin data on {@link MeshComponent} and {@link AnimationComponent}.
     *
     * @param src The source component to copy from.
     *
     * @returns Reference to self (for method chaining).
     */
    copy(src) {
      const ctor = this.constructor;
      for (const name in ctor.Properties) {
        const value = src[name];
        if (value !== void 0) {
          this[name] = value;
        }
      }
      return this;
    }
    /**
     * Remove this component from its objects and destroy it.
     *
     * It is best practice to set the component to `null` after,
     * to ensure it does not get used later.
     *
     * ```js
     *    c.destroy();
     *    c = null;
     * ```
     * @since 0.9.0
     */
    destroy() {
      const manager = this._manager;
      if (manager < 0 || this._id < 0)
        return;
      const jsManager = this.engine.wasm._jsManagerIndex;
      this._engine.wasm._wl_component_remove(manager, this._id);
      if (manager !== jsManager)
        this._triggerOnDestroy();
    }
    /**
     * Checks equality by comparing whether the wrapped native component ids
     * and component manager types are equal.
     *
     * @param otherComponent Component to check equality with.
     * @returns Whether this component equals the given component.
     */
    equals(otherComponent) {
      if (!otherComponent)
        return false;
      return this._manager == otherComponent._manager && this._id == otherComponent._id;
    }
    /**
     * Reset the component properties to default.
     *
     * @note This is automatically called during the component instantiation.
     *
     * @returns Reference to self (for method chaining).
     */
    resetProperties() {
      const ctor = this.constructor;
      const properties = ctor.Properties;
      if (!properties)
        return this;
      for (const name in properties) {
        this[name] = properties[name].default;
      }
      return this;
    }
    /** @deprecated Use {@link Component.resetProperties} instead. */
    reset() {
      return this.resetProperties();
    }
    /**
     * Validate the properties on this instance.
     *
     * @throws If any of the required properties isn't initialized
     * on this instance.
     */
    validateProperties() {
      const ctor = this.constructor;
      if (!ctor.Properties)
        return;
      for (const name in ctor.Properties) {
        if (!ctor.Properties[name].required)
          continue;
        if (!this[name]) {
          throw new Error(`Property '${name}' is required but was not initialized`);
        }
      }
    }
    /**
     * `true` if the component is destroyed, `false` otherwise.
     *
     * If {@link WonderlandEngine.erasePrototypeOnDestroy} is `true`,
     * reading a custom property will not work:
     *
     * ```js
     * engine.erasePrototypeOnDestroy = true;
     *
     * const comp = obj.addComponent('mesh');
     * comp.customParam = 'Hello World!';
     *
     * console.log(comp.isDestroyed); // Prints `false`
     * comp.destroy();
     * console.log(comp.isDestroyed); // Prints `true`
     * console.log(comp.customParam); // Throws an error
     * ```
     *
     * @since 1.1.1
     */
    get isDestroyed() {
      return this._id < 0;
    }
    /**
     * Trigger the component {@link Component.init} method.
     *
     * @note Use this method instead of directly calling {@link Component.init},
     * because this method creates an handler for the {@link Component.start}.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerInit() {
      if (this.init) {
        try {
          this.init();
        } catch (e) {
          this.engine.log.error(LogTag.Component, `Exception during ${this.type} init() on object ${this.object.name}`);
          this.engine.log.error(LogTag.Component, e);
        }
      }
      const oldActivate = this.onActivate;
      this.onActivate = function() {
        this.onActivate = oldActivate;
        let failed = false;
        try {
          this.validateProperties();
        } catch (e) {
          this.engine.log.error(LogTag.Component, `Exception during ${this.type} validateProperties() on object ${this.object.name}`);
          this.engine.log.error(LogTag.Component, e);
          failed = true;
        }
        try {
          this.start?.();
        } catch (e) {
          this.engine.log.error(LogTag.Component, `Exception during ${this.type} start() on object ${this.object.name}`);
          this.engine.log.error(LogTag.Component, e);
          failed = true;
        }
        if (failed) {
          this.active = false;
          return;
        }
        if (!this.onActivate)
          return;
        try {
          this.onActivate();
        } catch (e) {
          this.engine.log.error(LogTag.Component, `Exception during ${this.type} onActivate() on object ${this.object.name}`);
          this.engine.log.error(LogTag.Component, e);
        }
      };
    }
    /**
     * Trigger the component {@link Component.update} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerUpdate(dt) {
      if (!this.update)
        return;
      try {
        this.update(dt);
      } catch (e) {
        this.engine.log.error(LogTag.Component, `Exception during ${this.type} update() on object ${this.object.name}`);
        this.engine.log.error(LogTag.Component, e);
        if (this._engine.wasm._deactivate_component_on_error) {
          this.active = false;
        }
      }
    }
    /**
     * Trigger the component {@link Component.onActivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnActivate() {
      if (!this.onActivate)
        return;
      try {
        this.onActivate();
      } catch (e) {
        this.engine.log.error(LogTag.Component, `Exception during ${this.type} onActivate() on object ${this.object.name}`);
        this.engine.log.error(LogTag.Component, e);
      }
    }
    /**
     * Trigger the component {@link Component.onDeactivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDeactivate() {
      if (!this.onDeactivate)
        return;
      try {
        this.onDeactivate();
      } catch (e) {
        this.engine.log.error(LogTag.Component, `Exception during ${this.type} onDeactivate() on object ${this.object.name}`);
        this.engine.log.error(LogTag.Component, e);
      }
    }
    /**
     * Trigger the component {@link Component.onDestroy} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDestroy() {
      try {
        if (this.onDestroy)
          this.onDestroy();
      } catch (e) {
        this.engine.log.error(LogTag.Component, `Exception during ${this.type} onDestroy() on object ${this.object.name}`);
        this.engine.log.error(LogTag.Component, e);
      }
      this._engine._destroyComponent(this);
    }
  };
  /**
   * `true` for every class inheriting from this class.
   *
   * @note This is a workaround for `instanceof` to prevent issues
   * that could arise when an application ends up using multiple API versions.
   *
   * @hidden
   */
  __publicField(Component, "_isBaseComponent", true);
  /**
   * Unique identifier for this component class.
   *
   * This is used to register, add, and retrieve components of a given type.
   */
  __publicField(Component, "TypeName");
  /**
   * Properties of this component class.
   *
   * Properties are public attributes that can be configured via the
   * Wonderland Editor.
   *
   * Example:
   *
   * ```js
   * import { Component, Type } from '@wonderlandengine/api';
   * class MyComponent extends Component {
   *     static TypeName = 'my-component';
   *     static Properties = {
   *         myBoolean: { type: Type.Boolean, default: false },
   *         myFloat: { type: Type.Float, default: false },
   *         myTexture: { type: Type.Texture, default: null },
   *     };
   * }
   * ```
   *
   * Properties are automatically added to each component instance, and are
   * accessible like any JS attribute:
   *
   * ```js
   * // Creates a new component and set each properties value:
   * const myComponent = object.addComponent(MyComponent, {
   *     myBoolean: true,
   *     myFloat: 42.0,
   *     myTexture: null
   * });
   *
   * // You can also override the properties on the instance:
   * myComponent.myBoolean = false;
   * myComponent.myFloat = -42.0;
   * ```
   *
   * #### References
   *
   * Reference types (i.e., mesh, object, etc...) can also be listed as **required**:
   *
   * ```js
   * import {Component, Property} from '@wonderlandengine/api';
   *
   * class MyComponent extends Component {
   *     static Properties = {
   *         myObject: Property.object({required: true}),
   *         myAnimation: Property.animation({required: true}),
   *         myTexture: Property.texture({required: true}),
   *         myMesh: Property.mesh({required: true}),
   *     }
   * }
   * ```
   *
   * Please note that references are validated **once** before the call to {@link Component.start} only,
   * via the {@link Component.validateProperties} method.
   */
  __publicField(Component, "Properties");
  /**
   * When set to `true`, the child class inherits from the parent
   * properties, as shown in the following example:
   *
   * ```js
   * import {Component, Property} from '@wonderlandengine/api';
   *
   * class Parent extends Component {
   *     static TypeName = 'parent';
   *     static Properties = {parentName: Property.string('parent')}
   * }
   *
   * class Child extends Parent {
   *     static TypeName = 'child';
   *     static Properties = {name: Property.string('child')}
   *     static InheritProperties = true;
   *
   *     start() {
   *         // Works because `InheritProperties` is `true`.
   *         console.log(`${this.name} inherits from ${this.parentName}`);
   *     }
   * }
   * ```
   *
   * @note Properties defined in descendant classes will override properties
   * with the same name defined in ancestor classes.
   *
   * Defaults to `true`.
   */
  __publicField(Component, "InheritProperties");
  /**
   * Called when this component class is registered.
   *
   * @example
   *
   * This callback can be used to register dependencies of a component,
   * e.g., component classes that need to be registered in order to add
   * them at runtime with {@link Object3D.addComponent}, independent of whether
   * they are used in the editor.
   *
   * ```js
   * class Spawner extends Component {
   *     static TypeName = 'spawner';
   *
   *     static onRegister(engine) {
   *         engine.registerComponent(SpawnedComponent);
   *     }
   *
   *     // You can now use addComponent with SpawnedComponent
   * }
   * ```
   *
   * @example
   *
   * This callback can be used to register different implementations of a
   * component depending on client features or API versions.
   *
   * ```js
   * // Properties need to be the same for all implementations!
   * const SharedProperties = {};
   *
   * class Anchor extends Component {
   *     static TypeName = 'spawner';
   *     static Properties = SharedProperties;
   *
   *     static onRegister(engine) {
   *         if(navigator.xr === undefined) {
   *             /* WebXR unsupported, keep this dummy component *\/
   *             return;
   *         }
   *         /* WebXR supported! Override already registered dummy implementation
   *          * with one depending on hit-test API support *\/
   *         engine.registerComponent(window.HitTestSource === undefined ?
   *             AnchorWithoutHitTest : AnchorWithHitTest);
   *     }
   *
   *     // This one implements no functions
   * }
   * ```
   */
  __publicField(Component, "onRegister");
  var BrokenComponent = class extends Component {
  };
  __publicField(BrokenComponent, "TypeName", "__broken-component__");
  function inheritProperties(target) {
    if (!target.TypeName)
      return;
    const chain = [];
    let curr = target;
    while (curr && !isBaseComponentClass(curr)) {
      const comp = curr;
      const needsMerge = comp.hasOwnProperty("InheritProperties") ? comp.InheritProperties : true;
      if (!needsMerge)
        break;
      if (comp.TypeName && comp.hasOwnProperty("Properties")) {
        chain.push(comp.Properties);
      }
      curr = Object.getPrototypeOf(curr);
    }
    if (chain.length <= 1)
      return;
    const merged = {};
    for (let i = chain.length - 1; i >= 0; --i) {
      Object.assign(merged, chain[i]);
    }
    target.Properties = merged;
  }
  var _CollisionComponent = class extends Component {
    /** Collision component collider */
    get collider() {
      return this._engine.wasm._wl_collision_component_get_collider(this._id);
    }
    /**
     * Set collision component collider.
     *
     * @param collider Collider of the collision component.
     */
    set collider(collider) {
      this._engine.wasm._wl_collision_component_set_collider(this._id, collider);
    }
    /**
     * Collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the returned vector is used.
     */
    get extents() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);
    }
    /**
     * Set collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the passed vector is used.
     *
     * Example:
     *
     * ```js
     * // Spans 1 unit on the x-axis, 2 on the y-axis, 3 on the z-axis.
     * collision.extent = [1, 2, 3];
     * ```
     *
     * @param extents Extents of the collision component, expects a
     *      3 component array.
     */
    set extents(extents) {
      this.extents.set(extents);
    }
    /**
     * Get collision component radius.
     *
     * @note If {@link collider} is not {@link Collider.Sphere}, the returned value
     * corresponds to the radius of a sphere enclosing the shape.
     *
     * Example:
     *
     * ```js
     * sphere.radius = 3.0;
     * console.log(sphere.radius); // 3.0
     *
     * box.extents = [2.0, 2.0, 2.0];
     * console.log(box.radius); // 1.732...
     * ```
     *
     */
    get radius() {
      const wasm = this._engine.wasm;
      if (this.collider === Collider.Sphere)
        return wasm.HEAPF32[wasm._wl_collision_component_get_extents(this._id) >> 2];
      const extents = new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);
      const x2 = extents[0] * extents[0];
      const y2 = extents[1] * extents[1];
      const z2 = extents[2] * extents[2];
      return Math.sqrt(x2 + y2 + z2) / 2;
    }
    /**
     * Set collision component radius.
     *
     * @param radius Radius of the collision component
     *
     * @note If {@link collider} is not {@link Collider.Sphere},
     * the extents are set to form a square that fits a sphere with the provided radius.
     *
     * Example:
     *
     * ```js
     * aabbCollision.radius = 2.0; // AABB fits a sphere of radius 2.0
     * boxCollision.radius = 3.0; // Box now fits a sphere of radius 3.0, keeping orientation
     * ```
     *
     */
    set radius(radius) {
      const length5 = this.collider === Collider.Sphere ? radius : 2 * radius / SQRT_3;
      this.extents.set([length5, length5, length5]);
    }
    /**
     * Collision component group.
     *
     * The groups is a bitmask that is compared to other components in {@link CollisionComponent#queryOverlaps}
     * or the group in {@link Scene#rayCast}.
     *
     * Colliders that have no common groups will not overlap with each other. If a collider
     * has none of the groups set for {@link Scene#rayCast}, the ray will not hit it.
     *
     * Each bit represents belonging to a group, see example.
     *
     * ```js
     *    // c belongs to group 2
     *    c.group = (1 << 2);
     *
     *    // c belongs to group 0
     *    c.group = (1 << 0);
     *
     *    // c belongs to group 0 *and* 2
     *    c.group = (1 << 0) | (1 << 2);
     *
     *    (c.group & (1 << 2)) != 0; // true
     *    (c.group & (1 << 7)) != 0; // false
     * ```
     */
    get group() {
      return this._engine.wasm._wl_collision_component_get_group(this._id);
    }
    /**
     * Set collision component group.
     *
     * @param group Group mask of the collision component.
     */
    set group(group) {
      this._engine.wasm._wl_collision_component_set_group(this._id, group);
    }
    /**
     * Query overlapping objects.
     *
     * Usage:
     *
     * ```js
     * const collision = object.getComponent('collision');
     * const overlaps = collision.queryOverlaps();
     * for(const otherCollision of overlaps) {
     *     const otherObject = otherCollision.object;
     *     console.log(`Collision with object ${otherObject.objectId}`);
     * }
     * ```
     *
     * @returns Collision components overlapping this collider.
     */
    queryOverlaps() {
      const count = this._engine.wasm._wl_collision_component_query_overlaps(this._id, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);
      const overlaps = new Array(count);
      for (let i = 0; i < count; ++i) {
        overlaps[i] = new _CollisionComponent(this._engine, this._manager, this._engine.wasm._tempMemUint16[i]);
      }
      return overlaps;
    }
  };
  var CollisionComponent = _CollisionComponent;
  /** @override */
  __publicField(CollisionComponent, "TypeName", "collision");
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "collider", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "group", null);
  var TextComponent = class extends Component {
    /** Text component alignment. */
    get alignment() {
      return this._engine.wasm._wl_text_component_get_horizontal_alignment(this._id);
    }
    /**
     * Set text component alignment.
     *
     * @param alignment Alignment for the text component.
     */
    set alignment(alignment) {
      this._engine.wasm._wl_text_component_set_horizontal_alignment(this._id, alignment);
    }
    /** Text component justification. */
    get justification() {
      return this._engine.wasm._wl_text_component_get_vertical_alignment(this._id);
    }
    /**
     * Set text component justification.
     *
     * @param justification Justification for the text component.
     */
    set justification(justification) {
      this._engine.wasm._wl_text_component_set_vertical_alignment(this._id, justification);
    }
    /** Text component character spacing. */
    get characterSpacing() {
      return this._engine.wasm._wl_text_component_get_character_spacing(this._id);
    }
    /**
     * Set text component character spacing.
     *
     * @param spacing Character spacing for the text component.
     */
    set characterSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_character_spacing(this._id, spacing);
    }
    /** Text component line spacing. */
    get lineSpacing() {
      return this._engine.wasm._wl_text_component_get_line_spacing(this._id);
    }
    /**
     * Set text component line spacing
     *
     * @param spacing Line spacing for the text component
     */
    set lineSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_line_spacing(this._id, spacing);
    }
    /** Text component effect. */
    get effect() {
      return this._engine.wasm._wl_text_component_get_effect(this._id);
    }
    /**
     * Set text component effect
     *
     * @param effect Effect for the text component
     */
    set effect(effect) {
      this._engine.wasm._wl_text_component_set_effect(this._id, effect);
    }
    /** Text component text. */
    get text() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_text_component_get_text(this._id);
      return wasm.UTF8ToString(ptr);
    }
    /**
     * Set text component text.
     *
     * @param text Text of the text component.
     */
    set text(text) {
      const wasm = this._engine.wasm;
      wasm._wl_text_component_set_text(this._id, wasm.tempUTF8(text.toString()));
    }
    /**
     * Set material to render the text with.
     *
     * @param material New material.
     */
    set material(material) {
      const matIndex = material ? material._index : 0;
      this._engine.wasm._wl_text_component_set_material(this._id, matIndex);
    }
    /** Material used to render the text. */
    get material() {
      const id = this._engine.wasm._wl_text_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
  };
  /** @override */
  __publicField(TextComponent, "TypeName", "text");
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "alignment", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "justification", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "characterSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "lineSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "effect", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "text", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "material", null);
  var ViewComponent = class extends Component {
    /** Projection matrix. */
    get projectionMatrix() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_view_component_get_projection_matrix(this._id), 16);
    }
    /** ViewComponent near clipping plane value. */
    get near() {
      return this._engine.wasm._wl_view_component_get_near(this._id);
    }
    /**
     * Set near clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param near Near depth value.
     */
    set near(near) {
      this._engine.wasm._wl_view_component_set_near(this._id, near);
    }
    /** Far clipping plane value. */
    get far() {
      return this._engine.wasm._wl_view_component_get_far(this._id);
    }
    /**
     * Set far clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param far Near depth value.
     */
    set far(far) {
      this._engine.wasm._wl_view_component_set_far(this._id, far);
    }
    /**
     * Get the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, this returns the field of view reported by
     * the device, regardless of the fov that was set.
     */
    get fov() {
      return this._engine.wasm._wl_view_component_get_fov(this._id);
    }
    /**
     * Set the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, the field of view reported by the device is
     * used and this value is ignored. After the XR session ends, the new value
     * is applied.
     *
     * @param fov Horizontal field of view, **in degrees**.
     */
    set fov(fov) {
      this._engine.wasm._wl_view_component_set_fov(this._id, fov);
    }
  };
  /** @override */
  __publicField(ViewComponent, "TypeName", "view");
  __decorate([
    enumerable()
  ], ViewComponent.prototype, "projectionMatrix", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "near", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "far", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "fov", null);
  var InputComponent = class extends Component {
    /** Input component type */
    get inputType() {
      return this._engine.wasm._wl_input_component_get_type(this._id);
    }
    /**
     * Set input component type.
     *
     * @params New input component type.
     */
    set inputType(type) {
      this._engine.wasm._wl_input_component_set_type(this._id, type);
    }
    /**
     * WebXR Device API input source associated with this input component,
     * if type {@link InputType.ControllerLeft} or {@link InputType.ControllerRight}.
     */
    get xrInputSource() {
      const xr = this._engine.xr;
      if (!xr)
        return null;
      for (let inputSource of xr.session.inputSources) {
        if (inputSource.handedness == this.handedness) {
          return inputSource;
        }
      }
      return null;
    }
    /**
     * 'left', 'right' or `null` depending on the {@link InputComponent#inputType}.
     */
    get handedness() {
      const inputType = this.inputType;
      if (inputType == InputType.ControllerRight || inputType == InputType.RayRight || inputType == InputType.EyeRight)
        return "right";
      if (inputType == InputType.ControllerLeft || inputType == InputType.RayLeft || inputType == InputType.EyeLeft)
        return "left";
      return null;
    }
  };
  /** @override */
  __publicField(InputComponent, "TypeName", "input");
  __decorate([
    nativeProperty()
  ], InputComponent.prototype, "inputType", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "xrInputSource", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "handedness", null);
  var LightComponent = class extends Component {
    getColor(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set light color.
     *
     * @param c New color array/vector, expected to have at least 3 elements.
     * @since 1.0.0
     */
    setColor(c) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      wasm.HEAPF32[ptr] = c[0];
      wasm.HEAPF32[ptr + 1] = c[1];
      wasm.HEAPF32[ptr + 2] = c[2];
    }
    /**
     * View on the light color.
     *
     * @note Prefer to use {@link getColor} in performance-critical code.
     */
    get color() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_light_component_get_color(this._id), 3);
    }
    /**
     * Set light color.
     *
     * @param c Color of the light component.
     *
     * @note Prefer to use {@link setColor} in performance-critical code.
     */
    set color(c) {
      this.color.set(c);
    }
    /** Light type. */
    get lightType() {
      return this._engine.wasm._wl_light_component_get_type(this._id);
    }
    /**
     * Set light type.
     *
     * @param lightType Type of the light component.
     */
    set lightType(t) {
      this._engine.wasm._wl_light_component_set_type(this._id, t);
    }
    /**
     * Light intensity.
     * @since 1.0.0
     */
    get intensity() {
      return this._engine.wasm._wl_light_component_get_intensity(this._id);
    }
    /**
     * Set light intensity.
     *
     * @param intensity Intensity of the light component.
     * @since 1.0.0
     */
    set intensity(intensity) {
      this._engine.wasm._wl_light_component_set_intensity(this._id, intensity);
    }
    /**
     * Outer angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get outerAngle() {
      return this._engine.wasm._wl_light_component_get_outerAngle(this._id);
    }
    /**
     * Set outer angle for spot lights.
     *
     * @param angle Outer angle, in degrees.
     * @since 1.0.0
     */
    set outerAngle(angle2) {
      this._engine.wasm._wl_light_component_set_outerAngle(this._id, angle2);
    }
    /**
     * Inner angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get innerAngle() {
      return this._engine.wasm._wl_light_component_get_innerAngle(this._id);
    }
    /**
     * Set inner angle for spot lights.
     *
     * @param angle Inner angle, in degrees.
     * @since 1.0.0
     */
    set innerAngle(angle2) {
      this._engine.wasm._wl_light_component_set_innerAngle(this._id, angle2);
    }
    /**
     * Whether the light casts shadows.
     * @since 1.0.0
     */
    get shadows() {
      return !!this._engine.wasm._wl_light_component_get_shadows(this._id);
    }
    /**
     * Set whether the light casts shadows.
     *
     * @param b Whether the light casts shadows.
     * @since 1.0.0
     */
    set shadows(b) {
      this._engine.wasm._wl_light_component_set_shadows(this._id, b);
    }
    /**
     * Range for shadows.
     * @since 1.0.0
     */
    get shadowRange() {
      return this._engine.wasm._wl_light_component_get_shadowRange(this._id);
    }
    /**
     * Set range for shadows.
     *
     * @param range Range for shadows.
     * @since 1.0.0
     */
    set shadowRange(range) {
      this._engine.wasm._wl_light_component_set_shadowRange(this._id, range);
    }
    /**
     * Bias value for shadows.
     * @since 1.0.0
     */
    get shadowBias() {
      return this._engine.wasm._wl_light_component_get_shadowBias(this._id);
    }
    /**
     * Set bias value for shadows.
     *
     * @param bias Bias for shadows.
     * @since 1.0.0
     */
    set shadowBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowBias(this._id, bias);
    }
    /**
     * Normal bias value for shadows.
     * @since 1.0.0
     */
    get shadowNormalBias() {
      return this._engine.wasm._wl_light_component_get_shadowNormalBias(this._id);
    }
    /**
     * Set normal bias value for shadows.
     *
     * @param bias Normal bias for shadows.
     * @since 1.0.0
     */
    set shadowNormalBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowNormalBias(this._id, bias);
    }
    /**
     * Texel size for shadows.
     * @since 1.0.0
     */
    get shadowTexelSize() {
      return this._engine.wasm._wl_light_component_get_shadowTexelSize(this._id);
    }
    /**
     * Set texel size for shadows.
     *
     * @param size Texel size for shadows.
     * @since 1.0.0
     */
    set shadowTexelSize(size) {
      this._engine.wasm._wl_light_component_set_shadowTexelSize(this._id, size);
    }
    /**
     * Cascade count for {@link LightType.Sun} shadows.
     * @since 1.0.0
     */
    get cascadeCount() {
      return this._engine.wasm._wl_light_component_get_cascadeCount(this._id);
    }
    /**
     * Set cascade count for {@link LightType.Sun} shadows.
     *
     * @param count Cascade count.
     * @since 1.0.0
     */
    set cascadeCount(count) {
      this._engine.wasm._wl_light_component_set_cascadeCount(this._id, count);
    }
  };
  /** @override */
  __publicField(LightComponent, "TypeName", "light");
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "color", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "lightType", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "intensity", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "outerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "innerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadows", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowRange", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowNormalBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowTexelSize", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "cascadeCount", null);
  var AnimationComponent = class extends Component {
    /**
     * Set animation to play.
     *
     * Make sure to {@link Animation#retarget} the animation to affect the
     * right objects.
     *
     * @param anim Animation to play.
     */
    set animation(anim) {
      this._engine.wasm._wl_animation_component_set_animation(this._id, anim ? anim._index : 0);
    }
    /** Animation set for this component */
    get animation() {
      const id = this._engine.wasm._wl_animation_component_get_animation(this._id);
      return id > 0 ? new Animation(this._engine, id) : null;
    }
    /**
     * Set play count. Set to `0` to loop indefinitely.
     *
     * @param playCount Number of times to repeat the animation.
     */
    set playCount(playCount) {
      this._engine.wasm._wl_animation_component_set_playCount(this._id, playCount);
    }
    /** Number of times the animation is played. */
    get playCount() {
      return this._engine.wasm._wl_animation_component_get_playCount(this._id);
    }
    /**
     * Set speed. Set to negative values to run the animation backwards.
     *
     * Setting speed has an immediate effect for the current frame's update
     * and will continue with the speed from the current point in the animation.
     *
     * @param speed New speed at which to play the animation.
     * @since 0.8.10
     */
    set speed(speed) {
      this._engine.wasm._wl_animation_component_set_speed(this._id, speed);
    }
    /**
     * Speed factor at which the animation is played.
     *
     * @since 0.8.10
     */
    get speed() {
      return this._engine.wasm._wl_animation_component_get_speed(this._id);
    }
    /** Current playing state of the animation */
    get state() {
      return this._engine.wasm._wl_animation_component_state(this._id);
    }
    /**
     * Play animation.
     *
     * If the animation is currently paused, resumes from that position. If the
     * animation is already playing, does nothing.
     *
     * To restart the animation, {@link AnimationComponent#stop} it first.
     */
    play() {
      this._engine.wasm._wl_animation_component_play(this._id);
    }
    /** Stop animation. */
    stop() {
      this._engine.wasm._wl_animation_component_stop(this._id);
    }
    /** Pause animation. */
    pause() {
      this._engine.wasm._wl_animation_component_pause(this._id);
    }
  };
  /** @override */
  __publicField(AnimationComponent, "TypeName", "animation");
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "animation", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "playCount", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "speed", null);
  __decorate([
    enumerable()
  ], AnimationComponent.prototype, "state", null);
  var MeshComponent = class extends Component {
    /**
     * Set material to render the mesh with.
     *
     * @param material Material to render the mesh with.
     */
    set material(material) {
      this._engine.wasm._wl_mesh_component_set_material(this._id, material ? material._index : 0);
    }
    /** Material used to render the mesh. */
    get material() {
      const id = this._engine.wasm._wl_mesh_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /** Mesh rendered by this component. */
    get mesh() {
      const id = this._engine.wasm._wl_mesh_component_get_mesh(this._id);
      return id > 0 ? new Mesh(this._engine, id) : null;
    }
    /**
     * Set mesh to rendered with this component.
     *
     * @param mesh Mesh rendered by this component.
     */
    set mesh(mesh) {
      this._engine.wasm._wl_mesh_component_set_mesh(this._id, mesh ? mesh._index : 0);
    }
    /** Skin for this mesh component. */
    get skin() {
      const id = this._engine.wasm._wl_mesh_component_get_skin(this._id);
      return id > 0 ? new Skin(this._engine, id) : null;
    }
    /**
     * Set skin to transform this mesh component.
     *
     * @param skin Skin to use for rendering skinned meshes.
     */
    set skin(skin) {
      this._engine.wasm._wl_mesh_component_set_skin(this._id, skin ? skin._index : 0);
    }
  };
  /** @override */
  __publicField(MeshComponent, "TypeName", "mesh");
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "material", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "mesh", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "skin", null);
  var LockAxis;
  (function(LockAxis2) {
    LockAxis2[LockAxis2["None"] = 0] = "None";
    LockAxis2[LockAxis2["X"] = 1] = "X";
    LockAxis2[LockAxis2["Y"] = 2] = "Y";
    LockAxis2[LockAxis2["Z"] = 4] = "Z";
  })(LockAxis || (LockAxis = {}));
  var PhysXComponent = class extends Component {
    getTranslationOffset(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_offsetTranslation(this._id, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    getRotationOffset(out = new Float32Array(4)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_physx_component_get_offsetTransform(this._id) >> 2;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      return out;
    }
    /**
     * Set whether this rigid body is static.
     *
     * Setting this property only takes effect once the component
     * switches from inactive to active.
     *
     * @param b Whether the rigid body should be static.
     */
    set static(b) {
      this._engine.wasm._wl_physx_component_set_static(this._id, b);
    }
    /**
     * Whether this rigid body is static.
     *
     * This property returns whether the rigid body is *effectively*
     * static. If static property was set while the rigid body was
     * active, it will not take effect until the rigid body is set
     * inactive and active again. Until the component is set inactive,
     * this getter will return whether the rigid body is actually
     * static.
     */
    get static() {
      return !!this._engine.wasm._wl_physx_component_get_static(this._id);
    }
    /**
     * Equivalent to {@link PhysXComponent.getTranslationOffset}.
     *
     * Gives a quick view of the offset in a debugger.
     *
     * @note Prefer to use {@link PhysXComponent.getTranslationOffset} for performance.
     *
     * @since 1.1.1
     */
    get translationOffset() {
      return this.getTranslationOffset();
    }
    /**
     * Set the offset translation.
     *
     * The array must be a vector of at least **3** elements.
     *
     * @note The component must be re-activated to apply the change.
     *
     * @since 1.1.1
     */
    set translationOffset(offset2) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_set_offsetTranslation(this._id, offset2[0], offset2[1], offset2[2]);
    }
    /**
     * Equivalent to {@link PhysXComponent.getRotationOffset}.
     *
     * Gives a quick view of the offset in a debugger.
     *
     * @note Prefer to use {@link PhysXComponent.getRotationOffset} for performance.
     *
     * @since 1.1.1
     */
    get rotationOffset() {
      return this.getRotationOffset();
    }
    /**
     * Set the offset rotation.
     *
     * The array must be a quaternion of at least **4** elements.
     *
     * @note The component must be re-activated to apply the change.
     *
     * @since 1.1.1
     */
    set rotationOffset(offset2) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_set_offsetRotation(this._id, offset2[0], offset2[1], offset2[2], offset2[3]);
    }
    /**
     * Set whether this rigid body is kinematic.
     *
     * @param b Whether the rigid body should be kinematic.
     */
    set kinematic(b) {
      this._engine.wasm._wl_physx_component_set_kinematic(this._id, b);
    }
    /**
     * Whether this rigid body is kinematic.
     */
    get kinematic() {
      return !!this._engine.wasm._wl_physx_component_get_kinematic(this._id);
    }
    /**
     * Set whether this rigid body's gravity is enabled.
     *
     * @param b Whether the rigid body's gravity should be enabled.
     */
    set gravity(b) {
      this._engine.wasm._wl_physx_component_set_gravity(this._id, b);
    }
    /**
     * Whether this rigid body's gravity flag is enabled.
     */
    get gravity() {
      return !!this._engine.wasm._wl_physx_component_get_gravity(this._id);
    }
    /**
     * Set whether this rigid body's simulate flag is enabled.
     *
     * @param b Whether the rigid body's simulate flag should be enabled.
     */
    set simulate(b) {
      this._engine.wasm._wl_physx_component_set_simulate(this._id, b);
    }
    /**
     * Whether this rigid body's simulate flag is enabled.
     */
    get simulate() {
      return !!this._engine.wasm._wl_physx_component_get_simulate(this._id);
    }
    /**
     * Set whether to allow simulation of this rigid body.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling {@link allowSimulation} while {@link trigger} is enabled
     * will disable {@link trigger}.
     *
     * @param b Whether to allow simulation of this rigid body.
     */
    set allowSimulation(b) {
      this._engine.wasm._wl_physx_component_set_allowSimulation(this._id, b);
    }
    /**
     * Whether to allow simulation of this rigid body.
     */
    get allowSimulation() {
      return !!this._engine.wasm._wl_physx_component_get_allowSimulation(this._id);
    }
    /**
     * Set whether this rigid body may be queried in ray casts.
     *
     * @param b Whether this rigid body may be queried in ray casts.
     */
    set allowQuery(b) {
      this._engine.wasm._wl_physx_component_set_allowQuery(this._id, b);
    }
    /**
     * Whether this rigid body may be queried in ray casts.
     */
    get allowQuery() {
      return !!this._engine.wasm._wl_physx_component_get_allowQuery(this._id);
    }
    /**
     * Set whether this physics body is a trigger.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling trigger while {@link allowSimulation} is enabled,
     * will disable {@link allowSimulation}.
     *
     * @param b Whether this physics body is a trigger.
     */
    set trigger(b) {
      this._engine.wasm._wl_physx_component_set_trigger(this._id, b);
    }
    /**
     * Whether this physics body is a trigger.
     */
    get trigger() {
      return !!this._engine.wasm._wl_physx_component_get_trigger(this._id);
    }
    /**
     * Set the shape for collision detection.
     *
     * @param s New shape.
     * @since 0.8.5
     */
    set shape(s) {
      this._engine.wasm._wl_physx_component_set_shape(this._id, s);
    }
    /** The shape for collision detection. */
    get shape() {
      return this._engine.wasm._wl_physx_component_get_shape(this._id);
    }
    /**
     * Set additional data for the shape.
     *
     * Retrieved only from {@link PhysXComponent#shapeData}.
     * @since 0.8.10
     */
    set shapeData(d) {
      if (d == null || !isMeshShape(this.shape))
        return;
      this._engine.wasm._wl_physx_component_set_shape_data(this._id, d.index);
    }
    /**
     * Additional data for the shape.
     *
     * `null` for {@link Shape} values: `None`, `Sphere`, `Capsule`, `Box`, `Plane`.
     * `{index: n}` for `TriangleMesh` and `ConvexHull`.
     *
     * This data is currently only for passing onto or creating other {@link PhysXComponent}.
     * @since 0.8.10
     */
    get shapeData() {
      if (!isMeshShape(this.shape))
        return null;
      return {
        index: this._engine.wasm._wl_physx_component_get_shape_data(this._id)
      };
    }
    /**
     * Set the shape extents for collision detection.
     *
     * @param e New extents for the shape.
     * @since 0.8.5
     */
    set extents(e) {
      this.extents.set(e);
    }
    /**
     * The shape extents for collision detection.
     */
    get extents() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_physx_component_get_extents(this._id);
      return new Float32Array(wasm.HEAPF32.buffer, ptr, 3);
    }
    /**
     * Get staticFriction.
     */
    get staticFriction() {
      return this._engine.wasm._wl_physx_component_get_staticFriction(this._id);
    }
    /**
     * Set staticFriction.
     * @param v New staticFriction.
     */
    set staticFriction(v) {
      this._engine.wasm._wl_physx_component_set_staticFriction(this._id, v);
    }
    /**
     * Get dynamicFriction.
     */
    get dynamicFriction() {
      return this._engine.wasm._wl_physx_component_get_dynamicFriction(this._id);
    }
    /**
     * Set dynamicFriction
     * @param v New dynamicDamping.
     */
    set dynamicFriction(v) {
      this._engine.wasm._wl_physx_component_set_dynamicFriction(this._id, v);
    }
    /**
     * Get bounciness.
     * @since 0.9.0
     */
    get bounciness() {
      return this._engine.wasm._wl_physx_component_get_bounciness(this._id);
    }
    /**
     * Set bounciness.
     * @param v New bounciness.
     * @since 0.9.0
     */
    set bounciness(v) {
      this._engine.wasm._wl_physx_component_set_bounciness(this._id, v);
    }
    /**
     * Get linearDamping/
     */
    get linearDamping() {
      return this._engine.wasm._wl_physx_component_get_linearDamping(this._id);
    }
    /**
     * Set linearDamping.
     * @param v New linearDamping.
     */
    set linearDamping(v) {
      this._engine.wasm._wl_physx_component_set_linearDamping(this._id, v);
    }
    /** Get angularDamping. */
    get angularDamping() {
      return this._engine.wasm._wl_physx_component_get_angularDamping(this._id);
    }
    /**
     * Set angularDamping.
     * @param v New angularDamping.
     */
    set angularDamping(v) {
      this._engine.wasm._wl_physx_component_set_angularDamping(this._id, v);
    }
    /**
     * Set linear velocity.
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New linear velocity.
     */
    set linearVelocity(v) {
      this._engine.wasm._wl_physx_component_set_linearVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Linear velocity or `[0, 0, 0]` if the component is not active. */
    get linearVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_linearVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set angular velocity
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New angular velocity
     */
    set angularVelocity(v) {
      this._engine.wasm._wl_physx_component_set_angularVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Angular velocity or `[0, 0, 0]` if the component is not active. */
    get angularVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_angularVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set the components groups mask.
     *
     * @param flags New flags that need to be set.
     */
    set groupsMask(flags) {
      this._engine.wasm._wl_physx_component_set_groupsMask(this._id, flags);
    }
    /**
     * Get the components groups mask flags.
     *
     * Each bit represents membership to group, see example.
     *
     * ```js
     * // Assign c to group 2
     * c.groupsMask = (1 << 2);
     *
     * // Assign c to group 0
     * c.groupsMask  = (1 << 0);
     *
     * // Assign c to group 0 and 2
     * c.groupsMask = (1 << 0) | (1 << 2);
     *
     * (c.groupsMask & (1 << 2)) != 0; // true
     * (c.groupsMask & (1 << 7)) != 0; // false
     * ```
     */
    get groupsMask() {
      return this._engine.wasm._wl_physx_component_get_groupsMask(this._id);
    }
    /**
     * Set the components blocks mask.
     *
     * @param flags New flags that need to be set.
     */
    set blocksMask(flags) {
      this._engine.wasm._wl_physx_component_set_blocksMask(this._id, flags);
    }
    /**
     * Get the components blocks mask flags.
     *
     * Each bit represents membership to the block, see example.
     *
     * ```js
     * // Block overlap with any objects in group 2
     * c.blocksMask = (1 << 2);
     *
     * // Block overlap with any objects in group 0
     * c.blocksMask  = (1 << 0)
     *
     * // Block overlap with any objects in group 0 and 2
     * c.blocksMask = (1 << 0) | (1 << 2);
     *
     * (c.blocksMask & (1 << 2)) != 0; // true
     * (c.blocksMask & (1 << 7)) != 0; // false
     * ```
     */
    get blocksMask() {
      return this._engine.wasm._wl_physx_component_get_blocksMask(this._id);
    }
    /**
     * Set axes to lock for linear velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * Combine flags with Bitwise OR:
     *
     * ```js
     * body.linearLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.linearLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set linearLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_linearLockAxis(this._id, lock);
    }
    /**
     * Get the linear lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.
     *
     * ```js
     * if(body.linearLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for linear movement.
     */
    get linearLockAxis() {
      return this._engine.wasm._wl_physx_component_get_linearLockAxis(this._id);
    }
    /**
     * Set axes to lock for angular velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * ```js
     * body.angularLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.angularLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set angularLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_angularLockAxis(this._id, lock);
    }
    /**
     * Get the angular lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed:
     *
     * ```js
     * if(body.angularLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for angular movement.
     */
    get angularLockAxis() {
      return this._engine.wasm._wl_physx_component_get_angularLockAxis(this._id);
    }
    /**
     * Set mass.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * @param m New mass.
     */
    set mass(m) {
      this._engine.wasm._wl_physx_component_set_mass(this._id, m);
    }
    /** Mass */
    get mass() {
      return this._engine.wasm._wl_physx_component_get_mass(this._id);
    }
    /**
     * Set mass space interia tensor.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New mass space interatia tensor.
     */
    set massSpaceInteriaTensor(v) {
      this._engine.wasm._wl_physx_component_set_massSpaceInertiaTensor(this._id, v[0], v[1], v[2]);
    }
    /**
     * Set the rigid body to sleep upon activation.
     *
     * When asleep, the rigid body will not be simulated until the next contact.
     *
     * @param flag `true` to sleep upon activation.
     *
     * @since 1.1.5
     */
    set sleepOnActivate(flag) {
      this._engine.wasm._wl_physx_component_set_sleepOnActivate(this._id, flag);
    }
    /**
     * `true` if the rigid body is set to sleep upon activation, `false` otherwise.
     *
     * @since 1.1.5
     */
    get sleepOnActivate() {
      return !!this._engine.wasm._wl_physx_component_get_sleepOnActivate(this._id);
    }
    /**
     * Apply a force.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     * @param localForce Whether the force vector is in local space, default `false`.
     * @param p Position to apply force at, default is center of mass.
     * @param local Whether position is in local space, default `false`.
     */
    addForce(f, m = ForceMode.Force, localForce = false, p, local = false) {
      const wasm = this._engine.wasm;
      if (!p) {
        wasm._wl_physx_component_addForce(this._id, f[0], f[1], f[2], m, localForce);
        return;
      }
      wasm._wl_physx_component_addForceAt(this._id, f[0], f[1], f[2], m, localForce, p[0], p[1], p[2], local);
    }
    /**
     * Apply torque.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     */
    addTorque(f, m = ForceMode.Force) {
      this._engine.wasm._wl_physx_component_addTorque(this._id, f[0], f[1], f[2], m);
    }
    /**
     * Add on collision callback.
     *
     * @param callback Function to call when this rigid body (un)collides with any other.
     *
     * ```js
     *  let rigidBody = this.object.getComponent('physx');
     *  rigidBody.onCollision(function(type, other) {
     *      // Ignore uncollides
     *      if(type == CollisionEventType.TouchLost) return;
     *
     *      // Take damage on collision with enemies
     *      if(other.object.name.startsWith("enemy-")) {
     *          this.applyDamage(10);
     *      }
     *  }.bind(this));
     * ```
     *
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollision(callback) {
      return this.onCollisionWith(this, callback);
    }
    /**
     * Add filtered on collision callback.
     *
     * @param otherComp Component for which callbacks will
     *        be triggered. If you pass this component, the method is equivalent to.
     *        {@link PhysXComponent#onCollision}.
     * @param callback Function to call when this rigid body
     *        (un)collides with `otherComp`.
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollisionWith(otherComp, callback) {
      const physics = this._engine.physics;
      physics._callbacks[this._id] = physics._callbacks[this._id] || [];
      physics._callbacks[this._id].push(callback);
      return this._engine.wasm._wl_physx_component_addCallback(this._id, otherComp._id || this._id);
    }
    /**
     * Remove a collision callback added with {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     *
     * @param callbackId Callback id as returned by {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     * @throws When the callback does not belong to the component.
     * @throws When the callback does not exist.
     */
    removeCollisionCallback(callbackId) {
      const physics = this._engine.physics;
      const r = this._engine.wasm._wl_physx_component_removeCallback(this._id, callbackId);
      if (r)
        physics._callbacks[this._id].splice(-r);
    }
  };
  /** @override */
  __publicField(PhysXComponent, "TypeName", "physx");
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "static", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "translationOffset", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "rotationOffset", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "kinematic", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "gravity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "simulate", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowSimulation", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowQuery", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "trigger", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shape", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shapeData", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "staticFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "dynamicFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "bounciness", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "groupsMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "blocksMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "mass", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "sleepOnActivate", null);
  var MeshIndexType;
  (function(MeshIndexType2) {
    MeshIndexType2[MeshIndexType2["UnsignedByte"] = 1] = "UnsignedByte";
    MeshIndexType2[MeshIndexType2["UnsignedShort"] = 2] = "UnsignedShort";
    MeshIndexType2[MeshIndexType2["UnsignedInt"] = 4] = "UnsignedInt";
  })(MeshIndexType || (MeshIndexType = {}));
  var MeshSkinningType;
  (function(MeshSkinningType2) {
    MeshSkinningType2[MeshSkinningType2["None"] = 0] = "None";
    MeshSkinningType2[MeshSkinningType2["FourJoints"] = 1] = "FourJoints";
    MeshSkinningType2[MeshSkinningType2["EightJoints"] = 2] = "EightJoints";
  })(MeshSkinningType || (MeshSkinningType = {}));
  var Mesh = class {
    /**
     * Index of the mesh in the manager.
     *
     * @hidden
     */
    _index = -1;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance.
     *
     * @param params Either a mesh index to wrap or set of parameters to create a new mesh.
     *    For more information, please have a look at the {@link MeshParameters} interface.
     */
    constructor(engine, params) {
      this._engine = engine ?? WL;
      this._index = -1;
      if (isNumber(params)) {
        this._index = params;
        return;
      }
      if (!params.vertexCount)
        throw new Error("Missing parameter 'vertexCount'");
      const wasm = this._engine.wasm;
      let indexData = 0;
      let indexType = 0;
      let indexDataSize = 0;
      if (params.indexData) {
        indexType = params.indexType || MeshIndexType.UnsignedShort;
        indexDataSize = params.indexData.length * indexType;
        indexData = wasm._malloc(indexDataSize);
        switch (indexType) {
          case MeshIndexType.UnsignedByte:
            wasm.HEAPU8.set(params.indexData, indexData);
            break;
          case MeshIndexType.UnsignedShort:
            wasm.HEAPU16.set(params.indexData, indexData >> 1);
            break;
          case MeshIndexType.UnsignedInt:
            wasm.HEAPU32.set(params.indexData, indexData >> 2);
            break;
        }
      }
      const { skinningType = MeshSkinningType.None } = params;
      this._index = wasm._wl_mesh_create(indexData, indexDataSize, indexType, params.vertexCount, skinningType);
    }
    /** Number of vertices in this mesh. */
    get vertexCount() {
      return this._engine.wasm._wl_mesh_get_vertexCount(this._index);
    }
    /** Index data (read-only) or `null` if the mesh is not indexed. */
    get indexData() {
      const wasm = this._engine.wasm;
      const tempMem = wasm._tempMem;
      const ptr = wasm._wl_mesh_get_indexData(this._index, tempMem, tempMem + 4);
      if (ptr === null)
        return null;
      const indexCount = wasm.HEAPU32[tempMem / 4];
      const indexSize = wasm.HEAPU32[tempMem / 4 + 1];
      switch (indexSize) {
        case MeshIndexType.UnsignedByte:
          return new Uint8Array(wasm.HEAPU8.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedShort:
          return new Uint16Array(wasm.HEAPU16.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedInt:
          return new Uint32Array(wasm.HEAPU32.buffer, ptr, indexCount);
      }
      return null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Apply changes to {@link attribute | vertex attributes}.
     *
     * Uploads the updated vertex attributes to the GPU and updates the bounding
     * sphere to match the new vertex positions.
     *
     * Since this is an expensive operation, call it only once you have performed
     * all modifications on a mesh and avoid calling if you did not perform any
     * modifications at all.
     */
    update() {
      this._engine.wasm._wl_mesh_update(this._index);
    }
    getBoundingSphere(out = new Float32Array(4)) {
      const tempMemFloat = this._engine.wasm._tempMemFloat;
      this._engine.wasm._wl_mesh_get_boundingSphere(this._index, this._engine.wasm._tempMem);
      out[0] = tempMemFloat[0];
      out[1] = tempMemFloat[1];
      out[2] = tempMemFloat[2];
      out[3] = tempMemFloat[3];
      return out;
    }
    attribute(attr) {
      if (typeof attr != "number")
        throw new TypeError("Expected number, but got " + typeof attr);
      const tempMemUint32 = this._engine.wasm._tempMemUint32;
      this._engine.wasm._wl_mesh_get_attribute(this._index, attr, this._engine.wasm._tempMem);
      if (tempMemUint32[0] == 255)
        return null;
      const arraySize = tempMemUint32[5];
      return new MeshAttributeAccessor(this._engine, {
        attribute: tempMemUint32[0],
        offset: tempMemUint32[1],
        stride: tempMemUint32[2],
        formatSize: tempMemUint32[3],
        componentCount: tempMemUint32[4],
        /* The WASM API returns `0` for a scalar value. We clamp it to 1 as we strictly use it as a multiplier for get/set operations */
        arraySize: arraySize ? arraySize : 1,
        length: this.vertexCount,
        bufferType: attr !== MeshAttribute.JointId ? Float32Array : Uint16Array
      });
    }
    /**
     * Destroy and free the meshes memory.
     *
     * It is best practice to set the mesh variable to `null` after calling
     * destroy to prevent accidental use:
     *
     * ```js
     *   mesh.destroy();
     *   mesh = null;
     * ```
     *
     * Accessing the mesh after destruction behaves like accessing an empty
     * mesh.
     *
     * @since 0.9.0
     */
    destroy() {
      this._engine.wasm._wl_mesh_destroy(this._index);
    }
    /**
     * Checks equality by comparing whether the wrapped native mesh ids are
     * equal.
     *
     * @param otherMesh Mesh to check equality with.
     * @returns Whether this mesh equals the given mesh.
     *
     * @since 1.0.0
     */
    equals(otherMesh) {
      if (!otherMesh)
        return false;
      return this._index === otherMesh._index;
    }
  };
  var MeshAttributeAccessor = class {
    /** Max number of elements. */
    length = 0;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Attribute index. @hidden */
    _attribute = -1;
    /** Attribute offset. @hidden */
    _offset = 0;
    /** Attribute stride. @hidden */
    _stride = 0;
    /** Format size native enum. @hidden */
    _formatSize = 0;
    /** Number of components per vertex. @hidden */
    _componentCount = 0;
    /** Number of values per vertex. @hidden */
    _arraySize = 1;
    /**
     * Class to instantiate an ArrayBuffer to get/set values.
     */
    _bufferType;
    /**
     * Function to allocate temporary WASM memory. It is cached in the accessor to avoid
     * conditionals during get/set.
     */
    _tempBufferGetter;
    /**
     * Create a new instance.
     *
     * @note Please use {@link Mesh.attribute} to create a new instance.
     *
     * @param options Contains information about how to read the data.
     * @note Do not use this constructor. Instead, please use the {@link Mesh.attribute} method.
     *
     * @hidden
     */
    constructor(engine, options) {
      this._engine = engine;
      const wasm = this._engine.wasm;
      this._attribute = options.attribute;
      this._offset = options.offset;
      this._stride = options.stride;
      this._formatSize = options.formatSize;
      this._componentCount = options.componentCount;
      this._arraySize = options.arraySize;
      this._bufferType = options.bufferType;
      this.length = options.length;
      this._tempBufferGetter = this._bufferType === Float32Array ? wasm.getTempBufferF32.bind(wasm) : wasm.getTempBufferU16.bind(wasm);
    }
    /**
     * Create a new TypedArray to hold this attribute's values.
     *
     * This method is useful to create a view to hold the data to
     * pass to {@link get} and {@link set}
     *
     * Example:
     *
     * ```js
     * const vertexCount = 4;
     * const positionAttribute = mesh.attribute(MeshAttribute.Position);
     *
     * // A position has 3 floats per vertex. Thus, positions has length 3 * 4.
     * const positions = positionAttribute.createArray(vertexCount);
     * ```
     *
     * @param count The number of **vertices** expected.
     * @returns A TypedArray with the appropriate format to access the data
     */
    createArray(count = 1) {
      count = count > this.length ? this.length : count;
      return new this._bufferType(count * this._componentCount * this._arraySize);
    }
    get(index, out = this.createArray()) {
      if (out.length % this._componentCount !== 0) {
        throw new Error(`out.length, ${out.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      }
      const dest = this._tempBufferGetter(out.length);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const destSize = elementSize * out.length;
      const srcFormatSize = this._formatSize * this._arraySize;
      const destFormatSize = this._componentCount * elementSize * this._arraySize;
      this._engine.wasm._wl_mesh_get_attribute_values(this._attribute, srcFormatSize, this._offset + index * this._stride, this._stride, destFormatSize, dest.byteOffset, destSize);
      for (let i = 0; i < out.length; ++i)
        out[i] = dest[i];
      return out;
    }
    /**
     * Set attribute element.
     *
     * @param i Index
     * @param v Value to set the element to
     *
     * `v.length` needs to be a multiple of the attributes component count, see
     * {@link MeshAttribute}. If `v.length` is more than one multiple, it will be
     * filled with the next n attribute elements, which can reduce overhead
     * of this call.
     *
     * @returns Reference to self (for method chaining)
     */
    set(i, v) {
      if (v.length % this._componentCount !== 0)
        throw new Error(`out.length, ${v.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const srcSize = elementSize * v.length;
      const srcFormatSize = this._componentCount * elementSize * this._arraySize;
      const destFormatSize = this._formatSize * this._arraySize;
      const wasm = this._engine.wasm;
      if (v.buffer != wasm.HEAPU8.buffer) {
        const dest = this._tempBufferGetter(v.length);
        dest.set(v);
        v = dest;
      }
      wasm._wl_mesh_set_attribute_values(this._attribute, srcFormatSize, v.byteOffset, srcSize, destFormatSize, this._offset + i * this._stride, this._stride);
      return this;
    }
  };
  var Material = class {
    /**
     * Index of this material in the manager.
     *
     * @hidden
     */
    _index;
    /**
     * Material definition index in the scene.
     *
     * @hidden
     */
    _definition;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new Material.
     *
     * @note Creating material is expensive. Please use {@link Material#clone} to clone a material.
     * @note Do not use this constructor directly with an index, this is reserved for internal purposes.
     */
    constructor(engine, params) {
      this._engine = engine;
      if (typeof params !== "number") {
        if (!params?.pipeline)
          throw new Error("Missing parameter 'pipeline'");
        const wasm = this._engine.wasm;
        const pipeline = params.pipeline;
        this._index = wasm._wl_material_create(wasm.tempUTF8(pipeline));
        if (this._index < 0)
          throw new Error(`No such pipeline '${pipeline}'`);
      } else {
        this._index = params;
      }
      this._definition = this._engine.wasm._wl_material_get_definition(this._index);
      if (!this._engine.wasm._materialDefinitions[this._definition])
        throw new Error(`Material Definition ${this._definition} not found for material with index ${this._index}`);
      return new Proxy(this, {
        get(target, prop) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param)
            return target[prop];
          if (wasm._wl_material_get_param_value(target._index, param.index, wasm._tempMem)) {
            const type = param.type;
            switch (type.type) {
              case MaterialParamType.UnsignedInt:
                return type.componentCount == 1 ? wasm._tempMemUint32[0] : new Uint32Array(wasm.HEAPU32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Int:
                return type.componentCount == 1 ? wasm._tempMemInt[0] : new Int32Array(wasm.HEAP32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Float:
                return type.componentCount == 1 ? wasm._tempMemFloat[0] : new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Sampler:
                return engine.textures.wrap(wasm._tempMemInt[0]);
              default:
                throw new Error(`Invalid type ${type.type} on parameter ${param.index} for material ${target._index}`);
            }
          }
        },
        set(target, prop, value) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param) {
            target[prop] = value;
            return true;
          }
          const type = param.type;
          switch (type.type) {
            case MaterialParamType.UnsignedInt:
            case MaterialParamType.Int:
            case MaterialParamType.Sampler:
              const v = value.id ?? value;
              wasm._wl_material_set_param_value_uint(target._index, param.index, v);
              break;
            case MaterialParamType.Float:
              let count = 1;
              if (typeof value === "number") {
                wasm._tempMemFloat[0] = value;
              } else {
                count = value.length;
                for (let i = 0; i < count; ++i)
                  wasm._tempMemFloat[i] = value[i];
              }
              wasm._wl_material_set_param_value_float(target._index, param.index, wasm._tempMem, count);
              break;
            case MaterialParamType.Font:
              throw new Error("Setting font properties is currently unsupported.");
          }
          return true;
        }
      });
    }
    /** @deprecated Use {@link #pipeline} instead. */
    get shader() {
      return this.pipeline;
    }
    /** Name of the pipeline used by this material. */
    get pipeline() {
      const wasm = this._engine.wasm;
      return wasm.UTF8ToString(wasm._wl_material_get_pipeline(this._index));
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Create a copy of the underlying native material.
     *
     * @returns Material clone.
     */
    clone() {
      const id = this._engine.wasm._wl_material_clone(this._index);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /**
     * Checks equality by comparing whether the wrapped native material ids are
     * equal.
     *
     * @param otherMaterial Material to check equality with.
     * @returns Whether this material equals the given material.
     *
     * @since 1.0.0
     */
    equals(otherMaterial) {
      if (!otherMaterial)
        return false;
      return this._index === otherMaterial._index;
    }
    /**
     * Wrap a native material index.
     *
     * @param engine Engine instance.
     * @param index The index.
     * @returns Material instance or `null` if index <= 0.
     *
     * @deprecated Please use `new Material()` instead.
     */
    static wrap(engine, index) {
      return index > 0 ? new Material(engine, index) : null;
    }
  };
  var temp2d = null;
  var Texture = class {
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Index in the manager. @hidden */
    _id = 0;
    /** HTML image index. @hidden */
    _imageIndex = null;
    /**
     * @param engine The engine instance
     * @param param HTML media element to create texture from or texture id to wrap.
     */
    constructor(engine, param) {
      this._engine = engine ?? WL;
      const wasm = engine.wasm;
      if (param instanceof HTMLImageElement || param instanceof HTMLVideoElement || param instanceof HTMLCanvasElement) {
        const index = wasm._images.length;
        wasm._images.push(param);
        this._imageIndex = index;
        this._id = this._engine.wasm._wl_renderer_addImage(index);
      } else {
        this._id = param;
      }
      this._engine.textures._set(this);
    }
    /** Whether this texture is valid. */
    get valid() {
      return this._id >= 0;
    }
    /** Index in this manager. */
    get id() {
      return this._id;
    }
    /** Update the texture to match the HTML element (e.g. reflect the current frame of a video). */
    update() {
      if (!this.valid || this._imageIndex === null)
        return;
      this._engine.wasm._wl_renderer_updateImage(this._id, this._imageIndex);
    }
    /** Width of the texture. */
    get width() {
      return this._engine.wasm._wl_texture_width(this._id);
    }
    /** Height of the texture. */
    get height() {
      return this._engine.wasm._wl_texture_height(this._id);
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Update a subrange on the texture to match the HTML element (e.g. reflect the current frame of a video).
     *
     * Usage:
     *
     * ```js
     * // Copies rectangle of pixel starting from (10, 20)
     * texture.updateSubImage(10, 20, 600, 400);
     * ```
     *
     * @param x x offset
     * @param y y offset
     * @param w width
     * @param h height
     */
    updateSubImage(x, y, w, h) {
      if (!this.valid || this._imageIndex === null)
        return;
      if (!temp2d) {
        const canvas2 = document.createElement("canvas");
        const ctx = canvas2.getContext("2d");
        if (!ctx) {
          throw new Error("Texture.updateSubImage(): Failed to obtain CanvasRenderingContext2D.");
        }
        temp2d = {
          canvas: canvas2,
          ctx
        };
      }
      const wasm = this._engine.wasm;
      const img = wasm._images[this._imageIndex];
      if (!img)
        return;
      temp2d.canvas.width = w;
      temp2d.canvas.height = h;
      temp2d.ctx.drawImage(img, x, y, w, h, 0, 0, w, h);
      const yOffset = (img.videoHeight ?? img.height) - y - h;
      wasm._images[this._imageIndex] = temp2d.canvas;
      wasm._wl_renderer_updateImage(this._id, this._imageIndex, x, yOffset);
      wasm._images[this._imageIndex] = img;
    }
    /**
     * Destroy and free the texture's texture altas space and memory.
     *
     * It is best practice to set the texture variable to `null` after calling
     * destroy to prevent accidental use of the invalid texture:
     *
     * ```js
     *   texture.destroy();
     *   texture = null;
     * ```
     *
     * @since 0.9.0
     */
    destroy() {
      this.engine._destroyTexture(this);
      this._id = -1;
      this._imageIndex = null;
    }
    /**
     * Checks equality by comparing whether the wrapped native texture ids are
     * equal.
     *
     * @param otherTexture Texture to check equality with.
     * @returns Whether this texture equals the given texture.
     *
     * @since 1.0.0
     */
    equals(otherTexture) {
      if (!otherTexture)
        return false;
      return this._id === otherTexture._id;
    }
  };
  var Animation = class {
    /** Index of the mesh in the manager. @hidden */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * @param index Index in the manager
     */
    constructor(engine = WL, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Duration of this animation. */
    get duration() {
      return this._engine.wasm._wl_animation_get_duration(this._index);
    }
    /** Number of tracks in this animation. */
    get trackCount() {
      return this._engine.wasm._wl_animation_get_trackCount(this._index);
    }
    /**
     * Clone this animation retargeted to a new set of objects.
     *
     * The clone shares most of the data with the original and is therefore
     * light-weight.
     *
     * **Experimental:** This API might change in upcoming versions.
     *
     * If retargeting to {@link Skin}, the join names will be used to determine a mapping
     * from the previous skin to the new skin. The source skin will be retrieved from
     * the first track in the animation that targets a joint.
     *
     * @param newTargets New targets per track. Expected to have
     *      {@link Animation#trackCount} elements or to be a {@link Skin}.
     * @returns The retargeted clone of this animation.
     */
    retarget(newTargets) {
      const wasm = this._engine.wasm;
      if (newTargets instanceof Skin) {
        const animId2 = wasm._wl_animation_retargetToSkin(this._index, newTargets._index);
        return new Animation(this._engine, animId2);
      }
      if (newTargets.length != this.trackCount) {
        throw Error("Expected " + this.trackCount.toString() + " targets, but got " + newTargets.length.toString());
      }
      const ptr = wasm._malloc(2 * newTargets.length);
      for (let i = 0; i < newTargets.length; ++i) {
        wasm.HEAPU16[ptr >> 1 + i] = newTargets[i].objectId;
      }
      const animId = wasm._wl_animation_retarget(this._index, ptr);
      wasm._free(ptr);
      return new Animation(this._engine, animId);
    }
    /**
     * Checks equality by comparing whether the wrapped native animation ids
     * are equal.
     *
     * @param otherAnimation Animation to check equality with.
     * @returns Whether this animation equals the given animation.
     *
     * @since 1.0.0
     */
    equals(otherAnimation) {
      if (!otherAnimation)
        return false;
      return this._index === otherAnimation._index;
    }
  };
  var Object3D = class {
    /**
     * Object index in the manager.
     *
     * @hidden
     */
    _objectId = -1;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * @param o Object id to wrap
     *
     * For performance reasons, please use {@link WonderlandEngine.wrapObject}
     */
    constructor(engine, o) {
      this._objectId = o;
      this._engine = engine;
    }
    /**
     * Name of the object.
     *
     * Useful for identifying objects during debugging.
     */
    get name() {
      const wasm = this._engine.wasm;
      return wasm.UTF8ToString(wasm._wl_object_name(this.objectId));
    }
    /**
     * Set the object's name.
     *
     * @param newName The new name to set.
     */
    set name(newName) {
      const wasm = this._engine.wasm;
      wasm._wl_object_set_name(this.objectId, wasm.tempUTF8(newName));
    }
    /**
     * Parent of this object or `null` if parented to root.
     */
    get parent() {
      const p = this._engine.wasm._wl_object_parent(this.objectId);
      return p === 0 ? null : this._engine.wrapObject(p);
    }
    /**
     * Children of this object.
     *
     * @note Child order is **undefined**. No assumptions should be made
     * about the index of a specific object.
     *
     * If you need to access a specific child of this object, you can
     * use {@link Object3D.findByName}.
     *
     * When the object exists in the scene at editor time, prefer passing it as
     * a component property.
     */
    get children() {
      const childrenCount = this._engine.wasm._wl_object_get_children_count(this.objectId);
      if (childrenCount === 0)
        return [];
      const wasm = this._engine.wasm;
      wasm.requireTempMem(childrenCount * 2);
      this._engine.wasm._wl_object_get_children(this.objectId, wasm._tempMem, wasm._tempMemSize >> 1);
      const children = new Array(childrenCount);
      for (let i = 0; i < childrenCount; ++i) {
        children[i] = this._engine.wrapObject(wasm._tempMemUint16[i]);
      }
      return children;
    }
    /**
     * Reparent object to given object.
     *
     * @note Reparenting is not trivial and might have a noticeable performance impact.
     *
     * @param newParent New parent or `null` to parent to root
     */
    set parent(newParent) {
      this._engine.wasm._wl_object_set_parent(this.objectId, newParent == null ? 0 : newParent.objectId);
    }
    /** Object index in the manager. */
    get objectId() {
      return this._objectId;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Clone this hierarchy into a new one.
     *
     * Cloning copies the hierarchy structure, object names,
     * as well as components.
     *
     * JavaScript components are cloned using {@link Component.copy}. You can
     * override this method in your components.
     *
     * @param parent The parent for the cloned hierarchy or `null` to clone
     *     into the scene root. Defaults to `null`.
     *
     * @returns The clone of this object.
     */
    clone(parent = null) {
      const engine = this._engine;
      const id = engine.wasm._wl_object_clone(this._objectId, parent ? parent._objectId : 0);
      return engine.wrapObject(id);
    }
    /**
     * Reset local transformation (translation, rotation and scaling) to identity.
     *
     * @returns Reference to self (for method chaining).
     */
    resetTransform() {
      this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);
      this._engine.wasm._wl_object_reset_scaling(this.objectId);
      return this;
    }
    /**
     * Reset local position and rotation to identity.
     *
     * @returns Reference to self (for method chaining).
     */
    resetPositionRotation() {
      this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);
      return this;
    }
    /** @deprecated Please use {@link Object3D.resetPositionRotation} instead. */
    resetTranslationRotation() {
      return this.resetPositionRotation();
    }
    /**
     * Reset local rotation, keep translation.
     *
     * @note To reset both rotation and translation, prefer
     *       {@link resetTranslationRotation}.
     *
     * @returns Reference to self (for method chaining).
     */
    resetRotation() {
      this._engine.wasm._wl_object_reset_rotation(this.objectId);
      return this;
    }
    /**
     * Reset local translation, keep rotation.
     *
     * @note To reset both rotation and translation, prefer
     *       {@link resetTranslationRotation}.
     *
     * @returns Reference to self (for method chaining).
     */
    resetPosition() {
      this._engine.wasm._wl_object_reset_translation(this.objectId);
      return this;
    }
    /** @deprecated Please use {@link Object3D.resetPosition} instead. */
    resetTranslation() {
      return this.resetPosition();
    }
    /**
     * Reset local scaling to identity (``[1.0, 1.0, 1.0]``).
     *
     * @returns Reference to self (for method chaining).
     */
    resetScaling() {
      this._engine.wasm._wl_object_reset_scaling(this.objectId);
      return this;
    }
    /** @deprecated Please use {@link Object3D.translateLocal} instead. */
    translate(v) {
      return this.translateLocal(v);
    }
    /**
     * Translate object by a vector in the parent's space.
     *
     * @param v Vector to translate by.
     *
     * @returns Reference to self (for method chaining).
     */
    translateLocal(v) {
      this._engine.wasm._wl_object_translate(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /**
     * Translate object by a vector in object space.
     *
     * @param v Vector to translate by.
     *
     * @returns Reference to self (for method chaining).
     */
    translateObject(v) {
      this._engine.wasm._wl_object_translate_obj(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /**
     * Translate object by a vector in world space.
     *
     * @param v Vector to translate by.
     *
     * @returns Reference to self (for method chaining).
     */
    translateWorld(v) {
      this._engine.wasm._wl_object_translate_world(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.rotateAxisAngleDegLocal} instead. */
    rotateAxisAngleDeg(a, d) {
      this.rotateAxisAngleDegLocal(a, d);
      return this;
    }
    /**
     * Rotate around given axis by given angle (degrees) in local space.
     *
     * @param a Vector representing the rotation axis.
     * @param d Angle in degrees.
     *
     * @note If the object is translated the rotation will be around
     *     the parent. To rotate around the object origin, use
     *     {@link rotateAxisAngleDegObject}
     *
     * @see {@link rotateAxisAngleRad}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleDegLocal(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /** @deprecated Please use {@link Object3D.rotateAxisAngleRadLocal} instead. */
    rotateAxisAngleRad(a, d) {
      return this.rotateAxisAngleRadLocal(a, d);
    }
    /**
     * Rotate around given axis by given angle (radians) in local space.
     *
     * @param a Vector representing the rotation axis.
     * @param d Angle in radians.
     *
     * @note If the object is translated the rotation will be around
     *     the parent. To rotate around the object origin, use
     *     {@link rotateAxisAngleDegObject}
     *
     * @see {@link rotateAxisAngleDeg}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleRadLocal(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle_rad(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /**
     * Rotate around given axis by given angle (degrees) in object space.
     *
     * @param a Vector representing the rotation axis.
     * @param d Angle in degrees.
     *
     * Equivalent to prepending a rotation quaternion to the object's
     * local transformation.
     *
     * @see {@link rotateAxisAngleRadObject}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleDegObject(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle_obj(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /**
     * Rotate around given axis by given angle (radians) in object space
     * Equivalent to prepending a rotation quaternion to the object's
     * local transformation.
     *
     * @param a Vector representing the rotation axis
     * @param d Angle in degrees
     *
     * @see {@link rotateAxisAngleDegObject}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleRadObject(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle_rad_obj(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /** @deprecated Please use {@link Object3D.rotateLocal} instead. */
    rotate(q) {
      this.rotateLocal(q);
      return this;
    }
    /**
     * Rotate by a quaternion.
     *
     * @param q the Quaternion to rotate by.
     *
     * @returns Reference to self (for method chaining).
     */
    rotateLocal(q) {
      this._engine.wasm._wl_object_rotate_quat(this.objectId, q[0], q[1], q[2], q[3]);
      return this;
    }
    /**
     * Rotate by a quaternion in object space.
     *
     * Equivalent to prepending a rotation quaternion to the object's
     * local transformation.
     *
     * @param q the Quaternion to rotate by.
     *
     * @returns Reference to self (for method chaining).
     */
    rotateObject(q) {
      this._engine.wasm._wl_object_rotate_quat_obj(this.objectId, q[0], q[1], q[2], q[3]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.scaleLocal} instead. */
    scale(v) {
      this.scaleLocal(v);
      return this;
    }
    /**
     * Scale object by a vector in object space.
     *
     * @param v Vector to scale by.
     *
     * @returns Reference to self (for method chaining).
     */
    scaleLocal(v) {
      this._engine.wasm._wl_object_scale(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    getPositionLocal(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      wasm._wl_object_get_translation_local(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    getTranslationLocal(out = new Float32Array(3)) {
      return this.getPositionLocal(out);
    }
    getPositionWorld(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      wasm._wl_object_get_translation_world(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    getTranslationWorld(out = new Float32Array(3)) {
      return this.getPositionWorld(out);
    }
    /**
     * Set local / object space position.
     *
     * Concatenates a new translation dual quaternion onto the existing rotation.
     *
     * @param v New local position array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setPositionLocal(v) {
      this._engine.wasm._wl_object_set_translation_local(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.setPositionLocal} instead. */
    setTranslationLocal(v) {
      return this.setPositionLocal(v);
    }
    /**
     * Set world space position.
     *
     * Applies the inverse parent transform with a new translation dual quaternion
     * which is concatenated onto the existing rotation.
     *
     * @param v New world position array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setPositionWorld(v) {
      this._engine.wasm._wl_object_set_translation_world(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.setPositionWorld} instead. */
    setTranslationWorld(v) {
      return this.setPositionWorld(v);
    }
    getScalingLocal(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_scaling_local(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set local / object space scaling.
     *
     * @param v New local scaling array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setScalingLocal(v) {
      this._engine.wasm._wl_object_set_scaling_local(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    getScalingWorld(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_scaling_world(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set World space scaling.
     *
     * @param v New world scaling array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setScalingWorld(v) {
      this._engine.wasm._wl_object_set_scaling_world(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    getRotationLocal(out = new Float32Array(4)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_local(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      return out;
    }
    /**
     * Set local space rotation.
     *
     * @param v New world rotation array/vector, expected to have at least 4 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setRotationLocal(v) {
      this._engine.wasm._wl_object_set_rotation_local(this.objectId, v[0], v[1], v[2], v[3]);
      return this;
    }
    getRotationWorld(out = new Float32Array(4)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_world(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      return out;
    }
    /**
     * Set local space rotation.
     *
     * @param v New world rotation array/vector, expected to have at least 4 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setRotationWorld(v) {
      this._engine.wasm._wl_object_set_rotation_world(this.objectId, v[0], v[1], v[2], v[3]);
      return this;
    }
    getTransformLocal(out = new Float32Array(8)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_local(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      out[4] = wasm.HEAPF32[ptr + 4];
      out[5] = wasm.HEAPF32[ptr + 5];
      out[6] = wasm.HEAPF32[ptr + 6];
      out[7] = wasm.HEAPF32[ptr + 7];
      return out;
    }
    /**
     * Set local space rotation.
     *
     * @param v New local transform array, expected to have at least 8 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setTransformLocal(v) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_local(this.objectId) / 4;
      wasm.HEAPF32[ptr] = v[0];
      wasm.HEAPF32[ptr + 1] = v[1];
      wasm.HEAPF32[ptr + 2] = v[2];
      wasm.HEAPF32[ptr + 3] = v[3];
      wasm.HEAPF32[ptr + 4] = v[4];
      wasm.HEAPF32[ptr + 5] = v[5];
      wasm.HEAPF32[ptr + 6] = v[6];
      wasm.HEAPF32[ptr + 7] = v[7];
      this.setDirty();
      return this;
    }
    getTransformWorld(out = new Float32Array(8)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_world(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      out[4] = wasm.HEAPF32[ptr + 4];
      out[5] = wasm.HEAPF32[ptr + 5];
      out[6] = wasm.HEAPF32[ptr + 6];
      out[7] = wasm.HEAPF32[ptr + 7];
      return out;
    }
    /**
     * Set world space rotation.
     *
     * @param v New world transform array, expected to have at least 8 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setTransformWorld(v) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_world(this.objectId) / 4;
      wasm.HEAPF32[ptr] = v[0];
      wasm.HEAPF32[ptr + 1] = v[1];
      wasm.HEAPF32[ptr + 2] = v[2];
      wasm.HEAPF32[ptr + 3] = v[3];
      wasm.HEAPF32[ptr + 4] = v[4];
      wasm.HEAPF32[ptr + 5] = v[5];
      wasm.HEAPF32[ptr + 6] = v[6];
      wasm.HEAPF32[ptr + 7] = v[7];
      this._engine.wasm._wl_object_trans_world_to_local(this.objectId);
      return this;
    }
    /**
     * Local space transformation.
     *
     * @deprecated Please use {@link Object3D.setTransformLocal} and
     * {@link Object3D.getTransformLocal} instead.
     */
    get transformLocal() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_local(this.objectId), 8);
    }
    /**
     * Set local transform.
     *
     * @param t Local space transformation.
     *
     * @since 0.8.5
     *
     * @deprecated Please use {@link Object3D.setTransformLocal} and
     * {@link Object3D.getTransformLocal} instead.
     */
    set transformLocal(t) {
      this.transformLocal.set(t);
      this.setDirty();
    }
    /**
     * Global / world space transformation.
     *
     * May recompute transformations of the hierarchy of this object,
     * if they were changed by JavaScript components this frame.
     *
     * @deprecated Please use {@link Object3D.setTransformWorld} and
     * {@link Object3D.getTransformWorld} instead.
     */
    get transformWorld() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_world(this.objectId), 8);
    }
    /**
     * Set world transform.
     *
     * @param t Global / world space transformation.
     *
     * @since 0.8.5
     *
     * @deprecated Please use {@link Object3D.setTransformWorld} and
     * {@link Object3D.getTransformWorld} instead.
     */
    set transformWorld(t) {
      this.transformWorld.set(t);
      this._engine.wasm._wl_object_trans_world_to_local(this.objectId);
    }
    /**
     * Local / object space scaling.
     *
     * @deprecated Please use {@link Object3D.setScalingLocal} and
     * {@link Object3D.getScalingLocal} instead.
     */
    get scalingLocal() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_local(this.objectId), 3);
    }
    /**
     * Set local space scaling.
     *
     * @param s Local space scaling.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.setScalingLocal} and
     * {@link Object3D.getScalingLocal} instead.
     */
    set scalingLocal(s) {
      this.scalingLocal.set(s);
      this.setDirty();
    }
    /**
     * Global / world space scaling.
     *
     * May recompute transformations of the hierarchy of this object,
     * if they were changed by JavaScript components this frame.
     *
     * @deprecated Please use {@link Object3D.setScalingWorld} and
     * {@link Object3D.getScalingWorld} instead.
     */
    get scalingWorld() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_world(this.objectId), 3);
    }
    /**
     * Set world space scaling.
     *
     * @param t World space scaling.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.setScalingWorld} and
     * {@link Object3D.getScalingWorld} instead.
     */
    set scalingWorld(s) {
      this.scalingWorld.set(s);
      this._engine.wasm._wl_object_scaling_world_to_local(this.objectId);
    }
    /**
     * Local space rotation.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationLocal} and
     * {@link Object3D.setRotationLocal} instead.
     */
    get rotationLocal() {
      return this.transformLocal.subarray(0, 4);
    }
    /**
     * Global / world space rotation
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationWorld} and
     * {@link Object3D.setRotationWorld} instead.
     */
    get rotationWorld() {
      return this.transformWorld.subarray(0, 4);
    }
    /**
     * Set local space rotation.
     *
     * @param r Local space rotation
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationLocal} and
     * {@link Object3D.setRotationLocal} instead.
     */
    set rotationLocal(r) {
      this._engine.wasm._wl_object_set_rotation_local(this.objectId, r[0], r[1], r[2], r[3]);
    }
    /**
     * Set world space rotation.
     *
     * @param r Global / world space rotation.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationWorld} and
     * {@link Object3D.setRotationWorld} instead.
     */
    set rotationWorld(r) {
      this._engine.wasm._wl_object_set_rotation_world(this.objectId, r[0], r[1], r[2], r[3]);
    }
    /** @deprecated Please use {@link Object3D.getForwardWorld} instead. */
    getForward(out) {
      return this.getForwardWorld(out);
    }
    /**
     * Compute the object's forward facing world space vector.
     *
     * The forward vector in object space is along the negative z-axis, i.e.,
     * `[0, 0, -1]`.
     *
     * @param out Destination array/vector, expected to have at least 3 elements.
     * @return The `out` parameter.
     */
    getForwardWorld(out) {
      out[0] = 0;
      out[1] = 0;
      out[2] = -1;
      this.transformVectorWorld(out);
      return out;
    }
    /** @deprecated Please use {@link Object3D.getUpWorld} instead. */
    getUp(out) {
      return this.getUpWorld(out);
    }
    /**
     * Compute the object's up facing world space vector.
     *
     * @param out Destination array/vector, expected to have at least 3 elements.
     * @return The `out` parameter.
     */
    getUpWorld(out) {
      out[0] = 0;
      out[1] = 1;
      out[2] = 0;
      this.transformVectorWorld(out);
      return out;
    }
    /** @deprecated Please use {@link Object3D.getRightWorld} instead. */
    getRight(out) {
      return this.getRightWorld(out);
    }
    /**
     * Compute the object's right facing world space vector.
     *
     * @param out Destination array/vector, expected to have at least 3 elements.
     * @return The `out` parameter.
     */
    getRightWorld(out) {
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      this.transformVectorWorld(out);
      return out;
    }
    /**
     * Transform a vector by this object's world transform.
     *
     * @param out Out vector
     * @param v Vector to transform, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorWorld(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a vector by this object's local transform.
     *
     * @param out Out vector
     * @param v Vector to transform, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorLocal(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's world transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointWorld(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = p[0];
      wasm._tempMemFloat[1] = p[1];
      wasm._tempMemFloat[2] = p[2];
      wasm._wl_object_transformPointWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's local transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointLocal(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = p[0];
      wasm._tempMemFloat[1] = p[1];
      wasm._tempMemFloat[2] = p[2];
      wasm._wl_object_transformPointLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a vector by this object's inverse world transform.
     *
     * @param out Out vector.
     * @param v Vector to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorInverseWorld(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorInverseWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a vector by this object's inverse local transform.
     *
     * @param out Out vector
     * @param v Vector to transform, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorInverseLocal(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorInverseLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's inverse world transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointInverseWorld(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = p[0];
      wasm._tempMemFloat[1] = p[1];
      wasm._tempMemFloat[2] = p[2];
      wasm._wl_object_transformPointInverseWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's inverse local transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointInverseLocal(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat.set(p);
      wasm._wl_object_transformPointInverseLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform an object space dual quaternion into world space.
     *
     * @param out Out transformation.
     * @param q Local space transformation, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    toWorldSpaceTransform(out, q = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat.set(q);
      wasm._wl_object_toWorldSpaceTransform(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      out[3] = wasm._tempMemFloat[3];
      out[4] = wasm._tempMemFloat[4];
      out[5] = wasm._tempMemFloat[5];
      out[6] = wasm._tempMemFloat[6];
      out[7] = wasm._tempMemFloat[7];
      return out;
    }
    /**
     * Transform a world space dual quaternion into local space.
     *
     * @param out Out transformation
     * @param q World space transformation, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    toLocalSpaceTransform(out, q = out) {
      const p = this.parent;
      if (p) {
        p.toObjectSpaceTransform(out, q);
        return out;
      }
      if (out !== q) {
        out[0] = q[0];
        out[1] = q[1];
        out[2] = q[2];
        out[3] = q[3];
        out[4] = q[4];
        out[5] = q[5];
        out[6] = q[6];
        out[7] = q[7];
      }
      return out;
    }
    /**
     * Transform a world space dual quaternion into object space.
     *
     * @param out Out transformation.
     * @param q World space transformation, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    toObjectSpaceTransform(out, q = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat.set(q);
      wasm._wl_object_toObjectSpaceTransform(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      out[3] = wasm._tempMemFloat[3];
      out[4] = wasm._tempMemFloat[4];
      out[5] = wasm._tempMemFloat[5];
      out[6] = wasm._tempMemFloat[6];
      out[7] = wasm._tempMemFloat[7];
      return out;
    }
    /**
     * Turn towards / look at target.
     *
     * Rotates the object so that its forward vector faces towards the target
     * position. The `up` vector acts as a hint to uniquely orient the object's
     * up direction. When orienting a view component, the projected `up` vector
     * faces upwards on the viewing plane.
     *
     * @param p Target position to turn towards, in world space.
     * @param up Up vector to align object with, in world space. Default is `[0, 1, 0]`.
     *
     * @returns Reference to self (for method chaining).
     */
    lookAt(p, up = UP_VECTOR) {
      this._engine.wasm._wl_object_lookAt(this.objectId, p[0], p[1], p[2], up[0], up[1], up[2]);
      return this;
    }
    /** Destroy the object with all of its components and remove it from the scene */
    destroy() {
      if (this._objectId < 0)
        return;
      this.engine.wasm._wl_scene_remove_object(this._objectId);
      this.engine._destroyObject(this);
    }
    /**
     * Mark transformation dirty.
     *
     * Causes an eventual recalculation of {@link transformWorld}, either
     * on next {@link getTranslationWorld}, {@link transformWorld} or
     * {@link scalingWorld} or the beginning of next frame, whichever
     * happens first.
     */
    setDirty() {
      this._engine.wasm._wl_object_set_dirty(this.objectId);
    }
    /**
     * Disable/enable all components of this object.
     *
     * @param b New state for the components.
     *
     * @since 0.8.5
     */
    set active(b) {
      const comps = this.getComponents();
      for (let c of comps) {
        c.active = b;
      }
    }
    getComponent(typeOrClass, index = 0) {
      const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;
      const wasm = this._engine.wasm;
      const componentType = wasm._wl_get_component_manager_index(wasm.tempUTF8(type));
      if (componentType < 0) {
        const typeIndex = wasm._componentTypeIndices[type];
        if (typeIndex === void 0)
          return null;
        const jsIndex = wasm._wl_get_js_component_index(this.objectId, typeIndex, index);
        if (jsIndex < 0)
          return null;
        const component = this._engine.wasm._components[jsIndex];
        return component.constructor !== BrokenComponent ? component : null;
      }
      const componentId = this._engine.wasm._wl_get_component_id(this.objectId, componentType, index);
      return this._engine._wrapComponent(type, componentType, componentId);
    }
    getComponents(typeOrClass) {
      const wasm = this._engine.wasm;
      let componentType = null;
      let type = null;
      if (typeOrClass) {
        type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;
        componentType = wasm._typeIndexFor(type);
      }
      const components = [];
      const maxComps = Math.floor(wasm._tempMemSize / 3 * 2);
      const componentsCount = wasm._wl_object_get_components(this.objectId, wasm._tempMem, maxComps);
      const offset2 = 2 * componentsCount;
      wasm._wl_object_get_component_types(this.objectId, wasm._tempMem + offset2, maxComps);
      const jsManagerIndex = wasm._jsManagerIndex;
      for (let i = 0; i < componentsCount; ++i) {
        const t = wasm._tempMemUint8[i + offset2];
        const componentId = wasm._tempMemUint16[i];
        if (t == jsManagerIndex) {
          const typeIndex = wasm._wl_get_js_component_index_for_id(componentId);
          const comp = wasm._components[typeIndex];
          const matches = componentType === null || comp.type == type;
          if (comp.constructor !== BrokenComponent && matches) {
            components.push(comp);
          }
          continue;
        }
        if (componentType === null) {
          const managerName = wasm._typeNameFor(t);
          components.push(this._engine._wrapComponent(managerName, t, componentId));
        } else if (t == componentType) {
          components.push(this._engine._wrapComponent(type, componentType, componentId));
        }
      }
      return components;
    }
    addComponent(typeOrClass, params) {
      const wasm = this._engine.wasm;
      const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;
      const componentType = wasm._typeIndexFor(type);
      let component = null;
      let componentIndex = null;
      if (componentType < 0) {
        if (!(type in wasm._componentTypeIndices)) {
          throw new TypeError("Unknown component type '" + type + "'");
        }
        const componentId = wasm._wl_object_add_js_component(this.objectId, wasm._componentTypeIndices[type]);
        componentIndex = wasm._wl_get_js_component_index_for_id(componentId);
        component = wasm._components[componentIndex];
      } else {
        const componentId = wasm._wl_object_add_component(this.objectId, componentType);
        component = this._engine._wrapComponent(type, componentType, componentId);
      }
      if (params !== void 0)
        component.copy(params);
      if (componentType < 0) {
        wasm._wljs_component_init(componentIndex);
      }
      if (!params || !("active" in params && !params.active)) {
        component.active = true;
      }
      return component;
    }
    /**
     * Search for descendants matching the name.
     *
     * This method is a wrapper around {@link Object3D.findByNameDirect} and
     * {@link Object3D.findByNameRecursive}.
     *
     * @param name The name to search for.
     * @param recursive If `true`, the method will look at all the descendants of this object.
     *     If `false`, this method will only perform the search in direct children.
     * @returns An array of {@link Object3D} matching the name.
     *
     * @since 1.1.0
     */
    findByName(name, recursive = false) {
      return recursive ? this.findByNameRecursive(name) : this.findByNameDirect(name);
    }
    /**
     * Search for all **direct** children matching the name.
     *
     * @note Even though this method is heavily optimized, it does perform
     * a linear search to find the objects. Do not use in a hot path.
     *
     * @param name The name to search for.
     * @returns An array of {@link Object3D} matching the name.
     *
     * @since 1.1.0
     */
    findByNameDirect(name) {
      const wasm = this._engine.wasm;
      const id = this._objectId;
      const tempSizeU16 = wasm._tempMemSize >> 2;
      const maxCount = tempSizeU16 - 2;
      const buffer = wasm._tempMemUint16;
      buffer[maxCount] = 0;
      buffer[maxCount + 1] = 0;
      const bufferPtr = wasm._tempMem;
      const indexPtr = bufferPtr + maxCount * 2;
      const childCountPtr = bufferPtr + maxCount * 2 + 2;
      const namePtr = wasm.tempUTF8(name, (maxCount + 2) * 2);
      const result = [];
      let read = 0;
      while (read = wasm._wl_object_findByName(id, namePtr, indexPtr, childCountPtr, bufferPtr, maxCount)) {
        for (let i = 0; i < read; ++i)
          result.push(this.engine.wrapObject(buffer[i]));
      }
      return result;
    }
    /**
     * Search for **all descendants** matching the name.
     *
     * @note Even though this method is heavily optimized, it does perform
     * a linear search to find the objects. Do not use in a hot path.
     *
     * @param name The name to search for.
     * @returns An array of {@link Object3D} matching the name.
     *
     * @since 1.1.0
     */
    findByNameRecursive(name) {
      const wasm = this._engine.wasm;
      const id = this._objectId;
      const tempSizeU16 = wasm._tempMemSize >> 2;
      const maxCount = tempSizeU16 - 1;
      const buffer = wasm._tempMemUint16;
      buffer[maxCount] = 0;
      const bufferPtr = wasm._tempMem;
      const indexPtr = bufferPtr + maxCount * 2;
      const namePtr = wasm.tempUTF8(name, (maxCount + 1) * 2);
      let read = 0;
      const result = [];
      while (read = wasm._wl_object_findByNameRecursive(id, namePtr, indexPtr, bufferPtr, maxCount)) {
        for (let i = 0; i < read; ++i)
          result.push(this.engine.wrapObject(buffer[i]));
      }
      return result;
    }
    /**
     * Whether given object's transformation has changed.
     */
    get changed() {
      return !!this._engine.wasm._wl_object_is_changed(this.objectId);
    }
    /**
     * `true` if the object is destroyed, `false` otherwise.
     *
     * If {@link WonderlandEngine.erasePrototypeOnDestroy} is `true`,
     * reading a custom property will not work:
     *
     * ```js
     * engine.erasePrototypeOnDestroy = true;
     *
     * const obj = scene.addObject();
     * obj.customParam = 'Hello World!';
     *
     * console.log(obj.isDestroyed); // Prints `false`
     * obj.destroy();
     * console.log(obj.isDestroyed); // Prints `true`
     * console.log(obj.customParam); // Throws an error
     * ```
     *
     * @since 1.1.1
     */
    get isDestroyed() {
      return this._objectId < 0;
    }
    /**
     * Checks equality by comparing whether the wrapped native object ids are
     * equal.
     *
     * @param otherObject Object to check equality with.
     * @returns Whether this object equals the given object.
     */
    equals(otherObject) {
      if (!otherObject)
        return false;
      return this.objectId == otherObject.objectId;
    }
  };
  var Skin = class {
    /**
     * Index of the skin in the manager.
     * @hidden
     */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    constructor(engine, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Amount of joints in this skin. */
    get jointCount() {
      return this._engine.wasm._wl_skin_get_joint_count(this._index);
    }
    /** Joints object ids for this skin */
    get jointIds() {
      const wasm = this._engine.wasm;
      return new Uint16Array(wasm.HEAPU16.buffer, wasm._wl_skin_joint_ids(this._index), this.jointCount);
    }
    /**
     * Dual quaternions in a flat array of size 8 times {@link jointCount}.
     *
     * Inverse bind transforms of the skin.
     */
    get inverseBindTransforms() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_transforms(this._index), 8 * this.jointCount);
    }
    /**
     * Vectors in a flat array of size 3 times {@link jointCount}.
     *
     * Inverse bind scalings of the skin.
     */
    get inverseBindScalings() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_scalings(this._index), 3 * this.jointCount);
    }
    /**
     * Checks equality by comparing whether the wrapped native skin ids are
     * equal.
     *
     * @param otherSkin Skin to check equality with.
     * @returns Whether this skin equals the given skin.
     *
     * @since 1.0.0
     */
    equals(otherSkin) {
      if (!otherSkin)
        return false;
      return this._index === otherSkin._index;
    }
  };
  var XR = class {
    /** Wonderland WASM bridge. @hidden */
    #wasm;
    #mode;
    constructor(wasm, mode) {
      this.#wasm = wasm;
      this.#mode = mode;
    }
    /** Current WebXR session mode */
    get sessionMode() {
      return this.#mode;
    }
    /** Current WebXR session */
    get session() {
      return this.#wasm.webxr_session;
    }
    /** Current WebXR frame */
    get frame() {
      return this.#wasm.webxr_frame;
    }
    referenceSpaceForType(type) {
      return this.#wasm.webxr_refSpaces[type] ?? null;
    }
    /** Set current reference space type used for retrieving eye, head, hand and joint poses */
    set currentReferenceSpace(refSpace) {
      this.#wasm.webxr_refSpace = refSpace;
      this.#wasm.webxr_refSpaceType = null;
      for (const type of Object.keys(this.#wasm.webxr_refSpaces)) {
        if (this.#wasm.webxr_refSpaces[type] === refSpace) {
          this.#wasm.webxr_refSpaceType = type;
        }
      }
    }
    /** Current reference space type used for retrieving eye, head, hand and joint poses */
    get currentReferenceSpace() {
      return this.#wasm.webxr_refSpace;
    }
    /** Current WebXR reference space type or `null` if not a default reference space */
    get currentReferenceSpaceType() {
      return this.#wasm.webxr_refSpaceType;
    }
    /** Current WebXR base layer  */
    get baseLayer() {
      return this.#wasm.webxr_baseLayer;
    }
    /** Current WebXR framebuffer */
    get framebuffers() {
      if (!Array.isArray(this.#wasm.webxr_fbo)) {
        return [this.#wasm.GL.framebuffers[this.#wasm.webxr_fbo]];
      }
      return this.#wasm.webxr_fbo.map((id) => this.#wasm.GL.framebuffers[id]);
    }
  };

  // node_modules/@wonderlandengine/api/dist/utils/bitset.js
  function assert(bit) {
    if (bit >= 32) {
      throw new Error(`BitSet.enable(): Value ${bit} is over 31`);
    }
  }
  var BitSet = class {
    /** Enabled bits. @hidden */
    _bits = 0;
    /**
     * Enable the bit at the given index.
     *
     * @param bits A spread of all the bits to enable.
     * @returns Reference to self (for method chaining).
     */
    enable(...bits) {
      for (const bit of bits) {
        assert(bit);
        this._bits |= 1 << bit >>> 0;
      }
      return this;
    }
    /**
     * Enable all bits.
     *
     * @returns Reference to self (for method chaining).
     */
    enableAll() {
      this._bits = ~0;
      return this;
    }
    /**
     * Disable the bit at the given index.
     *
     * @param bits A spread of all the bits to disable.
     * @returns Reference to self (for method chaining).
     */
    disable(...bits) {
      for (const bit of bits) {
        assert(bit);
        this._bits &= ~(1 << bit >>> 0);
      }
      return this;
    }
    /**
     * Disable all bits.
     *
     * @returns Reference to self (for method chaining).
     */
    disableAll() {
      this._bits = 0;
      return this;
    }
    /**
     * Checker whether the bit is set or not.
     *
     * @param bit The bit to check.
     * @returns `true` if it's enabled, `false` otherwise.
     */
    enabled(bit) {
      return !!(this._bits & 1 << bit >>> 0);
    }
  };

  // node_modules/@wonderlandengine/api/dist/utils/logger.js
  var LogLevel;
  (function(LogLevel2) {
    LogLevel2[LogLevel2["Info"] = 0] = "Info";
    LogLevel2[LogLevel2["Warn"] = 1] = "Warn";
    LogLevel2[LogLevel2["Error"] = 2] = "Error";
  })(LogLevel || (LogLevel = {}));
  var Logger = class {
    /**
     * Bitset of enabled levels.
     *
     * @hidden
     */
    levels = new BitSet();
    /**
     * Bitset of enabled tags.
     *
     * @hidden
     */
    tags = new BitSet().enableAll();
    /**
     * Create a new logger instance.
     *
     * @param levels Default set of levels to enable.
     */
    constructor(...levels) {
      this.levels.enable(...levels);
    }
    /**
     * Log the message(s) using `console.log`.
     *
     * @param tag Tag represented by a positive integer.
     * @param msg A spread of message to log.
     * @returns Reference to self (for method chaining).
     */
    info(tag, ...msg) {
      if (this.levels.enabled(LogLevel.Info) && this.tags.enabled(tag)) {
        console.log(...msg);
      }
      return this;
    }
    /**
     * Log the message(s) using `console.warn`.
     *
     * @param tag Tag represented by a positive integer.
     * @param msg A spread of message to log.
     * @returns Reference to self (for method chaining).
     */
    warn(tag, ...msg) {
      if (this.levels.enabled(LogLevel.Warn) && this.tags.enabled(tag)) {
        console.warn(...msg);
      }
      return this;
    }
    /**
     * Log the message(s) using `console.error`.
     *
     * @param tag Tag represented by a positive integer.
     * @param msg A spread of message to log.
     * @returns Reference to self (for method chaining).
     */
    error(tag, ...msg) {
      if (this.levels.enabled(LogLevel.Error) && this.tags.enabled(tag)) {
        console.error(...msg);
      }
      return this;
    }
  };

  // node_modules/@wonderlandengine/api/dist/wasm.js
  var _componentDefaults = /* @__PURE__ */ new Map([
    [Type.Bool, false],
    [Type.Int, 0],
    [Type.Float, 0],
    [Type.String, ""],
    [Type.Enum, void 0],
    [Type.Object, null],
    [Type.Mesh, null],
    [Type.Texture, null],
    [Type.Material, null],
    [Type.Animation, null],
    [Type.Skin, null],
    [Type.Color, [0, 0, 0, 1]]
  ]);
  function _setupDefaults(ctor) {
    for (const name in ctor.Properties) {
      const p = ctor.Properties[name];
      if (p.type === Type.Enum) {
        if (p.values?.length) {
          if (typeof p.default !== "number") {
            p.default = p.values.indexOf(p.default);
          }
          if (p.default < 0 || p.default >= p.values.length) {
            p.default = 0;
          }
        } else {
          p.default = void 0;
        }
      } else {
        p.default = p.default ?? _componentDefaults.get(p.type);
      }
      ctor.prototype[name] = p.default;
    }
  }
  var WASM = class {
    /**
     * Emscripten worker field.
     *
     * @note This api is meant to be used internally.
     */
    worker = "";
    /**
     * Emscripten wasm field.
     *
     * @note This api is meant to be used internally.
     */
    wasm = null;
    /**
     * Emscripten canvas.
     *
     * @note This api is meant to be used internally.
     */
    canvas = null;
    /** Current WebXR  */
    /**
     * Emscripten WebXR session.
     *
     * @note This api is meant to be used internally.
     */
    webxr_session = null;
    /**
     * Emscripten WebXR request session callback.
     *
     * @note This api is meant to be used internally.
     */
    webxr_requestSession = null;
    /**
     * Emscripten WebXR offer session callback.
     *
     * @note This api is meant to be used internally.
     */
    webxr_offerSession = null;
    /**
     * Emscripten WebXR frame.
     *
     * @note This api is meant to be used internally.
     */
    webxr_frame = null;
    /**
     * Emscripten current WebXR reference space.
     *
     * @note This api is meant to be used internally.
     */
    webxr_refSpace = null;
    /**
     * Emscripten WebXR reference spaces.
     *
     * @note This api is meant to be used internally.
     */
    webxr_refSpaces = null;
    /**
     * Emscripten WebXR current reference space type.
     *
     * @note This api is meant to be used internally.
     */
    webxr_refSpaceType = null;
    /**
     * Emscripten WebXR GL projection layer.
     *
     * @note This api is meant to be used internally.
     */
    webxr_baseLayer = null;
    /**
     * Emscripten WebXR framebuffer scale factor.
     *
     * @note This api is meant to be used internally.
     */
    webxr_framebufferScaleFactor = 1;
    /**
     * Emscripten WebXR framebuffer(s).
     *
     * @note This api is meant to be used internally.
     */
    /* webxr_fbo will not get overwritten if we are rendering to the
     * default framebuffer, e.g., when using WebXR emulator. */
    webxr_fbo = 0;
    /**
     * Convert a WASM memory view to a JavaScript string.
     *
     * @param ptr Pointer start
     * @param ptrEnd Pointer end
     * @returns JavaScript string
     */
    UTF8ViewToString;
    /** Logger instance. */
    _log = new Logger();
    /** If `true`, logs will not spam the console on error. */
    _deactivate_component_on_error = false;
    /** Temporary memory pointer. */
    _tempMem = null;
    /** Temporary memory size. */
    _tempMemSize = 0;
    /** Temporary float memory view. */
    _tempMemFloat = null;
    /** Temporary int memory view. */
    _tempMemInt = null;
    /** Temporary uint8 memory view. */
    _tempMemUint8 = null;
    /** Temporary uint32 memory view. */
    _tempMemUint32 = null;
    /** Temporary uint16 memory view. */
    _tempMemUint16 = null;
    /** Loading screen .bin file data */
    _loadingScreen = null;
    /** List of callbacks triggered when the scene is loaded. */
    _sceneLoadedCallback = [];
    /**
     * Material definition cache. Each pipeline has its own
     * associated material definition.
     */
    _materialDefinitions = [];
    /** Image cache. */
    _images = [];
    /** Component instances. */
    _components = [];
    /** Component Type info. */
    _componentTypes = [];
    /** Index per component type name. */
    _componentTypeIndices = {};
    /** Wonderland engine instance. */
    _engine = null;
    /**
     * `true` if this runtime is using physx.
     *
     * @note This api is meant to be used internally.
     */
    _withPhysX = false;
    /** Decoder for UTF8 `ArrayBuffer` to JavaScript string. */
    _utf8Decoder = new TextDecoder("utf8");
    /** JavaScript manager index. */
    _jsManagerIndexCached = null;
    /**
     * Registration index of {@link BrokenComponent}.
     *
     * This is used to return dummy instances when a component
     * isn't registered.
     *
     * @hidden
     */
    _brokenComponentIndex = 0;
    /**
     * Create a new instance of the WebAssembly <> API bridge.
     *
     * @param threads `true` if the runtime used has threads support
     */
    constructor(threads2) {
      if (threads2) {
        this.UTF8ViewToString = (s, e) => {
          if (!s)
            return "";
          return this._utf8Decoder.decode(this.HEAPU8.slice(s, e));
        };
        return;
      }
      this.UTF8ViewToString = (s, e) => {
        if (!s)
          return "";
        return this._utf8Decoder.decode(this.HEAPU8.subarray(s, e));
      };
      this._brokenComponentIndex = this._registerComponent(BrokenComponent);
    }
    /**
     * Reset the cache of the library.
     *
     * @note Should only be called when tearing down the runtime.
     */
    reset() {
      for (const img of this._images) {
        if (!img || !img.src)
          continue;
        img.src = "";
        img.onload = null;
        img.onerror = null;
      }
      this._images = [];
      this.allocateTempMemory(1024);
      this._materialDefinitions = [];
      this._components = [];
      this._componentTypes = [];
      this._componentTypeIndices = {};
      this._jsManagerIndexCached = null;
      this._brokenComponentIndex = this._registerComponent(BrokenComponent);
    }
    /**
     * Checks whether the given component is registered or not.
     *
     * @param ctor  A string representing the component typename (e.g., `'cursor-component'`).
     * @returns `true` if the component is registered, `false` otherwise.
     */
    isRegistered(type) {
      return type in this._componentTypeIndices;
    }
    /**
     * Register a legacy component in this Emscripten instance.
     *
     * @note This api is meant to be used internally.
     *
     * @param typeName The name of the component.
     * @param params An object containing the parameters (properties).
     * @param object The object's prototype.
     * @returns The registration index
     */
    _registerComponentLegacy(typeName, params, object) {
      const ctor = class CustomComponent extends Component {
      };
      ctor.TypeName = typeName;
      ctor.Properties = params;
      Object.assign(ctor.prototype, object);
      return this._registerComponent(ctor);
    }
    /**
     * Register a class component in this Emscripten instance.
     *
     * @note This api is meant to be used internally.
     *
     * @param ctor The class to register.
     * @returns The registration index.
     */
    _registerComponent(ctor) {
      if (!ctor.TypeName)
        throw new Error("no name provided for component.");
      if (!ctor.prototype._triggerInit) {
        throw new Error(`registerComponent(): Component ${ctor.TypeName} must extend Component`);
      }
      inheritProperties(ctor);
      _setupDefaults(ctor);
      const typeIndex = ctor.TypeName in this._componentTypeIndices ? this._componentTypeIndices[ctor.TypeName] : this._componentTypes.length;
      this._componentTypes[typeIndex] = ctor;
      this._componentTypeIndices[ctor.TypeName] = typeIndex;
      if (ctor === BrokenComponent)
        return typeIndex;
      this._log.info(LogTag.Engine, "Registered component", ctor.TypeName, `(class ${ctor.name})`, "with index", typeIndex);
      if (ctor.onRegister)
        ctor.onRegister(this._engine);
      return typeIndex;
    }
    /**
     * Allocate the requested amount of temporary memory
     * in this WASM instance.
     *
     * @param size The number of bytes to allocate
     */
    allocateTempMemory(size) {
      this._log.info(LogTag.Engine, "Allocating temp mem:", size);
      this._tempMemSize = size;
      if (this._tempMem)
        this._free(this._tempMem);
      this._tempMem = this._malloc(this._tempMemSize);
      this.updateTempMemory();
    }
    /**
     * @todo: Delete this and only keep `allocateTempMemory`
     *
     * @param size Number of bytes to allocate
     */
    requireTempMem(size) {
      if (this._tempMemSize >= size)
        return;
      this.allocateTempMemory(Math.ceil(size / 1024) * 1024);
    }
    /**
     * Update the temporary memory views. This must be called whenever the
     * temporary memory address changes.
     *
     * @note This api is meant to be used internally.
     */
    updateTempMemory() {
      this._tempMemFloat = new Float32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);
      this._tempMemInt = new Int32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);
      this._tempMemUint32 = new Uint32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);
      this._tempMemUint16 = new Uint16Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 1);
      this._tempMemUint8 = new Uint8Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize);
    }
    /**
     * Returns a uint8 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required
     * @returns A {@link TypedArray} over the WASM memory
     */
    getTempBufferU8(count) {
      this.requireTempMem(count);
      return this._tempMemUint8;
    }
    /**
     * Returns a uint16 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required
     * @returns A {@link TypedArray} over the WASM memory
     */
    getTempBufferU16(count) {
      this.requireTempMem(count * 2);
      return this._tempMemUint16;
    }
    /**
     * Returns a uint32 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required.
     * @returns A {@link TypedArray} over the WASM memory.
     */
    getTempBufferU32(count) {
      this.requireTempMem(count * 4);
      return this._tempMemUint32;
    }
    /**
     * Returns a int32 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required.
     * @returns A {@link TypedArray} over the WASM memory.
     */
    getTempBufferI32(count) {
      this.requireTempMem(count * 4);
      return this._tempMemInt;
    }
    /**
     * Returns a float32 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required.
     * @returns A {@link TypedArray} over the WASM memory.
     */
    getTempBufferF32(count) {
      this.requireTempMem(count * 4);
      return this._tempMemFloat;
    }
    /**
     * Copy the string into temporary WASM memory and retrieve the pointer.
     *
     * @note This method will compute the strlen and append a `\0`.
     *
     * @note The result should be used **directly** otherwise it might get
     * overridden by any next call modifying the temporary memory.
     *
     * @param str The string to write to temporary memory
     * @param byteOffset The starting byte offset in the temporary memory at which
     *     the string should be written. This is useful when using multiple temporaries.
     * @return The temporary pointer onto the WASM memory
     */
    tempUTF8(str5, byteOffset = 0) {
      const strLen = this.lengthBytesUTF8(str5) + 1;
      this.requireTempMem(strLen + byteOffset);
      const ptr = this._tempMem + byteOffset;
      this.stringToUTF8(str5, ptr, strLen);
      return ptr;
    }
    /**
     * Return the index of the component type.
     *
     * @note This method uses malloc and copies the string
     * to avoid overwriting caller's temporary data.
     *
     * @param type The type
     * @return The component type index
     */
    _typeIndexFor(type) {
      const lengthBytes = this.lengthBytesUTF8(type) + 1;
      const mem = this._malloc(lengthBytes);
      this.stringToUTF8(type, mem, lengthBytes);
      const componentType = this._wl_get_component_manager_index(mem);
      this._free(mem);
      return componentType;
    }
    /**
     * Return the name of component type stored at the given index.
     *
     * @param typeIndex The type index
     * @return The name as a string
     */
    _typeNameFor(typeIndex) {
      return this.UTF8ToString(this._wl_component_manager_name(typeIndex));
    }
    /**
     * Returns `true` if the runtime supports physx or not.
     */
    get withPhysX() {
      return this._withPhysX;
    }
    /** JavaScript manager index. */
    get _jsManagerIndex() {
      if (this._jsManagerIndexCached === null) {
        this._jsManagerIndexCached = this._typeIndexFor("js");
      }
      return this._jsManagerIndexCached;
    }
    /**
     * Set the engine instance holding this bridge.
     *
     * @note This api is meant to be used internally.
     *
     * @param engine The engine instance.
     */
    _setEngine(engine) {
      this._engine = engine;
    }
    /* WebAssembly to JS call bridge. */
    _wljs_xr_session_start(mode) {
      if (this._engine.xr === null) {
        this._engine.xr = new XR(this, mode);
        this._engine.onXRSessionStart.notify(this.webxr_session, mode);
      }
    }
    _wljs_xr_session_end() {
      const startEmitter = this._engine.onXRSessionStart;
      if (startEmitter instanceof RetainEmitter)
        startEmitter.reset();
      this._engine.onXRSessionEnd.notify();
      this._engine.xr = null;
    }
    _wljs_xr_disable() {
      this._engine.arSupported = false;
      this._engine.vrSupported = false;
    }
    _wljs_allocate(numComponents) {
      this._components = new Array(numComponents);
    }
    _wljs_init(withPhysX) {
      this._withPhysX = withPhysX;
      this.allocateTempMemory(1024);
    }
    _wljs_reallocate(numComponents) {
      if (numComponents > this._components.length) {
        this._components.length = numComponents;
      }
    }
    _wljs_scene_add_material_definition(definitionId) {
      const definition = /* @__PURE__ */ new Map();
      const nbParams = this._wl_material_definition_get_count(definitionId);
      for (let i = 0; i < nbParams; ++i) {
        const name = this.UTF8ToString(this._wl_material_definition_get_param_name(definitionId, i));
        const t = this._wl_material_definition_get_param_type(definitionId, i);
        definition.set(name, {
          index: i,
          type: {
            type: t & 255,
            componentCount: t >> 8 & 255,
            metaType: t >> 16 & 255
          }
        });
      }
      this._materialDefinitions[definitionId] = definition;
    }
    _wljs_set_component_param_bool(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v !== 0;
    }
    _wljs_set_component_param_int(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v;
    }
    _wljs_set_component_param_float(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v;
    }
    _wljs_set_component_param_string(c, p, pe, v, ve) {
      const param = this.UTF8ViewToString(p, pe);
      const value = this.UTF8ViewToString(v, ve);
      this._components[c][param] = value;
    }
    _wljs_set_component_param_color(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = new Float32Array([0, 8, 16, 24].map((s) => (v >>> s & 255) / 255));
    }
    _wljs_set_component_param_object(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? this._engine.wrapObject(v) : null;
    }
    _wljs_set_component_param_mesh(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? new Mesh(this._engine, v) : null;
    }
    _wljs_set_component_param_texture(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? this._engine.textures.wrap(v) : null;
    }
    _wljs_set_component_param_material(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? new Material(this._engine, v) : null;
    }
    _wljs_set_component_param_animation(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? new Animation(this._engine, v) : null;
    }
    _wljs_set_component_param_skin(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? new Skin(this._engine, v) : null;
    }
    _wljs_get_component_type_index(namePtr, nameEndPtr) {
      const typename = this.UTF8ViewToString(namePtr, nameEndPtr);
      const index = this._componentTypeIndices[typename];
      if (index === void 0) {
        return this._brokenComponentIndex;
      }
      return index;
    }
    _wljs_component_create(jsManagerIndex, index, id, type, object) {
      const ctor = this._componentTypes[type];
      if (!ctor) {
        throw new Error(`Type index ${type} isn't registered`);
      }
      let component = null;
      try {
        component = new ctor();
      } catch (e) {
        this._log.error(LogTag.Component, `Exception during instantiation of component ${ctor.TypeName}`);
        this._log.error(LogTag.Component, e);
        component = new BrokenComponent(this._engine);
      }
      component._engine = this._engine;
      component._manager = jsManagerIndex;
      component._id = id;
      component._object = this._engine.wrapObject(object);
      try {
        component.resetProperties();
      } catch (e) {
        this._log.error(LogTag.Component, `Exception during ${component.type} resetProperties() on object ${component.object.name}`);
        this._log.error(LogTag.Component, e);
      }
      this._components[index] = component;
      return component;
    }
    _wljs_component_init(component) {
      const c = this._components[component];
      c._triggerInit();
    }
    _wljs_component_update(component, dt) {
      const c = this._components[component];
      c._triggerUpdate(dt);
    }
    _wljs_component_onActivate(component) {
      const c = this._components[component];
      if (c)
        c._triggerOnActivate();
    }
    _wljs_component_onDeactivate(component) {
      const c = this._components[component];
      c._triggerOnDeactivate();
    }
    _wljs_component_onDestroy(component) {
      const c = this._components[component];
      c._triggerOnDestroy();
    }
    _wljs_swap(a, b) {
      const componentA = this._components[a];
      this._components[a] = this._components[b];
      this._components[b] = componentA;
    }
    _wljs_copy(src, dst) {
      const destComp = this._components[dst];
      try {
        destComp.copy(this._components[src]);
      } catch (e) {
        this._log.error(LogTag.Component, `Exception during ${destComp.type} copy() on object ${destComp.object.name}`);
        this._log.error(LogTag.Component, e);
      }
    }
  };
  function throwInvalidRuntime(version) {
    return function() {
      throw new Error(`Feature added in version ${version}.
	\u2192 Please use a Wonderland Engine editor version >= ${version}`);
    };
  }
  var requireRuntime1_1_1 = throwInvalidRuntime("1.1.1");
  var requireRuntime1_1_5 = throwInvalidRuntime("1.1.5");
  WASM.prototype._wl_physx_component_get_offsetTranslation = requireRuntime1_1_1;
  WASM.prototype._wl_physx_component_set_offsetTranslation = requireRuntime1_1_1;
  WASM.prototype._wl_physx_component_get_offsetTransform = requireRuntime1_1_1;
  WASM.prototype._wl_physx_component_set_offsetRotation = requireRuntime1_1_1;
  WASM.prototype._wl_object_clone = requireRuntime1_1_1;
  WASM.prototype._wl_physx_component_set_sleepOnActivate = requireRuntime1_1_5;
  WASM.prototype._wl_physx_component_get_sleepOnActivate = requireRuntime1_1_5;
  WASM.prototype.webxr_offerSession = requireRuntime1_1_5;

  // node_modules/@wonderlandengine/components/dist/8thwall-camera.js
  var ARCamera8thwall = class extends Component {
    /* 8thwall camera pipeline module name */
    name = "wonderland-engine-8thwall-camera";
    started = false;
    view = null;
    // cache camera
    position = [0, 0, 0];
    // cache 8thwall cam position
    rotation = [0, 0, 0, -1];
    // cache 8thwall cam rotation
    glTextureRenderer = null;
    // cache XR8.GlTextureRenderer.pipelineModule
    promptForDeviceMotion() {
      return new Promise(async (resolve, reject) => {
        window.dispatchEvent(new Event("8thwall-request-user-interaction"));
        window.addEventListener("8thwall-safe-to-request-permissions", async () => {
          try {
            const motionEvent = await DeviceMotionEvent.requestPermission();
            resolve(motionEvent);
          } catch (exception) {
            reject(exception);
          }
        });
      });
    }
    async getPermissions() {
      if (DeviceMotionEvent && DeviceMotionEvent.requestPermission) {
        try {
          const result = await DeviceMotionEvent.requestPermission();
          if (result !== "granted") {
            throw new Error("MotionEvent");
          }
        } catch (exception) {
          if (exception.name === "NotAllowedError") {
            const motionEvent = await this.promptForDeviceMotion();
            if (motionEvent !== "granted") {
              throw new Error("MotionEvent");
            }
          } else {
            throw new Error("MotionEvent");
          }
        }
      }
      try {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: true,
          audio: true
        });
        stream.getTracks().forEach((track) => {
          track.stop();
        });
      } catch (exception) {
        throw new Error("Camera");
      }
    }
    init() {
      this.view = this.object.getComponent("view");
      this.onUpdate = this.onUpdate.bind(this);
      this.onAttach = this.onAttach.bind(this);
      this.onException = this.onException.bind(this);
      this.onCameraStatusChange = this.onCameraStatusChange.bind(this);
    }
    async start() {
      this.view = this.object.getComponent("view");
      if (!this.useCustomUIOverlays) {
        OverlaysHandler.init();
      }
      try {
        await this.getPermissions();
      } catch (error) {
        window.dispatchEvent(new CustomEvent("8thwall-permission-fail", { detail: error }));
        return;
      }
      await this.waitForXR8();
      XR8.XrController.configure({
        disableWorldTracking: false
      });
      this.glTextureRenderer = XR8.GlTextureRenderer.pipelineModule();
      XR8.addCameraPipelineModules([
        this.glTextureRenderer,
        XR8.XrController.pipelineModule(),
        this
      ]);
      const config = {
        cameraConfig: {
          direction: XR8.XrConfig.camera().BACK
        },
        canvas: Module.canvas,
        allowedDevices: XR8.XrConfig.device().ANY,
        ownRunLoop: false
      };
      XR8.run(config);
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onAttach(params) {
      this.started = true;
      this.engine.scene.colorClearEnabled = false;
      const gl = Module.ctx;
      const rot = this.object.rotationWorld;
      const pos = this.object.getTranslationWorld([]);
      this.position = Array.from(pos);
      this.rotation = Array.from(rot);
      XR8.XrController.updateCameraProjectionMatrix({
        origin: { x: pos[0], y: pos[1], z: pos[2] },
        facing: { x: rot[0], y: rot[1], z: rot[2], w: rot[3] },
        cam: {
          pixelRectWidth: Module.canvas.width,
          pixelRectHeight: Module.canvas.height,
          nearClipPlane: this.view.near,
          farClipPlane: this.view.far
        }
      });
      this.engine.scene.onPreRender.push(() => {
        gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);
        XR8.runPreRender(Date.now());
        XR8.runRender();
      });
      this.engine.scene.onPostRender.push(() => {
        XR8.runPostRender(Date.now());
      });
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onCameraStatusChange(e) {
      if (e && e.status === "failed") {
        this.onException(new Error(`Camera failed with status: ${e.status}`));
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onUpdate(e) {
      if (!e.processCpuResult.reality)
        return;
      const { rotation, position, intrinsics } = e.processCpuResult.reality;
      this.rotation[0] = rotation.x;
      this.rotation[1] = rotation.y;
      this.rotation[2] = rotation.z;
      this.rotation[3] = rotation.w;
      this.position[0] = position.x;
      this.position[1] = position.y;
      this.position[2] = position.z;
      if (intrinsics) {
        const projectionMatrix = this.view.projectionMatrix;
        for (let i = 0; i < 16; i++) {
          if (Number.isFinite(intrinsics[i])) {
            projectionMatrix[i] = intrinsics[i];
          }
        }
      }
      if (position && rotation) {
        this.object.rotationWorld = this.rotation;
        this.object.setTranslationWorld(this.position);
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onException(error) {
      console.error("8thwall exception:", error);
      window.dispatchEvent(new CustomEvent("8thwall-error", { detail: error }));
    }
    waitForXR8() {
      return new Promise((resolve, _rej) => {
        if (window.XR8) {
          resolve();
        } else {
          window.addEventListener("xrloaded", () => resolve());
        }
      });
    }
  };
  __publicField(ARCamera8thwall, "TypeName", "8thwall-camera");
  __publicField(ARCamera8thwall, "Properties", {
    /** Override the WL html overlays for handling camera/motion permissions and error handling */
    useCustomUIOverlays: { type: Type.Bool, default: false }
  });
  var OverlaysHandler = {
    init: function() {
      this.handleRequestUserInteraction = this.handleRequestUserInteraction.bind(this);
      this.handlePermissionFail = this.handlePermissionFail.bind(this);
      this.handleError = this.handleError.bind(this);
      window.addEventListener("8thwall-request-user-interaction", this.handleRequestUserInteraction);
      window.addEventListener("8thwall-permission-fail", this.handlePermissionFail);
      window.addEventListener("8thwall-error", this.handleError);
    },
    handleRequestUserInteraction: function() {
      const overlay = this.showOverlay(requestPermissionOverlay);
      window.addEventListener("8thwall-safe-to-request-permissions", () => {
        overlay.remove();
      });
    },
    handlePermissionFail: function(_reason) {
      this.showOverlay(failedPermissionOverlay);
    },
    handleError: function(_error) {
      this.showOverlay(runtimeErrorOverlay);
    },
    showOverlay: function(htmlContent) {
      const overlay = document.createElement("div");
      overlay.innerHTML = htmlContent;
      document.body.appendChild(overlay);
      return overlay;
    }
  };
  var requestPermissionOverlay = `
<style>
  #request-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .request-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .request-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="request-permission-overlay">
  <div class="request-permission-overlay_title">This app requires to use your camera and motion sensors</div>

  <button class="request-permission-overlay_button" onclick="window.dispatchEvent(new Event('8thwall-safe-to-request-permissions'))">OK</button>
</div>`;
  var failedPermissionOverlay = `
<style>
  #failed-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .failed-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .failed-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="failed-permission-overlay">
  <div class="failed-permission-overlay_title">Failed to grant permissions. Reset the the permissions and refresh the page.</div>

  <button class="failed-permission-overlay_button" onclick="window.location.reload()">Refresh the page</button>
</div>`;
  var runtimeErrorOverlay = `
<style>
  #wall-error-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .wall-error-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .wall-error-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="wall-error-overlay">
  <div class="wall-error-overlay_title">Error has occurred. Please reload the page</div>

  <button class="wall-error-overlay_button" onclick="window.location.reload()">Reload</button>
</div>`;

  // node_modules/@wonderlandengine/components/dist/utils/webxr.js
  var tempVec = new Float32Array(3);
  var tempQuat = new Float32Array(4);
  function setXRRigidTransformLocal(o, transform) {
    const r = transform.orientation;
    tempQuat[0] = r.x;
    tempQuat[1] = r.y;
    tempQuat[2] = r.z;
    tempQuat[3] = r.w;
    const t = transform.position;
    tempVec[0] = t.x;
    tempVec[1] = t.y;
    tempVec[2] = t.z;
    o.resetPositionRotation();
    o.setRotationLocal(tempQuat);
    o.translateLocal(tempVec);
  }

  // node_modules/@wonderlandengine/components/dist/anchor.js
  var __decorate2 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec3 = new Float32Array(3);
  var tempQuat2 = new Float32Array(4);
  var _anchors, _addAnchor, addAnchor_fn, _removeAnchor, removeAnchor_fn, _getFrame, getFrame_fn, _createAnchor, createAnchor_fn, _onAddAnchor, onAddAnchor_fn, _onRestoreAnchor, onRestoreAnchor_fn, _onCreate, onCreate_fn;
  var _Anchor = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _getFrame);
      __privateAdd(this, _createAnchor);
      __privateAdd(this, _onAddAnchor);
      __privateAdd(this, _onRestoreAnchor);
      __privateAdd(this, _onCreate);
      __publicField(this, "persist", false);
      /** Unique identifier to load a persistent anchor from, or empty/null if unknown */
      __publicField(this, "uuid", null);
      /** The xrAnchor, if created */
      __publicField(this, "xrAnchor", null);
      /** Emits events when the anchor is created either by being restored or newly created */
      __publicField(this, "onCreate", new Emitter());
      /** Whether the anchor is currently being tracked */
      __publicField(this, "visible", false);
      /** Emits an event when this anchor starts tracking */
      __publicField(this, "onTrackingFound", new Emitter());
      /** Emits an event when this anchor stops tracking */
      __publicField(this, "onTrackingLost", new Emitter());
      /** XRFrame to use for creating the anchor */
      __publicField(this, "xrFrame", null);
      /** XRHitTestResult to use for creating the anchor */
      __publicField(this, "xrHitResult", null);
    }
    /** Retrieve all anchors of the current scene */
    static getAllAnchors() {
      return __privateGet(_Anchor, _anchors);
    }
    /**
     * Create a new anchor
     *
     * @param o Object to attach the component to
     * @param params Parameters for the anchor component
     * @param frame XRFrame to use for anchor cration, if null, will use the current frame if available
     * @param hitResult Optional hit-test result to create the anchor with
     * @returns Promise for the newly created anchor component
     */
    static create(o, params, frame, hitResult) {
      const a = o.addComponent(_Anchor, { ...params, active: false });
      if (a === null)
        return null;
      a.xrHitResult = hitResult ?? null;
      a.xrFrame = frame ?? null;
      a.onCreate.once(() => (a.xrFrame = null, a.xrHitResult = null));
      a.active = true;
      return a.onCreate.promise();
    }
    start() {
      if (this.uuid && this.engine.xr) {
        this.persist = true;
        if (this.engine.xr.session.restorePersistentAnchor === void 0) {
          console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
        }
        this.engine.xr.session.restorePersistentAnchor(this.uuid).then(__privateMethod(this, _onRestoreAnchor, onRestoreAnchor_fn).bind(this));
      } else if (__privateMethod(this, _getFrame, getFrame_fn).call(this)) {
        __privateMethod(this, _createAnchor, createAnchor_fn).call(this).then(__privateMethod(this, _onAddAnchor, onAddAnchor_fn).bind(this));
      } else {
        throw new Error("Anchors can only be created during the XR frame in an active XR session");
      }
    }
    update() {
      if (!this.xrAnchor || !this.engine.xr)
        return;
      const pose = this.engine.xr.frame.getPose(this.xrAnchor.anchorSpace, this.engine.xr.currentReferenceSpace);
      const visible = !!pose;
      if (visible != this.visible) {
        this.visible = visible;
        (visible ? this.onTrackingFound : this.onTrackingLost).notify(this);
      }
      if (pose) {
        setXRRigidTransformLocal(this.object, pose.transform);
      }
    }
    onDestroy() {
      var _a;
      __privateMethod(_a = _Anchor, _removeAnchor, removeAnchor_fn).call(_a, this);
    }
  };
  var Anchor = _Anchor;
  _anchors = new WeakMap();
  _addAnchor = new WeakSet();
  addAnchor_fn = function(anchor) {
    __privateGet(_Anchor, _anchors).push(anchor);
  };
  _removeAnchor = new WeakSet();
  removeAnchor_fn = function(anchor) {
    const index = __privateGet(_Anchor, _anchors).indexOf(anchor);
    if (index < 0)
      return;
    __privateGet(_Anchor, _anchors).splice(index, 1);
  };
  _getFrame = new WeakSet();
  getFrame_fn = function() {
    return this.xrFrame || this.engine.xr.frame;
  };
  _createAnchor = new WeakSet();
  createAnchor_fn = async function() {
    if (!__privateMethod(this, _getFrame, getFrame_fn).call(this).createAnchor) {
      throw new Error("Cannot create anchor - anchors not supported, did you enable the 'anchors' WebXR feature?");
    }
    if (this.xrHitResult) {
      if (this.xrHitResult.createAnchor === void 0) {
        throw new Error("Requested anchor on XRHitTestResult, but WebXR hit-test feature is not available.");
      }
      return this.xrHitResult.createAnchor();
    } else {
      this.object.getTranslationWorld(tempVec3);
      tempQuat2.set(this.object.rotationWorld);
      const rotation = tempQuat2;
      const anchorPose = new XRRigidTransform({ x: tempVec3[0], y: tempVec3[1], z: tempVec3[2] }, { x: rotation[0], y: rotation[1], z: rotation[2], w: rotation[3] });
      return __privateMethod(this, _getFrame, getFrame_fn).call(this)?.createAnchor(anchorPose, this.engine.xr.currentReferenceSpace);
    }
  };
  _onAddAnchor = new WeakSet();
  onAddAnchor_fn = function(anchor) {
    if (!anchor)
      return;
    if (this.persist) {
      if (anchor.requestPersistentHandle !== void 0) {
        anchor.requestPersistentHandle().then((uuid) => {
          var _a;
          this.uuid = uuid;
          __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
          __privateMethod(_a = _Anchor, _addAnchor, addAnchor_fn).call(_a, this);
        });
        return;
      } else {
        console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
      }
    }
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onRestoreAnchor = new WeakSet();
  onRestoreAnchor_fn = function(anchor) {
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onCreate = new WeakSet();
  onCreate_fn = function(anchor) {
    this.xrAnchor = anchor;
    this.onCreate.notify(this);
  };
  __privateAdd(Anchor, _addAnchor);
  __privateAdd(Anchor, _removeAnchor);
  __publicField(Anchor, "TypeName", "anchor");
  /* Static management of all anchors */
  __privateAdd(Anchor, _anchors, []);
  __decorate2([
    property.bool(false)
  ], Anchor.prototype, "persist", void 0);
  __decorate2([
    property.string()
  ], Anchor.prototype, "uuid", void 0);

  // node_modules/@wonderlandengine/components/dist/cursor-target.js
  var CursorTarget = class extends Component {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.add(f);
     */
    addHoverFunction(f) {
      this.onHover.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.remove(f);
     */
    removeHoverFunction(f) {
      this.onHover.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.add(f);
     */
    addUnHoverFunction(f) {
      this.onUnhover.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.remove(f);
     */
    removeUnHoverFunction(f) {
      this.onUnhover.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onClick.add(f);
     */
    addClickFunction(f) {
      this.onClick.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onClick.remove(f);
     */
    removeClickFunction(f) {
      this.onClick.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.add(f);
     */
    addMoveFunction(f) {
      this.onMove.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.remove(f);
     */
    removeMoveFunction(f) {
      this.onMove.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.add(f);
     */
    addDownFunction(f) {
      this.onDown.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.remove(f);
     */
    removeDownFunction(f) {
      this.onDown.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.add(f);
     */
    addUpFunction(f) {
      this.onUp.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.remove(f);
     */
    removeUpFunction(f) {
      this.onUp.remove(f);
    }
  };
  __publicField(CursorTarget, "TypeName", "cursor-target");
  __publicField(CursorTarget, "Properties", {});

  // node_modules/gl-matrix/esm/common.js
  var EPSILON = 1e-6;
  var ARRAY_TYPE = typeof Float32Array !== "undefined" ? Float32Array : Array;
  var RANDOM = Math.random;
  var degree = Math.PI / 180;
  if (!Math.hypot)
    Math.hypot = function() {
      var y = 0, i = arguments.length;
      while (i--) {
        y += arguments[i] * arguments[i];
      }
      return Math.sqrt(y);
    };

  // node_modules/gl-matrix/esm/mat3.js
  function create() {
    var out = new ARRAY_TYPE(9);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[5] = 0;
      out[6] = 0;
      out[7] = 0;
    }
    out[0] = 1;
    out[4] = 1;
    out[8] = 1;
    return out;
  }

  // node_modules/gl-matrix/esm/mat4.js
  var mat4_exports = {};
  __export(mat4_exports, {
    add: () => add,
    adjoint: () => adjoint,
    clone: () => clone,
    copy: () => copy,
    create: () => create2,
    determinant: () => determinant,
    equals: () => equals,
    exactEquals: () => exactEquals,
    frob: () => frob,
    fromQuat: () => fromQuat,
    fromQuat2: () => fromQuat2,
    fromRotation: () => fromRotation,
    fromRotationTranslation: () => fromRotationTranslation,
    fromRotationTranslationScale: () => fromRotationTranslationScale,
    fromRotationTranslationScaleOrigin: () => fromRotationTranslationScaleOrigin,
    fromScaling: () => fromScaling,
    fromTranslation: () => fromTranslation,
    fromValues: () => fromValues,
    fromXRotation: () => fromXRotation,
    fromYRotation: () => fromYRotation,
    fromZRotation: () => fromZRotation,
    frustum: () => frustum,
    getRotation: () => getRotation,
    getScaling: () => getScaling,
    getTranslation: () => getTranslation,
    identity: () => identity,
    invert: () => invert,
    lookAt: () => lookAt,
    mul: () => mul,
    multiply: () => multiply,
    multiplyScalar: () => multiplyScalar,
    multiplyScalarAndAdd: () => multiplyScalarAndAdd,
    ortho: () => ortho,
    orthoNO: () => orthoNO,
    orthoZO: () => orthoZO,
    perspective: () => perspective,
    perspectiveFromFieldOfView: () => perspectiveFromFieldOfView,
    perspectiveNO: () => perspectiveNO,
    perspectiveZO: () => perspectiveZO,
    rotate: () => rotate,
    rotateX: () => rotateX,
    rotateY: () => rotateY,
    rotateZ: () => rotateZ,
    scale: () => scale,
    set: () => set,
    str: () => str,
    sub: () => sub,
    subtract: () => subtract,
    targetTo: () => targetTo,
    translate: () => translate,
    transpose: () => transpose
  });
  function create2() {
    var out = new ARRAY_TYPE(16);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
    }
    out[0] = 1;
    out[5] = 1;
    out[10] = 1;
    out[15] = 1;
    return out;
  }
  function clone(a) {
    var out = new ARRAY_TYPE(16);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function copy(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    var out = new ARRAY_TYPE(16);
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function identity(out) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function transpose(out, a) {
    if (out === a) {
      var a01 = a[1], a02 = a[2], a03 = a[3];
      var a12 = a[6], a13 = a[7];
      var a23 = a[11];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a01;
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a02;
      out[9] = a12;
      out[11] = a[14];
      out[12] = a03;
      out[13] = a13;
      out[14] = a23;
    } else {
      out[0] = a[0];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a[1];
      out[5] = a[5];
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a[2];
      out[9] = a[6];
      out[10] = a[10];
      out[11] = a[14];
      out[12] = a[3];
      out[13] = a[7];
      out[14] = a[11];
      out[15] = a[15];
    }
    return out;
  }
  function invert(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
    if (!det) {
      return null;
    }
    det = 1 / det;
    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;
    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;
    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;
    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;
    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;
    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;
    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;
    return out;
  }
  function adjoint(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);
    out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));
    out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);
    out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));
    out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));
    out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);
    out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));
    out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);
    out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);
    out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));
    out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);
    out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));
    out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));
    out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);
    out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));
    out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);
    return out;
  }
  function determinant(a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
  }
  function multiply(out, a, b) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[4];
    b1 = b[5];
    b2 = b[6];
    b3 = b[7];
    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[8];
    b1 = b[9];
    b2 = b[10];
    b3 = b[11];
    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[12];
    b1 = b[13];
    b2 = b[14];
    b3 = b[15];
    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    return out;
  }
  function translate(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    if (a === out) {
      out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];
      out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];
      out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];
      out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];
    } else {
      a00 = a[0];
      a01 = a[1];
      a02 = a[2];
      a03 = a[3];
      a10 = a[4];
      a11 = a[5];
      a12 = a[6];
      a13 = a[7];
      a20 = a[8];
      a21 = a[9];
      a22 = a[10];
      a23 = a[11];
      out[0] = a00;
      out[1] = a01;
      out[2] = a02;
      out[3] = a03;
      out[4] = a10;
      out[5] = a11;
      out[6] = a12;
      out[7] = a13;
      out[8] = a20;
      out[9] = a21;
      out[10] = a22;
      out[11] = a23;
      out[12] = a00 * x + a10 * y + a20 * z + a[12];
      out[13] = a01 * x + a11 * y + a21 * z + a[13];
      out[14] = a02 * x + a12 * y + a22 * z + a[14];
      out[15] = a03 * x + a13 * y + a23 * z + a[15];
    }
    return out;
  }
  function scale(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    out[0] = a[0] * x;
    out[1] = a[1] * x;
    out[2] = a[2] * x;
    out[3] = a[3] * x;
    out[4] = a[4] * y;
    out[5] = a[5] * y;
    out[6] = a[6] * y;
    out[7] = a[7] * y;
    out[8] = a[8] * z;
    out[9] = a[9] * z;
    out[10] = a[10] * z;
    out[11] = a[11] * z;
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function rotate(out, a, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len4 = Math.hypot(x, y, z);
    var s, c, t;
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    var b00, b01, b02;
    var b10, b11, b12;
    var b20, b21, b22;
    if (len4 < EPSILON) {
      return null;
    }
    len4 = 1 / len4;
    x *= len4;
    y *= len4;
    z *= len4;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    a00 = a[0];
    a01 = a[1];
    a02 = a[2];
    a03 = a[3];
    a10 = a[4];
    a11 = a[5];
    a12 = a[6];
    a13 = a[7];
    a20 = a[8];
    a21 = a[9];
    a22 = a[10];
    a23 = a[11];
    b00 = x * x * t + c;
    b01 = y * x * t + z * s;
    b02 = z * x * t - y * s;
    b10 = x * y * t - z * s;
    b11 = y * y * t + c;
    b12 = z * y * t + x * s;
    b20 = x * z * t + y * s;
    b21 = y * z * t - x * s;
    b22 = z * z * t + c;
    out[0] = a00 * b00 + a10 * b01 + a20 * b02;
    out[1] = a01 * b00 + a11 * b01 + a21 * b02;
    out[2] = a02 * b00 + a12 * b01 + a22 * b02;
    out[3] = a03 * b00 + a13 * b01 + a23 * b02;
    out[4] = a00 * b10 + a10 * b11 + a20 * b12;
    out[5] = a01 * b10 + a11 * b11 + a21 * b12;
    out[6] = a02 * b10 + a12 * b11 + a22 * b12;
    out[7] = a03 * b10 + a13 * b11 + a23 * b12;
    out[8] = a00 * b20 + a10 * b21 + a20 * b22;
    out[9] = a01 * b20 + a11 * b21 + a21 * b22;
    out[10] = a02 * b20 + a12 * b21 + a22 * b22;
    out[11] = a03 * b20 + a13 * b21 + a23 * b22;
    if (a !== out) {
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    return out;
  }
  function rotateX(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[4] = a10 * c + a20 * s;
    out[5] = a11 * c + a21 * s;
    out[6] = a12 * c + a22 * s;
    out[7] = a13 * c + a23 * s;
    out[8] = a20 * c - a10 * s;
    out[9] = a21 * c - a11 * s;
    out[10] = a22 * c - a12 * s;
    out[11] = a23 * c - a13 * s;
    return out;
  }
  function rotateY(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[4] = a[4];
      out[5] = a[5];
      out[6] = a[6];
      out[7] = a[7];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c - a20 * s;
    out[1] = a01 * c - a21 * s;
    out[2] = a02 * c - a22 * s;
    out[3] = a03 * c - a23 * s;
    out[8] = a00 * s + a20 * c;
    out[9] = a01 * s + a21 * c;
    out[10] = a02 * s + a22 * c;
    out[11] = a03 * s + a23 * c;
    return out;
  }
  function rotateZ(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    if (a !== out) {
      out[8] = a[8];
      out[9] = a[9];
      out[10] = a[10];
      out[11] = a[11];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c + a10 * s;
    out[1] = a01 * c + a11 * s;
    out[2] = a02 * c + a12 * s;
    out[3] = a03 * c + a13 * s;
    out[4] = a10 * c - a00 * s;
    out[5] = a11 * c - a01 * s;
    out[6] = a12 * c - a02 * s;
    out[7] = a13 * c - a03 * s;
    return out;
  }
  function fromTranslation(out, v) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromScaling(out, v) {
    out[0] = v[0];
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = v[1];
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = v[2];
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotation(out, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len4 = Math.hypot(x, y, z);
    var s, c, t;
    if (len4 < EPSILON) {
      return null;
    }
    len4 = 1 / len4;
    x *= len4;
    y *= len4;
    z *= len4;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    out[0] = x * x * t + c;
    out[1] = y * x * t + z * s;
    out[2] = z * x * t - y * s;
    out[3] = 0;
    out[4] = x * y * t - z * s;
    out[5] = y * y * t + c;
    out[6] = z * y * t + x * s;
    out[7] = 0;
    out[8] = x * z * t + y * s;
    out[9] = y * z * t - x * s;
    out[10] = z * z * t + c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromXRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = c;
    out[6] = s;
    out[7] = 0;
    out[8] = 0;
    out[9] = -s;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromYRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = 0;
    out[2] = -s;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = s;
    out[9] = 0;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromZRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = s;
    out[2] = 0;
    out[3] = 0;
    out[4] = -s;
    out[5] = c;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotationTranslation(out, q, v) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - (yy + zz);
    out[1] = xy + wz;
    out[2] = xz - wy;
    out[3] = 0;
    out[4] = xy - wz;
    out[5] = 1 - (xx + zz);
    out[6] = yz + wx;
    out[7] = 0;
    out[8] = xz + wy;
    out[9] = yz - wx;
    out[10] = 1 - (xx + yy);
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromQuat2(out, a) {
    var translation = new ARRAY_TYPE(3);
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7];
    var magnitude = bx * bx + by * by + bz * bz + bw * bw;
    if (magnitude > 0) {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;
    } else {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    }
    fromRotationTranslation(out, a, translation);
    return out;
  }
  function getTranslation(out, mat) {
    out[0] = mat[12];
    out[1] = mat[13];
    out[2] = mat[14];
    return out;
  }
  function getScaling(out, mat) {
    var m11 = mat[0];
    var m12 = mat[1];
    var m13 = mat[2];
    var m21 = mat[4];
    var m22 = mat[5];
    var m23 = mat[6];
    var m31 = mat[8];
    var m32 = mat[9];
    var m33 = mat[10];
    out[0] = Math.hypot(m11, m12, m13);
    out[1] = Math.hypot(m21, m22, m23);
    out[2] = Math.hypot(m31, m32, m33);
    return out;
  }
  function getRotation(out, mat) {
    var scaling = new ARRAY_TYPE(3);
    getScaling(scaling, mat);
    var is1 = 1 / scaling[0];
    var is2 = 1 / scaling[1];
    var is3 = 1 / scaling[2];
    var sm11 = mat[0] * is1;
    var sm12 = mat[1] * is2;
    var sm13 = mat[2] * is3;
    var sm21 = mat[4] * is1;
    var sm22 = mat[5] * is2;
    var sm23 = mat[6] * is3;
    var sm31 = mat[8] * is1;
    var sm32 = mat[9] * is2;
    var sm33 = mat[10] * is3;
    var trace = sm11 + sm22 + sm33;
    var S = 0;
    if (trace > 0) {
      S = Math.sqrt(trace + 1) * 2;
      out[3] = 0.25 * S;
      out[0] = (sm23 - sm32) / S;
      out[1] = (sm31 - sm13) / S;
      out[2] = (sm12 - sm21) / S;
    } else if (sm11 > sm22 && sm11 > sm33) {
      S = Math.sqrt(1 + sm11 - sm22 - sm33) * 2;
      out[3] = (sm23 - sm32) / S;
      out[0] = 0.25 * S;
      out[1] = (sm12 + sm21) / S;
      out[2] = (sm31 + sm13) / S;
    } else if (sm22 > sm33) {
      S = Math.sqrt(1 + sm22 - sm11 - sm33) * 2;
      out[3] = (sm31 - sm13) / S;
      out[0] = (sm12 + sm21) / S;
      out[1] = 0.25 * S;
      out[2] = (sm23 + sm32) / S;
    } else {
      S = Math.sqrt(1 + sm33 - sm11 - sm22) * 2;
      out[3] = (sm12 - sm21) / S;
      out[0] = (sm31 + sm13) / S;
      out[1] = (sm23 + sm32) / S;
      out[2] = 0.25 * S;
    }
    return out;
  }
  function fromRotationTranslationScale(out, q, v, s) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    out[0] = (1 - (yy + zz)) * sx;
    out[1] = (xy + wz) * sx;
    out[2] = (xz - wy) * sx;
    out[3] = 0;
    out[4] = (xy - wz) * sy;
    out[5] = (1 - (xx + zz)) * sy;
    out[6] = (yz + wx) * sy;
    out[7] = 0;
    out[8] = (xz + wy) * sz;
    out[9] = (yz - wx) * sz;
    out[10] = (1 - (xx + yy)) * sz;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromRotationTranslationScaleOrigin(out, q, v, s, o) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    var ox = o[0];
    var oy = o[1];
    var oz = o[2];
    var out0 = (1 - (yy + zz)) * sx;
    var out1 = (xy + wz) * sx;
    var out2 = (xz - wy) * sx;
    var out4 = (xy - wz) * sy;
    var out5 = (1 - (xx + zz)) * sy;
    var out6 = (yz + wx) * sy;
    var out8 = (xz + wy) * sz;
    var out9 = (yz - wx) * sz;
    var out10 = (1 - (xx + yy)) * sz;
    out[0] = out0;
    out[1] = out1;
    out[2] = out2;
    out[3] = 0;
    out[4] = out4;
    out[5] = out5;
    out[6] = out6;
    out[7] = 0;
    out[8] = out8;
    out[9] = out9;
    out[10] = out10;
    out[11] = 0;
    out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);
    out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);
    out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);
    out[15] = 1;
    return out;
  }
  function fromQuat(out, q) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var yx = y * x2;
    var yy = y * y2;
    var zx = z * x2;
    var zy = z * y2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - yy - zz;
    out[1] = yx + wz;
    out[2] = zx - wy;
    out[3] = 0;
    out[4] = yx - wz;
    out[5] = 1 - xx - zz;
    out[6] = zy + wx;
    out[7] = 0;
    out[8] = zx + wy;
    out[9] = zy - wx;
    out[10] = 1 - xx - yy;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function frustum(out, left, right, bottom, top, near, far) {
    var rl = 1 / (right - left);
    var tb = 1 / (top - bottom);
    var nf = 1 / (near - far);
    out[0] = near * 2 * rl;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = near * 2 * tb;
    out[6] = 0;
    out[7] = 0;
    out[8] = (right + left) * rl;
    out[9] = (top + bottom) * tb;
    out[10] = (far + near) * nf;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near * 2 * nf;
    out[15] = 0;
    return out;
  }
  function perspectiveNO(out, fovy, aspect, near, far) {
    var f = 1 / Math.tan(fovy / 2), nf;
    out[0] = f / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = (far + near) * nf;
      out[14] = 2 * far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -2 * near;
    }
    return out;
  }
  var perspective = perspectiveNO;
  function perspectiveZO(out, fovy, aspect, near, far) {
    var f = 1 / Math.tan(fovy / 2), nf;
    out[0] = f / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = far * nf;
      out[14] = far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -near;
    }
    return out;
  }
  function perspectiveFromFieldOfView(out, fov, near, far) {
    var upTan = Math.tan(fov.upDegrees * Math.PI / 180);
    var downTan = Math.tan(fov.downDegrees * Math.PI / 180);
    var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180);
    var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180);
    var xScale = 2 / (leftTan + rightTan);
    var yScale = 2 / (upTan + downTan);
    out[0] = xScale;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = yScale;
    out[6] = 0;
    out[7] = 0;
    out[8] = -((leftTan - rightTan) * xScale * 0.5);
    out[9] = (upTan - downTan) * yScale * 0.5;
    out[10] = far / (near - far);
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near / (near - far);
    out[15] = 0;
    return out;
  }
  function orthoNO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 2 * nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = (far + near) * nf;
    out[15] = 1;
    return out;
  }
  var ortho = orthoNO;
  function orthoZO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = near * nf;
    out[15] = 1;
    return out;
  }
  function lookAt(out, eye, center, up) {
    var x0, x1, x2, y0, y1, y2, z0, z1, z2, len4;
    var eyex = eye[0];
    var eyey = eye[1];
    var eyez = eye[2];
    var upx = up[0];
    var upy = up[1];
    var upz = up[2];
    var centerx = center[0];
    var centery = center[1];
    var centerz = center[2];
    if (Math.abs(eyex - centerx) < EPSILON && Math.abs(eyey - centery) < EPSILON && Math.abs(eyez - centerz) < EPSILON) {
      return identity(out);
    }
    z0 = eyex - centerx;
    z1 = eyey - centery;
    z2 = eyez - centerz;
    len4 = 1 / Math.hypot(z0, z1, z2);
    z0 *= len4;
    z1 *= len4;
    z2 *= len4;
    x0 = upy * z2 - upz * z1;
    x1 = upz * z0 - upx * z2;
    x2 = upx * z1 - upy * z0;
    len4 = Math.hypot(x0, x1, x2);
    if (!len4) {
      x0 = 0;
      x1 = 0;
      x2 = 0;
    } else {
      len4 = 1 / len4;
      x0 *= len4;
      x1 *= len4;
      x2 *= len4;
    }
    y0 = z1 * x2 - z2 * x1;
    y1 = z2 * x0 - z0 * x2;
    y2 = z0 * x1 - z1 * x0;
    len4 = Math.hypot(y0, y1, y2);
    if (!len4) {
      y0 = 0;
      y1 = 0;
      y2 = 0;
    } else {
      len4 = 1 / len4;
      y0 *= len4;
      y1 *= len4;
      y2 *= len4;
    }
    out[0] = x0;
    out[1] = y0;
    out[2] = z0;
    out[3] = 0;
    out[4] = x1;
    out[5] = y1;
    out[6] = z1;
    out[7] = 0;
    out[8] = x2;
    out[9] = y2;
    out[10] = z2;
    out[11] = 0;
    out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
    out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
    out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
    out[15] = 1;
    return out;
  }
  function targetTo(out, eye, target, up) {
    var eyex = eye[0], eyey = eye[1], eyez = eye[2], upx = up[0], upy = up[1], upz = up[2];
    var z0 = eyex - target[0], z1 = eyey - target[1], z2 = eyez - target[2];
    var len4 = z0 * z0 + z1 * z1 + z2 * z2;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
      z0 *= len4;
      z1 *= len4;
      z2 *= len4;
    }
    var x0 = upy * z2 - upz * z1, x1 = upz * z0 - upx * z2, x2 = upx * z1 - upy * z0;
    len4 = x0 * x0 + x1 * x1 + x2 * x2;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
      x0 *= len4;
      x1 *= len4;
      x2 *= len4;
    }
    out[0] = x0;
    out[1] = x1;
    out[2] = x2;
    out[3] = 0;
    out[4] = z1 * x2 - z2 * x1;
    out[5] = z2 * x0 - z0 * x2;
    out[6] = z0 * x1 - z1 * x0;
    out[7] = 0;
    out[8] = z0;
    out[9] = z1;
    out[10] = z2;
    out[11] = 0;
    out[12] = eyex;
    out[13] = eyey;
    out[14] = eyez;
    out[15] = 1;
    return out;
  }
  function str(a) {
    return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";
  }
  function frob(a) {
    return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);
  }
  function add(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    out[8] = a[8] + b[8];
    out[9] = a[9] + b[9];
    out[10] = a[10] + b[10];
    out[11] = a[11] + b[11];
    out[12] = a[12] + b[12];
    out[13] = a[13] + b[13];
    out[14] = a[14] + b[14];
    out[15] = a[15] + b[15];
    return out;
  }
  function subtract(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    out[3] = a[3] - b[3];
    out[4] = a[4] - b[4];
    out[5] = a[5] - b[5];
    out[6] = a[6] - b[6];
    out[7] = a[7] - b[7];
    out[8] = a[8] - b[8];
    out[9] = a[9] - b[9];
    out[10] = a[10] - b[10];
    out[11] = a[11] - b[11];
    out[12] = a[12] - b[12];
    out[13] = a[13] - b[13];
    out[14] = a[14] - b[14];
    out[15] = a[15] - b[15];
    return out;
  }
  function multiplyScalar(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    out[8] = a[8] * b;
    out[9] = a[9] * b;
    out[10] = a[10] * b;
    out[11] = a[11] * b;
    out[12] = a[12] * b;
    out[13] = a[13] * b;
    out[14] = a[14] * b;
    out[15] = a[15] * b;
    return out;
  }
  function multiplyScalarAndAdd(out, a, b, scale6) {
    out[0] = a[0] + b[0] * scale6;
    out[1] = a[1] + b[1] * scale6;
    out[2] = a[2] + b[2] * scale6;
    out[3] = a[3] + b[3] * scale6;
    out[4] = a[4] + b[4] * scale6;
    out[5] = a[5] + b[5] * scale6;
    out[6] = a[6] + b[6] * scale6;
    out[7] = a[7] + b[7] * scale6;
    out[8] = a[8] + b[8] * scale6;
    out[9] = a[9] + b[9] * scale6;
    out[10] = a[10] + b[10] * scale6;
    out[11] = a[11] + b[11] * scale6;
    out[12] = a[12] + b[12] * scale6;
    out[13] = a[13] + b[13] * scale6;
    out[14] = a[14] + b[14] * scale6;
    out[15] = a[15] + b[15] * scale6;
    return out;
  }
  function exactEquals(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];
  }
  function equals(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var a8 = a[8], a9 = a[9], a10 = a[10], a11 = a[11];
    var a12 = a[12], a13 = a[13], a14 = a[14], a15 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    var b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    var b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11];
    var b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= EPSILON * Math.max(1, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= EPSILON * Math.max(1, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= EPSILON * Math.max(1, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= EPSILON * Math.max(1, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= EPSILON * Math.max(1, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= EPSILON * Math.max(1, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= EPSILON * Math.max(1, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= EPSILON * Math.max(1, Math.abs(a15), Math.abs(b15));
  }
  var mul = multiply;
  var sub = subtract;

  // node_modules/gl-matrix/esm/quat.js
  var quat_exports = {};
  __export(quat_exports, {
    add: () => add4,
    calculateW: () => calculateW,
    clone: () => clone4,
    conjugate: () => conjugate,
    copy: () => copy4,
    create: () => create5,
    dot: () => dot3,
    equals: () => equals4,
    exactEquals: () => exactEquals4,
    exp: () => exp,
    fromEuler: () => fromEuler,
    fromMat3: () => fromMat3,
    fromValues: () => fromValues4,
    getAngle: () => getAngle,
    getAxisAngle: () => getAxisAngle,
    identity: () => identity2,
    invert: () => invert2,
    len: () => len2,
    length: () => length3,
    lerp: () => lerp3,
    ln: () => ln,
    mul: () => mul3,
    multiply: () => multiply3,
    normalize: () => normalize3,
    pow: () => pow,
    random: () => random2,
    rotateX: () => rotateX3,
    rotateY: () => rotateY3,
    rotateZ: () => rotateZ3,
    rotationTo: () => rotationTo,
    scale: () => scale4,
    set: () => set4,
    setAxes: () => setAxes,
    setAxisAngle: () => setAxisAngle,
    slerp: () => slerp,
    sqlerp: () => sqlerp,
    sqrLen: () => sqrLen2,
    squaredLength: () => squaredLength3,
    str: () => str3
  });

  // node_modules/gl-matrix/esm/vec3.js
  var vec3_exports = {};
  __export(vec3_exports, {
    add: () => add2,
    angle: () => angle,
    bezier: () => bezier,
    ceil: () => ceil,
    clone: () => clone2,
    copy: () => copy2,
    create: () => create3,
    cross: () => cross,
    dist: () => dist,
    distance: () => distance,
    div: () => div,
    divide: () => divide,
    dot: () => dot,
    equals: () => equals2,
    exactEquals: () => exactEquals2,
    floor: () => floor,
    forEach: () => forEach,
    fromValues: () => fromValues2,
    hermite: () => hermite,
    inverse: () => inverse,
    len: () => len,
    length: () => length,
    lerp: () => lerp,
    max: () => max,
    min: () => min,
    mul: () => mul2,
    multiply: () => multiply2,
    negate: () => negate,
    normalize: () => normalize,
    random: () => random,
    rotateX: () => rotateX2,
    rotateY: () => rotateY2,
    rotateZ: () => rotateZ2,
    round: () => round,
    scale: () => scale2,
    scaleAndAdd: () => scaleAndAdd,
    set: () => set2,
    sqrDist: () => sqrDist,
    sqrLen: () => sqrLen,
    squaredDistance: () => squaredDistance,
    squaredLength: () => squaredLength,
    str: () => str2,
    sub: () => sub2,
    subtract: () => subtract2,
    transformMat3: () => transformMat3,
    transformMat4: () => transformMat4,
    transformQuat: () => transformQuat,
    zero: () => zero
  });
  function create3() {
    var out = new ARRAY_TYPE(3);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    return out;
  }
  function clone2(a) {
    var out = new ARRAY_TYPE(3);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function length(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return Math.hypot(x, y, z);
  }
  function fromValues2(x, y, z) {
    var out = new ARRAY_TYPE(3);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function copy2(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function set2(out, x, y, z) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function add2(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    return out;
  }
  function subtract2(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    return out;
  }
  function multiply2(out, a, b) {
    out[0] = a[0] * b[0];
    out[1] = a[1] * b[1];
    out[2] = a[2] * b[2];
    return out;
  }
  function divide(out, a, b) {
    out[0] = a[0] / b[0];
    out[1] = a[1] / b[1];
    out[2] = a[2] / b[2];
    return out;
  }
  function ceil(out, a) {
    out[0] = Math.ceil(a[0]);
    out[1] = Math.ceil(a[1]);
    out[2] = Math.ceil(a[2]);
    return out;
  }
  function floor(out, a) {
    out[0] = Math.floor(a[0]);
    out[1] = Math.floor(a[1]);
    out[2] = Math.floor(a[2]);
    return out;
  }
  function min(out, a, b) {
    out[0] = Math.min(a[0], b[0]);
    out[1] = Math.min(a[1], b[1]);
    out[2] = Math.min(a[2], b[2]);
    return out;
  }
  function max(out, a, b) {
    out[0] = Math.max(a[0], b[0]);
    out[1] = Math.max(a[1], b[1]);
    out[2] = Math.max(a[2], b[2]);
    return out;
  }
  function round(out, a) {
    out[0] = Math.round(a[0]);
    out[1] = Math.round(a[1]);
    out[2] = Math.round(a[2]);
    return out;
  }
  function scale2(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    return out;
  }
  function scaleAndAdd(out, a, b, scale6) {
    out[0] = a[0] + b[0] * scale6;
    out[1] = a[1] + b[1] * scale6;
    out[2] = a[2] + b[2] * scale6;
    return out;
  }
  function distance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return Math.hypot(x, y, z);
  }
  function squaredDistance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return x * x + y * y + z * z;
  }
  function squaredLength(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return x * x + y * y + z * z;
  }
  function negate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    return out;
  }
  function inverse(out, a) {
    out[0] = 1 / a[0];
    out[1] = 1 / a[1];
    out[2] = 1 / a[2];
    return out;
  }
  function normalize(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var len4 = x * x + y * y + z * z;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
    }
    out[0] = a[0] * len4;
    out[1] = a[1] * len4;
    out[2] = a[2] * len4;
    return out;
  }
  function dot(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
  }
  function cross(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2];
    var bx = b[0], by = b[1], bz = b[2];
    out[0] = ay * bz - az * by;
    out[1] = az * bx - ax * bz;
    out[2] = ax * by - ay * bx;
    return out;
  }
  function lerp(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    return out;
  }
  function hermite(out, a, b, c, d, t) {
    var factorTimes2 = t * t;
    var factor1 = factorTimes2 * (2 * t - 3) + 1;
    var factor2 = factorTimes2 * (t - 2) + t;
    var factor3 = factorTimes2 * (t - 1);
    var factor4 = factorTimes2 * (3 - 2 * t);
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function bezier(out, a, b, c, d, t) {
    var inverseFactor = 1 - t;
    var inverseFactorTimesTwo = inverseFactor * inverseFactor;
    var factorTimes2 = t * t;
    var factor1 = inverseFactorTimesTwo * inverseFactor;
    var factor2 = 3 * t * inverseFactorTimesTwo;
    var factor3 = 3 * factorTimes2 * inverseFactor;
    var factor4 = factorTimes2 * t;
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function random(out, scale6) {
    scale6 = scale6 || 1;
    var r = RANDOM() * 2 * Math.PI;
    var z = RANDOM() * 2 - 1;
    var zScale = Math.sqrt(1 - z * z) * scale6;
    out[0] = Math.cos(r) * zScale;
    out[1] = Math.sin(r) * zScale;
    out[2] = z * scale6;
    return out;
  }
  function transformMat4(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    var w = m[3] * x + m[7] * y + m[11] * z + m[15];
    w = w || 1;
    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;
    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;
    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;
    return out;
  }
  function transformMat3(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x * m[0] + y * m[3] + z * m[6];
    out[1] = x * m[1] + y * m[4] + z * m[7];
    out[2] = x * m[2] + y * m[5] + z * m[8];
    return out;
  }
  function transformQuat(out, a, q) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3];
    var x = a[0], y = a[1], z = a[2];
    var uvx = qy * z - qz * y, uvy = qz * x - qx * z, uvz = qx * y - qy * x;
    var uuvx = qy * uvz - qz * uvy, uuvy = qz * uvx - qx * uvz, uuvz = qx * uvy - qy * uvx;
    var w2 = qw * 2;
    uvx *= w2;
    uvy *= w2;
    uvz *= w2;
    uuvx *= 2;
    uuvy *= 2;
    uuvz *= 2;
    out[0] = x + uvx + uuvx;
    out[1] = y + uvy + uuvy;
    out[2] = z + uvz + uuvz;
    return out;
  }
  function rotateX2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0];
    r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);
    r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateY2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);
    r[1] = p[1];
    r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateZ2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);
    r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);
    r[2] = p[2];
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function angle(a, b) {
    var ax = a[0], ay = a[1], az = a[2], bx = b[0], by = b[1], bz = b[2], mag1 = Math.sqrt(ax * ax + ay * ay + az * az), mag2 = Math.sqrt(bx * bx + by * by + bz * bz), mag = mag1 * mag2, cosine = mag && dot(a, b) / mag;
    return Math.acos(Math.min(Math.max(cosine, -1), 1));
  }
  function zero(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    return out;
  }
  function str2(a) {
    return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";
  }
  function exactEquals2(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
  }
  function equals2(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2];
    var b0 = b[0], b1 = b[1], b2 = b[2];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2));
  }
  var sub2 = subtract2;
  var mul2 = multiply2;
  var div = divide;
  var dist = distance;
  var sqrDist = squaredDistance;
  var len = length;
  var sqrLen = squaredLength;
  var forEach = function() {
    var vec = create3();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l;
      if (!stride) {
        stride = 3;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l = Math.min(count * stride + offset2, a.length);
      } else {
        l = a.length;
      }
      for (i = offset2; i < l; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
      }
      return a;
    };
  }();

  // node_modules/gl-matrix/esm/vec4.js
  function create4() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
    }
    return out;
  }
  function clone3(a) {
    var out = new ARRAY_TYPE(4);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function fromValues3(x, y, z, w) {
    var out = new ARRAY_TYPE(4);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function copy3(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function set3(out, x, y, z, w) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function add3(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    return out;
  }
  function scale3(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    return out;
  }
  function length2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return Math.hypot(x, y, z, w);
  }
  function squaredLength2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return x * x + y * y + z * z + w * w;
  }
  function normalize2(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    var len4 = x * x + y * y + z * z + w * w;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
    }
    out[0] = x * len4;
    out[1] = y * len4;
    out[2] = z * len4;
    out[3] = w * len4;
    return out;
  }
  function dot2(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];
  }
  function lerp2(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    var aw = a[3];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    out[3] = aw + t * (b[3] - aw);
    return out;
  }
  function exactEquals3(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];
  }
  function equals3(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3));
  }
  var forEach2 = function() {
    var vec = create4();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l;
      if (!stride) {
        stride = 4;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l = Math.min(count * stride + offset2, a.length);
      } else {
        l = a.length;
      }
      for (i = offset2; i < l; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        vec[3] = a[i + 3];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
        a[i + 3] = vec[3];
      }
      return a;
    };
  }();

  // node_modules/gl-matrix/esm/quat.js
  function create5() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    out[3] = 1;
    return out;
  }
  function identity2(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    return out;
  }
  function setAxisAngle(out, axis, rad) {
    rad = rad * 0.5;
    var s = Math.sin(rad);
    out[0] = s * axis[0];
    out[1] = s * axis[1];
    out[2] = s * axis[2];
    out[3] = Math.cos(rad);
    return out;
  }
  function getAxisAngle(out_axis, q) {
    var rad = Math.acos(q[3]) * 2;
    var s = Math.sin(rad / 2);
    if (s > EPSILON) {
      out_axis[0] = q[0] / s;
      out_axis[1] = q[1] / s;
      out_axis[2] = q[2] / s;
    } else {
      out_axis[0] = 1;
      out_axis[1] = 0;
      out_axis[2] = 0;
    }
    return rad;
  }
  function getAngle(a, b) {
    var dotproduct = dot3(a, b);
    return Math.acos(2 * dotproduct * dotproduct - 1);
  }
  function multiply3(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    out[0] = ax * bw + aw * bx + ay * bz - az * by;
    out[1] = ay * bw + aw * by + az * bx - ax * bz;
    out[2] = az * bw + aw * bz + ax * by - ay * bx;
    out[3] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function rotateX3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + aw * bx;
    out[1] = ay * bw + az * bx;
    out[2] = az * bw - ay * bx;
    out[3] = aw * bw - ax * bx;
    return out;
  }
  function rotateY3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var by = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw - az * by;
    out[1] = ay * bw + aw * by;
    out[2] = az * bw + ax * by;
    out[3] = aw * bw - ay * by;
    return out;
  }
  function rotateZ3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bz = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + ay * bz;
    out[1] = ay * bw - ax * bz;
    out[2] = az * bw + aw * bz;
    out[3] = aw * bw - az * bz;
    return out;
  }
  function calculateW(out, a) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = Math.sqrt(Math.abs(1 - x * x - y * y - z * z));
    return out;
  }
  function exp(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var et = Math.exp(w);
    var s = r > 0 ? et * Math.sin(r) / r : 0;
    out[0] = x * s;
    out[1] = y * s;
    out[2] = z * s;
    out[3] = et * Math.cos(r);
    return out;
  }
  function ln(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var t = r > 0 ? Math.atan2(r, w) / r : 0;
    out[0] = x * t;
    out[1] = y * t;
    out[2] = z * t;
    out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);
    return out;
  }
  function pow(out, a, b) {
    ln(out, a);
    scale4(out, out, b);
    exp(out, out);
    return out;
  }
  function slerp(out, a, b, t) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    var omega, cosom, sinom, scale0, scale1;
    cosom = ax * bx + ay * by + az * bz + aw * bw;
    if (cosom < 0) {
      cosom = -cosom;
      bx = -bx;
      by = -by;
      bz = -bz;
      bw = -bw;
    }
    if (1 - cosom > EPSILON) {
      omega = Math.acos(cosom);
      sinom = Math.sin(omega);
      scale0 = Math.sin((1 - t) * omega) / sinom;
      scale1 = Math.sin(t * omega) / sinom;
    } else {
      scale0 = 1 - t;
      scale1 = t;
    }
    out[0] = scale0 * ax + scale1 * bx;
    out[1] = scale0 * ay + scale1 * by;
    out[2] = scale0 * az + scale1 * bz;
    out[3] = scale0 * aw + scale1 * bw;
    return out;
  }
  function random2(out) {
    var u1 = RANDOM();
    var u2 = RANDOM();
    var u3 = RANDOM();
    var sqrt1MinusU1 = Math.sqrt(1 - u1);
    var sqrtU1 = Math.sqrt(u1);
    out[0] = sqrt1MinusU1 * Math.sin(2 * Math.PI * u2);
    out[1] = sqrt1MinusU1 * Math.cos(2 * Math.PI * u2);
    out[2] = sqrtU1 * Math.sin(2 * Math.PI * u3);
    out[3] = sqrtU1 * Math.cos(2 * Math.PI * u3);
    return out;
  }
  function invert2(out, a) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var dot5 = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;
    var invDot = dot5 ? 1 / dot5 : 0;
    out[0] = -a0 * invDot;
    out[1] = -a1 * invDot;
    out[2] = -a2 * invDot;
    out[3] = a3 * invDot;
    return out;
  }
  function conjugate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    return out;
  }
  function fromMat3(out, m) {
    var fTrace = m[0] + m[4] + m[8];
    var fRoot;
    if (fTrace > 0) {
      fRoot = Math.sqrt(fTrace + 1);
      out[3] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[0] = (m[5] - m[7]) * fRoot;
      out[1] = (m[6] - m[2]) * fRoot;
      out[2] = (m[1] - m[3]) * fRoot;
    } else {
      var i = 0;
      if (m[4] > m[0])
        i = 1;
      if (m[8] > m[i * 3 + i])
        i = 2;
      var j = (i + 1) % 3;
      var k = (i + 2) % 3;
      fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1);
      out[i] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;
      out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;
      out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;
    }
    return out;
  }
  function fromEuler(out, x, y, z) {
    var halfToRad = 0.5 * Math.PI / 180;
    x *= halfToRad;
    y *= halfToRad;
    z *= halfToRad;
    var sx = Math.sin(x);
    var cx = Math.cos(x);
    var sy = Math.sin(y);
    var cy = Math.cos(y);
    var sz = Math.sin(z);
    var cz = Math.cos(z);
    out[0] = sx * cy * cz - cx * sy * sz;
    out[1] = cx * sy * cz + sx * cy * sz;
    out[2] = cx * cy * sz - sx * sy * cz;
    out[3] = cx * cy * cz + sx * sy * sz;
    return out;
  }
  function str3(a) {
    return "quat(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ")";
  }
  var clone4 = clone3;
  var fromValues4 = fromValues3;
  var copy4 = copy3;
  var set4 = set3;
  var add4 = add3;
  var mul3 = multiply3;
  var scale4 = scale3;
  var dot3 = dot2;
  var lerp3 = lerp2;
  var length3 = length2;
  var len2 = length3;
  var squaredLength3 = squaredLength2;
  var sqrLen2 = squaredLength3;
  var normalize3 = normalize2;
  var exactEquals4 = exactEquals3;
  var equals4 = equals3;
  var rotationTo = function() {
    var tmpvec3 = create3();
    var xUnitVec3 = fromValues2(1, 0, 0);
    var yUnitVec3 = fromValues2(0, 1, 0);
    return function(out, a, b) {
      var dot5 = dot(a, b);
      if (dot5 < -0.999999) {
        cross(tmpvec3, xUnitVec3, a);
        if (len(tmpvec3) < 1e-6)
          cross(tmpvec3, yUnitVec3, a);
        normalize(tmpvec3, tmpvec3);
        setAxisAngle(out, tmpvec3, Math.PI);
        return out;
      } else if (dot5 > 0.999999) {
        out[0] = 0;
        out[1] = 0;
        out[2] = 0;
        out[3] = 1;
        return out;
      } else {
        cross(tmpvec3, a, b);
        out[0] = tmpvec3[0];
        out[1] = tmpvec3[1];
        out[2] = tmpvec3[2];
        out[3] = 1 + dot5;
        return normalize3(out, out);
      }
    };
  }();
  var sqlerp = function() {
    var temp1 = create5();
    var temp2 = create5();
    return function(out, a, b, c, d, t) {
      slerp(temp1, a, d, t);
      slerp(temp2, b, c, t);
      slerp(out, temp1, temp2, 2 * t * (1 - t));
      return out;
    };
  }();
  var setAxes = function() {
    var matr = create();
    return function(out, view, right, up) {
      matr[0] = right[0];
      matr[3] = right[1];
      matr[6] = right[2];
      matr[1] = up[0];
      matr[4] = up[1];
      matr[7] = up[2];
      matr[2] = -view[0];
      matr[5] = -view[1];
      matr[8] = -view[2];
      return normalize3(out, fromMat3(out, matr));
    };
  }();

  // node_modules/gl-matrix/esm/quat2.js
  var quat2_exports = {};
  __export(quat2_exports, {
    add: () => add5,
    clone: () => clone5,
    conjugate: () => conjugate2,
    copy: () => copy5,
    create: () => create6,
    dot: () => dot4,
    equals: () => equals5,
    exactEquals: () => exactEquals5,
    fromMat4: () => fromMat4,
    fromRotation: () => fromRotation2,
    fromRotationTranslation: () => fromRotationTranslation2,
    fromRotationTranslationValues: () => fromRotationTranslationValues,
    fromTranslation: () => fromTranslation2,
    fromValues: () => fromValues5,
    getDual: () => getDual,
    getReal: () => getReal,
    getTranslation: () => getTranslation2,
    identity: () => identity3,
    invert: () => invert3,
    len: () => len3,
    length: () => length4,
    lerp: () => lerp4,
    mul: () => mul4,
    multiply: () => multiply4,
    normalize: () => normalize4,
    rotateAroundAxis: () => rotateAroundAxis,
    rotateByQuatAppend: () => rotateByQuatAppend,
    rotateByQuatPrepend: () => rotateByQuatPrepend,
    rotateX: () => rotateX4,
    rotateY: () => rotateY4,
    rotateZ: () => rotateZ4,
    scale: () => scale5,
    set: () => set5,
    setDual: () => setDual,
    setReal: () => setReal,
    sqrLen: () => sqrLen3,
    squaredLength: () => squaredLength4,
    str: () => str4,
    translate: () => translate2
  });
  function create6() {
    var dq = new ARRAY_TYPE(8);
    if (ARRAY_TYPE != Float32Array) {
      dq[0] = 0;
      dq[1] = 0;
      dq[2] = 0;
      dq[4] = 0;
      dq[5] = 0;
      dq[6] = 0;
      dq[7] = 0;
    }
    dq[3] = 1;
    return dq;
  }
  function clone5(a) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = a[0];
    dq[1] = a[1];
    dq[2] = a[2];
    dq[3] = a[3];
    dq[4] = a[4];
    dq[5] = a[5];
    dq[6] = a[6];
    dq[7] = a[7];
    return dq;
  }
  function fromValues5(x1, y1, z1, w1, x2, y2, z2, w2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    dq[4] = x2;
    dq[5] = y2;
    dq[6] = z2;
    dq[7] = w2;
    return dq;
  }
  function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    var ax = x2 * 0.5, ay = y2 * 0.5, az = z2 * 0.5;
    dq[4] = ax * w1 + ay * z1 - az * y1;
    dq[5] = ay * w1 + az * x1 - ax * z1;
    dq[6] = az * w1 + ax * y1 - ay * x1;
    dq[7] = -ax * x1 - ay * y1 - az * z1;
    return dq;
  }
  function fromRotationTranslation2(out, q, t) {
    var ax = t[0] * 0.5, ay = t[1] * 0.5, az = t[2] * 0.5, bx = q[0], by = q[1], bz = q[2], bw = q[3];
    out[0] = bx;
    out[1] = by;
    out[2] = bz;
    out[3] = bw;
    out[4] = ax * bw + ay * bz - az * by;
    out[5] = ay * bw + az * bx - ax * bz;
    out[6] = az * bw + ax * by - ay * bx;
    out[7] = -ax * bx - ay * by - az * bz;
    return out;
  }
  function fromTranslation2(out, t) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = t[0] * 0.5;
    out[5] = t[1] * 0.5;
    out[6] = t[2] * 0.5;
    out[7] = 0;
    return out;
  }
  function fromRotation2(out, q) {
    out[0] = q[0];
    out[1] = q[1];
    out[2] = q[2];
    out[3] = q[3];
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function fromMat4(out, a) {
    var outer = create5();
    getRotation(outer, a);
    var t = new ARRAY_TYPE(3);
    getTranslation(t, a);
    fromRotationTranslation2(out, outer, t);
    return out;
  }
  function copy5(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    return out;
  }
  function identity3(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function set5(out, x1, y1, z1, w1, x2, y2, z2, w2) {
    out[0] = x1;
    out[1] = y1;
    out[2] = z1;
    out[3] = w1;
    out[4] = x2;
    out[5] = y2;
    out[6] = z2;
    out[7] = w2;
    return out;
  }
  var getReal = copy4;
  function getDual(out, a) {
    out[0] = a[4];
    out[1] = a[5];
    out[2] = a[6];
    out[3] = a[7];
    return out;
  }
  var setReal = copy4;
  function setDual(out, q) {
    out[4] = q[0];
    out[5] = q[1];
    out[6] = q[2];
    out[7] = q[3];
    return out;
  }
  function getTranslation2(out, a) {
    var ax = a[4], ay = a[5], az = a[6], aw = a[7], bx = -a[0], by = -a[1], bz = -a[2], bw = a[3];
    out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
    out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
    out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    return out;
  }
  function translate2(out, a, v) {
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3], bx1 = v[0] * 0.5, by1 = v[1] * 0.5, bz1 = v[2] * 0.5, ax2 = a[4], ay2 = a[5], az2 = a[6], aw2 = a[7];
    out[0] = ax1;
    out[1] = ay1;
    out[2] = az1;
    out[3] = aw1;
    out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;
    out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;
    out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;
    out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;
    return out;
  }
  function rotateX4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateX3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateY4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateY3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateZ4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateZ3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateByQuatAppend(out, a, q) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3], ax = a[0], ay = a[1], az = a[2], aw = a[3];
    out[0] = ax * qw + aw * qx + ay * qz - az * qy;
    out[1] = ay * qw + aw * qy + az * qx - ax * qz;
    out[2] = az * qw + aw * qz + ax * qy - ay * qx;
    out[3] = aw * qw - ax * qx - ay * qy - az * qz;
    ax = a[4];
    ay = a[5];
    az = a[6];
    aw = a[7];
    out[4] = ax * qw + aw * qx + ay * qz - az * qy;
    out[5] = ay * qw + aw * qy + az * qx - ax * qz;
    out[6] = az * qw + aw * qz + ax * qy - ay * qx;
    out[7] = aw * qw - ax * qx - ay * qy - az * qz;
    return out;
  }
  function rotateByQuatPrepend(out, q, a) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3], bx = a[0], by = a[1], bz = a[2], bw = a[3];
    out[0] = qx * bw + qw * bx + qy * bz - qz * by;
    out[1] = qy * bw + qw * by + qz * bx - qx * bz;
    out[2] = qz * bw + qw * bz + qx * by - qy * bx;
    out[3] = qw * bw - qx * bx - qy * by - qz * bz;
    bx = a[4];
    by = a[5];
    bz = a[6];
    bw = a[7];
    out[4] = qx * bw + qw * bx + qy * bz - qz * by;
    out[5] = qy * bw + qw * by + qz * bx - qx * bz;
    out[6] = qz * bw + qw * bz + qx * by - qy * bx;
    out[7] = qw * bw - qx * bx - qy * by - qz * bz;
    return out;
  }
  function rotateAroundAxis(out, a, axis, rad) {
    if (Math.abs(rad) < EPSILON) {
      return copy5(out, a);
    }
    var axisLength = Math.hypot(axis[0], axis[1], axis[2]);
    rad = rad * 0.5;
    var s = Math.sin(rad);
    var bx = s * axis[0] / axisLength;
    var by = s * axis[1] / axisLength;
    var bz = s * axis[2] / axisLength;
    var bw = Math.cos(rad);
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3];
    out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    var ax = a[4], ay = a[5], az = a[6], aw = a[7];
    out[4] = ax * bw + aw * bx + ay * bz - az * by;
    out[5] = ay * bw + aw * by + az * bx - ax * bz;
    out[6] = az * bw + aw * bz + ax * by - ay * bx;
    out[7] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function add5(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    return out;
  }
  function multiply4(out, a, b) {
    var ax0 = a[0], ay0 = a[1], az0 = a[2], aw0 = a[3], bx1 = b[4], by1 = b[5], bz1 = b[6], bw1 = b[7], ax1 = a[4], ay1 = a[5], az1 = a[6], aw1 = a[7], bx0 = b[0], by0 = b[1], bz0 = b[2], bw0 = b[3];
    out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;
    out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;
    out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;
    out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;
    out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;
    out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;
    out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;
    out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;
    return out;
  }
  var mul4 = multiply4;
  function scale5(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    return out;
  }
  var dot4 = dot3;
  function lerp4(out, a, b, t) {
    var mt = 1 - t;
    if (dot4(a, b) < 0)
      t = -t;
    out[0] = a[0] * mt + b[0] * t;
    out[1] = a[1] * mt + b[1] * t;
    out[2] = a[2] * mt + b[2] * t;
    out[3] = a[3] * mt + b[3] * t;
    out[4] = a[4] * mt + b[4] * t;
    out[5] = a[5] * mt + b[5] * t;
    out[6] = a[6] * mt + b[6] * t;
    out[7] = a[7] * mt + b[7] * t;
    return out;
  }
  function invert3(out, a) {
    var sqlen = squaredLength4(a);
    out[0] = -a[0] / sqlen;
    out[1] = -a[1] / sqlen;
    out[2] = -a[2] / sqlen;
    out[3] = a[3] / sqlen;
    out[4] = -a[4] / sqlen;
    out[5] = -a[5] / sqlen;
    out[6] = -a[6] / sqlen;
    out[7] = a[7] / sqlen;
    return out;
  }
  function conjugate2(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    out[4] = -a[4];
    out[5] = -a[5];
    out[6] = -a[6];
    out[7] = a[7];
    return out;
  }
  var length4 = length3;
  var len3 = length4;
  var squaredLength4 = squaredLength3;
  var sqrLen3 = squaredLength4;
  function normalize4(out, a) {
    var magnitude = squaredLength4(a);
    if (magnitude > 0) {
      magnitude = Math.sqrt(magnitude);
      var a0 = a[0] / magnitude;
      var a1 = a[1] / magnitude;
      var a2 = a[2] / magnitude;
      var a3 = a[3] / magnitude;
      var b0 = a[4];
      var b1 = a[5];
      var b2 = a[6];
      var b3 = a[7];
      var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;
      out[0] = a0;
      out[1] = a1;
      out[2] = a2;
      out[3] = a3;
      out[4] = (b0 - a0 * a_dot_b) / magnitude;
      out[5] = (b1 - a1 * a_dot_b) / magnitude;
      out[6] = (b2 - a2 * a_dot_b) / magnitude;
      out[7] = (b3 - a3 * a_dot_b) / magnitude;
    }
    return out;
  }
  function str4(a) {
    return "quat2(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ")";
  }
  function exactEquals5(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];
  }
  function equals5(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7));
  }

  // node_modules/@wonderlandengine/components/dist/hit-test-location.js
  var __decorate3 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var HitTestLocation = class extends Component {
    tempScaling = new Float32Array(3);
    visible = false;
    xrHitTestSource = null;
    /** Reference space for creating the hit test when the session starts */
    xrReferenceSpace = null;
    /**
     * For maintaining backwards compatibility: Whether to scale the object to 0 and back.
     * @deprecated Use onHitLost and onHitFound instead.
     */
    scaleObject = true;
    /** Emits an event when the hit test switches from visible to invisible */
    onHitLost = new Emitter();
    /** Emits an event when the hit test switches from invisible to visible */
    onHitFound = new Emitter();
    onSessionStartCallback = null;
    onSessionEndCallback = null;
    start() {
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
      if (this.scaleObject) {
        this.tempScaling.set(this.object.scalingLocal);
        this.object.scale([0, 0, 0]);
        this.onHitLost.add(() => {
          this.tempScaling.set(this.object.scalingLocal);
          this.object.scale([0, 0, 0]);
        });
        this.onHitFound.add(() => {
          this.object.scalingLocal.set(this.tempScaling);
          this.object.setDirty();
        });
      }
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    update() {
      const wasVisible = this.visible;
      if (this.xrHitTestSource) {
        const frame = this.engine.xrFrame;
        if (!frame)
          return;
        let hitTestResults = frame.getHitTestResults(this.xrHitTestSource);
        if (hitTestResults.length > 0) {
          let pose = hitTestResults[0].getPose(this.engine.xr.currentReferenceSpace);
          this.visible = !!pose;
          if (pose) {
            setXRRigidTransformLocal(this.object, pose.transform);
          }
        } else {
          this.visible = false;
        }
      }
      if (this.visible != wasVisible) {
        (this.visible ? this.onHitFound : this.onHitLost).notify(this);
      }
    }
    getHitTestResults(frame = this.engine.xr?.frame ?? null) {
      if (!frame)
        return [];
      if (!this.xrHitTestSource)
        return [];
      return frame.getHitTestResults(this.xrHitTestSource);
    }
    onXRSessionStart(session) {
      if (session.requestHitTestSource === void 0) {
        console.error("hit-test-location: hit test feature not available. Deactivating component.");
        this.active = false;
        return;
      }
      session.requestHitTestSource({
        space: this.xrReferenceSpace ?? this.engine.xr.referenceSpaceForType("viewer")
      }).then((hitTestSource) => {
        this.xrHitTestSource = hitTestSource;
      }).catch(console.error);
    }
    onXRSessionEnd() {
      if (!this.xrHitTestSource)
        return;
      this.xrHitTestSource.cancel();
      this.xrHitTestSource = null;
    }
  };
  __publicField(HitTestLocation, "TypeName", "hit-test-location");
  __decorate3([
    property.bool(true)
  ], HitTestLocation.prototype, "scaleObject", void 0);

  // node_modules/@wonderlandengine/components/dist/cursor.js
  var __decorate4 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec2 = new Float32Array(3);
  var ZERO = [0, 0, 0];
  var CursorTargetEmitters = class {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
  };
  var Cursor = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HitTestLocation);
    }
    _collisionMask = 0;
    _onDeactivateCallbacks = [];
    _input = null;
    _origin = new Float32Array(3);
    _cursorObjScale = new Float32Array(3);
    _direction = new Float32Array(3);
    _projectionMatrix = new Float32Array(16);
    _viewComponent = null;
    _isDown = false;
    _lastIsDown = false;
    _arTouchDown = false;
    _lastPointerPos = new Float32Array(2);
    _lastCursorPosOnTarget = new Float32Array(3);
    _hitTestLocation = null;
    _hitTestObject = null;
    _onSessionStartCallback = null;
    /**
     * Whether the cursor (and cursorObject) is visible, i.e. pointing at an object
     * that matches the collision group
     */
    visible = true;
    /** Currently hovered object */
    hoveringObject = null;
    /** CursorTarget component of the currently hovered object */
    hoveringObjectTarget = null;
    /** Whether the cursor is hovering reality via hit-test */
    hoveringReality = false;
    /**
     * Global target lets you receive global cursor events on any object.
     */
    globalTarget = new CursorTargetEmitters();
    /**
     * Hit test target lets you receive cursor events for "reality", if
     * `useWebXRHitTest` is set to `true`.
     *
     * @example
     * ```js
     * cursor.hitTestTarget.onClick.add((hit, cursor) => {
     *     // User clicked on reality
     * });
     * ```
     */
    hitTestTarget = new CursorTargetEmitters();
    /** World position of the cursor */
    cursorPos = new Float32Array(3);
    /** Collision group for the ray cast. Only objects in this group will be affected by this cursor. */
    collisionGroup = 1;
    /** (optional) Object that visualizes the cursor's ray. */
    cursorRayObject = null;
    /** Axis along which to scale the `cursorRayObject`. */
    cursorRayScalingAxis = 2;
    /** (optional) Object that visualizes the cursor's hit location. */
    cursorObject = null;
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness = 0;
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode = 0;
    /** Maximum distance for the cursor's ray cast. */
    maxDistance = 100;
    /** Whether to set the CSS style of the mouse cursor on desktop */
    styleCursor = true;
    /**
     * Use WebXR hit-test if available.
     *
     * Attaches a hit-test-location component to the cursorObject, which will be used
     * by the cursor to send events to the hitTestTarget with HitTestResult.
     */
    useWebXRHitTest = false;
    _onViewportResize = () => {
      if (!this._viewComponent)
        return;
      mat4_exports.invert(this._projectionMatrix, this._viewComponent.projectionMatrix);
    };
    start() {
      this._collisionMask = 1 << this.collisionGroup;
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("cursor component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness || "none";
          this._input = inputComp;
        }
      } else {
        this.handedness = ["left", "right", "none"][this.handedness - 1];
      }
      this._viewComponent = this.object.getComponent(ViewComponent);
      if (this.useWebXRHitTest) {
        this._hitTestObject = this.engine.scene.addObject(this.object);
        this._hitTestLocation = this._hitTestObject.addComponent(HitTestLocation, {
          scaleObject: false
        }) ?? null;
      }
      this._onSessionStartCallback = this.setupVREvents.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this._onSessionStartCallback);
      this.engine.onResize.add(this._onViewportResize);
      this._setCursorVisibility(true);
      if (this._viewComponent != null) {
        const canvas2 = this.engine.canvas;
        const onClick = this.onClick.bind(this);
        const onPointerMove = this.onPointerMove.bind(this);
        const onPointerDown = this.onPointerDown.bind(this);
        const onPointerUp = this.onPointerUp.bind(this);
        canvas2.addEventListener("click", onClick);
        canvas2.addEventListener("pointermove", onPointerMove);
        canvas2.addEventListener("pointerdown", onPointerDown);
        canvas2.addEventListener("pointerup", onPointerUp);
        this._onDeactivateCallbacks.push(() => {
          canvas2.removeEventListener("click", onClick);
          canvas2.removeEventListener("pointermove", onPointerMove);
          canvas2.removeEventListener("pointerdown", onPointerDown);
          canvas2.removeEventListener("pointerup", onPointerUp);
        });
      }
      this._onViewportResize();
    }
    _setCursorRayTransform(hitPosition) {
      if (!this.cursorRayObject)
        return;
      const dist2 = vec3_exports.dist(this._origin, hitPosition);
      this.cursorRayObject.setPositionLocal([0, 0, -dist2 / 2]);
      if (this.cursorRayScalingAxis != 4) {
        tempVec2.fill(1);
        tempVec2[this.cursorRayScalingAxis] = dist2 / 2;
        this.cursorRayObject.setScalingLocal(tempVec2);
      }
    }
    _setCursorVisibility(visible) {
      if (this.visible == visible)
        return;
      this.visible = visible;
      if (!this.cursorObject)
        return;
      if (visible) {
        this.cursorObject.setScalingWorld(this._cursorObjScale);
      } else {
        this.cursorObject.getScalingWorld(this._cursorObjScale);
        this.cursorObject.scaleLocal([0, 0, 0]);
      }
    }
    update() {
      if (this.engine.xr && this._arTouchDown && this._input && this.engine.xr.session.inputSources[0].handedness === "none" && this.engine.xr.session.inputSources[0].gamepad) {
        const p = this.engine.xr.session.inputSources[0].gamepad.axes;
        this._direction[0] = p[0];
        this._direction[1] = -p[1];
        this._direction[2] = -1;
        this.applyTransformAndProjectDirection();
      } else if (this.engine.xr && this._input && this._input.xrInputSource) {
        this._direction[0] = 0;
        this._direction[1] = 0;
        this._direction[2] = -1;
        this.applyTransformToDirection();
      } else if (this._viewComponent) {
        this.updateDirection();
      }
      this.rayCast(null, this.engine.xr?.frame);
      if (this.cursorObject) {
        if (this.hoveringObject && (this.cursorPos[0] != 0 || this.cursorPos[1] != 0 || this.cursorPos[2] != 0)) {
          this._setCursorVisibility(true);
          this.cursorObject.setPositionWorld(this.cursorPos);
          this._setCursorRayTransform(this.cursorPos);
        } else {
          this._setCursorVisibility(false);
        }
      }
    }
    /* Returns the hovered cursor target, if available */
    notify(event, originalEvent) {
      const target = this.hoveringObject;
      if (target) {
        const cursorTarget = this.hoveringObjectTarget;
        if (cursorTarget)
          cursorTarget[event].notify(target, this, originalEvent ?? void 0);
        this.globalTarget[event].notify(target, this, originalEvent ?? void 0);
      }
    }
    hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent) {
      const hit = !this.hoveringReality && rayHit.hitCount > 0 ? rayHit.objects[0] : null;
      if (hit) {
        if (!this.hoveringObject || !this.hoveringObject.equals(hit)) {
          if (this.hoveringObject) {
            this.notify("onUnhover", originalEvent);
          }
          this.hoveringObject = hit;
          this.hoveringObjectTarget = this.hoveringObject.getComponent(CursorTarget);
          if (this.styleCursor)
            this.engine.canvas.style.cursor = "pointer";
          this.notify("onHover", originalEvent);
        }
      } else if (this.hoveringObject) {
        this.notify("onUnhover", originalEvent);
        this.hoveringObject = null;
        this.hoveringObjectTarget = null;
        if (this.styleCursor)
          this.engine.canvas.style.cursor = "default";
      }
      if (this.hoveringObject) {
        if (this._isDown !== this._lastIsDown) {
          this.notify(this._isDown ? "onDown" : "onUp", originalEvent);
        }
        if (doClick)
          this.notify("onClick", originalEvent);
      } else if (this.hoveringReality) {
        if (this._isDown !== this._lastIsDown) {
          (this._isDown ? this.hitTestTarget.onDown : this.hitTestTarget.onUp).notify(hitTestResult, this, originalEvent ?? void 0);
        }
        if (doClick)
          this.hitTestTarget.onClick.notify(hitTestResult, this, originalEvent ?? void 0);
      }
      if (hit) {
        if (this.hoveringObject) {
          this.hoveringObject.transformPointInverseWorld(tempVec2, this.cursorPos);
        } else {
          tempVec2.set(this.cursorPos);
        }
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, tempVec2)) {
          this.notify("onMove", originalEvent);
          this._lastCursorPosOnTarget.set(tempVec2);
        }
      } else if (this.hoveringReality) {
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, this.cursorPos)) {
          this.hitTestTarget.onMove.notify(hitTestResult, this, originalEvent ?? void 0);
          this._lastCursorPosOnTarget.set(this.cursorPos);
        }
      } else {
        this._lastCursorPosOnTarget.set(this.cursorPos);
      }
      this._lastIsDown = this._isDown;
    }
    /**
     * Setup event listeners on session object
     * @param s WebXR session
     *
     * Sets up 'select' and 'end' events.
     */
    setupVREvents(s) {
      if (!s)
        console.error("setupVREvents called without a valid session");
      if (!this.active)
        return;
      const onSelect = this.onSelect.bind(this);
      s.addEventListener("select", onSelect);
      const onSelectStart = this.onSelectStart.bind(this);
      s.addEventListener("selectstart", onSelectStart);
      const onSelectEnd = this.onSelectEnd.bind(this);
      s.addEventListener("selectend", onSelectEnd);
      this._onDeactivateCallbacks.push(() => {
        if (!this.engine.xr)
          return;
        s.removeEventListener("select", onSelect);
        s.removeEventListener("selectstart", onSelectStart);
        s.removeEventListener("selectend", onSelectEnd);
      });
      this._onViewportResize();
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this._onSessionStartCallback);
      this.engine.onResize.remove(this._onViewportResize);
      this._setCursorVisibility(false);
      if (this.hoveringObject)
        this.notify("onUnhover", null);
      if (this.cursorRayObject)
        this.cursorRayObject.setScalingLocal(ZERO);
      for (const f of this._onDeactivateCallbacks)
        f();
      this._onDeactivateCallbacks.length = 0;
    }
    onDestroy() {
      this._hitTestObject?.destroy();
    }
    /** 'select' event listener */
    onSelect(e) {
      if (e.inputSource.handedness != this.handedness)
        return;
      this.rayCast(e, e.frame, true);
    }
    /** 'selectstart' event listener */
    onSelectStart(e) {
      this._arTouchDown = true;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = true;
        this.rayCast(e, e.frame);
      }
    }
    /** 'selectend' event listener */
    onSelectEnd(e) {
      this._arTouchDown = false;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = false;
        this.rayCast(e, e.frame);
      }
    }
    /** 'pointermove' event listener */
    onPointerMove(e) {
      if (!e.isPrimary)
        return;
      this.updateMousePos(e);
      this.rayCast(e, null);
    }
    /** 'click' event listener */
    onClick(e) {
      this.updateMousePos(e);
      this.rayCast(e, null, true);
    }
    /** 'pointerdown' event listener */
    onPointerDown(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = true;
      this.rayCast(e);
    }
    /** 'pointerup' event listener */
    onPointerUp(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = false;
      this.rayCast(e);
    }
    /**
     * Update mouse position in non-VR mode and raycast for new position
     * @returns @ref WL.RayHit for new position.
     */
    updateMousePos(e) {
      this._lastPointerPos[0] = e.clientX;
      this._lastPointerPos[1] = e.clientY;
      this.updateDirection();
    }
    updateDirection() {
      const bounds = this.engine.canvas.getBoundingClientRect();
      const left = this._lastPointerPos[0] / bounds.width;
      const top = this._lastPointerPos[1] / bounds.height;
      this._direction[0] = left * 2 - 1;
      this._direction[1] = -top * 2 + 1;
      this._direction[2] = -1;
      this.applyTransformAndProjectDirection();
    }
    applyTransformAndProjectDirection() {
      vec3_exports.transformMat4(this._direction, this._direction, this._projectionMatrix);
      vec3_exports.normalize(this._direction, this._direction);
      this.applyTransformToDirection();
    }
    applyTransformToDirection() {
      this.object.transformVectorWorld(this._direction, this._direction);
      this.object.getPositionWorld(this._origin);
    }
    rayCast(originalEvent, frame = null, doClick = false) {
      const rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(this._origin, this._direction, this._collisionMask) : this.engine.physics.rayCast(this._origin, this._direction, this._collisionMask, this.maxDistance);
      let hitResultDistance = Infinity;
      let hitTestResult = null;
      if (this._hitTestLocation?.visible) {
        this._hitTestObject.getPositionWorld(this.cursorPos);
        hitResultDistance = vec3_exports.distance(this.object.getPositionWorld(tempVec2), this.cursorPos);
        hitTestResult = this._hitTestLocation?.getHitTestResults(frame)[0];
      }
      let hoveringReality = false;
      if (rayHit.hitCount > 0) {
        const d = rayHit.distances[0];
        if (hitResultDistance >= d) {
          this.cursorPos.set(rayHit.locations[0]);
        } else {
          hoveringReality = true;
        }
      } else if (hitResultDistance < Infinity) {
      } else {
        this.cursorPos.fill(0);
      }
      if (hoveringReality && !this.hoveringReality) {
        this.hitTestTarget.onHover.notify(hitTestResult, this);
      } else if (!hoveringReality && this.hoveringReality) {
        this.hitTestTarget.onUnhover.notify(hitTestResult, this);
      }
      this.hoveringReality = hoveringReality;
      this.hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent);
      return rayHit;
    }
  };
  __publicField(Cursor, "TypeName", "cursor");
  /* Dependencies is deprecated, but we keep it here for compatibility
   * with 1.0.0-rc2 until 1.0.0 is released */
  __publicField(Cursor, "Dependencies", [HitTestLocation]);
  __decorate4([
    property.int(1)
  ], Cursor.prototype, "collisionGroup", void 0);
  __decorate4([
    property.object()
  ], Cursor.prototype, "cursorRayObject", void 0);
  __decorate4([
    property.enum(["x", "y", "z", "none"], "z")
  ], Cursor.prototype, "cursorRayScalingAxis", void 0);
  __decorate4([
    property.object()
  ], Cursor.prototype, "cursorObject", void 0);
  __decorate4([
    property.enum(["input component", "left", "right", "none"], "input component")
  ], Cursor.prototype, "handedness", void 0);
  __decorate4([
    property.enum(["collision", "physx"], "collision")
  ], Cursor.prototype, "rayCastMode", void 0);
  __decorate4([
    property.float(100)
  ], Cursor.prototype, "maxDistance", void 0);
  __decorate4([
    property.bool(true)
  ], Cursor.prototype, "styleCursor", void 0);
  __decorate4([
    property.bool(false)
  ], Cursor.prototype, "useWebXRHitTest", void 0);

  // node_modules/@wonderlandengine/components/dist/debug-object.js
  var __decorate5 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var DebugObject = class extends Component {
    /** A second object to print the name of */
    obj = null;
    start() {
      let origin = new Float32Array(3);
      quat2_exports.getTranslation(origin, this.object.transformWorld);
      console.log("Debug object:", this.object.name);
      console.log("Other object:", this.obj?.name);
      console.log("	translation", origin);
      console.log("	transformWorld", this.object.transformWorld);
      console.log("	transformLocal", this.object.transformLocal);
    }
  };
  __publicField(DebugObject, "TypeName", "debug-object");
  __decorate5([
    property.object()
  ], DebugObject.prototype, "obj", void 0);

  // node_modules/@wonderlandengine/components/dist/device-orientation-look.js
  function quatFromEulerYXZ(out, x, y, z) {
    const c1 = Math.cos(x / 2);
    const c2 = Math.cos(y / 2);
    const c3 = Math.cos(z / 2);
    const s1 = Math.sin(x / 2);
    const s2 = Math.sin(y / 2);
    const s3 = Math.sin(z / 2);
    out[0] = s1 * c2 * c3 + c1 * s2 * s3;
    out[1] = c1 * s2 * c3 - s1 * c2 * s3;
    out[2] = c1 * c2 * s3 - s1 * s2 * c3;
    out[3] = c1 * c2 * c3 + s1 * s2 * s3;
  }
  var DeviceOrientationLook = class extends Component {
    start() {
      this.rotationX = 0;
      this.rotationY = 0;
      this.lastClientX = -1;
      this.lastClientY = -1;
    }
    init() {
      this.deviceOrientation = [0, 0, 0, 1];
      this.screenOrientation = window.innerHeight > window.innerWidth ? 0 : 90;
      this._origin = [0, 0, 0];
      window.addEventListener("deviceorientation", function(e) {
        let alpha = e.alpha || 0;
        let beta = e.beta || 0;
        let gamma = e.gamma || 0;
        const toRad = Math.PI / 180;
        quatFromEulerYXZ(this.deviceOrientation, beta * toRad, alpha * toRad, -gamma * toRad);
      }.bind(this));
      window.addEventListener("orientationchange", function(e) {
        this.screenOrientation = window.orientation || 0;
      }.bind(this), false);
    }
    update() {
      if (this.engine.xr)
        return;
      this.object.getTranslationLocal(this._origin);
      this.object.resetTransform();
      if (this.screenOrientation != 0) {
        this.object.rotateAxisAngleDeg([0, 0, -1], this.screenOrientation);
      }
      this.object.rotate([-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)]);
      this.object.rotate(this.deviceOrientation);
      this.object.translate(this._origin);
    }
  };
  __publicField(DeviceOrientationLook, "TypeName", "device-orientation-look");
  __publicField(DeviceOrientationLook, "Properties", {});

  // node_modules/@wonderlandengine/components/dist/finger-cursor.js
  var FingerCursor = class extends Component {
    init() {
      this.lastTarget = null;
    }
    start() {
      this.tip = this.object.getComponent("collision");
    }
    update() {
      const overlaps = this.tip.queryOverlaps();
      let overlapFound = null;
      for (let i = 0; i < overlaps.length; ++i) {
        const o = overlaps[i].object;
        const target = o.getComponent("cursor-target");
        if (target) {
          if (!target.equals(this.lastTarget)) {
            target.onHover(o, this);
            target.onClick(o, this);
          }
          overlapFound = target;
          break;
        }
      }
      if (!overlapFound) {
        if (this.lastTarget)
          this.lastTarget.onUnhover(this.lastTarget.object, this);
        this.lastTarget = null;
        return;
      } else {
        this.lastTarget = overlapFound;
      }
    }
  };
  __publicField(FingerCursor, "TypeName", "finger-cursor");
  __publicField(FingerCursor, "Properties", {});

  // node_modules/@wonderlandengine/components/dist/fixed-foveation.js
  var FixedFoveation = class extends Component {
    start() {
      this.onSessionStartCallback = this.setFixedFoveation.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setFixedFoveation() {
      this.engine.xr.baseLayer.fixedFoveation = this.fixedFoveation;
    }
  };
  __publicField(FixedFoveation, "TypeName", "fixed-foveation");
  __publicField(FixedFoveation, "Properties", {
    /** Amount to apply from 0 (none) to 1 (full) */
    fixedFoveation: { type: Type.Float, default: 0.5 }
  });

  // node_modules/@wonderlandengine/components/dist/hand-tracking.js
  var __decorate6 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var ORDERED_JOINTS = [
    "wrist",
    "thumb-metacarpal",
    "thumb-phalanx-proximal",
    "thumb-phalanx-distal",
    "thumb-tip",
    "index-finger-metacarpal",
    "index-finger-phalanx-proximal",
    "index-finger-phalanx-intermediate",
    "index-finger-phalanx-distal",
    "index-finger-tip",
    "middle-finger-metacarpal",
    "middle-finger-phalanx-proximal",
    "middle-finger-phalanx-intermediate",
    "middle-finger-phalanx-distal",
    "middle-finger-tip",
    "ring-finger-metacarpal",
    "ring-finger-phalanx-proximal",
    "ring-finger-phalanx-intermediate",
    "ring-finger-phalanx-distal",
    "ring-finger-tip",
    "pinky-finger-metacarpal",
    "pinky-finger-phalanx-proximal",
    "pinky-finger-phalanx-intermediate",
    "pinky-finger-phalanx-distal",
    "pinky-finger-tip"
  ];
  var invTranslation = vec3_exports.create();
  var invRotation = quat_exports.create();
  var tempVec0 = vec3_exports.create();
  var tempVec1 = vec3_exports.create();
  var HandTracking = class extends Component {
    /** Handedness determining whether to receive tracking input from right or left hand */
    handedness = 0;
    /** (optional) Mesh to use to visualize joints */
    jointMesh = null;
    /** Material to use for display. Applied to either the spawned skinned mesh or the joint spheres. */
    jointMaterial = null;
    /** (optional) Skin to apply tracked joint poses to. If not present,
     * joint spheres will be used for display instead. */
    handSkin = null;
    /** Deactivate children if no pose was tracked */
    deactivateChildrenWithoutPose = true;
    /** Controller objects to activate including children if no pose is available */
    controllerToDeactivate = null;
    init() {
      this.handedness = ["left", "right"][this.handedness];
    }
    joints = {};
    session = null;
    /* Whether last update had a hand pose */
    hasPose = false;
    _childrenActive = true;
    start() {
      if (!("XRHand" in window)) {
        console.warn("WebXR Hand Tracking not supported by this browser.");
        this.active = false;
        return;
      }
      if (this.handSkin) {
        const skin = this.handSkin;
        const jointIds = skin.jointIds;
        this.joints[ORDERED_JOINTS[0]] = this.engine.wrapObject(jointIds[0]);
        for (let j = 0; j < jointIds.length; ++j) {
          const joint = this.engine.wrapObject(jointIds[j]);
          this.joints[joint.name] = joint;
        }
        return;
      }
      const jointObjects = this.engine.scene.addObjects(ORDERED_JOINTS.length, this.object, ORDERED_JOINTS.length);
      for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
        const joint = jointObjects[j];
        joint.addComponent(MeshComponent, {
          mesh: this.jointMesh,
          material: this.jointMaterial
        });
        this.joints[ORDERED_JOINTS[j]] = joint;
        joint.name = ORDERED_JOINTS[j];
      }
    }
    update(dt) {
      if (!this.engine.xr)
        return;
      this.hasPose = false;
      if (this.engine.xr.session.inputSources) {
        for (let i = 0; i < this.engine.xr.session.inputSources.length; ++i) {
          const inputSource = this.engine.xr.session.inputSources[i];
          if (!inputSource?.hand || inputSource?.handedness != this.handedness)
            continue;
          const wristSpace = inputSource.hand.get("wrist");
          if (wristSpace) {
            const p = this.engine.xr.frame.getJointPose(wristSpace, this.engine.xr.currentReferenceSpace);
            if (p) {
              setXRRigidTransformLocal(this.object, p.transform);
            }
          }
          this.object.getRotationLocal(invRotation);
          quat_exports.conjugate(invRotation, invRotation);
          this.object.getPositionLocal(invTranslation);
          this.joints["wrist"].resetTransform();
          for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
            const jointName = ORDERED_JOINTS[j];
            const joint = this.joints[jointName];
            if (!joint)
              continue;
            let jointPose = null;
            const jointSpace = inputSource.hand.get(jointName);
            if (jointSpace) {
              jointPose = this.engine.xr.frame.getJointPose(jointSpace, this.engine.xr.currentReferenceSpace);
            }
            if (jointPose) {
              this.hasPose = true;
              joint.resetPositionRotation();
              joint.translateLocal([
                jointPose.transform.position.x - invTranslation[0],
                jointPose.transform.position.y - invTranslation[1],
                jointPose.transform.position.z - invTranslation[2]
              ]);
              joint.rotateLocal(invRotation);
              joint.rotateObject([
                jointPose.transform.orientation.x,
                jointPose.transform.orientation.y,
                jointPose.transform.orientation.z,
                jointPose.transform.orientation.w
              ]);
              if (!this.handSkin) {
                const r = jointPose.radius || 7e-3;
                joint.setScalingLocal([r, r, r]);
              }
            }
          }
        }
      }
      if (!this.hasPose && this._childrenActive) {
        this._childrenActive = false;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(false);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = true;
          this.setChildrenActive(true, this.controllerToDeactivate);
        }
      } else if (this.hasPose && !this._childrenActive) {
        this._childrenActive = true;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(true);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = false;
          this.setChildrenActive(false, this.controllerToDeactivate);
        }
      }
    }
    setChildrenActive(active, object) {
      object = object || this.object;
      const children = object.children;
      for (const o of children) {
        o.active = active;
        this.setChildrenActive(active, o);
      }
    }
    isGrabbing() {
      this.joints["index-finger-tip"].getPositionLocal(tempVec0);
      this.joints["thumb-tip"].getPositionLocal(tempVec1);
      return vec3_exports.sqrDist(tempVec0, tempVec1) < 1e-3;
    }
  };
  __publicField(HandTracking, "TypeName", "hand-tracking");
  __decorate6([
    property.enum(["left", "right"])
  ], HandTracking.prototype, "handedness", void 0);
  __decorate6([
    property.mesh()
  ], HandTracking.prototype, "jointMesh", void 0);
  __decorate6([
    property.material()
  ], HandTracking.prototype, "jointMaterial", void 0);
  __decorate6([
    property.skin()
  ], HandTracking.prototype, "handSkin", void 0);
  __decorate6([
    property.bool(true)
  ], HandTracking.prototype, "deactivateChildrenWithoutPose", void 0);
  __decorate6([
    property.object()
  ], HandTracking.prototype, "controllerToDeactivate", void 0);

  // node_modules/@wonderlandengine/components/dist/howler-audio-listener.js
  var import_howler = __toESM(require_howler(), 1);
  var HowlerAudioListener = class extends Component {
    init() {
      this.origin = new Float32Array(3);
      this.fwd = new Float32Array(3);
      this.up = new Float32Array(3);
    }
    update() {
      if (!this.spatial)
        return;
      this.object.getTranslationWorld(this.origin);
      this.object.getForward(this.fwd);
      this.object.getUp(this.up);
      Howler.pos(this.origin[0], this.origin[1], this.origin[2]);
      Howler.orientation(this.fwd[0], this.fwd[1], this.fwd[2], this.up[0], this.up[1], this.up[2]);
    }
  };
  __publicField(HowlerAudioListener, "TypeName", "howler-audio-listener");
  __publicField(HowlerAudioListener, "Properties", {
    /** Whether audio should be spatialized/positional. */
    spatial: { type: Type.Bool, default: true }
  });

  // node_modules/@wonderlandengine/components/dist/howler-audio-source.js
  var import_howler2 = __toESM(require_howler(), 1);
  var HowlerAudioSource = class extends Component {
    start() {
      this.audio = new Howl({
        src: [this.src],
        loop: this.loop,
        volume: this.volume,
        autoplay: this.autoplay
      });
      this.lastPlayedAudioId = null;
      this.origin = new Float32Array(3);
      this.lastOrigin = new Float32Array(3);
      if (this.spatial && this.autoplay) {
        this.updatePosition();
        this.play();
      }
    }
    update() {
      if (!this.spatial || !this.lastPlayedAudioId)
        return;
      this.object.getTranslationWorld(this.origin);
      if (Math.abs(this.lastOrigin[0] - this.origin[0]) > 5e-3 || Math.abs(this.lastOrigin[1] - this.origin[1]) > 5e-3 || Math.abs(this.lastOrigin[2] - this.origin[2]) > 5e-3) {
        this.updatePosition();
      }
    }
    updatePosition() {
      this.audio.pos(this.origin[0], this.origin[1], this.origin[2], this.lastPlayedAudioId);
      this.lastOrigin.set(this.origin);
    }
    play() {
      if (this.lastPlayedAudioId)
        this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = this.audio.play();
      if (this.spatial)
        this.updatePosition();
    }
    stop() {
      if (!this.lastPlayedAudioId)
        return;
      this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = null;
    }
    onDeactivate() {
      this.stop();
    }
  };
  __publicField(HowlerAudioSource, "TypeName", "howler-audio-source");
  __publicField(HowlerAudioSource, "Properties", {
    /** Volume */
    volume: { type: Type.Float, default: 1 },
    /** Whether audio should be spatialized/positional */
    spatial: { type: Type.Bool, default: true },
    /** Whether to loop the sound */
    loop: { type: Type.Bool, default: false },
    /** Whether to start playing automatically */
    autoplay: { type: Type.Bool, default: false },
    /** URL to a sound file to play */
    src: { type: Type.String, default: "" }
  });

  // node_modules/@wonderlandengine/components/dist/utils/utils.js
  function setFirstMaterialTexture(mat, texture, customTextureProperty) {
    if (customTextureProperty !== "auto") {
      mat[customTextureProperty] = texture;
      return true;
    }
    const shader = mat.shader;
    if (shader === "Flat Opaque Textured") {
      mat.flatTexture = texture;
      return true;
    } else if (shader === "Phong Opaque Textured" || shader === "Foliage" || shader === "Phong Normalmapped" || shader === "Phong Lightmapped") {
      mat.diffuseTexture = texture;
      return true;
    } else if (shader === "Particle") {
      mat.mainTexture = texture;
      return true;
    } else if (shader === "DistanceFieldVector") {
      mat.vectorTexture = texture;
      return true;
    } else if (shader === "Background" || shader === "Sky") {
      mat.texture = texture;
      return true;
    } else if (shader === "Physical Opaque Textured") {
      mat.albedoTexture = texture;
      return true;
    }
    return false;
  }

  // node_modules/@wonderlandengine/components/dist/image-texture.js
  var ImageTexture = class extends Component {
    start() {
      if (!this.material) {
        throw Error("image-texture: material property not set");
      }
      this.engine.textures.load(this.url, "anonymous").then((texture) => {
        const mat = this.material;
        if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
          console.error("Shader", mat.shader, "not supported by image-texture");
        }
      }).catch(console.err);
    }
  };
  __publicField(ImageTexture, "TypeName", "image-texture");
  __publicField(ImageTexture, "Properties", {
    /** URL to download the image from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // node_modules/@wonderlandengine/components/dist/mouse-look.js
  var __decorate7 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var preventDefault = (e) => {
    e.preventDefault();
  };
  var MouseLookComponent = class extends Component {
    /** Mouse look sensitivity */
    sensitity = 0.25;
    /** Require a mouse button to be pressed to control view.
     * Otherwise view will allways follow mouse movement */
    requireMouseDown = true;
    /** If "moveOnClick" is enabled, mouse button which should
     * be held down to control view */
    mouseButtonIndex = 0;
    /** Enables pointer lock on "mousedown" event on canvas */
    pointerLockOnClick = false;
    currentRotationY = 0;
    currentRotationX = 0;
    origin = new Float32Array(3);
    parentOrigin = new Float32Array(3);
    rotationX = 0;
    rotationY = 0;
    mouseDown = false;
    onActivate() {
      document.addEventListener("mousemove", this.onMouseMove);
      const canvas2 = this.engine.canvas;
      if (this.pointerLockOnClick) {
        canvas2.addEventListener("mousedown", this.requestPointerLock);
      }
      if (this.requireMouseDown) {
        if (this.mouseButtonIndex === 2) {
          canvas2.addEventListener("contextmenu", preventDefault, false);
        }
        canvas2.addEventListener("mousedown", this.onMouseDown);
        canvas2.addEventListener("mouseup", this.onMouseUp);
      }
    }
    onDeactivate() {
      document.removeEventListener("mousemove", this.onMouseMove);
      const canvas2 = this.engine.canvas;
      if (this.pointerLockOnClick) {
        canvas2.removeEventListener("mousedown", this.requestPointerLock);
      }
      if (this.requireMouseDown) {
        if (this.mouseButtonIndex === 2) {
          canvas2.removeEventListener("contextmenu", preventDefault, false);
        }
        canvas2.removeEventListener("mousedown", this.onMouseDown);
        canvas2.removeEventListener("mouseup", this.onMouseUp);
      }
    }
    requestPointerLock = () => {
      const canvas2 = this.engine.canvas;
      canvas2.requestPointerLock = canvas2.requestPointerLock || canvas2.mozRequestPointerLock || canvas2.webkitRequestPointerLock;
      canvas2.requestPointerLock();
    };
    onMouseDown = (e) => {
      if (e.button === this.mouseButtonIndex) {
        this.mouseDown = true;
        document.body.style.cursor = "grabbing";
        if (e.button === 1) {
          e.preventDefault();
          return false;
        }
      }
    };
    onMouseUp = (e) => {
      if (e.button === this.mouseButtonIndex) {
        this.mouseDown = false;
        document.body.style.cursor = "initial";
      }
    };
    onMouseMove = (e) => {
      if (this.active && (this.mouseDown || !this.requireMouseDown)) {
        this.rotationY = -this.sensitity * e.movementX / 100;
        this.rotationX = -this.sensitity * e.movementY / 100;
        this.currentRotationX += this.rotationX;
        this.currentRotationY += this.rotationY;
        this.currentRotationX = Math.min(1.507, this.currentRotationX);
        this.currentRotationX = Math.max(-1.507, this.currentRotationX);
        this.object.getPositionWorld(this.origin);
        const parent = this.object.parent;
        if (parent) {
          parent.getPositionWorld(this.parentOrigin);
          vec3_exports.sub(this.origin, this.origin, this.parentOrigin);
        }
        this.object.resetPositionRotation();
        this.object.rotateAxisAngleRadLocal([1, 0, 0], this.currentRotationX);
        this.object.rotateAxisAngleRadLocal([0, 1, 0], this.currentRotationY);
        this.object.translateLocal(this.origin);
      }
    };
  };
  __publicField(MouseLookComponent, "TypeName", "mouse-look");
  __decorate7([
    property.float(0.25)
  ], MouseLookComponent.prototype, "sensitity", void 0);
  __decorate7([
    property.bool(true)
  ], MouseLookComponent.prototype, "requireMouseDown", void 0);
  __decorate7([
    property.int()
  ], MouseLookComponent.prototype, "mouseButtonIndex", void 0);
  __decorate7([
    property.bool(false)
  ], MouseLookComponent.prototype, "pointerLockOnClick", void 0);

  // node_modules/@wonderlandengine/components/dist/player-height.js
  var __decorate8 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var PlayerHeight = class extends Component {
    height = 1.75;
    onSessionStartCallback;
    onSessionEndCallback;
    start() {
      this.object.resetPositionRotation();
      this.object.translateLocal([0, this.height, 0]);
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    onXRSessionStart() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
      }
    }
    onXRSessionEnd() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
        this.object.translateLocal([0, this.height, 0]);
      }
    }
  };
  __publicField(PlayerHeight, "TypeName", "player-height");
  __decorate8([
    property.float(1.75)
  ], PlayerHeight.prototype, "height", void 0);

  // node_modules/@wonderlandengine/components/dist/target-framerate.js
  var TargetFramerate = class extends Component {
    start() {
      this.onSessionStartCallback = this.setTargetFramerate.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setTargetFramerate(s) {
      if (s.supportedFrameRates && s.updateTargetFrameRate) {
        const a = this.engine.xr.session.supportedFrameRates;
        a.sort((a2, b) => Math.abs(a2 - this.framerate) - Math.abs(b - this.framerate));
        this.engine.xr.session.updateTargetFrameRate(a[0]);
      }
    }
  };
  __publicField(TargetFramerate, "TypeName", "target-framerate");
  __publicField(TargetFramerate, "Properties", {
    framerate: { type: Type.Float, default: 90 }
  });

  // node_modules/@wonderlandengine/components/dist/teleport.js
  var TeleportComponent = class extends Component {
    init() {
      this._prevThumbstickAxis = new Float32Array(2);
      this._tempVec = new Float32Array(3);
      this._tempVec0 = new Float32Array(3);
      this._currentIndicatorRotation = 0;
      this.input = this.object.getComponent("input");
      if (!this.input) {
        console.error(this.object.name, "generic-teleport-component.js: input component is required on the object");
        return;
      }
      if (!this.teleportIndicatorMeshObject) {
        console.error(this.object.name, "generic-teleport-component.js: Teleport indicator mesh is missing");
        return;
      }
      if (!this.camRoot) {
        console.error(this.object.name, "generic-teleport-component.js: camRoot not set");
        return;
      }
      this.isIndicating = false;
      this.indicatorHidden = true;
      this.hitSpot = new Float32Array(3);
      this._hasHit = false;
      this._extraRotation = 0;
      this._currentStickAxes = new Float32Array(2);
    }
    start() {
      if (this.cam) {
        this.isMouseIndicating = false;
        canvas.addEventListener("mousedown", this.onMouseDown.bind(this));
        canvas.addEventListener("mouseup", this.onMouseUp.bind(this));
      }
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("teleport component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness;
          this.input = inputComp;
        }
      } else {
        this.handedness = ["left", "right"][this.handedness - 1];
      }
      this.onSessionStartCallback = this.setupVREvents.bind(this);
      this.teleportIndicatorMeshObject.active = false;
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    /* Get current camera Y rotation */
    _getCamRotation() {
      this.eyeLeft.getForward(this._tempVec);
      this._tempVec[1] = 0;
      vec3_exports.normalize(this._tempVec, this._tempVec);
      return Math.atan2(this._tempVec[0], this._tempVec[2]);
    }
    update() {
      let inputLength = 0;
      if (this.gamepad && this.gamepad.axes) {
        this._currentStickAxes[0] = this.gamepad.axes[2];
        this._currentStickAxes[1] = this.gamepad.axes[3];
        inputLength = Math.abs(this._currentStickAxes[0]) + Math.abs(this._currentStickAxes[1]);
      }
      if (!this.isIndicating && this._prevThumbstickAxis[1] >= this.thumbstickActivationThreshhold && this._currentStickAxes[1] < this.thumbstickActivationThreshhold) {
        this.isIndicating = true;
      } else if (this.isIndicating && inputLength < this.thumbstickDeactivationThreshhold) {
        this.isIndicating = false;
        this.teleportIndicatorMeshObject.active = false;
        if (this._hasHit) {
          this._teleportPlayer(this.hitSpot, this._extraRotation);
        }
      }
      if (this.isIndicating && this.teleportIndicatorMeshObject && this.input) {
        const origin = this._tempVec0;
        this.object.getPositionWorld(origin);
        const direction2 = this.object.getForwardWorld(this._tempVec);
        let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
        if (rayHit.hitCount > 0) {
          this.indicatorHidden = false;
          this._extraRotation = Math.PI + Math.atan2(this._currentStickAxes[0], this._currentStickAxes[1]);
          this._currentIndicatorRotation = this._getCamRotation() + (this._extraRotation - Math.PI);
          this.teleportIndicatorMeshObject.resetPositionRotation();
          this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
          this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
          this.teleportIndicatorMeshObject.translate([
            0,
            this.indicatorYOffset,
            0
          ]);
          this.teleportIndicatorMeshObject.active = true;
          this.hitSpot.set(rayHit.locations[0]);
          this._hasHit = true;
        } else {
          if (!this.indicatorHidden) {
            this.teleportIndicatorMeshObject.active = false;
            this.indicatorHidden = true;
          }
          this._hasHit = false;
        }
      } else if (this.teleportIndicatorMeshObject && this.isMouseIndicating) {
        this.onMousePressed();
      }
      this._prevThumbstickAxis.set(this._currentStickAxes);
    }
    setupVREvents(s) {
      this.session = s;
      s.addEventListener("end", function() {
        this.gamepad = null;
        this.session = null;
      }.bind(this));
      if (s.inputSources && s.inputSources.length) {
        for (let i = 0; i < s.inputSources.length; i++) {
          let inputSource = s.inputSources[i];
          if (inputSource.handedness == this.handedness) {
            this.gamepad = inputSource.gamepad;
          }
        }
      }
      s.addEventListener("inputsourceschange", function(e) {
        if (e.added && e.added.length) {
          for (let i = 0; i < e.added.length; i++) {
            let inputSource = e.added[i];
            if (inputSource.handedness == this.handedness) {
              this.gamepad = inputSource.gamepad;
            }
          }
        }
      }.bind(this));
    }
    onMouseDown() {
      this.isMouseIndicating = true;
    }
    onMouseUp() {
      this.isMouseIndicating = false;
      this.teleportIndicatorMeshObject.active = false;
      if (this._hasHit) {
        this._teleportPlayer(this.hitSpot, 0);
      }
    }
    onMousePressed() {
      let origin = [0, 0, 0];
      this.cam.getPositionWorld(origin);
      const direction2 = this.cam.getForward(this._tempVec);
      let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
      if (rayHit.hitCount > 0) {
        this.indicatorHidden = false;
        direction2[1] = 0;
        vec3_exports.normalize(direction2, direction2);
        this._currentIndicatorRotation = -Math.sign(direction2[2]) * Math.acos(direction2[0]) - Math.PI * 0.5;
        this.teleportIndicatorMeshObject.resetPositionRotation();
        this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
        this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
        this.teleportIndicatorMeshObject.active = true;
        this.hitSpot = rayHit.locations[0];
        this._hasHit = true;
      } else {
        if (!this.indicatorHidden) {
          this.teleportIndicatorMeshObject.active = false;
          this.indicatorHidden = true;
        }
        this._hasHit = false;
      }
    }
    _teleportPlayer(newPosition, rotationToAdd) {
      this.camRoot.rotateAxisAngleRad([0, 1, 0], rotationToAdd);
      const p = this._tempVec;
      const p1 = this._tempVec0;
      if (this.session) {
        this.eyeLeft.getPositionWorld(p);
        this.eyeRight.getPositionWorld(p1);
        vec3_exports.add(p, p, p1);
        vec3_exports.scale(p, p, 0.5);
      } else {
        this.cam.getPositionWorld(p);
      }
      this.camRoot.getPositionWorld(p1);
      vec3_exports.sub(p, p1, p);
      p[0] += newPosition[0];
      p[1] = newPosition[1];
      p[2] += newPosition[2];
      this.camRoot.setPositionWorld(p);
    }
  };
  __publicField(TeleportComponent, "TypeName", "teleport");
  __publicField(TeleportComponent, "Properties", {
    /** Object that will be placed as indiciation forwhere the player will teleport to. */
    teleportIndicatorMeshObject: { type: Type.Object },
    /** Root of the player, the object that will be positioned on teleportation. */
    camRoot: { type: Type.Object },
    /** Non-vr camera for use outside of VR */
    cam: { type: Type.Object },
    /** Left eye for use in VR*/
    eyeLeft: { type: Type.Object },
    /** Right eye for use in VR*/
    eyeRight: { type: Type.Object },
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness: {
      type: Type.Enum,
      values: ["input component", "left", "right", "none"],
      default: "input component"
    },
    /** Collision group of valid "floor" objects that can be teleported on */
    floorGroup: { type: Type.Int, default: 1 },
    /** How far the thumbstick needs to be pushed to have the teleport target indicator show up */
    thumbstickActivationThreshhold: { type: Type.Float, default: -0.7 },
    /** How far the thumbstick needs to be released to execute the teleport */
    thumbstickDeactivationThreshhold: { type: Type.Float, default: 0.3 },
    /** Offset to apply to the indicator object, e.g. to avoid it from Z-fighting with the floor */
    indicatorYOffset: { type: Type.Float, default: 0.01 },
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode: {
      type: Type.Enum,
      values: ["collision", "physx"],
      default: "collision"
    },
    /** Max distance for PhysX raycast */
    maxDistance: { type: Type.Float, default: 100 }
  });

  // node_modules/@wonderlandengine/components/dist/trail.js
  var direction = vec3_exports.create();
  var offset = vec3_exports.create();
  var normal = vec3_exports.create();
  var Trail = class extends Component {
    init() {
      this.points = new Array(this.segments + 1);
      for (let i = 0; i < this.points.length; ++i) {
        this.points[i] = vec3_exports.create();
      }
      this.currentPointOffset = 0;
      this.up = [0, 1, 0];
      this.timeTillNext = this.interval;
    }
    start() {
      this.trailContainer = this.engine.scene.addObject();
      this.meshComp = this.trailContainer.addComponent("mesh");
      this.meshComp.material = this.material;
      const vertexCount = 2 * this.points.length;
      this.indexData = new Uint32Array(6 * this.segments);
      for (let i = 0, v = 0; i < vertexCount - 2; i += 2, v += 6) {
        this.indexData.subarray(v, v + 6).set([i + 1, i + 0, i + 2, i + 2, i + 3, i + 1]);
      }
      this.mesh = new Mesh(this.engine, {
        vertexCount,
        indexData: this.indexData,
        indexType: MeshIndexType.UnsignedInt
      });
      this.meshComp.mesh = this.mesh;
    }
    updateVertices() {
      const positions = this.mesh.attribute(MeshAttribute.Position);
      const texCoords = this.mesh.attribute(MeshAttribute.TextureCoordinate);
      const normals = this.mesh.attribute(MeshAttribute.Normal);
      vec3_exports.set(direction, 0, 0, 0);
      for (let i = 0; i < this.points.length; ++i) {
        const curr = this.points[(this.currentPointIndex + i + 1) % this.points.length];
        const next = this.points[(this.currentPointIndex + i + 2) % this.points.length];
        if (i !== this.points.length - 1) {
          vec3_exports.sub(direction, next, curr);
        }
        vec3_exports.cross(offset, this.up, direction);
        vec3_exports.normalize(offset, offset);
        const timeFraction = 1 - this.timeTillNext / this.interval;
        const fraction = (i - timeFraction) / this.segments;
        vec3_exports.scale(offset, offset, (this.taper ? fraction : 1) * this.width / 2);
        positions.set(i * 2, [
          curr[0] - offset[0],
          curr[1] - offset[1],
          curr[2] - offset[2]
        ]);
        positions.set(i * 2 + 1, [
          curr[0] + offset[0],
          curr[1] + offset[1],
          curr[2] + offset[2]
        ]);
        if (normals) {
          vec3_exports.cross(normal, direction, offset);
          vec3_exports.normalize(normal, normal);
          normals.set(i * 2, normal);
          normals.set(i * 2 + 1, normal);
        }
        if (texCoords) {
          texCoords.set(i * 2, [0, fraction]);
          texCoords.set(i * 2 + 1, [1, fraction]);
        }
      }
      this.mesh.update();
    }
    resetTrail() {
      this.object.getTranslationWorld(this.points[0]);
      for (let i = 1; i < this.points.length; ++i) {
        vec3_exports.copy(this.points[i], this.points[0]);
      }
      this.currentPointIndex = 0;
      this.timeTillNext = this.interval;
    }
    update(dt) {
      this.timeTillNext -= dt;
      if (dt > this.resetThreshold) {
        this.resetTrail();
      }
      if (this.timeTillNext < 0) {
        this.currentPointIndex = (this.currentPointIndex + 1) % this.points.length;
        this.timeTillNext = this.timeTillNext % this.interval + this.interval;
      }
      this.object.getTranslationWorld(this.points[this.currentPointIndex]);
      this.updateVertices();
    }
    onActivate() {
      this.resetTrail();
    }
    onDestroy() {
      this.trailContainer.destroy();
      this.mesh.destroy();
    }
  };
  __publicField(Trail, "TypeName", "trail");
  __publicField(Trail, "Properties", {
    /** The material to apply to the trail mesh */
    material: { type: Type.Material },
    /** The number of segments in the trail mesh */
    segments: { type: Type.Int, default: 50 },
    /** The time interval before recording a new point */
    interval: { type: Type.Float, default: 0.1 },
    /** The width of the trail (in world space) */
    width: { type: Type.Float, default: 1 },
    /** Whether or not the trail should taper off */
    taper: { type: Type.Bool, default: true },
    /**
     * The maximum delta time in seconds, above which the trail resets.
     * This prevents the trail from jumping around when updates happen
     * infrequently (e.g. when the tab doesn't have focus).
     */
    resetThreshold: { type: Type.Float, default: 0.5 }
  });

  // node_modules/@wonderlandengine/components/dist/two-joint-ik-solver.js
  function clamp2(v, a, b) {
    return Math.max(a, Math.min(v, b));
  }
  var rootScaling = new Float32Array(3);
  var tempQuat3 = new Float32Array(4);
  var middlePos = new Float32Array(3);
  var endPos = new Float32Array(3);
  var targetPos = new Float32Array(3);
  var helperPos = new Float32Array(3);
  var rootTransform = new Float32Array(8);
  var middleTransform = new Float32Array(8);
  var endTransform = new Float32Array(8);
  var twoJointIK = function() {
    const ta = new Float32Array(3);
    const ca = new Float32Array(3);
    const ba = new Float32Array(3);
    const ab = new Float32Array(3);
    const cb = new Float32Array(3);
    const axis0 = new Float32Array(3);
    const axis1 = new Float32Array(3);
    const temp = new Float32Array(3);
    return function(root, middle, b, c, targetPos2, eps, helper) {
      ba.set(b);
      const lab = vec3_exports.length(ba);
      vec3_exports.sub(ta, b, c);
      const lcb = vec3_exports.length(ta);
      ta.set(targetPos2);
      const lat = clamp2(vec3_exports.length(ta), eps, lab + lcb - eps);
      ca.set(c);
      vec3_exports.scale(ab, b, -1);
      vec3_exports.sub(cb, c, b);
      vec3_exports.normalize(ca, ca);
      vec3_exports.normalize(ba, ba);
      vec3_exports.normalize(ab, ab);
      vec3_exports.normalize(cb, cb);
      vec3_exports.normalize(ta, ta);
      const ac_ab_0 = Math.acos(clamp2(vec3_exports.dot(ca, ba), -1, 1));
      const ba_bc_0 = Math.acos(clamp2(vec3_exports.dot(ab, cb), -1, 1));
      const ac_at_0 = Math.acos(clamp2(vec3_exports.dot(ca, ta), -1, 1));
      const ac_ab_1 = Math.acos(clamp2((lcb * lcb - lab * lab - lat * lat) / (-2 * lab * lat), -1, 1));
      const ba_bc_1 = Math.acos(clamp2((lat * lat - lab * lab - lcb * lcb) / (-2 * lab * lcb), -1, 1));
      if (helper) {
        vec3_exports.sub(ba, helper, b);
        vec3_exports.normalize(ba, ba);
      }
      vec3_exports.cross(axis0, ca, ba);
      vec3_exports.normalize(axis0, axis0);
      vec3_exports.cross(axis1, c, targetPos2);
      vec3_exports.normalize(axis1, axis1);
      middle.transformVectorInverseLocal(temp, axis0);
      root.rotateAxisAngleRadObject(axis1, ac_at_0);
      root.rotateAxisAngleRadObject(axis0, ac_ab_1 - ac_ab_0);
      middle.rotateAxisAngleRadObject(axis0, ba_bc_1 - ba_bc_0);
    };
  }();
  var TwoJointIkSolver = class extends Component {
    time = 0;
    start() {
      this.root.getTransformLocal(rootTransform);
      this.middle.getTransformLocal(middleTransform);
      this.end.getTransformLocal(endTransform);
    }
    update(dt) {
      this.time += dt;
      this.root.setTransformLocal(rootTransform);
      this.middle.setTransformLocal(middleTransform);
      this.end.setTransformLocal(endTransform);
      this.root.getScalingWorld(rootScaling);
      this.middle.getPositionLocal(middlePos);
      this.end.getPositionLocal(endPos);
      this.middle.transformPointLocal(endPos, endPos);
      if (this.helper) {
        this.helper.getPositionWorld(helperPos);
        this.root.transformPointInverseWorld(helperPos, helperPos);
        vec3_exports.div(helperPos, helperPos, rootScaling);
      }
      this.target.getPositionWorld(targetPos);
      this.root.transformPointInverseWorld(targetPos, targetPos);
      vec3_exports.div(targetPos, targetPos, rootScaling);
      twoJointIK(this.root, this.middle, middlePos, endPos, targetPos, 0.01, this.helper ? helperPos : null, this.time);
      if (this.copyTargetRotation) {
        this.end.setRotationWorld(this.target.getRotationWorld(tempQuat3));
      }
    }
  };
  __publicField(TwoJointIkSolver, "TypeName", "two-joint-ik-solver");
  __publicField(TwoJointIkSolver, "Properties", {
    /** Root bone, never moves */
    root: Property.object(),
    /** Bone attached to the root */
    middle: Property.object(),
    /** Bone attached to the middle */
    end: Property.object(),
    /** Target the joins should reach for */
    target: Property.object(),
    /** Flag for copying rotation from target to end */
    copyTargetRotation: Property.bool(true),
    /** Helper object to use to determine joint rotation axis */
    helper: Property.object()
  });

  // node_modules/@wonderlandengine/components/dist/video-texture.js
  var VideoTexture = class extends Component {
    init() {
      if (!this.material) {
        throw Error("video-texture: material property not set");
      }
      this.loaded = false;
      this.frameUpdateRequested = true;
    }
    start() {
      this.video = document.createElement("video");
      this.video.src = this.url;
      this.video.crossOrigin = "anonymous";
      this.video.playsInline = true;
      this.video.loop = this.loop;
      this.video.muted = this.muted;
      this.video.addEventListener("playing", () => {
        this.loaded = true;
      });
      if (this.autoplay) {
        const playAfterUserGesture = () => {
          this.video.play();
          window.removeEventListener("click", playAfterUserGesture);
          window.removeEventListener("touchstart", playAfterUserGesture);
        };
        window.addEventListener("click", playAfterUserGesture);
        window.addEventListener("touchstart", playAfterUserGesture);
      }
    }
    applyTexture() {
      const mat = this.material;
      const shader = mat.shader;
      const texture = this.texture = new Texture(this.engine, this.video);
      if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
        console.error("Shader", shader, "not supported by video-texture");
      }
      if ("requestVideoFrameCallback" in this.video) {
        this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
      } else {
        this.video.addEventListener("timeupdate", () => {
          this.frameUpdateRequested = true;
        });
      }
    }
    update(dt) {
      if (this.loaded && this.frameUpdateRequested) {
        if (this.texture) {
          this.texture.update();
        } else {
          this.applyTexture();
        }
        this.frameUpdateRequested = false;
      }
    }
    updateVideo() {
      this.frameUpdateRequested = true;
      this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
    }
  };
  __publicField(VideoTexture, "TypeName", "video-texture");
  __publicField(VideoTexture, "Properties", {
    /** URL to download video from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Whether to loop the video */
    loop: Property.bool(true),
    /** Whether to automatically start playing the video */
    autoplay: Property.bool(true),
    /** Whether to mute sound */
    muted: Property.bool(true),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // node_modules/@wonderlandengine/components/dist/vr-mode-active-switch.js
  var VrModeActiveSwitch = class extends Component {
    start() {
      this.components = [];
      this.getComponents(this.object);
      this.onXRSessionEnd();
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    getComponents(obj) {
      const comps = obj.getComponents().filter((c) => c.type !== "vr-mode-active-switch");
      this.components = this.components.concat(comps);
      if (this.affectChildren) {
        let children = obj.children;
        for (let i = 0; i < children.length; ++i) {
          this.getComponents(children[i]);
        }
      }
    }
    setComponentsActive(active) {
      const comps = this.components;
      for (let i = 0; i < comps.length; ++i) {
        comps[i].active = active;
      }
    }
    onXRSessionStart() {
      this.setComponentsActive(this.activateComponents == 0);
    }
    onXRSessionEnd() {
      this.setComponentsActive(this.activateComponents != 0);
    }
  };
  __publicField(VrModeActiveSwitch, "TypeName", "vr-mode-active-switch");
  __publicField(VrModeActiveSwitch, "Properties", {
    /** When components should be active: In VR or when not in VR */
    activateComponents: {
      type: Type.Enum,
      values: ["in VR", "in non-VR"],
      default: "in VR"
    },
    /** Whether child object's components should be affected */
    affectChildren: { type: Type.Bool, default: true }
  });

  // node_modules/@wonderlandengine/components/dist/plane-detection.js
  var import_earcut = __toESM(require_earcut(), 1);
  var __decorate9 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec32 = new Float32Array(3);
  function extentsFromContour(out, points) {
    if (points.length == 0)
      return out;
    let absMaxX = Math.abs(points[0].x);
    let absMaxZ = Math.abs(points[0].z);
    for (let i = 1; i < points.length; ++i) {
      absMaxX = Math.max(absMaxX, Math.abs(points[i].x));
      absMaxZ = Math.max(absMaxZ, Math.abs(points[i].z));
    }
    out[0] = absMaxX;
    out[1] = 0;
    out[2] = absMaxZ;
  }
  function within(x, a, b) {
    if (a > b)
      return x < a && x > b;
    return x > a && x < b;
  }
  function isPointLocalOnXRPlanePolygon(p, plane) {
    const points = plane.polygon;
    if (points.length < 3)
      return false;
    const pX = p[0];
    const pZ = p[2];
    let intersections = 0;
    for (let n = 0, l = points.length - 1; n < points.length; ++n) {
      const aX = points[l].x;
      const aZ = points[l].z;
      const s = (points[n].z - aZ) / (points[n].x - aX);
      const x = Math.abs((pZ - aZ) / s);
      if (x >= 0 && x <= 1 && within(x + pX, aX, points[n].x))
        ++intersections;
      l = n;
    }
    return (intersections & 1) == 0;
  }
  function isPointWorldOnXRPlanePolygon(object, p, plane) {
    if (plane.polygon.length < 3)
      return false;
    isPointLocalOnXRPlanePolygon(object.transformPointInverseWorld(tempVec32, p), plane);
  }
  function planeMeshFromContour(engine, points, meshToUpdate = null) {
    const vertexCount = points.length;
    const vertices = new Float32Array(vertexCount * 2);
    for (let i = 0, d = 0; i < vertexCount; ++i, d += 2) {
      vertices[d] = points[i].x;
      vertices[d + 1] = points[i].z;
    }
    const triangles = (0, import_earcut.default)(vertices);
    const mesh = meshToUpdate || new Mesh(engine, {
      vertexCount,
      /* Assumption here that we will never have more than 256 points
       * in the detected plane meshes! */
      indexType: MeshIndexType.UnsignedByte,
      indexData: triangles
    });
    if (mesh.vertexCount !== vertexCount) {
      console.warn("vertexCount of meshToUpdate did not match required vertexCount");
      return mesh;
    }
    const positions = mesh.attribute(MeshAttribute.Position);
    const textureCoords = mesh.attribute(MeshAttribute.TextureCoordinate);
    const normals = mesh.attribute(MeshAttribute.Normal);
    tempVec32[1] = 0;
    for (let i = 0, s = 0; i < vertexCount; ++i, s += 2) {
      tempVec32[0] = vertices[s];
      tempVec32[2] = vertices[s + 1];
      positions.set(i, tempVec32);
    }
    textureCoords?.set(0, vertices);
    if (normals) {
      tempVec32[0] = 0;
      tempVec32[1] = 1;
      tempVec32[2] = 0;
      for (let i = 0; i < vertexCount; ++i) {
        normals.set(i, tempVec32);
      }
    }
    if (meshToUpdate)
      mesh.update();
    return mesh;
  }
  var _planeLost, planeLost_fn, _planeFound, planeFound_fn, _planeUpdate, planeUpdate_fn, _planeUpdatePose, planeUpdatePose_fn;
  var PlaneDetection = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _planeLost);
      __privateAdd(this, _planeFound);
      __privateAdd(this, _planeUpdate);
      __privateAdd(this, _planeUpdatePose);
      /**
       * Material to assign to created plane meshes or `null` if meshes should not be created.
       */
      __publicField(this, "planeMaterial", null);
      /**
       * Collision mask to assign to newly created collision components or a negative value if
       * collision components should not be created.
       */
      __publicField(this, "collisionMask", -1);
      /** Map of all planes and their last updated timestamps */
      __publicField(this, "planes", /* @__PURE__ */ new Map());
      /** Objects generated for each XRPlane */
      __publicField(this, "planeObjects", /* @__PURE__ */ new Map());
      /** Called when a plane starts tracking */
      __publicField(this, "onPlaneFound", new Emitter());
      /** Called when a plane stops tracking */
      __publicField(this, "onPlaneLost", new Emitter());
    }
    update() {
      if (!this.engine.xr?.frame)
        return;
      if (this.engine.xr.frame.detectedPlanes === void 0) {
        console.error("plane-detection: WebXR feature not available.");
        this.active = false;
        return;
      }
      const detectedPlanes = this.engine.xr.frame.detectedPlanes;
      for (const [plane, _] of this.planes) {
        if (!detectedPlanes.has(plane)) {
          __privateMethod(this, _planeLost, planeLost_fn).call(this, plane);
        }
      }
      detectedPlanes.forEach((plane) => {
        if (this.planes.has(plane)) {
          if (plane.lastChangedTime > this.planes.get(plane)) {
            __privateMethod(this, _planeUpdate, planeUpdate_fn).call(this, plane);
          }
        } else {
          __privateMethod(this, _planeFound, planeFound_fn).call(this, plane);
        }
        __privateMethod(this, _planeUpdatePose, planeUpdatePose_fn).call(this, plane);
      });
    }
  };
  _planeLost = new WeakSet();
  planeLost_fn = function(plane) {
    this.planes.delete(plane);
    const o = this.planeObjects.get(plane);
    this.onPlaneLost.notify(plane, o);
    if (o.objectId > 0)
      o.destroy();
  };
  _planeFound = new WeakSet();
  planeFound_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const o = this.engine.scene.addObject(this.object);
    this.planeObjects.set(plane, o);
    if (this.planeMaterial) {
      o.addComponent(MeshComponent, {
        mesh: planeMeshFromContour(this.engine, plane.polygon),
        material: this.planeMaterial
      });
    }
    if (this.collisionMask >= 0) {
      extentsFromContour(tempVec32, plane.polygon);
      tempVec32[1] = 0.025;
      o.addComponent(CollisionComponent, {
        group: this.collisionMask,
        collider: Collider.Box,
        extents: tempVec32
      });
    }
    this.onPlaneFound.notify(plane, o);
  };
  _planeUpdate = new WeakSet();
  planeUpdate_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const planeMesh = this.planeObjects.get(plane).getComponent(MeshComponent);
    if (!planeMesh)
      return;
    planeMeshFromContour(this.engine, plane.polygon, planeMesh.mesh);
  };
  _planeUpdatePose = new WeakSet();
  planeUpdatePose_fn = function(plane) {
    const o = this.planeObjects.get(plane);
    const pose = this.engine.xr.frame.getPose(plane.planeSpace, this.engine.xr.currentReferenceSpace);
    if (!pose) {
      o.active = false;
      return;
    }
    setXRRigidTransformLocal(o, pose.transform);
  };
  __publicField(PlaneDetection, "TypeName", "plane-detection");
  __decorate9([
    property.material()
  ], PlaneDetection.prototype, "planeMaterial", void 0);
  __decorate9([
    property.int()
  ], PlaneDetection.prototype, "collisionMask", void 0);

  // node_modules/@wonderlandengine/components/dist/vrm.js
  var VRM_ROLL_AXES = {
    X: [1, 0, 0],
    Y: [0, 1, 0],
    Z: [0, 0, 1]
  };
  var VRM_AIM_AXES = {
    PositiveX: [1, 0, 0],
    NegativeX: [-1, 0, 0],
    PositiveY: [0, 1, 0],
    NegativeY: [0, -1, 0],
    PositiveZ: [0, 0, 1],
    NegativeZ: [0, 0, -1]
  };
  var Vrm = class extends Component {
    /** Meta information about the VRM model */
    meta = null;
    /** The humanoid bones of the VRM model */
    bones = {
      /* Torso */
      hips: null,
      spine: null,
      chest: null,
      upperChest: null,
      neck: null,
      /* Head */
      head: null,
      leftEye: null,
      rightEye: null,
      jaw: null,
      /* Legs */
      leftUpperLeg: null,
      leftLowerLeg: null,
      leftFoot: null,
      leftToes: null,
      rightUpperLeg: null,
      rightLowerLeg: null,
      rightFoot: null,
      rightToes: null,
      /* Arms */
      leftShoulder: null,
      leftUpperArm: null,
      leftLowerArm: null,
      leftHand: null,
      rightShoulder: null,
      rightUpperArm: null,
      rightLowerArm: null,
      rightHand: null,
      /* Fingers */
      leftThumbMetacarpal: null,
      leftThumbProximal: null,
      leftThumbDistal: null,
      leftIndexProximal: null,
      leftIndexIntermediate: null,
      leftIndexDistal: null,
      leftMiddleProximal: null,
      leftMiddleIntermediate: null,
      leftMiddleDistal: null,
      leftRingProximal: null,
      leftRingIntermediate: null,
      leftRingDistal: null,
      leftLittleProximal: null,
      leftLittleIntermediate: null,
      leftLittleDistal: null,
      rightThumbMetacarpal: null,
      rightThumbProximal: null,
      rightThumbDistal: null,
      rightIndexProximal: null,
      rightIndexIntermediate: null,
      rightIndexDistal: null,
      rightMiddleProximal: null,
      rightMiddleIntermediate: null,
      rightMiddleDistal: null,
      rightRingProximal: null,
      rightRingIntermediate: null,
      rightRingDistal: null,
      rightLittleProximal: null,
      rightLittleIntermediate: null,
      rightLittleDistal: null
    };
    /** Rotations of the bones in the rest pose (T-pose) */
    restPose = {};
    /* All node constraints, ordered to deal with dependencies */
    _nodeConstraints = [];
    /* VRMC_springBone chains */
    _springChains = [];
    /* Spherical colliders for spring bones */
    _sphereColliders = [];
    /* Capsule shaped colliders for spring bones */
    _capsuleColliders = [];
    /* Indicates which meshes are rendered in first/third person views */
    _firstPersonAnnotations = [];
    /* Contains details for (bone type) lookAt behaviour */
    _lookAt = null;
    /* Whether or not the VRM component has been initialized with `initializeVrm` */
    _initialized = false;
    init() {
      this._tempV3 = vec3_exports.create();
      this._tempV3A = vec3_exports.create();
      this._tempV3B = vec3_exports.create();
      this._tempQuat = quat_exports.create();
      this._tempQuatA = quat_exports.create();
      this._tempQuatB = quat_exports.create();
      this._tempMat4A = mat4_exports.create();
      this._tempQuat2 = quat2_exports.create();
      this._tailToShape = vec3_exports.create();
      this._headToTail = vec3_exports.create();
      this._inertia = vec3_exports.create();
      this._stiffness = vec3_exports.create();
      this._external = vec3_exports.create();
      this._rightVector = vec3_exports.set(vec3_exports.create(), 1, 0, 0);
      this._upVector = vec3_exports.set(vec3_exports.create(), 0, 1, 0);
      this._forwardVector = vec3_exports.set(vec3_exports.create(), 0, 0, 1);
      this._identityQuat = quat_exports.identity(quat_exports.create());
      this._rad2deg = 180 / Math.PI;
    }
    start() {
      if (!this.src) {
        console.error("vrm: src property not set");
        return;
      }
      this.engine.scene.append(this.src, { loadGltfExtensions: true }).then(({ root, extensions }) => {
        root.children.forEach((child) => child.parent = this.object);
        this._initializeVrm(extensions);
        root.destroy();
      });
    }
    /**
     * Parses the VRM glTF extensions and initializes the vrm component.
     * @param {GLTFExtensions} extensions The glTF extensions for the VRM model
     */
    _initializeVrm(extensions) {
      if (this._initialized) {
        throw Error("VRM component has already been initialized");
      }
      const VRMC_vrm = extensions.root["VRMC_vrm"];
      if (!VRMC_vrm) {
        throw Error("Missing VRM extensions");
      }
      if (VRMC_vrm.specVersion !== "1.0") {
        throw Error(`Unsupported VRM version, only 1.0 is supported, but encountered '${VRMC_vrm.specVersion}'`);
      }
      this.meta = VRMC_vrm.meta;
      this._parseHumanoid(VRMC_vrm.humanoid, extensions);
      if (VRMC_vrm.firstPerson) {
        this._parseFirstPerson(VRMC_vrm.firstPerson, extensions);
      }
      if (VRMC_vrm.lookAt) {
        this._parseLookAt(VRMC_vrm.lookAt);
      }
      this._findAndParseNodeConstraints(extensions);
      const springBone = extensions.root["VRMC_springBone"];
      if (springBone) {
        this._parseAndInitializeSpringBones(springBone, extensions);
      }
      this._initialized = true;
    }
    _parseHumanoid(humanoid, extensions) {
      for (const boneName in humanoid.humanBones) {
        if (!(boneName in this.bones)) {
          console.warn(`Unrecognized bone '${boneName}'`);
          continue;
        }
        const node = humanoid.humanBones[boneName].node;
        const objectId = extensions.idMapping[node];
        this.bones[boneName] = this.engine.wrapObject(objectId);
        this.restPose[boneName] = quat_exports.copy(quat_exports.create(), this.bones[boneName].rotationLocal);
      }
    }
    _parseFirstPerson(firstPerson, extensions) {
      for (const meshAnnotation of firstPerson.meshAnnotations) {
        const annotation = {
          node: this.engine.wrapObject(extensions.idMapping[meshAnnotation.node]),
          firstPerson: true,
          thirdPerson: true
        };
        switch (meshAnnotation.type) {
          case "firstPersonOnly":
            annotation.thirdPerson = false;
            break;
          case "thirdPersonOnly":
            annotation.firstPerson = false;
            break;
          case "both":
            break;
          case "auto":
            console.warn("First person mesh annotation type 'auto' is not supported, treating as 'both'!");
            break;
          default:
            console.error(`Invalid mesh annotation type '${meshAnnotation.type}'`);
            break;
        }
        this._firstPersonAnnotations.push(annotation);
      }
    }
    _parseLookAt(lookAt3) {
      if (lookAt3.type !== "bone") {
        console.warn(`Unsupported lookAt type '${lookAt3.type}', only 'bone' is supported`);
        return;
      }
      const parseRangeMap = (rangeMap) => {
        return {
          inputMaxValue: rangeMap.inputMaxValue,
          outputScale: rangeMap.outputScale
        };
      };
      this._lookAt = {
        offsetFromHeadBone: lookAt3.offsetFromHeadBone || [0, 0, 0],
        horizontalInner: parseRangeMap(lookAt3.rangeMapHorizontalInner),
        horizontalOuter: parseRangeMap(lookAt3.rangeMapHorizontalOuter),
        verticalDown: parseRangeMap(lookAt3.rangeMapVerticalDown),
        verticalUp: parseRangeMap(lookAt3.rangeMapVerticalUp)
      };
    }
    _findAndParseNodeConstraints(extensions) {
      const traverse = (object) => {
        const nodeExtensions = extensions.node[object.objectId];
        if (nodeExtensions && "VRMC_node_constraint" in nodeExtensions) {
          const nodeConstraintExtension = nodeExtensions["VRMC_node_constraint"];
          const constraint = nodeConstraintExtension.constraint;
          let type, axis;
          if ("roll" in constraint) {
            type = "roll";
            axis = VRM_ROLL_AXES[constraint.roll.rollAxis];
          } else if ("aim" in constraint) {
            type = "aim";
            axis = VRM_AIM_AXES[constraint.aim.aimAxis];
          } else if ("rotation" in constraint) {
            type = "rotation";
          }
          if (type) {
            const source = this.engine.wrapObject(extensions.idMapping[constraint[type].source]);
            this._nodeConstraints.push({
              type,
              source,
              destination: object,
              axis,
              weight: constraint[type].weight,
              /* Rest pose */
              destinationRestLocalRotation: quat_exports.copy(quat_exports.create(), object.rotationLocal),
              sourceRestLocalRotation: quat_exports.copy(quat_exports.create(), source.rotationLocal),
              sourceRestLocalRotationInv: quat_exports.invert(quat_exports.create(), source.rotationLocal)
            });
          } else {
            console.warn("Unrecognized or invalid VRMC_node_constraint, ignoring it");
          }
        }
        for (const child of object.children) {
          traverse(child);
        }
      };
      traverse(this.object);
    }
    _parseAndInitializeSpringBones(springBone, extensions) {
      const colliders = (springBone.colliders || []).map((collider, i) => {
        const shapeType = "capsule" in collider.shape ? "capsule" : "sphere";
        return {
          id: i,
          object: this.engine.wrapObject(extensions.idMapping[collider.node]),
          shape: {
            isCapsule: shapeType === "capsule",
            radius: collider.shape[shapeType].radius,
            offset: collider.shape[shapeType].offset,
            tail: collider.shape[shapeType].tail
          },
          cache: {
            head: vec3_exports.create(),
            tail: vec3_exports.create()
          }
        };
      });
      this._sphereColliders = colliders.filter((c) => !c.shape.isCapsule);
      this._capsuleColliders = colliders.filter((c) => c.shape.isCapsule);
      const colliderGroups = (springBone.colliderGroups || []).map((group) => ({
        name: group.name,
        colliders: group.colliders.map((c) => colliders[c])
      }));
      for (const spring of springBone.springs) {
        const joints = [];
        for (const joint of spring.joints) {
          const springJoint = {
            hitRadius: 0,
            stiffness: 1,
            gravityPower: 0,
            gravityDir: [0, -1, 0],
            dragForce: 0.5,
            node: null,
            state: null
          };
          Object.assign(springJoint, joint);
          springJoint.node = this.engine.wrapObject(extensions.idMapping[springJoint.node]);
          joints.push(springJoint);
        }
        const springChainColliders = (spring.colliderGroups || []).flatMap((cg) => colliderGroups[cg].colliders);
        this._springChains.push({
          name: spring.name,
          center: spring.center ? this.engine.wrapObject(extensions.idMapping[spring.center]) : null,
          joints,
          sphereColliders: springChainColliders.filter((c) => !c.shape.isCapsule),
          capsuleColliders: springChainColliders.filter((c) => c.shape.isCapsule)
        });
      }
      for (const springChain of this._springChains) {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const springBoneJoint = springChain.joints[i];
          const childSpringBoneJoint = springChain.joints[i + 1];
          const springBonePosition = springBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const childSpringBonePosition = childSpringBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const boneDirection = vec3_exports.subtract(this._tempV3A, springBonePosition, childSpringBonePosition);
          const state2 = {
            prevTail: childSpringBonePosition,
            currentTail: vec3_exports.copy(vec3_exports.create(), childSpringBonePosition),
            initialLocalRotation: quat_exports.copy(quat_exports.create(), springBoneJoint.node.rotationLocal),
            initialLocalTransformInvert: quat2_exports.invert(quat2_exports.create(), springBoneJoint.node.transformLocal),
            boneAxis: vec3_exports.normalize(vec3_exports.create(), childSpringBoneJoint.node.getTranslationLocal(this._tempV3)),
            /* Ensure bone length is at least 1cm to avoid jittery behaviour from zero-length bones */
            boneLength: Math.max(0.01, vec3_exports.length(boneDirection)),
            /* Tail positions in center space, if needed */
            prevTailCenter: null,
            currentTailCenter: null
          };
          if (springChain.center) {
            state2.prevTailCenter = springChain.center.transformPointInverseWorld(vec3_exports.create(), childSpringBonePosition);
            state2.currentTailCenter = vec3_exports.copy(vec3_exports.create(), childSpringBonePosition);
          }
          springBoneJoint.state = state2;
        }
      }
    }
    update(dt) {
      if (!this._initialized) {
        return;
      }
      this._resolveLookAt();
      this._resolveConstraints();
      this._updateSpringBones(dt);
    }
    _rangeMap(rangeMap, input) {
      const maxValue = rangeMap.inputMaxValue;
      const outputScale = rangeMap.outputScale;
      return Math.min(input, maxValue) / maxValue * outputScale;
    }
    _resolveLookAt() {
      if (!this._lookAt || !this.lookAtTarget) {
        return;
      }
      const lookAtSource = this.bones.head.transformPointWorld(this._tempV3A, this._lookAt.offsetFromHeadBone);
      const lookAtTarget = this.lookAtTarget.getTranslationWorld(this._tempV3B);
      const lookAtDirection = vec3_exports.sub(this._tempV3A, lookAtTarget, lookAtSource);
      vec3_exports.normalize(lookAtDirection, lookAtDirection);
      this.bones.head.parent.transformVectorInverseWorld(lookAtDirection);
      const z = vec3_exports.dot(lookAtDirection, this._forwardVector);
      const x = vec3_exports.dot(lookAtDirection, this._rightVector);
      const yaw = Math.atan2(x, z) * this._rad2deg;
      const xz = Math.sqrt(x * x + z * z);
      const y = vec3_exports.dot(lookAtDirection, this._upVector);
      let pitch = Math.atan2(-y, xz) * this._rad2deg;
      if (pitch > 0) {
        pitch = this._rangeMap(this._lookAt.verticalDown, pitch);
      } else {
        pitch = -this._rangeMap(this._lookAt.verticalUp, -pitch);
      }
      if (this.bones.leftEye) {
        let yawLeft = yaw;
        if (yawLeft > 0) {
          yawLeft = this._rangeMap(this._lookAt.horizontalInner, yawLeft);
        } else {
          yawLeft = -this._rangeMap(this._lookAt.horizontalOuter, -yawLeft);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawLeft, 0);
        this.bones.leftEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.leftEye, eyeRotation);
      }
      if (this.bones.rightEye) {
        let yawRight = yaw;
        if (yawRight > 0) {
          yawRight = this._rangeMap(this._lookAt.horizontalOuter, yawRight);
        } else {
          yawRight = -this._rangeMap(this._lookAt.horizontalInner, -yawRight);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawRight, 0);
        this.bones.rightEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.rightEye, eyeRotation);
      }
    }
    _resolveConstraints() {
      for (const nodeConstraint of this._nodeConstraints) {
        this._resolveConstraint(nodeConstraint);
      }
    }
    _resolveConstraint(nodeConstraint) {
      const dstRestQuat = nodeConstraint.destinationRestLocalRotation;
      const srcRestQuatInv = nodeConstraint.sourceRestLocalRotationInv;
      const targetQuat = quat_exports.identity(this._tempQuatA);
      switch (nodeConstraint.type) {
        case "roll":
          {
            const deltaSrcQuat = quat_exports.multiply(this._tempQuatA, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            const deltaSrcQuatInParent = quat_exports.multiply(this._tempQuatA, nodeConstraint.sourceRestLocalRotation, deltaSrcQuat);
            quat_exports.mul(deltaSrcQuatInParent, deltaSrcQuatInParent, srcRestQuatInv);
            const dstRestQuatInv = quat_exports.invert(this._tempQuatB, dstRestQuat);
            const deltaSrcQuatInDst = quat_exports.multiply(this._tempQuatB, dstRestQuatInv, deltaSrcQuatInParent);
            quat_exports.multiply(deltaSrcQuatInDst, deltaSrcQuatInDst, dstRestQuat);
            const toVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, deltaSrcQuatInDst);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, nodeConstraint.axis, toVec);
            quat_exports.mul(targetQuat, dstRestQuat, quat_exports.invert(this._tempQuat, fromToQuat));
            quat_exports.mul(targetQuat, targetQuat, deltaSrcQuatInDst);
          }
          break;
        case "aim":
          {
            const dstParentWorldQuat = nodeConstraint.destination.parent.rotationWorld;
            const fromVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, dstRestQuat);
            vec3_exports.transformQuat(fromVec, fromVec, dstParentWorldQuat);
            const toVec = nodeConstraint.source.getTranslationWorld(this._tempV3B);
            vec3_exports.sub(toVec, toVec, nodeConstraint.destination.getTranslationWorld(this._tempV3));
            vec3_exports.normalize(toVec, toVec);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, fromVec, toVec);
            quat_exports.mul(targetQuat, quat_exports.invert(this._tempQuat, dstParentWorldQuat), fromToQuat);
            quat_exports.mul(targetQuat, targetQuat, dstParentWorldQuat);
            quat_exports.mul(targetQuat, targetQuat, dstRestQuat);
          }
          break;
        case "rotation":
          {
            const srcDeltaQuat = quat_exports.mul(targetQuat, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            quat_exports.mul(targetQuat, dstRestQuat, srcDeltaQuat);
          }
          break;
      }
      quat_exports.slerp(targetQuat, dstRestQuat, targetQuat, nodeConstraint.weight);
      nodeConstraint.destination.rotationLocal = targetQuat;
    }
    _updateSpringBones(dt) {
      this._sphereColliders.forEach(({ object, shape, cache }) => {
        const offset2 = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(offset2);
        vec3_exports.add(cache.head, object.getTranslationWorld(this._tempV3), offset2);
      });
      this._capsuleColliders.forEach(({ object, shape, cache }) => {
        const shapeCenter = object.getTranslationWorld(this._tempV3A);
        const headOffset = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(headOffset);
        vec3_exports.add(cache.head, shapeCenter, headOffset);
        const tailOffset = vec3_exports.copy(cache.tail, shape.tail);
        object.transformVectorWorld(tailOffset);
        vec3_exports.add(cache.tail, shapeCenter, tailOffset);
      });
      this._springChains.forEach((springChain) => {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const joint = springChain.joints[i];
          const parentWorldRotation = joint.node.parent ? joint.node.parent.rotationWorld : this._identityQuat;
          const inertia = this._inertia;
          if (springChain.center) {
            vec3_exports.sub(inertia, joint.state.currentTailCenter, joint.state.prevTailCenter);
            springChain.center.transformVectorWorld(inertia);
          } else {
            vec3_exports.sub(inertia, joint.state.currentTail, joint.state.prevTail);
          }
          vec3_exports.scale(inertia, inertia, 1 - joint.dragForce);
          const stiffness = vec3_exports.copy(this._stiffness, joint.state.boneAxis);
          vec3_exports.transformQuat(stiffness, stiffness, joint.state.initialLocalRotation);
          vec3_exports.transformQuat(stiffness, stiffness, parentWorldRotation);
          vec3_exports.scale(stiffness, stiffness, dt * joint.stiffness);
          const external = vec3_exports.scale(this._external, joint.gravityDir, dt * joint.gravityPower);
          const nextTail = vec3_exports.copy(this._tempV3A, joint.state.currentTail);
          vec3_exports.add(nextTail, nextTail, inertia);
          vec3_exports.add(nextTail, nextTail, stiffness);
          vec3_exports.add(nextTail, nextTail, external);
          const worldPosition = joint.node.getTranslationWorld(this._tempV3B);
          vec3_exports.sub(nextTail, nextTail, worldPosition);
          vec3_exports.normalize(nextTail, nextTail);
          vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
          for (const { shape, cache } of springChain.sphereColliders) {
            let tailToShape = this._tailToShape;
            const sphereCenter = cache.head;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, sphereCenter);
            const radius = shape.radius + joint.hitRadius;
            const dist2 = vec3_exports.length(tailToShape) - radius;
            if (dist2 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist2);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          for (const { shape, cache } of springChain.capsuleColliders) {
            let tailToShape = this._tailToShape;
            const head = cache.head;
            const tail = cache.tail;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, head);
            const headToTail = vec3_exports.sub(this._headToTail, tail, head);
            const dot5 = vec3_exports.dot(headToTail, tailToShape);
            if (vec3_exports.squaredLength(headToTail) <= dot5) {
              vec3_exports.sub(tailToShape, nextTail, tail);
            } else if (dot5 > 0) {
              vec3_exports.scale(headToTail, headToTail, dot5 / vec3_exports.squaredLength(headToTail));
              vec3_exports.sub(tailToShape, tailToShape, headToTail);
            }
            const radius = shape.radius + joint.hitRadius;
            const dist2 = vec3_exports.length(tailToShape) - radius;
            if (dist2 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist2);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          vec3_exports.copy(joint.state.prevTail, joint.state.currentTail);
          vec3_exports.copy(joint.state.currentTail, nextTail);
          if (springChain.center) {
            vec3_exports.copy(joint.state.prevTailCenter, joint.state.currentTailCenter);
            vec3_exports.copy(joint.state.currentTailCenter, nextTail);
            springChain.center.transformPointInverseWorld(joint.state.currentTailCenter);
          }
          joint.node.parent.transformPointInverseWorld(nextTail);
          const nextTailDualQuat = quat2_exports.fromTranslation(this._tempQuat2, nextTail);
          quat2_exports.multiply(nextTailDualQuat, joint.state.initialLocalTransformInvert, nextTailDualQuat);
          quat2_exports.getTranslation(nextTail, nextTailDualQuat);
          vec3_exports.normalize(nextTail, nextTail);
          const jointRotation = quat_exports.rotationTo(this._tempQuatA, joint.state.boneAxis, nextTail);
          joint.node.rotationLocal = quat_exports.mul(this._tempQuatA, joint.state.initialLocalRotation, jointRotation);
        }
      });
    }
    /**
     * @param {boolean} firstPerson Whether the model should render for first person or third person views
     */
    set firstPerson(firstPerson) {
      this._firstPersonAnnotations.forEach((annotation) => {
        const visible = firstPerson == annotation.firstPerson || firstPerson != annotation.thirdPerson;
        annotation.node.getComponents("mesh").forEach((mesh) => {
          mesh.active = visible;
        });
      });
    }
  };
  __publicField(Vrm, "TypeName", "vrm");
  __publicField(Vrm, "Properties", {
    /** URL to a VRM file to load */
    src: { type: Type.String },
    /** Object the VRM is looking at */
    lookAtTarget: { type: Type.Object }
  });

  // js/game.js
  var game_exports = {};
  __export(game_exports, {
    state: () => state
  });
  var state = {
    EnemySpawner: [],
    spawn: null,
    currentEnemies: [],
    currency: 0,
    health: 100,
    test: function() {
      return this.health.toString();
    },
    currUI: null,
    turretSpawner: [],
    turrets: [],
    buildT: null,
    spawned: 0,
    currency: 0
  };

  // node_modules/@wonderlandengine/components/dist/wasd-controls.js
  var _direction = new Float32Array(3);
  var WasdControlsComponent = class extends Component {
    init() {
      this.up = false;
      this.right = false;
      this.down = false;
      this.left = false;
      this.spawm = false;
      window.addEventListener("keydown", this.press.bind(this));
      window.addEventListener("keyup", this.release.bind(this));
    }
    start() {
      this.headObject = this.headObject || this.object;
    }
    update() {
      vec3_exports.zero(_direction);
      if (this.up)
        _direction[2] -= 1;
      if (this.down)
        _direction[2] += 1;
      if (this.left)
        _direction[0] -= 1;
      if (this.right)
        _direction[0] += 1;
      vec3_exports.normalize(_direction, _direction);
      _direction[0] *= this.speed;
      _direction[2] *= this.speed;
      vec3_exports.transformQuat(_direction, _direction, this.headObject.transformWorld);
      if (this.lockY) {
        _direction[1] = 0;
        vec3_exports.normalize(_direction, _direction);
        vec3_exports.scale(_direction, _direction, this.speed);
      }
      this.object.translateLocal(_direction);
    }
    press(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = true;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = true;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = true;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = true;
      } else if (e.keyCode === 69) {
        state.buildT();
      }
    }
    release(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = false;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = false;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = false;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = false;
      }
    }
  };
  __publicField(WasdControlsComponent, "TypeName", "wasd-controls");
  __publicField(WasdControlsComponent, "Properties", {
    /** Movement speed in m/s. */
    speed: { type: Type.Float, default: 0.1 },
    /** Flag for only moving the object on the global x & z planes */
    lockY: { type: Type.Bool, default: false },
    /** Object of which the orientation is used to determine forward direction */
    headObject: { type: Type.Object }
  });

  // js/CanvasUI.js
  var CanvasUI_exports = {};
  __export(CanvasUI_exports, {
    CanvasUI: () => CanvasUI
  });
  var CanvasKeyboard = class {
    constructor(width, canvasui, lang = "EN") {
      const config = this.getConfig(lang);
      config.panelSize = { width, height: width * 0.5 };
      config.height = 256;
      config.body = { backgroundColor: "#555" };
      const object = WL.scene.addObject();
      object.name = "keyboard";
      const mesh = object.addComponent("mesh");
      const uimesh = canvasui.object.getComponent("mesh");
      mesh.mesh = uimesh.mesh;
      mesh.material = uimesh.material.clone();
      object.addComponent("cursor-target");
      const content = this.getContent(lang);
      this.keyboard = new CanvasUI(content, config, object, canvasui.engine);
      this.tmpVec = new Float32Array(3);
      this.hp = state.test();
    }
    get object() {
      return this.keyboard.object;
    }
    getConfig(lang) {
      const config = {};
      let padding = 10;
      const paddingTop = 20;
      const width = (512 - 2 * padding) / 10 - padding;
      const height = (256 - 2 * padding) / 4 - padding;
      const hover = "#333";
      const backgroundColor = "#000";
      let y = padding;
      let x = padding;
      for (let i = 0; i < 10; i++) {
        const btn = { type: "button", position: { x, y }, width, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i) };
        config[`btn${i}`] = btn;
        x += width + padding;
      }
      y += height + padding;
      x = padding;
      for (let i = 0; i < 10; i++) {
        const btn = { type: "button", position: { x, y }, width, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i + 10) };
        config[`btn${i + 10}`] = btn;
        x += width + padding;
      }
      y += height + padding;
      x = padding;
      for (let i = 0; i < 9; i++) {
        const w = i == 0 || i == 8 ? width * 1.5 + padding * 0.5 : width;
        const btn = { type: "button", position: { x, y }, width: w, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i + 20) };
        config[`btn${i + 20}`] = btn;
        x += w + padding;
      }
      y += height + padding;
      x = padding;
      for (let i = 0; i < 5; i++) {
        const w = i == 0 || i == 4 ? width * 2 + padding : i == 2 ? width * 4 + 3 * padding : width;
        const btn = { type: "button", position: { x, y }, width: w, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i + 30) };
        if (i == 0)
          btn.fontSize = 20;
        config[`btn${i + 30}`] = btn;
        x += w + padding;
      }
      return config;
    }
    getContent(lang, layoutIndex = 0) {
      let content = {};
      let keys;
      this.language = lang;
      this.keyboardIndex = layoutIndex;
      switch (layoutIndex) {
        case 0:
          keys = [
            "q",
            "w",
            "e",
            "r",
            "t",
            "y",
            "u",
            "i",
            "o",
            "p",
            "a",
            "s",
            "d",
            "f",
            "g",
            "h",
            "j",
            "k",
            "l",
            "@",
            "\u21E7",
            "z",
            "x",
            "c",
            "v",
            "b",
            "n",
            "m",
            "\u21E6",
            "",
            "?123",
            ",",
            "   ",
            ".",
            "\u21B2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
        case 1:
          keys = [
            "Q",
            "W",
            "E",
            "R",
            "T",
            "Y",
            "U",
            "I",
            "O",
            "P",
            "A",
            "S",
            "D",
            "F",
            "G",
            "H",
            "J",
            "K",
            "L",
            "@",
            "\u21E7",
            "Z",
            "X",
            "C",
            "V",
            "B",
            "N",
            "M",
            "\u21E6",
            "",
            "?123",
            ",",
            "   ",
            ".",
            "\u21B2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
        case 2:
          keys = [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "0",
            "@",
            "#",
            "%",
            "&",
            "*",
            "/",
            "-",
            "+",
            "(",
            ")",
            "\u21E7",
            "?",
            "!",
            '"',
            "'",
            "\\",
            ":",
            ";",
            "\u21E6",
            "",
            "abc",
            ",",
            "   ",
            ".",
            "\u21B2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
        case 3:
          keys = [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "0",
            "\u20AC",
            "\xA3",
            "$",
            "^",
            "=",
            "|",
            "{",
            "}",
            "[",
            "}",
            "\u21E7",
            "<",
            ">",
            "_",
            "`",
            "~",
            ":",
            ";",
            "\u21E6",
            "",
            "abc",
            ",",
            "   ",
            ".",
            "\u21B2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
      }
      return content;
    }
    get position() {
      const pos = this.keyboard.object.getTranslationWorld(this.tmpVec);
      return pos;
    }
    get positionLocal() {
      const pos = this.keyboard.object.getTranslationLocal(this.tmpVec);
      return pos;
    }
    get visible() {
      return this.active;
    }
    set visible(value) {
      this.keyboard.object.active = value;
      this.active = value;
    }
    setKeyboard(index) {
      this.keyboard.content = this.getContent(this.language, index);
      this.keyboard.needsUpdate = true;
    }
    onSelect(index) {
      if (!this.visible)
        return;
      let change = false;
      switch (index) {
        case 34:
          this.visible = false;
          if (this.linkedElement.onEnter)
            this.linkedElement.onEnter(this.linkedText);
          break;
        case 32:
          this.linkedText += " ";
          change = true;
          break;
        case 30:
          this.shift = false;
          if (this.keyboardIndex < 2) {
            this.setKeyboard(2);
          } else {
            this.setKeyboard(0);
          }
          this.keyboard.needsUpdate = true;
          break;
        case 28:
          this.linkedText = this.linkedText.substring(0, this.linkedText.length - 1);
          change = true;
          break;
        case 20:
          this.shift = !this.shift;
          if (this.keyboardIndex == 0) {
            this.setKeyboard(1);
          } else if (this.keyboardIndex == 1) {
            this.setKeyboard(0);
          } else if (this.keyboardIndex == 2) {
            this.setKeyboard(3);
          } else if (this.keyboardIndex == 3) {
            this.setKeyboard(2);
          }
          break;
        default:
          const txt = this.keyboard.content[`btn${index}`];
          this.linkedText += txt;
          change = true;
          if (this.keyboardIndex == 1)
            this.setKeyboard(0);
          break;
      }
      if (change) {
        this.linkedUI.updateElement(this.linkedName, this.linkedText);
        if (this.linkedElement.onChanged)
          this.linkedElement.onChanged(this.linkedText);
      }
    }
    update() {
      if (this.keyboard) {
        this.keyboard.update();
      }
    }
  };
  var CanvasUI = class {
    constructor(content, config, object, engine) {
      const defaultconfig = {
        width: 512,
        height: 512,
        opacity: 0.7,
        body: {
          fontFamily: "Arial",
          fontSize: 100,
          padding: 20,
          backgroundColor: "#000",
          fontColor: "#fff",
          borderRadius: 6
        }
      };
      this.config = config === void 0 ? defaultconfig : config;
      if (this.config.width === void 0)
        this.config.width = 512;
      if (this.config.height === void 0)
        this.config.height = 512;
      if (this.config.body === void 0)
        this.config.body = { fontFamily: "Arial", size: 30, padding: 20, backgroundColor: "#000", fontColor: "#fff", borderRadius: 6 };
      if (this.config.collisionGroup === void 0) {
        this.collisionGroup = 1;
      } else {
        this.collisionGroup = 1 << this.config.collisionGroup;
      }
      const body = this.config.body;
      if (body.borderRadius === void 0)
        body.borderRadius = 6;
      if (body.fontFamily === void 0)
        body.fontFamily = "Arial";
      if (body.padding === void 0)
        body.padding = 20;
      if (body.fontSize === void 0)
        body.fontSize = 100;
      if (body.backgroundColor === void 0)
        body.backgroundColor = "#000";
      if (body.fontColor === void 0)
        body.fontColor = "#fff";
      Object.entries(this.config).forEach(([name, value]) => {
        if (typeof value === "object" && name !== "panelSize") {
          const pos = value.position !== void 0 ? value.position : { x: 0, y: 0 };
          if (pos.left !== void 0 && pos.x === void 0)
            pos.x = pos.left;
          if (pos.top !== void 0 && pos.y === void 0)
            pos.y = pos.top;
          const width = value.width !== void 0 ? value.width : this.config.width;
          const height = value.height !== void 0 ? value.height : this.config.height;
          if (pos.right !== void 0 && pos.x === void 0)
            pos.x = this.config.width - pos.right - width;
          if (pos.bottom !== void 0 && pos.y === void 0)
            pos.y = this.config.height - pos.bottom - height;
          if (pos.x === void 0)
            pos.x = 0;
          if (pos.y === void 0)
            pos.y = 0;
          value.position = pos;
          if (value.type === void 0)
            value.type = "text";
        }
      });
      this.canvas = this.createOffscreenCanvas(this.config.width, this.config.height);
      this.context = this.canvas.getContext("2d");
      this.context.save();
      const opacity = this.config.opacity !== void 0 ? this.config.opacity : 0.7;
      const mesh = object.getComponent("mesh");
      this.material = mesh.material;
      this.canvasTexture = new Texture(engine, this.canvas);
      this.material.flatTexture = this.canvasTexture;
      if (config.panelSize) {
        object.resetScaling();
        const scale6 = [config.panelSize.width, config.panelSize.height, 0.01];
        object.scale(scale6);
        this.panelSize = config.panelSize;
      } else {
        this.panelSize = { width: 1, height: 1 };
      }
      this.object = object;
      this.engine = engine;
      this.tmpVec = new Float32Array(3);
      this.tmpVec1 = new Float32Array(3);
      this.tmpQuat = new Float32Array(4);
      const inputs = Object.values(this.config).filter((value) => {
        return value.type === "input-text";
      });
      if (inputs.length > 0) {
        const width = config.panelSize ? config.panelSize.width : 1;
        const height = config.panelSize ? config.panelSize.height : 1;
        let halfheight = height / 2;
        this.keyboard = new CanvasKeyboard(width, this);
        this.getEuler(this.tmpVec, this.object.rotationWorld);
        let theta = this.tmpVec[1];
        this.tmpVec[0] = 0;
        this.tmpVec[2] = -Math.cos(theta) / halfheight;
        this.tmpVec[1] = Math.sin(theta) / halfheight;
        console.log(`CanvasUI create keyboard 1 theta=${theta.toFixed(2)} offset=${this.vecToStr(this.tmpVec)}`);
        halfheight = width / 4;
        this.getEuler(this.tmpVec1, this.keyboard.keyboard.object.rotationWorld);
        theta += -15 * Math.PI / 180;
        this.tmpVec1[0] = 0;
        this.tmpVec1[2] = -Math.cos(theta) / halfheight;
        this.tmpVec1[1] = Math.sin(theta) / halfheight;
        console.log(`CanvasUI create keyboard 2 theta=${theta.toFixed(2)} offset=${this.vecToStr(this.tmpVec1)}`);
        vec3_exports.add(this.tmpVec, this.tmpVec, this.tmpVec1);
        console.log(`CanvasUI create keyboard 3 theta=${theta.toFixed(2)} offset=${this.vecToStr(this.tmpVec)}`);
        const obj = this.keyboard.object;
        quat_exports.fromEuler(this.tmpQuat, -15, 0, 0);
        obj.rotate(this.tmpQuat);
        obj.translate(this.tmpVec);
        vec3_exports.divide(this.tmpVec, obj.scalingLocal, object.scalingWorld);
        obj.resetScaling();
        obj.scale(this.tmpVec);
        obj.parent = object;
        obj.setDirty();
        this.keyboard.visible = false;
      }
      if (content === void 0) {
        this.content = { body: "" };
        this.config.body.type = "text";
      } else {
        this.content = content;
        const btns = Object.values(config).filter((value) => {
          return value.type === "button" || value.overflow === "scroll" || value.type === "input-text";
        });
        if (btns.length > 0) {
          this.engine.onXRSessionStart.add(this.initControllers.bind(this));
          const extents = new Float32Array(3);
          vec3_exports.copy(extents, this.object.scalingWorld);
          const collision = this.object.addComponent("collision", { collider: 2, extents, group: this.collisionGroup });
        }
      }
      this.selectedElements = [void 0, void 0];
      this.selectPressed = [false, false];
      this.scrollData = [void 0, void 0];
      this.intersects = [void 0, void 0];
      this.needsUpdate = true;
      this.update();
    }
    vecToStr(v, precision = 2) {
      let str5 = "";
      if (v) {
        for (let i = 0; i < v.length; i++) {
          str5 += v[i].toFixed(precision) + ", ";
        }
      }
      return str5;
    }
    //returns yaw, pitch, roll
    getEuler(out, quat) {
      let x = quat[0], y = quat[1], z = quat[2], w = quat[3], x2 = x * x, y2 = y * y, z2 = z * z, w2 = w * w;
      let unit = x2 + y2 + z2 + w2;
      let test = x * w - y * z;
      if (test > 0.499995 * unit) {
        out[0] = Math.PI / 2;
        out[1] = 2 * Math.atan2(y, x);
        out[2] = 0;
      } else if (test < -0.499995 * unit) {
        out[0] = -Math.PI / 2;
        out[1] = 2 * Math.atan2(y, x);
        out[2] = 0;
      } else {
        out[0] = Math.asin(2 * (x * z - w * y));
        out[1] = Math.atan2(2 * (x * w + y * z), 1 - 2 * (z2 + w2));
        out[2] = Math.atan2(2 * (x * y + z * w), 1 - 2 * (y2 + z2));
      }
      return out;
    }
    getIntersectY(index) {
      const height = this.config.height || 512;
      const intersect = this.intersects[index];
      if (intersect === void 0)
        return 0;
      if (intersect.xy === void 0)
        return 0;
      return intersect.xy[1];
    }
    get selectIsPressed() {
      return this.selectPressed[0] || this.selectPressed[1];
    }
    initControllers(s) {
      this.session = s;
      const root = new Object3D(0);
      root.children.forEach((child) => {
        if (child.name == "Player") {
          const space = child.children[0];
          space.children.forEach((child2) => {
            if (child2.name == "CursorLeft")
              this.rayLeft = child2;
            if (child2.name == "CursorRight")
              this.rayRight = child2;
          });
        }
      });
      if (!(this.rayLeft && this.rayRight))
        console.warn("Player CursorLeft or Player CursorRight not found");
      function onSelect(event) {
        const index = event.inputSource.handedness === "left" ? 0 : 1;
        const elm = this.selectedElements[index];
        if (elm !== void 0) {
          if (elm.type == "button") {
            this.select(index);
          } else if (elm.type == "input-text") {
            if (this.keyboard) {
              if (this.keyboard.visible) {
                this.keyboard.linkedUI = void 0;
                this.keyboard.linkedText = void 0;
                this.keyboard.linkedElement = void 0;
                this.keyboard.visible = false;
              } else {
                this.keyboard.linkedUI = this;
                let name;
                Object.entries(this.config).forEach(([prop, value]) => {
                  if (value == elm)
                    name = prop;
                });
                const y = (0.5 - (elm.position.y + elm.height + this.config.body.padding) / this.config.height) * this.panelSize.height;
                const h = Math.max(this.panelSize.width, this.panelSize.height) / 2;
                this.keyboard.linkedText = this.content[name];
                this.keyboard.linkedName = name;
                this.keyboard.linkedElement = elm;
                this.keyboard.visible = true;
              }
            }
          }
        }
      }
      ;
      function onSelectStart(event) {
        const index = event.inputSource.handedness === "left" ? 0 : 1;
        this.selectPressed[index] = true;
        if (this.selectedElements[index] !== void 0 && this.selectedElements[index].overflow == "scroll") {
          const elm = this.selectedElements[index];
          this.scrollData[index] = { scrollY: elm.scrollY, rayY: this.getIntersectY(index) };
        }
      }
      function onSelectEnd(event) {
        const index = event.inputSource.handedness === "left" ? 0 : 1;
        this.selectPressed[index] = false;
        if (this.selectedElements[index] !== void 0 && this.selectedElements[index].overflow == "scroll") {
          this.scrollData[index] = void 0;
        }
      }
      s.addEventListener("end", function() {
        this.session = null;
      }.bind(this));
      s.addEventListener("select", onSelect.bind(this));
      s.addEventListener("selectstart", onSelectStart.bind(this));
      s.addEventListener("selectend", onSelectEnd.bind(this));
    }
    setClip(elm) {
      const context = this.context;
      context.restore();
      context.save();
      if (elm.clipPath !== void 0) {
        const path = new Path2D(elm.clipPath);
        context.clip(path);
      } else {
        const pos = elm.position !== void 0 ? elm.position : { x: 0, y: 0 };
        const borderRadius = elm.borderRadius || 0;
        const width = elm.width || this.config.width;
        const height = elm.height || this.config.height;
        context.beginPath();
        if (borderRadius !== 0) {
          const angle2 = Math.PI / 2;
          context.moveTo(pos.x + borderRadius, pos.y);
          context.arc(pos.x + borderRadius, pos.y + borderRadius, borderRadius, angle2, angle2 * 2, true);
          context.lineTo(pos.x, pos.y + height - borderRadius);
          context.arc(pos.x + borderRadius, pos.y + height - borderRadius, borderRadius, 0, angle2, true);
          context.lineTo(pos.x + width - borderRadius, pos.y + height);
          context.arc(pos.x + width - borderRadius, pos.y + height - borderRadius, borderRadius, angle2 * 3, angle2 * 4, true);
          context.lineTo(pos.x + width, pos.y + borderRadius);
          context.arc(pos.x + width - borderRadius, pos.y + borderRadius, borderRadius, angle2 * 2, angle2 * 3, true);
          context.closePath();
          context.clip();
        } else {
          context.rect(pos.x, pos.y, width, height);
          context.clip();
        }
      }
    }
    setPosition(x, y, z) {
      if (this.mesh === void 0)
        return;
      this.mesh.position.set(x, y, z);
    }
    setRotation(x, y, z) {
      if (this.mesh === void 0)
        return;
      this.mesh.rotation.set(x, y, z);
    }
    updateElement(name, content) {
      let elm = this.content[name];
      if (elm === void 0) {
        console.warn(`CanvasUI.updateElement: No ${name} found`);
        return;
      }
      if (typeof elm === "object") {
        elm.content = content;
      } else {
        elm = content;
      }
      this.content[name] = elm;
      this.needsUpdate = true;
    }
    get panel() {
      return this.mesh;
    }
    getElementAtLocation(x, y) {
      const elms = Object.entries(this.config).filter(([name, elm2]) => {
        if (typeof elm2 === "object" && name !== "panelSize" && name !== "body") {
          const pos = elm2.position;
          const width = elm2.width !== void 0 ? elm2.width : this.config.width;
          const height = elm2.height !== void 0 ? elm2.height : this.config.height;
          return x >= pos.x && x < pos.x + width && y >= pos.y && y < pos.y + height;
        }
      });
      const elm = elms.length == 0 ? null : this.config[elms[0][0]];
      return elm;
    }
    updateConfig(name, property2, value) {
      let elm = this.config[name];
      if (elm === void 0) {
        console.warn(`CanvasUI.updateconfig: No ${name} found`);
        return;
      }
      elm[property2] = value;
      this.needsUpdate = true;
    }
    hover(index = 0, xy) {
      if (xy === void 0) {
        if (this.selectedElements[index] !== void 0) {
          this.selectedElements[index] = void 0;
          this.needsUpdate = true;
        }
      } else {
        const x = xy[0];
        const y = xy[1];
        const elm = this.getElementAtLocation(x, y);
        if (elm === null) {
          if (this.selectedElements[index] !== void 0) {
            this.selectedElements[index] = void 0;
            this.needsUpdate = true;
          }
        } else if (this.selectedElements[index] !== elm) {
          this.selectedElements[index] = elm;
          this.needsUpdate = true;
        }
      }
    }
    select(index = 0, mouse = false) {
      if (this.selectedElements[index] !== void 0) {
        const elm = this.selectedElements[index];
        if (elm.onSelect)
          elm.onSelect();
        if (elm.type === "input-text") {
          if (mouse) {
            if (this.keyboard) {
              if (this.keyboard.visible) {
                this.keyboard.linkedUI = void 0;
                this.keyboard.linkedText = void 0;
                this.keyboard.linkedElement = void 0;
                this.keyboard.visible = false;
              } else {
                this.keyboard.linkedUI = this;
                let name;
                Object.entries(this.config).forEach(([prop, value]) => {
                  if (value == elm)
                    name = prop;
                });
                const y = (0.5 - (elm.position.y + elm.height + this.config.body.padding) / this.config.height) * this.panelSize.height;
                const h = Math.max(this.panelSize.width, this.panelSize.height) / 2;
                this.keyboard.linkedText = this.content[name];
                this.keyboard.linkedName = name;
                this.keyboard.linkedElement = elm;
                this.keyboard.visible = true;
              }
            }
          } else {
            this.keyboard.visible = this.keyboard.visible ? false : true;
          }
        } else {
          this.selectedElements[index] = void 0;
        }
      }
    }
    scroll(index) {
      if (this.selectedElements[index] === void 0) {
        if (this.intersectMesh)
          this.intersectMesh[index].visible = false;
        return;
      }
      if (this.selectedElements[index].overflow !== "scroll")
        return;
      const elm = this.selectedElements[index];
      if (this.selectPressed[index]) {
        const scrollData = this.scrollData[index];
        if (scrollData !== void 0) {
          if (this.intersectMesh) {
            this.intersectMesh[index].visible = true;
            this.intersectMesh[index].position.copy(this.intersects[index].point);
          }
          const rayY = this.getIntersectY(index);
          const offset2 = rayY - scrollData.rayY;
          elm.scrollY = Math.min(Math.max(elm.minScrollY, scrollData.scrollY + offset2), 0);
          this.needsUpdate = true;
        }
      } else {
        if (this.intersectMesh)
          this.intersectMesh[index].visible = false;
      }
    }
    worldToCanvas(pos) {
      this.object.transformPointInverseWorld(this.tmpVec, pos);
      vec3_exports.copy(this.tmpVec1, this.object.scalingWorld);
      vec3_exports.div(this.tmpVec, this.tmpVec, this.tmpVec1);
      const xy = new Float32Array(2);
      xy[0] = (this.tmpVec[0] + 1) / 2 * this.config.width;
      xy[1] = (1 - (this.tmpVec[1] + 1) / 2) * this.config.height;
      return xy;
    }
    handleController(controller, index) {
      if (controller == null)
        return;
      controller.getTranslationWorld(this.tmpVec);
      controller.getForward(this.tmpVec1);
      const intersects = WL.scene.rayCast(this.tmpVec, this.tmpVec1, this.collisionGroup, 100);
      if (intersects.hitCount > 0) {
        intersects.xy = this.worldToCanvas(intersects.locations[0]);
        this.hover(index, intersects.xy);
        this.intersects[index] = intersects;
        this.scroll(index);
      } else {
        this.hover(index);
        this.intersects[index] = void 0;
        this.scroll(index);
      }
    }
    update() {
      if (this.rayLeft)
        this.handleController(this.rayLeft, 0);
      if (this.rayRight)
        this.handleController(this.rayRight, 1);
      if (this.keyboard && this.keyboard.visible)
        this.keyboard.update();
      if (!this.needsUpdate)
        return;
      let context = this.context;
      context.clearRect(0, 0, this.config.width, this.config.height);
      const bgColor = this.config.body.backgroundColor ? this.config.body.backgroundColor : "#000";
      const fontFamily = this.config.body.fontFamily ? this.config.body.fontFamily : "Arial";
      const fontColor = this.config.body.fontColor ? this.config.body.fontColor : "#fff";
      const fontSize = this.config.body.fontSize ? this.config.body.fontSize : 30;
      this.setClip(this.config.body);
      context.fillStyle = bgColor;
      context.fillRect(0, 0, this.config.width, this.config.height);
      Object.entries(this.content).forEach(([name, content]) => {
        const config = this.config[name] !== void 0 ? this.config[name] : this.config.body;
        const display = config.display !== void 0 ? config.display : "block";
        if (display !== "none") {
          const pos = config.position !== void 0 ? config.position : { x: 0, y: 0 };
          const width = config.width !== void 0 ? config.width : this.config.width;
          const height = config.height !== void 0 ? config.height : this.config.height;
          if (config.type == "button" && !content.toLowerCase().startsWith("<path>")) {
            if (config.borderRadius === void 0)
              config.borderRadius = 6;
            if (config.textAlign === void 0)
              config.textAlign = "center";
          }
          this.setClip(config);
          const svgPath = content.toLowerCase().startsWith("<path>");
          const hover = this.selectedElements[0] !== void 0 && this.selectedElements[0] === config || this.selectedElements[1] !== void 0 && this.selectedElements[1] === config;
          if (config.backgroundColor !== void 0) {
            if (hover && config.type == "button" && config.hover !== void 0) {
              context.fillStyle = config.hover;
            } else {
              context.fillStyle = config.backgroundColor;
            }
            context.fillRect(pos.x, pos.y, width, height);
          }
          if (config.type == "text" || config.type == "button" || config.type == "input-text") {
            let stroke = false;
            if (hover) {
              if (!svgPath && config.type == "button") {
                context.fillStyle = config.fontColor !== void 0 ? config.fontColor : fontColor;
              } else {
                context.fillStyle = config.hover !== void 0 ? config.hover : config.fontColor !== void 0 ? config.fontColor : fontColor;
              }
              stroke = config.hover === void 0;
            } else {
              context.fillStyle = config.fontColor !== void 0 ? config.fontColor : fontColor;
            }
            if (svgPath) {
              const code = content.toUpperCase().substring(6, content.length - 7);
              context.save();
              context.translate(pos.x, pos.y);
              const path = new Path2D(code);
              context.fill(path);
              context.restore();
            } else {
              this.wrapText(name, content);
            }
            if (stroke) {
              context.beginPath();
              context.strokeStyle = "#fff";
              context.lineWidth = 2;
              context.rect(pos.x, pos.y, width, height);
              context.stroke();
            }
          } else if (config.type == "img") {
            if (config.img === void 0) {
              this.loadImage(content).then((img) => {
                console.log(`w: ${img.width} | h: ${img.height}`);
                config.img = img;
                this.needsUpdate = true;
                this.update();
              }).catch((err) => console.error(err));
            } else {
              const aspect = config.img.width / config.img.height;
              const h = width / aspect;
              context.drawImage(config.img, pos.x, pos.y, width, h);
            }
          }
        }
      });
      if (this.canvasTexture)
        this.canvasTexture.update();
      this.needsUpdate = false;
    }
    loadImage(src) {
      return new Promise((resolve, reject) => {
        const img = new Image();
        img.addEventListener("load", () => resolve(img));
        img.addEventListener("error", (err) => reject(err));
        img.src = src;
      });
    }
    createOffscreenCanvas(w, h) {
      const canvas2 = document.createElement("canvas");
      canvas2.width = w;
      canvas2.height = h;
      return canvas2;
    }
    fillRoundedRect(x, y, w, h, radius) {
      const ctx = this.context;
      ctx.beginPath();
      ctx.moveTo(x + radius, y);
      ctx.lineTo(x + w - radius, y);
      ctx.quadraticCurveTo(x + w, y, x + w, y + radius);
      ctx.lineTo(x + w, y + h - radius);
      ctx.quadraticCurveTo(x + w, y + h, x + w - radius, y + h);
      ctx.lineTo(x + radius, y + h);
      ctx.quadraticCurveTo(x, y + h, x, y + h - radius);
      ctx.lineTo(x, y + radius);
      ctx.quadraticCurveTo(x, y, x + radius, y);
      ctx.closePath();
      ctx.fill();
    }
    lookAt(pos) {
      if (this.mesh === void 0)
        return;
      if (!(pos instanceof Vector3)) {
        console.error("CanvasUI lookAt called parameter not a THREE.Vector3");
        return;
      }
      this.mesh.lookAt(pos);
    }
    get visible() {
      if (this.mesh === void 0)
        return false;
      return this.mesh.active;
    }
    set visible(value) {
      if (this.mesh) {
        this.mesh.active = value;
      }
    }
    get position() {
      if (this.object === void 0)
        return void 0;
      this.object.getTranslationWorld(this.tmpVec);
      return this.tmpVec;
    }
    set position(value) {
      if (this.object === void 0)
        return;
      if (!(value instanceof Float32Array)) {
        console.error("CanvasUI trying to set the object position using a parameter that is not a Float32Array");
        return;
      }
      this.object.setTranslationWorld(value);
    }
    get quaternion() {
      if (this.object === void 0)
        return void 0;
      this.object.getTranslationWorld(this.tmpVec);
      return this.tmpVec;
    }
    set quaternion(value) {
      if (this.mesh === void 0)
        return;
      if (!(value instanceof QUaternion)) {
        console.error("CanvasUI trying to set the object quaternion using a parameter that is not a THREE.Quaternion");
        return;
      }
      this.mesh.quaternion.copy(value);
    }
    wrapText(name, txt) {
      const words = txt.split(" ");
      let line = "";
      const lines = [];
      const config = this.config[name] !== void 0 ? this.config[name] : this.config.body;
      const width = config.width !== void 0 ? config.width : this.config.width;
      const height = config.height !== void 0 ? config.height : this.config.height;
      const pos = config.position !== void 0 ? config.position : { x: 0, y: 0 };
      const padding = config.padding !== void 0 ? config.padding : this.config.body.padding !== void 0 ? this.config.body.padding : 10;
      const paddingTop = config.paddingTop !== void 0 ? config.paddingTop : padding;
      const paddingLeft = config.paddingLeft !== void 0 ? config.paddingLeft : padding;
      const paddingBottom = config.paddingBottom !== void 0 ? config.paddingBottom : padding;
      const paddingRight = config.paddingRight !== void 0 ? config.paddingRight : padding;
      const rect = { x: pos.x + paddingLeft, y: pos.y + paddingTop, width: width - paddingLeft - paddingRight, height: height - paddingTop - paddingBottom };
      const textAlign = config.textAlign !== void 0 ? config.textAlign : this.config.body.textAlign !== void 0 ? this.config.body.textAlign : "left";
      const fontSize = config.fontSize !== void 0 ? config.fontSize : this.config.body.fontSize !== void 0 ? this.config.body.fontSize : 30;
      const fontFamily = config.fontFamily !== void 0 ? config.fontFamily : this.config.body.fontFamily !== void 0 ? this.config.body.fontFamily : "Arial";
      const leading = config.leading !== void 0 ? config.leading : this.config.body.leading !== void 0 ? this.config.body.leading : 8;
      const lineHeight = fontSize + leading;
      const context = this.context;
      context.textAlign = textAlign;
      context.font = `${fontSize}px '${fontFamily}'`;
      words.forEach(function(word) {
        let testLine = words.length > 1 ? `${line}${word} ` : word;
        let metrics = context.measureText(testLine);
        if (metrics.width > rect.width && word.length > 1) {
          if (line.length == 0 && metrics.width > rect.width) {
            while (metrics.width > rect.width) {
              let count = 0;
              do {
                count++;
                testLine = word.substr(0, count);
                metrics = context.measureText(testLine);
              } while (metrics.width < rect.width && count < word.length - 1);
              count--;
              testLine = word.substr(0, count);
              lines.push(testLine);
              word = word.substr(count);
              if (count <= 1)
                break;
              metrics = context.measureText(word);
            }
            if (word != "")
              lines.push(word);
          } else {
            lines.push(line);
            line = `${word} `;
          }
        } else {
          line = testLine;
        }
      });
      if (line != "")
        lines.push(line);
      const textHeight = lines.length * lineHeight;
      let scrollY = 0;
      if (textHeight > rect.height && config.overflow === "scroll") {
        if (config.scrollY === void 0)
          config.scrollY = 0;
        const fontColor = config.fontColor !== void 0 ? config.fontColor : this.config.body.fontColor;
        context.fillStyle = "#aaa";
        this.fillRoundedRect(pos.x + width - 12, pos.y, 12, height, 6);
        context.fillStyle = "#666";
        const scale6 = rect.height / textHeight;
        const thumbHeight = scale6 * height;
        const thumbY = -config.scrollY * scale6;
        this.fillRoundedRect(pos.x + width - 12, pos.y + thumbY, 12, thumbHeight, 6);
        context.fillStyle = fontColor;
        scrollY = config.scrollY;
        config.minScrollY = rect.height - textHeight;
      }
      let y = scrollY + rect.y + fontSize / 2;
      let x;
      switch (textAlign) {
        case "center":
          x = rect.x + rect.width / 2;
          break;
        case "right":
          x = rect.x + rect.width;
          break;
        default:
          x = rect.x;
          break;
      }
      lines.forEach((line2) => {
        if (y + lineHeight > 0)
          context.fillText(line2, x, y);
        y += lineHeight;
      });
    }
  };

  // js/button.js
  var button_exports = {};
  __export(button_exports, {
    ButtonComponent: () => ButtonComponent,
    hapticFeedback: () => hapticFeedback
  });
  function hapticFeedback(object, strength, duration) {
    const input = object.getComponent(InputComponent);
    if (input && input.xrInputSource) {
      const gamepad = input.xrInputSource.gamepad;
      if (gamepad && gamepad.hapticActuators)
        gamepad.hapticActuators[0].pulse(strength, duration);
    }
  }
  var ButtonComponent = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HowlerAudioSource);
      engine.registerComponent(CursorTarget);
    }
    /* Position to return to when "unpressing" the button */
    returnPos = new Float32Array(3);
    start() {
      this.mesh = this.buttonMeshObject.getComponent(MeshComponent);
      this.defaultMaterial = this.mesh.material;
      this.buttonMeshObject.getTranslationLocal(this.returnPos);
      this.target = this.object.getComponent(CursorTarget) || this.object.addComponent(CursorTarget);
      this.soundClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/click.wav",
        spatial: true
      });
      this.soundUnClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/unclick.wav",
        spatial: true
      });
    }
    onActivate() {
      this.target.onHover.add(this.onHover);
      this.target.onUnhover.add(this.onUnhover);
      this.target.onDown.add(this.onDown);
      this.target.onUp.add(this.onUp);
    }
    onDeactivate() {
      this.target.onHover.remove(this.onHover);
      this.target.onUnhover.remove(this.onUnhover);
      this.target.onDown.remove(this.onDown);
      this.target.onUp.remove(this.onUp);
    }
    /* Called by 'cursor-target' */
    onHover = (_, cursor) => {
      this.mesh.material = this.hoverMaterial;
      if (cursor.type === "finger-cursor") {
        this.onDown(_, cursor);
      }
      hapticFeedback(cursor.object, 0.5, 50);
    };
    /* Called by 'cursor-target' */
    onDown = (_, cursor) => {
      this.soundClick.play();
      this.buttonMeshObject.translate([0, -0.1, 0]);
      hapticFeedback(cursor.object, 1, 20);
    };
    /* Called by 'cursor-target' */
    onUp = (_, cursor) => {
      this.soundUnClick.play();
      this.buttonMeshObject.setTranslationLocal(this.returnPos);
      hapticFeedback(cursor.object, 0.7, 20);
    };
    /* Called by 'cursor-target' */
    onUnhover = (_, cursor) => {
      this.mesh.material = this.defaultMaterial;
      if (cursor.type === "finger-cursor") {
        this.onUp(_, cursor);
      }
      hapticFeedback(cursor.object, 0.3, 50);
    };
  };
  __publicField(ButtonComponent, "TypeName", "button");
  __publicField(ButtonComponent, "Properties", {
    /** Object that has the button's mesh attached */
    buttonMeshObject: Property.object(),
    /** Material to apply when the user hovers the button */
    hoverMaterial: Property.material()
  });

  // js/enemy-spawner.js
  var enemy_spawner_exports = {};
  __export(enemy_spawner_exports, {
    EnemySpawner: () => EnemySpawner
  });

  // js/waypoint-movement.js
  var waypoint_movement_exports = {};
  __export(waypoint_movement_exports, {
    WaypointMovement: () => WaypointMovement
  });
  var WaypointMovement = class extends Component {
    init() {
      this.children = this.pathObject.children.sort(function(a, b) {
        return a.name.localeCompare(b.name);
      });
      this.positions = new Array(this.children.length);
      for (let i = 0; i < this.children.length; i++) {
        this.positions[i] = new Float32Array(3);
        this.children[i].getTranslationWorld(this.positions[i]);
      }
      this.currentPositionIndex = 0;
      this.currentPosition = new Float32Array(3);
      this.lookPosition = new Float32Array(3);
      this.fromPosition = this.positions[0];
      this.toPosition = this.positions[1];
      vec3_exports.sub(this.currentPosition, this.toPosition, this.fromPosition);
      this.fromToLength = vec3_exports.length(this.currentPosition);
      this.currentLength = 0;
      this.up = [0, 1, 0];
      this.quat = new Float32Array(4);
      lookAt2(this.quat, this.fromPosition, this.toPosition, this.up);
      this.object.resetTranslationRotation();
      this.object.rotate(this.quat);
      this.object.setTranslationWorld(this.fromPosition);
      this.p0 = new Float32Array(3);
      this.p1 = new Float32Array(3);
      this.p2 = new Float32Array(3);
      this.currentCurveIndex = 0;
      this.curveDistance = Math.max(0, Math.min(0.49999, this.curveDistance));
      this.bezFactorMultiplicator = 1 / (2 * this.curveDistance);
      this.onFinalWaypointReachedCallbacks = [];
    }
    /**
     * Adds a function to a callback array which, then calls the function after the final waypoint has been reached.
     * @param  {function} f Function to be added.
     */
    addOnFinalWaypointReachedCallback(f) {
      this.onFinalWaypointReachedCallbacks.push(f);
    }
    /**
     * Removes a function from the callback array for reaching the final waypoint..
     * @param  {function} f Function to be removed.
     */
    removeOnFinalWaypointReachedCallback(f) {
      const index = array.indexOf(f);
      if (index > -1) {
        this.onFinalWaypointReachedCallbacks.splice(index, 1);
      }
    }
    /**
     * Sets the points needed for the next curve
     */
    _setCurvePoints() {
      vec3_exports.sub(
        this.currentPosition,
        this.positions[this.currentCurveIndex],
        this.positions[this.currentCurveIndex + 1]
      );
      vec3_exports.scale(this.currentPosition, this.currentPosition, this.curveDistance);
      vec3_exports.add(this.p0, this.positions[this.currentCurveIndex + 1], this.currentPosition);
      this.p1 = this.positions[this.currentCurveIndex + 1];
      vec3_exports.sub(
        this.currentPosition,
        this.positions[this.currentCurveIndex + 2],
        this.positions[this.currentCurveIndex + 1]
      );
      vec3_exports.scale(this.currentPosition, this.currentPosition, this.curveDistance);
      vec3_exports.add(this.p2, this.positions[this.currentCurveIndex + 1], this.currentPosition);
    }
    /**
     * Sets the object's path object and configures it.
     * @param  {WL.Object} pathObject [Object containing alphebetically named children]
     */
    setPathObject(pathObject) {
      this.pathObject = pathObject;
      this.children = this.pathObject.children.sort(function(a, b) {
        return a.name.localeCompare(b.name);
      });
      this.positions = new Array(this.children.length);
      for (let i = 0; i < this.children.length; i++) {
        this.positions[i] = new Float32Array(3);
        this.children[i].getTranslationWorld(this.positions[i]);
      }
      this.currentPositionIndex = 0;
      this.currentCurveIndex = 0;
      this.currentLength = 0;
      this._setCurvePoints();
      this.fromPosition = this.positions[0];
      this.toPosition = this.positions[1];
      vec3_exports.sub(this.currentPosition, this.toPosition, this.fromPosition);
      this.fromToLength = vec3_exports.length(this.currentPosition);
    }
    update(dt) {
      this.currentLength += dt * this.speed;
      this.object.walked += 1;
      let factor = this.currentLength / this.fromToLength;
      if (factor > 0.5 && this.currentPositionIndex != this.positions.length - 1) {
        this.incrementCurveIndex = true;
      }
      if (Math.abs(factor - Math.round(factor)) < this.curveDistance && !(this.currentPositionIndex == this.children.length - 2 && factor > 0.5) && !(this.currentPositionIndex == 0 && factor < 0.5)) {
        let bezFactor = (factor - Math.round(factor) + this.curveDistance) * this.bezFactorMultiplicator;
        vec3_exports.bezier(
          this.currentPosition,
          this.p0,
          this.p1,
          this.p1,
          this.p2,
          bezFactor
        );
        vec3_exports.bezier(
          this.lookPosition,
          this.p0,
          this.p1,
          this.p1,
          this.p2,
          bezFactor + 0.01
        );
      } else {
        if (this.incrementCurveIndex && factor < 0.5 && factor > this.curveDistance && this.currentCurveIndex != this.positions.length - 3) {
          this.currentCurveIndex++;
          this.incrementCurveIndex = false;
        }
        vec3_exports.lerp(this.currentPosition, this.fromPosition, this.toPosition, factor);
        vec3_exports.lerp(this.lookPosition, this.fromPosition, this.toPosition, factor + 0.01);
      }
      this.object.resetTranslationRotation();
      lookAt2(this.quat, this.currentPosition, this.lookPosition, this.up);
      this.object.rotate(this.quat);
      this.object.setTranslationWorld(this.currentPosition);
      if (this.currentLength > this.fromToLength) {
        this.start = false;
        this.currentPositionIndex++;
        if (this.currentPositionIndex == this.children.length - 1) {
          this.object.f();
          this.currentPositionIndex = 0;
          this.currentCurveIndex = 0;
          this.incrementCurveIndex = false;
          this.onFinalWaypointReachedCallbacks.forEach((f) => f());
        }
        this.fromPosition = this.positions[this.currentPositionIndex];
        this.toPosition = this.positions[this.currentPositionIndex + 1];
        vec3_exports.sub(this.currentPosition, this.toPosition, this.fromPosition);
        this.fromToLength = vec3_exports.length(this.currentPosition);
        this.currentLength = 0;
      }
    }
  };
  __publicField(WaypointMovement, "TypeName", "waypoint-movement");
  __publicField(WaypointMovement, "Properties", {
    /** This object is the container of the waypoints. It should contain children
    with an alphebetically ascending naming (e.g. A, B, C, D, E, F) */
    pathObject: { type: Type.Object },
    /** Movement speed of the object */
    speed: { type: Type.Float, default: 1 },
    /** Distance in normal space [0, 0.5) after which the objects starts moving on a curve */
    curveDistance: { type: Type.Float, default: 0.1 }
  });
  var lookAt2 = function() {
    let forwardTemp = new Float32Array(3);
    let temp = new Float32Array(3);
    let dotTemp = 0;
    let vector = new Float32Array(3);
    let vector2 = new Float32Array(3);
    let vector3 = new Float32Array(3);
    return function(quaternion, sourcePoint, destPoint, up) {
      if (!up) {
        up = [0, 1, 0];
      }
      vec3_exports.sub(forwardTemp, destPoint, sourcePoint);
      vec3_exports.normalize(forwardTemp, forwardTemp);
      dotTemp = vec3_exports.dot(up, forwardTemp);
      vec3_exports.scale(temp, forwardTemp, dotTemp);
      vec3_exports.sub(up, up, temp);
      vec3_exports.normalize(up, up);
      vec3_exports.normalize(vector, forwardTemp);
      vec3_exports.cross(vector2, up, vector);
      vec3_exports.cross(vector3, vector, vector2);
      let m00 = vector2[0];
      let m01 = vector2[1];
      let m02 = vector2[2];
      let m10 = vector3[0];
      let m11 = vector3[1];
      let m12 = vector3[2];
      let m20 = vector[0];
      let m21 = vector[1];
      let m22 = vector[2];
      let num8 = m00 + m11 + m22;
      if (num8 > 0) {
        let num = Math.sqrt(num8 + 1);
        quaternion[3] = num * 0.5;
        num = 0.5 / num;
        quaternion[0] = (m12 - m21) * num;
        quaternion[1] = (m20 - m02) * num;
        quaternion[2] = (m01 - m10) * num;
        return quaternion;
      }
      if (m00 >= m11 && m00 >= m22) {
        let num7 = Math.sqrt(1 + m00 - m11 - m22);
        let num4 = 0.5 / num7;
        quaternion[0] = 0.5 * num7;
        quaternion[1] = (m01 + m10) * num4;
        quaternion[2] = (m02 + m20) * num4;
        quaternion[3] = (m12 - m21) * num4;
        return quaternion;
      }
      if (m11 > m22) {
        let num6 = Math.sqrt(1 + m11 - m00 - m22);
        let num3 = 0.5 / num6;
        quaternion[0] = (m10 + m01) * num3;
        quaternion[1] = 0.5 * num6;
        quaternion[2] = (m21 + m12) * num3;
        quaternion[3] = (m20 - m02) * num3;
        return quaternion;
      }
      let num5 = Math.sqrt(1 + m22 - m00 - m11);
      let num2 = 0.5 / num5;
      quaternion[0] = (m20 + m02) * num2;
      quaternion[1] = (m21 + m12) * num2;
      quaternion[2] = 0.5 * num5;
      quaternion[3] = (m01 - m10) * num2;
      return quaternion;
    };
  }();

  // js/enemy-spawner.js
  var tempQuat22 = new Float32Array(8);
  var EnemySpawner = class extends Component {
    // The game file contains the state object, the init function adds a function
    // called spawn to the state file, assigns the calling object as the spawnpoint,
    // and instatniates the timer for spawn delay
    init() {
      this.timer = 0;
      state.EnemySpawner.push(this);
      this.name = "paul";
      state.spawn = function(object) {
        let enemy = object.spawnEnemy();
      }.bind(this);
    }
    start() {
      console.log("start");
      console.log(this.name);
    }
    // Not exactly sure why we need this but we do
    static onRegister(engine) {
      engine.registerComponent(WaypointMovement);
    }
    // spawns a new enemy every 5 seconds 
    // TODO add a spawntimer function and use that instead of hardcoding the time
    update(dt) {
      this.timer += dt;
      if (this.timer > 5) {
        this.timer = 0;
        state.spawn(this);
      }
    }
    // TODO add a onHIt function to the object that is spawned 
    spawnEnemy() {
      const obj = this.engine.scene.addObject();
      state.currentEnemies.push(obj);
      obj.setTransformLocal(this.object.getTransformWorld(tempQuat22));
      const mesh = obj.addComponent("mesh");
      mesh.mesh = this.defaultMesh;
      mesh.material = this.defaultMaterial;
      mesh.active = true;
      obj.addComponent("collision", {
        shape: WL.Collider.Sphere,
        extents: [5, 0, 0],
        group: 1 << 5,
        active: true
      });
      obj.walked = 0;
      obj.health = 50;
      let o = this.object.getComponent(WaypointMovement);
      obj.f = function() {
        state.health -= 5;
        const index = state.currentEnemies.indexOf(obj);
        const x = state.currentEnemies.splice(index, 1);
        console.log(obj.walked);
        obj.destroy();
      };
      obj.addComponent(WaypointMovement, o);
      obj.setScalingLocal([0.2, 0.2, 0.2]);
      obj.active = true;
      obj.name = "dave";
      obj.setDirty();
    }
  };
  __publicField(EnemySpawner, "TypeName", "enemy-spawner");
  /* Properties that are configurable in the editor */
  __publicField(EnemySpawner, "Properties", {
    defaultMesh: { type: Type.Mesh },
    defaultMaterial: { type: Type.Material },
    spawnTimer: { type: Type.Int, default: 15 }
  });

  // js/projectile-physics.js
  var projectile_physics_exports = {};
  __export(projectile_physics_exports, {
    ProjectilePhysics: () => ProjectilePhysics
  });
  var newDir = new Float32Array(3);
  var ProjectilePhysics = class extends Component {
    init() {
      this.dir = new Float32Array(3);
      this.position = [0, 0, 0];
      console.log(this.object);
      this.object.getPositionWorld(this.position);
      this.object.setScalingWorld([0.1, 0.1, 0.1]);
      this.correctedSpeed = this.speed * 5;
      this.collision = this.object.getComponent("collision", 0);
      if (!this.collision) {
        console.warn(
          "'bullet-physics' component on object",
          this.object.name,
          "requires a collision component"
        );
      }
    }
    update(dt) {
      if (isNaN(dt)) {
        console.log("dt is NaN");
        return;
      }
      this.object.getPositionWorld(this.position);
      if (this.position[1] <= state.floorHeight + this.collision.extents[0]) {
        this.destroyBullet(0);
        return;
      }
      if (vec3_exports.length(this.position) > 175) {
        this.destroyBullet(0);
        return;
      }
      newDir.set(this.dir);
      vec3_exports.scale(newDir, newDir, this.correctedSpeed);
      vec3_exports.add(this.position, this.position, newDir);
      this.object.setPositionLocal(this.position);
      let overlaps = this.collision.queryOverlaps();
      for (let i = 0; i < overlaps.length; ++i) {
        this.destroyBullet(0);
        console.log("HIT");
        return;
      }
    }
    destroyBullet(time) {
      if (time == 0) {
        console.log("oh");
        this.object.destroy();
      } else {
        setTimeout(() => {
          this.object.destroy();
        }, time);
      }
    }
  };
  __publicField(ProjectilePhysics, "TypeName", "projectile-physics");
  __publicField(ProjectilePhysics, "Properties", {
    speed: { type: Type.Float, default: 9 }
  });

  // js/projectile-spawner.js
  var projectile_spawner_exports = {};
  __export(projectile_spawner_exports, {
    ProjectileSpawner: () => ProjectileSpawner
  });
  var tempquat2 = new Float32Array(8);
  var ProjectileSpawner = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(ProjectilePhysics);
    }
    init() {
      console.log("Projectile spawner new+!");
      this.timer = 0;
      this.object.shoot = function(dir) {
        let projectile = this.spawn();
        projectile.physics.dir.set(dir);
        projectile.object.setDirty();
        projectile.physics.active = true;
      }.bind(this);
    }
    start() {
      console.log("projectile-spawner");
    }
    spawn() {
      const obj = this.engine.scene.addObject();
      let mesh = obj.addComponent("mesh", this.object.getComponent("mesh"));
      mesh.active = true;
      obj.addComponent("collision", { shape: WL.Collider.Sphere, extents: [0.05, 0, 0], group: 1 << 0 });
      obj.name = "steven";
      obj.setPositionLocal(this.object.getPositionWorld());
      const physics = obj.addComponent(ProjectilePhysics, { speed: 0.2 });
      physics.active = true;
      return { object: obj, physics };
    }
  };
  __publicField(ProjectileSpawner, "TypeName", "projectile-spawner");

  // js/turret-aimer.js
  var turret_aimer_exports = {};
  __export(turret_aimer_exports, {
    turretAimer: () => turretAimer
  });
  var turretAimer = class extends Component {
    start() {
      console.log("start() with param", this.param);
    }
    init() {
      this.timer = 0;
      this.hits = 0;
      console.log(this.object.getComponents());
    }
    /*
    seek() {
        let g = new Float32Array(3);
        this.object.getForwardWorld(g);
        let ray = WL.scene.rayCast(this.object.getTranslationWorld(), g, 1 << 1, 1 << 2);
        let hits = ray.hitCount;
        this.loc = ray.locations;
        this.dis = ray.distances;
        let obs = ray.objects;
        if (hits > 0) {
            this.object.target = obs[0];
            this.object.lookAt(this.object.target.getPositionWorld())
        }
        else {
            this.object.rotateAxisAngleDegObject([0, 1, 0], 5);
        }
    }*/
    seek() {
      const collision = this.object.getComponent("collision");
      const overlaps = collision.queryOverlaps();
      for (const coll of overlaps) {
        if (coll.object.name === "dave") {
          console.log(coll.object.name);
          if (this.object.target === null || this.object.target.walked < coll.object.walked) {
            this.object.target = coll.object;
          } else {
            this.object.target = null;
          }
        }
      }
    }
    update(dt) {
      this.timer += dt;
      let g = new Float32Array(3);
      if (this.object.target == null || this.object.target.objectId < 0) {
        this.seek();
      }
      if (this.object.target && this.object.target.isDestroyed == false) {
        let g2 = new Float32Array(3);
        const collision = this.object.getComponent("collision");
        const overlaps = collision.queryOverlaps();
        let fired = false;
        for (const coll of overlaps) {
          if (fired == false && coll.object === this.object.target) {
            this.object.lookAt(this.object.target.getPositionWorld(), [0, 1, 0]);
            if (this.timer > this.object.cd) {
              this.object.shoot(this.object.getForwardWorld(g2));
              this.object.target.health -= 25;
              this.timer = 0;
              if (this.object.target.health <= 0) {
                this.object.target.destroy();
              }
            }
            fired = true;
          }
        }
        if (!fired) {
          this.object.target = null;
        }
        ;
      }
    }
  };
  __publicField(turretAimer, "TypeName", "turret-aimer");
  /* Properties that are configurable in the editor */
  __publicField(turretAimer, "Properties", {});

  // js/turret-spawner.js
  var turret_spawner_exports = {};
  __export(turret_spawner_exports, {
    TurretSpawner: () => TurretSpawner
  });
  var tempQuat23 = new Float32Array(8);
  var TurretSpawner = class extends Component {
    init() {
      this.timer = 0;
      this.name = "dave";
      state.turretSpawner = this;
      state.buildT = function() {
        let turret = this.makeTurret();
      }.bind(this);
    }
    static onRegister(engine) {
      engine.registerComponent(turretAimer);
      engine.registerComponent(ProjectileSpawner);
    }
    start() {
      console.log("start() turret spawner");
    }
    update(dt) {
    }
    makeTurret() {
      const obj = this.engine.scene.addObject();
      obj.target = null;
      obj.targets = /* @__PURE__ */ new Set();
      obj.shoot = null;
      obj.cd = this.shootingCD;
      obj.name = "sam";
      obj.setTransformLocal(this.object.getTransformWorld(tempQuat23));
      const x = new Float32Array(3);
      obj.setScalingLocal([0.2, 0.4, 0.2]);
      obj.setRotationLocal([0, 0, 0, 1]);
      const mesh = obj.addComponent("mesh");
      mesh.mesh = this.defaultMesh;
      mesh.material = this.defaultMaterial;
      obj.addComponent("collision", {
        collider: WL.Collider.Sphere,
        extents: [5, 0, 0],
        group: 1 << 5,
        CollisionEventType: 1,
        active: true
      });
      mesh.active = true;
      const aimer = obj.addComponent(turretAimer);
      obj.addComponent(ProjectileSpawner);
      obj.active = true;
      state.turrets.push(obj);
      obj.setDirty();
    }
  };
  __publicField(TurretSpawner, "TypeName", "turret-spawner");
  __publicField(TurretSpawner, "Properties", {
    defaultMesh: { type: Type.Mesh },
    defaultMaterial: { type: Type.Material },
    bulletMesh: { type: Type.Mesh },
    bulletMaterial: { type: Type.Material },
    shootingCD: { type: Type.Int, default: 2 }
  });

  // js/uiHandler.js
  var uiHandler_exports = {};
  __export(uiHandler_exports, {
    UIHandler: () => UIHandler
  });
  var UIHandler = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HowlerAudioSource);
    }
    init() {
      this.hp = state.test();
    }
    start() {
      this.target = this.object.getComponent("cursor-target");
      this.target.addHoverFunction(this.onHover.bind(this));
      this.target.addUnHoverFunction(this.onUnHover.bind(this));
      this.target.addMoveFunction(this.onMove.bind(this));
      this.target.addDownFunction(this.onDown.bind(this));
      this.target.addUpFunction(this.onUp.bind(this));
      this.soundClick = this.object.addComponent(HowlerAudioSource, { src: "sfx/click.wav", spatial: true });
      this.soundUnClick = this.object.addComponent(HowlerAudioSource, { src: "sfx/unclick.wav", spatial: true });
      switch (this.panel) {
        case 0:
          this.simplePanel();
          break;
        case 1:
          this.buttonsPanel();
          break;
        case 2:
          this.scrollPanel();
          break;
        case 3:
          this.imagePanel();
          break;
        case 4:
          this.inputTextPanel();
          break;
      }
    }
    simplePanel() {
      const config = {
        header: {
          type: "text",
          position: { top: 10 },
          paddingTop: 30,
          height: 100
        }
      };
      const content = {
        header: this.hp
      };
      this.ui = new CanvasUI(content, config, this.object, this.engine);
      this.ui.updateConfig(this, config.height, 100);
      let ui = this.ui;
    }
    buttonsPanel() {
      function onPrev() {
        const msg = "Prev pressed";
        console.log(msg);
        ui.updateElement("info", msg);
      }
      function onStop() {
        const msg = "Stop pressed";
        console.log(msg);
        ui.updateElement("info", msg);
      }
      function onNext() {
        const msg = "Next pressed";
        console.log(msg);
        ui.updateElement("info", msg);
      }
      function onContinue() {
        const msg = "Continue pressed";
        console.log(msg);
        ui.updateElement("info", msg);
      }
      const config = {
        panelSize: {
          width: 1,
          height: 0.25
        },
        height: 128,
        info: {
          type: "text",
          position: { left: 6, top: 6 },
          width: 500,
          height: 58,
          backgroundColor: "#aaa",
          fontColor: "#000"
        },
        prev: {
          type: "button",
          position: { top: 64, left: 0 },
          width: 64,
          fontColor: "#bb0",
          hover: "#ff0",
          onSelect: onPrev
        },
        stop: {
          type: "button",
          position: { top: 64, left: 64 },
          width: 64,
          fontColor: "#bb0",
          hover: "#ff0",
          onSelect: onStop
        },
        next: {
          type: "button",
          position: { top: 64, left: 128 },
          width: 64,
          fontColor: "#bb0",
          hover: "#ff0",
          onSelect: onNext
        },
        continue: {
          type: "button",
          position: { top: 70, right: 10 },
          width: 200,
          height: 52,
          fontColor: "#fff",
          backgroundColor: "#1bf",
          hover: "#3df",
          onSelect: onContinue
        }
      };
      const content = {
        info: "",
        prev: "<path>M 10 32 L 54 10 L 54 54 Z</path>",
        stop: "<path>M 50 15 L 15 15 L 15 50 L 50 50 Z<path>",
        next: "<path>M 54 32 L 10 10 L 10 54 Z</path>",
        continue: "Continue"
      };
      this.ui = new CanvasUI(content, config, this.object, this.engine);
      this.ui.update();
      let ui = this.ui;
    }
    scrollPanel() {
      const config = {
        body: {
          backgroundColor: "#666"
        },
        txt: {
          type: "text",
          overflow: "scroll",
          position: { left: 20, top: 20 },
          width: 460,
          height: 400,
          backgroundColor: "#fff",
          fontColor: "#000"
        }
      };
      const content = {
        txt: "This is an example of a scrolling panel. Select it with a controller and move the controller while keeping the select button pressed. In an AR app just press and drag. If a panel is set to scroll and the overflow setting is 'scroll', then a scroll bar will appear when the panel is active. But to scroll you can just drag anywhere on the panel. This is an example of a scrolling panel. Select it with a controller and move the controller while keeping the select button pressed. In an AR app just press and drag. If a panel is set to scroll and the overflow setting is 'scroll', then a scroll bar will appear when the panel is active. But to scroll you can just drag anywhere on the panel."
      };
      this.ui = new CanvasUI(content, config, this.object, this.engine);
      this.ui.update();
      let ui = this.ui;
    }
    imagePanel() {
      const config = {
        image: {
          type: "img",
          position: { left: 20, top: 20 },
          width: 472
        },
        info: {
          type: "text",
          position: { top: 300 }
        }
      };
      const content = {
        image: "images/promo.png",
        info: "The promo image from the course: Learn to create WebXR, VR and AR, experiences using Wonderland Engine"
      };
      this.ui = new CanvasUI(content, config, this.object, this.engine);
      this.ui.update();
      let ui = this.ui;
    }
    inputTextPanel() {
      function onChanged(txt) {
        console.log(`message changed: ${txt}`);
      }
      function onEnter(txt) {
        console.log(`message enter: ${txt}`);
      }
      const config = {
        panelSize: { width: 1, height: 0.25 },
        height: 128,
        message: {
          type: "input-text",
          position: { left: 10, top: 8 },
          height: 56,
          width: 492,
          backgroundColor: "#ccc",
          fontColor: "#000",
          onChanged,
          onEnter
        },
        label: {
          type: "text",
          position: { top: 64 }
        }
      };
      const content = {
        message: "",
        label: "Select the panel above."
      };
      this.ui = new CanvasUI(content, config, this.object, this.engine);
      const target = this.ui.keyboard.object.getComponent("cursor-target");
      target.addHoverFunction(this.onHoverKeyboard.bind(this));
      target.addUnHoverFunction(this.onUnHoverKeyboard.bind(this));
      target.addMoveFunction(this.onMoveKeyboard.bind(this));
      target.addDownFunction(this.onDown.bind(this));
      target.addUpFunction(this.onUpKeyboard.bind(this));
      this.ui.update();
      let ui = this.ui;
    }
    onHover(_, cursor) {
      if (this.ui) {
        const xy = this.ui.worldToCanvas(cursor.cursorPos);
        this.ui.hover(0, xy);
      }
      if (cursor.type == "finger-cursor") {
        this.onDown(_, cursor);
      }
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onMove(_, cursor) {
      if (this.ui) {
        const xy = this.ui.worldToCanvas(cursor.cursorPos);
        this.ui.hover(0, xy);
      }
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onDown(_, cursor) {
      console.log("onDown");
      this.soundClick.play();
      this.hapticFeedback(cursor.object, 1, 20);
    }
    onUp(_, cursor) {
      console.log("onUp");
      this.soundUnClick.play();
      if (this.ui)
        this.ui.select(0, true);
      this.hapticFeedback(cursor.object, 0.7, 20);
    }
    onUnHover(_, cursor) {
      console.log("onUnHover");
      if (this.ui)
        this.ui.hover(0);
      this.hapticFeedback(cursor.object, 0.3, 50);
    }
    onHoverKeyboard(_, cursor) {
      if (!this.ui || !this.ui.keyboard || !this.ui.keyboard.keyboard)
        return;
      const ui = this.ui.keyboard.keyboard;
      const xy = ui.worldToCanvas(cursor.cursorPos);
      ui.hover(0, xy);
      if (cursor.type == "finger-cursor") {
        this.onDown(_, cursor);
      }
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onMoveKeyboard(_, cursor) {
      if (!this.ui || !this.ui.keyboard || !this.ui.keyboard.keyboard)
        return;
      const ui = this.ui.keyboard.keyboard;
      const xy = ui.worldToCanvas(cursor.cursorPos);
      ui.hover(0, xy);
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onUpKeyboard(_, cursor) {
      console.log("onUpKeyboard");
      this.soundUnClick.play();
      if (this.ui && this.ui.keyboard && this.ui.keyboard.keyboard)
        this.ui.keyboard.keyboard.select(0);
      this.hapticFeedback(cursor.object, 0.7, 20);
    }
    onUnHoverKeyboard(_, cursor) {
      console.log("onUnHoverKeyboard");
      if (this.ui && this.ui.keyboard && this.ui.keyboard.keyboard)
        this.ui.keyboard.keyboard.hover(0);
      this.hapticFeedback(cursor.object, 0.3, 50);
    }
    hapticFeedback(object, strength, duration) {
      const input = object.getComponent("input");
      if (input && input.xrInputSource) {
        const gamepad = input.xrInputSource.gamepad;
        if (gamepad && gamepad.hapticActuators)
          gamepad.hapticActuators[0].pulse(strength, duration);
      }
    }
    update(dt) {
      if (state.test() != this.ui.content.header) {
        this.ui.content = { header: state.test() };
        this.ui.needsUpdate = true;
        console.log(this.ui.content);
      }
      if (this.ui)
        this.ui.update();
    }
  };
  __publicField(UIHandler, "TypeName", "uiHandler");
  __publicField(UIHandler, "Properties", {
    panel: Property.enum(["simple", "buttons", "scrolling", "images", "input-text"], "simple")
  });

  // cache/js/_editor_index.js
  _registerEditor(dist_exports);
  _registerEditor(CanvasUI_exports);
  _registerEditor(button_exports);
  _registerEditor(enemy_spawner_exports);
  _registerEditor(game_exports);
  _registerEditor(projectile_physics_exports);
  _registerEditor(projectile_spawner_exports);
  _registerEditor(turret_aimer_exports);
  _registerEditor(turret_spawner_exports);
  _registerEditor(uiHandler_exports);
  _registerEditor(waypoint_movement_exports);
})();
/*! Bundled license information:

howler/dist/howler.js:
  (*!
   *  howler.js v2.2.4
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
  (*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.2.4
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2hvd2xlci9kaXN0L2hvd2xlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvcHJvcGVydHkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L2RlY29yYXRvcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3V0aWxzL29iamVjdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvdXRpbHMvZXZlbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3dvbmRlcmxhbmQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3V0aWxzL2JpdHNldC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvdXRpbHMvbG9nZ2VyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9hcGkvZGlzdC93YXNtLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvOHRod2FsbC1jYW1lcmEuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC91dGlscy93ZWJ4ci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2FuY2hvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2N1cnNvci10YXJnZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vY29tbW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0NC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9xdWF0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vdmVjNC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9xdWF0Mi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2hpdC10ZXN0LWxvY2F0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvY3Vyc29yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvZGVidWctb2JqZWN0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvZGV2aWNlLW9yaWVudGF0aW9uLWxvb2suanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9maW5nZXItY3Vyc29yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvZml4ZWQtZm92ZWF0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaGFuZC10cmFja2luZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2hvd2xlci1hdWRpby1saXN0ZW5lci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2hvd2xlci1hdWRpby1zb3VyY2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC91dGlscy91dGlscy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2ltYWdlLXRleHR1cmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9tb3VzZS1sb29rLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvcGxheWVyLWhlaWdodC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3RhcmdldC1mcmFtZXJhdGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC90ZWxlcG9ydC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3RyYWlsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvdHdvLWpvaW50LWlrLXNvbHZlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3ZpZGVvLXRleHR1cmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC92ci1tb2RlLWFjdGl2ZS1zd2l0Y2guanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9wbGFuZS1kZXRlY3Rpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC92cm0uanMiLCAiLi4vLi4vanMvZ2FtZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3dhc2QtY29udHJvbHMuanMiLCAiLi4vLi4vanMvQ2FudmFzVUkuanMiLCAiLi4vLi4vanMvYnV0dG9uLmpzIiwgIi4uLy4uL2pzL2VuZW15LXNwYXduZXIuanMiLCAiLi4vLi4vanMvd2F5cG9pbnQtbW92ZW1lbnQuanMiLCAiLi4vLi4vanMvcHJvamVjdGlsZS1waHlzaWNzLmpzIiwgIi4uLy4uL2pzL3Byb2plY3RpbGUtc3Bhd25lci5qcyIsICIuLi8uLi9qcy90dXJyZXQtYWltZXIuanMiLCAiLi4vLi4vanMvdHVycmV0LXNwYXduZXIuanMiLCAiLi4vLi4vanMvdWlIYW5kbGVyLmpzIiwgIl9lZGl0b3JfaW5kZXguanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qIVxuICogIGhvd2xlci5qcyB2Mi4yLjRcbiAqICBob3dsZXJqcy5jb21cbiAqXG4gKiAgKGMpIDIwMTMtMjAyMCwgSmFtZXMgU2ltcHNvbiBvZiBHb2xkRmlyZSBTdHVkaW9zXG4gKiAgZ29sZGZpcmVzdHVkaW9zLmNvbVxuICpcbiAqICBNSVQgTGljZW5zZVxuICovXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqIEdsb2JhbCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGdsb2JhbCBjb250cm9sbGVyLiBBbGwgY29udGFpbmVkIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgYXBwbHlcbiAgICogdG8gYWxsIHNvdW5kcyB0aGF0IGFyZSBjdXJyZW50bHkgcGxheWluZyBvciB3aWxsIGJlIGluIHRoZSBmdXR1cmUuXG4gICAqL1xuICB2YXIgSG93bGVyR2xvYmFsID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbml0KCk7XG4gIH07XG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgZ2xvYmFsIEhvd2xlciBvYmplY3QuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gQ3JlYXRlIGEgZ2xvYmFsIElEIGNvdW50ZXIuXG4gICAgICBzZWxmLl9jb3VudGVyID0gMTAwMDtcblxuICAgICAgLy8gUG9vbCBvZiB1bmxvY2tlZCBIVE1MNSBBdWRpbyBvYmplY3RzLlxuICAgICAgc2VsZi5faHRtbDVBdWRpb1Bvb2wgPSBbXTtcbiAgICAgIHNlbGYuaHRtbDVQb29sU2l6ZSA9IDEwO1xuXG4gICAgICAvLyBJbnRlcm5hbCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fY29kZWNzID0ge307XG4gICAgICBzZWxmLl9ob3dscyA9IFtdO1xuICAgICAgc2VsZi5fbXV0ZWQgPSBmYWxzZTtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IDE7XG4gICAgICBzZWxmLl9jYW5QbGF5RXZlbnQgPSAnY2FucGxheXRocm91Z2gnO1xuICAgICAgc2VsZi5fbmF2aWdhdG9yID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5uYXZpZ2F0b3IpID8gd2luZG93Lm5hdmlnYXRvciA6IG51bGw7XG5cbiAgICAgIC8vIFB1YmxpYyBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5tYXN0ZXJHYWluID0gbnVsbDtcbiAgICAgIHNlbGYubm9BdWRpbyA9IGZhbHNlO1xuICAgICAgc2VsZi51c2luZ1dlYkF1ZGlvID0gdHJ1ZTtcbiAgICAgIHNlbGYuYXV0b1N1c3BlbmQgPSB0cnVlO1xuICAgICAgc2VsZi5jdHggPSBudWxsO1xuXG4gICAgICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB0aGUgYXV0byBhdWRpbyB1bmxvY2tlci5cbiAgICAgIHNlbGYuYXV0b1VubG9jayA9IHRydWU7XG5cbiAgICAgIC8vIFNldHVwIHRoZSB2YXJpb3VzIHN0YXRlIHZhbHVlcyBmb3IgZ2xvYmFsIHRyYWNraW5nLlxuICAgICAgc2VsZi5fc2V0dXAoKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIGdsb2JhbCB2b2x1bWUgZm9yIGFsbCBzb3VuZHMuXG4gICAgICogQHBhcmFtICB7RmxvYXR9IHZvbCBWb2x1bWUgZnJvbSAwLjAgdG8gMS4wLlxuICAgICAqIEByZXR1cm4ge0hvd2xlci9GbG9hdH0gICAgIFJldHVybnMgc2VsZiBvciBjdXJyZW50IHZvbHVtZS5cbiAgICAgKi9cbiAgICB2b2x1bWU6IGZ1bmN0aW9uKHZvbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcbiAgICAgIHZvbCA9IHBhcnNlRmxvYXQodm9sKTtcblxuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbiBBdWRpb0NvbnRleHQgY3JlYXRlZCB5ZXQsIHJ1biB0aGUgc2V0dXAuXG4gICAgICBpZiAoIXNlbGYuY3R4KSB7XG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygdm9sICE9PSAndW5kZWZpbmVkJyAmJiB2b2wgPj0gMCAmJiB2b2wgPD0gMSkge1xuICAgICAgICBzZWxmLl92b2x1bWUgPSB2b2w7XG5cbiAgICAgICAgLy8gRG9uJ3QgdXBkYXRlIGFueSBvZiB0aGUgbm9kZXMgaWYgd2UgYXJlIG11dGVkLlxuICAgICAgICBpZiAoc2VsZi5fbXV0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gdXNpbmcgV2ViIEF1ZGlvLCB3ZSBqdXN0IG5lZWQgdG8gYWRqdXN0IHRoZSBtYXN0ZXIgZ2Fpbi5cbiAgICAgICAgaWYgKHNlbGYudXNpbmdXZWJBdWRpbykge1xuICAgICAgICAgIHNlbGYubWFzdGVyR2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKHZvbCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb29wIHRocm91Z2ggYW5kIGNoYW5nZSB2b2x1bWUgZm9yIGFsbCBIVE1MNSBhdWRpbyBub2Rlcy5cbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgIC8vIEdldCBhbGwgb2YgdGhlIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XG5cbiAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBjaGFuZ2UgdGhlIHZvbHVtZXMuXG4gICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcblxuICAgICAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS52b2x1bWUgPSBzb3VuZC5fdm9sdW1lICogdm9sO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmLl92b2x1bWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBtdXRpbmcgYW5kIHVubXV0aW5nIGdsb2JhbGx5LlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IG11dGVkIElzIG11dGVkIG9yIG5vdC5cbiAgICAgKi9cbiAgICBtdXRlOiBmdW5jdGlvbihtdXRlZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbiBBdWRpb0NvbnRleHQgY3JlYXRlZCB5ZXQsIHJ1biB0aGUgc2V0dXAuXG4gICAgICBpZiAoIXNlbGYuY3R4KSB7XG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX211dGVkID0gbXV0ZWQ7XG5cbiAgICAgIC8vIFdpdGggV2ViIEF1ZGlvLCB3ZSBqdXN0IG5lZWQgdG8gbXV0ZSB0aGUgbWFzdGVyIGdhaW4uXG4gICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHNlbGYubWFzdGVyR2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKG11dGVkID8gMCA6IHNlbGYuX3ZvbHVtZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbmQgbXV0ZSBhbGwgSFRNTDUgQXVkaW8gbm9kZXMuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcblxuICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBtYXJrIHRoZSBhdWRpbyBub2RlIGFzIG11dGVkLlxuICAgICAgICAgIGZvciAodmFyIGo9MDsgajxpZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcblxuICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLm11dGVkID0gKG11dGVkKSA/IHRydWUgOiBzb3VuZC5fbXV0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgc3RvcHBpbmcgYWxsIHNvdW5kcyBnbG9iYWxseS5cbiAgICAgKi9cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgSG93bHMgYW5kIHN0b3AgdGhlbS5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzZWxmLl9ob3dsc1tpXS5zdG9wKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVbmxvYWQgYW5kIGRlc3Ryb3kgYWxsIGN1cnJlbnRseSBsb2FkZWQgSG93bCBvYmplY3RzLlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgZm9yICh2YXIgaT1zZWxmLl9ob3dscy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIHNlbGYuX2hvd2xzW2ldLnVubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgQXVkaW9Db250ZXh0IHRvIG1ha2Ugc3VyZSBpdCBpcyBmdWxseSByZXNldC5cbiAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8gJiYgc2VsZi5jdHggJiYgdHlwZW9mIHNlbGYuY3R4LmNsb3NlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWxmLmN0eC5jbG9zZSgpO1xuICAgICAgICBzZWxmLmN0eCA9IG51bGw7XG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBmb3IgY29kZWMgc3VwcG9ydCBvZiBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBleHQgQXVkaW8gZmlsZSBleHRlbnRpb24uXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBjb2RlY3M6IGZ1bmN0aW9uKGV4dCkge1xuICAgICAgcmV0dXJuICh0aGlzIHx8IEhvd2xlcikuX2NvZGVjc1tleHQucmVwbGFjZSgvXngtLywgJycpXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3NldHVwOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBzdXNwZW5kL3Jlc3VtZSBzdGF0ZSBvZiB0aGUgQXVkaW9Db250ZXh0LlxuICAgICAgc2VsZi5zdGF0ZSA9IHNlbGYuY3R4ID8gc2VsZi5jdHguc3RhdGUgfHwgJ3N1c3BlbmRlZCcgOiAnc3VzcGVuZGVkJztcblxuICAgICAgLy8gQXV0b21hdGljYWxseSBiZWdpbiB0aGUgMzAtc2Vjb25kIHN1c3BlbmQgcHJvY2Vzc1xuICAgICAgc2VsZi5fYXV0b1N1c3BlbmQoKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgYXVkaW8gaXMgYXZhaWxhYmxlLlxuICAgICAgaWYgKCFzZWxmLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgLy8gTm8gYXVkaW8gaXMgYXZhaWxhYmxlIG9uIHRoaXMgc3lzdGVtIGlmIG5vQXVkaW8gaXMgc2V0IHRvIHRydWUuXG4gICAgICAgIGlmICh0eXBlb2YgQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciB0ZXN0ID0gbmV3IEF1ZGlvKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBjYW5wbGF5dGhyb3VnaCBldmVudCBpcyBhdmFpbGFibGUuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlc3Qub25jYW5wbGF5dGhyb3VnaCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgc2VsZi5ub0F1ZGlvID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5ub0F1ZGlvID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUZXN0IHRvIG1ha2Ugc3VyZSBhdWRpbyBpc24ndCBkaXNhYmxlZCBpbiBJbnRlcm5ldCBFeHBsb3Jlci5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciB0ZXN0ID0gbmV3IEF1ZGlvKCk7XG4gICAgICAgIGlmICh0ZXN0Lm11dGVkKSB7XG4gICAgICAgICAgc2VsZi5ub0F1ZGlvID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgLy8gQ2hlY2sgZm9yIHN1cHBvcnRlZCBjb2RlY3MuXG4gICAgICBpZiAoIXNlbGYubm9BdWRpbykge1xuICAgICAgICBzZWxmLl9zZXR1cENvZGVjcygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgZm9yIGJyb3dzZXIgc3VwcG9ydCBmb3IgdmFyaW91cyBjb2RlY3MgYW5kIGNhY2hlIHRoZSByZXN1bHRzLlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBfc2V0dXBDb2RlY3M6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcbiAgICAgIHZhciBhdWRpb1Rlc3QgPSBudWxsO1xuXG4gICAgICAvLyBNdXN0IHdyYXAgaW4gYSB0cnkvY2F0Y2ggYmVjYXVzZSBJRTExIGluIHNlcnZlciBtb2RlIHRocm93cyBhbiBlcnJvci5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF1ZGlvVGVzdCA9ICh0eXBlb2YgQXVkaW8gIT09ICd1bmRlZmluZWQnKSA/IG5ldyBBdWRpbygpIDogbnVsbDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFhdWRpb1Rlc3QgfHwgdHlwZW9mIGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgdmFyIG1wZWdUZXN0ID0gYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcGVnOycpLnJlcGxhY2UoL15ubyQvLCAnJyk7XG5cbiAgICAgIC8vIE9wZXJhIHZlcnNpb24gPDMzIGhhcyBtaXhlZCBNUDMgc3VwcG9ydCwgc28gd2UgbmVlZCB0byBjaGVjayBmb3IgYW5kIGJsb2NrIGl0LlxuICAgICAgdmFyIHVhID0gc2VsZi5fbmF2aWdhdG9yID8gc2VsZi5fbmF2aWdhdG9yLnVzZXJBZ2VudCA6ICcnO1xuICAgICAgdmFyIGNoZWNrT3BlcmEgPSB1YS5tYXRjaCgvT1BSXFwvKFxcZCspL2cpO1xuICAgICAgdmFyIGlzT2xkT3BlcmEgPSAoY2hlY2tPcGVyYSAmJiBwYXJzZUludChjaGVja09wZXJhWzBdLnNwbGl0KCcvJylbMV0sIDEwKSA8IDMzKTtcbiAgICAgIHZhciBjaGVja1NhZmFyaSA9IHVhLmluZGV4T2YoJ1NhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTE7XG4gICAgICB2YXIgc2FmYXJpVmVyc2lvbiA9IHVhLm1hdGNoKC9WZXJzaW9uXFwvKC4qPykgLyk7XG4gICAgICB2YXIgaXNPbGRTYWZhcmkgPSAoY2hlY2tTYWZhcmkgJiYgc2FmYXJpVmVyc2lvbiAmJiBwYXJzZUludChzYWZhcmlWZXJzaW9uWzFdLCAxMCkgPCAxNSk7XG5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHtcbiAgICAgICAgbXAzOiAhISghaXNPbGRPcGVyYSAmJiAobXBlZ1Rlc3QgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDM7JykucmVwbGFjZSgvXm5vJC8sICcnKSkpLFxuICAgICAgICBtcGVnOiAhIW1wZWdUZXN0LFxuICAgICAgICBvcHVzOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJvcHVzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBvZ2c6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgb2dhOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdhdjogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93YXY7IGNvZGVjcz1cIjFcIicpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIGFhYzogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBjYWY6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LWNhZjsnKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBtNGE6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1tNGE7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tNGE7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIG00YjogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LW00YjsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL200YjsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgbXA0OiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICB3ZWJhOiAhISghaXNPbGRTYWZhcmkgJiYgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJykpLFxuICAgICAgICB3ZWJtOiAhISghaXNPbGRTYWZhcmkgJiYgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJykpLFxuICAgICAgICBkb2xieTogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wNDsgY29kZWNzPVwiZWMtM1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgZmxhYzogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LWZsYWM7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9mbGFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU29tZSBicm93c2Vycy9kZXZpY2VzIHdpbGwgb25seSBhbGxvdyBhdWRpbyB0byBiZSBwbGF5ZWQgYWZ0ZXIgYSB1c2VyIGludGVyYWN0aW9uLlxuICAgICAqIEF0dGVtcHQgdG8gYXV0b21hdGljYWxseSB1bmxvY2sgYXVkaW8gb24gdGhlIGZpcnN0IHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICogQ29uY2VwdCBmcm9tOiBodHRwOi8vcGF1bGJha2F1cy5jb20vdHV0b3JpYWxzL2h0bWw1L3dlYi1hdWRpby1vbi1pb3MvXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF91bmxvY2tBdWRpbzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBPbmx5IHJ1biB0aGlzIGlmIFdlYiBBdWRpbyBpcyBzdXBwb3J0ZWQgYW5kIGl0IGhhc24ndCBhbHJlYWR5IGJlZW4gdW5sb2NrZWQuXG4gICAgICBpZiAoc2VsZi5fYXVkaW9VbmxvY2tlZCB8fCAhc2VsZi5jdHgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9hdWRpb1VubG9ja2VkID0gZmFsc2U7XG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSBmYWxzZTtcblxuICAgICAgLy8gU29tZSBtb2JpbGUgZGV2aWNlcy9wbGF0Zm9ybXMgaGF2ZSBkaXN0b3J0aW9uIGlzc3VlcyB3aGVuIG9wZW5pbmcvY2xvc2luZyB0YWJzIGFuZC9vciB3ZWIgdmlld3MuXG4gICAgICAvLyBCdWdzIGluIHRoZSBicm93c2VyIChlc3BlY2lhbGx5IE1vYmlsZSBTYWZhcmkpIGNhbiBjYXVzZSB0aGUgc2FtcGxlUmF0ZSB0byBjaGFuZ2UgZnJvbSA0NDEwMCB0byA0ODAwMC5cbiAgICAgIC8vIEJ5IGNhbGxpbmcgSG93bGVyLnVubG9hZCgpLCB3ZSBjcmVhdGUgYSBuZXcgQXVkaW9Db250ZXh0IHdpdGggdGhlIGNvcnJlY3Qgc2FtcGxlUmF0ZS5cbiAgICAgIGlmICghc2VsZi5fbW9iaWxlVW5sb2FkZWQgJiYgc2VsZi5jdHguc2FtcGxlUmF0ZSAhPT0gNDQxMDApIHtcbiAgICAgICAgc2VsZi5fbW9iaWxlVW5sb2FkZWQgPSB0cnVlO1xuICAgICAgICBzZWxmLnVubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTY3JhdGNoIGJ1ZmZlciBmb3IgZW5hYmxpbmcgaU9TIHRvIGRpc3Bvc2Ugb2Ygd2ViIGF1ZGlvIGJ1ZmZlcnMgY29ycmVjdGx5LCBhcyBwZXI6XG4gICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI0MTE5Njg0XG4gICAgICBzZWxmLl9zY3JhdGNoQnVmZmVyID0gc2VsZi5jdHguY3JlYXRlQnVmZmVyKDEsIDEsIDIyMDUwKTtcblxuICAgICAgLy8gQ2FsbCB0aGlzIG1ldGhvZCBvbiB0b3VjaCBzdGFydCB0byBjcmVhdGUgYW5kIHBsYXkgYSBidWZmZXIsXG4gICAgICAvLyB0aGVuIGNoZWNrIGlmIHRoZSBhdWRpbyBhY3R1YWxseSBwbGF5ZWQgdG8gZGV0ZXJtaW5lIGlmXG4gICAgICAvLyBhdWRpbyBoYXMgbm93IGJlZW4gdW5sb2NrZWQgb24gaU9TLCBBbmRyb2lkLCBldGMuXG4gICAgICB2YXIgdW5sb2NrID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAvLyBDcmVhdGUgYSBwb29sIG9mIHVubG9ja2VkIEhUTUw1IEF1ZGlvIG9iamVjdHMgdGhhdCBjYW5cbiAgICAgICAgLy8gYmUgdXNlZCBmb3IgcGxheWluZyBzb3VuZHMgd2l0aG91dCB1c2VyIGludGVyYWN0aW9uLiBIVE1MNVxuICAgICAgICAvLyBBdWRpbyBvYmplY3RzIG11c3QgYmUgaW5kaXZpZHVhbGx5IHVubG9ja2VkLCBhcyBvcHBvc2VkXG4gICAgICAgIC8vIHRvIHRoZSBXZWJBdWRpbyBBUEkgd2hpY2ggb25seSBuZWVkcyBhIHNpbmdsZSBhY3RpdmF0aW9uLlxuICAgICAgICAvLyBUaGlzIG11c3Qgb2NjdXIgYmVmb3JlIFdlYkF1ZGlvIHNldHVwIG9yIHRoZSBzb3VyY2Uub25lbmRlZFxuICAgICAgICAvLyBldmVudCB3aWxsIG5vdCBmaXJlLlxuICAgICAgICB3aGlsZSAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoIDwgc2VsZi5odG1sNVBvb2xTaXplKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBhdWRpb05vZGUgPSBuZXcgQXVkaW8oKTtcblxuICAgICAgICAgICAgLy8gTWFyayB0aGlzIEF1ZGlvIG9iamVjdCBhcyB1bmxvY2tlZCB0byBlbnN1cmUgaXQgY2FuIGdldCByZXR1cm5lZFxuICAgICAgICAgICAgLy8gdG8gdGhlIHVubG9ja2VkIHBvb2wgd2hlbiByZWxlYXNlZC5cbiAgICAgICAgICAgIGF1ZGlvTm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBBZGQgdGhlIGF1ZGlvIG5vZGUgdG8gdGhlIHBvb2wuXG4gICAgICAgICAgICBzZWxmLl9yZWxlYXNlSHRtbDVBdWRpbyhhdWRpb05vZGUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb29wIHRocm91Z2ggYW55IGFzc2lnbmVkIGF1ZGlvIG5vZGVzIGFuZCB1bmxvY2sgdGhlbS5cbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgIC8vIEdldCBhbGwgb2YgdGhlIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XG5cbiAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCB1bmxvY2sgdGhlIGF1ZGlvIG5vZGVzLlxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbm9kZS5fdW5sb2NrZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmxvYWQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpeCBBbmRyb2lkIGNhbiBub3QgcGxheSBpbiBzdXNwZW5kIHN0YXRlLlxuICAgICAgICBzZWxmLl9hdXRvUmVzdW1lKCk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFuIGVtcHR5IGJ1ZmZlci5cbiAgICAgICAgdmFyIHNvdXJjZSA9IHNlbGYuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICBzb3VyY2UuYnVmZmVyID0gc2VsZi5fc2NyYXRjaEJ1ZmZlcjtcbiAgICAgICAgc291cmNlLmNvbm5lY3Qoc2VsZi5jdHguZGVzdGluYXRpb24pO1xuXG4gICAgICAgIC8vIFBsYXkgdGhlIGVtcHR5IGJ1ZmZlci5cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc291cmNlLm5vdGVPbigwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxsaW5nIHJlc3VtZSgpIG9uIGEgc3RhY2sgaW5pdGlhdGVkIGJ5IHVzZXIgZ2VzdHVyZSBpcyB3aGF0IGFjdHVhbGx5IHVubG9ja3MgdGhlIGF1ZGlvIG9uIEFuZHJvaWQgQ2hyb21lID49IDU1LlxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuY3R4LnJlc3VtZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHNlbGYuY3R4LnJlc3VtZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0dXAgYSB0aW1lb3V0IHRvIGNoZWNrIHRoYXQgd2UgYXJlIHVubG9ja2VkIG9uIHRoZSBuZXh0IGV2ZW50IGxvb3AuXG4gICAgICAgIHNvdXJjZS5vbmVuZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc291cmNlLmRpc2Nvbm5lY3QoMCk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHVubG9ja2VkIHN0YXRlIGFuZCBwcmV2ZW50IHRoaXMgY2hlY2sgZnJvbSBoYXBwZW5pbmcgYWdhaW4uXG4gICAgICAgICAgc2VsZi5fYXVkaW9VbmxvY2tlZCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgdGhlIHRvdWNoIHN0YXJ0IGxpc3RlbmVyLlxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdW5sb2NrLCB0cnVlKTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHVubG9jaywgdHJ1ZSk7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHVubG9jaywgdHJ1ZSk7XG5cbiAgICAgICAgICAvLyBMZXQgYWxsIHNvdW5kcyBrbm93IHRoYXQgYXVkaW8gaGFzIGJlZW4gdW5sb2NrZWQuXG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzZWxmLl9ob3dsc1tpXS5fZW1pdCgndW5sb2NrJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgLy8gU2V0dXAgYSB0b3VjaCBzdGFydCBsaXN0ZW5lciB0byBhdHRlbXB0IGFuIHVubG9jayBpbi5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1bmxvY2ssIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHVubG9jaywgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0IGZyb20gdGhlIHBvb2wuIElmIG5vbmUgYXJlIGxlZnQsXG4gICAgICogcmV0dXJuIGEgbmV3IEF1ZGlvIG9iamVjdCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAqIEByZXR1cm4ge0F1ZGlvfSBIVE1MNSBBdWRpbyBvYmplY3QuXG4gICAgICovXG4gICAgX29idGFpbkh0bWw1QXVkaW86IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBuZXh0IG9iamVjdCBmcm9tIHRoZSBwb29sIGlmIG9uZSBleGlzdHMuXG4gICAgICBpZiAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgLy8uQ2hlY2sgaWYgdGhlIGF1ZGlvIGlzIGxvY2tlZCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAgdmFyIHRlc3RQbGF5ID0gbmV3IEF1ZGlvKCkucGxheSgpO1xuICAgICAgaWYgKHRlc3RQbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAodGVzdFBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiB0ZXN0UGxheS50aGVuID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0ZXN0UGxheS5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0hUTUw1IEF1ZGlvIHBvb2wgZXhoYXVzdGVkLCByZXR1cm5pbmcgcG90ZW50aWFsbHkgbG9ja2VkIGF1ZGlvIG9iamVjdC4nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQXVkaW8oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGFjdGl2YXRlZCBIVE1MNSBBdWRpbyBvYmplY3QgdG8gdGhlIHBvb2wuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9yZWxlYXNlSHRtbDVBdWRpbzogZnVuY3Rpb24oYXVkaW8pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIERvbid0IGFkZCBhdWRpbyB0byB0aGUgcG9vbCBpZiB3ZSBkb24ndCBrbm93IGlmIGl0IGhhcyBiZWVuIHVubG9ja2VkLlxuICAgICAgaWYgKGF1ZGlvLl91bmxvY2tlZCkge1xuICAgICAgICBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wdXNoKGF1ZGlvKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgc3VzcGVuZCB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCBhZnRlciBubyBzb3VuZCBoYXMgcGxheWVkIGZvciAzMCBzZWNvbmRzLlxuICAgICAqIFRoaXMgc2F2ZXMgcHJvY2Vzc2luZy9lbmVyZ3kgYW5kIGZpeGVzIHZhcmlvdXMgYnJvd3Nlci1zcGVjaWZpYyBidWdzIHdpdGggYXVkaW8gZ2V0dGluZyBzdHVjay5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9TdXNwZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKCFzZWxmLmF1dG9TdXNwZW5kIHx8ICFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHguc3VzcGVuZCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHNvdW5kcyBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlbGYuX2hvd2xzW2ldLl9zb3VuZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3NvdW5kc1tqXS5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBzb3VuZCBoYXMgcGxheWVkIGFmdGVyIDMwIHNlY29uZHMsIHN1c3BlbmQgdGhlIGNvbnRleHQuXG4gICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNlbGYuYXV0b1N1c3BlbmQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRpbmcnO1xuXG4gICAgICAgIC8vIEhhbmRsZSB1cGRhdGluZyB0aGUgc3RhdGUgb2YgdGhlIGF1ZGlvIGNvbnRleHQgYWZ0ZXIgc3VzcGVuZGluZy5cbiAgICAgICAgdmFyIGhhbmRsZVN1c3BlbnNpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRlZCc7XG5cbiAgICAgICAgICBpZiAoc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kKSB7XG4gICAgICAgICAgICBkZWxldGUgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kO1xuICAgICAgICAgICAgc2VsZi5fYXV0b1Jlc3VtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBFaXRoZXIgdGhlIHN0YXRlIGdldHMgc3VzcGVuZGVkIG9yIGl0IGlzIGludGVycnVwdGVkLlxuICAgICAgICAvLyBFaXRoZXIgd2F5LCB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgc3RhdGUgdG8gc3VzcGVuZGVkLlxuICAgICAgICBzZWxmLmN0eC5zdXNwZW5kKCkudGhlbihoYW5kbGVTdXNwZW5zaW9uLCBoYW5kbGVTdXNwZW5zaW9uKTtcbiAgICAgIH0sIDMwMDAwKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgcmVzdW1lIHRoZSBXZWIgQXVkaW8gQXVkaW9Db250ZXh0IHdoZW4gYSBuZXcgc291bmQgaXMgcGxheWVkLlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBfYXV0b1Jlc3VtZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmICghc2VsZi5jdHggfHwgdHlwZW9mIHNlbGYuY3R4LnJlc3VtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlbGYuc3RhdGUgPT09ICdydW5uaW5nJyAmJiBzZWxmLmN0eC5zdGF0ZSAhPT0gJ2ludGVycnVwdGVkJyAmJiBzZWxmLl9zdXNwZW5kVGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3N1c3BlbmRUaW1lcik7XG4gICAgICAgIHNlbGYuX3N1c3BlbmRUaW1lciA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kZWQnIHx8IHNlbGYuc3RhdGUgPT09ICdydW5uaW5nJyAmJiBzZWxmLmN0eC5zdGF0ZSA9PT0gJ2ludGVycnVwdGVkJykge1xuICAgICAgICBzZWxmLmN0eC5yZXN1bWUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuc3RhdGUgPSAncnVubmluZyc7XG5cbiAgICAgICAgICAvLyBFbWl0IHRvIGFsbCBIb3dscyB0aGF0IHRoZSBhdWRpbyBoYXMgcmVzdW1lZC5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZWxmLl9zdXNwZW5kVGltZXIpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fc3VzcGVuZFRpbWVyKTtcbiAgICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kaW5nJykge1xuICAgICAgICBzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2V0dXAgdGhlIGdsb2JhbCBhdWRpbyBjb250cm9sbGVyLlxuICB2YXIgSG93bGVyID0gbmV3IEhvd2xlckdsb2JhbCgpO1xuXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gYXVkaW8gZ3JvdXAgY29udHJvbGxlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG8gUGFzc2VkIGluIHByb3BlcnRpZXMgZm9yIHRoaXMgZ3JvdXAuXG4gICAqL1xuICB2YXIgSG93bCA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBubyBzb3VyY2UgaXMgcHJvdmlkZWQuXG4gICAgaWYgKCFvLnNyYyB8fCBvLnNyYy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGFycmF5IG9mIHNvdXJjZSBmaWxlcyBtdXN0IGJlIHBhc3NlZCB3aXRoIGFueSBuZXcgSG93bC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLmluaXQobyk7XG4gIH07XG4gIEhvd2wucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgSG93bCBncm91cCBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24obykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cbiAgICAgIGlmICghSG93bGVyLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fYXV0b3BsYXkgPSBvLmF1dG9wbGF5IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fZm9ybWF0ID0gKHR5cGVvZiBvLmZvcm1hdCAhPT0gJ3N0cmluZycpID8gby5mb3JtYXQgOiBbby5mb3JtYXRdO1xuICAgICAgc2VsZi5faHRtbDUgPSBvLmh0bWw1IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fbXV0ZWQgPSBvLm11dGUgfHwgZmFsc2U7XG4gICAgICBzZWxmLl9sb29wID0gby5sb29wIHx8IGZhbHNlO1xuICAgICAgc2VsZi5fcG9vbCA9IG8ucG9vbCB8fCA1O1xuICAgICAgc2VsZi5fcHJlbG9hZCA9ICh0eXBlb2Ygby5wcmVsb2FkID09PSAnYm9vbGVhbicgfHwgby5wcmVsb2FkID09PSAnbWV0YWRhdGEnKSA/IG8ucHJlbG9hZCA6IHRydWU7XG4gICAgICBzZWxmLl9yYXRlID0gby5yYXRlIHx8IDE7XG4gICAgICBzZWxmLl9zcHJpdGUgPSBvLnNwcml0ZSB8fCB7fTtcbiAgICAgIHNlbGYuX3NyYyA9ICh0eXBlb2Ygby5zcmMgIT09ICdzdHJpbmcnKSA/IG8uc3JjIDogW28uc3JjXTtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IG8udm9sdW1lICE9PSB1bmRlZmluZWQgPyBvLnZvbHVtZSA6IDE7XG4gICAgICBzZWxmLl94aHIgPSB7XG4gICAgICAgIG1ldGhvZDogby54aHIgJiYgby54aHIubWV0aG9kID8gby54aHIubWV0aG9kIDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IG8ueGhyICYmIG8ueGhyLmhlYWRlcnMgPyBvLnhoci5oZWFkZXJzIDogbnVsbCxcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBvLnhociAmJiBvLnhoci53aXRoQ3JlZGVudGlhbHMgPyBvLnhoci53aXRoQ3JlZGVudGlhbHMgOiBmYWxzZSxcbiAgICAgIH07XG5cbiAgICAgIC8vIFNldHVwIGFsbCBvdGhlciBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IDA7XG4gICAgICBzZWxmLl9zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgICBzZWxmLl9zb3VuZHMgPSBbXTtcbiAgICAgIHNlbGYuX2VuZFRpbWVycyA9IHt9O1xuICAgICAgc2VsZi5fcXVldWUgPSBbXTtcbiAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG5cbiAgICAgIC8vIFNldHVwIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgIHNlbGYuX29uZW5kID0gby5vbmVuZCA/IFt7Zm46IG8ub25lbmR9XSA6IFtdO1xuICAgICAgc2VsZi5fb25mYWRlID0gby5vbmZhZGUgPyBbe2ZuOiBvLm9uZmFkZX1dIDogW107XG4gICAgICBzZWxmLl9vbmxvYWQgPSBvLm9ubG9hZCA/IFt7Zm46IG8ub25sb2FkfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ubG9hZGVycm9yID0gby5vbmxvYWRlcnJvciA/IFt7Zm46IG8ub25sb2FkZXJyb3J9XSA6IFtdO1xuICAgICAgc2VsZi5fb25wbGF5ZXJyb3IgPSBvLm9ucGxheWVycm9yID8gW3tmbjogby5vbnBsYXllcnJvcn1dIDogW107XG4gICAgICBzZWxmLl9vbnBhdXNlID0gby5vbnBhdXNlID8gW3tmbjogby5vbnBhdXNlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucGxheSA9IG8ub25wbGF5ID8gW3tmbjogby5vbnBsYXl9XSA6IFtdO1xuICAgICAgc2VsZi5fb25zdG9wID0gby5vbnN0b3AgPyBbe2ZuOiBvLm9uc3RvcH1dIDogW107XG4gICAgICBzZWxmLl9vbm11dGUgPSBvLm9ubXV0ZSA/IFt7Zm46IG8ub25tdXRlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29udm9sdW1lID0gby5vbnZvbHVtZSA/IFt7Zm46IG8ub252b2x1bWV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25yYXRlID0gby5vbnJhdGUgPyBbe2ZuOiBvLm9ucmF0ZX1dIDogW107XG4gICAgICBzZWxmLl9vbnNlZWsgPSBvLm9uc2VlayA/IFt7Zm46IG8ub25zZWVrfV0gOiBbXTtcbiAgICAgIHNlbGYuX29udW5sb2NrID0gby5vbnVubG9jayA/IFt7Zm46IG8ub251bmxvY2t9XSA6IFtdO1xuICAgICAgc2VsZi5fb25yZXN1bWUgPSBbXTtcblxuICAgICAgLy8gV2ViIEF1ZGlvIG9yIEhUTUw1IEF1ZGlvP1xuICAgICAgc2VsZi5fd2ViQXVkaW8gPSBIb3dsZXIudXNpbmdXZWJBdWRpbyAmJiAhc2VsZi5faHRtbDU7XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgdHJ5IHRvIGVuYWJsZSBhdWRpby5cbiAgICAgIGlmICh0eXBlb2YgSG93bGVyLmN0eCAhPT0gJ3VuZGVmaW5lZCcgJiYgSG93bGVyLmN0eCAmJiBIb3dsZXIuYXV0b1VubG9jaykge1xuICAgICAgICBIb3dsZXIuX3VubG9ja0F1ZGlvKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhpcyBIb3dsIGdyb3VwIGluIHRoZSBnbG9iYWwgY29udHJvbGxlci5cbiAgICAgIEhvd2xlci5faG93bHMucHVzaChzZWxmKTtcblxuICAgICAgLy8gSWYgdGhleSBzZWxlY3RlZCBhdXRvcGxheSwgYWRkIGEgcGxheSBldmVudCB0byB0aGUgbG9hZCBxdWV1ZS5cbiAgICAgIGlmIChzZWxmLl9hdXRvcGxheSkge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3BsYXknLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnBsYXkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBMb2FkIHRoZSBzb3VyY2UgZmlsZSB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAgICAgIGlmIChzZWxmLl9wcmVsb2FkICYmIHNlbGYuX3ByZWxvYWQgIT09ICdub25lJykge1xuICAgICAgICBzZWxmLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGF1ZGlvIGZpbGUuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHVybCA9IG51bGw7XG5cbiAgICAgIC8vIElmIG5vIGF1ZGlvIGlzIGF2YWlsYWJsZSwgcXVpdCBpbW1lZGlhdGVseS5cbiAgICAgIGlmIChIb3dsZXIubm9BdWRpbykge1xuICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm8gYXVkaW8gc3VwcG9ydC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgb3VyIHNvdXJjZSBpcyBpbiBhbiBhcnJheS5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5fc3JjID09PSAnc3RyaW5nJykge1xuICAgICAgICBzZWxmLl9zcmMgPSBbc2VsZi5fc3JjXTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBzb3VyY2VzIGFuZCBwaWNrIHRoZSBmaXJzdCBvbmUgdGhhdCBpcyBjb21wYXRpYmxlLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NyYy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXh0LCBzdHI7XG5cbiAgICAgICAgaWYgKHNlbGYuX2Zvcm1hdCAmJiBzZWxmLl9mb3JtYXRbaV0pIHtcbiAgICAgICAgICAvLyBJZiBhbiBleHRlbnNpb24gd2FzIHNwZWNpZmllZCwgdXNlIHRoYXQgaW5zdGVhZC5cbiAgICAgICAgICBleHQgPSBzZWxmLl9mb3JtYXRbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcuXG4gICAgICAgICAgc3RyID0gc2VsZi5fc3JjW2ldO1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vbi1zdHJpbmcgZm91bmQgaW4gc2VsZWN0ZWQgYXVkaW8gc291cmNlcyAtIGlnbm9yaW5nLicpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRXh0cmFjdCB0aGUgZmlsZSBleHRlbnNpb24gZnJvbSB0aGUgVVJMIG9yIGJhc2U2NCBkYXRhIFVSSS5cbiAgICAgICAgICBleHQgPSAvXmRhdGE6YXVkaW9cXC8oW147LF0rKTsvaS5leGVjKHN0cik7XG4gICAgICAgICAgaWYgKCFleHQpIHtcbiAgICAgICAgICAgIGV4dCA9IC9cXC4oW14uXSspJC8uZXhlYyhzdHIuc3BsaXQoJz8nLCAxKVswXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGV4dCkge1xuICAgICAgICAgICAgZXh0ID0gZXh0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9nIGEgd2FybmluZyBpZiBubyBleHRlbnNpb24gd2FzIGZvdW5kLlxuICAgICAgICBpZiAoIWV4dCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZmlsZSBleHRlbnNpb24gd2FzIGZvdW5kLiBDb25zaWRlciB1c2luZyB0aGUgXCJmb3JtYXRcIiBwcm9wZXJ0eSBvciBzcGVjaWZ5IGFuIGV4dGVuc2lvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgZXh0ZW5zaW9uIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKGV4dCAmJiBIb3dsZXIuY29kZWNzKGV4dCkpIHtcbiAgICAgICAgICB1cmwgPSBzZWxmLl9zcmNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vIGNvZGVjIHN1cHBvcnQgZm9yIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fc3JjID0gdXJsO1xuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XG5cbiAgICAgIC8vIElmIHRoZSBob3N0aW5nIHBhZ2UgaXMgSFRUUFMgYW5kIHRoZSBzb3VyY2UgaXNuJ3QsXG4gICAgICAvLyBkcm9wIGRvd24gdG8gSFRNTDUgQXVkaW8gdG8gYXZvaWQgTWl4ZWQgQ29udGVudCBlcnJvcnMuXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyAmJiB1cmwuc2xpY2UoMCwgNSkgPT09ICdodHRwOicpIHtcbiAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xuICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgc291bmQgb2JqZWN0IGFuZCBhZGQgaXQgdG8gdGhlIHBvb2wuXG4gICAgICBuZXcgU291bmQoc2VsZik7XG5cbiAgICAgIC8vIExvYWQgYW5kIGRlY29kZSB0aGUgYXVkaW8gZGF0YSBmb3IgcGxheWJhY2suXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgbG9hZEJ1ZmZlcihzZWxmKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBsYXkgYSBzb3VuZCBvciByZXN1bWUgcHJldmlvdXMgcGxheWJhY2suXG4gICAgICogQHBhcmFtICB7U3RyaW5nL051bWJlcn0gc3ByaXRlICAgU3ByaXRlIG5hbWUgZm9yIHNwcml0ZSBwbGF5YmFjayBvciBzb3VuZCBpZCB0byBjb250aW51ZSBwcmV2aW91cy5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpbnRlcm5hbCBJbnRlcm5hbCBVc2U6IHRydWUgcHJldmVudHMgZXZlbnQgZmlyaW5nLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gICAgICAgICAgU291bmQgSUQuXG4gICAgICovXG4gICAgcGxheTogZnVuY3Rpb24oc3ByaXRlLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGlkID0gbnVsbDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIGlmIGEgc3ByaXRlLCBzb3VuZCBpZCBvciBub3RoaW5nIHdhcyBwYXNzZWRcbiAgICAgIGlmICh0eXBlb2Ygc3ByaXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZCA9IHNwcml0ZTtcbiAgICAgICAgc3ByaXRlID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3N0cmluZycgJiYgc2VsZi5fc3RhdGUgPT09ICdsb2FkZWQnICYmICFzZWxmLl9zcHJpdGVbc3ByaXRlXSkge1xuICAgICAgICAvLyBJZiB0aGUgcGFzc2VkIHNwcml0ZSBkb2Vzbid0IGV4aXN0LCBkbyBub3RoaW5nLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0IHNvdW5kIHNwcml0ZSAocGxheXMgdGhlIGZ1bGwgYXVkaW8gbGVuZ3RoKS5cbiAgICAgICAgc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBzaW5nbGUgcGF1c2VkIHNvdW5kIHRoYXQgaXNuJ3QgZW5kZWQuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzLCBwbGF5IHRoYXQgc291bmQuIElmIG5vdCwgY29udGludWUgYXMgdXN1YWwuXG4gICAgICAgIGlmICghc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICB2YXIgbnVtID0gMDtcbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9wYXVzZWQgJiYgIXNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICAgICAgbnVtKys7XG4gICAgICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzW2ldLl9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobnVtID09PSAxKSB7XG4gICAgICAgICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgc2VsZWN0ZWQgbm9kZSwgb3IgZ2V0IG9uZSBmcm9tIHRoZSBwb29sLlxuICAgICAgdmFyIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5faW5hY3RpdmVTb3VuZCgpO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgZG9lc24ndCBleGlzdCwgZG8gbm90aGluZy5cbiAgICAgIGlmICghc291bmQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlbGVjdCB0aGUgc3ByaXRlIGRlZmluaXRpb24uXG4gICAgICBpZiAoaWQgJiYgIXNwcml0ZSkge1xuICAgICAgICBzcHJpdGUgPSBzb3VuZC5fc3ByaXRlIHx8ICdfX2RlZmF1bHQnO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgd2UgbXVzdCB3YWl0IHRvIGdldCB0aGUgYXVkaW8ncyBkdXJhdGlvbi5cbiAgICAgIC8vIFdlIGFsc28gbmVlZCB0byB3YWl0IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBydW4gaW50byByYWNlIGNvbmRpdGlvbnMgd2l0aFxuICAgICAgLy8gdGhlIG9yZGVyIG9mIGZ1bmN0aW9uIGNhbGxzLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICAvLyBTZXQgdGhlIHNwcml0ZSB2YWx1ZSBvbiB0aGlzIHNvdW5kLlxuICAgICAgICBzb3VuZC5fc3ByaXRlID0gc3ByaXRlO1xuXG4gICAgICAgIC8vIE1hcmsgdGhpcyBzb3VuZCBhcyBub3QgZW5kZWQgaW4gY2FzZSBhbm90aGVyIHNvdW5kIGlzIHBsYXllZCBiZWZvcmUgdGhpcyBvbmUgbG9hZHMuXG4gICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgc291bmQgdG8gdGhlIHF1ZXVlIHRvIGJlIHBsYXllZCBvbiBsb2FkLlxuICAgICAgICB2YXIgc291bmRJZCA9IHNvdW5kLl9pZDtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wbGF5KHNvdW5kSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNvdW5kSWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IHBsYXkgdGhlIHNvdW5kIGlmIGFuIGlkIHdhcyBwYXNzZWQgYW5kIGl0IGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgIGlmIChpZCAmJiAhc291bmQuX3BhdXNlZCkge1xuICAgICAgICAvLyBUcmlnZ2VyIHRoZSBwbGF5IGV2ZW50LCBpbiBvcmRlciB0byBrZWVwIGl0ZXJhdGluZyB0aHJvdWdoIHF1ZXVlLlxuICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCdwbGF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291bmQuX2lkO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIEF1ZGlvQ29udGV4dCBpc24ndCBzdXNwZW5kZWQsIGFuZCByZXN1bWUgaXQgaWYgaXQgaXMuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgSG93bGVyLl9hdXRvUmVzdW1lKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERldGVybWluZSBob3cgbG9uZyB0byBwbGF5IGZvciBhbmQgd2hlcmUgdG8gc3RhcnQgcGxheWluZy5cbiAgICAgIHZhciBzZWVrID0gTWF0aC5tYXgoMCwgc291bmQuX3NlZWsgPiAwID8gc291bmQuX3NlZWsgOiBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDApO1xuICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5tYXgoMCwgKChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDApIC0gc2Vlayk7XG4gICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuICAgICAgdmFyIHN0YXJ0ID0gc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gLyAxMDAwO1xuICAgICAgdmFyIHN0b3AgPSAoc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc3ByaXRlXVsxXSkgLyAxMDAwO1xuICAgICAgc291bmQuX3Nwcml0ZSA9IHNwcml0ZTtcblxuICAgICAgLy8gTWFyayB0aGUgc291bmQgYXMgZW5kZWQgaW5zdGFudGx5IHNvIHRoYXQgdGhpcyBhc3luYyBwbGF5YmFja1xuICAgICAgLy8gZG9lc24ndCBnZXQgZ3JhYmJlZCBieSBhbm90aGVyIGNhbGwgdG8gcGxheSB3aGlsZSB0aGlzIG9uZSB3YWl0cyB0byBzdGFydC5cbiAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHBhcmFtZXRlcnMgb2YgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNldFBhcmFtcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzb3VuZC5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHNvdW5kLl9zZWVrID0gc2VlaztcbiAgICAgICAgc291bmQuX3N0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHNvdW5kLl9zdG9wID0gc3RvcDtcbiAgICAgICAgc291bmQuX2xvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBFbmQgdGhlIHNvdW5kIGluc3RhbnRseSBpZiBzZWVrIGlzIGF0IHRoZSBlbmQuXG4gICAgICBpZiAoc2VlayA+PSBzdG9wKSB7XG4gICAgICAgIHNlbGYuX2VuZGVkKHNvdW5kKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBCZWdpbiB0aGUgYWN0dWFsIHBsYXliYWNrLlxuICAgICAgdmFyIG5vZGUgPSBzb3VuZC5fbm9kZTtcbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBXZWIgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5V2ViQXVkaW8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgIHNlbGYuX3JlZnJlc2hCdWZmZXIoc291bmQpO1xuXG4gICAgICAgICAgLy8gU2V0dXAgdGhlIHBsYXliYWNrIHBhcmFtcy5cbiAgICAgICAgICB2YXIgdm9sID0gKHNvdW5kLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCkgPyAwIDogc291bmQuX3ZvbHVtZTtcbiAgICAgICAgICBub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICAgIC8vIFBsYXkgdGhlIHNvdW5kIHVzaW5nIHRoZSBzdXBwb3J0ZWQgbWV0aG9kLlxuICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5idWZmZXJTb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzb3VuZC5fbG9vcCA/IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIDg2NDAwKSA6IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIGR1cmF0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc291bmQuX2xvb3AgPyBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCA4NjQwMCkgOiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCBkdXJhdGlvbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3RhcnQgYSBuZXcgdGltZXIgaWYgbm9uZSBpcyBwcmVzZW50LlxuICAgICAgICAgIGlmICh0aW1lb3V0ICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKEhvd2xlci5zdGF0ZSA9PT0gJ3J1bm5pbmcnICYmIEhvd2xlci5jdHguc3RhdGUgIT09ICdpbnRlcnJ1cHRlZCcpIHtcbiAgICAgICAgICBwbGF5V2ViQXVkaW8oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XG5cbiAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgYXVkaW8gY29udGV4dCB0byByZXN1bWUgYmVmb3JlIHBsYXlpbmcuXG4gICAgICAgICAgc2VsZi5vbmNlKCdyZXN1bWUnLCBwbGF5V2ViQXVkaW8pO1xuXG4gICAgICAgICAgLy8gQ2FuY2VsIHRoZSBlbmQgdGltZXIuXG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBIVE1MNSBBdWRpbyBwbGF5YmFjay5cbiAgICAgICAgdmFyIHBsYXlIdG1sNSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xuICAgICAgICAgIG5vZGUubXV0ZWQgPSBzb3VuZC5fbXV0ZWQgfHwgc2VsZi5fbXV0ZWQgfHwgSG93bGVyLl9tdXRlZCB8fCBub2RlLm11dGVkO1xuICAgICAgICAgIG5vZGUudm9sdW1lID0gc291bmQuX3ZvbHVtZSAqIEhvd2xlci52b2x1bWUoKTtcbiAgICAgICAgICBub2RlLnBsYXliYWNrUmF0ZSA9IHNvdW5kLl9yYXRlO1xuXG4gICAgICAgICAgLy8gU29tZSBicm93c2VycyB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoaXMgaXMgY2FsbGVkIHdpdGhvdXQgdXNlciBpbnRlcmFjdGlvbi5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHBsYXkgPSBub2RlLnBsYXkoKTtcblxuICAgICAgICAgICAgLy8gU3VwcG9ydCBvbGRlciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgcHJvbWlzZXMsIGFuZCB0aHVzIGRvbid0IGhhdmUgdGhpcyBpc3N1ZS5cbiAgICAgICAgICAgIGlmIChwbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAocGxheSBpbnN0YW5jZW9mIFByb21pc2UgfHwgdHlwZW9mIHBsYXkudGhlbiA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICAgICAgLy8gSW1wbGVtZW50cyBhIGxvY2sgdG8gcHJldmVudCBET01FeGNlcHRpb246IFRoZSBwbGF5KCkgcmVxdWVzdCB3YXMgaW50ZXJydXB0ZWQgYnkgYSBjYWxsIHRvIHBhdXNlKCkuXG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAvLyBTZXQgcGFyYW0gdmFsdWVzIGltbWVkaWF0ZWx5LlxuICAgICAgICAgICAgICBzZXRQYXJhbXMoKTtcblxuICAgICAgICAgICAgICAvLyBSZWxlYXNlcyB0aGUgbG9jayBhbmQgZXhlY3V0ZXMgcXVldWVkIGFjdGlvbnMuXG4gICAgICAgICAgICAgIHBsYXlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICBub2RlLl91bmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xuICAgICAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBlbmRlZCBhbmQgcGF1c2VkIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2V0dGluZyByYXRlIGJlZm9yZSBwbGF5aW5nIHdvbid0IHdvcmsgaW4gSUUsIHNvIHdlIHNldCBpdCBhZ2FpbiBoZXJlLlxuICAgICAgICAgICAgbm9kZS5wbGF5YmFja1JhdGUgPSBzb3VuZC5fcmF0ZTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIG5vZGUgaXMgc3RpbGwgcGF1c2VkLCB0aGVuIHdlIGNhbiBhc3N1bWUgdGhlcmUgd2FzIGEgcGxheWJhY2sgaXNzdWUuXG4gICAgICAgICAgICBpZiAobm9kZS5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xuICAgICAgICAgICAgICAgICdvbiBtb2JpbGUgZGV2aWNlcyBhbmQgQ2hyb21lIHdoZXJlIHBsYXliYWNrIHdhcyBub3Qgd2l0aGluIGEgdXNlciBpbnRlcmFjdGlvbi4nKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZXR1cCB0aGUgZW5kIHRpbWVyIG9uIHNwcml0ZXMgb3IgbGlzdGVuIGZvciB0aGUgZW5kZWQgZXZlbnQuXG4gICAgICAgICAgICBpZiAoc3ByaXRlICE9PSAnX19kZWZhdWx0JyB8fCBzb3VuZC5fbG9vcCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJlIGVuZGVkIG9uIHRoaXMgYXVkaW8gbm9kZS5cbiAgICAgICAgICAgICAgICBzZWxmLl9lbmRlZChzb3VuZCk7XG5cbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSwgZmFsc2UpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXllcnJvcicsIHNvdW5kLl9pZCwgZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBzdHJlYW1pbmcgYXVkaW8sIG1ha2Ugc3VyZSB0aGUgc3JjIGlzIHNldCBhbmQgbG9hZCBhZ2Fpbi5cbiAgICAgICAgaWYgKG5vZGUuc3JjID09PSAnZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSaWdBQUFCWFFWWkZabTEwSUJJQUFBQUJBQUVBUkt3QUFJaFlBUUFDQUJBQUFBQmtZWFJoQWdBQUFBRUEnKSB7XG4gICAgICAgICAgbm9kZS5zcmMgPSBzZWxmLl9zcmM7XG4gICAgICAgICAgbm9kZS5sb2FkKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQbGF5IGltbWVkaWF0ZWx5IGlmIHJlYWR5LCBvciB3YWl0IGZvciB0aGUgJ2NhbnBsYXl0aHJvdWdoJ2UgdmVudC5cbiAgICAgICAgdmFyIGxvYWRlZE5vUmVhZHlTdGF0ZSA9ICh3aW5kb3cgJiYgd2luZG93LmVqZWN0YSkgfHwgKCFub2RlLnJlYWR5U3RhdGUgJiYgSG93bGVyLl9uYXZpZ2F0b3IuaXNDb2Nvb25KUyk7XG4gICAgICAgIGlmIChub2RlLnJlYWR5U3RhdGUgPj0gMyB8fCBsb2FkZWROb1JlYWR5U3RhdGUpIHtcbiAgICAgICAgICBwbGF5SHRtbDUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XG4gICAgICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XG5cbiAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuX3N0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEJlZ2luIHBsYXliYWNrLlxuICAgICAgICAgICAgcGxheUh0bWw1KCk7XG5cbiAgICAgICAgICAgIC8vIENsZWFyIHRoaXMgbGlzdGVuZXIuXG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG5cbiAgICAgICAgICAvLyBDYW5jZWwgdGhlIGVuZCB0aW1lci5cbiAgICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNvdW5kLl9pZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGF1c2UgcGxheWJhY2sgYW5kIHNhdmUgY3VycmVudCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRCAoZW1wdHkgdG8gcGF1c2UgYWxsIGluIGdyb3VwKS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIHBhdXNlOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCBvciBhIHBsYXkoKSBwcm9taXNlIGlzIHBlbmRpbmcsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBwYXVzZSB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAncGF1c2UnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnBhdXNlKGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBwYXVzZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIENsZWFyIHRoZSBlbmQgdGltZXIuXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRzW2ldKTtcblxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQgJiYgIXNvdW5kLl9wYXVzZWQpIHtcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc2VlayBwb3NpdGlvbi5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNlbGYuc2VlayhpZHNbaV0pO1xuICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvdW5kIGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAgICAgICAgICAgIGlmICghc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5ub3RlT2ZmKDApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSB8fCBzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJlIHRoZSBwYXVzZSBldmVudCwgdW5sZXNzIGB0cnVlYCBpcyBwYXNzZWQgYXMgdGhlIDJuZCBhcmd1bWVudC5cbiAgICAgICAgaWYgKCFhcmd1bWVudHNbMV0pIHtcbiAgICAgICAgICBzZWxmLl9lbWl0KCdwYXVzZScsIHNvdW5kID8gc291bmQuX2lkIDogbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0b3AgcGxheWJhY2sgYW5kIHJlc2V0IHRvIHN0YXJ0LlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElEIChlbXB0eSB0byBzdG9wIGFsbCBpbiBncm91cCkuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaW50ZXJuYWwgSW50ZXJuYWwgVXNlOiB0cnVlIHByZXZlbnRzIGV2ZW50IGZpcmluZy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIHN0b3A6IGZ1bmN0aW9uKGlkLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHN0b3Agd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3N0b3AnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnN0b3AoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIHN0b3BwZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIENsZWFyIHRoZSBlbmQgdGltZXIuXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRzW2ldKTtcblxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc2VlayBwb3NpdGlvbi5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XG4gICAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXG4gICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRzW2ldKTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc291bmQncyBBdWRpb0J1ZmZlclNvdXJjZU5vZGUgaGFzIGJlZW4gY3JlYXRlZC5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AoMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgICAgICAgICAgc2VsZi5fY2xlYW5CdWZmZXIoc291bmQuX25vZGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikgfHwgc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBhdXNlKCk7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGxpdmUgc3RyZWFtLCBzdG9wIGRvd25sb2FkIG9uY2UgdGhlIGF1ZGlvIGlzIHN0b3BwZWQuXG4gICAgICAgICAgICAgIGlmIChzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9jbGVhclNvdW5kKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0b3AnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXV0ZS91bm11dGUgYSBzaW5nbGUgc291bmQgb3IgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gbXV0ZWQgU2V0IHRvIHRydWUgdG8gbXV0ZSBhbmQgZmFsc2UgdG8gdW5tdXRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICAgVGhlIHNvdW5kIElEIHRvIHVwZGF0ZSAob21pdCB0byBtdXRlL3VubXV0ZSBhbGwpLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgbXV0ZTogZnVuY3Rpb24obXV0ZWQsIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gbXV0ZSB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdtdXRlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5tdXRlKG11dGVkLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgYXBwbHlpbmcgbXV0ZS91bm11dGUgdG8gYWxsIHNvdW5kcywgdXBkYXRlIHRoZSBncm91cCdzIHZhbHVlLlxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtdXRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgc2VsZi5fbXV0ZWQgPSBtdXRlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fbXV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgbXV0ZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgIHNvdW5kLl9tdXRlZCA9IG11dGVkO1xuXG4gICAgICAgICAgLy8gQ2FuY2VsIGFjdGl2ZSBmYWRlIGFuZCBzZXQgdGhlIHZvbHVtZSB0byB0aGUgZW5kIHZhbHVlLlxuICAgICAgICAgIGlmIChzb3VuZC5faW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKHNvdW5kLl9pZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKG11dGVkID8gMCA6IHNvdW5kLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLm11dGVkID0gSG93bGVyLl9tdXRlZCA/IHRydWUgOiBtdXRlZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9lbWl0KCdtdXRlJywgc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB0aGUgdm9sdW1lIG9mIHRoaXMgc291bmQgb3Igb2YgdGhlIEhvd2wgZ3JvdXAuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHZvbHVtZSgpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3Mgdm9sdW1lIHZhbHVlLlxuICAgICAqICAgdm9sdW1lKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgdm9sdW1lLlxuICAgICAqICAgdm9sdW1lKHZvbCkgLT4gU2V0cyB0aGUgdm9sdW1lIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgdm9sdW1lKHZvbCwgaWQpIC0+IFNldHMgdGhlIHZvbHVtZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHZvbHVtZS5cbiAgICAgKi9cbiAgICB2b2x1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgdm9sLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGdyb3Vwcycgdm9sdW1lLlxuICAgICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSB8fCBhcmdzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgYXJnc1sxXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHZvbHVtZS5cbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZvbCA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPj0gMikge1xuICAgICAgICB2b2wgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgb3IgcmV0dXJuIHRoZSBjdXJyZW50IHZvbHVtZS5cbiAgICAgIHZhciBzb3VuZDtcbiAgICAgIGlmICh0eXBlb2Ygdm9sICE9PSAndW5kZWZpbmVkJyAmJiB2b2wgPj0gMCAmJiB2b2wgPD0gMSkge1xuICAgICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSB2b2x1bWUgd2hlbiBjYXBhYmxlLlxuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgIGV2ZW50OiAndm9sdW1lJyxcbiAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNlbGYudm9sdW1lLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwIHZvbHVtZS5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzZWxmLl92b2x1bWUgPSB2b2w7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgb25lIG9yIGFsbCB2b2x1bWVzLlxuICAgICAgICBpZCA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGlkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZFtpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAgIHNvdW5kLl92b2x1bWUgPSB2b2w7XG5cbiAgICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXG4gICAgICAgICAgICBpZiAoIWFyZ3NbMl0pIHtcbiAgICAgICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIXNvdW5kLl9tdXRlZCkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKHZvbCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbXV0ZWQpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUudm9sdW1lID0gdm9sICogSG93bGVyLnZvbHVtZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCd2b2x1bWUnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQgPSBpZCA/IHNlbGYuX3NvdW5kQnlJZChpZCkgOiBzZWxmLl9zb3VuZHNbMF07XG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl92b2x1bWUgOiAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmFkZSBhIGN1cnJlbnRseSBwbGF5aW5nIHNvdW5kIGJldHdlZW4gdHdvIHZvbHVtZXMgKGlmIG5vIGlkIGlzIHBhc3NlZCwgYWxsIHNvdW5kcyB3aWxsIGZhZGUpLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gZnJvbSBUaGUgdmFsdWUgdG8gZmFkZSBmcm9tICgwLjAgdG8gMS4wKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRvICAgVGhlIHZvbHVtZSB0byBmYWRlIHRvICgwLjAgdG8gMS4wKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGxlbiAgVGltZSBpbiBtaWxsaXNlY29uZHMgdG8gZmFkZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgVGhlIHNvdW5kIGlkIChvbWl0IHRvIGZhZGUgYWxsIHNvdW5kcykuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBmYWRlOiBmdW5jdGlvbihmcm9tLCB0bywgbGVuLCBpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGZhZGUgd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ2ZhZGUnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmZhZGUoZnJvbSwgdG8sIGxlbiwgaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdG8vZnJvbS9sZW4gdmFsdWVzIGFyZSBudW1iZXJzLlxuICAgICAgZnJvbSA9IE1hdGgubWluKE1hdGgubWF4KDAsIHBhcnNlRmxvYXQoZnJvbSkpLCAxKTtcbiAgICAgIHRvID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgcGFyc2VGbG9hdCh0bykpLCAxKTtcbiAgICAgIGxlbiA9IHBhcnNlRmxvYXQobGVuKTtcblxuICAgICAgLy8gU2V0IHRoZSB2b2x1bWUgdG8gdGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAgc2VsZi52b2x1bWUoZnJvbSwgaWQpO1xuXG4gICAgICAvLyBGYWRlIHRoZSB2b2x1bWUgb2Ygb25lIG9yIGFsbCBzb3VuZHMuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBsaW5lYXIgZmFkZSBvciBmYWxsIGJhY2sgdG8gdGltZW91dHMgd2l0aCBIVE1MNSBBdWRpby5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgLy8gU3RvcCB0aGUgcHJldmlvdXMgZmFkZSBpZiBubyBzcHJpdGUgaXMgYmVpbmcgdXNlZCAob3RoZXJ3aXNlLCB2b2x1bWUgaGFuZGxlcyB0aGlzKS5cbiAgICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8sIGxldCB0aGUgbmF0aXZlIG1ldGhvZHMgZG8gdGhlIGFjdHVhbCBmYWRlLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGN1cnJlbnRUaW1lICsgKGxlbiAvIDEwMDApO1xuICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IGZyb207XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGZyb20sIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodG8sIGVuZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fc3RhcnRGYWRlSW50ZXJ2YWwoc291bmQsIGZyb20sIHRvLCBsZW4sIGlkc1tpXSwgdHlwZW9mIGlkID09PSAndW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgaW50ZXJuYWwgaW50ZXJ2YWwgdG8gZmFkZSBhIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gc291bmQgUmVmZXJlbmNlIHRvIHNvdW5kIHRvIGZhZGUuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdG8gICBUaGUgdm9sdW1lIHRvIGZhZGUgdG8gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgdG8gZmFkZS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpc0dyb3VwICAgSWYgdHJ1ZSwgc2V0IHRoZSB2b2x1bWUgb24gdGhlIGdyb3VwLlxuICAgICAqL1xuICAgIF9zdGFydEZhZGVJbnRlcnZhbDogZnVuY3Rpb24oc291bmQsIGZyb20sIHRvLCBsZW4sIGlkLCBpc0dyb3VwKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgdm9sID0gZnJvbTtcbiAgICAgIHZhciBkaWZmID0gdG8gLSBmcm9tO1xuICAgICAgdmFyIHN0ZXBzID0gTWF0aC5hYnMoZGlmZiAvIDAuMDEpO1xuICAgICAgdmFyIHN0ZXBMZW4gPSBNYXRoLm1heCg0LCAoc3RlcHMgPiAwKSA/IGxlbiAvIHN0ZXBzIDogbGVuKTtcbiAgICAgIHZhciBsYXN0VGljayA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSB2YWx1ZSBiZWluZyBmYWRlZCB0by5cbiAgICAgIHNvdW5kLl9mYWRlVG8gPSB0bztcblxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgdmFsdWUgb24gZWFjaCBpbnRlcnZhbCB0aWNrLlxuICAgICAgc291bmQuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIGJhc2VkIG9uIHRoZSB0aW1lIHNpbmNlIHRoZSBsYXN0IHRpY2suXG4gICAgICAgIHZhciB0aWNrID0gKERhdGUubm93KCkgLSBsYXN0VGljaykgLyBsZW47XG4gICAgICAgIGxhc3RUaWNrID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdm9sICs9IGRpZmYgKiB0aWNrO1xuXG4gICAgICAgIC8vIFJvdW5kIHRvIHdpdGhpbiAyIGRlY2ltYWwgcG9pbnRzLlxuICAgICAgICB2b2wgPSBNYXRoLnJvdW5kKHZvbCAqIDEwMCkgLyAxMDA7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSB2b2x1bWUgaXMgaW4gdGhlIHJpZ2h0IGJvdW5kcy5cbiAgICAgICAgaWYgKGRpZmYgPCAwKSB7XG4gICAgICAgICAgdm9sID0gTWF0aC5tYXgodG8sIHZvbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdm9sID0gTWF0aC5taW4odG8sIHZvbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGFuZ2UgdGhlIHZvbHVtZS5cbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgc291bmQuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnZvbHVtZSh2b2wsIHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwJ3Mgdm9sdW1lLlxuICAgICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICAgIHNlbGYuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gdGhlIGZhZGUgaXMgY29tcGxldGUsIHN0b3AgaXQgYW5kIGZpcmUgZXZlbnQuXG4gICAgICAgIGlmICgodG8gPCBmcm9tICYmIHZvbCA8PSB0bykgfHwgKHRvID4gZnJvbSAmJiB2b2wgPj0gdG8pKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChzb3VuZC5faW50ZXJ2YWwpO1xuICAgICAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgc291bmQuX2ZhZGVUbyA9IG51bGw7XG4gICAgICAgICAgc2VsZi52b2x1bWUodG8sIHNvdW5kLl9pZCk7XG4gICAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHN0ZXBMZW4pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdGhhdCBzdG9wcyB0aGUgY3VycmVudGx5IHBsYXlpbmcgZmFkZSB3aGVuXG4gICAgICogYSBuZXcgZmFkZSBzdGFydHMsIHZvbHVtZSBpcyBjaGFuZ2VkIG9yIHRoZSBzb3VuZCBpcyBzdG9wcGVkLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3N0b3BGYWRlOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9pbnRlcnZhbCkge1xuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc291bmQuX2ludGVydmFsKTtcbiAgICAgICAgc291bmQuX2ludGVydmFsID0gbnVsbDtcbiAgICAgICAgc2VsZi52b2x1bWUoc291bmQuX2ZhZGVUbywgaWQpO1xuICAgICAgICBzb3VuZC5fZmFkZVRvID0gbnVsbDtcbiAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIGlkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIGxvb3AgcGFyYW1ldGVyIG9uIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIGxvb3AoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGxvb3ApIC0+IFNldHMgdGhlIGxvb3AgdmFsdWUgZm9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgbG9vcChsb29wLCBpZCkgLT4gU2V0cyB0aGUgbG9vcCB2YWx1ZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9Cb29sZWFufSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCBsb29wIHZhbHVlLlxuICAgICAqL1xuICAgIGxvb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgbG9vcCwgaWQsIHNvdW5kO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBmb3IgbG9vcCBhbmQgaWQuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBncm91J3MgbG9vcCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIHNlbGYuX2xvb3A7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgbG9vcCA9IGFyZ3NbMF07XG4gICAgICAgICAgc2VsZi5fbG9vcCA9IGxvb3A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmV0dXJuIHRoaXMgc291bmQncyBsb29wIHZhbHVlLlxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX2xvb3AgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBsb29wID0gYXJnc1swXTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIGxvb3BlZC5cbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgc291bmQuX2xvb3AgPSBsb29wO1xuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wID0gbG9vcDtcbiAgICAgICAgICAgIGlmIChsb29wKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcDtcblxuICAgICAgICAgICAgICAvLyBJZiBwbGF5aW5nLCByZXN0YXJ0IHBsYXliYWNrIHRvIGVuc3VyZSBsb29waW5nIHVwZGF0ZXMuXG4gICAgICAgICAgICAgIGlmIChzZWxmLnBsYXlpbmcoaWRzW2ldKSkge1xuICAgICAgICAgICAgICAgIHNlbGYucGF1c2UoaWRzW2ldLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBzZWxmLnBsYXkoaWRzW2ldLCB0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB0aGUgcGxheWJhY2sgcmF0ZSBvZiBhIHNvdW5kLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAgICogICByYXRlKCkgLT4gUmV0dXJucyB0aGUgZmlyc3Qgc291bmQgbm9kZSdzIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cbiAgICAgKiAgIHJhdGUoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgY3VycmVudCBwbGF5YmFjayByYXRlLlxuICAgICAqICAgcmF0ZShyYXRlKSAtPiBTZXRzIHRoZSBwbGF5YmFjayByYXRlIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgcmF0ZShyYXRlLCBpZCkgLT4gU2V0cyB0aGUgcGxheWJhY2sgcmF0ZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBwbGF5YmFjayByYXRlLlxuICAgICAqL1xuICAgIHJhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgcmF0ZSwgaWQ7XG5cbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBXZSB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgcmF0ZSBvZiB0aGUgZmlyc3Qgbm9kZS5cbiAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGlzIGlzIGFuIElELCBhbmQgaWYgbm90LCBhc3N1bWUgaXQgaXMgYSBuZXcgcmF0ZSB2YWx1ZS5cbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJhdGUgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHJhdGUgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSBwbGF5YmFjayByYXRlIG9yIHJldHVybiB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICAgIHZhciBzb3VuZDtcbiAgICAgIGlmICh0eXBlb2YgcmF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2UgcGxheWJhY2sgcmF0ZSB3aGVuIGNhcGFibGUuXG4gICAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgIGV2ZW50OiAncmF0ZScsXG4gICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLnJhdGUuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdXAgcmF0ZS5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzZWxmLl9yYXRlID0gcmF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBvbmUgb3IgYWxsIHZvbHVtZXMuXG4gICAgICAgIGlkID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8aWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkW2ldKTtcblxuICAgICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiBvdXIgcG9zaXRpb24gd2hlbiB0aGUgcmF0ZSBjaGFuZ2VkIGFuZCB1cGRhdGUgdGhlIHBsYXliYWNrXG4gICAgICAgICAgICAvLyBzdGFydCBwb3NpdGlvbiBzbyB3ZSBjYW4gcHJvcGVybHkgYWRqdXN0IHRoZSBzZWVrIHBvc2l0aW9uIGZvciB0aW1lIGVsYXBzZWQuXG4gICAgICAgICAgICBpZiAoc2VsZi5wbGF5aW5nKGlkW2ldKSkge1xuICAgICAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSBzZWxmLnNlZWsoaWRbaV0pO1xuICAgICAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gc2VsZi5fd2ViQXVkaW8gPyBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lIDogc291bmQuX3BsYXlTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdW5kLl9yYXRlID0gcmF0ZTtcblxuICAgICAgICAgICAgLy8gQ2hhbmdlIHRoZSBwbGF5YmFjayByYXRlLlxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHJhdGUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wbGF5YmFja1JhdGUgPSByYXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgdGltZXJzLlxuICAgICAgICAgICAgdmFyIHNlZWsgPSBzZWxmLnNlZWsoaWRbaV0pO1xuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gKChzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMV0pIC8gMTAwMCkgLSBzZWVrO1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSAoZHVyYXRpb24gKiAxMDAwKSAvIE1hdGguYWJzKHNvdW5kLl9yYXRlKTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgYSBuZXcgZW5kIHRpbWVyIGlmIHNvdW5kIGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgICAgICAgIGlmIChzZWxmLl9lbmRUaW1lcnNbaWRbaV1dIHx8ICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRbaV0pO1xuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbaWRbaV1dID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3JhdGUnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcmF0ZSA6IHNlbGYuX3JhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBzZWVrIHBvc2l0aW9uIG9mIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHNlZWsoKSAtPiBSZXR1cm5zIHRoZSBmaXJzdCBzb3VuZCBub2RlJ3MgY3VycmVudCBzZWVrIHBvc2l0aW9uLlxuICAgICAqICAgc2VlayhpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICogICBzZWVrKHNlZWspIC0+IFNldHMgdGhlIHNlZWsgcG9zaXRpb24gb2YgdGhlIGZpcnN0IHNvdW5kIG5vZGUuXG4gICAgICogICBzZWVrKHNlZWssIGlkKSAtPiBTZXRzIHRoZSBzZWVrIHBvc2l0aW9uIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICovXG4gICAgc2VlazogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciBzZWVrLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFdlIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgbm9kZS5cbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kcy5sZW5ndGgpIHtcbiAgICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1swXS5faWQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHNlZWsgcG9zaXRpb24uXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoKSB7XG4gICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xuICAgICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gSUQsIGJhaWwgb3V0LlxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gc2VlayB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAodHlwZW9mIHNlZWsgPT09ICdudW1iZXInICYmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnc2VlaycsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuc2Vlay5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VlayA9PT0gJ251bWJlcicgJiYgc2VlayA+PSAwKSB7XG4gICAgICAgICAgLy8gUGF1c2UgdGhlIHNvdW5kIGFuZCB1cGRhdGUgcG9zaXRpb24gZm9yIHJlc3RhcnRpbmcgcGxheWJhY2suXG4gICAgICAgICAgdmFyIHBsYXlpbmcgPSBzZWxmLnBsYXlpbmcoaWQpO1xuICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICBzZWxmLnBhdXNlKGlkLCB0cnVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBNb3ZlIHRoZSBwb3NpdGlvbiBvZiB0aGUgdHJhY2sgYW5kIGNhbmNlbCB0aW1lci5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNlZWs7XG4gICAgICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZCk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNlZWsgcG9zaXRpb24gZm9yIEhUTUw1IEF1ZGlvLlxuICAgICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNlZWsgYW5kIGVtaXQgd2hlbiByZWFkeS5cbiAgICAgICAgICB2YXIgc2Vla0FuZEVtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFJlc3RhcnQgdGhlIHBsYXliYWNrIGlmIHRoZSBzb3VuZCB3YXMgcGxheWluZy5cbiAgICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICAgIHNlbGYucGxheShpZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3NlZWsnLCBpZCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBwbGF5IGxvY2sgdG8gYmUgdW5zZXQgYmVmb3JlIGVtaXR0aW5nIChIVE1MNSBBdWRpbykuXG4gICAgICAgICAgaWYgKHBsYXlpbmcgJiYgIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgZW1pdFNlZWsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICAgICAgICAgIHNlZWtBbmRFbWl0KCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChlbWl0U2VlaywgMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGVtaXRTZWVrLCAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Vla0FuZEVtaXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgcmVhbFRpbWUgPSBzZWxmLnBsYXlpbmcoaWQpID8gSG93bGVyLmN0eC5jdXJyZW50VGltZSAtIHNvdW5kLl9wbGF5U3RhcnQgOiAwO1xuICAgICAgICAgICAgdmFyIHJhdGVTZWVrID0gc291bmQuX3JhdGVTZWVrID8gc291bmQuX3JhdGVTZWVrIC0gc291bmQuX3NlZWsgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9zZWVrICsgKHJhdGVTZWVrICsgcmVhbFRpbWUgKiBNYXRoLmFicyhzb3VuZC5fcmF0ZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc291bmQuX25vZGUuY3VycmVudFRpbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHNwZWNpZmljIHNvdW5kIGlzIGN1cnJlbnRseSBwbGF5aW5nIG9yIG5vdCAoaWYgaWQgaXMgcHJvdmlkZWQpLCBvciBjaGVjayBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIHNvdW5kcyBpbiB0aGUgZ3JvdXAgaXMgcGxheWluZyBvciBub3QuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgaWQgVGhlIHNvdW5kIGlkIHRvIGNoZWNrLiBJZiBub25lIGlzIHBhc3NlZCwgdGhlIHdob2xlIHNvdW5kIGdyb3VwIGlzIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nIGFuZCBmYWxzZSBpZiBub3QuXG4gICAgICovXG4gICAgcGxheWluZzogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gQ2hlY2sgdGhlIHBhc3NlZCBzb3VuZCBJRCAoaWYgYW55KS5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/ICFzb3VuZC5fcGF1c2VkIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSwgbG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoZWNrIGlmIGFueSBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFzZWxmLl9zb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkdXJhdGlvbiBvZiB0aGlzIHNvdW5kLiBQYXNzaW5nIGEgc291bmQgaWQgd2lsbCByZXR1cm4gdGhlIHNwcml0ZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBpZCB0byBjaGVjay4gSWYgbm9uZSBpcyBwYXNzZWQsIHJldHVybiBmdWxsIHNvdXJjZSBkdXJhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEF1ZGlvIGR1cmF0aW9uIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgZHVyYXRpb246IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZHVyYXRpb24gPSBzZWxmLl9kdXJhdGlvbjtcblxuICAgICAgLy8gSWYgd2UgcGFzcyBhbiBJRCwgZ2V0IHRoZSBzb3VuZCBhbmQgcmV0dXJuIHRoZSBzcHJpdGUgbGVuZ3RoLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBkdXJhdGlvbiA9IHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSAvIDEwMDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBsb2FkZWQgc3RhdGUgb2YgdGhpcyBIb3dsLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gJ3VubG9hZGVkJywgJ2xvYWRpbmcnLCAnbG9hZGVkJ1xuICAgICAqL1xuICAgIHN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IHRoZSBjdXJyZW50IEhvd2wgb2JqZWN0LlxuICAgICAqIFRoaXMgd2lsbCBpbW1lZGlhdGVseSBzdG9wIGFsbCBzb3VuZCBpbnN0YW5jZXMgYXR0YWNoZWQgdG8gdGhpcyBncm91cC5cbiAgICAgKi9cbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTdG9wIHBsYXlpbmcgYW55IGFjdGl2ZSBzb3VuZHMuXG4gICAgICB2YXIgc291bmRzID0gc2VsZi5fc291bmRzO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPHNvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBTdG9wIHRoZSBzb3VuZCBpZiBpdCBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgICAgaWYgKCFzb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHNlbGYuc3RvcChzb3VuZHNbaV0uX2lkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgc291cmNlIG9yIGRpc2Nvbm5lY3QuXG4gICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAvLyBTZXQgdGhlIHNvdXJjZSB0byAwLXNlY29uZCBzaWxlbmNlIHRvIHN0b3AgYW55IGRvd25sb2FkaW5nIChleGNlcHQgaW4gSUUpLlxuICAgICAgICAgIHNlbGYuX2NsZWFyU291bmQoc291bmRzW2ldLl9ub2RlKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSBhbnkgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNvdW5kc1tpXS5fZXJyb3JGbiwgZmFsc2UpO1xuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzb3VuZHNbaV0uX2xvYWRGbiwgZmFsc2UpO1xuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNvdW5kc1tpXS5fZW5kRm4sIGZhbHNlKTtcblxuICAgICAgICAgIC8vIFJlbGVhc2UgdGhlIEF1ZGlvIG9iamVjdCBiYWNrIHRvIHRoZSBwb29sLlxuICAgICAgICAgIEhvd2xlci5fcmVsZWFzZUh0bWw1QXVkaW8oc291bmRzW2ldLl9ub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVtcHR5IG91dCBhbGwgb2YgdGhlIG5vZGVzLlxuICAgICAgICBkZWxldGUgc291bmRzW2ldLl9ub2RlO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBhbGwgdGltZXJzIGFyZSBjbGVhcmVkIG91dC5cbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZHNbaV0uX2lkKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIHRoZSByZWZlcmVuY2VzIGluIHRoZSBnbG9iYWwgSG93bGVyIG9iamVjdC5cbiAgICAgIHZhciBpbmRleCA9IEhvd2xlci5faG93bHMuaW5kZXhPZihzZWxmKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIEhvd2xlci5faG93bHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cblxuICAgICAgLy8gRGVsZXRlIHRoaXMgc291bmQgZnJvbSB0aGUgY2FjaGUgKGlmIG5vIG90aGVyIEhvd2wgaXMgdXNpbmcgaXQpLlxuICAgICAgdmFyIHJlbUNhY2hlID0gdHJ1ZTtcbiAgICAgIGZvciAoaT0wOyBpPEhvd2xlci5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKEhvd2xlci5faG93bHNbaV0uX3NyYyA9PT0gc2VsZi5fc3JjIHx8IHNlbGYuX3NyYy5pbmRleE9mKEhvd2xlci5faG93bHNbaV0uX3NyYykgPj0gMCkge1xuICAgICAgICAgIHJlbUNhY2hlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNhY2hlICYmIHJlbUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBjYWNoZVtzZWxmLl9zcmNdO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciBnbG9iYWwgZXJyb3JzLlxuICAgICAgSG93bGVyLm5vQXVkaW8gPSBmYWxzZTtcblxuICAgICAgLy8gQ2xlYXIgb3V0IGBzZWxmYC5cbiAgICAgIHNlbGYuX3N0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xuICAgICAgc2VsZiA9IG51bGw7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSBsaXN0ZW4gdG8gZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBvbmNlICAoSU5URVJOQUwpIE1hcmtzIGV2ZW50IHRvIGZpcmUgb25seSBvbmNlLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQsIG9uY2UpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKG9uY2UgPyB7aWQ6IGlkLCBmbjogZm4sIG9uY2U6IG9uY2V9IDoge2lkOiBpZCwgZm46IGZufSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjdXN0b20gZXZlbnQuIENhbGwgd2l0aG91dCBwYXJhbWV0ZXJzIHRvIHJlbW92ZSBhbGwgZXZlbnRzLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byByZW1vdmUuIExlYXZlIGVtcHR5IHRvIHJlbW92ZSBhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSByZW1vdmUgZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudCwgZm4sIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgLy8gQWxsb3cgcGFzc2luZyBqdXN0IGFuIGV2ZW50IGFuZCBJRC5cbiAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlkID0gZm47XG4gICAgICAgIGZuID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGZuIHx8IGlkKSB7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBldmVudCBzdG9yZSBhbmQgcmVtb3ZlIHRoZSBwYXNzZWQgZnVuY3Rpb24uXG4gICAgICAgIGZvciAoaT0wOyBpPGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBpc0lkID0gKGlkID09PSBldmVudHNbaV0uaWQpO1xuICAgICAgICAgIGlmIChmbiA9PT0gZXZlbnRzW2ldLmZuICYmIGlzSWQgfHwgIWZuICYmIGlzSWQpIHtcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IGFsbCBldmVudHMgb2YgdGhpcyB0eXBlLlxuICAgICAgICBzZWxmWydfb24nICsgZXZlbnRdID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDbGVhciBvdXQgYWxsIGV2ZW50cyBvZiBldmVyeSB0eXBlLlxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNlbGYpO1xuICAgICAgICBmb3IgKGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKChrZXlzW2ldLmluZGV4T2YoJ19vbicpID09PSAwKSAmJiBBcnJheS5pc0FycmF5KHNlbGZba2V5c1tpXV0pKSB7XG4gICAgICAgICAgICBzZWxmW2tleXNbaV1dID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQgYW5kIHJlbW92ZSBpdCBvbmNlIGZpcmVkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byBjYWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpZCAgICAob3B0aW9uYWwpIE9ubHkgbGlzdGVuIHRvIGV2ZW50cyBmb3IgdGhpcyBzb3VuZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIG9uY2U6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5vbihldmVudCwgZm4sIGlkLCAxKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVtaXQgYWxsIGV2ZW50cyBvZiBhIHNwZWNpZmljIHR5cGUgYW5kIHBhc3MgdGhlIHNvdW5kIGlkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQgRXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFNvdW5kIElELlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbXNnICAgTWVzc2FnZSB0byBnbyB3aXRoIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBpZCwgbXNnKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZW50IHN0b3JlIGFuZCBmaXJlIGFsbCBmdW5jdGlvbnMuXG4gICAgICBmb3IgKHZhciBpPWV2ZW50cy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIC8vIE9ubHkgZmlyZSB0aGUgbGlzdGVuZXIgaWYgdGhlIGNvcnJlY3QgSUQgaXMgdXNlZC5cbiAgICAgICAgaWYgKCFldmVudHNbaV0uaWQgfHwgZXZlbnRzW2ldLmlkID09PSBpZCB8fCBldmVudCA9PT0gJ2xvYWQnKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBpZCwgbXNnKTtcbiAgICAgICAgICB9LmJpbmQoc2VsZiwgZXZlbnRzW2ldLmZuKSwgMCk7XG5cbiAgICAgICAgICAvLyBJZiB0aGlzIGV2ZW50IHdhcyBzZXR1cCB3aXRoIGBvbmNlYCwgcmVtb3ZlIGl0LlxuICAgICAgICAgIGlmIChldmVudHNbaV0ub25jZSkge1xuICAgICAgICAgICAgc2VsZi5vZmYoZXZlbnQsIGV2ZW50c1tpXS5mbiwgZXZlbnRzW2ldLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUGFzcyB0aGUgZXZlbnQgdHlwZSBpbnRvIGxvYWQgcXVldWUgc28gdGhhdCBpdCBjYW4gY29udGludWUgc3RlcHBpbmcuXG4gICAgICBzZWxmLl9sb2FkUXVldWUoZXZlbnQpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUXVldWUgb2YgYWN0aW9ucyBpbml0aWF0ZWQgYmVmb3JlIHRoZSBzb3VuZCBoYXMgbG9hZGVkLlxuICAgICAqIFRoZXNlIHdpbGwgYmUgY2FsbGVkIGluIHNlcXVlbmNlLCB3aXRoIHRoZSBuZXh0IG9ubHkgZmlyaW5nXG4gICAgICogYWZ0ZXIgdGhlIHByZXZpb3VzIGhhcyBmaW5pc2hlZCBleGVjdXRpbmcgKGV2ZW4gaWYgYXN5bmMgbGlrZSBwbGF5KS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9sb2FkUXVldWU6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLl9xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB0YXNrID0gc2VsZi5fcXVldWVbMF07XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoaXMgdGFzayBpZiBhIG1hdGNoaW5nIGV2ZW50IHdhcyBwYXNzZWQuXG4gICAgICAgIGlmICh0YXNrLmV2ZW50ID09PSBldmVudCkge1xuICAgICAgICAgIHNlbGYuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSdW4gdGhlIHRhc2sgaWYgbm8gZXZlbnQgdHlwZSBpcyBwYXNzZWQuXG4gICAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgICB0YXNrLmFjdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHBsYXliYWNrIGVuZHMgYXQgdGhlIGVuZCBvZiB0aGUgZHVyYXRpb24uXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VuZGVkOiBmdW5jdGlvbihzb3VuZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNwcml0ZSA9IHNvdW5kLl9zcHJpdGU7XG5cbiAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBJRSBhbmQgdGhlcmUgd2FzIG5ldHdvcmsgbGF0ZW5jeSB3ZSBtYXkgYmUgY2xpcHBpbmdcbiAgICAgIC8vIGF1ZGlvIGJlZm9yZSBpdCBjb21wbGV0ZXMgcGxheWluZy4gTGV0cyBjaGVjayB0aGUgbm9kZSB0byBtYWtlIHN1cmUgaXRcbiAgICAgIC8vIGJlbGlldmVzIGl0IGhhcyBjb21wbGV0ZWQsIGJlZm9yZSBlbmRpbmcgdGhlIHBsYXliYWNrLlxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiAhc291bmQuX25vZGUucGF1c2VkICYmICFzb3VuZC5fbm9kZS5lbmRlZCAmJiBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA8IHNvdW5kLl9zdG9wKSB7XG4gICAgICAgIHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIDEwMCk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG91bGQgdGhpcyBzb3VuZCBsb29wP1xuICAgICAgdmFyIGxvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG5cbiAgICAgIC8vIEZpcmUgdGhlIGVuZGVkIGV2ZW50LlxuICAgICAgc2VsZi5fZW1pdCgnZW5kJywgc291bmQuX2lkKTtcblxuICAgICAgLy8gUmVzdGFydCB0aGUgcGxheWJhY2sgZm9yIEhUTUw1IEF1ZGlvIGxvb3AuXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIGxvb3ApIHtcbiAgICAgICAgc2VsZi5zdG9wKHNvdW5kLl9pZCwgdHJ1ZSkucGxheShzb3VuZC5faWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXN0YXJ0IHRoaXMgdGltZXIgaWYgb24gYSBXZWIgQXVkaW8gbG9vcC5cbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBsb29wKSB7XG4gICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICB2YXIgdGltZW91dCA9ICgoc291bmQuX3N0b3AgLSBzb3VuZC5fc3RhcnQpICogMTAwMCkgLyBNYXRoLmFicyhzb3VuZC5fcmF0ZSk7XG4gICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgIC8vIE1hcmsgdGhlIG5vZGUgYXMgcGF1c2VkLlxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XG4gICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzb3VuZC5fZW5kZWQgPSB0cnVlO1xuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XG5cbiAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcblxuICAgICAgICAvLyBBdHRlbXB0IHRvIGF1dG8tc3VzcGVuZCBBdWRpb0NvbnRleHQgaWYgbm8gc291bmRzIGFyZSBzdGlsbCBwbGF5aW5nLlxuICAgICAgICBIb3dsZXIuX2F1dG9TdXNwZW5kKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gdXNpbmcgYSBzcHJpdGUsIGVuZCB0aGUgdHJhY2suXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XG4gICAgICAgIHNlbGYuc3RvcChzb3VuZC5faWQsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGVuZCB0aW1lciBmb3IgYSBzb3VuZCBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9jbGVhclRpbWVyOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoc2VsZi5fZW5kVGltZXJzW2lkXSkge1xuICAgICAgICAvLyBDbGVhciB0aGUgdGltZW91dCBvciByZW1vdmUgdGhlIGVuZGVkIGxpc3RlbmVyLlxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuX2VuZFRpbWVyc1tpZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fZW5kVGltZXJzW2lkXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW2lkXSwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBzZWxmLl9lbmRUaW1lcnNbaWRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBzb3VuZCBpZGVudGlmaWVkIGJ5IHRoaXMgSUQsIG9yIHJldHVybiBudWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgU291bmQgSURcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgIFNvdW5kIG9iamVjdCBvciBudWxsLlxuICAgICAqL1xuICAgIF9zb3VuZEJ5SWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBmaW5kIHRoZSBvbmUgd2l0aCB0aGlzIElELlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaWQgPT09IHNlbGYuX3NvdW5kc1tpXS5faWQpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fc291bmRzW2ldO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gaW5hY3RpdmUgc291bmQgZnJvbSB0aGUgcG9vbCBvciBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAqIEByZXR1cm4ge1NvdW5kfSBTb3VuZCBwbGF5YmFjayBvYmplY3QuXG4gICAgICovXG4gICAgX2luYWN0aXZlU291bmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLl9kcmFpbigpO1xuXG4gICAgICAvLyBGaW5kIHRoZSBmaXJzdCBpbmFjdGl2ZSBub2RlIHRvIHJlY3ljbGUuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3NvdW5kc1tpXS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGluYWN0aXZlIG5vZGUgd2FzIGZvdW5kLCBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAgcmV0dXJuIG5ldyBTb3VuZChzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhaW4gZXhjZXNzIGluYWN0aXZlIHNvdW5kcyBmcm9tIHRoZSBwb29sLlxuICAgICAqL1xuICAgIF9kcmFpbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgbGltaXQgPSBzZWxmLl9wb29sO1xuICAgICAgdmFyIGNudCA9IDA7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIC8vIElmIHRoZXJlIGFyZSBsZXNzIHNvdW5kcyB0aGFuIHRoZSBtYXggcG9vbCBzaXplLCB3ZSBhcmUgZG9uZS5cbiAgICAgIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoIDwgbGltaXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGluYWN0aXZlIHNvdW5kcy5cbiAgICAgIGZvciAoaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xuICAgICAgICAgIGNudCsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBleGNlc3MgaW5hY3RpdmUgc291bmRzLCBnb2luZyBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgZm9yIChpPXNlbGYuX3NvdW5kcy5sZW5ndGggLSAxOyBpPj0wOyBpLS0pIHtcbiAgICAgICAgaWYgKGNudCA8PSBsaW1pdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgYXVkaW8gc291cmNlIHdoZW4gdXNpbmcgV2ViIEF1ZGlvLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzZWxmLl9zb3VuZHNbaV0uX25vZGUpIHtcbiAgICAgICAgICAgIHNlbGYuX3NvdW5kc1tpXS5fbm9kZS5kaXNjb25uZWN0KDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJlbW92ZSBzb3VuZHMgdW50aWwgd2UgaGF2ZSB0aGUgcG9vbCBzaXplLlxuICAgICAgICAgIHNlbGYuX3NvdW5kcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgY250LS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBJRCdzIGZyb20gdGhlIHNvdW5kcyBwb29sLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgT25seSByZXR1cm4gb25lIElEIGlmIG9uZSBpcyBwYXNzZWQuXG4gICAgICogQHJldHVybiB7QXJyYXl9ICAgIEFycmF5IG9mIElEcy5cbiAgICAgKi9cbiAgICBfZ2V0U291bmRJZHM6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBpZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlkcy5wdXNoKHNlbGYuX3NvdW5kc1tpXS5faWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbaWRdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBzb3VuZCBiYWNrIGludG8gdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3JlZnJlc2hCdWZmZXI6IGZ1bmN0aW9uKHNvdW5kKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIFNldHVwIHRoZSBidWZmZXIgc291cmNlIGZvciBwbGF5YmFjay5cbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSA9IEhvd2xlci5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuYnVmZmVyID0gY2FjaGVbc2VsZi5fc3JjXTtcblxuICAgICAgLy8gQ29ubmVjdCB0byB0aGUgY29ycmVjdCBub2RlLlxuICAgICAgaWYgKHNvdW5kLl9wYW5uZXIpIHtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3Qoc291bmQuX3Bhbm5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuY29ubmVjdChzb3VuZC5fbm9kZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldHVwIGxvb3BpbmcgYW5kIHBsYXliYWNrIHJhdGUuXG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcCA9IHNvdW5kLl9sb29wO1xuICAgICAgaWYgKHNvdW5kLl9sb29wKSB7XG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcCB8fCAwO1xuICAgICAgfVxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcmF0ZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50IG1lbW9yeSBsZWFrcyBieSBjbGVhbmluZyB1cCB0aGUgYnVmZmVyIHNvdXJjZSBhZnRlciBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgU291bmQncyBhdWRpbyBub2RlIGNvbnRhaW5pbmcgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfY2xlYW5CdWZmZXI6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBpc0lPUyA9IEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCdBcHBsZScpID49IDA7XG5cbiAgICAgIGlmICghbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIGlmIChIb3dsZXIuX3NjcmF0Y2hCdWZmZXIgJiYgbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2Uub25lbmRlZCA9IG51bGw7XG4gICAgICAgIG5vZGUuYnVmZmVyU291cmNlLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgIGlmIChpc0lPUykge1xuICAgICAgICAgIHRyeSB7IG5vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IEhvd2xlci5fc2NyYXRjaEJ1ZmZlcjsgfSBjYXRjaChlKSB7fVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlLmJ1ZmZlclNvdXJjZSA9IG51bGw7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNvdXJjZSB0byBhIDAtc2Vjb25kIHNpbGVuY2UgdG8gc3RvcCBhbnkgZG93bmxvYWRpbmcgKGV4Y2VwdCBpbiBJRSkuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBub2RlIEF1ZGlvIG5vZGUgdG8gY2xlYXIuXG4gICAgICovXG4gICAgX2NsZWFyU291bmQ6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBjaGVja0lFID0gL01TSUUgfFRyaWRlbnRcXC8vLnRlc3QoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgIGlmICghY2hlY2tJRSkge1xuICAgICAgICBub2RlLnNyYyA9ICdkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsVWtsR1JpZ0FBQUJYUVZaRlptMTBJQklBQUFBQkFBRUFSS3dBQUloWUFRQUNBQkFBQUFCa1lYUmhBZ0FBQUFFQSc7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogU2V0dXAgdGhlIHNvdW5kIG9iamVjdCwgd2hpY2ggZWFjaCBub2RlIGF0dGFjaGVkIHRvIGEgSG93bCBncm91cCBpcyBjb250YWluZWQgaW4uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBob3dsIFRoZSBIb3dsIHBhcmVudCBncm91cC5cbiAgICovXG4gIHZhciBTb3VuZCA9IGZ1bmN0aW9uKGhvd2wpIHtcbiAgICB0aGlzLl9wYXJlbnQgPSBob3dsO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBTb3VuZC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBTb3VuZCBvYmplY3QuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBTZXR1cCB0aGUgZGVmYXVsdCBwYXJhbWV0ZXJzLlxuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IHBhcmVudC5fdm9sdW1lO1xuICAgICAgc2VsZi5fcmF0ZSA9IHBhcmVudC5fcmF0ZTtcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xuICAgICAgc2VsZi5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9ICdfX2RlZmF1bHQnO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX2lkID0gKytIb3dsZXIuX2NvdW50ZXI7XG5cbiAgICAgIC8vIEFkZCBpdHNlbGYgdG8gdGhlIHBhcmVudCdzIHBvb2wuXG4gICAgICBwYXJlbnQuX3NvdW5kcy5wdXNoKHNlbGYpO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIG5ldyBub2RlLlxuICAgICAgc2VsZi5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbmQgc2V0dXAgYSBuZXcgc291bmQgb2JqZWN0LCB3aGV0aGVyIEhUTUw1IEF1ZGlvIG9yIFdlYiBBdWRpby5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcbiAgICAgIHZhciB2b2x1bWUgPSAoSG93bGVyLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCB8fCBzZWxmLl9wYXJlbnQuX211dGVkKSA/IDAgOiBzZWxmLl92b2x1bWU7XG5cbiAgICAgIGlmIChwYXJlbnQuX3dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZ2FpbiBub2RlIGZvciBjb250cm9sbGluZyB2b2x1bWUgKHRoZSBzb3VyY2Ugd2lsbCBjb25uZWN0IHRvIHRoaXMpLlxuICAgICAgICBzZWxmLl9ub2RlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4gPT09ICd1bmRlZmluZWQnKSA/IEhvd2xlci5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IEhvd2xlci5jdHguY3JlYXRlR2FpbigpO1xuICAgICAgICBzZWxmLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc2VsZi5fbm9kZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzZWxmLl9ub2RlLmNvbm5lY3QoSG93bGVyLm1hc3RlckdhaW4pO1xuICAgICAgfSBlbHNlIGlmICghSG93bGVyLm5vQXVkaW8pIHtcbiAgICAgICAgLy8gR2V0IGFuIHVubG9ja2VkIEF1ZGlvIG9iamVjdCBmcm9tIHRoZSBwb29sLlxuICAgICAgICBzZWxmLl9ub2RlID0gSG93bGVyLl9vYnRhaW5IdG1sNUF1ZGlvKCk7XG5cbiAgICAgICAgLy8gTGlzdGVuIGZvciBlcnJvcnMgKGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMtYXV0aG9yLXZpZXcvc3BlYy5odG1sI21lZGlhZXJyb3IpLlxuICAgICAgICBzZWxmLl9lcnJvckZuID0gc2VsZi5fZXJyb3JMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc2VsZi5fZXJyb3JGbiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgJ2NhbnBsYXl0aHJvdWdoJyBldmVudCB0byBsZXQgdXMga25vdyB0aGUgc291bmQgaXMgcmVhZHkuXG4gICAgICAgIHNlbGYuX2xvYWRGbiA9IHNlbGYuX2xvYWRMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNlbGYuX2xvYWRGbiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgdGhlICdlbmRlZCcgZXZlbnQgb24gdGhlIHNvdW5kIHRvIGFjY291bnQgZm9yIGVkZ2UtY2FzZSB3aGVyZVxuICAgICAgICAvLyBhIGZpbml0ZSBzb3VuZCBoYXMgYSBkdXJhdGlvbiBvZiBJbmZpbml0eS5cbiAgICAgICAgc2VsZi5fZW5kRm4gPSBzZWxmLl9lbmRMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kRm4sIGZhbHNlKTtcblxuICAgICAgICAvLyBTZXR1cCB0aGUgbmV3IGF1ZGlvIG5vZGUuXG4gICAgICAgIHNlbGYuX25vZGUuc3JjID0gcGFyZW50Ll9zcmM7XG4gICAgICAgIHNlbGYuX25vZGUucHJlbG9hZCA9IHBhcmVudC5fcHJlbG9hZCA9PT0gdHJ1ZSA/ICdhdXRvJyA6IHBhcmVudC5fcHJlbG9hZDtcbiAgICAgICAgc2VsZi5fbm9kZS52b2x1bWUgPSB2b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XG5cbiAgICAgICAgLy8gQmVnaW4gbG9hZGluZyB0aGUgc291cmNlLlxuICAgICAgICBzZWxmLl9ub2RlLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQgdG8gdGhlIG9yaWdpbmFsIHN0YXRlIChmb3IgcmVjeWNsZSkuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUmVzZXQgYWxsIG9mIHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQuXG4gICAgICBzZWxmLl9tdXRlZCA9IHBhcmVudC5fbXV0ZWQ7XG4gICAgICBzZWxmLl9sb29wID0gcGFyZW50Ll9sb29wO1xuICAgICAgc2VsZi5fdm9sdW1lID0gcGFyZW50Ll92b2x1bWU7XG4gICAgICBzZWxmLl9yYXRlID0gcGFyZW50Ll9yYXRlO1xuICAgICAgc2VsZi5fc2VlayA9IDA7XG4gICAgICBzZWxmLl9yYXRlU2VlayA9IDA7XG4gICAgICBzZWxmLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fZW5kZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IElEIHNvIHRoYXQgaXQgaXNuJ3QgY29uZnVzZWQgd2l0aCB0aGUgcHJldmlvdXMgc291bmQuXG4gICAgICBzZWxmLl9pZCA9ICsrSG93bGVyLl9jb3VudGVyO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSFRNTDUgQXVkaW8gZXJyb3IgbGlzdGVuZXIgY2FsbGJhY2suXG4gICAgICovXG4gICAgX2Vycm9yTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBGaXJlIGFuIGVycm9yIGV2ZW50IGFuZCBwYXNzIGJhY2sgdGhlIGNvZGUuXG4gICAgICBzZWxmLl9wYXJlbnQuX2VtaXQoJ2xvYWRlcnJvcicsIHNlbGYuX2lkLCBzZWxmLl9ub2RlLmVycm9yID8gc2VsZi5fbm9kZS5lcnJvci5jb2RlIDogMCk7XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzZWxmLl9lcnJvckZuLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhUTUw1IEF1ZGlvIGNhbnBsYXl0aHJvdWdoIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIF9sb2FkTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUm91bmQgdXAgdGhlIGR1cmF0aW9uIHRvIGFjY291bnQgZm9yIHRoZSBsb3dlciBwcmVjaXNpb24gaW4gSFRNTDUgQXVkaW8uXG4gICAgICBwYXJlbnQuX2R1cmF0aW9uID0gTWF0aC5jZWlsKHNlbGYuX25vZGUuZHVyYXRpb24gKiAxMCkgLyAxMDtcblxuICAgICAgLy8gU2V0dXAgYSBzcHJpdGUgaWYgbm9uZSBpcyBkZWZpbmVkLlxuICAgICAgaWYgKE9iamVjdC5rZXlzKHBhcmVudC5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcGFyZW50Ll9zcHJpdGUgPSB7X19kZWZhdWx0OiBbMCwgcGFyZW50Ll9kdXJhdGlvbiAqIDEwMDBdfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmVudC5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgIHBhcmVudC5fc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgcGFyZW50Ll9lbWl0KCdsb2FkJyk7XG4gICAgICAgIHBhcmVudC5fbG9hZFF1ZXVlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc2VsZi5fbG9hZEZuLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhUTUw1IEF1ZGlvIGVuZGVkIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIF9lbmRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBPbmx5IGhhbmRsZSB0aGUgYGVuZGVkYGAgZXZlbnQgaWYgdGhlIGR1cmF0aW9uIGlzIEluZmluaXR5LlxuICAgICAgaWYgKHBhcmVudC5fZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcGFyZW50IGR1cmF0aW9uIHRvIG1hdGNoIHRoZSByZWFsIGF1ZGlvIGR1cmF0aW9uLlxuICAgICAgICAvLyBSb3VuZCB1cCB0aGUgZHVyYXRpb24gdG8gYWNjb3VudCBmb3IgdGhlIGxvd2VyIHByZWNpc2lvbiBpbiBIVE1MNSBBdWRpby5cbiAgICAgICAgcGFyZW50Ll9kdXJhdGlvbiA9IE1hdGguY2VpbChzZWxmLl9ub2RlLmR1cmF0aW9uICogMTApIC8gMTA7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzcHJpdGUgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgcmVhbCBkdXJhdGlvbi5cbiAgICAgICAgaWYgKHBhcmVudC5fc3ByaXRlLl9fZGVmYXVsdFsxXSA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICBwYXJlbnQuX3Nwcml0ZS5fX2RlZmF1bHRbMV0gPSBwYXJlbnQuX2R1cmF0aW9uICogMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1biB0aGUgcmVndWxhciBlbmRlZCBtZXRob2QuXG4gICAgICAgIHBhcmVudC5fZW5kZWQoc2VsZik7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lciBzaW5jZSB0aGUgZHVyYXRpb24gaXMgbm93IGNvcnJlY3QuXG4gICAgICBzZWxmLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kRm4sIGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIHZhciBjYWNoZSA9IHt9O1xuXG4gIC8qKlxuICAgKiBCdWZmZXIgYSBzb3VuZCBmcm9tIFVSTCwgRGF0YSBVUkkgb3IgY2FjaGUgYW5kIGRlY29kZSB0byBhdWRpbyBzb3VyY2UgKFdlYiBBdWRpbyBBUEkpLlxuICAgKiBAcGFyYW0gIHtIb3dsfSBzZWxmXG4gICAqL1xuICB2YXIgbG9hZEJ1ZmZlciA9IGZ1bmN0aW9uKHNlbGYpIHtcbiAgICB2YXIgdXJsID0gc2VsZi5fc3JjO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGJ1ZmZlciBoYXMgYWxyZWFkeSBiZWVuIGNhY2hlZCBhbmQgdXNlIGl0IGluc3RlYWQuXG4gICAgaWYgKGNhY2hlW3VybF0pIHtcbiAgICAgIC8vIFNldCB0aGUgZHVyYXRpb24gZnJvbSB0aGUgY2FjaGUuXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IGNhY2hlW3VybF0uZHVyYXRpb247XG5cbiAgICAgIC8vIExvYWQgdGhlIHNvdW5kIGludG8gdGhpcyBIb3dsLlxuICAgICAgbG9hZFNvdW5kKHNlbGYpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKC9eZGF0YTpbXjtdKztiYXNlNjQsLy50ZXN0KHVybCkpIHtcbiAgICAgIC8vIERlY29kZSB0aGUgYmFzZTY0IGRhdGEgVVJJIHdpdGhvdXQgWEhSLCBzaW5jZSBzb21lIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgaXQuXG4gICAgICB2YXIgZGF0YSA9IGF0b2IodXJsLnNwbGl0KCcsJylbMV0pO1xuICAgICAgdmFyIGRhdGFWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZGF0YVZpZXdbaV0gPSBkYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgICB9XG5cbiAgICAgIGRlY29kZUF1ZGlvRGF0YShkYXRhVmlldy5idWZmZXIsIHNlbGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMb2FkIHRoZSBidWZmZXIgZnJvbSB0aGUgVVJMLlxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oc2VsZi5feGhyLm1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBzZWxmLl94aHIud2l0aENyZWRlbnRpYWxzO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cbiAgICAgIC8vIEFwcGx5IGFueSBjdXN0b20gaGVhZGVycyB0byB0aGUgcmVxdWVzdC5cbiAgICAgIGlmIChzZWxmLl94aHIuaGVhZGVycykge1xuICAgICAgICBPYmplY3Qua2V5cyhzZWxmLl94aHIuaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHNlbGYuX3hoci5oZWFkZXJzW2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgZ2V0IGEgc3VjY2Vzc2Z1bCByZXNwb25zZSBiYWNrLlxuICAgICAgICB2YXIgY29kZSA9ICh4aHIuc3RhdHVzICsgJycpWzBdO1xuICAgICAgICBpZiAoY29kZSAhPT0gJzAnICYmIGNvZGUgIT09ICcyJyAmJiBjb2RlICE9PSAnMycpIHtcbiAgICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnRmFpbGVkIGxvYWRpbmcgYXVkaW8gZmlsZSB3aXRoIHN0YXR1czogJyArIHhoci5zdGF0dXMgKyAnLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlY29kZUF1ZGlvRGF0YSh4aHIucmVzcG9uc2UsIHNlbGYpO1xuICAgICAgfTtcbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGVycm9yLCBzd2l0Y2ggdG8gSFRNTDUgQXVkaW8uXG4gICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgIHNlbGYuX2h0bWw1ID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xuICAgICAgICAgIGRlbGV0ZSBjYWNoZVt1cmxdO1xuICAgICAgICAgIHNlbGYubG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgc2FmZVhoclNlbmQoeGhyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlbmQgdGhlIFhIUiByZXF1ZXN0IHdyYXBwZWQgaW4gYSB0cnkvY2F0Y2guXG4gICAqIEBwYXJhbSAge09iamVjdH0geGhyIFhIUiB0byBzZW5kLlxuICAgKi9cbiAgdmFyIHNhZmVYaHJTZW5kID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHhoci5zZW5kKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgeGhyLm9uZXJyb3IoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERlY29kZSBhdWRpbyBkYXRhIGZyb20gYW4gYXJyYXkgYnVmZmVyLlxuICAgKiBAcGFyYW0gIHtBcnJheUJ1ZmZlcn0gYXJyYXlidWZmZXIgVGhlIGF1ZGlvIGRhdGEuXG4gICAqIEBwYXJhbSAge0hvd2x9ICAgICAgICBzZWxmXG4gICAqL1xuICB2YXIgZGVjb2RlQXVkaW9EYXRhID0gZnVuY3Rpb24oYXJyYXlidWZmZXIsIHNlbGYpIHtcbiAgICAvLyBGaXJlIGEgbG9hZCBlcnJvciBpZiBzb21ldGhpbmcgYnJva2UuXG4gICAgdmFyIGVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnRGVjb2RpbmcgYXVkaW8gZGF0YSBmYWlsZWQuJyk7XG4gICAgfTtcblxuICAgIC8vIExvYWQgdGhlIHNvdW5kIG9uIHN1Y2Nlc3MuXG4gICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgIGlmIChidWZmZXIgJiYgc2VsZi5fc291bmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2FjaGVbc2VsZi5fc3JjXSA9IGJ1ZmZlcjtcbiAgICAgICAgbG9hZFNvdW5kKHNlbGYsIGJ1ZmZlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvcigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBEZWNvZGUgdGhlIGJ1ZmZlciBpbnRvIGFuIGF1ZGlvIHNvdXJjZS5cbiAgICBpZiAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhLmxlbmd0aCA9PT0gMSkge1xuICAgICAgSG93bGVyLmN0eC5kZWNvZGVBdWRpb0RhdGEoYXJyYXlidWZmZXIpLnRoZW4oc3VjY2VzcykuY2F0Y2goZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YShhcnJheWJ1ZmZlciwgc3VjY2VzcywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTb3VuZCBpcyBub3cgbG9hZGVkLCBzbyBmaW5pc2ggc2V0dGluZyBldmVyeXRoaW5nIHVwIGFuZCBmaXJlIHRoZSBsb2FkZWQgZXZlbnQuXG4gICAqIEBwYXJhbSAge0hvd2x9IHNlbGZcbiAgICogQHBhcmFtICB7T2JqZWN0fSBidWZmZXIgVGhlIGRlY29kZWQgYnVmZmVyIHNvdW5kIHNvdXJjZS5cbiAgICovXG4gIHZhciBsb2FkU291bmQgPSBmdW5jdGlvbihzZWxmLCBidWZmZXIpIHtcbiAgICAvLyBTZXQgdGhlIGR1cmF0aW9uLlxuICAgIGlmIChidWZmZXIgJiYgIXNlbGYuX2R1cmF0aW9uKSB7XG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IGJ1ZmZlci5kdXJhdGlvbjtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBhIHNwcml0ZSBpZiBub25lIGlzIGRlZmluZWQuXG4gICAgaWYgKE9iamVjdC5rZXlzKHNlbGYuX3Nwcml0ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZWxmLl9zcHJpdGUgPSB7X19kZWZhdWx0OiBbMCwgc2VsZi5fZHVyYXRpb24gKiAxMDAwXX07XG4gICAgfVxuXG4gICAgLy8gRmlyZSB0aGUgbG9hZGVkIGV2ZW50LlxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgIHNlbGYuX3N0YXRlID0gJ2xvYWRlZCc7XG4gICAgICBzZWxmLl9lbWl0KCdsb2FkJyk7XG4gICAgICBzZWxmLl9sb2FkUXVldWUoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHVwIHRoZSBhdWRpbyBjb250ZXh0IHdoZW4gYXZhaWxhYmxlLCBvciBzd2l0Y2ggdG8gSFRNTDUgQXVkaW8gbW9kZS5cbiAgICovXG4gIHZhciBzZXR1cEF1ZGlvQ29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIElmIHdlIGhhdmUgYWxyZWFkeSBkZXRlY3RlZCB0aGF0IFdlYiBBdWRpbyBpc24ndCBzdXBwb3J0ZWQsIGRvbid0IHJ1biB0aGlzIHN0ZXAgYWdhaW4uXG4gICAgaWYgKCFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8gYW5kIHNldHVwIHRoZSBBdWRpb0NvbnRleHQgaWYgd2UgYXJlLlxuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIEF1ZGlvQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgSG93bGVyLmN0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdlYmtpdEF1ZGlvQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgSG93bGVyLmN0eCA9IG5ldyB3ZWJraXRBdWRpb0NvbnRleHQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBhdWRpbyBjb250ZXh0IGNyZWF0aW9uIHN0aWxsIGZhaWxlZCwgc2V0IHVzaW5nIHdlYiBhdWRpbyB0byBmYWxzZS5cbiAgICBpZiAoIUhvd2xlci5jdHgpIHtcbiAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgYSB3ZWJ2aWV3IGlzIGJlaW5nIHVzZWQgb24gaU9TOCBvciBlYXJsaWVyIChyYXRoZXIgdGhhbiB0aGUgYnJvd3NlcikuXG4gICAgLy8gSWYgaXQgaXMsIGRpc2FibGUgV2ViIEF1ZGlvIGFzIGl0IGNhdXNlcyBjcmFzaGluZy5cbiAgICB2YXIgaU9TID0gKC9pUChob25lfG9kfGFkKS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5wbGF0Zm9ybSkpO1xuICAgIHZhciBhcHBWZXJzaW9uID0gSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKV8/KFxcZCspPy8pO1xuICAgIHZhciB2ZXJzaW9uID0gYXBwVmVyc2lvbiA/IHBhcnNlSW50KGFwcFZlcnNpb25bMV0sIDEwKSA6IG51bGw7XG4gICAgaWYgKGlPUyAmJiB2ZXJzaW9uICYmIHZlcnNpb24gPCA5KSB7XG4gICAgICB2YXIgc2FmYXJpID0gL3NhZmFyaS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XG4gICAgICBpZiAoSG93bGVyLl9uYXZpZ2F0b3IgJiYgIXNhZmFyaSkge1xuICAgICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhbmQgZXhwb3NlIHRoZSBtYXN0ZXIgR2Fpbk5vZGUgd2hlbiB1c2luZyBXZWIgQXVkaW8gKHVzZWZ1bCBmb3IgcGx1Z2lucyBvciBhZHZhbmNlZCB1c2FnZSkuXG4gICAgaWYgKEhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICBIb3dsZXIubWFzdGVyR2FpbiA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVHYWluID09PSAndW5kZWZpbmVkJykgPyBIb3dsZXIuY3R4LmNyZWF0ZUdhaW5Ob2RlKCkgOiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4oKTtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoSG93bGVyLl9tdXRlZCA/IDAgOiBIb3dsZXIuX3ZvbHVtZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICBIb3dsZXIubWFzdGVyR2Fpbi5jb25uZWN0KEhvd2xlci5jdHguZGVzdGluYXRpb24pO1xuICAgIH1cblxuICAgIC8vIFJlLXJ1biB0aGUgc2V0dXAgb24gSG93bGVyLlxuICAgIEhvd2xlci5fc2V0dXAoKTtcbiAgfTtcblxuICAvLyBBZGQgc3VwcG9ydCBmb3IgQU1EIChBc3luY2hyb25vdXMgTW9kdWxlIERlZmluaXRpb24pIGxpYnJhcmllcyBzdWNoIGFzIHJlcXVpcmUuanMuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgSG93bGVyOiBIb3dsZXIsXG4gICAgICAgIEhvd2w6IEhvd2xcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvLyBBZGQgc3VwcG9ydCBmb3IgQ29tbW9uSlMgbGlicmFyaWVzIHN1Y2ggYXMgYnJvd3NlcmlmeS5cbiAgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIGV4cG9ydHMuSG93bGVyID0gSG93bGVyO1xuICAgIGV4cG9ydHMuSG93bCA9IEhvd2w7XG4gIH1cblxuICAvLyBBZGQgdG8gZ2xvYmFsIGluIE5vZGUuanMgKGZvciB0ZXN0aW5nLCBldGMpLlxuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBnbG9iYWwuSG93bGVyR2xvYmFsID0gSG93bGVyR2xvYmFsO1xuICAgIGdsb2JhbC5Ib3dsZXIgPSBIb3dsZXI7XG4gICAgZ2xvYmFsLkhvd2wgPSBIb3dsO1xuICAgIGdsb2JhbC5Tb3VuZCA9IFNvdW5kO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7ICAvLyBEZWZpbmUgZ2xvYmFsbHkgaW4gY2FzZSBBTUQgaXMgbm90IGF2YWlsYWJsZSBvciB1bnVzZWQuXG4gICAgd2luZG93Lkhvd2xlckdsb2JhbCA9IEhvd2xlckdsb2JhbDtcbiAgICB3aW5kb3cuSG93bGVyID0gSG93bGVyO1xuICAgIHdpbmRvdy5Ib3dsID0gSG93bDtcbiAgICB3aW5kb3cuU291bmQgPSBTb3VuZDtcbiAgfVxufSkoKTtcblxuXG4vKiFcbiAqICBTcGF0aWFsIFBsdWdpbiAtIEFkZHMgc3VwcG9ydCBmb3Igc3RlcmVvIGFuZCAzRCBhdWRpbyB3aGVyZSBXZWIgQXVkaW8gaXMgc3VwcG9ydGVkLlxuICogIFxuICogIGhvd2xlci5qcyB2Mi4yLjRcbiAqICBob3dsZXJqcy5jb21cbiAqXG4gKiAgKGMpIDIwMTMtMjAyMCwgSmFtZXMgU2ltcHNvbiBvZiBHb2xkRmlyZSBTdHVkaW9zXG4gKiAgZ29sZGZpcmVzdHVkaW9zLmNvbVxuICpcbiAqICBNSVQgTGljZW5zZVxuICovXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gU2V0dXAgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9wb3MgPSBbMCwgMCwgMF07XG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuX29yaWVudGF0aW9uID0gWzAsIDAsIC0xLCAwLCAxLCAwXTtcblxuICAvKiogR2xvYmFsIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgdG8gdXBkYXRlIHRoZSBzdGVyZW8gcGFubmluZyBwb3NpdGlvbiBvZiBhbGwgY3VycmVudCBIb3dscy5cbiAgICogRnV0dXJlIEhvd2xzIHdpbGwgbm90IHVzZSB0aGlzIHZhbHVlIHVubGVzcyBleHBsaWNpdGx5IHNldC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBwYW4gQSB2YWx1ZSBvZiAtMS4wIGlzIGFsbCB0aGUgd2F5IGxlZnQgYW5kIDEuMCBpcyBhbGwgdGhlIHdheSByaWdodC5cbiAgICogQHJldHVybiB7SG93bGVyL051bWJlcn0gICAgIFNlbGYgb3IgY3VycmVudCBzdGVyZW8gcGFubmluZyB2YWx1ZS5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuc3RlcmVvID0gZnVuY3Rpb24ocGFuKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgSG93bHMgYW5kIHVwZGF0ZSB0aGVpciBzdGVyZW8gcGFubmluZy5cbiAgICBmb3IgKHZhciBpPXNlbGYuX2hvd2xzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcbiAgICAgIHNlbGYuX2hvd2xzW2ldLnN0ZXJlbyhwYW4pO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIgaW4gM0QgY2FydGVzaWFuIHNwYWNlLiBTb3VuZHMgdXNpbmdcbiAgICogM0QgcG9zaXRpb24gd2lsbCBiZSByZWxhdGl2ZSB0byB0aGUgbGlzdGVuZXIncyBwb3NpdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4IFRoZSB4LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5IFRoZSB5LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6IFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHJldHVybiB7SG93bGVyL0FycmF5fSAgIFNlbGYgb3IgY3VycmVudCBsaXN0ZW5lciBwb3NpdGlvbi5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24oeCwgeSwgeikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gc2VsZi5fcG9zWzFdIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9wb3NbMl0gOiB6O1xuXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgc2VsZi5fcG9zID0gW3gsIHksIHpdO1xuXG4gICAgICBpZiAodHlwZW9mIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25YLnNldFRhcmdldEF0VGltZShzZWxmLl9wb3NbMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWS5zZXRUYXJnZXRBdFRpbWUoc2VsZi5fcG9zWzFdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblouc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1syXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnNldFBvc2l0aW9uKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2VsZi5fcG9zO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBkaXJlY3Rpb24gdGhlIGxpc3RlbmVyIGlzIHBvaW50aW5nIGluIHRoZSAzRCBjYXJ0ZXNpYW4gc3BhY2UuXG4gICAqIEEgZnJvbnQgYW5kIHVwIHZlY3RvciBtdXN0IGJlIHByb3ZpZGVkLiBUaGUgZnJvbnQgaXMgdGhlIGRpcmVjdGlvbiB0aGVcbiAgICogZmFjZSBvZiB0aGUgbGlzdGVuZXIgaXMgcG9pbnRpbmcsIGFuZCB1cCBpcyB0aGUgZGlyZWN0aW9uIHRoZSB0b3Agb2YgdGhlXG4gICAqIGxpc3RlbmVyIGlzIHBvaW50aW5nLiBUaHVzLCB0aGVzZSB2YWx1ZXMgYXJlIGV4cGVjdGVkIHRvIGJlIGF0IHJpZ2h0IGFuZ2xlc1xuICAgKiBmcm9tIGVhY2ggb3RoZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogICBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geFVwIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHlVcCBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6VXAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEByZXR1cm4ge0hvd2xlci9BcnJheX0gICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBvcmllbnRhdGlvbiB2ZWN0b3JzLlxuICAgKi9cbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5vcmllbnRhdGlvbiA9IGZ1bmN0aW9uKHgsIHksIHosIHhVcCwgeVVwLCB6VXApIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuY3R4IHx8ICFzZWxmLmN0eC5saXN0ZW5lcikge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxuICAgIHZhciBvciA9IHNlbGYuX29yaWVudGF0aW9uO1xuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IG9yWzFdIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBvclsyXSA6IHo7XG4gICAgeFVwID0gKHR5cGVvZiB4VXAgIT09ICdudW1iZXInKSA/IG9yWzNdIDogeFVwO1xuICAgIHlVcCA9ICh0eXBlb2YgeVVwICE9PSAnbnVtYmVyJykgPyBvcls0XSA6IHlVcDtcbiAgICB6VXAgPSAodHlwZW9mIHpVcCAhPT0gJ251bWJlcicpID8gb3JbNV0gOiB6VXA7XG5cbiAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6LCB4VXAsIHlVcCwgelVwXTtcblxuICAgICAgaWYgKHR5cGVvZiBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFguc2V0VGFyZ2V0QXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRZLnNldFRhcmdldEF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWi5zZXRUYXJnZXRBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBYLnNldFRhcmdldEF0VGltZSh4VXAsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnVwWS5zZXRUYXJnZXRBdFRpbWUoeVVwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci51cFouc2V0VGFyZ2V0QXRUaW1lKHpVcCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnNldE9yaWVudGF0aW9uKHgsIHksIHosIHhVcCwgeVVwLCB6VXApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqIEdyb3VwIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEFkZCBuZXcgcHJvcGVydGllcyB0byB0aGUgY29yZSBpbml0LlxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIENvcmUgaW5pdCBtZXRob2QuXG4gICAqIEByZXR1cm4ge0hvd2x9XG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5pbml0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIFNldHVwIHVzZXItZGVmaW5lZCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IG8ub3JpZW50YXRpb24gfHwgWzEsIDAsIDBdO1xuICAgICAgc2VsZi5fc3RlcmVvID0gby5zdGVyZW8gfHwgbnVsbDtcbiAgICAgIHNlbGYuX3BvcyA9IG8ucG9zIHx8IG51bGw7XG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0ge1xuICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8uY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lSW5uZXJBbmdsZSA6IDM2MCxcbiAgICAgICAgY29uZU91dGVyQW5nbGU6IHR5cGVvZiBvLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyQW5nbGUgOiAzNjAsXG4gICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLmNvbmVPdXRlckdhaW4gIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJHYWluIDogMCxcbiAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8uZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLmRpc3RhbmNlTW9kZWwgOiAnaW52ZXJzZScsXG4gICAgICAgIG1heERpc3RhbmNlOiB0eXBlb2Ygby5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLm1heERpc3RhbmNlIDogMTAwMDAsXG4gICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmluZ01vZGVsIDogJ0hSVEYnLFxuICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5yZWZEaXN0YW5jZSA6IDEsXG4gICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5yb2xsb2ZmRmFjdG9yIDogMVxuICAgICAgfTtcblxuICAgICAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgc2VsZi5fb25zdGVyZW8gPSBvLm9uc3RlcmVvID8gW3tmbjogby5vbnN0ZXJlb31dIDogW107XG4gICAgICBzZWxmLl9vbnBvcyA9IG8ub25wb3MgPyBbe2ZuOiBvLm9ucG9zfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ub3JpZW50YXRpb24gPSBvLm9ub3JpZW50YXRpb24gPyBbe2ZuOiBvLm9ub3JpZW50YXRpb259XSA6IFtdO1xuXG4gICAgICAvLyBDb21wbGV0ZSBpbml0aWxpemF0aW9uIHdpdGggaG93bGVyLmpzIGNvcmUncyBpbml0IGZ1bmN0aW9uLlxuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG8pO1xuICAgIH07XG4gIH0pKEhvd2wucHJvdG90eXBlLmluaXQpO1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBzdGVyZW8gcGFubmluZyBvZiB0aGUgYXVkaW8gc291cmNlIGZvciB0aGlzIHNvdW5kIG9yIGFsbCBpbiB0aGUgZ3JvdXAuXG4gICAqIEBwYXJhbSAge051bWJlcn0gcGFuICBBIHZhbHVlIG9mIC0xLjAgaXMgYWxsIHRoZSB3YXkgbGVmdCBhbmQgMS4wIGlzIGFsbCB0aGUgd2F5IHJpZ2h0LlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIChvcHRpb25hbCkgVGhlIHNvdW5kIElELiBJZiBub25lIGlzIHBhc3NlZCwgYWxsIGluIGdyb3VwIHdpbGwgYmUgdXBkYXRlZC5cbiAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBzdGVyZW8gcGFubmluZyB2YWx1ZS5cbiAgICovXG4gIEhvd2wucHJvdG90eXBlLnN0ZXJlbyA9IGZ1bmN0aW9uKHBhbiwgaWQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBzdGVyZW8gcGFuIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdzdGVyZW8nLFxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuc3RlcmVvKHBhbiwgaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIFBhbm5lclN0ZXJlb05vZGUgc3VwcG9ydCBhbmQgZmFsbGJhY2sgdG8gUGFubmVyTm9kZSBpZiBpdCBkb2Vzbid0IGV4aXN0LlxuICAgIHZhciBwYW5uZXJUeXBlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZVN0ZXJlb1Bhbm5lciA9PT0gJ3VuZGVmaW5lZCcpID8gJ3NwYXRpYWwnIDogJ3N0ZXJlbyc7XG5cbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzdGVyZW8gcGFubmluZyBpZiBubyBJRCBpcyBwYXNzZWQuXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzdGVyZW8gcGFubmluZyBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHBhbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgc2VsZi5fc3RlcmVvID0gcGFuO1xuICAgICAgICBzZWxmLl9wb3MgPSBbcGFuLCAwLCAwXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9zdGVyZW87XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzdHJlbyBwYW5uaW5nIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYW4gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgc291bmQuX3N0ZXJlbyA9IHBhbjtcbiAgICAgICAgICBzb3VuZC5fcG9zID0gW3BhbiwgMCwgMF07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBmYWxsaW5nIGJhY2ssIG1ha2Ugc3VyZSB0aGUgcGFubmluZ01vZGVsIGlzIGVxdWFscG93ZXIuXG4gICAgICAgICAgICBzb3VuZC5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgPSAnZXF1YWxwb3dlcic7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lciB8fCAhc291bmQuX3Bhbm5lci5wYW4pIHtcbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsIHBhbm5lclR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGFubmVyVHlwZSA9PT0gJ3NwYXRpYWwnKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUocGFuLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZSgwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSgwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHBhbiwgMCwgMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucGFuLnNldFZhbHVlQXRUaW1lKHBhbiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnc3RlcmVvJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX3N0ZXJlbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSAzRCBzcGF0aWFsIHBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UgZm9yIHRoaXMgc291bmQgb3IgZ3JvdXAgcmVsYXRpdmUgdG8gdGhlIGdsb2JhbCBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgIFRoZSB5LXBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgVGhlIHotcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvQXJyYXl9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCAzRCBzcGF0aWFsIHBvc2l0aW9uOiBbeCwgeSwgel0uXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5wb3MgPSBmdW5jdGlvbih4LCB5LCB6LCBpZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHBvc2l0aW9uIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdwb3MnLFxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYucG9zKHgsIHksIHosIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyAwIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyAtMC41IDogejtcblxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3BhdGlhbCBwb3NpdGlvbiBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX3BvcyA9IFt4LCB5LCB6XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9wb3M7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzcGF0aWFsIHBvc2l0aW9uIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9wb3MgPSBbeCwgeSwgel07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lciB8fCBzb3VuZC5fcGFubmVyLnBhbikge1xuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKHksIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSh6LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0UG9zaXRpb24oeCwgeSwgeik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgncG9zJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX3BvcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBkaXJlY3Rpb24gdGhlIGF1ZGlvIHNvdXJjZSBpcyBwb2ludGluZyBpbiB0aGUgM0QgY2FydGVzaWFuIGNvb3JkaW5hdGVcbiAgICogc3BhY2UuIERlcGVuZGluZyBvbiBob3cgZGlyZWN0aW9uIHRoZSBzb3VuZCBpcywgYmFzZWQgb24gdGhlIGBjb25lYCBhdHRyaWJ1dGVzLFxuICAgKiBhIHNvdW5kIHBvaW50aW5nIGF3YXkgZnJvbSB0aGUgbGlzdGVuZXIgY2FuIGJlIHF1aWV0IG9yIHNpbGVudC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvQXJyYXl9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCAzRCBzcGF0aWFsIG9yaWVudGF0aW9uOiBbeCwgeSwgel0uXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5vcmllbnRhdGlvbiA9IGZ1bmN0aW9uKHgsIHksIHosIGlkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugb3JpZW50YXRpb24gd2hlbiBjYXBhYmxlLlxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICBldmVudDogJ29yaWVudGF0aW9uJyxcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLm9yaWVudGF0aW9uKHgsIHksIHosIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9vcmllbnRhdGlvblsxXSA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gc2VsZi5fb3JpZW50YXRpb25bMl0gOiB6O1xuXG4gICAgLy8gU2V0dXAgdGhlIGdyb3VwJ3Mgc3BhdGlhbCBvcmllbnRhdGlvbiBpZiBubyBJRCBpcyBwYXNzZWQuXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzcGF0aWFsIG9yaWVudGF0aW9uIGlmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZC5cbiAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBbeCwgeSwgel07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5fb3JpZW50YXRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzcGF0aWFsIG9yaWVudGF0aW9uIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6XTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBwYW5uZXIgc2V0dXAgYW5kIGNyZWF0ZSBhIG5ldyBvbmUgaWYgbm90LlxuICAgICAgICAgICAgaWYgKCFzb3VuZC5fcGFubmVyKSB7XG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcG9zaXRpb24gdG8gc2V0dXAgdGhlIG5vZGUgd2l0aC5cbiAgICAgICAgICAgICAgaWYgKCFzb3VuZC5fcG9zKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX3BvcyA9IHNlbGYuX3BvcyB8fCBbMCwgMCwgLTAuNV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblguc2V0VmFsdWVBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25ZLnNldFZhbHVlQXRUaW1lKHksIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWi5zZXRWYWx1ZUF0VGltZSh6LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0T3JpZW50YXRpb24oeCwgeSwgeik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnb3JpZW50YXRpb24nLCBzb3VuZC5faWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzb3VuZC5fb3JpZW50YXRpb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgcGFubmVyIG5vZGUncyBhdHRyaWJ1dGVzIGZvciBhIHNvdW5kIG9yIGdyb3VwIG9mIHNvdW5kcy5cbiAgICogVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbCB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAqICAgcGFubmVyQXR0cigpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3MgdmFsdWVzLlxuICAgKiAgIHBhbm5lckF0dHIoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgdmFsdWVzLlxuICAgKiAgIHBhbm5lckF0dHIobykgLT4gU2V0J3MgdGhlIHZhbHVlcyBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICogICBwYW5uZXJBdHRyKG8sIGlkKSAtPiBTZXQncyB0aGUgdmFsdWVzIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICpcbiAgICogICBBdHRyaWJ1dGVzOlxuICAgKiAgICAgY29uZUlubmVyQW5nbGUgLSAoMzYwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIGFuIGFuZ2xlLCBpbiBkZWdyZWVzLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICBpbnNpZGUgb2Ygd2hpY2ggdGhlcmUgd2lsbCBiZSBubyB2b2x1bWUgcmVkdWN0aW9uLlxuICAgKiAgICAgY29uZU91dGVyQW5nbGUgLSAoMzYwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIGFuIGFuZ2xlLCBpbiBkZWdyZWVzLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICBvdXRzaWRlIG9mIHdoaWNoIHRoZSB2b2x1bWUgd2lsbCBiZSByZWR1Y2VkIHRvIGEgY29uc3RhbnQgdmFsdWUgb2YgYGNvbmVPdXRlckdhaW5gLlxuICAgKiAgICAgY29uZU91dGVyR2FpbiAtICgwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIHRoZSBnYWluIG91dHNpZGUgb2YgdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgYGNvbmVPdXRlckFuZ2xlYC4gSXQgaXMgYSBsaW5lYXIgdmFsdWUgaW4gdGhlIHJhbmdlIGBbMCwgMV1gLlxuICAgKiAgICAgZGlzdGFuY2VNb2RlbCAtICgnaW52ZXJzZScgYnkgZGVmYXVsdCkgRGV0ZXJtaW5lcyBhbGdvcml0aG0gdXNlZCB0byByZWR1Y2Ugdm9sdW1lIGFzIGF1ZGlvIG1vdmVzIGF3YXkgZnJvbVxuICAgKiAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLiBDYW4gYmUgYGxpbmVhcmAsIGBpbnZlcnNlYCBvciBgZXhwb25lbnRpYWwuXG4gICAqICAgICBtYXhEaXN0YW5jZSAtICgxMDAwMCBieSBkZWZhdWx0KSBUaGUgbWF4aW11bSBkaXN0YW5jZSBiZXR3ZWVuIHNvdXJjZSBhbmQgbGlzdGVuZXIsIGFmdGVyIHdoaWNoIHRoZSB2b2x1bWVcbiAgICogICAgICAgICAgICAgICAgICAgd2lsbCBub3QgYmUgcmVkdWNlZCBhbnkgZnVydGhlci5cbiAgICogICAgIHJlZkRpc3RhbmNlIC0gKDEgYnkgZGVmYXVsdCkgQSByZWZlcmVuY2UgZGlzdGFuY2UgZm9yIHJlZHVjaW5nIHZvbHVtZSBhcyBzb3VyY2UgbW92ZXMgZnVydGhlciBmcm9tIHRoZSBsaXN0ZW5lci5cbiAgICogICAgICAgICAgICAgICAgICAgVGhpcyBpcyBzaW1wbHkgYSB2YXJpYWJsZSBvZiB0aGUgZGlzdGFuY2UgbW9kZWwgYW5kIGhhcyBhIGRpZmZlcmVudCBlZmZlY3QgZGVwZW5kaW5nIG9uIHdoaWNoIG1vZGVsXG4gICAqICAgICAgICAgICAgICAgICAgIGlzIHVzZWQgYW5kIHRoZSBzY2FsZSBvZiB5b3VyIGNvb3JkaW5hdGVzLiBHZW5lcmFsbHksIHZvbHVtZSB3aWxsIGJlIGVxdWFsIHRvIDEgYXQgdGhpcyBkaXN0YW5jZS5cbiAgICogICAgIHJvbGxvZmZGYWN0b3IgLSAoMSBieSBkZWZhdWx0KSBIb3cgcXVpY2tseSB0aGUgdm9sdW1lIHJlZHVjZXMgYXMgc291cmNlIG1vdmVzIGZyb20gbGlzdGVuZXIuIFRoaXMgaXMgc2ltcGx5IGFcbiAgICogICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZSBvZiB0aGUgZGlzdGFuY2UgbW9kZWwgYW5kIGNhbiBiZSBpbiB0aGUgcmFuZ2Ugb2YgYFswLCAxXWAgd2l0aCBgbGluZWFyYCBhbmQgYFswLCBcdTIyMUVdYFxuICAgKiAgICAgICAgICAgICAgICAgICAgIHdpdGggYGludmVyc2VgIGFuZCBgZXhwb25lbnRpYWxgLlxuICAgKiAgICAgcGFubmluZ01vZGVsIC0gKCdIUlRGJyBieSBkZWZhdWx0KSBEZXRlcm1pbmVzIHdoaWNoIHNwYXRpYWxpemF0aW9uIGFsZ29yaXRobSBpcyB1c2VkIHRvIHBvc2l0aW9uIGF1ZGlvLlxuICAgKiAgICAgICAgICAgICAgICAgICAgIENhbiBiZSBgSFJURmAgb3IgYGVxdWFscG93ZXJgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtIb3dsL09iamVjdH0gUmV0dXJucyBzZWxmIG9yIGN1cnJlbnQgcGFubmVyIGF0dHJpYnV0ZXMuXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5wYW5uZXJBdHRyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBvLCBpZCwgc291bmQ7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gICAgICByZXR1cm4gc2VsZi5fcGFubmVyQXR0cjtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG8gPSBhcmdzWzBdO1xuXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdSdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGlmICghby5wYW5uZXJBdHRyKSB7XG4gICAgICAgICAgICBvLnBhbm5lckF0dHIgPSB7XG4gICAgICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiBvLmNvbmVJbm5lckFuZ2xlLFxuICAgICAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogby5jb25lT3V0ZXJBbmdsZSxcbiAgICAgICAgICAgICAgY29uZU91dGVyR2Fpbjogby5jb25lT3V0ZXJHYWluLFxuICAgICAgICAgICAgICBkaXN0YW5jZU1vZGVsOiBvLmRpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgICAgIG1heERpc3RhbmNlOiBvLm1heERpc3RhbmNlLFxuICAgICAgICAgICAgICByZWZEaXN0YW5jZTogby5yZWZEaXN0YW5jZSxcbiAgICAgICAgICAgICAgcm9sbG9mZkZhY3Rvcjogby5yb2xsb2ZmRmFjdG9yLFxuICAgICAgICAgICAgICBwYW5uaW5nTW9kZWw6IG8ucGFubmluZ01vZGVsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSB7XG4gICAgICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZUlubmVyQW5nbGUgOiBzZWxmLl9jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZSA6IHNlbGYuX2NvbmVPdXRlckFuZ2xlLFxuICAgICAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluIDogc2VsZi5fY29uZU91dGVyR2FpbixcbiAgICAgICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLnBhbm5lckF0dHIuZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuZGlzdGFuY2VNb2RlbCA6IHNlbGYuX2Rpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ucGFubmVyQXR0ci5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIubWF4RGlzdGFuY2UgOiBzZWxmLl9tYXhEaXN0YW5jZSxcbiAgICAgICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5yZWZEaXN0YW5jZSA6IHNlbGYuX3JlZkRpc3RhbmNlLFxuICAgICAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yIDogc2VsZi5fcm9sbG9mZkZhY3RvcixcbiAgICAgICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbCA6IHNlbGYuX3Bhbm5pbmdNb2RlbFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldHVybiB0aGlzIHNvdW5kJ3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl9wYW5uZXJBdHRyIDogc2VsZi5fcGFubmVyQXR0cjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICBvID0gYXJnc1swXTtcbiAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdmFsdWVzIG9mIHRoZSBzcGVjaWZpZWQgc291bmRzLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIC8vIE1lcmdlIHRoZSBuZXcgdmFsdWVzIGludG8gdGhlIHNvdW5kLlxuICAgICAgICB2YXIgcGEgPSBzb3VuZC5fcGFubmVyQXR0cjtcbiAgICAgICAgcGEgPSB7XG4gICAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZUlubmVyQW5nbGUgOiBwYS5jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8uY29uZU91dGVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJBbmdsZSA6IHBhLmNvbmVPdXRlckFuZ2xlLFxuICAgICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLmNvbmVPdXRlckdhaW4gIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJHYWluIDogcGEuY29uZU91dGVyR2FpbixcbiAgICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8uZGlzdGFuY2VNb2RlbCA6IHBhLmRpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLm1heERpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ubWF4RGlzdGFuY2UgOiBwYS5tYXhEaXN0YW5jZSxcbiAgICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5yZWZEaXN0YW5jZSA6IHBhLnJlZkRpc3RhbmNlLFxuICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5yb2xsb2ZmRmFjdG9yIDogcGEucm9sbG9mZkZhY3RvcixcbiAgICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5pbmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5pbmdNb2RlbCA6IHBhLnBhbm5pbmdNb2RlbFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYW5uZXIgbm9kZSBpZiBvbmUgZG9lc24ndCBhbHJlYWR5IGV4aXN0LlxuICAgICAgICB2YXIgcGFubmVyID0gc291bmQuX3Bhbm5lcjtcbiAgICAgICAgaWYgKCFwYW5uZXIpIHtcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIHBvc2l0aW9uIHRvIHNldHVwIHRoZSBub2RlIHdpdGguXG4gICAgICAgICAgaWYgKCFzb3VuZC5fcG9zKSB7XG4gICAgICAgICAgICBzb3VuZC5fcG9zID0gc2VsZi5fcG9zIHx8IFswLCAwLCAtMC41XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUuXG4gICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XG4gICAgICAgICAgcGFubmVyID0gc291bmQuX3Bhbm5lclxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBwYW5uZXIgdmFsdWVzIG9yIGNyZWF0ZSBhIG5ldyBwYW5uZXIgaWYgbm9uZSBleGlzdHMuXG4gICAgICAgIHBhbm5lci5jb25lSW5uZXJBbmdsZSA9IHBhLmNvbmVJbm5lckFuZ2xlO1xuICAgICAgICBwYW5uZXIuY29uZU91dGVyQW5nbGUgPSBwYS5jb25lT3V0ZXJBbmdsZTtcbiAgICAgICAgcGFubmVyLmNvbmVPdXRlckdhaW4gPSBwYS5jb25lT3V0ZXJHYWluO1xuICAgICAgICBwYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHBhLmRpc3RhbmNlTW9kZWw7XG4gICAgICAgIHBhbm5lci5tYXhEaXN0YW5jZSA9IHBhLm1heERpc3RhbmNlO1xuICAgICAgICBwYW5uZXIucmVmRGlzdGFuY2UgPSBwYS5yZWZEaXN0YW5jZTtcbiAgICAgICAgcGFubmVyLnJvbGxvZmZGYWN0b3IgPSBwYS5yb2xsb2ZmRmFjdG9yO1xuICAgICAgICBwYW5uZXIucGFubmluZ01vZGVsID0gcGEucGFubmluZ01vZGVsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoZSBjb3JlIFNvdW5kIGluaXQuXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgQ29yZSBTb3VuZCBpbml0IG1ldGhvZC5cbiAgICogQHJldHVybiB7U291bmR9XG4gICAqL1xuICBTb3VuZC5wcm90b3R5cGUuaW5pdCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBwYXJlbnQuX29yaWVudGF0aW9uO1xuICAgICAgc2VsZi5fc3RlcmVvID0gcGFyZW50Ll9zdGVyZW87XG4gICAgICBzZWxmLl9wb3MgPSBwYXJlbnQuX3BvcztcbiAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSBwYXJlbnQuX3Bhbm5lckF0dHI7XG5cbiAgICAgIC8vIENvbXBsZXRlIGluaXRpbGl6YXRpb24gd2l0aCBob3dsZXIuanMgY29yZSBTb3VuZCdzIGluaXQgZnVuY3Rpb24uXG4gICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcblxuICAgICAgLy8gSWYgYSBzdGVyZW8gb3IgcG9zaXRpb24gd2FzIHNwZWNpZmllZCwgc2V0IGl0IHVwLlxuICAgICAgaWYgKHNlbGYuX3N0ZXJlbykge1xuICAgICAgICBwYXJlbnQuc3RlcmVvKHNlbGYuX3N0ZXJlbyk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bvcykge1xuICAgICAgICBwYXJlbnQucG9zKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0sIHNlbGYuX2lkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KShTb3VuZC5wcm90b3R5cGUuaW5pdCk7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBTb3VuZC5yZXNldCBtZXRob2QgdG8gY2xlYW4gdXAgcHJvcGVydGllcyBmcm9tIHRoZSBzcGF0aWFsIHBsdWdpbi5cbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBTb3VuZCByZXNldCBtZXRob2QuXG4gICAqIEByZXR1cm4ge1NvdW5kfVxuICAgKi9cbiAgU291bmQucHJvdG90eXBlLnJlc2V0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFJlc2V0IGFsbCBzcGF0aWFsIHBsdWdpbiBwcm9wZXJ0aWVzIG9uIHRoaXMgc291bmQuXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IHBhcmVudC5fb3JpZW50YXRpb247XG4gICAgICBzZWxmLl9zdGVyZW8gPSBwYXJlbnQuX3N0ZXJlbztcbiAgICAgIHNlbGYuX3BvcyA9IHBhcmVudC5fcG9zO1xuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHBhcmVudC5fcGFubmVyQXR0cjtcblxuICAgICAgLy8gSWYgYSBzdGVyZW8gb3IgcG9zaXRpb24gd2FzIHNwZWNpZmllZCwgc2V0IGl0IHVwLlxuICAgICAgaWYgKHNlbGYuX3N0ZXJlbykge1xuICAgICAgICBwYXJlbnQuc3RlcmVvKHNlbGYuX3N0ZXJlbyk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bvcykge1xuICAgICAgICBwYXJlbnQucG9zKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0sIHNlbGYuX2lkKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcGFubmVyKSB7XG4gICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIHBhbm5lci5cbiAgICAgICAgc2VsZi5fcGFubmVyLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgIHNlbGYuX3Bhbm5lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgcGFyZW50Ll9yZWZyZXNoQnVmZmVyKHNlbGYpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb21wbGV0ZSByZXNldHRpbmcgb2YgdGhlIHNvdW5kLlxuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIH07XG4gIH0pKFNvdW5kLnByb3RvdHlwZS5yZXNldCk7XG5cbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUgYW5kIHNhdmUgaXQgb24gdGhlIHNvdW5kLlxuICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgU3BlY2lmaWMgc291bmQgdG8gc2V0dXAgcGFubmluZyBvbi5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSBvZiBwYW5uZXIgdG8gY3JlYXRlOiAnc3RlcmVvJyBvciAnc3BhdGlhbCcuXG4gICAqL1xuICB2YXIgc2V0dXBQYW5uZXIgPSBmdW5jdGlvbihzb3VuZCwgdHlwZSkge1xuICAgIHR5cGUgPSB0eXBlIHx8ICdzcGF0aWFsJztcblxuICAgIC8vIENyZWF0ZSB0aGUgbmV3IHBhbm5lciBub2RlLlxuICAgIGlmICh0eXBlID09PSAnc3BhdGlhbCcpIHtcbiAgICAgIHNvdW5kLl9wYW5uZXIgPSBIb3dsZXIuY3R4LmNyZWF0ZVBhbm5lcigpO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lSW5uZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJHYWluID0gc291bmQuX3Bhbm5lckF0dHIuY29uZU91dGVyR2FpbjtcbiAgICAgIHNvdW5kLl9wYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWw7XG4gICAgICBzb3VuZC5fcGFubmVyLm1heERpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIubWF4RGlzdGFuY2U7XG4gICAgICBzb3VuZC5fcGFubmVyLnJlZkRpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIucmVmRGlzdGFuY2U7XG4gICAgICBzb3VuZC5fcGFubmVyLnJvbGxvZmZGYWN0b3IgPSBzb3VuZC5fcGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yO1xuICAgICAgc291bmQuX3Bhbm5lci5wYW5uaW5nTW9kZWwgPSBzb3VuZC5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWw7XG5cbiAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcG9zWzFdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoc291bmQuX3Bvc1syXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHNvdW5kLl9wb3NbMF0sIHNvdW5kLl9wb3NbMV0sIHNvdW5kLl9wb3NbMl0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWC5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQuX3Bhbm5lci5zZXRPcmllbnRhdGlvbihzb3VuZC5fb3JpZW50YXRpb25bMF0sIHNvdW5kLl9vcmllbnRhdGlvblsxXSwgc291bmQuX29yaWVudGF0aW9uWzJdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyKCk7XG4gICAgICBzb3VuZC5fcGFubmVyLnBhbi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fc3RlcmVvLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICB9XG5cbiAgICBzb3VuZC5fcGFubmVyLmNvbm5lY3Qoc291bmQuX25vZGUpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBjb25uZWN0aW9ucy5cbiAgICBpZiAoIXNvdW5kLl9wYXVzZWQpIHtcbiAgICAgIHNvdW5kLl9wYXJlbnQucGF1c2Uoc291bmQuX2lkLCB0cnVlKS5wbGF5KHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgfVxuICB9O1xufSkoKTtcbiIsICIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZWFyY3V0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGVhcmN1dDtcblxuZnVuY3Rpb24gZWFyY3V0KGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0pIHtcblxuICAgIGRpbSA9IGRpbSB8fCAyO1xuXG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoLFxuICAgICAgICBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJOb2RlID0gbGlua2VkTGlzdChkYXRhLCAwLCBvdXRlckxlbiwgZGltLCB0cnVlKSxcbiAgICAgICAgdHJpYW5nbGVzID0gW107XG5cbiAgICBpZiAoIW91dGVyTm9kZSB8fCBvdXRlck5vZGUubmV4dCA9PT0gb3V0ZXJOb2RlLnByZXYpIHJldHVybiB0cmlhbmdsZXM7XG5cbiAgICB2YXIgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgeCwgeSwgaW52U2l6ZTtcblxuICAgIGlmIChoYXNIb2xlcykgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKTtcblxuICAgIC8vIGlmIHRoZSBzaGFwZSBpcyBub3QgdG9vIHNpbXBsZSwgd2UnbGwgdXNlIHotb3JkZXIgY3VydmUgaGFzaCBsYXRlcjsgY2FsY3VsYXRlIHBvbHlnb24gYmJveFxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDgwICogZGltKSB7XG4gICAgICAgIG1pblggPSBtYXhYID0gZGF0YVswXTtcbiAgICAgICAgbWluWSA9IG1heFkgPSBkYXRhWzFdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBkaW07IGkgPCBvdXRlckxlbjsgaSArPSBkaW0pIHtcbiAgICAgICAgICAgIHggPSBkYXRhW2ldO1xuICAgICAgICAgICAgeSA9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgaWYgKHggPCBtaW5YKSBtaW5YID0geDtcbiAgICAgICAgICAgIGlmICh5IDwgbWluWSkgbWluWSA9IHk7XG4gICAgICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPiBtYXhZKSBtYXhZID0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1pblgsIG1pblkgYW5kIGludlNpemUgYXJlIGxhdGVyIHVzZWQgdG8gdHJhbnNmb3JtIGNvb3JkcyBpbnRvIGludGVnZXJzIGZvciB6LW9yZGVyIGNhbGN1bGF0aW9uXG4gICAgICAgIGludlNpemUgPSBNYXRoLm1heChtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xuICAgICAgICBpbnZTaXplID0gaW52U2l6ZSAhPT0gMCA/IDMyNzY3IC8gaW52U2l6ZSA6IDA7XG4gICAgfVxuXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDApO1xuXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcbn1cblxuLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGksIGxhc3Q7XG5cbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcbiAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH1cblxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XG4gICAgICAgIHJlbW92ZU5vZGUobGFzdCk7XG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3Q7XG59XG5cbi8vIGVsaW1pbmF0ZSBjb2xpbmVhciBvciBkdXBsaWNhdGUgcG9pbnRzXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xuICAgIGlmICghc3RhcnQpIHJldHVybiBzdGFydDtcbiAgICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7XG5cbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBhZ2FpbjtcbiAgICBkbyB7XG4gICAgICAgIGFnYWluID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHAgPSBlbmQgPSBwLnByZXY7XG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcbiAgICAgICAgICAgIGFnYWluID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IHAubmV4dDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XG5cbiAgICByZXR1cm4gZW5kO1xufVxuXG4vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XG4gICAgaWYgKCFlYXIpIHJldHVybjtcblxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbiAgICBpZiAoIXBhc3MgJiYgaW52U2l6ZSkgaW5kZXhDdXJ2ZShlYXIsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHN0b3AgPSBlYXIsXG4gICAgICAgIHByZXYsIG5leHQ7XG5cbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcbiAgICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7XG4gICAgICAgIHByZXYgPSBlYXIucHJldjtcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xuXG4gICAgICAgIGlmIChpbnZTaXplID8gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSA6IGlzRWFyKGVhcikpIHtcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0gfCAwKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGVhci5pIC8gZGltIHwgMCk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChuZXh0LmkgLyBkaW0gfCAwKTtcblxuICAgICAgICAgICAgcmVtb3ZlTm9kZShlYXIpO1xuXG4gICAgICAgICAgICAvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0ZXggbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0pO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAyKTtcblxuICAgICAgICAgICAgLy8gYXMgYSBsYXN0IHJlc29ydCwgdHJ5IHNwbGl0dGluZyB0aGUgcmVtYWluaW5nIHBvbHlnb24gaW50byB0d29cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMikge1xuICAgICAgICAgICAgICAgIHNwbGl0RWFyY3V0KGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gY2hlY2sgd2hldGhlciBhIHBvbHlnb24gbm9kZSBmb3JtcyBhIHZhbGlkIGVhciB3aXRoIGFkamFjZW50IG5vZGVzXG5mdW5jdGlvbiBpc0VhcihlYXIpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyBub3cgbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgb3RoZXIgcG9pbnRzIGluc2lkZSB0aGUgcG90ZW50aWFsIGVhclxuICAgIHZhciBheCA9IGEueCwgYnggPSBiLngsIGN4ID0gYy54LCBheSA9IGEueSwgYnkgPSBiLnksIGN5ID0gYy55O1xuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgeDAgPSBheCA8IGJ4ID8gKGF4IDwgY3ggPyBheCA6IGN4KSA6IChieCA8IGN4ID8gYnggOiBjeCksXG4gICAgICAgIHkwID0gYXkgPCBieSA/IChheSA8IGN5ID8gYXkgOiBjeSkgOiAoYnkgPCBjeSA/IGJ5IDogY3kpLFxuICAgICAgICB4MSA9IGF4ID4gYnggPyAoYXggPiBjeCA/IGF4IDogY3gpIDogKGJ4ID4gY3ggPyBieCA6IGN4KSxcbiAgICAgICAgeTEgPSBheSA+IGJ5ID8gKGF5ID4gY3kgPyBheSA6IGN5KSA6IChieSA+IGN5ID8gYnkgOiBjeSk7XG5cbiAgICB2YXIgcCA9IGMubmV4dDtcbiAgICB3aGlsZSAocCAhPT0gYSkge1xuICAgICAgICBpZiAocC54ID49IHgwICYmIHAueCA8PSB4MSAmJiBwLnkgPj0geTAgJiYgcC55IDw9IHkxICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIHZhciBhID0gZWFyLnByZXYsXG4gICAgICAgIGIgPSBlYXIsXG4gICAgICAgIGMgPSBlYXIubmV4dDtcblxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcblxuICAgIHZhciBheCA9IGEueCwgYnggPSBiLngsIGN4ID0gYy54LCBheSA9IGEueSwgYnkgPSBiLnksIGN5ID0gYy55O1xuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgeDAgPSBheCA8IGJ4ID8gKGF4IDwgY3ggPyBheCA6IGN4KSA6IChieCA8IGN4ID8gYnggOiBjeCksXG4gICAgICAgIHkwID0gYXkgPCBieSA/IChheSA8IGN5ID8gYXkgOiBjeSkgOiAoYnkgPCBjeSA/IGJ5IDogY3kpLFxuICAgICAgICB4MSA9IGF4ID4gYnggPyAoYXggPiBjeCA/IGF4IDogY3gpIDogKGJ4ID4gY3ggPyBieCA6IGN4KSxcbiAgICAgICAgeTEgPSBheSA+IGJ5ID8gKGF5ID4gY3kgPyBheSA6IGN5KSA6IChieSA+IGN5ID8gYnkgOiBjeSk7XG5cbiAgICAvLyB6LW9yZGVyIHJhbmdlIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZSBiYm94O1xuICAgIHZhciBtaW5aID0gek9yZGVyKHgwLCB5MCwgbWluWCwgbWluWSwgaW52U2l6ZSksXG4gICAgICAgIG1heFogPSB6T3JkZXIoeDEsIHkxLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBwID0gZWFyLnByZXZaLFxuICAgICAgICBuID0gZWFyLm5leHRaO1xuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgaW4gYm90aCBkaXJlY3Rpb25zXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblogJiYgbiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAocC54ID49IHgwICYmIHAueCA8PSB4MSAmJiBwLnkgPj0geTAgJiYgcC55IDw9IHkxICYmIHAgIT09IGEgJiYgcCAhPT0gYyAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHAueCwgcC55KSAmJiBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuXG4gICAgICAgIGlmIChuLnggPj0geDAgJiYgbi54IDw9IHgxICYmIG4ueSA+PSB5MCAmJiBuLnkgPD0geTEgJiYgbiAhPT0gYSAmJiBuICE9PSBjICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgbi54LCBuLnkpICYmIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgbiA9IG4ubmV4dFo7XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBkZWNyZWFzaW5nIHotb3JkZXJcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWikge1xuICAgICAgICBpZiAocC54ID49IHgwICYmIHAueCA8PSB4MSAmJiBwLnkgPj0geTAgJiYgcC55IDw9IHkxICYmIHAgIT09IGEgJiYgcCAhPT0gYyAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHAueCwgcC55KSAmJiBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKG4ueCA+PSB4MCAmJiBuLnggPD0geDEgJiYgbi55ID49IHkwICYmIG4ueSA8PSB5MSAmJiBuICE9PSBhICYmIG4gIT09IGMgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBuLngsIG4ueSkgJiYgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcblxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltIHwgMCk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwLmkgLyBkaW0gfCAwKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGIuaSAvIGRpbSB8IDApO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xuXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIGZpbHRlclBvaW50cyhwKTtcbn1cblxuLy8gdHJ5IHNwbGl0dGluZyBwb2x5Z29uIGludG8gdHdvIGFuZCB0cmlhbmd1bGF0ZSB0aGVtIGluZGVwZW5kZW50bHlcbmZ1bmN0aW9uIHNwbGl0RWFyY3V0KHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGxvb2sgZm9yIGEgdmFsaWQgZGlhZ29uYWwgdGhhdCBkaXZpZGVzIHRoZSBwb2x5Z29uIGludG8gdHdvXG4gICAgdmFyIGEgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBiID0gYS5uZXh0Lm5leHQ7XG4gICAgICAgIHdoaWxlIChiICE9PSBhLnByZXYpIHtcbiAgICAgICAgICAgIGlmIChhLmkgIT09IGIuaSAmJiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikpIHtcbiAgICAgICAgICAgICAgICAvLyBzcGxpdCB0aGUgcG9seWdvbiBpbiB0d28gYnkgdGhlIGRpYWdvbmFsXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBzcGxpdFBvbHlnb24oYSwgYik7XG5cbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgY29saW5lYXIgcG9pbnRzIGFyb3VuZCB0aGUgY3V0c1xuICAgICAgICAgICAgICAgIGEgPSBmaWx0ZXJQb2ludHMoYSwgYS5uZXh0KTtcbiAgICAgICAgICAgICAgICBjID0gZmlsdGVyUG9pbnRzKGMsIGMubmV4dCk7XG5cbiAgICAgICAgICAgICAgICAvLyBydW4gZWFyY3V0IG9uIGVhY2ggaGFsZlxuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChhLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMCk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGMsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiID0gYi5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGEgPSBhLm5leHQ7XG4gICAgfSB3aGlsZSAoYSAhPT0gc3RhcnQpO1xufVxuXG4vLyBsaW5rIGV2ZXJ5IGhvbGUgaW50byB0aGUgb3V0ZXIgbG9vcCwgcHJvZHVjaW5nIGEgc2luZ2xlLXJpbmcgcG9seWdvbiB3aXRob3V0IGhvbGVzXG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pIHtcbiAgICB2YXIgcXVldWUgPSBbXSxcbiAgICAgICAgaSwgbGVuLCBzdGFydCwgZW5kLCBsaXN0O1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgbGlzdCA9IGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBmYWxzZSk7XG4gICAgICAgIGlmIChsaXN0ID09PSBsaXN0Lm5leHQpIGxpc3Quc3RlaW5lciA9IHRydWU7XG4gICAgICAgIHF1ZXVlLnB1c2goZ2V0TGVmdG1vc3QobGlzdCkpO1xuICAgIH1cblxuICAgIHF1ZXVlLnNvcnQoY29tcGFyZVgpO1xuXG4gICAgLy8gcHJvY2VzcyBob2xlcyBmcm9tIGxlZnQgdG8gcmlnaHRcbiAgICBmb3IgKGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZShxdWV1ZVtpXSwgb3V0ZXJOb2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0ZXJOb2RlO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlWChhLCBiKSB7XG4gICAgcmV0dXJuIGEueCAtIGIueDtcbn1cblxuLy8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0XG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBicmlkZ2UgPSBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpO1xuICAgIGlmICghYnJpZGdlKSB7XG4gICAgICAgIHJldHVybiBvdXRlck5vZGU7XG4gICAgfVxuXG4gICAgdmFyIGJyaWRnZVJldmVyc2UgPSBzcGxpdFBvbHlnb24oYnJpZGdlLCBob2xlKTtcblxuICAgIC8vIGZpbHRlciBjb2xsaW5lYXIgcG9pbnRzIGFyb3VuZCB0aGUgY3V0c1xuICAgIGZpbHRlclBvaW50cyhicmlkZ2VSZXZlcnNlLCBicmlkZ2VSZXZlcnNlLm5leHQpO1xuICAgIHJldHVybiBmaWx0ZXJQb2ludHMoYnJpZGdlLCBicmlkZ2UubmV4dCk7XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gaHgpIHJldHVybiBtOyAvLyBob2xlIHRvdWNoZXMgb3V0ZXIgc2VnbWVudDsgcGljayBsZWZ0bW9zdCBlbmRwb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gb3V0ZXJOb2RlKTtcblxuICAgIGlmICghbSkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7XG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIHBvaW50cyBmb3VuZCwgd2UgaGF2ZSBhIHZhbGlkIGNvbm5lY3Rpb247XG4gICAgLy8gb3RoZXJ3aXNlIGNob29zZSB0aGUgcG9pbnQgb2YgdGhlIG1pbmltdW0gYW5nbGUgd2l0aCB0aGUgcmF5IGFzIGNvbm5lY3Rpb24gcG9pbnRcblxuICAgIHZhciBzdG9wID0gbSxcbiAgICAgICAgbXggPSBtLngsXG4gICAgICAgIG15ID0gbS55LFxuICAgICAgICB0YW5NaW4gPSBJbmZpbml0eSxcbiAgICAgICAgdGFuO1xuXG4gICAgcCA9IG07XG5cbiAgICBkbyB7XG4gICAgICAgIGlmIChoeCA+PSBwLnggJiYgcC54ID49IG14ICYmIGh4ICE9PSBwLnggJiZcbiAgICAgICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoaHkgPCBteSA/IGh4IDogcXgsIGh5LCBteCwgbXksIGh5IDwgbXkgPyBxeCA6IGh4LCBoeSwgcC54LCBwLnkpKSB7XG5cbiAgICAgICAgICAgIHRhbiA9IE1hdGguYWJzKGh5IC0gcC55KSAvIChoeCAtIHAueCk7IC8vIHRhbmdlbnRpYWxcblxuICAgICAgICAgICAgaWYgKGxvY2FsbHlJbnNpZGUocCwgaG9sZSkgJiZcbiAgICAgICAgICAgICAgICAodGFuIDwgdGFuTWluIHx8ICh0YW4gPT09IHRhbk1pbiAmJiAocC54ID4gbS54IHx8IChwLnggPT09IG0ueCAmJiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSkpKSkpIHtcbiAgICAgICAgICAgICAgICBtID0gcDtcbiAgICAgICAgICAgICAgICB0YW5NaW4gPSB0YW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0b3ApO1xuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIHdoZXRoZXIgc2VjdG9yIGluIHZlcnRleCBtIGNvbnRhaW5zIHNlY3RvciBpbiB2ZXJ0ZXggcCBpbiB0aGUgc2FtZSBjb29yZGluYXRlc1xuZnVuY3Rpb24gc2VjdG9yQ29udGFpbnNTZWN0b3IobSwgcCkge1xuICAgIHJldHVybiBhcmVhKG0ucHJldiwgbSwgcC5wcmV2KSA8IDAgJiYgYXJlYShwLm5leHQsIG0sIG0ubmV4dCkgPCAwO1xufVxuXG4vLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG5mdW5jdGlvbiBpbmRleEN1cnZlKHN0YXJ0LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnogPT09IDApIHAueiA9IHpPcmRlcihwLngsIHAueSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgIHAucHJldlogPSBwLnByZXY7XG4gICAgICAgIHAubmV4dFogPSBwLm5leHQ7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcC5wcmV2Wi5uZXh0WiA9IG51bGw7XG4gICAgcC5wcmV2WiA9IG51bGw7XG5cbiAgICBzb3J0TGlua2VkKHApO1xufVxuXG4vLyBTaW1vbiBUYXRoYW0ncyBsaW5rZWQgbGlzdCBtZXJnZSBzb3J0IGFsZ29yaXRobVxuLy8gaHR0cDovL3d3dy5jaGlhcmsuZ3JlZW5lbmQub3JnLnVrL35zZ3RhdGhhbS9hbGdvcml0aG1zL2xpc3Rzb3J0Lmh0bWxcbmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCkge1xuICAgIHZhciBpLCBwLCBxLCBlLCB0YWlsLCBudW1NZXJnZXMsIHBTaXplLCBxU2l6ZSxcbiAgICAgICAgaW5TaXplID0gMTtcblxuICAgIGRvIHtcbiAgICAgICAgcCA9IGxpc3Q7XG4gICAgICAgIGxpc3QgPSBudWxsO1xuICAgICAgICB0YWlsID0gbnVsbDtcbiAgICAgICAgbnVtTWVyZ2VzID0gMDtcblxuICAgICAgICB3aGlsZSAocCkge1xuICAgICAgICAgICAgbnVtTWVyZ2VzKys7XG4gICAgICAgICAgICBxID0gcDtcbiAgICAgICAgICAgIHBTaXplID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpblNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHBTaXplKys7XG4gICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgaWYgKCFxKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHFTaXplID0gaW5TaXplO1xuXG4gICAgICAgICAgICB3aGlsZSAocFNpemUgPiAwIHx8IChxU2l6ZSA+IDAgJiYgcSkpIHtcblxuICAgICAgICAgICAgICAgIGlmIChwU2l6ZSAhPT0gMCAmJiAocVNpemUgPT09IDAgfHwgIXEgfHwgcC56IDw9IHEueikpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHA7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBwU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBxO1xuICAgICAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcVNpemUtLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGFpbCkgdGFpbC5uZXh0WiA9IGU7XG4gICAgICAgICAgICAgICAgZWxzZSBsaXN0ID0gZTtcblxuICAgICAgICAgICAgICAgIGUucHJldlogPSB0YWlsO1xuICAgICAgICAgICAgICAgIHRhaWwgPSBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwID0gcTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWwubmV4dFogPSBudWxsO1xuICAgICAgICBpblNpemUgKj0gMjtcblxuICAgIH0gd2hpbGUgKG51bU1lcmdlcyA+IDEpO1xuXG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbi8vIHotb3JkZXIgb2YgYSBwb2ludCBnaXZlbiBjb29yZHMgYW5kIGludmVyc2Ugb2YgdGhlIGxvbmdlciBzaWRlIG9mIGRhdGEgYmJveFxuZnVuY3Rpb24gek9yZGVyKHgsIHksIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBjb29yZHMgYXJlIHRyYW5zZm9ybWVkIGludG8gbm9uLW5lZ2F0aXZlIDE1LWJpdCBpbnRlZ2VyIHJhbmdlXG4gICAgeCA9ICh4IC0gbWluWCkgKiBpbnZTaXplIHwgMDtcbiAgICB5ID0gKHkgLSBtaW5ZKSAqIGludlNpemUgfCAwO1xuXG4gICAgeCA9ICh4IHwgKHggPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB4ID0gKHggfCAoeCA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHggPSAoeCB8ICh4IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeCA9ICh4IHwgKHggPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHkgPSAoeSB8ICh5IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeSA9ICh5IHwgKHkgPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB5ID0gKHkgfCAoeSA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHkgPSAoeSB8ICh5IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICByZXR1cm4geCB8ICh5IDw8IDEpO1xufVxuXG4vLyBmaW5kIHRoZSBsZWZ0bW9zdCBub2RlIG9mIGEgcG9seWdvbiByaW5nXG5mdW5jdGlvbiBnZXRMZWZ0bW9zdChzdGFydCkge1xuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGxlZnRtb3N0ID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC54IDwgbGVmdG1vc3QueCB8fCAocC54ID09PSBsZWZ0bW9zdC54ICYmIHAueSA8IGxlZnRtb3N0LnkpKSBsZWZ0bW9zdCA9IHA7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIGxlZnRtb3N0O1xufVxuXG4vLyBjaGVjayBpZiBhIHBvaW50IGxpZXMgd2l0aGluIGEgY29udmV4IHRyaWFuZ2xlXG5mdW5jdGlvbiBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcHgsIHB5KSB7XG4gICAgcmV0dXJuIChjeCAtIHB4KSAqIChheSAtIHB5KSA+PSAoYXggLSBweCkgKiAoY3kgLSBweSkgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpID49IChieCAtIHB4KSAqIChheSAtIHB5KSAmJlxuICAgICAgICAgICAoYnggLSBweCkgKiAoY3kgLSBweSkgPj0gKGN4IC0gcHgpICogKGJ5IC0gcHkpO1xufVxuXG4vLyBjaGVjayBpZiBhIGRpYWdvbmFsIGJldHdlZW4gdHdvIHBvbHlnb24gbm9kZXMgaXMgdmFsaWQgKGxpZXMgaW4gcG9seWdvbiBpbnRlcmlvcilcbmZ1bmN0aW9uIGlzVmFsaWREaWFnb25hbChhLCBiKSB7XG4gICAgcmV0dXJuIGEubmV4dC5pICE9PSBiLmkgJiYgYS5wcmV2LmkgIT09IGIuaSAmJiAhaW50ZXJzZWN0c1BvbHlnb24oYSwgYikgJiYgLy8gZG9uZXMndCBpbnRlcnNlY3Qgb3RoZXIgZWRnZXNcbiAgICAgICAgICAgKGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSAmJiBtaWRkbGVJbnNpZGUoYSwgYikgJiYgLy8gbG9jYWxseSB2aXNpYmxlXG4gICAgICAgICAgICAoYXJlYShhLnByZXYsIGEsIGIucHJldikgfHwgYXJlYShhLCBiLnByZXYsIGIpKSB8fCAvLyBkb2VzIG5vdCBjcmVhdGUgb3Bwb3NpdGUtZmFjaW5nIHNlY3RvcnNcbiAgICAgICAgICAgIGVxdWFscyhhLCBiKSAmJiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA+IDAgJiYgYXJlYShiLnByZXYsIGIsIGIubmV4dCkgPiAwKTsgLy8gc3BlY2lhbCB6ZXJvLWxlbmd0aCBjYXNlXG59XG5cbi8vIHNpZ25lZCBhcmVhIG9mIGEgdHJpYW5nbGVcbmZ1bmN0aW9uIGFyZWEocCwgcSwgcikge1xuICAgIHJldHVybiAocS55IC0gcC55KSAqIChyLnggLSBxLngpIC0gKHEueCAtIHAueCkgKiAoci55IC0gcS55KTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHBvaW50cyBhcmUgZXF1YWxcbmZ1bmN0aW9uIGVxdWFscyhwMSwgcDIpIHtcbiAgICByZXR1cm4gcDEueCA9PT0gcDIueCAmJiBwMS55ID09PSBwMi55O1xufVxuXG4vLyBjaGVjayBpZiB0d28gc2VnbWVudHMgaW50ZXJzZWN0XG5mdW5jdGlvbiBpbnRlcnNlY3RzKHAxLCBxMSwgcDIsIHEyKSB7XG4gICAgdmFyIG8xID0gc2lnbihhcmVhKHAxLCBxMSwgcDIpKTtcbiAgICB2YXIgbzIgPSBzaWduKGFyZWEocDEsIHExLCBxMikpO1xuICAgIHZhciBvMyA9IHNpZ24oYXJlYShwMiwgcTIsIHAxKSk7XG4gICAgdmFyIG80ID0gc2lnbihhcmVhKHAyLCBxMiwgcTEpKTtcblxuICAgIGlmIChvMSAhPT0gbzIgJiYgbzMgIT09IG80KSByZXR1cm4gdHJ1ZTsgLy8gZ2VuZXJhbCBjYXNlXG5cbiAgICBpZiAobzEgPT09IDAgJiYgb25TZWdtZW50KHAxLCBwMiwgcTEpKSByZXR1cm4gdHJ1ZTsgLy8gcDEsIHExIGFuZCBwMiBhcmUgY29sbGluZWFyIGFuZCBwMiBsaWVzIG9uIHAxcTFcbiAgICBpZiAobzIgPT09IDAgJiYgb25TZWdtZW50KHAxLCBxMiwgcTEpKSByZXR1cm4gdHJ1ZTsgLy8gcDEsIHExIGFuZCBxMiBhcmUgY29sbGluZWFyIGFuZCBxMiBsaWVzIG9uIHAxcTFcbiAgICBpZiAobzMgPT09IDAgJiYgb25TZWdtZW50KHAyLCBwMSwgcTIpKSByZXR1cm4gdHJ1ZTsgLy8gcDIsIHEyIGFuZCBwMSBhcmUgY29sbGluZWFyIGFuZCBwMSBsaWVzIG9uIHAycTJcbiAgICBpZiAobzQgPT09IDAgJiYgb25TZWdtZW50KHAyLCBxMSwgcTIpKSByZXR1cm4gdHJ1ZTsgLy8gcDIsIHEyIGFuZCBxMSBhcmUgY29sbGluZWFyIGFuZCBxMSBsaWVzIG9uIHAycTJcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gZm9yIGNvbGxpbmVhciBwb2ludHMgcCwgcSwgciwgY2hlY2sgaWYgcG9pbnQgcSBsaWVzIG9uIHNlZ21lbnQgcHJcbmZ1bmN0aW9uIG9uU2VnbWVudChwLCBxLCByKSB7XG4gICAgcmV0dXJuIHEueCA8PSBNYXRoLm1heChwLngsIHIueCkgJiYgcS54ID49IE1hdGgubWluKHAueCwgci54KSAmJiBxLnkgPD0gTWF0aC5tYXgocC55LCByLnkpICYmIHEueSA+PSBNYXRoLm1pbihwLnksIHIueSk7XG59XG5cbmZ1bmN0aW9uIHNpZ24obnVtKSB7XG4gICAgcmV0dXJuIG51bSA+IDAgPyAxIDogbnVtIDwgMCA/IC0xIDogMDtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGludGVyc2VjdHMgYW55IHBvbHlnb24gc2VnbWVudHNcbmZ1bmN0aW9uIGludGVyc2VjdHNQb2x5Z29uKGEsIGIpIHtcbiAgICB2YXIgcCA9IGE7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC5pICE9PSBhLmkgJiYgcC5uZXh0LmkgIT09IGEuaSAmJiBwLmkgIT09IGIuaSAmJiBwLm5leHQuaSAhPT0gYi5pICYmXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0cyhwLCBwLm5leHQsIGEsIGIpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGxvY2FsbHkgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBsb2NhbGx5SW5zaWRlKGEsIGIpIHtcbiAgICByZXR1cm4gYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPCAwID9cbiAgICAgICAgYXJlYShhLCBiLCBhLm5leHQpID49IDAgJiYgYXJlYShhLCBhLnByZXYsIGIpID49IDAgOlxuICAgICAgICBhcmVhKGEsIGIsIGEucHJldikgPCAwIHx8IGFyZWEoYSwgYS5uZXh0LCBiKSA8IDA7XG59XG5cbi8vIGNoZWNrIGlmIHRoZSBtaWRkbGUgcG9pbnQgb2YgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbWlkZGxlSW5zaWRlKGEsIGIpIHtcbiAgICB2YXIgcCA9IGEsXG4gICAgICAgIGluc2lkZSA9IGZhbHNlLFxuICAgICAgICBweCA9IChhLnggKyBiLngpIC8gMixcbiAgICAgICAgcHkgPSAoYS55ICsgYi55KSAvIDI7XG4gICAgZG8ge1xuICAgICAgICBpZiAoKChwLnkgPiBweSkgIT09IChwLm5leHQueSA+IHB5KSkgJiYgcC5uZXh0LnkgIT09IHAueSAmJlxuICAgICAgICAgICAgICAgIChweCA8IChwLm5leHQueCAtIHAueCkgKiAocHkgLSBwLnkpIC8gKHAubmV4dC55IC0gcC55KSArIHAueCkpXG4gICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGluc2lkZTtcbn1cblxuLy8gbGluayB0d28gcG9seWdvbiB2ZXJ0aWNlcyB3aXRoIGEgYnJpZGdlOyBpZiB0aGUgdmVydGljZXMgYmVsb25nIHRvIHRoZSBzYW1lIHJpbmcsIGl0IHNwbGl0cyBwb2x5Z29uIGludG8gdHdvO1xuLy8gaWYgb25lIGJlbG9uZ3MgdG8gdGhlIG91dGVyIHJpbmcgYW5kIGFub3RoZXIgdG8gYSBob2xlLCBpdCBtZXJnZXMgaXQgaW50byBhIHNpbmdsZSByaW5nXG5mdW5jdGlvbiBzcGxpdFBvbHlnb24oYSwgYikge1xuICAgIHZhciBhMiA9IG5ldyBOb2RlKGEuaSwgYS54LCBhLnkpLFxuICAgICAgICBiMiA9IG5ldyBOb2RlKGIuaSwgYi54LCBiLnkpLFxuICAgICAgICBhbiA9IGEubmV4dCxcbiAgICAgICAgYnAgPSBiLnByZXY7XG5cbiAgICBhLm5leHQgPSBiO1xuICAgIGIucHJldiA9IGE7XG5cbiAgICBhMi5uZXh0ID0gYW47XG4gICAgYW4ucHJldiA9IGEyO1xuXG4gICAgYjIubmV4dCA9IGEyO1xuICAgIGEyLnByZXYgPSBiMjtcblxuICAgIGJwLm5leHQgPSBiMjtcbiAgICBiMi5wcmV2ID0gYnA7XG5cbiAgICByZXR1cm4gYjI7XG59XG5cbi8vIGNyZWF0ZSBhIG5vZGUgYW5kIG9wdGlvbmFsbHkgbGluayBpdCB3aXRoIHByZXZpb3VzIG9uZSAoaW4gYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBpbnNlcnROb2RlKGksIHgsIHksIGxhc3QpIHtcbiAgICB2YXIgcCA9IG5ldyBOb2RlKGksIHgsIHkpO1xuXG4gICAgaWYgKCFsYXN0KSB7XG4gICAgICAgIHAucHJldiA9IHA7XG4gICAgICAgIHAubmV4dCA9IHA7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBwLm5leHQgPSBsYXN0Lm5leHQ7XG4gICAgICAgIHAucHJldiA9IGxhc3Q7XG4gICAgICAgIGxhc3QubmV4dC5wcmV2ID0gcDtcbiAgICAgICAgbGFzdC5uZXh0ID0gcDtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU5vZGUocCkge1xuICAgIHAubmV4dC5wcmV2ID0gcC5wcmV2O1xuICAgIHAucHJldi5uZXh0ID0gcC5uZXh0O1xuXG4gICAgaWYgKHAucHJldlopIHAucHJldloubmV4dFogPSBwLm5leHRaO1xuICAgIGlmIChwLm5leHRaKSBwLm5leHRaLnByZXZaID0gcC5wcmV2Wjtcbn1cblxuZnVuY3Rpb24gTm9kZShpLCB4LCB5KSB7XG4gICAgLy8gdmVydGV4IGluZGV4IGluIGNvb3JkaW5hdGVzIGFycmF5XG4gICAgdGhpcy5pID0gaTtcblxuICAgIC8vIHZlcnRleCBjb29yZGluYXRlc1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IHZlcnRleCBub2RlcyBpbiBhIHBvbHlnb24gcmluZ1xuICAgIHRoaXMucHJldiA9IG51bGw7XG4gICAgdGhpcy5uZXh0ID0gbnVsbDtcblxuICAgIC8vIHotb3JkZXIgY3VydmUgdmFsdWVcbiAgICB0aGlzLnogPSAwO1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgbm9kZXMgaW4gei1vcmRlclxuICAgIHRoaXMucHJldlogPSBudWxsO1xuICAgIHRoaXMubmV4dFogPSBudWxsO1xuXG4gICAgLy8gaW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBpcyBhIHN0ZWluZXIgcG9pbnRcbiAgICB0aGlzLnN0ZWluZXIgPSBmYWxzZTtcbn1cblxuLy8gcmV0dXJuIGEgcGVyY2VudGFnZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHBvbHlnb24gYXJlYSBhbmQgaXRzIHRyaWFuZ3VsYXRpb24gYXJlYTtcbi8vIHVzZWQgdG8gdmVyaWZ5IGNvcnJlY3RuZXNzIG9mIHRyaWFuZ3VsYXRpb25cbmVhcmN1dC5kZXZpYXRpb24gPSBmdW5jdGlvbiAoZGF0YSwgaG9sZUluZGljZXMsIGRpbSwgdHJpYW5nbGVzKSB7XG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoO1xuICAgIHZhciBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcblxuICAgIHZhciBwb2x5Z29uQXJlYSA9IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSkpO1xuICAgIGlmIChoYXNIb2xlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBwb2x5Z29uQXJlYSAtPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRyaWFuZ2xlc0FyZWEgPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgdmFyIGEgPSB0cmlhbmdsZXNbaV0gKiBkaW07XG4gICAgICAgIHZhciBiID0gdHJpYW5nbGVzW2kgKyAxXSAqIGRpbTtcbiAgICAgICAgdmFyIGMgPSB0cmlhbmdsZXNbaSArIDJdICogZGltO1xuICAgICAgICB0cmlhbmdsZXNBcmVhICs9IE1hdGguYWJzKFxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2NdKSAqIChkYXRhW2IgKyAxXSAtIGRhdGFbYSArIDFdKSAtXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbYl0pICogKGRhdGFbYyArIDFdIC0gZGF0YVthICsgMV0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9seWdvbkFyZWEgPT09IDAgJiYgdHJpYW5nbGVzQXJlYSA9PT0gMCA/IDAgOlxuICAgICAgICBNYXRoLmFicygodHJpYW5nbGVzQXJlYSAtIHBvbHlnb25BcmVhKSAvIHBvbHlnb25BcmVhKTtcbn07XG5cbmZ1bmN0aW9uIHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSB7XG4gICAgdmFyIHN1bSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0LCBqID0gZW5kIC0gZGltOyBpIDwgZW5kOyBpICs9IGRpbSkge1xuICAgICAgICBzdW0gKz0gKGRhdGFbal0gLSBkYXRhW2ldKSAqIChkYXRhW2kgKyAxXSArIGRhdGFbaiArIDFdKTtcbiAgICAgICAgaiA9IGk7XG4gICAgfVxuICAgIHJldHVybiBzdW07XG59XG5cbi8vIHR1cm4gYSBwb2x5Z29uIGluIGEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXkgZm9ybSAoZS5nLiBhcyBpbiBHZW9KU09OKSBpbnRvIGEgZm9ybSBFYXJjdXQgYWNjZXB0c1xuZWFyY3V0LmZsYXR0ZW4gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHZhciBkaW0gPSBkYXRhWzBdWzBdLmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0ge3ZlcnRpY2VzOiBbXSwgaG9sZXM6IFtdLCBkaW1lbnNpb25zOiBkaW19LFxuICAgICAgICBob2xlSW5kZXggPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBkaW07IGQrKykgcmVzdWx0LnZlcnRpY2VzLnB1c2goZGF0YVtpXVtqXVtkXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBob2xlSW5kZXggKz0gZGF0YVtpIC0gMV0ubGVuZ3RoO1xuICAgICAgICAgICAgcmVzdWx0LmhvbGVzLnB1c2goaG9sZUluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbiIsICJleHBvcnQgKiBmcm9tICcuLzh0aHdhbGwtY2FtZXJhLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vYW5jaG9yLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vY3Vyc29yLXRhcmdldC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2N1cnNvci5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2RlYnVnLW9iamVjdC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2RldmljZS1vcmllbnRhdGlvbi1sb29rLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vZmluZ2VyLWN1cnNvci5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2ZpeGVkLWZvdmVhdGlvbi5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2hhbmQtdHJhY2tpbmcuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9oaXQtdGVzdC1sb2NhdGlvbi5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2hvd2xlci1hdWRpby1saXN0ZW5lci5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2hvd2xlci1hdWRpby1zb3VyY2UuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9pbWFnZS10ZXh0dXJlLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vbW91c2UtbG9vay5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3BsYXllci1oZWlnaHQuanMnO1xuZXhwb3J0ICogZnJvbSAnLi90YXJnZXQtZnJhbWVyYXRlLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdGVsZXBvcnQuanMnO1xuZXhwb3J0ICogZnJvbSAnLi90cmFpbC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3R3by1qb2ludC1pay1zb2x2ZXIuanMnO1xuZXhwb3J0ICogZnJvbSAnLi92aWRlby10ZXh0dXJlLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdnItbW9kZS1hY3RpdmUtc3dpdGNoLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vcGxhbmUtZGV0ZWN0aW9uLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdnJtLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vd2FzZC1jb250cm9scy5qcyc7XG4iLCAiLyoqXG4gKiBDb21wb25lbnQgcHJvcGVydHkgdHlwZS5cbiAqL1xuZXhwb3J0IHZhciBUeXBlO1xuKGZ1bmN0aW9uIChUeXBlKSB7XG4gICAgLyoqXG4gICAgICogKipOYXRpdmUqKlxuICAgICAqXG4gICAgICogUHJvcGVydHkgb2YgYSBuYXRpdmUgY29tcG9uZW50LiBNdXN0IG5vdCBiZSB1c2VkIGluIGN1c3RvbSBjb21wb25lbnRzLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIFR5cGVbVHlwZVtcIk5hdGl2ZVwiXSA9IDFdID0gXCJOYXRpdmVcIjtcbiAgICAvKipcbiAgICAgKiAqKkJvb2wqKjpcbiAgICAgKlxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIGNoZWNrYm94LlxuICAgICAqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgZmFsc2VgLCB1bmxlc3Mgb3ZlcnJpZGRlbiBieSB0aGUgYGRlZmF1bHRgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIFR5cGVbVHlwZVtcIkJvb2xcIl0gPSAyXSA9IFwiQm9vbFwiO1xuICAgIC8qKlxuICAgICAqICoqSW50Kio6XG4gICAgICpcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYW4gaW50ZWdlciBpbnB1dCBmaWVsZC5cbiAgICAgKlxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYDBgLCB1bmxlc3Mgb3ZlcnJpZGRlbiBieSB0aGUgYGRlZmF1bHRgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIFR5cGVbVHlwZVtcIkludFwiXSA9IDRdID0gXCJJbnRcIjtcbiAgICAvKipcbiAgICAgKiAqKkZsb2F0Kio6XG4gICAgICpcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBmbG9hdGluZyBwb2ludCBpbnB1dCBmaWVsZC5cbiAgICAgKlxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYDAuMGAsIHVubGVzcyBvdmVycmlkZGVuIGJ5IHRoZSBgZGVmYXVsdGAgcHJvcGVydHkuXG4gICAgICovXG4gICAgVHlwZVtUeXBlW1wiRmxvYXRcIl0gPSA4XSA9IFwiRmxvYXRcIjtcbiAgICAvKipcbiAgICAgKiAqKlN0cmluZyAvIFRleHQqKjpcbiAgICAgKlxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIHNpbmdsZS1saW5lIHRleHQgaW5wdXQgZmllbGQuXG4gICAgICpcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGFuIGVtcHR5IHN0cmluZywgdW5sZXNzIG92ZXJyaWRkZW4gYnkgdGhlIGBkZWZhdWx0YFxuICAgICAqIHByb3BlcnR5LlxuICAgICAqL1xuICAgIFR5cGVbVHlwZVtcIlN0cmluZ1wiXSA9IDE2XSA9IFwiU3RyaW5nXCI7XG4gICAgLyoqXG4gICAgICogKipFbnVtZXJhdGlvbioqOlxuICAgICAqXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgZHJvcGRvd24gd2l0aCBnaXZlbiB2YWx1ZXMuIFRoZSBhZGRpdGlvbmFsXG4gICAgICogYHZhbHVlc2AgcGFyYW1ldGVyIHdpdGggc2VsZWN0aW9uIG9wdGlvbnMgaXMgbWFuZGF0b3J5LlxuICAgICAqXG4gICAgICogVGhlIHByb3BlcnR5IHZhbHVlIGlzIHJlc29sdmVkIHRvIGFuICoqaW5kZXgqKiBpbnRvIHRoZSBgdmFsdWVzYCBhcnJheS5cbiAgICAgKlxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gYHZhbHVlc2AsIHVubGVzcyBvdmVycmlkZGVuIGJ5XG4gICAgICogdGhlIGBkZWZhdWx0YCBwcm9wZXJ0eS4gVGhlIGBkZWZhdWx0YCB2YWx1ZSBjYW4gYmUgYSBzdHJpbmcgb3IgYW4gaW5kZXhcbiAgICAgKiBpbnRvIGB2YWx1ZXNgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICAgIGNhbWVyYToge3R5cGU6IFR5cGUuRW51bSwgdmFsdWVzOiBbJ2F1dG8nLCAnYmFjaycsICdmcm9udCddLCBkZWZhdWx0OiAnYXV0byd9LFxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIFR5cGVbVHlwZVtcIkVudW1cIl0gPSAzMl0gPSBcIkVudW1cIjtcbiAgICAvKipcbiAgICAgKiAqKk9iamVjdCByZWZlcmVuY2UqKjpcbiAgICAgKlxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhbiBvYmplY3QgcmVzb3VyY2Ugc2VsZWN0aW9uIGRyb3Bkb3duXG4gICAgICogd2l0aCBvYmplY3QgcGlja2VyLlxuICAgICAqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXG4gICAgICovXG4gICAgVHlwZVtUeXBlW1wiT2JqZWN0XCJdID0gNjRdID0gXCJPYmplY3RcIjtcbiAgICAvKipcbiAgICAgKiAqKk1lc2ggcmVmZXJlbmNlKio6XG4gICAgICpcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBtZXNoIHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93bi5cbiAgICAgKlxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxuICAgICAqL1xuICAgIFR5cGVbVHlwZVtcIk1lc2hcIl0gPSAxMjhdID0gXCJNZXNoXCI7XG4gICAgLyoqXG4gICAgICogKipUZXh0dXJlIHJlZmVyZW5jZSoqOlxuICAgICAqXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgdGV4dHVyZSByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd24uXG4gICAgICpcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBudWxsYC5cbiAgICAgKi9cbiAgICBUeXBlW1R5cGVbXCJUZXh0dXJlXCJdID0gMjU2XSA9IFwiVGV4dHVyZVwiO1xuICAgIC8qKlxuICAgICAqICoqTWF0ZXJpYWwgcmVmZXJlbmNlKio6XG4gICAgICpcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBtYXRlcmlhbCByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd24uXG4gICAgICpcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBudWxsYC5cbiAgICAgKi9cbiAgICBUeXBlW1R5cGVbXCJNYXRlcmlhbFwiXSA9IDUxMl0gPSBcIk1hdGVyaWFsXCI7XG4gICAgLyoqXG4gICAgICogKipBbmltYXRpb24gcmVmZXJlbmNlKio6XG4gICAgICpcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYW4gYW5pbWF0aW9uIHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93bi5cbiAgICAgKlxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxuICAgICAqL1xuICAgIFR5cGVbVHlwZVtcIkFuaW1hdGlvblwiXSA9IDEwMjRdID0gXCJBbmltYXRpb25cIjtcbiAgICAvKipcbiAgICAgKiAqKlNraW4gcmVmZXJlbmNlKio6XG4gICAgICpcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBza2luIHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93bi5cbiAgICAgKlxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxuICAgICAqL1xuICAgIFR5cGVbVHlwZVtcIlNraW5cIl0gPSAyMDQ4XSA9IFwiU2tpblwiO1xuICAgIC8qKlxuICAgICAqICoqQ29sb3IqKjpcbiAgICAgKlxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIGNvbG9yIHdpZGdldC5cbiAgICAgKlxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYFswLjAsIDAuMCwgMC4wLCAxLjBdYCwgdW5sZXNzIG92ZXJyaWRkZW4gYnkgdGhlXG4gICAgICogYGRlZmF1bHRgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIFR5cGVbVHlwZVtcIkNvbG9yXCJdID0gNDA5Nl0gPSBcIkNvbG9yXCI7XG59KShUeXBlIHx8IChUeXBlID0ge30pKTtcbi8qKlxuICogQ29tcG9uZW50IHByb3BlcnR5IG5hbWVzcGFjZS5cbiAqXG4gKiBVc2FnZTpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHtDb21wb25lbnQsIFByb3BlcnR5fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuICpcbiAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAqICAgICAgICAgbXlCb29sOiBQcm9wZXJ0eS5ib29sKHRydWUpLFxuICogICAgICAgICBteUludDogUHJvcGVydHkuaW50KDQyKSxcbiAqICAgICAgICAgbXlTdHJpbmc6IFByb3BlcnR5LnN0cmluZygnSGVsbG8gV29ybGQhJyksXG4gKiAgICAgICAgIG15TWVzaDogUHJvcGVydHkubWVzaCgpLFxuICogICAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEZvciBUeXBlU2NyaXB0IHVzZXJzLCB5b3UgY2FuIHVzZSB0aGUgZGVjb3JhdG9ycyBpbnN0ZWFkLlxuICovXG5leHBvcnQgY29uc3QgUHJvcGVydHkgPSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGJvb2xlYW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIGBmYWxzZWAuXG4gICAgICovXG4gICAgYm9vbChkZWZhdWx0VmFsdWUgPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSB9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGludGVnZXIgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIGAwYC5cbiAgICAgKi9cbiAgICBpbnQoZGVmYXVsdFZhbHVlID0gMCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gZmxvYXQgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIGAwLjBgLlxuICAgICAqL1xuICAgIGZsb2F0KGRlZmF1bHRWYWx1ZSA9IDAuMCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgfTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBzdHJpbmcgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIGAnJ2AuXG4gICAgICovXG4gICAgc3RyaW5nKGRlZmF1bHRWYWx1ZSA9ICcnKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuU3RyaW5nLCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgfTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBlbnVtZXJhdGlvbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZXMgVGhlIGxpc3Qgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuIENhbiBiZSBhIHN0cmluZyBvciBhbiBpbmRleCBpbnRvXG4gICAgICogICAgIGB2YWx1ZXNgLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIHRoZSBmaXJzdCBlbGVtZW50LlxuICAgICAqL1xuICAgIGVudW0odmFsdWVzLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5FbnVtLCB2YWx1ZXMsIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSB9O1xuICAgIH0sXG4gICAgLyoqIENyZWF0ZSBhbiB7QGxpbmsgT2JqZWN0M0R9IHJlZmVyZW5jZSBwcm9wZXJ0eS4gKi9cbiAgICBvYmplY3Qob3B0cykge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLk9iamVjdCwgZGVmYXVsdDogbnVsbCwgcmVxdWlyZWQ6IG9wdHM/LnJlcXVpcmVkID8/IGZhbHNlIH07XG4gICAgfSxcbiAgICAvKiogQ3JlYXRlIGEge0BsaW5rIE1lc2h9IHJlZmVyZW5jZSBwcm9wZXJ0eS4gKi9cbiAgICBtZXNoKG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5NZXNoLCBkZWZhdWx0OiBudWxsLCByZXF1aXJlZDogb3B0cz8ucmVxdWlyZWQgPz8gZmFsc2UgfTtcbiAgICB9LFxuICAgIC8qKiBDcmVhdGUgYSB7QGxpbmsgVGV4dHVyZX0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xuICAgIHRleHR1cmUob3B0cykge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLlRleHR1cmUsIGRlZmF1bHQ6IG51bGwsIHJlcXVpcmVkOiBvcHRzPy5yZXF1aXJlZCA/PyBmYWxzZSB9O1xuICAgIH0sXG4gICAgLyoqIENyZWF0ZSBhIHtAbGluayBNYXRlcmlhbH0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xuICAgIG1hdGVyaWFsKG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5NYXRlcmlhbCwgZGVmYXVsdDogbnVsbCwgcmVxdWlyZWQ6IG9wdHM/LnJlcXVpcmVkID8/IGZhbHNlIH07XG4gICAgfSxcbiAgICAvKiogQ3JlYXRlIGFuIHtAbGluayBBbmltYXRpb259IHJlZmVyZW5jZSBwcm9wZXJ0eS4gKi9cbiAgICBhbmltYXRpb24ob3B0cykge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkFuaW1hdGlvbiwgZGVmYXVsdDogbnVsbCwgcmVxdWlyZWQ6IG9wdHM/LnJlcXVpcmVkID8/IGZhbHNlIH07XG4gICAgfSxcbiAgICAvKiogQ3JlYXRlIGEge0BsaW5rIFNraW59IHJlZmVyZW5jZSBwcm9wZXJ0eS4gKi9cbiAgICBza2luKG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5Ta2luLCBkZWZhdWx0OiBudWxsLCByZXF1aXJlZDogb3B0cz8ucmVxdWlyZWQgPz8gZmFsc2UgfTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGNvbG9yIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHIgVGhlIHJlZCBjb21wb25lbnQsIGluIHRoZSByYW5nZSBbMDsgMV0uXG4gICAgICogQHBhcmFtIGcgVGhlIGdyZWVuIGNvbXBvbmVudCwgaW4gdGhlIHJhbmdlIFswOyAxXS5cbiAgICAgKiBAcGFyYW0gYiBUaGUgYmx1ZSBjb21wb25lbnQsIGluIHRoZSByYW5nZSBbMDsgMV0uXG4gICAgICogQHBhcmFtIGEgVGhlIGFscGhhIGNvbXBvbmVudCwgaW4gdGhlIHJhbmdlIFswOyAxXS5cbiAgICAgKi9cbiAgICBjb2xvcihyID0gMC4wLCBnID0gMC4wLCBiID0gMC4wLCBhID0gMS4wKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuQ29sb3IsIGRlZmF1bHQ6IFtyLCBnLCBiLCBhXSB9O1xuICAgIH0sXG59O1xuIiwgImltcG9ydCB7IFByb3BlcnR5LCBUeXBlIH0gZnJvbSAnLi9wcm9wZXJ0eS5qcyc7XG4vKipcbiAqIERlY29yYXRvciBmb3IgSlMgY29tcG9uZW50IHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIGRhdGEgVGhlIHByb3BlcnR5IGRlc2NyaXB0aW9uIGFzIGFuIG9iamVjdCBsaXRlcmFsXG4gKiBAcmV0dXJucyBBIGRlY29yYXRvciBmdW5jdGlvbiBtb2RpZnlpbmcgdGhlIGBQcm9wZXJ0aWVzYCBzdGF0aWNcbiAqICAgICBhdHRyaWJ1dGVcbiAqL1xuZnVuY3Rpb24gcHJvcGVydHlEZWNvcmF0b3IoZGF0YSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICBjb25zdCBjdG9yID0gdGFyZ2V0LmNvbnN0cnVjdG9yO1xuICAgICAgICBjdG9yLlByb3BlcnRpZXMgPSBjdG9yLmhhc093blByb3BlcnR5KCdQcm9wZXJ0aWVzJykgPyBjdG9yLlByb3BlcnRpZXMgOiB7fTtcbiAgICAgICAgY3Rvci5Qcm9wZXJ0aWVzW3Byb3BlcnR5S2V5XSA9IGRhdGE7XG4gICAgfTtcbn1cbi8qKlxuICogRGVjb3JhdG9yIGZvciBtYWtpbmcgYSBnZXR0ZXIgZW51bWVyYWJsZS5cbiAqXG4gKiBVc2FnZTpcbiAqXG4gKiBgYGB0c1xuICogY2xhc3MgTXlDbGFzcyB7XG4gKiAgICAgQGVudW1lcmFibGUoKVxuICogICAgIGdldCBwcm9qZWN0aW9uTWF0cml4KCk6IEZsb2F0MzJBcnJheSB7IC4uLiB9XG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVudW1lcmFibGUoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChfLCBfXywgZGVzY3JpcHRvcikge1xuICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSB0cnVlO1xuICAgIH07XG59XG4vKipcbiAqIERlY29yYXRvciBmb3IgbmF0aXZlIHByb3BlcnRpZXMuXG4gKlxuICogVXNhZ2U6XG4gKlxuICogYGBgdHNcbiAqIGNsYXNzIE15Q2xhc3Mge1xuICogICAgIEBuYXRpdmVQcm9wZXJ0eSgpXG4gKiAgICAgZ2V0IHByb2plY3Rpb25NYXRyaXgoKTogRmxvYXQzMkFycmF5IHsgLi4uIH1cbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmF0aXZlUHJvcGVydHkoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGVudW1lcmFibGUoKSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgcHJvcGVydHlEZWNvcmF0b3IoeyB0eXBlOiBUeXBlLk5hdGl2ZSB9KSh0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICB9O1xufVxuLyoqXG4gKiBQcm9wZXJ0eSBkZWNvcmF0b3JzIG5hbWVzcGFjZS5cbiAqXG4gKiBZb3UgY2FuIHVzZSB0aGUgZGVjb3JhdG9ycyB0byBtYXJrIGEgY2xhc3MgYXR0cmlidXRlIGFzXG4gKiBhIFdvbmRlcmxhbmQgRW5naW5lIHByb3BlcnR5LlxuICpcbiAqIFVzYWdlOlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQge01lc2h9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG4gKiBpbXBvcnQge3Byb3BlcnR5fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XG4gKlxuICogY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICogICAgIEBwcm9wZXJ0eS5ib29sKHRydWUpXG4gKiAgICAgbXlCb29sITogYm9vbGVhbjtcbiAqXG4gKiAgICAgQHByb3BlcnR5LmludCg0MilcbiAqICAgICBteUludCE6IG51bWJlcjtcbiAqXG4gKiAgICAgQHByb3BlcnR5LnN0cmluZygnSGVsbG8gV29ybGQhJylcbiAqICAgICBteVN0cmluZyE6IHN0cmluZztcbiAqXG4gKiAgICAgQHByb3BlcnR5Lm1lc2goKVxuICogICAgIG15TWVzaCE6IE1lc2g7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBGb3IgSmF2YVNjcmlwdCB1c2VycywgcGxlYXNlIGRlY2xhcmUgdGhlIHByb3BlcnRpZXMgc3RhdGljYWxseS5cbiAqL1xuZXhwb3J0IGNvbnN0IHByb3BlcnR5ID0ge307XG5mb3IgKGNvbnN0IG5hbWUgaW4gUHJvcGVydHkpIHtcbiAgICAvKiBBc3NpZ24gZWFjaCBwcm9wZXJ0eSBmdW5jdG9yIHRvIGEgVHlwZVNjcmlwdCBkZWNvcmF0b3IuXG4gICAgICogVGhpcyBjb2RlIGV4dHJhY3RzIHBhcmFtZXRlcnMgYW5kIHJldHVybiB0eXBlIHRvIHByb3ZpZGUgcHJvcGVyXG4gICAgICogdHlwaW5ncyB0byB0aGUgdXNlci4gKi9cbiAgICBwcm9wZXJ0eVtuYW1lXSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IGZ1bmN0b3IgPSBQcm9wZXJ0eVtuYW1lXTtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5RGVjb3JhdG9yKGZ1bmN0b3IoLi4uYXJncykpO1xuICAgIH07XG59XG4iLCAiLyoqXG4gKiBDaGVjayBpZiBhIGdpdmVuIHZhbHVlIGlzIGEgbmF0aXZlIHN0cmluZyBvciBhIGBTdHJpbmdgIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaGFzIHR5cGUgc3RyaW5nIGxpdGVyYWwgb3IgYFN0cmluZ2AsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09ICcnKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gdmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdmFsdWUuY29uc3RydWN0b3IgPT09IFN0cmluZyk7XG59XG4vKipcbiAqIENoZWNrIGlmIGEgZ2l2ZW4gdmFsdWUgaXMgYSBuYXRpdmUgbnVtYmVyIG9yIGEgYE51bWJlcmAgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBoYXMgdHlwZSBudW1iZXIgbGl0ZXJhbCBvciBgTnVtYmVyYCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdmFsdWUuY29uc3RydWN0b3IgPT09IE51bWJlcjtcbn1cbiIsICIvKiogSW50ZXJuYWwgdHlwZSBmb3IgdHJhbnNhY3Rpb24uICovXG52YXIgVHJhbnNhY3Rpb25UeXBlO1xuKGZ1bmN0aW9uIChUcmFuc2FjdGlvblR5cGUpIHtcbiAgICBUcmFuc2FjdGlvblR5cGVbVHJhbnNhY3Rpb25UeXBlW1wiQWRkaXRpb25cIl0gPSAxXSA9IFwiQWRkaXRpb25cIjtcbiAgICBUcmFuc2FjdGlvblR5cGVbVHJhbnNhY3Rpb25UeXBlW1wiUmVtb3ZhbFwiXSA9IDJdID0gXCJSZW1vdmFsXCI7XG59KShUcmFuc2FjdGlvblR5cGUgfHwgKFRyYW5zYWN0aW9uVHlwZSA9IHt9KSk7XG4vKipcbiAqIEV2ZW50IGVtaXR0ZXIuXG4gKlxuICogVGhpcyBjbGFzcyBhbGxvd3MgdG8gcmVnaXN0ZXIgbGlzdGVuZXJzIHRoYXQgd2lsbCBnZXQgbm90aWZpZWQgYnkgdGhlIGVtaXR0ZXIuXG4gKlxuICogVXNhZ2UgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogLy8gYG9uUHJlUmVuZGVyYCBpcyBhbiBgRW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBzY2VuZS5vblByZVJlbmRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ2JlZm9yZSByZW5kZXJpbmcnKSk7XG4gKiAvLyBgb25Qb3N0UmVuZGVyYCBpcyBhbiBgRW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBzY2VuZS5vblBvc3RSZW5kZXIuYWRkKCgpID0+IGNvbnNvbGUubG9nKCdhZnRlciByZW5kZXJpbmcnKSk7XG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIGNyZWF0ZSB5b3VyIG93biBlbWl0dGVyczpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHtFbWl0dGVyfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuICpcbiAqIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpO1xuICogYGBgXG4gKlxuICogWW91IGNhbiBub3RpZnkgbGlzdGVuZXJzIGluIHRvIHlvdXIgZW1pdHRlciB1c2luZyB7QGxpbmsgRW1pdHRlci5ub3RpZnl9OlxuICpcbiAqIGBgYGpzXG4gKiAvLyBOb3RpZmllcyBhbGwgdGhlIGxpc3RlbmVycy5cbiAqIGVtaXR0ZXIubm90aWZ5KCk7XG4gKiAvLyBOb3RpZmllcyBhbGwgdGhlIGxpc3RlbmVycyB3aXRoIHNvbWUgZGF0YS5cbiAqIGVtaXR0ZXIubm90aWZ5KHsgbXlJbnQ6IDQyLCBteVN0cjogJ0hlbGxvIFdvcmxkIScgfSk7XG4gKiBgYGBcbiAqXG4gKiBAY2F0ZWdvcnkgZXZlbnRcbiAqL1xuZXhwb3J0IGNsYXNzIEVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgbGlzdGVuZXJzIHRvIHRyaWdnZXIgd2hlbiBgbm90aWZ5YCBpcyBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgX2xpc3RlbmVycyA9IFtdO1xuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiB0aGUgZW1pdHRlciBpcyBjdXJyZW50bHkgbm90aWZ5aW5nIGxpc3RlbmVycy4gVGhpc1xuICAgICAqIGlzIHVzZWQgdG8gZGVmZXIgYWRkaXRpb24gYW5kIHJlbW92YWwuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgX25vdGlmeWluZyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFBlbmRpbmcgYWRkaXRpb25zIC8gcmVtb3ZhbHMsIHBlcmZvcm1lZCBkdXJpbmcgYSBub3RpZmljYXRpb24uXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgX3RyYW5zYWN0aW9ucyA9IFtdO1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgbmV3IGxpc3RlbmVyIHRvIGJlIHRyaWdnZXJlZCBvbiB7QGxpbmsgRW1pdHRlci5ub3RpZnl9LlxuICAgICAqXG4gICAgICogQmFzaWMgdXNhZ2U6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGVtaXR0ZXIuYWRkKChkYXRhKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdldmVudCByZWNlaXZlZCEnKTtcbiAgICAgKiAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGUgbGlzdGVuZXIgd2hlbiBhbiBldmVudCBpcyByZWNlaXZlZDpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogZW1pdHRlci5hZGQoKGRhdGEpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2V2ZW50IHJlY2VpdmVkIScpO1xuICAgICAqICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgKiB9LCB7b25jZTogdHJ1ZX0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjYWxsYmFjayB0byByZWdpc3Rlci5cbiAgICAgKiBAcGFyYW0gb3B0cyBUaGUgbGlzdGVuZXIgb3B0aW9ucy4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHBsZWFzZSBoYXZlIGEgbG9va1xuICAgICAqICAgICBhdCB0aGUge0BsaW5rIExpc3RlbmVyT3B0aW9uc30gaW50ZXJmYWNlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpXG4gICAgICovXG4gICAgYWRkKGxpc3RlbmVyLCBvcHRzID0ge30pIHtcbiAgICAgICAgY29uc3QgeyBvbmNlID0gZmFsc2UsIGlkID0gdW5kZWZpbmVkIH0gPSBvcHRzO1xuICAgICAgICBjb25zdCBkYXRhID0geyBpZCwgb25jZSwgY2FsbGJhY2s6IGxpc3RlbmVyIH07XG4gICAgICAgIGlmICh0aGlzLl9ub3RpZnlpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zYWN0aW9ucy5wdXNoKHsgdHlwZTogVHJhbnNhY3Rpb25UeXBlLkFkZGl0aW9uLCBkYXRhIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2goZGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIHtAbGluayBFbWl0dGVyLmFkZH0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJzIFRoZSBjYWxsYmFjayhzKSB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBFbWl0dGVyLmFkZH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBwdXNoKC4uLmxpc3RlbmVycykge1xuICAgICAgICBmb3IgKGNvbnN0IGNiIG9mIGxpc3RlbmVycylcbiAgICAgICAgICAgIHRoaXMuYWRkKGNiKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgbmV3IGxpc3RlbmVyIHRvIGJlIHRyaWdnZXJlZCBvbiB7QGxpbmsgRW1pdHRlci5ub3RpZnl9LlxuICAgICAqXG4gICAgICogT25jZSBub3RpZmllZCwgdGhlIGxpc3RlbmVyIHdpbGwgYmUgYXV0b21hdGljYWxseSByZW1vdmVkLlxuICAgICAqXG4gICAgICogVGhlIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGNhbGxpbmcge0BsaW5rIEVtaXR0ZXIuYWRkfSB3aXRoOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBlbWl0dGVyLmFkZChsaXN0ZW5lciwge29uY2U6IHRydWV9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgY2FsbGJhY2sgdG8gcmVnaXN0ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgb25jZShsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQobGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgcmVnaXN0ZXJlZCBsaXN0ZW5lci5cbiAgICAgKlxuICAgICAqIFVzYWdlIHdpdGggYSBjYWxsYmFjazpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogY29uc3QgbGlzdGVuZXIgPSAoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSk7XG4gICAgICogZW1pdHRlci5hZGQobGlzdGVuZXIpO1xuICAgICAqXG4gICAgICogLy8gUmVtb3ZlIHVzaW5nIHRoZSBjYWxsYmFjayByZWZlcmVuY2U6XG4gICAgICogZW1pdHRlci5yZW1vdmUobGlzdGVuZXIpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVXNhZ2Ugd2l0aCBhbiBpZDpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogZW1pdHRlci5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpLCB7aWQ6ICdteS1jYWxsYmFjayd9KTtcbiAgICAgKlxuICAgICAqIC8vIFJlbW92ZSB1c2luZyB0aGUgaWQ6XG4gICAgICogZW1pdHRlci5yZW1vdmUoJ215LWNhbGxiYWNrJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBVc2luZyBpZGVudGlmaWVycywgeW91IHdpbGwgbmVlZCB0byBlbnN1cmUgeW91ciB2YWx1ZSBpcyB1bmlxdWUgdG8gYXZvaWRcbiAgICAgKiByZW1vdmluZyBsaXN0ZW5lcnMgZnJvbSBvdGhlciBsaWJyYXJpZXMsIGUuZy4sOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBlbWl0dGVyLmFkZCgoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSksIHtpZDogJ25vbi11bmlxdWUnfSk7XG4gICAgICogLy8gVGhpcyBzZWNvbmQgbGlzdGVuZXIgY291bGQgYmUgYWRkZWQgYnkgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5LlxuICAgICAqIGVtaXR0ZXIuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZygnSGVsbG8gRnJvbSBMaWJyYXJ5IScpLCB7aWQ6ICdub24tdW5pcXVlJ30pO1xuICAgICAqXG4gICAgICogLy8gSG8gU25hcCEgVGhpcyBhbHNvIHJlbW92ZWQgdGhlIGxpYnJhcnkgbGlzdGVuZXIhXG4gICAgICogZW1pdHRlci5yZW1vdmUoJ25vbi11bmlxdWUnKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoZSBpZGVudGlmaWVyIGNhbiBiZSBhbnkgdHlwZS4gSG93ZXZlciwgcmVtZW1iZXIgdGhhdCB0aGUgY29tcGFyaXNvbiB3aWxsIGJlXG4gICAgICogYnktdmFsdWUgZm9yIHByaW1pdGl2ZSB0eXBlcyAoc3RyaW5nLCBudW1iZXIpLCBidXQgYnkgcmVmZXJlbmNlIGZvciBvYmplY3RzLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ0hlbGxvJyksIHtpZDoge3ZhbHVlOiA0Mn19KTtcbiAgICAgKiBlbWl0dGVyLmFkZCgoKSA9PiBjb25zb2xlLmxvZygnV29ybGQhJyksIHtpZDoge3ZhbHVlOiA0Mn19KTtcbiAgICAgKiBlbWl0dGVyLnJlbW92ZSh7dmFsdWU6IDQyfSk7IC8vIE5vbmUgb2YgdGhlIGFib3ZlIGxpc3RlbmVycyBtYXRjaCFcbiAgICAgKiBlbWl0dGVyLm5vdGlmeSgpOyAvLyBQcmludHMgJ0hlbGxvJyBhbmQgJ1dvcmxkIScuXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBIZXJlLCBib3RoIGVtaXR0ZXJzIGhhdmUgaWQgYHt2YWx1ZTogNDJ9YCwgYnV0IHRoZSBjb21wYXJpc29uIGlzIG1hZGUgYnkgcmVmZXJlbmNlLiBUaHVzLFxuICAgICAqIHRoZSBgcmVtb3ZlKClgIGNhbGwgaGFzIG5vIGVmZmVjdC4gV2UgY2FuIG1ha2UgaXQgd29yayBieSBkb2luZzpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogY29uc3QgaWQgPSB7dmFsdWU6IDQyfTtcbiAgICAgKiBlbWl0dGVyLmFkZCgoKSA9PiBjb25zb2xlLmxvZygnSGVsbG8nKSwge2lkfSk7XG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ1dvcmxkIScpLCB7aWR9KTtcbiAgICAgKiBlbWl0dGVyLnJlbW92ZShpZCk7IC8vIFNhbWUgcmVmZXJlbmNlLCBpdCB3b3JrcyFcbiAgICAgKiBlbWl0dGVyLm5vdGlmeSgpOyAvLyBEb2Vzbid0IHByaW50LlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSByZWdpc3RlcmVkIGNhbGxiYWNrIG9yIGEgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBgaWRgLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpXG4gICAgICovXG4gICAgcmVtb3ZlKGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9ub3RpZnlpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zYWN0aW9ucy5wdXNoKHsgdHlwZTogVHJhbnNhY3Rpb25UeXBlLlJlbW92YWwsIGRhdGE6IGxpc3RlbmVyIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgaWYgKHRhcmdldC5jYWxsYmFjayA9PT0gbGlzdGVuZXIgfHwgdGFyZ2V0LmlkID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hldGhlciB0aGUgbGlzdGVuZXIgaXMgcmVnaXN0ZXJlZC5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgbWV0aG9kIHBlcmZvcm1zIGEgbGluZWFyIHNlYXJjaC5cbiAgICAgKlxuICAgICAqICogQG5vdGUgRG9lc24ndCBhY2NvdW50IGZvciBwZW5kaW5nIGxpc3RlbmVycywgaS5lLixcbiAgICAgKiBsaXN0ZW5lcnMgYWRkZWQgLyByZW1vdmVkIGR1cmluZyBhIG5vdGlmaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgcmVnaXN0ZXJlZCBjYWxsYmFjayBvciBhIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgYGlkYC5cbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGhhbmRsZSBpcyBmb3VuZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaGFzKGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2FsbGJhY2sgPT09IGxpc3RlbmVyIHx8IHRhcmdldC5pZCA9PT0gbGlzdGVuZXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3RpZnkgbGlzdGVuZXJzIHdpdGggdGhlIGdpdmVuIGRhdGEgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBtZXRob2QgZW5zdXJlcyBhbGwgbGlzdGVuZXJzIGFyZSBjYWxsZWQgZXZlbiBpZlxuICAgICAqIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24uIEZvciAocG9zc2libHkpIGZhc3RlciBub3RpZmljYXRpb24sXG4gICAgICogcGxlYXNlIHVzZSB7QGxpbmsgRW1pdHRlci5ub3RpZnlVbnNhZmV9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gcGFzcyB0byBsaXN0ZW5lciB3aGVuIGludm9rZWQuXG4gICAgICovXG4gICAgbm90aWZ5KC4uLmRhdGEpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuICAgICAgICB0aGlzLl9ub3RpZnlpbmcgPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIub25jZSlcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrKC4uLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX25vdGlmeWluZyA9IGZhbHNlO1xuICAgICAgICAvKiBQcm9jZXNzIGRlZmVycmVkIGFkZGl0aW9ucyAmIHJlbW92YWxzICovXG4gICAgICAgIHRoaXMuX2ZsdXNoVHJhbnNhY3Rpb25zKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmeSBsaXN0ZW5lcnMgd2l0aCB0aGUgZ2l2ZW4gZGF0YSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbm90ZSBCZWNhdXNlIHRoaXMgbWV0aG9kIGRvZXNuJ3QgY2F0Y2ggZXhjZXB0aW9ucywgc29tZSBsaXN0ZW5lcnNcbiAgICAgKiB3aWxsIGJlIHNraXBwZWQgb24gYSB0aHJvdy4gUGxlYXNlIHVzZSB7QGxpbmsgRW1pdHRlci5ub3RpZnl9IGZvciBzYWZlXG4gICAgICogbm90aWZpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gcGFzcyB0byBsaXN0ZW5lciB3aGVuIGludm9rZWQuXG4gICAgICovXG4gICAgbm90aWZ5VW5zYWZlKC4uLmRhdGEpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIub25jZSlcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICBsaXN0ZW5lci5jYWxsYmFjayguLi5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBQcm9jZXNzIGRlZmVycmVkIGFkZGl0aW9ucyAmIHJlbW92YWxzICovXG4gICAgICAgIHRoaXMuX2ZsdXNoVHJhbnNhY3Rpb25zKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgb24gdGhlIG5leHQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGUgcHJvbWlzZSBtaWdodCBuZXZlciByZXNvbHZlIGlmIG5vIGV2ZW50IGlzIHNlbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBkYXRhIHBhc3NlZCB0b1xuICAgICAqICAgICB7QGxpbmsgRW1pdHRlci5ub3RpZnl9LlxuICAgICAqL1xuICAgIHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCBfKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uY2UoKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyhhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyhhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBsaXN0ZW5lcnMuXG4gICAgICpcbiAgICAgKiBAbm90ZSBEb2Vzbid0IGFjY291bnQgZm9yIHBlbmRpbmcgbGlzdGVuZXJzLCBpLmUuLFxuICAgICAqIGxpc3RlbmVycyBhZGRlZCAvIHJlbW92ZWQgZHVyaW5nIGEgbm90aWZpY2F0aW9uLlxuICAgICAqL1xuICAgIGdldCBsaXN0ZW5lckNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdGVuZXJzLmxlbmd0aDtcbiAgICB9XG4gICAgLyoqIGB0cnVlYCBpZiBpdCBoYXMgbm8gbGlzdGVuZXJzLCBgZmFsc2VgIG90aGVyd2lzZS4gKi9cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJDb3VudCA9PT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmx1c2ggYWxsIHBlbmRpbmcgdHJhbnNhY3Rpb25zLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF9mbHVzaFRyYW5zYWN0aW9ucygpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuICAgICAgICBmb3IgKGNvbnN0IHRyYW5zYWN0aW9uIG9mIHRoaXMuX3RyYW5zYWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKHRyYW5zYWN0aW9uLnR5cGUgPT09IFRyYW5zYWN0aW9uVHlwZS5BZGRpdGlvbikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHRyYW5zYWN0aW9uLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUodHJhbnNhY3Rpb24uZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJhbnNhY3Rpb25zLmxlbmd0aCA9IDA7XG4gICAgfVxufVxuLyogRHVtbXkgdmFsdWUgdXNlZCB3aXRoIFJldGFpbkVtaXR0ZXIuICovXG5jb25zdCBSZXRhaW5FbWl0dGVyVW5kZWZpbmVkID0ge307XG4vKipcbiAqIEV2ZW50IGVtaXR0ZXIgdGhhdCByZXRhaW5zIGV2ZW50IGRhdGEgd2hlbiBub3RpZmllZC5cbiAqXG4gKiBBZnRlciBhIG5vdGlmaWNhdGlvbiBoYXBwZW5zLCBzdWJzZXF1ZW50IGNhbGxzIHRvIHtAbGluayBSZXRhaW5FbWl0dGVyLmFkZH0gd2lsbCBnZXRcbiAqIGF1dG9tYXRpY2FsbHkgbm90aWZpZWQuXG4gKlxuICogWW91IGNhbiB1c2UgYW5vdGhlciBlbWl0dGVyIGluIG9yZGVyIHRvIGNhbmNlbCB0aGUgbGFzdCByZXRhaW5lZCBldmVudDpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHtFbWl0dGVyLCBSZXRhaW5lZEVtaXR0ZXJ9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG4gKlxuICogY29uc3Qgb25TdGFydCA9IG5ldyBSZXRhaW5lZEVtaXR0ZXIoKTtcbiAqXG4gKiBvblN0YXJ0Lm5vdGlmeSg0Mik7XG4gKiBvblN0YXJ0LmFkZCgoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSkpIC8vIFByaW50cyAnNDInLlxuICogYGBgXG4gKlxuICogWW91IGNhbiByZXNldCB0aGUgc3RhdGUgb2YgdGhlIGVtaXR0ZXIsIGkuZS4sIG1ha2luZyBpdCBmb3JnZXQgYWJvdXQgdGhlXG4gKiBsYXN0IGV2ZW50IHVzaW5nOlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQge0VtaXR0ZXIsIFJldGFpbmVkRW1pdHRlcn0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAqXG4gKiBjb25zdCBvblN0YXJ0ID0gbmV3IFJldGFpbmVkRW1pdHRlcigpO1xuICogb25TdGFydC5ub3RpZnkoNDIpO1xuICogb25TdGFydC5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpKSAvLyBQcmludHMgJzQyJy5cbiAqXG4gKiAvLyBSZXNldCB0aGUgc3RhdGUgb2YgdGhlIGVtaXR0ZXIuXG4gKiBvblN0YXJ0LnJlc2V0KCk7XG4gKiBvblN0YXJ0LmFkZCgoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSkpIC8vIERvZXNuJ3QgcHJpbnQgYW55dGhpbmcuXG4gKiBgYGBcbiAqXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBlbWl0dGVycywgcGxlYXNlIGhhdmUgYSBsb29rIGF0IHRoZSBiYXNlIHtAbGluayBFbWl0dGVyfSBjbGFzcy5cbiAqXG4gKiBAY2F0ZWdvcnkgZXZlbnRcbiAqL1xuZXhwb3J0IGNsYXNzIFJldGFpbkVtaXR0ZXIgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgICAvKiogUHJlLXJlc29sdmVkIGRhdGEuIEBoaWRkZW4gKi9cbiAgICBfZXZlbnQgPSBSZXRhaW5FbWl0dGVyVW5kZWZpbmVkO1xuICAgIC8qKlxuICAgICAqIEVtaXR0ZXIgdGFyZ2V0IHVzZWQgdG8gcmVzZXQgdGhlIHN0YXRlIG9mIHRoaXMgZW1pdHRlci5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfcmVzZXQ7XG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIGFkZChsaXN0ZW5lciwgb3B0cykge1xuICAgICAgICBjb25zdCBpbW1lZGlhdGUgPSBvcHRzPy5pbW1lZGlhdGUgPz8gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50ICE9PSBSZXRhaW5FbWl0dGVyVW5kZWZpbmVkICYmIGltbWVkaWF0ZSkge1xuICAgICAgICAgICAgbGlzdGVuZXIoLi4udGhpcy5fZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmFkZChsaXN0ZW5lciwgb3B0cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgY2FsbGJhY2sgdG8gcmVnaXN0ZXIuXG4gICAgICogQHBhcmFtIGltbWVkaWF0ZSBJZiBgdHJ1ZWAsIGRpcmVjdGx5IHJlc29sdmVzIGlmIHRoZSBlbWl0dGVyIHJldGFpbnMgYSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBvbmNlKGxpc3RlbmVyLCBpbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGxpc3RlbmVyLCB7IG9uY2U6IHRydWUsIGltbWVkaWF0ZSB9KTtcbiAgICB9XG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIG5vdGlmeSguLi5kYXRhKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50ID0gZGF0YTtcbiAgICAgICAgc3VwZXIubm90aWZ5KC4uLmRhdGEpO1xuICAgIH1cbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgbm90aWZ5VW5zYWZlKC4uLmRhdGEpIHtcbiAgICAgICAgdGhpcy5fZXZlbnQgPSBkYXRhO1xuICAgICAgICBzdXBlci5ub3RpZnlVbnNhZmUoLi4uZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBzdGF0ZSBvZiB0aGUgZW1pdHRlci5cbiAgICAgKlxuICAgICAqIEZ1cnRoZXIgY2FsbCB0byB7QGxpbmsgRW1pdHRlci5hZGR9IHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgcmVzb2x2ZSxcbiAgICAgKiB1bnRpbCBhIG5ldyBjYWxsIHRvIHtAbGluayBFbWl0dGVyLm5vdGlmeX0gaXMgcGVyZm9ybWVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpXG4gICAgICovXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50ID0gUmV0YWluRW1pdHRlclVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRoZSByZXRhaW5lZCBkYXRhLCBvciBgdW5kZWZpbmVkYCBpZiBubyBkYXRhIHdhcyByZXRhaW5lZC4gKi9cbiAgICBnZXQgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEYXRhUmV0YWluZWQgPyB0aGlzLl9ldmVudCA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqIGB0cnVlYCBpZiBkYXRhIGlzIHJldGFpbmVkIGZyb20gdGhlIGxhc3QgZXZlbnQsIGBmYWxzZWAgb3RoZXJ3aXNlLiAqL1xuICAgIGdldCBpc0RhdGFSZXRhaW5lZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50ICE9PSBSZXRhaW5FbWl0dGVyVW5kZWZpbmVkO1xuICAgIH1cbn1cbiIsICIvKipcbiAqIFR5cGVzXG4gKi9cbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IG5hdGl2ZVByb3BlcnR5LCBlbnVtZXJhYmxlIH0gZnJvbSAnLi9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IGlzTnVtYmVyLCBpc1N0cmluZyB9IGZyb20gJy4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuL3V0aWxzL2V2ZW50LmpzJztcbi8qKlxuICogV29uZGVybGFuZCBFbmdpbmUgQVBJXG4gKiBAbmFtZXNwYWNlIFdMXG4gKi9cbi8qKlxuICogRGVmYXVsdCBzZXQgb2YgbG9nZ2luZyB0YWdzIHVzZWQgYnkgdGhlIEFQSS5cbiAqL1xuZXhwb3J0IHZhciBMb2dUYWc7XG4oZnVuY3Rpb24gKExvZ1RhZykge1xuICAgIC8qKiBJbml0aWFsaXphdGlvbiwgY29tcG9uZW50IHJlZ2lzdHJhdGlvbiwgZXRjLi4uICovXG4gICAgTG9nVGFnW0xvZ1RhZ1tcIkVuZ2luZVwiXSA9IDBdID0gXCJFbmdpbmVcIjtcbiAgICAvKiogU2NlbmUgbG9hZGluZyAqL1xuICAgIExvZ1RhZ1tMb2dUYWdbXCJTY2VuZVwiXSA9IDFdID0gXCJTY2VuZVwiO1xuICAgIC8qKiBDb21wb25lbnQgaW5pdCwgdXBkYXRlLCBldGMuLi4gKi9cbiAgICBMb2dUYWdbTG9nVGFnW1wiQ29tcG9uZW50XCJdID0gMl0gPSBcIkNvbXBvbmVudFwiO1xufSkoTG9nVGFnIHx8IChMb2dUYWcgPSB7fSkpO1xuLyoqXG4gKiBDb2xsaWRlciB0eXBlIGVudW0gZm9yIHtAbGluayBDb2xsaXNpb25Db21wb25lbnR9LlxuICovXG5leHBvcnQgdmFyIENvbGxpZGVyO1xuKGZ1bmN0aW9uIChDb2xsaWRlcikge1xuICAgIC8qKlxuICAgICAqICoqU3BoZXJlIENvbGxpZGVyKio6XG4gICAgICpcbiAgICAgKiBTaW1wbGVzdCBhbmQgbW9zdCBwZXJmb3JtYW50IGNvbGxpc2lvbiBzaGFwZS4gSWYgdGhpcyB0eXBlIGlzIHNldCBvbiBhXG4gICAgICoge0BsaW5rIENvbGxpc2lvbkNvbXBvbmVudH0sIG9ubHkgdGhlIGZpcnN0IGNvbXBvbmVudCBvZlxuICAgICAqIHtAbGluayBDb2xsaXNpb25Db21wb25lbnQjZXh0ZW50c30gd2lsbCBiZSB1c2VkIHRvIGRldGVybWluZSB0aGUgcmFkaXVzLlxuICAgICAqL1xuICAgIENvbGxpZGVyW0NvbGxpZGVyW1wiU3BoZXJlXCJdID0gMF0gPSBcIlNwaGVyZVwiO1xuICAgIC8qKlxuICAgICAqICoqQXhpcyBBbGlnbmVkIEJvdW5kaW5nIEJveCBDb2xsaWRlcioqOlxuICAgICAqXG4gICAgICogQm94IHRoYXQgaXMgYWx3YXlzIGFsaWduZWQgdG8gWFlaIGF4aXMuIEl0IGNhbm5vdCBiZSByb3RhdGVkIGJ1dCBpcyBtb3JlXG4gICAgICogZWZmaWNpZW50IHRoYW4ge0BsaW5rIENvbGxpZGVyLkJveH0uXG4gICAgICovXG4gICAgQ29sbGlkZXJbQ29sbGlkZXJbXCJBeGlzQWxpZ25lZEJveFwiXSA9IDFdID0gXCJBeGlzQWxpZ25lZEJveFwiO1xuICAgIC8qKlxuICAgICAqICoqQWxpZ25lZCBCb3VuZGluZyBCb3ggQ29sbGlkZXIqKjpcbiAgICAgKlxuICAgICAqIEJveCB0aGF0IG1hdGNoZXMgdGhlIG9iamVjdCdzIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBjb3JyZWN0bHkuIFRoaXNcbiAgICAgKiBpcyB0aGUgbGVhc3QgZWZmaWNpZW50IGNvbGxpZGVyIGFuZCBzaG91bGQgb25seSBiZSBjaG9zZW4gb3ZlclxuICAgICAqIHtAbGluayBDb2xsaWRlci5TcGhlcmV9IGFuZCB7QGxpbmsgQ29sbGlkZXIuQXhpc0FsaWduZWRCb3h9IGlmIHJlYWxseVxuICAgICAqIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBDb2xsaWRlcltDb2xsaWRlcltcIkJveFwiXSA9IDJdID0gXCJCb3hcIjtcbn0pKENvbGxpZGVyIHx8IChDb2xsaWRlciA9IHt9KSk7XG4vKipcbiAqIEFsaWdubWVudCB0eXBlIGVudW0gZm9yIHtAbGluayBUZXh0Q29tcG9uZW50fS5cbiAqL1xuZXhwb3J0IHZhciBBbGlnbm1lbnQ7XG4oZnVuY3Rpb24gKEFsaWdubWVudCkge1xuICAgIC8qKiBUZXh0IHN0YXJ0IGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cbiAgICBBbGlnbm1lbnRbQWxpZ25tZW50W1wiTGVmdFwiXSA9IDBdID0gXCJMZWZ0XCI7XG4gICAgLyoqIFRleHQgY2VudGVyIGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cbiAgICBBbGlnbm1lbnRbQWxpZ25tZW50W1wiQ2VudGVyXCJdID0gMV0gPSBcIkNlbnRlclwiO1xuICAgIC8qKiBUZXh0IGVuZCBpcyBhdCBvYmplY3Qgb3JpZ2luICovXG4gICAgQWxpZ25tZW50W0FsaWdubWVudFtcIlJpZ2h0XCJdID0gMl0gPSBcIlJpZ2h0XCI7XG59KShBbGlnbm1lbnQgfHwgKEFsaWdubWVudCA9IHt9KSk7XG4vKipcbiAqIEp1c3RpZmljYXRpb24gdHlwZSBlbnVtIGZvciB7QGxpbmsgVGV4dENvbXBvbmVudH0uXG4gKi9cbmV4cG9ydCB2YXIgSnVzdGlmaWNhdGlvbjtcbihmdW5jdGlvbiAoSnVzdGlmaWNhdGlvbikge1xuICAgIC8qKiBUZXh0IGxpbmUgaXMgYXQgb2JqZWN0IG9yaWdpbiAqL1xuICAgIEp1c3RpZmljYXRpb25bSnVzdGlmaWNhdGlvbltcIkxpbmVcIl0gPSAwXSA9IFwiTGluZVwiO1xuICAgIC8qKiBUZXh0IG1pZGRsZSBpcyBhdCBvYmplY3Qgb3JpZ2luICovXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiTWlkZGxlXCJdID0gMV0gPSBcIk1pZGRsZVwiO1xuICAgIC8qKiBUZXh0IHRvcCBpcyBhdCBvYmplY3Qgb3JpZ2luICovXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiVG9wXCJdID0gMl0gPSBcIlRvcFwiO1xuICAgIC8qKiBUZXh0IGJvdHRvbSBpcyBhdCBvYmplY3Qgb3JpZ2luICovXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiQm90dG9tXCJdID0gM10gPSBcIkJvdHRvbVwiO1xufSkoSnVzdGlmaWNhdGlvbiB8fCAoSnVzdGlmaWNhdGlvbiA9IHt9KSk7XG4vKipcbiAqIEVmZmVjdCB0eXBlIGVudW0gZm9yIHtAbGluayBUZXh0Q29tcG9uZW50fS5cbiAqL1xuZXhwb3J0IHZhciBUZXh0RWZmZWN0O1xuKGZ1bmN0aW9uIChUZXh0RWZmZWN0KSB7XG4gICAgLyoqIFRleHQgaXMgcmVuZGVyZWQgbm9ybWFsbHkgKi9cbiAgICBUZXh0RWZmZWN0W1RleHRFZmZlY3RbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICAvKiogVGV4dCBpcyByZW5kZXJlZCB3aXRoIGFuIG91dGxpbmUgKi9cbiAgICBUZXh0RWZmZWN0W1RleHRFZmZlY3RbXCJPdXRsaW5lXCJdID0gMV0gPSBcIk91dGxpbmVcIjtcbn0pKFRleHRFZmZlY3QgfHwgKFRleHRFZmZlY3QgPSB7fSkpO1xuLyoqXG4gKiBJbnB1dCB0eXBlIGVudW0gZm9yIHtAbGluayBJbnB1dENvbXBvbmVudH0uXG4gKi9cbmV4cG9ydCB2YXIgSW5wdXRUeXBlO1xuKGZ1bmN0aW9uIChJbnB1dFR5cGUpIHtcbiAgICAvKiogSGVhZCBpbnB1dCAqL1xuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJIZWFkXCJdID0gMF0gPSBcIkhlYWRcIjtcbiAgICAvKiogTGVmdCBleWUgaW5wdXQgKi9cbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiRXllTGVmdFwiXSA9IDFdID0gXCJFeWVMZWZ0XCI7XG4gICAgLyoqIFJpZ2h0IGV5ZSBpbnB1dCAqL1xuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJFeWVSaWdodFwiXSA9IDJdID0gXCJFeWVSaWdodFwiO1xuICAgIC8qKiBMZWZ0IGNvbnRyb2xsZXIgaW5wdXQgKi9cbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiQ29udHJvbGxlckxlZnRcIl0gPSAzXSA9IFwiQ29udHJvbGxlckxlZnRcIjtcbiAgICAvKiogUmlnaHQgY29udHJvbGxlciBpbnB1dCAqL1xuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJDb250cm9sbGVyUmlnaHRcIl0gPSA0XSA9IFwiQ29udHJvbGxlclJpZ2h0XCI7XG4gICAgLyoqIExlZnQgcmF5IGlucHV0ICovXG4gICAgSW5wdXRUeXBlW0lucHV0VHlwZVtcIlJheUxlZnRcIl0gPSA1XSA9IFwiUmF5TGVmdFwiO1xuICAgIC8qKiBSaWdodCByYXkgaW5wdXQgKi9cbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiUmF5UmlnaHRcIl0gPSA2XSA9IFwiUmF5UmlnaHRcIjtcbn0pKElucHV0VHlwZSB8fCAoSW5wdXRUeXBlID0ge30pKTtcbi8qKlxuICogTGlnaHQgdHlwZSBlbnVtIGZvciB7QGxpbmsgTGlnaHRDb21wb25lbnR9LlxuICovXG5leHBvcnQgdmFyIExpZ2h0VHlwZTtcbihmdW5jdGlvbiAoTGlnaHRUeXBlKSB7XG4gICAgLyoqIFBvaW50IGxpZ2h0ICovXG4gICAgTGlnaHRUeXBlW0xpZ2h0VHlwZVtcIlBvaW50XCJdID0gMF0gPSBcIlBvaW50XCI7XG4gICAgLyoqIFNwb3QgbGlnaHQgKi9cbiAgICBMaWdodFR5cGVbTGlnaHRUeXBlW1wiU3BvdFwiXSA9IDFdID0gXCJTcG90XCI7XG4gICAgLyoqIFN1biBsaWdodCAvIERpcmVjdGlvbmFsIGxpZ2h0ICovXG4gICAgTGlnaHRUeXBlW0xpZ2h0VHlwZVtcIlN1blwiXSA9IDJdID0gXCJTdW5cIjtcbn0pKExpZ2h0VHlwZSB8fCAoTGlnaHRUeXBlID0ge30pKTtcbi8qKlxuICogQW5pbWF0aW9uIHN0YXRlIG9mIHtAbGluayBBbmltYXRpb25Db21wb25lbnR9LlxuICovXG5leHBvcnQgdmFyIEFuaW1hdGlvblN0YXRlO1xuKGZ1bmN0aW9uIChBbmltYXRpb25TdGF0ZSkge1xuICAgIC8qKiBBbmltYXRpb24gaXMgY3VycmVudGx5IHBsYXlpbmcgKi9cbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlBsYXlpbmdcIl0gPSAwXSA9IFwiUGxheWluZ1wiO1xuICAgIC8qKiBBbmltYXRpb24gaXMgcGF1c2VkIGFuZCB3aWxsIGNvbnRpbnVlIGF0IGN1cnJlbnQgcGxheWJhY2tcbiAgICAgKiB0aW1lIG9uIHtAbGluayBBbmltYXRpb25Db21wb25lbnQjcGxheX0gKi9cbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlBhdXNlZFwiXSA9IDFdID0gXCJQYXVzZWRcIjtcbiAgICAvKiogQW5pbWF0aW9uIGlzIHN0b3BwZWQgKi9cbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlN0b3BwZWRcIl0gPSAyXSA9IFwiU3RvcHBlZFwiO1xufSkoQW5pbWF0aW9uU3RhdGUgfHwgKEFuaW1hdGlvblN0YXRlID0ge30pKTtcbi8qKlxuICogUmlnaWQgYm9keSBmb3JjZSBtb2RlIGZvciB7QGxpbmsgUGh5c1hDb21wb25lbnQjYWRkRm9yY2V9IGFuZCB7QGxpbmsgUGh5c1hDb21wb25lbnQjYWRkVG9ycXVlfS5cbiAqXG4gKiBbUGh5c1ggQVBJIFJlZmVyZW5jZV0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hhcGkvZmlsZXMvc3RydWN0UHhGb3JjZU1vZGUuaHRtbClcbiAqL1xuZXhwb3J0IHZhciBGb3JjZU1vZGU7XG4oZnVuY3Rpb24gKEZvcmNlTW9kZSkge1xuICAgIC8qKiBBcHBseSBhcyBmb3JjZSAqL1xuICAgIEZvcmNlTW9kZVtGb3JjZU1vZGVbXCJGb3JjZVwiXSA9IDBdID0gXCJGb3JjZVwiO1xuICAgIC8qKiBBcHBseSBhcyBpbXB1bHNlICovXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIkltcHVsc2VcIl0gPSAxXSA9IFwiSW1wdWxzZVwiO1xuICAgIC8qKiBBcHBseSBhcyB2ZWxvY2l0eSBjaGFuZ2UsIG1hc3MgZGVwZW5kZW50ICovXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIlZlbG9jaXR5Q2hhbmdlXCJdID0gMl0gPSBcIlZlbG9jaXR5Q2hhbmdlXCI7XG4gICAgLyoqIEFwcGx5IGFzIG1hc3MgZGVwZW5kZW50IGZvcmNlICovXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIkFjY2VsZXJhdGlvblwiXSA9IDNdID0gXCJBY2NlbGVyYXRpb25cIjtcbn0pKEZvcmNlTW9kZSB8fCAoRm9yY2VNb2RlID0ge30pKTtcbi8qKlxuICogQ29sbGlzaW9uIGNhbGxiYWNrIGV2ZW50IHR5cGUuXG4gKi9cbmV4cG9ydCB2YXIgQ29sbGlzaW9uRXZlbnRUeXBlO1xuKGZ1bmN0aW9uIChDb2xsaXNpb25FdmVudFR5cGUpIHtcbiAgICAvKiogVG91Y2gvY29udGFjdCBkZXRlY3RlZCwgY29sbGlzaW9uICovXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRvdWNoXCJdID0gMF0gPSBcIlRvdWNoXCI7XG4gICAgLyoqIFRvdWNoL2NvbnRhY3QgbG9zdCwgdW5jb2xsaWRlICovXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRvdWNoTG9zdFwiXSA9IDFdID0gXCJUb3VjaExvc3RcIjtcbiAgICAvKiogVG91Y2gvY29udGFjdCB3aXRoIHRyaWdnZXIgZGV0ZWN0ZWQgKi9cbiAgICBDb2xsaXNpb25FdmVudFR5cGVbQ29sbGlzaW9uRXZlbnRUeXBlW1wiVHJpZ2dlclRvdWNoXCJdID0gMl0gPSBcIlRyaWdnZXJUb3VjaFwiO1xuICAgIC8qKiBUb3VjaC9jb250YWN0IHdpdGggdHJpZ2dlciBsb3N0ICovXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRyaWdnZXJUb3VjaExvc3RcIl0gPSAzXSA9IFwiVHJpZ2dlclRvdWNoTG9zdFwiO1xufSkoQ29sbGlzaW9uRXZlbnRUeXBlIHx8IChDb2xsaXNpb25FdmVudFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBSaWdpZCBib2R5IHtAbGluayBQaHlzWENvbXBvbmVudCNzaGFwZX0uXG4gKlxuICogW1BoeXNYIFNESyBHdWlkZV0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvR2VvbWV0cnkuaHRtbCNnZW9tZXRyeS10eXBlcykuXG4gKi9cbmV4cG9ydCB2YXIgU2hhcGU7XG4oZnVuY3Rpb24gKFNoYXBlKSB7XG4gICAgLyoqIE5vIHNoYXBlLiAqL1xuICAgIFNoYXBlW1NoYXBlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgLyoqIFNwaGVyZSBzaGFwZS4gKi9cbiAgICBTaGFwZVtTaGFwZVtcIlNwaGVyZVwiXSA9IDFdID0gXCJTcGhlcmVcIjtcbiAgICAvKiogQ2Fwc3VsZSBzaGFwZS4gKi9cbiAgICBTaGFwZVtTaGFwZVtcIkNhcHN1bGVcIl0gPSAyXSA9IFwiQ2Fwc3VsZVwiO1xuICAgIC8qKiBCb3ggc2hhcGUuICovXG4gICAgU2hhcGVbU2hhcGVbXCJCb3hcIl0gPSAzXSA9IFwiQm94XCI7XG4gICAgLyoqIFBsYW5lIHNoYXBlLiAqL1xuICAgIFNoYXBlW1NoYXBlW1wiUGxhbmVcIl0gPSA0XSA9IFwiUGxhbmVcIjtcbiAgICAvKiogQ29udmV4IG1lc2ggc2hhcGUuICovXG4gICAgU2hhcGVbU2hhcGVbXCJDb252ZXhNZXNoXCJdID0gNV0gPSBcIkNvbnZleE1lc2hcIjtcbiAgICAvKiogVHJpYW5nbGUgbWVzaCBzaGFwZS4gKi9cbiAgICBTaGFwZVtTaGFwZVtcIlRyaWFuZ2xlTWVzaFwiXSA9IDZdID0gXCJUcmlhbmdsZU1lc2hcIjtcbn0pKFNoYXBlIHx8IChTaGFwZSA9IHt9KSk7XG4vKipcbiAqIE1lc2ggYXR0cmlidXRlIGVudW0uXG4gKiBAc2luY2UgMC45LjBcbiAqL1xuZXhwb3J0IHZhciBNZXNoQXR0cmlidXRlO1xuKGZ1bmN0aW9uIChNZXNoQXR0cmlidXRlKSB7XG4gICAgLyoqIFBvc2l0aW9uIGF0dHJpYnV0ZSwgMyBmbG9hdHMgKi9cbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJQb3NpdGlvblwiXSA9IDBdID0gXCJQb3NpdGlvblwiO1xuICAgIC8qKiBUYW5nZW50IGF0dHJpYnV0ZSwgNCBmbG9hdHMgKi9cbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJUYW5nZW50XCJdID0gMV0gPSBcIlRhbmdlbnRcIjtcbiAgICAvKiogTm9ybWFsIGF0dHJpYnV0ZSwgMyBmbG9hdHMgKi9cbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJOb3JtYWxcIl0gPSAyXSA9IFwiTm9ybWFsXCI7XG4gICAgLyoqIFRleHR1cmUgY29vcmRpbmF0ZSBhdHRyaWJ1dGUsIDIgZmxvYXRzICovXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiVGV4dHVyZUNvb3JkaW5hdGVcIl0gPSAzXSA9IFwiVGV4dHVyZUNvb3JkaW5hdGVcIjtcbiAgICAvKiogQ29sb3IgYXR0cmlidXRlLCA0IGZsb2F0cywgUkdCQSwgcmFuZ2UgYDBgIHRvIGAxYCAqL1xuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIkNvbG9yXCJdID0gNF0gPSBcIkNvbG9yXCI7XG4gICAgLyoqIEpvaW50IGlkIGF0dHJpYnV0ZSwgOCB1bnNpZ25lZCBpbnRzICovXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiSm9pbnRJZFwiXSA9IDVdID0gXCJKb2ludElkXCI7XG4gICAgLyoqIEpvaW50IHdlaWdodHMgYXR0cmlidXRlLCA4IGZsb2F0cyAqL1xuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIkpvaW50V2VpZ2h0XCJdID0gNl0gPSBcIkpvaW50V2VpZ2h0XCI7XG59KShNZXNoQXR0cmlidXRlIHx8IChNZXNoQXR0cmlidXRlID0ge30pKTtcbi8qKlxuICogTWF0ZXJpYWwgcGFyYW1ldGVyIHR5cGUuXG4gKi9cbmV4cG9ydCB2YXIgTWF0ZXJpYWxQYXJhbVR5cGU7XG4oZnVuY3Rpb24gKE1hdGVyaWFsUGFyYW1UeXBlKSB7XG4gICAgLyoqIFVuc2lnbmVkIGludGVnZXIgcGFyYW1ldGVyIHR5cGUuICovXG4gICAgTWF0ZXJpYWxQYXJhbVR5cGVbTWF0ZXJpYWxQYXJhbVR5cGVbXCJVbnNpZ25lZEludFwiXSA9IDBdID0gXCJVbnNpZ25lZEludFwiO1xuICAgIC8qKiBJbnRlZ2VyIHBhcmFtZXRlciB0eXBlLiAqL1xuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiSW50XCJdID0gMV0gPSBcIkludFwiO1xuICAgIC8qKiBGbG9hdCBwYXJhbWV0ZXIgdHlwZS4gKi9cbiAgICBNYXRlcmlhbFBhcmFtVHlwZVtNYXRlcmlhbFBhcmFtVHlwZVtcIkZsb2F0XCJdID0gMl0gPSBcIkZsb2F0XCI7XG4gICAgLyoqIFNhbXBsZXIgcmVzb3VyY2UgcGFyYW1ldGVyIHR5cGUsIGkuZS4sIGEge0BsaW5rIFRleHR1cmV9LiAqL1xuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiU2FtcGxlclwiXSA9IDNdID0gXCJTYW1wbGVyXCI7XG4gICAgLyoqXG4gICAgICogRm9udCByZXNvdXJjZSBwYXJhbWV0ZXIgdHlwZS5cbiAgICAgKlxuICAgICAqICoqTm90ZSoqOiBDaGFuZ2luZyBmb250IGlzbid0IGV4cG9zZWQgeWV0IGFuZCB3aWxsIHJhaXNlIGFuIGVycm9yLlxuICAgICAqL1xuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiRm9udFwiXSA9IDRdID0gXCJGb250XCI7XG59KShNYXRlcmlhbFBhcmFtVHlwZSB8fCAoTWF0ZXJpYWxQYXJhbVR5cGUgPSB7fSkpO1xuLyoqXG4gKiBDcmVhdGUgYSBwcm94eSB0aHJvd2luZyBkZXN0cm95ZWQgZXJyb3JzIHVwb24gYWNjZXNzLlxuICpcbiAqIEBwYXJhbSB0eXBlIFRoZSB0eXBlIHRvIGRpc3BsYXkgdXBvbiBlcnJvclxuICogQHJldHVybnMgVGhlIHByb3h5IGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURlc3Ryb3llZFByb3h5KHR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgIGdldChfLCBwYXJhbSkge1xuICAgICAgICAgICAgaWYgKHBhcmFtID09PSAnaXNEZXN0cm95ZWQnKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ubyd0IHJlYWQgJyR7cGFyYW19JyBvZiBkZXN0cm95ZWQgJHt0eXBlfWApO1xuICAgICAgICB9LFxuICAgICAgICBzZXQoXywgcGFyYW0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm8ndCB3cml0ZSAnJHtwYXJhbX0nIG9mIGRlc3Ryb3llZCAke3R5cGV9YCk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4vKiogUHJveHkgdXNlZCB0byBvdmVycmlkZSBwcm90b3R5cGVzIG9mIGRlc3Ryb3llZCBvYmplY3RzLiAqL1xuZXhwb3J0IGNvbnN0IERlc3Ryb3llZE9iamVjdEluc3RhbmNlID0gY3JlYXRlRGVzdHJveWVkUHJveHkoJ29iamVjdCcpO1xuLyoqIFByb3h5IHVzZWQgdG8gb3ZlcnJpZGUgcHJvdG90eXBlcyBvZiBkZXN0cm95ZWQgY29tcG9uZW50cy4gKi9cbmV4cG9ydCBjb25zdCBEZXN0cm95ZWRDb21wb25lbnRJbnN0YW5jZSA9IGNyZWF0ZURlc3Ryb3llZFByb3h5KCdjb21wb25lbnQnKTtcbi8qKiBQcm94eSB1c2VkIHRvIG92ZXJyaWRlIHByb3RvdHlwZXMgb2YgZGVzdHJveWVkIHRleHR1cmVzLiAqL1xuZXhwb3J0IGNvbnN0IERlc3Ryb3llZFRleHR1cmVJbnN0YW5jZSA9IGNyZWF0ZURlc3Ryb3llZFByb3h5KCd0ZXh0dXJlJyk7XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgYSBnaXZlbiBzaGFwZSBpcyBhIG1lc2ggb3Igbm90LlxuICpcbiAqIEBwYXJhbSBzaGFwZSBUaGUgc2hhcGUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHNoYXBlIGlzIGEgbWVzaCwgYGZhbHNlYCBpZiBpdCdzIGEgcHJpbWl0aXZlLlxuICovXG5mdW5jdGlvbiBpc01lc2hTaGFwZShzaGFwZSkge1xuICAgIHJldHVybiBzaGFwZSA9PT0gU2hhcGUuQ29udmV4TWVzaCB8fCBzaGFwZSA9PT0gU2hhcGUuVHJpYW5nbGVNZXNoO1xufVxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGFuIG9iamVjdCBpcyB0aGUge0BsaW5rIENvbXBvbmVudH0gY2xhc3Mgb3Igbm90LFxuICpcbiAqIEBub3RlIFRoaXMgbWV0aG9kIGlmIGZvb2xwcm9vZiB0byBkZXZlbG9wZXJzIGluYWR2ZXJ0ZW50bHkgdXNpbmdcbiAqIG11bHRpcGxlIFdvbmRlcmxhbmQgRW5naW5lIEFQSSBpbiBhIGJ1bmRsZS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgVGhlIG9iamVjdCB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0IGlzIGEge0BsaW5rIENvbXBvbmVudH0gY2xhc3MsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc0Jhc2VDb21wb25lbnRDbGFzcyh2YWx1ZSkge1xuICAgIHJldHVybiAoISF2YWx1ZSAmJlxuICAgICAgICB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnX2lzQmFzZUNvbXBvbmVudCcpICYmXG4gICAgICAgIHZhbHVlLl9pc0Jhc2VDb21wb25lbnQpO1xufVxuLyoqXG4gKiBDb25zdGFudHMuXG4gKi9cbi8qKlxuICogRGVmYXVsdCB3b3JsZCB1cCB2ZWN0b3IuXG4gKi9cbmNvbnN0IFVQX1ZFQ1RPUiA9IFswLCAxLCAwXTtcbmNvbnN0IFNRUlRfMyA9IE1hdGguc3FydCgzKTtcbi8qKlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgY29tcG9uZW50IGluc3RhbmNlIG9mIGEgc3BlY2lmaWVkIGNvbXBvbmVudCB0eXBlLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogVGhpcyBpcyBob3cgeW91IGV4dGVuZCB0aGlzIGNsYXNzIHRvIGNyZWF0ZSB5b3VyIG93biBjdXN0b21cbiAqIGNvbXBvbmVudDpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAqXG4gKiBleHBvcnQgY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICogICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdteS1jb21wb25lbnQnO1xuICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICogICAgICAgICBteUJvb2xlYW46IHsgdHlwZTogVHlwZS5Cb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICogICAgIH07XG4gKiAgICAgc3RhcnQoKSB7fVxuICogICAgIG9uQWN0aXZhdGUoKSB7fVxuICogICAgIG9uRGVhY3RpdmF0ZSgpIHt9XG4gKiAgICAgdXBkYXRlKGR0KSB7fVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIGB0cnVlYCBmb3IgZXZlcnkgY2xhc3MgaW5oZXJpdGluZyBmcm9tIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgYGluc3RhbmNlb2ZgIHRvIHByZXZlbnQgaXNzdWVzXG4gICAgICogdGhhdCBjb3VsZCBhcmlzZSB3aGVuIGFuIGFwcGxpY2F0aW9uIGVuZHMgdXAgdXNpbmcgbXVsdGlwbGUgQVBJIHZlcnNpb25zLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIHN0YXRpYyBfaXNCYXNlQ29tcG9uZW50ID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjb21wb25lbnQgY2xhc3MuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gcmVnaXN0ZXIsIGFkZCwgYW5kIHJldHJpZXZlIGNvbXBvbmVudHMgb2YgYSBnaXZlbiB0eXBlLlxuICAgICAqL1xuICAgIHN0YXRpYyBUeXBlTmFtZTtcbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0aWVzIG9mIHRoaXMgY29tcG9uZW50IGNsYXNzLlxuICAgICAqXG4gICAgICogUHJvcGVydGllcyBhcmUgcHVibGljIGF0dHJpYnV0ZXMgdGhhdCBjYW4gYmUgY29uZmlndXJlZCB2aWEgdGhlXG4gICAgICogV29uZGVybGFuZCBFZGl0b3IuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuICAgICAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ215LWNvbXBvbmVudCc7XG4gICAgICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAqICAgICAgICAgbXlCb29sZWFuOiB7IHR5cGU6IFR5cGUuQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICAgKiAgICAgICAgIG15RmxvYXQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICAgKiAgICAgICAgIG15VGV4dHVyZTogeyB0eXBlOiBUeXBlLlRleHR1cmUsIGRlZmF1bHQ6IG51bGwgfSxcbiAgICAgKiAgICAgfTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBQcm9wZXJ0aWVzIGFyZSBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIGVhY2ggY29tcG9uZW50IGluc3RhbmNlLCBhbmQgYXJlXG4gICAgICogYWNjZXNzaWJsZSBsaWtlIGFueSBKUyBhdHRyaWJ1dGU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIENyZWF0ZXMgYSBuZXcgY29tcG9uZW50IGFuZCBzZXQgZWFjaCBwcm9wZXJ0aWVzIHZhbHVlOlxuICAgICAqIGNvbnN0IG15Q29tcG9uZW50ID0gb2JqZWN0LmFkZENvbXBvbmVudChNeUNvbXBvbmVudCwge1xuICAgICAqICAgICBteUJvb2xlYW46IHRydWUsXG4gICAgICogICAgIG15RmxvYXQ6IDQyLjAsXG4gICAgICogICAgIG15VGV4dHVyZTogbnVsbFxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogLy8gWW91IGNhbiBhbHNvIG92ZXJyaWRlIHRoZSBwcm9wZXJ0aWVzIG9uIHRoZSBpbnN0YW5jZTpcbiAgICAgKiBteUNvbXBvbmVudC5teUJvb2xlYW4gPSBmYWxzZTtcbiAgICAgKiBteUNvbXBvbmVudC5teUZsb2F0ID0gLTQyLjA7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyMjIFJlZmVyZW5jZXNcbiAgICAgKlxuICAgICAqIFJlZmVyZW5jZSB0eXBlcyAoaS5lLiwgbWVzaCwgb2JqZWN0LCBldGMuLi4pIGNhbiBhbHNvIGJlIGxpc3RlZCBhcyAqKnJlcXVpcmVkKio6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAgICAgKlxuICAgICAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICogICAgICAgICBteU9iamVjdDogUHJvcGVydHkub2JqZWN0KHtyZXF1aXJlZDogdHJ1ZX0pLFxuICAgICAqICAgICAgICAgbXlBbmltYXRpb246IFByb3BlcnR5LmFuaW1hdGlvbih7cmVxdWlyZWQ6IHRydWV9KSxcbiAgICAgKiAgICAgICAgIG15VGV4dHVyZTogUHJvcGVydHkudGV4dHVyZSh7cmVxdWlyZWQ6IHRydWV9KSxcbiAgICAgKiAgICAgICAgIG15TWVzaDogUHJvcGVydHkubWVzaCh7cmVxdWlyZWQ6IHRydWV9KSxcbiAgICAgKiAgICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFBsZWFzZSBub3RlIHRoYXQgcmVmZXJlbmNlcyBhcmUgdmFsaWRhdGVkICoqb25jZSoqIGJlZm9yZSB0aGUgY2FsbCB0byB7QGxpbmsgQ29tcG9uZW50LnN0YXJ0fSBvbmx5LFxuICAgICAqIHZpYSB0aGUge0BsaW5rIENvbXBvbmVudC52YWxpZGF0ZVByb3BlcnRpZXN9IG1ldGhvZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgUHJvcGVydGllcztcbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgdHJ1ZWAsIHRoZSBjaGlsZCBjbGFzcyBpbmhlcml0cyBmcm9tIHRoZSBwYXJlbnRcbiAgICAgKiBwcm9wZXJ0aWVzLCBhcyBzaG93biBpbiB0aGUgZm9sbG93aW5nIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAgICAgKlxuICAgICAqIGNsYXNzIFBhcmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgICogICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwYXJlbnQnO1xuICAgICAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtwYXJlbnROYW1lOiBQcm9wZXJ0eS5zdHJpbmcoJ3BhcmVudCcpfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGNsYXNzIENoaWxkIGV4dGVuZHMgUGFyZW50IHtcbiAgICAgKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ2NoaWxkJztcbiAgICAgKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7bmFtZTogUHJvcGVydHkuc3RyaW5nKCdjaGlsZCcpfVxuICAgICAqICAgICBzdGF0aWMgSW5oZXJpdFByb3BlcnRpZXMgPSB0cnVlO1xuICAgICAqXG4gICAgICogICAgIHN0YXJ0KCkge1xuICAgICAqICAgICAgICAgLy8gV29ya3MgYmVjYXVzZSBgSW5oZXJpdFByb3BlcnRpZXNgIGlzIGB0cnVlYC5cbiAgICAgKiAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMubmFtZX0gaW5oZXJpdHMgZnJvbSAke3RoaXMucGFyZW50TmFtZX1gKTtcbiAgICAgKiAgICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBub3RlIFByb3BlcnRpZXMgZGVmaW5lZCBpbiBkZXNjZW5kYW50IGNsYXNzZXMgd2lsbCBvdmVycmlkZSBwcm9wZXJ0aWVzXG4gICAgICogd2l0aCB0aGUgc2FtZSBuYW1lIGRlZmluZWQgaW4gYW5jZXN0b3IgY2xhc3Nlcy5cbiAgICAgKlxuICAgICAqIERlZmF1bHRzIHRvIGB0cnVlYC5cbiAgICAgKi9cbiAgICBzdGF0aWMgSW5oZXJpdFByb3BlcnRpZXM7XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhpcyBjb21wb25lbnQgY2xhc3MgaXMgcmVnaXN0ZXJlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbGxiYWNrIGNhbiBiZSB1c2VkIHRvIHJlZ2lzdGVyIGRlcGVuZGVuY2llcyBvZiBhIGNvbXBvbmVudCxcbiAgICAgKiBlLmcuLCBjb21wb25lbnQgY2xhc3NlcyB0aGF0IG5lZWQgdG8gYmUgcmVnaXN0ZXJlZCBpbiBvcmRlciB0byBhZGRcbiAgICAgKiB0aGVtIGF0IHJ1bnRpbWUgd2l0aCB7QGxpbmsgT2JqZWN0M0QuYWRkQ29tcG9uZW50fSwgaW5kZXBlbmRlbnQgb2Ygd2hldGhlclxuICAgICAqIHRoZXkgYXJlIHVzZWQgaW4gdGhlIGVkaXRvci5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogY2xhc3MgU3Bhd25lciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgICogICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdzcGF3bmVyJztcbiAgICAgKlxuICAgICAqICAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcbiAgICAgKiAgICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChTcGF3bmVkQ29tcG9uZW50KTtcbiAgICAgKiAgICAgfVxuICAgICAqXG4gICAgICogICAgIC8vIFlvdSBjYW4gbm93IHVzZSBhZGRDb21wb25lbnQgd2l0aCBTcGF3bmVkQ29tcG9uZW50XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIFRoaXMgY2FsbGJhY2sgY2FuIGJlIHVzZWQgdG8gcmVnaXN0ZXIgZGlmZmVyZW50IGltcGxlbWVudGF0aW9ucyBvZiBhXG4gICAgICogY29tcG9uZW50IGRlcGVuZGluZyBvbiBjbGllbnQgZmVhdHVyZXMgb3IgQVBJIHZlcnNpb25zLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAvLyBQcm9wZXJ0aWVzIG5lZWQgdG8gYmUgdGhlIHNhbWUgZm9yIGFsbCBpbXBsZW1lbnRhdGlvbnMhXG4gICAgICogY29uc3QgU2hhcmVkUHJvcGVydGllcyA9IHt9O1xuICAgICAqXG4gICAgICogY2xhc3MgQW5jaG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ3NwYXduZXInO1xuICAgICAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IFNoYXJlZFByb3BlcnRpZXM7XG4gICAgICpcbiAgICAgKiAgICAgc3RhdGljIG9uUmVnaXN0ZXIoZW5naW5lKSB7XG4gICAgICogICAgICAgICBpZihuYXZpZ2F0b3IueHIgPT09IHVuZGVmaW5lZCkge1xuICAgICAqICAgICAgICAgICAgIC8qIFdlYlhSIHVuc3VwcG9ydGVkLCBrZWVwIHRoaXMgZHVtbXkgY29tcG9uZW50ICpcXC9cbiAgICAgKiAgICAgICAgICAgICByZXR1cm47XG4gICAgICogICAgICAgICB9XG4gICAgICogICAgICAgICAvKiBXZWJYUiBzdXBwb3J0ZWQhIE92ZXJyaWRlIGFscmVhZHkgcmVnaXN0ZXJlZCBkdW1teSBpbXBsZW1lbnRhdGlvblxuICAgICAqICAgICAgICAgICogd2l0aCBvbmUgZGVwZW5kaW5nIG9uIGhpdC10ZXN0IEFQSSBzdXBwb3J0ICpcXC9cbiAgICAgKiAgICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudCh3aW5kb3cuSGl0VGVzdFNvdXJjZSA9PT0gdW5kZWZpbmVkID9cbiAgICAgKiAgICAgICAgICAgICBBbmNob3JXaXRob3V0SGl0VGVzdCA6IEFuY2hvcldpdGhIaXRUZXN0KTtcbiAgICAgKiAgICAgfVxuICAgICAqXG4gICAgICogICAgIC8vIFRoaXMgb25lIGltcGxlbWVudHMgbm8gZnVuY3Rpb25zXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBvblJlZ2lzdGVyO1xuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBpbmhlcml0IHByb3BlcnRpZXMgZGlyZWN0bHkgaW5zaWRlIHRoZSBlZGl0b3IuXG4gICAgICpcbiAgICAgKiBAbm90ZSBEbyBub3QgdXNlIGRpcmVjdGx5LCBwcmVmZXIgdXNpbmcge0BsaW5rIGluaGVyaXRQcm9wZXJ0aWVzfS5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBzdGF0aWMgX2luaGVyaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBpbmhlcml0UHJvcGVydGllcyh0aGlzKTtcbiAgICB9XG4gICAgLyoqIE1hbmFnZXIgaW5kZXguIEBoaWRkZW4gKi9cbiAgICBfbWFuYWdlcjtcbiAgICAvKiogSW5zdGFuY2UgaW5kZXguIEBoaWRkZW4gKi9cbiAgICBfaWQ7XG4gICAgLyoqXG4gICAgICogT2JqZWN0IGNvbnRhaW5pbmcgdGhpcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGUqKjogVGhpcyBpcyBjYWNoZWQgZm9yIGZhc3RlciByZXRyaWV2YWwuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgX29iamVjdDtcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIGVuZ2luZSBUaGUgZW5naW5lIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSBtYW5hZ2VyIEluZGV4IG9mIHRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSBpZCBXQVNNIGNvbXBvbmVudCBpbnN0YW5jZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIG1hbmFnZXIgPSAtMSwgaWQgPSAtMSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgICAgIHRoaXMuX21hbmFnZXIgPSBtYW5hZ2VyO1xuICAgICAgICB0aGlzLl9pZCA9IGlkO1xuICAgICAgICB0aGlzLl9vYmplY3QgPSBudWxsO1xuICAgIH1cbiAgICAvKiogSG9zdGluZyBlbmdpbmUgaW5zdGFuY2UuICovXG4gICAgZ2V0IGVuZ2luZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZTtcbiAgICB9XG4gICAgLyoqIFRoZSBuYW1lIG9mIHRoaXMgY29tcG9uZW50J3MgdHlwZSAqL1xuICAgIGdldCB0eXBlKCkge1xuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgcmV0dXJuIGN0b3IuVHlwZU5hbWUgPz8gdGhpcy5fZW5naW5lLndhc20uX3R5cGVOYW1lRm9yKHRoaXMuX21hbmFnZXIpO1xuICAgIH1cbiAgICAvKiogVGhlIG9iamVjdCB0aGlzIGNvbXBvbmVudCBpcyBhdHRhY2hlZCB0by4gKi9cbiAgICBnZXQgb2JqZWN0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX29iamVjdCkge1xuICAgICAgICAgICAgY29uc3Qgb2JqZWN0SWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29tcG9uZW50X2dldF9vYmplY3QodGhpcy5fbWFuYWdlciwgdGhpcy5faWQpO1xuICAgICAgICAgICAgdGhpcy5fb2JqZWN0ID0gdGhpcy5fZW5naW5lLndyYXBPYmplY3Qob2JqZWN0SWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgY29tcG9uZW50IGlzIGFjdGl2ZS5cbiAgICAgKlxuICAgICAqIEFjdGl2YXRpbmcvZGVhY3RpdmF0aW5nIGEgY29tcG9uZW50IGNvbWVzIGF0IGEgc21hbGwgY29zdCBvZiByZW9yZGVyaW5nXG4gICAgICogY29tcG9uZW50cyBpbiB0aGUgcmVzcGVjdGl2ZSBjb21wb25lbnQgbWFuYWdlci4gVGhpcyBmdW5jdGlvbiB0aGVyZWZvcmVcbiAgICAgKiBpcyBub3QgYSB0cml2aWFsIGFzc2lnbm1lbnQuXG4gICAgICpcbiAgICAgKiBEb2VzIG5vdGhpbmcgaWYgdGhlIGNvbXBvbmVudCBpcyBhbHJlYWR5IGFjdGl2YXRlZC9kZWFjdGl2YXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhY3RpdmUgTmV3IGFjdGl2ZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBzZXQgYWN0aXZlKGFjdGl2ZSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29tcG9uZW50X3NldEFjdGl2ZSh0aGlzLl9tYW5hZ2VyLCB0aGlzLl9pZCwgYWN0aXZlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIGNvbXBvbmVudCBpcyBhY3RpdmVcbiAgICAgKi9cbiAgICBnZXQgYWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbXBvbmVudF9pc0FjdGl2ZSh0aGlzLl9tYW5hZ2VyLCB0aGlzLl9pZCkgIT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29weSBhbGwgdGhlIHByb3BlcnRpZXMgZnJvbSBgc3JjYCBpbnRvIHRoaXMgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAbm90ZSBPbmx5IHByb3BlcnRpZXMgYXJlIGNvcGllZC4gSWYgYSBjb21wb25lbnQgbmVlZHMgdG9cbiAgICAgKiBjb3B5IGV4dHJhIGRhdGEsIGl0IG5lZWRzIHRvIG92ZXJyaWRlIHRoaXMgbWV0aG9kLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgKiAgICAgbm9uUHJvcGVydHlEYXRhID0gJ0hlbGxvIFdvcmxkJztcbiAgICAgKlxuICAgICAqICAgICBjb3B5KHNyYykge1xuICAgICAqICAgICAgICAgc3VwZXIuY29weShzcmMpO1xuICAgICAqICAgICAgICAgdGhpcy5ub25Qcm9wZXJ0eURhdGEgPSBzcmMubm9uUHJvcGVydHlEYXRhO1xuICAgICAqICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICogICAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkge0BsaW5rIE9iamVjdDNELmNsb25lfS4gRG8gbm90IGF0dGVtcHQgdG86XG4gICAgICogICAgIC0gQ3JlYXRlIG5ldyBjb21wb25lbnRcbiAgICAgKiAgICAgLSBSZWFkIHJlZmVyZW5jZXMgdG8gb3RoZXIgb2JqZWN0c1xuICAgICAqXG4gICAgICogV2hlbiBjbG9uaW5nIHZpYSB7QGxpbmsgT2JqZWN0M0QuY2xvbmV9LCB0aGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBiZWZvcmVcbiAgICAgKiB7QGxpbmsgQ29tcG9uZW50LnN0YXJ0fS5cbiAgICAgKlxuICAgICAqIEBub3RlIEphdmFTY3JpcHQgY29tcG9uZW50IHByb3BlcnRpZXMgYXJlbid0IHJldGFyZ2V0ZWQuIFRodXMsIHJlZmVyZW5jZXNcbiAgICAgKiBpbnNpZGUgdGhlIHNvdXJjZSBvYmplY3Qgd2lsbCBub3QgYmUgcmV0YXJnZXRlZCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LFxuICAgICAqIGF0IHRoZSBleGNlcHRpb24gb2YgdGhlIHNraW4gZGF0YSBvbiB7QGxpbmsgTWVzaENvbXBvbmVudH0gYW5kIHtAbGluayBBbmltYXRpb25Db21wb25lbnR9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHNyYyBUaGUgc291cmNlIGNvbXBvbmVudCB0byBjb3B5IGZyb20uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgY29weShzcmMpIHtcbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBjdG9yLlByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc3JjW25hbWVdO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGlzIGNvbXBvbmVudCBmcm9tIGl0cyBvYmplY3RzIGFuZCBkZXN0cm95IGl0LlxuICAgICAqXG4gICAgICogSXQgaXMgYmVzdCBwcmFjdGljZSB0byBzZXQgdGhlIGNvbXBvbmVudCB0byBgbnVsbGAgYWZ0ZXIsXG4gICAgICogdG8gZW5zdXJlIGl0IGRvZXMgbm90IGdldCB1c2VkIGxhdGVyLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgICBjLmRlc3Ryb3koKTtcbiAgICAgKiAgICBjID0gbnVsbDtcbiAgICAgKiBgYGBcbiAgICAgKiBAc2luY2UgMC45LjBcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBjb25zdCBtYW5hZ2VyID0gdGhpcy5fbWFuYWdlcjtcbiAgICAgICAgaWYgKG1hbmFnZXIgPCAwIHx8IHRoaXMuX2lkIDwgMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLyogTXVzdCBiZSBzdG9yZWQgYmVmb3JlIGRlc3RydWN0aW9uLiAqL1xuICAgICAgICBjb25zdCBqc01hbmFnZXIgPSB0aGlzLmVuZ2luZS53YXNtLl9qc01hbmFnZXJJbmRleDtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbXBvbmVudF9yZW1vdmUobWFuYWdlciwgdGhpcy5faWQpO1xuICAgICAgICAvKiogQHRvZG86IFJlbW92ZSBhdCAxLjIuMCB3aGVuIGEgZ2VuZXJpYyBkZXN0cm95IGlzIGltcGxlbWVudGVkXG4gICAgICAgICAqIGZvciBldmVyeSBtYW5hZ2VyLiAqL1xuICAgICAgICBpZiAobWFuYWdlciAhPT0ganNNYW5hZ2VyKVxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlck9uRGVzdHJveSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIGNvbXBvbmVudCBpZHNcbiAgICAgKiBhbmQgY29tcG9uZW50IG1hbmFnZXIgdHlwZXMgYXJlIGVxdWFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIG90aGVyQ29tcG9uZW50IENvbXBvbmVudCB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBjb21wb25lbnQgZXF1YWxzIHRoZSBnaXZlbiBjb21wb25lbnQuXG4gICAgICovXG4gICAgZXF1YWxzKG90aGVyQ29tcG9uZW50KSB7XG4gICAgICAgIGlmICghb3RoZXJDb21wb25lbnQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYW5hZ2VyID09IG90aGVyQ29tcG9uZW50Ll9tYW5hZ2VyICYmIHRoaXMuX2lkID09IG90aGVyQ29tcG9uZW50Ll9pZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIGNvbXBvbmVudCBwcm9wZXJ0aWVzIHRvIGRlZmF1bHQuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGlzIGF1dG9tYXRpY2FsbHkgY2FsbGVkIGR1cmluZyB0aGUgY29tcG9uZW50IGluc3RhbnRpYXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcmVzZXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IGN0b3IuUHJvcGVydGllcztcbiAgICAgICAgaWYgKCFwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gcHJvcGVydGllc1tuYW1lXS5kZWZhdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBDb21wb25lbnQucmVzZXRQcm9wZXJ0aWVzfSBpbnN0ZWFkLiAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNldFByb3BlcnRpZXMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgdGhlIHByb3BlcnRpZXMgb24gdGhpcyBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgSWYgYW55IG9mIHRoZSByZXF1aXJlZCBwcm9wZXJ0aWVzIGlzbid0IGluaXRpYWxpemVkXG4gICAgICogb24gdGhpcyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICB2YWxpZGF0ZVByb3BlcnRpZXMoKSB7XG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoIWN0b3IuUHJvcGVydGllcylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIGN0b3IuUHJvcGVydGllcykge1xuICAgICAgICAgICAgaWYgKCFjdG9yLlByb3BlcnRpZXNbbmFtZV0ucmVxdWlyZWQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoIXRoaXNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3BlcnR5ICcke25hbWV9JyBpcyByZXF1aXJlZCBidXQgd2FzIG5vdCBpbml0aWFsaXplZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiB0aGUgY29tcG9uZW50IGlzIGRlc3Ryb3llZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKiBJZiB7QGxpbmsgV29uZGVybGFuZEVuZ2luZS5lcmFzZVByb3RvdHlwZU9uRGVzdHJveX0gaXMgYHRydWVgLFxuICAgICAqIHJlYWRpbmcgYSBjdXN0b20gcHJvcGVydHkgd2lsbCBub3Qgd29yazpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogZW5naW5lLmVyYXNlUHJvdG90eXBlT25EZXN0cm95ID0gdHJ1ZTtcbiAgICAgKlxuICAgICAqIGNvbnN0IGNvbXAgPSBvYmouYWRkQ29tcG9uZW50KCdtZXNoJyk7XG4gICAgICogY29tcC5jdXN0b21QYXJhbSA9ICdIZWxsbyBXb3JsZCEnO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coY29tcC5pc0Rlc3Ryb3llZCk7IC8vIFByaW50cyBgZmFsc2VgXG4gICAgICogY29tcC5kZXN0cm95KCk7XG4gICAgICogY29uc29sZS5sb2coY29tcC5pc0Rlc3Ryb3llZCk7IC8vIFByaW50cyBgdHJ1ZWBcbiAgICAgKiBjb25zb2xlLmxvZyhjb21wLmN1c3RvbVBhcmFtKTsgLy8gVGhyb3dzIGFuIGVycm9yXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAc2luY2UgMS4xLjFcbiAgICAgKi9cbiAgICBnZXQgaXNEZXN0cm95ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA8IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdGhlIGNvbXBvbmVudCB7QGxpbmsgQ29tcG9uZW50LmluaXR9IG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBub3RlIFVzZSB0aGlzIG1ldGhvZCBpbnN0ZWFkIG9mIGRpcmVjdGx5IGNhbGxpbmcge0BsaW5rIENvbXBvbmVudC5pbml0fSxcbiAgICAgKiBiZWNhdXNlIHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gaGFuZGxlciBmb3IgdGhlIHtAbGluayBDb21wb25lbnQuc3RhcnR9LlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF90cmlnZ2VySW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUubG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGBFeGNlcHRpb24gZHVyaW5nICR7dGhpcy50eXBlfSBpbml0KCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogQXJtIG9uQWN0aXZhdGUoKSB3aXRoIHRoZSBpbml0aWFsIHN0YXJ0KCkgY2FsbCAqL1xuICAgICAgICBjb25zdCBvbGRBY3RpdmF0ZSA9IHRoaXMub25BY3RpdmF0ZTtcbiAgICAgICAgdGhpcy5vbkFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlID0gb2xkQWN0aXZhdGU7XG4gICAgICAgICAgICBsZXQgZmFpbGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVQcm9wZXJ0aWVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gdmFsaWRhdGVQcm9wZXJ0aWVzKCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgZSk7XG4gICAgICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydD8uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gc3RhcnQoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBlKTtcbiAgICAgICAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZhaWxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLm9uQWN0aXZhdGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQWN0aXZhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUubG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGBFeGNlcHRpb24gZHVyaW5nICR7dGhpcy50eXBlfSBvbkFjdGl2YXRlKCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdGhlIGNvbXBvbmVudCB7QGxpbmsgQ29tcG9uZW50LnVwZGF0ZX0gbWV0aG9kLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF90cmlnZ2VyVXBkYXRlKGR0KSB7XG4gICAgICAgIGlmICghdGhpcy51cGRhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShkdCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gdXBkYXRlKCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbmdpbmUud2FzbS5fZGVhY3RpdmF0ZV9jb21wb25lbnRfb25fZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdGhlIGNvbXBvbmVudCB7QGxpbmsgQ29tcG9uZW50Lm9uQWN0aXZhdGV9IG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfdHJpZ2dlck9uQWN0aXZhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5vbkFjdGl2YXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gb25BY3RpdmF0ZSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB0aGUgY29tcG9uZW50IHtAbGluayBDb21wb25lbnQub25EZWFjdGl2YXRlfSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgX3RyaWdnZXJPbkRlYWN0aXZhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5vbkRlYWN0aXZhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLm9uRGVhY3RpdmF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IG9uRGVhY3RpdmF0ZSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB0aGUgY29tcG9uZW50IHtAbGluayBDb21wb25lbnQub25EZXN0cm95fSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgX3RyaWdnZXJPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkRlc3Ryb3kpXG4gICAgICAgICAgICAgICAgdGhpcy5vbkRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUubG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGBFeGNlcHRpb24gZHVyaW5nICR7dGhpcy50eXBlfSBvbkRlc3Ryb3koKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUubG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VuZ2luZS5fZGVzdHJveUNvbXBvbmVudCh0aGlzKTtcbiAgICB9XG59XG4vKipcbiAqIENvbXBvbmVudHMgbXVzdCBiZSByZWdpc3RlcmVkIGJlZm9yZSBsb2FkaW5nIC8gYXBwZW5kaW5nIGEgc2NlbmUuXG4gKlxuICogSXQncyBwb3NzaWJsZSB0byBlbmQgdXAgd2l0aCBhIGJyb2tlbiBjb21wb25lbnQgaW4gdGhlIGZvbGxvd2luZyBjYXNlczpcbiAqXG4gKiAtIENvbXBvbmVudCB3YXNuJ3QgcmVnaXN0ZXJlZCB3aGVuIHRoZSBzY2VuZSB3YXMgbG9hZGVkXG4gKiAtIENvbXBvbmVudCBpbnN0YW50aWF0aW9uIGZhaWxlZFxuICpcbiAqIFRoaXMgZHVtbXkgY29tcG9uZW50IGlzIHRodXMgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGJ5IHRoZSBlbmdpbmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBCcm9rZW5Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdfX2Jyb2tlbi1jb21wb25lbnRfXyc7XG59XG4vKipcbiAqIE1lcmdlIHRoZSBhc2NlbmRhbnQgcHJvcGVydGllcyBvZiBjbGFzc1xuICpcbiAqIFRoaXMgbWV0aG9kIHdhbGtzIHRoZSBwcm90b3R5cGUgY2hhaW4sIGFuZCBtZXJnZXNcbiAqIGFsbCB0aGUgcHJvcGVydGllcyBmb3VuZCBpbiBwYXJlbnQgY29tcG9uZW50cy5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQge1Byb3BlcnR5LCBpbmhlcml0UHJvcGVydGllc30gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAqXG4gKiBjbGFzcyBQYXJlbnQge1xuICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0geyBwYXJlbnRQcm9wOiBQcm9wZXJ0eS5zdHJpbmcoJ3BhcmVudCcpIH07XG4gKiB9XG4gKlxuICogY2xhc3MgQ2hpbGQgZXh0ZW5kcyBQYXJlbnQge1xuICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0geyBjaGlsZFByb3A6IFByb3BlcnR5LnN0cmluZygnY2hpbGQnKSB9O1xuICogfVxuICogaW5oZXJpdFByb3BlcnRpZXMoQ2hpbGQpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHRhcmdldCBUaGUgY2xhc3MgaW4gd2hpY2ggcHJvcGVydGllcyBzaG91bGQgYmUgbWVyZ2VkXG4gKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5oZXJpdFByb3BlcnRpZXModGFyZ2V0KSB7XG4gICAgaWYgKCF0YXJnZXQuVHlwZU5hbWUpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBjaGFpbiA9IFtdO1xuICAgIGxldCBjdXJyID0gdGFyZ2V0O1xuICAgIHdoaWxlIChjdXJyICYmICFpc0Jhc2VDb21wb25lbnRDbGFzcyhjdXJyKSkge1xuICAgICAgICBjb25zdCBjb21wID0gY3VycjtcbiAgICAgICAgLyogU3RvcCBhdCB0aGUgZmlyc3QgY2xhc3MgdGhhdCBkb2Vzbid0IHJlcXVpcmUgcHJvcGVydGllcyBtZXJnaW5nICovXG4gICAgICAgIGNvbnN0IG5lZWRzTWVyZ2UgPSBjb21wLmhhc093blByb3BlcnR5KCdJbmhlcml0UHJvcGVydGllcycpXG4gICAgICAgICAgICA/IGNvbXAuSW5oZXJpdFByb3BlcnRpZXNcbiAgICAgICAgICAgIDogdHJ1ZTtcbiAgICAgICAgaWYgKCFuZWVkc01lcmdlKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGlmIChjb21wLlR5cGVOYW1lICYmIGNvbXAuaGFzT3duUHJvcGVydHkoJ1Byb3BlcnRpZXMnKSkge1xuICAgICAgICAgICAgY2hhaW4ucHVzaChjb21wLlByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnIgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY3Vycik7XG4gICAgfVxuICAgIC8qIE5vIHByb3RvdHlwZSBtZXJnZSBpcyBuZWVkZWQuICovXG4gICAgaWYgKGNoYWluLmxlbmd0aCA8PSAxKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgbWVyZ2VkID0ge307XG4gICAgZm9yIChsZXQgaSA9IGNoYWluLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24obWVyZ2VkLCBjaGFpbltpXSk7XG4gICAgfVxuICAgIHRhcmdldC5Qcm9wZXJ0aWVzID0gbWVyZ2VkO1xufVxuLyoqXG4gKiBOYXRpdmUgY29sbGlzaW9uIGNvbXBvbmVudC5cbiAqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgY29sbGlzaW9uIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbGxpc2lvbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdjb2xsaXNpb24nO1xuICAgIC8qKiBDb2xsaXNpb24gY29tcG9uZW50IGNvbGxpZGVyICovXG4gICAgZ2V0IGNvbGxpZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfZ2V0X2NvbGxpZGVyKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGNvbGxpc2lvbiBjb21wb25lbnQgY29sbGlkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sbGlkZXIgQ29sbGlkZXIgb2YgdGhlIGNvbGxpc2lvbiBjb21wb25lbnQuXG4gICAgICovXG4gICAgc2V0IGNvbGxpZGVyKGNvbGxpZGVyKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X3NldF9jb2xsaWRlcih0aGlzLl9pZCwgY29sbGlkZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb2xsaXNpb24gY29tcG9uZW50IGV4dGVudHMuXG4gICAgICpcbiAgICAgKiBJZiB7QGxpbmsgY29sbGlkZXJ9IHJldHVybnMge0BsaW5rIENvbGxpZGVyLlNwaGVyZX0sIG9ubHkgdGhlIGZpcnN0XG4gICAgICogY29tcG9uZW50IG9mIHRoZSByZXR1cm5lZCB2ZWN0b3IgaXMgdXNlZC5cbiAgICAgKi9cbiAgICBnZXQgZXh0ZW50cygpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X2dldF9leHRlbnRzKHRoaXMuX2lkKSwgMyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBjb2xsaXNpb24gY29tcG9uZW50IGV4dGVudHMuXG4gICAgICpcbiAgICAgKiBJZiB7QGxpbmsgY29sbGlkZXJ9IHJldHVybnMge0BsaW5rIENvbGxpZGVyLlNwaGVyZX0sIG9ubHkgdGhlIGZpcnN0XG4gICAgICogY29tcG9uZW50IG9mIHRoZSBwYXNzZWQgdmVjdG9yIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAvLyBTcGFucyAxIHVuaXQgb24gdGhlIHgtYXhpcywgMiBvbiB0aGUgeS1heGlzLCAzIG9uIHRoZSB6LWF4aXMuXG4gICAgICogY29sbGlzaW9uLmV4dGVudCA9IFsxLCAyLCAzXTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBleHRlbnRzIEV4dGVudHMgb2YgdGhlIGNvbGxpc2lvbiBjb21wb25lbnQsIGV4cGVjdHMgYVxuICAgICAqICAgICAgMyBjb21wb25lbnQgYXJyYXkuXG4gICAgICovXG4gICAgc2V0IGV4dGVudHMoZXh0ZW50cykge1xuICAgICAgICB0aGlzLmV4dGVudHMuc2V0KGV4dGVudHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgY29sbGlzaW9uIGNvbXBvbmVudCByYWRpdXMuXG4gICAgICpcbiAgICAgKiBAbm90ZSBJZiB7QGxpbmsgY29sbGlkZXJ9IGlzIG5vdCB7QGxpbmsgQ29sbGlkZXIuU3BoZXJlfSwgdGhlIHJldHVybmVkIHZhbHVlXG4gICAgICogY29ycmVzcG9uZHMgdG8gdGhlIHJhZGl1cyBvZiBhIHNwaGVyZSBlbmNsb3NpbmcgdGhlIHNoYXBlLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogc3BoZXJlLnJhZGl1cyA9IDMuMDtcbiAgICAgKiBjb25zb2xlLmxvZyhzcGhlcmUucmFkaXVzKTsgLy8gMy4wXG4gICAgICpcbiAgICAgKiBib3guZXh0ZW50cyA9IFsyLjAsIDIuMCwgMi4wXTtcbiAgICAgKiBjb25zb2xlLmxvZyhib3gucmFkaXVzKTsgLy8gMS43MzIuLi5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqL1xuICAgIGdldCByYWRpdXMoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgaWYgKHRoaXMuY29sbGlkZXIgPT09IENvbGxpZGVyLlNwaGVyZSlcbiAgICAgICAgICAgIHJldHVybiB3YXNtLkhFQVBGMzJbd2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfZXh0ZW50cyh0aGlzLl9pZCkgPj4gMl07XG4gICAgICAgIGNvbnN0IGV4dGVudHMgPSBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfZ2V0X2V4dGVudHModGhpcy5faWQpLCAzKTtcbiAgICAgICAgY29uc3QgeDIgPSBleHRlbnRzWzBdICogZXh0ZW50c1swXTtcbiAgICAgICAgY29uc3QgeTIgPSBleHRlbnRzWzFdICogZXh0ZW50c1sxXTtcbiAgICAgICAgY29uc3QgejIgPSBleHRlbnRzWzJdICogZXh0ZW50c1syXTtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh4MiArIHkyICsgejIpIC8gMjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGNvbGxpc2lvbiBjb21wb25lbnQgcmFkaXVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJhZGl1cyBSYWRpdXMgb2YgdGhlIGNvbGxpc2lvbiBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIEBub3RlIElmIHtAbGluayBjb2xsaWRlcn0gaXMgbm90IHtAbGluayBDb2xsaWRlci5TcGhlcmV9LFxuICAgICAqIHRoZSBleHRlbnRzIGFyZSBzZXQgdG8gZm9ybSBhIHNxdWFyZSB0aGF0IGZpdHMgYSBzcGhlcmUgd2l0aCB0aGUgcHJvdmlkZWQgcmFkaXVzLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogYWFiYkNvbGxpc2lvbi5yYWRpdXMgPSAyLjA7IC8vIEFBQkIgZml0cyBhIHNwaGVyZSBvZiByYWRpdXMgMi4wXG4gICAgICogYm94Q29sbGlzaW9uLnJhZGl1cyA9IDMuMDsgLy8gQm94IG5vdyBmaXRzIGEgc3BoZXJlIG9mIHJhZGl1cyAzLjAsIGtlZXBpbmcgb3JpZW50YXRpb25cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqL1xuICAgIHNldCByYWRpdXMocmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuY29sbGlkZXIgPT09IENvbGxpZGVyLlNwaGVyZSA/IHJhZGl1cyA6ICgyICogcmFkaXVzKSAvIFNRUlRfMztcbiAgICAgICAgdGhpcy5leHRlbnRzLnNldChbbGVuZ3RoLCBsZW5ndGgsIGxlbmd0aF0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb2xsaXNpb24gY29tcG9uZW50IGdyb3VwLlxuICAgICAqXG4gICAgICogVGhlIGdyb3VwcyBpcyBhIGJpdG1hc2sgdGhhdCBpcyBjb21wYXJlZCB0byBvdGhlciBjb21wb25lbnRzIGluIHtAbGluayBDb2xsaXNpb25Db21wb25lbnQjcXVlcnlPdmVybGFwc31cbiAgICAgKiBvciB0aGUgZ3JvdXAgaW4ge0BsaW5rIFNjZW5lI3JheUNhc3R9LlxuICAgICAqXG4gICAgICogQ29sbGlkZXJzIHRoYXQgaGF2ZSBubyBjb21tb24gZ3JvdXBzIHdpbGwgbm90IG92ZXJsYXAgd2l0aCBlYWNoIG90aGVyLiBJZiBhIGNvbGxpZGVyXG4gICAgICogaGFzIG5vbmUgb2YgdGhlIGdyb3VwcyBzZXQgZm9yIHtAbGluayBTY2VuZSNyYXlDYXN0fSwgdGhlIHJheSB3aWxsIG5vdCBoaXQgaXQuXG4gICAgICpcbiAgICAgKiBFYWNoIGJpdCByZXByZXNlbnRzIGJlbG9uZ2luZyB0byBhIGdyb3VwLCBzZWUgZXhhbXBsZS5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICAgLy8gYyBiZWxvbmdzIHRvIGdyb3VwIDJcbiAgICAgKiAgICBjLmdyb3VwID0gKDEgPDwgMik7XG4gICAgICpcbiAgICAgKiAgICAvLyBjIGJlbG9uZ3MgdG8gZ3JvdXAgMFxuICAgICAqICAgIGMuZ3JvdXAgPSAoMSA8PCAwKTtcbiAgICAgKlxuICAgICAqICAgIC8vIGMgYmVsb25ncyB0byBncm91cCAwICphbmQqIDJcbiAgICAgKiAgICBjLmdyb3VwID0gKDEgPDwgMCkgfCAoMSA8PCAyKTtcbiAgICAgKlxuICAgICAqICAgIChjLmdyb3VwICYgKDEgPDwgMikpICE9IDA7IC8vIHRydWVcbiAgICAgKiAgICAoYy5ncm91cCAmICgxIDw8IDcpKSAhPSAwOyAvLyBmYWxzZVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGdldCBncm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X2dldF9ncm91cCh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBjb2xsaXNpb24gY29tcG9uZW50IGdyb3VwLlxuICAgICAqXG4gICAgICogQHBhcmFtIGdyb3VwIEdyb3VwIG1hc2sgb2YgdGhlIGNvbGxpc2lvbiBjb21wb25lbnQuXG4gICAgICovXG4gICAgc2V0IGdyb3VwKGdyb3VwKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X3NldF9ncm91cCh0aGlzLl9pZCwgZ3JvdXApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWVyeSBvdmVybGFwcGluZyBvYmplY3RzLlxuICAgICAqXG4gICAgICogVXNhZ2U6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGNvbnN0IGNvbGxpc2lvbiA9IG9iamVjdC5nZXRDb21wb25lbnQoJ2NvbGxpc2lvbicpO1xuICAgICAqIGNvbnN0IG92ZXJsYXBzID0gY29sbGlzaW9uLnF1ZXJ5T3ZlcmxhcHMoKTtcbiAgICAgKiBmb3IoY29uc3Qgb3RoZXJDb2xsaXNpb24gb2Ygb3ZlcmxhcHMpIHtcbiAgICAgKiAgICAgY29uc3Qgb3RoZXJPYmplY3QgPSBvdGhlckNvbGxpc2lvbi5vYmplY3Q7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGBDb2xsaXNpb24gd2l0aCBvYmplY3QgJHtvdGhlck9iamVjdC5vYmplY3RJZH1gKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBDb2xsaXNpb24gY29tcG9uZW50cyBvdmVybGFwcGluZyB0aGlzIGNvbGxpZGVyLlxuICAgICAqL1xuICAgIHF1ZXJ5T3ZlcmxhcHMoKSB7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfcXVlcnlfb3ZlcmxhcHModGhpcy5faWQsIHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtLCB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbVNpemUgPj4gMSk7XG4gICAgICAgIGNvbnN0IG92ZXJsYXBzID0gbmV3IEFycmF5KGNvdW50KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgKytpKSB7XG4gICAgICAgICAgICBvdmVybGFwc1tpXSA9IG5ldyBDb2xsaXNpb25Db21wb25lbnQodGhpcy5fZW5naW5lLCB0aGlzLl9tYW5hZ2VyLCB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbVVpbnQxNltpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG92ZXJsYXBzO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIENvbGxpc2lvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwiY29sbGlkZXJcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBDb2xsaXNpb25Db21wb25lbnQucHJvdG90eXBlLCBcImV4dGVudHNcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBDb2xsaXNpb25Db21wb25lbnQucHJvdG90eXBlLCBcImdyb3VwXCIsIG51bGwpO1xuLyoqXG4gKiBOYXRpdmUgdGV4dCBjb21wb25lbnRcbiAqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgdGV4dCBjb21wb25lbnQgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGNsYXNzIFRleHRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndGV4dCc7XG4gICAgLyoqIFRleHQgY29tcG9uZW50IGFsaWdubWVudC4gKi9cbiAgICBnZXQgYWxpZ25tZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9ob3Jpem9udGFsX2FsaWdubWVudCh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCBhbGlnbm1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWxpZ25tZW50IEFsaWdubWVudCBmb3IgdGhlIHRleHQgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHNldCBhbGlnbm1lbnQoYWxpZ25tZW50KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfaG9yaXpvbnRhbF9hbGlnbm1lbnQodGhpcy5faWQsIGFsaWdubWVudCk7XG4gICAgfVxuICAgIC8qKiBUZXh0IGNvbXBvbmVudCBqdXN0aWZpY2F0aW9uLiAqL1xuICAgIGdldCBqdXN0aWZpY2F0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF92ZXJ0aWNhbF9hbGlnbm1lbnQodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQganVzdGlmaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBqdXN0aWZpY2F0aW9uIEp1c3RpZmljYXRpb24gZm9yIHRoZSB0ZXh0IGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBzZXQganVzdGlmaWNhdGlvbihqdXN0aWZpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfdmVydGljYWxfYWxpZ25tZW50KHRoaXMuX2lkLCBqdXN0aWZpY2F0aW9uKTtcbiAgICB9XG4gICAgLyoqIFRleHQgY29tcG9uZW50IGNoYXJhY3RlciBzcGFjaW5nLiAqL1xuICAgIGdldCBjaGFyYWN0ZXJTcGFjaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9jaGFyYWN0ZXJfc3BhY2luZyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCBjaGFyYWN0ZXIgc3BhY2luZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzcGFjaW5nIENoYXJhY3RlciBzcGFjaW5nIGZvciB0aGUgdGV4dCBjb21wb25lbnQuXG4gICAgICovXG4gICAgc2V0IGNoYXJhY3RlclNwYWNpbmcoc3BhY2luZykge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfc2V0X2NoYXJhY3Rlcl9zcGFjaW5nKHRoaXMuX2lkLCBzcGFjaW5nKTtcbiAgICB9XG4gICAgLyoqIFRleHQgY29tcG9uZW50IGxpbmUgc3BhY2luZy4gKi9cbiAgICBnZXQgbGluZVNwYWNpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfZ2V0X2xpbmVfc3BhY2luZyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCBsaW5lIHNwYWNpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzcGFjaW5nIExpbmUgc3BhY2luZyBmb3IgdGhlIHRleHQgY29tcG9uZW50XG4gICAgICovXG4gICAgc2V0IGxpbmVTcGFjaW5nKHNwYWNpbmcpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF9saW5lX3NwYWNpbmcodGhpcy5faWQsIHNwYWNpbmcpO1xuICAgIH1cbiAgICAvKiogVGV4dCBjb21wb25lbnQgZWZmZWN0LiAqL1xuICAgIGdldCBlZmZlY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfZ2V0X2VmZmVjdCh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCBlZmZlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlZmZlY3QgRWZmZWN0IGZvciB0aGUgdGV4dCBjb21wb25lbnRcbiAgICAgKi9cbiAgICBzZXQgZWZmZWN0KGVmZmVjdCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfc2V0X2VmZmVjdCh0aGlzLl9pZCwgZWZmZWN0KTtcbiAgICB9XG4gICAgLyoqIFRleHQgY29tcG9uZW50IHRleHQuICovXG4gICAgZ2V0IHRleHQoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfdGV4dF9jb21wb25lbnRfZ2V0X3RleHQodGhpcy5faWQpO1xuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcocHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRleHQgY29tcG9uZW50IHRleHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGV4dCBUZXh0IG9mIHRoZSB0ZXh0IGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBzZXQgdGV4dCh0ZXh0KSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fd2xfdGV4dF9jb21wb25lbnRfc2V0X3RleHQodGhpcy5faWQsIHdhc20udGVtcFVURjgodGV4dC50b1N0cmluZygpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBtYXRlcmlhbCB0byByZW5kZXIgdGhlIHRleHQgd2l0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtYXRlcmlhbCBOZXcgbWF0ZXJpYWwuXG4gICAgICovXG4gICAgc2V0IG1hdGVyaWFsKG1hdGVyaWFsKSB7XG4gICAgICAgIGNvbnN0IG1hdEluZGV4ID0gbWF0ZXJpYWwgPyBtYXRlcmlhbC5faW5kZXggOiAwO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfc2V0X21hdGVyaWFsKHRoaXMuX2lkLCBtYXRJbmRleCk7XG4gICAgfVxuICAgIC8qKiBNYXRlcmlhbCB1c2VkIHRvIHJlbmRlciB0aGUgdGV4dC4gKi9cbiAgICBnZXQgbWF0ZXJpYWwoKSB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9tYXRlcmlhbCh0aGlzLl9pZCk7XG4gICAgICAgIHJldHVybiBpZCA+IDAgPyBuZXcgTWF0ZXJpYWwodGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcImFsaWdubWVudFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcImp1c3RpZmljYXRpb25cIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJjaGFyYWN0ZXJTcGFjaW5nXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwibGluZVNwYWNpbmdcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJlZmZlY3RcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0ZXh0XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF0ZXJpYWxcIiwgbnVsbCk7XG4vKipcbiAqIE5hdGl2ZSB2aWV3IGNvbXBvbmVudC5cbiAqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgdmlldyBjb21wb25lbnQgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBWaWV3Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3ZpZXcnO1xuICAgIC8qKiBQcm9qZWN0aW9uIG1hdHJpeC4gKi9cbiAgICBnZXQgcHJvamVjdGlvbk1hdHJpeCgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF92aWV3X2NvbXBvbmVudF9nZXRfcHJvamVjdGlvbl9tYXRyaXgodGhpcy5faWQpLCAxNik7XG4gICAgfVxuICAgIC8qKiBWaWV3Q29tcG9uZW50IG5lYXIgY2xpcHBpbmcgcGxhbmUgdmFsdWUuICovXG4gICAgZ2V0IG5lYXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfZ2V0X25lYXIodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbmVhciBjbGlwcGluZyBwbGFuZSBkaXN0YW5jZSBmb3IgdGhlIHZpZXcuXG4gICAgICpcbiAgICAgKiBJZiBhbiBYUiBzZXNzaW9uIGlzIGFjdGl2ZSwgdGhlIGNoYW5nZSB3aWxsIGFwcGx5IGluIHRoZVxuICAgICAqIGZvbGxvd2luZyBmcmFtZSwgb3RoZXJ3aXNlIHRoZSBjaGFuZ2UgaXMgaW1tZWRpYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5lYXIgTmVhciBkZXB0aCB2YWx1ZS5cbiAgICAgKi9cbiAgICBzZXQgbmVhcihuZWFyKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9zZXRfbmVhcih0aGlzLl9pZCwgbmVhcik7XG4gICAgfVxuICAgIC8qKiBGYXIgY2xpcHBpbmcgcGxhbmUgdmFsdWUuICovXG4gICAgZ2V0IGZhcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9nZXRfZmFyKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGZhciBjbGlwcGluZyBwbGFuZSBkaXN0YW5jZSBmb3IgdGhlIHZpZXcuXG4gICAgICpcbiAgICAgKiBJZiBhbiBYUiBzZXNzaW9uIGlzIGFjdGl2ZSwgdGhlIGNoYW5nZSB3aWxsIGFwcGx5IGluIHRoZVxuICAgICAqIGZvbGxvd2luZyBmcmFtZSwgb3RoZXJ3aXNlIHRoZSBjaGFuZ2UgaXMgaW1tZWRpYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZhciBOZWFyIGRlcHRoIHZhbHVlLlxuICAgICAqL1xuICAgIHNldCBmYXIoZmFyKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9zZXRfZmFyKHRoaXMuX2lkLCBmYXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGhvcml6b250YWwgZmllbGQgb2YgdmlldyBmb3IgdGhlIHZpZXcsICoqaW4gZGVncmVlcyoqLlxuICAgICAqXG4gICAgICogSWYgYW4gWFIgc2Vzc2lvbiBpcyBhY3RpdmUsIHRoaXMgcmV0dXJucyB0aGUgZmllbGQgb2YgdmlldyByZXBvcnRlZCBieVxuICAgICAqIHRoZSBkZXZpY2UsIHJlZ2FyZGxlc3Mgb2YgdGhlIGZvdiB0aGF0IHdhcyBzZXQuXG4gICAgICovXG4gICAgZ2V0IGZvdigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9nZXRfZm92KHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBob3Jpem9udGFsIGZpZWxkIG9mIHZpZXcgZm9yIHRoZSB2aWV3LCAqKmluIGRlZ3JlZXMqKi5cbiAgICAgKlxuICAgICAqIElmIGFuIFhSIHNlc3Npb24gaXMgYWN0aXZlLCB0aGUgZmllbGQgb2YgdmlldyByZXBvcnRlZCBieSB0aGUgZGV2aWNlIGlzXG4gICAgICogdXNlZCBhbmQgdGhpcyB2YWx1ZSBpcyBpZ25vcmVkLiBBZnRlciB0aGUgWFIgc2Vzc2lvbiBlbmRzLCB0aGUgbmV3IHZhbHVlXG4gICAgICogaXMgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmb3YgSG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3LCAqKmluIGRlZ3JlZXMqKi5cbiAgICAgKi9cbiAgICBzZXQgZm92KGZvdikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfc2V0X2Zvdih0aGlzLl9pZCwgZm92KTtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBlbnVtZXJhYmxlKClcbl0sIFZpZXdDb21wb25lbnQucHJvdG90eXBlLCBcInByb2plY3Rpb25NYXRyaXhcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBWaWV3Q29tcG9uZW50LnByb3RvdHlwZSwgXCJuZWFyXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgVmlld0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZmFyXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgVmlld0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZm92XCIsIG51bGwpO1xuLyoqXG4gKiBOYXRpdmUgaW5wdXQgY29tcG9uZW50LlxuICpcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBpbnB1dCBjb21wb25lbnQgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnB1dENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdpbnB1dCc7XG4gICAgLyoqIElucHV0IGNvbXBvbmVudCB0eXBlICovXG4gICAgZ2V0IGlucHV0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9pbnB1dF9jb21wb25lbnRfZ2V0X3R5cGUodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgaW5wdXQgY29tcG9uZW50IHR5cGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW1zIE5ldyBpbnB1dCBjb21wb25lbnQgdHlwZS5cbiAgICAgKi9cbiAgICBzZXQgaW5wdXRUeXBlKHR5cGUpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2lucHV0X2NvbXBvbmVudF9zZXRfdHlwZSh0aGlzLl9pZCwgdHlwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdlYlhSIERldmljZSBBUEkgaW5wdXQgc291cmNlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGlucHV0IGNvbXBvbmVudCxcbiAgICAgKiBpZiB0eXBlIHtAbGluayBJbnB1dFR5cGUuQ29udHJvbGxlckxlZnR9IG9yIHtAbGluayBJbnB1dFR5cGUuQ29udHJvbGxlclJpZ2h0fS5cbiAgICAgKi9cbiAgICBnZXQgeHJJbnB1dFNvdXJjZSgpIHtcbiAgICAgICAgY29uc3QgeHIgPSB0aGlzLl9lbmdpbmUueHI7XG4gICAgICAgIGlmICgheHIpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaW5wdXRTb3VyY2Ugb2YgeHIuc2Vzc2lvbi5pbnB1dFNvdXJjZXMpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09IHRoaXMuaGFuZGVkbmVzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dFNvdXJjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogJ2xlZnQnLCAncmlnaHQnIG9yIGBudWxsYCBkZXBlbmRpbmcgb24gdGhlIHtAbGluayBJbnB1dENvbXBvbmVudCNpbnB1dFR5cGV9LlxuICAgICAqL1xuICAgIGdldCBoYW5kZWRuZXNzKCkge1xuICAgICAgICBjb25zdCBpbnB1dFR5cGUgPSB0aGlzLmlucHV0VHlwZTtcbiAgICAgICAgaWYgKGlucHV0VHlwZSA9PSBJbnB1dFR5cGUuQ29udHJvbGxlclJpZ2h0IHx8XG4gICAgICAgICAgICBpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLlJheVJpZ2h0IHx8XG4gICAgICAgICAgICBpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLkV5ZVJpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuICdyaWdodCc7XG4gICAgICAgIGlmIChpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLkNvbnRyb2xsZXJMZWZ0IHx8XG4gICAgICAgICAgICBpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLlJheUxlZnQgfHxcbiAgICAgICAgICAgIGlucHV0VHlwZSA9PSBJbnB1dFR5cGUuRXllTGVmdClcbiAgICAgICAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIElucHV0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJpbnB1dFR5cGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBlbnVtZXJhYmxlKClcbl0sIElucHV0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ4cklucHV0U291cmNlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgZW51bWVyYWJsZSgpXG5dLCBJbnB1dENvbXBvbmVudC5wcm90b3R5cGUsIFwiaGFuZGVkbmVzc1wiLCBudWxsKTtcbi8qKlxuICogTmF0aXZlIGxpZ2h0IGNvbXBvbmVudC5cbiAqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgbGlnaHQgY29tcG9uZW50IGluc3RhbmNlLlxuICovXG5leHBvcnQgY2xhc3MgTGlnaHRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbGlnaHQnO1xuICAgIGdldENvbG9yKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X2NvbG9yKHRoaXMuX2lkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBsaWdodCBjb2xvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjIE5ldyBjb2xvciBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBzZXRDb2xvcihjKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9jb2xvcih0aGlzLl9pZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0cl0gPSBjWzBdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMV0gPSBjWzFdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMl0gPSBjWzJdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSBsaWdodCBjb2xvci5cbiAgICAgKlxuICAgICAqIEBub3RlIFByZWZlciB0byB1c2Uge0BsaW5rIGdldENvbG9yfSBpbiBwZXJmb3JtYW5jZS1jcml0aWNhbCBjb2RlLlxuICAgICAqL1xuICAgIGdldCBjb2xvcigpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X2NvbG9yKHRoaXMuX2lkKSwgMyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBsaWdodCBjb2xvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjIENvbG9yIG9mIHRoZSBsaWdodCBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAbm90ZSBQcmVmZXIgdG8gdXNlIHtAbGluayBzZXRDb2xvcn0gaW4gcGVyZm9ybWFuY2UtY3JpdGljYWwgY29kZS5cbiAgICAgKi9cbiAgICBzZXQgY29sb3IoYykge1xuICAgICAgICB0aGlzLmNvbG9yLnNldChjKTtcbiAgICB9XG4gICAgLyoqIExpZ2h0IHR5cGUuICovXG4gICAgZ2V0IGxpZ2h0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3R5cGUodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbGlnaHQgdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaWdodFR5cGUgVHlwZSBvZiB0aGUgbGlnaHQgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHNldCBsaWdodFR5cGUodCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF90eXBlKHRoaXMuX2lkLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlnaHQgaW50ZW5zaXR5LlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBpbnRlbnNpdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9pbnRlbnNpdHkodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbGlnaHQgaW50ZW5zaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGludGVuc2l0eSBJbnRlbnNpdHkgb2YgdGhlIGxpZ2h0IGNvbXBvbmVudC5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBzZXQgaW50ZW5zaXR5KGludGVuc2l0eSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9pbnRlbnNpdHkodGhpcy5faWQsIGludGVuc2l0eSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE91dGVyIGFuZ2xlIGZvciBzcG90IGxpZ2h0cywgaW4gZGVncmVlcy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBnZXQgb3V0ZXJBbmdsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X291dGVyQW5nbGUodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgb3V0ZXIgYW5nbGUgZm9yIHNwb3QgbGlnaHRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFuZ2xlIE91dGVyIGFuZ2xlLCBpbiBkZWdyZWVzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIHNldCBvdXRlckFuZ2xlKGFuZ2xlKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X291dGVyQW5nbGUodGhpcy5faWQsIGFuZ2xlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5uZXIgYW5nbGUgZm9yIHNwb3QgbGlnaHRzLCBpbiBkZWdyZWVzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBpbm5lckFuZ2xlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfaW5uZXJBbmdsZSh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBpbm5lciBhbmdsZSBmb3Igc3BvdCBsaWdodHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYW5nbGUgSW5uZXIgYW5nbGUsIGluIGRlZ3JlZXMuXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgc2V0IGlubmVyQW5nbGUoYW5nbGUpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfaW5uZXJBbmdsZSh0aGlzLl9pZCwgYW5nbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBsaWdodCBjYXN0cyBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBzaGFkb3dzKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dzKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdGhlIGxpZ2h0IGNhc3RzIHNoYWRvd3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoZSBsaWdodCBjYXN0cyBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIHNldCBzaGFkb3dzKGIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfc2hhZG93cyh0aGlzLl9pZCwgYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJhbmdlIGZvciBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBzaGFkb3dSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3NoYWRvd1JhbmdlKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHJhbmdlIGZvciBzaGFkb3dzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJhbmdlIFJhbmdlIGZvciBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIHNldCBzaGFkb3dSYW5nZShyYW5nZSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dSYW5nZSh0aGlzLl9pZCwgcmFuZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaWFzIHZhbHVlIGZvciBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBzaGFkb3dCaWFzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfc2hhZG93Qmlhcyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBiaWFzIHZhbHVlIGZvciBzaGFkb3dzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJpYXMgQmlhcyBmb3Igc2hhZG93cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBzZXQgc2hhZG93QmlhcyhiaWFzKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd0JpYXModGhpcy5faWQsIGJpYXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3JtYWwgYmlhcyB2YWx1ZSBmb3Igc2hhZG93cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBnZXQgc2hhZG93Tm9ybWFsQmlhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3NoYWRvd05vcm1hbEJpYXModGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbm9ybWFsIGJpYXMgdmFsdWUgZm9yIHNoYWRvd3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYmlhcyBOb3JtYWwgYmlhcyBmb3Igc2hhZG93cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBzZXQgc2hhZG93Tm9ybWFsQmlhcyhiaWFzKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd05vcm1hbEJpYXModGhpcy5faWQsIGJpYXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXhlbCBzaXplIGZvciBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBzaGFkb3dUZXhlbFNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dUZXhlbFNpemUodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGV4ZWwgc2l6ZSBmb3Igc2hhZG93cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaXplIFRleGVsIHNpemUgZm9yIHNoYWRvd3MuXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgc2V0IHNoYWRvd1RleGVsU2l6ZShzaXplKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd1RleGVsU2l6ZSh0aGlzLl9pZCwgc2l6ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhc2NhZGUgY291bnQgZm9yIHtAbGluayBMaWdodFR5cGUuU3VufSBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGdldCBjYXNjYWRlQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9jYXNjYWRlQ291bnQodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY2FzY2FkZSBjb3VudCBmb3Ige0BsaW5rIExpZ2h0VHlwZS5TdW59IHNoYWRvd3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY291bnQgQ2FzY2FkZSBjb3VudC5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBzZXQgY2FzY2FkZUNvdW50KGNvdW50KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X2Nhc2NhZGVDb3VudCh0aGlzLl9pZCwgY291bnQpO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xvclwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsaWdodFR5cGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiaW50ZW5zaXR5XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcIm91dGVyQW5nbGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5uZXJBbmdsZVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFkb3dzXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcInNoYWRvd1JhbmdlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcInNoYWRvd0JpYXNcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhZG93Tm9ybWFsQmlhc1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFkb3dUZXhlbFNpemVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiY2FzY2FkZUNvdW50XCIsIG51bGwpO1xuLyoqXG4gKiBOYXRpdmUgYW5pbWF0aW9uIGNvbXBvbmVudC5cbiAqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgYW5pbWF0aW9uIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdhbmltYXRpb24nO1xuICAgIC8qKlxuICAgICAqIFNldCBhbmltYXRpb24gdG8gcGxheS5cbiAgICAgKlxuICAgICAqIE1ha2Ugc3VyZSB0byB7QGxpbmsgQW5pbWF0aW9uI3JldGFyZ2V0fSB0aGUgYW5pbWF0aW9uIHRvIGFmZmVjdCB0aGVcbiAgICAgKiByaWdodCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFuaW0gQW5pbWF0aW9uIHRvIHBsYXkuXG4gICAgICovXG4gICAgc2V0IGFuaW1hdGlvbihhbmltKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3NldF9hbmltYXRpb24odGhpcy5faWQsIGFuaW0gPyBhbmltLl9pbmRleCA6IDApO1xuICAgIH1cbiAgICAvKiogQW5pbWF0aW9uIHNldCBmb3IgdGhpcyBjb21wb25lbnQgKi9cbiAgICBnZXQgYW5pbWF0aW9uKCkge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X2dldF9hbmltYXRpb24odGhpcy5faWQpO1xuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IEFuaW1hdGlvbih0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBwbGF5IGNvdW50LiBTZXQgdG8gYDBgIHRvIGxvb3AgaW5kZWZpbml0ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBsYXlDb3VudCBOdW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBhbmltYXRpb24uXG4gICAgICovXG4gICAgc2V0IHBsYXlDb3VudChwbGF5Q291bnQpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc2V0X3BsYXlDb3VudCh0aGlzLl9pZCwgcGxheUNvdW50KTtcbiAgICB9XG4gICAgLyoqIE51bWJlciBvZiB0aW1lcyB0aGUgYW5pbWF0aW9uIGlzIHBsYXllZC4gKi9cbiAgICBnZXQgcGxheUNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfZ2V0X3BsYXlDb3VudCh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBzcGVlZC4gU2V0IHRvIG5lZ2F0aXZlIHZhbHVlcyB0byBydW4gdGhlIGFuaW1hdGlvbiBiYWNrd2FyZHMuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHNwZWVkIGhhcyBhbiBpbW1lZGlhdGUgZWZmZWN0IGZvciB0aGUgY3VycmVudCBmcmFtZSdzIHVwZGF0ZVxuICAgICAqIGFuZCB3aWxsIGNvbnRpbnVlIHdpdGggdGhlIHNwZWVkIGZyb20gdGhlIGN1cnJlbnQgcG9pbnQgaW4gdGhlIGFuaW1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzcGVlZCBOZXcgc3BlZWQgYXQgd2hpY2ggdG8gcGxheSB0aGUgYW5pbWF0aW9uLlxuICAgICAqIEBzaW5jZSAwLjguMTBcbiAgICAgKi9cbiAgICBzZXQgc3BlZWQoc3BlZWQpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc2V0X3NwZWVkKHRoaXMuX2lkLCBzcGVlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNwZWVkIGZhY3RvciBhdCB3aGljaCB0aGUgYW5pbWF0aW9uIGlzIHBsYXllZC5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguMTBcbiAgICAgKi9cbiAgICBnZXQgc3BlZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9nZXRfc3BlZWQodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKiogQ3VycmVudCBwbGF5aW5nIHN0YXRlIG9mIHRoZSBhbmltYXRpb24gKi9cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9zdGF0ZSh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBsYXkgYW5pbWF0aW9uLlxuICAgICAqXG4gICAgICogSWYgdGhlIGFuaW1hdGlvbiBpcyBjdXJyZW50bHkgcGF1c2VkLCByZXN1bWVzIGZyb20gdGhhdCBwb3NpdGlvbi4gSWYgdGhlXG4gICAgICogYW5pbWF0aW9uIGlzIGFscmVhZHkgcGxheWluZywgZG9lcyBub3RoaW5nLlxuICAgICAqXG4gICAgICogVG8gcmVzdGFydCB0aGUgYW5pbWF0aW9uLCB7QGxpbmsgQW5pbWF0aW9uQ29tcG9uZW50I3N0b3B9IGl0IGZpcnN0LlxuICAgICAqL1xuICAgIHBsYXkoKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3BsYXkodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKiogU3RvcCBhbmltYXRpb24uICovXG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc3RvcCh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKiBQYXVzZSBhbmltYXRpb24uICovXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3BhdXNlKHRoaXMuX2lkKTtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBBbmltYXRpb25Db21wb25lbnQucHJvdG90eXBlLCBcImFuaW1hdGlvblwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwicGxheUNvdW50XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgQW5pbWF0aW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzcGVlZFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGVudW1lcmFibGUoKVxuXSwgQW5pbWF0aW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdGF0ZVwiLCBudWxsKTtcbi8qKlxuICogTmF0aXZlIG1lc2ggY29tcG9uZW50LlxuICpcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBtZXNoIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1lc2hDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbWVzaCc7XG4gICAgLyoqXG4gICAgICogU2V0IG1hdGVyaWFsIHRvIHJlbmRlciB0aGUgbWVzaCB3aXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1hdGVyaWFsIE1hdGVyaWFsIHRvIHJlbmRlciB0aGUgbWVzaCB3aXRoLlxuICAgICAqL1xuICAgIHNldCBtYXRlcmlhbChtYXRlcmlhbCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfc2V0X21hdGVyaWFsKHRoaXMuX2lkLCBtYXRlcmlhbCA/IG1hdGVyaWFsLl9pbmRleCA6IDApO1xuICAgIH1cbiAgICAvKiogTWF0ZXJpYWwgdXNlZCB0byByZW5kZXIgdGhlIG1lc2guICovXG4gICAgZ2V0IG1hdGVyaWFsKCkge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2NvbXBvbmVudF9nZXRfbWF0ZXJpYWwodGhpcy5faWQpO1xuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IE1hdGVyaWFsKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcbiAgICB9XG4gICAgLyoqIE1lc2ggcmVuZGVyZWQgYnkgdGhpcyBjb21wb25lbnQuICovXG4gICAgZ2V0IG1lc2goKSB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X2dldF9tZXNoKHRoaXMuX2lkKTtcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBNZXNoKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IG1lc2ggdG8gcmVuZGVyZWQgd2l0aCB0aGlzIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtZXNoIE1lc2ggcmVuZGVyZWQgYnkgdGhpcyBjb21wb25lbnQuXG4gICAgICovXG4gICAgc2V0IG1lc2gobWVzaCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfc2V0X21lc2godGhpcy5faWQsIG1lc2ggPyBtZXNoLl9pbmRleCA6IDApO1xuICAgIH1cbiAgICAvKiogU2tpbiBmb3IgdGhpcyBtZXNoIGNvbXBvbmVudC4gKi9cbiAgICBnZXQgc2tpbigpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfZ2V0X3NraW4odGhpcy5faWQpO1xuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IFNraW4odGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgc2tpbiB0byB0cmFuc2Zvcm0gdGhpcyBtZXNoIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBza2luIFNraW4gdG8gdXNlIGZvciByZW5kZXJpbmcgc2tpbm5lZCBtZXNoZXMuXG4gICAgICovXG4gICAgc2V0IHNraW4oc2tpbikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfc2V0X3NraW4odGhpcy5faWQsIHNraW4gPyBza2luLl9pbmRleCA6IDApO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIE1lc2hDb21wb25lbnQucHJvdG90eXBlLCBcIm1hdGVyaWFsXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgTWVzaENvbXBvbmVudC5wcm90b3R5cGUsIFwibWVzaFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIE1lc2hDb21wb25lbnQucHJvdG90eXBlLCBcInNraW5cIiwgbnVsbCk7XG4vKipcbiAqIEVudW0gZm9yIFBoeXNpY3MgYXhlcyBsb2NraW5nXG4gKlxuICogU2VlIHtAbGluayBQaHlzWENvbXBvbmVudC5hbmd1bGFyTG9ja0F4aXN9IGFuZCB7QGxpbmsgUGh5c1hDb21wb25lbnQubGluZWFyTG9ja0F4aXN9LlxuICovXG5leHBvcnQgdmFyIExvY2tBeGlzO1xuKGZ1bmN0aW9uIChMb2NrQXhpcykge1xuICAgIC8qKlxuICAgICAqIE5vIGF4aXMgc2VsZWN0ZWQuXG4gICAgICovXG4gICAgTG9ja0F4aXNbTG9ja0F4aXNbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICAvKipcbiAgICAgKiAqKlggYXhpcyoqOlxuICAgICAqL1xuICAgIExvY2tBeGlzW0xvY2tBeGlzW1wiWFwiXSA9IDFdID0gXCJYXCI7XG4gICAgLyoqXG4gICAgICogKipZIGF4aXMqKjpcbiAgICAgKi9cbiAgICBMb2NrQXhpc1tMb2NrQXhpc1tcIllcIl0gPSAyXSA9IFwiWVwiO1xuICAgIC8qKlxuICAgICAqICoqWiBheGlzKio6XG4gICAgICovXG4gICAgTG9ja0F4aXNbTG9ja0F4aXNbXCJaXCJdID0gNF0gPSBcIlpcIjtcbn0pKExvY2tBeGlzIHx8IChMb2NrQXhpcyA9IHt9KSk7XG4vKipcbiAqIE5hdGl2ZSBwaHlzeCByaWdpZCBib2R5IGNvbXBvbmVudC5cbiAqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgbWVzaCBjb21wb25lbnQgaW5zdGFuY2UuXG4gKiBPbmx5IGF2YWlsYWJsZSB3aGVuIHVzaW5nIHBoeXN4IGVuYWJsZWQgcnVudGltZSwgc2VlIFwiUHJvamVjdCBTZXR0aW5ncyA+IFJ1bnRpbWVcIi5cbiAqL1xuZXhwb3J0IGNsYXNzIFBoeXNYQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3BoeXN4JztcbiAgICBnZXRUcmFuc2xhdGlvbk9mZnNldChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9vZmZzZXRUcmFuc2xhdGlvbih0aGlzLl9pZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIGdldFJvdGF0aW9uT2Zmc2V0KG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoNCkpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X29mZnNldFRyYW5zZm9ybSh0aGlzLl9pZCkgPj4gMjsgLyogQWxpZ24gRjMyICovXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcbiAgICAgICAgb3V0WzNdID0gd2FzbS5IRUFQRjMyW3B0ciArIDNdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgaXMgc3RhdGljLlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGlzIHByb3BlcnR5IG9ubHkgdGFrZXMgZWZmZWN0IG9uY2UgdGhlIGNvbXBvbmVudFxuICAgICAqIHN3aXRjaGVzIGZyb20gaW5hY3RpdmUgdG8gYWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGUgcmlnaWQgYm9keSBzaG91bGQgYmUgc3RhdGljLlxuICAgICAqL1xuICAgIHNldCBzdGF0aWMoYikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zdGF0aWModGhpcy5faWQsIGIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSBpcyBzdGF0aWMuXG4gICAgICpcbiAgICAgKiBUaGlzIHByb3BlcnR5IHJldHVybnMgd2hldGhlciB0aGUgcmlnaWQgYm9keSBpcyAqZWZmZWN0aXZlbHkqXG4gICAgICogc3RhdGljLiBJZiBzdGF0aWMgcHJvcGVydHkgd2FzIHNldCB3aGlsZSB0aGUgcmlnaWQgYm9keSB3YXNcbiAgICAgKiBhY3RpdmUsIGl0IHdpbGwgbm90IHRha2UgZWZmZWN0IHVudGlsIHRoZSByaWdpZCBib2R5IGlzIHNldFxuICAgICAqIGluYWN0aXZlIGFuZCBhY3RpdmUgYWdhaW4uIFVudGlsIHRoZSBjb21wb25lbnQgaXMgc2V0IGluYWN0aXZlLFxuICAgICAqIHRoaXMgZ2V0dGVyIHdpbGwgcmV0dXJuIHdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkgaXMgYWN0dWFsbHlcbiAgICAgKiBzdGF0aWMuXG4gICAgICovXG4gICAgZ2V0IHN0YXRpYygpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc3RhdGljKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byB7QGxpbmsgUGh5c1hDb21wb25lbnQuZ2V0VHJhbnNsYXRpb25PZmZzZXR9LlxuICAgICAqXG4gICAgICogR2l2ZXMgYSBxdWljayB2aWV3IG9mIHRoZSBvZmZzZXQgaW4gYSBkZWJ1Z2dlci5cbiAgICAgKlxuICAgICAqIEBub3RlIFByZWZlciB0byB1c2Uge0BsaW5rIFBoeXNYQ29tcG9uZW50LmdldFRyYW5zbGF0aW9uT2Zmc2V0fSBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMS4xLjFcbiAgICAgKi9cbiAgICBnZXQgdHJhbnNsYXRpb25PZmZzZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRyYW5zbGF0aW9uT2Zmc2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgb2Zmc2V0IHRyYW5zbGF0aW9uLlxuICAgICAqXG4gICAgICogVGhlIGFycmF5IG11c3QgYmUgYSB2ZWN0b3Igb2YgYXQgbGVhc3QgKiozKiogZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGUgY29tcG9uZW50IG11c3QgYmUgcmUtYWN0aXZhdGVkIHRvIGFwcGx5IHRoZSBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMS4xLjFcbiAgICAgKi9cbiAgICBzZXQgdHJhbnNsYXRpb25PZmZzZXQob2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9vZmZzZXRUcmFuc2xhdGlvbih0aGlzLl9pZCwgb2Zmc2V0WzBdLCBvZmZzZXRbMV0sIG9mZnNldFsyXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8ge0BsaW5rIFBoeXNYQ29tcG9uZW50LmdldFJvdGF0aW9uT2Zmc2V0fS5cbiAgICAgKlxuICAgICAqIEdpdmVzIGEgcXVpY2sgdmlldyBvZiB0aGUgb2Zmc2V0IGluIGEgZGVidWdnZXIuXG4gICAgICpcbiAgICAgKiBAbm90ZSBQcmVmZXIgdG8gdXNlIHtAbGluayBQaHlzWENvbXBvbmVudC5nZXRSb3RhdGlvbk9mZnNldH0gZm9yIHBlcmZvcm1hbmNlLlxuICAgICAqXG4gICAgICogQHNpbmNlIDEuMS4xXG4gICAgICovXG4gICAgZ2V0IHJvdGF0aW9uT2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSb3RhdGlvbk9mZnNldCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG9mZnNldCByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIFRoZSBhcnJheSBtdXN0IGJlIGEgcXVhdGVybmlvbiBvZiBhdCBsZWFzdCAqKjQqKiBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoZSBjb21wb25lbnQgbXVzdCBiZSByZS1hY3RpdmF0ZWQgdG8gYXBwbHkgdGhlIGNoYW5nZS5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAxLjEuMVxuICAgICAqL1xuICAgIHNldCByb3RhdGlvbk9mZnNldChvZmZzZXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X29mZnNldFJvdGF0aW9uKHRoaXMuX2lkLCBvZmZzZXRbMF0sIG9mZnNldFsxXSwgb2Zmc2V0WzJdLCBvZmZzZXRbM10pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgaXMga2luZW1hdGljLlxuICAgICAqXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGUgcmlnaWQgYm9keSBzaG91bGQgYmUga2luZW1hdGljLlxuICAgICAqL1xuICAgIHNldCBraW5lbWF0aWMoYikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9raW5lbWF0aWModGhpcy5faWQsIGIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSBpcyBraW5lbWF0aWMuXG4gICAgICovXG4gICAgZ2V0IGtpbmVtYXRpYygpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfa2luZW1hdGljKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyByaWdpZCBib2R5J3MgZ3Jhdml0eSBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGUgcmlnaWQgYm9keSdzIGdyYXZpdHkgc2hvdWxkIGJlIGVuYWJsZWQuXG4gICAgICovXG4gICAgc2V0IGdyYXZpdHkoYikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9ncmF2aXR5KHRoaXMuX2lkLCBiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkncyBncmF2aXR5IGZsYWcgaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBnZXQgZ3Jhdml0eSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfZ3Jhdml0eSh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgcmlnaWQgYm9keSdzIHNpbXVsYXRlIGZsYWcgaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkncyBzaW11bGF0ZSBmbGFnIHNob3VsZCBiZSBlbmFibGVkLlxuICAgICAqL1xuICAgIHNldCBzaW11bGF0ZShiKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3NpbXVsYXRlKHRoaXMuX2lkLCBiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkncyBzaW11bGF0ZSBmbGFnIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgZ2V0IHNpbXVsYXRlKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9zaW11bGF0ZSh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRvIGFsbG93IHNpbXVsYXRpb24gb2YgdGhpcyByaWdpZCBib2R5LlxuICAgICAqXG4gICAgICoge0BsaW5rIGFsbG93U2ltdWxhdGlvbn0gYW5kIHtAbGluayB0cmlnZ2VyfSBjYW4gbm90IGJlIGVuYWJsZWQgYXQgdGhlXG4gICAgICogc2FtZSB0aW1lLiBFbmFibGluZyB7QGxpbmsgYWxsb3dTaW11bGF0aW9ufSB3aGlsZSB7QGxpbmsgdHJpZ2dlcn0gaXMgZW5hYmxlZFxuICAgICAqIHdpbGwgZGlzYWJsZSB7QGxpbmsgdHJpZ2dlcn0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRvIGFsbG93IHNpbXVsYXRpb24gb2YgdGhpcyByaWdpZCBib2R5LlxuICAgICAqL1xuICAgIHNldCBhbGxvd1NpbXVsYXRpb24oYikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9hbGxvd1NpbXVsYXRpb24odGhpcy5faWQsIGIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIGFsbG93IHNpbXVsYXRpb24gb2YgdGhpcyByaWdpZCBib2R5LlxuICAgICAqL1xuICAgIGdldCBhbGxvd1NpbXVsYXRpb24oKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FsbG93U2ltdWxhdGlvbih0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgcmlnaWQgYm9keSBtYXkgYmUgcXVlcmllZCBpbiByYXkgY2FzdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSBtYXkgYmUgcXVlcmllZCBpbiByYXkgY2FzdHMuXG4gICAgICovXG4gICAgc2V0IGFsbG93UXVlcnkoYikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9hbGxvd1F1ZXJ5KHRoaXMuX2lkLCBiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgbWF5IGJlIHF1ZXJpZWQgaW4gcmF5IGNhc3RzLlxuICAgICAqL1xuICAgIGdldCBhbGxvd1F1ZXJ5KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbGxvd1F1ZXJ5KHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyBwaHlzaWNzIGJvZHkgaXMgYSB0cmlnZ2VyLlxuICAgICAqXG4gICAgICoge0BsaW5rIGFsbG93U2ltdWxhdGlvbn0gYW5kIHtAbGluayB0cmlnZ2VyfSBjYW4gbm90IGJlIGVuYWJsZWQgYXQgdGhlXG4gICAgICogc2FtZSB0aW1lLiBFbmFibGluZyB0cmlnZ2VyIHdoaWxlIHtAbGluayBhbGxvd1NpbXVsYXRpb259IGlzIGVuYWJsZWQsXG4gICAgICogd2lsbCBkaXNhYmxlIHtAbGluayBhbGxvd1NpbXVsYXRpb259LlxuICAgICAqXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGlzIHBoeXNpY3MgYm9keSBpcyBhIHRyaWdnZXIuXG4gICAgICovXG4gICAgc2V0IHRyaWdnZXIoYikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF90cmlnZ2VyKHRoaXMuX2lkLCBiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIHBoeXNpY3MgYm9keSBpcyBhIHRyaWdnZXIuXG4gICAgICovXG4gICAgZ2V0IHRyaWdnZXIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3RyaWdnZXIodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNoYXBlIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHMgTmV3IHNoYXBlLlxuICAgICAqIEBzaW5jZSAwLjguNVxuICAgICAqL1xuICAgIHNldCBzaGFwZShzKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3NoYXBlKHRoaXMuX2lkLCBzKTtcbiAgICB9XG4gICAgLyoqIFRoZSBzaGFwZSBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi4gKi9cbiAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9zaGFwZSh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBhZGRpdGlvbmFsIGRhdGEgZm9yIHRoZSBzaGFwZS5cbiAgICAgKlxuICAgICAqIFJldHJpZXZlZCBvbmx5IGZyb20ge0BsaW5rIFBoeXNYQ29tcG9uZW50I3NoYXBlRGF0YX0uXG4gICAgICogQHNpbmNlIDAuOC4xMFxuICAgICAqL1xuICAgIHNldCBzaGFwZURhdGEoZCkge1xuICAgICAgICBpZiAoZCA9PSBudWxsIHx8ICFpc01lc2hTaGFwZSh0aGlzLnNoYXBlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc2hhcGVfZGF0YSh0aGlzLl9pZCwgZC5pbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZGl0aW9uYWwgZGF0YSBmb3IgdGhlIHNoYXBlLlxuICAgICAqXG4gICAgICogYG51bGxgIGZvciB7QGxpbmsgU2hhcGV9IHZhbHVlczogYE5vbmVgLCBgU3BoZXJlYCwgYENhcHN1bGVgLCBgQm94YCwgYFBsYW5lYC5cbiAgICAgKiBge2luZGV4OiBufWAgZm9yIGBUcmlhbmdsZU1lc2hgIGFuZCBgQ29udmV4SHVsbGAuXG4gICAgICpcbiAgICAgKiBUaGlzIGRhdGEgaXMgY3VycmVudGx5IG9ubHkgZm9yIHBhc3Npbmcgb250byBvciBjcmVhdGluZyBvdGhlciB7QGxpbmsgUGh5c1hDb21wb25lbnR9LlxuICAgICAqIEBzaW5jZSAwLjguMTBcbiAgICAgKi9cbiAgICBnZXQgc2hhcGVEYXRhKCkge1xuICAgICAgICBpZiAoIWlzTWVzaFNoYXBlKHRoaXMuc2hhcGUpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbmRleDogdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc2hhcGVfZGF0YSh0aGlzLl9pZCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2hhcGUgZXh0ZW50cyBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlIE5ldyBleHRlbnRzIGZvciB0aGUgc2hhcGUuXG4gICAgICogQHNpbmNlIDAuOC41XG4gICAgICovXG4gICAgc2V0IGV4dGVudHMoZSkge1xuICAgICAgICB0aGlzLmV4dGVudHMuc2V0KGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2hhcGUgZXh0ZW50cyBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgZXh0ZW50cygpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2V4dGVudHModGhpcy5faWQpO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCBwdHIsIDMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgc3RhdGljRnJpY3Rpb24uXG4gICAgICovXG4gICAgZ2V0IHN0YXRpY0ZyaWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc3RhdGljRnJpY3Rpb24odGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgc3RhdGljRnJpY3Rpb24uXG4gICAgICogQHBhcmFtIHYgTmV3IHN0YXRpY0ZyaWN0aW9uLlxuICAgICAqL1xuICAgIHNldCBzdGF0aWNGcmljdGlvbih2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3N0YXRpY0ZyaWN0aW9uKHRoaXMuX2lkLCB2KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGR5bmFtaWNGcmljdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgZHluYW1pY0ZyaWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfZHluYW1pY0ZyaWN0aW9uKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGR5bmFtaWNGcmljdGlvblxuICAgICAqIEBwYXJhbSB2IE5ldyBkeW5hbWljRGFtcGluZy5cbiAgICAgKi9cbiAgICBzZXQgZHluYW1pY0ZyaWN0aW9uKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfZHluYW1pY0ZyaWN0aW9uKHRoaXMuX2lkLCB2KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGJvdW5jaW5lc3MuXG4gICAgICogQHNpbmNlIDAuOS4wXG4gICAgICovXG4gICAgZ2V0IGJvdW5jaW5lc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9ib3VuY2luZXNzKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGJvdW5jaW5lc3MuXG4gICAgICogQHBhcmFtIHYgTmV3IGJvdW5jaW5lc3MuXG4gICAgICogQHNpbmNlIDAuOS4wXG4gICAgICovXG4gICAgc2V0IGJvdW5jaW5lc3Modikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9ib3VuY2luZXNzKHRoaXMuX2lkLCB2KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGxpbmVhckRhbXBpbmcvXG4gICAgICovXG4gICAgZ2V0IGxpbmVhckRhbXBpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9saW5lYXJEYW1waW5nKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGxpbmVhckRhbXBpbmcuXG4gICAgICogQHBhcmFtIHYgTmV3IGxpbmVhckRhbXBpbmcuXG4gICAgICovXG4gICAgc2V0IGxpbmVhckRhbXBpbmcodikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9saW5lYXJEYW1waW5nKHRoaXMuX2lkLCB2KTtcbiAgICB9XG4gICAgLyoqIEdldCBhbmd1bGFyRGFtcGluZy4gKi9cbiAgICBnZXQgYW5ndWxhckRhbXBpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbmd1bGFyRGFtcGluZyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBhbmd1bGFyRGFtcGluZy5cbiAgICAgKiBAcGFyYW0gdiBOZXcgYW5ndWxhckRhbXBpbmcuXG4gICAgICovXG4gICAgc2V0IGFuZ3VsYXJEYW1waW5nKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYW5ndWxhckRhbXBpbmcodGhpcy5faWQsIHYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbGluZWFyIHZlbG9jaXR5LlxuICAgICAqXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiVmVsb2NpdHlcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCN2ZWxvY2l0eSlcbiAgICAgKlxuICAgICAqIEhhcyBubyBlZmZlY3QsIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IE5ldyBsaW5lYXIgdmVsb2NpdHkuXG4gICAgICovXG4gICAgc2V0IGxpbmVhclZlbG9jaXR5KHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbGluZWFyVmVsb2NpdHkodGhpcy5faWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgIH1cbiAgICAvKiogTGluZWFyIHZlbG9jaXR5IG9yIGBbMCwgMCwgMF1gIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS4gKi9cbiAgICBnZXQgbGluZWFyVmVsb2NpdHkoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9saW5lYXJWZWxvY2l0eSh0aGlzLl9pZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3RlbXBNZW0sIDMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYW5ndWxhciB2ZWxvY2l0eVxuICAgICAqXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiVmVsb2NpdHlcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCN2ZWxvY2l0eSlcbiAgICAgKlxuICAgICAqIEhhcyBubyBlZmZlY3QsIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IE5ldyBhbmd1bGFyIHZlbG9jaXR5XG4gICAgICovXG4gICAgc2V0IGFuZ3VsYXJWZWxvY2l0eSh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FuZ3VsYXJWZWxvY2l0eSh0aGlzLl9pZCwgdlswXSwgdlsxXSwgdlsyXSk7XG4gICAgfVxuICAgIC8qKiBBbmd1bGFyIHZlbG9jaXR5IG9yIGBbMCwgMCwgMF1gIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS4gKi9cbiAgICBnZXQgYW5ndWxhclZlbG9jaXR5KCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYW5ndWxhclZlbG9jaXR5KHRoaXMuX2lkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgMyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29tcG9uZW50cyBncm91cHMgbWFzay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmbGFncyBOZXcgZmxhZ3MgdGhhdCBuZWVkIHRvIGJlIHNldC5cbiAgICAgKi9cbiAgICBzZXQgZ3JvdXBzTWFzayhmbGFncykge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9ncm91cHNNYXNrKHRoaXMuX2lkLCBmbGFncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29tcG9uZW50cyBncm91cHMgbWFzayBmbGFncy5cbiAgICAgKlxuICAgICAqIEVhY2ggYml0IHJlcHJlc2VudHMgbWVtYmVyc2hpcCB0byBncm91cCwgc2VlIGV4YW1wbGUuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIEFzc2lnbiBjIHRvIGdyb3VwIDJcbiAgICAgKiBjLmdyb3Vwc01hc2sgPSAoMSA8PCAyKTtcbiAgICAgKlxuICAgICAqIC8vIEFzc2lnbiBjIHRvIGdyb3VwIDBcbiAgICAgKiBjLmdyb3Vwc01hc2sgID0gKDEgPDwgMCk7XG4gICAgICpcbiAgICAgKiAvLyBBc3NpZ24gYyB0byBncm91cCAwIGFuZCAyXG4gICAgICogYy5ncm91cHNNYXNrID0gKDEgPDwgMCkgfCAoMSA8PCAyKTtcbiAgICAgKlxuICAgICAqIChjLmdyb3Vwc01hc2sgJiAoMSA8PCAyKSkgIT0gMDsgLy8gdHJ1ZVxuICAgICAqIChjLmdyb3Vwc01hc2sgJiAoMSA8PCA3KSkgIT0gMDsgLy8gZmFsc2VcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBnZXQgZ3JvdXBzTWFzaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2dyb3Vwc01hc2sodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbXBvbmVudHMgYmxvY2tzIG1hc2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmxhZ3MgTmV3IGZsYWdzIHRoYXQgbmVlZCB0byBiZSBzZXQuXG4gICAgICovXG4gICAgc2V0IGJsb2Nrc01hc2soZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYmxvY2tzTWFzayh0aGlzLl9pZCwgZmxhZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbXBvbmVudHMgYmxvY2tzIG1hc2sgZmxhZ3MuXG4gICAgICpcbiAgICAgKiBFYWNoIGJpdCByZXByZXNlbnRzIG1lbWJlcnNoaXAgdG8gdGhlIGJsb2NrLCBzZWUgZXhhbXBsZS5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogLy8gQmxvY2sgb3ZlcmxhcCB3aXRoIGFueSBvYmplY3RzIGluIGdyb3VwIDJcbiAgICAgKiBjLmJsb2Nrc01hc2sgPSAoMSA8PCAyKTtcbiAgICAgKlxuICAgICAqIC8vIEJsb2NrIG92ZXJsYXAgd2l0aCBhbnkgb2JqZWN0cyBpbiBncm91cCAwXG4gICAgICogYy5ibG9ja3NNYXNrICA9ICgxIDw8IDApXG4gICAgICpcbiAgICAgKiAvLyBCbG9jayBvdmVybGFwIHdpdGggYW55IG9iamVjdHMgaW4gZ3JvdXAgMCBhbmQgMlxuICAgICAqIGMuYmxvY2tzTWFzayA9ICgxIDw8IDApIHwgKDEgPDwgMik7XG4gICAgICpcbiAgICAgKiAoYy5ibG9ja3NNYXNrICYgKDEgPDwgMikpICE9IDA7IC8vIHRydWVcbiAgICAgKiAoYy5ibG9ja3NNYXNrICYgKDEgPDwgNykpICE9IDA7IC8vIGZhbHNlXG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0IGJsb2Nrc01hc2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9ibG9ja3NNYXNrKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGF4ZXMgdG8gbG9jayBmb3IgbGluZWFyIHZlbG9jaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGxvY2sgVGhlIEF4aXMgdGhhdCBuZWVkcyB0byBiZSBzZXQuXG4gICAgICpcbiAgICAgKiBDb21iaW5lIGZsYWdzIHdpdGggQml0d2lzZSBPUjpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogYm9keS5saW5lYXJMb2NrQXhpcyA9IExvY2tBeGlzLlggfCBMb2NrQXhpcy5ZOyAvLyB4IGFuZCB5IHNldFxuICAgICAqIGJvZHkubGluZWFyTG9ja0F4aXMgPSBMb2NrQXhpcy5YOyAvLyB5IHVuc2V0XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGhhcyBubyBlZmZlY3QgaWYgdGhlIGNvbXBvbmVudCBpcyBzdGF0aWMuXG4gICAgICovXG4gICAgc2V0IGxpbmVhckxvY2tBeGlzKGxvY2spIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbGluZWFyTG9ja0F4aXModGhpcy5faWQsIGxvY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpbmVhciBsb2NrIGF4ZXMgZmxhZ3MuXG4gICAgICpcbiAgICAgKiBUbyBnZXQgdGhlIHN0YXRlIG9mIGEgc3BlY2lmaWMgZmxhZywgQml0d2lzZSBBTkQgd2l0aCB0aGUgTG9ja0F4aXMgbmVlZGVkLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBpZihib2R5LmxpbmVhckxvY2tBeGlzICYgTG9ja0F4aXMuWSkge1xuICAgICAqICAgICBjb25zb2xlLmxvZyhcIlRoZSBZIGZsYWcgd2FzIHNldCFcIik7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybiBheGVzIHRoYXQgYXJlIGN1cnJlbnRseSBsb2NrZWQgZm9yIGxpbmVhciBtb3ZlbWVudC5cbiAgICAgKi9cbiAgICBnZXQgbGluZWFyTG9ja0F4aXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9saW5lYXJMb2NrQXhpcyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBheGVzIHRvIGxvY2sgZm9yIGFuZ3VsYXIgdmVsb2NpdHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbG9jayBUaGUgQXhpcyB0aGF0IG5lZWRzIHRvIGJlIHNldC5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogYm9keS5hbmd1bGFyTG9ja0F4aXMgPSBMb2NrQXhpcy5YIHwgTG9ja0F4aXMuWTsgLy8geCBhbmQgeSBzZXRcbiAgICAgKiBib2R5LmFuZ3VsYXJMb2NrQXhpcyA9IExvY2tBeGlzLlg7IC8vIHkgdW5zZXRcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgaGFzIG5vIGVmZmVjdCBpZiB0aGUgY29tcG9uZW50IGlzIHN0YXRpYy5cbiAgICAgKi9cbiAgICBzZXQgYW5ndWxhckxvY2tBeGlzKGxvY2spIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYW5ndWxhckxvY2tBeGlzKHRoaXMuX2lkLCBsb2NrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmd1bGFyIGxvY2sgYXhlcyBmbGFncy5cbiAgICAgKlxuICAgICAqIFRvIGdldCB0aGUgc3RhdGUgb2YgYSBzcGVjaWZpYyBmbGFnLCBCaXR3aXNlIEFORCB3aXRoIHRoZSBMb2NrQXhpcyBuZWVkZWQ6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGlmKGJvZHkuYW5ndWxhckxvY2tBeGlzICYgTG9ja0F4aXMuWSkge1xuICAgICAqICAgICBjb25zb2xlLmxvZyhcIlRoZSBZIGZsYWcgd2FzIHNldCFcIik7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybiBheGVzIHRoYXQgYXJlIGN1cnJlbnRseSBsb2NrZWQgZm9yIGFuZ3VsYXIgbW92ZW1lbnQuXG4gICAgICovXG4gICAgZ2V0IGFuZ3VsYXJMb2NrQXhpcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FuZ3VsYXJMb2NrQXhpcyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBtYXNzLlxuICAgICAqXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiTWFzcyBQcm9wZXJ0aWVzXCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjbWFzcy1wcm9wZXJ0aWVzKVxuICAgICAqXG4gICAgICogQHBhcmFtIG0gTmV3IG1hc3MuXG4gICAgICovXG4gICAgc2V0IG1hc3MobSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9tYXNzKHRoaXMuX2lkLCBtKTtcbiAgICB9XG4gICAgLyoqIE1hc3MgKi9cbiAgICBnZXQgbWFzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X21hc3ModGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbWFzcyBzcGFjZSBpbnRlcmlhIHRlbnNvci5cbiAgICAgKlxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIk1hc3MgUHJvcGVydGllc1wiXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9SaWdpZEJvZHlEeW5hbWljcy5odG1sI21hc3MtcHJvcGVydGllcylcbiAgICAgKlxuICAgICAqIEhhcyBubyBlZmZlY3QsIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IE5ldyBtYXNzIHNwYWNlIGludGVyYXRpYSB0ZW5zb3IuXG4gICAgICovXG4gICAgc2V0IG1hc3NTcGFjZUludGVyaWFUZW5zb3Iodikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9tYXNzU3BhY2VJbmVydGlhVGVuc29yKHRoaXMuX2lkLCB2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSByaWdpZCBib2R5IHRvIHNsZWVwIHVwb24gYWN0aXZhdGlvbi5cbiAgICAgKlxuICAgICAqIFdoZW4gYXNsZWVwLCB0aGUgcmlnaWQgYm9keSB3aWxsIG5vdCBiZSBzaW11bGF0ZWQgdW50aWwgdGhlIG5leHQgY29udGFjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmbGFnIGB0cnVlYCB0byBzbGVlcCB1cG9uIGFjdGl2YXRpb24uXG4gICAgICpcbiAgICAgKiBAc2luY2UgMS4xLjVcbiAgICAgKi9cbiAgICBzZXQgc2xlZXBPbkFjdGl2YXRlKGZsYWcpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc2xlZXBPbkFjdGl2YXRlKHRoaXMuX2lkLCBmbGFnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIHRoZSByaWdpZCBib2R5IGlzIHNldCB0byBzbGVlcCB1cG9uIGFjdGl2YXRpb24sIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogQHNpbmNlIDEuMS41XG4gICAgICovXG4gICAgZ2V0IHNsZWVwT25BY3RpdmF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc2xlZXBPbkFjdGl2YXRlKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbHkgYSBmb3JjZS5cbiAgICAgKlxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIkFwcGx5aW5nIEZvcmNlcyBhbmQgVG9ycXVlc1wiXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9SaWdpZEJvZHlEeW5hbWljcy5odG1sI2FwcGx5aW5nLWZvcmNlcy1hbmQtdG9ycXVlcylcbiAgICAgKlxuICAgICAqIEhhcyBubyBlZmZlY3QsIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmIEZvcmNlIHZlY3Rvci5cbiAgICAgKiBAcGFyYW0gbSBGb3JjZSBtb2RlLCBzZWUge0BsaW5rIEZvcmNlTW9kZX0sIGRlZmF1bHQgYEZvcmNlYC5cbiAgICAgKiBAcGFyYW0gbG9jYWxGb3JjZSBXaGV0aGVyIHRoZSBmb3JjZSB2ZWN0b3IgaXMgaW4gbG9jYWwgc3BhY2UsIGRlZmF1bHQgYGZhbHNlYC5cbiAgICAgKiBAcGFyYW0gcCBQb3NpdGlvbiB0byBhcHBseSBmb3JjZSBhdCwgZGVmYXVsdCBpcyBjZW50ZXIgb2YgbWFzcy5cbiAgICAgKiBAcGFyYW0gbG9jYWwgV2hldGhlciBwb3NpdGlvbiBpcyBpbiBsb2NhbCBzcGFjZSwgZGVmYXVsdCBgZmFsc2VgLlxuICAgICAqL1xuICAgIGFkZEZvcmNlKGYsIG0gPSBGb3JjZU1vZGUuRm9yY2UsIGxvY2FsRm9yY2UgPSBmYWxzZSwgcCwgbG9jYWwgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGlmICghcCkge1xuICAgICAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2FkZEZvcmNlKHRoaXMuX2lkLCBmWzBdLCBmWzFdLCBmWzJdLCBtLCBsb2NhbEZvcmNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfYWRkRm9yY2VBdCh0aGlzLl9pZCwgZlswXSwgZlsxXSwgZlsyXSwgbSwgbG9jYWxGb3JjZSwgcFswXSwgcFsxXSwgcFsyXSwgbG9jYWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBseSB0b3JxdWUuXG4gICAgICpcbiAgICAgKiBbUGh5c1ggTWFudWFsIC0gXCJBcHBseWluZyBGb3JjZXMgYW5kIFRvcnF1ZXNcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCNhcHBseWluZy1mb3JjZXMtYW5kLXRvcnF1ZXMpXG4gICAgICpcbiAgICAgKiBIYXMgbm8gZWZmZWN0LCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZiBGb3JjZSB2ZWN0b3IuXG4gICAgICogQHBhcmFtIG0gRm9yY2UgbW9kZSwgc2VlIHtAbGluayBGb3JjZU1vZGV9LCBkZWZhdWx0IGBGb3JjZWAuXG4gICAgICovXG4gICAgYWRkVG9ycXVlKGYsIG0gPSBGb3JjZU1vZGUuRm9yY2UpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRUb3JxdWUodGhpcy5faWQsIGZbMF0sIGZbMV0sIGZbMl0sIG0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgb24gY29sbGlzaW9uIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHJpZ2lkIGJvZHkgKHVuKWNvbGxpZGVzIHdpdGggYW55IG90aGVyLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgbGV0IHJpZ2lkQm9keSA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgncGh5c3gnKTtcbiAgICAgKiAgcmlnaWRCb2R5Lm9uQ29sbGlzaW9uKGZ1bmN0aW9uKHR5cGUsIG90aGVyKSB7XG4gICAgICogICAgICAvLyBJZ25vcmUgdW5jb2xsaWRlc1xuICAgICAqICAgICAgaWYodHlwZSA9PSBDb2xsaXNpb25FdmVudFR5cGUuVG91Y2hMb3N0KSByZXR1cm47XG4gICAgICpcbiAgICAgKiAgICAgIC8vIFRha2UgZGFtYWdlIG9uIGNvbGxpc2lvbiB3aXRoIGVuZW1pZXNcbiAgICAgKiAgICAgIGlmKG90aGVyLm9iamVjdC5uYW1lLnN0YXJ0c1dpdGgoXCJlbmVteS1cIikpIHtcbiAgICAgKiAgICAgICAgICB0aGlzLmFwcGx5RGFtYWdlKDEwKTtcbiAgICAgKiAgICAgIH1cbiAgICAgKiAgfS5iaW5kKHRoaXMpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIElkIG9mIHRoZSBuZXcgY2FsbGJhY2sgZm9yIHVzZSB3aXRoIHtAbGluayBQaHlzWENvbXBvbmVudCNyZW1vdmVDb2xsaXNpb25DYWxsYmFja30uXG4gICAgICovXG4gICAgb25Db2xsaXNpb24oY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub25Db2xsaXNpb25XaXRoKHRoaXMsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGZpbHRlcmVkIG9uIGNvbGxpc2lvbiBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlckNvbXAgQ29tcG9uZW50IGZvciB3aGljaCBjYWxsYmFja3Mgd2lsbFxuICAgICAqICAgICAgICBiZSB0cmlnZ2VyZWQuIElmIHlvdSBwYXNzIHRoaXMgY29tcG9uZW50LCB0aGUgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8uXG4gICAgICogICAgICAgIHtAbGluayBQaHlzWENvbXBvbmVudCNvbkNvbGxpc2lvbn0uXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHJpZ2lkIGJvZHlcbiAgICAgKiAgICAgICAgKHVuKWNvbGxpZGVzIHdpdGggYG90aGVyQ29tcGAuXG4gICAgICogQHJldHVybnMgSWQgb2YgdGhlIG5ldyBjYWxsYmFjayBmb3IgdXNlIHdpdGgge0BsaW5rIFBoeXNYQ29tcG9uZW50I3JlbW92ZUNvbGxpc2lvbkNhbGxiYWNrfS5cbiAgICAgKi9cbiAgICBvbkNvbGxpc2lvbldpdGgob3RoZXJDb21wLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBwaHlzaWNzID0gdGhpcy5fZW5naW5lLnBoeXNpY3M7XG4gICAgICAgIHBoeXNpY3MuX2NhbGxiYWNrc1t0aGlzLl9pZF0gPSBwaHlzaWNzLl9jYWxsYmFja3NbdGhpcy5faWRdIHx8IFtdO1xuICAgICAgICBwaHlzaWNzLl9jYWxsYmFja3NbdGhpcy5faWRdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRDYWxsYmFjayh0aGlzLl9pZCwgb3RoZXJDb21wLl9pZCB8fCB0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGNvbGxpc2lvbiBjYWxsYmFjayBhZGRlZCB3aXRoIHtAbGluayBQaHlzWENvbXBvbmVudCNvbkNvbGxpc2lvbn0gb3Ige0BsaW5rIFBoeXNYQ29tcG9uZW50I29uQ29sbGlzaW9uV2l0aH0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tJZCBDYWxsYmFjayBpZCBhcyByZXR1cm5lZCBieSB7QGxpbmsgUGh5c1hDb21wb25lbnQjb25Db2xsaXNpb259IG9yIHtAbGluayBQaHlzWENvbXBvbmVudCNvbkNvbGxpc2lvbldpdGh9LlxuICAgICAqIEB0aHJvd3MgV2hlbiB0aGUgY2FsbGJhY2sgZG9lcyBub3QgYmVsb25nIHRvIHRoZSBjb21wb25lbnQuXG4gICAgICogQHRocm93cyBXaGVuIHRoZSBjYWxsYmFjayBkb2VzIG5vdCBleGlzdC5cbiAgICAgKi9cbiAgICByZW1vdmVDb2xsaXNpb25DYWxsYmFjayhjYWxsYmFja0lkKSB7XG4gICAgICAgIGNvbnN0IHBoeXNpY3MgPSB0aGlzLl9lbmdpbmUucGh5c2ljcztcbiAgICAgICAgY29uc3QgciA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfcmVtb3ZlQ2FsbGJhY2sodGhpcy5faWQsIGNhbGxiYWNrSWQpO1xuICAgICAgICAvKiByIGlzIHRoZSBhbW91bnQgb2Ygb2JqZWN0IHRvIHJlbW92ZSBmcm9tIHRoZSBlbmQgb2YgdGhlXG4gICAgICAgICAqIGNhbGxiYWNrcyBhcnJheSBmb3IgdGhpcyBvYmplY3QgKi9cbiAgICAgICAgaWYgKHIpXG4gICAgICAgICAgICBwaHlzaWNzLl9jYWxsYmFja3NbdGhpcy5faWRdLnNwbGljZSgtcik7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInN0YXRpY1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmFuc2xhdGlvbk9mZnNldFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3RhdGlvbk9mZnNldFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJraW5lbWF0aWNcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3Jhdml0eVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaW11bGF0ZVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbGxvd1NpbXVsYXRpb25cIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWxsb3dRdWVyeVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmlnZ2VyXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInNoYXBlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInNoYXBlRGF0YVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJleHRlbnRzXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInN0YXRpY0ZyaWN0aW9uXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImR5bmFtaWNGcmljdGlvblwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJib3VuY2luZXNzXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImxpbmVhckRhbXBpbmdcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiYW5ndWxhckRhbXBpbmdcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwibGluZWFyVmVsb2NpdHlcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiYW5ndWxhclZlbG9jaXR5XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImdyb3Vwc01hc2tcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiYmxvY2tzTWFza1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsaW5lYXJMb2NrQXhpc1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmd1bGFyTG9ja0F4aXNcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwibWFzc1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzbGVlcE9uQWN0aXZhdGVcIiwgbnVsbCk7XG4vKipcbiAqIEFjY2VzcyB0byB0aGUgcGh5c2ljcyBzY2VuZVxuICovXG5leHBvcnQgY2xhc3MgUGh5c2ljcyB7XG4gICAgLyoqXG4gICAgICogQGhpZGRlblxuICAgICAqXG4gICAgICogKipOb3RlKio6IFRoaXMgaXMgcHVibGljIHRvIGVtdWxhdGUgYSBgZnJpZW5kYCBhY2Nlc3Nvci5cbiAgICAgKi9cbiAgICBfY2FsbGJhY2tzO1xuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZSAqL1xuICAgIF9lbmdpbmU7XG4gICAgLyoqIFJheSBIaXQgKi9cbiAgICBfcmF5SGl0O1xuICAgIC8qKiBIaXQuICovXG4gICAgX2hpdDtcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xuICAgICAgICB0aGlzLl9yYXlIaXQgPSBlbmdpbmUud2FzbS5fbWFsbG9jKDQgKiAoMyAqIDQgKyAzICogNCArIDQgKyAyKSArIDQpO1xuICAgICAgICB0aGlzLl9oaXQgPSBuZXcgUmF5SGl0KHRoaXMuX2VuZ2luZSwgdGhpcy5fcmF5SGl0KTtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhc3QgYSByYXkgdGhyb3VnaCB0aGUgcGh5c2ljcyBzY2VuZSBhbmQgZmluZCBpbnRlcnNlY3Rpbmcgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIFRoZSByZXN1bHRpbmcgcmF5IGhpdCB3aWxsIGNvbnRhaW4gKip1cCB0byA0KiogY2xvc2VzdCByYXkgaGl0cyxcbiAgICAgKiBzb3J0ZWQgYnkgaW5jcmVhc2luZyBkaXN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvIFJheSBvcmlnaW4uXG4gICAgICogQHBhcmFtIGQgUmF5IGRpcmVjdGlvbi5cbiAgICAgKiBAcGFyYW0gZ3JvdXAgQ29sbGlzaW9uIGdyb3VwIHRvIGZpbHRlciBieTogb25seSBvYmplY3RzIHRoYXQgYXJlXG4gICAgICogICAgICAgIHBhcnQgb2YgZ2l2ZW4gZ3JvdXAgYXJlIGNvbnNpZGVyZWQgZm9yIHJheWNhc3QuXG4gICAgICogQHBhcmFtIG1heERpc3RhbmNlIE1heGltdW0gcmF5IGRpc3RhbmNlLCBkZWZhdWx0IGAxMDAuMGAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgUmF5SGl0IGluc3RhbmNlLCBiZWxvbmdpbmcgdG8gdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoZSByZXR1cm5lZCB7QGxpbmsgUmF5SGl0fSBvYmplY3QgaXMgb3duZWQgYnkgdGhlIFBoeXNpY3MgaW5zdGFuY2UgYW5kXG4gICAgICogICAgICAgd2lsbCBiZSByZXVzZWQgd2l0aCB0aGUgbmV4dCB7QGxpbmsgUGh5c2ljcyNyYXlDYXN0fSBjYWxsLlxuICAgICAqL1xuICAgIHJheUNhc3QobywgZCwgZ3JvdXAsIG1heERpc3RhbmNlID0gMTAwLjApIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X3JheV9jYXN0KG9bMF0sIG9bMV0sIG9bMl0sIGRbMF0sIGRbMV0sIGRbMl0sIGdyb3VwLCBtYXhEaXN0YW5jZSwgdGhpcy5fcmF5SGl0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hpdDtcbiAgICB9XG59XG4vKipcbiAqIE1lc2ggaW5kZXggdHlwZS5cbiAqL1xuZXhwb3J0IHZhciBNZXNoSW5kZXhUeXBlO1xuKGZ1bmN0aW9uIChNZXNoSW5kZXhUeXBlKSB7XG4gICAgLyoqIFNpbmdsZSBieXRlIG1lc2ggaW5kZXgsIHJhbmdlIDAtMjU1ICovXG4gICAgTWVzaEluZGV4VHlwZVtNZXNoSW5kZXhUeXBlW1wiVW5zaWduZWRCeXRlXCJdID0gMV0gPSBcIlVuc2lnbmVkQnl0ZVwiO1xuICAgIC8qKiBUd28gYnl0ZSBtZXNoIGluZGV4LCByYW5nZSAwLTY1NTM1ICovXG4gICAgTWVzaEluZGV4VHlwZVtNZXNoSW5kZXhUeXBlW1wiVW5zaWduZWRTaG9ydFwiXSA9IDJdID0gXCJVbnNpZ25lZFNob3J0XCI7XG4gICAgLyoqIEZvdXIgYnl0ZSBtZXNoIGluZGV4LCByYW5nZSAwLTQyOTQ5NjcyOTUgKi9cbiAgICBNZXNoSW5kZXhUeXBlW01lc2hJbmRleFR5cGVbXCJVbnNpZ25lZEludFwiXSA9IDRdID0gXCJVbnNpZ25lZEludFwiO1xufSkoTWVzaEluZGV4VHlwZSB8fCAoTWVzaEluZGV4VHlwZSA9IHt9KSk7XG4vKipcbiAqIE1lc2ggc2tpbm5pbmcgdHlwZS5cbiAqL1xuZXhwb3J0IHZhciBNZXNoU2tpbm5pbmdUeXBlO1xuKGZ1bmN0aW9uIChNZXNoU2tpbm5pbmdUeXBlKSB7XG4gICAgLyoqIE5vdCBza2lubmVkICovXG4gICAgTWVzaFNraW5uaW5nVHlwZVtNZXNoU2tpbm5pbmdUeXBlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgLyoqIFNraW5uZWQsIDQgam9pbnRzL3dlaWdodCBwZXIgdmVydGV4ICovXG4gICAgTWVzaFNraW5uaW5nVHlwZVtNZXNoU2tpbm5pbmdUeXBlW1wiRm91ckpvaW50c1wiXSA9IDFdID0gXCJGb3VySm9pbnRzXCI7XG4gICAgLyoqIFNraW5uZWQsIDggam9pbnRzL3dlaWdodCBwZXIgdmVydGV4ICovXG4gICAgTWVzaFNraW5uaW5nVHlwZVtNZXNoU2tpbm5pbmdUeXBlW1wiRWlnaHRKb2ludHNcIl0gPSAyXSA9IFwiRWlnaHRKb2ludHNcIjtcbn0pKE1lc2hTa2lubmluZ1R5cGUgfHwgKE1lc2hTa2lubmluZ1R5cGUgPSB7fSkpO1xuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSBtZXNoIGRhdGEuXG4gKlxuICogVG8gbW9kaWZ5IGEgbWVzaCwgeW91IGdldCBhY2Nlc3MgdG8gYSB7QGxpbmsgTWVzaEF0dHJpYnV0ZUFjY2Vzc29yfSB0aGF0IGFsbG93cyB5b3UgdG8gbW9kaWZ5XG4gKiB0aGUgY29udGVudCBvZiB0aGUgYnVmZmVyczpcbiAqXG4gKiBVc2FnZTpcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgbWVzaCA9IG5ldyBNZXNoKGVuZ2luZSwge3ZlcnRleENvdW50OiAzLCBpbmRleERhdGE6IFswLCAxLCAyXSB9KTtcbiAqIGNvbnN0IHBvc2l0aW9ucyA9IG1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuUG9zaXRpb24pO1xuICogLi4uXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIE1lc2gge1xuICAgIC8qKlxuICAgICAqIEluZGV4IG9mIHRoZSBtZXNoIGluIHRoZSBtYW5hZ2VyLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF9pbmRleCA9IC0xO1xuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xuICAgIF9lbmdpbmU7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmFtcyBFaXRoZXIgYSBtZXNoIGluZGV4IHRvIHdyYXAgb3Igc2V0IG9mIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgbmV3IG1lc2guXG4gICAgICogICAgRm9yIG1vcmUgaW5mb3JtYXRpb24sIHBsZWFzZSBoYXZlIGEgbG9vayBhdCB0aGUge0BsaW5rIE1lc2hQYXJhbWV0ZXJzfSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lID8/IFdMO1xuICAgICAgICB0aGlzLl9pbmRleCA9IC0xO1xuICAgICAgICBpZiAoaXNOdW1iZXIocGFyYW1zKSkge1xuICAgICAgICAgICAgdGhpcy5faW5kZXggPSBwYXJhbXM7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXJhbXMudmVydGV4Q291bnQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHBhcmFtZXRlciAndmVydGV4Q291bnQnXCIpO1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGxldCBpbmRleERhdGEgPSAwO1xuICAgICAgICBsZXQgaW5kZXhUeXBlID0gMDtcbiAgICAgICAgbGV0IGluZGV4RGF0YVNpemUgPSAwO1xuICAgICAgICBpZiAocGFyYW1zLmluZGV4RGF0YSkge1xuICAgICAgICAgICAgaW5kZXhUeXBlID0gcGFyYW1zLmluZGV4VHlwZSB8fCBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkU2hvcnQ7XG4gICAgICAgICAgICBpbmRleERhdGFTaXplID0gcGFyYW1zLmluZGV4RGF0YS5sZW5ndGggKiBpbmRleFR5cGU7XG4gICAgICAgICAgICBpbmRleERhdGEgPSB3YXNtLl9tYWxsb2MoaW5kZXhEYXRhU2l6ZSk7XG4gICAgICAgICAgICAvKiBDb3B5IHRoZSBpbmRleCBkYXRhIGludG8gd2FzbSBtZW1vcnkgKi9cbiAgICAgICAgICAgIHN3aXRjaCAoaW5kZXhUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkQnl0ZTpcbiAgICAgICAgICAgICAgICAgICAgd2FzbS5IRUFQVTguc2V0KHBhcmFtcy5pbmRleERhdGEsIGluZGV4RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZFNob3J0OlxuICAgICAgICAgICAgICAgICAgICB3YXNtLkhFQVBVMTYuc2V0KHBhcmFtcy5pbmRleERhdGEsIGluZGV4RGF0YSA+PiAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkSW50OlxuICAgICAgICAgICAgICAgICAgICB3YXNtLkhFQVBVMzIuc2V0KHBhcmFtcy5pbmRleERhdGEsIGluZGV4RGF0YSA+PiAyKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBza2lubmluZ1R5cGUgPSBNZXNoU2tpbm5pbmdUeXBlLk5vbmUgfSA9IHBhcmFtcztcbiAgICAgICAgdGhpcy5faW5kZXggPSB3YXNtLl93bF9tZXNoX2NyZWF0ZShpbmRleERhdGEsIGluZGV4RGF0YVNpemUsIGluZGV4VHlwZSwgcGFyYW1zLnZlcnRleENvdW50LCBza2lubmluZ1R5cGUpO1xuICAgIH1cbiAgICAvKiogTnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoaXMgbWVzaC4gKi9cbiAgICBnZXQgdmVydGV4Q291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9nZXRfdmVydGV4Q291bnQodGhpcy5faW5kZXgpO1xuICAgIH1cbiAgICAvKiogSW5kZXggZGF0YSAocmVhZC1vbmx5KSBvciBgbnVsbGAgaWYgdGhlIG1lc2ggaXMgbm90IGluZGV4ZWQuICovXG4gICAgZ2V0IGluZGV4RGF0YSgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCB0ZW1wTWVtID0gd2FzbS5fdGVtcE1lbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfbWVzaF9nZXRfaW5kZXhEYXRhKHRoaXMuX2luZGV4LCB0ZW1wTWVtLCB0ZW1wTWVtICsgNCk7XG4gICAgICAgIGlmIChwdHIgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgaW5kZXhDb3VudCA9IHdhc20uSEVBUFUzMlt0ZW1wTWVtIC8gNF07XG4gICAgICAgIGNvbnN0IGluZGV4U2l6ZSA9IHdhc20uSEVBUFUzMlt0ZW1wTWVtIC8gNCArIDFdO1xuICAgICAgICBzd2l0Y2ggKGluZGV4U2l6ZSkge1xuICAgICAgICAgICAgY2FzZSBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkQnl0ZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkod2FzbS5IRUFQVTguYnVmZmVyLCBwdHIsIGluZGV4Q291bnQpO1xuICAgICAgICAgICAgY2FzZSBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkU2hvcnQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50MTZBcnJheSh3YXNtLkhFQVBVMTYuYnVmZmVyLCBwdHIsIGluZGV4Q291bnQpO1xuICAgICAgICAgICAgY2FzZSBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkSW50OlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDMyQXJyYXkod2FzbS5IRUFQVTMyLmJ1ZmZlciwgcHRyLCBpbmRleENvdW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xuICAgIGdldCBlbmdpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGx5IGNoYW5nZXMgdG8ge0BsaW5rIGF0dHJpYnV0ZSB8IHZlcnRleCBhdHRyaWJ1dGVzfS5cbiAgICAgKlxuICAgICAqIFVwbG9hZHMgdGhlIHVwZGF0ZWQgdmVydGV4IGF0dHJpYnV0ZXMgdG8gdGhlIEdQVSBhbmQgdXBkYXRlcyB0aGUgYm91bmRpbmdcbiAgICAgKiBzcGhlcmUgdG8gbWF0Y2ggdGhlIG5ldyB2ZXJ0ZXggcG9zaXRpb25zLlxuICAgICAqXG4gICAgICogU2luY2UgdGhpcyBpcyBhbiBleHBlbnNpdmUgb3BlcmF0aW9uLCBjYWxsIGl0IG9ubHkgb25jZSB5b3UgaGF2ZSBwZXJmb3JtZWRcbiAgICAgKiBhbGwgbW9kaWZpY2F0aW9ucyBvbiBhIG1lc2ggYW5kIGF2b2lkIGNhbGxpbmcgaWYgeW91IGRpZCBub3QgcGVyZm9ybSBhbnlcbiAgICAgKiBtb2RpZmljYXRpb25zIGF0IGFsbC5cbiAgICAgKi9cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX3VwZGF0ZSh0aGlzLl9pbmRleCk7XG4gICAgfVxuICAgIGdldEJvdW5kaW5nU3BoZXJlKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoNCkpIHtcbiAgICAgICAgY29uc3QgdGVtcE1lbUZsb2F0ID0gdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1GbG9hdDtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfZ2V0X2JvdW5kaW5nU3BoZXJlKHRoaXMuX2luZGV4LCB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHRlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB0ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIG91dFszXSA9IHRlbXBNZW1GbG9hdFszXTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgYXR0cmlidXRlKGF0dHIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhdHRyICE9ICdudW1iZXInKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgbnVtYmVyLCBidXQgZ290ICcgKyB0eXBlb2YgYXR0cik7XG4gICAgICAgIGNvbnN0IHRlbXBNZW1VaW50MzIgPSB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbVVpbnQzMjtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfZ2V0X2F0dHJpYnV0ZSh0aGlzLl9pbmRleCwgYXR0ciwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW0pO1xuICAgICAgICBpZiAodGVtcE1lbVVpbnQzMlswXSA9PSAyNTUpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgYXJyYXlTaXplID0gdGVtcE1lbVVpbnQzMls1XTtcbiAgICAgICAgcmV0dXJuIG5ldyBNZXNoQXR0cmlidXRlQWNjZXNzb3IodGhpcy5fZW5naW5lLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRlbXBNZW1VaW50MzJbMF0sXG4gICAgICAgICAgICBvZmZzZXQ6IHRlbXBNZW1VaW50MzJbMV0sXG4gICAgICAgICAgICBzdHJpZGU6IHRlbXBNZW1VaW50MzJbMl0sXG4gICAgICAgICAgICBmb3JtYXRTaXplOiB0ZW1wTWVtVWludDMyWzNdLFxuICAgICAgICAgICAgY29tcG9uZW50Q291bnQ6IHRlbXBNZW1VaW50MzJbNF0sXG4gICAgICAgICAgICAvKiBUaGUgV0FTTSBBUEkgcmV0dXJucyBgMGAgZm9yIGEgc2NhbGFyIHZhbHVlLiBXZSBjbGFtcCBpdCB0byAxIGFzIHdlIHN0cmljdGx5IHVzZSBpdCBhcyBhIG11bHRpcGxpZXIgZm9yIGdldC9zZXQgb3BlcmF0aW9ucyAqL1xuICAgICAgICAgICAgYXJyYXlTaXplOiBhcnJheVNpemUgPyBhcnJheVNpemUgOiAxLFxuICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLnZlcnRleENvdW50LFxuICAgICAgICAgICAgYnVmZmVyVHlwZTogKGF0dHIgIT09IE1lc2hBdHRyaWJ1dGUuSm9pbnRJZFxuICAgICAgICAgICAgICAgID8gRmxvYXQzMkFycmF5XG4gICAgICAgICAgICAgICAgOiBVaW50MTZBcnJheSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBmcmVlIHRoZSBtZXNoZXMgbWVtb3J5LlxuICAgICAqXG4gICAgICogSXQgaXMgYmVzdCBwcmFjdGljZSB0byBzZXQgdGhlIG1lc2ggdmFyaWFibGUgdG8gYG51bGxgIGFmdGVyIGNhbGxpbmdcbiAgICAgKiBkZXN0cm95IHRvIHByZXZlbnQgYWNjaWRlbnRhbCB1c2U6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgbWVzaC5kZXN0cm95KCk7XG4gICAgICogICBtZXNoID0gbnVsbDtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEFjY2Vzc2luZyB0aGUgbWVzaCBhZnRlciBkZXN0cnVjdGlvbiBiZWhhdmVzIGxpa2UgYWNjZXNzaW5nIGFuIGVtcHR5XG4gICAgICogbWVzaC5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjkuMFxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2Rlc3Ryb3kodGhpcy5faW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIG1lc2ggaWRzIGFyZVxuICAgICAqIGVxdWFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIG90aGVyTWVzaCBNZXNoIHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIG1lc2ggZXF1YWxzIHRoZSBnaXZlbiBtZXNoLlxuICAgICAqXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgZXF1YWxzKG90aGVyTWVzaCkge1xuICAgICAgICBpZiAoIW90aGVyTWVzaClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4ID09PSBvdGhlck1lc2guX2luZGV4O1xuICAgIH1cbn1cbi8qKlxuICogQW4gaXRlcmF0b3Igb3ZlciBhIG1lc2ggdmVydGV4IGF0dHJpYnV0ZS5cbiAqXG4gKiBVc2FnZTpcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgbWVzaCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnbWVzaCcpLm1lc2g7XG4gKiBjb25zdCBwb3NpdGlvbnMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlBvc2l0aW9uKTtcbiAqXG4gKiAvLyBFcXVpdmFsZW50IHRvIGBuZXcgRmxvYXQzMkFycmF5KDMpYC5cbiAqIGNvbnN0IHRlbXAgPSBwb3NpdGlvbnMuY3JlYXRlQXJyYXkoKTtcbiAqXG4gKiBmb3IobGV0IGkgPSAwOyBpIDwgcG9zaXRpb25zLmxlbmd0aDsgKytpKSB7XG4gKiAgICAgLy8gYHBvc2Agd2lsbCByZWZlcmVuY2UgYHRlbXBgIGFuZCB0aGVyZWJ5IG5vdCBhbGxvY2F0ZSBhZGRpdGlvbmFsXG4gKiAgICAgLy8gbWVtb3J5LCB3aGljaCB3b3VsZCBjYXVzZSBhIHBlcmYgc3Bpa2Ugd2hlbiBjb2xsZWN0ZWQuXG4gKiAgICAgY29uc3QgcG9zID0gcG9zaXRpb25zLmdldChpLCB0ZW1wKTtcbiAqICAgICAvLyBTY2FsZSBwb3NpdGlvbiBieSAyIG9uIHgtYXhpcyBvbmx5LlxuICogICAgIHBvc1swXSAqPSAyLjA7XG4gKiAgICAgcG9zaXRpb25zLnNldChpLCBwb3MpO1xuICogfVxuICogLy8gV2UncmUgZG9uZSBtb2RpZnlpbmcsIHRlbGwgdGhlIGVuZ2luZSB0byBtb3ZlIHZlcnRleCBkYXRhIHRvIHRoZSBHUFUuXG4gKiBtZXNoLnVwZGF0ZSgpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBNZXNoQXR0cmlidXRlQWNjZXNzb3Ige1xuICAgIC8qKiBNYXggbnVtYmVyIG9mIGVsZW1lbnRzLiAqL1xuICAgIGxlbmd0aCA9IDA7XG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXG4gICAgX2VuZ2luZTtcbiAgICAvKiogQXR0cmlidXRlIGluZGV4LiBAaGlkZGVuICovXG4gICAgX2F0dHJpYnV0ZSA9IC0xO1xuICAgIC8qKiBBdHRyaWJ1dGUgb2Zmc2V0LiBAaGlkZGVuICovXG4gICAgX29mZnNldCA9IDA7XG4gICAgLyoqIEF0dHJpYnV0ZSBzdHJpZGUuIEBoaWRkZW4gKi9cbiAgICBfc3RyaWRlID0gMDtcbiAgICAvKiogRm9ybWF0IHNpemUgbmF0aXZlIGVudW0uIEBoaWRkZW4gKi9cbiAgICBfZm9ybWF0U2l6ZSA9IDA7XG4gICAgLyoqIE51bWJlciBvZiBjb21wb25lbnRzIHBlciB2ZXJ0ZXguIEBoaWRkZW4gKi9cbiAgICBfY29tcG9uZW50Q291bnQgPSAwO1xuICAgIC8qKiBOdW1iZXIgb2YgdmFsdWVzIHBlciB2ZXJ0ZXguIEBoaWRkZW4gKi9cbiAgICBfYXJyYXlTaXplID0gMTtcbiAgICAvKipcbiAgICAgKiBDbGFzcyB0byBpbnN0YW50aWF0ZSBhbiBBcnJheUJ1ZmZlciB0byBnZXQvc2V0IHZhbHVlcy5cbiAgICAgKi9cbiAgICBfYnVmZmVyVHlwZTtcbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byBhbGxvY2F0ZSB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkuIEl0IGlzIGNhY2hlZCBpbiB0aGUgYWNjZXNzb3IgdG8gYXZvaWRcbiAgICAgKiBjb25kaXRpb25hbHMgZHVyaW5nIGdldC9zZXQuXG4gICAgICovXG4gICAgX3RlbXBCdWZmZXJHZXR0ZXI7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQG5vdGUgUGxlYXNlIHVzZSB7QGxpbmsgTWVzaC5hdHRyaWJ1dGV9IHRvIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIENvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IGhvdyB0byByZWFkIHRoZSBkYXRhLlxuICAgICAqIEBub3RlIERvIG5vdCB1c2UgdGhpcyBjb25zdHJ1Y3Rvci4gSW5zdGVhZCwgcGxlYXNlIHVzZSB0aGUge0BsaW5rIE1lc2guYXR0cmlidXRlfSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB0aGlzLl9hdHRyaWJ1dGUgPSBvcHRpb25zLmF0dHJpYnV0ZTtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gb3B0aW9ucy5vZmZzZXQ7XG4gICAgICAgIHRoaXMuX3N0cmlkZSA9IG9wdGlvbnMuc3RyaWRlO1xuICAgICAgICB0aGlzLl9mb3JtYXRTaXplID0gb3B0aW9ucy5mb3JtYXRTaXplO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRDb3VudCA9IG9wdGlvbnMuY29tcG9uZW50Q291bnQ7XG4gICAgICAgIHRoaXMuX2FycmF5U2l6ZSA9IG9wdGlvbnMuYXJyYXlTaXplO1xuICAgICAgICB0aGlzLl9idWZmZXJUeXBlID0gb3B0aW9ucy5idWZmZXJUeXBlO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IG9wdGlvbnMubGVuZ3RoO1xuICAgICAgICB0aGlzLl90ZW1wQnVmZmVyR2V0dGVyID0gKHRoaXMuX2J1ZmZlclR5cGUgPT09IEZsb2F0MzJBcnJheVxuICAgICAgICAgICAgPyB3YXNtLmdldFRlbXBCdWZmZXJGMzIuYmluZCh3YXNtKVxuICAgICAgICAgICAgOiB3YXNtLmdldFRlbXBCdWZmZXJVMTYuYmluZCh3YXNtKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBUeXBlZEFycmF5IHRvIGhvbGQgdGhpcyBhdHRyaWJ1dGUncyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VmdWwgdG8gY3JlYXRlIGEgdmlldyB0byBob2xkIHRoZSBkYXRhIHRvXG4gICAgICogcGFzcyB0byB7QGxpbmsgZ2V0fSBhbmQge0BsaW5rIHNldH1cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGNvbnN0IHZlcnRleENvdW50ID0gNDtcbiAgICAgKiBjb25zdCBwb3NpdGlvbkF0dHJpYnV0ZSA9IG1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuUG9zaXRpb24pO1xuICAgICAqXG4gICAgICogLy8gQSBwb3NpdGlvbiBoYXMgMyBmbG9hdHMgcGVyIHZlcnRleC4gVGh1cywgcG9zaXRpb25zIGhhcyBsZW5ndGggMyAqIDQuXG4gICAgICogY29uc3QgcG9zaXRpb25zID0gcG9zaXRpb25BdHRyaWJ1dGUuY3JlYXRlQXJyYXkodmVydGV4Q291bnQpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgKip2ZXJ0aWNlcyoqIGV4cGVjdGVkLlxuICAgICAqIEByZXR1cm5zIEEgVHlwZWRBcnJheSB3aXRoIHRoZSBhcHByb3ByaWF0ZSBmb3JtYXQgdG8gYWNjZXNzIHRoZSBkYXRhXG4gICAgICovXG4gICAgY3JlYXRlQXJyYXkoY291bnQgPSAxKSB7XG4gICAgICAgIGNvdW50ID0gY291bnQgPiB0aGlzLmxlbmd0aCA/IHRoaXMubGVuZ3RoIDogY291bnQ7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5fYnVmZmVyVHlwZShjb3VudCAqIHRoaXMuX2NvbXBvbmVudENvdW50ICogdGhpcy5fYXJyYXlTaXplKTtcbiAgICB9XG4gICAgZ2V0KGluZGV4LCBvdXQgPSB0aGlzLmNyZWF0ZUFycmF5KCkpIHtcbiAgICAgICAgaWYgKG91dC5sZW5ndGggJSB0aGlzLl9jb21wb25lbnRDb3VudCAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvdXQubGVuZ3RoLCAke291dC5sZW5ndGh9IGlzIG5vdCBhIG11bHRpcGxlIG9mIHRoZSBhdHRyaWJ1dGUgdmVjdG9yIGNvbXBvbmVudHMsICR7dGhpcy5fY29tcG9uZW50Q291bnR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVzdCA9IHRoaXMuX3RlbXBCdWZmZXJHZXR0ZXIob3V0Lmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5fYnVmZmVyVHlwZS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgY29uc3QgZGVzdFNpemUgPSBlbGVtZW50U2l6ZSAqIG91dC5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHNyY0Zvcm1hdFNpemUgPSB0aGlzLl9mb3JtYXRTaXplICogdGhpcy5fYXJyYXlTaXplO1xuICAgICAgICBjb25zdCBkZXN0Rm9ybWF0U2l6ZSA9IHRoaXMuX2NvbXBvbmVudENvdW50ICogZWxlbWVudFNpemUgKiB0aGlzLl9hcnJheVNpemU7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2dldF9hdHRyaWJ1dGVfdmFsdWVzKHRoaXMuX2F0dHJpYnV0ZSwgc3JjRm9ybWF0U2l6ZSwgdGhpcy5fb2Zmc2V0ICsgaW5kZXggKiB0aGlzLl9zdHJpZGUsIHRoaXMuX3N0cmlkZSwgZGVzdEZvcm1hdFNpemUsIGRlc3QuYnl0ZU9mZnNldCwgZGVzdFNpemUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIG91dFtpXSA9IGRlc3RbaV07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBhdHRyaWJ1dGUgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpIEluZGV4XG4gICAgICogQHBhcmFtIHYgVmFsdWUgdG8gc2V0IHRoZSBlbGVtZW50IHRvXG4gICAgICpcbiAgICAgKiBgdi5sZW5ndGhgIG5lZWRzIHRvIGJlIGEgbXVsdGlwbGUgb2YgdGhlIGF0dHJpYnV0ZXMgY29tcG9uZW50IGNvdW50LCBzZWVcbiAgICAgKiB7QGxpbmsgTWVzaEF0dHJpYnV0ZX0uIElmIGB2Lmxlbmd0aGAgaXMgbW9yZSB0aGFuIG9uZSBtdWx0aXBsZSwgaXQgd2lsbCBiZVxuICAgICAqIGZpbGxlZCB3aXRoIHRoZSBuZXh0IG4gYXR0cmlidXRlIGVsZW1lbnRzLCB3aGljaCBjYW4gcmVkdWNlIG92ZXJoZWFkXG4gICAgICogb2YgdGhpcyBjYWxsLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpXG4gICAgICovXG4gICAgc2V0KGksIHYpIHtcbiAgICAgICAgaWYgKHYubGVuZ3RoICUgdGhpcy5fY29tcG9uZW50Q291bnQgIT09IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG91dC5sZW5ndGgsICR7di5sZW5ndGh9IGlzIG5vdCBhIG11bHRpcGxlIG9mIHRoZSBhdHRyaWJ1dGUgdmVjdG9yIGNvbXBvbmVudHMsICR7dGhpcy5fY29tcG9uZW50Q291bnR9YCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5fYnVmZmVyVHlwZS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgY29uc3Qgc3JjU2l6ZSA9IGVsZW1lbnRTaXplICogdi5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHNyY0Zvcm1hdFNpemUgPSB0aGlzLl9jb21wb25lbnRDb3VudCAqIGVsZW1lbnRTaXplICogdGhpcy5fYXJyYXlTaXplO1xuICAgICAgICBjb25zdCBkZXN0Rm9ybWF0U2l6ZSA9IHRoaXMuX2Zvcm1hdFNpemUgKiB0aGlzLl9hcnJheVNpemU7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgLyogVW5sZXNzIHdlIGFyZSBhbHJlYWR5IHdvcmtpbmcgd2l0aCBkYXRhIGZyb20gV0FTTSBoZWFwLCB3ZVxuICAgICAgICAgKiBuZWVkIHRvIGNvcHkgaW50byB0ZW1wb3JhcnkgbWVtb3J5LiAqL1xuICAgICAgICBpZiAodi5idWZmZXIgIT0gd2FzbS5IRUFQVTguYnVmZmVyKSB7XG4gICAgICAgICAgICBjb25zdCBkZXN0ID0gdGhpcy5fdGVtcEJ1ZmZlckdldHRlcih2Lmxlbmd0aCk7XG4gICAgICAgICAgICBkZXN0LnNldCh2KTtcbiAgICAgICAgICAgIHYgPSBkZXN0O1xuICAgICAgICB9XG4gICAgICAgIHdhc20uX3dsX21lc2hfc2V0X2F0dHJpYnV0ZV92YWx1ZXModGhpcy5fYXR0cmlidXRlLCBzcmNGb3JtYXRTaXplLCB2LmJ5dGVPZmZzZXQsIHNyY1NpemUsIGRlc3RGb3JtYXRTaXplLCB0aGlzLl9vZmZzZXQgKyBpICogdGhpcy5fc3RyaWRlLCB0aGlzLl9zdHJpZGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIG1hdGVyaWFsLlxuICpcbiAqIEVhY2ggbWF0ZXJpYWwgaW5zdGFuY2Ugd2lsbCBoYXZlIHByb3BlcnRpZXMgYXNzb2NpYXRlZCB0byB0aGUgcGlwZWxpbmUgaXQgdXNlcy5cbiAqIFRoZSBtYXRlcmlhbCBwcm9wZXJ0aWVzIGFyZSBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIGVhY2ggbWF0ZXJpYWwgaW5zdGFuY2UsIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGNvbnN0IG1hdGVyaWFsID0gbWVzaC5tYXRlcmlhbDsgLy8gTWF0ZXJpYWwgd2l0aCBhIGBQaG9uZyBPcGFxdWUgVGV4dHVyZWRgIHBpcGVsaW5lXG4gKiAvLyBZb3UgY2FuIGFjY2VzcyBhbGwgdGhlIG1hdGVyaWFsIHByb3BlcnRpZXMgZnJvbSB0aGUgZWRpdG9yIHVzaW5nOlxuICogbWF0ZXJpYWwuZGlmZnVzZVRleHR1cmUgPSBudWxsO1xuICogbWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gWzEuMCwgMC4wLCAwLjAsIDEuMF07XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIE1hdGVyaWFsIHtcbiAgICAvKipcbiAgICAgKiBJbmRleCBvZiB0aGlzIG1hdGVyaWFsIGluIHRoZSBtYW5hZ2VyLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF9pbmRleDtcbiAgICAvKipcbiAgICAgKiBNYXRlcmlhbCBkZWZpbml0aW9uIGluZGV4IGluIHRoZSBzY2VuZS5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfZGVmaW5pdGlvbjtcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBNYXRlcmlhbC5cbiAgICAgKlxuICAgICAqIEBub3RlIENyZWF0aW5nIG1hdGVyaWFsIGlzIGV4cGVuc2l2ZS4gUGxlYXNlIHVzZSB7QGxpbmsgTWF0ZXJpYWwjY2xvbmV9IHRvIGNsb25lIGEgbWF0ZXJpYWwuXG4gICAgICogQG5vdGUgRG8gbm90IHVzZSB0aGlzIGNvbnN0cnVjdG9yIGRpcmVjdGx5IHdpdGggYW4gaW5kZXgsIHRoaXMgaXMgcmVzZXJ2ZWQgZm9yIGludGVybmFsIHB1cnBvc2VzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgcGFyYW1zKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAoIXBhcmFtcz8ucGlwZWxpbmUpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBwYXJhbWV0ZXIgJ3BpcGVsaW5lJ1wiKTtcbiAgICAgICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgICAgIGNvbnN0IHBpcGVsaW5lID0gcGFyYW1zLnBpcGVsaW5lO1xuICAgICAgICAgICAgdGhpcy5faW5kZXggPSB3YXNtLl93bF9tYXRlcmlhbF9jcmVhdGUod2FzbS50ZW1wVVRGOChwaXBlbGluZSkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luZGV4IDwgMClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHN1Y2ggcGlwZWxpbmUgJyR7cGlwZWxpbmV9J2ApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW5kZXggPSBwYXJhbXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGVmaW5pdGlvbiA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9tYXRlcmlhbF9nZXRfZGVmaW5pdGlvbih0aGlzLl9pbmRleCk7XG4gICAgICAgIGlmICghdGhpcy5fZW5naW5lLndhc20uX21hdGVyaWFsRGVmaW5pdGlvbnNbdGhpcy5fZGVmaW5pdGlvbl0pXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hdGVyaWFsIERlZmluaXRpb24gJHt0aGlzLl9kZWZpbml0aW9ufSBub3QgZm91bmQgZm9yIG1hdGVyaWFsIHdpdGggaW5kZXggJHt0aGlzLl9pbmRleH1gKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh0aGlzLCB7XG4gICAgICAgICAgICBnZXQodGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2FzbSA9IGVuZ2luZS53YXNtO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSB3YXNtLl9tYXRlcmlhbERlZmluaXRpb25zW3RhcmdldC5fZGVmaW5pdGlvbl07XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSBkZWZpbml0aW9uLmdldChwcm9wKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmICh3YXNtLl93bF9tYXRlcmlhbF9nZXRfcGFyYW1fdmFsdWUodGFyZ2V0Ll9pbmRleCwgcGFyYW0uaW5kZXgsIHdhc20uX3RlbXBNZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwYXJhbS50eXBlO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5VbnNpZ25lZEludDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZS5jb21wb25lbnRDb3VudCA9PSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gd2FzbS5fdGVtcE1lbVVpbnQzMlswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBVaW50MzJBcnJheSh3YXNtLkhFQVBVMzIuYnVmZmVyLCB3YXNtLl90ZW1wTWVtLCB0eXBlLmNvbXBvbmVudENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuSW50OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlLmNvbXBvbmVudENvdW50ID09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB3YXNtLl90ZW1wTWVtSW50WzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IEludDMyQXJyYXkod2FzbS5IRUFQMzIuYnVmZmVyLCB3YXNtLl90ZW1wTWVtLCB0eXBlLmNvbXBvbmVudENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuRmxvYXQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUuY29tcG9uZW50Q291bnQgPT0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHdhc20uX3RlbXBNZW1GbG9hdFswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgdHlwZS5jb21wb25lbnRDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLlNhbXBsZXI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVuZ2luZS50ZXh0dXJlcy53cmFwKHdhc20uX3RlbXBNZW1JbnRbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdHlwZSAke3R5cGUudHlwZX0gb24gcGFyYW1ldGVyICR7cGFyYW0uaW5kZXh9IGZvciBtYXRlcmlhbCAke3RhcmdldC5faW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3YXNtID0gZW5naW5lLndhc207XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IHdhc20uX21hdGVyaWFsRGVmaW5pdGlvbnNbdGFyZ2V0Ll9kZWZpbml0aW9uXTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbSA9IGRlZmluaXRpb24uZ2V0KHByb3ApO1xuICAgICAgICAgICAgICAgIGlmICghcGFyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gcGFyYW0udHlwZTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLlVuc2lnbmVkSW50OlxuICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLkludDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5TYW1wbGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdiA9IHZhbHVlLmlkID8/IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FzbS5fd2xfbWF0ZXJpYWxfc2V0X3BhcmFtX3ZhbHVlX3VpbnQodGFyZ2V0Ll9pbmRleCwgcGFyYW0uaW5kZXgsIHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuRmxvYXQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0W2ldID0gdmFsdWVbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXNtLl93bF9tYXRlcmlhbF9zZXRfcGFyYW1fdmFsdWVfZmxvYXQodGFyZ2V0Ll9pbmRleCwgcGFyYW0uaW5kZXgsIHdhc20uX3RlbXBNZW0sIGNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLkZvbnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NldHRpbmcgZm9udCBwcm9wZXJ0aWVzIGlzIGN1cnJlbnRseSB1bnN1cHBvcnRlZC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgI3BpcGVsaW5lfSBpbnN0ZWFkLiAqL1xuICAgIGdldCBzaGFkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBpcGVsaW5lO1xuICAgIH1cbiAgICAvKiogTmFtZSBvZiB0aGUgcGlwZWxpbmUgdXNlZCBieSB0aGlzIG1hdGVyaWFsLiAqL1xuICAgIGdldCBwaXBlbGluZSgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcod2FzbS5fd2xfbWF0ZXJpYWxfZ2V0X3BpcGVsaW5lKHRoaXMuX2luZGV4KSk7XG4gICAgfVxuICAgIC8qKiBIb3N0aW5nIGVuZ2luZSBpbnN0YW5jZS4gKi9cbiAgICBnZXQgZW5naW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjb3B5IG9mIHRoZSB1bmRlcmx5aW5nIG5hdGl2ZSBtYXRlcmlhbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIE1hdGVyaWFsIGNsb25lLlxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9tYXRlcmlhbF9jbG9uZSh0aGlzLl9pbmRleCk7XG4gICAgICAgIHJldHVybiBpZCA+IDAgPyBuZXcgTWF0ZXJpYWwodGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIG1hdGVyaWFsIGlkcyBhcmVcbiAgICAgKiBlcXVhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlck1hdGVyaWFsIE1hdGVyaWFsIHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIG1hdGVyaWFsIGVxdWFscyB0aGUgZ2l2ZW4gbWF0ZXJpYWwuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBlcXVhbHMob3RoZXJNYXRlcmlhbCkge1xuICAgICAgICBpZiAoIW90aGVyTWF0ZXJpYWwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleCA9PT0gb3RoZXJNYXRlcmlhbC5faW5kZXg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyYXAgYSBuYXRpdmUgbWF0ZXJpYWwgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW5naW5lIEVuZ2luZSBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0gaW5kZXggVGhlIGluZGV4LlxuICAgICAqIEByZXR1cm5zIE1hdGVyaWFsIGluc3RhbmNlIG9yIGBudWxsYCBpZiBpbmRleCA8PSAwLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBgbmV3IE1hdGVyaWFsKClgIGluc3RlYWQuXG4gICAgICovXG4gICAgc3RhdGljIHdyYXAoZW5naW5lLCBpbmRleCkge1xuICAgICAgICAvKiogQHRvZG86IHRoaXMgcHJvcGFnYXRlIG51bGxhYmxlIGluIHRoZSBlbnRpcmUgY29kZWJhc2UuIFJlbW92ZS4gKi9cbiAgICAgICAgcmV0dXJuIGluZGV4ID4gMCA/IG5ldyBNYXRlcmlhbChlbmdpbmUsIGluZGV4KSA6IG51bGw7XG4gICAgfVxufVxuLyoqIFRlbXBvcmFyeSBjYW52YXMgKi9cbmxldCB0ZW1wMmQgPSBudWxsO1xuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSB0ZXh0dXJlIGRhdGEuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0dXJlIHtcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKiBJbmRleCBpbiB0aGUgbWFuYWdlci4gQGhpZGRlbiAqL1xuICAgIF9pZCA9IDA7XG4gICAgLyoqIEhUTUwgaW1hZ2UgaW5kZXguIEBoaWRkZW4gKi9cbiAgICBfaW1hZ2VJbmRleCA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGVuZ2luZSBUaGUgZW5naW5lIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHBhcmFtIEhUTUwgbWVkaWEgZWxlbWVudCB0byBjcmVhdGUgdGV4dHVyZSBmcm9tIG9yIHRleHR1cmUgaWQgdG8gd3JhcC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIHBhcmFtKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZSA/PyBXTDtcbiAgICAgICAgY29uc3Qgd2FzbSA9IGVuZ2luZS53YXNtO1xuICAgICAgICBpZiAocGFyYW0gaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50IHx8XG4gICAgICAgICAgICBwYXJhbSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQgfHxcbiAgICAgICAgICAgIHBhcmFtIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gd2FzbS5faW1hZ2VzLmxlbmd0aDtcbiAgICAgICAgICAgIHdhc20uX2ltYWdlcy5wdXNoKHBhcmFtKTtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIC8qKiBAdG9kbzogRm9yIDEuMi4wLCBpbWFnZXMgcmVmZXJlbmNlZCBoZXJlIHNob3VsZCBiZSBwZXItc2NlbmUsIGkuZS4sIGJhc2VkXG4gICAgICAgICAgICAgKiBvbiB0aGUgbWFpbiBzY2VuZSBpbWFnZXMuICovXG4gICAgICAgICAgICB0aGlzLl9pZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9yZW5kZXJlcl9hZGRJbWFnZShpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pZCA9IHBhcmFtO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VuZ2luZS50ZXh0dXJlcy5fc2V0KHRoaXMpO1xuICAgIH1cbiAgICAvKiogV2hldGhlciB0aGlzIHRleHR1cmUgaXMgdmFsaWQuICovXG4gICAgZ2V0IHZhbGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQgPj0gMDtcbiAgICB9XG4gICAgLyoqIEluZGV4IGluIHRoaXMgbWFuYWdlci4gKi9cbiAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9XG4gICAgLyoqIFVwZGF0ZSB0aGUgdGV4dHVyZSB0byBtYXRjaCB0aGUgSFRNTCBlbGVtZW50IChlLmcuIHJlZmxlY3QgdGhlIGN1cnJlbnQgZnJhbWUgb2YgYSB2aWRlbykuICovXG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWQgfHwgdGhpcy5faW1hZ2VJbmRleCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3JlbmRlcmVyX3VwZGF0ZUltYWdlKHRoaXMuX2lkLCB0aGlzLl9pbWFnZUluZGV4KTtcbiAgICB9XG4gICAgLyoqIFdpZHRoIG9mIHRoZSB0ZXh0dXJlLiAqL1xuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0dXJlX3dpZHRoKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqIEhlaWdodCBvZiB0aGUgdGV4dHVyZS4gKi9cbiAgICBnZXQgaGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHR1cmVfaGVpZ2h0KHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xuICAgIGdldCBlbmdpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhIHN1YnJhbmdlIG9uIHRoZSB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBIVE1MIGVsZW1lbnQgKGUuZy4gcmVmbGVjdCB0aGUgY3VycmVudCBmcmFtZSBvZiBhIHZpZGVvKS5cbiAgICAgKlxuICAgICAqIFVzYWdlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAvLyBDb3BpZXMgcmVjdGFuZ2xlIG9mIHBpeGVsIHN0YXJ0aW5nIGZyb20gKDEwLCAyMClcbiAgICAgKiB0ZXh0dXJlLnVwZGF0ZVN1YkltYWdlKDEwLCAyMCwgNjAwLCA0MDApO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHggeCBvZmZzZXRcbiAgICAgKiBAcGFyYW0geSB5IG9mZnNldFxuICAgICAqIEBwYXJhbSB3IHdpZHRoXG4gICAgICogQHBhcmFtIGggaGVpZ2h0XG4gICAgICovXG4gICAgdXBkYXRlU3ViSW1hZ2UoeCwgeSwgdywgaCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWQgfHwgdGhpcy5faW1hZ2VJbmRleCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLyogTGF6eSBpbml0aWFsaXplIHRlbXAgY2FudmFzICovXG4gICAgICAgIGlmICghdGVtcDJkKSB7XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmUudXBkYXRlU3ViSW1hZ2UoKTogRmFpbGVkIHRvIG9idGFpbiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wMmQgPSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLFxuICAgICAgICAgICAgICAgIGN0eCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBpbWcgPSB3YXNtLl9pbWFnZXNbdGhpcy5faW1hZ2VJbmRleF07XG4gICAgICAgIGlmICghaW1nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0ZW1wMmQuY2FudmFzLndpZHRoID0gdztcbiAgICAgICAgdGVtcDJkLmNhbnZhcy5oZWlnaHQgPSBoO1xuICAgICAgICB0ZW1wMmQuY3R4LmRyYXdJbWFnZShpbWcsIHgsIHksIHcsIGgsIDAsIDAsIHcsIGgpO1xuICAgICAgICBjb25zdCB5T2Zmc2V0ID0gKGltZy52aWRlb0hlaWdodCA/PyBpbWcuaGVpZ2h0KSAtIHkgLSBoO1xuICAgICAgICB3YXNtLl9pbWFnZXNbdGhpcy5faW1hZ2VJbmRleF0gPSB0ZW1wMmQuY2FudmFzO1xuICAgICAgICB3YXNtLl93bF9yZW5kZXJlcl91cGRhdGVJbWFnZSh0aGlzLl9pZCwgdGhpcy5faW1hZ2VJbmRleCwgeCwgeU9mZnNldCk7XG4gICAgICAgIHdhc20uX2ltYWdlc1t0aGlzLl9pbWFnZUluZGV4XSA9IGltZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZnJlZSB0aGUgdGV4dHVyZSdzIHRleHR1cmUgYWx0YXMgc3BhY2UgYW5kIG1lbW9yeS5cbiAgICAgKlxuICAgICAqIEl0IGlzIGJlc3QgcHJhY3RpY2UgdG8gc2V0IHRoZSB0ZXh0dXJlIHZhcmlhYmxlIHRvIGBudWxsYCBhZnRlciBjYWxsaW5nXG4gICAgICogZGVzdHJveSB0byBwcmV2ZW50IGFjY2lkZW50YWwgdXNlIG9mIHRoZSBpbnZhbGlkIHRleHR1cmU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgdGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICogICB0ZXh0dXJlID0gbnVsbDtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjkuMFxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLl9kZXN0cm95VGV4dHVyZSh0aGlzKTtcbiAgICAgICAgdGhpcy5faWQgPSAtMTtcbiAgICAgICAgdGhpcy5faW1hZ2VJbmRleCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjb21wYXJpbmcgd2hldGhlciB0aGUgd3JhcHBlZCBuYXRpdmUgdGV4dHVyZSBpZHMgYXJlXG4gICAgICogZXF1YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXJUZXh0dXJlIFRleHR1cmUgdG8gY2hlY2sgZXF1YWxpdHkgd2l0aC5cbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgdGV4dHVyZSBlcXVhbHMgdGhlIGdpdmVuIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBlcXVhbHMob3RoZXJUZXh0dXJlKSB7XG4gICAgICAgIGlmICghb3RoZXJUZXh0dXJlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5faWQgPT09IG90aGVyVGV4dHVyZS5faWQ7XG4gICAgfVxufVxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSBhbmltYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBBbmltYXRpb24ge1xuICAgIC8qKiBJbmRleCBvZiB0aGUgbWVzaCBpbiB0aGUgbWFuYWdlci4gQGhpZGRlbiAqL1xuICAgIF9pbmRleDtcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBpbiB0aGUgbWFuYWdlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSA9IFdMLCBpbmRleCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgICAgIHRoaXMuX2luZGV4ID0gaW5kZXg7XG4gICAgfVxuICAgIC8qKiBEdXJhdGlvbiBvZiB0aGlzIGFuaW1hdGlvbi4gKi9cbiAgICBnZXQgZHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2dldF9kdXJhdGlvbih0aGlzLl9pbmRleCk7XG4gICAgfVxuICAgIC8qKiBOdW1iZXIgb2YgdHJhY2tzIGluIHRoaXMgYW5pbWF0aW9uLiAqL1xuICAgIGdldCB0cmFja0NvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9nZXRfdHJhY2tDb3VudCh0aGlzLl9pbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lIHRoaXMgYW5pbWF0aW9uIHJldGFyZ2V0ZWQgdG8gYSBuZXcgc2V0IG9mIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBUaGUgY2xvbmUgc2hhcmVzIG1vc3Qgb2YgdGhlIGRhdGEgd2l0aCB0aGUgb3JpZ2luYWwgYW5kIGlzIHRoZXJlZm9yZVxuICAgICAqIGxpZ2h0LXdlaWdodC5cbiAgICAgKlxuICAgICAqICoqRXhwZXJpbWVudGFsOioqIFRoaXMgQVBJIG1pZ2h0IGNoYW5nZSBpbiB1cGNvbWluZyB2ZXJzaW9ucy5cbiAgICAgKlxuICAgICAqIElmIHJldGFyZ2V0aW5nIHRvIHtAbGluayBTa2lufSwgdGhlIGpvaW4gbmFtZXMgd2lsbCBiZSB1c2VkIHRvIGRldGVybWluZSBhIG1hcHBpbmdcbiAgICAgKiBmcm9tIHRoZSBwcmV2aW91cyBza2luIHRvIHRoZSBuZXcgc2tpbi4gVGhlIHNvdXJjZSBza2luIHdpbGwgYmUgcmV0cmlldmVkIGZyb21cbiAgICAgKiB0aGUgZmlyc3QgdHJhY2sgaW4gdGhlIGFuaW1hdGlvbiB0aGF0IHRhcmdldHMgYSBqb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdUYXJnZXRzIE5ldyB0YXJnZXRzIHBlciB0cmFjay4gRXhwZWN0ZWQgdG8gaGF2ZVxuICAgICAqICAgICAge0BsaW5rIEFuaW1hdGlvbiN0cmFja0NvdW50fSBlbGVtZW50cyBvciB0byBiZSBhIHtAbGluayBTa2lufS5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmV0YXJnZXRlZCBjbG9uZSBvZiB0aGlzIGFuaW1hdGlvbi5cbiAgICAgKi9cbiAgICByZXRhcmdldChuZXdUYXJnZXRzKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgaWYgKG5ld1RhcmdldHMgaW5zdGFuY2VvZiBTa2luKSB7XG4gICAgICAgICAgICBjb25zdCBhbmltSWQgPSB3YXNtLl93bF9hbmltYXRpb25fcmV0YXJnZXRUb1NraW4odGhpcy5faW5kZXgsIG5ld1RhcmdldHMuX2luZGV4KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQW5pbWF0aW9uKHRoaXMuX2VuZ2luZSwgYW5pbUlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3VGFyZ2V0cy5sZW5ndGggIT0gdGhpcy50cmFja0NvdW50KSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignRXhwZWN0ZWQgJyArXG4gICAgICAgICAgICAgICAgdGhpcy50cmFja0NvdW50LnRvU3RyaW5nKCkgK1xuICAgICAgICAgICAgICAgICcgdGFyZ2V0cywgYnV0IGdvdCAnICtcbiAgICAgICAgICAgICAgICBuZXdUYXJnZXRzLmxlbmd0aC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl9tYWxsb2MoMiAqIG5ld1RhcmdldHMubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdUYXJnZXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB3YXNtLkhFQVBVMTZbcHRyID4+ICgxICsgaSldID0gbmV3VGFyZ2V0c1tpXS5vYmplY3RJZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbmltSWQgPSB3YXNtLl93bF9hbmltYXRpb25fcmV0YXJnZXQodGhpcy5faW5kZXgsIHB0cik7XG4gICAgICAgIHdhc20uX2ZyZWUocHRyKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb24odGhpcy5fZW5naW5lLCBhbmltSWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIGFuaW1hdGlvbiBpZHNcbiAgICAgKiBhcmUgZXF1YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXJBbmltYXRpb24gQW5pbWF0aW9uIHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIGFuaW1hdGlvbiBlcXVhbHMgdGhlIGdpdmVuIGFuaW1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlckFuaW1hdGlvbikge1xuICAgICAgICBpZiAoIW90aGVyQW5pbWF0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXggPT09IG90aGVyQW5pbWF0aW9uLl9pbmRleDtcbiAgICB9XG59XG4vKipcbiAqIFNjZW5lIGdyYXBoIG9iamVjdC5cbiAqXG4gKiBOb2RlIGluIHRoZSBzY2VuZSBncmFwaCBvciBcImVudGl0eVwiLiBDb25zaXN0cyBvZiB0cmFuc2Zvcm1hdGlvbiBhbmQgYSByZWZlcmVuY2VcbiAqIHRvIGl0cyBwYXJlbnQgb2JqZWN0LiBVc3VhbGx5IGhvbGRzIGNvbXBvbmVudHMgYW5kIGlzIGFjY2Vzc2libGUgYnkgY29tcG9uZW50c1xuICogdGhyb3VnaCB7QGxpbmsgQ29tcG9uZW50I29iamVjdH0uXG4gKlxuICogT2JqZWN0cyBhcmUgc3RvcmVkIGluIGEgZGF0YSBvcmllbnRlZCBtYW5uZXIgaW5zaWRlIFdlYkFzc2VtYmx5IG1lbW9yeS4gVGhpcyBjbGFzc1xuICogaXMgYSBKYXZhU2NyaXB0IEFQSSB3cmFwcGVyIGFyb3VuZCB0aGlzIG1lbW9yeSBmb3IgbW9yZSBjb252ZW5pZW50IHVzZSBpblxuICogY29tcG9uZW50cy5cbiAqXG4gKiBPYmplY3RzIGNhbiBiZSBjcmVhdGVkIGFuZCBhZGRlZCB0byBhIHNjZW5lIHRocm91Z2hcbiAqIHtAbGluayBTY2VuZSNhZGRPYmplY3R9IG9uIHRoZSB7QGxpbmsgV29uZGVybGFuZEVuZ2luZS5zY2VuZX0uXG4gKi9cbmV4cG9ydCBjbGFzcyBPYmplY3QzRCB7XG4gICAgLyoqXG4gICAgICogT2JqZWN0IGluZGV4IGluIHRoZSBtYW5hZ2VyLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF9vYmplY3RJZCA9IC0xO1xuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xuICAgIF9lbmdpbmU7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG8gT2JqZWN0IGlkIHRvIHdyYXBcbiAgICAgKlxuICAgICAqIEZvciBwZXJmb3JtYW5jZSByZWFzb25zLCBwbGVhc2UgdXNlIHtAbGluayBXb25kZXJsYW5kRW5naW5lLndyYXBPYmplY3R9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBvKSB7XG4gICAgICAgIHRoaXMuX29iamVjdElkID0gbztcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBVc2VmdWwgZm9yIGlkZW50aWZ5aW5nIG9iamVjdHMgZHVyaW5nIGRlYnVnZ2luZy5cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcod2FzbS5fd2xfb2JqZWN0X25hbWUodGhpcy5vYmplY3RJZCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG9iamVjdCdzIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmV3TmFtZSBUaGUgbmV3IG5hbWUgdG8gc2V0LlxuICAgICAqL1xuICAgIHNldCBuYW1lKG5ld05hbWUpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl93bF9vYmplY3Rfc2V0X25hbWUodGhpcy5vYmplY3RJZCwgd2FzbS50ZW1wVVRGOChuZXdOYW1lKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcmVudCBvZiB0aGlzIG9iamVjdCBvciBgbnVsbGAgaWYgcGFyZW50ZWQgdG8gcm9vdC5cbiAgICAgKi9cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICBjb25zdCBwID0gdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9wYXJlbnQodGhpcy5vYmplY3RJZCk7XG4gICAgICAgIHJldHVybiBwID09PSAwID8gbnVsbCA6IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KHApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGlsZHJlbiBvZiB0aGlzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBub3RlIENoaWxkIG9yZGVyIGlzICoqdW5kZWZpbmVkKiouIE5vIGFzc3VtcHRpb25zIHNob3VsZCBiZSBtYWRlXG4gICAgICogYWJvdXQgdGhlIGluZGV4IG9mIGEgc3BlY2lmaWMgb2JqZWN0LlxuICAgICAqXG4gICAgICogSWYgeW91IG5lZWQgdG8gYWNjZXNzIGEgc3BlY2lmaWMgY2hpbGQgb2YgdGhpcyBvYmplY3QsIHlvdSBjYW5cbiAgICAgKiB1c2Uge0BsaW5rIE9iamVjdDNELmZpbmRCeU5hbWV9LlxuICAgICAqXG4gICAgICogV2hlbiB0aGUgb2JqZWN0IGV4aXN0cyBpbiB0aGUgc2NlbmUgYXQgZWRpdG9yIHRpbWUsIHByZWZlciBwYXNzaW5nIGl0IGFzXG4gICAgICogYSBjb21wb25lbnQgcHJvcGVydHkuXG4gICAgICovXG4gICAgZ2V0IGNoaWxkcmVuKCkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbkNvdW50ID0gdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9nZXRfY2hpbGRyZW5fY291bnQodGhpcy5vYmplY3RJZCk7XG4gICAgICAgIGlmIChjaGlsZHJlbkNvdW50ID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20ucmVxdWlyZVRlbXBNZW0oY2hpbGRyZW5Db3VudCAqIDIpO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X2dldF9jaGlsZHJlbih0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtLCB3YXNtLl90ZW1wTWVtU2l6ZSA+PiAxKTtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBuZXcgQXJyYXkoY2hpbGRyZW5Db3VudCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5Db3VudDsgKytpKSB7XG4gICAgICAgICAgICBjaGlsZHJlbltpXSA9IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KHdhc20uX3RlbXBNZW1VaW50MTZbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVwYXJlbnQgb2JqZWN0IHRvIGdpdmVuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBub3RlIFJlcGFyZW50aW5nIGlzIG5vdCB0cml2aWFsIGFuZCBtaWdodCBoYXZlIGEgbm90aWNlYWJsZSBwZXJmb3JtYW5jZSBpbXBhY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmV3UGFyZW50IE5ldyBwYXJlbnQgb3IgYG51bGxgIHRvIHBhcmVudCB0byByb290XG4gICAgICovXG4gICAgc2V0IHBhcmVudChuZXdQYXJlbnQpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfcGFyZW50KHRoaXMub2JqZWN0SWQsIG5ld1BhcmVudCA9PSBudWxsID8gMCA6IG5ld1BhcmVudC5vYmplY3RJZCk7XG4gICAgfVxuICAgIC8qKiBPYmplY3QgaW5kZXggaW4gdGhlIG1hbmFnZXIuICovXG4gICAgZ2V0IG9iamVjdElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0SWQ7XG4gICAgfVxuICAgIC8qKiBIb3N0aW5nIGVuZ2luZSBpbnN0YW5jZS4gKi9cbiAgICBnZXQgZW5naW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZSB0aGlzIGhpZXJhcmNoeSBpbnRvIGEgbmV3IG9uZS5cbiAgICAgKlxuICAgICAqIENsb25pbmcgY29waWVzIHRoZSBoaWVyYXJjaHkgc3RydWN0dXJlLCBvYmplY3QgbmFtZXMsXG4gICAgICogYXMgd2VsbCBhcyBjb21wb25lbnRzLlxuICAgICAqXG4gICAgICogSmF2YVNjcmlwdCBjb21wb25lbnRzIGFyZSBjbG9uZWQgdXNpbmcge0BsaW5rIENvbXBvbmVudC5jb3B5fS4gWW91IGNhblxuICAgICAqIG92ZXJyaWRlIHRoaXMgbWV0aG9kIGluIHlvdXIgY29tcG9uZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJlbnQgVGhlIHBhcmVudCBmb3IgdGhlIGNsb25lZCBoaWVyYXJjaHkgb3IgYG51bGxgIHRvIGNsb25lXG4gICAgICogICAgIGludG8gdGhlIHNjZW5lIHJvb3QuIERlZmF1bHRzIHRvIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBjbG9uZSBvZiB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBjbG9uZShwYXJlbnQgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGVuZ2luZSA9IHRoaXMuX2VuZ2luZTtcbiAgICAgICAgY29uc3QgaWQgPSBlbmdpbmUud2FzbS5fd2xfb2JqZWN0X2Nsb25lKHRoaXMuX29iamVjdElkLCBwYXJlbnQgPyBwYXJlbnQuX29iamVjdElkIDogMCk7XG4gICAgICAgIHJldHVybiBlbmdpbmUud3JhcE9iamVjdChpZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IGxvY2FsIHRyYW5zZm9ybWF0aW9uICh0cmFuc2xhdGlvbiwgcm90YXRpb24gYW5kIHNjYWxpbmcpIHRvIGlkZW50aXR5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHJlc2V0VHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3RyYW5zbGF0aW9uX3JvdGF0aW9uKHRoaXMub2JqZWN0SWQpO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3NjYWxpbmcodGhpcy5vYmplY3RJZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCBsb2NhbCBwb3NpdGlvbiBhbmQgcm90YXRpb24gdG8gaWRlbnRpdHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcmVzZXRQb3NpdGlvblJvdGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3RyYW5zbGF0aW9uX3JvdGF0aW9uKHRoaXMub2JqZWN0SWQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJlc2V0UG9zaXRpb25Sb3RhdGlvbn0gaW5zdGVhZC4gKi9cbiAgICByZXNldFRyYW5zbGF0aW9uUm90YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCBsb2NhbCByb3RhdGlvbiwga2VlcCB0cmFuc2xhdGlvbi5cbiAgICAgKlxuICAgICAqIEBub3RlIFRvIHJlc2V0IGJvdGggcm90YXRpb24gYW5kIHRyYW5zbGF0aW9uLCBwcmVmZXJcbiAgICAgKiAgICAgICB7QGxpbmsgcmVzZXRUcmFuc2xhdGlvblJvdGF0aW9ufS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICByZXNldFJvdGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3JvdGF0aW9uKHRoaXMub2JqZWN0SWQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgbG9jYWwgdHJhbnNsYXRpb24sIGtlZXAgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAbm90ZSBUbyByZXNldCBib3RoIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiwgcHJlZmVyXG4gICAgICogICAgICAge0BsaW5rIHJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbn0uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcmVzZXRQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yZXNldF90cmFuc2xhdGlvbih0aGlzLm9iamVjdElkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5yZXNldFBvc2l0aW9ufSBpbnN0ZWFkLiAqL1xuICAgIHJlc2V0VHJhbnNsYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc2V0UG9zaXRpb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgbG9jYWwgc2NhbGluZyB0byBpZGVudGl0eSAoYGBbMS4wLCAxLjAsIDEuMF1gYCkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcmVzZXRTY2FsaW5nKCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3NjYWxpbmcodGhpcy5vYmplY3RJZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QudHJhbnNsYXRlTG9jYWx9IGluc3RlYWQuICovXG4gICAgdHJhbnNsYXRlKHYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlTG9jYWwodik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZSBvYmplY3QgYnkgYSB2ZWN0b3IgaW4gdGhlIHBhcmVudCdzIHNwYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zbGF0ZSBieS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICB0cmFuc2xhdGVMb2NhbCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfdHJhbnNsYXRlKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlIG9iamVjdCBieSBhIHZlY3RvciBpbiBvYmplY3Qgc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gdHJhbnNsYXRlIGJ5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHRyYW5zbGF0ZU9iamVjdCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfdHJhbnNsYXRlX29iaih0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZSBvYmplY3QgYnkgYSB2ZWN0b3IgaW4gd29ybGQgc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gdHJhbnNsYXRlIGJ5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHRyYW5zbGF0ZVdvcmxkKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF90cmFuc2xhdGVfd29ybGQodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Qucm90YXRlQXhpc0FuZ2xlRGVnTG9jYWx9IGluc3RlYWQuICovXG4gICAgcm90YXRlQXhpc0FuZ2xlRGVnKGEsIGQpIHtcbiAgICAgICAgdGhpcy5yb3RhdGVBeGlzQW5nbGVEZWdMb2NhbChhLCBkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSBhcm91bmQgZ2l2ZW4gYXhpcyBieSBnaXZlbiBhbmdsZSAoZGVncmVlcykgaW4gbG9jYWwgc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYSBWZWN0b3IgcmVwcmVzZW50aW5nIHRoZSByb3RhdGlvbiBheGlzLlxuICAgICAqIEBwYXJhbSBkIEFuZ2xlIGluIGRlZ3JlZXMuXG4gICAgICpcbiAgICAgKiBAbm90ZSBJZiB0aGUgb2JqZWN0IGlzIHRyYW5zbGF0ZWQgdGhlIHJvdGF0aW9uIHdpbGwgYmUgYXJvdW5kXG4gICAgICogICAgIHRoZSBwYXJlbnQuIFRvIHJvdGF0ZSBhcm91bmQgdGhlIG9iamVjdCBvcmlnaW4sIHVzZVxuICAgICAqICAgICB7QGxpbmsgcm90YXRlQXhpc0FuZ2xlRGVnT2JqZWN0fVxuICAgICAqXG4gICAgICogQHNlZSB7QGxpbmsgcm90YXRlQXhpc0FuZ2xlUmFkfVxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHJvdGF0ZUF4aXNBbmdsZURlZ0xvY2FsKGEsIGQpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfYXhpc19hbmdsZSh0aGlzLm9iamVjdElkLCBhWzBdLCBhWzFdLCBhWzJdLCBkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5yb3RhdGVBeGlzQW5nbGVSYWRMb2NhbH0gaW5zdGVhZC4gKi9cbiAgICByb3RhdGVBeGlzQW5nbGVSYWQoYSwgZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGVBeGlzQW5nbGVSYWRMb2NhbChhLCBkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUm90YXRlIGFyb3VuZCBnaXZlbiBheGlzIGJ5IGdpdmVuIGFuZ2xlIChyYWRpYW5zKSBpbiBsb2NhbCBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhIFZlY3RvciByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uIGF4aXMuXG4gICAgICogQHBhcmFtIGQgQW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKlxuICAgICAqIEBub3RlIElmIHRoZSBvYmplY3QgaXMgdHJhbnNsYXRlZCB0aGUgcm90YXRpb24gd2lsbCBiZSBhcm91bmRcbiAgICAgKiAgICAgdGhlIHBhcmVudC4gVG8gcm90YXRlIGFyb3VuZCB0aGUgb2JqZWN0IG9yaWdpbiwgdXNlXG4gICAgICogICAgIHtAbGluayByb3RhdGVBeGlzQW5nbGVEZWdPYmplY3R9XG4gICAgICpcbiAgICAgKiBAc2VlIHtAbGluayByb3RhdGVBeGlzQW5nbGVEZWd9XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcm90YXRlQXhpc0FuZ2xlUmFkTG9jYWwoYSwgZCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9heGlzX2FuZ2xlX3JhZCh0aGlzLm9iamVjdElkLCBhWzBdLCBhWzFdLCBhWzJdLCBkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSBhcm91bmQgZ2l2ZW4gYXhpcyBieSBnaXZlbiBhbmdsZSAoZGVncmVlcykgaW4gb2JqZWN0IHNwYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGEgVmVjdG9yIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb24gYXhpcy5cbiAgICAgKiBAcGFyYW0gZCBBbmdsZSBpbiBkZWdyZWVzLlxuICAgICAqXG4gICAgICogRXF1aXZhbGVudCB0byBwcmVwZW5kaW5nIGEgcm90YXRpb24gcXVhdGVybmlvbiB0byB0aGUgb2JqZWN0J3NcbiAgICAgKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBzZWUge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZVJhZE9iamVjdH1cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICByb3RhdGVBeGlzQW5nbGVEZWdPYmplY3QoYSwgZCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9heGlzX2FuZ2xlX29iaih0aGlzLm9iamVjdElkLCBhWzBdLCBhWzFdLCBhWzJdLCBkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSBhcm91bmQgZ2l2ZW4gYXhpcyBieSBnaXZlbiBhbmdsZSAocmFkaWFucykgaW4gb2JqZWN0IHNwYWNlXG4gICAgICogRXF1aXZhbGVudCB0byBwcmVwZW5kaW5nIGEgcm90YXRpb24gcXVhdGVybmlvbiB0byB0aGUgb2JqZWN0J3NcbiAgICAgKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhIFZlY3RvciByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uIGF4aXNcbiAgICAgKiBAcGFyYW0gZCBBbmdsZSBpbiBkZWdyZWVzXG4gICAgICpcbiAgICAgKiBAc2VlIHtAbGluayByb3RhdGVBeGlzQW5nbGVEZWdPYmplY3R9XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcm90YXRlQXhpc0FuZ2xlUmFkT2JqZWN0KGEsIGQpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfYXhpc19hbmdsZV9yYWRfb2JqKHRoaXMub2JqZWN0SWQsIGFbMF0sIGFbMV0sIGFbMl0sIGQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJvdGF0ZUxvY2FsfSBpbnN0ZWFkLiAqL1xuICAgIHJvdGF0ZShxKSB7XG4gICAgICAgIHRoaXMucm90YXRlTG9jYWwocSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgYnkgYSBxdWF0ZXJuaW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHEgdGhlIFF1YXRlcm5pb24gdG8gcm90YXRlIGJ5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHJvdGF0ZUxvY2FsKHEpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfcXVhdCh0aGlzLm9iamVjdElkLCBxWzBdLCBxWzFdLCBxWzJdLCBxWzNdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSBieSBhIHF1YXRlcm5pb24gaW4gb2JqZWN0IHNwYWNlLlxuICAgICAqXG4gICAgICogRXF1aXZhbGVudCB0byBwcmVwZW5kaW5nIGEgcm90YXRpb24gcXVhdGVybmlvbiB0byB0aGUgb2JqZWN0J3NcbiAgICAgKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBxIHRoZSBRdWF0ZXJuaW9uIHRvIHJvdGF0ZSBieS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICByb3RhdGVPYmplY3QocSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9xdWF0X29iaih0aGlzLm9iamVjdElkLCBxWzBdLCBxWzFdLCBxWzJdLCBxWzNdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zY2FsZUxvY2FsfSBpbnN0ZWFkLiAqL1xuICAgIHNjYWxlKHYpIHtcbiAgICAgICAgdGhpcy5zY2FsZUxvY2FsKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2NhbGUgb2JqZWN0IGJ5IGEgdmVjdG9yIGluIG9iamVjdCBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byBzY2FsZSBieS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBzY2FsZUxvY2FsKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zY2FsZSh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldFBvc2l0aW9uTG9jYWwob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIC8qIFRyYW5zbGF0aW9uIGlzIGRpZmZlcmVudCB0aGFuIHJvdGF0aW9uICYgc2NhbGluZy5cbiAgICAgICAgICogV2UgY2FuJ3Qgc2ltcGx5IHJlYWQgdGhlIG1lbW9yeS4gKi9cbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X2dldF90cmFuc2xhdGlvbl9sb2NhbCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgZ2V0VHJhbnNsYXRpb25Mb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBvc2l0aW9uTG9jYWwob3V0KTtcbiAgICB9XG4gICAgZ2V0UG9zaXRpb25Xb3JsZChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgLyogVHJhbnNsYXRpb24gaXMgZGlmZmVyZW50IHRoYW4gcm90YXRpb24gJiBzY2FsaW5nLlxuICAgICAgICAgKiBXZSBjYW4ndCBzaW1wbHkgcmVhZCB0aGUgbWVtb3J5LiAqL1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfZ2V0X3RyYW5zbGF0aW9uX3dvcmxkKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBnZXRUcmFuc2xhdGlvbldvcmxkKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UG9zaXRpb25Xb3JsZChvdXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgLyBvYmplY3Qgc3BhY2UgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBDb25jYXRlbmF0ZXMgYSBuZXcgdHJhbnNsYXRpb24gZHVhbCBxdWF0ZXJuaW9uIG9udG8gdGhlIGV4aXN0aW5nIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHYgTmV3IGxvY2FsIHBvc2l0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHNldFBvc2l0aW9uTG9jYWwodikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF90cmFuc2xhdGlvbl9sb2NhbCh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRQb3NpdGlvbkxvY2FsfSBpbnN0ZWFkLiAqL1xuICAgIHNldFRyYW5zbGF0aW9uTG9jYWwodikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRQb3NpdGlvbkxvY2FsKHYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd29ybGQgc3BhY2UgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBBcHBsaWVzIHRoZSBpbnZlcnNlIHBhcmVudCB0cmFuc2Zvcm0gd2l0aCBhIG5ldyB0cmFuc2xhdGlvbiBkdWFsIHF1YXRlcm5pb25cbiAgICAgKiB3aGljaCBpcyBjb25jYXRlbmF0ZWQgb250byB0aGUgZXhpc3Rpbmcgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgcG9zaXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgc2V0UG9zaXRpb25Xb3JsZCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3RyYW5zbGF0aW9uX3dvcmxkKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFBvc2l0aW9uV29ybGR9IGluc3RlYWQuICovXG4gICAgc2V0VHJhbnNsYXRpb25Xb3JsZCh2KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFBvc2l0aW9uV29ybGQodik7XG4gICAgfVxuICAgIGdldFNjYWxpbmdMb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfbG9jYWwodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgLyBvYmplY3Qgc3BhY2Ugc2NhbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IE5ldyBsb2NhbCBzY2FsaW5nIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHNldFNjYWxpbmdMb2NhbCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3NjYWxpbmdfbG9jYWwodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRTY2FsaW5nV29ybGQob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF9zY2FsaW5nX3dvcmxkKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IFdvcmxkIHNwYWNlIHNjYWxpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgc2NhbGluZyBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBzZXRTY2FsaW5nV29ybGQodikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9zY2FsaW5nX3dvcmxkKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0Um90YXRpb25Mb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX2xvY2FsKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXG4gICAgICAgIC8qIFRoZSBmaXJzdCA0IGZsb2F0cyByZXByZXNlbnQgdGhlIHJvdGF0aW9uIHF1YXRlcm5pb24uICovXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcbiAgICAgICAgb3V0WzNdID0gd2FzbS5IRUFQRjMyW3B0ciArIDNdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgcm90YXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgc2V0Um90YXRpb25Mb2NhbCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3JvdGF0aW9uX2xvY2FsKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0Um90YXRpb25Xb3JsZChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXG4gICAgICAgIC8qIFRoZSBmaXJzdCA0IGZsb2F0cyByZXByZXNlbnQgdGhlIHJvdGF0aW9uIHF1YXRlcm5pb24uICovXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcbiAgICAgICAgb3V0WzNdID0gd2FzbS5IRUFQRjMyW3B0ciArIDNdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgcm90YXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgc2V0Um90YXRpb25Xb3JsZCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3JvdGF0aW9uX3dvcmxkKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0VHJhbnNmb3JtTG9jYWwob3V0ID0gbmV3IEZsb2F0MzJBcnJheSg4KSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc19sb2NhbCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XG4gICAgICAgIG91dFszXSA9IHdhc20uSEVBUEYzMltwdHIgKyAzXTtcbiAgICAgICAgb3V0WzRdID0gd2FzbS5IRUFQRjMyW3B0ciArIDRdO1xuICAgICAgICBvdXRbNV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNV07XG4gICAgICAgIG91dFs2XSA9IHdhc20uSEVBUEYzMltwdHIgKyA2XTtcbiAgICAgICAgb3V0WzddID0gd2FzbS5IRUFQRjMyW3B0ciArIDddO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgbG9jYWwgdHJhbnNmb3JtIGFycmF5LCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDggZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgc2V0VHJhbnNmb3JtTG9jYWwodikge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc19sb2NhbCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyXSA9IHZbMF07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAxXSA9IHZbMV07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAyXSA9IHZbMl07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAzXSA9IHZbM107XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA0XSA9IHZbNF07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA1XSA9IHZbNV07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA2XSA9IHZbNl07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA3XSA9IHZbN107XG4gICAgICAgIHRoaXMuc2V0RGlydHkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldFRyYW5zZm9ybVdvcmxkKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoOCkpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGQodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xuICAgICAgICBvdXRbM10gPSB3YXNtLkhFQVBGMzJbcHRyICsgM107XG4gICAgICAgIG91dFs0XSA9IHdhc20uSEVBUEYzMltwdHIgKyA0XTtcbiAgICAgICAgb3V0WzVdID0gd2FzbS5IRUFQRjMyW3B0ciArIDVdO1xuICAgICAgICBvdXRbNl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNl07XG4gICAgICAgIG91dFs3XSA9IHdhc20uSEVBUEYzMltwdHIgKyA3XTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdvcmxkIHNwYWNlIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHYgTmV3IHdvcmxkIHRyYW5zZm9ybSBhcnJheSwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCA4IGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHNldFRyYW5zZm9ybVdvcmxkKHYpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGQodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0cl0gPSB2WzBdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMV0gPSB2WzFdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMl0gPSB2WzJdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgM10gPSB2WzNdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNF0gPSB2WzRdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNV0gPSB2WzVdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNl0gPSB2WzZdO1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgN10gPSB2WzddO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkX3RvX2xvY2FsKHRoaXMub2JqZWN0SWQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9jYWwgc3BhY2UgdHJhbnNmb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRUcmFuc2Zvcm1Mb2NhbH0gYW5kXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFRyYW5zZm9ybUxvY2FsfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGdldCB0cmFuc2Zvcm1Mb2NhbCgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9vYmplY3RfdHJhbnNfbG9jYWwodGhpcy5vYmplY3RJZCksIDgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHQgTG9jYWwgc3BhY2UgdHJhbnNmb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjVcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFRyYW5zZm9ybUxvY2FsfSBhbmRcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0VHJhbnNmb3JtTG9jYWx9IGluc3RlYWQuXG4gICAgICovXG4gICAgc2V0IHRyYW5zZm9ybUxvY2FsKHQpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1Mb2NhbC5zZXQodCk7XG4gICAgICAgIHRoaXMuc2V0RGlydHkoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2xvYmFsIC8gd29ybGQgc3BhY2UgdHJhbnNmb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBNYXkgcmVjb21wdXRlIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgaGllcmFyY2h5IG9mIHRoaXMgb2JqZWN0LFxuICAgICAqIGlmIHRoZXkgd2VyZSBjaGFuZ2VkIGJ5IEphdmFTY3JpcHQgY29tcG9uZW50cyB0aGlzIGZyYW1lLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0VHJhbnNmb3JtV29ybGR9IGFuZFxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRUcmFuc2Zvcm1Xb3JsZH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBnZXQgdHJhbnNmb3JtV29ybGQoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkKHRoaXMub2JqZWN0SWQpLCA4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdvcmxkIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0IEdsb2JhbCAvIHdvcmxkIHNwYWNlIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC41XG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRUcmFuc2Zvcm1Xb3JsZH0gYW5kXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFRyYW5zZm9ybVdvcmxkfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIHNldCB0cmFuc2Zvcm1Xb3JsZCh0KSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtV29ybGQuc2V0KHQpO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkX3RvX2xvY2FsKHRoaXMub2JqZWN0SWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2NhbCAvIG9iamVjdCBzcGFjZSBzY2FsaW5nLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0U2NhbGluZ0xvY2FsfSBhbmRcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0U2NhbGluZ0xvY2FsfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGdldCBzY2FsaW5nTG9jYWwoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfbG9jYWwodGhpcy5vYmplY3RJZCksIDMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugc2NhbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzIExvY2FsIHNwYWNlIHNjYWxpbmcuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFNjYWxpbmdMb2NhbH0gYW5kXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFNjYWxpbmdMb2NhbH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBzZXQgc2NhbGluZ0xvY2FsKHMpIHtcbiAgICAgICAgdGhpcy5zY2FsaW5nTG9jYWwuc2V0KHMpO1xuICAgICAgICB0aGlzLnNldERpcnR5KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdsb2JhbCAvIHdvcmxkIHNwYWNlIHNjYWxpbmcuXG4gICAgICpcbiAgICAgKiBNYXkgcmVjb21wdXRlIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgaGllcmFyY2h5IG9mIHRoaXMgb2JqZWN0LFxuICAgICAqIGlmIHRoZXkgd2VyZSBjaGFuZ2VkIGJ5IEphdmFTY3JpcHQgY29tcG9uZW50cyB0aGlzIGZyYW1lLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0U2NhbGluZ1dvcmxkfSBhbmRcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0U2NhbGluZ1dvcmxkfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGdldCBzY2FsaW5nV29ybGQoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfd29ybGQodGhpcy5vYmplY3RJZCksIDMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd29ybGQgc3BhY2Ugc2NhbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0IFdvcmxkIHNwYWNlIHNjYWxpbmcuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFNjYWxpbmdXb3JsZH0gYW5kXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFNjYWxpbmdXb3JsZH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBzZXQgc2NhbGluZ1dvcmxkKHMpIHtcbiAgICAgICAgdGhpcy5zY2FsaW5nV29ybGQuc2V0KHMpO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfd29ybGRfdG9fbG9jYWwodGhpcy5vYmplY3RJZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvY2FsIHNwYWNlIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC43XG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRSb3RhdGlvbkxvY2FsfSBhbmRcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0Quc2V0Um90YXRpb25Mb2NhbH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBnZXQgcm90YXRpb25Mb2NhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtTG9jYWwuc3ViYXJyYXkoMCwgNCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdsb2JhbCAvIHdvcmxkIHNwYWNlIHJvdGF0aW9uXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJvdGF0aW9uV29ybGR9IGFuZFxuICAgICAqIHtAbGluayBPYmplY3QzRC5zZXRSb3RhdGlvbldvcmxkfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGdldCByb3RhdGlvbldvcmxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Xb3JsZC5zdWJhcnJheSgwLCA0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGxvY2FsIHNwYWNlIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHIgTG9jYWwgc3BhY2Ugcm90YXRpb25cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0Um90YXRpb25Mb2NhbH0gYW5kXG4gICAgICoge0BsaW5rIE9iamVjdDNELnNldFJvdGF0aW9uTG9jYWx9IGluc3RlYWQuXG4gICAgICovXG4gICAgc2V0IHJvdGF0aW9uTG9jYWwocikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9yb3RhdGlvbl9sb2NhbCh0aGlzLm9iamVjdElkLCByWzBdLCByWzFdLCByWzJdLCByWzNdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdvcmxkIHNwYWNlIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHIgR2xvYmFsIC8gd29ybGQgc3BhY2Ugcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJvdGF0aW9uV29ybGR9IGFuZFxuICAgICAqIHtAbGluayBPYmplY3QzRC5zZXRSb3RhdGlvbldvcmxkfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIHNldCByb3RhdGlvbldvcmxkKHIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfcm90YXRpb25fd29ybGQodGhpcy5vYmplY3RJZCwgclswXSwgclsxXSwgclsyXSwgclszXSk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRGb3J3YXJkV29ybGR9IGluc3RlYWQuICovXG4gICAgZ2V0Rm9yd2FyZChvdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9yd2FyZFdvcmxkKG91dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIG9iamVjdCdzIGZvcndhcmQgZmFjaW5nIHdvcmxkIHNwYWNlIHZlY3Rvci5cbiAgICAgKlxuICAgICAqIFRoZSBmb3J3YXJkIHZlY3RvciBpbiBvYmplY3Qgc3BhY2UgaXMgYWxvbmcgdGhlIG5lZ2F0aXZlIHotYXhpcywgaS5lLixcbiAgICAgKiBgWzAsIDAsIC0xXWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IERlc3RpbmF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBnZXRGb3J3YXJkV29ybGQob3V0KSB7XG4gICAgICAgIG91dFswXSA9IDA7XG4gICAgICAgIG91dFsxXSA9IDA7XG4gICAgICAgIG91dFsyXSA9IC0xO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybVZlY3RvcldvcmxkKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRVcFdvcmxkfSBpbnN0ZWFkLiAqL1xuICAgIGdldFVwKG91dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRVcFdvcmxkKG91dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIG9iamVjdCdzIHVwIGZhY2luZyB3b3JsZCBzcGFjZSB2ZWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IERlc3RpbmF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBnZXRVcFdvcmxkKG91dCkge1xuICAgICAgICBvdXRbMF0gPSAwO1xuICAgICAgICBvdXRbMV0gPSAxO1xuICAgICAgICBvdXRbMl0gPSAwO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybVZlY3RvcldvcmxkKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRSaWdodFdvcmxkfSBpbnN0ZWFkLiAqL1xuICAgIGdldFJpZ2h0KG91dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSaWdodFdvcmxkKG91dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIG9iamVjdCdzIHJpZ2h0IGZhY2luZyB3b3JsZCBzcGFjZSB2ZWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IERlc3RpbmF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBnZXRSaWdodFdvcmxkKG91dCkge1xuICAgICAgICBvdXRbMF0gPSAxO1xuICAgICAgICBvdXRbMV0gPSAwO1xuICAgICAgICBvdXRbMl0gPSAwO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybVZlY3RvcldvcmxkKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIHdvcmxkIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHZlY3RvclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGBcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm1WZWN0b3JXb3JsZChvdXQsIHYgPSBvdXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSB2WzBdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSB2WzFdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSB2WzJdO1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtVmVjdG9yV29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIGxvY2FsIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHZlY3RvclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGBcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm1WZWN0b3JMb2NhbChvdXQsIHYgPSBvdXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSB2WzBdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSB2WzFdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSB2WzJdO1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtVmVjdG9yTG9jYWwodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHBvaW50IGJ5IHRoaXMgb2JqZWN0J3Mgd29ybGQgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgcG9pbnQuXG4gICAgICogQHBhcmFtIHAgUG9pbnQgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRyYW5zZm9ybVBvaW50V29ybGQob3V0LCBwID0gb3V0KSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gcFswXTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gcFsxXTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gcFsyXTtcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVBvaW50V29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHBvaW50IGJ5IHRoaXMgb2JqZWN0J3MgbG9jYWwgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgcG9pbnQuXG4gICAgICogQHBhcmFtIHAgUG9pbnQgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRyYW5zZm9ybVBvaW50TG9jYWwob3V0LCBwID0gb3V0KSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gcFswXTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gcFsxXTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gcFsyXTtcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVBvaW50TG9jYWwodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIGludmVyc2Ugd29ybGQgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgdmVjdG9yLlxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGAuXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC43XG4gICAgICovXG4gICAgdHJhbnNmb3JtVmVjdG9ySW52ZXJzZVdvcmxkKG91dCwgdiA9IG91dCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHZbMF07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHZbMV07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHZbMl07XG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1WZWN0b3JJbnZlcnNlV29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIGludmVyc2UgbG9jYWwgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgdmVjdG9yXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YFxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRyYW5zZm9ybVZlY3RvckludmVyc2VMb2NhbChvdXQsIHYgPSBvdXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSB2WzBdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSB2WzFdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSB2WzJdO1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtVmVjdG9ySW52ZXJzZUxvY2FsKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm0gYSBwb2ludCBieSB0aGlzIG9iamVjdCdzIGludmVyc2Ugd29ybGQgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgcG9pbnQuXG4gICAgICogQHBhcmFtIHAgUG9pbnQgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKG91dCwgcCA9IG91dCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHBbMF07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHBbMV07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHBbMl07XG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGEgcG9pbnQgYnkgdGhpcyBvYmplY3QncyBpbnZlcnNlIGxvY2FsIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHBvaW50LlxuICAgICAqIEBwYXJhbSBwIFBvaW50IHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YC5cbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm1Qb2ludEludmVyc2VMb2NhbChvdXQsIHAgPSBvdXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc2V0KHApO1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtUG9pbnRJbnZlcnNlTG9jYWwodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhbiBvYmplY3Qgc3BhY2UgZHVhbCBxdWF0ZXJuaW9uIGludG8gd29ybGQgc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKiBAcGFyYW0gcSBMb2NhbCBzcGFjZSB0cmFuc2Zvcm1hdGlvbiwgZGVmYXVsdCBgb3V0YC5cbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKi9cbiAgICB0b1dvcmxkU3BhY2VUcmFuc2Zvcm0ob3V0LCBxID0gb3V0KSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnNldChxKTtcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RvV29ybGRTcGFjZVRyYW5zZm9ybSh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgb3V0WzNdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzNdO1xuICAgICAgICBvdXRbNF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNF07XG4gICAgICAgIG91dFs1XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs1XTtcbiAgICAgICAgb3V0WzZdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzZdO1xuICAgICAgICBvdXRbN10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbN107XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHdvcmxkIHNwYWNlIGR1YWwgcXVhdGVybmlvbiBpbnRvIGxvY2FsIHNwYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgdHJhbnNmb3JtYXRpb25cbiAgICAgKiBAcGFyYW0gcSBXb3JsZCBzcGFjZSB0cmFuc2Zvcm1hdGlvbiwgZGVmYXVsdCBgb3V0YFxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRvTG9jYWxTcGFjZVRyYW5zZm9ybShvdXQsIHEgPSBvdXQpIHtcbiAgICAgICAgY29uc3QgcCA9IHRoaXMucGFyZW50O1xuICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgcC50b09iamVjdFNwYWNlVHJhbnNmb3JtKG91dCwgcSk7XG4gICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXQgIT09IHEpIHtcbiAgICAgICAgICAgIG91dFswXSA9IHFbMF07XG4gICAgICAgICAgICBvdXRbMV0gPSBxWzFdO1xuICAgICAgICAgICAgb3V0WzJdID0gcVsyXTtcbiAgICAgICAgICAgIG91dFszXSA9IHFbM107XG4gICAgICAgICAgICBvdXRbNF0gPSBxWzRdO1xuICAgICAgICAgICAgb3V0WzVdID0gcVs1XTtcbiAgICAgICAgICAgIG91dFs2XSA9IHFbNl07XG4gICAgICAgICAgICBvdXRbN10gPSBxWzddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHdvcmxkIHNwYWNlIGR1YWwgcXVhdGVybmlvbiBpbnRvIG9iamVjdCBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHRyYW5zZm9ybWF0aW9uLlxuICAgICAqIEBwYXJhbSBxIFdvcmxkIHNwYWNlIHRyYW5zZm9ybWF0aW9uLCBkZWZhdWx0IGBvdXRgXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC43XG4gICAgICovXG4gICAgdG9PYmplY3RTcGFjZVRyYW5zZm9ybShvdXQsIHEgPSBvdXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc2V0KHEpO1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfdG9PYmplY3RTcGFjZVRyYW5zZm9ybSh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgb3V0WzNdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzNdO1xuICAgICAgICBvdXRbNF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNF07XG4gICAgICAgIG91dFs1XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs1XTtcbiAgICAgICAgb3V0WzZdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzZdO1xuICAgICAgICBvdXRbN10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbN107XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR1cm4gdG93YXJkcyAvIGxvb2sgYXQgdGFyZ2V0LlxuICAgICAqXG4gICAgICogUm90YXRlcyB0aGUgb2JqZWN0IHNvIHRoYXQgaXRzIGZvcndhcmQgdmVjdG9yIGZhY2VzIHRvd2FyZHMgdGhlIHRhcmdldFxuICAgICAqIHBvc2l0aW9uLiBUaGUgYHVwYCB2ZWN0b3IgYWN0cyBhcyBhIGhpbnQgdG8gdW5pcXVlbHkgb3JpZW50IHRoZSBvYmplY3Qnc1xuICAgICAqIHVwIGRpcmVjdGlvbi4gV2hlbiBvcmllbnRpbmcgYSB2aWV3IGNvbXBvbmVudCwgdGhlIHByb2plY3RlZCBgdXBgIHZlY3RvclxuICAgICAqIGZhY2VzIHVwd2FyZHMgb24gdGhlIHZpZXdpbmcgcGxhbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcCBUYXJnZXQgcG9zaXRpb24gdG8gdHVybiB0b3dhcmRzLCBpbiB3b3JsZCBzcGFjZS5cbiAgICAgKiBAcGFyYW0gdXAgVXAgdmVjdG9yIHRvIGFsaWduIG9iamVjdCB3aXRoLCBpbiB3b3JsZCBzcGFjZS4gRGVmYXVsdCBpcyBgWzAsIDEsIDBdYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBsb29rQXQocCwgdXAgPSBVUF9WRUNUT1IpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9sb29rQXQodGhpcy5vYmplY3RJZCwgcFswXSwgcFsxXSwgcFsyXSwgdXBbMF0sIHVwWzFdLCB1cFsyXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogRGVzdHJveSB0aGUgb2JqZWN0IHdpdGggYWxsIG9mIGl0cyBjb21wb25lbnRzIGFuZCByZW1vdmUgaXQgZnJvbSB0aGUgc2NlbmUgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fb2JqZWN0SWQgPCAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmVuZ2luZS53YXNtLl93bF9zY2VuZV9yZW1vdmVfb2JqZWN0KHRoaXMuX29iamVjdElkKTtcbiAgICAgICAgdGhpcy5lbmdpbmUuX2Rlc3Ryb3lPYmplY3QodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hcmsgdHJhbnNmb3JtYXRpb24gZGlydHkuXG4gICAgICpcbiAgICAgKiBDYXVzZXMgYW4gZXZlbnR1YWwgcmVjYWxjdWxhdGlvbiBvZiB7QGxpbmsgdHJhbnNmb3JtV29ybGR9LCBlaXRoZXJcbiAgICAgKiBvbiBuZXh0IHtAbGluayBnZXRUcmFuc2xhdGlvbldvcmxkfSwge0BsaW5rIHRyYW5zZm9ybVdvcmxkfSBvclxuICAgICAqIHtAbGluayBzY2FsaW5nV29ybGR9IG9yIHRoZSBiZWdpbm5pbmcgb2YgbmV4dCBmcmFtZSwgd2hpY2hldmVyXG4gICAgICogaGFwcGVucyBmaXJzdC5cbiAgICAgKi9cbiAgICBzZXREaXJ0eSgpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfZGlydHkodGhpcy5vYmplY3RJZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2FibGUvZW5hYmxlIGFsbCBjb21wb25lbnRzIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGIgTmV3IHN0YXRlIGZvciB0aGUgY29tcG9uZW50cy5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguNVxuICAgICAqL1xuICAgIHNldCBhY3RpdmUoYikge1xuICAgICAgICBjb25zdCBjb21wcyA9IHRoaXMuZ2V0Q29tcG9uZW50cygpO1xuICAgICAgICBmb3IgKGxldCBjIG9mIGNvbXBzKSB7XG4gICAgICAgICAgICBjLmFjdGl2ZSA9IGI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q29tcG9uZW50KHR5cGVPckNsYXNzLCBpbmRleCA9IDApIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGlzU3RyaW5nKHR5cGVPckNsYXNzKSA/IHR5cGVPckNsYXNzIDogdHlwZU9yQ2xhc3MuVHlwZU5hbWU7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50VHlwZSA9IHdhc20uX3dsX2dldF9jb21wb25lbnRfbWFuYWdlcl9pbmRleCh3YXNtLnRlbXBVVEY4KHR5cGUpKTtcbiAgICAgICAgaWYgKGNvbXBvbmVudFR5cGUgPCAwKSB7XG4gICAgICAgICAgICAvKiBOb3QgYSBuYXRpdmUgY29tcG9uZW50LCB0cnkganM6ICovXG4gICAgICAgICAgICBjb25zdCB0eXBlSW5kZXggPSB3YXNtLl9jb21wb25lbnRUeXBlSW5kaWNlc1t0eXBlXTtcbiAgICAgICAgICAgIGlmICh0eXBlSW5kZXggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGpzSW5kZXggPSB3YXNtLl93bF9nZXRfanNfY29tcG9uZW50X2luZGV4KHRoaXMub2JqZWN0SWQsIHR5cGVJbmRleCwgaW5kZXgpO1xuICAgICAgICAgICAgaWYgKGpzSW5kZXggPCAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5fZW5naW5lLndhc20uX2NvbXBvbmVudHNbanNJbmRleF07XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LmNvbnN0cnVjdG9yICE9PSBCcm9rZW5Db21wb25lbnQgPyBjb21wb25lbnQgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX2dldF9jb21wb25lbnRfaWQodGhpcy5vYmplY3RJZCwgY29tcG9uZW50VHlwZSwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLl93cmFwQ29tcG9uZW50KHR5cGUsIGNvbXBvbmVudFR5cGUsIGNvbXBvbmVudElkKTtcbiAgICB9XG4gICAgZ2V0Q29tcG9uZW50cyh0eXBlT3JDbGFzcykge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGxldCBjb21wb25lbnRUeXBlID0gbnVsbDtcbiAgICAgICAgbGV0IHR5cGUgPSBudWxsO1xuICAgICAgICBpZiAodHlwZU9yQ2xhc3MpIHtcbiAgICAgICAgICAgIHR5cGUgPSBpc1N0cmluZyh0eXBlT3JDbGFzcykgPyB0eXBlT3JDbGFzcyA6IHR5cGVPckNsYXNzLlR5cGVOYW1lO1xuICAgICAgICAgICAgY29tcG9uZW50VHlwZSA9IHdhc20uX3R5cGVJbmRleEZvcih0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gW107XG4gICAgICAgIGNvbnN0IG1heENvbXBzID0gTWF0aC5mbG9vcigod2FzbS5fdGVtcE1lbVNpemUgLyAzKSAqIDIpO1xuICAgICAgICBjb25zdCBjb21wb25lbnRzQ291bnQgPSB3YXNtLl93bF9vYmplY3RfZ2V0X2NvbXBvbmVudHModGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSwgbWF4Q29tcHMpO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSAyICogY29tcG9uZW50c0NvdW50O1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfZ2V0X2NvbXBvbmVudF90eXBlcyh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtICsgb2Zmc2V0LCBtYXhDb21wcyk7XG4gICAgICAgIGNvbnN0IGpzTWFuYWdlckluZGV4ID0gd2FzbS5fanNNYW5hZ2VySW5kZXg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50c0NvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB3YXNtLl90ZW1wTWVtVWludDhbaSArIG9mZnNldF07XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IHdhc20uX3RlbXBNZW1VaW50MTZbaV07XG4gICAgICAgICAgICAvKiBIYW5kbGUgSlMgdHlwZXMgc2VwYXJhdGVseSAqL1xuICAgICAgICAgICAgaWYgKHQgPT0ganNNYW5hZ2VySW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlSW5kZXggPSB3YXNtLl93bF9nZXRfanNfY29tcG9uZW50X2luZGV4X2Zvcl9pZChjb21wb25lbnRJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcCA9IHdhc20uX2NvbXBvbmVudHNbdHlwZUluZGV4XTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gY29tcG9uZW50VHlwZSA9PT0gbnVsbCB8fCBjb21wLnR5cGUgPT0gdHlwZTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcC5jb25zdHJ1Y3RvciAhPT0gQnJva2VuQ29tcG9uZW50ICYmIG1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKGNvbXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wb25lbnRUeXBlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFuYWdlck5hbWUgPSB3YXNtLl90eXBlTmFtZUZvcih0KTtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzLnB1c2godGhpcy5fZW5naW5lLl93cmFwQ29tcG9uZW50KG1hbmFnZXJOYW1lLCB0LCBjb21wb25lbnRJZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodCA9PSBjb21wb25lbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgLyogT3B0aW1pemVkIG1hbmFnZXIgbmFtZSByZXRyaWV2YWwsIGFscmVhZHkgaGF2ZSB0eXBlICovXG4gICAgICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKHRoaXMuX2VuZ2luZS5fd3JhcENvbXBvbmVudCh0eXBlLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wb25lbnRzO1xuICAgIH1cbiAgICBhZGRDb21wb25lbnQodHlwZU9yQ2xhc3MsIHBhcmFtcykge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHR5cGUgPSBpc1N0cmluZyh0eXBlT3JDbGFzcykgPyB0eXBlT3JDbGFzcyA6IHR5cGVPckNsYXNzLlR5cGVOYW1lO1xuICAgICAgICBjb25zdCBjb21wb25lbnRUeXBlID0gd2FzbS5fdHlwZUluZGV4Rm9yKHR5cGUpO1xuICAgICAgICBsZXQgY29tcG9uZW50ID0gbnVsbDtcbiAgICAgICAgbGV0IGNvbXBvbmVudEluZGV4ID0gbnVsbDtcbiAgICAgICAgaWYgKGNvbXBvbmVudFR5cGUgPCAwKSB7XG4gICAgICAgICAgICAvKiBKYXZhU2NyaXB0IGNvbXBvbmVudCAqL1xuICAgICAgICAgICAgaWYgKCEodHlwZSBpbiB3YXNtLl9jb21wb25lbnRUeXBlSW5kaWNlcykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBjb21wb25lbnQgdHlwZSAnXCIgKyB0eXBlICsgXCInXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB3YXNtLl93bF9vYmplY3RfYWRkX2pzX2NvbXBvbmVudCh0aGlzLm9iamVjdElkLCB3YXNtLl9jb21wb25lbnRUeXBlSW5kaWNlc1t0eXBlXSk7XG4gICAgICAgICAgICBjb21wb25lbnRJbmRleCA9IHdhc20uX3dsX2dldF9qc19jb21wb25lbnRfaW5kZXhfZm9yX2lkKGNvbXBvbmVudElkKTtcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IHdhc20uX2NvbXBvbmVudHNbY29tcG9uZW50SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyogbmF0aXZlIGNvbXBvbmVudCAqL1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB3YXNtLl93bF9vYmplY3RfYWRkX2NvbXBvbmVudCh0aGlzLm9iamVjdElkLCBjb21wb25lbnRUeXBlKTtcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IHRoaXMuX2VuZ2luZS5fd3JhcENvbXBvbmVudCh0eXBlLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgY29tcG9uZW50LmNvcHkocGFyYW1zKTtcbiAgICAgICAgLyogRXhwbGljaXRseSBpbml0aWFsaXplIG5hdGl2ZSBjb21wb25lbnRzICovXG4gICAgICAgIGlmIChjb21wb25lbnRUeXBlIDwgMCkge1xuICAgICAgICAgICAgLyogQHRvZG86IGBjb21wb25lbnRJbmRleGAgY2FuIGJlIG51bGwgaGVyZSwgdGhhdCdzIGFuIGVycm9yICovXG4gICAgICAgICAgICB3YXNtLl93bGpzX2NvbXBvbmVudF9pbml0KGNvbXBvbmVudEluZGV4KTtcbiAgICAgICAgICAgIC8qIHN0YXJ0KCkgaXMgY2FsbGVkIHRocm91Z2ggb25BY3RpdmF0ZSgpICovXG4gICAgICAgIH1cbiAgICAgICAgLyogSWYgaXQgd2FzIG5vdCBleHBsaWNpdGx5IHJlcXVlc3RlZCBieSB0aGUgdXNlciB0byBsZWF2ZSB0aGUgY29tcG9uZW50IGluYWN0aXZlLFxuICAgICAgICAgKiB3ZSBhY3RpdmF0ZSBpdCBhcyBhIGZpbmFsIHN0ZXAuIFRoaXMgaW52YWxpZGF0ZXMgY29tcG9uZW50SW5kZXghICovXG4gICAgICAgIGlmICghcGFyYW1zIHx8ICEoJ2FjdGl2ZScgaW4gcGFyYW1zICYmICFwYXJhbXMuYWN0aXZlKSkge1xuICAgICAgICAgICAgY29tcG9uZW50LmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VhcmNoIGZvciBkZXNjZW5kYW50cyBtYXRjaGluZyB0aGUgbmFtZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGEgd3JhcHBlciBhcm91bmQge0BsaW5rIE9iamVjdDNELmZpbmRCeU5hbWVEaXJlY3R9IGFuZFxuICAgICAqIHtAbGluayBPYmplY3QzRC5maW5kQnlOYW1lUmVjdXJzaXZlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHJlY3Vyc2l2ZSBJZiBgdHJ1ZWAsIHRoZSBtZXRob2Qgd2lsbCBsb29rIGF0IGFsbCB0aGUgZGVzY2VuZGFudHMgb2YgdGhpcyBvYmplY3QuXG4gICAgICogICAgIElmIGBmYWxzZWAsIHRoaXMgbWV0aG9kIHdpbGwgb25seSBwZXJmb3JtIHRoZSBzZWFyY2ggaW4gZGlyZWN0IGNoaWxkcmVuLlxuICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHtAbGluayBPYmplY3QzRH0gbWF0Y2hpbmcgdGhlIG5hbWUuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKi9cbiAgICBmaW5kQnlOYW1lKG5hbWUsIHJlY3Vyc2l2ZSA9IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiByZWN1cnNpdmUgPyB0aGlzLmZpbmRCeU5hbWVSZWN1cnNpdmUobmFtZSkgOiB0aGlzLmZpbmRCeU5hbWVEaXJlY3QobmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlYXJjaCBmb3IgYWxsICoqZGlyZWN0KiogY2hpbGRyZW4gbWF0Y2hpbmcgdGhlIG5hbWUuXG4gICAgICpcbiAgICAgKiBAbm90ZSBFdmVuIHRob3VnaCB0aGlzIG1ldGhvZCBpcyBoZWF2aWx5IG9wdGltaXplZCwgaXQgZG9lcyBwZXJmb3JtXG4gICAgICogYSBsaW5lYXIgc2VhcmNoIHRvIGZpbmQgdGhlIG9iamVjdHMuIERvIG5vdCB1c2UgaW4gYSBob3QgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2Yge0BsaW5rIE9iamVjdDNEfSBtYXRjaGluZyB0aGUgbmFtZS5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqL1xuICAgIGZpbmRCeU5hbWVEaXJlY3QobmFtZSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fb2JqZWN0SWQ7XG4gICAgICAgIC8qIERpdmlkZSBieSA0IHRvIGdldCBoYWxmIGFzIG1hbnkgdXNob3J0IGFzIHBvc3NpYmxlICovXG4gICAgICAgIGNvbnN0IHRlbXBTaXplVTE2ID0gd2FzbS5fdGVtcE1lbVNpemUgPj4gMjtcbiAgICAgICAgY29uc3QgbWF4Q291bnQgPSB0ZW1wU2l6ZVUxNiAtIDI7IC8qIFJlc2VydmUgdHdvIHVzaG9ydCAqL1xuICAgICAgICBjb25zdCBidWZmZXIgPSB3YXNtLl90ZW1wTWVtVWludDE2O1xuICAgICAgICBidWZmZXJbbWF4Q291bnRdID0gMDsgLyogSW5kZXggb2Zmc2V0ICovXG4gICAgICAgIGJ1ZmZlclttYXhDb3VudCArIDFdID0gMDsgLyogY2hpbGQgY291bnQgKi9cbiAgICAgICAgY29uc3QgYnVmZmVyUHRyID0gd2FzbS5fdGVtcE1lbTtcbiAgICAgICAgY29uc3QgaW5kZXhQdHIgPSBidWZmZXJQdHIgKyBtYXhDb3VudCAqIDI7XG4gICAgICAgIGNvbnN0IGNoaWxkQ291bnRQdHIgPSBidWZmZXJQdHIgKyBtYXhDb3VudCAqIDIgKyAyO1xuICAgICAgICBjb25zdCBuYW1lUHRyID0gd2FzbS50ZW1wVVRGOChuYW1lLCAobWF4Q291bnQgKyAyKSAqIDIpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IHJlYWQgPSAwO1xuICAgICAgICB3aGlsZSAoKHJlYWQgPSB3YXNtLl93bF9vYmplY3RfZmluZEJ5TmFtZShpZCwgbmFtZVB0ciwgaW5kZXhQdHIsIGNoaWxkQ291bnRQdHIsIGJ1ZmZlclB0ciwgbWF4Q291bnQpKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWFkOyArK2kpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5lbmdpbmUud3JhcE9iamVjdChidWZmZXJbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWFyY2ggZm9yICoqYWxsIGRlc2NlbmRhbnRzKiogbWF0Y2hpbmcgdGhlIG5hbWUuXG4gICAgICpcbiAgICAgKiBAbm90ZSBFdmVuIHRob3VnaCB0aGlzIG1ldGhvZCBpcyBoZWF2aWx5IG9wdGltaXplZCwgaXQgZG9lcyBwZXJmb3JtXG4gICAgICogYSBsaW5lYXIgc2VhcmNoIHRvIGZpbmQgdGhlIG9iamVjdHMuIERvIG5vdCB1c2UgaW4gYSBob3QgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2Yge0BsaW5rIE9iamVjdDNEfSBtYXRjaGluZyB0aGUgbmFtZS5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqL1xuICAgIGZpbmRCeU5hbWVSZWN1cnNpdmUobmFtZSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fb2JqZWN0SWQ7XG4gICAgICAgIC8qIERpdmlkZSBieSA0IHRvIGdldCBoYWxmIGFzIG1hbnkgdXNob3J0IGFzIHBvc3NpYmxlICovXG4gICAgICAgIGNvbnN0IHRlbXBTaXplVTE2ID0gd2FzbS5fdGVtcE1lbVNpemUgPj4gMjtcbiAgICAgICAgY29uc3QgbWF4Q291bnQgPSB0ZW1wU2l6ZVUxNiAtIDE7IC8qIFJlc2VydmUgb25lIHVzaG9ydCAqL1xuICAgICAgICBjb25zdCBidWZmZXIgPSB3YXNtLl90ZW1wTWVtVWludDE2O1xuICAgICAgICBidWZmZXJbbWF4Q291bnRdID0gMDsgLyogSW5kZXggb2Zmc2V0ICovXG4gICAgICAgIGNvbnN0IGJ1ZmZlclB0ciA9IHdhc20uX3RlbXBNZW07XG4gICAgICAgIGNvbnN0IGluZGV4UHRyID0gYnVmZmVyUHRyICsgbWF4Q291bnQgKiAyO1xuICAgICAgICBjb25zdCBuYW1lUHRyID0gd2FzbS50ZW1wVVRGOChuYW1lLCAobWF4Q291bnQgKyAxKSAqIDIpO1xuICAgICAgICBsZXQgcmVhZCA9IDA7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICB3aGlsZSAoKHJlYWQgPSB3YXNtLl93bF9vYmplY3RfZmluZEJ5TmFtZVJlY3Vyc2l2ZShpZCwgbmFtZVB0ciwgaW5kZXhQdHIsIGJ1ZmZlclB0ciwgbWF4Q291bnQpKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWFkOyArK2kpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5lbmdpbmUud3JhcE9iamVjdChidWZmZXJbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGdpdmVuIG9iamVjdCdzIHRyYW5zZm9ybWF0aW9uIGhhcyBjaGFuZ2VkLlxuICAgICAqL1xuICAgIGdldCBjaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X2lzX2NoYW5nZWQodGhpcy5vYmplY3RJZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiB0aGUgb2JqZWN0IGlzIGRlc3Ryb3llZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKiBJZiB7QGxpbmsgV29uZGVybGFuZEVuZ2luZS5lcmFzZVByb3RvdHlwZU9uRGVzdHJveX0gaXMgYHRydWVgLFxuICAgICAqIHJlYWRpbmcgYSBjdXN0b20gcHJvcGVydHkgd2lsbCBub3Qgd29yazpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogZW5naW5lLmVyYXNlUHJvdG90eXBlT25EZXN0cm95ID0gdHJ1ZTtcbiAgICAgKlxuICAgICAqIGNvbnN0IG9iaiA9IHNjZW5lLmFkZE9iamVjdCgpO1xuICAgICAqIG9iai5jdXN0b21QYXJhbSA9ICdIZWxsbyBXb3JsZCEnO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqLmlzRGVzdHJveWVkKTsgLy8gUHJpbnRzIGBmYWxzZWBcbiAgICAgKiBvYmouZGVzdHJveSgpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iai5pc0Rlc3Ryb3llZCk7IC8vIFByaW50cyBgdHJ1ZWBcbiAgICAgKiBjb25zb2xlLmxvZyhvYmouY3VzdG9tUGFyYW0pOyAvLyBUaHJvd3MgYW4gZXJyb3JcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBzaW5jZSAxLjEuMVxuICAgICAqL1xuICAgIGdldCBpc0Rlc3Ryb3llZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29iamVjdElkIDwgMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBvYmplY3QgaWRzIGFyZVxuICAgICAqIGVxdWFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIG90aGVyT2JqZWN0IE9iamVjdCB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBvYmplY3QgZXF1YWxzIHRoZSBnaXZlbiBvYmplY3QuXG4gICAgICovXG4gICAgZXF1YWxzKG90aGVyT2JqZWN0KSB7XG4gICAgICAgIGlmICghb3RoZXJPYmplY3QpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLm9iamVjdElkID09IG90aGVyT2JqZWN0Lm9iamVjdElkO1xuICAgIH1cbn1cbi8qKlxuICogV3JhcHBlciBhcm91bmQgYSBuYXRpdmUgc2tpbiBkYXRhLlxuICovXG5leHBvcnQgY2xhc3MgU2tpbiB7XG4gICAgLyoqXG4gICAgICogSW5kZXggb2YgdGhlIHNraW4gaW4gdGhlIG1hbmFnZXIuXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF9pbmRleDtcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cbiAgICBfZW5naW5lO1xuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgaW5kZXgpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xuICAgICAgICB0aGlzLl9pbmRleCA9IGluZGV4O1xuICAgIH1cbiAgICAvKiogQW1vdW50IG9mIGpvaW50cyBpbiB0aGlzIHNraW4uICovXG4gICAgZ2V0IGpvaW50Q291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfc2tpbl9nZXRfam9pbnRfY291bnQodGhpcy5faW5kZXgpO1xuICAgIH1cbiAgICAvKiogSm9pbnRzIG9iamVjdCBpZHMgZm9yIHRoaXMgc2tpbiAqL1xuICAgIGdldCBqb2ludElkcygpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQxNkFycmF5KHdhc20uSEVBUFUxNi5idWZmZXIsIHdhc20uX3dsX3NraW5fam9pbnRfaWRzKHRoaXMuX2luZGV4KSwgdGhpcy5qb2ludENvdW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRHVhbCBxdWF0ZXJuaW9ucyBpbiBhIGZsYXQgYXJyYXkgb2Ygc2l6ZSA4IHRpbWVzIHtAbGluayBqb2ludENvdW50fS5cbiAgICAgKlxuICAgICAqIEludmVyc2UgYmluZCB0cmFuc2Zvcm1zIG9mIHRoZSBza2luLlxuICAgICAqL1xuICAgIGdldCBpbnZlcnNlQmluZFRyYW5zZm9ybXMoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfc2tpbl9pbnZlcnNlX2JpbmRfdHJhbnNmb3Jtcyh0aGlzLl9pbmRleCksIDggKiB0aGlzLmpvaW50Q291bnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBWZWN0b3JzIGluIGEgZmxhdCBhcnJheSBvZiBzaXplIDMgdGltZXMge0BsaW5rIGpvaW50Q291bnR9LlxuICAgICAqXG4gICAgICogSW52ZXJzZSBiaW5kIHNjYWxpbmdzIG9mIHRoZSBza2luLlxuICAgICAqL1xuICAgIGdldCBpbnZlcnNlQmluZFNjYWxpbmdzKCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX3NraW5faW52ZXJzZV9iaW5kX3NjYWxpbmdzKHRoaXMuX2luZGV4KSwgMyAqIHRoaXMuam9pbnRDb3VudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjb21wYXJpbmcgd2hldGhlciB0aGUgd3JhcHBlZCBuYXRpdmUgc2tpbiBpZHMgYXJlXG4gICAgICogZXF1YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXJTa2luIFNraW4gdG8gY2hlY2sgZXF1YWxpdHkgd2l0aC5cbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgc2tpbiBlcXVhbHMgdGhlIGdpdmVuIHNraW4uXG4gICAgICpcbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBlcXVhbHMob3RoZXJTa2luKSB7XG4gICAgICAgIGlmICghb3RoZXJTa2luKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXggPT09IG90aGVyU2tpbi5faW5kZXg7XG4gICAgfVxufVxuLyogRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCA8IDEuMC4wLiAqL1xuZXhwb3J0IHsgT2JqZWN0M0QgYXMgT2JqZWN0IH07XG4vKipcbiAqIFJheSBoaXQuXG4gKlxuICogUmVzdWx0IG9mIGEge0BsaW5rIFNjZW5lLnJheUNhc3R9LlxuICpcbiAqIEBub3RlIHRoaXMgY2xhc3Mgd3JhcHMgaW50ZXJuYWwgZW5naW5lIGRhdGEgYW5kIHNob3VsZCBvbmx5IGJlIGNyZWF0ZWQgaW50ZXJuYWxseS5cbiAqL1xuZXhwb3J0IGNsYXNzIFJheUhpdCB7XG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXG4gICAgX2VuZ2luZTtcbiAgICAvKiogUG9pbnRlciB0byB0aGUgbWVtb3J5IGhlYXAuICovXG4gICAgX3B0cjtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcHRyIFBvaW50ZXIgdG8gdGhlIHJheSBoaXRzIG1lbW9yeS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIHB0cikge1xuICAgICAgICBpZiAoKHB0ciAmIDMpICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc2FsaWduZWQgcG9pbnRlcjogcGxlYXNlIHJlcG9ydCBhIGJ1ZycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgdGhpcy5fcHRyID0gcHRyO1xuICAgIH1cbiAgICAvKiogQXJyYXkgb2YgcmF5IGhpdCBsb2NhdGlvbnMuICovXG4gICAgZ2V0IGxvY2F0aW9ucygpIHtcbiAgICAgICAgbGV0IHAgPSB0aGlzLl9wdHI7XG4gICAgICAgIGxldCBsID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5oaXRDb3VudDsgKytpKSB7XG4gICAgICAgICAgICBsLnB1c2gobmV3IEZsb2F0MzJBcnJheSh0aGlzLl9lbmdpbmUud2FzbS5IRUFQRjMyLmJ1ZmZlciwgcCArIDEyICogaSwgMykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsO1xuICAgIH1cbiAgICAvKiogQXJyYXkgb2YgcmF5IGhpdCBub3JtYWxzIChvbmx5IHdoZW4gdXNpbmcge0BsaW5rIFBoeXNpY3MjcmF5Q2FzdH0uICovXG4gICAgZ2V0IG5vcm1hbHMoKSB7XG4gICAgICAgIGxldCBwID0gdGhpcy5fcHRyICsgNDg7XG4gICAgICAgIGxldCBsID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5oaXRDb3VudDsgKytpKSB7XG4gICAgICAgICAgICBsLnB1c2gobmV3IEZsb2F0MzJBcnJheSh0aGlzLl9lbmdpbmUud2FzbS5IRUFQRjMyLmJ1ZmZlciwgcCArIDEyICogaSwgMykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmVmZXIgdGhlc2UgdG8gcmVjYWxjdWxhdGluZyB0aGUgZGlzdGFuY2UgZnJvbSBsb2NhdGlvbnMuXG4gICAgICpcbiAgICAgKiBEaXN0YW5jZXMgb2YgYXJyYXkgaGl0cyB0byByYXkgb3JpZ2luLlxuICAgICAqL1xuICAgIGdldCBkaXN0YW5jZXMoKSB7XG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLl9wdHIgKyA0OCAqIDI7XG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2VuZ2luZS53YXNtLkhFQVBGMzIuYnVmZmVyLCBwLCB0aGlzLmhpdENvdW50KTtcbiAgICB9XG4gICAgLyoqIEhpdCBvYmplY3RzICovXG4gICAgZ2V0IG9iamVjdHMoKSB7XG4gICAgICAgIGNvbnN0IEhFQVBVMTYgPSB0aGlzLl9lbmdpbmUud2FzbS5IRUFQVTE2O1xuICAgICAgICBjb25zdCBvYmplY3RzID0gW251bGwsIG51bGwsIG51bGwsIG51bGxdO1xuICAgICAgICBsZXQgcCA9ICh0aGlzLl9wdHIgKyAoNDggKiAyICsgMTYpKSA+PiAxO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaGl0Q291bnQ7ICsraSkge1xuICAgICAgICAgICAgb2JqZWN0c1tpXSA9IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KEhFQVBVMTZbcCArIGldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0cztcbiAgICB9XG4gICAgLyoqIE51bWJlciBvZiBoaXRzIChtYXggNCkgKi9cbiAgICBnZXQgaGl0Q291bnQoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLl9lbmdpbmUud2FzbS5IRUFQVTMyW3RoaXMuX3B0ciAvIDQgKyAzMF0sIDQpO1xuICAgIH1cbn1cbmNsYXNzIG1hdGgge1xuICAgIC8qKiAoRXhwZXJpbWVudGFsISkgQ3ViaWMgSGVybWl0ZSBzcGxpbmUgaW50ZXJwb2xhdGlvbiBmb3IgdmVjdG9yMyBhbmQgcXVhdGVybmlvbnMuXG4gICAgICpcbiAgICAgKiBXaXRoIGBmID09IDBgLCBgb3V0YCB3aWxsIGJlIGBiYCwgaWYgYGYgPT0gMWAsIGBvdXRgIHdpbGwgYmUgYy5cbiAgICAgKlxuICAgICAqIFdoZXRoZXIgYSBxdWF0ZXJuaW9uIG9yIHZlY3RvcjMgaW50ZXJwb2xhdGlvbiBpcyBpbnRlbmRlZCBpcyBkZXRlcm1pbmVkIGJ5XG4gICAgICogbGVuZ3RoIG9mIGBhYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXQgQXJyYXkgdG8gd3JpdGUgcmVzdWx0IHRvLlxuICAgICAqIEBwYXJhbSBhIEZpcnN0IHRhbmdlbnQvaGFuZGxlLlxuICAgICAqIEBwYXJhbSBiIEZpcnN0IHBvaW50IG9yIHF1YXRlcm5pb24uXG4gICAgICogQHBhcmFtIGMgU2Vjb25kIHBvaW50IG9yIHF1YXRlcm5pb24uXG4gICAgICogQHBhcmFtIGQgU2Vjb25kIGhhbmRsZS5cbiAgICAgKiBAcGFyYW0gZiBJbnRlcnBvbGF0aW9uIGZhY3RvciBpbiBbMDsgMV0uXG4gICAgICogQHJldHVybnMgVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguNlxuICAgICAqL1xuICAgIHN0YXRpYyBjdWJpY0hlcm1pdGUob3V0LCBhLCBiLCBjLCBkLCBmLCBlbmdpbmUgPSBXTCkge1xuICAgICAgICBjb25zdCB3YXNtID0gZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zdWJhcnJheSgwKS5zZXQoYSk7XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zdWJhcnJheSg0KS5zZXQoYik7XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zdWJhcnJheSg4KS5zZXQoYyk7XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zdWJhcnJheSgxMikuc2V0KGQpO1xuICAgICAgICBjb25zdCBpc1F1YXQgPSBhLmxlbmd0aCA9PSA0O1xuICAgICAgICB3YXNtLl93bF9tYXRoX2N1YmljSGVybWl0ZSh3YXNtLl90ZW1wTWVtICsgNCAqIDE2LCB3YXNtLl90ZW1wTWVtICsgNCAqIDAsIHdhc20uX3RlbXBNZW0gKyA0ICogNCwgd2FzbS5fdGVtcE1lbSArIDQgKiA4LCB3YXNtLl90ZW1wTWVtICsgNCAqIDEyLCBmLCBpc1F1YXQpO1xuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMTZdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMTddO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMThdO1xuICAgICAgICBpZiAoaXNRdWF0KVxuICAgICAgICAgICAgb3V0WzNdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzE5XTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG59XG5leHBvcnQgeyBtYXRoIH07XG4vKipcbiAqIENsYXNzIGZvciBhY2Nlc3NpbmcgaW50ZXJuYXRpb25hbGl6YXRpb24gKGkxOG4pIGZlYXR1cmVzLlxuICpcbiAqIEFsbG93cyB7QGxpbmsgSTE4Ti5vbkxhbmd1YWdlQ2hhbmdlZCBcImRldGVjdGluZyBsYW5ndWFnZSBjaGFuZ2VcIn0sXG4gKiB7QGxpbmsgSTE4Ti5sYW5ndWFnZSBcInNldHRpbmcgdGhlIGN1cnJlbnQgbGFuZ3VhZ2VcIn0gb3IgdHJhbnNsYXRpbmdcbiAqIHtAbGluayBJMThOLnRyYW5zbGF0ZSBcImluZGl2aWR1YWwgdGVybXNcIn0uXG4gKlxuICogSW50ZXJuYXRpb25hbGl6YXRpb24gd29ya3Mgd2l0aCB0ZXJtcyxcbiAqIGEgc3RyaW5nIHR5cGUga2V5d29yZCB0aGF0IGlzIGxpbmtlZCB0byBhIGRpZmZlcmVudCB0ZXh0IGZvciBlYWNoIGxhbmd1YWdlLlxuICpcbiAqIEludGVybmFsbHksIHN0cmluZyBwYXJhbWV0ZXJzIGZvciB0ZXh0IGFuZCBqcyBjb21wb25lbnRzIGFyZVxuICogYXV0b21hdGljYWxseSBzd2FwcGVkIGR1cmluZyBsYW5ndWFnZSBjaGFuZ2UsIGdpdmVuIHRoZXkgYXJlIGxpbmtlZCB0byBhIHRlcm0uXG4gKiBJZiBtYW51YWwgdGV4dCBzd2FwcGluZyBpcyBkZXNpcmVkLCB7QGxpbmsgSTE4Ti50cmFuc2xhdGV9XG4gKiBjYW4gYmUgdXNlZCB0byByZXRyaWV2ZSB0aGUgY3VycmVudCB0cmFuc2xhdGlvbiBmb3IgYW55IHRlcm0uXG4gKlxuICogWW91IGNhbiBhbHNvIHVzZSB0aGUge0BsaW5rIEkxOE4ub25MYW5ndWFnZUNoYW5nZWR9IHRvIG1hbnVhbGx5IHVwZGF0ZSB0ZXh0XG4gKiB3aGVuIGEgbGFuZ3VhZ2UgaXMgY2hhbmdlZCB0byBmb3IgZXhhbXBsZSB1cGRhdGUgYSBudW1iZXIgaW4gYSBzdHJpbmcuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjbGFzcyBJMThOIHtcbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRW1pdHRlcn0gZm9yIGxhbmd1YWdlIGNoYW5nZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBGaXJzdCBwYXJhbWV0ZXIgdG8gYSBsaXN0ZW5lciBpcyB0aGUgb2xkIGxhbmd1YWdlIGluZGV4LFxuICAgICAqIHNlY29uZCBwYXJhbWV0ZXIgaXMgdGhlIG5ldyBsYW5ndWFnZSBpbmRleC5cbiAgICAgKlxuICAgICAqIFVzYWdlIGZyb20gYSB3aXRoaW4gYSBjb21wb25lbnQ6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIHRoaXMuZW5naW5lLmkxOG4ub25MYW5ndWFnZUNoYW5nZWQuYWRkKChvbGRMYW5ndWFnZUluZGV4LCBuZXdMYW5ndWFnZUluZGV4KSA9PiB7XG4gICAgICogICAgIGNvbnN0IG9sZExhbmd1YWdlID0gdGhpcy5lbmdpbmUuaTE4bi5sYW5ndWFnZU5hbWUob2xkTGFuZ3VhZ2VJbmRleCk7XG4gICAgICogICAgIGNvbnN0IG5ld0xhbmd1YWdlID0gdGhpcy5lbmdpbmUuaTE4bi5sYW5ndWFnZU5hbWUobmV3TGFuZ3VhZ2VJbmRleCk7XG4gICAgICogICAgIGNvbnNvbGUubG9nKFwiU3dpdGNoZWQgZnJvbVwiLCBvbGRMYW5ndWFnZSwgXCJ0b1wiLCBuZXdMYW5ndWFnZSk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgb25MYW5ndWFnZUNoYW5nZWQgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xuICAgIF9lbmdpbmU7XG4gICAgLyoqIFByZXZpb3VzbHkgc2V0IGxhbmd1YWdlIGluZGV4LiBAaGlkZGVuICovXG4gICAgX3ByZXZMYW5ndWFnZUluZGV4ID0gLTE7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY3VycmVudCBsYW5ndWFnZSBhbmQgYXBwbHkgdHJhbnNsYXRpb25zIHRvIGxpbmtlZCB0ZXh0IHBhcmFtZXRlcnMuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGlzIGVxdWl2YWxlbnQgdG8ge0BsaW5rIEkxOE4uc2V0TGFuZ3VhZ2V9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvZGUgTGFuZ3VhZ2UgY29kZSB0byBzd2l0Y2ggdG9cbiAgICAgKi9cbiAgICBzZXQgbGFuZ3VhZ2UoY29kZSkge1xuICAgICAgICB0aGlzLnNldExhbmd1YWdlKGNvZGUpO1xuICAgIH1cbiAgICAvKiogR2V0IGN1cnJlbnQgbGFuZ3VhZ2UgY29kZS4gKi9cbiAgICBnZXQgbGFuZ3VhZ2UoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgY29kZSA9IHdhc20uX3dsX2kxOG5fY3VycmVudExhbmd1YWdlKCk7XG4gICAgICAgIGlmIChjb2RlID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyhjb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IGxhbmd1YWdlIGluZGV4LlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbW9yZSBlZmZpY2llbnQgdGhhbiBpdHMgZXF1aXZhbGVudDpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogY29uc3QgaW5kZXggPSBpMThuLmxhbmd1YWdlSW5kZXgoaTE4bi5sYW5ndWFnZSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0IGN1cnJlbnRJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9pMThuX2N1cnJlbnRMYW5ndWFnZUluZGV4KCk7XG4gICAgfVxuICAgIC8qKiBQcmV2aW91cyBsYW5ndWFnZSBpbmRleC4gKi9cbiAgICBnZXQgcHJldmlvdXNJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXZMYW5ndWFnZUluZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY3VycmVudCBsYW5ndWFnZSBhbmQgYXBwbHkgdHJhbnNsYXRpb25zIHRvIGxpbmtlZCB0ZXh0IHBhcmFtZXRlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29kZSBUaGUgbGFuZ3VhZ2UgY29kZS5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjdXJyZW50IGluZGV4IGNvZGUgd2hlbiB0aGVcbiAgICAgKiAgICAgbGFuZ3VhZ2UgaXMgbG9hZGVkLlxuICAgICAqL1xuICAgIHNldExhbmd1YWdlKGNvZGUpIHtcbiAgICAgICAgaWYgKGNvZGUgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jdXJyZW50SW5kZXgpO1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHRoaXMuX3ByZXZMYW5ndWFnZUluZGV4ID0gdGhpcy5jdXJyZW50SW5kZXg7XG4gICAgICAgIHdhc20uX3dsX2kxOG5fc2V0TGFuZ3VhZ2Uod2FzbS50ZW1wVVRGOChjb2RlKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUuc2NlbmVcbiAgICAgICAgICAgIC5fZmx1c2hBcHBlbmQodGhpcy5fZW5naW5lLnNjZW5lLmJhc2VVUkwpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLmN1cnJlbnRJbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0cmFuc2xhdGVkIHN0cmluZyBmb3IgYSB0ZXJtIGZvciB0aGUgY3VycmVudGx5IGxvYWRlZCBsYW5ndWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0ZXJtIFRlcm0gdG8gdHJhbnNsYXRlXG4gICAgICovXG4gICAgdHJhbnNsYXRlKHRlcm0pIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHdhc20uX3dsX2kxOG5fdHJhbnNsYXRlKHdhc20udGVtcFVURjgodGVybSkpO1xuICAgICAgICBpZiAodHJhbnNsYXRpb24gPT09IDApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKHRyYW5zbGF0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBudW1iZXIgb2YgbGFuZ3VhZ2VzIGluIHRoZSBwcm9qZWN0LlxuICAgICAqXG4gICAgICovXG4gICAgbGFuZ3VhZ2VDb3VudCgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gd2FzbS5fd2xfaTE4bl9sYW5ndWFnZUNvdW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGxhbmd1YWdlIGNvZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGxhbmd1YWdlIHRvIGdldCB0aGUgY29kZSBmcm9tXG4gICAgICovXG4gICAgbGFuZ3VhZ2VJbmRleChjb2RlKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIHdhc20uX3dsX2kxOG5fbGFuZ3VhZ2VJbmRleCh3YXNtLnRlbXBVVEY4KGNvZGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgbGFuZ3VhZ2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgbGFuZ3VhZ2UgdG8gZ2V0IHRoZSBjb2RlIGZyb21cbiAgICAgKi9cbiAgICBsYW5ndWFnZUNvZGUoaW5kZXgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBjb2RlID0gd2FzbS5fd2xfaTE4bl9sYW5ndWFnZUNvZGUoaW5kZXgpO1xuICAgICAgICBpZiAoY29kZSA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcoY29kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGxhbmd1YWdlIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGxhbmd1YWdlIHRvIGdldCB0aGUgbmFtZSBmcm9tXG4gICAgICovXG4gICAgbGFuZ3VhZ2VOYW1lKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgbmFtZSA9IHdhc20uX3dsX2kxOG5fbGFuZ3VhZ2VOYW1lKGluZGV4KTtcbiAgICAgICAgaWYgKG5hbWUgPT09IDApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKG5hbWUpO1xuICAgIH1cbn1cbi8qKiBQcm9wZXJ0aWVzIG9mIGEgV2ViWFIgc2Vzc2lvbiAqL1xuZXhwb3J0IGNsYXNzIFhSIHtcbiAgICAvKiogV29uZGVybGFuZCBXQVNNIGJyaWRnZS4gQGhpZGRlbiAqL1xuICAgICN3YXNtO1xuICAgICNtb2RlO1xuICAgIGNvbnN0cnVjdG9yKHdhc20sIG1vZGUpIHtcbiAgICAgICAgdGhpcy4jd2FzbSA9IHdhc207XG4gICAgICAgIHRoaXMuI21vZGUgPSBtb2RlO1xuICAgIH1cbiAgICAvKiogQ3VycmVudCBXZWJYUiBzZXNzaW9uIG1vZGUgKi9cbiAgICBnZXQgc2Vzc2lvbk1vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNtb2RlO1xuICAgIH1cbiAgICAvKiogQ3VycmVudCBXZWJYUiBzZXNzaW9uICovXG4gICAgZ2V0IHNlc3Npb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX3Nlc3Npb247XG4gICAgfVxuICAgIC8qKiBDdXJyZW50IFdlYlhSIGZyYW1lICovXG4gICAgZ2V0IGZyYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9mcmFtZTtcbiAgICB9XG4gICAgcmVmZXJlbmNlU3BhY2VGb3JUeXBlKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VzW3R5cGVdID8/IG51bGw7XG4gICAgfVxuICAgIC8qKiBTZXQgY3VycmVudCByZWZlcmVuY2Ugc3BhY2UgdHlwZSB1c2VkIGZvciByZXRyaWV2aW5nIGV5ZSwgaGVhZCwgaGFuZCBhbmQgam9pbnQgcG9zZXMgKi9cbiAgICBzZXQgY3VycmVudFJlZmVyZW5jZVNwYWNlKHJlZlNwYWNlKSB7XG4gICAgICAgIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2UgPSByZWZTcGFjZTtcbiAgICAgICAgdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZVR5cGUgPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgT2JqZWN0LmtleXModGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZXMpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZXNbdHlwZV0gPT09IHJlZlNwYWNlKSB7XG4gICAgICAgICAgICAgICAgLyogS2VlcCB0cmFjayBvZiByZWZlcmVuY2Ugc3BhY2UgdHlwZSAqL1xuICAgICAgICAgICAgICAgIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VUeXBlID0gdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQ3VycmVudCByZWZlcmVuY2Ugc3BhY2UgdHlwZSB1c2VkIGZvciByZXRyaWV2aW5nIGV5ZSwgaGVhZCwgaGFuZCBhbmQgam9pbnQgcG9zZXMgKi9cbiAgICBnZXQgY3VycmVudFJlZmVyZW5jZVNwYWNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZTtcbiAgICB9XG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgcmVmZXJlbmNlIHNwYWNlIHR5cGUgb3IgYG51bGxgIGlmIG5vdCBhIGRlZmF1bHQgcmVmZXJlbmNlIHNwYWNlICovXG4gICAgZ2V0IGN1cnJlbnRSZWZlcmVuY2VTcGFjZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlVHlwZTtcbiAgICB9XG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgYmFzZSBsYXllciAgKi9cbiAgICBnZXQgYmFzZUxheWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9iYXNlTGF5ZXI7XG4gICAgfVxuICAgIC8qKiBDdXJyZW50IFdlYlhSIGZyYW1lYnVmZmVyICovXG4gICAgZ2V0IGZyYW1lYnVmZmVycygpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuI3dhc20ud2VieHJfZmJvKSkge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLiN3YXNtLkdMLmZyYW1lYnVmZmVyc1t0aGlzLiN3YXNtLndlYnhyX2Zib11dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX2Ziby5tYXAoKGlkKSA9PiB0aGlzLiN3YXNtLkdMLmZyYW1lYnVmZmVyc1tpZF0pO1xuICAgIH1cbn1cbiIsICIvKipcbiAqIEFzc2VydCB0aGF0IHRoZSBnaXZlbiBiaXQgaW5kZXggaXMgbGVzcyB0aGFuIDMyLlxuICpcbiAqIEBwYXJhbSBiaXQgVGhlIGJpdCB0byB0ZXN0LlxuICovXG5mdW5jdGlvbiBhc3NlcnQoYml0KSB7XG4gICAgaWYgKGJpdCA+PSAzMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEJpdFNldC5lbmFibGUoKTogVmFsdWUgJHtiaXR9IGlzIG92ZXIgMzFgKTtcbiAgICB9XG59XG4vKipcbiAqIFN0b3JlcyBhIGJpdCBwYXR0ZXJuIHRvIHF1aWNrbHkgdGVzdCBpZiBhbiBpbmRleCBpcyBlbmFibGVkIC8gZGlzYWJsZWQuXG4gKlxuICogVGhpcyBjbGFzcyBjYW4gc3RvcmUgdXAgdG8gKiozMioqIGRpZmZlcmVudCB2YWx1ZXMgaW4gdGhlIHJhbmdlIFswOyAzMV0uXG4gKlxuICogIyMjIyBVc2FnZVxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBiaXRzZXQgPSBuZXcgQml0U2V0KCk7XG4gKiBiaXRzZXQuZW5hYmxlKDEwKTsgLy8gRW5hYmxlIGJpdCBhdCBpbmRleCBgMTBgLlxuICogY29uc29sZS5sb2coYml0c2V0LmVuYWJsZWQoMTApKTsgLy8gUHJpbnRzICd0cnVlJy5cbiAqIGBgYFxuICpcbiAqICMjIyMgVHlwZVNjcmlwdFxuICpcbiAqIFRoZSBzZXQgY2FuIGJlIHR5cGVkIG92ZXIgYW4gZW51bTpcbiAqXG4gKiBgYGB0c1xuICogZW51bSBUYWcge1xuICogICAgIEZpcnN0ID0gMCxcbiAqICAgICBTZWNvbmQgPSAxLFxuICogfVxuICpcbiAqIGNvbnN0IGJpdHNldCA9IG5ldyBCaXRTZXQ8VGFnPigpO1xuICogYml0c2V0LmVuYWJsZShUYWcuRmlyc3QpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBCaXRTZXQge1xuICAgIC8qKiBFbmFibGVkIGJpdHMuIEBoaWRkZW4gKi9cbiAgICBfYml0cyA9IDA7XG4gICAgLyoqXG4gICAgICogRW5hYmxlIHRoZSBiaXQgYXQgdGhlIGdpdmVuIGluZGV4LlxuICAgICAqXG4gICAgICogQHBhcmFtIGJpdHMgQSBzcHJlYWQgb2YgYWxsIHRoZSBiaXRzIHRvIGVuYWJsZS5cbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgZW5hYmxlKC4uLmJpdHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBiaXQgb2YgYml0cykge1xuICAgICAgICAgICAgYXNzZXJ0KGJpdCk7XG4gICAgICAgICAgICAvKiBDYXN0cyB0aGUgcmVzdWx0IHRvIGFuIHVuc2lnbmVkIGludGVnZXIgKi9cbiAgICAgICAgICAgIHRoaXMuX2JpdHMgfD0gKDEgPDwgYml0KSA+Pj4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5hYmxlIGFsbCBiaXRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIGVuYWJsZUFsbCgpIHtcbiAgICAgICAgdGhpcy5fYml0cyA9IH4wO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzYWJsZSB0aGUgYml0IGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiaXRzIEEgc3ByZWFkIG9mIGFsbCB0aGUgYml0cyB0byBkaXNhYmxlLlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBkaXNhYmxlKC4uLmJpdHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBiaXQgb2YgYml0cykge1xuICAgICAgICAgICAgYXNzZXJ0KGJpdCk7XG4gICAgICAgICAgICAvKiBDYXN0cyB0aGUgcmVzdWx0IHRvIGFuIHVuc2lnbmVkIGludGVnZXIgKi9cbiAgICAgICAgICAgIHRoaXMuX2JpdHMgJj0gfigoMSA8PCBiaXQpID4+PiAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzYWJsZSBhbGwgYml0cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBkaXNhYmxlQWxsKCkge1xuICAgICAgICB0aGlzLl9iaXRzID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrZXIgd2hldGhlciB0aGUgYml0IGlzIHNldCBvciBub3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYml0IFRoZSBiaXQgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMgYHRydWVgIGlmIGl0J3MgZW5hYmxlZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICovXG4gICAgZW5hYmxlZChiaXQpIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuX2JpdHMgJiAoKDEgPDwgYml0KSA+Pj4gMCkpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBCaXRTZXQgfSBmcm9tICcuL2JpdHNldC5qcyc7XG4vKipcbiAqIExvZ2dpbmcgbGV2ZWxzIHN1cHBvcnRlZCBieSB7QGxpbmsgTG9nZ2VyfS5cbiAqL1xuZXhwb3J0IHZhciBMb2dMZXZlbDtcbihmdW5jdGlvbiAoTG9nTGV2ZWwpIHtcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkluZm9cIl0gPSAwXSA9IFwiSW5mb1wiO1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiV2FyblwiXSA9IDFdID0gXCJXYXJuXCI7XG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJFcnJvclwiXSA9IDJdID0gXCJFcnJvclwiO1xufSkoTG9nTGV2ZWwgfHwgKExvZ0xldmVsID0ge30pKTtcbi8qKlxuICogTG9nZ2luZyB3cmFwcGVyLlxuICpcbiAqIFRoaXMgaXMgdXNlZCB0byBhbGxvdyB0dXJuaW5nIG9uL29mZjpcbiAqICAgICAtIGBjb25zb2xlLmxvZ2BcbiAqICAgICAtIGBjb25zb2xlLndhcm5gXG4gKiAgICAgLSBgY29uc29sZS5lcnJvcmBcbiAqXG4gKiAjIyMjIFVzYWdlXG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7TG9nZ2VyLCBMb2dMZXZlbCwgTG9nVGFnfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuICpcbiAqIC8vIENyZWF0ZSBhIGxvZ2dlciB3aXRoIG9ubHkgdGhlIFwiZXJyb3JcIiBhbmQgXCJ3YXJuXCIgbGV2ZWxzIGFjdGl2YXRlZFxuICogY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihMb2dMZXZlbC5XYXJuLCBMb2dMZXZlbC5FcnJvcik7XG4gKlxuICogLy8gT25seSB0aGUgXCJlcnJvclwiIGFuZCBcIndhcm5cIiBsZXZlbHMgYXJlIGFjdGl2YXRlZCxcbiAqIC8vIHRoaXMgbWVzc2FnZSBpc24ndCBsb2dnZWQuXG4gKiBsb2dnZXIuaW5mbyhMb2dUYWcuQ29tcG9uZW50LCAnVGhpcyBtZXNzYWdlIGlzIHNodXNoZWQnKVxuICpcbiAqIC8vIFByaW50cyAnSGVsbG8gRXJyb3IhJ1xuICogbG9nZ2VyLmVycm9yKExvZ1RhZy5Db21wb25lbnQsICdIZWxsbyBFcnJvciEnKTtcbiAqXG4gKiAvLyBQcmludHMgJ0hlbGxvIFdhcm5pbmchJ1xuICogbG9nZ2VyLndhcm4oTG9nVGFnLkNvbXBvbmVudCwgJ0hlbGxvIFdhcm5pbmchJyk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbG9nIGxldmVscyBjYW4gYmUgY2hhbmdlZCBhdCBhbnl0aW1lIHVzaW5nIHRoZSB7QGxpbmsgQml0U2V0fSBhcGk6XG4gKlxuICogYGBganNcbiAqIC8vIEVuYWJsZSB0aGUgXCJpbmZvXCIgbGV2ZWxcbiAqIGxvZ2dlci5sZXZlbHMuZW5hYmxlKExvZ0xldmVsLkluZm8pO1xuICogKiAvLyBEaXNhYmxlIHRoZSBcIndhcm5cIiBsZXZlbFxuICogbG9nZ2VyLmxldmVscy5kaXNhYmxlKExvZ0xldmVsLldhcm4pO1xuICogYGBgXG4gKlxuICogIyMjIyBUYWdzXG4gKlxuICogSW4gYWRkaXRpb24sIHRoZSBsb2dnZXIgc3VwcG9ydHMgdGFnZ2luZyBtZXNzYWdlczpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHtMb2dnZXIsIExvZ0xldmVsLCBMb2dUYWd9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG4gKlxuICogY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihMb2dMZXZlbC5JbmZvKTtcbiAqXG4gKiBsb2dnZXIudGFncy5kaXNhYmxlQWxsKCk7XG4gKlxuICogLy8gQWxsIHRhZ3MgYXJlIG9mZiwgdGhpcyBtZXNzYWdlIGlzbid0IGxvZ2dlZFxuICogbG9nZ2VyLmluZm8oTG9nVGFnLkNvbXBvbmVudCwgJ1RoaXMgbWVzc2FnZSBpcyBzaHVzaGVkJyk7XG4gKlxuICogbG9nZ2VyLnRhZ3MuZW5hYmxlKExvZ1RhZy5Db21wb25lbnQpO1xuICogbG9nZ2VyLmluZm8oTG9nVGFnLkNvbXBvbmVudCwgJ0hlbGxvIFdvcmxkIScpIC8vIFByaW50cyAnSGVsbG8gV29ybGQhJ1xuICogYGBgXG4gKlxuICogVGhlIHRhZ2dpbmcgc3lzdGVtIGdpdmVzIGFub3RoZXIgbGF5ZXIgb2YgY29udHJvbCB0byBlbmFibGUgLyBkaXNhYmxlXG4gKiBzb21lIHNwZWNpZmljIGxvZ3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBMb2dnZXIge1xuICAgIC8qKlxuICAgICAqIEJpdHNldCBvZiBlbmFibGVkIGxldmVscy5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBsZXZlbHMgPSBuZXcgQml0U2V0KCk7XG4gICAgLyoqXG4gICAgICogQml0c2V0IG9mIGVuYWJsZWQgdGFncy5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICB0YWdzID0gbmV3IEJpdFNldCgpLmVuYWJsZUFsbCgpO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBsb2dnZXIgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGV2ZWxzIERlZmF1bHQgc2V0IG9mIGxldmVscyB0byBlbmFibGUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoLi4ubGV2ZWxzKSB7XG4gICAgICAgIHRoaXMubGV2ZWxzLmVuYWJsZSguLi5sZXZlbHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2cgdGhlIG1lc3NhZ2UocykgdXNpbmcgYGNvbnNvbGUubG9nYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0YWcgVGFnIHJlcHJlc2VudGVkIGJ5IGEgcG9zaXRpdmUgaW50ZWdlci5cbiAgICAgKiBAcGFyYW0gbXNnIEEgc3ByZWFkIG9mIG1lc3NhZ2UgdG8gbG9nLlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBpbmZvKHRhZywgLi4ubXNnKSB7XG4gICAgICAgIGlmICh0aGlzLmxldmVscy5lbmFibGVkKExvZ0xldmVsLkluZm8pICYmIHRoaXMudGFncy5lbmFibGVkKHRhZykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKC4uLm1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvZyB0aGUgbWVzc2FnZShzKSB1c2luZyBgY29uc29sZS53YXJuYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0YWcgVGFnIHJlcHJlc2VudGVkIGJ5IGEgcG9zaXRpdmUgaW50ZWdlci5cbiAgICAgKiBAcGFyYW0gbXNnIEEgc3ByZWFkIG9mIG1lc3NhZ2UgdG8gbG9nLlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICB3YXJuKHRhZywgLi4ubXNnKSB7XG4gICAgICAgIGlmICh0aGlzLmxldmVscy5lbmFibGVkKExvZ0xldmVsLldhcm4pICYmIHRoaXMudGFncy5lbmFibGVkKHRhZykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybiguLi5tc2cpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2cgdGhlIG1lc3NhZ2UocykgdXNpbmcgYGNvbnNvbGUuZXJyb3JgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRhZyBUYWcgcmVwcmVzZW50ZWQgYnkgYSBwb3NpdGl2ZSBpbnRlZ2VyLlxuICAgICAqIEBwYXJhbSBtc2cgQSBzcHJlYWQgb2YgbWVzc2FnZSB0byBsb2cuXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIGVycm9yKHRhZywgLi4ubXNnKSB7XG4gICAgICAgIGlmICh0aGlzLmxldmVscy5lbmFibGVkKExvZ0xldmVsLkVycm9yKSAmJiB0aGlzLnRhZ3MuZW5hYmxlZCh0YWcpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKC4uLm1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IExvZ1RhZyB9IGZyb20gJy4vaW5kZXguanMnO1xuaW1wb3J0IHsgVHlwZSB9IGZyb20gJy4vcHJvcGVydHkuanMnO1xuaW1wb3J0IHsgUmV0YWluRW1pdHRlciB9IGZyb20gJy4vdXRpbHMvZXZlbnQuanMnO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IHsgaW5oZXJpdFByb3BlcnRpZXMsIEFuaW1hdGlvbiwgQ29tcG9uZW50LCBNYXRlcmlhbCwgTWVzaCwgQnJva2VuQ29tcG9uZW50LCBTa2luLCBYUiwgfSBmcm9tICcuL3dvbmRlcmxhbmQuanMnO1xuLyoqXG4gKiBEZWZhdWx0IGNvbXBvbmVudCBwYXJhbWV0ZXIgdmFsdWUgcGVyIHR5cGUuXG4gKi9cbmNvbnN0IF9jb21wb25lbnREZWZhdWx0cyA9IG5ldyBNYXAoW1xuICAgIFtUeXBlLkJvb2wsIGZhbHNlXSxcbiAgICBbVHlwZS5JbnQsIDBdLFxuICAgIFtUeXBlLkZsb2F0LCAwLjBdLFxuICAgIFtUeXBlLlN0cmluZywgJyddLFxuICAgIFtUeXBlLkVudW0sIHVuZGVmaW5lZF0sXG4gICAgW1R5cGUuT2JqZWN0LCBudWxsXSxcbiAgICBbVHlwZS5NZXNoLCBudWxsXSxcbiAgICBbVHlwZS5UZXh0dXJlLCBudWxsXSxcbiAgICBbVHlwZS5NYXRlcmlhbCwgbnVsbF0sXG4gICAgW1R5cGUuQW5pbWF0aW9uLCBudWxsXSxcbiAgICBbVHlwZS5Ta2luLCBudWxsXSxcbiAgICBbVHlwZS5Db2xvciwgWzAuMCwgMC4wLCAwLjAsIDEuMF1dLFxuXSk7XG4vKipcbiAqIFNldHVwIHRoZSBkZWZhdWx0cyB2YWx1ZSBvZiB0aGUgcHJvcGVydGllcyBvbiBhIGdpdmVuXG4gKiBjb21wb25lbnQgY2xhc3MuXG4gKlxuICogQHBhcmFtIGN0b3IgVGhlIGNvbXBvbmVudCBjbGFzc1xuICovXG5mdW5jdGlvbiBfc2V0dXBEZWZhdWx0cyhjdG9yKSB7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIGN0b3IuUHJvcGVydGllcykge1xuICAgICAgICBjb25zdCBwID0gY3Rvci5Qcm9wZXJ0aWVzW25hbWVdO1xuICAgICAgICBpZiAocC50eXBlID09PSBUeXBlLkVudW0pIHtcbiAgICAgICAgICAgIC8qIEVudW0gZGVmYXVsdCBjYW4gYmUgYSBzdHJpbmcgb3IgYW4gaW5kZXguIENvbnZlcnQgdG8gYW5kL29yXG4gICAgICAgICAgICAgKiBzYW5pdHktY2hlY2sgdGhlIGluZGV4LiAqL1xuICAgICAgICAgICAgaWYgKHAudmFsdWVzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvKiBEb24ndCB0cnkgdG8gbG9vayB1cCB0aGUgZGVmYXVsdCBpZiB0aGUgdXNlciBzcGVjaWZpZWQgYVxuICAgICAgICAgICAgICAgICAqIG51bWJlciBvciB3ZSBhbHJlYWR5IGNvbnZlcnRlZCB0byBvbmUuICovXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwLmRlZmF1bHQgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIElmIHVuZGVmaW5lZCwgbWlzc2luZyBlbGVtZW50IG9yIHdyb25nIHR5cGUgdGhpcyByZXR1cm5zXG4gICAgICAgICAgICAgICAgICAgICAqIC0xIHdoaWNoIGJlY29tZXMgMCBiZWxvdy4gVGhpcyBtYXRjaGVzIGVkaXRvciBiZWhhdmlvci4gKi9cbiAgICAgICAgICAgICAgICAgICAgcC5kZWZhdWx0ID0gcC52YWx1ZXMuaW5kZXhPZihwLmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocC5kZWZhdWx0IDwgMCB8fCBwLmRlZmF1bHQgPj0gcC52YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHAuZGVmYXVsdCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyogVGhlcmUncyBubyBpbmRleCB2YWx1ZSB0aGF0IG1ha2VzIHNlbnNlICovXG4gICAgICAgICAgICAgICAgcC5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcC5kZWZhdWx0ID0gcC5kZWZhdWx0ID8/IF9jb21wb25lbnREZWZhdWx0cy5nZXQocC50eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBjdG9yLnByb3RvdHlwZVtuYW1lXSA9IHAuZGVmYXVsdDtcbiAgICB9XG59XG4vKipcbiAqIExvdy1sZXZlbCB3cmFwcGVyIHRvIGludGVyYWN0IHdpdGggdGhlIFdlYkFzc2VtYmx5IGNvZGUuXG4gKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgV0FTTSB7XG4gICAgLyoqXG4gICAgICogRW1zY3JpcHRlbiB3b3JrZXIgZmllbGQuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgd29ya2VyID0gJyc7XG4gICAgLyoqXG4gICAgICogRW1zY3JpcHRlbiB3YXNtIGZpZWxkLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIHdhc20gPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEVtc2NyaXB0ZW4gY2FudmFzLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIGNhbnZhcyA9IG51bGw7XG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgICovXG4gICAgLyoqXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBzZXNzaW9uLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIHdlYnhyX3Nlc3Npb24gPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgcmVxdWVzdCBzZXNzaW9uIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIHdlYnhyX3JlcXVlc3RTZXNzaW9uID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIG9mZmVyIHNlc3Npb24gY2FsbGJhY2suXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgd2VieHJfb2ZmZXJTZXNzaW9uID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIGZyYW1lLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIHdlYnhyX2ZyYW1lID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBFbXNjcmlwdGVuIGN1cnJlbnQgV2ViWFIgcmVmZXJlbmNlIHNwYWNlLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIHdlYnhyX3JlZlNwYWNlID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIHJlZmVyZW5jZSBzcGFjZXMuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgd2VieHJfcmVmU3BhY2VzID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIGN1cnJlbnQgcmVmZXJlbmNlIHNwYWNlIHR5cGUuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgd2VieHJfcmVmU3BhY2VUeXBlID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIEdMIHByb2plY3Rpb24gbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgd2VieHJfYmFzZUxheWVyID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIGZyYW1lYnVmZmVyIHNjYWxlIGZhY3Rvci5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICB3ZWJ4cl9mcmFtZWJ1ZmZlclNjYWxlRmFjdG9yID0gMS4wO1xuICAgIC8qKlxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgZnJhbWVidWZmZXIocykuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgLyogd2VieHJfZmJvIHdpbGwgbm90IGdldCBvdmVyd3JpdHRlbiBpZiB3ZSBhcmUgcmVuZGVyaW5nIHRvIHRoZVxuICAgICAqIGRlZmF1bHQgZnJhbWVidWZmZXIsIGUuZy4sIHdoZW4gdXNpbmcgV2ViWFIgZW11bGF0b3IuICovXG4gICAgd2VieHJfZmJvID0gMDtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgV0FTTSBtZW1vcnkgdmlldyB0byBhIEphdmFTY3JpcHQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHB0ciBQb2ludGVyIHN0YXJ0XG4gICAgICogQHBhcmFtIHB0ckVuZCBQb2ludGVyIGVuZFxuICAgICAqIEByZXR1cm5zIEphdmFTY3JpcHQgc3RyaW5nXG4gICAgICovXG4gICAgVVRGOFZpZXdUb1N0cmluZztcbiAgICAvKiogTG9nZ2VyIGluc3RhbmNlLiAqL1xuICAgIF9sb2cgPSBuZXcgTG9nZ2VyKCk7XG4gICAgLyoqIElmIGB0cnVlYCwgbG9ncyB3aWxsIG5vdCBzcGFtIHRoZSBjb25zb2xlIG9uIGVycm9yLiAqL1xuICAgIF9kZWFjdGl2YXRlX2NvbXBvbmVudF9vbl9lcnJvciA9IGZhbHNlO1xuICAgIC8qKiBUZW1wb3JhcnkgbWVtb3J5IHBvaW50ZXIuICovXG4gICAgX3RlbXBNZW0gPSBudWxsO1xuICAgIC8qKiBUZW1wb3JhcnkgbWVtb3J5IHNpemUuICovXG4gICAgX3RlbXBNZW1TaXplID0gMDtcbiAgICAvKiogVGVtcG9yYXJ5IGZsb2F0IG1lbW9yeSB2aWV3LiAqL1xuICAgIF90ZW1wTWVtRmxvYXQgPSBudWxsO1xuICAgIC8qKiBUZW1wb3JhcnkgaW50IG1lbW9yeSB2aWV3LiAqL1xuICAgIF90ZW1wTWVtSW50ID0gbnVsbDtcbiAgICAvKiogVGVtcG9yYXJ5IHVpbnQ4IG1lbW9yeSB2aWV3LiAqL1xuICAgIF90ZW1wTWVtVWludDggPSBudWxsO1xuICAgIC8qKiBUZW1wb3JhcnkgdWludDMyIG1lbW9yeSB2aWV3LiAqL1xuICAgIF90ZW1wTWVtVWludDMyID0gbnVsbDtcbiAgICAvKiogVGVtcG9yYXJ5IHVpbnQxNiBtZW1vcnkgdmlldy4gKi9cbiAgICBfdGVtcE1lbVVpbnQxNiA9IG51bGw7XG4gICAgLyoqIExvYWRpbmcgc2NyZWVuIC5iaW4gZmlsZSBkYXRhICovXG4gICAgX2xvYWRpbmdTY3JlZW4gPSBudWxsO1xuICAgIC8qKiBMaXN0IG9mIGNhbGxiYWNrcyB0cmlnZ2VyZWQgd2hlbiB0aGUgc2NlbmUgaXMgbG9hZGVkLiAqL1xuICAgIF9zY2VuZUxvYWRlZENhbGxiYWNrID0gW107XG4gICAgLyoqXG4gICAgICogTWF0ZXJpYWwgZGVmaW5pdGlvbiBjYWNoZS4gRWFjaCBwaXBlbGluZSBoYXMgaXRzIG93blxuICAgICAqIGFzc29jaWF0ZWQgbWF0ZXJpYWwgZGVmaW5pdGlvbi5cbiAgICAgKi9cbiAgICBfbWF0ZXJpYWxEZWZpbml0aW9ucyA9IFtdO1xuICAgIC8qKiBJbWFnZSBjYWNoZS4gKi9cbiAgICBfaW1hZ2VzID0gW107XG4gICAgLyoqIENvbXBvbmVudCBpbnN0YW5jZXMuICovXG4gICAgX2NvbXBvbmVudHMgPSBbXTtcbiAgICAvKiogQ29tcG9uZW50IFR5cGUgaW5mby4gKi9cbiAgICBfY29tcG9uZW50VHlwZXMgPSBbXTtcbiAgICAvKiogSW5kZXggcGVyIGNvbXBvbmVudCB0eXBlIG5hbWUuICovXG4gICAgX2NvbXBvbmVudFR5cGVJbmRpY2VzID0ge307XG4gICAgLyoqIFdvbmRlcmxhbmQgZW5naW5lIGluc3RhbmNlLiAqL1xuICAgIF9lbmdpbmUgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiB0aGlzIHJ1bnRpbWUgaXMgdXNpbmcgcGh5c3guXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgX3dpdGhQaHlzWCA9IGZhbHNlO1xuICAgIC8qKiBEZWNvZGVyIGZvciBVVEY4IGBBcnJheUJ1ZmZlcmAgdG8gSmF2YVNjcmlwdCBzdHJpbmcuICovXG4gICAgX3V0ZjhEZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGY4Jyk7XG4gICAgLyoqIEphdmFTY3JpcHQgbWFuYWdlciBpbmRleC4gKi9cbiAgICBfanNNYW5hZ2VySW5kZXhDYWNoZWQgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdHJhdGlvbiBpbmRleCBvZiB7QGxpbmsgQnJva2VuQ29tcG9uZW50fS5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZCB0byByZXR1cm4gZHVtbXkgaW5zdGFuY2VzIHdoZW4gYSBjb21wb25lbnRcbiAgICAgKiBpc24ndCByZWdpc3RlcmVkLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF9icm9rZW5Db21wb25lbnRJbmRleCA9IDA7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBXZWJBc3NlbWJseSA8PiBBUEkgYnJpZGdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRocmVhZHMgYHRydWVgIGlmIHRoZSBydW50aW1lIHVzZWQgaGFzIHRocmVhZHMgc3VwcG9ydFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRocmVhZHMpIHtcbiAgICAgICAgaWYgKHRocmVhZHMpIHtcbiAgICAgICAgICAgIHRoaXMuVVRGOFZpZXdUb1N0cmluZyA9IChzLCBlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFzKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3V0ZjhEZWNvZGVyLmRlY29kZSh0aGlzLkhFQVBVOC5zbGljZShzLCBlKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuVVRGOFZpZXdUb1N0cmluZyA9IChzLCBlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXMpXG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3V0ZjhEZWNvZGVyLmRlY29kZSh0aGlzLkhFQVBVOC5zdWJhcnJheShzLCBlKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2Jyb2tlbkNvbXBvbmVudEluZGV4ID0gdGhpcy5fcmVnaXN0ZXJDb21wb25lbnQoQnJva2VuQ29tcG9uZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIGNhY2hlIG9mIHRoZSBsaWJyYXJ5LlxuICAgICAqXG4gICAgICogQG5vdGUgU2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW4gdGVhcmluZyBkb3duIHRoZSBydW50aW1lLlxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICAvKiBDYW5jZWwgaW4tZmxpZ2h0IGltYWdlcyAqL1xuICAgICAgICBmb3IgKGNvbnN0IGltZyBvZiB0aGlzLl9pbWFnZXMpIHtcbiAgICAgICAgICAgIGlmICghaW1nIHx8ICFpbWcuc3JjKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaW1nLnNyYyA9ICcnO1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICBpbWcub25lcnJvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW1hZ2VzID0gW107XG4gICAgICAgIHRoaXMuYWxsb2NhdGVUZW1wTWVtb3J5KDEwMjQpO1xuICAgICAgICB0aGlzLl9tYXRlcmlhbERlZmluaXRpb25zID0gW107XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50VHlwZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50VHlwZUluZGljZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fanNNYW5hZ2VySW5kZXhDYWNoZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9icm9rZW5Db21wb25lbnRJbmRleCA9IHRoaXMuX3JlZ2lzdGVyQ29tcG9uZW50KEJyb2tlbkNvbXBvbmVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBjb21wb25lbnQgaXMgcmVnaXN0ZXJlZCBvciBub3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY3RvciAgQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjb21wb25lbnQgdHlwZW5hbWUgKGUuZy4sIGAnY3Vyc29yLWNvbXBvbmVudCdgKS5cbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBpc1JlZ2lzdGVyZWQodHlwZSkge1xuICAgICAgICByZXR1cm4gdHlwZSBpbiB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBsZWdhY3kgY29tcG9uZW50IGluIHRoaXMgRW1zY3JpcHRlbiBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0eXBlTmFtZSBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBwYXJhbSBwYXJhbXMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHBhcmFtZXRlcnMgKHByb3BlcnRpZXMpLlxuICAgICAqIEBwYXJhbSBvYmplY3QgVGhlIG9iamVjdCdzIHByb3RvdHlwZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVnaXN0cmF0aW9uIGluZGV4XG4gICAgICovXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50TGVnYWN5KHR5cGVOYW1lLCBwYXJhbXMsIG9iamVjdCkge1xuICAgICAgICBjb25zdCBjdG9yID0gY2xhc3MgQ3VzdG9tQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgICAgfTtcbiAgICAgICAgY3Rvci5UeXBlTmFtZSA9IHR5cGVOYW1lO1xuICAgICAgICBjdG9yLlByb3BlcnRpZXMgPSBwYXJhbXM7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oY3Rvci5wcm90b3R5cGUsIG9iamVjdCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWdpc3RlckNvbXBvbmVudChjdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBjbGFzcyBjb21wb25lbnQgaW4gdGhpcyBFbXNjcmlwdGVuIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGN0b3IgVGhlIGNsYXNzIHRvIHJlZ2lzdGVyLlxuICAgICAqIEByZXR1cm5zIFRoZSByZWdpc3RyYXRpb24gaW5kZXguXG4gICAgICovXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KGN0b3IpIHtcbiAgICAgICAgaWYgKCFjdG9yLlR5cGVOYW1lKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBuYW1lIHByb3ZpZGVkIGZvciBjb21wb25lbnQuJyk7XG4gICAgICAgIGlmICghY3Rvci5wcm90b3R5cGUuX3RyaWdnZXJJbml0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlZ2lzdGVyQ29tcG9uZW50KCk6IENvbXBvbmVudCAke2N0b3IuVHlwZU5hbWV9IG11c3QgZXh0ZW5kIENvbXBvbmVudGApO1xuICAgICAgICB9XG4gICAgICAgIGluaGVyaXRQcm9wZXJ0aWVzKGN0b3IpO1xuICAgICAgICBfc2V0dXBEZWZhdWx0cyhjdG9yKTtcbiAgICAgICAgY29uc3QgdHlwZUluZGV4ID0gY3Rvci5UeXBlTmFtZSBpbiB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1xuICAgICAgICAgICAgPyB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1tjdG9yLlR5cGVOYW1lXVxuICAgICAgICAgICAgOiB0aGlzLl9jb21wb25lbnRUeXBlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudFR5cGVzW3R5cGVJbmRleF0gPSBjdG9yO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1tjdG9yLlR5cGVOYW1lXSA9IHR5cGVJbmRleDtcbiAgICAgICAgaWYgKGN0b3IgPT09IEJyb2tlbkNvbXBvbmVudClcbiAgICAgICAgICAgIHJldHVybiB0eXBlSW5kZXg7XG4gICAgICAgIHRoaXMuX2xvZy5pbmZvKExvZ1RhZy5FbmdpbmUsICdSZWdpc3RlcmVkIGNvbXBvbmVudCcsIGN0b3IuVHlwZU5hbWUsIGAoY2xhc3MgJHtjdG9yLm5hbWV9KWAsICd3aXRoIGluZGV4JywgdHlwZUluZGV4KTtcbiAgICAgICAgaWYgKGN0b3Iub25SZWdpc3RlcilcbiAgICAgICAgICAgIGN0b3Iub25SZWdpc3Rlcih0aGlzLl9lbmdpbmUpO1xuICAgICAgICByZXR1cm4gdHlwZUluZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGxvY2F0ZSB0aGUgcmVxdWVzdGVkIGFtb3VudCBvZiB0ZW1wb3JhcnkgbWVtb3J5XG4gICAgICogaW4gdGhpcyBXQVNNIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNpemUgVGhlIG51bWJlciBvZiBieXRlcyB0byBhbGxvY2F0ZVxuICAgICAqL1xuICAgIGFsbG9jYXRlVGVtcE1lbW9yeShzaXplKSB7XG4gICAgICAgIHRoaXMuX2xvZy5pbmZvKExvZ1RhZy5FbmdpbmUsICdBbGxvY2F0aW5nIHRlbXAgbWVtOicsIHNpemUpO1xuICAgICAgICB0aGlzLl90ZW1wTWVtU2l6ZSA9IHNpemU7XG4gICAgICAgIGlmICh0aGlzLl90ZW1wTWVtKVxuICAgICAgICAgICAgdGhpcy5fZnJlZSh0aGlzLl90ZW1wTWVtKTtcbiAgICAgICAgdGhpcy5fdGVtcE1lbSA9IHRoaXMuX21hbGxvYyh0aGlzLl90ZW1wTWVtU2l6ZSk7XG4gICAgICAgIHRoaXMudXBkYXRlVGVtcE1lbW9yeSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAdG9kbzogRGVsZXRlIHRoaXMgYW5kIG9ubHkga2VlcCBgYWxsb2NhdGVUZW1wTWVtb3J5YFxuICAgICAqXG4gICAgICogQHBhcmFtIHNpemUgTnVtYmVyIG9mIGJ5dGVzIHRvIGFsbG9jYXRlXG4gICAgICovXG4gICAgcmVxdWlyZVRlbXBNZW0oc2l6ZSkge1xuICAgICAgICBpZiAodGhpcy5fdGVtcE1lbVNpemUgPj0gc2l6ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLyogR3JvdyBpbiAxa2IgaW5jcmVtZW50cyAqL1xuICAgICAgICB0aGlzLmFsbG9jYXRlVGVtcE1lbW9yeShNYXRoLmNlaWwoc2l6ZSAvIDEwMjQpICogMTAyNCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgdGVtcG9yYXJ5IG1lbW9yeSB2aWV3cy4gVGhpcyBtdXN0IGJlIGNhbGxlZCB3aGVuZXZlciB0aGVcbiAgICAgKiB0ZW1wb3JhcnkgbWVtb3J5IGFkZHJlc3MgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICB1cGRhdGVUZW1wTWVtb3J5KCkge1xuICAgICAgICB0aGlzLl90ZW1wTWVtRmxvYXQgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSA+PiAyKTtcbiAgICAgICAgdGhpcy5fdGVtcE1lbUludCA9IG5ldyBJbnQzMkFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSA+PiAyKTtcbiAgICAgICAgdGhpcy5fdGVtcE1lbVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheSh0aGlzLkhFQVA4LmJ1ZmZlciwgdGhpcy5fdGVtcE1lbSwgdGhpcy5fdGVtcE1lbVNpemUgPj4gMik7XG4gICAgICAgIHRoaXMuX3RlbXBNZW1VaW50MTYgPSBuZXcgVWludDE2QXJyYXkodGhpcy5IRUFQOC5idWZmZXIsIHRoaXMuX3RlbXBNZW0sIHRoaXMuX3RlbXBNZW1TaXplID4+IDEpO1xuICAgICAgICB0aGlzLl90ZW1wTWVtVWludDggPSBuZXcgVWludDhBcnJheSh0aGlzLkhFQVA4LmJ1ZmZlciwgdGhpcy5fdGVtcE1lbSwgdGhpcy5fdGVtcE1lbVNpemUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdWludDggYnVmZmVyIHZpZXcgb24gdGVtcG9yYXJ5IFdBU00gbWVtb3J5LlxuICAgICAqXG4gICAgICogKipOb3RlKio6IHRoaXMgbWV0aG9kIG1pZ2h0IGFsbG9jYXRlIGlmIHRoZSByZXF1ZXN0ZWQgbWVtb3J5IGlzIGJpZ2dlclxuICAgICAqIHRoYW4gdGhlIGN1cnJlbnQgdGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiAqKmVsZW1lbnRzKiogcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJucyBBIHtAbGluayBUeXBlZEFycmF5fSBvdmVyIHRoZSBXQVNNIG1lbW9yeVxuICAgICAqL1xuICAgIGdldFRlbXBCdWZmZXJVOChjb3VudCkge1xuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKGNvdW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RlbXBNZW1VaW50ODtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHVpbnQxNiBidWZmZXIgdmlldyBvbiB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkuXG4gICAgICpcbiAgICAgKiAqKk5vdGUqKjogdGhpcyBtZXRob2QgbWlnaHQgYWxsb2NhdGUgaWYgdGhlIHJlcXVlc3RlZCBtZW1vcnkgaXMgYmlnZ2VyXG4gICAgICogdGhhbiB0aGUgY3VycmVudCB0ZW1wb3JhcnkgbWVtb3J5IGFsbG9jYXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqZWxlbWVudHMqKiByZXF1aXJlZFxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5XG4gICAgICovXG4gICAgZ2V0VGVtcEJ1ZmZlclUxNihjb3VudCkge1xuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKGNvdW50ICogMik7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtVWludDE2O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdWludDMyIGJ1ZmZlciB2aWV3IG9uIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS5cbiAgICAgKlxuICAgICAqICoqTm90ZSoqOiB0aGlzIG1ldGhvZCBtaWdodCBhbGxvY2F0ZSBpZiB0aGUgcmVxdWVzdGVkIG1lbW9yeSBpcyBiaWdnZXJcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IHRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgKiplbGVtZW50cyoqIHJlcXVpcmVkLlxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5LlxuICAgICAqL1xuICAgIGdldFRlbXBCdWZmZXJVMzIoY291bnQpIHtcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShjb3VudCAqIDQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcE1lbVVpbnQzMjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGludDMyIGJ1ZmZlciB2aWV3IG9uIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS5cbiAgICAgKlxuICAgICAqICoqTm90ZSoqOiB0aGlzIG1ldGhvZCBtaWdodCBhbGxvY2F0ZSBpZiB0aGUgcmVxdWVzdGVkIG1lbW9yeSBpcyBiaWdnZXJcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IHRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgKiplbGVtZW50cyoqIHJlcXVpcmVkLlxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5LlxuICAgICAqL1xuICAgIGdldFRlbXBCdWZmZXJJMzIoY291bnQpIHtcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShjb3VudCAqIDQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcE1lbUludDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZsb2F0MzIgYnVmZmVyIHZpZXcgb24gdGVtcG9yYXJ5IFdBU00gbWVtb3J5LlxuICAgICAqXG4gICAgICogKipOb3RlKio6IHRoaXMgbWV0aG9kIG1pZ2h0IGFsbG9jYXRlIGlmIHRoZSByZXF1ZXN0ZWQgbWVtb3J5IGlzIGJpZ2dlclxuICAgICAqIHRoYW4gdGhlIGN1cnJlbnQgdGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiAqKmVsZW1lbnRzKiogcmVxdWlyZWQuXG4gICAgICogQHJldHVybnMgQSB7QGxpbmsgVHlwZWRBcnJheX0gb3ZlciB0aGUgV0FTTSBtZW1vcnkuXG4gICAgICovXG4gICAgZ2V0VGVtcEJ1ZmZlckYzMihjb3VudCkge1xuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKGNvdW50ICogNCk7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtRmxvYXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvcHkgdGhlIHN0cmluZyBpbnRvIHRlbXBvcmFyeSBXQVNNIG1lbW9yeSBhbmQgcmV0cmlldmUgdGhlIHBvaW50ZXIuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIG1ldGhvZCB3aWxsIGNvbXB1dGUgdGhlIHN0cmxlbiBhbmQgYXBwZW5kIGEgYFxcMGAuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGUgcmVzdWx0IHNob3VsZCBiZSB1c2VkICoqZGlyZWN0bHkqKiBvdGhlcndpc2UgaXQgbWlnaHQgZ2V0XG4gICAgICogb3ZlcnJpZGRlbiBieSBhbnkgbmV4dCBjYWxsIG1vZGlmeWluZyB0aGUgdGVtcG9yYXJ5IG1lbW9yeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdHIgVGhlIHN0cmluZyB0byB3cml0ZSB0byB0ZW1wb3JhcnkgbWVtb3J5XG4gICAgICogQHBhcmFtIGJ5dGVPZmZzZXQgVGhlIHN0YXJ0aW5nIGJ5dGUgb2Zmc2V0IGluIHRoZSB0ZW1wb3JhcnkgbWVtb3J5IGF0IHdoaWNoXG4gICAgICogICAgIHRoZSBzdHJpbmcgc2hvdWxkIGJlIHdyaXR0ZW4uIFRoaXMgaXMgdXNlZnVsIHdoZW4gdXNpbmcgbXVsdGlwbGUgdGVtcG9yYXJpZXMuXG4gICAgICogQHJldHVybiBUaGUgdGVtcG9yYXJ5IHBvaW50ZXIgb250byB0aGUgV0FTTSBtZW1vcnlcbiAgICAgKi9cbiAgICB0ZW1wVVRGOChzdHIsIGJ5dGVPZmZzZXQgPSAwKSB7XG4gICAgICAgIGNvbnN0IHN0ckxlbiA9IHRoaXMubGVuZ3RoQnl0ZXNVVEY4KHN0cikgKyAxO1xuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKHN0ckxlbiArIGJ5dGVPZmZzZXQpO1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl90ZW1wTWVtICsgYnl0ZU9mZnNldDtcbiAgICAgICAgdGhpcy5zdHJpbmdUb1VURjgoc3RyLCBwdHIsIHN0ckxlbik7XG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgaW5kZXggb2YgdGhlIGNvbXBvbmVudCB0eXBlLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBtZXRob2QgdXNlcyBtYWxsb2MgYW5kIGNvcGllcyB0aGUgc3RyaW5nXG4gICAgICogdG8gYXZvaWQgb3ZlcndyaXRpbmcgY2FsbGVyJ3MgdGVtcG9yYXJ5IGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHlwZSBUaGUgdHlwZVxuICAgICAqIEByZXR1cm4gVGhlIGNvbXBvbmVudCB0eXBlIGluZGV4XG4gICAgICovXG4gICAgX3R5cGVJbmRleEZvcih0eXBlKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aEJ5dGVzID0gdGhpcy5sZW5ndGhCeXRlc1VURjgodHlwZSkgKyAxO1xuICAgICAgICBjb25zdCBtZW0gPSB0aGlzLl9tYWxsb2MobGVuZ3RoQnl0ZXMpO1xuICAgICAgICB0aGlzLnN0cmluZ1RvVVRGOCh0eXBlLCBtZW0sIGxlbmd0aEJ5dGVzKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50VHlwZSA9IHRoaXMuX3dsX2dldF9jb21wb25lbnRfbWFuYWdlcl9pbmRleChtZW0pO1xuICAgICAgICB0aGlzLl9mcmVlKG1lbSk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRUeXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG5hbWUgb2YgY29tcG9uZW50IHR5cGUgc3RvcmVkIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0eXBlSW5kZXggVGhlIHR5cGUgaW5kZXhcbiAgICAgKiBAcmV0dXJuIFRoZSBuYW1lIGFzIGEgc3RyaW5nXG4gICAgICovXG4gICAgX3R5cGVOYW1lRm9yKHR5cGVJbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5VVEY4VG9TdHJpbmcodGhpcy5fd2xfY29tcG9uZW50X21hbmFnZXJfbmFtZSh0eXBlSW5kZXgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJ1bnRpbWUgc3VwcG9ydHMgcGh5c3ggb3Igbm90LlxuICAgICAqL1xuICAgIGdldCB3aXRoUGh5c1goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aXRoUGh5c1g7XG4gICAgfVxuICAgIC8qKiBKYXZhU2NyaXB0IG1hbmFnZXIgaW5kZXguICovXG4gICAgZ2V0IF9qc01hbmFnZXJJbmRleCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2pzTWFuYWdlckluZGV4Q2FjaGVkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9qc01hbmFnZXJJbmRleENhY2hlZCA9IHRoaXMuX3R5cGVJbmRleEZvcignanMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fanNNYW5hZ2VySW5kZXhDYWNoZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZW5naW5lIGluc3RhbmNlIGhvbGRpbmcgdGhpcyBicmlkZ2UuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW5naW5lIFRoZSBlbmdpbmUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgX3NldEVuZ2luZShlbmdpbmUpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xuICAgIH1cbiAgICAvKiBXZWJBc3NlbWJseSB0byBKUyBjYWxsIGJyaWRnZS4gKi9cbiAgICBfd2xqc194cl9zZXNzaW9uX3N0YXJ0KG1vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2VuZ2luZS54ciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fZW5naW5lLnhyID0gbmV3IFhSKHRoaXMsIG1vZGUpO1xuICAgICAgICAgICAgdGhpcy5fZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQubm90aWZ5KHRoaXMud2VieHJfc2Vzc2lvbiwgbW9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3dsanNfeHJfc2Vzc2lvbl9lbmQoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0RW1pdHRlciA9IHRoaXMuX2VuZ2luZS5vblhSU2Vzc2lvblN0YXJ0O1xuICAgICAgICBpZiAoc3RhcnRFbWl0dGVyIGluc3RhbmNlb2YgUmV0YWluRW1pdHRlcilcbiAgICAgICAgICAgIHN0YXJ0RW1pdHRlci5yZXNldCgpO1xuICAgICAgICB0aGlzLl9lbmdpbmUub25YUlNlc3Npb25FbmQubm90aWZ5KCk7XG4gICAgICAgIHRoaXMuX2VuZ2luZS54ciA9IG51bGw7XG4gICAgfVxuICAgIF93bGpzX3hyX2Rpc2FibGUoKSB7XG4gICAgICAgIC8qIEB0b2RvIFRoaXMgY291bGQgZGlyZWN0bHkgYmUgZnVsbHkgaGFuZGxlZCBpbiBKUy4gKi9cbiAgICAgICAgdGhpcy5fZW5naW5lLmFyU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2VuZ2luZS52clN1cHBvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBfd2xqc19hbGxvY2F0ZShudW1Db21wb25lbnRzKSB7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMgPSBuZXcgQXJyYXkobnVtQ29tcG9uZW50cyk7XG4gICAgfVxuICAgIF93bGpzX2luaXQod2l0aFBoeXNYKSB7XG4gICAgICAgIHRoaXMuX3dpdGhQaHlzWCA9IHdpdGhQaHlzWDtcbiAgICAgICAgLyogVGFyZ2V0IG1lbW9yeSBmb3IgSlMgQVBJIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBhcnJheXMgKi9cbiAgICAgICAgdGhpcy5hbGxvY2F0ZVRlbXBNZW1vcnkoMTAyNCk7XG4gICAgfVxuICAgIF93bGpzX3JlYWxsb2NhdGUobnVtQ29tcG9uZW50cykge1xuICAgICAgICBpZiAobnVtQ29tcG9uZW50cyA+IHRoaXMuX2NvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnRzLmxlbmd0aCA9IG51bUNvbXBvbmVudHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3dsanNfc2NlbmVfYWRkX21hdGVyaWFsX2RlZmluaXRpb24oZGVmaW5pdGlvbklkKSB7XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBuZXcgTWFwKCk7XG4gICAgICAgIC8qIENhY2hlIG1hdGVyaWFsIGRlZmluaXRpb24gZm9yIGZhc3RlciByZWFkL3dyaXRlICovXG4gICAgICAgIGNvbnN0IG5iUGFyYW1zID0gdGhpcy5fd2xfbWF0ZXJpYWxfZGVmaW5pdGlvbl9nZXRfY291bnQoZGVmaW5pdGlvbklkKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYlBhcmFtczsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5VVEY4VG9TdHJpbmcodGhpcy5fd2xfbWF0ZXJpYWxfZGVmaW5pdGlvbl9nZXRfcGFyYW1fbmFtZShkZWZpbml0aW9uSWQsIGkpKTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLl93bF9tYXRlcmlhbF9kZWZpbml0aW9uX2dldF9wYXJhbV90eXBlKGRlZmluaXRpb25JZCwgaSk7XG4gICAgICAgICAgICBkZWZpbml0aW9uLnNldChuYW1lLCB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICAgICAgdHlwZToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0ICYgMHhmZixcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Q291bnQ6ICh0ID4+IDgpICYgMHhmZixcbiAgICAgICAgICAgICAgICAgICAgbWV0YVR5cGU6ICh0ID4+IDE2KSAmIDB4ZmYsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hdGVyaWFsRGVmaW5pdGlvbnNbZGVmaW5pdGlvbklkXSA9IGRlZmluaXRpb247XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fYm9vbChjLCBwLCBwZSwgdikge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID0gdiAhPT0gMDtcbiAgICB9XG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9pbnQoYywgcCwgcGUsIHYpIHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IHY7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fZmxvYXQoYywgcCwgcGUsIHYpIHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IHY7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fc3RyaW5nKGMsIHAsIHBlLCB2LCB2ZSkge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHYsIHZlKTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9jb2xvcihjLCBwLCBwZSwgdikge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID0gbmV3IEZsb2F0MzJBcnJheShbMCwgOCwgMTYsIDI0XS5tYXAoKHMpID0+ICgodiA+Pj4gcykgJiAweGZmKSAvIDI1NS4wKSk7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fb2JqZWN0KGMsIHAsIHBlLCB2KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxuICAgICAgICAgICAgdiA+IDAgPyB0aGlzLl9lbmdpbmUud3JhcE9iamVjdCh2KSA6IG51bGw7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fbWVzaChjLCBwLCBwZSwgdikge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cbiAgICAgICAgICAgIHYgPiAwID8gbmV3IE1lc2godGhpcy5fZW5naW5lLCB2KSA6IG51bGw7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fdGV4dHVyZShjLCBwLCBwZSwgdikge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cbiAgICAgICAgICAgIHYgPiAwID8gdGhpcy5fZW5naW5lLnRleHR1cmVzLndyYXAodikgOiBudWxsO1xuICAgIH1cbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX21hdGVyaWFsKGMsIHAsIHBlLCB2KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxuICAgICAgICAgICAgdiA+IDAgPyBuZXcgTWF0ZXJpYWwodGhpcy5fZW5naW5lLCB2KSA6IG51bGw7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fYW5pbWF0aW9uKGMsIHAsIHBlLCB2KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxuICAgICAgICAgICAgdiA+IDAgPyBuZXcgQW5pbWF0aW9uKHRoaXMuX2VuZ2luZSwgdikgOiBudWxsO1xuICAgIH1cbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX3NraW4oYywgcCwgcGUsIHYpIHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9XG4gICAgICAgICAgICB2ID4gMCA/IG5ldyBTa2luKHRoaXMuX2VuZ2luZSwgdikgOiBudWxsO1xuICAgIH1cbiAgICBfd2xqc19nZXRfY29tcG9uZW50X3R5cGVfaW5kZXgobmFtZVB0ciwgbmFtZUVuZFB0cikge1xuICAgICAgICBjb25zdCB0eXBlbmFtZSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhuYW1lUHRyLCBuYW1lRW5kUHRyKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1t0eXBlbmFtZV07XG4gICAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnJva2VuQ29tcG9uZW50SW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICBfd2xqc19jb21wb25lbnRfY3JlYXRlKGpzTWFuYWdlckluZGV4LCBpbmRleCwgaWQsIHR5cGUsIG9iamVjdCkge1xuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5fY29tcG9uZW50VHlwZXNbdHlwZV07XG4gICAgICAgIGlmICghY3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUeXBlIGluZGV4ICR7dHlwZX0gaXNuJ3QgcmVnaXN0ZXJlZGApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjb21wb25lbnQgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29tcG9uZW50ID0gbmV3IGN0b3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGBFeGNlcHRpb24gZHVyaW5nIGluc3RhbnRpYXRpb24gb2YgY29tcG9uZW50ICR7Y3Rvci5UeXBlTmFtZX1gKTtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBlKTtcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IG5ldyBCcm9rZW5Db21wb25lbnQodGhpcy5fZW5naW5lKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBTZXRzIHRoZSBtYW5hZ2VyIGFuZCBpZGVudGlmaWVyIGZyb20gdGhlIG91dHNpZGUsIHRvIHNpbXBsaWZ5IHRoZSB1c2VyJ3MgY29uc3RydWN0b3IuICovXG4gICAgICAgIC8qIEB0cy1pZ25vcmUgKi9cbiAgICAgICAgY29tcG9uZW50Ll9lbmdpbmUgPSB0aGlzLl9lbmdpbmU7XG4gICAgICAgIGNvbXBvbmVudC5fbWFuYWdlciA9IGpzTWFuYWdlckluZGV4O1xuICAgICAgICBjb21wb25lbnQuX2lkID0gaWQ7XG4gICAgICAgIGNvbXBvbmVudC5fb2JqZWN0ID0gdGhpcy5fZW5naW5lLndyYXBPYmplY3Qob2JqZWN0KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbXBvbmVudC5yZXNldFByb3BlcnRpZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGBFeGNlcHRpb24gZHVyaW5nICR7Y29tcG9uZW50LnR5cGV9IHJlc2V0UHJvcGVydGllcygpIG9uIG9iamVjdCAke2NvbXBvbmVudC5vYmplY3QubmFtZX1gKTtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2luZGV4XSA9IGNvbXBvbmVudDtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9XG4gICAgX3dsanNfY29tcG9uZW50X2luaXQoY29tcG9uZW50KSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudF07XG4gICAgICAgIGMuX3RyaWdnZXJJbml0KCk7XG4gICAgfVxuICAgIF93bGpzX2NvbXBvbmVudF91cGRhdGUoY29tcG9uZW50LCBkdCkge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnRdO1xuICAgICAgICBjLl90cmlnZ2VyVXBkYXRlKGR0KTtcbiAgICB9XG4gICAgX3dsanNfY29tcG9uZW50X29uQWN0aXZhdGUoY29tcG9uZW50KSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudF07XG4gICAgICAgIGlmIChjKVxuICAgICAgICAgICAgYy5fdHJpZ2dlck9uQWN0aXZhdGUoKTtcbiAgICB9XG4gICAgX3dsanNfY29tcG9uZW50X29uRGVhY3RpdmF0ZShjb21wb25lbnQpIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50XTtcbiAgICAgICAgYy5fdHJpZ2dlck9uRGVhY3RpdmF0ZSgpO1xuICAgIH1cbiAgICBfd2xqc19jb21wb25lbnRfb25EZXN0cm95KGNvbXBvbmVudCkge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnRdO1xuICAgICAgICBjLl90cmlnZ2VyT25EZXN0cm95KCk7XG4gICAgfVxuICAgIF93bGpzX3N3YXAoYSwgYikge1xuICAgICAgICBjb25zdCBjb21wb25lbnRBID0gdGhpcy5fY29tcG9uZW50c1thXTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1thXSA9IHRoaXMuX2NvbXBvbmVudHNbYl07XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbYl0gPSBjb21wb25lbnRBO1xuICAgIH1cbiAgICBfd2xqc19jb3B5KHNyYywgZHN0KSB7XG4gICAgICAgIGNvbnN0IGRlc3RDb21wID0gdGhpcy5fY29tcG9uZW50c1tkc3RdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGVzdENvbXAuY29weSh0aGlzLl9jb21wb25lbnRzW3NyY10pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgYEV4Y2VwdGlvbiBkdXJpbmcgJHtkZXN0Q29tcC50eXBlfSBjb3B5KCkgb24gb2JqZWN0ICR7ZGVzdENvbXAub2JqZWN0Lm5hbWV9YCk7XG4gICAgICAgICAgICB0aGlzLl9sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKlxuICogQXBpIDw+IFJ1bnRpbWUgY29tcGF0aWJpbGl0eS5cbiAqXG4gKiBTb21lIGZlYXR1cmVzIGV4cG9zZWQgaW4gdGhlIEFQSSBhcmUgb25seSBhdmFpbGFibGUgZnJvbSBhIHNwZWNpZmljXG4gKiBydW50aW1lIHZlcnNpb24uXG4gKlxuICogRXZlcnkgYWRkZWQgZmVhdHVyZSBtdXN0IHRocm93IGJ5IGRlZmF1bHQuIElmIHRoZSBydW50aW1lIGxvYWRlZFxuICogaGFzIHRoZSBzcGVjaWZpYyBmZWF0dXJlLCB0aGUgbWV0aG9kIHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgRW1zY3JpcHRlblxuICogdXBvbiBsb2FkaW5nLlxuICovXG5mdW5jdGlvbiB0aHJvd0ludmFsaWRSdW50aW1lKHZlcnNpb24pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZlYXR1cmUgYWRkZWQgaW4gdmVyc2lvbiAke3ZlcnNpb259LmAgK1xuICAgICAgICAgICAgYFxcblxcdFx1MjE5MiBQbGVhc2UgdXNlIGEgV29uZGVybGFuZCBFbmdpbmUgZWRpdG9yIHZlcnNpb24gPj0gJHt2ZXJzaW9ufWApO1xuICAgIH07XG59XG5jb25zdCByZXF1aXJlUnVudGltZTFfMV8xID0gdGhyb3dJbnZhbGlkUnVudGltZSgnMS4xLjEnKTtcbmNvbnN0IHJlcXVpcmVSdW50aW1lMV8xXzUgPSB0aHJvd0ludmFsaWRSdW50aW1lKCcxLjEuNScpO1xuLyoqIEB0b2RvOiBSZW1vdmUgYXQgMS4yLjAgKi9cbldBU00ucHJvdG90eXBlLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X29mZnNldFRyYW5zbGF0aW9uID0gcmVxdWlyZVJ1bnRpbWUxXzFfMTtcbldBU00ucHJvdG90eXBlLl93bF9waHlzeF9jb21wb25lbnRfc2V0X29mZnNldFRyYW5zbGF0aW9uID0gcmVxdWlyZVJ1bnRpbWUxXzFfMTtcbldBU00ucHJvdG90eXBlLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X29mZnNldFRyYW5zZm9ybSA9IHJlcXVpcmVSdW50aW1lMV8xXzE7XG5XQVNNLnByb3RvdHlwZS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9vZmZzZXRSb3RhdGlvbiA9IHJlcXVpcmVSdW50aW1lMV8xXzE7XG5XQVNNLnByb3RvdHlwZS5fd2xfb2JqZWN0X2Nsb25lID0gcmVxdWlyZVJ1bnRpbWUxXzFfMTtcbldBU00ucHJvdG90eXBlLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3NsZWVwT25BY3RpdmF0ZSA9IHJlcXVpcmVSdW50aW1lMV8xXzU7XG5XQVNNLnByb3RvdHlwZS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9zbGVlcE9uQWN0aXZhdGUgPSByZXF1aXJlUnVudGltZTFfMV81O1xuV0FTTS5wcm90b3R5cGUud2VieHJfb2ZmZXJTZXNzaW9uID0gcmVxdWlyZVJ1bnRpbWUxXzFfNTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuLyoqXG4gKiA4dGh3YWxsIGNhbWVyYSBjb21wb25lbnQuXG4gKlxuICogU2V0cyB1cCB0aGUgOHRod2FsbCBwaXBlbGluZSBhbmQgcmV0cmlldmVzIHRyYWNraW5nIGV2ZW50cyB0byBwbGFjZSBhblxuICogb2JqZWN0IGF0IHRoZSBsb2NhdGlvbiBvZiB0aGUgdHJhY2tlZCBBUiBjYW1lcmEgLyBtb2JpbGUgZGV2aWNlLlxuICpcbiAqIFVzZSB0aGlzIGZvciBTTEFNIHRyYWNraW5nIGJhc2VkIG9uIDh0aHdhbGwuXG4gKlxuICogTWFrZSBzdXJlIHRvIGVuYWJsZSA4dGh3YWxsIGluIFwiUHJvamVjdCBTZXR0aW5nc1wiID4gXCJBUlwiLiBTZWUgYWxzbyB0aGVcbiAqIFtBUiBHZXR0aW5nIFN0YXJ0ZWQgR3VpZGVdKC9nZXR0aW5nLXN0YXJ0ZWQvcXVpY2stc3RhcnQtYXIpXG4gKlxuICpcbiAqIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRzIHdvcmxkLXRyYWNraW5nIChTTEFNKSB1c2luZyBCQUNLIGNhbWVyYS5cbiAqXG4gKiAtIHJlbW92ZSBhbnkgb2NjdXJyZW5jZXMgb2YgdGhlIG9sZCA4dGh3YWxsLWNhbWVyYSBjb21wb25lbnQgaW4gdGhlIGVkaXRvclxuICogLSBBZGQgdGhpcyBjb21wb25lbnQgdG8gTm9uVnJDYW1lcmFcbiAqXG4gKiBJTVBPUlRBTlQhXG4gKiAtIHVudGlsIGl0IGdldCdzIGZpeGVkLCBzZWxlY3QgJ2N1c3RvbUluZGV4SHRtbCcgaW4gdGhlIHByb2plY3Qgc2V0dGluZ3NcbiAqIC0gb3BlbiBhIGdlbmVyYXRlZCBpbmRleC5odG1sIGFuZCBjcm9zc29yaWdpbj1cImFub255bW91c1wiIGF0dHJpYnV0ZSB0byB0aGUgPHNjcmlwdD4gdGFnIHdoZXJlIC8vYXBwcy44dGh3YWxsLmNvbS94cndlYiBpcyBsb2FkZWRcbiAqXG4gKlxuICogIyMjIyMjIyMjIFVzaW5nIFVJIG92ZXJsYXlzICMjIyMjIyMjIyMjIyNcbiAqIEJ5IGRlZmF1bHQsIHRoaXMgY29tcG9uZW50IHJlbmRlcnMgb3duIFVJIHRvIGdpdmUgdGhlIHVzZXIgZmVlZGJhY2sgYWJvdXQgcmVqZWN0ZWQgcGVybWlzc2lvbnMgb3IgdHJhY2tpbmcgZXJyb3JzLlxuICogSXQgY2FuIGJlIGNoYW5nZWQgYnkgZW5hYmxpbmcgdXNlQ3VzdG9tVUlPdmVybGF5cyBmbGFnLlxuICpcbiAqIElmIHVzZUN1c3RvbVVJT3ZlcmxheXMgaXMgZW5hYmxlZCwgeW91IGFyZSBleHBlY3RlZCBoYW5kbGUgdGhlIGZvbGxvd2luZyBldmVudHMgZGlzcGF0Y2hlZCBieSB0aGUgd2luZG93IG9iamVjdDpcbiAqIC0gXCI4dGh3YWxsLXJlcXVlc3QtdXNlci1pbnRlcmFjdGlvblwiIC0gdXNlZCBvbmx5IG9uIGlPUyBzYWZhcmkuIFJlcXVlc3QgYSB1c2VyIHRvIHBlcmZvcm0gYW5kIGludGVyYWN0aW9uIHdpdGggdGhlIHBhZ2Ugc28gdGhhdCBqYXZhc2NyaXB0IGlzIGFsbG93ZWQgdG8gYWxsb3dlZCB0byByZXF1ZXN0IGEgbW90aW9uL2NhbWVyYS9taWMgcGVybWlzc2lvbnMuXG4gKiAgTWFrZSBzdXJlIHRoZSB3aW5kb3cgb2JqZWN0IGlzIGRpc3BhdGNoaW5nIGFuICc4dGh3YWxsLXNhZmUtdG8tcmVxdWVzdC1wZXJtaXNzaW9ucycgZXZlbnQgYWZ0ZXIgaW50ZXJhY3Rpb24gaGFzIGhhcHBlbmVkLlxuICogYGBgXG4gKiA8YnV0dG9uIG9uY2xpY2s9XCJ3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJzh0aHdhbGwtc2FmZS10by1yZXF1ZXN0LXBlcm1pc3Npb25zJykpXCI+QWxsb3cgU2Vuc29yczwvYnV0dG9uPlxuICogYGBgXG4gKlxuICogLSBcIjh0aHdhbGwtcGVybWlzc2lvbi1mYWlsXCIgLSB1c2VyIHJlamVjdGVkIGFueSBvZiB0aGUgcGVybWlzc2lvbnNcbiAqXG4gKiAtIFwiOHRod2FsbC1lcnJvclwiIC0gcnVudGltZSA4dGh3YWxsIGVycm9yIG9jY3VycmVkXG4gKi9cbmNsYXNzIEFSQ2FtZXJhOHRod2FsbCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJzh0aHdhbGwtY2FtZXJhJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIE92ZXJyaWRlIHRoZSBXTCBodG1sIG92ZXJsYXlzIGZvciBoYW5kbGluZyBjYW1lcmEvbW90aW9uIHBlcm1pc3Npb25zIGFuZCBlcnJvciBoYW5kbGluZyAqL1xuICAgICAgICB1c2VDdXN0b21VSU92ZXJsYXlzOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICB9O1xuICAgIC8qIDh0aHdhbGwgY2FtZXJhIHBpcGVsaW5lIG1vZHVsZSBuYW1lICovXG4gICAgbmFtZSA9ICd3b25kZXJsYW5kLWVuZ2luZS04dGh3YWxsLWNhbWVyYSc7XG4gICAgc3RhcnRlZCA9IGZhbHNlO1xuICAgIHZpZXcgPSBudWxsOyAvLyBjYWNoZSBjYW1lcmFcbiAgICBwb3NpdGlvbiA9IFswLCAwLCAwXTsgLy8gY2FjaGUgOHRod2FsbCBjYW0gcG9zaXRpb25cbiAgICByb3RhdGlvbiA9IFswLCAwLCAwLCAtMV07IC8vIGNhY2hlIDh0aHdhbGwgY2FtIHJvdGF0aW9uXG4gICAgZ2xUZXh0dXJlUmVuZGVyZXIgPSBudWxsOyAvLyBjYWNoZSBYUjguR2xUZXh0dXJlUmVuZGVyZXIucGlwZWxpbmVNb2R1bGVcbiAgICBwcm9tcHRGb3JEZXZpY2VNb3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBUZWxsIGFueW9uZSB3aG8ncyBpbnRlcmVzdGVkIHRoYXQgd2Ugd2FudCB0byBnZXQgc29tZSB1c2VyIGludGVyYWN0aW9uXG4gICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJzh0aHdhbGwtcmVxdWVzdC11c2VyLWludGVyYWN0aW9uJykpO1xuICAgICAgICAgICAgLy8gV2FpdCB1bnRpbCBzb21lb25lIHJlc3BvbnNlIHRoYXQgdXNlciBpbnRlcmFjdGlvbiBoYXBwZW5lZFxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJzh0aHdhbGwtc2FmZS10by1yZXF1ZXN0LXBlcm1pc3Npb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdGlvbkV2ZW50ID0gYXdhaXQgRGV2aWNlTW90aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtb3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBnZXRQZXJtaXNzaW9ucygpIHtcbiAgICAgICAgLy8gaU9TIFwiZmVhdHVyZVwiLiBJZiB3ZSB3YW50IHRvIHJlcXVlc3QgdGhlIERldmljZU1vdGlvbiBwZXJtaXNzaW9uLCB1c2VyIGhhcyB0byBpbnRlcmFjdCB3aXRoIHRoZSBwYWdlIGF0IGZpcnN0ICh0b3VjaCBpdCkuXG4gICAgICAgIC8vIElmIHRoZXJlIHdhcyBubyBpbnRlcmFjdGlvbiBkb25lIHNvIGZhciwgd2Ugd2lsbCByZW5kZXIgYSBIVE1MIG92ZXJsYXkgd2l0aCB3b3VsZCBnZXQgdGhlIHVzZXIgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgc2NyZWVuXG4gICAgICAgIGlmIChEZXZpY2VNb3Rpb25FdmVudCAmJiBEZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBEZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIG11c3QgaGF2ZSByZWplY3RlZCB0aGUgbW90aW9uIGV2ZW50IG9uIHByZXZpb3VzIHBhZ2UgbG9hZC4gKHNhZmFyaSByZW1lbWJlcnMgdGhpcyBjaG9pY2UpLlxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09ICdncmFudGVkJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vdGlvbkV2ZW50Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFVzZXIgaGFkIG5vIGludGVyYWN0aW9uIHdpdGggdGhlIHBhZ2Ugc28gZmFyXG4gICAgICAgICAgICAgICAgaWYgKGV4Y2VwdGlvbi5uYW1lID09PSAnTm90QWxsb3dlZEVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3Rpb25FdmVudCA9IGF3YWl0IHRoaXMucHJvbXB0Rm9yRGV2aWNlTW90aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3Rpb25FdmVudCAhPT0gJ2dyYW50ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vdGlvbkV2ZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTW90aW9uRXZlbnQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBnZXQgdGhlIGNhbWVyYSBzdHJlYW1cbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgICAgICAgICB2aWRlbzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gSWYgd2Ugc3VjY2Vzc2Z1bGx5IGFjcXVpcmVkIHRoZSBjYW1lcmEgc3RyZWFtIC0gd2UgY2FuIHN0b3AgaXQgYW5kIHdhaXQgdW50aWwgOHRod2FsbCByZXF1ZXN0cyBpdCBhZ2FpblxuICAgICAgICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW1lcmEnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLnZpZXcgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ3ZpZXcnKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IHRoaXMub25VcGRhdGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkF0dGFjaCA9IHRoaXMub25BdHRhY2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkV4Y2VwdGlvbiA9IHRoaXMub25FeGNlcHRpb24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkNhbWVyYVN0YXR1c0NoYW5nZSA9IHRoaXMub25DYW1lcmFTdGF0dXNDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgndmlldycpO1xuICAgICAgICBpZiAoIXRoaXMudXNlQ3VzdG9tVUlPdmVybGF5cykge1xuICAgICAgICAgICAgT3ZlcmxheXNIYW5kbGVyLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5nZXRQZXJtaXNzaW9ucygpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gVXNlciBkaWQgbm90IGdyYW50IHRoZSBjYW1lcmEgb3IgbW90aW9uRXZlbnQgcGVybWlzc2lvbnNcbiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnOHRod2FsbC1wZXJtaXNzaW9uLWZhaWwnLCB7IGRldGFpbDogZXJyb3IgfSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMud2FpdEZvclhSOCgpO1xuICAgICAgICBYUjguWHJDb250cm9sbGVyLmNvbmZpZ3VyZSh7XG4gICAgICAgICAgICBkaXNhYmxlV29ybGRUcmFja2luZzogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdsVGV4dHVyZVJlbmRlcmVyID0gWFI4LkdsVGV4dHVyZVJlbmRlcmVyLnBpcGVsaW5lTW9kdWxlKCk7XG4gICAgICAgIFhSOC5hZGRDYW1lcmFQaXBlbGluZU1vZHVsZXMoW1xuICAgICAgICAgICAgdGhpcy5nbFRleHR1cmVSZW5kZXJlcixcbiAgICAgICAgICAgIFhSOC5YckNvbnRyb2xsZXIucGlwZWxpbmVNb2R1bGUoKSxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgIF0pO1xuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICBjYW1lcmFDb25maWc6IHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb246IFhSOC5YckNvbmZpZy5jYW1lcmEoKS5CQUNLLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbnZhczogTW9kdWxlLmNhbnZhcyxcbiAgICAgICAgICAgIGFsbG93ZWREZXZpY2VzOiBYUjguWHJDb25maWcuZGV2aWNlKCkuQU5ZLFxuICAgICAgICAgICAgb3duUnVuTG9vcDogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICAgIFhSOC5ydW4oY29uZmlnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiA4dGh3YWxsIHBpcGVsaW5lIGZ1bmN0aW9uXG4gICAgICovXG4gICAgb25BdHRhY2gocGFyYW1zKSB7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZW5naW5lLnNjZW5lLmNvbG9yQ2xlYXJFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGdsID0gTW9kdWxlLmN0eDtcbiAgICAgICAgY29uc3Qgcm90ID0gdGhpcy5vYmplY3Qucm90YXRpb25Xb3JsZDtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZChbXSk7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBBcnJheS5mcm9tKHBvcyk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBBcnJheS5mcm9tKHJvdCk7XG4gICAgICAgIFhSOC5YckNvbnRyb2xsZXIudXBkYXRlQ2FtZXJhUHJvamVjdGlvbk1hdHJpeCh7XG4gICAgICAgICAgICBvcmlnaW46IHsgeDogcG9zWzBdLCB5OiBwb3NbMV0sIHo6IHBvc1syXSB9LFxuICAgICAgICAgICAgZmFjaW5nOiB7IHg6IHJvdFswXSwgeTogcm90WzFdLCB6OiByb3RbMl0sIHc6IHJvdFszXSB9LFxuICAgICAgICAgICAgY2FtOiB7XG4gICAgICAgICAgICAgICAgcGl4ZWxSZWN0V2lkdGg6IE1vZHVsZS5jYW52YXMud2lkdGgsXG4gICAgICAgICAgICAgICAgcGl4ZWxSZWN0SGVpZ2h0OiBNb2R1bGUuY2FudmFzLmhlaWdodCxcbiAgICAgICAgICAgICAgICBuZWFyQ2xpcFBsYW5lOiB0aGlzLnZpZXcubmVhcixcbiAgICAgICAgICAgICAgICBmYXJDbGlwUGxhbmU6IHRoaXMudmlldy5mYXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbmdpbmUuc2NlbmUub25QcmVSZW5kZXIucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRFJBV19GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICAgICAgICBYUjgucnVuUHJlUmVuZGVyKERhdGUubm93KCkpO1xuICAgICAgICAgICAgWFI4LnJ1blJlbmRlcigpOyAvLyA8LS0tIHRlbGwgOHRod2FsbCB0byBkbyBpdCdzIHRoaW5nIChhbHRlcm5hdGl2ZWx5IGNhbGwgdGhpcy5nbFRleHR1cmVSZW5kZXJlci5vblJlbmRlcigpIGlmIHlvdSBvbmx5IGNhcmUgYWJvdXQgY2FtZXJhIGZlZWQgKVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbmdpbmUuc2NlbmUub25Qb3N0UmVuZGVyLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgWFI4LnJ1blBvc3RSZW5kZXIoRGF0ZS5ub3coKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIDh0aHdhbGwgcGlwZWxpbmUgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBvbkNhbWVyYVN0YXR1c0NoYW5nZShlKSB7XG4gICAgICAgIGlmIChlICYmIGUuc3RhdHVzID09PSAnZmFpbGVkJykge1xuICAgICAgICAgICAgdGhpcy5vbkV4Y2VwdGlvbihuZXcgRXJyb3IoYENhbWVyYSBmYWlsZWQgd2l0aCBzdGF0dXM6ICR7ZS5zdGF0dXN9YCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogOHRod2FsbCBwaXBlbGluZSBmdW5jdGlvblxuICAgICAqL1xuICAgIG9uVXBkYXRlKGUpIHtcbiAgICAgICAgaWYgKCFlLnByb2Nlc3NDcHVSZXN1bHQucmVhbGl0eSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgeyByb3RhdGlvbiwgcG9zaXRpb24sIGludHJpbnNpY3MgfSA9IGUucHJvY2Vzc0NwdVJlc3VsdC5yZWFsaXR5O1xuICAgICAgICB0aGlzLnJvdGF0aW9uWzBdID0gcm90YXRpb24ueDtcbiAgICAgICAgdGhpcy5yb3RhdGlvblsxXSA9IHJvdGF0aW9uLnk7XG4gICAgICAgIHRoaXMucm90YXRpb25bMl0gPSByb3RhdGlvbi56O1xuICAgICAgICB0aGlzLnJvdGF0aW9uWzNdID0gcm90YXRpb24udztcbiAgICAgICAgdGhpcy5wb3NpdGlvblswXSA9IHBvc2l0aW9uLng7XG4gICAgICAgIHRoaXMucG9zaXRpb25bMV0gPSBwb3NpdGlvbi55O1xuICAgICAgICB0aGlzLnBvc2l0aW9uWzJdID0gcG9zaXRpb24uejtcbiAgICAgICAgaWYgKGludHJpbnNpY3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3Rpb25NYXRyaXggPSB0aGlzLnZpZXcucHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgICAgIC8qIFNvbWUgcHJvY2Vzc0NwdVJlc3VsdC5yZWFsaXR5LmludHJpbnNpY3MgYXJlIHNldCB0byBJbmZpbml0eSxcbiAgICAgICAgICAgICAgICAgKiB3aGljaCBicmFrZXMgb3VyIHByb2plY3Rpb25NYXRyaXguIFNvIHdlIGp1c3QgZmlsdGVyIHRob3NlIGVsZW1lbnRzIG91dC4gKi9cbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGludHJpbnNpY3NbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXhbaV0gPSBpbnRyaW5zaWNzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zaXRpb24gJiYgcm90YXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJvdGF0aW9uV29ybGQgPSB0aGlzLnJvdGF0aW9uO1xuICAgICAgICAgICAgdGhpcy5vYmplY3Quc2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLnBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIDh0aHdhbGwgcGlwZWxpbmUgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBvbkV4Y2VwdGlvbihlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCc4dGh3YWxsIGV4Y2VwdGlvbjonLCBlcnJvcik7XG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnOHRod2FsbC1lcnJvcicsIHsgZGV0YWlsOiBlcnJvciB9KSk7XG4gICAgfVxuICAgIHdhaXRGb3JYUjgoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgX3JlaikgPT4ge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5YUjgpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigneHJsb2FkZWQnLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgeyBBUkNhbWVyYTh0aHdhbGwgfTtcbmNvbnN0IE92ZXJsYXlzSGFuZGxlciA9IHtcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlUmVxdWVzdFVzZXJJbnRlcmFjdGlvbiA9IHRoaXMuaGFuZGxlUmVxdWVzdFVzZXJJbnRlcmFjdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZVBlcm1pc3Npb25GYWlsID0gdGhpcy5oYW5kbGVQZXJtaXNzaW9uRmFpbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUVycm9yID0gdGhpcy5oYW5kbGVFcnJvci5iaW5kKHRoaXMpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1yZXF1ZXN0LXVzZXItaW50ZXJhY3Rpb24nLCB0aGlzLmhhbmRsZVJlcXVlc3RVc2VySW50ZXJhY3Rpb24pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1wZXJtaXNzaW9uLWZhaWwnLCB0aGlzLmhhbmRsZVBlcm1pc3Npb25GYWlsKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJzh0aHdhbGwtZXJyb3InLCB0aGlzLmhhbmRsZUVycm9yKTtcbiAgICB9LFxuICAgIGhhbmRsZVJlcXVlc3RVc2VySW50ZXJhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuc2hvd092ZXJsYXkocmVxdWVzdFBlcm1pc3Npb25PdmVybGF5KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJzh0aHdhbGwtc2FmZS10by1yZXF1ZXN0LXBlcm1pc3Npb25zJywgKCkgPT4ge1xuICAgICAgICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBoYW5kbGVQZXJtaXNzaW9uRmFpbDogZnVuY3Rpb24gKF9yZWFzb24pIHtcbiAgICAgICAgdGhpcy5zaG93T3ZlcmxheShmYWlsZWRQZXJtaXNzaW9uT3ZlcmxheSk7XG4gICAgfSxcbiAgICBoYW5kbGVFcnJvcjogZnVuY3Rpb24gKF9lcnJvcikge1xuICAgICAgICB0aGlzLnNob3dPdmVybGF5KHJ1bnRpbWVFcnJvck92ZXJsYXkpO1xuICAgIH0sXG4gICAgc2hvd092ZXJsYXk6IGZ1bmN0aW9uIChodG1sQ29udGVudCkge1xuICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG92ZXJsYXkuaW5uZXJIVE1MID0gaHRtbENvbnRlbnQ7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3ZlcmxheSk7XG4gICAgICAgIHJldHVybiBvdmVybGF5O1xuICAgIH0sXG59O1xuY29uc3QgcmVxdWVzdFBlcm1pc3Npb25PdmVybGF5ID0gYFxuPHN0eWxlPlxuICAjcmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXkge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgei1pbmRleDogOTk5O1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gIH1cblxuICAucmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXlfdGl0bGUge1xuICAgIG1hcmdpbjogMzBweDtcbiAgICBmb250LXNpemU6IDMycHg7XG4gIH1cblxuICAucmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXlfYnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTgwMDg2O1xuICAgIGZvbnQtc2l6ZTogMjJweDtcbiAgICBwYWRkaW5nOiAxMHB4IDMwcHg7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICBib3JkZXI6IG5vbmU7XG4gIH1cbjwvc3R5bGU+XG5cbjxkaXYgaWQ9XCJyZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheVwiPlxuICA8ZGl2IGNsYXNzPVwicmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXlfdGl0bGVcIj5UaGlzIGFwcCByZXF1aXJlcyB0byB1c2UgeW91ciBjYW1lcmEgYW5kIG1vdGlvbiBzZW5zb3JzPC9kaXY+XG5cbiAgPGJ1dHRvbiBjbGFzcz1cInJlcXVlc3QtcGVybWlzc2lvbi1vdmVybGF5X2J1dHRvblwiIG9uY2xpY2s9XCJ3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJzh0aHdhbGwtc2FmZS10by1yZXF1ZXN0LXBlcm1pc3Npb25zJykpXCI+T0s8L2J1dHRvbj5cbjwvZGl2PmA7XG5jb25zdCBmYWlsZWRQZXJtaXNzaW9uT3ZlcmxheSA9IGBcbjxzdHlsZT5cbiAgI2ZhaWxlZC1wZXJtaXNzaW9uLW92ZXJsYXkge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgei1pbmRleDogOTk5O1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gIH1cblxuICAuZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheV90aXRsZSB7XG4gICAgbWFyZ2luOiAzMHB4O1xuICAgIGZvbnQtc2l6ZTogMzJweDtcbiAgfVxuXG4gIC5mYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5X2J1dHRvbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U4MDA4NjtcbiAgICBmb250LXNpemU6IDIycHg7XG4gICAgcGFkZGluZzogMTBweCAzMHB4O1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgYm9yZGVyOiBub25lO1xuICB9XG48L3N0eWxlPlxuXG48ZGl2IGlkPVwiZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheVwiPlxuICA8ZGl2IGNsYXNzPVwiZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheV90aXRsZVwiPkZhaWxlZCB0byBncmFudCBwZXJtaXNzaW9ucy4gUmVzZXQgdGhlIHRoZSBwZXJtaXNzaW9ucyBhbmQgcmVmcmVzaCB0aGUgcGFnZS48L2Rpdj5cblxuICA8YnV0dG9uIGNsYXNzPVwiZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheV9idXR0b25cIiBvbmNsaWNrPVwid2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXCI+UmVmcmVzaCB0aGUgcGFnZTwvYnV0dG9uPlxuPC9kaXY+YDtcbmNvbnN0IHJ1bnRpbWVFcnJvck92ZXJsYXkgPSBgXG48c3R5bGU+XG4gICN3YWxsLWVycm9yLW92ZXJsYXkge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgei1pbmRleDogOTk5O1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gIH1cblxuICAud2FsbC1lcnJvci1vdmVybGF5X3RpdGxlIHtcbiAgICBtYXJnaW46IDMwcHg7XG4gICAgZm9udC1zaXplOiAzMnB4O1xuICB9XG5cbiAgLndhbGwtZXJyb3Itb3ZlcmxheV9idXR0b24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlODAwODY7XG4gICAgZm9udC1zaXplOiAyMnB4O1xuICAgIHBhZGRpbmc6IDEwcHggMzBweDtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgIGJvcmRlcjogbm9uZTtcbiAgfVxuPC9zdHlsZT5cblxuPGRpdiBpZD1cIndhbGwtZXJyb3Itb3ZlcmxheVwiPlxuICA8ZGl2IGNsYXNzPVwid2FsbC1lcnJvci1vdmVybGF5X3RpdGxlXCI+RXJyb3IgaGFzIG9jY3VycmVkLiBQbGVhc2UgcmVsb2FkIHRoZSBwYWdlPC9kaXY+XG5cbiAgPGJ1dHRvbiBjbGFzcz1cIndhbGwtZXJyb3Itb3ZlcmxheV9idXR0b25cIiBvbmNsaWNrPVwid2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXCI+UmVsb2FkPC9idXR0b24+XG48L2Rpdj5gO1xuIiwgImNvbnN0IHRlbXBWZWMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuY29uc3QgdGVtcFF1YXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuZXhwb3J0IGZ1bmN0aW9uIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbChvLCB0cmFuc2Zvcm0pIHtcbiAgICBjb25zdCByID0gdHJhbnNmb3JtLm9yaWVudGF0aW9uO1xuICAgIHRlbXBRdWF0WzBdID0gci54O1xuICAgIHRlbXBRdWF0WzFdID0gci55O1xuICAgIHRlbXBRdWF0WzJdID0gci56O1xuICAgIHRlbXBRdWF0WzNdID0gci53O1xuICAgIGNvbnN0IHQgPSB0cmFuc2Zvcm0ucG9zaXRpb247XG4gICAgdGVtcFZlY1swXSA9IHQueDtcbiAgICB0ZW1wVmVjWzFdID0gdC55O1xuICAgIHRlbXBWZWNbMl0gPSB0Lno7XG4gICAgby5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcbiAgICBvLnNldFJvdGF0aW9uTG9jYWwodGVtcFF1YXQpO1xuICAgIG8udHJhbnNsYXRlTG9jYWwodGVtcFZlYyk7XG59XG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgQ29tcG9uZW50LCBFbWl0dGVyIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsIH0gZnJvbSAnLi91dGlscy93ZWJ4ci5qcyc7XG52YXIgdGVtcFZlYzMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xudmFyIHRlbXBRdWF0ID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbi8qKlxuICogU2V0cyB0aGUgbG9jYXRpb24gb2YgdGhlIG9iamVjdCB0byB0aGUgbG9jYXRpb24gb2YgYW4gWFJBbmNob3JcbiAqXG4gKiBDcmVhdGUgYW5jaG9ycyB1c2luZyB0aGUgYEFuY2hvci5jcmVhdGUoKWAgc3RhdGljIGZ1bmN0aW9uLlxuICpcbiAqIEV4YW1wbGUgZm9yIHVzZSB3aXRoIGN1cnNvcjpcbiAqIGBgYGpzXG4gKiBjdXJzb3JUYXJnZXQub25DbGljay5hZGQoKG9iamVjdCwgY3Vyc29yLCBvcmlnaW5hbEV2ZW50KSA9PiB7XG4gKiAgICAgLyogT25seSBldmVudHMgaW4gWFIgd2lsbCBoYXZlIGEgZnJhbWUgYXR0YWNoZWQgKlxcL1xuICogICAgIGlmKCFvcmlnaW5hbEV2ZW50LmZyYW1lKSByZXR1cm47XG4gKiAgICAgQW5jaG9yLmNyZWF0ZShhbmNob3JPYmplY3QsIHt1dWlkOiBpZCwgcGVyc2lzdDogdHJ1ZX0sIG9yaWdpbmFsRXZlbnQuZnJhbWUpO1xuICogfSk7XG4gKiBgYGBcbiAqL1xuY2xhc3MgQW5jaG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnYW5jaG9yJztcbiAgICAvKiBTdGF0aWMgbWFuYWdlbWVudCBvZiBhbGwgYW5jaG9ycyAqL1xuICAgIHN0YXRpYyAjYW5jaG9ycyA9IFtdO1xuICAgIHBlcnNpc3QgPSBmYWxzZTtcbiAgICAvKiogVW5pcXVlIGlkZW50aWZpZXIgdG8gbG9hZCBhIHBlcnNpc3RlbnQgYW5jaG9yIGZyb20sIG9yIGVtcHR5L251bGwgaWYgdW5rbm93biAqL1xuICAgIHV1aWQgPSBudWxsO1xuICAgIC8qKiBUaGUgeHJBbmNob3IsIGlmIGNyZWF0ZWQgKi9cbiAgICB4ckFuY2hvciA9IG51bGw7XG4gICAgLyoqIEVtaXRzIGV2ZW50cyB3aGVuIHRoZSBhbmNob3IgaXMgY3JlYXRlZCBlaXRoZXIgYnkgYmVpbmcgcmVzdG9yZWQgb3IgbmV3bHkgY3JlYXRlZCAqL1xuICAgIG9uQ3JlYXRlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogV2hldGhlciB0aGUgYW5jaG9yIGlzIGN1cnJlbnRseSBiZWluZyB0cmFja2VkICovXG4gICAgdmlzaWJsZSA9IGZhbHNlO1xuICAgIC8qKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoaXMgYW5jaG9yIHN0YXJ0cyB0cmFja2luZyAqL1xuICAgIG9uVHJhY2tpbmdGb3VuZCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgLyoqIEVtaXRzIGFuIGV2ZW50IHdoZW4gdGhpcyBhbmNob3Igc3RvcHMgdHJhY2tpbmcgKi9cbiAgICBvblRyYWNraW5nTG9zdCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgLyoqIFhSRnJhbWUgdG8gdXNlIGZvciBjcmVhdGluZyB0aGUgYW5jaG9yICovXG4gICAgeHJGcmFtZSA9IG51bGw7XG4gICAgLyoqIFhSSGl0VGVzdFJlc3VsdCB0byB1c2UgZm9yIGNyZWF0aW5nIHRoZSBhbmNob3IgKi9cbiAgICB4ckhpdFJlc3VsdCA9IG51bGw7XG4gICAgLyoqIFJldHJpZXZlIGFsbCBhbmNob3JzIG9mIHRoZSBjdXJyZW50IHNjZW5lICovXG4gICAgc3RhdGljIGdldEFsbEFuY2hvcnMoKSB7XG4gICAgICAgIHJldHVybiBBbmNob3IuI2FuY2hvcnM7XG4gICAgfVxuICAgIHN0YXRpYyAjYWRkQW5jaG9yKGFuY2hvcikge1xuICAgICAgICBBbmNob3IuI2FuY2hvcnMucHVzaChhbmNob3IpO1xuICAgIH1cbiAgICBzdGF0aWMgI3JlbW92ZUFuY2hvcihhbmNob3IpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBBbmNob3IuI2FuY2hvcnMuaW5kZXhPZihhbmNob3IpO1xuICAgICAgICBpZiAoaW5kZXggPCAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBBbmNob3IuI2FuY2hvcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGFuY2hvclxuICAgICAqXG4gICAgICogQHBhcmFtIG8gT2JqZWN0IHRvIGF0dGFjaCB0aGUgY29tcG9uZW50IHRvXG4gICAgICogQHBhcmFtIHBhcmFtcyBQYXJhbWV0ZXJzIGZvciB0aGUgYW5jaG9yIGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSBmcmFtZSBYUkZyYW1lIHRvIHVzZSBmb3IgYW5jaG9yIGNyYXRpb24sIGlmIG51bGwsIHdpbGwgdXNlIHRoZSBjdXJyZW50IGZyYW1lIGlmIGF2YWlsYWJsZVxuICAgICAqIEBwYXJhbSBoaXRSZXN1bHQgT3B0aW9uYWwgaGl0LXRlc3QgcmVzdWx0IHRvIGNyZWF0ZSB0aGUgYW5jaG9yIHdpdGhcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIGZvciB0aGUgbmV3bHkgY3JlYXRlZCBhbmNob3IgY29tcG9uZW50XG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShvLCBwYXJhbXMsIGZyYW1lLCBoaXRSZXN1bHQpIHtcbiAgICAgICAgY29uc3QgYSA9IG8uYWRkQ29tcG9uZW50KEFuY2hvciwgeyAuLi5wYXJhbXMsIGFjdGl2ZTogZmFsc2UgfSk7XG4gICAgICAgIGlmIChhID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGEueHJIaXRSZXN1bHQgPSBoaXRSZXN1bHQgPz8gbnVsbDtcbiAgICAgICAgYS54ckZyYW1lID0gZnJhbWUgPz8gbnVsbDtcbiAgICAgICAgYS5vbkNyZWF0ZS5vbmNlKCgpID0+ICgoYS54ckZyYW1lID0gbnVsbCksIChhLnhySGl0UmVzdWx0ID0gbnVsbCkpKTtcbiAgICAgICAgYS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gYS5vbkNyZWF0ZS5wcm9taXNlKCk7XG4gICAgfVxuICAgICNnZXRGcmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueHJGcmFtZSB8fCB0aGlzLmVuZ2luZS54ci5mcmFtZTtcbiAgICB9XG4gICAgYXN5bmMgI2NyZWF0ZUFuY2hvcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLiNnZXRGcmFtZSgpLmNyZWF0ZUFuY2hvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBhbmNob3IgLSBhbmNob3JzIG5vdCBzdXBwb3J0ZWQsIGRpZCB5b3UgZW5hYmxlIHRoZSAnYW5jaG9ycycgV2ViWFIgZmVhdHVyZT9cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMueHJIaXRSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnhySGl0UmVzdWx0LmNyZWF0ZUFuY2hvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0ZWQgYW5jaG9yIG9uIFhSSGl0VGVzdFJlc3VsdCwgYnV0IFdlYlhSIGhpdC10ZXN0IGZlYXR1cmUgaXMgbm90IGF2YWlsYWJsZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnhySGl0UmVzdWx0LmNyZWF0ZUFuY2hvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0ZW1wVmVjMyk7XG4gICAgICAgICAgICB0ZW1wUXVhdC5zZXQodGhpcy5vYmplY3Qucm90YXRpb25Xb3JsZCk7XG4gICAgICAgICAgICBjb25zdCByb3RhdGlvbiA9IHRlbXBRdWF0O1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yUG9zZSA9IG5ldyBYUlJpZ2lkVHJhbnNmb3JtKHsgeDogdGVtcFZlYzNbMF0sIHk6IHRlbXBWZWMzWzFdLCB6OiB0ZW1wVmVjM1syXSB9LCB7IHg6IHJvdGF0aW9uWzBdLCB5OiByb3RhdGlvblsxXSwgejogcm90YXRpb25bMl0sIHc6IHJvdGF0aW9uWzNdIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuI2dldEZyYW1lKCk/LmNyZWF0ZUFuY2hvcihhbmNob3JQb3NlLCB0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgICNvbkFkZEFuY2hvcihhbmNob3IpIHtcbiAgICAgICAgaWYgKCFhbmNob3IpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLnBlcnNpc3QpIHtcbiAgICAgICAgICAgIGlmIChhbmNob3IucmVxdWVzdFBlcnNpc3RlbnRIYW5kbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGFuY2hvci5yZXF1ZXN0UGVyc2lzdGVudEhhbmRsZSgpLnRoZW4oKHV1aWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51dWlkID0gdXVpZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jb25DcmVhdGUoYW5jaG9yKTtcbiAgICAgICAgICAgICAgICAgICAgQW5jaG9yLiNhZGRBbmNob3IodGhpcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdhbmNob3I6IFBlcnNpc3RlbnQgYW5jaG9ycyBhcmUgbm90IHN1cHBvcnRlZCBieSB5b3VyIGNsaWVudC4gSWdub3JpbmcgcGVyc2lzdCBwcm9wZXJ0eS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNvbkNyZWF0ZShhbmNob3IpO1xuICAgIH1cbiAgICAjb25SZXN0b3JlQW5jaG9yKGFuY2hvcikge1xuICAgICAgICB0aGlzLiNvbkNyZWF0ZShhbmNob3IpO1xuICAgIH1cbiAgICAjb25DcmVhdGUoYW5jaG9yKSB7XG4gICAgICAgIHRoaXMueHJBbmNob3IgPSBhbmNob3I7XG4gICAgICAgIHRoaXMub25DcmVhdGUubm90aWZ5KHRoaXMpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMudXVpZCAmJiB0aGlzLmVuZ2luZS54cikge1xuICAgICAgICAgICAgdGhpcy5wZXJzaXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuZ2luZS54ci5zZXNzaW9uLnJlc3RvcmVQZXJzaXN0ZW50QW5jaG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2FuY2hvcjogUGVyc2lzdGVudCBhbmNob3JzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgY2xpZW50LiBJZ25vcmluZyBwZXJzaXN0IHByb3BlcnR5LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5yZXN0b3JlUGVyc2lzdGVudEFuY2hvcih0aGlzLnV1aWQpLnRoZW4odGhpcy4jb25SZXN0b3JlQW5jaG9yLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuI2dldEZyYW1lKCkpIHtcbiAgICAgICAgICAgIHRoaXMuI2NyZWF0ZUFuY2hvcigpLnRoZW4odGhpcy4jb25BZGRBbmNob3IuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuY2hvcnMgY2FuIG9ubHkgYmUgY3JlYXRlZCBkdXJpbmcgdGhlIFhSIGZyYW1lIGluIGFuIGFjdGl2ZSBYUiBzZXNzaW9uJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMueHJBbmNob3IgfHwgIXRoaXMuZW5naW5lLnhyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvKiBXZSBuZWVkIHRvIHVzZSB0aGUgYWN0dWFsIGZyYW1lIGZyb20gdGhlIGRyYXcgY2FsbGJhY2sgaGVyZSAqL1xuICAgICAgICBjb25zdCBwb3NlID0gdGhpcy5lbmdpbmUueHIuZnJhbWUuZ2V0UG9zZSh0aGlzLnhyQW5jaG9yLmFuY2hvclNwYWNlLCB0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xuICAgICAgICBjb25zdCB2aXNpYmxlID0gISFwb3NlO1xuICAgICAgICBpZiAodmlzaWJsZSAhPSB0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGU7XG4gICAgICAgICAgICAodmlzaWJsZSA/IHRoaXMub25UcmFja2luZ0ZvdW5kIDogdGhpcy5vblRyYWNraW5nTG9zdCkubm90aWZ5KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NlKSB7XG4gICAgICAgICAgICBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwodGhpcy5vYmplY3QsIHBvc2UudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkRlc3Ryb3koKSB7XG4gICAgICAgIEFuY2hvci4jcmVtb3ZlQW5jaG9yKHRoaXMpO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmJvb2woZmFsc2UpXG5dLCBBbmNob3IucHJvdG90eXBlLCBcInBlcnNpc3RcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LnN0cmluZygpXG5dLCBBbmNob3IucHJvdG90eXBlLCBcInV1aWRcIiwgdm9pZCAwKTtcbmV4cG9ydCB7IEFuY2hvciB9O1xuIiwgImltcG9ydCB7IENvbXBvbmVudCwgRW1pdHRlciB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG4vKipcbiAqIENsaWNrL2hvdmVyL21vdmUvYnV0dG9uIHRhcmdldCBmb3IgW2N1cnNvcl0oI2N1cnNvcikuXG4gKlxuICogVG8gdHJpZ2dlciBjb2RlIHdoZW4gY2xpY2tpbmcsIGhvdmVyaW5nLCB1bmhvdmVyaW5nLCBtb3ZpbmcgY3Vyc29yLCBwcmVzc2luZ1xuICogY3Vyc29yIGJ1dHRvbiBvciByZWxlYXNpbmcgY3Vyc29yIGJ1dHRvbiwgdXNlIGAuYWRkQ2xpY2tGdW5jdGlvbihmKWAsXG4gKiBgLmFkZEhvdmVyRnVuY3Rpb24oZilgLCBgLmFkZFVuSG92ZXJGdW5jdGlvbihmKWAsXG4gKiBgLmFkZE1vdmVGdW5jdGlvbihmKWAsIGAuYWRkRG93bkZ1bmN0aW9uKGYpYCBhbmRcbiAqIGAuYWRkVXBGdW5jdGlvbihmKWAgcmVzcGVjdGl2ZWx5IHdpdGggYW55IGBmdW5jdGlvbiBmKCkge31gLlxuICpcbiAqIFRvIGNhbGwgbWVtYmVycyBvbiBhIGRpZmZlcmVudCBjb21wb25lbnQsIHlvdSBjYW4gc2V0IHVwIGEgY3Vyc29yIHRhcmdldCBsaWtlXG4gKiBzbzpcbiAqXG4gKiBgYGBqc1xuICogc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICogICBsZXQgdGFyZ2V0ID0gdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KCdjdXJzb3ItdGFyZ2V0Jyk7XG4gKiAgIHRhcmdldC5vbkNsaWNrLmFkZCh0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSk7XG4gKiB9LFxuICogb25DbGljazogZnVuY3Rpb24oKSB7XG4gKiAgIGNvbnNvbGUubG9nKHRoaXMub2JqZWN0Lm5hbWUsIFwid2FzIGNsaWNrZWQhXCIpO1xuICogfVxuICogYGBgXG4gKiAqKkZ1bmN0aW9uczoqKlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB0YXJnZXQgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoQ3Vyc29yVGFyZ2V0KTtcbiAqIGNvbnN0IGNhbGxiYWNrID0gZnVuY3Rpb24ob2JqZWN0LCBjdXJzb3JDb21wb25lbnQpIHt9O1xuICpcbiAqIHRhcmdldC5vbkhvdmVyLmFkZChjYWxsYmFjayk7XG4gKiB0YXJnZXQub25Ib3Zlci5yZW1vdmUoY2FsbGJhY2spO1xuICpcbiAqIHRhcmdldC5vblVuSG92ZXIuYWRkKGNhbGxiYWNrKTtcbiAqIHRhcmdldC5vblVuSG92ZXIucmVtb3ZlKGNhbGxiYWNrKTtcbiAqXG4gKiB0YXJnZXQub25DbGljay5hZGQoY2FsbGJhY2spO1xuICogdGFyZ2V0Lm9uQ2xpY2sucmVtb3ZlKGNhbGxiYWNrKTtcbiAqXG4gKiB0YXJnZXQub25Nb3ZlLmFkZChjYWxsYmFjayk7XG4gKiB0YXJnZXQub25Nb3ZlLnJlbW92ZShjYWxsYmFjayk7XG4gKlxuICogdGFyZ2V0Lm9uRG93bi5hZGQoY2FsbGJhY2spO1xuICogdGFyZ2V0Lm9uRG93bi5yZW1vdmUoY2FsbGJhY2spO1xuICpcbiAqIHRhcmdldC5vblVwLmFkZChjYWxsYmFjayk7XG4gKiB0YXJnZXQub25VcC5yZW1vdmUoY2FsbGJhY2spO1xuICogYGBgXG4gKlxuICogKipSZXF1aXJlbWVudHM6KipcbiAqIC0gYSBgY29sbGlzaW9uYCBjb21wb25lbnQgdG8gYmUgYXR0YWNoZWQgdG8gdGhlIHNhbWUgb2JqZWN0LlxuICpcbiAqIFNlZSBbQW5pbWF0aW9uIEV4YW1wbGVdKC9zaG93Y2FzZS9hbmltYXRpb24pLlxuICovXG5jbGFzcyBDdXJzb3JUYXJnZXQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdjdXJzb3ItdGFyZ2V0JztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHt9O1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIGhvdmVyZWQgKi9cbiAgICBvbkhvdmVyID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHRhcmdldCBpcyB1bmhvdmVyZWQgKi9cbiAgICBvblVuaG92ZXIgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIGNsaWNrZWQgKi9cbiAgICBvbkNsaWNrID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIGN1cnNvciBtb3ZlcyBvbiB0aGUgdGFyZ2V0ICovXG4gICAgb25Nb3ZlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHVzZXIgcHJlc3NlZCB0aGUgc2VsZWN0IGJ1dHRvbiBvbiB0aGUgdGFyZ2V0ICovXG4gICAgb25Eb3duID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHVzZXIgdW5wcmVzc2VkIHRoZSBzZWxlY3QgYnV0dG9uIG9uIHRoZSB0YXJnZXQgKi9cbiAgICBvblVwID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICAgdGhpcy5vbkhvdmVyLmFkZChmKTtcbiAgICAgKi9cbiAgICBhZGRIb3ZlckZ1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vbkhvdmVyLmFkZChmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIHRoaXMub25Ib3Zlci5yZW1vdmUoZik7XG4gICAgICovXG4gICAgcmVtb3ZlSG92ZXJGdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25Ib3Zlci5yZW1vdmUoZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICB0aGlzLm9uVW5ob3Zlci5hZGQoZik7XG4gICAgICovXG4gICAgYWRkVW5Ib3ZlckZ1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vblVuaG92ZXIuYWRkKGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICAgdGhpcy5vblVuaG92ZXIucmVtb3ZlKGYpO1xuICAgICAqL1xuICAgIHJlbW92ZVVuSG92ZXJGdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25VbmhvdmVyLnJlbW92ZShmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIHRoaXMub25DbGljay5hZGQoZik7XG4gICAgICovXG4gICAgYWRkQ2xpY2tGdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25DbGljay5hZGQoZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICBjb21wb25lbnQub25DbGljay5yZW1vdmUoZik7XG4gICAgICovXG4gICAgcmVtb3ZlQ2xpY2tGdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25DbGljay5yZW1vdmUoZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICBjb21wb25lbnQub25Nb3ZlLmFkZChmKTtcbiAgICAgKi9cbiAgICBhZGRNb3ZlRnVuY3Rpb24oZikge1xuICAgICAgICB0aGlzLm9uTW92ZS5hZGQoZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICBjb21wb25lbnQub25Nb3ZlLnJlbW92ZShmKTtcbiAgICAgKi9cbiAgICByZW1vdmVNb3ZlRnVuY3Rpb24oZikge1xuICAgICAgICB0aGlzLm9uTW92ZS5yZW1vdmUoZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICBjb21wb25lbnQub25Eb3duLmFkZChmKTtcbiAgICAgKi9cbiAgICBhZGREb3duRnVuY3Rpb24oZikge1xuICAgICAgICB0aGlzLm9uRG93bi5hZGQoZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICBjb21wb25lbnQub25Eb3duLnJlbW92ZShmKTtcbiAgICAgKi9cbiAgICByZW1vdmVEb3duRnVuY3Rpb24oZikge1xuICAgICAgICB0aGlzLm9uRG93bi5yZW1vdmUoZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICBjb21wb25lbnQub25VcC5hZGQoZik7XG4gICAgICovXG4gICAgYWRkVXBGdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25VcC5hZGQoZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICBjb21wb25lbnQub25VcC5yZW1vdmUoZik7XG4gICAgICovXG4gICAgcmVtb3ZlVXBGdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25VcC5yZW1vdmUoZik7XG4gICAgfVxufVxuZXhwb3J0IHsgQ3Vyc29yVGFyZ2V0IH07XG4iLCAiLyoqXG4gKiBDb21tb24gdXRpbGl0aWVzXG4gKiBAbW9kdWxlIGdsTWF0cml4XG4gKi9cbi8vIENvbmZpZ3VyYXRpb24gQ29uc3RhbnRzXG5leHBvcnQgdmFyIEVQU0lMT04gPSAwLjAwMDAwMTtcbmV4cG9ydCB2YXIgQVJSQVlfVFlQRSA9IHR5cGVvZiBGbG9hdDMyQXJyYXkgIT09ICd1bmRlZmluZWQnID8gRmxvYXQzMkFycmF5IDogQXJyYXk7XG5leHBvcnQgdmFyIFJBTkRPTSA9IE1hdGgucmFuZG9tO1xuLyoqXG4gKiBTZXRzIHRoZSB0eXBlIG9mIGFycmF5IHVzZWQgd2hlbiBjcmVhdGluZyBuZXcgdmVjdG9ycyBhbmQgbWF0cmljZXNcbiAqXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheUNvbnN0cnVjdG9yIHwgQXJyYXlDb25zdHJ1Y3Rvcn0gdHlwZSBBcnJheSB0eXBlLCBzdWNoIGFzIEZsb2F0MzJBcnJheSBvciBBcnJheVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRNYXRyaXhBcnJheVR5cGUodHlwZSkge1xuICBBUlJBWV9UWVBFID0gdHlwZTtcbn1cbnZhciBkZWdyZWUgPSBNYXRoLlBJIC8gMTgwO1xuLyoqXG4gKiBDb252ZXJ0IERlZ3JlZSBUbyBSYWRpYW5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBBbmdsZSBpbiBEZWdyZWVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFuKGEpIHtcbiAgcmV0dXJuIGEgKiBkZWdyZWU7XG59XG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSBhcmd1bWVudHMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHZhbHVlLCB3aXRoaW4gYW4gYWJzb2x1dGVcbiAqIG9yIHJlbGF0aXZlIHRvbGVyYW5jZSBvZiBnbE1hdHJpeC5FUFNJTE9OIChhbiBhYnNvbHV0ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgdmFsdWVzIGxlc3NcbiAqIHRoYW4gb3IgZXF1YWwgdG8gMS4wLCBhbmQgYSByZWxhdGl2ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgbGFyZ2VyIHZhbHVlcylcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBUaGUgZmlyc3QgbnVtYmVyIHRvIHRlc3QuXG4gKiBAcGFyYW0ge051bWJlcn0gYiBUaGUgc2Vjb25kIG51bWJlciB0byB0ZXN0LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG51bWJlcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBFUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhKSwgTWF0aC5hYnMoYikpO1xufVxuaWYgKCFNYXRoLmh5cG90KSBNYXRoLmh5cG90ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgeSA9IDAsXG4gICAgICBpID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgeSArPSBhcmd1bWVudHNbaV0gKiBhcmd1bWVudHNbaV07XG4gIH1cblxuICByZXR1cm4gTWF0aC5zcXJ0KHkpO1xufTsiLCAiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG4vKipcbiAqIDN4MyBNYXRyaXhcbiAqIEBtb2R1bGUgbWF0M1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQzXG4gKlxuICogQHJldHVybnMge21hdDN9IGEgbmV3IDN4MyBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzVdID0gMDtcbiAgICBvdXRbNl0gPSAwO1xuICAgIG91dFs3XSA9IDA7XG4gIH1cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbNF0gPSAxO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3BpZXMgdGhlIHVwcGVyLWxlZnQgM3gzIHZhbHVlcyBpbnRvIHRoZSBnaXZlbiBtYXQzLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgM3gzIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgICB0aGUgc291cmNlIDR4NCBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbU1hdDQob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbNF07XG4gIG91dFs0XSA9IGFbNV07XG4gIG91dFs1XSA9IGFbNl07XG4gIG91dFs2XSA9IGFbOF07XG4gIG91dFs3XSA9IGFbOV07XG4gIG91dFs4XSA9IGFbMTBdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gY2xvbmVcbiAqIEByZXR1cm5zIHttYXQzfSBhIG5ldyAzeDMgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDkpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0MyB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBtYXQzIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEByZXR1cm5zIHttYXQzfSBBIG5ldyBtYXQzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTEwLCBtMTEsIG0xMiwgbTIwLCBtMjEsIG0yMikge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0xMDtcbiAgb3V0WzRdID0gbTExO1xuICBvdXRbNV0gPSBtMTI7XG4gIG91dFs2XSA9IG0yMDtcbiAgb3V0WzddID0gbTIxO1xuICBvdXRbOF0gPSBtMjI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIG1hdDMgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIG0wMCwgbTAxLCBtMDIsIG0xMCwgbTExLCBtMTIsIG0yMCwgbTIxLCBtMjIpIHtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTEwO1xuICBvdXRbNF0gPSBtMTE7XG4gIG91dFs1XSA9IG0xMjtcbiAgb3V0WzZdID0gbTIwO1xuICBvdXRbN10gPSBtMjE7XG4gIG91dFs4XSA9IG0yMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IGEgbWF0MyB0byB0aGUgaWRlbnRpdHkgbWF0cml4XG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDE7XG4gIG91dFs1XSA9IDA7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XG4gIC8vIElmIHdlIGFyZSB0cmFuc3Bvc2luZyBvdXJzZWx2ZXMgd2UgY2FuIHNraXAgYSBmZXcgc3RlcHMgYnV0IGhhdmUgdG8gY2FjaGUgc29tZSB2YWx1ZXNcbiAgaWYgKG91dCA9PT0gYSkge1xuICAgIHZhciBhMDEgPSBhWzFdLFxuICAgICAgICBhMDIgPSBhWzJdLFxuICAgICAgICBhMTIgPSBhWzVdO1xuICAgIG91dFsxXSA9IGFbM107XG4gICAgb3V0WzJdID0gYVs2XTtcbiAgICBvdXRbM10gPSBhMDE7XG4gICAgb3V0WzVdID0gYVs3XTtcbiAgICBvdXRbNl0gPSBhMDI7XG4gICAgb3V0WzddID0gYTEyO1xuICB9IGVsc2Uge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVszXTtcbiAgICBvdXRbMl0gPSBhWzZdO1xuICAgIG91dFszXSA9IGFbMV07XG4gICAgb3V0WzRdID0gYVs0XTtcbiAgICBvdXRbNV0gPSBhWzddO1xuICAgIG91dFs2XSA9IGFbMl07XG4gICAgb3V0WzddID0gYVs1XTtcbiAgICBvdXRbOF0gPSBhWzhdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogSW52ZXJ0cyBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdO1xuICB2YXIgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdO1xuICB2YXIgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdO1xuICB2YXIgYjAxID0gYTIyICogYTExIC0gYTEyICogYTIxO1xuICB2YXIgYjExID0gLWEyMiAqIGExMCArIGExMiAqIGEyMDtcbiAgdmFyIGIyMSA9IGEyMSAqIGExMCAtIGExMSAqIGEyMDsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHZhciBkZXQgPSBhMDAgKiBiMDEgKyBhMDEgKiBiMTEgKyBhMDIgKiBiMjE7XG5cbiAgaWYgKCFkZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gYjAxICogZGV0O1xuICBvdXRbMV0gPSAoLWEyMiAqIGEwMSArIGEwMiAqIGEyMSkgKiBkZXQ7XG4gIG91dFsyXSA9IChhMTIgKiBhMDEgLSBhMDIgKiBhMTEpICogZGV0O1xuICBvdXRbM10gPSBiMTEgKiBkZXQ7XG4gIG91dFs0XSA9IChhMjIgKiBhMDAgLSBhMDIgKiBhMjApICogZGV0O1xuICBvdXRbNV0gPSAoLWExMiAqIGEwMCArIGEwMiAqIGExMCkgKiBkZXQ7XG4gIG91dFs2XSA9IGIyMSAqIGRldDtcbiAgb3V0WzddID0gKC1hMjEgKiBhMDAgKyBhMDEgKiBhMjApICogZGV0O1xuICBvdXRbOF0gPSAoYTExICogYTAwIC0gYTAxICogYTEwKSAqIGRldDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYWRqdWdhdGUgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl07XG4gIHZhciBhMTAgPSBhWzNdLFxuICAgICAgYTExID0gYVs0XSxcbiAgICAgIGExMiA9IGFbNV07XG4gIHZhciBhMjAgPSBhWzZdLFxuICAgICAgYTIxID0gYVs3XSxcbiAgICAgIGEyMiA9IGFbOF07XG4gIG91dFswXSA9IGExMSAqIGEyMiAtIGExMiAqIGEyMTtcbiAgb3V0WzFdID0gYTAyICogYTIxIC0gYTAxICogYTIyO1xuICBvdXRbMl0gPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIG91dFszXSA9IGExMiAqIGEyMCAtIGExMCAqIGEyMjtcbiAgb3V0WzRdID0gYTAwICogYTIyIC0gYTAyICogYTIwO1xuICBvdXRbNV0gPSBhMDIgKiBhMTAgLSBhMDAgKiBhMTI7XG4gIG91dFs2XSA9IGExMCAqIGEyMSAtIGExMSAqIGEyMDtcbiAgb3V0WzddID0gYTAxICogYTIwIC0gYTAwICogYTIxO1xuICBvdXRbOF0gPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXTtcbiAgdmFyIGExMCA9IGFbM10sXG4gICAgICBhMTEgPSBhWzRdLFxuICAgICAgYTEyID0gYVs1XTtcbiAgdmFyIGEyMCA9IGFbNl0sXG4gICAgICBhMjEgPSBhWzddLFxuICAgICAgYTIyID0gYVs4XTtcbiAgcmV0dXJuIGEwMCAqIChhMjIgKiBhMTEgLSBhMTIgKiBhMjEpICsgYTAxICogKC1hMjIgKiBhMTAgKyBhMTIgKiBhMjApICsgYTAyICogKGEyMSAqIGExMCAtIGExMSAqIGEyMCk7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIG1hdDMnc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdO1xuICB2YXIgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdO1xuICB2YXIgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdO1xuICB2YXIgYjAwID0gYlswXSxcbiAgICAgIGIwMSA9IGJbMV0sXG4gICAgICBiMDIgPSBiWzJdO1xuICB2YXIgYjEwID0gYlszXSxcbiAgICAgIGIxMSA9IGJbNF0sXG4gICAgICBiMTIgPSBiWzVdO1xuICB2YXIgYjIwID0gYls2XSxcbiAgICAgIGIyMSA9IGJbN10sXG4gICAgICBiMjIgPSBiWzhdO1xuICBvdXRbMF0gPSBiMDAgKiBhMDAgKyBiMDEgKiBhMTAgKyBiMDIgKiBhMjA7XG4gIG91dFsxXSA9IGIwMCAqIGEwMSArIGIwMSAqIGExMSArIGIwMiAqIGEyMTtcbiAgb3V0WzJdID0gYjAwICogYTAyICsgYjAxICogYTEyICsgYjAyICogYTIyO1xuICBvdXRbM10gPSBiMTAgKiBhMDAgKyBiMTEgKiBhMTAgKyBiMTIgKiBhMjA7XG4gIG91dFs0XSA9IGIxMCAqIGEwMSArIGIxMSAqIGExMSArIGIxMiAqIGEyMTtcbiAgb3V0WzVdID0gYjEwICogYTAyICsgYjExICogYTEyICsgYjEyICogYTIyO1xuICBvdXRbNl0gPSBiMjAgKiBhMDAgKyBiMjEgKiBhMTAgKyBiMjIgKiBhMjA7XG4gIG91dFs3XSA9IGIyMCAqIGEwMSArIGIyMSAqIGExMSArIGIyMiAqIGEyMTtcbiAgb3V0WzhdID0gYjIwICogYTAyICsgYjIxICogYTEyICsgYjIyICogYTIyO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2xhdGUgYSBtYXQzIGJ5IHRoZSBnaXZlbiB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byB0cmFuc2xhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdLFxuICAgICAgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdLFxuICAgICAgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXTtcbiAgb3V0WzBdID0gYTAwO1xuICBvdXRbMV0gPSBhMDE7XG4gIG91dFsyXSA9IGEwMjtcbiAgb3V0WzNdID0gYTEwO1xuICBvdXRbNF0gPSBhMTE7XG4gIG91dFs1XSA9IGExMjtcbiAgb3V0WzZdID0geCAqIGEwMCArIHkgKiBhMTAgKyBhMjA7XG4gIG91dFs3XSA9IHggKiBhMDEgKyB5ICogYTExICsgYTIxO1xuICBvdXRbOF0gPSB4ICogYTAyICsgeSAqIGExMiArIGEyMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdDMgYnkgdGhlIGdpdmVuIGFuZ2xlXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUob3V0LCBhLCByYWQpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGExMCA9IGFbM10sXG4gICAgICBhMTEgPSBhWzRdLFxuICAgICAgYTEyID0gYVs1XSxcbiAgICAgIGEyMCA9IGFbNl0sXG4gICAgICBhMjEgPSBhWzddLFxuICAgICAgYTIyID0gYVs4XSxcbiAgICAgIHMgPSBNYXRoLnNpbihyYWQpLFxuICAgICAgYyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGMgKiBhMDAgKyBzICogYTEwO1xuICBvdXRbMV0gPSBjICogYTAxICsgcyAqIGExMTtcbiAgb3V0WzJdID0gYyAqIGEwMiArIHMgKiBhMTI7XG4gIG91dFszXSA9IGMgKiBhMTAgLSBzICogYTAwO1xuICBvdXRbNF0gPSBjICogYTExIC0gcyAqIGEwMTtcbiAgb3V0WzVdID0gYyAqIGExMiAtIHMgKiBhMDI7XG4gIG91dFs2XSA9IGEyMDtcbiAgb3V0WzddID0gYTIxO1xuICBvdXRbOF0gPSBhMjI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyB0aGUgbWF0MyBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdGhlIHZlYzIgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICoqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCB2KSB7XG4gIHZhciB4ID0gdlswXSxcbiAgICAgIHkgPSB2WzFdO1xuICBvdXRbMF0gPSB4ICogYVswXTtcbiAgb3V0WzFdID0geCAqIGFbMV07XG4gIG91dFsyXSA9IHggKiBhWzJdO1xuICBvdXRbM10gPSB5ICogYVszXTtcbiAgb3V0WzRdID0geSAqIGFbNF07XG4gIG91dFs1XSA9IHkgKiBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3IgdHJhbnNsYXRpb25cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQzLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDMudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHYpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gdlswXTtcbiAgb3V0WzddID0gdlsxXTtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gYW5nbGVcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQzLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDMucm90YXRlKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKSxcbiAgICAgIGMgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAtcztcbiAgb3V0WzRdID0gYztcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQzLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDMuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gdlsxXTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29waWVzIHRoZSB2YWx1ZXMgZnJvbSBhIG1hdDJkIGludG8gYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYSB0aGUgbWF0cml4IHRvIGNvcHlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQyZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gYVsyXTtcbiAgb3V0WzRdID0gYVszXTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gYVs0XTtcbiAgb3V0WzddID0gYVs1XTtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBhIDN4MyBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIFF1YXRlcm5pb24gdG8gY3JlYXRlIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB5eCA9IHkgKiB4MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgenggPSB6ICogeDI7XG4gIHZhciB6eSA9IHogKiB5MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcbiAgb3V0WzNdID0geXggLSB3ejtcbiAgb3V0WzZdID0genggKyB3eTtcbiAgb3V0WzFdID0geXggKyB3ejtcbiAgb3V0WzRdID0gMSAtIHh4IC0geno7XG4gIG91dFs3XSA9IHp5IC0gd3g7XG4gIG91dFsyXSA9IHp4IC0gd3k7XG4gIG91dFs1XSA9IHp5ICsgd3g7XG4gIG91dFs4XSA9IDEgLSB4eCAtIHl5O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgM3gzIG5vcm1hbCBtYXRyaXggKHRyYW5zcG9zZSBpbnZlcnNlKSBmcm9tIHRoZSA0eDQgbWF0cml4XG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgTWF0NCB0byBkZXJpdmUgdGhlIG5vcm1hbCBtYXRyaXggZnJvbVxuICpcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsRnJvbU1hdDQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgdmFyIGRldCA9IGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcblxuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSAoYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5KSAqIGRldDtcbiAgb3V0WzFdID0gKGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNykgKiBkZXQ7XG4gIG91dFsyXSA9IChhMTAgKiBiMTAgLSBhMTEgKiBiMDggKyBhMTMgKiBiMDYpICogZGV0O1xuICBvdXRbM10gPSAoYTAyICogYjEwIC0gYTAxICogYjExIC0gYTAzICogYjA5KSAqIGRldDtcbiAgb3V0WzRdID0gKGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs1XSA9IChhMDEgKiBiMDggLSBhMDAgKiBiMTAgLSBhMDMgKiBiMDYpICogZGV0O1xuICBvdXRbNl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGRldDtcbiAgb3V0WzddID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs4XSA9IChhMzAgKiBiMDQgLSBhMzEgKiBiMDIgKyBhMzMgKiBiMDApICogZGV0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSAyRCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggV2lkdGggb2YgeW91ciBnbCBjb250ZXh0XG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiBnbCBjb250ZXh0XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3Rpb24ob3V0LCB3aWR0aCwgaGVpZ2h0KSB7XG4gIG91dFswXSA9IDIgLyB3aWR0aDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gLTIgLyBoZWlnaHQ7XG4gIG91dFs1XSA9IDA7XG4gIG91dFs2XSA9IC0xO1xuICBvdXRbN10gPSAxO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIG1hdHJpeCB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcIm1hdDMoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIsIFwiICsgYVs0XSArIFwiLCBcIiArIGFbNV0gKyBcIiwgXCIgKyBhWzZdICsgXCIsIFwiICsgYVs3XSArIFwiLCBcIiArIGFbOF0gKyBcIilcIjtcbn1cbi8qKlxuICogUmV0dXJucyBGcm9iZW5pdXMgbm9ybSBvZiBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIGNhbGN1bGF0ZSBGcm9iZW5pdXMgbm9ybSBvZlxuICogQHJldHVybnMge051bWJlcn0gRnJvYmVuaXVzIG5vcm1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0pO1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQzJ3NcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xuICBvdXRbN10gPSBhWzddIC0gYls3XTtcbiAgb3V0WzhdID0gYVs4XSAtIGJbOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgb3V0WzRdID0gYVs0XSAqIGI7XG4gIG91dFs1XSA9IGFbNV0gKiBiO1xuICBvdXRbNl0gPSBhWzZdICogYjtcbiAgb3V0WzddID0gYVs3XSAqIGI7XG4gIG91dFs4XSA9IGFbOF0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQzJ3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XSAqIHNjYWxlO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xuICBvdXRbN10gPSBhWzddICsgYls3XSAqIHNjYWxlO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN10gJiYgYVs4XSA9PT0gYls4XTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIFRoZSBmaXJzdCBtYXRyaXguXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXSxcbiAgICAgIGE0ID0gYVs0XSxcbiAgICAgIGE1ID0gYVs1XSxcbiAgICAgIGE2ID0gYVs2XSxcbiAgICAgIGE3ID0gYVs3XSxcbiAgICAgIGE4ID0gYVs4XTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXSxcbiAgICAgIGI0ID0gYls0XSxcbiAgICAgIGI1ID0gYls1XSxcbiAgICAgIGI2ID0gYls2XSxcbiAgICAgIGI3ID0gYls3XSxcbiAgICAgIGI4ID0gYls4XTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSkgJiYgTWF0aC5hYnMoYTggLSBiOCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTgpLCBNYXRoLmFicyhiOCkpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDMubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDMuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0OyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogNHg0IE1hdHJpeDxicj5Gb3JtYXQ6IGNvbHVtbi1tYWpvciwgd2hlbiB0eXBlZCBvdXQgaXQgbG9va3MgbGlrZSByb3ctbWFqb3I8YnI+VGhlIG1hdHJpY2VzIGFyZSBiZWluZyBwb3N0IG11bHRpcGxpZWQuXG4gKiBAbW9kdWxlIG1hdDRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgbWF0NFxuICpcbiAqIEByZXR1cm5zIHttYXQ0fSBhIG5ldyA0eDQgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNF0gPSAwO1xuICAgIG91dFs2XSA9IDA7XG4gICAgb3V0WzddID0gMDtcbiAgICBvdXRbOF0gPSAwO1xuICAgIG91dFs5XSA9IDA7XG4gICAgb3V0WzExXSA9IDA7XG4gICAgb3V0WzEyXSA9IDA7XG4gICAgb3V0WzEzXSA9IDA7XG4gICAgb3V0WzE0XSA9IDA7XG4gIH1cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byBjbG9uZVxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICBvdXRbOV0gPSBhWzldO1xuICBvdXRbMTBdID0gYVsxMF07XG4gIG91dFsxMV0gPSBhWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0NCB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBtYXQ0IHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcbiAqIEByZXR1cm5zIHttYXQ0fSBBIG5ldyBtYXQ0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0NCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IGEgbWF0NCB0byB0aGUgaWRlbnRpdHkgbWF0cml4XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XG4gIC8vIElmIHdlIGFyZSB0cmFuc3Bvc2luZyBvdXJzZWx2ZXMgd2UgY2FuIHNraXAgYSBmZXcgc3RlcHMgYnV0IGhhdmUgdG8gY2FjaGUgc29tZSB2YWx1ZXNcbiAgaWYgKG91dCA9PT0gYSkge1xuICAgIHZhciBhMDEgPSBhWzFdLFxuICAgICAgICBhMDIgPSBhWzJdLFxuICAgICAgICBhMDMgPSBhWzNdO1xuICAgIHZhciBhMTIgPSBhWzZdLFxuICAgICAgICBhMTMgPSBhWzddO1xuICAgIHZhciBhMjMgPSBhWzExXTtcbiAgICBvdXRbMV0gPSBhWzRdO1xuICAgIG91dFsyXSA9IGFbOF07XG4gICAgb3V0WzNdID0gYVsxMl07XG4gICAgb3V0WzRdID0gYTAxO1xuICAgIG91dFs2XSA9IGFbOV07XG4gICAgb3V0WzddID0gYVsxM107XG4gICAgb3V0WzhdID0gYTAyO1xuICAgIG91dFs5XSA9IGExMjtcbiAgICBvdXRbMTFdID0gYVsxNF07XG4gICAgb3V0WzEyXSA9IGEwMztcbiAgICBvdXRbMTNdID0gYTEzO1xuICAgIG91dFsxNF0gPSBhMjM7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzRdO1xuICAgIG91dFsyXSA9IGFbOF07XG4gICAgb3V0WzNdID0gYVsxMl07XG4gICAgb3V0WzRdID0gYVsxXTtcbiAgICBvdXRbNV0gPSBhWzVdO1xuICAgIG91dFs2XSA9IGFbOV07XG4gICAgb3V0WzddID0gYVsxM107XG4gICAgb3V0WzhdID0gYVsyXTtcbiAgICBvdXRbOV0gPSBhWzZdO1xuICAgIG91dFsxMF0gPSBhWzEwXTtcbiAgICBvdXRbMTFdID0gYVsxNF07XG4gICAgb3V0WzEyXSA9IGFbM107XG4gICAgb3V0WzEzXSA9IGFbN107XG4gICAgb3V0WzE0XSA9IGFbMTFdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEludmVydHMgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcblxuICB2YXIgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xuXG4gIGlmICghZGV0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBkZXQgPSAxLjAgLyBkZXQ7XG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xuICBvdXRbMV0gPSAoYTAyICogYjEwIC0gYTAxICogYjExIC0gYTAzICogYjA5KSAqIGRldDtcbiAgb3V0WzJdID0gKGEzMSAqIGIwNSAtIGEzMiAqIGIwNCArIGEzMyAqIGIwMykgKiBkZXQ7XG4gIG91dFszXSA9IChhMjIgKiBiMDQgLSBhMjEgKiBiMDUgLSBhMjMgKiBiMDMpICogZGV0O1xuICBvdXRbNF0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcbiAgb3V0WzVdID0gKGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs2XSA9IChhMzIgKiBiMDIgLSBhMzAgKiBiMDUgLSBhMzMgKiBiMDEpICogZGV0O1xuICBvdXRbN10gPSAoYTIwICogYjA1IC0gYTIyICogYjAyICsgYTIzICogYjAxKSAqIGRldDtcbiAgb3V0WzhdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XG4gIG91dFs5XSA9IChhMDEgKiBiMDggLSBhMDAgKiBiMTAgLSBhMDMgKiBiMDYpICogZGV0O1xuICBvdXRbMTBdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxMV0gPSAoYTIxICogYjAyIC0gYTIwICogYjA0IC0gYTIzICogYjAwKSAqIGRldDtcbiAgb3V0WzEyXSA9IChhMTEgKiBiMDcgLSBhMTAgKiBiMDkgLSBhMTIgKiBiMDYpICogZGV0O1xuICBvdXRbMTNdID0gKGEwMCAqIGIwOSAtIGEwMSAqIGIwNyArIGEwMiAqIGIwNikgKiBkZXQ7XG4gIG91dFsxNF0gPSAoYTMxICogYjAxIC0gYTMwICogYjAzIC0gYTMyICogYjAwKSAqIGRldDtcbiAgb3V0WzE1XSA9IChhMjAgKiBiMDMgLSBhMjEgKiBiMDEgKyBhMjIgKiBiMDApICogZGV0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRqb2ludChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIG91dFswXSA9IGExMSAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIxICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgKyBhMzEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKTtcbiAgb3V0WzFdID0gLShhMDEgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMSAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMxICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikpO1xuICBvdXRbMl0gPSBhMDEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMSAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XG4gIG91dFszXSA9IC0oYTAxICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikgLSBhMTEgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSArIGEyMSAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpKTtcbiAgb3V0WzRdID0gLShhMTAgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMCAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpICsgYTMwICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikpO1xuICBvdXRbNV0gPSBhMDAgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMik7XG4gIG91dFs2XSA9IC0oYTAwICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgLSBhMTAgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMCAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpKTtcbiAgb3V0WzddID0gYTAwICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikgLSBhMTAgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSArIGEyMCAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpO1xuICBvdXRbOF0gPSBhMTAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzMgLSBhMTMgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSk7XG4gIG91dFs5XSA9IC0oYTAwICogKGEyMSAqIGEzMyAtIGEyMyAqIGEzMSkgLSBhMjAgKiAoYTAxICogYTMzIC0gYTAzICogYTMxKSArIGEzMCAqIChhMDEgKiBhMjMgLSBhMDMgKiBhMjEpKTtcbiAgb3V0WzEwXSA9IGEwMCAqIChhMTEgKiBhMzMgLSBhMTMgKiBhMzEpIC0gYTEwICogKGEwMSAqIGEzMyAtIGEwMyAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTEzIC0gYTAzICogYTExKTtcbiAgb3V0WzExXSA9IC0oYTAwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpKTtcbiAgb3V0WzEyXSA9IC0oYTEwICogKGEyMSAqIGEzMiAtIGEyMiAqIGEzMSkgLSBhMjAgKiAoYTExICogYTMyIC0gYTEyICogYTMxKSArIGEzMCAqIChhMTEgKiBhMjIgLSBhMTIgKiBhMjEpKTtcbiAgb3V0WzEzXSA9IGEwMCAqIChhMjEgKiBhMzIgLSBhMjIgKiBhMzEpIC0gYTIwICogKGEwMSAqIGEzMiAtIGEwMiAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKTtcbiAgb3V0WzE0XSA9IC0oYTAwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpKTtcbiAgb3V0WzE1XSA9IGEwMCAqIChhMTEgKiBhMjIgLSBhMTIgKiBhMjEpIC0gYTEwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSkgKyBhMjAgKiAoYTAxICogYTEyIC0gYTAyICogYTExKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHJldHVybiBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIG1hdDRzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdOyAvLyBDYWNoZSBvbmx5IHRoZSBjdXJyZW50IGxpbmUgb2YgdGhlIHNlY29uZCBtYXRyaXhcblxuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICBvdXRbMF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzFdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsyXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbM10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzRdO1xuICBiMSA9IGJbNV07XG4gIGIyID0gYls2XTtcbiAgYjMgPSBiWzddO1xuICBvdXRbNF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzVdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFs2XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbN10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzhdO1xuICBiMSA9IGJbOV07XG4gIGIyID0gYlsxMF07XG4gIGIzID0gYlsxMV07XG4gIG91dFs4XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbOV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzEwXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbMTFdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYlsxMl07XG4gIGIxID0gYlsxM107XG4gIGIyID0gYlsxNF07XG4gIGIzID0gYlsxNV07XG4gIG91dFsxMl0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzEzXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTRdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxNV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNsYXRlIGEgbWF0NCBieSB0aGUgZ2l2ZW4gdmVjdG9yXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gdHJhbnNsYXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB2ZWN0b3IgdG8gdHJhbnNsYXRlIGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcblxuICBpZiAoYSA9PT0gb3V0KSB7XG4gICAgb3V0WzEyXSA9IGFbMF0gKiB4ICsgYVs0XSAqIHkgKyBhWzhdICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzFdICogeCArIGFbNV0gKiB5ICsgYVs5XSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsyXSAqIHggKyBhWzZdICogeSArIGFbMTBdICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzNdICogeCArIGFbN10gKiB5ICsgYVsxMV0gKiB6ICsgYVsxNV07XG4gIH0gZWxzZSB7XG4gICAgYTAwID0gYVswXTtcbiAgICBhMDEgPSBhWzFdO1xuICAgIGEwMiA9IGFbMl07XG4gICAgYTAzID0gYVszXTtcbiAgICBhMTAgPSBhWzRdO1xuICAgIGExMSA9IGFbNV07XG4gICAgYTEyID0gYVs2XTtcbiAgICBhMTMgPSBhWzddO1xuICAgIGEyMCA9IGFbOF07XG4gICAgYTIxID0gYVs5XTtcbiAgICBhMjIgPSBhWzEwXTtcbiAgICBhMjMgPSBhWzExXTtcbiAgICBvdXRbMF0gPSBhMDA7XG4gICAgb3V0WzFdID0gYTAxO1xuICAgIG91dFsyXSA9IGEwMjtcbiAgICBvdXRbM10gPSBhMDM7XG4gICAgb3V0WzRdID0gYTEwO1xuICAgIG91dFs1XSA9IGExMTtcbiAgICBvdXRbNl0gPSBhMTI7XG4gICAgb3V0WzddID0gYTEzO1xuICAgIG91dFs4XSA9IGEyMDtcbiAgICBvdXRbOV0gPSBhMjE7XG4gICAgb3V0WzEwXSA9IGEyMjtcbiAgICBvdXRbMTFdID0gYTIzO1xuICAgIG91dFsxMl0gPSBhMDAgKiB4ICsgYTEwICogeSArIGEyMCAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYTAxICogeCArIGExMSAqIHkgKyBhMjEgKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGEwMiAqIHggKyBhMTIgKiB5ICsgYTIyICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhMDMgKiB4ICsgYTEzICogeSArIGEyMyAqIHogKyBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyB0aGUgbWF0NCBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMyBub3QgdXNpbmcgdmVjdG9yaXphdGlvblxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB0aGUgdmVjMyB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgb3V0WzBdID0gYVswXSAqIHg7XG4gIG91dFsxXSA9IGFbMV0gKiB4O1xuICBvdXRbMl0gPSBhWzJdICogeDtcbiAgb3V0WzNdID0gYVszXSAqIHg7XG4gIG91dFs0XSA9IGFbNF0gKiB5O1xuICBvdXRbNV0gPSBhWzVdICogeTtcbiAgb3V0WzZdID0gYVs2XSAqIHk7XG4gIG91dFs3XSA9IGFbN10gKiB5O1xuICBvdXRbOF0gPSBhWzhdICogejtcbiAgb3V0WzldID0gYVs5XSAqIHo7XG4gIG91dFsxMF0gPSBhWzEwXSAqIHo7XG4gIG91dFsxMV0gPSBhWzExXSAqIHo7XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdDQgYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgZ2l2ZW4gYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcbiAgdmFyIGIwMCwgYjAxLCBiMDI7XG4gIHZhciBiMTAsIGIxMSwgYjEyO1xuICB2YXIgYjIwLCBiMjEsIGIyMjtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7XG4gIGEwMCA9IGFbMF07XG4gIGEwMSA9IGFbMV07XG4gIGEwMiA9IGFbMl07XG4gIGEwMyA9IGFbM107XG4gIGExMCA9IGFbNF07XG4gIGExMSA9IGFbNV07XG4gIGExMiA9IGFbNl07XG4gIGExMyA9IGFbN107XG4gIGEyMCA9IGFbOF07XG4gIGEyMSA9IGFbOV07XG4gIGEyMiA9IGFbMTBdO1xuICBhMjMgPSBhWzExXTsgLy8gQ29uc3RydWN0IHRoZSBlbGVtZW50cyBvZiB0aGUgcm90YXRpb24gbWF0cml4XG5cbiAgYjAwID0geCAqIHggKiB0ICsgYztcbiAgYjAxID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIGIwMiA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBiMTAgPSB4ICogeSAqIHQgLSB6ICogcztcbiAgYjExID0geSAqIHkgKiB0ICsgYztcbiAgYjEyID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIGIyMCA9IHggKiB6ICogdCArIHkgKiBzO1xuICBiMjEgPSB5ICogeiAqIHQgLSB4ICogcztcbiAgYjIyID0geiAqIHogKiB0ICsgYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBhMDAgKiBiMDAgKyBhMTAgKiBiMDEgKyBhMjAgKiBiMDI7XG4gIG91dFsxXSA9IGEwMSAqIGIwMCArIGExMSAqIGIwMSArIGEyMSAqIGIwMjtcbiAgb3V0WzJdID0gYTAyICogYjAwICsgYTEyICogYjAxICsgYTIyICogYjAyO1xuICBvdXRbM10gPSBhMDMgKiBiMDAgKyBhMTMgKiBiMDEgKyBhMjMgKiBiMDI7XG4gIG91dFs0XSA9IGEwMCAqIGIxMCArIGExMCAqIGIxMSArIGEyMCAqIGIxMjtcbiAgb3V0WzVdID0gYTAxICogYjEwICsgYTExICogYjExICsgYTIxICogYjEyO1xuICBvdXRbNl0gPSBhMDIgKiBiMTAgKyBhMTIgKiBiMTEgKyBhMjIgKiBiMTI7XG4gIG91dFs3XSA9IGEwMyAqIGIxMCArIGExMyAqIGIxMSArIGEyMyAqIGIxMjtcbiAgb3V0WzhdID0gYTAwICogYjIwICsgYTEwICogYjIxICsgYTIwICogYjIyO1xuICBvdXRbOV0gPSBhMDEgKiBiMjAgKyBhMTEgKiBiMjEgKyBhMjEgKiBiMjI7XG4gIG91dFsxMF0gPSBhMDIgKiBiMjAgKyBhMTIgKiBiMjEgKyBhMjIgKiBiMjI7XG4gIG91dFsxMV0gPSBhMDMgKiBiMjAgKyBhMTMgKiBiMjEgKyBhMjMgKiBiMjI7XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzFdO1xuICAgIG91dFsyXSA9IGFbMl07XG4gICAgb3V0WzNdID0gYVszXTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzRdID0gYTEwICogYyArIGEyMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgKyBhMjEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjICsgYTIyICogcztcbiAgb3V0WzddID0gYTEzICogYyArIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEyMCAqIGMgLSBhMTAgKiBzO1xuICBvdXRbOV0gPSBhMjEgKiBjIC0gYTExICogcztcbiAgb3V0WzEwXSA9IGEyMiAqIGMgLSBhMTIgKiBzO1xuICBvdXRbMTFdID0gYTIzICogYyAtIGExMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGEyMCA9IGFbOF07XG4gIHZhciBhMjEgPSBhWzldO1xuICB2YXIgYTIyID0gYVsxMF07XG4gIHZhciBhMjMgPSBhWzExXTtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgcm93c1xuICAgIG91dFs0XSA9IGFbNF07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzZdO1xuICAgIG91dFs3XSA9IGFbN107XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuXG4gIG91dFswXSA9IGEwMCAqIGMgLSBhMjAgKiBzO1xuICBvdXRbMV0gPSBhMDEgKiBjIC0gYTIxICogcztcbiAgb3V0WzJdID0gYTAyICogYyAtIGEyMiAqIHM7XG4gIG91dFszXSA9IGEwMyAqIGMgLSBhMjMgKiBzO1xuICBvdXRbOF0gPSBhMDAgKiBzICsgYTIwICogYztcbiAgb3V0WzldID0gYTAxICogcyArIGEyMSAqIGM7XG4gIG91dFsxMF0gPSBhMDIgKiBzICsgYTIyICogYztcbiAgb3V0WzExXSA9IGEwMyAqIHMgKyBhMjMgKiBjO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgb3V0WzldID0gYVs5XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTFdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjICsgYTEwICogcztcbiAgb3V0WzFdID0gYTAxICogYyArIGExMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgKyBhMTIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjICsgYTEzICogcztcbiAgb3V0WzRdID0gYTEwICogYyAtIGEwMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgLSBhMDEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjIC0gYTAyICogcztcbiAgb3V0WzddID0gYTEzICogYyAtIGEwMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCwgdikge1xuICBvdXRbMF0gPSB2WzBdO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSB2WzFdO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gdlsyXTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZSBhcm91bmQgYSBnaXZlbiBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZShkZXN0LCBkZXN0LCByYWQsIGF4aXMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyB0byByb3RhdGUgYXJvdW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHJhZCwgYXhpcykge1xuICB2YXIgeCA9IGF4aXNbMF0sXG4gICAgICB5ID0gYXhpc1sxXSxcbiAgICAgIHogPSBheGlzWzJdO1xuICB2YXIgbGVuID0gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbiAgdmFyIHMsIGMsIHQ7XG5cbiAgaWYgKGxlbiA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxlbiA9IDEgLyBsZW47XG4gIHggKj0gbGVuO1xuICB5ICo9IGxlbjtcbiAgeiAqPSBsZW47XG4gIHMgPSBNYXRoLnNpbihyYWQpO1xuICBjID0gTWF0aC5jb3MocmFkKTtcbiAgdCA9IDEgLSBjOyAvLyBQZXJmb3JtIHJvdGF0aW9uLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IHggKiB4ICogdCArIGM7XG4gIG91dFsxXSA9IHkgKiB4ICogdCArIHogKiBzO1xuICBvdXRbMl0gPSB6ICogeCAqIHQgLSB5ICogcztcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geCAqIHkgKiB0IC0geiAqIHM7XG4gIG91dFs1XSA9IHkgKiB5ICogdCArIGM7XG4gIG91dFs2XSA9IHogKiB5ICogdCArIHggKiBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4ICogeiAqIHQgKyB5ICogcztcbiAgb3V0WzldID0geSAqIHogKiB0IC0geCAqIHM7XG4gIG91dFsxMF0gPSB6ICogeiAqIHQgKyBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWChkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21YUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBjO1xuICBvdXRbNl0gPSBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAtcztcbiAgb3V0WzEwXSA9IGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVZKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVlSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IC1zO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBzO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWiBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVooZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWlJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gcztcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gLXM7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24gYW5kIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB2KSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSAoeXkgKyB6eik7XG4gIG91dFsxXSA9IHh5ICsgd3o7XG4gIG91dFsyXSA9IHh6IC0gd3k7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHh5IC0gd3o7XG4gIG91dFs1XSA9IDEgLSAoeHggKyB6eik7XG4gIG91dFs2XSA9IHl6ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHh6ICsgd3k7XG4gIG91dFs5XSA9IHl6IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0gKHh4ICsgeXkpO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBmcm9tIGEgZHVhbCBxdWF0LlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IE1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxuICogQHJldHVybnMge21hdDR9IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQyKG91dCwgYSkge1xuICB2YXIgdHJhbnNsYXRpb24gPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXSxcbiAgICAgIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XTtcbiAgdmFyIG1hZ25pdHVkZSA9IGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiArIGJ3ICogYnc7IC8vT25seSBzY2FsZSBpZiBpdCBtYWtlcyBzZW5zZVxuXG4gIGlmIChtYWduaXR1ZGUgPiAwKSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMiAvIG1hZ25pdHVkZTtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDIgLyBtYWduaXR1ZGU7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMjtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDI7XG4gIH1cblxuICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIGEsIHRyYW5zbGF0aW9uKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLFxuICogIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSB0cmFuc2xhdGlvbiBjb21wb25lbnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsIG1hdCkge1xuICBvdXRbMF0gPSBtYXRbMTJdO1xuICBvdXRbMV0gPSBtYXRbMTNdO1xuICBvdXRbMl0gPSBtYXRbMTRdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlXG4gKiAgd2l0aCBhIG5vcm1hbGl6ZWQgUXVhdGVybmlvbiBwYXJhbXRlciwgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlXG4gKiAgdGhlIHNhbWUgYXMgdGhlIHNjYWxpbmcgdmVjdG9yXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY2FsaW5nKG91dCwgbWF0KSB7XG4gIHZhciBtMTEgPSBtYXRbMF07XG4gIHZhciBtMTIgPSBtYXRbMV07XG4gIHZhciBtMTMgPSBtYXRbMl07XG4gIHZhciBtMjEgPSBtYXRbNF07XG4gIHZhciBtMjIgPSBtYXRbNV07XG4gIHZhciBtMjMgPSBtYXRbNl07XG4gIHZhciBtMzEgPSBtYXRbOF07XG4gIHZhciBtMzIgPSBtYXRbOV07XG4gIHZhciBtMzMgPSBtYXRbMTBdO1xuICBvdXRbMF0gPSBNYXRoLmh5cG90KG0xMSwgbTEyLCBtMTMpO1xuICBvdXRbMV0gPSBNYXRoLmh5cG90KG0yMSwgbTIyLCBtMjMpO1xuICBvdXRbMl0gPSBNYXRoLmh5cG90KG0zMSwgbTMyLCBtMzMpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uYWwgY29tcG9uZW50XG4gKiAgb2YgYSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGhcbiAqICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbiwgdGhlIHJldHVybmVkIHF1YXRlcm5pb24gd2lsbCBiZSB0aGVcbiAqICBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIG9yaWdpbmFsbHkgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBRdWF0ZXJuaW9uIHRvIHJlY2VpdmUgdGhlIHJvdGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXG4gKiBAcmV0dXJuIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um90YXRpb24ob3V0LCBtYXQpIHtcbiAgdmFyIHNjYWxpbmcgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgZ2V0U2NhbGluZyhzY2FsaW5nLCBtYXQpO1xuICB2YXIgaXMxID0gMSAvIHNjYWxpbmdbMF07XG4gIHZhciBpczIgPSAxIC8gc2NhbGluZ1sxXTtcbiAgdmFyIGlzMyA9IDEgLyBzY2FsaW5nWzJdO1xuICB2YXIgc20xMSA9IG1hdFswXSAqIGlzMTtcbiAgdmFyIHNtMTIgPSBtYXRbMV0gKiBpczI7XG4gIHZhciBzbTEzID0gbWF0WzJdICogaXMzO1xuICB2YXIgc20yMSA9IG1hdFs0XSAqIGlzMTtcbiAgdmFyIHNtMjIgPSBtYXRbNV0gKiBpczI7XG4gIHZhciBzbTIzID0gbWF0WzZdICogaXMzO1xuICB2YXIgc20zMSA9IG1hdFs4XSAqIGlzMTtcbiAgdmFyIHNtMzIgPSBtYXRbOV0gKiBpczI7XG4gIHZhciBzbTMzID0gbWF0WzEwXSAqIGlzMztcbiAgdmFyIHRyYWNlID0gc20xMSArIHNtMjIgKyBzbTMzO1xuICB2YXIgUyA9IDA7XG5cbiAgaWYgKHRyYWNlID4gMCkge1xuICAgIFMgPSBNYXRoLnNxcnQodHJhY2UgKyAxLjApICogMjtcbiAgICBvdXRbM10gPSAwLjI1ICogUztcbiAgICBvdXRbMF0gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMV0gPSAoc20zMSAtIHNtMTMpIC8gUztcbiAgICBvdXRbMl0gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgfSBlbHNlIGlmIChzbTExID4gc20yMiAmJiBzbTExID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20xMSAtIHNtMjIgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMjMgLSBzbTMyKSAvIFM7XG4gICAgb3V0WzBdID0gMC4yNSAqIFM7XG4gICAgb3V0WzFdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzJdID0gKHNtMzEgKyBzbTEzKSAvIFM7XG4gIH0gZWxzZSBpZiAoc20yMiA+IHNtMzMpIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMjIgLSBzbTExIC0gc20zMykgKiAyO1xuICAgIG91dFszXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFswXSA9IChzbTEyICsgc20yMSkgLyBTO1xuICAgIG91dFsxXSA9IDAuMjUgKiBTO1xuICAgIG91dFsyXSA9IChzbTIzICsgc20zMikgLyBTO1xuICB9IGVsc2Uge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20zMyAtIHNtMTEgLSBzbTIyKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMTIgLSBzbTIxKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMzEgKyBzbTEzKSAvIFM7XG4gICAgb3V0WzFdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gICAgb3V0WzJdID0gMC4yNSAqIFM7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZVxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBzY2FsZSlcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZShvdXQsIHEsIHYsIHMpIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgb3V0WzBdID0gKDEgLSAoeXkgKyB6eikpICogc3g7XG4gIG91dFsxXSA9ICh4eSArIHd6KSAqIHN4O1xuICBvdXRbMl0gPSAoeHogLSB3eSkgKiBzeDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gKHh5IC0gd3opICogc3k7XG4gIG91dFs1XSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICBvdXRbNl0gPSAoeXogKyB3eCkgKiBzeTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gKHh6ICsgd3kpICogc3o7XG4gIG91dFs5XSA9ICh5eiAtIHd4KSAqIHN6O1xuICBvdXRbMTBdID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGUsIHJvdGF0aW5nIGFuZCBzY2FsaW5nIGFyb3VuZCB0aGUgZ2l2ZW4gb3JpZ2luXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIG9yaWdpbik7XG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgc2NhbGUpXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgbmVnYXRpdmVPcmlnaW4pO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IG8gVGhlIG9yaWdpbiB2ZWN0b3IgYXJvdW5kIHdoaWNoIHRvIHNjYWxlIGFuZCByb3RhdGVcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbihvdXQsIHEsIHYsIHMsIG8pIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgdmFyIG94ID0gb1swXTtcbiAgdmFyIG95ID0gb1sxXTtcbiAgdmFyIG96ID0gb1syXTtcbiAgdmFyIG91dDAgPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgdmFyIG91dDEgPSAoeHkgKyB3eikgKiBzeDtcbiAgdmFyIG91dDIgPSAoeHogLSB3eSkgKiBzeDtcbiAgdmFyIG91dDQgPSAoeHkgLSB3eikgKiBzeTtcbiAgdmFyIG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgdmFyIG91dDYgPSAoeXogKyB3eCkgKiBzeTtcbiAgdmFyIG91dDggPSAoeHogKyB3eSkgKiBzejtcbiAgdmFyIG91dDkgPSAoeXogLSB3eCkgKiBzejtcbiAgdmFyIG91dDEwID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFswXSA9IG91dDA7XG4gIG91dFsxXSA9IG91dDE7XG4gIG91dFsyXSA9IG91dDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IG91dDQ7XG4gIG91dFs1XSA9IG91dDU7XG4gIG91dFs2XSA9IG91dDY7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IG91dDg7XG4gIG91dFs5XSA9IG91dDk7XG4gIG91dFsxMF0gPSBvdXQxMDtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KTtcbiAgb3V0WzEzXSA9IHZbMV0gKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opO1xuICBvdXRbMTRdID0gdlsyXSArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBhIDR4NCBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIFF1YXRlcm5pb24gdG8gY3JlYXRlIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB5eCA9IHkgKiB4MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgenggPSB6ICogeDI7XG4gIHZhciB6eSA9IHogKiB5MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcbiAgb3V0WzFdID0geXggKyB3ejtcbiAgb3V0WzJdID0genggLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geXggLSB3ejtcbiAgb3V0WzVdID0gMSAtIHh4IC0geno7XG4gIG91dFs2XSA9IHp5ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHp4ICsgd3k7XG4gIG91dFs5XSA9IHp5IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0geHggLSB5eTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBmcnVzdHVtIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge051bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJ1c3R1bShvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBybCA9IDEgLyAocmlnaHQgLSBsZWZ0KTtcbiAgdmFyIHRiID0gMSAvICh0b3AgLSBib3R0b20pO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSBuZWFyICogMiAqIHJsO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBuZWFyICogMiAqIHRiO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAocmlnaHQgKyBsZWZ0KSAqIHJsO1xuICBvdXRbOV0gPSAodG9wICsgYm90dG9tKSAqIHRiO1xuICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAqIDIgKiBuZjtcbiAgb3V0WzE1XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFstMSwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdML09wZW5HTCdzIGNsaXAgdm9sdW1lLlxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlTk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcbiAgICAgIG5mO1xuICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBmO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE1XSA9IDA7XG5cbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcbiAgICBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gICAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICAgIG91dFsxNF0gPSAyICogZmFyICogbmVhciAqIG5mO1xuICB9IGVsc2Uge1xuICAgIG91dFsxMF0gPSAtMTtcbiAgICBvdXRbMTRdID0gLTIgKiBuZWFyO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnBlcnNwZWN0aXZlTk99XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHBlcnNwZWN0aXZlID0gcGVyc3BlY3RpdmVOTztcbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggc3VpdGFibGUgZm9yIFdlYkdQVSB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlWk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcbiAgICAgIG5mO1xuICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBmO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE1XSA9IDA7XG5cbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcbiAgICBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gICAgb3V0WzEwXSA9IGZhciAqIG5mO1xuICAgIG91dFsxNF0gPSBmYXIgKiBuZWFyICogbmY7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzEwXSA9IC0xO1xuICAgIG91dFsxNF0gPSAtbmVhcjtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGZpZWxkIG9mIHZpZXcuXG4gKiBUaGlzIGlzIHByaW1hcmlseSB1c2VmdWwgZm9yIGdlbmVyYXRpbmcgcHJvamVjdGlvbiBtYXRyaWNlcyB0byBiZSB1c2VkXG4gKiB3aXRoIHRoZSBzdGlsbCBleHBlcmllbWVudGFsIFdlYlZSIEFQSS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge09iamVjdH0gZm92IE9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiB1cERlZ3JlZXMsIGRvd25EZWdyZWVzLCBsZWZ0RGVncmVlcywgcmlnaHREZWdyZWVzXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldyhvdXQsIGZvdiwgbmVhciwgZmFyKSB7XG4gIHZhciB1cFRhbiA9IE1hdGgudGFuKGZvdi51cERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgZG93blRhbiA9IE1hdGgudGFuKGZvdi5kb3duRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBsZWZ0VGFuID0gTWF0aC50YW4oZm92LmxlZnREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHJpZ2h0VGFuID0gTWF0aC50YW4oZm92LnJpZ2h0RGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciB4U2NhbGUgPSAyLjAgLyAobGVmdFRhbiArIHJpZ2h0VGFuKTtcbiAgdmFyIHlTY2FsZSA9IDIuMCAvICh1cFRhbiArIGRvd25UYW4pO1xuICBvdXRbMF0gPSB4U2NhbGU7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICBvdXRbM10gPSAwLjA7XG4gIG91dFs0XSA9IDAuMDtcbiAgb3V0WzVdID0geVNjYWxlO1xuICBvdXRbNl0gPSAwLjA7XG4gIG91dFs3XSA9IDAuMDtcbiAgb3V0WzhdID0gLSgobGVmdFRhbiAtIHJpZ2h0VGFuKSAqIHhTY2FsZSAqIDAuNSk7XG4gIG91dFs5XSA9ICh1cFRhbiAtIGRvd25UYW4pICogeVNjYWxlICogMC41O1xuICBvdXRbMTBdID0gZmFyIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMTFdID0gLTEuMDtcbiAgb3V0WzEyXSA9IDAuMDtcbiAgb3V0WzEzXSA9IDAuMDtcbiAgb3V0WzE0XSA9IGZhciAqIG5lYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxNV0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIG9ydGhvZ29uYWwgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvTk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gLTIgKiBscjtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gLTIgKiBidDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDIgKiBuZjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAobGVmdCArIHJpZ2h0KSAqIGxyO1xuICBvdXRbMTNdID0gKHRvcCArIGJvdHRvbSkgKiBidDtcbiAgb3V0WzE0XSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0Lm9ydGhvTk99XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG9ydGhvID0gb3J0aG9OTztcbi8qKlxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBvcnRob1pPKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IC0yICogbHI7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IC0yICogYnQ7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSBuZjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAobGVmdCArIHJpZ2h0KSAqIGxyO1xuICBvdXRbMTNdID0gKHRvcCArIGJvdHRvbSkgKiBidDtcbiAgb3V0WzE0XSA9IG5lYXIgKiBuZjtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIGxvb2stYXQgbWF0cml4IHdpdGggdGhlIGdpdmVuIGV5ZSBwb3NpdGlvbiwgZm9jYWwgcG9pbnQsIGFuZCB1cCBheGlzLlxuICogSWYgeW91IHdhbnQgYSBtYXRyaXggdGhhdCBhY3R1YWxseSBtYWtlcyBhbiBvYmplY3QgbG9vayBhdCBhbm90aGVyIG9iamVjdCwgeW91IHNob3VsZCB1c2UgdGFyZ2V0VG8gaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb29rQXQob3V0LCBleWUsIGNlbnRlciwgdXApIHtcbiAgdmFyIHgwLCB4MSwgeDIsIHkwLCB5MSwgeTIsIHowLCB6MSwgejIsIGxlbjtcbiAgdmFyIGV5ZXggPSBleWVbMF07XG4gIHZhciBleWV5ID0gZXllWzFdO1xuICB2YXIgZXlleiA9IGV5ZVsyXTtcbiAgdmFyIHVweCA9IHVwWzBdO1xuICB2YXIgdXB5ID0gdXBbMV07XG4gIHZhciB1cHogPSB1cFsyXTtcbiAgdmFyIGNlbnRlcnggPSBjZW50ZXJbMF07XG4gIHZhciBjZW50ZXJ5ID0gY2VudGVyWzFdO1xuICB2YXIgY2VudGVyeiA9IGNlbnRlclsyXTtcblxuICBpZiAoTWF0aC5hYnMoZXlleCAtIGNlbnRlcngpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV5IC0gY2VudGVyeSkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gaWRlbnRpdHkob3V0KTtcbiAgfVxuXG4gIHowID0gZXlleCAtIGNlbnRlcng7XG4gIHoxID0gZXlleSAtIGNlbnRlcnk7XG4gIHoyID0gZXlleiAtIGNlbnRlcno7XG4gIGxlbiA9IDEgLyBNYXRoLmh5cG90KHowLCB6MSwgejIpO1xuICB6MCAqPSBsZW47XG4gIHoxICo9IGxlbjtcbiAgejIgKj0gbGVuO1xuICB4MCA9IHVweSAqIHoyIC0gdXB6ICogejE7XG4gIHgxID0gdXB6ICogejAgLSB1cHggKiB6MjtcbiAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSBNYXRoLmh5cG90KHgwLCB4MSwgeDIpO1xuXG4gIGlmICghbGVuKSB7XG4gICAgeDAgPSAwO1xuICAgIHgxID0gMDtcbiAgICB4MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIHkwID0gejEgKiB4MiAtIHoyICogeDE7XG4gIHkxID0gejIgKiB4MCAtIHowICogeDI7XG4gIHkyID0gejAgKiB4MSAtIHoxICogeDA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeTAsIHkxLCB5Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB5MCA9IDA7XG4gICAgeTEgPSAwO1xuICAgIHkyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHkwICo9IGxlbjtcbiAgICB5MSAqPSBsZW47XG4gICAgeTIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHkwO1xuICBvdXRbMl0gPSB6MDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geDE7XG4gIG91dFs1XSA9IHkxO1xuICBvdXRbNl0gPSB6MTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geDI7XG4gIG91dFs5XSA9IHkyO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gLSh4MCAqIGV5ZXggKyB4MSAqIGV5ZXkgKyB4MiAqIGV5ZXopO1xuICBvdXRbMTNdID0gLSh5MCAqIGV5ZXggKyB5MSAqIGV5ZXkgKyB5MiAqIGV5ZXopO1xuICBvdXRbMTRdID0gLSh6MCAqIGV5ZXggKyB6MSAqIGV5ZXkgKyB6MiAqIGV5ZXopO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgbWF0cml4IHRoYXQgbWFrZXMgc29tZXRoaW5nIGxvb2sgYXQgc29tZXRoaW5nIGVsc2UuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gY2VudGVyIFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdGFyZ2V0VG8ob3V0LCBleWUsIHRhcmdldCwgdXApIHtcbiAgdmFyIGV5ZXggPSBleWVbMF0sXG4gICAgICBleWV5ID0gZXllWzFdLFxuICAgICAgZXlleiA9IGV5ZVsyXSxcbiAgICAgIHVweCA9IHVwWzBdLFxuICAgICAgdXB5ID0gdXBbMV0sXG4gICAgICB1cHogPSB1cFsyXTtcbiAgdmFyIHowID0gZXlleCAtIHRhcmdldFswXSxcbiAgICAgIHoxID0gZXlleSAtIHRhcmdldFsxXSxcbiAgICAgIHoyID0gZXlleiAtIHRhcmdldFsyXTtcbiAgdmFyIGxlbiA9IHowICogejAgKyB6MSAqIHoxICsgejIgKiB6MjtcblxuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgICB6MCAqPSBsZW47XG4gICAgejEgKj0gbGVuO1xuICAgIHoyICo9IGxlbjtcbiAgfVxuXG4gIHZhciB4MCA9IHVweSAqIHoyIC0gdXB6ICogejEsXG4gICAgICB4MSA9IHVweiAqIHowIC0gdXB4ICogejIsXG4gICAgICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gIGxlbiA9IHgwICogeDAgKyB4MSAqIHgxICsgeDIgKiB4MjtcblxuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIG91dFswXSA9IHgwO1xuICBvdXRbMV0gPSB4MTtcbiAgb3V0WzJdID0geDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHoxICogeDIgLSB6MiAqIHgxO1xuICBvdXRbNV0gPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgb3V0WzZdID0gejAgKiB4MSAtIHoxICogeDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHowO1xuICBvdXRbOV0gPSB6MTtcbiAgb3V0WzEwXSA9IHoyO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IGV5ZXg7XG4gIG91dFsxM10gPSBleWV5O1xuICBvdXRbMTRdID0gZXllejtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0NChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiLCBcIiArIGFbOV0gKyBcIiwgXCIgKyBhWzEwXSArIFwiLCBcIiArIGFbMTFdICsgXCIsIFwiICsgYVsxMl0gKyBcIiwgXCIgKyBhWzEzXSArIFwiLCBcIiArIGFbMTRdICsgXCIsIFwiICsgYVsxNV0gKyBcIilcIjtcbn1cbi8qKlxuICogUmV0dXJucyBGcm9iZW5pdXMgbm9ybSBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIGNhbGN1bGF0ZSBGcm9iZW5pdXMgbm9ybSBvZlxuICogQHJldHVybnMge051bWJlcn0gRnJvYmVuaXVzIG5vcm1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0sIGFbOV0sIGFbMTBdLCBhWzExXSwgYVsxMl0sIGFbMTNdLCBhWzE0XSwgYVsxNV0pO1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQ0J3NcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgbWF0cml4IGIgZnJvbSBtYXRyaXggYVxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcbiAgb3V0WzRdID0gYVs0XSAtIGJbNF07XG4gIG91dFs1XSA9IGFbNV0gLSBiWzVdO1xuICBvdXRbNl0gPSBhWzZdIC0gYls2XTtcbiAgb3V0WzddID0gYVs3XSAtIGJbN107XG4gIG91dFs4XSA9IGFbOF0gLSBiWzhdO1xuICBvdXRbOV0gPSBhWzldIC0gYls5XTtcbiAgb3V0WzEwXSA9IGFbMTBdIC0gYlsxMF07XG4gIG91dFsxMV0gPSBhWzExXSAtIGJbMTFdO1xuICBvdXRbMTJdID0gYVsxMl0gLSBiWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdIC0gYlsxM107XG4gIG91dFsxNF0gPSBhWzE0XSAtIGJbMTRdO1xuICBvdXRbMTVdID0gYVsxNV0gLSBiWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIG91dFs5XSA9IGFbOV0gKiBiO1xuICBvdXRbMTBdID0gYVsxMF0gKiBiO1xuICBvdXRbMTFdID0gYVsxMV0gKiBiO1xuICBvdXRbMTJdID0gYVsxMl0gKiBiO1xuICBvdXRbMTNdID0gYVsxM10gKiBiO1xuICBvdXRbMTRdID0gYVsxNF0gKiBiO1xuICBvdXRbMTVdID0gYVsxNV0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQ0J3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XSAqIHNjYWxlO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xuICBvdXRbN10gPSBhWzddICsgYls3XSAqIHNjYWxlO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xuICBvdXRbOV0gPSBhWzldICsgYls5XSAqIHNjYWxlO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXSAqIHNjYWxlO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXSAqIHNjYWxlO1xuICBvdXRbMTJdID0gYVsxMl0gKyBiWzEyXSAqIHNjYWxlO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXSAqIHNjYWxlO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XSAqIHNjYWxlO1xuICBvdXRbMTVdID0gYVsxNV0gKyBiWzE1XSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN10gJiYgYVs4XSA9PT0gYls4XSAmJiBhWzldID09PSBiWzldICYmIGFbMTBdID09PSBiWzEwXSAmJiBhWzExXSA9PT0gYlsxMV0gJiYgYVsxMl0gPT09IGJbMTJdICYmIGFbMTNdID09PSBiWzEzXSAmJiBhWzE0XSA9PT0gYlsxNF0gJiYgYVsxNV0gPT09IGJbMTVdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdO1xuICB2YXIgYTQgPSBhWzRdLFxuICAgICAgYTUgPSBhWzVdLFxuICAgICAgYTYgPSBhWzZdLFxuICAgICAgYTcgPSBhWzddO1xuICB2YXIgYTggPSBhWzhdLFxuICAgICAgYTkgPSBhWzldLFxuICAgICAgYTEwID0gYVsxMF0sXG4gICAgICBhMTEgPSBhWzExXTtcbiAgdmFyIGExMiA9IGFbMTJdLFxuICAgICAgYTEzID0gYVsxM10sXG4gICAgICBhMTQgPSBhWzE0XSxcbiAgICAgIGExNSA9IGFbMTVdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICB2YXIgYjQgPSBiWzRdLFxuICAgICAgYjUgPSBiWzVdLFxuICAgICAgYjYgPSBiWzZdLFxuICAgICAgYjcgPSBiWzddO1xuICB2YXIgYjggPSBiWzhdLFxuICAgICAgYjkgPSBiWzldLFxuICAgICAgYjEwID0gYlsxMF0sXG4gICAgICBiMTEgPSBiWzExXTtcbiAgdmFyIGIxMiA9IGJbMTJdLFxuICAgICAgYjEzID0gYlsxM10sXG4gICAgICBiMTQgPSBiWzE0XSxcbiAgICAgIGIxNSA9IGJbMTVdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKSAmJiBNYXRoLmFicyhhOCAtIGI4KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOCksIE1hdGguYWJzKGI4KSkgJiYgTWF0aC5hYnMoYTkgLSBiOSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTkpLCBNYXRoLmFicyhiOSkpICYmIE1hdGguYWJzKGExMCAtIGIxMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEwKSwgTWF0aC5hYnMoYjEwKSkgJiYgTWF0aC5hYnMoYTExIC0gYjExKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTEpLCBNYXRoLmFicyhiMTEpKSAmJiBNYXRoLmFicyhhMTIgLSBiMTIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMiksIE1hdGguYWJzKGIxMikpICYmIE1hdGguYWJzKGExMyAtIGIxMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEzKSwgTWF0aC5hYnMoYjEzKSkgJiYgTWF0aC5hYnMoYTE0IC0gYjE0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTQpLCBNYXRoLmFicyhiMTQpKSAmJiBNYXRoLmFicyhhMTUgLSBiMTUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNSksIE1hdGguYWJzKGIxNSkpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0OyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbmltcG9ydCAqIGFzIG1hdDMgZnJvbSBcIi4vbWF0My5qc1wiO1xuaW1wb3J0ICogYXMgdmVjMyBmcm9tIFwiLi92ZWMzLmpzXCI7XG5pbXBvcnQgKiBhcyB2ZWM0IGZyb20gXCIuL3ZlYzQuanNcIjtcbi8qKlxuICogUXVhdGVybmlvblxuICogQG1vZHVsZSBxdWF0XG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IHF1YXRcbiAqXG4gKiBAcmV0dXJucyB7cXVhdH0gYSBuZXcgcXVhdGVybmlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgfVxuXG4gIG91dFszXSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCBhIHF1YXQgdG8gdGhlIGlkZW50aXR5IHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDA7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldHMgYSBxdWF0IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFuZCByb3RhdGlvbiBheGlzLFxuICogdGhlbiByZXR1cm5zIGl0LlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgYXJvdW5kIHdoaWNoIHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgaW4gcmFkaWFuc1xuICogQHJldHVybnMge3F1YXR9IG91dFxuICoqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXhpc0FuZ2xlKG91dCwgYXhpcywgcmFkKSB7XG4gIHJhZCA9IHJhZCAqIDAuNTtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICBvdXRbMF0gPSBzICogYXhpc1swXTtcbiAgb3V0WzFdID0gcyAqIGF4aXNbMV07XG4gIG91dFsyXSA9IHMgKiBheGlzWzJdO1xuICBvdXRbM10gPSBNYXRoLmNvcyhyYWQpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZXRzIHRoZSByb3RhdGlvbiBheGlzIGFuZCBhbmdsZSBmb3IgYSBnaXZlblxuICogIHF1YXRlcm5pb24uIElmIGEgcXVhdGVybmlvbiBpcyBjcmVhdGVkIHdpdGhcbiAqICBzZXRBeGlzQW5nbGUsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBzYW1lXG4gKiAgdmFsdWVzIGFzIHByb3ZpZGllZCBpbiB0aGUgb3JpZ2luYWwgcGFyYW1ldGVyIGxpc3RcbiAqICBPUiBmdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB2YWx1ZXMuXG4gKiBFeGFtcGxlOiBUaGUgcXVhdGVybmlvbiBmb3JtZWQgYnkgYXhpcyBbMCwgMCwgMV0gYW5kXG4gKiAgYW5nbGUgLTkwIGlzIHRoZSBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIGZvcm1lZCBieVxuICogIFswLCAwLCAxXSBhbmQgMjcwLiBUaGlzIG1ldGhvZCBmYXZvcnMgdGhlIGxhdHRlci5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dF9heGlzICBWZWN0b3IgcmVjZWl2aW5nIHRoZSBheGlzIG9mIHJvdGF0aW9uXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IHEgICAgIFF1YXRlcm5pb24gdG8gYmUgZGVjb21wb3NlZFxuICogQHJldHVybiB7TnVtYmVyfSAgICAgQW5nbGUsIGluIHJhZGlhbnMsIG9mIHRoZSByb3RhdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBeGlzQW5nbGUob3V0X2F4aXMsIHEpIHtcbiAgdmFyIHJhZCA9IE1hdGguYWNvcyhxWzNdKSAqIDIuMDtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQgLyAyLjApO1xuXG4gIGlmIChzID4gZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIG91dF9heGlzWzBdID0gcVswXSAvIHM7XG4gICAgb3V0X2F4aXNbMV0gPSBxWzFdIC8gcztcbiAgICBvdXRfYXhpc1syXSA9IHFbMl0gLyBzO1xuICB9IGVsc2Uge1xuICAgIC8vIElmIHMgaXMgemVybywgcmV0dXJuIGFueSBheGlzIChubyByb3RhdGlvbiAtIGF4aXMgZG9lcyBub3QgbWF0dGVyKVxuICAgIG91dF9heGlzWzBdID0gMTtcbiAgICBvdXRfYXhpc1sxXSA9IDA7XG4gICAgb3V0X2F4aXNbMl0gPSAwO1xuICB9XG5cbiAgcmV0dXJuIHJhZDtcbn1cbi8qKlxuICogR2V0cyB0aGUgYW5ndWxhciBkaXN0YW5jZSBiZXR3ZWVuIHR3byB1bml0IHF1YXRlcm5pb25zXG4gKlxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0fSBhICAgICBPcmlnaW4gdW5pdCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IGIgICAgIERlc3RpbmF0aW9uIHVuaXQgcXVhdGVybmlvblxuICogQHJldHVybiB7TnVtYmVyfSAgICAgQW5nbGUsIGluIHJhZGlhbnMsIGJldHdlZW4gdGhlIHR3byBxdWF0ZXJuaW9uc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbmdsZShhLCBiKSB7XG4gIHZhciBkb3Rwcm9kdWN0ID0gZG90KGEsIGIpO1xuICByZXR1cm4gTWF0aC5hY29zKDIgKiBkb3Rwcm9kdWN0ICogZG90cHJvZHVjdCAtIDEpO1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byBxdWF0J3NcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBhdyA9IGFbM107XG4gIHZhciBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl0sXG4gICAgICBidyA9IGJbM107XG4gIG91dFswXSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFsxXSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7XG4gIG91dFszXSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBxdWF0ZXJuaW9uIGJ5IHRoZSBnaXZlbiBhbmdsZSBhYm91dCB0aGUgWCBheGlzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byByb3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZVxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgcmFkKSB7XG4gIHJhZCAqPSAwLjU7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBhdyA9IGFbM107XG4gIHZhciBieCA9IE1hdGguc2luKHJhZCksXG4gICAgICBidyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGF4ICogYncgKyBhdyAqIGJ4O1xuICBvdXRbMV0gPSBheSAqIGJ3ICsgYXogKiBieDtcbiAgb3V0WzJdID0gYXogKiBidyAtIGF5ICogYng7XG4gIG91dFszXSA9IGF3ICogYncgLSBheCAqIGJ4O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgcXVhdGVybmlvbiBieSB0aGUgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIFkgYXhpc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xuICByYWQgKj0gMC41O1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYXcgPSBhWzNdO1xuICB2YXIgYnkgPSBNYXRoLnNpbihyYWQpLFxuICAgICAgYncgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBheCAqIGJ3IC0gYXogKiBieTtcbiAgb3V0WzFdID0gYXkgKiBidyArIGF3ICogYnk7XG4gIG91dFsyXSA9IGF6ICogYncgKyBheCAqIGJ5O1xuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXkgKiBieTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBaIGF4aXNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBxdWF0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBhbmdsZSAoaW4gcmFkaWFucykgdG8gcm90YXRlXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCByYWQpIHtcbiAgcmFkICo9IDAuNTtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ6ID0gTWF0aC5zaW4ocmFkKSxcbiAgICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYXggKiBidyArIGF5ICogYno7XG4gIG91dFsxXSA9IGF5ICogYncgLSBheCAqIGJ6O1xuICBvdXRbMl0gPSBheiAqIGJ3ICsgYXcgKiBiejtcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIFcgY29tcG9uZW50IG9mIGEgcXVhdCBmcm9tIHRoZSBYLCBZLCBhbmQgWiBjb21wb25lbnRzLlxuICogQXNzdW1lcyB0aGF0IHF1YXRlcm5pb24gaXMgMSB1bml0IGluIGxlbmd0aC5cbiAqIEFueSBleGlzdGluZyBXIGNvbXBvbmVudCB3aWxsIGJlIGlnbm9yZWQuXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBXIGNvbXBvbmVudCBvZlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVXKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICBvdXRbM10gPSBNYXRoLnNxcnQoTWF0aC5hYnMoMS4wIC0geCAqIHggLSB5ICogeSAtIHogKiB6KSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2YgYSB1bml0IHF1YXRlcm5pb24uXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2ZcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhwKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdLFxuICAgICAgdyA9IGFbM107XG4gIHZhciByID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG4gIHZhciBldCA9IE1hdGguZXhwKHcpO1xuICB2YXIgcyA9IHIgPiAwID8gZXQgKiBNYXRoLnNpbihyKSAvIHIgOiAwO1xuICBvdXRbMF0gPSB4ICogcztcbiAgb3V0WzFdID0geSAqIHM7XG4gIG91dFsyXSA9IHogKiBzO1xuICBvdXRbM10gPSBldCAqIE1hdGguY29zKHIpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGEgdW5pdCBxdWF0ZXJuaW9uLlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxuKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdLFxuICAgICAgdyA9IGFbM107XG4gIHZhciByID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG4gIHZhciB0ID0gciA+IDAgPyBNYXRoLmF0YW4yKHIsIHcpIC8gciA6IDA7XG4gIG91dFswXSA9IHggKiB0O1xuICBvdXRbMV0gPSB5ICogdDtcbiAgb3V0WzJdID0geiAqIHQ7XG4gIG91dFszXSA9IDAuNSAqIE1hdGgubG9nKHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBzY2FsYXIgcG93ZXIgb2YgYSB1bml0IHF1YXRlcm5pb24uXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2ZcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgcXVhdGVybmlvbiBieVxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwb3cob3V0LCBhLCBiKSB7XG4gIGxuKG91dCwgYSk7XG4gIHNjYWxlKG91dCwgb3V0LCBiKTtcbiAgZXhwKG91dCwgb3V0KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdFxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgLy8gYmVuY2htYXJrczpcbiAgLy8gICAgaHR0cDovL2pzcGVyZi5jb20vcXVhdGVybmlvbi1zbGVycC1pbXBsZW1lbnRhdGlvbnNcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ4ID0gYlswXSxcbiAgICAgIGJ5ID0gYlsxXSxcbiAgICAgIGJ6ID0gYlsyXSxcbiAgICAgIGJ3ID0gYlszXTtcbiAgdmFyIG9tZWdhLCBjb3NvbSwgc2lub20sIHNjYWxlMCwgc2NhbGUxOyAvLyBjYWxjIGNvc2luZVxuXG4gIGNvc29tID0gYXggKiBieCArIGF5ICogYnkgKyBheiAqIGJ6ICsgYXcgKiBidzsgLy8gYWRqdXN0IHNpZ25zIChpZiBuZWNlc3NhcnkpXG5cbiAgaWYgKGNvc29tIDwgMC4wKSB7XG4gICAgY29zb20gPSAtY29zb207XG4gICAgYnggPSAtYng7XG4gICAgYnkgPSAtYnk7XG4gICAgYnogPSAtYno7XG4gICAgYncgPSAtYnc7XG4gIH0gLy8gY2FsY3VsYXRlIGNvZWZmaWNpZW50c1xuXG5cbiAgaWYgKDEuMCAtIGNvc29tID4gZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIC8vIHN0YW5kYXJkIGNhc2UgKHNsZXJwKVxuICAgIG9tZWdhID0gTWF0aC5hY29zKGNvc29tKTtcbiAgICBzaW5vbSA9IE1hdGguc2luKG9tZWdhKTtcbiAgICBzY2FsZTAgPSBNYXRoLnNpbigoMS4wIC0gdCkgKiBvbWVnYSkgLyBzaW5vbTtcbiAgICBzY2FsZTEgPSBNYXRoLnNpbih0ICogb21lZ2EpIC8gc2lub207XG4gIH0gZWxzZSB7XG4gICAgLy8gXCJmcm9tXCIgYW5kIFwidG9cIiBxdWF0ZXJuaW9ucyBhcmUgdmVyeSBjbG9zZVxuICAgIC8vICAuLi4gc28gd2UgY2FuIGRvIGEgbGluZWFyIGludGVycG9sYXRpb25cbiAgICBzY2FsZTAgPSAxLjAgLSB0O1xuICAgIHNjYWxlMSA9IHQ7XG4gIH0gLy8gY2FsY3VsYXRlIGZpbmFsIHZhbHVlc1xuXG5cbiAgb3V0WzBdID0gc2NhbGUwICogYXggKyBzY2FsZTEgKiBieDtcbiAgb3V0WzFdID0gc2NhbGUwICogYXkgKyBzY2FsZTEgKiBieTtcbiAgb3V0WzJdID0gc2NhbGUwICogYXogKyBzY2FsZTEgKiBiejtcbiAgb3V0WzNdID0gc2NhbGUwICogYXcgKyBzY2FsZTEgKiBidztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHVuaXQgcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0KSB7XG4gIC8vIEltcGxlbWVudGF0aW9uIG9mIGh0dHA6Ly9wbGFubmluZy5jcy51aXVjLmVkdS9ub2RlMTk4Lmh0bWxcbiAgLy8gVE9ETzogQ2FsbGluZyByYW5kb20gMyB0aW1lcyBpcyBwcm9iYWJseSBub3QgdGhlIGZhc3Rlc3Qgc29sdXRpb25cbiAgdmFyIHUxID0gZ2xNYXRyaXguUkFORE9NKCk7XG4gIHZhciB1MiA9IGdsTWF0cml4LlJBTkRPTSgpO1xuICB2YXIgdTMgPSBnbE1hdHJpeC5SQU5ET00oKTtcbiAgdmFyIHNxcnQxTWludXNVMSA9IE1hdGguc3FydCgxIC0gdTEpO1xuICB2YXIgc3FydFUxID0gTWF0aC5zcXJ0KHUxKTtcbiAgb3V0WzBdID0gc3FydDFNaW51c1UxICogTWF0aC5zaW4oMi4wICogTWF0aC5QSSAqIHUyKTtcbiAgb3V0WzFdID0gc3FydDFNaW51c1UxICogTWF0aC5jb3MoMi4wICogTWF0aC5QSSAqIHUyKTtcbiAgb3V0WzJdID0gc3FydFUxICogTWF0aC5zaW4oMi4wICogTWF0aC5QSSAqIHUzKTtcbiAgb3V0WzNdID0gc3FydFUxICogTWF0aC5jb3MoMi4wICogTWF0aC5QSSAqIHUzKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgaW52ZXJzZSBvZiBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIGludmVyc2Ugb2ZcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdO1xuICB2YXIgZG90ID0gYTAgKiBhMCArIGExICogYTEgKyBhMiAqIGEyICsgYTMgKiBhMztcbiAgdmFyIGludkRvdCA9IGRvdCA/IDEuMCAvIGRvdCA6IDA7IC8vIFRPRE86IFdvdWxkIGJlIGZhc3RlciB0byByZXR1cm4gWzAsMCwwLDBdIGltbWVkaWF0ZWx5IGlmIGRvdCA9PSAwXG5cbiAgb3V0WzBdID0gLWEwICogaW52RG90O1xuICBvdXRbMV0gPSAtYTEgKiBpbnZEb3Q7XG4gIG91dFsyXSA9IC1hMiAqIGludkRvdDtcbiAgb3V0WzNdID0gYTMgKiBpbnZEb3Q7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGNvbmp1Z2F0ZSBvZiBhIHF1YXRcbiAqIElmIHRoZSBxdWF0ZXJuaW9uIGlzIG5vcm1hbGl6ZWQsIHRoaXMgZnVuY3Rpb24gaXMgZmFzdGVyIHRoYW4gcXVhdC5pbnZlcnNlIGFuZCBwcm9kdWNlcyB0aGUgc2FtZSByZXN1bHQuXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBjb25qdWdhdGUgb2ZcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29uanVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgcXVhdGVybmlvbiBmcm9tIHRoZSBnaXZlbiAzeDMgcm90YXRpb24gbWF0cml4LlxuICpcbiAqIE5PVEU6IFRoZSByZXN1bHRhbnQgcXVhdGVybmlvbiBpcyBub3Qgbm9ybWFsaXplZCwgc28geW91IHNob3VsZCBiZSBzdXJlXG4gKiB0byByZW5vcm1hbGl6ZSB0aGUgcXVhdGVybmlvbiB5b3Vyc2VsZiB3aGVyZSBuZWNlc3NhcnkuXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSByb3RhdGlvbiBtYXRyaXhcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0MyhvdXQsIG0pIHtcbiAgLy8gQWxnb3JpdGhtIGluIEtlbiBTaG9lbWFrZSdzIGFydGljbGUgaW4gMTk4NyBTSUdHUkFQSCBjb3Vyc2Ugbm90ZXNcbiAgLy8gYXJ0aWNsZSBcIlF1YXRlcm5pb24gQ2FsY3VsdXMgYW5kIEZhc3QgQW5pbWF0aW9uXCIuXG4gIHZhciBmVHJhY2UgPSBtWzBdICsgbVs0XSArIG1bOF07XG4gIHZhciBmUm9vdDtcblxuICBpZiAoZlRyYWNlID4gMC4wKSB7XG4gICAgLy8gfHd8ID4gMS8yLCBtYXkgYXMgd2VsbCBjaG9vc2UgdyA+IDEvMlxuICAgIGZSb290ID0gTWF0aC5zcXJ0KGZUcmFjZSArIDEuMCk7IC8vIDJ3XG5cbiAgICBvdXRbM10gPSAwLjUgKiBmUm9vdDtcbiAgICBmUm9vdCA9IDAuNSAvIGZSb290OyAvLyAxLyg0dylcblxuICAgIG91dFswXSA9IChtWzVdIC0gbVs3XSkgKiBmUm9vdDtcbiAgICBvdXRbMV0gPSAobVs2XSAtIG1bMl0pICogZlJvb3Q7XG4gICAgb3V0WzJdID0gKG1bMV0gLSBtWzNdKSAqIGZSb290O1xuICB9IGVsc2Uge1xuICAgIC8vIHx3fCA8PSAxLzJcbiAgICB2YXIgaSA9IDA7XG4gICAgaWYgKG1bNF0gPiBtWzBdKSBpID0gMTtcbiAgICBpZiAobVs4XSA+IG1baSAqIDMgKyBpXSkgaSA9IDI7XG4gICAgdmFyIGogPSAoaSArIDEpICUgMztcbiAgICB2YXIgayA9IChpICsgMikgJSAzO1xuICAgIGZSb290ID0gTWF0aC5zcXJ0KG1baSAqIDMgKyBpXSAtIG1baiAqIDMgKyBqXSAtIG1bayAqIDMgKyBrXSArIDEuMCk7XG4gICAgb3V0W2ldID0gMC41ICogZlJvb3Q7XG4gICAgZlJvb3QgPSAwLjUgLyBmUm9vdDtcbiAgICBvdXRbM10gPSAobVtqICogMyArIGtdIC0gbVtrICogMyArIGpdKSAqIGZSb290O1xuICAgIG91dFtqXSA9IChtW2ogKiAzICsgaV0gKyBtW2kgKiAzICsgal0pICogZlJvb3Q7XG4gICAgb3V0W2tdID0gKG1bayAqIDMgKyBpXSArIG1baSAqIDMgKyBrXSkgKiBmUm9vdDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIGV1bGVyIGFuZ2xlIHgsIHksIHouXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge3h9IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWCBheGlzIGluIGRlZ3JlZXMuXG4gKiBAcGFyYW0ge3l9IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWSBheGlzIGluIGRlZ3JlZXMuXG4gKiBAcGFyYW0ge3p9IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWiBheGlzIGluIGRlZ3JlZXMuXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbUV1bGVyKG91dCwgeCwgeSwgeikge1xuICB2YXIgaGFsZlRvUmFkID0gMC41ICogTWF0aC5QSSAvIDE4MC4wO1xuICB4ICo9IGhhbGZUb1JhZDtcbiAgeSAqPSBoYWxmVG9SYWQ7XG4gIHogKj0gaGFsZlRvUmFkO1xuICB2YXIgc3ggPSBNYXRoLnNpbih4KTtcbiAgdmFyIGN4ID0gTWF0aC5jb3MoeCk7XG4gIHZhciBzeSA9IE1hdGguc2luKHkpO1xuICB2YXIgY3kgPSBNYXRoLmNvcyh5KTtcbiAgdmFyIHN6ID0gTWF0aC5zaW4oeik7XG4gIHZhciBjeiA9IE1hdGguY29zKHopO1xuICBvdXRbMF0gPSBzeCAqIGN5ICogY3ogLSBjeCAqIHN5ICogc3o7XG4gIG91dFsxXSA9IGN4ICogc3kgKiBjeiArIHN4ICogY3kgKiBzejtcbiAgb3V0WzJdID0gY3ggKiBjeSAqIHN6IC0gc3ggKiBzeSAqIGN6O1xuICBvdXRbM10gPSBjeCAqIGN5ICogY3ogKyBzeCAqIHN5ICogc3o7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBxdWF0ZW5pb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJxdWF0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiKVwiO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdGVybmlvbiB0byBjbG9uZVxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgY2xvbmUgPSB2ZWM0LmNsb25lO1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtxdWF0fSBhIG5ldyBxdWF0ZXJuaW9uXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGZyb21WYWx1ZXMgPSB2ZWM0LmZyb21WYWx1ZXM7XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBxdWF0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBzb3VyY2UgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBjb3B5ID0gdmVjNC5jb3B5O1xuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBxdWF0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNldCA9IHZlYzQuc2V0O1xuLyoqXG4gKiBBZGRzIHR3byBxdWF0J3NcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgYWRkID0gdmVjNC5hZGQ7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIFNjYWxlcyBhIHF1YXQgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNjYWxlID0gdmVjNC5zY2FsZTtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHF1YXQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZG90ID0gdmVjNC5kb3Q7XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdCdzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlcnAgPSB2ZWM0LmxlcnA7XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgdmFyIGxlbmd0aCA9IHZlYzQubGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQubGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3F1YXJlZExlbmd0aCA9IHZlYzQuc3F1YXJlZExlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0LnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIE5vcm1hbGl6ZSBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXRlcm5pb24gdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG5vcm1hbGl6ZSA9IHZlYzQubm9ybWFsaXplO1xuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBxdWF0ZXJuaW9ucyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgVGhlIGZpcnN0IHF1YXRlcm5pb24uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiBUaGUgc2Vjb25kIHF1YXRlcm5pb24uXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgdmFyIGV4YWN0RXF1YWxzID0gdmVjNC5leGFjdEVxdWFscztcbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgcXVhdGVybmlvbnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCB2YXIgZXF1YWxzID0gdmVjNC5lcXVhbHM7XG4vKipcbiAqIFNldHMgYSBxdWF0ZXJuaW9uIHRvIHJlcHJlc2VudCB0aGUgc2hvcnRlc3Qgcm90YXRpb24gZnJvbSBvbmVcbiAqIHZlY3RvciB0byBhbm90aGVyLlxuICpcbiAqIEJvdGggdmVjdG9ycyBhcmUgYXNzdW1lZCB0byBiZSB1bml0IGxlbmd0aC5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb24uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgaW5pdGlhbCB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBkZXN0aW5hdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgdmFyIHJvdGF0aW9uVG8gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0bXB2ZWMzID0gdmVjMy5jcmVhdGUoKTtcbiAgdmFyIHhVbml0VmVjMyA9IHZlYzMuZnJvbVZhbHVlcygxLCAwLCAwKTtcbiAgdmFyIHlVbml0VmVjMyA9IHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChvdXQsIGEsIGIpIHtcbiAgICB2YXIgZG90ID0gdmVjMy5kb3QoYSwgYik7XG5cbiAgICBpZiAoZG90IDwgLTAuOTk5OTk5KSB7XG4gICAgICB2ZWMzLmNyb3NzKHRtcHZlYzMsIHhVbml0VmVjMywgYSk7XG4gICAgICBpZiAodmVjMy5sZW4odG1wdmVjMykgPCAwLjAwMDAwMSkgdmVjMy5jcm9zcyh0bXB2ZWMzLCB5VW5pdFZlYzMsIGEpO1xuICAgICAgdmVjMy5ub3JtYWxpemUodG1wdmVjMywgdG1wdmVjMyk7XG4gICAgICBzZXRBeGlzQW5nbGUob3V0LCB0bXB2ZWMzLCBNYXRoLlBJKTtcbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfSBlbHNlIGlmIChkb3QgPiAwLjk5OTk5OSkge1xuICAgICAgb3V0WzBdID0gMDtcbiAgICAgIG91dFsxXSA9IDA7XG4gICAgICBvdXRbMl0gPSAwO1xuICAgICAgb3V0WzNdID0gMTtcbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZlYzMuY3Jvc3ModG1wdmVjMywgYSwgYik7XG4gICAgICBvdXRbMF0gPSB0bXB2ZWMzWzBdO1xuICAgICAgb3V0WzFdID0gdG1wdmVjM1sxXTtcbiAgICAgIG91dFsyXSA9IHRtcHZlYzNbMl07XG4gICAgICBvdXRbM10gPSAxICsgZG90O1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZShvdXQsIG91dCk7XG4gICAgfVxuICB9O1xufSgpO1xuLyoqXG4gKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCB2YXIgc3FsZXJwID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdGVtcDEgPSBjcmVhdGUoKTtcbiAgdmFyIHRlbXAyID0gY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gICAgc2xlcnAodGVtcDEsIGEsIGQsIHQpO1xuICAgIHNsZXJwKHRlbXAyLCBiLCBjLCB0KTtcbiAgICBzbGVycChvdXQsIHRlbXAxLCB0ZW1wMiwgMiAqIHQgKiAoMSAtIHQpKTtcbiAgICByZXR1cm4gb3V0O1xuICB9O1xufSgpO1xuLyoqXG4gKiBTZXRzIHRoZSBzcGVjaWZpZWQgcXVhdGVybmlvbiB3aXRoIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlblxuICogYXhlcy4gRWFjaCBheGlzIGlzIGEgdmVjMyBhbmQgaXMgZXhwZWN0ZWQgdG8gYmUgdW5pdCBsZW5ndGggYW5kXG4gKiBwZXJwZW5kaWN1bGFyIHRvIGFsbCBvdGhlciBzcGVjaWZpZWQgYXhlcy5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdmlldyAgdGhlIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIHZpZXdpbmcgZGlyZWN0aW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcmlnaHQgdGhlIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGxvY2FsIFwicmlnaHRcIiBkaXJlY3Rpb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCAgICB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgbG9jYWwgXCJ1cFwiIGRpcmVjdGlvblxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCB2YXIgc2V0QXhlcyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG1hdHIgPSBtYXQzLmNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKG91dCwgdmlldywgcmlnaHQsIHVwKSB7XG4gICAgbWF0clswXSA9IHJpZ2h0WzBdO1xuICAgIG1hdHJbM10gPSByaWdodFsxXTtcbiAgICBtYXRyWzZdID0gcmlnaHRbMl07XG4gICAgbWF0clsxXSA9IHVwWzBdO1xuICAgIG1hdHJbNF0gPSB1cFsxXTtcbiAgICBtYXRyWzddID0gdXBbMl07XG4gICAgbWF0clsyXSA9IC12aWV3WzBdO1xuICAgIG1hdHJbNV0gPSAtdmlld1sxXTtcbiAgICBtYXRyWzhdID0gLXZpZXdbMl07XG4gICAgcmV0dXJuIG5vcm1hbGl6ZShvdXQsIGZyb21NYXQzKG91dCwgbWF0cikpO1xuICB9O1xufSgpOyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogMyBEaW1lbnNpb25hbCBWZWN0b3JcbiAqIEBtb2R1bGUgdmVjM1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldywgZW1wdHkgdmVjM1xuICpcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2xvbmVcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeikge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWMzIHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMyB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeikge1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBEaXZpZGVzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAvIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguY2VpbCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNlaWxcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5mbG9vciB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGZsb29yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWluKGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1pbihhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5taW4oYVsyXSwgYlsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJvdW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgYSB2ZWMzIGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjMydzIGFmdGVyIHNjYWxpbmcgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbn1cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XG4gIG91dFswXSA9IC1hWzBdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBpbnZlcnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcbiAgb3V0WzFdID0gMS4wIC8gYVsxXTtcbiAgb3V0WzJdID0gMS4wIC8gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTm9ybWFsaXplIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIGxlbiA9IHggKiB4ICsgeSAqIHkgKyB6ICogejtcblxuICBpZiAobGVuID4gMCkge1xuICAgIC8vVE9ETzogZXZhbHVhdGUgdXNlIG9mIGdsbV9pbnZzcXJ0IGhlcmU/XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICB9XG5cbiAgb3V0WzBdID0gYVswXSAqIGxlbjtcbiAgb3V0WzFdID0gYVsxXSAqIGxlbjtcbiAgb3V0WzJdID0gYVsyXSAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdO1xuICBvdXRbMF0gPSBheSAqIGJ6IC0gYXogKiBieTtcbiAgb3V0WzFdID0gYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF4ICogYnkgLSBheSAqIGJ4O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XG4gIHZhciBheCA9IGFbMF07XG4gIHZhciBheSA9IGFbMV07XG4gIHZhciBheiA9IGFbMl07XG4gIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpO1xuICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgb3V0WzJdID0gYXogKyB0ICogKGJbMl0gLSBheik7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgaGVybWl0ZSBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGZhY3RvclRpbWVzMiAqICgyICogdCAtIDMpICsgMTtcbiAgdmFyIGZhY3RvcjIgPSBmYWN0b3JUaW1lczIgKiAodCAtIDIpICsgdDtcbiAgdmFyIGZhY3RvcjMgPSBmYWN0b3JUaW1lczIgKiAodCAtIDEpO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqICgzIC0gMiAqIHQpO1xuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGJlemllciBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYmV6aWVyKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgaW52ZXJzZUZhY3RvciA9IDEgLSB0O1xuICB2YXIgaW52ZXJzZUZhY3RvclRpbWVzVHdvID0gaW52ZXJzZUZhY3RvciAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgdmFyIGZhY3RvcjEgPSBpbnZlcnNlRmFjdG9yVGltZXNUd28gKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yMiA9IDMgKiB0ICogaW52ZXJzZUZhY3RvclRpbWVzVHdvO1xuICB2YXIgZmFjdG9yMyA9IDMgKiBmYWN0b3JUaW1lczIgKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqIHQ7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB2ZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc2NhbGVcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbW1pdHRlZCwgYSB1bml0IHZlY3RvciB3aWxsIGJlIHJldHVybmVkXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XG4gIHNjYWxlID0gc2NhbGUgfHwgMS4wO1xuICB2YXIgciA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wICogTWF0aC5QSTtcbiAgdmFyIHogPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIuMCAtIDEuMDtcbiAgdmFyIHpTY2FsZSA9IE1hdGguc3FydCgxLjAgLSB6ICogeikgKiBzY2FsZTtcbiAgb3V0WzBdID0gTWF0aC5jb3MocikgKiB6U2NhbGU7XG4gIG91dFsxXSA9IE1hdGguc2luKHIpICogelNjYWxlO1xuICBvdXRbMl0gPSB6ICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDQuXG4gKiA0dGggdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIHZhciB3ID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdO1xuICB3ID0gdyB8fCAxLjA7XG4gIG91dFswXSA9IChtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSkgLyB3O1xuICBvdXRbMV0gPSAobVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10pIC8gdztcbiAgb3V0WzJdID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgLyB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQzLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IG0gdGhlIDN4MyBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgb3V0WzBdID0geCAqIG1bMF0gKyB5ICogbVszXSArIHogKiBtWzZdO1xuICBvdXRbMV0gPSB4ICogbVsxXSArIHkgKiBtWzRdICsgeiAqIG1bN107XG4gIG91dFsyXSA9IHggKiBtWzJdICsgeSAqIG1bNV0gKyB6ICogbVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgcXVhdFxuICogQ2FuIGFsc28gYmUgdXNlZCBmb3IgZHVhbCBxdWF0ZXJuaW9ucy4gKE11bHRpcGx5IGl0IHdpdGggdGhlIHJlYWwgcGFydClcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgLy8gYmVuY2htYXJrczogaHR0cHM6Ly9qc3BlcmYuY29tL3F1YXRlcm5pb24tdHJhbnNmb3JtLXZlYzMtaW1wbGVtZW50YXRpb25zLWZpeGVkXG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM107XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07IC8vIHZhciBxdmVjID0gW3F4LCBxeSwgcXpdO1xuICAvLyB2YXIgdXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCBhKTtcblxuICB2YXIgdXZ4ID0gcXkgKiB6IC0gcXogKiB5LFxuICAgICAgdXZ5ID0gcXogKiB4IC0gcXggKiB6LFxuICAgICAgdXZ6ID0gcXggKiB5IC0gcXkgKiB4OyAvLyB2YXIgdXV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgdXYpO1xuXG4gIHZhciB1dXZ4ID0gcXkgKiB1dnogLSBxeiAqIHV2eSxcbiAgICAgIHV1dnkgPSBxeiAqIHV2eCAtIHF4ICogdXZ6LFxuICAgICAgdXV2eiA9IHF4ICogdXZ5IC0gcXkgKiB1dng7IC8vIHZlYzMuc2NhbGUodXYsIHV2LCAyICogdyk7XG5cbiAgdmFyIHcyID0gcXcgKiAyO1xuICB1dnggKj0gdzI7XG4gIHV2eSAqPSB3MjtcbiAgdXZ6ICo9IHcyOyAvLyB2ZWMzLnNjYWxlKHV1diwgdXV2LCAyKTtcblxuICB1dXZ4ICo9IDI7XG4gIHV1dnkgKj0gMjtcbiAgdXV2eiAqPSAyOyAvLyByZXR1cm4gdmVjMy5hZGQob3V0LCBhLCB2ZWMzLmFkZChvdXQsIHV2LCB1dXYpKTtcblxuICBvdXRbMF0gPSB4ICsgdXZ4ICsgdXV2eDtcbiAgb3V0WzFdID0geSArIHV2eSArIHV1dnk7XG4gIG91dFsyXSA9IHogKyB1dnogKyB1dXZ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB4LWF4aXNcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFswXTtcbiAgclsxXSA9IHBbMV0gKiBNYXRoLmNvcyhyYWQpIC0gcFsyXSAqIE1hdGguc2luKHJhZCk7XG4gIHJbMl0gPSBwWzFdICogTWF0aC5zaW4ocmFkKSArIHBbMl0gKiBNYXRoLmNvcyhyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgeS1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIGIsIHJhZCkge1xuICB2YXIgcCA9IFtdLFxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXG5cbiAgclswXSA9IHBbMl0gKiBNYXRoLnNpbihyYWQpICsgcFswXSAqIE1hdGguY29zKHJhZCk7XG4gIHJbMV0gPSBwWzFdO1xuICByWzJdID0gcFsyXSAqIE1hdGguY29zKHJhZCkgLSBwWzBdICogTWF0aC5zaW4ocmFkKTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHotYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdICogTWF0aC5jb3MocmFkKSAtIHBbMV0gKiBNYXRoLnNpbihyYWQpO1xuICByWzFdID0gcFswXSAqIE1hdGguc2luKHJhZCkgKyBwWzFdICogTWF0aC5jb3MocmFkKTtcbiAgclsyXSA9IHBbMl07IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZXQgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIDNEIHZlY3RvcnNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlKGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGJ4ID0gYlswXSxcbiAgICAgIGJ5ID0gYlsxXSxcbiAgICAgIGJ6ID0gYlsyXSxcbiAgICAgIG1hZzEgPSBNYXRoLnNxcnQoYXggKiBheCArIGF5ICogYXkgKyBheiAqIGF6KSxcbiAgICAgIG1hZzIgPSBNYXRoLnNxcnQoYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6KSxcbiAgICAgIG1hZyA9IG1hZzEgKiBtYWcyLFxuICAgICAgY29zaW5lID0gbWFnICYmIGRvdChhLCBiKSAvIG1hZztcbiAgcmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChjb3NpbmUsIC0xKSwgMSkpO1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICBvdXRbMF0gPSAwLjA7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjMyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5kaXZpZGV9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zcXVhcmVkRGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWMzcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWMzLiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjM3MgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmVjID0gY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XG4gICAgdmFyIGksIGw7XG5cbiAgICBpZiAoIXN0cmlkZSkge1xuICAgICAgc3RyaWRlID0gMztcbiAgICB9XG5cbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGwgPSBNYXRoLm1pbihjb3VudCAqIHN0cmlkZSArIG9mZnNldCwgYS5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHZlY1swXSA9IGFbaV07XG4gICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcbiAgICAgIHZlY1syXSA9IGFbaSArIDJdO1xuICAgICAgZm4odmVjLCB2ZWMsIGFyZyk7XG4gICAgICBhW2ldID0gdmVjWzBdO1xuICAgICAgYVtpICsgMV0gPSB2ZWNbMV07XG4gICAgICBhW2kgKyAyXSA9IHZlY1syXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfTtcbn0oKTsiLCAiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG4vKipcbiAqIDQgRGltZW5zaW9uYWwgVmVjdG9yXG4gKiBAbW9kdWxlIHZlYzRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzRcbiAqXG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFswXSA9IDA7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2xvbmVcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjNCBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdyBXIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKHgsIHksIHosIHcpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICBvdXRbM10gPSB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjNCB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBzb3VyY2UgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzQgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdyBXIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6LCB3KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcbiAgb3V0WzNdID0gYVszXSAqIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIERpdmlkZXMgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAvIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguY2VpbCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNlaWxcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5jZWlsKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gZmxvb3JcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIG91dFszXSA9IE1hdGguZmxvb3IoYVszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5taW4oYVszXSwgYlszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5tYXgoYVszXSwgYlszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGgucm91bmQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byByb3VuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5yb3VuZChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5yb3VuZChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5yb3VuZChhWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5yb3VuZChhWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIGEgdmVjNCBieSBhIHNjYWxhciBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWM0J3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHZhciB3ID0gYlszXSAtIGFbM107XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHosIHcpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICB2YXIgdyA9IGJbM10gLSBhWzNdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6LCB3KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG59XG4vKipcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBuZWdhdGVcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICBvdXRbM10gPSAtYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGludmVydFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICBvdXRbM10gPSAxLjAgLyBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBOb3JtYWxpemUgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgdyA9IGFbM107XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcblxuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgfVxuXG4gIG91dFswXSA9IHggKiBsZW47XG4gIG91dFsxXSA9IHkgKiBsZW47XG4gIG91dFsyXSA9IHogKiBsZW47XG4gIG91dFszXSA9IHcgKiBsZW47XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRvdChhLCBiKSB7XG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl0gKyBhWzNdICogYlszXTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY3Jvc3MtcHJvZHVjdCBvZiB0aHJlZSB2ZWN0b3JzIGluIGEgNC1kaW1lbnNpb25hbCBzcGFjZVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSByZXN1bHQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBVIHRoZSBmaXJzdCB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBWIHRoZSBzZWNvbmQgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gVyB0aGUgdGhpcmQgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjNH0gcmVzdWx0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgdSwgdiwgdykge1xuICB2YXIgQSA9IHZbMF0gKiB3WzFdIC0gdlsxXSAqIHdbMF0sXG4gICAgICBCID0gdlswXSAqIHdbMl0gLSB2WzJdICogd1swXSxcbiAgICAgIEMgPSB2WzBdICogd1szXSAtIHZbM10gKiB3WzBdLFxuICAgICAgRCA9IHZbMV0gKiB3WzJdIC0gdlsyXSAqIHdbMV0sXG4gICAgICBFID0gdlsxXSAqIHdbM10gLSB2WzNdICogd1sxXSxcbiAgICAgIEYgPSB2WzJdICogd1szXSAtIHZbM10gKiB3WzJdO1xuICB2YXIgRyA9IHVbMF07XG4gIHZhciBIID0gdVsxXTtcbiAgdmFyIEkgPSB1WzJdO1xuICB2YXIgSiA9IHVbM107XG4gIG91dFswXSA9IEggKiBGIC0gSSAqIEUgKyBKICogRDtcbiAgb3V0WzFdID0gLShHICogRikgKyBJICogQyAtIEogKiBCO1xuICBvdXRbMl0gPSBHICogRSAtIEggKiBDICsgSiAqIEE7XG4gIG91dFszXSA9IC0oRyAqIEQpICsgSCAqIEIgLSBJICogQTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xuICB2YXIgYXggPSBhWzBdO1xuICB2YXIgYXkgPSBhWzFdO1xuICB2YXIgYXogPSBhWzJdO1xuICB2YXIgYXcgPSBhWzNdO1xuICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XG4gIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopO1xuICBvdXRbM10gPSBhdyArIHQgKiAoYlszXSAtIGF3KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7IC8vIE1hcnNhZ2xpYSwgR2VvcmdlLiBDaG9vc2luZyBhIFBvaW50IGZyb20gdGhlIFN1cmZhY2Ugb2YgYVxuICAvLyBTcGhlcmUuIEFubi4gTWF0aC4gU3RhdGlzdC4gNDMgKDE5NzIpLCBuby4gMiwgNjQ1LS02NDYuXG4gIC8vIGh0dHA6Ly9wcm9qZWN0ZXVjbGlkLm9yZy9ldWNsaWQuYW9tcy8xMTc3NjkyNjQ0O1xuXG4gIHZhciB2MSwgdjIsIHYzLCB2NDtcbiAgdmFyIHMxLCBzMjtcblxuICBkbyB7XG4gICAgdjEgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHYyID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcbiAgICBzMSA9IHYxICogdjEgKyB2MiAqIHYyO1xuICB9IHdoaWxlIChzMSA+PSAxKTtcblxuICBkbyB7XG4gICAgdjMgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHY0ID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcbiAgICBzMiA9IHYzICogdjMgKyB2NCAqIHY0O1xuICB9IHdoaWxlIChzMiA+PSAxKTtcblxuICB2YXIgZCA9IE1hdGguc3FydCgoMSAtIHMxKSAvIHMyKTtcbiAgb3V0WzBdID0gc2NhbGUgKiB2MTtcbiAgb3V0WzFdID0gc2NhbGUgKiB2MjtcbiAgb3V0WzJdID0gc2NhbGUgKiB2MyAqIGQ7XG4gIG91dFszXSA9IHNjYWxlICogdjQgKiBkO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWM0IHdpdGggYSBtYXQ0LlxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl0sXG4gICAgICB3ID0gYVszXTtcbiAgb3V0WzBdID0gbVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0gKiB3O1xuICBvdXRbMV0gPSBtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHogKyBtWzEzXSAqIHc7XG4gIG91dFsyXSA9IG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSAqIHc7XG4gIG91dFszXSA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XSAqIHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzQgd2l0aCBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgdmFyIHF4ID0gcVswXSxcbiAgICAgIHF5ID0gcVsxXSxcbiAgICAgIHF6ID0gcVsyXSxcbiAgICAgIHF3ID0gcVszXTsgLy8gY2FsY3VsYXRlIHF1YXQgKiB2ZWNcblxuICB2YXIgaXggPSBxdyAqIHggKyBxeSAqIHogLSBxeiAqIHk7XG4gIHZhciBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogejtcbiAgdmFyIGl6ID0gcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4O1xuICB2YXIgaXcgPSAtcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6OyAvLyBjYWxjdWxhdGUgcmVzdWx0ICogaW52ZXJzZSBxdWF0XG5cbiAgb3V0WzBdID0gaXggKiBxdyArIGl3ICogLXF4ICsgaXkgKiAtcXogLSBpeiAqIC1xeTtcbiAgb3V0WzFdID0gaXkgKiBxdyArIGl3ICogLXF5ICsgaXogKiAtcXggLSBpeCAqIC1xejtcbiAgb3V0WzJdID0gaXogKiBxdyArIGl3ICogLXF6ICsgaXggKiAtcXkgLSBpeSAqIC1xeDtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNCB0byB6ZXJvXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gemVybyhvdXQpIHtcbiAgb3V0WzBdID0gMC4wO1xuICBvdXRbMV0gPSAwLjA7XG4gIG91dFsyXSA9IDAuMDtcbiAgb3V0WzNdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjNChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM107XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuZGl2aWRlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXYgPSBkaXZpZGU7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5kaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGlzdCA9IGRpc3RhbmNlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuc3F1YXJlZERpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJEaXN0ID0gc3F1YXJlZERpc3RhbmNlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQubGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zcXVhcmVkTGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuLyoqXG4gKiBQZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG92ZXIgYW4gYXJyYXkgb2YgdmVjNHMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgYXJyYXkgb2YgdmVjdG9ycyB0byBpdGVyYXRlIG92ZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdHJpZGUgTnVtYmVyIG9mIGVsZW1lbnRzIGJldHdlZW4gdGhlIHN0YXJ0IG9mIGVhY2ggdmVjNC4gSWYgMCBhc3N1bWVzIHRpZ2h0bHkgcGFja2VkXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XG4gKiBAcGFyYW0ge051bWJlcn0gY291bnQgTnVtYmVyIG9mIHZlYzRzIHRvIGl0ZXJhdGUgb3Zlci4gSWYgMCBpdGVyYXRlcyBvdmVyIGVudGlyZSBhcnJheVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB2ZWN0b3IgaW4gdGhlIGFycmF5XG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuXG4gICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgIHN0cmlkZSA9IDQ7XG4gICAgfVxuXG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2ZWNbMF0gPSBhW2ldO1xuICAgICAgdmVjWzFdID0gYVtpICsgMV07XG4gICAgICB2ZWNbMl0gPSBhW2kgKyAyXTtcbiAgICAgIHZlY1szXSA9IGFbaSArIDNdO1xuICAgICAgZm4odmVjLCB2ZWMsIGFyZyk7XG4gICAgICBhW2ldID0gdmVjWzBdO1xuICAgICAgYVtpICsgMV0gPSB2ZWNbMV07XG4gICAgICBhW2kgKyAyXSA9IHZlY1syXTtcbiAgICAgIGFbaSArIDNdID0gdmVjWzNdO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9O1xufSgpOyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbmltcG9ydCAqIGFzIHF1YXQgZnJvbSBcIi4vcXVhdC5qc1wiO1xuaW1wb3J0ICogYXMgbWF0NCBmcm9tIFwiLi9tYXQ0LmpzXCI7XG4vKipcbiAqIER1YWwgUXVhdGVybmlvbjxicj5cbiAqIEZvcm1hdDogW3JlYWwsIGR1YWxdPGJyPlxuICogUXVhdGVybmlvbiBmb3JtYXQ6IFhZWlc8YnI+XG4gKiBNYWtlIHN1cmUgdG8gaGF2ZSBub3JtYWxpemVkIGR1YWwgcXVhdGVybmlvbnMsIG90aGVyd2lzZSB0aGUgZnVuY3Rpb25zIG1heSBub3Qgd29yayBhcyBpbnRlbmRlZC48YnI+XG4gKiBAbW9kdWxlIHF1YXQyXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IGR1YWwgcXVhdFxuICpcbiAqIEByZXR1cm5zIHtxdWF0Mn0gYSBuZXcgZHVhbCBxdWF0ZXJuaW9uIFtyZWFsIC0+IHJvdGF0aW9uLCBkdWFsIC0+IHRyYW5zbGF0aW9uXVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIGRxWzBdID0gMDtcbiAgICBkcVsxXSA9IDA7XG4gICAgZHFbMl0gPSAwO1xuICAgIGRxWzRdID0gMDtcbiAgICBkcVs1XSA9IDA7XG4gICAgZHFbNl0gPSAwO1xuICAgIGRxWzddID0gMDtcbiAgfVxuXG4gIGRxWzNdID0gMTtcbiAgcmV0dXJuIGRxO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdGVybmlvbiB0byBjbG9uZVxuICogQHJldHVybnMge3F1YXQyfSBuZXcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgZHEgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg4KTtcbiAgZHFbMF0gPSBhWzBdO1xuICBkcVsxXSA9IGFbMV07XG4gIGRxWzJdID0gYVsyXTtcbiAgZHFbM10gPSBhWzNdO1xuICBkcVs0XSA9IGFbNF07XG4gIGRxWzVdID0gYVs1XTtcbiAgZHFbNl0gPSBhWzZdO1xuICBkcVs3XSA9IGFbN107XG4gIHJldHVybiBkcTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBkdWFsIHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHgxIFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geTEgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MSBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcxIFcgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geDIgWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MiBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHoyIFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdzIgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtxdWF0Mn0gbmV3IGR1YWwgcXVhdGVybmlvblxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeDEsIHkxLCB6MSwgdzEsIHgyLCB5MiwgejIsIHcyKSB7XG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xuICBkcVswXSA9IHgxO1xuICBkcVsxXSA9IHkxO1xuICBkcVsyXSA9IHoxO1xuICBkcVszXSA9IHcxO1xuICBkcVs0XSA9IHgyO1xuICBkcVs1XSA9IHkyO1xuICBkcVs2XSA9IHoyO1xuICBkcVs3XSA9IHcyO1xuICByZXR1cm4gZHE7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZHVhbCBxdWF0IGZyb20gdGhlIGdpdmVuIHZhbHVlcyAocXVhdCBhbmQgdHJhbnNsYXRpb24pXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHgxIFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geTEgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MSBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcxIFcgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geDIgWCBjb21wb25lbnQgKHRyYW5zbGF0aW9uKVxuICogQHBhcmFtIHtOdW1iZXJ9IHkyIFkgY29tcG9uZW50ICh0cmFuc2xhdGlvbilcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MiBaIGNvbXBvbmVudCAodHJhbnNsYXRpb24pXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG5ldyBkdWFsIHF1YXRlcm5pb25cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblZhbHVlcyh4MSwgeTEsIHoxLCB3MSwgeDIsIHkyLCB6Mikge1xuICB2YXIgZHEgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg4KTtcbiAgZHFbMF0gPSB4MTtcbiAgZHFbMV0gPSB5MTtcbiAgZHFbMl0gPSB6MTtcbiAgZHFbM10gPSB3MTtcbiAgdmFyIGF4ID0geDIgKiAwLjUsXG4gICAgICBheSA9IHkyICogMC41LFxuICAgICAgYXogPSB6MiAqIDAuNTtcbiAgZHFbNF0gPSBheCAqIHcxICsgYXkgKiB6MSAtIGF6ICogeTE7XG4gIGRxWzVdID0gYXkgKiB3MSArIGF6ICogeDEgLSBheCAqIHoxO1xuICBkcVs2XSA9IGF6ICogdzEgKyBheCAqIHkxIC0gYXkgKiB4MTtcbiAgZHFbN10gPSAtYXggKiB4MSAtIGF5ICogeTEgLSBheiAqIHoxO1xuICByZXR1cm4gZHE7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBkdWFsIHF1YXQgZnJvbSBhIHF1YXRlcm5pb24gYW5kIGEgdHJhbnNsYXRpb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgYSBub3JtYWxpemVkIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB0IHRyYW5sYXRpb24gdmVjdG9yXG4gKiBAcmV0dXJucyB7cXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgcSwgdCkge1xuICB2YXIgYXggPSB0WzBdICogMC41LFxuICAgICAgYXkgPSB0WzFdICogMC41LFxuICAgICAgYXogPSB0WzJdICogMC41LFxuICAgICAgYnggPSBxWzBdLFxuICAgICAgYnkgPSBxWzFdLFxuICAgICAgYnogPSBxWzJdLFxuICAgICAgYncgPSBxWzNdO1xuICBvdXRbMF0gPSBieDtcbiAgb3V0WzFdID0gYnk7XG4gIG91dFsyXSA9IGJ6O1xuICBvdXRbM10gPSBidztcbiAgb3V0WzRdID0gYXggKiBidyArIGF5ICogYnogLSBheiAqIGJ5O1xuICBvdXRbNV0gPSBheSAqIGJ3ICsgYXogKiBieCAtIGF4ICogYno7XG4gIG91dFs2XSA9IGF6ICogYncgKyBheCAqIGJ5IC0gYXkgKiBieDtcbiAgb3V0WzddID0gLWF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGR1YWwgcXVhdCBmcm9tIGEgdHJhbnNsYXRpb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHQgdHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcmV0dXJucyB7cXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHQpIHtcbiAgb3V0WzBdID0gMDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMTtcbiAgb3V0WzRdID0gdFswXSAqIDAuNTtcbiAgb3V0WzVdID0gdFsxXSAqIDAuNTtcbiAgb3V0WzZdID0gdFsyXSAqIDAuNTtcbiAgb3V0WzddID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGR1YWwgcXVhdCBmcm9tIGEgcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSB0aGUgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXQyfSBkdWFsIHF1YXRlcm5pb24gcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCBxKSB7XG4gIG91dFswXSA9IHFbMF07XG4gIG91dFsxXSA9IHFbMV07XG4gIG91dFsyXSA9IHFbMl07XG4gIG91dFszXSA9IHFbM107XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDA7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZHVhbCBxdWF0IGZyb20gYSBtYXRyaXggKDR4NClcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeFxuICogQHJldHVybnMge3F1YXQyfSBkdWFsIHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0NChvdXQsIGEpIHtcbiAgLy9UT0RPIE9wdGltaXplIHRoaXNcbiAgdmFyIG91dGVyID0gcXVhdC5jcmVhdGUoKTtcbiAgbWF0NC5nZXRSb3RhdGlvbihvdXRlciwgYSk7XG4gIHZhciB0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG1hdDQuZ2V0VHJhbnNsYXRpb24odCwgYSk7XG4gIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgb3V0ZXIsIHQpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgZHVhbCBxdWF0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgc291cmNlIGR1YWwgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBkdWFsIHF1YXQgdG8gdGhlIGlkZW50aXR5IGR1YWwgcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAwO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAxO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBkdWFsIHF1YXQgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7TnVtYmVyfSB4MSBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkxIFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gejEgWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3MSBXIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHgyIFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geTIgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcyIFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgxLCB5MSwgejEsIHcxLCB4MiwgeTIsIHoyLCB3Mikge1xuICBvdXRbMF0gPSB4MTtcbiAgb3V0WzFdID0geTE7XG4gIG91dFsyXSA9IHoxO1xuICBvdXRbM10gPSB3MTtcbiAgb3V0WzRdID0geDI7XG4gIG91dFs1XSA9IHkyO1xuICBvdXRbNl0gPSB6MjtcbiAgb3V0WzddID0gdzI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdldHMgdGhlIHJlYWwgcGFydCBvZiBhIGR1YWwgcXVhdFxuICogQHBhcmFtICB7cXVhdH0gb3V0IHJlYWwgcGFydFxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0Mn0gYSBEdWFsIFF1YXRlcm5pb25cbiAqIEByZXR1cm4ge3F1YXR9IHJlYWwgcGFydFxuICovXG5cbmV4cG9ydCB2YXIgZ2V0UmVhbCA9IHF1YXQuY29weTtcbi8qKlxuICogR2V0cyB0aGUgZHVhbCBwYXJ0IG9mIGEgZHVhbCBxdWF0XG4gKiBAcGFyYW0gIHtxdWF0fSBvdXQgZHVhbCBwYXJ0XG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxuICogQHJldHVybiB7cXVhdH0gZHVhbCBwYXJ0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldER1YWwob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbNF07XG4gIG91dFsxXSA9IGFbNV07XG4gIG91dFsyXSA9IGFbNl07XG4gIG91dFszXSA9IGFbN107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgcmVhbCBjb21wb25lbnQgb2YgYSBkdWFsIHF1YXQgdG8gdGhlIGdpdmVuIHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBhIHF1YXRlcm5pb24gcmVwcmVzZW50aW5nIHRoZSByZWFsIHBhcnRcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNldFJlYWwgPSBxdWF0LmNvcHk7XG4vKipcbiAqIFNldCB0aGUgZHVhbCBjb21wb25lbnQgb2YgYSBkdWFsIHF1YXQgdG8gdGhlIGdpdmVuIHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBhIHF1YXRlcm5pb24gcmVwcmVzZW50aW5nIHRoZSBkdWFsIHBhcnRcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0RHVhbChvdXQsIHEpIHtcbiAgb3V0WzRdID0gcVswXTtcbiAgb3V0WzVdID0gcVsxXTtcbiAgb3V0WzZdID0gcVsyXTtcbiAgb3V0WzddID0gcVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2V0cyB0aGUgdHJhbnNsYXRpb24gb2YgYSBub3JtYWxpemVkIGR1YWwgcXVhdFxuICogQHBhcmFtICB7dmVjM30gb3V0IHRyYW5zbGF0aW9uXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvbiB0byBiZSBkZWNvbXBvc2VkXG4gKiBAcmV0dXJuIHt2ZWMzfSB0cmFuc2xhdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsIGEpIHtcbiAgdmFyIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XSxcbiAgICAgIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXTtcbiAgb3V0WzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMjtcbiAgb3V0WzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMjtcbiAgb3V0WzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNsYXRlcyBhIGR1YWwgcXVhdCBieSB0aGUgZ2l2ZW4gdmVjdG9yXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byB0cmFuc2xhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcbiAgdmFyIGF4MSA9IGFbMF0sXG4gICAgICBheTEgPSBhWzFdLFxuICAgICAgYXoxID0gYVsyXSxcbiAgICAgIGF3MSA9IGFbM10sXG4gICAgICBieDEgPSB2WzBdICogMC41LFxuICAgICAgYnkxID0gdlsxXSAqIDAuNSxcbiAgICAgIGJ6MSA9IHZbMl0gKiAwLjUsXG4gICAgICBheDIgPSBhWzRdLFxuICAgICAgYXkyID0gYVs1XSxcbiAgICAgIGF6MiA9IGFbNl0sXG4gICAgICBhdzIgPSBhWzddO1xuICBvdXRbMF0gPSBheDE7XG4gIG91dFsxXSA9IGF5MTtcbiAgb3V0WzJdID0gYXoxO1xuICBvdXRbM10gPSBhdzE7XG4gIG91dFs0XSA9IGF3MSAqIGJ4MSArIGF5MSAqIGJ6MSAtIGF6MSAqIGJ5MSArIGF4MjtcbiAgb3V0WzVdID0gYXcxICogYnkxICsgYXoxICogYngxIC0gYXgxICogYnoxICsgYXkyO1xuICBvdXRbNl0gPSBhdzEgKiBiejEgKyBheDEgKiBieTEgLSBheTEgKiBieDEgKyBhejI7XG4gIG91dFs3XSA9IC1heDEgKiBieDEgLSBheTEgKiBieTEgLSBhejEgKiBiejEgKyBhdzI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYXJvdW5kIHRoZSBYIGF4aXNcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBob3cgZmFyIHNob3VsZCB0aGUgcm90YXRpb24gYmVcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXSxcbiAgICAgIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XSxcbiAgICAgIGF4MSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnksXG4gICAgICBheTEgPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6LFxuICAgICAgYXoxID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCxcbiAgICAgIGF3MSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gIHF1YXQucm90YXRlWChvdXQsIGEsIHJhZCk7XG4gIGJ4ID0gb3V0WzBdO1xuICBieSA9IG91dFsxXTtcbiAgYnogPSBvdXRbMl07XG4gIGJ3ID0gb3V0WzNdO1xuICBvdXRbNF0gPSBheDEgKiBidyArIGF3MSAqIGJ4ICsgYXkxICogYnogLSBhejEgKiBieTtcbiAgb3V0WzVdID0gYXkxICogYncgKyBhdzEgKiBieSArIGF6MSAqIGJ4IC0gYXgxICogYno7XG4gIG91dFs2XSA9IGF6MSAqIGJ3ICsgYXcxICogYnogKyBheDEgKiBieSAtIGF5MSAqIGJ4O1xuICBvdXRbN10gPSBhdzEgKiBidyAtIGF4MSAqIGJ4IC0gYXkxICogYnkgLSBhejEgKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBhcm91bmQgdGhlIFkgYXhpc1xuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGhvdyBmYXIgc2hvdWxkIHRoZSByb3RhdGlvbiBiZVxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xuICB2YXIgYnggPSAtYVswXSxcbiAgICAgIGJ5ID0gLWFbMV0sXG4gICAgICBieiA9IC1hWzJdLFxuICAgICAgYncgPSBhWzNdLFxuICAgICAgYXggPSBhWzRdLFxuICAgICAgYXkgPSBhWzVdLFxuICAgICAgYXogPSBhWzZdLFxuICAgICAgYXcgPSBhWzddLFxuICAgICAgYXgxID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSxcbiAgICAgIGF5MSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnosXG4gICAgICBhejEgPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4LFxuICAgICAgYXcxID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcbiAgcXVhdC5yb3RhdGVZKG91dCwgYSwgcmFkKTtcbiAgYnggPSBvdXRbMF07XG4gIGJ5ID0gb3V0WzFdO1xuICBieiA9IG91dFsyXTtcbiAgYncgPSBvdXRbM107XG4gIG91dFs0XSA9IGF4MSAqIGJ3ICsgYXcxICogYnggKyBheTEgKiBieiAtIGF6MSAqIGJ5O1xuICBvdXRbNV0gPSBheTEgKiBidyArIGF3MSAqIGJ5ICsgYXoxICogYnggLSBheDEgKiBiejtcbiAgb3V0WzZdID0gYXoxICogYncgKyBhdzEgKiBieiArIGF4MSAqIGJ5IC0gYXkxICogYng7XG4gIG91dFs3XSA9IGF3MSAqIGJ3IC0gYXgxICogYnggLSBheTEgKiBieSAtIGF6MSAqIGJ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGFyb3VuZCB0aGUgWiBheGlzXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgaG93IGZhciBzaG91bGQgdGhlIHJvdGF0aW9uIGJlXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XG4gIHZhciBieCA9IC1hWzBdLFxuICAgICAgYnkgPSAtYVsxXSxcbiAgICAgIGJ6ID0gLWFbMl0sXG4gICAgICBidyA9IGFbM10sXG4gICAgICBheCA9IGFbNF0sXG4gICAgICBheSA9IGFbNV0sXG4gICAgICBheiA9IGFbNl0sXG4gICAgICBhdyA9IGFbN10sXG4gICAgICBheDEgPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5LFxuICAgICAgYXkxID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieixcbiAgICAgIGF6MSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngsXG4gICAgICBhdzEgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xuICBxdWF0LnJvdGF0ZVoob3V0LCBhLCByYWQpO1xuICBieCA9IG91dFswXTtcbiAgYnkgPSBvdXRbMV07XG4gIGJ6ID0gb3V0WzJdO1xuICBidyA9IG91dFszXTtcbiAgb3V0WzRdID0gYXgxICogYncgKyBhdzEgKiBieCArIGF5MSAqIGJ6IC0gYXoxICogYnk7XG4gIG91dFs1XSA9IGF5MSAqIGJ3ICsgYXcxICogYnkgKyBhejEgKiBieCAtIGF4MSAqIGJ6O1xuICBvdXRbNl0gPSBhejEgKiBidyArIGF3MSAqIGJ6ICsgYXgxICogYnkgLSBheTEgKiBieDtcbiAgb3V0WzddID0gYXcxICogYncgLSBheDEgKiBieCAtIGF5MSAqIGJ5IC0gYXoxICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYnkgYSBnaXZlbiBxdWF0ZXJuaW9uIChhICogcSlcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byByb3RhdGUgYnlcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUJ5UXVhdEFwcGVuZChvdXQsIGEsIHEpIHtcbiAgdmFyIHF4ID0gcVswXSxcbiAgICAgIHF5ID0gcVsxXSxcbiAgICAgIHF6ID0gcVsyXSxcbiAgICAgIHF3ID0gcVszXSxcbiAgICAgIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgb3V0WzBdID0gYXggKiBxdyArIGF3ICogcXggKyBheSAqIHF6IC0gYXogKiBxeTtcbiAgb3V0WzFdID0gYXkgKiBxdyArIGF3ICogcXkgKyBheiAqIHF4IC0gYXggKiBxejtcbiAgb3V0WzJdID0gYXogKiBxdyArIGF3ICogcXogKyBheCAqIHF5IC0gYXkgKiBxeDtcbiAgb3V0WzNdID0gYXcgKiBxdyAtIGF4ICogcXggLSBheSAqIHF5IC0gYXogKiBxejtcbiAgYXggPSBhWzRdO1xuICBheSA9IGFbNV07XG4gIGF6ID0gYVs2XTtcbiAgYXcgPSBhWzddO1xuICBvdXRbNF0gPSBheCAqIHF3ICsgYXcgKiBxeCArIGF5ICogcXogLSBheiAqIHF5O1xuICBvdXRbNV0gPSBheSAqIHF3ICsgYXcgKiBxeSArIGF6ICogcXggLSBheCAqIHF6O1xuICBvdXRbNl0gPSBheiAqIHF3ICsgYXcgKiBxeiArIGF4ICogcXkgLSBheSAqIHF4O1xuICBvdXRbN10gPSBhdyAqIHF3IC0gYXggKiBxeCAtIGF5ICogcXkgLSBheiAqIHF6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGJ5IGEgZ2l2ZW4gcXVhdGVybmlvbiAocSAqIGEpXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHJvdGF0ZSBieVxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVCeVF1YXRQcmVwZW5kKG91dCwgcSwgYSkge1xuICB2YXIgcXggPSBxWzBdLFxuICAgICAgcXkgPSBxWzFdLFxuICAgICAgcXogPSBxWzJdLFxuICAgICAgcXcgPSBxWzNdLFxuICAgICAgYnggPSBhWzBdLFxuICAgICAgYnkgPSBhWzFdLFxuICAgICAgYnogPSBhWzJdLFxuICAgICAgYncgPSBhWzNdO1xuICBvdXRbMF0gPSBxeCAqIGJ3ICsgcXcgKiBieCArIHF5ICogYnogLSBxeiAqIGJ5O1xuICBvdXRbMV0gPSBxeSAqIGJ3ICsgcXcgKiBieSArIHF6ICogYnggLSBxeCAqIGJ6O1xuICBvdXRbMl0gPSBxeiAqIGJ3ICsgcXcgKiBieiArIHF4ICogYnkgLSBxeSAqIGJ4O1xuICBvdXRbM10gPSBxdyAqIGJ3IC0gcXggKiBieCAtIHF5ICogYnkgLSBxeiAqIGJ6O1xuICBieCA9IGFbNF07XG4gIGJ5ID0gYVs1XTtcbiAgYnogPSBhWzZdO1xuICBidyA9IGFbN107XG4gIG91dFs0XSA9IHF4ICogYncgKyBxdyAqIGJ4ICsgcXkgKiBieiAtIHF6ICogYnk7XG4gIG91dFs1XSA9IHF5ICogYncgKyBxdyAqIGJ5ICsgcXogKiBieCAtIHF4ICogYno7XG4gIG91dFs2XSA9IHF6ICogYncgKyBxdyAqIGJ6ICsgcXggKiBieSAtIHF5ICogYng7XG4gIG91dFs3XSA9IHF3ICogYncgLSBxeCAqIGJ4IC0gcXkgKiBieSAtIHF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYXJvdW5kIGEgZ2l2ZW4gYXhpcy4gRG9lcyB0aGUgbm9ybWFsaXNhdGlvbiBhdXRvbWF0aWNhbGx5XG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgaG93IGZhciB0aGUgcm90YXRpb24gc2hvdWxkIGJlXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVBcm91bmRBeGlzKG91dCwgYSwgYXhpcywgcmFkKSB7XG4gIC8vU3BlY2lhbCBjYXNlIGZvciByYWQgPSAwXG4gIGlmIChNYXRoLmFicyhyYWQpIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBjb3B5KG91dCwgYSk7XG4gIH1cblxuICB2YXIgYXhpc0xlbmd0aCA9IE1hdGguaHlwb3QoYXhpc1swXSwgYXhpc1sxXSwgYXhpc1syXSk7XG4gIHJhZCA9IHJhZCAqIDAuNTtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYnggPSBzICogYXhpc1swXSAvIGF4aXNMZW5ndGg7XG4gIHZhciBieSA9IHMgKiBheGlzWzFdIC8gYXhpc0xlbmd0aDtcbiAgdmFyIGJ6ID0gcyAqIGF4aXNbMl0gLyBheGlzTGVuZ3RoO1xuICB2YXIgYncgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYXgxID0gYVswXSxcbiAgICAgIGF5MSA9IGFbMV0sXG4gICAgICBhejEgPSBhWzJdLFxuICAgICAgYXcxID0gYVszXTtcbiAgb3V0WzBdID0gYXgxICogYncgKyBhdzEgKiBieCArIGF5MSAqIGJ6IC0gYXoxICogYnk7XG4gIG91dFsxXSA9IGF5MSAqIGJ3ICsgYXcxICogYnkgKyBhejEgKiBieCAtIGF4MSAqIGJ6O1xuICBvdXRbMl0gPSBhejEgKiBidyArIGF3MSAqIGJ6ICsgYXgxICogYnkgLSBheTEgKiBieDtcbiAgb3V0WzNdID0gYXcxICogYncgLSBheDEgKiBieCAtIGF5MSAqIGJ5IC0gYXoxICogYno7XG4gIHZhciBheCA9IGFbNF0sXG4gICAgICBheSA9IGFbNV0sXG4gICAgICBheiA9IGFbNl0sXG4gICAgICBhdyA9IGFbN107XG4gIG91dFs0XSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFs1XSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7XG4gIG91dFs2XSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7XG4gIG91dFs3XSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIGR1YWwgcXVhdCdzXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICBvdXRbM10gPSBhWzNdICsgYlszXTtcbiAgb3V0WzRdID0gYVs0XSArIGJbNF07XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XTtcbiAgb3V0WzddID0gYVs3XSArIGJbN107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIGR1YWwgcXVhdCdzXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYXgwID0gYVswXSxcbiAgICAgIGF5MCA9IGFbMV0sXG4gICAgICBhejAgPSBhWzJdLFxuICAgICAgYXcwID0gYVszXSxcbiAgICAgIGJ4MSA9IGJbNF0sXG4gICAgICBieTEgPSBiWzVdLFxuICAgICAgYnoxID0gYls2XSxcbiAgICAgIGJ3MSA9IGJbN10sXG4gICAgICBheDEgPSBhWzRdLFxuICAgICAgYXkxID0gYVs1XSxcbiAgICAgIGF6MSA9IGFbNl0sXG4gICAgICBhdzEgPSBhWzddLFxuICAgICAgYngwID0gYlswXSxcbiAgICAgIGJ5MCA9IGJbMV0sXG4gICAgICBiejAgPSBiWzJdLFxuICAgICAgYncwID0gYlszXTtcbiAgb3V0WzBdID0gYXgwICogYncwICsgYXcwICogYngwICsgYXkwICogYnowIC0gYXowICogYnkwO1xuICBvdXRbMV0gPSBheTAgKiBidzAgKyBhdzAgKiBieTAgKyBhejAgKiBieDAgLSBheDAgKiBiejA7XG4gIG91dFsyXSA9IGF6MCAqIGJ3MCArIGF3MCAqIGJ6MCArIGF4MCAqIGJ5MCAtIGF5MCAqIGJ4MDtcbiAgb3V0WzNdID0gYXcwICogYncwIC0gYXgwICogYngwIC0gYXkwICogYnkwIC0gYXowICogYnowO1xuICBvdXRbNF0gPSBheDAgKiBidzEgKyBhdzAgKiBieDEgKyBheTAgKiBiejEgLSBhejAgKiBieTEgKyBheDEgKiBidzAgKyBhdzEgKiBieDAgKyBheTEgKiBiejAgLSBhejEgKiBieTA7XG4gIG91dFs1XSA9IGF5MCAqIGJ3MSArIGF3MCAqIGJ5MSArIGF6MCAqIGJ4MSAtIGF4MCAqIGJ6MSArIGF5MSAqIGJ3MCArIGF3MSAqIGJ5MCArIGF6MSAqIGJ4MCAtIGF4MSAqIGJ6MDtcbiAgb3V0WzZdID0gYXowICogYncxICsgYXcwICogYnoxICsgYXgwICogYnkxIC0gYXkwICogYngxICsgYXoxICogYncwICsgYXcxICogYnowICsgYXgxICogYnkwIC0gYXkxICogYngwO1xuICBvdXRbN10gPSBhdzAgKiBidzEgLSBheDAgKiBieDEgLSBheTAgKiBieTEgLSBhejAgKiBiejEgKyBhdzEgKiBidzAgLSBheDEgKiBieDAgLSBheTEgKiBieTAgLSBhejEgKiBiejA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdDIubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBTY2FsZXMgYSBkdWFsIHF1YXQgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdCB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBkdWFsIHF1YXQgYnlcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIGR1YWwgcXVhdCdzIChUaGUgZG90IHByb2R1Y3Qgb2YgdGhlIHJlYWwgcGFydHMpXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRvdCA9IHF1YXQuZG90O1xuLyoqXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIGR1YWwgcXVhdHMnc1xuICogTk9URTogVGhlIHJlc3VsdGluZyBkdWFsIHF1YXRlcm5pb25zIHdvbid0IGFsd2F5cyBiZSBub3JtYWxpemVkIChUaGUgZXJyb3IgaXMgbW9zdCBub3RpY2VhYmxlIHdoZW4gdCA9IDAuNSlcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIG10ID0gMSAtIHQ7XG4gIGlmIChkb3QoYSwgYikgPCAwKSB0ID0gLXQ7XG4gIG91dFswXSA9IGFbMF0gKiBtdCArIGJbMF0gKiB0O1xuICBvdXRbMV0gPSBhWzFdICogbXQgKyBiWzFdICogdDtcbiAgb3V0WzJdID0gYVsyXSAqIG10ICsgYlsyXSAqIHQ7XG4gIG91dFszXSA9IGFbM10gKiBtdCArIGJbM10gKiB0O1xuICBvdXRbNF0gPSBhWzRdICogbXQgKyBiWzRdICogdDtcbiAgb3V0WzVdID0gYVs1XSAqIG10ICsgYls1XSAqIHQ7XG4gIG91dFs2XSA9IGFbNl0gKiBtdCArIGJbNl0gKiB0O1xuICBvdXRbN10gPSBhWzddICogbXQgKyBiWzddICogdDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgaW52ZXJzZSBvZiBhIGR1YWwgcXVhdC4gSWYgdGhleSBhcmUgbm9ybWFsaXplZCwgY29uanVnYXRlIGlzIGNoZWFwZXJcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXQgdG8gY2FsY3VsYXRlIGludmVyc2Ugb2ZcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIHNxbGVuID0gc3F1YXJlZExlbmd0aChhKTtcbiAgb3V0WzBdID0gLWFbMF0gLyBzcWxlbjtcbiAgb3V0WzFdID0gLWFbMV0gLyBzcWxlbjtcbiAgb3V0WzJdID0gLWFbMl0gLyBzcWxlbjtcbiAgb3V0WzNdID0gYVszXSAvIHNxbGVuO1xuICBvdXRbNF0gPSAtYVs0XSAvIHNxbGVuO1xuICBvdXRbNV0gPSAtYVs1XSAvIHNxbGVuO1xuICBvdXRbNl0gPSAtYVs2XSAvIHNxbGVuO1xuICBvdXRbN10gPSBhWzddIC8gc3FsZW47XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGNvbmp1Z2F0ZSBvZiBhIGR1YWwgcXVhdFxuICogSWYgdGhlIGR1YWwgcXVhdGVybmlvbiBpcyBub3JtYWxpemVkLCB0aGlzIGZ1bmN0aW9uIGlzIGZhc3RlciB0aGFuIHF1YXQyLmludmVyc2UgYW5kIHByb2R1Y2VzIHRoZSBzYW1lIHJlc3VsdC5cbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgcXVhdCB0byBjYWxjdWxhdGUgY29uanVnYXRlIG9mXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb25qdWdhdGUob3V0LCBhKSB7XG4gIG91dFswXSA9IC1hWzBdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IC1hWzRdO1xuICBvdXRbNV0gPSAtYVs1XTtcbiAgb3V0WzZdID0gLWFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIGR1YWwgcXVhdFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXQgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVuZ3RoID0gcXVhdC5sZW5ndGg7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdDIubGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgZHVhbCBxdWF0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdCB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3F1YXJlZExlbmd0aCA9IHF1YXQuc3F1YXJlZExlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Mi5zcXVhcmVkTGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuLyoqXG4gKiBOb3JtYWxpemUgYSBkdWFsIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXRlcm5pb24gdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgdmFyIG1hZ25pdHVkZSA9IHNxdWFyZWRMZW5ndGgoYSk7XG5cbiAgaWYgKG1hZ25pdHVkZSA+IDApIHtcbiAgICBtYWduaXR1ZGUgPSBNYXRoLnNxcnQobWFnbml0dWRlKTtcbiAgICB2YXIgYTAgPSBhWzBdIC8gbWFnbml0dWRlO1xuICAgIHZhciBhMSA9IGFbMV0gLyBtYWduaXR1ZGU7XG4gICAgdmFyIGEyID0gYVsyXSAvIG1hZ25pdHVkZTtcbiAgICB2YXIgYTMgPSBhWzNdIC8gbWFnbml0dWRlO1xuICAgIHZhciBiMCA9IGFbNF07XG4gICAgdmFyIGIxID0gYVs1XTtcbiAgICB2YXIgYjIgPSBhWzZdO1xuICAgIHZhciBiMyA9IGFbN107XG4gICAgdmFyIGFfZG90X2IgPSBhMCAqIGIwICsgYTEgKiBiMSArIGEyICogYjIgKyBhMyAqIGIzO1xuICAgIG91dFswXSA9IGEwO1xuICAgIG91dFsxXSA9IGExO1xuICAgIG91dFsyXSA9IGEyO1xuICAgIG91dFszXSA9IGEzO1xuICAgIG91dFs0XSA9IChiMCAtIGEwICogYV9kb3RfYikgLyBtYWduaXR1ZGU7XG4gICAgb3V0WzVdID0gKGIxIC0gYTEgKiBhX2RvdF9iKSAvIG1hZ25pdHVkZTtcbiAgICBvdXRbNl0gPSAoYjIgLSBhMiAqIGFfZG90X2IpIC8gbWFnbml0dWRlO1xuICAgIG91dFs3XSA9IChiMyAtIGEzICogYV9kb3RfYikgLyBtYWduaXR1ZGU7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgZHVhbCBxdWF0ZW5pb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0ZXJuaW9uIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBkdWFsIHF1YXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwicXVhdDIoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIsIFwiICsgYVs0XSArIFwiLCBcIiArIGFbNV0gKyBcIiwgXCIgKyBhWzZdICsgXCIsIFwiICsgYVs3XSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBkdWFsIHF1YXRlcm5pb25zIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IGR1YWwgcXVhdGVybmlvbi5cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIGR1YWwgcXVhdGVybmlvbi5cbiAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBkdWFsIHF1YXRlcm5pb25zIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN107XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGR1YWwgcXVhdGVybmlvbnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3QgZHVhbCBxdWF0LlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgZHVhbCBxdWF0LlxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIGR1YWwgcXVhdHMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM10sXG4gICAgICBhNCA9IGFbNF0sXG4gICAgICBhNSA9IGFbNV0sXG4gICAgICBhNiA9IGFbNl0sXG4gICAgICBhNyA9IGFbN107XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM10sXG4gICAgICBiNCA9IGJbNF0sXG4gICAgICBiNSA9IGJbNV0sXG4gICAgICBiNiA9IGJbNl0sXG4gICAgICBiNyA9IGJbN107XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpO1xufSIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBDb21wb25lbnQsIEVtaXR0ZXIgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwgfSBmcm9tICcuL3V0aWxzL3dlYnhyLmpzJztcbi8qKlxuICogU2V0cyB1cCBhIFtXZWJYUiBEZXZpY2UgQVBJIFwiSGl0IFRlc3RcIl0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby9oaXQtdGVzdC8pXG4gKiBhbmQgcGxhY2VzIHRoZSBvYmplY3QgdG8gdGhlIGhpdCBsb2NhdGlvbi5cbiAqXG4gKiAqKlJlcXVpcmVtZW50czoqKlxuICogIC0gU3BlY2lmeSBgJ2hpdC10ZXN0J2AgaW4gdGhlIHJlcXVpcmVkIG9yIG9wdGlvbmFsIGZlYXR1cmVzIG9uIHRoZSBBUiBidXR0b24gaW4geW91ciBodG1sIGZpbGUuXG4gKiAgICBTZWUgW1dhc3RlcGFwZXJiaW4gQVJdKC9zaG93Y2FzZS93cGItYXIpIGFzIGFuIGV4YW1wbGUuXG4gKi9cbmNsYXNzIEhpdFRlc3RMb2NhdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2hpdC10ZXN0LWxvY2F0aW9uJztcbiAgICB0ZW1wU2NhbGluZyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgdmlzaWJsZSA9IGZhbHNlO1xuICAgIHhySGl0VGVzdFNvdXJjZSA9IG51bGw7XG4gICAgLyoqIFJlZmVyZW5jZSBzcGFjZSBmb3IgY3JlYXRpbmcgdGhlIGhpdCB0ZXN0IHdoZW4gdGhlIHNlc3Npb24gc3RhcnRzICovXG4gICAgeHJSZWZlcmVuY2VTcGFjZSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogRm9yIG1haW50YWluaW5nIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5OiBXaGV0aGVyIHRvIHNjYWxlIHRoZSBvYmplY3QgdG8gMCBhbmQgYmFjay5cbiAgICAgKiBAZGVwcmVjYXRlZCBVc2Ugb25IaXRMb3N0IGFuZCBvbkhpdEZvdW5kIGluc3RlYWQuXG4gICAgICovXG4gICAgc2NhbGVPYmplY3QgPSB0cnVlO1xuICAgIC8qKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoZSBoaXQgdGVzdCBzd2l0Y2hlcyBmcm9tIHZpc2libGUgdG8gaW52aXNpYmxlICovXG4gICAgb25IaXRMb3N0ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogRW1pdHMgYW4gZXZlbnQgd2hlbiB0aGUgaGl0IHRlc3Qgc3dpdGNoZXMgZnJvbSBpbnZpc2libGUgdG8gdmlzaWJsZSAqL1xuICAgIG9uSGl0Rm91bmQgPSBuZXcgRW1pdHRlcigpO1xuICAgIG9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSBudWxsO1xuICAgIG9uU2Vzc2lvbkVuZENhbGxiYWNrID0gbnVsbDtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvblN0YXJ0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uRW5kLmJpbmQodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLnNjYWxlT2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnRlbXBTY2FsaW5nLnNldCh0aGlzLm9iamVjdC5zY2FsaW5nTG9jYWwpO1xuICAgICAgICAgICAgdGhpcy5vYmplY3Quc2NhbGUoWzAsIDAsIDBdKTtcbiAgICAgICAgICAgIHRoaXMub25IaXRMb3N0LmFkZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wU2NhbGluZy5zZXQodGhpcy5vYmplY3Quc2NhbGluZ0xvY2FsKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5zY2FsZShbMCwgMCwgMF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm9uSGl0Rm91bmQuYWRkKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5zY2FsaW5nTG9jYWwuc2V0KHRoaXMudGVtcFNjYWxpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnNldERpcnR5KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5hZGQodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XG4gICAgfVxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQucmVtb3ZlKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGNvbnN0IHdhc1Zpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIGlmICh0aGlzLnhySGl0VGVzdFNvdXJjZSkge1xuICAgICAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLmVuZ2luZS54ckZyYW1lO1xuICAgICAgICAgICAgaWYgKCFmcmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgaGl0VGVzdFJlc3VsdHMgPSBmcmFtZS5nZXRIaXRUZXN0UmVzdWx0cyh0aGlzLnhySGl0VGVzdFNvdXJjZSk7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdFJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBwb3NlID0gaGl0VGVzdFJlc3VsdHNbMF0uZ2V0UG9zZSh0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9ICEhcG9zZTtcbiAgICAgICAgICAgICAgICBpZiAocG9zZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwodGhpcy5vYmplY3QsIHBvc2UudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBFbWl0IGV2ZW50cyBmb3IgdmlzaWJsZSBzdGF0ZSBjaGFuZ2UgKi9cbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSAhPSB3YXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAodGhpcy52aXNpYmxlID8gdGhpcy5vbkhpdEZvdW5kIDogdGhpcy5vbkhpdExvc3QpLm5vdGlmeSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRIaXRUZXN0UmVzdWx0cyhmcmFtZSA9IHRoaXMuZW5naW5lLnhyPy5mcmFtZSA/PyBudWxsKSB7XG4gICAgICAgIGlmICghZnJhbWUpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIC8qIE1heSBoYXBwZW4gaWYgdGhlIGhpdCB0ZXN0IHNvdXJjZSBjb3VsZG4ndCBiZSBjcmVhdGVkICovXG4gICAgICAgIGlmICghdGhpcy54ckhpdFRlc3RTb3VyY2UpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIHJldHVybiBmcmFtZS5nZXRIaXRUZXN0UmVzdWx0cyh0aGlzLnhySGl0VGVzdFNvdXJjZSk7XG4gICAgfVxuICAgIG9uWFJTZXNzaW9uU3RhcnQoc2Vzc2lvbikge1xuICAgICAgICBpZiAoc2Vzc2lvbi5yZXF1ZXN0SGl0VGVzdFNvdXJjZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdoaXQtdGVzdC1sb2NhdGlvbjogaGl0IHRlc3QgZmVhdHVyZSBub3QgYXZhaWxhYmxlLiBEZWFjdGl2YXRpbmcgY29tcG9uZW50LicpO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXNzaW9uXG4gICAgICAgICAgICAucmVxdWVzdEhpdFRlc3RTb3VyY2Uoe1xuICAgICAgICAgICAgc3BhY2U6IHRoaXMueHJSZWZlcmVuY2VTcGFjZSA/P1xuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLnhyLnJlZmVyZW5jZVNwYWNlRm9yVHlwZSgndmlld2VyJyksXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoaGl0VGVzdFNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy54ckhpdFRlc3RTb3VyY2UgPSBoaXRUZXN0U291cmNlO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgIH1cbiAgICBvblhSU2Vzc2lvbkVuZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnhySGl0VGVzdFNvdXJjZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy54ckhpdFRlc3RTb3VyY2UuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMueHJIaXRUZXN0U291cmNlID0gbnVsbDtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5ib29sKHRydWUpXG5dLCBIaXRUZXN0TG9jYXRpb24ucHJvdG90eXBlLCBcInNjYWxlT2JqZWN0XCIsIHZvaWQgMCk7XG5leHBvcnQgeyBIaXRUZXN0TG9jYXRpb24gfTtcbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBDb21wb25lbnQsIFZpZXdDb21wb25lbnQsIEVtaXR0ZXIsIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgdmVjMywgbWF0NCB9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgeyBDdXJzb3JUYXJnZXQgfSBmcm9tICcuL2N1cnNvci10YXJnZXQuanMnO1xuaW1wb3J0IHsgSGl0VGVzdExvY2F0aW9uIH0gZnJvbSAnLi9oaXQtdGVzdC1sb2NhdGlvbi5qcyc7XG5jb25zdCB0ZW1wVmVjID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbmNvbnN0IFpFUk8gPSBbMCwgMCwgMF07XG4vKiogR2xvYmFsIHRhcmdldCBmb3Ige0BsaW5rIEN1cnNvcn0gKi9cbmNsYXNzIEN1cnNvclRhcmdldEVtaXR0ZXJzIHtcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHRhcmdldCBpcyBob3ZlcmVkICovXG4gICAgb25Ib3ZlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB0YXJnZXQgaXMgdW5ob3ZlcmVkICovXG4gICAgb25VbmhvdmVyID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHRhcmdldCBpcyBjbGlja2VkICovXG4gICAgb25DbGljayA9IG5ldyBFbWl0dGVyKCk7XG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSBjdXJzb3IgbW92ZXMgb24gdGhlIHRhcmdldCAqL1xuICAgIG9uTW92ZSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB1c2VyIHByZXNzZWQgdGhlIHNlbGVjdCBidXR0b24gb24gdGhlIHRhcmdldCAqL1xuICAgIG9uRG93biA9IG5ldyBFbWl0dGVyKCk7XG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB1c2VyIHVucHJlc3NlZCB0aGUgc2VsZWN0IGJ1dHRvbiBvbiB0aGUgdGFyZ2V0ICovXG4gICAgb25VcCA9IG5ldyBFbWl0dGVyKCk7XG59XG4vKipcbiAqIDNEIGN1cnNvciBmb3IgZGVza3RvcC9tb2JpbGUvVlIuXG4gKlxuICogSW1wbGVtZW50cyBhIHJheS1jYXN0aW5nIGN1cnNvciBpbnRvIHRoZSBzY2VuZS4gVG8gcmVhY3QgdG9cbiAqIGNsaWNraW5nL2hvdmVyL3VuaG92ZXIvY3Vyc29yIGRvd24vY3Vyc29yIHVwL21vdmUgdXNlIGFcbiAqIFtjdXJzb3ItdGFyZ2V0XSgjY3Vyc29yLXRhcmdldCkuXG4gKlxuICogRm9yIFZSLCB0aGUgcmF5IGlzIGNhc3QgaW4gZGlyZWN0aW9uIG9mXG4gKiBbdGhpcy5vYmplY3QuZ2V0Rm9yd2FyZCgpXSgvanNhcGkvb2JqZWN0LyNnZXRmb3J3YXJkKS4gRm9yIGRlc2t0b3AgYW5kIG1vYmlsZSwgdGhlXG4gKiBmb3J3YXJkIHZlY3RvciBpcyBpbnZlcnNlLXByb2plY3RlZCB0byBhY2NvdW50IGZvciB3aGVyZSBvbiBzY3JlZW4gdGhlIHVzZXIgY2xpY2tlZC5cbiAqXG4gKiBgLmdsb2JhbFRhcmdldGAgY2FuIGJlIHVzZWQgdG8gY2FsbCBjYWxsYmFja3MgZm9yIGFsbCBvYmplY3RzLCBldmVuIHRob3NlIHRoYXRcbiAqIGRvIG5vdCBoYXZlIGEgY3Vyc29yIHRhcmdldCBhdHRhY2hlZCwgYnV0IG1hdGNoIHRoZSBjb2xsaXNpb24gZ3JvdXAuXG4gKlxuICogYC5oaXRUZXN0VGFyZ2V0YCBjYW4gYmUgdXNlZCB0byBjYWxsIGNhbGxiYWNrcyBXZWJYUiBoaXQgdGVzdCByZXN1bHRzLFxuICpcbiAqIFNlZSBbQW5pbWF0aW9uIEV4YW1wbGVdKC9zaG93Y2FzZS9hbmltYXRpb24pLlxuICovXG5jbGFzcyBDdXJzb3IgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdjdXJzb3InO1xuICAgIC8qIERlcGVuZGVuY2llcyBpcyBkZXByZWNhdGVkLCBidXQgd2Uga2VlcCBpdCBoZXJlIGZvciBjb21wYXRpYmlsaXR5XG4gICAgICogd2l0aCAxLjAuMC1yYzIgdW50aWwgMS4wLjAgaXMgcmVsZWFzZWQgKi9cbiAgICBzdGF0aWMgRGVwZW5kZW5jaWVzID0gW0hpdFRlc3RMb2NhdGlvbl07XG4gICAgc3RhdGljIG9uUmVnaXN0ZXIoZW5naW5lKSB7XG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChIaXRUZXN0TG9jYXRpb24pO1xuICAgIH1cbiAgICBfY29sbGlzaW9uTWFzayA9IDA7XG4gICAgX29uRGVhY3RpdmF0ZUNhbGxiYWNrcyA9IFtdO1xuICAgIF9pbnB1dCA9IG51bGw7XG4gICAgX29yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgX2N1cnNvck9ialNjYWxlID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBfZGlyZWN0aW9uID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBfcHJvamVjdGlvbk1hdHJpeCA9IG5ldyBGbG9hdDMyQXJyYXkoMTYpO1xuICAgIF92aWV3Q29tcG9uZW50ID0gbnVsbDtcbiAgICBfaXNEb3duID0gZmFsc2U7XG4gICAgX2xhc3RJc0Rvd24gPSBmYWxzZTtcbiAgICBfYXJUb3VjaERvd24gPSBmYWxzZTtcbiAgICBfbGFzdFBvaW50ZXJQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgIF9sYXN0Q3Vyc29yUG9zT25UYXJnZXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIF9oaXRUZXN0TG9jYXRpb24gPSBudWxsO1xuICAgIF9oaXRUZXN0T2JqZWN0ID0gbnVsbDtcbiAgICBfb25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IG51bGw7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY3Vyc29yIChhbmQgY3Vyc29yT2JqZWN0KSBpcyB2aXNpYmxlLCBpLmUuIHBvaW50aW5nIGF0IGFuIG9iamVjdFxuICAgICAqIHRoYXQgbWF0Y2hlcyB0aGUgY29sbGlzaW9uIGdyb3VwXG4gICAgICovXG4gICAgdmlzaWJsZSA9IHRydWU7XG4gICAgLyoqIEN1cnJlbnRseSBob3ZlcmVkIG9iamVjdCAqL1xuICAgIGhvdmVyaW5nT2JqZWN0ID0gbnVsbDtcbiAgICAvKiogQ3Vyc29yVGFyZ2V0IGNvbXBvbmVudCBvZiB0aGUgY3VycmVudGx5IGhvdmVyZWQgb2JqZWN0ICovXG4gICAgaG92ZXJpbmdPYmplY3RUYXJnZXQgPSBudWxsO1xuICAgIC8qKiBXaGV0aGVyIHRoZSBjdXJzb3IgaXMgaG92ZXJpbmcgcmVhbGl0eSB2aWEgaGl0LXRlc3QgKi9cbiAgICBob3ZlcmluZ1JlYWxpdHkgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBHbG9iYWwgdGFyZ2V0IGxldHMgeW91IHJlY2VpdmUgZ2xvYmFsIGN1cnNvciBldmVudHMgb24gYW55IG9iamVjdC5cbiAgICAgKi9cbiAgICBnbG9iYWxUYXJnZXQgPSBuZXcgQ3Vyc29yVGFyZ2V0RW1pdHRlcnMoKTtcbiAgICAvKipcbiAgICAgKiBIaXQgdGVzdCB0YXJnZXQgbGV0cyB5b3UgcmVjZWl2ZSBjdXJzb3IgZXZlbnRzIGZvciBcInJlYWxpdHlcIiwgaWZcbiAgICAgKiBgdXNlV2ViWFJIaXRUZXN0YCBpcyBzZXQgdG8gYHRydWVgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBqc1xuICAgICAqIGN1cnNvci5oaXRUZXN0VGFyZ2V0Lm9uQ2xpY2suYWRkKChoaXQsIGN1cnNvcikgPT4ge1xuICAgICAqICAgICAvLyBVc2VyIGNsaWNrZWQgb24gcmVhbGl0eVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGhpdFRlc3RUYXJnZXQgPSBuZXcgQ3Vyc29yVGFyZ2V0RW1pdHRlcnMoKTtcbiAgICAvKiogV29ybGQgcG9zaXRpb24gb2YgdGhlIGN1cnNvciAqL1xuICAgIGN1cnNvclBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgLyoqIENvbGxpc2lvbiBncm91cCBmb3IgdGhlIHJheSBjYXN0LiBPbmx5IG9iamVjdHMgaW4gdGhpcyBncm91cCB3aWxsIGJlIGFmZmVjdGVkIGJ5IHRoaXMgY3Vyc29yLiAqL1xuICAgIGNvbGxpc2lvbkdyb3VwID0gMTtcbiAgICAvKiogKG9wdGlvbmFsKSBPYmplY3QgdGhhdCB2aXN1YWxpemVzIHRoZSBjdXJzb3IncyByYXkuICovXG4gICAgY3Vyc29yUmF5T2JqZWN0ID0gbnVsbDtcbiAgICAvKiogQXhpcyBhbG9uZyB3aGljaCB0byBzY2FsZSB0aGUgYGN1cnNvclJheU9iamVjdGAuICovXG4gICAgY3Vyc29yUmF5U2NhbGluZ0F4aXMgPSAyO1xuICAgIC8qKiAob3B0aW9uYWwpIE9iamVjdCB0aGF0IHZpc3VhbGl6ZXMgdGhlIGN1cnNvcidzIGhpdCBsb2NhdGlvbi4gKi9cbiAgICBjdXJzb3JPYmplY3QgPSBudWxsO1xuICAgIC8qKiBIYW5kZWRuZXNzIGZvciBWUiBjdXJzb3JzIHRvIGFjY2VwdCB0cmlnZ2VyIGV2ZW50cyBvbmx5IGZyb20gcmVzcGVjdGl2ZSBjb250cm9sbGVyLiAqL1xuICAgIGhhbmRlZG5lc3MgPSAwO1xuICAgIC8qKiBNb2RlIGZvciByYXljYXN0aW5nLCB3aGV0aGVyIHRvIHVzZSBQaHlzWCBvciBzaW1wbGUgY29sbGlzaW9uIGNvbXBvbmVudHMgKi9cbiAgICByYXlDYXN0TW9kZSA9IDA7XG4gICAgLyoqIE1heGltdW0gZGlzdGFuY2UgZm9yIHRoZSBjdXJzb3IncyByYXkgY2FzdC4gKi9cbiAgICBtYXhEaXN0YW5jZSA9IDEwMDtcbiAgICAvKiogV2hldGhlciB0byBzZXQgdGhlIENTUyBzdHlsZSBvZiB0aGUgbW91c2UgY3Vyc29yIG9uIGRlc2t0b3AgKi9cbiAgICBzdHlsZUN1cnNvciA9IHRydWU7XG4gICAgLyoqXG4gICAgICogVXNlIFdlYlhSIGhpdC10ZXN0IGlmIGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqIEF0dGFjaGVzIGEgaGl0LXRlc3QtbG9jYXRpb24gY29tcG9uZW50IHRvIHRoZSBjdXJzb3JPYmplY3QsIHdoaWNoIHdpbGwgYmUgdXNlZFxuICAgICAqIGJ5IHRoZSBjdXJzb3IgdG8gc2VuZCBldmVudHMgdG8gdGhlIGhpdFRlc3RUYXJnZXQgd2l0aCBIaXRUZXN0UmVzdWx0LlxuICAgICAqL1xuICAgIHVzZVdlYlhSSGl0VGVzdCA9IGZhbHNlO1xuICAgIF9vblZpZXdwb3J0UmVzaXplID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuX3ZpZXdDb21wb25lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8qIFByb2plY3Rpb24gbWF0cml4IHdpbGwgY2hhbmdlIGlmIHRoZSB2aWV3cG9ydCBpcyByZXNpemVkLCB3aGljaCB3aWxsIGFmZmVjdCB0aGVcbiAgICAgICAgICogcHJvamVjdGlvbiBtYXRyaXggYmVjYXVzZSBvZiB0aGUgYXNwZWN0IHJhdGlvLiAqL1xuICAgICAgICBtYXQ0LmludmVydCh0aGlzLl9wcm9qZWN0aW9uTWF0cml4LCB0aGlzLl92aWV3Q29tcG9uZW50LnByb2plY3Rpb25NYXRyaXgpO1xuICAgIH07XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuX2NvbGxpc2lvbk1hc2sgPSAxIDw8IHRoaXMuY29sbGlzaW9uR3JvdXA7XG4gICAgICAgIGlmICh0aGlzLmhhbmRlZG5lc3MgPT0gMCkge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRDb21wID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgaWYgKCFpbnB1dENvbXApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2N1cnNvciBjb21wb25lbnQgb24gb2JqZWN0JywgdGhpcy5vYmplY3QubmFtZSwgJ3dhcyBjb25maWd1cmVkIHdpdGggaGFuZGVkbmVzcyBcImlucHV0IGNvbXBvbmVudFwiLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2J1dCBvYmplY3QgaGFzIG5vIGlucHV0IGNvbXBvbmVudC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IGlucHV0Q29tcC5oYW5kZWRuZXNzIHx8ICdub25lJztcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0Q29tcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IFsnbGVmdCcsICdyaWdodCcsICdub25lJ11bdGhpcy5oYW5kZWRuZXNzIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld0NvbXBvbmVudCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudChWaWV3Q29tcG9uZW50KTtcbiAgICAgICAgaWYgKHRoaXMudXNlV2ViWFJIaXRUZXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9oaXRUZXN0T2JqZWN0ID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KHRoaXMub2JqZWN0KTtcbiAgICAgICAgICAgIHRoaXMuX2hpdFRlc3RMb2NhdGlvbiA9XG4gICAgICAgICAgICAgICAgdGhpcy5faGl0VGVzdE9iamVjdC5hZGRDb21wb25lbnQoSGl0VGVzdExvY2F0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlT2JqZWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9KSA/PyBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLnNldHVwVlJFdmVudHMuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgb25BY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5fb25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uUmVzaXplLmFkZCh0aGlzLl9vblZpZXdwb3J0UmVzaXplKTtcbiAgICAgICAgdGhpcy5fc2V0Q3Vyc29yVmlzaWJpbGl0eSh0cnVlKTtcbiAgICAgICAgLyogSWYgdGhpcyBvYmplY3QgYWxzbyBoYXMgYSB2aWV3IGNvbXBvbmVudCwgd2Ugd2lsbCBlbmFibGUgaW52ZXJzZS1wcm9qZWN0ZWQgbW91c2UgY2xpY2tzLFxuICAgICAgICAgKiBvdGhlcndpc2UganVzdCB1c2UgdGhlIG9iamVjdHMgdHJhbnNmb3JtYXRpb24gKi9cbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdDb21wb25lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5lbmdpbmUuY2FudmFzO1xuICAgICAgICAgICAgY29uc3Qgb25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgY29uc3Qgb25Qb2ludGVyTW92ZSA9IHRoaXMub25Qb2ludGVyTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgY29uc3Qgb25Qb2ludGVyRG93biA9IHRoaXMub25Qb2ludGVyRG93bi5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgY29uc3Qgb25Qb2ludGVyVXAgPSB0aGlzLm9uUG9pbnRlclVwLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrKTtcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uUG9pbnRlck1vdmUpO1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25Qb2ludGVyRG93bik7XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgb25Qb2ludGVyVXApO1xuICAgICAgICAgICAgdGhpcy5fb25EZWFjdGl2YXRlQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uUG9pbnRlck1vdmUpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIG9uUG9pbnRlckRvd24pO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBvblBvaW50ZXJVcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vblZpZXdwb3J0UmVzaXplKCk7XG4gICAgfVxuICAgIF9zZXRDdXJzb3JSYXlUcmFuc2Zvcm0oaGl0UG9zaXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnNvclJheU9iamVjdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgZGlzdCA9IHZlYzMuZGlzdCh0aGlzLl9vcmlnaW4sIGhpdFBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5jdXJzb3JSYXlPYmplY3Quc2V0UG9zaXRpb25Mb2NhbChbMC4wLCAwLjAsIC1kaXN0IC8gMl0pO1xuICAgICAgICBpZiAodGhpcy5jdXJzb3JSYXlTY2FsaW5nQXhpcyAhPSA0KSB7XG4gICAgICAgICAgICAvKiBTY2FsZSBvbmx5IHRoZSByZXF1ZXN0ZWQgYXhpcywgcmVsYXRpdmUgdG8gdGhlIG9yaWdpbmFsIHNjYWxpbmcgKi9cbiAgICAgICAgICAgIHRlbXBWZWMuZmlsbCgxKTtcbiAgICAgICAgICAgIHRlbXBWZWNbdGhpcy5jdXJzb3JSYXlTY2FsaW5nQXhpc10gPSBkaXN0IC8gMjtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUmF5T2JqZWN0LnNldFNjYWxpbmdMb2NhbCh0ZW1wVmVjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfc2V0Q3Vyc29yVmlzaWJpbGl0eSh2aXNpYmxlKSB7XG4gICAgICAgIGlmICh0aGlzLnZpc2libGUgPT0gdmlzaWJsZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZTtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnNvck9iamVjdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yT2JqZWN0LnNldFNjYWxpbmdXb3JsZCh0aGlzLl9jdXJzb3JPYmpTY2FsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvck9iamVjdC5nZXRTY2FsaW5nV29ybGQodGhpcy5fY3Vyc29yT2JqU2NhbGUpO1xuICAgICAgICAgICAgdGhpcy5jdXJzb3JPYmplY3Quc2NhbGVMb2NhbChbMCwgMCwgMF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgLyogSWYgaW4gVlIsIHNldCB0aGUgY3Vyc29yIHJheSBiYXNlZCBvbiBvYmplY3QgdHJhbnNmb3JtICovXG4gICAgICAgIC8qIFNpbmNlIEdvb2dsZSBDYXJkYm9hcmQgdGFwIGlzIHJlZ2lzdGVyZWQgYXMgYXJUb3VjaERvd24gd2l0aG91dCBhIGdhbWVwYWQsIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGdhbWVwYWQgcHJlc2VuY2UgKi9cbiAgICAgICAgaWYgKHRoaXMuZW5naW5lLnhyICYmXG4gICAgICAgICAgICB0aGlzLl9hclRvdWNoRG93biAmJlxuICAgICAgICAgICAgdGhpcy5faW5wdXQgJiZcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLnhyLnNlc3Npb24uaW5wdXRTb3VyY2VzWzBdLmhhbmRlZG5lc3MgPT09ICdub25lJyAmJlxuICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5pbnB1dFNvdXJjZXNbMF0uZ2FtZXBhZCkge1xuICAgICAgICAgICAgLyogV2ViWFIgQVIgaW5wdXQgKi9cbiAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLmlucHV0U291cmNlc1swXS5nYW1lcGFkLmF4ZXM7XG4gICAgICAgICAgICAvKiBTY3JlZW5zcGFjZSBZIGlzIGludmVydGVkICovXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMF0gPSBwWzBdO1xuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzFdID0gLXBbMV07XG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMl0gPSAtMS4wO1xuICAgICAgICAgICAgdGhpcy5hcHBseVRyYW5zZm9ybUFuZFByb2plY3REaXJlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmVuZ2luZS54ciAmJiB0aGlzLl9pbnB1dCAmJiB0aGlzLl9pbnB1dC54cklucHV0U291cmNlKSB7XG4gICAgICAgICAgICAvKiBXZWJYUiBWUiBpbnB1dCAqL1xuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzBdID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblsxXSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMl0gPSAtMS4wO1xuICAgICAgICAgICAgdGhpcy5hcHBseVRyYW5zZm9ybVRvRGlyZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdmlld0NvbXBvbmVudCkge1xuICAgICAgICAgICAgLyogQXBwbHkgcG90ZW50aWFsbHkgY2hhbmdlZCB0cmFuc2Zvcm0gdG8gbGFzdCBzdG9yZWQgcG9pbnRlclxuICAgICAgICAgICAgICogcG9zaXRpb24gKi9cbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yYXlDYXN0KG51bGwsIHRoaXMuZW5naW5lLnhyPy5mcmFtZSk7XG4gICAgICAgIGlmICh0aGlzLmN1cnNvck9iamVjdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QgJiZcbiAgICAgICAgICAgICAgICAodGhpcy5jdXJzb3JQb3NbMF0gIT0gMCB8fCB0aGlzLmN1cnNvclBvc1sxXSAhPSAwIHx8IHRoaXMuY3Vyc29yUG9zWzJdICE9IDApKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q3Vyc29yVmlzaWJpbGl0eSh0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvck9iamVjdC5zZXRQb3NpdGlvbldvcmxkKHRoaXMuY3Vyc29yUG9zKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3JSYXlUcmFuc2Zvcm0odGhpcy5jdXJzb3JQb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q3Vyc29yVmlzaWJpbGl0eShmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogUmV0dXJucyB0aGUgaG92ZXJlZCBjdXJzb3IgdGFyZ2V0LCBpZiBhdmFpbGFibGUgKi9cbiAgICBub3RpZnkoZXZlbnQsIG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5ob3ZlcmluZ09iamVjdDtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgY29uc3QgY3Vyc29yVGFyZ2V0ID0gdGhpcy5ob3ZlcmluZ09iamVjdFRhcmdldDtcbiAgICAgICAgICAgIGlmIChjdXJzb3JUYXJnZXQpXG4gICAgICAgICAgICAgICAgY3Vyc29yVGFyZ2V0W2V2ZW50XS5ub3RpZnkodGFyZ2V0LCB0aGlzLCBvcmlnaW5hbEV2ZW50ID8/IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB0aGlzLmdsb2JhbFRhcmdldFtldmVudF0ubm90aWZ5KHRhcmdldCwgdGhpcywgb3JpZ2luYWxFdmVudCA/PyB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhvdmVyQmVoYXZpb3VyKHJheUhpdCwgaGl0VGVzdFJlc3VsdCwgZG9DbGljaywgb3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvKiBPbGQgQVBJIHZlcnNpb24gZG9lcyBub3QgcmV0dXJuIG51bGwgZm9yIG9iamVjdHNbMF0gaWYgbm8gaGl0ICovXG4gICAgICAgIGNvbnN0IGhpdCA9ICF0aGlzLmhvdmVyaW5nUmVhbGl0eSAmJiByYXlIaXQuaGl0Q291bnQgPiAwID8gcmF5SGl0Lm9iamVjdHNbMF0gOiBudWxsO1xuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaG92ZXJpbmdPYmplY3QgfHwgIXRoaXMuaG92ZXJpbmdPYmplY3QuZXF1YWxzKGhpdCkpIHtcbiAgICAgICAgICAgICAgICAvKiBVbmhvdmVyIHByZXZpb3VzLCBpZiBleGlzdHMgKi9cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ob3ZlcmluZ09iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25VbmhvdmVyJywgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIEhvdmVyIG5ldyBvYmplY3QgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmhvdmVyaW5nT2JqZWN0ID0gaGl0O1xuICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJpbmdPYmplY3RUYXJnZXQgPSB0aGlzLmhvdmVyaW5nT2JqZWN0LmdldENvbXBvbmVudChDdXJzb3JUYXJnZXQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0eWxlQ3Vyc29yKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KCdvbkhvdmVyJywgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5ob3ZlcmluZ09iamVjdCkge1xuICAgICAgICAgICAgLyogUHJldmlvdXNseSBob3ZlcmluZyBvYmplY3QsIG5vdyBob3ZlcmluZyBub3RoaW5nICovXG4gICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25VbmhvdmVyJywgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB0aGlzLmhvdmVyaW5nT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaG92ZXJpbmdPYmplY3RUYXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3R5bGVDdXJzb3IpXG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ob3ZlcmluZ09iamVjdCkge1xuICAgICAgICAgICAgLyogb25Eb3duL29uVXAgZm9yIG9iamVjdCAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRG93biAhPT0gdGhpcy5fbGFzdElzRG93bikge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHRoaXMuX2lzRG93biA/ICdvbkRvd24nIDogJ29uVXAnLCBvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIG9uQ2xpY2sgZm9yIG9iamVjdCAqL1xuICAgICAgICAgICAgaWYgKGRvQ2xpY2spXG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uQ2xpY2snLCBvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmhvdmVyaW5nUmVhbGl0eSkge1xuICAgICAgICAgICAgLyogb25Eb3duL29uVXAgZm9yIGhpdCB0ZXN0ICovXG4gICAgICAgICAgICBpZiAodGhpcy5faXNEb3duICE9PSB0aGlzLl9sYXN0SXNEb3duKSB7XG4gICAgICAgICAgICAgICAgKHRoaXMuX2lzRG93biA/IHRoaXMuaGl0VGVzdFRhcmdldC5vbkRvd24gOiB0aGlzLmhpdFRlc3RUYXJnZXQub25VcCkubm90aWZ5KGhpdFRlc3RSZXN1bHQsIHRoaXMsIG9yaWdpbmFsRXZlbnQgPz8gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIG9uQ2xpY2sgZm9yIGhpdCB0ZXN0ICovXG4gICAgICAgICAgICBpZiAoZG9DbGljaylcbiAgICAgICAgICAgICAgICB0aGlzLmhpdFRlc3RUYXJnZXQub25DbGljay5ub3RpZnkoaGl0VGVzdFJlc3VsdCwgdGhpcywgb3JpZ2luYWxFdmVudCA/PyB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIC8qIG9uTW92ZSAqL1xuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3ZlcmluZ09iamVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJpbmdPYmplY3QudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQodGVtcFZlYywgdGhpcy5jdXJzb3JQb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGVtcFZlYy5zZXQodGhpcy5jdXJzb3JQb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF2ZWMzLmVxdWFscyh0aGlzLl9sYXN0Q3Vyc29yUG9zT25UYXJnZXQsIHRlbXBWZWMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uTW92ZScsIG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RDdXJzb3JQb3NPblRhcmdldC5zZXQodGVtcFZlYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5ob3ZlcmluZ1JlYWxpdHkpIHtcbiAgICAgICAgICAgIGlmICghdmVjMy5lcXVhbHModGhpcy5fbGFzdEN1cnNvclBvc09uVGFyZ2V0LCB0aGlzLmN1cnNvclBvcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpdFRlc3RUYXJnZXQub25Nb3ZlLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzLCBvcmlnaW5hbEV2ZW50ID8/IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEN1cnNvclBvc09uVGFyZ2V0LnNldCh0aGlzLmN1cnNvclBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Q3Vyc29yUG9zT25UYXJnZXQuc2V0KHRoaXMuY3Vyc29yUG9zKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sYXN0SXNEb3duID0gdGhpcy5faXNEb3duO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXR1cCBldmVudCBsaXN0ZW5lcnMgb24gc2Vzc2lvbiBvYmplY3RcbiAgICAgKiBAcGFyYW0gcyBXZWJYUiBzZXNzaW9uXG4gICAgICpcbiAgICAgKiBTZXRzIHVwICdzZWxlY3QnIGFuZCAnZW5kJyBldmVudHMuXG4gICAgICovXG4gICAgc2V0dXBWUkV2ZW50cyhzKSB7XG4gICAgICAgIGlmICghcylcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3NldHVwVlJFdmVudHMgY2FsbGVkIHdpdGhvdXQgYSB2YWxpZCBzZXNzaW9uJyk7XG4gICAgICAgIC8qIEJlY2F1c2Ugd2UgcmVtb3ZlIHRoZSBjYWxsYmFjayBpbiAuYWN0aXZlIGFuZCBhbm90aGVyIGNvbXBvbmVudCBtaWdodFxuICAgICAgICAgKiBkZWFjdGl2YXRlIHRoZSBjdXJzb3IgZHVyaW5nIG9uWFJTZXNzaW9uU3RhcnQsIHdlIG1ha2Ugc3VyZSB0aGUgY3Vyc29yXG4gICAgICAgICAqIHJlYWxseSBpcyBhY3RpdmUgd2hlbiB3ZSBydW4gdGhpcyAqL1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvKiBJZiBpbiBWUiwgb25lLXRpbWUgYmluZCB0aGUgbGlzdGVuZXIgKi9cbiAgICAgICAgY29uc3Qgb25TZWxlY3QgPSB0aGlzLm9uU2VsZWN0LmJpbmQodGhpcyk7XG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0Jywgb25TZWxlY3QpO1xuICAgICAgICBjb25zdCBvblNlbGVjdFN0YXJ0ID0gdGhpcy5vblNlbGVjdFN0YXJ0LmJpbmQodGhpcyk7XG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBvblNlbGVjdFN0YXJ0KTtcbiAgICAgICAgY29uc3Qgb25TZWxlY3RFbmQgPSB0aGlzLm9uU2VsZWN0RW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0ZW5kJywgb25TZWxlY3RFbmQpO1xuICAgICAgICB0aGlzLl9vbkRlYWN0aXZhdGVDYWxsYmFja3MucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZW5naW5lLnhyKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0Jywgb25TZWxlY3QpO1xuICAgICAgICAgICAgcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIG9uU2VsZWN0U3RhcnQpO1xuICAgICAgICAgICAgcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3RlbmQnLCBvblNlbGVjdEVuZCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvKiBBZnRlciBBUiBzZXNzaW9uIHdhcyBlbnRlcmVkLCB0aGUgcHJvamVjdGlvbiBtYXRyaXggY2hhbmdlZCAqL1xuICAgICAgICB0aGlzLl9vblZpZXdwb3J0UmVzaXplKCk7XG4gICAgfVxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5fb25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uUmVzaXplLnJlbW92ZSh0aGlzLl9vblZpZXdwb3J0UmVzaXplKTtcbiAgICAgICAgdGhpcy5fc2V0Q3Vyc29yVmlzaWJpbGl0eShmYWxzZSk7XG4gICAgICAgIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0KVxuICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uVW5ob3ZlcicsIG51bGwpO1xuICAgICAgICBpZiAodGhpcy5jdXJzb3JSYXlPYmplY3QpXG4gICAgICAgICAgICB0aGlzLmN1cnNvclJheU9iamVjdC5zZXRTY2FsaW5nTG9jYWwoWkVSTyk7XG4gICAgICAgIC8qIEVuc3VyZSBhbGwgZXZlbnQgbGlzdGVuZXJzIGFyZSByZW1vdmVkICovXG4gICAgICAgIGZvciAoY29uc3QgZiBvZiB0aGlzLl9vbkRlYWN0aXZhdGVDYWxsYmFja3MpXG4gICAgICAgICAgICBmKCk7XG4gICAgICAgIHRoaXMuX29uRGVhY3RpdmF0ZUNhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgICBvbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2hpdFRlc3RPYmplY3Q/LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgLyoqICdzZWxlY3QnIGV2ZW50IGxpc3RlbmVyICovXG4gICAgb25TZWxlY3QoZSkge1xuICAgICAgICBpZiAoZS5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzICE9IHRoaXMuaGFuZGVkbmVzcylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUsIGUuZnJhbWUsIHRydWUpO1xuICAgIH1cbiAgICAvKiogJ3NlbGVjdHN0YXJ0JyBldmVudCBsaXN0ZW5lciAqL1xuICAgIG9uU2VsZWN0U3RhcnQoZSkge1xuICAgICAgICB0aGlzLl9hclRvdWNoRG93biA9IHRydWU7XG4gICAgICAgIGlmIChlLmlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gdGhpcy5oYW5kZWRuZXNzKSB7XG4gICAgICAgICAgICB0aGlzLl9pc0Rvd24gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yYXlDYXN0KGUsIGUuZnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiAnc2VsZWN0ZW5kJyBldmVudCBsaXN0ZW5lciAqL1xuICAgIG9uU2VsZWN0RW5kKGUpIHtcbiAgICAgICAgdGhpcy5fYXJUb3VjaERvd24gPSBmYWxzZTtcbiAgICAgICAgaWYgKGUuaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSB0aGlzLmhhbmRlZG5lc3MpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yYXlDYXN0KGUsIGUuZnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiAncG9pbnRlcm1vdmUnIGV2ZW50IGxpc3RlbmVyICovXG4gICAgb25Qb2ludGVyTW92ZShlKSB7XG4gICAgICAgIC8qIERvbid0IGNhcmUgYWJvdXQgc2Vjb25kYXJ5IHBvaW50ZXJzICovXG4gICAgICAgIGlmICghZS5pc1ByaW1hcnkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMudXBkYXRlTW91c2VQb3MoZSk7XG4gICAgICAgIHRoaXMucmF5Q2FzdChlLCBudWxsKTtcbiAgICB9XG4gICAgLyoqICdjbGljaycgZXZlbnQgbGlzdGVuZXIgKi9cbiAgICBvbkNsaWNrKGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVNb3VzZVBvcyhlKTtcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUsIG51bGwsIHRydWUpO1xuICAgIH1cbiAgICAvKiogJ3BvaW50ZXJkb3duJyBldmVudCBsaXN0ZW5lciAqL1xuICAgIG9uUG9pbnRlckRvd24oZSkge1xuICAgICAgICAvKiBEb24ndCBjYXJlIGFib3V0IHNlY29uZGFyeSBwb2ludGVycyBvciBub24tbGVmdCBjbGlja3MgKi9cbiAgICAgICAgaWYgKCFlLmlzUHJpbWFyeSB8fCBlLmJ1dHRvbiAhPT0gMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy51cGRhdGVNb3VzZVBvcyhlKTtcbiAgICAgICAgdGhpcy5faXNEb3duID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUpO1xuICAgIH1cbiAgICAvKiogJ3BvaW50ZXJ1cCcgZXZlbnQgbGlzdGVuZXIgKi9cbiAgICBvblBvaW50ZXJVcChlKSB7XG4gICAgICAgIC8qIERvbid0IGNhcmUgYWJvdXQgc2Vjb25kYXJ5IHBvaW50ZXJzIG9yIG5vbi1sZWZ0IGNsaWNrcyAqL1xuICAgICAgICBpZiAoIWUuaXNQcmltYXJ5IHx8IGUuYnV0dG9uICE9PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlUG9zKGUpO1xuICAgICAgICB0aGlzLl9pc0Rvd24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgbW91c2UgcG9zaXRpb24gaW4gbm9uLVZSIG1vZGUgYW5kIHJheWNhc3QgZm9yIG5ldyBwb3NpdGlvblxuICAgICAqIEByZXR1cm5zIEByZWYgV0wuUmF5SGl0IGZvciBuZXcgcG9zaXRpb24uXG4gICAgICovXG4gICAgdXBkYXRlTW91c2VQb3MoZSkge1xuICAgICAgICB0aGlzLl9sYXN0UG9pbnRlclBvc1swXSA9IGUuY2xpZW50WDtcbiAgICAgICAgdGhpcy5fbGFzdFBvaW50ZXJQb3NbMV0gPSBlLmNsaWVudFk7XG4gICAgICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7XG4gICAgfVxuICAgIHVwZGF0ZURpcmVjdGlvbigpIHtcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5lbmdpbmUuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAvKiBHZXQgZGlyZWN0aW9uIGluIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgc3BhY2UgZnJvbSBtb3VzZSBwb3NpdGlvbiAqL1xuICAgICAgICBjb25zdCBsZWZ0ID0gdGhpcy5fbGFzdFBvaW50ZXJQb3NbMF0gLyBib3VuZHMud2lkdGg7XG4gICAgICAgIGNvbnN0IHRvcCA9IHRoaXMuX2xhc3RQb2ludGVyUG9zWzFdIC8gYm91bmRzLmhlaWdodDtcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzBdID0gbGVmdCAqIDIgLSAxO1xuICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMV0gPSAtdG9wICogMiArIDE7XG4gICAgICAgIHRoaXMuX2RpcmVjdGlvblsyXSA9IC0xLjA7XG4gICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1BbmRQcm9qZWN0RGlyZWN0aW9uKCk7XG4gICAgfVxuICAgIGFwcGx5VHJhbnNmb3JtQW5kUHJvamVjdERpcmVjdGlvbigpIHtcbiAgICAgICAgLyogUmV2ZXJzZS1wcm9qZWN0IHRoZSBkaXJlY3Rpb24gaW50byB2aWV3IHNwYWNlICovXG4gICAgICAgIHZlYzMudHJhbnNmb3JtTWF0NCh0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fcHJvamVjdGlvbk1hdHJpeCk7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5hcHBseVRyYW5zZm9ybVRvRGlyZWN0aW9uKCk7XG4gICAgfVxuICAgIGFwcGx5VHJhbnNmb3JtVG9EaXJlY3Rpb24oKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LnRyYW5zZm9ybVZlY3RvcldvcmxkKHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZCh0aGlzLl9vcmlnaW4pO1xuICAgIH1cbiAgICByYXlDYXN0KG9yaWdpbmFsRXZlbnQsIGZyYW1lID0gbnVsbCwgZG9DbGljayA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHJheUhpdCA9IHRoaXMucmF5Q2FzdE1vZGUgPT0gMFxuICAgICAgICAgICAgPyB0aGlzLmVuZ2luZS5zY2VuZS5yYXlDYXN0KHRoaXMuX29yaWdpbiwgdGhpcy5fZGlyZWN0aW9uLCB0aGlzLl9jb2xsaXNpb25NYXNrKVxuICAgICAgICAgICAgOiB0aGlzLmVuZ2luZS5waHlzaWNzLnJheUNhc3QodGhpcy5fb3JpZ2luLCB0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX2NvbGxpc2lvbk1hc2ssIHRoaXMubWF4RGlzdGFuY2UpO1xuICAgICAgICBsZXQgaGl0UmVzdWx0RGlzdGFuY2UgPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IGhpdFRlc3RSZXN1bHQgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5faGl0VGVzdExvY2F0aW9uPy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9oaXRUZXN0T2JqZWN0LmdldFBvc2l0aW9uV29ybGQodGhpcy5jdXJzb3JQb3MpO1xuICAgICAgICAgICAgaGl0UmVzdWx0RGlzdGFuY2UgPSB2ZWMzLmRpc3RhbmNlKHRoaXMub2JqZWN0LmdldFBvc2l0aW9uV29ybGQodGVtcFZlYyksIHRoaXMuY3Vyc29yUG9zKTtcbiAgICAgICAgICAgIGhpdFRlc3RSZXN1bHQgPSB0aGlzLl9oaXRUZXN0TG9jYXRpb24/LmdldEhpdFRlc3RSZXN1bHRzKGZyYW1lKVswXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaG92ZXJpbmdSZWFsaXR5ID0gZmFsc2U7XG4gICAgICAgIGlmIChyYXlIaXQuaGl0Q291bnQgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBkID0gcmF5SGl0LmRpc3RhbmNlc1swXTtcbiAgICAgICAgICAgIGlmIChoaXRSZXN1bHREaXN0YW5jZSA+PSBkKSB7XG4gICAgICAgICAgICAgICAgLyogT3ZlcnJpZGUgY3Vyc29yUG9zIHNldCBieSBoaXQgdGVzdCBsb2NhdGlvbiAqL1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yUG9zLnNldChyYXlIaXQubG9jYXRpb25zWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvdmVyaW5nUmVhbGl0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGl0UmVzdWx0RGlzdGFuY2UgPCBJbmZpbml0eSkge1xuICAgICAgICAgICAgLyogY3Vyc29yUG9zIGFscmVhZHkgc2V0ICovXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvclBvcy5maWxsKDApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChob3ZlcmluZ1JlYWxpdHkgJiYgIXRoaXMuaG92ZXJpbmdSZWFsaXR5KSB7XG4gICAgICAgICAgICB0aGlzLmhpdFRlc3RUYXJnZXQub25Ib3Zlci5ub3RpZnkoaGl0VGVzdFJlc3VsdCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWhvdmVyaW5nUmVhbGl0eSAmJiB0aGlzLmhvdmVyaW5nUmVhbGl0eSkge1xuICAgICAgICAgICAgdGhpcy5oaXRUZXN0VGFyZ2V0Lm9uVW5ob3Zlci5ub3RpZnkoaGl0VGVzdFJlc3VsdCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ob3ZlcmluZ1JlYWxpdHkgPSBob3ZlcmluZ1JlYWxpdHk7XG4gICAgICAgIHRoaXMuaG92ZXJCZWhhdmlvdXIocmF5SGl0LCBoaXRUZXN0UmVzdWx0LCBkb0NsaWNrLCBvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHJheUhpdDtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5pbnQoMSlcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwiY29sbGlzaW9uR3JvdXBcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5Lm9iamVjdCgpXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcImN1cnNvclJheU9iamVjdFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuZW51bShbJ3gnLCAneScsICd6JywgJ25vbmUnXSwgJ3onKVxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJjdXJzb3JSYXlTY2FsaW5nQXhpc1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkub2JqZWN0KClcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwiY3Vyc29yT2JqZWN0XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5lbnVtKFsnaW5wdXQgY29tcG9uZW50JywgJ2xlZnQnLCAncmlnaHQnLCAnbm9uZSddLCAnaW5wdXQgY29tcG9uZW50Jylcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwiaGFuZGVkbmVzc1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuZW51bShbJ2NvbGxpc2lvbicsICdwaHlzeCddLCAnY29sbGlzaW9uJylcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwicmF5Q2FzdE1vZGVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmZsb2F0KDEwMClcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwibWF4RGlzdGFuY2VcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmJvb2wodHJ1ZSlcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwic3R5bGVDdXJzb3JcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmJvb2woZmFsc2UpXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcInVzZVdlYlhSSGl0VGVzdFwiLCB2b2lkIDApO1xuZXhwb3J0IHsgQ3Vyc29yIH07XG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgcXVhdDIgfSBmcm9tICdnbC1tYXRyaXgnO1xuLyoqXG4gKiBQcmludHMgc29tZSBsaW1pdGVkIGRlYnVnIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QuXG4gKlxuICogSW5mb3JtYXRpb24gY29uc2lzdHMgb2Y6IFRoaXMgb2JqZWN0J3MgbmFtZSwgYW4gb2JqZWN0IHBhcmFtZXRlcidzIG5hbWUsXG4gKiB0aGUgb2JqZWN0J3Mgd29ybGQgdHJhbnNsYXRpb24sIHdvcmxkIHRyYW5zZm9ybSBhbmQgbG9jYWwgdHJhbnNmb3JtLlxuICpcbiAqIE1haW5seSB1c2VkIGJ5IGVuZ2luZSBkZXZlbG9wZXJzIGZvciBkZWJ1ZyBwdXJwb3NlcyBvciBhcyBleGFtcGxlIGNvZGUuXG4gKi9cbmNsYXNzIERlYnVnT2JqZWN0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZGVidWctb2JqZWN0JztcbiAgICAvKiogQSBzZWNvbmQgb2JqZWN0IHRvIHByaW50IHRoZSBuYW1lIG9mICovXG4gICAgb2JqID0gbnVsbDtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgbGV0IG9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHF1YXQyLmdldFRyYW5zbGF0aW9uKG9yaWdpbiwgdGhpcy5vYmplY3QudHJhbnNmb3JtV29ybGQpO1xuICAgICAgICBjb25zb2xlLmxvZygnRGVidWcgb2JqZWN0OicsIHRoaXMub2JqZWN0Lm5hbWUpO1xuICAgICAgICBjb25zb2xlLmxvZygnT3RoZXIgb2JqZWN0OicsIHRoaXMub2JqPy5uYW1lKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1xcdHRyYW5zbGF0aW9uJywgb3JpZ2luKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1xcdHRyYW5zZm9ybVdvcmxkJywgdGhpcy5vYmplY3QudHJhbnNmb3JtV29ybGQpO1xuICAgICAgICBjb25zb2xlLmxvZygnXFx0dHJhbnNmb3JtTG9jYWwnLCB0aGlzLm9iamVjdC50cmFuc2Zvcm1Mb2NhbCk7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkub2JqZWN0KClcbl0sIERlYnVnT2JqZWN0LnByb3RvdHlwZSwgXCJvYmpcIiwgdm9pZCAwKTtcbmV4cG9ydCB7IERlYnVnT2JqZWN0IH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbi8qKlxuICogRnVuY3Rpb24gdG8gY29udmVydCBhIEV1bGVyIGluIFlYWiBvcmRlciB0byBhIHF1YXRlcm5pb25cbiAqL1xuZnVuY3Rpb24gcXVhdEZyb21FdWxlcllYWihvdXQsIHgsIHksIHopIHtcbiAgICBjb25zdCBjMSA9IE1hdGguY29zKHggLyAyKTtcbiAgICBjb25zdCBjMiA9IE1hdGguY29zKHkgLyAyKTtcbiAgICBjb25zdCBjMyA9IE1hdGguY29zKHogLyAyKTtcbiAgICBjb25zdCBzMSA9IE1hdGguc2luKHggLyAyKTtcbiAgICBjb25zdCBzMiA9IE1hdGguc2luKHkgLyAyKTtcbiAgICBjb25zdCBzMyA9IE1hdGguc2luKHogLyAyKTtcbiAgICBvdXRbMF0gPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG4gICAgb3V0WzFdID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzO1xuICAgIG91dFsyXSA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMztcbiAgICBvdXRbM10gPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7XG59XG4vKipcbiAqIFJldHJpZXZlIGRldmljZSBvcmllbnRhdGlvbiBmcm9tIGEgbW9iaWxlIGRldmljZSBhbmQgc2V0IHRoZSBvYmplY3Qnc1xuICogb3JpZW50YXRpb24gYWNjb3JkaW5nbHkuXG4gKlxuICogVXNlZnVsIGZvciBtYWdpYyB3aW5kb3cgZXhwZXJpZW5jZXMuXG4gKi9cbmNsYXNzIERldmljZU9yaWVudGF0aW9uTG9vayBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2RldmljZS1vcmllbnRhdGlvbi1sb29rJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHt9O1xuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnJvdGF0aW9uWCA9IDA7XG4gICAgICAgIHRoaXMucm90YXRpb25ZID0gMDtcbiAgICAgICAgdGhpcy5sYXN0Q2xpZW50WCA9IC0xO1xuICAgICAgICB0aGlzLmxhc3RDbGllbnRZID0gLTE7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIC8qIEluaXRpYWxpemUgZGV2aWNlIG9yaWVudGF0aW9uIHdpdGggSWRlbnRpdHkgUXVhdGVybmlvbiAqL1xuICAgICAgICB0aGlzLmRldmljZU9yaWVudGF0aW9uID0gWzAsIDAsIDAsIDFdO1xuICAgICAgICB0aGlzLnNjcmVlbk9yaWVudGF0aW9uID0gd2luZG93LmlubmVySGVpZ2h0ID4gd2luZG93LmlubmVyV2lkdGggPyAwIDogOTA7XG4gICAgICAgIHRoaXMuX29yaWdpbiA9IFswLCAwLCAwXTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGxldCBhbHBoYSA9IGUuYWxwaGEgfHwgMDtcbiAgICAgICAgICAgIGxldCBiZXRhID0gZS5iZXRhIHx8IDA7XG4gICAgICAgICAgICBsZXQgZ2FtbWEgPSBlLmdhbW1hIHx8IDA7XG4gICAgICAgICAgICBjb25zdCB0b1JhZCA9IE1hdGguUEkgLyAxODA7XG4gICAgICAgICAgICBxdWF0RnJvbUV1bGVyWVhaKHRoaXMuZGV2aWNlT3JpZW50YXRpb24sIGJldGEgKiB0b1JhZCwgYWxwaGEgKiB0b1JhZCwgLWdhbW1hICogdG9SYWQpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdGhpcy5zY3JlZW5PcmllbnRhdGlvbiA9IHdpbmRvdy5vcmllbnRhdGlvbiB8fCAwO1xuICAgICAgICB9LmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICAvKiBEb24ndCB1c2UgZGV2aWNlIG9yaWVudGF0aW9uIGluIFZSICovXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZS54cilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Mb2NhbCh0aGlzLl9vcmlnaW4pO1xuICAgICAgICB0aGlzLm9iamVjdC5yZXNldFRyYW5zZm9ybSgpO1xuICAgICAgICBpZiAodGhpcy5zY3JlZW5PcmllbnRhdGlvbiAhPSAwKSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGVBeGlzQW5nbGVEZWcoWzAsIDAsIC0xXSwgdGhpcy5zY3JlZW5PcmllbnRhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYmplY3Qucm90YXRlKFstTWF0aC5zcXJ0KDAuNSksIDAsIDAsIE1hdGguc3FydCgwLjUpXSk7XG4gICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZSh0aGlzLmRldmljZU9yaWVudGF0aW9uKTtcbiAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlKHRoaXMuX29yaWdpbik7XG4gICAgfVxufVxuZXhwb3J0IHsgRGV2aWNlT3JpZW50YXRpb25Mb29rIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbi8qKlxuICogRW5hYmxlcyBpbnRlcmFjdGlvbiB3aXRoIGN1cnNvci10YXJnZXRzIHRocm91Z2ggY29sbGlzaW9uIG92ZXJsYXBzLFxuICogZS5nLiBvbiB0aGUgdGlwIG9mIGEgZmluZ2VyIG9uIGEgdHJhY2tlZCBoYW5kLlxuICpcbiAqICoqUmVxdWlyZW1lbnRzOioqXG4gKiAgLSBBIGNvbGxpc2lvbiBjb21wb25lbnQgKHVzdWFsbHkgYSBzcGhlcmUgd2l0aCBgMC4wNWAgcmFkaXVzKSBvbiB0aGUgc2FtZSBvYmplY3RcbiAqXG4gKiBAc2luY2UgMC44LjVcbiAqL1xuY2xhc3MgRmluZ2VyQ3Vyc29yIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZmluZ2VyLWN1cnNvcic7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7fTtcbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmxhc3RUYXJnZXQgPSBudWxsO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy50aXAgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2NvbGxpc2lvbicpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGNvbnN0IG92ZXJsYXBzID0gdGhpcy50aXAucXVlcnlPdmVybGFwcygpO1xuICAgICAgICBsZXQgb3ZlcmxhcEZvdW5kID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdmVybGFwcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbyA9IG92ZXJsYXBzW2ldLm9iamVjdDtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IG8uZ2V0Q29tcG9uZW50KCdjdXJzb3ItdGFyZ2V0Jyk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQuZXF1YWxzKHRoaXMubGFzdFRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Lm9uSG92ZXIobywgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5vbkNsaWNrKG8sIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdmVybGFwRm91bmQgPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvdmVybGFwRm91bmQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RUYXJnZXQpXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0Lm9uVW5ob3Zlcih0aGlzLmxhc3RUYXJnZXQub2JqZWN0LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXQgPSBvdmVybGFwRm91bmQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgeyBGaW5nZXJDdXJzb3IgfTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuLyoqXG4gKiBBcHBsaWVzIFtmaXhlZCBmb3ZlYXRpb25dKGh0dHBzOi8vd3d3LnczLm9yZy9UUi93ZWJ4cmxheWVycy0xLyNkb20teHJjb21wb3NpdGlvbmxheWVyLWZpeGVkZm92ZWF0aW9uKVxuICogb25jZSBhIFdlYlhSIHNlc3Npb24gaXMgc3RhcnRlZFxuICpcbiAqIEZpeGVkIGZvdmVhdGlvbiByZWR1Y2VzIHNoYWRpbmcgY29zdCBhdCB0aGUgcGVyaXBoZXJ5IGJ5IHJlbmRlcmluZyBhdCBsb3dlciByZXNvbHV0aW9ucyBhdCB0aGVcbiAqIGVkZ2VzIG9mIHRoZSB1c2VycyB2aXNpb24uXG4gKi9cbmNsYXNzIEZpeGVkRm92ZWF0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZml4ZWQtZm92ZWF0aW9uJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIEFtb3VudCB0byBhcHBseSBmcm9tIDAgKG5vbmUpIHRvIDEgKGZ1bGwpICovXG4gICAgICAgIGZpeGVkRm92ZWF0aW9uOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuNSB9LFxuICAgIH07XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMuc2V0Rml4ZWRGb3ZlYXRpb24uYmluZCh0aGlzKTtcbiAgICB9XG4gICAgb25BY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICB9XG4gICAgb25EZWFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgIH1cbiAgICBzZXRGaXhlZEZvdmVhdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUueHIuYmFzZUxheWVyLmZpeGVkRm92ZWF0aW9uID0gdGhpcy5maXhlZEZvdmVhdGlvbjtcbiAgICB9XG59XG5leHBvcnQgeyBGaXhlZEZvdmVhdGlvbiB9O1xuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IENvbXBvbmVudCwgTWVzaENvbXBvbmVudCwgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyB2ZWMzLCBxdWF0IH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7IHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCB9IGZyb20gJy4vdXRpbHMvd2VieHIuanMnO1xuY29uc3QgT1JERVJFRF9KT0lOVFMgPSBbXG4gICAgJ3dyaXN0JyxcbiAgICAndGh1bWItbWV0YWNhcnBhbCcsXG4gICAgJ3RodW1iLXBoYWxhbngtcHJveGltYWwnLFxuICAgICd0aHVtYi1waGFsYW54LWRpc3RhbCcsXG4gICAgJ3RodW1iLXRpcCcsXG4gICAgJ2luZGV4LWZpbmdlci1tZXRhY2FycGFsJyxcbiAgICAnaW5kZXgtZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxuICAgICdpbmRleC1maW5nZXItcGhhbGFueC1pbnRlcm1lZGlhdGUnLFxuICAgICdpbmRleC1maW5nZXItcGhhbGFueC1kaXN0YWwnLFxuICAgICdpbmRleC1maW5nZXItdGlwJyxcbiAgICAnbWlkZGxlLWZpbmdlci1tZXRhY2FycGFsJyxcbiAgICAnbWlkZGxlLWZpbmdlci1waGFsYW54LXByb3hpbWFsJyxcbiAgICAnbWlkZGxlLWZpbmdlci1waGFsYW54LWludGVybWVkaWF0ZScsXG4gICAgJ21pZGRsZS1maW5nZXItcGhhbGFueC1kaXN0YWwnLFxuICAgICdtaWRkbGUtZmluZ2VyLXRpcCcsXG4gICAgJ3JpbmctZmluZ2VyLW1ldGFjYXJwYWwnLFxuICAgICdyaW5nLWZpbmdlci1waGFsYW54LXByb3hpbWFsJyxcbiAgICAncmluZy1maW5nZXItcGhhbGFueC1pbnRlcm1lZGlhdGUnLFxuICAgICdyaW5nLWZpbmdlci1waGFsYW54LWRpc3RhbCcsXG4gICAgJ3JpbmctZmluZ2VyLXRpcCcsXG4gICAgJ3Bpbmt5LWZpbmdlci1tZXRhY2FycGFsJyxcbiAgICAncGlua3ktZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxuICAgICdwaW5reS1maW5nZXItcGhhbGFueC1pbnRlcm1lZGlhdGUnLFxuICAgICdwaW5reS1maW5nZXItcGhhbGFueC1kaXN0YWwnLFxuICAgICdwaW5reS1maW5nZXItdGlwJyxcbl07XG5jb25zdCBpbnZUcmFuc2xhdGlvbiA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCBpbnZSb3RhdGlvbiA9IHF1YXQuY3JlYXRlKCk7XG5jb25zdCB0ZW1wVmVjMCA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCB0ZW1wVmVjMSA9IHZlYzMuY3JlYXRlKCk7XG4vKipcbiAqIEVhc3kgaGFuZCB0cmFja2luZyB0aHJvdWdoIHRoZSBXZWJYUiBEZXZpY2UgQVBJXG4gKiBbXCJIYW5kIElucHV0XCIgQVBJXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3dlYnhyLWhhbmQtaW5wdXQvKS5cbiAqXG4gKiBBbGxvd3MgZGlzcGxheWluZyBoYW5kcyBlaXRoZXIgYXMgc3BoZXJlLWpvaW50cyBvciBza2lubmVkIG1lc2guXG4gKlxuICogVG8gcmVhY3QgdG8gZ3JhYmJpbmcsIHVzZSBgdGhpcy5pc0dyYWJiaW5nKClgLiBGb3Igb3RoZXIgZ2VzdHVyZXMsIHJlZmVyXG4gKiB0byBgdGhpcy5qb2ludHNgIC0gYW4gYXJyYXkgb2YgW1dMLk9iamVjdF0oL2pzYXBpL29iamVjdCkgYW5kIHVzZSB0aGUgam9pbnRcbiAqIGluZGljZXMgbGlzdGVkIFtpbiB0aGUgV2ViWFIgSGFuZCBJbnB1dCBzcGVjaWZpY2F0aW9uXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3dlYnhyLWhhbmQtaW5wdXQvI3NrZWxldG9uLWpvaW50cy1zZWN0aW9uKS5cbiAqXG4gKiBJdCBpcyBvZnRlbiBkZXNpcmVkIHRvIHVzZSBlaXRoZXIgaGFuZCB0cmFja2luZyBvciBjb250cm9sbGVycywgbm90IGJvdGguXG4gKiBUaGlzIGNvbXBvbmVudCBwcm92aWRlcyBgZGVhY3RpdmF0ZUNoaWxkcmVuV2l0aG91dFBvc2VgIHRvIGhpZGUgdGhlIGhhbmRcbiAqIHRyYWNraW5nIHZpc3VhbGl6YXRpb24gaWYgbm8gcG9zZSBpcyBhdmFpbGFibGUgYW5kIGBjb250cm9sbGVyVG9EZWFjdGl2YXRlYFxuICogZm9yIGRpc2FibGluZyBhbm90aGVyIG9iamVjdCBvbmNlIGEgaGFuZCB0cmFja2luZyBwb3NlICppcyogYXZhaWxhYmxlLlxuICogT3V0c2lkZSBvZiBYUiBzZXNzaW9ucywgdHJhY2tpbmcgb3IgY29udHJvbGxlcnMgYXJlIG5laXRoZXIgZW5hYmxlZCBub3IgZGlzYWJsZWRcbiAqIHRvIHBsYXkgd2VsbCB3aXRoIHRoZSBbdnItbW9kZS1hY3RpdmUtc3dpdGNoXSgjdnItbW9kZS1hY3RpdmUtc3dpdGNoKSBjb21wb25lbnQuXG4gKlxuICogKipSZXF1aXJlbWVudHM6KipcbiAqICAtIFRvIHVzZSBoYW5kLXRyYWNraW5nLCBlbmFibGUgXCJqb2ludCB0cmFja2luZ1wiIGluIGBjaHJvbWU6Ly9mbGFnc2Agb25cbiAqICAgIE9jdWx1cyBCcm93c2VyIGZvciBPY3VsdXMgUXVlc3QvT2N1bHVzIFF1ZXN0IDIuXG4gKlxuICogU2VlIFtIYW5kIFRyYWNraW5nIEV4YW1wbGVdKC9zaG93Y2FzZS9oYW5kLXRyYWNraW5nKS5cbiAqL1xuY2xhc3MgSGFuZFRyYWNraW5nIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaGFuZC10cmFja2luZyc7XG4gICAgLyoqIEhhbmRlZG5lc3MgZGV0ZXJtaW5pbmcgd2hldGhlciB0byByZWNlaXZlIHRyYWNraW5nIGlucHV0IGZyb20gcmlnaHQgb3IgbGVmdCBoYW5kICovXG4gICAgaGFuZGVkbmVzcyA9IDA7XG4gICAgLyoqIChvcHRpb25hbCkgTWVzaCB0byB1c2UgdG8gdmlzdWFsaXplIGpvaW50cyAqL1xuICAgIGpvaW50TWVzaCA9IG51bGw7XG4gICAgLyoqIE1hdGVyaWFsIHRvIHVzZSBmb3IgZGlzcGxheS4gQXBwbGllZCB0byBlaXRoZXIgdGhlIHNwYXduZWQgc2tpbm5lZCBtZXNoIG9yIHRoZSBqb2ludCBzcGhlcmVzLiAqL1xuICAgIGpvaW50TWF0ZXJpYWwgPSBudWxsO1xuICAgIC8qKiAob3B0aW9uYWwpIFNraW4gdG8gYXBwbHkgdHJhY2tlZCBqb2ludCBwb3NlcyB0by4gSWYgbm90IHByZXNlbnQsXG4gICAgICogam9pbnQgc3BoZXJlcyB3aWxsIGJlIHVzZWQgZm9yIGRpc3BsYXkgaW5zdGVhZC4gKi9cbiAgICBoYW5kU2tpbiA9IG51bGw7XG4gICAgLyoqIERlYWN0aXZhdGUgY2hpbGRyZW4gaWYgbm8gcG9zZSB3YXMgdHJhY2tlZCAqL1xuICAgIGRlYWN0aXZhdGVDaGlsZHJlbldpdGhvdXRQb3NlID0gdHJ1ZTtcbiAgICAvKiogQ29udHJvbGxlciBvYmplY3RzIHRvIGFjdGl2YXRlIGluY2x1ZGluZyBjaGlsZHJlbiBpZiBubyBwb3NlIGlzIGF2YWlsYWJsZSAqL1xuICAgIGNvbnRyb2xsZXJUb0RlYWN0aXZhdGUgPSBudWxsO1xuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IFsnbGVmdCcsICdyaWdodCddW3RoaXMuaGFuZGVkbmVzc107XG4gICAgfVxuICAgIGpvaW50cyA9IHt9O1xuICAgIHNlc3Npb24gPSBudWxsO1xuICAgIC8qIFdoZXRoZXIgbGFzdCB1cGRhdGUgaGFkIGEgaGFuZCBwb3NlICovXG4gICAgaGFzUG9zZSA9IGZhbHNlO1xuICAgIF9jaGlsZHJlbkFjdGl2ZSA9IHRydWU7XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICghKCdYUkhhbmQnIGluIHdpbmRvdykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignV2ViWFIgSGFuZCBUcmFja2luZyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci4nKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFuZFNraW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHNraW4gPSB0aGlzLmhhbmRTa2luO1xuICAgICAgICAgICAgY29uc3Qgam9pbnRJZHMgPSBza2luLmpvaW50SWRzO1xuICAgICAgICAgICAgLyogTWFwIHRoZSB3cmlzdCAqL1xuICAgICAgICAgICAgdGhpcy5qb2ludHNbT1JERVJFRF9KT0lOVFNbMF1dID0gdGhpcy5lbmdpbmUud3JhcE9iamVjdChqb2ludElkc1swXSk7XG4gICAgICAgICAgICAvKiBJbmRleCBpbiBPUkRFUkVEX0pPSU5UUyB0aGF0IHdlIGFyZSBtYXBwaW5nIHRvIG91ciBqb2ludHMgKi9cbiAgICAgICAgICAgIC8qIFNraXAgdGh1bWIwIGpvaW50LCBzdGFydCBhdCB0aHVtYjEgKi9cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgam9pbnRJZHMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2ludCA9IHRoaXMuZW5naW5lLndyYXBPYmplY3Qoam9pbnRJZHNbal0pO1xuICAgICAgICAgICAgICAgIC8qIHRpcCBqb2ludHMgYXJlIG9ubHkgbmVlZGVkIGZvciBqb2ludCByZW5kZXJpbmcsIHNvIHdlIHNraXAgdGhvc2Ugd2hpbGUgbWFwcGluZyAqL1xuICAgICAgICAgICAgICAgIHRoaXMuam9pbnRzW2pvaW50Lm5hbWVdID0gam9pbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBJZiB3ZSBoYXZlIGEgaGFuZCBza2luLCBubyBuZWVkIHRvIHNwYXduIHRoZSBqb2ludHMtYmFzZWQgb25lICovXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyogU3Bhd24gam9pbnRzICovXG4gICAgICAgIGNvbnN0IGpvaW50T2JqZWN0cyA9IHRoaXMuZW5naW5lLnNjZW5lLmFkZE9iamVjdHMoT1JERVJFRF9KT0lOVFMubGVuZ3RoLCB0aGlzLm9iamVjdCwgT1JERVJFRF9KT0lOVFMubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBPUkRFUkVEX0pPSU5UUy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgY29uc3Qgam9pbnQgPSBqb2ludE9iamVjdHNbal07XG4gICAgICAgICAgICBqb2ludC5hZGRDb21wb25lbnQoTWVzaENvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgIG1lc2g6IHRoaXMuam9pbnRNZXNoLFxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOiB0aGlzLmpvaW50TWF0ZXJpYWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuam9pbnRzW09SREVSRURfSk9JTlRTW2pdXSA9IGpvaW50O1xuICAgICAgICAgICAgam9pbnQubmFtZSA9IE9SREVSRURfSk9JTlRTW2pdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5naW5lLnhyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmhhc1Bvc2UgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lLnhyLnNlc3Npb24uaW5wdXRTb3VyY2VzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZW5naW5lLnhyLnNlc3Npb24uaW5wdXRTb3VyY2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXRTb3VyY2UgPSB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLmlucHV0U291cmNlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0U291cmNlPy5oYW5kIHx8IGlucHV0U291cmNlPy5oYW5kZWRuZXNzICE9IHRoaXMuaGFuZGVkbmVzcylcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3Jpc3RTcGFjZSA9IGlucHV0U291cmNlLmhhbmQuZ2V0KCd3cmlzdCcpO1xuICAgICAgICAgICAgICAgIGlmICh3cmlzdFNwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5nZXRKb2ludFBvc2Uod3Jpc3RTcGFjZSwgdGhpcy5lbmdpbmUueHIuY3VycmVudFJlZmVyZW5jZVNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCh0aGlzLm9iamVjdCwgcC50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LmdldFJvdGF0aW9uTG9jYWwoaW52Um90YXRpb24pO1xuICAgICAgICAgICAgICAgIHF1YXQuY29uanVnYXRlKGludlJvdGF0aW9uLCBpbnZSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Mb2NhbChpbnZUcmFuc2xhdGlvbik7XG4gICAgICAgICAgICAgICAgLyogVGhlcmUgaXMgYSBib25lICd3cmlzdCcsIGJ1dCBpdCBqdXN0IHNpdHMgb24gdGhlIHJvb3RcbiAgICAgICAgICAgICAgICAgKiBvYmplY3QuIEl0IGNvdWxkIGhhdmUgYW4gaW5pdGlhbCB0cmFuc2Zvcm0gd2Ugd2FudCB0b1xuICAgICAgICAgICAgICAgICAqIGNsZWFyIGZvciBza2lubmluZywgdGhvdWdoLiAqL1xuICAgICAgICAgICAgICAgIHRoaXMuam9pbnRzWyd3cmlzdCddLnJlc2V0VHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgLyogV3Jpc3QgaXMgYWxyZWFkeSBoYW5kbGVkLCBzbyBzdGFydCBhdCAxICovXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBPUkRFUkVEX0pPSU5UUy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBqb2ludE5hbWUgPSBPUkRFUkVEX0pPSU5UU1tqXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgam9pbnQgPSB0aGlzLmpvaW50c1tqb2ludE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWpvaW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGxldCBqb2ludFBvc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBqb2ludFNwYWNlID0gaW5wdXRTb3VyY2UuaGFuZC5nZXQoam9pbnROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpvaW50U3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZSA9IHRoaXMuZW5naW5lLnhyLmZyYW1lLmdldEpvaW50UG9zZShqb2ludFNwYWNlLCB0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChqb2ludFBvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzUG9zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBqb2ludC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50LnRyYW5zbGF0ZUxvY2FsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLnBvc2l0aW9uLnggLSBpbnZUcmFuc2xhdGlvblswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLnBvc2l0aW9uLnkgLSBpbnZUcmFuc2xhdGlvblsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLnBvc2l0aW9uLnogLSBpbnZUcmFuc2xhdGlvblsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgam9pbnQucm90YXRlTG9jYWwoaW52Um90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgam9pbnQucm90YXRlT2JqZWN0KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLm9yaWVudGF0aW9uLngsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5vcmllbnRhdGlvbi55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ub3JpZW50YXRpb24ueixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLm9yaWVudGF0aW9uLncsXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYW5kU2tpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIExhc3Qgam9pbnQgcmFkaXVzIG9mIGVhY2ggZmluZ2VyIGlzIG51bGwgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gam9pbnRQb3NlLnJhZGl1cyB8fCAwLjAwNztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludC5zZXRTY2FsaW5nTG9jYWwoW3IsIHIsIHJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaGFzUG9zZSAmJiB0aGlzLl9jaGlsZHJlbkFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5BY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYWN0aXZhdGVDaGlsZHJlbldpdGhvdXRQb3NlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlbkFjdGl2ZShmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlbkFjdGl2ZSh0cnVlLCB0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaGFzUG9zZSAmJiAhdGhpcy5fY2hpbGRyZW5BY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYWN0aXZhdGVDaGlsZHJlbldpdGhvdXRQb3NlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlbkFjdGl2ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlbkFjdGl2ZShmYWxzZSwgdGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRDaGlsZHJlbkFjdGl2ZShhY3RpdmUsIG9iamVjdCkge1xuICAgICAgICBvYmplY3QgPSBvYmplY3QgfHwgdGhpcy5vYmplY3Q7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gb2JqZWN0LmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGNvbnN0IG8gb2YgY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIG8uYWN0aXZlID0gYWN0aXZlO1xuICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlbkFjdGl2ZShhY3RpdmUsIG8pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlzR3JhYmJpbmcoKSB7XG4gICAgICAgIHRoaXMuam9pbnRzWydpbmRleC1maW5nZXItdGlwJ10uZ2V0UG9zaXRpb25Mb2NhbCh0ZW1wVmVjMCk7XG4gICAgICAgIHRoaXMuam9pbnRzWyd0aHVtYi10aXAnXS5nZXRQb3NpdGlvbkxvY2FsKHRlbXBWZWMxKTtcbiAgICAgICAgcmV0dXJuIHZlYzMuc3FyRGlzdCh0ZW1wVmVjMCwgdGVtcFZlYzEpIDwgMC4wMDE7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuZW51bShbJ2xlZnQnLCAncmlnaHQnXSlcbl0sIEhhbmRUcmFja2luZy5wcm90b3R5cGUsIFwiaGFuZGVkbmVzc1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkubWVzaCgpXG5dLCBIYW5kVHJhY2tpbmcucHJvdG90eXBlLCBcImpvaW50TWVzaFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkubWF0ZXJpYWwoKVxuXSwgSGFuZFRyYWNraW5nLnByb3RvdHlwZSwgXCJqb2ludE1hdGVyaWFsXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5za2luKClcbl0sIEhhbmRUcmFja2luZy5wcm90b3R5cGUsIFwiaGFuZFNraW5cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmJvb2wodHJ1ZSlcbl0sIEhhbmRUcmFja2luZy5wcm90b3R5cGUsIFwiZGVhY3RpdmF0ZUNoaWxkcmVuV2l0aG91dFBvc2VcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5Lm9iamVjdCgpXG5dLCBIYW5kVHJhY2tpbmcucHJvdG90eXBlLCBcImNvbnRyb2xsZXJUb0RlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbmV4cG9ydCB7IEhhbmRUcmFja2luZyB9O1xuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgJ2hvd2xlcic7XG4vKipcbiAqIChTcGF0aWFsKSBhdWRpbyBsaXN0ZW5lciBiYXNlZCBvbiBbSG93bGVyLmpzXShodHRwczovL2hvd2xlcmpzLmNvbS8pLlxuICpcbiAqIFJldHJpZXZlcyB0aGUgbG9jYXRpb24gYW5kIG9yaWVudGF0aW9uIG9mIHRoZSBvYmplY3QgYW5kIHBhc3NlcyBpdFxuICogdG8gW0hvd2xlci5wb3MoKV0oaHR0cHM6Ly9naXRodWIuY29tL2dvbGRmaXJlL2hvd2xlci5qcyNwb3N4LXktei1pZClcbiAqIGFuZCBbSG93bGVyLm9yaWVudGF0aW9uKCldKGh0dHBzOi8vZ2l0aHViLmNvbS9nb2xkZmlyZS9ob3dsZXIuanMjb3JpZW50YXRpb254LXktei1pZCkuXG4gKi9cbmNsYXNzIEhvd2xlckF1ZGlvTGlzdGVuZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdob3dsZXItYXVkaW8tbGlzdGVuZXInO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICAvKiogV2hldGhlciBhdWRpbyBzaG91bGQgYmUgc3BhdGlhbGl6ZWQvcG9zaXRpb25hbC4gKi9cbiAgICAgICAgc3BhdGlhbDogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IHRydWUgfSxcbiAgICB9O1xuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMub3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgdGhpcy5md2QgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICB0aGlzLnVwID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3BhdGlhbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLm9yaWdpbik7XG4gICAgICAgIHRoaXMub2JqZWN0LmdldEZvcndhcmQodGhpcy5md2QpO1xuICAgICAgICB0aGlzLm9iamVjdC5nZXRVcCh0aGlzLnVwKTtcbiAgICAgICAgSG93bGVyLnBvcyh0aGlzLm9yaWdpblswXSwgdGhpcy5vcmlnaW5bMV0sIHRoaXMub3JpZ2luWzJdKTtcbiAgICAgICAgSG93bGVyLm9yaWVudGF0aW9uKHRoaXMuZndkWzBdLCB0aGlzLmZ3ZFsxXSwgdGhpcy5md2RbMl0sIHRoaXMudXBbMF0sIHRoaXMudXBbMV0sIHRoaXMudXBbMl0pO1xuICAgIH1cbn1cbmV4cG9ydCB7IEhvd2xlckF1ZGlvTGlzdGVuZXIgfTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0ICdob3dsZXInO1xuLyoqXG4gKiAoU3BhdGlhbCkgYXVkaW8gc291cmNlIGJhc2VkIG9uIFtIb3dsZXIuanNdKGh0dHBzOi8vaG93bGVyanMuY29tLykuXG4gKlxuICogQ3JlYXRlcyBhIEhvd2xlciBhdWRpbyBzb3VyY2UsIHBsYXlzIGFuIGF1ZGlvIGZpbGUgb24gaXQgYW5kIHVwZGF0ZXNcbiAqIGl0cyBwb3NpdGlvbi5cbiAqXG4gKiBPcHRpbWl6ZXMgdGhlIHBvc2l0aW9uIHVwZGF0ZSB0byBvbmx5IHVwZGF0ZSBpZiB0aGUgZGlmZmVyZW5jZSB0byBsYXN0XG4gKiBwb3NpdGlvbiBpcyBsYXJnZXIgdGhhbiBoYWxmIGEgY2VudGltZXRlci4gVG8gZm9yY2UgdXBkYXRlcyAoZS5nLiBpZlxuICogdGhlIHNvdW5kIHNvdXJjZSBpcyBfdmVyeV8gY2xvc2UgdG8gdGhlIGxpc3RlbmVyKSxcbiAqIHVzZSBgLnVwZGF0ZVBvc2l0aW9uKClgLlxuICovXG5jbGFzcyBIb3dsZXJBdWRpb1NvdXJjZSBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2hvd2xlci1hdWRpby1zb3VyY2UnO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICAvKiogVm9sdW1lICovXG4gICAgICAgIHZvbHVtZTogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAxLjAgfSxcbiAgICAgICAgLyoqIFdoZXRoZXIgYXVkaW8gc2hvdWxkIGJlIHNwYXRpYWxpemVkL3Bvc2l0aW9uYWwgKi9cbiAgICAgICAgc3BhdGlhbDogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IHRydWUgfSxcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gbG9vcCB0aGUgc291bmQgKi9cbiAgICAgICAgbG9vcDogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgICAgIC8qKiBXaGV0aGVyIHRvIHN0YXJ0IHBsYXlpbmcgYXV0b21hdGljYWxseSAqL1xuICAgICAgICBhdXRvcGxheTogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgICAgIC8qKiBVUkwgdG8gYSBzb3VuZCBmaWxlIHRvIHBsYXkgKi9cbiAgICAgICAgc3JjOiB7IHR5cGU6IFR5cGUuU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICAgIH07XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuYXVkaW8gPSBuZXcgSG93bCh7XG4gICAgICAgICAgICBzcmM6IFt0aGlzLnNyY10sXG4gICAgICAgICAgICBsb29wOiB0aGlzLmxvb3AsXG4gICAgICAgICAgICB2b2x1bWU6IHRoaXMudm9sdW1lLFxuICAgICAgICAgICAgYXV0b3BsYXk6IHRoaXMuYXV0b3BsYXksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICB0aGlzLmxhc3RPcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICBpZiAodGhpcy5zcGF0aWFsICYmIHRoaXMuYXV0b3BsYXkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNwYXRpYWwgfHwgIXRoaXMubGFzdFBsYXllZEF1ZGlvSWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5vcmlnaW4pO1xuICAgICAgICAvKiBPbmx5IGNhbGwgcG9zKCkgaWYgdGhlIHBvc2l0aW9uIG1vdmVkIG1vcmUgdGhhbiBoYWxmIGEgY2VudGltZXRlclxuICAgICAgICAgKiBvdGhlcndpc2UgdGhpcyBnZXRzIHZlcnkgcGVyZm9ybWFuY2UgaGVhdnkuXG4gICAgICAgICAqIFNtYWxsZXIgbW92ZW1lbnQgc2hvdWxkIG9ubHkgYmUgcGVyY2VpdmFibGUgaWYgY2xvc2UgdG8gdGhlXG4gICAgICAgICAqIGVhciBhbnl3YXkuICovXG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmxhc3RPcmlnaW5bMF0gLSB0aGlzLm9yaWdpblswXSkgPiAwLjAwNSB8fFxuICAgICAgICAgICAgTWF0aC5hYnModGhpcy5sYXN0T3JpZ2luWzFdIC0gdGhpcy5vcmlnaW5bMV0pID4gMC4wMDUgfHxcbiAgICAgICAgICAgIE1hdGguYWJzKHRoaXMubGFzdE9yaWdpblsyXSAtIHRoaXMub3JpZ2luWzJdKSA+IDAuMDA1KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgICAgIHRoaXMuYXVkaW8ucG9zKHRoaXMub3JpZ2luWzBdLCB0aGlzLm9yaWdpblsxXSwgdGhpcy5vcmlnaW5bMl0sIHRoaXMubGFzdFBsYXllZEF1ZGlvSWQpO1xuICAgICAgICB0aGlzLmxhc3RPcmlnaW4uc2V0KHRoaXMub3JpZ2luKTtcbiAgICB9XG4gICAgcGxheSgpIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdFBsYXllZEF1ZGlvSWQpXG4gICAgICAgICAgICB0aGlzLmF1ZGlvLnN0b3AodGhpcy5sYXN0UGxheWVkQXVkaW9JZCk7XG4gICAgICAgIHRoaXMubGFzdFBsYXllZEF1ZGlvSWQgPSB0aGlzLmF1ZGlvLnBsYXkoKTtcbiAgICAgICAgaWYgKHRoaXMuc3BhdGlhbClcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmF1ZGlvLnN0b3AodGhpcy5sYXN0UGxheWVkQXVkaW9JZCk7XG4gICAgICAgIHRoaXMubGFzdFBsYXllZEF1ZGlvSWQgPSBudWxsO1xuICAgIH1cbiAgICBvbkRlYWN0aXZhdGUoKSB7XG4gICAgICAgIC8qIFN0b3Agc291bmQgd2hlbiBjb21wb25lbnQgaXMgZGVhY3RpdmF0ZWQgb3IgZGVzdHJveWVkLCBlLmcuXG4gICAgICAgICAqIHdoZW4gc3dpdGNoaW5nIHNjZW5lcyAqL1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICB9XG59XG5leHBvcnQgeyBIb3dsZXJBdWRpb1NvdXJjZSB9O1xuIiwgIi8qKlxuICogU2V0IHRoZSBkaWZmdXNlL2ZsYXQgdGV4dHVyZSBvZiBrbm93biBwaXBlbGluZXMuXG4gKlxuICogQHBhcmFtIG1hdCBNYXRlcmlhbCB0byBzZXQgdGhlIHRleHR1cmUgb25cbiAqIEBwYXJhbSB0ZXh0dXJlIFRleHR1cmUgdG8gc2V0XG4gKiBAcGFyYW0gY3VzdG9tVGV4dHVyZVByb3BlcnR5IFRleHR1cmUgcHJvcGVydHkgdG8gc2V0IG9yIGAnYXV0bydgIHRvIGF1dG9tYXRpY2FsbHlcbiAqICAgICAgZGV0ZWN0IHRoZSByaWdodCB0ZXh0dXJlIHByb3BlcnR5IGJhc2VkIG9uIGtub3duIHBpcGVsaW5lLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSB3YXMgc2V0LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEZpcnN0TWF0ZXJpYWxUZXh0dXJlKG1hdCwgdGV4dHVyZSwgY3VzdG9tVGV4dHVyZVByb3BlcnR5KSB7XG4gICAgaWYgKGN1c3RvbVRleHR1cmVQcm9wZXJ0eSAhPT0gJ2F1dG8nKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbWF0W2N1c3RvbVRleHR1cmVQcm9wZXJ0eV0gPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3Qgc2hhZGVyID0gbWF0LnNoYWRlcjtcbiAgICBpZiAoc2hhZGVyID09PSAnRmxhdCBPcGFxdWUgVGV4dHVyZWQnKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbWF0LmZsYXRUZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNoYWRlciA9PT0gJ1Bob25nIE9wYXF1ZSBUZXh0dXJlZCcgfHxcbiAgICAgICAgc2hhZGVyID09PSAnRm9saWFnZScgfHxcbiAgICAgICAgc2hhZGVyID09PSAnUGhvbmcgTm9ybWFsbWFwcGVkJyB8fFxuICAgICAgICBzaGFkZXIgPT09ICdQaG9uZyBMaWdodG1hcHBlZCcpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBtYXQuZGlmZnVzZVRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnUGFydGljbGUnKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbWF0Lm1haW5UZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNoYWRlciA9PT0gJ0Rpc3RhbmNlRmllbGRWZWN0b3InKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbWF0LnZlY3RvclRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnQmFja2dyb3VuZCcgfHwgc2hhZGVyID09PSAnU2t5Jykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG1hdC50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNoYWRlciA9PT0gJ1BoeXNpY2FsIE9wYXF1ZSBUZXh0dXJlZCcpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBtYXQuYWxiZWRvVGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgeyBzZXRGaXJzdE1hdGVyaWFsVGV4dHVyZSB9IGZyb20gJy4vdXRpbHMvdXRpbHMuanMnO1xuLyoqXG4gKiBEb3dubG9hZHMgYW4gaW1hZ2UgZnJvbSBVUkwgYW5kIGFwcGxpZXMgaXQgYXMgYGRpZmZ1c2VUZXh0dXJlYCBvciBgZmxhdFRleHR1cmVgXG4gKiB0byBhbiBhdHRhY2hlZCBtZXNoIGNvbXBvbmVudC5cbiAqXG4gKiBNYXRlcmlhbHMgZnJvbSB0aGUgZm9sbG93aW5nIHNoYWRlcnMgYXJlIHN1cHBvcnRlZDpcbiAqICAtIFwiUGhvbmcgT3BhcXVlIFRleHR1cmVkXCJcbiAqICAtIFwiRmxhdCBPcGFxdWUgVGV4dHVyZWRcIlxuICogIC0gXCJCYWNrZ3JvdW5kXCJcbiAqICAtIFwiUGh5c2ljYWwgT3BhcXVlIFRleHR1cmVkXCJcbiAqICAtIFwiRm9saWFnZVwiXG4gKi9cbmNsYXNzIEltYWdlVGV4dHVyZSBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2ltYWdlLXRleHR1cmUnO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICAvKiogVVJMIHRvIGRvd25sb2FkIHRoZSBpbWFnZSBmcm9tICovXG4gICAgICAgIHVybDogUHJvcGVydHkuc3RyaW5nKCksXG4gICAgICAgIC8qKiBNYXRlcmlhbCB0byBhcHBseSB0aGUgdmlkZW8gdGV4dHVyZSB0byAqL1xuICAgICAgICBtYXRlcmlhbDogUHJvcGVydHkubWF0ZXJpYWwoKSxcbiAgICAgICAgLyoqIE5hbWUgb2YgdGhlIHRleHR1cmUgcHJvcGVydHkgdG8gc2V0ICovXG4gICAgICAgIHRleHR1cmVQcm9wZXJ0eTogUHJvcGVydHkuc3RyaW5nKCdhdXRvJyksXG4gICAgfTtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hdGVyaWFsKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignaW1hZ2UtdGV4dHVyZTogbWF0ZXJpYWwgcHJvcGVydHkgbm90IHNldCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5naW5lLnRleHR1cmVzXG4gICAgICAgICAgICAubG9hZCh0aGlzLnVybCwgJ2Fub255bW91cycpXG4gICAgICAgICAgICAudGhlbigodGV4dHVyZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWF0ID0gdGhpcy5tYXRlcmlhbDtcbiAgICAgICAgICAgIGlmICghc2V0Rmlyc3RNYXRlcmlhbFRleHR1cmUobWF0LCB0ZXh0dXJlLCB0aGlzLnRleHR1cmVQcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTaGFkZXInLCBtYXQuc2hhZGVyLCAnbm90IHN1cHBvcnRlZCBieSBpbWFnZS10ZXh0dXJlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnIpO1xuICAgIH1cbn1cbmV4cG9ydCB7IEltYWdlVGV4dHVyZSB9O1xuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IHZlYzMgfSBmcm9tICdnbC1tYXRyaXgnO1xuY29uc3QgcHJldmVudERlZmF1bHQgPSAoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IH07XG4vKipcbiAqIENvbnRyb2xzIHRoZSBjYW1lcmEgb3JpZW50YXRpb24gdGhyb3VnaCBtb3VzZSBtb3ZlbWVudC5cbiAqXG4gKiBFZmZpY2llbnRseSBpbXBsZW1lbnRlZCB0byBhZmZlY3Qgb2JqZWN0IG9yaWVudGF0aW9uIG9ubHlcbiAqIHdoZW4gdGhlIG1vdXNlIG1vdmVzLlxuICovXG5jbGFzcyBNb3VzZUxvb2tDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdtb3VzZS1sb29rJztcbiAgICAvKiogTW91c2UgbG9vayBzZW5zaXRpdml0eSAqL1xuICAgIHNlbnNpdGl0eSA9IDAuMjU7XG4gICAgLyoqIFJlcXVpcmUgYSBtb3VzZSBidXR0b24gdG8gYmUgcHJlc3NlZCB0byBjb250cm9sIHZpZXcuXG4gICAgICogT3RoZXJ3aXNlIHZpZXcgd2lsbCBhbGx3YXlzIGZvbGxvdyBtb3VzZSBtb3ZlbWVudCAqL1xuICAgIHJlcXVpcmVNb3VzZURvd24gPSB0cnVlO1xuICAgIC8qKiBJZiBcIm1vdmVPbkNsaWNrXCIgaXMgZW5hYmxlZCwgbW91c2UgYnV0dG9uIHdoaWNoIHNob3VsZFxuICAgICAqIGJlIGhlbGQgZG93biB0byBjb250cm9sIHZpZXcgKi9cbiAgICBtb3VzZUJ1dHRvbkluZGV4ID0gMDtcbiAgICAvKiogRW5hYmxlcyBwb2ludGVyIGxvY2sgb24gXCJtb3VzZWRvd25cIiBldmVudCBvbiBjYW52YXMgKi9cbiAgICBwb2ludGVyTG9ja09uQ2xpY2sgPSBmYWxzZTtcbiAgICBjdXJyZW50Um90YXRpb25ZID0gMDtcbiAgICBjdXJyZW50Um90YXRpb25YID0gMDtcbiAgICBvcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIHBhcmVudE9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgcm90YXRpb25YID0gMDtcbiAgICByb3RhdGlvblkgPSAwO1xuICAgIG1vdXNlRG93biA9IGZhbHNlO1xuICAgIG9uQWN0aXZhdGUoKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUpO1xuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmVuZ2luZS5jYW52YXM7XG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJMb2NrT25DbGljaykge1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMucmVxdWVzdFBvaW50ZXJMb2NrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlTW91c2VEb3duKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tb3VzZUJ1dHRvbkluZGV4ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgcHJldmVudERlZmF1bHQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duKTtcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXApO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSk7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZW5naW5lLmNhbnZhcztcbiAgICAgICAgaWYgKHRoaXMucG9pbnRlckxvY2tPbkNsaWNrKSB7XG4gICAgICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5yZXF1ZXN0UG9pbnRlckxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVNb3VzZURvd24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlQnV0dG9uSW5kZXggPT09IDIpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBwcmV2ZW50RGVmYXVsdCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24pO1xuICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVxdWVzdFBvaW50ZXJMb2NrID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmVuZ2luZS5jYW52YXM7XG4gICAgICAgIGNhbnZhcy5yZXF1ZXN0UG9pbnRlckxvY2sgPVxuICAgICAgICAgICAgY2FudmFzLnJlcXVlc3RQb2ludGVyTG9jayB8fFxuICAgICAgICAgICAgICAgIGNhbnZhcy5tb3pSZXF1ZXN0UG9pbnRlckxvY2sgfHxcbiAgICAgICAgICAgICAgICBjYW52YXMud2Via2l0UmVxdWVzdFBvaW50ZXJMb2NrO1xuICAgICAgICBjYW52YXMucmVxdWVzdFBvaW50ZXJMb2NrKCk7XG4gICAgfTtcbiAgICBvbk1vdXNlRG93biA9IChlKSA9PiB7XG4gICAgICAgIGlmIChlLmJ1dHRvbiA9PT0gdGhpcy5tb3VzZUJ1dHRvbkluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IHRydWU7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdncmFiYmluZyc7XG4gICAgICAgICAgICBpZiAoZS5idXR0b24gPT09IDEpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgLyogUHJldmVudCBzY3JvbGxpbmcgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIG9uTW91c2VVcCA9IChlKSA9PiB7XG4gICAgICAgIGlmIChlLmJ1dHRvbiA9PT0gdGhpcy5tb3VzZUJ1dHRvbkluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnaW5pdGlhbCc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIG9uTW91c2VNb3ZlID0gKGUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlICYmICh0aGlzLm1vdXNlRG93biB8fCAhdGhpcy5yZXF1aXJlTW91c2VEb3duKSkge1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvblkgPSAoLXRoaXMuc2Vuc2l0aXR5ICogZS5tb3ZlbWVudFgpIC8gMTAwO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvblggPSAoLXRoaXMuc2Vuc2l0aXR5ICogZS5tb3ZlbWVudFkpIC8gMTAwO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Um90YXRpb25YICs9IHRoaXMucm90YXRpb25YO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Um90YXRpb25ZICs9IHRoaXMucm90YXRpb25ZO1xuICAgICAgICAgICAgLyogMS41MDcgPSBQSS8yID0gOTBcdTAwQjAgKi9cbiAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWCA9IE1hdGgubWluKDEuNTA3LCB0aGlzLmN1cnJlbnRSb3RhdGlvblgpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Um90YXRpb25YID0gTWF0aC5tYXgoLTEuNTA3LCB0aGlzLmN1cnJlbnRSb3RhdGlvblgpO1xuICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZCh0aGlzLm9yaWdpbik7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLm9iamVjdC5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LmdldFBvc2l0aW9uV29ybGQodGhpcy5wYXJlbnRPcmlnaW4pO1xuICAgICAgICAgICAgICAgIHZlYzMuc3ViKHRoaXMub3JpZ2luLCB0aGlzLm9yaWdpbiwgdGhpcy5wYXJlbnRPcmlnaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGVBeGlzQW5nbGVSYWRMb2NhbChbMSwgMCwgMF0sIHRoaXMuY3VycmVudFJvdGF0aW9uWCk7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGVBeGlzQW5nbGVSYWRMb2NhbChbMCwgMSwgMF0sIHRoaXMuY3VycmVudFJvdGF0aW9uWSk7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGVMb2NhbCh0aGlzLm9yaWdpbik7XG4gICAgICAgIH1cbiAgICB9O1xufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuZmxvYXQoMC4yNSlcbl0sIE1vdXNlTG9va0NvbXBvbmVudC5wcm90b3R5cGUsIFwic2Vuc2l0aXR5XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5ib29sKHRydWUpXG5dLCBNb3VzZUxvb2tDb21wb25lbnQucHJvdG90eXBlLCBcInJlcXVpcmVNb3VzZURvd25cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmludCgpXG5dLCBNb3VzZUxvb2tDb21wb25lbnQucHJvdG90eXBlLCBcIm1vdXNlQnV0dG9uSW5kZXhcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmJvb2woZmFsc2UpXG5dLCBNb3VzZUxvb2tDb21wb25lbnQucHJvdG90eXBlLCBcInBvaW50ZXJMb2NrT25DbGlja1wiLCB2b2lkIDApO1xuZXhwb3J0IHsgTW91c2VMb29rQ29tcG9uZW50IH07XG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xuLyoqXG4gKiBTZXQgcGxheWVyIGhlaWdodCBmb3IgYSBZLW9mZnNldCBhYm92ZSB0aGUgZ3JvdW5kIGZvclxuICogJ2xvY2FsJyBhbmQgJ3ZpZXdlcicgcmVmZXJlbmNlIHNwYWNlcy5cbiAqL1xuY2xhc3MgUGxheWVySGVpZ2h0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAncGxheWVyLWhlaWdodCc7XG4gICAgaGVpZ2h0ID0gMS43NTtcbiAgICBvblNlc3Npb25TdGFydENhbGxiYWNrO1xuICAgIG9uU2Vzc2lvbkVuZENhbGxiYWNrO1xuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLm9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcbiAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlTG9jYWwoWzAuMCwgdGhpcy5oZWlnaHQsIDAuMF0pO1xuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uU3RhcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayA9IHRoaXMub25YUlNlc3Npb25FbmQuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgb25BY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQuYWRkKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xuICAgIH1cbiAgICBvbkRlYWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLnJlbW92ZSh0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrKTtcbiAgICB9XG4gICAgb25YUlNlc3Npb25TdGFydCgpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMuZW5naW5lLnhyPy5jdXJyZW50UmVmZXJlbmNlU3BhY2VUeXBlO1xuICAgICAgICBpZiAodHlwZSAhPT0gJ2xvY2FsJyAmJiB0eXBlICE9PSAndmlld2VyJykge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25YUlNlc3Npb25FbmQoKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLmVuZ2luZS54cj8uY3VycmVudFJlZmVyZW5jZVNwYWNlVHlwZTtcbiAgICAgICAgaWYgKHR5cGUgIT09ICdsb2NhbCcgJiYgdHlwZSAhPT0gJ3ZpZXdlcicpIHtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlTG9jYWwoWzAuMCwgdGhpcy5oZWlnaHQsIDAuMF0pO1xuICAgICAgICB9XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuZmxvYXQoMS43NSlcbl0sIFBsYXllckhlaWdodC5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHZvaWQgMCk7XG5leHBvcnQgeyBQbGF5ZXJIZWlnaHQgfTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuLyoqXG4gKiBTZXRzIHRoZSB0YXJnZXQgZnJhbWVyYXRlXG4gKlxuICogW1VwZGF0ZXMgdGhlIHRhcmdldCBmcmFtZXJhdGVdKGh0dHBzOi8vaW1tZXJzaXZlLXdlYi5naXRodWIuaW8vd2VieHIvI2RvbS14cnNlc3Npb24tdXBkYXRldGFyZ2V0ZnJhbWVyYXRlKVxuICogdG8gdGhlIGNsb3Nlc3QgW3N1cHBvcnRlZCB0YXJnZXQgZnJhbWVyYXRlXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3dlYnhyLyNkb20teHJzZXNzaW9uLXN1cHBvcnRlZEZyYW1lUmF0ZXMpXG4gKiB0byB0aGUgZ2l2ZW4gYGZyYW1lcmF0ZWAuXG4gKlxuICogVGhlIHRhcmdldCBmcmFtZXJhdGUgaXMgdXNlZCBmb3IgdGhlIGRldmljZSdzIFZSIGNvbXBvc2l0b3IgYXMgYW4gaW5kaWNhdGlvbiBvZiBob3cgb2Z0ZW4gdG8gcmVmcmVzaCB0aGVcbiAqIHNjcmVlbiB3aXRoIG5ldyBpbWFnZXMuIFRoaXMgbWVhbnMgdGhlIGFwcCB3aWxsIGJlIGFza2VkIHRvIHByb2R1Y2UgZnJhbWVzIGluIG1vcmUgcmVndWxhciBpbnRlcnZhbHMsXG4gKiBwb3RlbnRpYWxseSBzcGVuZGluZyBsZXNzIHRpbWUgb24gZnJhbWVzIHRoYXQgYXJlIGxpa2VseSB0byBiZSBkcm9wcGVkLlxuICpcbiAqIEZvciBhcHBzIHdpdGggaGVhdnkgbG9hZCwgc2V0dGluZyBhIHdlbGwgbWF0Y2hpbmcgdGFyZ2V0IGZyYW1lcmF0ZSBjYW4gaW1wcm92ZSB0aGUgYXBwcyByZW5kZXJpbmcgc3RhYmlsaXR5XG4gKiBhbmQgcmVkdWNlIHN0dXR0ZXIuXG4gKlxuICogTGlrZXdpc2UsIHRoZSB0YXJnZXQgZnJhbWVyYXRlIGNhbiBiZSB1c2VkIHRvIGVuYWJsZSAxMjBIeiByZWZyZXNoIHJhdGVzIG9uIE9jdWx1cyBRdWVzdCAyIG9uIHNpbXBsZXIgYXBwcy5cbiAqL1xuY2xhc3MgVGFyZ2V0RnJhbWVyYXRlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndGFyZ2V0LWZyYW1lcmF0ZSc7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIGZyYW1lcmF0ZTogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiA5MC4wIH0sXG4gICAgfTtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5zZXRUYXJnZXRGcmFtZXJhdGUuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgb25BY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICB9XG4gICAgb25EZWFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgIH1cbiAgICBzZXRUYXJnZXRGcmFtZXJhdGUocykge1xuICAgICAgICBpZiAocy5zdXBwb3J0ZWRGcmFtZVJhdGVzICYmIHMudXBkYXRlVGFyZ2V0RnJhbWVSYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBhID0gdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5zdXBwb3J0ZWRGcmFtZVJhdGVzO1xuICAgICAgICAgICAgYS5zb3J0KChhLCBiKSA9PiBNYXRoLmFicyhhIC0gdGhpcy5mcmFtZXJhdGUpIC0gTWF0aC5hYnMoYiAtIHRoaXMuZnJhbWVyYXRlKSk7XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLnVwZGF0ZVRhcmdldEZyYW1lUmF0ZShhWzBdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCB7IFRhcmdldEZyYW1lcmF0ZSB9O1xuIiwgImltcG9ydCB7IHZlYzMsIHF1YXQyIH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG4vKipcbiAqIFRlbGVwb3J0IFZSIGxvY29tb3Rpb24uXG4gKlxuICogU2VlIFtUZWxlcG9ydCBFeGFtcGxlXSgvc2hvd2Nhc2UvdGVsZXBvcnQpLlxuICovXG5jbGFzcyBUZWxlcG9ydENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3RlbGVwb3J0JztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIE9iamVjdCB0aGF0IHdpbGwgYmUgcGxhY2VkIGFzIGluZGljaWF0aW9uIGZvcndoZXJlIHRoZSBwbGF5ZXIgd2lsbCB0ZWxlcG9ydCB0by4gKi9cbiAgICAgICAgdGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0OiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXG4gICAgICAgIC8qKiBSb290IG9mIHRoZSBwbGF5ZXIsIHRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIHBvc2l0aW9uZWQgb24gdGVsZXBvcnRhdGlvbi4gKi9cbiAgICAgICAgY2FtUm9vdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgICAgICAvKiogTm9uLXZyIGNhbWVyYSBmb3IgdXNlIG91dHNpZGUgb2YgVlIgKi9cbiAgICAgICAgY2FtOiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXG4gICAgICAgIC8qKiBMZWZ0IGV5ZSBmb3IgdXNlIGluIFZSKi9cbiAgICAgICAgZXllTGVmdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgICAgICAvKiogUmlnaHQgZXllIGZvciB1c2UgaW4gVlIqL1xuICAgICAgICBleWVSaWdodDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgICAgICAvKiogSGFuZGVkbmVzcyBmb3IgVlIgY3Vyc29ycyB0byBhY2NlcHQgdHJpZ2dlciBldmVudHMgb25seSBmcm9tIHJlc3BlY3RpdmUgY29udHJvbGxlci4gKi9cbiAgICAgICAgaGFuZGVkbmVzczoge1xuICAgICAgICAgICAgdHlwZTogVHlwZS5FbnVtLFxuICAgICAgICAgICAgdmFsdWVzOiBbJ2lucHV0IGNvbXBvbmVudCcsICdsZWZ0JywgJ3JpZ2h0JywgJ25vbmUnXSxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbnB1dCBjb21wb25lbnQnLFxuICAgICAgICB9LFxuICAgICAgICAvKiogQ29sbGlzaW9uIGdyb3VwIG9mIHZhbGlkIFwiZmxvb3JcIiBvYmplY3RzIHRoYXQgY2FuIGJlIHRlbGVwb3J0ZWQgb24gKi9cbiAgICAgICAgZmxvb3JHcm91cDogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogMSB9LFxuICAgICAgICAvKiogSG93IGZhciB0aGUgdGh1bWJzdGljayBuZWVkcyB0byBiZSBwdXNoZWQgdG8gaGF2ZSB0aGUgdGVsZXBvcnQgdGFyZ2V0IGluZGljYXRvciBzaG93IHVwICovXG4gICAgICAgIHRodW1ic3RpY2tBY3RpdmF0aW9uVGhyZXNoaG9sZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAtMC43IH0sXG4gICAgICAgIC8qKiBIb3cgZmFyIHRoZSB0aHVtYnN0aWNrIG5lZWRzIHRvIGJlIHJlbGVhc2VkIHRvIGV4ZWN1dGUgdGhlIHRlbGVwb3J0ICovXG4gICAgICAgIHRodW1ic3RpY2tEZWFjdGl2YXRpb25UaHJlc2hob2xkOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuMyB9LFxuICAgICAgICAvKiogT2Zmc2V0IHRvIGFwcGx5IHRvIHRoZSBpbmRpY2F0b3Igb2JqZWN0LCBlLmcuIHRvIGF2b2lkIGl0IGZyb20gWi1maWdodGluZyB3aXRoIHRoZSBmbG9vciAqL1xuICAgICAgICBpbmRpY2F0b3JZT2Zmc2V0OiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuMDEgfSxcbiAgICAgICAgLyoqIE1vZGUgZm9yIHJheWNhc3RpbmcsIHdoZXRoZXIgdG8gdXNlIFBoeXNYIG9yIHNpbXBsZSBjb2xsaXNpb24gY29tcG9uZW50cyAqL1xuICAgICAgICByYXlDYXN0TW9kZToge1xuICAgICAgICAgICAgdHlwZTogVHlwZS5FbnVtLFxuICAgICAgICAgICAgdmFsdWVzOiBbJ2NvbGxpc2lvbicsICdwaHlzeCddLFxuICAgICAgICAgICAgZGVmYXVsdDogJ2NvbGxpc2lvbicsXG4gICAgICAgIH0sXG4gICAgICAgIC8qKiBNYXggZGlzdGFuY2UgZm9yIFBoeXNYIHJheWNhc3QgKi9cbiAgICAgICAgbWF4RGlzdGFuY2U6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMTAwLjAgfSxcbiAgICB9O1xuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuX3ByZXZUaHVtYnN0aWNrQXhpcyA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG4gICAgICAgIHRoaXMuX3RlbXBWZWMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICB0aGlzLl90ZW1wVmVjMCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbiA9IDA7XG4gICAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGlmICghdGhpcy5pbnB1dCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLm9iamVjdC5uYW1lLCAnZ2VuZXJpYy10ZWxlcG9ydC1jb21wb25lbnQuanM6IGlucHV0IGNvbXBvbmVudCBpcyByZXF1aXJlZCBvbiB0aGUgb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLm9iamVjdC5uYW1lLCAnZ2VuZXJpYy10ZWxlcG9ydC1jb21wb25lbnQuanM6IFRlbGVwb3J0IGluZGljYXRvciBtZXNoIGlzIG1pc3NpbmcnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY2FtUm9vdCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLm9iamVjdC5uYW1lLCAnZ2VuZXJpYy10ZWxlcG9ydC1jb21wb25lbnQuanM6IGNhbVJvb3Qgbm90IHNldCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNJbmRpY2F0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oaXRTcG90ID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgdGhpcy5faGFzSGl0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2V4dHJhUm90YXRpb24gPSAwO1xuICAgICAgICB0aGlzLl9jdXJyZW50U3RpY2tBeGVzID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbSkge1xuICAgICAgICAgICAgdGhpcy5pc01vdXNlSW5kaWNhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhbmRlZG5lc3MgPT0gMCkge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRDb21wID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgaWYgKCFpbnB1dENvbXApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3RlbGVwb3J0IGNvbXBvbmVudCBvbiBvYmplY3QnLCB0aGlzLm9iamVjdC5uYW1lLCAnd2FzIGNvbmZpZ3VyZWQgd2l0aCBoYW5kZWRuZXNzIFwiaW5wdXQgY29tcG9uZW50XCIsICcgK1xuICAgICAgICAgICAgICAgICAgICAnYnV0IG9iamVjdCBoYXMgbm8gaW5wdXQgY29tcG9uZW50LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kZWRuZXNzID0gaW5wdXRDb21wLmhhbmRlZG5lc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0Q29tcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IFsnbGVmdCcsICdyaWdodCddW3RoaXMuaGFuZGVkbmVzcyAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMuc2V0dXBWUkV2ZW50cy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gICAgb25BY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICB9XG4gICAgb25EZWFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgIH1cbiAgICAvKiBHZXQgY3VycmVudCBjYW1lcmEgWSByb3RhdGlvbiAqL1xuICAgIF9nZXRDYW1Sb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5leWVMZWZ0LmdldEZvcndhcmQodGhpcy5fdGVtcFZlYyk7XG4gICAgICAgIHRoaXMuX3RlbXBWZWNbMV0gPSAwO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0aGlzLl90ZW1wVmVjLCB0aGlzLl90ZW1wVmVjKTtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy5fdGVtcFZlY1swXSwgdGhpcy5fdGVtcFZlY1syXSk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgbGV0IGlucHV0TGVuZ3RoID0gMDtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZXBhZCAmJiB0aGlzLmdhbWVwYWQuYXhlcykge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFN0aWNrQXhlc1swXSA9IHRoaXMuZ2FtZXBhZC5heGVzWzJdO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFN0aWNrQXhlc1sxXSA9IHRoaXMuZ2FtZXBhZC5heGVzWzNdO1xuICAgICAgICAgICAgaW5wdXRMZW5ndGggPVxuICAgICAgICAgICAgICAgIE1hdGguYWJzKHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMF0pICsgTWF0aC5hYnModGhpcy5fY3VycmVudFN0aWNrQXhlc1sxXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzSW5kaWNhdGluZyAmJlxuICAgICAgICAgICAgdGhpcy5fcHJldlRodW1ic3RpY2tBeGlzWzFdID49IHRoaXMudGh1bWJzdGlja0FjdGl2YXRpb25UaHJlc2hob2xkICYmXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzFdIDwgdGhpcy50aHVtYnN0aWNrQWN0aXZhdGlvblRocmVzaGhvbGQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNJbmRpY2F0aW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmlzSW5kaWNhdGluZyAmJlxuICAgICAgICAgICAgaW5wdXRMZW5ndGggPCB0aGlzLnRodW1ic3RpY2tEZWFjdGl2YXRpb25UaHJlc2hob2xkKSB7XG4gICAgICAgICAgICB0aGlzLmlzSW5kaWNhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5faGFzSGl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGVsZXBvcnRQbGF5ZXIodGhpcy5oaXRTcG90LCB0aGlzLl9leHRyYVJvdGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0luZGljYXRpbmcgJiYgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QgJiYgdGhpcy5pbnB1dCkge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gdGhpcy5fdGVtcFZlYzA7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRQb3NpdGlvbldvcmxkKG9yaWdpbik7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLm9iamVjdC5nZXRGb3J3YXJkV29ybGQodGhpcy5fdGVtcFZlYyk7XG4gICAgICAgICAgICBsZXQgcmF5SGl0ID0gKHRoaXMucmF5SGl0ID1cbiAgICAgICAgICAgICAgICB0aGlzLnJheUNhc3RNb2RlID09IDBcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmVuZ2luZS5zY2VuZS5yYXlDYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCAxIDw8IHRoaXMuZmxvb3JHcm91cClcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmVuZ2luZS5waHlzaWNzLnJheUNhc3Qob3JpZ2luLCBkaXJlY3Rpb24sIDEgPDwgdGhpcy5mbG9vckdyb3VwLCB0aGlzLm1heERpc3RhbmNlKSk7XG4gICAgICAgICAgICBpZiAocmF5SGl0LmhpdENvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXh0cmFSb3RhdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIE1hdGguUEkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hdGFuMih0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzBdLCB0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzFdKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24gPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRDYW1Sb3RhdGlvbigpICsgKHRoaXMuX2V4dHJhUm90YXRpb24gLSBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5yb3RhdGVBeGlzQW5nbGVSYWQoWzAsIDEsIDBdLCB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnRyYW5zbGF0ZShyYXlIaXQubG9jYXRpb25zWzBdKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC50cmFuc2xhdGUoW1xuICAgICAgICAgICAgICAgICAgICAwLjAsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yWU9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgMC4wLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXRTcG90LnNldChyYXlIaXQubG9jYXRpb25zWzBdKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNIaXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmluZGljYXRvckhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNIaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdCAmJiB0aGlzLmlzTW91c2VJbmRpY2F0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VQcmVzc2VkKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJldlRodW1ic3RpY2tBeGlzLnNldCh0aGlzLl9jdXJyZW50U3RpY2tBeGVzKTtcbiAgICB9XG4gICAgc2V0dXBWUkV2ZW50cyhzKSB7XG4gICAgICAgIC8qIElmIGluIFZSLCBvbmUtdGltZSBiaW5kIHRoZSBsaXN0ZW5lciAqL1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzO1xuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8qIFJlc2V0IGNhY2hlIG9uY2UgdGhlIHNlc3Npb24gZW5kcyB0byByZWJpbmQgc2VsZWN0IGV0YywgaW4gY2FzZVxuICAgICAgICAgICAgICogaXQgc3RhcnRzIGFnYWluICovXG4gICAgICAgICAgICB0aGlzLmdhbWVwYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0gbnVsbDtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgaWYgKHMuaW5wdXRTb3VyY2VzICYmIHMuaW5wdXRTb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLmlucHV0U291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBpbnB1dFNvdXJjZSA9IHMuaW5wdXRTb3VyY2VzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09IHRoaXMuaGFuZGVkbmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVwYWQgPSBpbnB1dFNvdXJjZS5nYW1lcGFkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0c291cmNlc2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5hZGRlZCAmJiBlLmFkZGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZS5hZGRlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXRTb3VyY2UgPSBlLmFkZGVkW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSB0aGlzLmhhbmRlZG5lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZXBhZCA9IGlucHV0U291cmNlLmdhbWVwYWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIG9uTW91c2VEb3duKCkge1xuICAgICAgICB0aGlzLmlzTW91c2VJbmRpY2F0aW5nID0gdHJ1ZTtcbiAgICB9XG4gICAgb25Nb3VzZVVwKCkge1xuICAgICAgICB0aGlzLmlzTW91c2VJbmRpY2F0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5faGFzSGl0KSB7XG4gICAgICAgICAgICB0aGlzLl90ZWxlcG9ydFBsYXllcih0aGlzLmhpdFNwb3QsIDAuMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25Nb3VzZVByZXNzZWQoKSB7XG4gICAgICAgIGxldCBvcmlnaW4gPSBbMCwgMCwgMF07XG4gICAgICAgIHRoaXMuY2FtLmdldFBvc2l0aW9uV29ybGQob3JpZ2luKTtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5jYW0uZ2V0Rm9yd2FyZCh0aGlzLl90ZW1wVmVjKTtcbiAgICAgICAgbGV0IHJheUhpdCA9ICh0aGlzLnJheUhpdCA9XG4gICAgICAgICAgICB0aGlzLnJheUNhc3RNb2RlID09IDBcbiAgICAgICAgICAgICAgICA/IHRoaXMuZW5naW5lLnNjZW5lLnJheUNhc3Qob3JpZ2luLCBkaXJlY3Rpb24sIDEgPDwgdGhpcy5mbG9vckdyb3VwKVxuICAgICAgICAgICAgICAgIDogdGhpcy5lbmdpbmUucGh5c2ljcy5yYXlDYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCAxIDw8IHRoaXMuZmxvb3JHcm91cCwgdGhpcy5tYXhEaXN0YW5jZSkpO1xuICAgICAgICBpZiAocmF5SGl0LmhpdENvdW50ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGRpcmVjdGlvblsxXSA9IDA7XG4gICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShkaXJlY3Rpb24sIGRpcmVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24gPVxuICAgICAgICAgICAgICAgIC1NYXRoLnNpZ24oZGlyZWN0aW9uWzJdKSAqIE1hdGguYWNvcyhkaXJlY3Rpb25bMF0pIC0gTWF0aC5QSSAqIDAuNTtcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3Qucm90YXRlQXhpc0FuZ2xlUmFkKFswLCAxLCAwXSwgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnRyYW5zbGF0ZShyYXlIaXQubG9jYXRpb25zWzBdKTtcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmhpdFNwb3QgPSByYXlIaXQubG9jYXRpb25zWzBdO1xuICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pbmRpY2F0b3JIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9oYXNIaXQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfdGVsZXBvcnRQbGF5ZXIobmV3UG9zaXRpb24sIHJvdGF0aW9uVG9BZGQpIHtcbiAgICAgICAgdGhpcy5jYW1Sb290LnJvdGF0ZUF4aXNBbmdsZVJhZChbMCwgMSwgMF0sIHJvdGF0aW9uVG9BZGQpO1xuICAgICAgICBjb25zdCBwID0gdGhpcy5fdGVtcFZlYztcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLl90ZW1wVmVjMDtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbikge1xuICAgICAgICAgICAgdGhpcy5leWVMZWZ0LmdldFBvc2l0aW9uV29ybGQocCk7XG4gICAgICAgICAgICB0aGlzLmV5ZVJpZ2h0LmdldFBvc2l0aW9uV29ybGQocDEpO1xuICAgICAgICAgICAgdmVjMy5hZGQocCwgcCwgcDEpO1xuICAgICAgICAgICAgdmVjMy5zY2FsZShwLCBwLCAwLjUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYW0uZ2V0UG9zaXRpb25Xb3JsZChwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbVJvb3QuZ2V0UG9zaXRpb25Xb3JsZChwMSk7XG4gICAgICAgIHZlYzMuc3ViKHAsIHAxLCBwKTtcbiAgICAgICAgcFswXSArPSBuZXdQb3NpdGlvblswXTtcbiAgICAgICAgcFsxXSA9IG5ld1Bvc2l0aW9uWzFdO1xuICAgICAgICBwWzJdICs9IG5ld1Bvc2l0aW9uWzJdO1xuICAgICAgICB0aGlzLmNhbVJvb3Quc2V0UG9zaXRpb25Xb3JsZChwKTtcbiAgICB9XG59XG5leHBvcnQgeyBUZWxlcG9ydENvbXBvbmVudCB9O1xuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSwgTWVzaCwgTWVzaEluZGV4VHlwZSwgTWVzaEF0dHJpYnV0ZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgeyB2ZWMzIH0gZnJvbSAnZ2wtbWF0cml4JztcbmNvbnN0IGRpcmVjdGlvbiA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCBvZmZzZXQgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3Qgbm9ybWFsID0gdmVjMy5jcmVhdGUoKTtcbi8qKlxuICogRHluYW1pYyBtZXNoLWJhc2VkIHRyYWlsXG4gKlxuICogVGhpcyBjb21wb25lbnQga2VlcHMgdHJhY2sgb2YgdGhlIHdvcmxkIHBvc2l0aW9uIG9mIHRoZSBvYmplY3QgaXQncyBhZGRlZCB0by5cbiAqIEF0IGEgZml4ZWQgaW50ZXJ2YWwgdGhlIHdvcmxkIHBvc2l0aW9uIGlzIHN0b3JlZCBhcyBzdGFydCBhbmQgZW5kIHBvaW50cyBvZiB0aGUgdHJhaWwgc2VnbWVudHMuXG4gKlxuICogVGhlIHRyYWlsIHRhcGVycyBvZmYgYWxvbmcgaXRzIGxlbmd0aC4gVVYgdGV4dHVyZSBjb29yZGluYXRlcyBhcmUgc2V0dXAgc3VjaCB0aGF0IHRoZVxuICogVS1heGlzIGNvdmVycyB0aGUgd2lkdGggb2YgdGhlIHRyYWlsIGFuZCB0aGUgVi1heGlzIGNvdmVycyB0aGUgbGVuZ3RoIG9mIHRoZSB0cmFpbC5cbiAqIFRoaXMgYWxsb3dzIHRoZSB0cmFpbCdzIGFwcGVhcmFuY2UgdG8gYmUgZGVmaW5lZCB1c2luZyBhIHRleHR1cmUuXG4gKi9cbmNsYXNzIFRyYWlsIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndHJhaWwnO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICAvKiogVGhlIG1hdGVyaWFsIHRvIGFwcGx5IHRvIHRoZSB0cmFpbCBtZXNoICovXG4gICAgICAgIG1hdGVyaWFsOiB7IHR5cGU6IFR5cGUuTWF0ZXJpYWwgfSxcbiAgICAgICAgLyoqIFRoZSBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIHRyYWlsIG1lc2ggKi9cbiAgICAgICAgc2VnbWVudHM6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDUwIH0sXG4gICAgICAgIC8qKiBUaGUgdGltZSBpbnRlcnZhbCBiZWZvcmUgcmVjb3JkaW5nIGEgbmV3IHBvaW50ICovXG4gICAgICAgIGludGVydmFsOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuMSB9LFxuICAgICAgICAvKiogVGhlIHdpZHRoIG9mIHRoZSB0cmFpbCAoaW4gd29ybGQgc3BhY2UpICovXG4gICAgICAgIHdpZHRoOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDEuMCB9LFxuICAgICAgICAvKiogV2hldGhlciBvciBub3QgdGhlIHRyYWlsIHNob3VsZCB0YXBlciBvZmYgKi9cbiAgICAgICAgdGFwZXI6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBkZWx0YSB0aW1lIGluIHNlY29uZHMsIGFib3ZlIHdoaWNoIHRoZSB0cmFpbCByZXNldHMuXG4gICAgICAgICAqIFRoaXMgcHJldmVudHMgdGhlIHRyYWlsIGZyb20ganVtcGluZyBhcm91bmQgd2hlbiB1cGRhdGVzIGhhcHBlblxuICAgICAgICAgKiBpbmZyZXF1ZW50bHkgKGUuZy4gd2hlbiB0aGUgdGFiIGRvZXNuJ3QgaGF2ZSBmb2N1cykuXG4gICAgICAgICAqL1xuICAgICAgICByZXNldFRocmVzaG9sZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjUgfSxcbiAgICB9O1xuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMucG9pbnRzID0gbmV3IEFycmF5KHRoaXMuc2VnbWVudHMgKyAxKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5wb2ludHNbaV0gPSB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8qIFRoZSBwb2ludHMgYXJyYXkgaXMgY2lyY3VsYXIsIHNvIGtlZXAgdHJhY2sgb2YgaXRzIGhlYWQgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50UG9pbnRPZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLnVwID0gWzAsIDEsIDBdO1xuICAgICAgICB0aGlzLnRpbWVUaWxsTmV4dCA9IHRoaXMuaW50ZXJ2YWw7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnRyYWlsQ29udGFpbmVyID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KCk7XG4gICAgICAgIHRoaXMubWVzaENvbXAgPSB0aGlzLnRyYWlsQ29udGFpbmVyLmFkZENvbXBvbmVudCgnbWVzaCcpO1xuICAgICAgICB0aGlzLm1lc2hDb21wLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbDtcbiAgICAgICAgLyogRWFjaCBwb2ludCB3aWxsIGhhdmUgdHdvIHZlcnRpY2VzOyBvbmUgb24gZWl0aGVyIHNpZGUgKi9cbiAgICAgICAgY29uc3QgdmVydGV4Q291bnQgPSAyICogdGhpcy5wb2ludHMubGVuZ3RoO1xuICAgICAgICAvKiBFYWNoIHNlZ21lbnQgY29uc2lzdHMgb2YgdHdvIHRyaWFuZ2xlcyAqL1xuICAgICAgICB0aGlzLmluZGV4RGF0YSA9IG5ldyBVaW50MzJBcnJheSg2ICogdGhpcy5zZWdtZW50cyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCB2ID0gMDsgaSA8IHZlcnRleENvdW50IC0gMjsgaSArPSAyLCB2ICs9IDYpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhEYXRhXG4gICAgICAgICAgICAgICAgLnN1YmFycmF5KHYsIHYgKyA2KVxuICAgICAgICAgICAgICAgIC5zZXQoW2kgKyAxLCBpICsgMCwgaSArIDIsIGkgKyAyLCBpICsgMywgaSArIDFdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lc2ggPSBuZXcgTWVzaCh0aGlzLmVuZ2luZSwge1xuICAgICAgICAgICAgdmVydGV4Q291bnQ6IHZlcnRleENvdW50LFxuICAgICAgICAgICAgaW5kZXhEYXRhOiB0aGlzLmluZGV4RGF0YSxcbiAgICAgICAgICAgIGluZGV4VHlwZTogTWVzaEluZGV4VHlwZS5VbnNpZ25lZEludCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWVzaENvbXAubWVzaCA9IHRoaXMubWVzaDtcbiAgICB9XG4gICAgdXBkYXRlVmVydGljZXMoKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IHRoaXMubWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5Qb3NpdGlvbik7XG4gICAgICAgIGNvbnN0IHRleENvb3JkcyA9IHRoaXMubWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5UZXh0dXJlQ29vcmRpbmF0ZSk7XG4gICAgICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLm1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuTm9ybWFsKTtcbiAgICAgICAgdmVjMy5zZXQoZGlyZWN0aW9uLCAwLCAwLCAwKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgY3VyciA9IHRoaXMucG9pbnRzWyh0aGlzLmN1cnJlbnRQb2ludEluZGV4ICsgaSArIDEpICUgdGhpcy5wb2ludHMubGVuZ3RoXTtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLnBvaW50c1sodGhpcy5jdXJyZW50UG9pbnRJbmRleCArIGkgKyAyKSAlIHRoaXMucG9pbnRzLmxlbmd0aF07XG4gICAgICAgICAgICAvKiBUaGUgbGFzdCBwb2ludCBoYXMgbm8gbmV4dCwgc28gcmUtdXNlIHRoZSBkaXJlY3Rpb24gb2YgdGhlIHByZXZpb3VzIHNlZ21lbnQgKi9cbiAgICAgICAgICAgIGlmIChpICE9PSB0aGlzLnBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdmVjMy5zdWIoZGlyZWN0aW9uLCBuZXh0LCBjdXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZlYzMuY3Jvc3Mob2Zmc2V0LCB0aGlzLnVwLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUob2Zmc2V0LCBvZmZzZXQpO1xuICAgICAgICAgICAgY29uc3QgdGltZUZyYWN0aW9uID0gMS4wIC0gdGhpcy50aW1lVGlsbE5leHQgLyB0aGlzLmludGVydmFsO1xuICAgICAgICAgICAgY29uc3QgZnJhY3Rpb24gPSAoaSAtIHRpbWVGcmFjdGlvbikgLyB0aGlzLnNlZ21lbnRzO1xuICAgICAgICAgICAgdmVjMy5zY2FsZShvZmZzZXQsIG9mZnNldCwgKCh0aGlzLnRhcGVyID8gZnJhY3Rpb24gOiAxLjApICogdGhpcy53aWR0aCkgLyAyLjApO1xuICAgICAgICAgICAgcG9zaXRpb25zLnNldChpICogMiwgW1xuICAgICAgICAgICAgICAgIGN1cnJbMF0gLSBvZmZzZXRbMF0sXG4gICAgICAgICAgICAgICAgY3VyclsxXSAtIG9mZnNldFsxXSxcbiAgICAgICAgICAgICAgICBjdXJyWzJdIC0gb2Zmc2V0WzJdLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBwb3NpdGlvbnMuc2V0KGkgKiAyICsgMSwgW1xuICAgICAgICAgICAgICAgIGN1cnJbMF0gKyBvZmZzZXRbMF0sXG4gICAgICAgICAgICAgICAgY3VyclsxXSArIG9mZnNldFsxXSxcbiAgICAgICAgICAgICAgICBjdXJyWzJdICsgb2Zmc2V0WzJdLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBpZiAobm9ybWFscykge1xuICAgICAgICAgICAgICAgIHZlYzMuY3Jvc3Mobm9ybWFsLCBkaXJlY3Rpb24sIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUobm9ybWFsLCBub3JtYWwpO1xuICAgICAgICAgICAgICAgIG5vcm1hbHMuc2V0KGkgKiAyLCBub3JtYWwpO1xuICAgICAgICAgICAgICAgIG5vcm1hbHMuc2V0KGkgKiAyICsgMSwgbm9ybWFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0ZXhDb29yZHMpIHtcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHMuc2V0KGkgKiAyLCBbMCwgZnJhY3Rpb25dKTtcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHMuc2V0KGkgKiAyICsgMSwgWzEsIGZyYWN0aW9uXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogTm90aWZ5IFdMRSB0aGF0IHRoZSBtZXNoIGhhcyBjaGFuZ2VkICovXG4gICAgICAgIHRoaXMubWVzaC51cGRhdGUoKTtcbiAgICB9XG4gICAgcmVzZXRUcmFpbCgpIHtcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLnBvaW50c1swXSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZlYzMuY29weSh0aGlzLnBvaW50c1tpXSwgdGhpcy5wb2ludHNbMF0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFBvaW50SW5kZXggPSAwO1xuICAgICAgICB0aGlzLnRpbWVUaWxsTmV4dCA9IHRoaXMuaW50ZXJ2YWw7XG4gICAgfVxuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICB0aGlzLnRpbWVUaWxsTmV4dCAtPSBkdDtcbiAgICAgICAgaWYgKGR0ID4gdGhpcy5yZXNldFRocmVzaG9sZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNldFRyYWlsKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGltZVRpbGxOZXh0IDwgMCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9pbnRJbmRleCA9ICh0aGlzLmN1cnJlbnRQb2ludEluZGV4ICsgMSkgJSB0aGlzLnBvaW50cy5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLnRpbWVUaWxsTmV4dCA9ICh0aGlzLnRpbWVUaWxsTmV4dCAlIHRoaXMuaW50ZXJ2YWwpICsgdGhpcy5pbnRlcnZhbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMucG9pbnRzW3RoaXMuY3VycmVudFBvaW50SW5kZXhdKTtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNlcygpO1xuICAgIH1cbiAgICBvbkFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLnJlc2V0VHJhaWwoKTtcbiAgICB9XG4gICAgb25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnRyYWlsQ29udGFpbmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tZXNoLmRlc3Ryb3koKTtcbiAgICB9XG59XG5leHBvcnQgeyBUcmFpbCB9O1xuIiwgImltcG9ydCB7IENvbXBvbmVudCwgUHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgdmVjMyB9IGZyb20gJ2dsLW1hdHJpeCc7XG5mdW5jdGlvbiBjbGFtcCh2LCBhLCBiKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KGEsIE1hdGgubWluKHYsIGIpKTtcbn1cbmNvbnN0IHJvb3RTY2FsaW5nID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbmNvbnN0IHRlbXBRdWF0ID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbmNvbnN0IG1pZGRsZVBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5jb25zdCBlbmRQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuY29uc3QgdGFyZ2V0UG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbmNvbnN0IGhlbHBlclBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5jb25zdCByb290VHJhbnNmb3JtID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbmNvbnN0IG1pZGRsZVRyYW5zZm9ybSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG5jb25zdCBlbmRUcmFuc2Zvcm0gPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuLyoqXG4gKiBTb2x2ZSBpbnZlcnNlIGtpbmVtYXRpY3MgZm9yIGEgdHdvIGpvaW50IGNoYWluc1xuICpcbiAqIEluc3BpcmVkIGJ5IGh0dHA6Ly90aGVvcmFuZ2VkdWNrLmNvbS9wYWdlL3NpbXBsZS10d28tam9pbnRcbiAqL1xuY29uc3QgdHdvSm9pbnRJSyA9IChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdGEgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIGNvbnN0IGNhID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBjb25zdCBiYSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgY29uc3QgYWIgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIGNvbnN0IGNiID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBjb25zdCBheGlzMCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgY29uc3QgYXhpczEgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIGNvbnN0IHRlbXAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIHJldHVybiBmdW5jdGlvbiAocm9vdCwgbWlkZGxlLCBiLCBjLCB0YXJnZXRQb3MsIGVwcywgaGVscGVyKSB7XG4gICAgICAgIC8qIGEgPSBbMCwgMCwgMF0sIHNpbmNlIGV2ZXJ5dGhpbmcgaXMgY29tcHV0ZWQgaW4gcm9vdC1zcGFjZSAqL1xuICAgICAgICBiYS5zZXQoYik7XG4gICAgICAgIGNvbnN0IGxhYiA9IHZlYzMubGVuZ3RoKGJhKTtcbiAgICAgICAgdmVjMy5zdWIodGEsIGIsIGMpO1xuICAgICAgICBjb25zdCBsY2IgPSB2ZWMzLmxlbmd0aCh0YSk7XG4gICAgICAgIHRhLnNldCh0YXJnZXRQb3MpO1xuICAgICAgICBjb25zdCBsYXQgPSBjbGFtcCh2ZWMzLmxlbmd0aCh0YSksIGVwcywgbGFiICsgbGNiIC0gZXBzKTtcbiAgICAgICAgY2Euc2V0KGMpO1xuICAgICAgICB2ZWMzLnNjYWxlKGFiLCBiLCAtMSk7XG4gICAgICAgIHZlYzMuc3ViKGNiLCBjLCBiKTtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoY2EsIGNhKTtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoYmEsIGJhKTtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoYWIsIGFiKTtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoY2IsIGNiKTtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUodGEsIHRhKTtcbiAgICAgICAgLyogU3VwcG9zZWRseSBudW1lcmljYWwgZXJyb3JzIGNhbiBjYXVzZSB0aGUgZG90IHRvIGdvIG91dCBvZiAtMSwgMSByYW5nZSAqL1xuICAgICAgICBjb25zdCBhY19hYl8wID0gTWF0aC5hY29zKGNsYW1wKHZlYzMuZG90KGNhLCBiYSksIC0xLCAxKSk7XG4gICAgICAgIGNvbnN0IGJhX2JjXzAgPSBNYXRoLmFjb3MoY2xhbXAodmVjMy5kb3QoYWIsIGNiKSwgLTEsIDEpKTtcbiAgICAgICAgY29uc3QgYWNfYXRfMCA9IE1hdGguYWNvcyhjbGFtcCh2ZWMzLmRvdChjYSwgdGEpLCAtMSwgMSkpO1xuICAgICAgICBjb25zdCBhY19hYl8xID0gTWF0aC5hY29zKGNsYW1wKChsY2IgKiBsY2IgLSBsYWIgKiBsYWIgLSBsYXQgKiBsYXQpIC8gKC0yICogbGFiICogbGF0KSwgLTEsIDEpKTtcbiAgICAgICAgY29uc3QgYmFfYmNfMSA9IE1hdGguYWNvcyhjbGFtcCgobGF0ICogbGF0IC0gbGFiICogbGFiIC0gbGNiICogbGNiKSAvICgtMiAqIGxhYiAqIGxjYiksIC0xLCAxKSk7XG4gICAgICAgIGlmIChoZWxwZXIpIHtcbiAgICAgICAgICAgIHZlYzMuc3ViKGJhLCBoZWxwZXIsIGIpO1xuICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUoYmEsIGJhKTtcbiAgICAgICAgfVxuICAgICAgICB2ZWMzLmNyb3NzKGF4aXMwLCBjYSwgYmEpO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShheGlzMCwgYXhpczApO1xuICAgICAgICB2ZWMzLmNyb3NzKGF4aXMxLCBjLCB0YXJnZXRQb3MpO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShheGlzMSwgYXhpczEpO1xuICAgICAgICBtaWRkbGUudHJhbnNmb3JtVmVjdG9ySW52ZXJzZUxvY2FsKHRlbXAsIGF4aXMwKTtcbiAgICAgICAgcm9vdC5yb3RhdGVBeGlzQW5nbGVSYWRPYmplY3QoYXhpczEsIGFjX2F0XzApO1xuICAgICAgICByb290LnJvdGF0ZUF4aXNBbmdsZVJhZE9iamVjdChheGlzMCwgYWNfYWJfMSAtIGFjX2FiXzApO1xuICAgICAgICBtaWRkbGUucm90YXRlQXhpc0FuZ2xlUmFkT2JqZWN0KGF4aXMwLCBiYV9iY18xIC0gYmFfYmNfMCk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEludmVyc2Uga2luZW1hdGljcyBmb3IgdHdvLWpvaW50IGNoYWlucyAoZS5nLiBrbmVlcyBvciBlbGJvd3MpXG4gKi9cbmNsYXNzIFR3b0pvaW50SWtTb2x2ZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0d28tam9pbnQtaWstc29sdmVyJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIFJvb3QgYm9uZSwgbmV2ZXIgbW92ZXMgKi9cbiAgICAgICAgcm9vdDogUHJvcGVydHkub2JqZWN0KCksXG4gICAgICAgIC8qKiBCb25lIGF0dGFjaGVkIHRvIHRoZSByb290ICovXG4gICAgICAgIG1pZGRsZTogUHJvcGVydHkub2JqZWN0KCksXG4gICAgICAgIC8qKiBCb25lIGF0dGFjaGVkIHRvIHRoZSBtaWRkbGUgKi9cbiAgICAgICAgZW5kOiBQcm9wZXJ0eS5vYmplY3QoKSxcbiAgICAgICAgLyoqIFRhcmdldCB0aGUgam9pbnMgc2hvdWxkIHJlYWNoIGZvciAqL1xuICAgICAgICB0YXJnZXQ6IFByb3BlcnR5Lm9iamVjdCgpLFxuICAgICAgICAvKiogRmxhZyBmb3IgY29weWluZyByb3RhdGlvbiBmcm9tIHRhcmdldCB0byBlbmQgKi9cbiAgICAgICAgY29weVRhcmdldFJvdGF0aW9uOiBQcm9wZXJ0eS5ib29sKHRydWUpLFxuICAgICAgICAvKiogSGVscGVyIG9iamVjdCB0byB1c2UgdG8gZGV0ZXJtaW5lIGpvaW50IHJvdGF0aW9uIGF4aXMgKi9cbiAgICAgICAgaGVscGVyOiBQcm9wZXJ0eS5vYmplY3QoKSxcbiAgICB9O1xuICAgIHRpbWUgPSAwO1xuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnJvb3QuZ2V0VHJhbnNmb3JtTG9jYWwocm9vdFRyYW5zZm9ybSk7XG4gICAgICAgIHRoaXMubWlkZGxlLmdldFRyYW5zZm9ybUxvY2FsKG1pZGRsZVRyYW5zZm9ybSk7XG4gICAgICAgIHRoaXMuZW5kLmdldFRyYW5zZm9ybUxvY2FsKGVuZFRyYW5zZm9ybSk7XG4gICAgfVxuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICB0aGlzLnRpbWUgKz0gZHQ7XG4gICAgICAgIC8qIFJlc2V0IHRvIG9yaWdpbmFsIHBvc2UgZm9yIHN0YWJpbGl0eSAqL1xuICAgICAgICB0aGlzLnJvb3Quc2V0VHJhbnNmb3JtTG9jYWwocm9vdFRyYW5zZm9ybSk7XG4gICAgICAgIHRoaXMubWlkZGxlLnNldFRyYW5zZm9ybUxvY2FsKG1pZGRsZVRyYW5zZm9ybSk7XG4gICAgICAgIHRoaXMuZW5kLnNldFRyYW5zZm9ybUxvY2FsKGVuZFRyYW5zZm9ybSk7XG4gICAgICAgIHRoaXMucm9vdC5nZXRTY2FsaW5nV29ybGQocm9vdFNjYWxpbmcpO1xuICAgICAgICAvKiBHZXQgam9pbnQgcG9zaXRpb25zIGluIHJvb3Qtc3BhY2UgKi9cbiAgICAgICAgdGhpcy5taWRkbGUuZ2V0UG9zaXRpb25Mb2NhbChtaWRkbGVQb3MpO1xuICAgICAgICB0aGlzLmVuZC5nZXRQb3NpdGlvbkxvY2FsKGVuZFBvcyk7XG4gICAgICAgIHRoaXMubWlkZGxlLnRyYW5zZm9ybVBvaW50TG9jYWwoZW5kUG9zLCBlbmRQb3MpO1xuICAgICAgICBpZiAodGhpcy5oZWxwZXIpIHtcbiAgICAgICAgICAgIC8qIEdldCBoZWxwZXIgcG9zaXRpb24gaW4gcm9vdCBzcGFjZSAqL1xuICAgICAgICAgICAgdGhpcy5oZWxwZXIuZ2V0UG9zaXRpb25Xb3JsZChoZWxwZXJQb3MpO1xuICAgICAgICAgICAgdGhpcy5yb290LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKGhlbHBlclBvcywgaGVscGVyUG9zKTtcbiAgICAgICAgICAgIHZlYzMuZGl2KGhlbHBlclBvcywgaGVscGVyUG9zLCByb290U2NhbGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgLyogR2V0IHRhcmdldCBwb3NpdGlvbiBpbiByb290IHNwYWNlICovXG4gICAgICAgIHRoaXMudGFyZ2V0LmdldFBvc2l0aW9uV29ybGQodGFyZ2V0UG9zKTtcbiAgICAgICAgdGhpcy5yb290LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKHRhcmdldFBvcywgdGFyZ2V0UG9zKTtcbiAgICAgICAgdmVjMy5kaXYodGFyZ2V0UG9zLCB0YXJnZXRQb3MsIHJvb3RTY2FsaW5nKTtcbiAgICAgICAgdHdvSm9pbnRJSyh0aGlzLnJvb3QsIHRoaXMubWlkZGxlLCBtaWRkbGVQb3MsIGVuZFBvcywgdGFyZ2V0UG9zLCAwLjAxLCB0aGlzLmhlbHBlciA/IGhlbHBlclBvcyA6IG51bGwsIHRoaXMudGltZSk7XG4gICAgICAgIGlmICh0aGlzLmNvcHlUYXJnZXRSb3RhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5lbmQuc2V0Um90YXRpb25Xb3JsZCh0aGlzLnRhcmdldC5nZXRSb3RhdGlvbldvcmxkKHRlbXBRdWF0KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgeyBUd29Kb2ludElrU29sdmVyIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUZXh0dXJlLCBQcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgeyBzZXRGaXJzdE1hdGVyaWFsVGV4dHVyZSB9IGZyb20gJy4vdXRpbHMvdXRpbHMuanMnO1xuLyoqXG4gKiBEb3dubG9hZHMgYSB2aWRlbyBmcm9tIFVSTCBhbmQgYXBwbGllcyBpdCBhcyBgZGlmZnVzZVRleHR1cmVgIG9yIGBmbGF0VGV4dHVyZWBcbiAqIG9uIGdpdmVuIG1hdGVyaWFsLlxuICpcbiAqIFZpZGVvIHRleHR1cmVzIG5lZWQgdG8gYmUgdXBkYXRlZCByZWd1bGFybHkgd2hlbmV2ZXJcbiAqIGEgbmV3IGZyYW1lIGlzIGF2YWlsYWJsZS4gVGhpcyBjb21wb25lbnQgaGFuZGxlcyB0aGVcbiAqIGRldGVjdGlvbiBvZiBhIG5ldyBmcmFtZSBhbmQgdXBkYXRlcyB0aGUgdGV4dHVyZSB0b1xuICogcmVmbGVjdCB0aGUgdmlkZW8ncyBjdXJyZW50IGZyYW1lLlxuICpcbiAqIE1hdGVyaWFscyBmcm9tIHRoZSBmb2xsb3dpbmcgc2hhZGVycyBhcmUgc3VwcG9ydGVkOlxuICogIC0gXCJQaG9uZyBPcGFxdWUgVGV4dHVyZWRcIlxuICogIC0gXCJGbGF0IE9wYXF1ZSBUZXh0dXJlZFwiXG4gKiAgLSBcIkJhY2tncm91bmRcIlxuICogIC0gXCJQaHlzaWNhbCBPcGFxdWUgVGV4dHVyZWRcIlxuICogIC0gXCJGb2xpYWdlXCJcbiAqXG4gKiBUaGUgdmlkZW8gY2FuIGJlIGFjY2Vzc2VkIHRocm91Z2ggYHRoaXMudmlkZW9gOlxuICpcbiAqIGBgYGpzXG4gKiAgIGxldCB2aWRlb1RleHR1cmUgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ3ZpZGVvLXRleHR1cmUnKTtcbiAqICAgdmlkZW9UZXh0dXJlLnZpZGVvLnBsYXkoKTtcbiAqICAgdmlkZW9UZXh0dXJlLnZpZGVvLnBhdXNlKCk7XG4gKiBgYGBcbiAqXG4gKiBTZWUgW1ZpZGVvIEV4YW1wbGVdKC9zaG93Y2FzZS92aWRlbykuXG4gKi9cbmNsYXNzIFZpZGVvVGV4dHVyZSBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3ZpZGVvLXRleHR1cmUnO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICAvKiogVVJMIHRvIGRvd25sb2FkIHZpZGVvIGZyb20gKi9cbiAgICAgICAgdXJsOiBQcm9wZXJ0eS5zdHJpbmcoKSxcbiAgICAgICAgLyoqIE1hdGVyaWFsIHRvIGFwcGx5IHRoZSB2aWRlbyB0ZXh0dXJlIHRvICovXG4gICAgICAgIG1hdGVyaWFsOiBQcm9wZXJ0eS5tYXRlcmlhbCgpLFxuICAgICAgICAvKiogV2hldGhlciB0byBsb29wIHRoZSB2aWRlbyAqL1xuICAgICAgICBsb29wOiBQcm9wZXJ0eS5ib29sKHRydWUpLFxuICAgICAgICAvKiogV2hldGhlciB0byBhdXRvbWF0aWNhbGx5IHN0YXJ0IHBsYXlpbmcgdGhlIHZpZGVvICovXG4gICAgICAgIGF1dG9wbGF5OiBQcm9wZXJ0eS5ib29sKHRydWUpLFxuICAgICAgICAvKiogV2hldGhlciB0byBtdXRlIHNvdW5kICovXG4gICAgICAgIG11dGVkOiBQcm9wZXJ0eS5ib29sKHRydWUpLFxuICAgICAgICAvKiogTmFtZSBvZiB0aGUgdGV4dHVyZSBwcm9wZXJ0eSB0byBzZXQgKi9cbiAgICAgICAgdGV4dHVyZVByb3BlcnR5OiBQcm9wZXJ0eS5zdHJpbmcoJ2F1dG8nKSxcbiAgICB9O1xuICAgIGluaXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5tYXRlcmlhbCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ3ZpZGVvLXRleHR1cmU6IG1hdGVyaWFsIHByb3BlcnR5IG5vdCBzZXQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMudmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICB0aGlzLnZpZGVvLnNyYyA9IHRoaXMudXJsO1xuICAgICAgICB0aGlzLnZpZGVvLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gICAgICAgIHRoaXMudmlkZW8ucGxheXNJbmxpbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpZGVvLmxvb3AgPSB0aGlzLmxvb3A7XG4gICAgICAgIHRoaXMudmlkZW8ubXV0ZWQgPSB0aGlzLm11dGVkO1xuICAgICAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5hdXRvcGxheSkge1xuICAgICAgICAgICAgY29uc3QgcGxheUFmdGVyVXNlckdlc3R1cmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGxheUFmdGVyVXNlckdlc3R1cmUpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgcGxheUFmdGVyVXNlckdlc3R1cmUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlBZnRlclVzZXJHZXN0dXJlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgcGxheUFmdGVyVXNlckdlc3R1cmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFwcGx5VGV4dHVyZSgpIHtcbiAgICAgICAgY29uc3QgbWF0ID0gdGhpcy5tYXRlcmlhbDtcbiAgICAgICAgY29uc3Qgc2hhZGVyID0gbWF0LnNoYWRlcjtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9ICh0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZSh0aGlzLmVuZ2luZSwgdGhpcy52aWRlbykpO1xuICAgICAgICBpZiAoIXNldEZpcnN0TWF0ZXJpYWxUZXh0dXJlKG1hdCwgdGV4dHVyZSwgdGhpcy50ZXh0dXJlUHJvcGVydHkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTaGFkZXInLCBzaGFkZXIsICdub3Qgc3VwcG9ydGVkIGJ5IHZpZGVvLXRleHR1cmUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ3JlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2snIGluIHRoaXMudmlkZW8pIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW8ucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayh0aGlzLnVwZGF0ZVZpZGVvLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVVcGRhdGVSZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlKGR0KSB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRlZCAmJiB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyogQXBwbHkgdGV4dHVyZSBvbiBmaXJzdCBmcmFtZSB1cGRhdGUgcmVxdWVzdCAqL1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlUZXh0dXJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlVmlkZW8oKSB7XG4gICAgICAgIHRoaXMuZnJhbWVVcGRhdGVSZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpZGVvLnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2sodGhpcy51cGRhdGVWaWRlby5iaW5kKHRoaXMpKTtcbiAgICB9XG59XG5leHBvcnQgeyBWaWRlb1RleHR1cmUgfTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuLyoqXG4gKiBBbGxvd3Mgc3dpdGNoaW5nIGFsbCBvdGhlciBjb21wb25lbnRzIG9uIGFuIG9iamVjdCB0byBhY3RpdmUvaW5hY3RpdmVcbiAqIGRlcGVuZGluZyBvbiB3aGV0aGVyIGEgVlIvQVIgc2Vzc2lvbiBpcyBhY3RpdmUuXG4gKlxuICogVXNlZnVsIGZvciBoaWRpbmcgY29udHJvbGxlcnMgdW50aWwgdGhlIHVzZXIgZW50ZXJzIFZSIGZvciBleGFtcGxlLlxuICovXG5jbGFzcyBWck1vZGVBY3RpdmVTd2l0Y2ggZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd2ci1tb2RlLWFjdGl2ZS1zd2l0Y2gnO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICAvKiogV2hlbiBjb21wb25lbnRzIHNob3VsZCBiZSBhY3RpdmU6IEluIFZSIG9yIHdoZW4gbm90IGluIFZSICovXG4gICAgICAgIGFjdGl2YXRlQ29tcG9uZW50czoge1xuICAgICAgICAgICAgdHlwZTogVHlwZS5FbnVtLFxuICAgICAgICAgICAgdmFsdWVzOiBbJ2luIFZSJywgJ2luIG5vbi1WUiddLFxuICAgICAgICAgICAgZGVmYXVsdDogJ2luIFZSJyxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqIFdoZXRoZXIgY2hpbGQgb2JqZWN0J3MgY29tcG9uZW50cyBzaG91bGQgYmUgYWZmZWN0ZWQgKi9cbiAgICAgICAgYWZmZWN0Q2hpbGRyZW46IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgfTtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW107XG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50cyh0aGlzLm9iamVjdCk7XG4gICAgICAgIC8qIEluaXRpYWwgYWN0aXZhdGlvbi9kZWFjdGl2YXRpb24gKi9cbiAgICAgICAgdGhpcy5vblhSU2Vzc2lvbkVuZCgpO1xuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uU3RhcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayA9IHRoaXMub25YUlNlc3Npb25FbmQuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgb25BY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQuYWRkKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xuICAgIH1cbiAgICBvbkRlYWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLnJlbW92ZSh0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrKTtcbiAgICB9XG4gICAgZ2V0Q29tcG9uZW50cyhvYmopIHtcbiAgICAgICAgY29uc3QgY29tcHMgPSBvYmouZ2V0Q29tcG9uZW50cygpLmZpbHRlcigoYykgPT4gYy50eXBlICE9PSAndnItbW9kZS1hY3RpdmUtc3dpdGNoJyk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IHRoaXMuY29tcG9uZW50cy5jb25jYXQoY29tcHMpO1xuICAgICAgICBpZiAodGhpcy5hZmZlY3RDaGlsZHJlbikge1xuICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gb2JqLmNoaWxkcmVuO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50cyhjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0Q29tcG9uZW50c0FjdGl2ZShhY3RpdmUpIHtcbiAgICAgICAgY29uc3QgY29tcHMgPSB0aGlzLmNvbXBvbmVudHM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbXBzW2ldLmFjdGl2ZSA9IGFjdGl2ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblhSU2Vzc2lvblN0YXJ0KCkge1xuICAgICAgICB0aGlzLnNldENvbXBvbmVudHNBY3RpdmUodGhpcy5hY3RpdmF0ZUNvbXBvbmVudHMgPT0gMCk7XG4gICAgfVxuICAgIG9uWFJTZXNzaW9uRW5kKCkge1xuICAgICAgICB0aGlzLnNldENvbXBvbmVudHNBY3RpdmUodGhpcy5hY3RpdmF0ZUNvbXBvbmVudHMgIT0gMCk7XG4gICAgfVxufVxuZXhwb3J0IHsgVnJNb2RlQWN0aXZlU3dpdGNoIH07XG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgQ29sbGlkZXIsIENvbGxpc2lvbkNvbXBvbmVudCwgQ29tcG9uZW50LCBFbWl0dGVyLCBNZXNoLCBNZXNoQXR0cmlidXRlLCBNZXNoQ29tcG9uZW50LCBNZXNoSW5kZXhUeXBlLCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCB9IGZyb20gJy4vdXRpbHMvd2VieHIuanMnO1xuLy8gRklYTUU6IGVhcmN1dCBvdmVycmlkZXMgZGVmYXVsdCBleHBvcnQsIGJyZWFraW5nIG91ciB0ZXN0c1xuaW1wb3J0IGVhcmN1dCBmcm9tICdlYXJjdXQnO1xuY29uc3QgdGVtcFZlYzMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuLyoqIENvbXB1dGUgbWluaW11bSBhbmQgbWF4aXVtIGV4dGVudHMgb2YgZ2l2ZW4gbGlzdCBvZiBjb250b3VyIHBvaW50cyAqL1xuZnVuY3Rpb24gZXh0ZW50c0Zyb21Db250b3VyKG91dCwgcG9pbnRzKSB7XG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT0gMClcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICBsZXQgYWJzTWF4WCA9IE1hdGguYWJzKHBvaW50c1swXS54KTtcbiAgICBsZXQgYWJzTWF4WiA9IE1hdGguYWJzKHBvaW50c1swXS56KTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBvaW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBhYnNNYXhYID0gTWF0aC5tYXgoYWJzTWF4WCwgTWF0aC5hYnMocG9pbnRzW2ldLngpKTtcbiAgICAgICAgYWJzTWF4WiA9IE1hdGgubWF4KGFic01heFosIE1hdGguYWJzKHBvaW50c1tpXS56KSk7XG4gICAgfVxuICAgIG91dFswXSA9IGFic01heFg7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSBhYnNNYXhaO1xufVxuLyoqIENoZWNrIHdoZXRoZXIgeCBsaWVzIGJldHdlZW4gYSBhbmQgYiAqL1xuZnVuY3Rpb24gd2l0aGluKHgsIGEsIGIpIHtcbiAgICBpZiAoYSA+IGIpXG4gICAgICAgIHJldHVybiB4IDwgYSAmJiB4ID4gYjtcbiAgICByZXR1cm4geCA+IGEgJiYgeCA8IGI7XG59XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgZ2l2ZW4gcG9pbnQgb24gcGxhbmUncyBib3VuZGluZyBib3ggaXMgaW5zaWRlIHBsYW5lJ3MgcG9seWdvblxuICpcbiAqIEBwYXJhbSBwIDNEIHBvaW50IGluIHBsYW5lJ3MgbG9jYWwgc3BhY2UsIFkgdmFsdWUgaXMgaWdub3JlZCwgc2luY2UgaXQgaXMgYXNzdW1lZFxuICogICAgIHRoYXQgdGhlIHBvaW50IHdhcyBjaGVja2VkIGFnYWluc3QgdGhlIHBsYW5lJ3MgYm91bmRpbmcgYm94LlxuICogQHBhcmFtIHBsYW5lIFhSUGxhbmUgdGhhdCBoYXMgYFhSUGxhbmUucG9seWdvbmBcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgcG9pbnQgbGllcyBvbiB0aGUgcGxhbmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUG9pbnRMb2NhbE9uWFJQbGFuZVBvbHlnb24ocCwgcGxhbmUpIHtcbiAgICBjb25zdCBwb2ludHMgPSBwbGFuZS5wb2x5Z29uO1xuICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8qIENvdW50IHJheSBpbnRlcnNlY3Rpb25zOiBldmVuID09IGluc2lkZSwgb2RkID09IG91dHNpZGUgKi9cbiAgICBjb25zdCBwWCA9IHBbMF07XG4gICAgY29uc3QgcFogPSBwWzJdO1xuICAgIGxldCBpbnRlcnNlY3Rpb25zID0gMDtcbiAgICBmb3IgKGxldCBuID0gMCwgbCA9IHBvaW50cy5sZW5ndGggLSAxOyBuIDwgcG9pbnRzLmxlbmd0aDsgKytuKSB7XG4gICAgICAgIGNvbnN0IGFYID0gcG9pbnRzW2xdLng7XG4gICAgICAgIGNvbnN0IGFaID0gcG9pbnRzW2xdLno7XG4gICAgICAgIGNvbnN0IHMgPSAocG9pbnRzW25dLnogLSBhWikgLyAocG9pbnRzW25dLnggLSBhWCk7XG4gICAgICAgIGNvbnN0IHggPSBNYXRoLmFicygocFogLSBhWikgLyBzKTtcbiAgICAgICAgaWYgKHggPj0gMC4wICYmIHggPD0gMS4wICYmIHdpdGhpbih4ICsgcFgsIGFYLCBwb2ludHNbbl0ueCkpXG4gICAgICAgICAgICArK2ludGVyc2VjdGlvbnM7XG4gICAgICAgIGwgPSBuO1xuICAgIH1cbiAgICByZXR1cm4gKGludGVyc2VjdGlvbnMgJiAxKSA9PSAwO1xufVxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGdpdmVuIHBvaW50IG9uIHBsYW5lJ3MgYm91bmRpbmcgYm94IGlzIGluc2lkZSBwbGFuZSdzIHBvbHlnb25cbiAqXG4gKiBAcGFyYW0gcCAzRCBwb2ludCB0byB0ZXN0LiBJdCBpcyBhc3N1bWVkIHRoYXQgdGhlIHBvaW50IHdhcyBjaGVja2VkIGFnYWluc3RcbiAqICAgICB0aGUgcGxhbmUncyBib3VuZGluZyBib3ggYmVmb3JlaGFuZC5cbiAqIEBwYXJhbSBwbGFuZSBYUlBsYW5lIHRoYXQgaGFzIGBYUlBsYW5lLnBvbHlnb25gXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHBvaW50IGxpZXMgb24gdGhlIHBsYW5lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BvaW50V29ybGRPblhSUGxhbmVQb2x5Z29uKG9iamVjdCwgcCwgcGxhbmUpIHtcbiAgICBpZiAocGxhbmUucG9seWdvbi5sZW5ndGggPCAzKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaXNQb2ludExvY2FsT25YUlBsYW5lUG9seWdvbihvYmplY3QudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQodGVtcFZlYzMsIHApLCBwbGFuZSk7XG59XG4vKipcbiAqIENyZWF0ZSBhIHBsYW5lIG1lc2ggZnJvbSBhIGxpc3Qgb2YgY29udG91ciBwb2ludHNcbiAqXG4gKiBAcGFyYW0gZW5naW5lIEVuZ2luZSB0byBjcmVhdGUgdGhlIG1lc2ggd2l0aFxuICogQHBhcmFtIHBvaW50cyBDb250b3VyIHBvaW50c1xuICogQHBhcmFtIG1lc2hUb1VwZGF0ZSBPcHRpb25hbCBtZXNoIHRvIHVwZGF0ZSBpbnN0ZWFkIG9mIGNyZWF0aW5nIGEgbmV3IG9uZS5cbiAqL1xuZnVuY3Rpb24gcGxhbmVNZXNoRnJvbUNvbnRvdXIoZW5naW5lLCBwb2ludHMsIG1lc2hUb1VwZGF0ZSA9IG51bGwpIHtcbiAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gICAgY29uc3QgdmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRleENvdW50ICogMik7XG4gICAgZm9yIChsZXQgaSA9IDAsIGQgPSAwOyBpIDwgdmVydGV4Q291bnQ7ICsraSwgZCArPSAyKSB7XG4gICAgICAgIHZlcnRpY2VzW2RdID0gcG9pbnRzW2ldLng7XG4gICAgICAgIHZlcnRpY2VzW2QgKyAxXSA9IHBvaW50c1tpXS56O1xuICAgIH1cbiAgICBjb25zdCB0cmlhbmdsZXMgPSBlYXJjdXQodmVydGljZXMpO1xuICAgIGNvbnN0IG1lc2ggPSBtZXNoVG9VcGRhdGUgfHxcbiAgICAgICAgbmV3IE1lc2goZW5naW5lLCB7XG4gICAgICAgICAgICB2ZXJ0ZXhDb3VudCxcbiAgICAgICAgICAgIC8qIEFzc3VtcHRpb24gaGVyZSB0aGF0IHdlIHdpbGwgbmV2ZXIgaGF2ZSBtb3JlIHRoYW4gMjU2IHBvaW50c1xuICAgICAgICAgICAgICogaW4gdGhlIGRldGVjdGVkIHBsYW5lIG1lc2hlcyEgKi9cbiAgICAgICAgICAgIGluZGV4VHlwZTogTWVzaEluZGV4VHlwZS5VbnNpZ25lZEJ5dGUsXG4gICAgICAgICAgICBpbmRleERhdGE6IHRyaWFuZ2xlcyxcbiAgICAgICAgfSk7XG4gICAgaWYgKG1lc2gudmVydGV4Q291bnQgIT09IHZlcnRleENvdW50KSB7XG4gICAgICAgIGNvbnNvbGUud2FybigndmVydGV4Q291bnQgb2YgbWVzaFRvVXBkYXRlIGRpZCBub3QgbWF0Y2ggcmVxdWlyZWQgdmVydGV4Q291bnQnKTtcbiAgICAgICAgcmV0dXJuIG1lc2g7XG4gICAgfVxuICAgIGNvbnN0IHBvc2l0aW9ucyA9IG1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuUG9zaXRpb24pO1xuICAgIGNvbnN0IHRleHR1cmVDb29yZHMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlRleHR1cmVDb29yZGluYXRlKTtcbiAgICBjb25zdCBub3JtYWxzID0gbWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5Ob3JtYWwpO1xuICAgIHRlbXBWZWMzWzFdID0gMDtcbiAgICBmb3IgKGxldCBpID0gMCwgcyA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgKytpLCBzICs9IDIpIHtcbiAgICAgICAgdGVtcFZlYzNbMF0gPSB2ZXJ0aWNlc1tzXTtcbiAgICAgICAgdGVtcFZlYzNbMl0gPSB2ZXJ0aWNlc1tzICsgMV07XG4gICAgICAgIHBvc2l0aW9ucy5zZXQoaSwgdGVtcFZlYzMpO1xuICAgIH1cbiAgICB0ZXh0dXJlQ29vcmRzPy5zZXQoMCwgdmVydGljZXMpO1xuICAgIGlmIChub3JtYWxzKSB7XG4gICAgICAgIHRlbXBWZWMzWzBdID0gMDtcbiAgICAgICAgdGVtcFZlYzNbMV0gPSAxO1xuICAgICAgICB0ZW1wVmVjM1syXSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGV4Q291bnQ7ICsraSkge1xuICAgICAgICAgICAgbm9ybWFscy5zZXQoaSwgdGVtcFZlYzMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChtZXNoVG9VcGRhdGUpXG4gICAgICAgIG1lc2gudXBkYXRlKCk7XG4gICAgcmV0dXJuIG1lc2g7XG59XG4vKipcbiAqIEdlbmVyYXRlIG1lc2hlcyBhbmQgY29sbGlzaW9ucyBmb3IgWFJQbGFuZXMgdXNpbmcgW1dlYlhSIERldmljZSBBUEkgLSBQbGFuZSBEZXRlY3Rpb25dKGh0dHBzOi8vaW1tZXJzaXZlLXdlYi5naXRodWIuaW8vcmVhbC13b3JsZC1nZW9tZXRyeS9wbGFuZS1kZXRlY3Rpb24uaHRtbCkuXG4gKi9cbmNsYXNzIFBsYW5lRGV0ZWN0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAncGxhbmUtZGV0ZWN0aW9uJztcbiAgICAvKipcbiAgICAgKiBNYXRlcmlhbCB0byBhc3NpZ24gdG8gY3JlYXRlZCBwbGFuZSBtZXNoZXMgb3IgYG51bGxgIGlmIG1lc2hlcyBzaG91bGQgbm90IGJlIGNyZWF0ZWQuXG4gICAgICovXG4gICAgcGxhbmVNYXRlcmlhbCA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQ29sbGlzaW9uIG1hc2sgdG8gYXNzaWduIHRvIG5ld2x5IGNyZWF0ZWQgY29sbGlzaW9uIGNvbXBvbmVudHMgb3IgYSBuZWdhdGl2ZSB2YWx1ZSBpZlxuICAgICAqIGNvbGxpc2lvbiBjb21wb25lbnRzIHNob3VsZCBub3QgYmUgY3JlYXRlZC5cbiAgICAgKi9cbiAgICBjb2xsaXNpb25NYXNrID0gLTE7XG4gICAgLyoqIE1hcCBvZiBhbGwgcGxhbmVzIGFuZCB0aGVpciBsYXN0IHVwZGF0ZWQgdGltZXN0YW1wcyAqL1xuICAgIHBsYW5lcyA9IG5ldyBNYXAoKTtcbiAgICAvKiogT2JqZWN0cyBnZW5lcmF0ZWQgZm9yIGVhY2ggWFJQbGFuZSAqL1xuICAgIHBsYW5lT2JqZWN0cyA9IG5ldyBNYXAoKTtcbiAgICAvKiogQ2FsbGVkIHdoZW4gYSBwbGFuZSBzdGFydHMgdHJhY2tpbmcgKi9cbiAgICBvblBsYW5lRm91bmQgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBDYWxsZWQgd2hlbiBhIHBsYW5lIHN0b3BzIHRyYWNraW5nICovXG4gICAgb25QbGFuZUxvc3QgPSBuZXcgRW1pdHRlcigpO1xuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuZ2luZS54cj8uZnJhbWUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lLnhyLmZyYW1lLmRldGVjdGVkUGxhbmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3BsYW5lLWRldGVjdGlvbjogV2ViWFIgZmVhdHVyZSBub3QgYXZhaWxhYmxlLicpO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IGRldGVjdGVkUGxhbmVzID0gdGhpcy5lbmdpbmUueHIuZnJhbWUuZGV0ZWN0ZWRQbGFuZXM7XG4gICAgICAgIGZvciAoY29uc3QgW3BsYW5lLCBfXSBvZiB0aGlzLnBsYW5lcykge1xuICAgICAgICAgICAgaWYgKCFkZXRlY3RlZFBsYW5lcy5oYXMocGxhbmUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jcGxhbmVMb3N0KHBsYW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZXRlY3RlZFBsYW5lcy5mb3JFYWNoKChwbGFuZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucGxhbmVzLmhhcyhwbGFuZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAocGxhbmUubGFzdENoYW5nZWRUaW1lID4gdGhpcy5wbGFuZXMuZ2V0KHBsYW5lKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNwbGFuZVVwZGF0ZShwbGFuZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jcGxhbmVGb3VuZChwbGFuZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiNwbGFuZVVwZGF0ZVBvc2UocGxhbmUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgI3BsYW5lTG9zdChwbGFuZSkge1xuICAgICAgICB0aGlzLnBsYW5lcy5kZWxldGUocGxhbmUpO1xuICAgICAgICBjb25zdCBvID0gdGhpcy5wbGFuZU9iamVjdHMuZ2V0KHBsYW5lKTtcbiAgICAgICAgdGhpcy5vblBsYW5lTG9zdC5ub3RpZnkocGxhbmUsIG8pO1xuICAgICAgICAvKiBVc2VyIG1pZ2h0IGRlc3Ryb3kgdGhlIG9iamVjdCAqL1xuICAgICAgICBpZiAoby5vYmplY3RJZCA+IDApXG4gICAgICAgICAgICBvLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgI3BsYW5lRm91bmQocGxhbmUpIHtcbiAgICAgICAgdGhpcy5wbGFuZXMuc2V0KHBsYW5lLCBwbGFuZS5sYXN0Q2hhbmdlZFRpbWUpO1xuICAgICAgICBjb25zdCBvID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KHRoaXMub2JqZWN0KTtcbiAgICAgICAgdGhpcy5wbGFuZU9iamVjdHMuc2V0KHBsYW5lLCBvKTtcbiAgICAgICAgaWYgKHRoaXMucGxhbmVNYXRlcmlhbCkge1xuICAgICAgICAgICAgby5hZGRDb21wb25lbnQoTWVzaENvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgIG1lc2g6IHBsYW5lTWVzaEZyb21Db250b3VyKHRoaXMuZW5naW5lLCBwbGFuZS5wb2x5Z29uKSxcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogdGhpcy5wbGFuZU1hdGVyaWFsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29sbGlzaW9uTWFzayA+PSAwKSB7XG4gICAgICAgICAgICBleHRlbnRzRnJvbUNvbnRvdXIodGVtcFZlYzMsIHBsYW5lLnBvbHlnb24pO1xuICAgICAgICAgICAgdGVtcFZlYzNbMV0gPSAwLjAyNTtcbiAgICAgICAgICAgIG8uYWRkQ29tcG9uZW50KENvbGxpc2lvbkNvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgIGdyb3VwOiB0aGlzLmNvbGxpc2lvbk1hc2ssXG4gICAgICAgICAgICAgICAgY29sbGlkZXI6IENvbGxpZGVyLkJveCxcbiAgICAgICAgICAgICAgICBleHRlbnRzOiB0ZW1wVmVjMyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25QbGFuZUZvdW5kLm5vdGlmeShwbGFuZSwgbyk7XG4gICAgfVxuICAgICNwbGFuZVVwZGF0ZShwbGFuZSkge1xuICAgICAgICB0aGlzLnBsYW5lcy5zZXQocGxhbmUsIHBsYW5lLmxhc3RDaGFuZ2VkVGltZSk7XG4gICAgICAgIGNvbnN0IHBsYW5lTWVzaCA9IHRoaXMucGxhbmVPYmplY3RzLmdldChwbGFuZSkuZ2V0Q29tcG9uZW50KE1lc2hDb21wb25lbnQpO1xuICAgICAgICBpZiAoIXBsYW5lTWVzaClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGxhbmVNZXNoRnJvbUNvbnRvdXIodGhpcy5lbmdpbmUsIHBsYW5lLnBvbHlnb24sIHBsYW5lTWVzaC5tZXNoKTtcbiAgICB9XG4gICAgI3BsYW5lVXBkYXRlUG9zZShwbGFuZSkge1xuICAgICAgICBjb25zdCBvID0gdGhpcy5wbGFuZU9iamVjdHMuZ2V0KHBsYW5lKTtcbiAgICAgICAgY29uc3QgcG9zZSA9IHRoaXMuZW5naW5lLnhyLmZyYW1lLmdldFBvc2UocGxhbmUucGxhbmVTcGFjZSwgdGhpcy5lbmdpbmUueHIuY3VycmVudFJlZmVyZW5jZVNwYWNlKTtcbiAgICAgICAgaWYgKCFwb3NlKSB7XG4gICAgICAgICAgICBvLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbChvLCBwb3NlLnRyYW5zZm9ybSk7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkubWF0ZXJpYWwoKVxuXSwgUGxhbmVEZXRlY3Rpb24ucHJvdG90eXBlLCBcInBsYW5lTWF0ZXJpYWxcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmludCgpXG5dLCBQbGFuZURldGVjdGlvbi5wcm90b3R5cGUsIFwiY29sbGlzaW9uTWFza1wiLCB2b2lkIDApO1xuZXhwb3J0IHsgUGxhbmVEZXRlY3Rpb24gfTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgdmVjMywgbWF0NCwgcXVhdCwgcXVhdDIgfSBmcm9tICdnbC1tYXRyaXgnO1xuY29uc3QgVlJNX1JPTExfQVhFUyA9IHtcbiAgICBYOiBbMS4wLCAwLjAsIDAuMF0sXG4gICAgWTogWzAuMCwgMS4wLCAwLjBdLFxuICAgIFo6IFswLjAsIDAuMCwgMS4wXSxcbn07XG5jb25zdCBWUk1fQUlNX0FYRVMgPSB7XG4gICAgUG9zaXRpdmVYOiBbMS4wLCAwLjAsIDAuMF0sXG4gICAgTmVnYXRpdmVYOiBbLTEuMCwgMC4wLCAwLjBdLFxuICAgIFBvc2l0aXZlWTogWzAuMCwgMS4wLCAwLjBdLFxuICAgIE5lZ2F0aXZlWTogWzAuMCwgLTEuMCwgMC4wXSxcbiAgICBQb3NpdGl2ZVo6IFswLjAsIDAuMCwgMS4wXSxcbiAgICBOZWdhdGl2ZVo6IFswLjAsIDAuMCwgLTEuMF0sXG59O1xuLyoqXG4gKiBDb21wb25lbnQgZm9yIGxvYWRpbmcgYW5kIGhhbmRsaW5nIFZSTSAxLjAgbW9kZWxzLlxuICpcbiAqIFBvc2luZyBvZiB0aGUgbW9kZWwgc2hvdWxkIGJlIGRvbmUgZXhjbHVzaXZlbHkgYnkgcm90YXRpbmcgdGhlIGJvbmVzLiBUaGVzZSBjYW4gYmVcbiAqIGFjY2Vzc2VkIHVzaW5nIHRoZSBgLmJvbmVzYCBwcm9wZXJ0eSBhbmQgZm9sbG93IHRoZSBWUk0gYm9uZSBuYW1pbmcuIE5vdGUgdGhhdCBub3RcbiAqIGFsbCBWUk0gbW9kZWxzIHdpbGwgaGF2ZSBhbGwgcG9zc2libGUgYm9uZXMuIFRoZSByZXN0IHBvc2UgKFQtcG9zZSkgaXMgY2FwdHVyZWQgaW5cbiAqIHRoZSBgLnJlc3RQb3NlYCBwcm9wZXJ0eS4gUmVzZXR0aW5nIGEgYm9uZSB0byBpdHMgcmVzdCBwb3NlIGNhbiBiZSBkb25lIGFzIGZvbGxvd3M6XG4gKiBgYGBqc1xuICogdnJtQ29tcG9uZW50LmJvbmVzW3ZybUJvbmVOYW1lXS5yb3RhdGlvbkxvY2FsID0gdnJtQ29tcG9uZW50LnJlc3RQb3NlW3ZybUJvbmVOYW1lXTtcbiAqIGBgYFxuICpcbiAqIE1vdmluZyB0aGUgbW9kZWwgdGhyb3VnaCB0aGUgd29ybGQgc2hvdWxkIGJlIGRvbmUgYnkgbW92aW5nIHRoZSBvYmplY3QgdGhpcyBjb21wb25lbnRcbiAqIGlzIGF0dGFjaGVkIHRvLiBJbiBvdGhlciB3b3JkcywgYnkgbW92aW5nIHRoZSByb290IG9mIHRoZSBWUk0gbW9kZWwuIFRoZSBib25lcyBhbmQgYW55XG4gKiBkZXNjZW5kYW50IG9iamVjdHMgc2hvdWxkICpub3QqIGJlIHVzZWQgdG8gbW92ZSB0aGUgVlJNIG1vZGVsLlxuICpcbiAqIFRoZSBjb3JlIGV4dGVuc2lvbiBgVlJNQ192cm1gIGFzIHdlbGwgYXMgdGhlYFZSTUNfc3ByaW5nQm9uZWAgYW5kIGBWUk1DX25vZGVfY29uc3RyYWludGBcbiAqIGV4dGVuc2lvbnMgYXJlIHN1cHBvcnRlZC5cbiAqXG4gKiAqKkxpbWl0YXRpb25zOioqXG4gKiAtIE5vIHN1cHBvcnQgZm9yIGBWUk1DX21hdGVyaWFsX210b29uYFxuICogLSBFeHByZXNzaW9ucyBhcmVuJ3Qgc3VwcG9ydGVkXG4gKiAtIEV4cHJlc3Npb24gYmFzZWQgbG9va0F0IGlzbid0IHN1cHBvcnRlZFxuICogLSBNZXNoIGFubm90YXRpb24gbW9kZSBgYXV0b2AgaXMgbm90IHN1cHBvcnRlZCAoZmlyc3QgcGVyc29uIG1vZGUpXG4gKi9cbmNsYXNzIFZybSBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3ZybSc7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBVUkwgdG8gYSBWUk0gZmlsZSB0byBsb2FkICovXG4gICAgICAgIHNyYzogeyB0eXBlOiBUeXBlLlN0cmluZyB9LFxuICAgICAgICAvKiogT2JqZWN0IHRoZSBWUk0gaXMgbG9va2luZyBhdCAqL1xuICAgICAgICBsb29rQXRUYXJnZXQ6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcbiAgICB9O1xuICAgIC8qKiBNZXRhIGluZm9ybWF0aW9uIGFib3V0IHRoZSBWUk0gbW9kZWwgKi9cbiAgICBtZXRhID0gbnVsbDtcbiAgICAvKiogVGhlIGh1bWFub2lkIGJvbmVzIG9mIHRoZSBWUk0gbW9kZWwgKi9cbiAgICBib25lcyA9IHtcbiAgICAgICAgLyogVG9yc28gKi9cbiAgICAgICAgaGlwczogbnVsbCxcbiAgICAgICAgc3BpbmU6IG51bGwsXG4gICAgICAgIGNoZXN0OiBudWxsLFxuICAgICAgICB1cHBlckNoZXN0OiBudWxsLFxuICAgICAgICBuZWNrOiBudWxsLFxuICAgICAgICAvKiBIZWFkICovXG4gICAgICAgIGhlYWQ6IG51bGwsXG4gICAgICAgIGxlZnRFeWU6IG51bGwsXG4gICAgICAgIHJpZ2h0RXllOiBudWxsLFxuICAgICAgICBqYXc6IG51bGwsXG4gICAgICAgIC8qIExlZ3MgKi9cbiAgICAgICAgbGVmdFVwcGVyTGVnOiBudWxsLFxuICAgICAgICBsZWZ0TG93ZXJMZWc6IG51bGwsXG4gICAgICAgIGxlZnRGb290OiBudWxsLFxuICAgICAgICBsZWZ0VG9lczogbnVsbCxcbiAgICAgICAgcmlnaHRVcHBlckxlZzogbnVsbCxcbiAgICAgICAgcmlnaHRMb3dlckxlZzogbnVsbCxcbiAgICAgICAgcmlnaHRGb290OiBudWxsLFxuICAgICAgICByaWdodFRvZXM6IG51bGwsXG4gICAgICAgIC8qIEFybXMgKi9cbiAgICAgICAgbGVmdFNob3VsZGVyOiBudWxsLFxuICAgICAgICBsZWZ0VXBwZXJBcm06IG51bGwsXG4gICAgICAgIGxlZnRMb3dlckFybTogbnVsbCxcbiAgICAgICAgbGVmdEhhbmQ6IG51bGwsXG4gICAgICAgIHJpZ2h0U2hvdWxkZXI6IG51bGwsXG4gICAgICAgIHJpZ2h0VXBwZXJBcm06IG51bGwsXG4gICAgICAgIHJpZ2h0TG93ZXJBcm06IG51bGwsXG4gICAgICAgIHJpZ2h0SGFuZDogbnVsbCxcbiAgICAgICAgLyogRmluZ2VycyAqL1xuICAgICAgICBsZWZ0VGh1bWJNZXRhY2FycGFsOiBudWxsLFxuICAgICAgICBsZWZ0VGh1bWJQcm94aW1hbDogbnVsbCxcbiAgICAgICAgbGVmdFRodW1iRGlzdGFsOiBudWxsLFxuICAgICAgICBsZWZ0SW5kZXhQcm94aW1hbDogbnVsbCxcbiAgICAgICAgbGVmdEluZGV4SW50ZXJtZWRpYXRlOiBudWxsLFxuICAgICAgICBsZWZ0SW5kZXhEaXN0YWw6IG51bGwsXG4gICAgICAgIGxlZnRNaWRkbGVQcm94aW1hbDogbnVsbCxcbiAgICAgICAgbGVmdE1pZGRsZUludGVybWVkaWF0ZTogbnVsbCxcbiAgICAgICAgbGVmdE1pZGRsZURpc3RhbDogbnVsbCxcbiAgICAgICAgbGVmdFJpbmdQcm94aW1hbDogbnVsbCxcbiAgICAgICAgbGVmdFJpbmdJbnRlcm1lZGlhdGU6IG51bGwsXG4gICAgICAgIGxlZnRSaW5nRGlzdGFsOiBudWxsLFxuICAgICAgICBsZWZ0TGl0dGxlUHJveGltYWw6IG51bGwsXG4gICAgICAgIGxlZnRMaXR0bGVJbnRlcm1lZGlhdGU6IG51bGwsXG4gICAgICAgIGxlZnRMaXR0bGVEaXN0YWw6IG51bGwsXG4gICAgICAgIHJpZ2h0VGh1bWJNZXRhY2FycGFsOiBudWxsLFxuICAgICAgICByaWdodFRodW1iUHJveGltYWw6IG51bGwsXG4gICAgICAgIHJpZ2h0VGh1bWJEaXN0YWw6IG51bGwsXG4gICAgICAgIHJpZ2h0SW5kZXhQcm94aW1hbDogbnVsbCxcbiAgICAgICAgcmlnaHRJbmRleEludGVybWVkaWF0ZTogbnVsbCxcbiAgICAgICAgcmlnaHRJbmRleERpc3RhbDogbnVsbCxcbiAgICAgICAgcmlnaHRNaWRkbGVQcm94aW1hbDogbnVsbCxcbiAgICAgICAgcmlnaHRNaWRkbGVJbnRlcm1lZGlhdGU6IG51bGwsXG4gICAgICAgIHJpZ2h0TWlkZGxlRGlzdGFsOiBudWxsLFxuICAgICAgICByaWdodFJpbmdQcm94aW1hbDogbnVsbCxcbiAgICAgICAgcmlnaHRSaW5nSW50ZXJtZWRpYXRlOiBudWxsLFxuICAgICAgICByaWdodFJpbmdEaXN0YWw6IG51bGwsXG4gICAgICAgIHJpZ2h0TGl0dGxlUHJveGltYWw6IG51bGwsXG4gICAgICAgIHJpZ2h0TGl0dGxlSW50ZXJtZWRpYXRlOiBudWxsLFxuICAgICAgICByaWdodExpdHRsZURpc3RhbDogbnVsbCxcbiAgICB9O1xuICAgIC8qKiBSb3RhdGlvbnMgb2YgdGhlIGJvbmVzIGluIHRoZSByZXN0IHBvc2UgKFQtcG9zZSkgKi9cbiAgICByZXN0UG9zZSA9IHt9O1xuICAgIC8qIEFsbCBub2RlIGNvbnN0cmFpbnRzLCBvcmRlcmVkIHRvIGRlYWwgd2l0aCBkZXBlbmRlbmNpZXMgKi9cbiAgICBfbm9kZUNvbnN0cmFpbnRzID0gW107XG4gICAgLyogVlJNQ19zcHJpbmdCb25lIGNoYWlucyAqL1xuICAgIF9zcHJpbmdDaGFpbnMgPSBbXTtcbiAgICAvKiBTcGhlcmljYWwgY29sbGlkZXJzIGZvciBzcHJpbmcgYm9uZXMgKi9cbiAgICBfc3BoZXJlQ29sbGlkZXJzID0gW107XG4gICAgLyogQ2Fwc3VsZSBzaGFwZWQgY29sbGlkZXJzIGZvciBzcHJpbmcgYm9uZXMgKi9cbiAgICBfY2Fwc3VsZUNvbGxpZGVycyA9IFtdO1xuICAgIC8qIEluZGljYXRlcyB3aGljaCBtZXNoZXMgYXJlIHJlbmRlcmVkIGluIGZpcnN0L3RoaXJkIHBlcnNvbiB2aWV3cyAqL1xuICAgIF9maXJzdFBlcnNvbkFubm90YXRpb25zID0gW107XG4gICAgLyogQ29udGFpbnMgZGV0YWlscyBmb3IgKGJvbmUgdHlwZSkgbG9va0F0IGJlaGF2aW91ciAqL1xuICAgIF9sb29rQXQgPSBudWxsO1xuICAgIC8qIFdoZXRoZXIgb3Igbm90IHRoZSBWUk0gY29tcG9uZW50IGhhcyBiZWVuIGluaXRpYWxpemVkIHdpdGggYGluaXRpYWxpemVWcm1gICovXG4gICAgX2luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5fdGVtcFYzID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5fdGVtcFYzQSA9IHZlYzMuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX3RlbXBWM0IgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl90ZW1wUXVhdCA9IHF1YXQuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX3RlbXBRdWF0QSA9IHF1YXQuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX3RlbXBRdWF0QiA9IHF1YXQuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX3RlbXBNYXQ0QSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX3RlbXBRdWF0MiA9IHF1YXQyLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl90YWlsVG9TaGFwZSA9IHZlYzMuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX2hlYWRUb1RhaWwgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl9pbmVydGlhID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5fc3RpZmZuZXNzID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5fZXh0ZXJuYWwgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl9yaWdodFZlY3RvciA9IHZlYzMuc2V0KHZlYzMuY3JlYXRlKCksIDEsIDAsIDApO1xuICAgICAgICB0aGlzLl91cFZlY3RvciA9IHZlYzMuc2V0KHZlYzMuY3JlYXRlKCksIDAsIDEsIDApO1xuICAgICAgICB0aGlzLl9mb3J3YXJkVmVjdG9yID0gdmVjMy5zZXQodmVjMy5jcmVhdGUoKSwgMCwgMCwgMSk7XG4gICAgICAgIHRoaXMuX2lkZW50aXR5UXVhdCA9IHF1YXQuaWRlbnRpdHkocXVhdC5jcmVhdGUoKSk7XG4gICAgICAgIHRoaXMuX3JhZDJkZWcgPSAxODAuMCAvIE1hdGguUEk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuc3JjKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCd2cm06IHNyYyBwcm9wZXJ0eSBub3Qgc2V0Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmdpbmUuc2NlbmVcbiAgICAgICAgICAgIC5hcHBlbmQodGhpcy5zcmMsIHsgbG9hZEdsdGZFeHRlbnNpb25zOiB0cnVlIH0pXG4gICAgICAgICAgICAudGhlbigoeyByb290LCBleHRlbnNpb25zIH0pID0+IHtcbiAgICAgICAgICAgIHJvb3QuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IChjaGlsZC5wYXJlbnQgPSB0aGlzLm9iamVjdCkpO1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZVZybShleHRlbnNpb25zKTtcbiAgICAgICAgICAgIHJvb3QuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRoZSBWUk0gZ2xURiBleHRlbnNpb25zIGFuZCBpbml0aWFsaXplcyB0aGUgdnJtIGNvbXBvbmVudC5cbiAgICAgKiBAcGFyYW0ge0dMVEZFeHRlbnNpb25zfSBleHRlbnNpb25zIFRoZSBnbFRGIGV4dGVuc2lvbnMgZm9yIHRoZSBWUk0gbW9kZWxcbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZVZybShleHRlbnNpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1ZSTSBjb21wb25lbnQgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFZSTUNfdnJtID0gZXh0ZW5zaW9ucy5yb290WydWUk1DX3ZybSddO1xuICAgICAgICBpZiAoIVZSTUNfdnJtKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignTWlzc2luZyBWUk0gZXh0ZW5zaW9ucycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChWUk1DX3ZybS5zcGVjVmVyc2lvbiAhPT0gJzEuMCcpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBVbnN1cHBvcnRlZCBWUk0gdmVyc2lvbiwgb25seSAxLjAgaXMgc3VwcG9ydGVkLCBidXQgZW5jb3VudGVyZWQgJyR7VlJNQ192cm0uc3BlY1ZlcnNpb259J2ApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWV0YSA9IFZSTUNfdnJtLm1ldGE7XG4gICAgICAgIHRoaXMuX3BhcnNlSHVtYW5vaWQoVlJNQ192cm0uaHVtYW5vaWQsIGV4dGVuc2lvbnMpO1xuICAgICAgICBpZiAoVlJNQ192cm0uZmlyc3RQZXJzb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlRmlyc3RQZXJzb24oVlJNQ192cm0uZmlyc3RQZXJzb24sIGV4dGVuc2lvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChWUk1DX3ZybS5sb29rQXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlTG9va0F0KFZSTUNfdnJtLmxvb2tBdCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZmluZEFuZFBhcnNlTm9kZUNvbnN0cmFpbnRzKGV4dGVuc2lvbnMpO1xuICAgICAgICBjb25zdCBzcHJpbmdCb25lID0gZXh0ZW5zaW9ucy5yb290WydWUk1DX3NwcmluZ0JvbmUnXTtcbiAgICAgICAgaWYgKHNwcmluZ0JvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQW5kSW5pdGlhbGl6ZVNwcmluZ0JvbmVzKHNwcmluZ0JvbmUsIGV4dGVuc2lvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlSHVtYW5vaWQoaHVtYW5vaWQsIGV4dGVuc2lvbnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBib25lTmFtZSBpbiBodW1hbm9pZC5odW1hbkJvbmVzKSB7XG4gICAgICAgICAgICBpZiAoIShib25lTmFtZSBpbiB0aGlzLmJvbmVzKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5yZWNvZ25pemVkIGJvbmUgJyR7Ym9uZU5hbWV9J2ApO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGh1bWFub2lkLmh1bWFuQm9uZXNbYm9uZU5hbWVdLm5vZGU7XG4gICAgICAgICAgICBjb25zdCBvYmplY3RJZCA9IGV4dGVuc2lvbnMuaWRNYXBwaW5nW25vZGVdO1xuICAgICAgICAgICAgdGhpcy5ib25lc1tib25lTmFtZV0gPSB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KG9iamVjdElkKTtcbiAgICAgICAgICAgIHRoaXMucmVzdFBvc2VbYm9uZU5hbWVdID0gcXVhdC5jb3B5KHF1YXQuY3JlYXRlKCksIHRoaXMuYm9uZXNbYm9uZU5hbWVdLnJvdGF0aW9uTG9jYWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9wYXJzZUZpcnN0UGVyc29uKGZpcnN0UGVyc29uLCBleHRlbnNpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWVzaEFubm90YXRpb24gb2YgZmlyc3RQZXJzb24ubWVzaEFubm90YXRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9uID0ge1xuICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuZW5naW5lLndyYXBPYmplY3QoZXh0ZW5zaW9ucy5pZE1hcHBpbmdbbWVzaEFubm90YXRpb24ubm9kZV0pLFxuICAgICAgICAgICAgICAgIGZpcnN0UGVyc29uOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRoaXJkUGVyc29uOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN3aXRjaCAobWVzaEFubm90YXRpb24udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpcnN0UGVyc29uT25seSc6XG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb24udGhpcmRQZXJzb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndGhpcmRQZXJzb25Pbmx5JzpcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbi5maXJzdFBlcnNvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdib3RoJzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYXV0byc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZpcnN0IHBlcnNvbiBtZXNoIGFubm90YXRpb24gdHlwZSAnYXV0bycgaXMgbm90IHN1cHBvcnRlZCwgdHJlYXRpbmcgYXMgJ2JvdGgnIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSW52YWxpZCBtZXNoIGFubm90YXRpb24gdHlwZSAnJHttZXNoQW5ub3RhdGlvbi50eXBlfSdgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9maXJzdFBlcnNvbkFubm90YXRpb25zLnB1c2goYW5ub3RhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3BhcnNlTG9va0F0KGxvb2tBdCkge1xuICAgICAgICBpZiAobG9va0F0LnR5cGUgIT09ICdib25lJykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbnN1cHBvcnRlZCBsb29rQXQgdHlwZSAnJHtsb29rQXQudHlwZX0nLCBvbmx5ICdib25lJyBpcyBzdXBwb3J0ZWRgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZVJhbmdlTWFwID0gKHJhbmdlTWFwKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlucHV0TWF4VmFsdWU6IHJhbmdlTWFwLmlucHV0TWF4VmFsdWUsXG4gICAgICAgICAgICAgICAgb3V0cHV0U2NhbGU6IHJhbmdlTWFwLm91dHB1dFNjYWxlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbG9va0F0ID0ge1xuICAgICAgICAgICAgb2Zmc2V0RnJvbUhlYWRCb25lOiBsb29rQXQub2Zmc2V0RnJvbUhlYWRCb25lIHx8IFswLCAwLCAwXSxcbiAgICAgICAgICAgIGhvcml6b250YWxJbm5lcjogcGFyc2VSYW5nZU1hcChsb29rQXQucmFuZ2VNYXBIb3Jpem9udGFsSW5uZXIpLFxuICAgICAgICAgICAgaG9yaXpvbnRhbE91dGVyOiBwYXJzZVJhbmdlTWFwKGxvb2tBdC5yYW5nZU1hcEhvcml6b250YWxPdXRlciksXG4gICAgICAgICAgICB2ZXJ0aWNhbERvd246IHBhcnNlUmFuZ2VNYXAobG9va0F0LnJhbmdlTWFwVmVydGljYWxEb3duKSxcbiAgICAgICAgICAgIHZlcnRpY2FsVXA6IHBhcnNlUmFuZ2VNYXAobG9va0F0LnJhbmdlTWFwVmVydGljYWxVcCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9maW5kQW5kUGFyc2VOb2RlQ29uc3RyYWludHMoZXh0ZW5zaW9ucykge1xuICAgICAgICBjb25zdCB0cmF2ZXJzZSA9IChvYmplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVFeHRlbnNpb25zID0gZXh0ZW5zaW9ucy5ub2RlW29iamVjdC5vYmplY3RJZF07XG4gICAgICAgICAgICBpZiAobm9kZUV4dGVuc2lvbnMgJiYgJ1ZSTUNfbm9kZV9jb25zdHJhaW50JyBpbiBub2RlRXh0ZW5zaW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVDb25zdHJhaW50RXh0ZW5zaW9uID0gbm9kZUV4dGVuc2lvbnNbJ1ZSTUNfbm9kZV9jb25zdHJhaW50J107XG4gICAgICAgICAgICAgICAgY29uc3QgY29uc3RyYWludCA9IG5vZGVDb25zdHJhaW50RXh0ZW5zaW9uLmNvbnN0cmFpbnQ7XG4gICAgICAgICAgICAgICAgbGV0IHR5cGUsIGF4aXM7XG4gICAgICAgICAgICAgICAgaWYgKCdyb2xsJyBpbiBjb25zdHJhaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAncm9sbCc7XG4gICAgICAgICAgICAgICAgICAgIGF4aXMgPSBWUk1fUk9MTF9BWEVTW2NvbnN0cmFpbnQucm9sbC5yb2xsQXhpc107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCdhaW0nIGluIGNvbnN0cmFpbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdhaW0nO1xuICAgICAgICAgICAgICAgICAgICBheGlzID0gVlJNX0FJTV9BWEVTW2NvbnN0cmFpbnQuYWltLmFpbUF4aXNdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgncm90YXRpb24nIGluIGNvbnN0cmFpbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdyb3RhdGlvbic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZW5naW5lLndyYXBPYmplY3QoZXh0ZW5zaW9ucy5pZE1hcHBpbmdbY29uc3RyYWludFt0eXBlXS5zb3VyY2VdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbm9kZUNvbnN0cmFpbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBvYmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzOiBheGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiBjb25zdHJhaW50W3R5cGVdLndlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFJlc3QgcG9zZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25SZXN0TG9jYWxSb3RhdGlvbjogcXVhdC5jb3B5KHF1YXQuY3JlYXRlKCksIG9iamVjdC5yb3RhdGlvbkxvY2FsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVJlc3RMb2NhbFJvdGF0aW9uOiBxdWF0LmNvcHkocXVhdC5jcmVhdGUoKSwgc291cmNlLnJvdGF0aW9uTG9jYWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlUmVzdExvY2FsUm90YXRpb25JbnY6IHF1YXQuaW52ZXJ0KHF1YXQuY3JlYXRlKCksIHNvdXJjZS5yb3RhdGlvbkxvY2FsKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1VucmVjb2duaXplZCBvciBpbnZhbGlkIFZSTUNfbm9kZV9jb25zdHJhaW50LCBpZ25vcmluZyBpdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygb2JqZWN0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgdHJhdmVyc2UoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0cmF2ZXJzZSh0aGlzLm9iamVjdCk7XG4gICAgfVxuICAgIF9wYXJzZUFuZEluaXRpYWxpemVTcHJpbmdCb25lcyhzcHJpbmdCb25lLCBleHRlbnNpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbGxpZGVycyA9IChzcHJpbmdCb25lLmNvbGxpZGVycyB8fCBbXSkubWFwKChjb2xsaWRlciwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2hhcGVUeXBlID0gJ2NhcHN1bGUnIGluIGNvbGxpZGVyLnNoYXBlID8gJ2NhcHN1bGUnIDogJ3NwaGVyZSc7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiBpLFxuICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcy5lbmdpbmUud3JhcE9iamVjdChleHRlbnNpb25zLmlkTWFwcGluZ1tjb2xsaWRlci5ub2RlXSksXG4gICAgICAgICAgICAgICAgc2hhcGU6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNDYXBzdWxlOiBzaGFwZVR5cGUgPT09ICdjYXBzdWxlJyxcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBjb2xsaWRlci5zaGFwZVtzaGFwZVR5cGVdLnJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBjb2xsaWRlci5zaGFwZVtzaGFwZVR5cGVdLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgdGFpbDogY29sbGlkZXIuc2hhcGVbc2hhcGVUeXBlXS50YWlsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FjaGU6IHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZDogdmVjMy5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgdGFpbDogdmVjMy5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3NwaGVyZUNvbGxpZGVycyA9IGNvbGxpZGVycy5maWx0ZXIoKGMpID0+ICFjLnNoYXBlLmlzQ2Fwc3VsZSk7XG4gICAgICAgIHRoaXMuX2NhcHN1bGVDb2xsaWRlcnMgPSBjb2xsaWRlcnMuZmlsdGVyKChjKSA9PiBjLnNoYXBlLmlzQ2Fwc3VsZSk7XG4gICAgICAgIGNvbnN0IGNvbGxpZGVyR3JvdXBzID0gKHNwcmluZ0JvbmUuY29sbGlkZXJHcm91cHMgfHwgW10pLm1hcCgoZ3JvdXApID0+ICh7XG4gICAgICAgICAgICBuYW1lOiBncm91cC5uYW1lLFxuICAgICAgICAgICAgY29sbGlkZXJzOiBncm91cC5jb2xsaWRlcnMubWFwKChjKSA9PiBjb2xsaWRlcnNbY10pLFxuICAgICAgICB9KSk7XG4gICAgICAgIGZvciAoY29uc3Qgc3ByaW5nIG9mIHNwcmluZ0JvbmUuc3ByaW5ncykge1xuICAgICAgICAgICAgY29uc3Qgam9pbnRzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGpvaW50IG9mIHNwcmluZy5qb2ludHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpbmdKb2ludCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaGl0UmFkaXVzOiAwLjAsXG4gICAgICAgICAgICAgICAgICAgIHN0aWZmbmVzczogMS4wLFxuICAgICAgICAgICAgICAgICAgICBncmF2aXR5UG93ZXI6IDAuMCxcbiAgICAgICAgICAgICAgICAgICAgZ3Jhdml0eURpcjogWzAuMCwgLTEuMCwgMC4wXSxcbiAgICAgICAgICAgICAgICAgICAgZHJhZ0ZvcmNlOiAwLjUsXG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzcHJpbmdKb2ludCwgam9pbnQpO1xuICAgICAgICAgICAgICAgIHNwcmluZ0pvaW50Lm5vZGUgPSB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGV4dGVuc2lvbnMuaWRNYXBwaW5nW3NwcmluZ0pvaW50Lm5vZGVdKTtcbiAgICAgICAgICAgICAgICBqb2ludHMucHVzaChzcHJpbmdKb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzcHJpbmdDaGFpbkNvbGxpZGVycyA9IChzcHJpbmcuY29sbGlkZXJHcm91cHMgfHwgW10pLmZsYXRNYXAoKGNnKSA9PiBjb2xsaWRlckdyb3Vwc1tjZ10uY29sbGlkZXJzKTtcbiAgICAgICAgICAgIHRoaXMuX3NwcmluZ0NoYWlucy5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBzcHJpbmcubmFtZSxcbiAgICAgICAgICAgICAgICBjZW50ZXI6IHNwcmluZy5jZW50ZXJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGV4dGVuc2lvbnMuaWRNYXBwaW5nW3NwcmluZy5jZW50ZXJdKVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgam9pbnRzLFxuICAgICAgICAgICAgICAgIHNwaGVyZUNvbGxpZGVyczogc3ByaW5nQ2hhaW5Db2xsaWRlcnMuZmlsdGVyKChjKSA9PiAhYy5zaGFwZS5pc0NhcHN1bGUpLFxuICAgICAgICAgICAgICAgIGNhcHN1bGVDb2xsaWRlcnM6IHNwcmluZ0NoYWluQ29sbGlkZXJzLmZpbHRlcigoYykgPT4gYy5zaGFwZS5pc0NhcHN1bGUpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyogSW5pdGlhbGl6ZSBzcHJpbmcgYm9uZSBqb2ludCBzdGF0ZSAqL1xuICAgICAgICBmb3IgKGNvbnN0IHNwcmluZ0NoYWluIG9mIHRoaXMuX3NwcmluZ0NoYWlucykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcHJpbmdDaGFpbi5qb2ludHMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaW5nQm9uZUpvaW50ID0gc3ByaW5nQ2hhaW4uam9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkU3ByaW5nQm9uZUpvaW50ID0gc3ByaW5nQ2hhaW4uam9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpbmdCb25lUG9zaXRpb24gPSBzcHJpbmdCb25lSm9pbnQubm9kZS5nZXRUcmFuc2xhdGlvbldvcmxkKHZlYzMuY3JlYXRlKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uID0gY2hpbGRTcHJpbmdCb25lSm9pbnQubm9kZS5nZXRUcmFuc2xhdGlvbldvcmxkKHZlYzMuY3JlYXRlKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvbmVEaXJlY3Rpb24gPSB2ZWMzLnN1YnRyYWN0KHRoaXMuX3RlbXBWM0EsIHNwcmluZ0JvbmVQb3NpdGlvbiwgY2hpbGRTcHJpbmdCb25lUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICBwcmV2VGFpbDogY2hpbGRTcHJpbmdCb25lUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYWlsOiB2ZWMzLmNvcHkodmVjMy5jcmVhdGUoKSwgY2hpbGRTcHJpbmdCb25lUG9zaXRpb24pLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsTG9jYWxSb3RhdGlvbjogcXVhdC5jb3B5KHF1YXQuY3JlYXRlKCksIHNwcmluZ0JvbmVKb2ludC5ub2RlLnJvdGF0aW9uTG9jYWwpLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsTG9jYWxUcmFuc2Zvcm1JbnZlcnQ6IHF1YXQyLmludmVydChxdWF0Mi5jcmVhdGUoKSwgc3ByaW5nQm9uZUpvaW50Lm5vZGUudHJhbnNmb3JtTG9jYWwpLFxuICAgICAgICAgICAgICAgICAgICBib25lQXhpczogdmVjMy5ub3JtYWxpemUodmVjMy5jcmVhdGUoKSwgY2hpbGRTcHJpbmdCb25lSm9pbnQubm9kZS5nZXRUcmFuc2xhdGlvbkxvY2FsKHRoaXMuX3RlbXBWMykpLFxuICAgICAgICAgICAgICAgICAgICAvKiBFbnN1cmUgYm9uZSBsZW5ndGggaXMgYXQgbGVhc3QgMWNtIHRvIGF2b2lkIGppdHRlcnkgYmVoYXZpb3VyIGZyb20gemVyby1sZW5ndGggYm9uZXMgKi9cbiAgICAgICAgICAgICAgICAgICAgYm9uZUxlbmd0aDogTWF0aC5tYXgoMC4wMSwgdmVjMy5sZW5ndGgoYm9uZURpcmVjdGlvbikpLFxuICAgICAgICAgICAgICAgICAgICAvKiBUYWlsIHBvc2l0aW9ucyBpbiBjZW50ZXIgc3BhY2UsIGlmIG5lZWRlZCAqL1xuICAgICAgICAgICAgICAgICAgICBwcmV2VGFpbENlbnRlcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhaWxDZW50ZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoc3ByaW5nQ2hhaW4uY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnByZXZUYWlsQ2VudGVyID0gc3ByaW5nQ2hhaW4uY2VudGVyLnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKHZlYzMuY3JlYXRlKCksIGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuY3VycmVudFRhaWxDZW50ZXIgPSB2ZWMzLmNvcHkodmVjMy5jcmVhdGUoKSwgY2hpbGRTcHJpbmdCb25lUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzcHJpbmdCb25lSm9pbnQuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8qIDEuIFJlc29sdmUgaHVtYW5vaWQgYm9uZXMgKHBlcmZvcm1lZCBieSB1c2VyKSAqL1xuICAgICAgICAvKiAyLiBSZXNvbHZlIExvb2tBdCAoYm9uZSB0eXBlKSBhcyB0aGUgcG9zaXRpb24gb2YgdGhlIGhlYWQgaXMgZGV0ZXJtaW5lZCAqL1xuICAgICAgICB0aGlzLl9yZXNvbHZlTG9va0F0KCk7XG4gICAgICAgIC8qIDMuIEV4cHJlc3Npb24gdXBkYXRlIChUT0RPKSAqL1xuICAgICAgICAvKiA0LiBBcHBseSBFeHByZXNzaW9uIChUT0RPKSAqL1xuICAgICAgICAvKiA1LiBSZXNvbHZlIGNvbnN0cmFpbnRzICovXG4gICAgICAgIHRoaXMuX3Jlc29sdmVDb25zdHJhaW50cygpO1xuICAgICAgICAvKiA2LiBSZXNvbHZlIFNwcmluZyBCb25lICovXG4gICAgICAgIHRoaXMuX3VwZGF0ZVNwcmluZ0JvbmVzKGR0KTtcbiAgICB9XG4gICAgX3JhbmdlTWFwKHJhbmdlTWFwLCBpbnB1dCkge1xuICAgICAgICBjb25zdCBtYXhWYWx1ZSA9IHJhbmdlTWFwLmlucHV0TWF4VmFsdWU7XG4gICAgICAgIGNvbnN0IG91dHB1dFNjYWxlID0gcmFuZ2VNYXAub3V0cHV0U2NhbGU7XG4gICAgICAgIHJldHVybiAoTWF0aC5taW4oaW5wdXQsIG1heFZhbHVlKSAvIG1heFZhbHVlKSAqIG91dHB1dFNjYWxlO1xuICAgIH1cbiAgICBfcmVzb2x2ZUxvb2tBdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sb29rQXQgfHwgIXRoaXMubG9va0F0VGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9va0F0U291cmNlID0gdGhpcy5ib25lcy5oZWFkLnRyYW5zZm9ybVBvaW50V29ybGQodGhpcy5fdGVtcFYzQSwgdGhpcy5fbG9va0F0Lm9mZnNldEZyb21IZWFkQm9uZSk7XG4gICAgICAgIGNvbnN0IGxvb2tBdFRhcmdldCA9IHRoaXMubG9va0F0VGFyZ2V0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fdGVtcFYzQik7XG4gICAgICAgIGNvbnN0IGxvb2tBdERpcmVjdGlvbiA9IHZlYzMuc3ViKHRoaXMuX3RlbXBWM0EsIGxvb2tBdFRhcmdldCwgbG9va0F0U291cmNlKTtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUobG9va0F0RGlyZWN0aW9uLCBsb29rQXREaXJlY3Rpb24pO1xuICAgICAgICAvKiBDb252ZXJ0IHRoZSBkaXJlY3Rpb24gaW50byBMb29rQXQgc3BhY2UgKi9cbiAgICAgICAgdGhpcy5ib25lcy5oZWFkLnBhcmVudC50cmFuc2Zvcm1WZWN0b3JJbnZlcnNlV29ybGQobG9va0F0RGlyZWN0aW9uKTtcbiAgICAgICAgY29uc3QgeiA9IHZlYzMuZG90KGxvb2tBdERpcmVjdGlvbiwgdGhpcy5fZm9yd2FyZFZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHggPSB2ZWMzLmRvdChsb29rQXREaXJlY3Rpb24sIHRoaXMuX3JpZ2h0VmVjdG9yKTtcbiAgICAgICAgY29uc3QgeWF3ID0gTWF0aC5hdGFuMih4LCB6KSAqIHRoaXMuX3JhZDJkZWc7XG4gICAgICAgIGNvbnN0IHh6ID0gTWF0aC5zcXJ0KHggKiB4ICsgeiAqIHopO1xuICAgICAgICBjb25zdCB5ID0gdmVjMy5kb3QobG9va0F0RGlyZWN0aW9uLCB0aGlzLl91cFZlY3Rvcik7XG4gICAgICAgIGxldCBwaXRjaCA9IE1hdGguYXRhbjIoLXksIHh6KSAqIHRoaXMuX3JhZDJkZWc7XG4gICAgICAgIC8qIExpbWl0IHBpdGNoICovXG4gICAgICAgIGlmIChwaXRjaCA+IDApIHtcbiAgICAgICAgICAgIHBpdGNoID0gdGhpcy5fcmFuZ2VNYXAodGhpcy5fbG9va0F0LnZlcnRpY2FsRG93biwgcGl0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGl0Y2ggPSAtdGhpcy5fcmFuZ2VNYXAodGhpcy5fbG9va0F0LnZlcnRpY2FsVXAsIC1waXRjaCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogTGVmdCBleWUgKGxpbWl0IHlhdykgKi9cbiAgICAgICAgaWYgKHRoaXMuYm9uZXMubGVmdEV5ZSkge1xuICAgICAgICAgICAgbGV0IHlhd0xlZnQgPSB5YXc7XG4gICAgICAgICAgICBpZiAoeWF3TGVmdCA+IDApIHtcbiAgICAgICAgICAgICAgICB5YXdMZWZ0ID0gdGhpcy5fcmFuZ2VNYXAodGhpcy5fbG9va0F0Lmhvcml6b250YWxJbm5lciwgeWF3TGVmdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB5YXdMZWZ0ID0gLXRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsT3V0ZXIsIC15YXdMZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGV5ZVJvdGF0aW9uID0gcXVhdC5mcm9tRXVsZXIodGhpcy5fdGVtcFF1YXRBLCBwaXRjaCwgeWF3TGVmdCwgMCk7XG4gICAgICAgICAgICB0aGlzLmJvbmVzLmxlZnRFeWUucm90YXRpb25Mb2NhbCA9IHF1YXQubXVsdGlwbHkoZXllUm90YXRpb24sIHRoaXMucmVzdFBvc2UubGVmdEV5ZSwgZXllUm90YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIC8qIFJpZ2h0IGV5ZSAobGltaXQgeWF3KSAqL1xuICAgICAgICBpZiAodGhpcy5ib25lcy5yaWdodEV5ZSkge1xuICAgICAgICAgICAgbGV0IHlhd1JpZ2h0ID0geWF3O1xuICAgICAgICAgICAgaWYgKHlhd1JpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgIHlhd1JpZ2h0ID0gdGhpcy5fcmFuZ2VNYXAodGhpcy5fbG9va0F0Lmhvcml6b250YWxPdXRlciwgeWF3UmlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgeWF3UmlnaHQgPSAtdGhpcy5fcmFuZ2VNYXAodGhpcy5fbG9va0F0Lmhvcml6b250YWxJbm5lciwgLXlhd1JpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGV5ZVJvdGF0aW9uID0gcXVhdC5mcm9tRXVsZXIodGhpcy5fdGVtcFF1YXRBLCBwaXRjaCwgeWF3UmlnaHQsIDApO1xuICAgICAgICAgICAgdGhpcy5ib25lcy5yaWdodEV5ZS5yb3RhdGlvbkxvY2FsID0gcXVhdC5tdWx0aXBseShleWVSb3RhdGlvbiwgdGhpcy5yZXN0UG9zZS5yaWdodEV5ZSwgZXllUm90YXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9yZXNvbHZlQ29uc3RyYWludHMoKSB7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZUNvbnN0cmFpbnQgb2YgdGhpcy5fbm9kZUNvbnN0cmFpbnRzKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlQ29uc3RyYWludChub2RlQ29uc3RyYWludCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3Jlc29sdmVDb25zdHJhaW50KG5vZGVDb25zdHJhaW50KSB7XG4gICAgICAgIGNvbnN0IGRzdFJlc3RRdWF0ID0gbm9kZUNvbnN0cmFpbnQuZGVzdGluYXRpb25SZXN0TG9jYWxSb3RhdGlvbjtcbiAgICAgICAgY29uc3Qgc3JjUmVzdFF1YXRJbnYgPSBub2RlQ29uc3RyYWludC5zb3VyY2VSZXN0TG9jYWxSb3RhdGlvbkludjtcbiAgICAgICAgY29uc3QgdGFyZ2V0UXVhdCA9IHF1YXQuaWRlbnRpdHkodGhpcy5fdGVtcFF1YXRBKTtcbiAgICAgICAgc3dpdGNoIChub2RlQ29uc3RyYWludC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdyb2xsJzpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhU3JjUXVhdCA9IHF1YXQubXVsdGlwbHkodGhpcy5fdGVtcFF1YXRBLCBzcmNSZXN0UXVhdEludiwgbm9kZUNvbnN0cmFpbnQuc291cmNlLnJvdGF0aW9uTG9jYWwpO1xuICAgICAgICAgICAgICAgICAgICAvKiBzb3VyY2UgdG8gcGFyZW50ICovXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhU3JjUXVhdEluUGFyZW50ID0gcXVhdC5tdWx0aXBseSh0aGlzLl90ZW1wUXVhdEEsIG5vZGVDb25zdHJhaW50LnNvdXJjZVJlc3RMb2NhbFJvdGF0aW9uLCBkZWx0YVNyY1F1YXQpO1xuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bChkZWx0YVNyY1F1YXRJblBhcmVudCwgZGVsdGFTcmNRdWF0SW5QYXJlbnQsIHNyY1Jlc3RRdWF0SW52KTtcbiAgICAgICAgICAgICAgICAgICAgLyogcGFyZW50IHRvIGRlc3RpbmF0aW9uICovXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRzdFJlc3RRdWF0SW52ID0gcXVhdC5pbnZlcnQodGhpcy5fdGVtcFF1YXRCLCBkc3RSZXN0UXVhdCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhU3JjUXVhdEluRHN0ID0gcXVhdC5tdWx0aXBseSh0aGlzLl90ZW1wUXVhdEIsIGRzdFJlc3RRdWF0SW52LCBkZWx0YVNyY1F1YXRJblBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsdGlwbHkoZGVsdGFTcmNRdWF0SW5Ec3QsIGRlbHRhU3JjUXVhdEluRHN0LCBkc3RSZXN0UXVhdCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvVmVjID0gdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuX3RlbXBWM0EsIG5vZGVDb25zdHJhaW50LmF4aXMsIGRlbHRhU3JjUXVhdEluRHN0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVRvUXVhdCA9IHF1YXQucm90YXRpb25Ubyh0aGlzLl90ZW1wUXVhdEEsIG5vZGVDb25zdHJhaW50LmF4aXMsIHRvVmVjKTtcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwodGFyZ2V0UXVhdCwgZHN0UmVzdFF1YXQsIHF1YXQuaW52ZXJ0KHRoaXMuX3RlbXBRdWF0LCBmcm9tVG9RdWF0KSk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIHRhcmdldFF1YXQsIGRlbHRhU3JjUXVhdEluRHN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdhaW0nOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHN0UGFyZW50V29ybGRRdWF0ID0gbm9kZUNvbnN0cmFpbnQuZGVzdGluYXRpb24ucGFyZW50LnJvdGF0aW9uV29ybGQ7XG4gICAgICAgICAgICAgICAgICAgIC8qIGZyb21WZWMgPSBhaW1BeGlzLmFwcGx5UXVhdGVybmlvbiggZHN0UGFyZW50V29ybGRRdWF0ICogZHN0UmVzdFF1YXQgKSAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tVmVjID0gdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuX3RlbXBWM0EsIG5vZGVDb25zdHJhaW50LmF4aXMsIGRzdFJlc3RRdWF0KTtcbiAgICAgICAgICAgICAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KGZyb21WZWMsIGZyb21WZWMsIGRzdFBhcmVudFdvcmxkUXVhdCk7XG4gICAgICAgICAgICAgICAgICAgIC8qIHRvVmVjID0gKCBzcmNXb3JsZFBvcyAtIGRzdFdvcmxkUG9zICkubm9ybWFsaXplZCAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b1ZlYyA9IG5vZGVDb25zdHJhaW50LnNvdXJjZS5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWM0IpO1xuICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1Yih0b1ZlYywgdG9WZWMsIG5vZGVDb25zdHJhaW50LmRlc3RpbmF0aW9uLmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fdGVtcFYzKSk7XG4gICAgICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKHRvVmVjLCB0b1ZlYyk7XG4gICAgICAgICAgICAgICAgICAgIC8qIGZyb21Ub1F1YXQgPSBRdWF0ZXJuaW9uLmZyb21Ub1JvdGF0aW9uKCBmcm9tVmVjLCB0b1ZlYyApICovXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21Ub1F1YXQgPSBxdWF0LnJvdGF0aW9uVG8odGhpcy5fdGVtcFF1YXRBLCBmcm9tVmVjLCB0b1ZlYyk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIHF1YXQuaW52ZXJ0KHRoaXMuX3RlbXBRdWF0LCBkc3RQYXJlbnRXb3JsZFF1YXQpLCBmcm9tVG9RdWF0KTtcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwodGFyZ2V0UXVhdCwgdGFyZ2V0UXVhdCwgZHN0UGFyZW50V29ybGRRdWF0KTtcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwodGFyZ2V0UXVhdCwgdGFyZ2V0UXVhdCwgZHN0UmVzdFF1YXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JvdGF0aW9uJzpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNyY0RlbHRhUXVhdCA9IHF1YXQubXVsKHRhcmdldFF1YXQsIHNyY1Jlc3RRdWF0SW52LCBub2RlQ29uc3RyYWludC5zb3VyY2Uucm90YXRpb25Mb2NhbCk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIGRzdFJlc3RRdWF0LCBzcmNEZWx0YVF1YXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvKiBBcHBseSBjb25zdHJhaW50ICovXG4gICAgICAgIHF1YXQuc2xlcnAodGFyZ2V0UXVhdCwgZHN0UmVzdFF1YXQsIHRhcmdldFF1YXQsIG5vZGVDb25zdHJhaW50LndlaWdodCk7XG4gICAgICAgIG5vZGVDb25zdHJhaW50LmRlc3RpbmF0aW9uLnJvdGF0aW9uTG9jYWwgPSB0YXJnZXRRdWF0O1xuICAgIH1cbiAgICBfdXBkYXRlU3ByaW5nQm9uZXMoZHQpIHtcbiAgICAgICAgLyogUHJlLWNvbXB1dGUgY29sbGlkZXIgcG9zaXRpb25zICovXG4gICAgICAgIHRoaXMuX3NwaGVyZUNvbGxpZGVycy5mb3JFYWNoKCh7IG9iamVjdCwgc2hhcGUsIGNhY2hlIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHZlYzMuY29weShjYWNoZS5oZWFkLCBzaGFwZS5vZmZzZXQpO1xuICAgICAgICAgICAgb2JqZWN0LnRyYW5zZm9ybVZlY3RvcldvcmxkKG9mZnNldCk7XG4gICAgICAgICAgICB2ZWMzLmFkZChjYWNoZS5oZWFkLCBvYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjMpLCBvZmZzZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fY2Fwc3VsZUNvbGxpZGVycy5mb3JFYWNoKCh7IG9iamVjdCwgc2hhcGUsIGNhY2hlIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlQ2VudGVyID0gb2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fdGVtcFYzQSk7XG4gICAgICAgICAgICBjb25zdCBoZWFkT2Zmc2V0ID0gdmVjMy5jb3B5KGNhY2hlLmhlYWQsIHNoYXBlLm9mZnNldCk7XG4gICAgICAgICAgICBvYmplY3QudHJhbnNmb3JtVmVjdG9yV29ybGQoaGVhZE9mZnNldCk7XG4gICAgICAgICAgICB2ZWMzLmFkZChjYWNoZS5oZWFkLCBzaGFwZUNlbnRlciwgaGVhZE9mZnNldCk7XG4gICAgICAgICAgICBjb25zdCB0YWlsT2Zmc2V0ID0gdmVjMy5jb3B5KGNhY2hlLnRhaWwsIHNoYXBlLnRhaWwpO1xuICAgICAgICAgICAgb2JqZWN0LnRyYW5zZm9ybVZlY3RvcldvcmxkKHRhaWxPZmZzZXQpO1xuICAgICAgICAgICAgdmVjMy5hZGQoY2FjaGUudGFpbCwgc2hhcGVDZW50ZXIsIHRhaWxPZmZzZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgLyogVXBkYXRlIHNwcmluZyBjaGFpbnMgKi9cbiAgICAgICAgdGhpcy5fc3ByaW5nQ2hhaW5zLmZvckVhY2goKHNwcmluZ0NoYWluKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwcmluZ0NoYWluLmpvaW50cy5sZW5ndGggLSAxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2ludCA9IHNwcmluZ0NoYWluLmpvaW50c1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRXb3JsZFJvdGF0aW9uID0gam9pbnQubm9kZS5wYXJlbnRcbiAgICAgICAgICAgICAgICAgICAgPyBqb2ludC5ub2RlLnBhcmVudC5yb3RhdGlvbldvcmxkXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5faWRlbnRpdHlRdWF0O1xuICAgICAgICAgICAgICAgIC8qIDEuIEZvcmNlcyAqL1xuICAgICAgICAgICAgICAgIC8qIGluZXJ0aWEgPSAoY3VycmVudFRhaWwgLSBwcmV2VGFpbCkgKiAoMS4wZiAtIGRyYWdGb3JjZSk7ICovXG4gICAgICAgICAgICAgICAgY29uc3QgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWE7XG4gICAgICAgICAgICAgICAgaWYgKHNwcmluZ0NoYWluLmNlbnRlcikge1xuICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1YihpbmVydGlhLCBqb2ludC5zdGF0ZS5jdXJyZW50VGFpbENlbnRlciwgam9pbnQuc3RhdGUucHJldlRhaWxDZW50ZXIpO1xuICAgICAgICAgICAgICAgICAgICBzcHJpbmdDaGFpbi5jZW50ZXIudHJhbnNmb3JtVmVjdG9yV29ybGQoaW5lcnRpYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1YihpbmVydGlhLCBqb2ludC5zdGF0ZS5jdXJyZW50VGFpbCwgam9pbnQuc3RhdGUucHJldlRhaWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlKGluZXJ0aWEsIGluZXJ0aWEsIDEuMCAtIGpvaW50LmRyYWdGb3JjZSk7XG4gICAgICAgICAgICAgICAgLyogc3RpZmZuZXNzID0gZGVsdGFUaW1lICogcGFyZW50V29ybGRSb3RhdGlvbiAqIGxvY2FsUm90YXRpb24gKiBib25lQXhpcyAqIHN0aWZmbmVzc0ZvcmNlOyAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0aWZmbmVzcyA9IHZlYzMuY29weSh0aGlzLl9zdGlmZm5lc3MsIGpvaW50LnN0YXRlLmJvbmVBeGlzKTtcbiAgICAgICAgICAgICAgICB2ZWMzLnRyYW5zZm9ybVF1YXQoc3RpZmZuZXNzLCBzdGlmZm5lc3MsIGpvaW50LnN0YXRlLmluaXRpYWxMb2NhbFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICB2ZWMzLnRyYW5zZm9ybVF1YXQoc3RpZmZuZXNzLCBzdGlmZm5lc3MsIHBhcmVudFdvcmxkUm90YXRpb24pO1xuICAgICAgICAgICAgICAgIHZlYzMuc2NhbGUoc3RpZmZuZXNzLCBzdGlmZm5lc3MsIGR0ICogam9pbnQuc3RpZmZuZXNzKTtcbiAgICAgICAgICAgICAgICAvKiBleHRlcm5hbCA9IGRlbHRhVGltZSAqIGdyYXZpdHlEaXIgKiBncmF2aXR5UG93ZXI7ICovXG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZXJuYWwgPSB2ZWMzLnNjYWxlKHRoaXMuX2V4dGVybmFsLCBqb2ludC5ncmF2aXR5RGlyLCBkdCAqIGpvaW50LmdyYXZpdHlQb3dlcik7XG4gICAgICAgICAgICAgICAgLyogbmV4dFRhaWwgPSBjdXJyZW50VGFpbCArIGluZXJ0aWEgKyBzdGlmZm5lc3MgKyBleHRlcm5hbDsgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFpbCA9IHZlYzMuY29weSh0aGlzLl90ZW1wVjNBLCBqb2ludC5zdGF0ZS5jdXJyZW50VGFpbCk7XG4gICAgICAgICAgICAgICAgdmVjMy5hZGQobmV4dFRhaWwsIG5leHRUYWlsLCBpbmVydGlhKTtcbiAgICAgICAgICAgICAgICB2ZWMzLmFkZChuZXh0VGFpbCwgbmV4dFRhaWwsIHN0aWZmbmVzcyk7XG4gICAgICAgICAgICAgICAgdmVjMy5hZGQobmV4dFRhaWwsIG5leHRUYWlsLCBleHRlcm5hbCk7XG4gICAgICAgICAgICAgICAgLyogY29uc3RyYWluIHRoZSBsZW5ndGggKi9cbiAgICAgICAgICAgICAgICAvKiBuZXh0VGFpbCA9IHdvcmxkUG9zaXRpb24gKyAobmV4dFRhaWwgLSB3b3JsZFBvc2l0aW9uKS5ub3JtYWxpemVkICogYm9uZUxlbmd0aDsgKi9cbiAgICAgICAgICAgICAgICBjb25zdCB3b3JsZFBvc2l0aW9uID0gam9pbnQubm9kZS5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWM0IpO1xuICAgICAgICAgICAgICAgIHZlYzMuc3ViKG5leHRUYWlsLCBuZXh0VGFpbCwgd29ybGRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUobmV4dFRhaWwsIG5leHRUYWlsKTtcbiAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKG5leHRUYWlsLCB3b3JsZFBvc2l0aW9uLCBuZXh0VGFpbCwgam9pbnQuc3RhdGUuYm9uZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgLyogMi4gQ29sbGlzaW9uIHdpdGggY29sbGlkZXJzICovXG4gICAgICAgICAgICAgICAgLyogU3BoZXJlIGNvbGxpZGVycyAqL1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgeyBzaGFwZSwgY2FjaGUgfSBvZiBzcHJpbmdDaGFpbi5zcGhlcmVDb2xsaWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhaWxUb1NoYXBlID0gdGhpcy5fdGFpbFRvU2hhcGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwaGVyZUNlbnRlciA9IGNhY2hlLmhlYWQ7XG4gICAgICAgICAgICAgICAgICAgIHRhaWxUb1NoYXBlID0gdmVjMy5zdWIodGFpbFRvU2hhcGUsIG5leHRUYWlsLCBzcGhlcmVDZW50ZXIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWRpdXMgPSBzaGFwZS5yYWRpdXMgKyBqb2ludC5oaXRSYWRpdXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3QgPSB2ZWMzLmxlbmd0aCh0YWlsVG9TaGFwZSkgLSByYWRpdXM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgMC4wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0YWlsVG9TaGFwZSwgdGFpbFRvU2hhcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChuZXh0VGFpbCwgbmV4dFRhaWwsIHRhaWxUb1NoYXBlLCAtZGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBjb25zdHJhaW50IHRoZSBsZW5ndGggKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKG5leHRUYWlsLCBuZXh0VGFpbCwgd29ybGRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShuZXh0VGFpbCwgbmV4dFRhaWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChuZXh0VGFpbCwgd29ybGRQb3NpdGlvbiwgbmV4dFRhaWwsIGpvaW50LnN0YXRlLmJvbmVMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIENhcHN1bGUgY29sbGlkZXJzICovXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB7IHNoYXBlLCBjYWNoZSB9IG9mIHNwcmluZ0NoYWluLmNhcHN1bGVDb2xsaWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhaWxUb1NoYXBlID0gdGhpcy5fdGFpbFRvU2hhcGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWQgPSBjYWNoZS5oZWFkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWlsID0gY2FjaGUudGFpbDtcbiAgICAgICAgICAgICAgICAgICAgLyogTmFpdmVseSBzdGFydCB3aXRoIGRpc3RhbmNlIHRvIHRoZSBoZWFkICovXG4gICAgICAgICAgICAgICAgICAgIHRhaWxUb1NoYXBlID0gdmVjMy5zdWIodGFpbFRvU2hhcGUsIG5leHRUYWlsLCBoZWFkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZFRvVGFpbCA9IHZlYzMuc3ViKHRoaXMuX2hlYWRUb1RhaWwsIHRhaWwsIGhlYWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3QgPSB2ZWMzLmRvdChoZWFkVG9UYWlsLCB0YWlsVG9TaGFwZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2ZWMzLnNxdWFyZWRMZW5ndGgoaGVhZFRvVGFpbCkgPD0gZG90KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBDbG9zZXN0IHRvIHRhaWwgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKHRhaWxUb1NoYXBlLCBuZXh0VGFpbCwgdGFpbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZG90ID4gMC4wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBDbG9zZXN0IHRvIG1pZGRsZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zY2FsZShoZWFkVG9UYWlsLCBoZWFkVG9UYWlsLCBkb3QgLyB2ZWMzLnNxdWFyZWRMZW5ndGgoaGVhZFRvVGFpbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIodGFpbFRvU2hhcGUsIHRhaWxUb1NoYXBlLCBoZWFkVG9UYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWRpdXMgPSBzaGFwZS5yYWRpdXMgKyBqb2ludC5oaXRSYWRpdXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3QgPSB2ZWMzLmxlbmd0aCh0YWlsVG9TaGFwZSkgLSByYWRpdXM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgMC4wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0YWlsVG9TaGFwZSwgdGFpbFRvU2hhcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChuZXh0VGFpbCwgbmV4dFRhaWwsIHRhaWxUb1NoYXBlLCAtZGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBjb25zdHJhaW50IHRoZSBsZW5ndGggKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKG5leHRUYWlsLCBuZXh0VGFpbCwgd29ybGRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShuZXh0VGFpbCwgbmV4dFRhaWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChuZXh0VGFpbCwgd29ybGRQb3NpdGlvbiwgbmV4dFRhaWwsIGpvaW50LnN0YXRlLmJvbmVMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIDMuIEFwcGx5aW5nIHJvdGF0aW9uICovXG4gICAgICAgICAgICAgICAgdmVjMy5jb3B5KGpvaW50LnN0YXRlLnByZXZUYWlsLCBqb2ludC5zdGF0ZS5jdXJyZW50VGFpbCk7XG4gICAgICAgICAgICAgICAgdmVjMy5jb3B5KGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsLCBuZXh0VGFpbCk7XG4gICAgICAgICAgICAgICAgaWYgKHNwcmluZ0NoYWluLmNlbnRlcikge1xuICAgICAgICAgICAgICAgICAgICB2ZWMzLmNvcHkoam9pbnQuc3RhdGUucHJldlRhaWxDZW50ZXIsIGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsQ2VudGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5jb3B5KGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsQ2VudGVyLCBuZXh0VGFpbCk7XG4gICAgICAgICAgICAgICAgICAgIHNwcmluZ0NoYWluLmNlbnRlci50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZChqb2ludC5zdGF0ZS5jdXJyZW50VGFpbENlbnRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIHRvID0gKG5leHRUYWlsICogKG5vZGUucGFyZW50LndvcmxkTWF0cml4ICogaW5pdGlhbExvY2FsTWF0cml4KS5pbnZlcnNlKS5ub3JtYWxpemVkICovXG4gICAgICAgICAgICAgICAgam9pbnQubm9kZS5wYXJlbnQudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQobmV4dFRhaWwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUYWlsRHVhbFF1YXQgPSBxdWF0Mi5mcm9tVHJhbnNsYXRpb24odGhpcy5fdGVtcFF1YXQyLCBuZXh0VGFpbCk7XG4gICAgICAgICAgICAgICAgcXVhdDIubXVsdGlwbHkobmV4dFRhaWxEdWFsUXVhdCwgam9pbnQuc3RhdGUuaW5pdGlhbExvY2FsVHJhbnNmb3JtSW52ZXJ0LCBuZXh0VGFpbER1YWxRdWF0KTtcbiAgICAgICAgICAgICAgICBxdWF0Mi5nZXRUcmFuc2xhdGlvbihuZXh0VGFpbCwgbmV4dFRhaWxEdWFsUXVhdCk7XG4gICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUobmV4dFRhaWwsIG5leHRUYWlsKTtcbiAgICAgICAgICAgICAgICAvKiBub2RlLnJvdGF0aW9uID0gaW5pdGlhbExvY2FsUm90YXRpb24gKiBRdWF0ZXJuaW9uLmZyb21Ub1F1YXRlcm5pb24oYm9uZUF4aXMsIHRvKTsgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBqb2ludFJvdGF0aW9uID0gcXVhdC5yb3RhdGlvblRvKHRoaXMuX3RlbXBRdWF0QSwgam9pbnQuc3RhdGUuYm9uZUF4aXMsIG5leHRUYWlsKTtcbiAgICAgICAgICAgICAgICBqb2ludC5ub2RlLnJvdGF0aW9uTG9jYWwgPSBxdWF0Lm11bCh0aGlzLl90ZW1wUXVhdEEsIGpvaW50LnN0YXRlLmluaXRpYWxMb2NhbFJvdGF0aW9uLCBqb2ludFJvdGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmlyc3RQZXJzb24gV2hldGhlciB0aGUgbW9kZWwgc2hvdWxkIHJlbmRlciBmb3IgZmlyc3QgcGVyc29uIG9yIHRoaXJkIHBlcnNvbiB2aWV3c1xuICAgICAqL1xuICAgIHNldCBmaXJzdFBlcnNvbihmaXJzdFBlcnNvbikge1xuICAgICAgICB0aGlzLl9maXJzdFBlcnNvbkFubm90YXRpb25zLmZvckVhY2goKGFubm90YXRpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZpc2libGUgPSBmaXJzdFBlcnNvbiA9PSBhbm5vdGF0aW9uLmZpcnN0UGVyc29uIHx8XG4gICAgICAgICAgICAgICAgZmlyc3RQZXJzb24gIT0gYW5ub3RhdGlvbi50aGlyZFBlcnNvbjtcbiAgICAgICAgICAgIGFubm90YXRpb24ubm9kZS5nZXRDb21wb25lbnRzKCdtZXNoJykuZm9yRWFjaCgobWVzaCkgPT4ge1xuICAgICAgICAgICAgICAgIG1lc2guYWN0aXZlID0gdmlzaWJsZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgeyBWcm0gfTtcbiIsICJcclxuLyoqXHJcbiAqIGdhbWUgYW5kIHN0YXRlIHRvZ2V0aGVyIGhvbGQgdGhlIHJhbmRvbSBmdW5jdGlvbnMgYW5kIGdhbWUgaW5mb3JtYXRpb24gdGhhdCBuZWVkcyB0byBiZSBhY2Nlc3NlZCBhY3Jvc3MgdGhlIGZpbGUuXHJcbiAqIHVwZGF0ZSBpdCB3aGVuZXZlciB5b3UgbmVlZCB0byBhZGQgc29tZXRoaW5nIGF0IGFnYW1lIGxldmVsIFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHN0YXRlID0ge1xyXG4gICAgRW5lbXlTcGF3bmVyIDogW10sXHJcbiAgICBzcGF3bjogbnVsbCxcclxuICAgIGN1cnJlbnRFbmVtaWVzIDogW10sXHJcbiAgICBjdXJyZW5jeTogMCxcclxuICAgIGhlYWx0aDoxMDAsXHJcbiAgICAgdGVzdDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmhlYWx0aC50b1N0cmluZygpfSxcclxuICAgICBjdXJyVUk6IG51bGwsXHJcbiAgICAgdHVycmV0U3Bhd25lcjogW10sXHJcbiAgICAgdHVycmV0czogW10sXHJcbiAgICAgYnVpbGRUIDogbnVsbCwgXHJcbiAgICAgc3Bhd25lZDowLFxyXG4gICAgIGN1cnJlbmN5OiAwLFxyXG5cclxufSIsICJpbXBvcnQgeyB2ZWMzIH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQge3N0YXRlIH0gZnJvbSBcIi4vLi4vLi4vLi4vLi4vanMvZ2FtZVwiO1xuY29uc3QgX2RpcmVjdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4vKipcbiAqIEJhc2ljIG1vdmVtZW50IHdpdGggVy9BL1MvRCBrZXlzLlxuICovXG5jbGFzcyBXYXNkQ29udHJvbHNDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd3YXNkLWNvbnRyb2xzJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIE1vdmVtZW50IHNwZWVkIGluIG0vcy4gKi9cbiAgICAgICAgc3BlZWQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC4xIH0sXG4gICAgICAgIC8qKiBGbGFnIGZvciBvbmx5IG1vdmluZyB0aGUgb2JqZWN0IG9uIHRoZSBnbG9iYWwgeCAmIHogcGxhbmVzICovXG4gICAgICAgIGxvY2tZOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICAgICAgLyoqIE9iamVjdCBvZiB3aGljaCB0aGUgb3JpZW50YXRpb24gaXMgdXNlZCB0byBkZXRlcm1pbmUgZm9yd2FyZCBkaXJlY3Rpb24gKi9cbiAgICAgICAgaGVhZE9iamVjdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgIH07XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy51cCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG93biA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxlZnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zcGF3bSA9IGZhbHNlO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMucHJlc3MuYmluZCh0aGlzKSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVsZWFzZS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuaGVhZE9iamVjdCA9IHRoaXMuaGVhZE9iamVjdCB8fCB0aGlzLm9iamVjdDtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICB2ZWMzLnplcm8oX2RpcmVjdGlvbik7XG4gICAgICAgIGlmICh0aGlzLnVwKVxuICAgICAgICAgICAgX2RpcmVjdGlvblsyXSAtPSAxLjA7XG4gICAgICAgIGlmICh0aGlzLmRvd24pXG4gICAgICAgICAgICBfZGlyZWN0aW9uWzJdICs9IDEuMDtcbiAgICAgICAgaWYgKHRoaXMubGVmdClcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMF0gLT0gMS4wO1xuICAgICAgICBpZiAodGhpcy5yaWdodClcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMF0gKz0gMS4wO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShfZGlyZWN0aW9uLCBfZGlyZWN0aW9uKTtcbiAgICAgICAgX2RpcmVjdGlvblswXSAqPSB0aGlzLnNwZWVkO1xuICAgICAgICBfZGlyZWN0aW9uWzJdICo9IHRoaXMuc3BlZWQ7XG4gICAgICAgIHZlYzMudHJhbnNmb3JtUXVhdChfZGlyZWN0aW9uLCBfZGlyZWN0aW9uLCB0aGlzLmhlYWRPYmplY3QudHJhbnNmb3JtV29ybGQpO1xuICAgICAgICBpZiAodGhpcy5sb2NrWSkge1xuICAgICAgICAgICAgX2RpcmVjdGlvblsxXSA9IDA7XG4gICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShfZGlyZWN0aW9uLCBfZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHZlYzMuc2NhbGUoX2RpcmVjdGlvbiwgX2RpcmVjdGlvbiwgdGhpcy5zcGVlZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlTG9jYWwoX2RpcmVjdGlvbik7XG4gICAgfVxuICAgIHByZXNzKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzggLyogdXAgKi8gfHxcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gODcgLyogdyAqLyB8fFxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA5MCAvKiB6ICovKSB7XG4gICAgICAgICAgICB0aGlzLnVwID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM5IC8qIHJpZ2h0ICovIHx8IGUua2V5Q29kZSA9PT0gNjggLyogZCAqLykge1xuICAgICAgICAgICAgdGhpcy5yaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSA0MCAvKiBkb3duICovIHx8IGUua2V5Q29kZSA9PT0gODMgLyogcyAqLykge1xuICAgICAgICAgICAgdGhpcy5kb3duID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3IC8qIGxlZnQgKi8gfHxcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gNjUgLyogYSAqLyB8fFxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA4MSAvKiBxICovKSB7XG4gICAgICAgICAgICB0aGlzLmxlZnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNjkgKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdGF0ZS5idWlsZFQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWxlYXNlKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzggLyogdXAgKi8gfHxcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gODcgLyogdyAqLyB8fFxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA5MCAvKiB6ICovKSB7XG4gICAgICAgICAgICB0aGlzLnVwID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzOSAvKiByaWdodCAqLyB8fCBlLmtleUNvZGUgPT09IDY4IC8qIGQgKi8pIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDQwIC8qIGRvd24gKi8gfHwgZS5rZXlDb2RlID09PSA4MyAvKiBzICovKSB7XG4gICAgICAgICAgICB0aGlzLmRvd24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3IC8qIGxlZnQgKi8gfHxcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gNjUgLyogYSAqLyB8fFxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA4MSAvKiBxICovKSB7XG4gICAgICAgICAgICB0aGlzLmxlZnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCB7IFdhc2RDb250cm9sc0NvbXBvbmVudCB9O1xuIiwgImltcG9ydCB7IFRleHR1cmUsIE9iamVjdDNEIH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaVwiO1xuaW1wb3J0IHsgdmVjMywgcXVhdCB9IGZyb20gXCJnbC1tYXRyaXhcIjtcbmltcG9ydCB7c3RhdGUgfSBmcm9tIFwiLi9nYW1lXCI7XG5cblxuLy8gVGhpcyBpcyB0aGUgY29kZSBTaGFyaWFoYXIgcHJvdmlkZWQgZm9yIHRoZSBVSSBpbnRlcmZhY2UgYWxvbmcgd2l0aCB0aGUgIHVpSGFuZGxlciBqcy4gVGhpcyBjb2RlIGlzIGEgY29tcGxpY2F0ZWRjIGNvbmZ1c2luZyBtZXNzIGFuZCBJIHdvdWxkIGF2b2lkIHRvdWNoaW5nIGl0IFxuLy8gdW5sZXNzIGFic29sdXRlbHkgbmVjZXNzYXJ5XG5cblxuY2xhc3MgQ2FudmFzS2V5Ym9hcmR7XG4gICAgY29uc3RydWN0b3IoIHdpZHRoLCBjYW52YXN1aSwgbGFuZyA9IFwiRU5cIiApe1xuICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLmdldENvbmZpZyggbGFuZyApO1xuICAgICAgICBjb25maWcucGFuZWxTaXplID0geyB3aWR0aCwgaGVpZ2h0OiB3aWR0aCAqIDAuNSB9O1xuICAgICAgICBjb25maWcuaGVpZ2h0ID0gMjU2O1xuICAgICAgICBjb25maWcuYm9keSA9IHsgYmFja2dyb3VuZENvbG9yOiBcIiM1NTVcIiB9O1xuXG4gICAgICAgIGNvbnN0IG9iamVjdCA9IFdMLnNjZW5lLmFkZE9iamVjdCgpO1xuICAgICAgICBvYmplY3QubmFtZSA9ICdrZXlib2FyZCc7XG4gICAgICAgIGNvbnN0IG1lc2ggPSBvYmplY3QuYWRkQ29tcG9uZW50KCdtZXNoJyk7XG4gICAgICAgIGNvbnN0IHVpbWVzaCA9IGNhbnZhc3VpLm9iamVjdC5nZXRDb21wb25lbnQoJ21lc2gnKTtcbiAgICAgICAgbWVzaC5tZXNoID0gdWltZXNoLm1lc2g7XG4gICAgICAgIG1lc2gubWF0ZXJpYWwgPSB1aW1lc2gubWF0ZXJpYWwuY2xvbmUoKTtcbiAgICAgICAgb2JqZWN0LmFkZENvbXBvbmVudCgnY3Vyc29yLXRhcmdldCcpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLmdldENvbnRlbnQobGFuZyk7XG5cbiAgICAgICAgdGhpcy5rZXlib2FyZCA9IG5ldyBDYW52YXNVSSggY29udGVudCwgY29uZmlnLCBvYmplY3QsIGNhbnZhc3VpLmVuZ2luZSApO1xuXG4gICAgICAgIHRoaXMudG1wVmVjID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgdGhpcy5ocD0gc3RhdGUudGVzdCgpO1xuICAgIH1cbiAgICBcbiAgICBnZXQgb2JqZWN0KCl7XG4gICAgICAgIHJldHVybiB0aGlzLmtleWJvYXJkLm9iamVjdDtcbiAgICB9XG4gICAgXG4gICAgZ2V0Q29uZmlnKCBsYW5nICl7XG4gICAgICAgIC8vRU5cbiAgICAgICAgLy9rZXlzXG4gICAgICAgIC8vcXdlcnR5dWlvcCAtIDEwIHNxdWFyZSAtIGJ0bjAtYnRuOVxuICAgICAgICAvL2FzZGZnaGprbEAgLSAxMCBzcXVhcmUgYnV0dG9ucyAtIGJ0bjEwLWJ0bjE5XG4gICAgICAgIC8vXnp4Y3Zibm08IC0gMS41IHNoaWZ0LDcgc3F1YXJlLDEuNSBiYWNrc3BhY2UgLSBidG4yMC1idG4yOFxuICAgICAgICAvL1s/MTIzXSxzcGFjZS5bRW50ZXJdIC0gMiwxLDQsMSwyIC0gYnRuMzAtYnRuMzRcbiAgICAgICAgLy9rZXlzIHNoaWZ0ZWRcbiAgICAgICAgLy9RV0VSVFlVSU9QIC0gMTAgc3F1YXJlIFxuICAgICAgICAvL0FTREZHSEpLTEAgLSAxMCBzcXVhcmUgYnV0dG9uc1xuICAgICAgICAvL15aWENWQk5NPCAtIDEuNSBzaGlmdCw3IHNxdWFyZSwxLjUgYmFja3NwYWNlXG4gICAgICAgIC8vWz8xMjNdLHNwYWNlLltFbnRlcl0gLSAyLDEsNCwxLDJcbiAgICAgICAgLy9udW1iZXJzXG4gICAgICAgIC8vMTIzNDU2Nzg5MCAtIDEwIHNxdWFyZVxuICAgICAgICAvL0AjJSYqLy0rKCkgLSAxMCBzcVxuICAgICAgICAvL14/IVwiJ1xcOjs8IC0gMS41IHNoaWZ0LDcgc3F1YXJlLDEuNSBiYWNrc3BhY2VcbiAgICAgICAgLy9bQUJDXSxzcGFjZS5bRW50ZXJdIC0gMiwxLDQsMSwyXG4gICAgICAgIC8vbnVtYmVycyBzaGlmdGVkXG4gICAgICAgIC8vMTIzNDU2Nzg5MCAtIDEwIHNxdWFyZVxuICAgICAgICAvL1x1MjBBQ1x1MDBBMyRePXx7fVtdIC0gMTAgc3FcbiAgICAgICAgLy9ePD5fYH46OzwgLSAxLjUgc2hpZnQsNyBzcXVhcmUsMS41IGJhY2tzcGFjZVxuICAgICAgICAvL1tBQkNdLHNwYWNlLltFbnRlcl0gLSAyLDEsNCwxLDJcbiAgICAgICAgY29uc3QgY29uZmlnID0ge307XG4gICAgICAgIGxldCBwYWRkaW5nID0gMTA7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdUb3AgPSAyMDtcbiAgICAgICAgY29uc3Qgd2lkdGggPSAoKDUxMiAtIDIgKiBwYWRkaW5nKSAvIDEwKSAtIHBhZGRpbmc7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9ICgoIDI1NiAtIDIgKiBwYWRkaW5nKSAvIDQpIC0gcGFkZGluZztcbiAgICAgICAgY29uc3QgaG92ZXIgPSBcIiMzMzNcIjtcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZENvbG9yID0gXCIjMDAwXCI7XG4gICAgICAgIC8vVG9wIHJvd1xuICAgICAgICBsZXQgeSA9IHBhZGRpbmc7XG4gICAgICAgIGxldCB4ID0gcGFkZGluZztcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPDEwOyBpKyspe1xuICAgICAgICAgICAgY29uc3QgYnRuID0geyB0eXBlOiBcImJ1dHRvblwiLCBwb3NpdGlvbjogeyB4LCB5IH0sIHdpZHRoLCBoZWlnaHQsIHBhZGRpbmcsIHBhZGRpbmdUb3AsIGJhY2tncm91bmRDb2xvciwgYm9yZGVyUmFkaXVzOjYsIGhvdmVyLCBvblNlbGVjdDogdGhpcy5vblNlbGVjdC5iaW5kKCB0aGlzLCBpICkgfVxuICAgICAgICAgICAgY29uZmlnW2BidG4ke2l9YF0gPSBidG47XG4gICAgICAgICAgICB4ICs9ICh3aWR0aCArIHBhZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIC8vMm5kIHJvd1xuICAgICAgICB5ICs9IChoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICAgICAgeCA9IHBhZGRpbmc7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTwxMDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IGJ0biA9IHsgdHlwZTogXCJidXR0b25cIiwgcG9zaXRpb246IHsgeCwgeSB9LCB3aWR0aCwgaGVpZ2h0LCBwYWRkaW5nLCBwYWRkaW5nVG9wLCBiYWNrZ3JvdW5kQ29sb3IsIGJvcmRlclJhZGl1czo2LCBob3Zlciwgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QuYmluZCggdGhpcywgaSArIDEwICkgfVxuICAgICAgICAgICAgY29uZmlnW2BidG4ke2krMTB9YF0gPSBidG47XG4gICAgICAgICAgICB4ICs9ICh3aWR0aCArIHBhZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIC8vM3JkIHJvd1xuICAgICAgICB5ICs9IChoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICAgICAgeCA9IHBhZGRpbmc7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTw5OyBpKyspe1xuICAgICAgICAgICAgY29uc3QgdyA9IChpPT0wIHx8IGk9PTgpID8gKHdpZHRoICogMS41ICsgcGFkZGluZyAqIDAuNSkgOiB3aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGJ0biA9IHsgdHlwZTogXCJidXR0b25cIiwgcG9zaXRpb246IHsgeCwgeSB9LCB3aWR0aDogdywgaGVpZ2h0LCBwYWRkaW5nLCBwYWRkaW5nVG9wLCBiYWNrZ3JvdW5kQ29sb3IsIGJvcmRlclJhZGl1czo2LCBob3Zlciwgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QuYmluZCggdGhpcywgaSArIDIwICkgfTtcbiAgICAgICAgICAgIGNvbmZpZ1tgYnRuJHtpKzIwfWBdID0gYnRuO1xuICAgICAgICAgICAgeCArPSAoIHcgKyBwYWRkaW5nICk7XG4gICAgICAgIH1cbiAgICAgICAgLy80cmQgcm93XG4gICAgICAgIHkgKz0gKGhlaWdodCArIHBhZGRpbmcpO1xuICAgICAgICB4ID0gcGFkZGluZztcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPDU7IGkrKyl7XG4gICAgICAgICAgICBjb25zdCB3ID0gKGk9PTAgfHwgaT09NCkgPyAod2lkdGggKiAyICsgcGFkZGluZykgOiAoaT09MikgPyAod2lkdGggKiA0ICsgMyAqIHBhZGRpbmcpIDogd2lkdGg7XG4gICAgICAgICAgICBjb25zdCBidG4gPSB7IHR5cGU6IFwiYnV0dG9uXCIsIHBvc2l0aW9uOiB7IHgsIHkgfSwgd2lkdGg6IHcsIGhlaWdodCwgcGFkZGluZywgcGFkZGluZ1RvcCwgYmFja2dyb3VuZENvbG9yLCBib3JkZXJSYWRpdXM6NiwgaG92ZXIsIG9uU2VsZWN0OiB0aGlzLm9uU2VsZWN0LmJpbmQoIHRoaXMsIGkgKyAzMCApIH07XG4gICAgICAgICAgICBpZiAoaT09MCkgYnRuLmZvbnRTaXplID0gMjA7XG4gICAgICAgICAgICBjb25maWdbYGJ0biR7aSszMH1gXSA9IGJ0bjtcbiAgICAgICAgICAgIHggKz0gKCB3ICsgcGFkZGluZyApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxuICAgIFxuICAgIGdldENvbnRlbnQoIGxhbmcsIGxheW91dEluZGV4PTAgKXtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSB7fTtcbiAgICAgICAgbGV0IGtleXM7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmxhbmd1YWdlID0gbGFuZztcbiAgICAgICAgdGhpcy5rZXlib2FyZEluZGV4ID0gbGF5b3V0SW5kZXg7XG4gICAgICAgIFxuICAgICAgICBzd2l0Y2gobGF5b3V0SW5kZXgpe1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIC8vRU5cbiAgICAgICAgICAgICAgICAvL2tleXNcbiAgICAgICAgICAgICAgICAvL3F3ZXJ0eXVpb3AgLSAxMCBzcXVhcmUgLSBidG4wLWJ0bjlcbiAgICAgICAgICAgICAgICAvL2FzZGZnaGprbEAgLSAxMCBzcXVhcmUgYnV0dG9ucyAtIGJ0bjEwLWJ0bjE5XG4gICAgICAgICAgICAgICAgLy9eenhjdmJubTwgLSAxLjUgc2hpZnQsNyBzcXVhcmUsMS41IGJhY2tzcGFjZSAtIGJ0bjIwLWJ0bjI4XG4gICAgICAgICAgICAgICAgLy9bPzEyM10sc3BhY2UuW0VudGVyXSAtIDEuNSwxLDQsMSwxLjUgLSBidG4zMC1idG4zNFxuICAgICAgICAgICAgICAgIGtleXMgPSBbICdxJywgJ3cnLCAnZScsICdyJywgJ3QnLCAneScsICd1JywgJ2knLCAnbycsICdwJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ2EnLCAncycsICdkJywgJ2YnLCAnZycsICdoJywgJ2onLCAnaycsICdsJywgJ0AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICdcdTIxRTcnLCAneicsICd4JywgJ2MnLCAndicsICdiJywgJ24nLCAnbScsICdcdTIxRTYnLCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAnPzEyMycsICcsJywgJyAgICcsICcuJywgJ1x1MjFCMiddO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IT09JycpIGNvbnRlbnRbYGJ0biR7aX1gXSA9IGtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgLy9rZXlzIHNoaWZ0ZWRcbiAgICAgICAgICAgICAgICAvL1FXRVJUWVVJT1AgLSAxMCBzcXVhcmUgXG4gICAgICAgICAgICAgICAgLy9BU0RGR0hKS0xAIC0gMTAgc3F1YXJlIGJ1dHRvbnNcbiAgICAgICAgICAgICAgICAvL15aWENWQk5NPCAtIDEuNSBzaGlmdCw3IHNxdWFyZSwxLjUgYmFja3NwYWNlXG4gICAgICAgICAgICAgICAgLy9bPzEyM10sc3BhY2UuW0VudGVyXSAtIDEuNSwxLDQsMSwxLjVcbiAgICAgICAgICAgICAgICBrZXlzID0gWyAnUScsICdXJywgJ0UnLCAnUicsICdUJywgJ1knLCAnVScsICdJJywgJ08nLCAnUCcsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICdBJywgJ1MnLCAnRCcsICdGJywgJ0cnLCAnSCcsICdKJywgJ0snLCAnTCcsICdAJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAnXHUyMUU3JywgJ1onLCAnWCcsICdDJywgJ1YnLCAnQicsICdOJywgJ00nLCAnXHUyMUU2JywgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgJz8xMjMnLCAnLCcsICcgICAnLCAnLicsICdcdTIxQjInXTtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSE9PScnKSBjb250ZW50W2BidG4ke2l9YF0gPSBrZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIC8vbnVtYmVyc1xuICAgICAgICAgICAgICAgIC8vMTIzNDU2Nzg5MCAtIDEwIHNxdWFyZVxuICAgICAgICAgICAgICAgIC8vQCMlJiovLSsoKSAtIDEwIHNxXG4gICAgICAgICAgICAgICAgLy9ePyFcIidcXDo7PCAtIDEuNSBzaGlmdCw3IHNxdWFyZSwxLjUgYmFja3NwYWNlXG4gICAgICAgICAgICAgICAgLy9bQUJDXSxzcGFjZS5bRW50ZXJdIC0gMS41LDEsNCwxLDEuNVxuICAgICAgICAgICAgICAgIGtleXMgPSBbICcxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcwJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ0AnLCAnIycsICclJywgJyYnLCAnKicsICcvJywgJy0nLCAnKycsICcoJywgJyknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICdcdTIxRTcnLCAnPycsICchJywgJ1wiJywgJ1xcJycsICdcXFxcJywgJzonLCAnOycsICdcdTIxRTYnLCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAnYWJjJywgJywnLCAnICAgJywgJy4nLCAnXHUyMUIyJ107XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8a2V5cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkhPT0nJykgY29udGVudFtgYnRuJHtpfWBdID0ga2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAvL251bWJlcnMgc2hpZnRlZFxuICAgICAgICAgICAgICAgIC8vMTIzNDU2Nzg5MCAtIDEwIHNxdWFyZVxuICAgICAgICAgICAgICAgIC8vXHUyMEFDXHUwMEEzJF49fHt9W10gLSAxMCBzcVxuICAgICAgICAgICAgICAgIC8vXjw+X2B+Ojs8IC0gMS41IHNoaWZ0LDcgc3F1YXJlLDEuNSBiYWNrc3BhY2VcbiAgICAgICAgICAgICAgICAvL1tBQkNdLHNwYWNlLltFbnRlcl0gLSAxLjUsMSw1LDEsMS41XG4gICAgICAgICAgICAgICAga2V5cyA9IFsgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJzAnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAnXHUyMEFDJywgJ1x1MDBBMycsICckJywgJ14nLCAnPScsICd8JywgJ3snLCAnfScsICdbJywgJ30nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICdcdTIxRTcnLCAnPCcsICc+JywgJ18nLCAnYCcsICd+JywgJzonLCAnOycsICdcdTIxRTYnLCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAnYWJjJywgJywnLCAnICAgJywgJy4nLCAnXHUyMUIyJ107XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8a2V5cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkhPT0nJykgY29udGVudFtgYnRuJHtpfWBdID0ga2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuICAgIFxuICAgIGdldCBwb3NpdGlvbigpe1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLmtleWJvYXJkLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKCB0aGlzLnRtcFZlYyApO1xuICAgICAgICByZXR1cm4gcG9zOyAgICBcbiAgICB9XG5cbiAgICBnZXQgcG9zaXRpb25Mb2NhbCgpe1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLmtleWJvYXJkLm9iamVjdC5nZXRUcmFuc2xhdGlvbkxvY2FsKCB0aGlzLnRtcFZlYyApO1xuICAgICAgICByZXR1cm4gcG9zOyAgICBcbiAgICB9XG4gICAgXG4gICAgZ2V0IHZpc2libGUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xuICAgIH1cbiAgICBcbiAgICBzZXQgdmlzaWJsZSggdmFsdWUgKXtcbiAgICAgICAgdGhpcy5rZXlib2FyZC5vYmplY3QuYWN0aXZlID0gdmFsdWU7ICBcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB2YWx1ZTsgIFxuICAgIH1cbiAgICBcbiAgICBzZXRLZXlib2FyZCggaW5kZXggKXtcbiAgICAgICAgdGhpcy5rZXlib2FyZC5jb250ZW50ID0gdGhpcy5nZXRDb250ZW50KCB0aGlzLmxhbmd1YWdlLCBpbmRleCApO1xuICAgICAgICB0aGlzLmtleWJvYXJkLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgb25TZWxlY3QoIGluZGV4ICl7XG4gICAgICAgIGlmICggIXRoaXMudmlzaWJsZSApIHJldHVyblxuICAgICAgICBcbiAgICAgICAgLy9jb25zb2xlLmxvZyggYENhbnZhc0tleWJvYXJkIG9uU2VsZWN0OiBrZXkgaW5kZXggJHtpbmRleH1gKTtcbiAgICAgICAgbGV0IGNoYW5nZSA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgc3dpdGNoKGluZGV4KXtcbiAgICAgICAgICAgIGNhc2UgMzQ6Ly9FbnRlclxuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICggdGhpcy5saW5rZWRFbGVtZW50Lm9uRW50ZXIgKSB0aGlzLmxpbmtlZEVsZW1lbnQub25FbnRlciggdGhpcy5saW5rZWRUZXh0ICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDMyOi8vc3BhY2VcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmtlZFRleHQgKz0gJyAnO1xuICAgICAgICAgICAgICAgIGNoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDMwOi8vc3dpdGNoIGtleWJvYXJkXG4gICAgICAgICAgICAgICAgdGhpcy5zaGlmdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmtleWJvYXJkSW5kZXg8Mil7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0S2V5Ym9hcmQoIDIgKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRLZXlib2FyZCggMCApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjg6Ly9iYWNrc3BhY2VcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmtlZFRleHQgPSB0aGlzLmxpbmtlZFRleHQuc3Vic3RyaW5nKCAwLCB0aGlzLmxpbmtlZFRleHQubGVuZ3RoLTEgKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyMDovL3NoaWZ0XG4gICAgICAgICAgICAgICAgdGhpcy5zaGlmdCA9ICF0aGlzLnNoaWZ0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmtleWJvYXJkSW5kZXg9PTApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEtleWJvYXJkKCAxICk7XG4gICAgICAgICAgICAgICAgfWVsc2UgaWYgKHRoaXMua2V5Ym9hcmRJbmRleD09MSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0S2V5Ym9hcmQoIDAgKTtcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAodGhpcy5rZXlib2FyZEluZGV4PT0yKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRLZXlib2FyZCggMyApO1xuICAgICAgICAgICAgICAgIH1lbHNlIGlmICh0aGlzLmtleWJvYXJkSW5kZXg9PTMpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEtleWJvYXJkKCAyICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zdCB0eHQgPSB0aGlzLmtleWJvYXJkLmNvbnRlbnRbYGJ0biR7aW5kZXh9YF07XG4gICAgICAgICAgICAgICAgdGhpcy5saW5rZWRUZXh0ICs9IHR4dDtcbiAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmtleWJvYXJkSW5kZXg9PTEpIHRoaXMuc2V0S2V5Ym9hcmQoIDAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCBjaGFuZ2UgKXtcbiAgICAgICAgICAgIHRoaXMubGlua2VkVUkudXBkYXRlRWxlbWVudCggdGhpcy5saW5rZWROYW1lLCB0aGlzLmxpbmtlZFRleHQgKTtcbiAgICAgICAgICAgIGlmICggdGhpcy5saW5rZWRFbGVtZW50Lm9uQ2hhbmdlZCkgdGhpcy5saW5rZWRFbGVtZW50Lm9uQ2hhbmdlZCggdGhpcy5saW5rZWRUZXh0ICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgdXBkYXRlKCl7XG4gICAgICAgIGlmICh0aGlzLmtleWJvYXJkKXtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLypBbiBlbGVtZW50IGlzIGRlZmluZWQgYnkgXG50eXBlOiB0ZXh0IHwgYnV0dG9uIHwgaW1hZ2UgfCBzaGFwZVxuaG92ZXI6IGhleFxuYWN0aXZlOiBoZXhcbnBvc2l0aW9uOiB4LCB5LCBsZWZ0LCByaWdodCwgdG9wLCBib3R0b21cbndpZHRoOiBwaXhlbHMsIHdpbGwgaW5oZXJpdCBmcm9tIGJvZHkgaWYgbWlzc2luZ1xuaGVpZ2h0OiBwaXhlbHMsIHdpbGwgaW5oZXJpdCBmcm9tIGJvZHkgaWYgbWlzc2luZ1xub3ZlcmZsb3c6IGZpdCB8IHNjcm9sbCB8IGhpZGRlblxudGV4dEFsaWduOiBjZW50ZXIgfCBsZWZ0IHwgcmlnaHRcbmZvbnRTaXplOiBwaXhlbHNcbmZvbnRDb2xvcjogaGV4XG5mb250RmFtaWx5OiBzdHJpbmdcbnBhZGRpbmc6IHBpeGVsc1xuYmFja2dyb3VuZENvbG9yOiBoZXhcbmJvcmRlclJhZGl1czogcGl4ZWxzXG5jbGlwUGF0aDogc3ZnIHBhdGhcbmJvcmRlcjogd2lkdGggY29sb3Igc3R5bGVcbiovXG5jbGFzcyBDYW52YXNVSXtcblx0Y29uc3RydWN0b3IoY29udGVudCwgY29uZmlnLCBvYmplY3QsIGVuZ2luZSl7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRjb25maWcgPSB7XG4gICAgICAgICAgICB3aWR0aDogNTEyLFxuICAgICAgICAgICAgaGVpZ2h0OiA1MTIsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjcsXG4gICAgICAgICAgICBib2R5OntcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OidBcmlhbCcsIFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOjEwMCwgXG4gICAgICAgICAgICAgICAgcGFkZGluZzoyMCwgXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMCcsIFxuICAgICAgICAgICAgICAgIGZvbnRDb2xvcjonI2ZmZicsIFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cdFx0dGhpcy5jb25maWcgPSAoY29uZmlnPT09dW5kZWZpbmVkKSA/IGRlZmF1bHRjb25maWcgOiBjb25maWc7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5jb25maWcud2lkdGggPT09IHVuZGVmaW5lZCkgdGhpcy5jb25maWcud2lkdGggPSA1MTI7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5oZWlnaHQgPT09IHVuZGVmaW5lZCkgdGhpcy5jb25maWcuaGVpZ2h0ID0gNTEyO1xuICAgICAgICBpZiAodGhpcy5jb25maWcuYm9keSA9PT0gdW5kZWZpbmVkKSB0aGlzLmNvbmZpZy5ib2R5ID0ge2ZvbnRGYW1pbHk6J0FyaWFsJywgc2l6ZTozMCwgcGFkZGluZzoyMCwgYmFja2dyb3VuZENvbG9yOiAnIzAwMCcsIGZvbnRDb2xvcjonI2ZmZicsIGJvcmRlclJhZGl1czogNn07XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5jb2xsaXNpb25Hcm91cCA9PT0gdW5kZWZpbmVkICl7XG4gICAgICAgICAgICB0aGlzLmNvbGxpc2lvbkdyb3VwID0gMTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmNvbGxpc2lvbkdyb3VwID0gMTw8dGhpcy5jb25maWcuY29sbGlzaW9uR3JvdXA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5jb25maWcuYm9keTtcbiAgICAgICAgaWYgKGJvZHkuYm9yZGVyUmFkaXVzID09PSB1bmRlZmluZWQpIGJvZHkuYm9yZGVyUmFkaXVzID0gNjtcbiAgICAgICAgaWYgKGJvZHkuZm9udEZhbWlseSA9PT0gdW5kZWZpbmVkKSBib2R5LmZvbnRGYW1pbHkgPSBcIkFyaWFsXCI7XG4gICAgICAgIGlmIChib2R5LnBhZGRpbmcgPT09IHVuZGVmaW5lZCkgYm9keS5wYWRkaW5nID0gMjA7XG4gICAgICAgIGlmIChib2R5LmZvbnRTaXplID09PSB1bmRlZmluZWQpIGJvZHkuZm9udFNpemUgPSAxMDA7XG4gICAgICAgIGlmIChib2R5LmJhY2tncm91bmRDb2xvciA9PT0gdW5kZWZpbmVkKSBib2R5LmJhY2tncm91bmRDb2xvciA9ICcjMDAwJztcbiAgICAgICAgaWYgKGJvZHkuZm9udENvbG9yID09PSB1bmRlZmluZWQpIGJvZHkuZm9udENvbG9yID0gJyNmZmYnO1xuICAgICAgICBcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoIHRoaXMuY29uZmlnICkuZm9yRWFjaCggKCBbIG5hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgaWYgKCB0eXBlb2YodmFsdWUpID09PSAnb2JqZWN0JyAmJiBuYW1lICE9PSAncGFuZWxTaXplJyl7Ly99ICYmICEodmFsdWUgaW5zdGFuY2VvZiBXZWJHTFJlbmRlcmVyKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgU2NlbmUpICl7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gKHZhbHVlLnBvc2l0aW9uIT09dW5kZWZpbmVkKSA/IHZhbHVlLnBvc2l0aW9uIDogeyB4OiAwLCB5OiAwIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHBvcy5sZWZ0ICE9PSB1bmRlZmluZWQgJiYgcG9zLnggPT09IHVuZGVmaW5lZCApIHBvcy54ID0gcG9zLmxlZnQ7XG4gICAgICAgICAgICAgICAgaWYgKHBvcy50b3AgIT09IHVuZGVmaW5lZCAmJiBwb3MueSA9PT0gdW5kZWZpbmVkICkgcG9zLnkgPSBwb3MudG9wO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSAodmFsdWUud2lkdGghPT11bmRlZmluZWQpID8gdmFsdWUud2lkdGggOiB0aGlzLmNvbmZpZy53aWR0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSAodmFsdWUuaGVpZ2h0IT09dW5kZWZpbmVkKSA/IHZhbHVlLmhlaWdodCA6IHRoaXMuY29uZmlnLmhlaWdodDtcblxuICAgICAgICAgICAgICAgIGlmIChwb3MucmlnaHQgIT09IHVuZGVmaW5lZCAmJiBwb3MueCA9PT0gdW5kZWZpbmVkICkgcG9zLnggPSB0aGlzLmNvbmZpZy53aWR0aCAtIHBvcy5yaWdodCAtIHdpZHRoO1xuICAgICAgICAgICAgICAgIGlmIChwb3MuYm90dG9tICE9PSB1bmRlZmluZWQgJiYgcG9zLnkgPT09IHVuZGVmaW5lZCApIHBvcy55ID0gdGhpcy5jb25maWcuaGVpZ2h0IC0gcG9zLmJvdHRvbSAtIGhlaWdodDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAocG9zLnggPT09IHVuZGVmaW5lZCkgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIGlmIChwb3MueSA9PT0gdW5kZWZpbmVkKSBwb3MueSA9IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFsdWUucG9zaXRpb24gPSBwb3M7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IHVuZGVmaW5lZCkgdmFsdWUudHlwZSA9ICd0ZXh0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICB0aGlzLmNhbnZhcyA9IHRoaXMuY3JlYXRlT2Zmc2NyZWVuQ2FudmFzKHRoaXMuY29uZmlnLndpZHRoLCB0aGlzLmNvbmZpZy5oZWlnaHQpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB0aGlzLmNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgb3BhY2l0eSA9ICggdGhpcy5jb25maWcub3BhY2l0eSAhPT0gdW5kZWZpbmVkICkgPyB0aGlzLmNvbmZpZy5vcGFjaXR5IDogMC43O1xuXHRcdFxuICAgICAgICBjb25zdCBtZXNoID0gb2JqZWN0LmdldENvbXBvbmVudCgnbWVzaCcpO1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0gbWVzaC5tYXRlcmlhbDtcblxuICAgICAgICB0aGlzLmNhbnZhc1RleHR1cmUgPSBuZXcgVGV4dHVyZShlbmdpbmUsIHRoaXMuY2FudmFzKTtcbiAgICAgICAgdGhpcy5tYXRlcmlhbC5mbGF0VGV4dHVyZSA9IHRoaXMuY2FudmFzVGV4dHVyZTtcblxuICAgICAgICBpZiAoY29uZmlnLnBhbmVsU2l6ZSl7XG4gICAgICAgICAgICBvYmplY3QucmVzZXRTY2FsaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IFtjb25maWcucGFuZWxTaXplLndpZHRoLCBjb25maWcucGFuZWxTaXplLmhlaWdodCwgMC4wMV07XG4gICAgICAgICAgICBvYmplY3Quc2NhbGUoIHNjYWxlICk7XG4gICAgICAgICAgICB0aGlzLnBhbmVsU2l6ZSA9IGNvbmZpZy5wYW5lbFNpemU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5wYW5lbFNpemUgPSB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuICAgICAgICB0aGlzLmVuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgdGhpcy50bXBWZWMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICB0aGlzLnRtcFZlYzEgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICB0aGlzLnRtcFF1YXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuXG4gICAgICAgIGNvbnN0IGlucHV0cyA9IE9iamVjdC52YWx1ZXMoIHRoaXMuY29uZmlnICkuZmlsdGVyKCAoIHZhbHVlICk9PntcbiAgICAgICAgICAgIHJldHVybiAgdmFsdWUudHlwZSA9PT0gXCJpbnB1dC10ZXh0XCI7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIGlucHV0cy5sZW5ndGggPiAwICl7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IChjb25maWcucGFuZWxTaXplKSA/IGNvbmZpZy5wYW5lbFNpemUud2lkdGggOiAxO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGNvbmZpZy5wYW5lbFNpemUpID8gY29uZmlnLnBhbmVsU2l6ZS5oZWlnaHQgOiAxO1xuICAgICAgICAgICAgbGV0IGhhbGZoZWlnaHQgPSBoZWlnaHQvMjtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQgPSBuZXcgQ2FudmFzS2V5Ym9hcmQod2lkdGgsIHRoaXMgKTtcbiAgICAgICAgICAgIC8vQ2FsY3VsYXRlIG1haW4gcGFuZWwgb2Zmc2V0XG4gICAgICAgICAgICB0aGlzLmdldEV1bGVyKCB0aGlzLnRtcFZlYywgdGhpcy5vYmplY3Qucm90YXRpb25Xb3JsZCApO1xuICAgICAgICAgICAgbGV0IHRoZXRhID0gdGhpcy50bXBWZWNbMV07XG4gICAgICAgICAgICB0aGlzLnRtcFZlY1swXSA9IDA7XG4gICAgICAgICAgICB0aGlzLnRtcFZlY1syXSA9IC1NYXRoLmNvcyh0aGV0YSkvaGFsZmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMudG1wVmVjWzFdID0gTWF0aC5zaW4odGhldGEpL2hhbGZoZWlnaHQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2FudmFzVUkgY3JlYXRlIGtleWJvYXJkIDEgdGhldGE9JHt0aGV0YS50b0ZpeGVkKDIpfSBvZmZzZXQ9JHt0aGlzLnZlY1RvU3RyKHRoaXMudG1wVmVjKX1gKTtcbiAgICAgICAgICAgIC8vQ2FsY3VsYXRlIGtleWJvYXJkIHBhbmVsIG9mZnNldFxuICAgICAgICAgICAgaGFsZmhlaWdodCA9IHdpZHRoLzQ7XG4gICAgICAgICAgICB0aGlzLmdldEV1bGVyKCB0aGlzLnRtcFZlYzEsIHRoaXMua2V5Ym9hcmQua2V5Ym9hcmQub2JqZWN0LnJvdGF0aW9uV29ybGQgKTtcbiAgICAgICAgICAgIHRoZXRhICs9IC0xNSAqIE1hdGguUEkvMTgwO1xuICAgICAgICAgICAgdGhpcy50bXBWZWMxWzBdID0gMDtcbiAgICAgICAgICAgIHRoaXMudG1wVmVjMVsyXSA9IC1NYXRoLmNvcyh0aGV0YSkvaGFsZmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMudG1wVmVjMVsxXSA9IE1hdGguc2luKHRoZXRhKS9oYWxmaGVpZ2h0OyAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2FudmFzVUkgY3JlYXRlIGtleWJvYXJkIDIgdGhldGE9JHt0aGV0YS50b0ZpeGVkKDIpfSBvZmZzZXQ9JHt0aGlzLnZlY1RvU3RyKHRoaXMudG1wVmVjMSl9YCk7IFxuICAgICAgICAgICAgdmVjMy5hZGQoIHRoaXMudG1wVmVjLCB0aGlzLnRtcFZlYywgdGhpcy50bXBWZWMxKTsgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2FudmFzVUkgY3JlYXRlIGtleWJvYXJkIDMgdGhldGE9JHt0aGV0YS50b0ZpeGVkKDIpfSBvZmZzZXQ9JHt0aGlzLnZlY1RvU3RyKHRoaXMudG1wVmVjKX1gKTsgXG4gICAgICAgICAgICBjb25zdCBvYmogPSB0aGlzLmtleWJvYXJkLm9iamVjdDtcbiAgICAgICAgICAgIHF1YXQuZnJvbUV1bGVyKCB0aGlzLnRtcFF1YXQsIC0xNSwgMCwgMCApO1xuICAgICAgICAgICAgb2JqLnJvdGF0ZSggdGhpcy50bXBRdWF0ICk7XG4gICAgICAgICAgICBvYmoudHJhbnNsYXRlKCB0aGlzLnRtcFZlYyApOy8vWzAsIC1oZWlnaHQqMTIsIDEyXSApO1xuICAgICAgICAgICAgdmVjMy5kaXZpZGUodGhpcy50bXBWZWMsIG9iai5zY2FsaW5nTG9jYWwsIG9iamVjdC5zY2FsaW5nV29ybGQpO1xuICAgICAgICAgICAgb2JqLnJlc2V0U2NhbGluZygpO1xuICAgICAgICAgICAgb2JqLnNjYWxlKHRoaXMudG1wVmVjKTtcbiAgICAgICAgICAgIG9iai5wYXJlbnQgPSBvYmplY3Q7XG4gICAgICAgICAgICBvYmouc2V0RGlydHkoKTtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoY29udGVudCA9PT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgIHRoaXMuY29udGVudCA9IHsgYm9keTogXCJcIiB9O1xuICAgICAgICAgICAgdGhpcy5jb25maWcuYm9keS50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgICAgICAgICAgIGNvbnN0IGJ0bnMgPSBPYmplY3QudmFsdWVzKGNvbmZpZykuZmlsdGVyKCAodmFsdWUpID0+IHsgcmV0dXJuIHZhbHVlLnR5cGUgPT09IFwiYnV0dG9uXCIgfHwgdmFsdWUub3ZlcmZsb3cgPT09IFwic2Nyb2xsXCIgfHwgdmFsdWUudHlwZSA9PT0gXCJpbnB1dC10ZXh0XCIgfSk7XG4gICAgICAgICAgICBpZiAoYnRucy5sZW5ndGg+MCl7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5pbml0Q29udHJvbGxlcnMuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZW50cyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgICAgICAgICAgdmVjMy5jb3B5KCBleHRlbnRzLCB0aGlzLm9iamVjdC5zY2FsaW5nV29ybGQgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xsaXNpb24gPSB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQoICdjb2xsaXNpb24nLCB7IGNvbGxpZGVyOiAyLCBleHRlbnRzLCBncm91cDogdGhpcy5jb2xsaXNpb25Hcm91cCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5zZWxlY3RlZEVsZW1lbnRzID0gWyB1bmRlZmluZWQsIHVuZGVmaW5lZCBdO1xuICAgICAgICB0aGlzLnNlbGVjdFByZXNzZWQgPSBbIGZhbHNlLCBmYWxzZSBdO1xuICAgICAgICB0aGlzLnNjcm9sbERhdGEgPSBbIHVuZGVmaW5lZCwgdW5kZWZpbmVkIF07XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0cyA9IFsgdW5kZWZpbmVkLCB1bmRlZmluZWQgXTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcblx0fVxuXG4gICAgdmVjVG9TdHIoIHYsIHByZWNpc2lvbj0yKXtcbiAgICAgICAgbGV0IHN0ciA9IFwiXCI7XG4gICAgICAgICBcbiAgICAgICAgaWYgKHYpe1xuICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8di5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgc3RyICs9IHZbaV0udG9GaXhlZChwcmVjaXNpb24pICsgJywgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXHRcbiAgICAvL3JldHVybnMgeWF3LCBwaXRjaCwgcm9sbFxuICAgIGdldEV1bGVyKG91dCwgcXVhdCkge1xuICAgICAgICBsZXQgeCA9IHF1YXRbMF0sXG4gICAgICAgICAgeSA9IHF1YXRbMV0sXG4gICAgICAgICAgeiA9IHF1YXRbMl0sXG4gICAgICAgICAgdyA9IHF1YXRbM10sXG4gICAgICAgICAgeDIgPSB4ICogeCxcbiAgICAgICAgICB5MiA9IHkgKiB5LFxuICAgICAgICAgIHoyID0geiAqIHosXG4gICAgICAgICAgdzIgPSB3ICogdztcbiAgICAgICAgbGV0IHVuaXQgPSB4MiArIHkyICsgejIgKyB3MjtcbiAgICAgICAgbGV0IHRlc3QgPSB4ICogdyAtIHkgKiB6O1xuICAgICAgICBpZiAodGVzdCA+IDAuNDk5OTk1ICogdW5pdCkgeyAvL1RPRE86IFVzZSBnbG1hdHJpeC5FUFNJTE9OXG4gICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgdGhlIG5vcnRoIHBvbGVcbiAgICAgICAgICBvdXRbMF0gPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICBvdXRbMV0gPSAyICogTWF0aC5hdGFuMih5LCB4KTtcbiAgICAgICAgICBvdXRbMl0gPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHRlc3QgPCAtMC40OTk5OTUgKiB1bml0KSB7IC8vVE9ETzogVXNlIGdsbWF0cml4LkVQU0lMT05cbiAgICAgICAgICAvLyBzaW5ndWxhcml0eSBhdCB0aGUgc291dGggcG9sZVxuICAgICAgICAgIG91dFswXSA9IC1NYXRoLlBJIC8gMjtcbiAgICAgICAgICBvdXRbMV0gPSAyICogTWF0aC5hdGFuMih5LCB4KTtcbiAgICAgICAgICBvdXRbMl0gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dFswXSA9IE1hdGguYXNpbigyICogKHggKiB6IC0gdyAqIHkpKTtcbiAgICAgICAgICBvdXRbMV0gPSBNYXRoLmF0YW4yKDIgKiAoeCAqIHcgKyB5ICogeiksIDEgLSAyICogKHoyICsgdzIpKTtcbiAgICAgICAgICBvdXRbMl0gPSBNYXRoLmF0YW4yKDIgKiAoeCAqIHkgKyB6ICogdyksIDEgLSAyICogKHkyICsgejIpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBSZXR1cm4gdGhlbSBhcyBkZWdyZWVzIGFuZCBub3QgYXMgcmFkaWFuc1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgfVxuXG4gICAgZ2V0SW50ZXJzZWN0WSggaW5kZXggKXtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5jb25maWcuaGVpZ2h0IHx8IDUxMjtcbiAgICAgICAgY29uc3QgaW50ZXJzZWN0ID0gdGhpcy5pbnRlcnNlY3RzW2luZGV4XTtcbiAgICAgICAgaWYgKGludGVyc2VjdCA9PT0gdW5kZWZpbmVkICkgcmV0dXJuIDA7XG4gICAgICAgIGlmICggaW50ZXJzZWN0Lnh5ID09PSB1bmRlZmluZWQgKSByZXR1cm4gMDtcbiAgICAgICAgcmV0dXJuIGludGVyc2VjdC54eVsxXTtcbiAgICB9XG4gICAgXG4gICAgZ2V0IHNlbGVjdElzUHJlc3NlZCgpe1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RQcmVzc2VkWzBdIHx8IHRoaXMuc2VsZWN0UHJlc3NlZFsxXTtcbiAgICB9XG5cbiAgICBpbml0Q29udHJvbGxlcnMocyl7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHM7XG4gICAgICAgIC8vR2V0IHJheWxlZnQgYW5kIHJpZ2h0XG4gICAgICAgIGNvbnN0IHJvb3QgPSBuZXcgT2JqZWN0M0QoMCk7XG4gICAgICAgIHJvb3QuY2hpbGRyZW4uZm9yRWFjaCggY2hpbGQgPT4ge1xuICAgICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ1BsYXllcicpe1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwYWNlID0gY2hpbGQuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgc3BhY2UuY2hpbGRyZW4uZm9yRWFjaCggY2hpbGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQubmFtZSA9PSAnQ3Vyc29yTGVmdCcpIHRoaXMucmF5TGVmdCA9IGNoaWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQubmFtZSA9PSAnQ3Vyc29yUmlnaHQnKSB0aGlzLnJheVJpZ2h0ID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghKHRoaXMucmF5TGVmdCAmJiB0aGlzLnJheVJpZ2h0KSkgY29uc29sZS53YXJuKCAnUGxheWVyIEN1cnNvckxlZnQgb3IgUGxheWVyIEN1cnNvclJpZ2h0IG5vdCBmb3VuZCcpO1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gb25TZWxlY3QoIGV2ZW50ICkgeyAgICAgXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IChldmVudC5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09PSAnbGVmdCcpID8gMCA6IDE7XG4gICAgICAgICAgICBjb25zdCBlbG0gPSB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKCBlbG0gIT09IHVuZGVmaW5lZCApe1xuICAgICAgICAgICAgICAgIGlmICggZWxtLnR5cGUgPT0gXCJidXR0b25cIil7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0KCBpbmRleCApO1xuICAgICAgICAgICAgICAgIH1lbHNlIGlmICggZWxtLnR5cGUgPT0gXCJpbnB1dC10ZXh0XCIpe1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHRoaXMua2V5Ym9hcmQgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdGhpcy5rZXlib2FyZC52aXNpYmxlICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5saW5rZWRVSSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZFRleHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5saW5rZWRFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5saW5rZWRVSSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoIHRoaXMuY29uZmlnICkuZm9yRWFjaCggKFtwcm9wLCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB2YWx1ZSA9PSBlbG0gKSBuYW1lID0gcHJvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gKDAuNS0oKGVsbS5wb3NpdGlvbi55ICsgZWxtLmhlaWdodCArIHRoaXMuY29uZmlnLmJvZHkucGFkZGluZyApL3RoaXMuY29uZmlnLmhlaWdodCkpICogdGhpcy5wYW5lbFNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGggPSBNYXRoLm1heCggdGhpcy5wYW5lbFNpemUud2lkdGgsIHRoaXMucGFuZWxTaXplLmhlaWdodCApLzI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmtleWJvYXJkLnBvc2l0aW9uLnNldCggWzAsIGgvMS41IC0geSwgLTAuMV0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZFRleHQgPSB0aGlzLmNvbnRlbnRbIG5hbWUgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZE5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkRWxlbWVudCA9IGVsbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gb25TZWxlY3RTdGFydCggZXZlbnQgKXtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gKGV2ZW50LmlucHV0U291cmNlLmhhbmRlZG5lc3MgPT09ICdsZWZ0JykgPyAwIDogMTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0UHJlc3NlZFtpbmRleF0gPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XS5vdmVyZmxvdyA9PSBcInNjcm9sbFwiKXtcbiAgICAgICAgICAgICAgICBjb25zdCBlbG0gPSB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsRGF0YVtpbmRleF0gPSB7IHNjcm9sbFk6IGVsbS5zY3JvbGxZLCByYXlZOiB0aGlzLmdldEludGVyc2VjdFkoaW5kZXgpIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIG9uU2VsZWN0RW5kKCBldmVudCApe1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSAoZXZlbnQuaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PT0gJ2xlZnQnKSA/IDAgOiAxO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RQcmVzc2VkW2luZGV4XSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKCB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XS5vdmVyZmxvdyA9PSBcInNjcm9sbFwiKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbERhdGFbaW5kZXhdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0gbnVsbDtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCAnc2VsZWN0Jywgb25TZWxlY3QuYmluZCh0aGlzKSApO1xuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoICdzZWxlY3RzdGFydCcsIG9uU2VsZWN0U3RhcnQuYmluZCh0aGlzKSApO1xuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoICdzZWxlY3RlbmQnLCBvblNlbGVjdEVuZC5iaW5kKHRoaXMpICk7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHNldENsaXAoIGVsbSApe1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVsbS5jbGlwUGF0aCAhPT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBuZXcgUGF0aDJEKCBlbG0uY2xpcFBhdGggKTtcbiAgICAgICAgICAgIGNvbnRleHQuY2xpcCggcGF0aCApO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IChlbG0ucG9zaXRpb24hPT11bmRlZmluZWQpID8gZWxtLnBvc2l0aW9uIDogeyB4OjAsIHk6IDAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvcmRlclJhZGl1cyA9IGVsbS5ib3JkZXJSYWRpdXMgfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gZWxtLndpZHRoIHx8IHRoaXMuY29uZmlnLndpZHRoO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gZWxtLmhlaWdodCB8fCB0aGlzLmNvbmZpZy5oZWlnaHQ7XG4gICAgICAgICAgIFxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGJvcmRlclJhZGl1cyAhPT0gMCl7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLlBJLzI7XG4gICAgICAgICAgICAgICAgLy9zdGFydCB0b3AgbGVmdFxuICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBvcy54ICsgYm9yZGVyUmFkaXVzLCBwb3MueSApO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKCBwb3MueCArIGJvcmRlclJhZGl1cywgcG9zLnkgKyBib3JkZXJSYWRpdXMsIGJvcmRlclJhZGl1cywgYW5nbGUsIGFuZ2xlKjIsIHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKCBwb3MueCwgcG9zLnkgKyBoZWlnaHQgLSBib3JkZXJSYWRpdXMgKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyggcG9zLnggKyBib3JkZXJSYWRpdXMsIHBvcy55ICsgaGVpZ2h0IC0gYm9yZGVyUmFkaXVzLCBib3JkZXJSYWRpdXMsIDAsIGFuZ2xlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyggcG9zLnggKyB3aWR0aCAtIGJvcmRlclJhZGl1cywgcG9zLnkgKyBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKCBwb3MueCArIHdpZHRoIC0gYm9yZGVyUmFkaXVzLCBwb3MueSArIGhlaWdodCAtIGJvcmRlclJhZGl1cywgYm9yZGVyUmFkaXVzLCBhbmdsZSozLCBhbmdsZSo0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyggcG9zLnggKyB3aWR0aCwgcG9zLnkgKyBib3JkZXJSYWRpdXMgKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyggcG9zLnggKyB3aWR0aCAtIGJvcmRlclJhZGl1cywgcG9zLnkgKyBib3JkZXJSYWRpdXMsIGJvcmRlclJhZGl1cywgYW5nbGUqMiwgYW5nbGUqMywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdCggcG9zLngsIHBvcy55LCB3aWR0aCwgaGVpZ2h0ICk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cblxuICAgIHNldFBvc2l0aW9uKHgsIHksIHope1xuICAgICAgICBpZiAodGhpcy5tZXNoID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLnNldCh4LCB5LCB6KTtcbiAgICB9XG5cbiAgICBzZXRSb3RhdGlvbih4LCB5LCB6KXtcbiAgICAgICAgaWYgKHRoaXMubWVzaCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIHRoaXMubWVzaC5yb3RhdGlvbi5zZXQoeCwgeSwgeik7XG4gICAgfVxuXG4gICAgdXBkYXRlRWxlbWVudCggbmFtZSwgY29udGVudCApe1xuICAgICAgICBsZXQgZWxtID0gdGhpcy5jb250ZW50W25hbWVdO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVsbT09PXVuZGVmaW5lZCl7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oIGBDYW52YXNVSS51cGRhdGVFbGVtZW50OiBObyAke25hbWV9IGZvdW5kYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICh0eXBlb2YgZWxtID09PSAnb2JqZWN0Jyl7XG4gICAgICAgICAgICBlbG0uY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZWxtID0gY29udGVudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5jb250ZW50W25hbWVdID0gZWxtO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgfVxuICAgIFxuICAgIGdldCBwYW5lbCgpe1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNoO1xuICAgIH1cblxuICAgIGdldEVsZW1lbnRBdExvY2F0aW9uKCB4LCB5ICl7XG4gICAgICAgIGNvbnN0IGVsbXMgPSBPYmplY3QuZW50cmllcyggdGhpcy5jb25maWcgKS5maWx0ZXIoIChbIG5hbWUsIGVsbSBdKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsbSA9PT0gJ29iamVjdCcgJiYgbmFtZSAhPT0gJ3BhbmVsU2l6ZScgJiYgbmFtZSAhPT0gJ2JvZHknKXsvLyAmJiAhKGVsbSBpbnN0YW5jZW9mIFdlYkdMUmVuZGVyZXIpICYmICEoZWxtIGluc3RhbmNlb2YgU2NlbmUpKXtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3MgPSBlbG0ucG9zaXRpb247XG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSAoZWxtLndpZHRoICE9PSB1bmRlZmluZWQpID8gZWxtLndpZHRoIDogdGhpcy5jb25maWcud2lkdGg7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGVsbS5oZWlnaHQgIT09IHVuZGVmaW5lZCkgPyBlbG0uaGVpZ2h0IDogdGhpcy5jb25maWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHJldHVybiAoeD49cG9zLnggJiYgeDwocG9zLngrd2lkdGgpICYmIHk+PXBvcy55ICYmIHk8KHBvcy55ICsgaGVpZ2h0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBlbG0gPSAoZWxtcy5sZW5ndGg9PTApID8gbnVsbCA6IHRoaXMuY29uZmlnW2VsbXNbMF1bMF1dO1xuICAgICAgICAvL2NvbnNvbGUubG9nKGBzZWxlY3RlZCA9ICR7ZWxtfWApO1xuICAgICAgICByZXR1cm4gZWxtO1xuICAgIH1cblxuICAgIHVwZGF0ZUNvbmZpZyggbmFtZSwgcHJvcGVydHksIHZhbHVlICl7ICBcbiAgICAgICAgbGV0IGVsbSA9IHRoaXMuY29uZmlnW25hbWVdO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVsbT09PXVuZGVmaW5lZCl7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oIGBDYW52YXNVSS51cGRhdGVjb25maWc6IE5vICR7bmFtZX0gZm91bmRgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZWxtW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgaG92ZXIoIGluZGV4ID0gMCwgeHkgKXtcbiAgICAgICAgaWYgKHh5ID09PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0gIT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBjb25zdCB4ID0geHlbMF07XG4gICAgICAgICAgICBjb25zdCB5ID0geHlbMV07XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCBgaG92ZXIgdXY6JHt1di54LnRvRml4ZWQoMil9LCR7dXYueS50b0ZpeGVkKDIpfT4+dGV4dHVyZVBvczoke3gudG9GaXhlZCgwKX0sICR7eS50b0ZpeGVkKDApfWApO1xuICAgICAgICAgICAgY29uc3QgZWxtID0gdGhpcy5nZXRFbGVtZW50QXRMb2NhdGlvbiggeCwgeSApO1xuICAgICAgICAgICAgaWYgKGVsbT09PW51bGwpe1xuICAgICAgICAgICAgICAgIGlmICggdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSAhPT0gdW5kZWZpbmVkICl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1lbHNlIGlmKCB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdICE9PSBlbG0gKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdID0gZWxtO1xuICAgICAgICAgICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgc2VsZWN0KCBpbmRleCA9IDAsIG1vdXNlPWZhbHNlICl7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdICE9PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgY29uc3QgZWxtID0gdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChlbG0ub25TZWxlY3QpIGVsbS5vblNlbGVjdCgpO1xuICAgICAgICAgICAgaWYgKGVsbS50eXBlID09PSAnaW5wdXQtdGV4dCcpe1xuICAgICAgICAgICAgICAgIGlmIChtb3VzZSl7XG4gICAgICAgICAgICAgICAgICAgIGlmICggdGhpcy5rZXlib2FyZCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGlzLmtleWJvYXJkLnZpc2libGUgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZFVJID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVGV4dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZEVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZFVJID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyggdGhpcy5jb25maWcgKS5mb3JFYWNoKCAoW3Byb3AsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHZhbHVlID09IGVsbSApIG5hbWUgPSBwcm9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSAoMC41LSgoZWxtLnBvc2l0aW9uLnkgKyBlbG0uaGVpZ2h0ICsgdGhpcy5jb25maWcuYm9keS5wYWRkaW5nICkvdGhpcy5jb25maWcuaGVpZ2h0KSkgKiB0aGlzLnBhbmVsU2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaCA9IE1hdGgubWF4KCB0aGlzLnBhbmVsU2l6ZS53aWR0aCwgdGhpcy5wYW5lbFNpemUuaGVpZ2h0ICkvMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMua2V5Ym9hcmQucG9zaXRpb24uc2V0KCBbMCwgaC8xLjUgLSB5LCAtMC4xXSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVGV4dCA9IHRoaXMuY29udGVudFsgbmFtZSBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkTmFtZSA9IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5saW5rZWRFbGVtZW50ID0gZWxtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC52aXNpYmxlID0gKHRoaXMua2V5Ym9hcmQudmlzaWJsZSkgPyBmYWxzZSA6IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBzY3JvbGwoIGluZGV4ICl7XG5cbiAgICAgICAgaWYgKCB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdID09PSB1bmRlZmluZWQgKXtcbiAgICAgICAgICAgIGlmICh0aGlzLmludGVyc2VjdE1lc2gpIHRoaXMuaW50ZXJzZWN0TWVzaFtpbmRleF0udmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IFxuICAgICAgICBpZiAoIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0ub3ZlcmZsb3cgIT09ICdzY3JvbGwnKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGVsbSA9IHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF07XG4gICAgICAgIGlmICggdGhpcy5zZWxlY3RQcmVzc2VkW2luZGV4XSApeyBcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbERhdGEgPSB0aGlzLnNjcm9sbERhdGFbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHNjcm9sbERhdGEgIT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0TWVzaCl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0TWVzaFtpbmRleF0udmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0TWVzaFtpbmRleF0ucG9zaXRpb24uY29weSggdGhpcy5pbnRlcnNlY3RzW2luZGV4XS5wb2ludCApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByYXlZID0gdGhpcy5nZXRJbnRlcnNlY3RZKCBpbmRleCApO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHJheVkgLSBzY3JvbGxEYXRhLnJheVk7XG4gICAgICAgICAgICAgICAgZWxtLnNjcm9sbFkgPSBNYXRoLm1pbiggTWF0aC5tYXgoIGVsbS5taW5TY3JvbGxZLCBzY3JvbGxEYXRhLnNjcm9sbFkgKyBvZmZzZXQpLCAwICk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0TWVzaCkgdGhpcy5pbnRlcnNlY3RNZXNoW2luZGV4XS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgICAgIFxuICAgIHdvcmxkVG9DYW52YXMoIHBvcyApe1xuICAgICAgICB0aGlzLm9iamVjdC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCggdGhpcy50bXBWZWMsIHBvcyApO1xuICAgICAgICB2ZWMzLmNvcHkoIHRoaXMudG1wVmVjMSwgdGhpcy5vYmplY3Quc2NhbGluZ1dvcmxkICk7XG4gICAgICAgIHZlYzMuZGl2KCB0aGlzLnRtcFZlYywgdGhpcy50bXBWZWMsIHRoaXMudG1wVmVjMSApO1xuICAgICAgICBjb25zdCB4eSA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG4gICAgICAgIHh5WzBdID0gKCh0aGlzLnRtcFZlY1swXSsxKS8yKSAqIHRoaXMuY29uZmlnLndpZHRoO1xuICAgICAgICB4eVsxXSA9ICgxLSh0aGlzLnRtcFZlY1sxXSsxKS8yKSAqIHRoaXMuY29uZmlnLmhlaWdodDtcbiAgICAgICAgLy9vYmo6JHt0aGlzLnRtcFZlY1swXS50b0ZpeGVkKDIpfSwke3RoaXMudG1wVmVjWzJdLnRvRml4ZWQoMil9YDtcbiAgICAgICAgLy9jb25zdCBzdHIgPSBgcG9zOiR7cG9zWzBdLnRvRml4ZWQoMil9LCR7cG9zWzFdLnRvRml4ZWQoMil9IHh5OiR7eHlbMF0udG9GaXhlZCgyKX0sJHt4eVsxXS50b0ZpeGVkKDIpfWA7XG4gICAgICAgIC8vdGhpcy51cGRhdGVFbGVtZW50KCdpbmZvJywgc3RyKTtcbiAgICAgICAgLy9pZiAodGhpcy5zZWxlY3RJc1ByZXNzZWQpIGNvbnNvbGUubG9nKGBDYW52YXNVSS53b3JsZFRvQ2FudmFzICR7c3RyfWApO1xuICAgICAgICByZXR1cm4geHk7XG4gICAgfVxuICAgIFxuICAgIGhhbmRsZUNvbnRyb2xsZXIoIGNvbnRyb2xsZXIsIGluZGV4ICl7XG4gICAgICAgIGlmIChjb250cm9sbGVyPT1udWxsKSByZXR1cm47XG5cbiAgICAgICAgY29udHJvbGxlci5nZXRUcmFuc2xhdGlvbldvcmxkKCB0aGlzLnRtcFZlYyApO1xuICAgICAgICBjb250cm9sbGVyLmdldEZvcndhcmQoIHRoaXMudG1wVmVjMSApO1xuXG4gICAgICAgIGNvbnN0IGludGVyc2VjdHMgPSBXTC5zY2VuZS5yYXlDYXN0KCB0aGlzLnRtcFZlYywgdGhpcy50bXBWZWMxLCB0aGlzLmNvbGxpc2lvbkdyb3VwLCAxMDAgKTtcblxuICAgICAgICBpZiAoaW50ZXJzZWN0cy5oaXRDb3VudD4wKXtcbiAgICAgICAgICAgIGludGVyc2VjdHMueHkgPSB0aGlzLndvcmxkVG9DYW52YXMoIGludGVyc2VjdHMubG9jYXRpb25zWzBdICk7XG4gICAgICAgICAgICB0aGlzLmhvdmVyKCBpbmRleCwgaW50ZXJzZWN0cy54eSApO1xuICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3RzW2luZGV4XSA9IGludGVyc2VjdHM7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbCggaW5kZXggKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmhvdmVyKCBpbmRleCApO1xuICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3RzW2luZGV4XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsKCBpbmRleCApO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuXHR1cGRhdGUoKXsgICAgICAgIFxuICAgICAgICBpZiAoIHRoaXMucmF5TGVmdCApIHRoaXMuaGFuZGxlQ29udHJvbGxlciggdGhpcy5yYXlMZWZ0LCAwICk7XG4gICAgICAgIGlmICggdGhpcy5yYXlSaWdodCApIHRoaXMuaGFuZGxlQ29udHJvbGxlciggdGhpcy5yYXlSaWdodCwgMSApO1xuXG4gICAgICAgIGlmICggdGhpcy5rZXlib2FyZCAmJiB0aGlzLmtleWJvYXJkLnZpc2libGUgKSB0aGlzLmtleWJvYXJkLnVwZGF0ZSgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCAhdGhpcy5uZWVkc1VwZGF0ZSApIHJldHVybjtcblx0XHRcblx0XHRsZXQgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblx0XHRcblx0XHRjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNvbmZpZy53aWR0aCwgdGhpcy5jb25maWcuaGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJnQ29sb3IgPSAoIHRoaXMuY29uZmlnLmJvZHkuYmFja2dyb3VuZENvbG9yICkgPyB0aGlzLmNvbmZpZy5ib2R5LmJhY2tncm91bmRDb2xvciA6IFwiIzAwMFwiO1xuICAgICAgICBjb25zdCBmb250RmFtaWx5ID0gKCB0aGlzLmNvbmZpZy5ib2R5LmZvbnRGYW1pbHkgKSA/IHRoaXMuY29uZmlnLmJvZHkuZm9udEZhbWlseSA6IFwiQXJpYWxcIjtcbiAgICAgICAgY29uc3QgZm9udENvbG9yID0gKCB0aGlzLmNvbmZpZy5ib2R5LmZvbnRDb2xvciApID8gdGhpcy5jb25maWcuYm9keS5mb250Q29sb3IgOiBcIiNmZmZcIjtcbiAgICAgICAgY29uc3QgZm9udFNpemUgPSAoIHRoaXMuY29uZmlnLmJvZHkuZm9udFNpemUgKSA/IHRoaXMuY29uZmlnLmJvZHkuZm9udFNpemUgOiAzMDtcbiAgICAgICAgdGhpcy5zZXRDbGlwKHRoaXMuY29uZmlnLmJvZHkpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGJnQ29sb3I7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoIDAsIDAsIHRoaXMuY29uZmlnLndpZHRoLCB0aGlzLmNvbmZpZy5oZWlnaHQpO1xuICAgICAgICBcbiAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5jb250ZW50KS5mb3JFYWNoKCAoW25hbWUsIGNvbnRlbnRdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSAodGhpcy5jb25maWdbbmFtZV0hPT11bmRlZmluZWQpID8gdGhpcy5jb25maWdbbmFtZV0gOiB0aGlzLmNvbmZpZy5ib2R5O1xuICAgICAgICAgICAgY29uc3QgZGlzcGxheSA9IChjb25maWcuZGlzcGxheSAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5kaXNwbGF5IDogJ2Jsb2NrJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGRpc3BsYXkgIT09ICdub25lJyl7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gKGNvbmZpZy5wb3NpdGlvbiE9PXVuZGVmaW5lZCkgPyBjb25maWcucG9zaXRpb24gOiB7IHg6IDAsIHk6IDAgfTsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSAoY29uZmlnLndpZHRoIT09dW5kZWZpbmVkKSA/IGNvbmZpZy53aWR0aCA6IHRoaXMuY29uZmlnLndpZHRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IChjb25maWcuaGVpZ2h0IT09dW5kZWZpbmVkKSA/IGNvbmZpZy5oZWlnaHQgOiB0aGlzLmNvbmZpZy5oZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLnR5cGUgPT0gXCJidXR0b25cIiAmJiAhY29udGVudC50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoXCI8cGF0aD5cIikpe1xuICAgICAgICAgICAgICAgICAgICBpZiAoIGNvbmZpZy5ib3JkZXJSYWRpdXMgPT09IHVuZGVmaW5lZCkgY29uZmlnLmJvcmRlclJhZGl1cyA9IDY7XG4gICAgICAgICAgICAgICAgICAgIGlmICggY29uZmlnLnRleHRBbGlnbiA9PT0gdW5kZWZpbmVkICkgY29uZmlnLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2xpcCggY29uZmlnICk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ZnUGF0aCA9IGNvbnRlbnQudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwiPHBhdGg+XCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhvdmVyID0gKCh0aGlzLnNlbGVjdGVkRWxlbWVudHNbMF0gIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNlbGVjdGVkRWxlbWVudHNbMF0gPT09IGNvbmZpZyl8fCh0aGlzLnNlbGVjdGVkRWxlbWVudHNbMV0gIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNlbGVjdGVkRWxlbWVudHNbMV0gPT09IGNvbmZpZykpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICggY29uZmlnLmJhY2tncm91bmRDb2xvciAhPT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdmVyICYmIGNvbmZpZy50eXBlPT0gXCJidXR0b25cIiAmJiBjb25maWcuaG92ZXIgIT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbmZpZy5ob3ZlcjtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbmZpZy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCggcG9zLngsIHBvcy55LCB3aWR0aCwgaGVpZ2h0ICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy50eXBlID09IFwidGV4dFwiIHx8IGNvbmZpZy50eXBlID09IFwiYnV0dG9uXCIgfHwgY29uZmlnLnR5cGUgPT0gXCJpbnB1dC10ZXh0XCIpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChob3Zlcil7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN2Z1BhdGggJiYgY29uZmlnLnR5cGUgPT0gXCJidXR0b25cIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAoY29uZmlnLmZvbnRDb2xvciAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5mb250Q29sb3IgOiBmb250Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IChjb25maWcuaG92ZXIgIT09IHVuZGVmaW5lZCkgPyBjb25maWcuaG92ZXIgOiAoIGNvbmZpZy5mb250Q29sb3IgIT09IHVuZGVmaW5lZCkgPyBjb25maWcuZm9udENvbG9yIDogZm9udENvbG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlID0gKGNvbmZpZy5ob3ZlciA9PT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IChjb25maWcuZm9udENvbG9yICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmZvbnRDb2xvciA6IGZvbnRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzdmdQYXRoICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2RlID0gY29udGVudC50b1VwcGVyQ2FzZSgpLnN1YnN0cmluZyg2LCBjb250ZW50Lmxlbmd0aCAtIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSggcG9zLngsIHBvcy55ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gbmV3IFBhdGgyRChjb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbChwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3JhcFRleHQoIG5hbWUsIGNvbnRlbnQgKVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiI2ZmZlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZWN0KCBwb3MueCwgcG9zLnksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1lbHNlIGlmIChjb25maWcudHlwZSA9PSBcImltZ1wiKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5pbWcgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRJbWFnZShjb250ZW50KS50aGVuKGltZyA9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgdzogJHtpbWcud2lkdGh9IHwgaDogJHtpbWcuaGVpZ2h0fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5pbWcgPSBpbWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTsgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXNwZWN0ID0gY29uZmlnLmltZy53aWR0aC9jb25maWcuaW1nLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGggPSB3aWR0aC9hc3BlY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSggY29uZmlnLmltZywgcG9zLngsIHBvcy55LCB3aWR0aCwgaCApOyAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cdFx0XG4gICAgICAgIGlmICh0aGlzLmNhbnZhc1RleHR1cmUpIHRoaXMuY2FudmFzVGV4dHVyZS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IGZhbHNlO1xuXHR9XG5cdFxuICAgIGxvYWRJbWFnZShzcmMpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4gcmVzb2x2ZShpbWcpKTtcbiAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgICAgICBpbWcuc3JjID0gc3JjO1xuICAgICAgfSk7XG4gICAgfVxuXG5cdGNyZWF0ZU9mZnNjcmVlbkNhbnZhcyh3LCBoKSB7XG5cdFx0Y29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cdFx0Y2FudmFzLndpZHRoID0gdztcblx0XHRjYW52YXMuaGVpZ2h0ID0gaDtcblx0XHRyZXR1cm4gY2FudmFzO1xuXHR9XG5cdFxuICAgIGZpbGxSb3VuZGVkUmVjdCggeCwgeSwgdywgaCwgcmFkaXVzICl7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKHggKyByYWRpdXMsIHkpO1xuICAgICAgICBjdHgubGluZVRvKHggKyB3IC0gcmFkaXVzLCB5KTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCArIHcsIHksIHggKyB3LCB5ICsgcmFkaXVzKTtcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdywgeSArIGggLSByYWRpdXMpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4ICsgdywgeSArIGgsIHggKyB3IC0gcmFkaXVzLCB5ICsgaCk7XG4gICAgICAgIGN0eC5saW5lVG8oeCArIHJhZGl1cywgeSArIGgpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5ICsgaCwgeCwgeSArIGggLSByYWRpdXMpO1xuICAgICAgICBjdHgubGluZVRvKHgsIHkgKyByYWRpdXMpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5LCB4ICsgcmFkaXVzLCB5KTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgIH1cbiAgICBcbiAgICBsb29rQXQoIHBvcyApe1xuICAgICAgICBpZiAoIHRoaXMubWVzaCA9PT0gdW5kZWZpbmVkICkgcmV0dXJuO1xuICAgICAgICBpZiAoICEocG9zIGluc3RhbmNlb2YgVmVjdG9yMykgKXtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoICdDYW52YXNVSSBsb29rQXQgY2FsbGVkIHBhcmFtZXRlciBub3QgYSBUSFJFRS5WZWN0b3IzJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZXNoLmxvb2tBdCggcG9zICk7XG4gICAgfVxuICAgIFxuICAgIGdldCB2aXNpYmxlKCl7XG4gICAgICAgIGlmICh0aGlzLm1lc2ggPT09IHVuZGVmaW5lZCApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzaC5hY3RpdmU7XG4gICAgfVxuICAgIFxuICAgIHNldCB2aXNpYmxlKHZhbHVlKXtcbiAgICAgICAgaWYgKHRoaXMubWVzaCl7XG4gICAgICAgICAgICB0aGlzLm1lc2guYWN0aXZlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZ2V0IHBvc2l0aW9uKCl7XG4gICAgICAgIGlmICh0aGlzLm9iamVjdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKCB0aGlzLnRtcFZlYyApO1xuICAgICAgICByZXR1cm4gdGhpcy50bXBWZWM7XG4gICAgfVxuICAgIFxuICAgIHNldCBwb3NpdGlvbih2YWx1ZSl7XG4gICAgICAgIGlmICh0aGlzLm9iamVjdCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSApe1xuICAgICAgICAgICAgY29uc29sZS5lcnJvciggJ0NhbnZhc1VJIHRyeWluZyB0byBzZXQgdGhlIG9iamVjdCBwb3NpdGlvbiB1c2luZyBhIHBhcmFtZXRlciB0aGF0IGlzIG5vdCBhIEZsb2F0MzJBcnJheScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JqZWN0LnNldFRyYW5zbGF0aW9uV29ybGQoIHZhbHVlICk7XG4gICAgfVxuICAgIFxuICAgIGdldCBxdWF0ZXJuaW9uKCl7XG4gICAgICAgIGlmICh0aGlzLm9iamVjdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKCB0aGlzLnRtcFZlYyApO1xuICAgICAgICByZXR1cm4gdGhpcy50bXBWZWM7XG4gICAgfVxuICAgIFxuICAgIHNldCBxdWF0ZXJuaW9uKHZhbHVlKXtcbiAgICAgICAgaWYgKHRoaXMubWVzaCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgUVVhdGVybmlvbikgKXtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoICdDYW52YXNVSSB0cnlpbmcgdG8gc2V0IHRoZSBvYmplY3QgcXVhdGVybmlvbiB1c2luZyBhIHBhcmFtZXRlciB0aGF0IGlzIG5vdCBhIFRIUkVFLlF1YXRlcm5pb24nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lc2gucXVhdGVybmlvbi5jb3B5KCB2YWx1ZSApO1xuICAgIH1cbiAgICBcblx0d3JhcFRleHQobmFtZSwgdHh0KXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyggYHdyYXBUZXh0OiAke25hbWV9OiR7dHh0fWApO1xuXHRcdGNvbnN0IHdvcmRzID0gdHh0LnNwbGl0KCcgJyk7XG4gICAgICAgIGxldCBsaW5lID0gJyc7XG5cdFx0Y29uc3QgbGluZXMgPSBbXTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gKHRoaXMuY29uZmlnW25hbWVdIT09dW5kZWZpbmVkKSA/IHRoaXMuY29uZmlnW25hbWVdIDogdGhpcy5jb25maWcuYm9keTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSAoY29uZmlnLndpZHRoIT09dW5kZWZpbmVkKSA/IGNvbmZpZy53aWR0aCA6IHRoaXMuY29uZmlnLndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSAoY29uZmlnLmhlaWdodCE9PXVuZGVmaW5lZCkgPyBjb25maWcuaGVpZ2h0IDogdGhpcy5jb25maWcuaGVpZ2h0O1xuICAgICAgICBjb25zdCBwb3MgPSAoY29uZmlnLnBvc2l0aW9uIT09dW5kZWZpbmVkKSA/IGNvbmZpZy5wb3NpdGlvbiA6IHsgeDowLCB5OjAgfTtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IChjb25maWcucGFkZGluZyE9PXVuZGVmaW5lZCkgPyBjb25maWcucGFkZGluZyA6ICh0aGlzLmNvbmZpZy5ib2R5LnBhZGRpbmchPT11bmRlZmluZWQpID8gdGhpcy5jb25maWcuYm9keS5wYWRkaW5nIDogMTA7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdUb3AgPSAoY29uZmlnLnBhZGRpbmdUb3AhPT11bmRlZmluZWQpID8gY29uZmlnLnBhZGRpbmdUb3AgOiBwYWRkaW5nO1xuICAgICAgICBjb25zdCBwYWRkaW5nTGVmdCA9IChjb25maWcucGFkZGluZ0xlZnQhPT11bmRlZmluZWQpID8gY29uZmlnLnBhZGRpbmdMZWZ0IDogcGFkZGluZztcbiAgICAgICAgY29uc3QgcGFkZGluZ0JvdHRvbSA9IChjb25maWcucGFkZGluZ0JvdHRvbSE9PXVuZGVmaW5lZCkgPyBjb25maWcucGFkZGluZ0JvdHRvbSA6IHBhZGRpbmc7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdSaWdodCA9IChjb25maWcucGFkZGluZ1JpZ2h0IT09dW5kZWZpbmVkKSA/IGNvbmZpZy5wYWRkaW5nUmlnaHQgOiBwYWRkaW5nO1xuICAgICAgICBjb25zdCByZWN0ID0geyB4OnBvcy54K3BhZGRpbmdMZWZ0LCB5OnBvcy55K3BhZGRpbmdUb3AsIHdpZHRoOiB3aWR0aCAtIHBhZGRpbmdMZWZ0IC0gcGFkZGluZ1JpZ2h0LCBoZWlnaHQ6IGhlaWdodCAtIHBhZGRpbmdUb3AgLSBwYWRkaW5nQm90dG9tIH07XG4gICAgICAgIGNvbnN0IHRleHRBbGlnbiA9IChjb25maWcudGV4dEFsaWduICE9PSB1bmRlZmluZWQpID8gY29uZmlnLnRleHRBbGlnbiA6ICh0aGlzLmNvbmZpZy5ib2R5LnRleHRBbGlnbiAhPT0gdW5kZWZpbmVkKSA/IHRoaXMuY29uZmlnLmJvZHkudGV4dEFsaWduIDogXCJsZWZ0XCI7XG4gICAgICAgIGNvbnN0IGZvbnRTaXplID0gKGNvbmZpZy5mb250U2l6ZSAhPT0gdW5kZWZpbmVkICkgPyBjb25maWcuZm9udFNpemUgOiAoIHRoaXMuY29uZmlnLmJvZHkuZm9udFNpemUgIT09IHVuZGVmaW5lZCkgPyB0aGlzLmNvbmZpZy5ib2R5LmZvbnRTaXplIDogMzA7XG4gICAgICAgIGNvbnN0IGZvbnRGYW1pbHkgPSAoY29uZmlnLmZvbnRGYW1pbHkhPT11bmRlZmluZWQpID8gY29uZmlnLmZvbnRGYW1pbHkgOiAodGhpcy5jb25maWcuYm9keS5mb250RmFtaWx5IT09dW5kZWZpbmVkKSA/IHRoaXMuY29uZmlnLmJvZHkuZm9udEZhbWlseSA6ICdBcmlhbCc7XG4gICAgICAgIGNvbnN0IGxlYWRpbmcgPSAoY29uZmlnLmxlYWRpbmcgIT09IHVuZGVmaW5lZCkgPyBjb25maWcubGVhZGluZyA6ICh0aGlzLmNvbmZpZy5ib2R5LmxlYWRpbmcgIT09IHVuZGVmaW5lZCkgPyB0aGlzLmNvbmZpZy5ib2R5LmxlYWRpbmcgOiA4O1xuXHRcdGNvbnN0IGxpbmVIZWlnaHQgPSBmb250U2l6ZSArIGxlYWRpbmc7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBcbiAgICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSB0ZXh0QWxpZ247XG4gICAgICAgIFxuXHRcdGNvbnRleHQuZm9udCA9IGAke2ZvbnRTaXplfXB4ICcke2ZvbnRGYW1pbHl9J2A7XG5cdFx0XG4gICAgICAgIHdvcmRzLmZvckVhY2goIGZ1bmN0aW9uKHdvcmQpe1xuXHRcdFx0bGV0IHRlc3RMaW5lID0gKHdvcmRzLmxlbmd0aD4xKSA/IGAke2xpbmV9JHt3b3JkfSBgIDogd29yZDtcbiAgICAgICAgXHRsZXQgbWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGVzdExpbmUpO1xuICAgICAgICBcdGlmIChtZXRyaWNzLndpZHRoID4gcmVjdC53aWR0aCAmJiB3b3JkLmxlbmd0aD4xKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoPT0wICYmIG1ldHJpY3Mud2lkdGggPiByZWN0LndpZHRoKXtcbiAgICAgICAgICAgICAgICAgICAgLy93b3JkIHRvbyBsb25nXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlKG1ldHJpY3Mud2lkdGggPiByZWN0LndpZHRoKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdExpbmUgPSB3b3JkLnN1YnN0cigwLCBjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGVzdExpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfXdoaWxlKG1ldHJpY3Mud2lkdGggPCByZWN0LndpZHRoICYmIGNvdW50IDwgKHdvcmQubGVuZ3RoLTEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50LS07XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXN0TGluZSA9IHdvcmQuc3Vic3RyKDAsIGNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goIHRlc3RMaW5lICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JkID0gd29yZC5zdWJzdHIoY291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50PD0xKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHdvcmQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh3b3JkICE9IFwiXCIpIGxpbmVzLnB1c2god29yZCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG5cdFx0XHRcdCAgICBsaW5lcy5wdXNoKGxpbmUpO1xuXHRcdFx0XHQgICAgbGluZSA9IGAke3dvcmR9IGA7XG4gICAgICAgICAgICAgICAgfVxuXHRcdFx0fWVsc2Uge1xuXHRcdFx0XHRsaW5lID0gdGVzdExpbmU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0XG5cdFx0aWYgKGxpbmUgIT0gJycpIGxpbmVzLnB1c2gobGluZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0ZXh0SGVpZ2h0ID0gbGluZXMubGVuZ3RoICogbGluZUhlaWdodDtcbiAgICAgICAgbGV0IHNjcm9sbFkgPSAwO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRleHRIZWlnaHQ+cmVjdC5oZWlnaHQgJiYgY29uZmlnLm92ZXJmbG93ID09PSAnc2Nyb2xsJyl7XG4gICAgICAgICAgICAvL1Nob3cgYSBzY3JvbGwgYmFyXG4gICAgICAgICAgICBpZiAoIGNvbmZpZy5zY3JvbGxZID09PSB1bmRlZmluZWQgKSBjb25maWcuc2Nyb2xsWSA9IDA7XG4gICAgICAgICAgICBjb25zdCBmb250Q29sb3IgPSAoIGNvbmZpZy5mb250Q29sb3IgIT09IHVuZGVmaW5lZCApID8gY29uZmlnLmZvbnRDb2xvciA6IHRoaXMuY29uZmlnLmJvZHkuZm9udENvbG9yO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiNhYWFcIjtcbiAgICAgICAgICAgIHRoaXMuZmlsbFJvdW5kZWRSZWN0KCBwb3MueCArIHdpZHRoIC0gMTIsIHBvcy55LCAxMiwgaGVpZ2h0LCA2ICk7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiIzY2NlwiO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSByZWN0LmhlaWdodCAvIHRleHRIZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCB0aHVtYkhlaWdodCA9IHNjYWxlICogaGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgdGh1bWJZID0gLWNvbmZpZy5zY3JvbGxZICogc2NhbGU7XG4gICAgICAgICAgICB0aGlzLmZpbGxSb3VuZGVkUmVjdCggcG9zLnggKyB3aWR0aCAtIDEyLCBwb3MueSArIHRodW1iWSwgMTIsIHRodW1iSGVpZ2h0LCA2KTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZm9udENvbG9yO1xuICAgICAgICAgICAgc2Nyb2xsWSA9IGNvbmZpZy5zY3JvbGxZO1xuICAgICAgICAgICAgY29uZmlnLm1pblNjcm9sbFkgPSByZWN0LmhlaWdodCAtIHRleHRIZWlnaHQ7XG4gICAgICAgIH1cblx0XHRcblx0XHRsZXQgeSA9IHNjcm9sbFkgKyByZWN0LnkgKyBmb250U2l6ZS8yO1xuXHRcdGxldCB4O1xuICAgICAgICBcbiAgICAgICAgc3dpdGNoKCB0ZXh0QWxpZ24gKXtcbiAgICAgICAgICAgIGNhc2UgXCJjZW50ZXJcIjpcbiAgICAgICAgICAgICAgICB4ID0gcmVjdC54ICsgcmVjdC53aWR0aC8yO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgICAgICAgeCA9IHJlY3QueCArIHJlY3Qud2lkdGg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHggPSByZWN0Lng7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgXG5cdFx0bGluZXMuZm9yRWFjaCggKGxpbmUpID0+IHtcbiAgICAgICAgICAgIGlmICgoeSArIGxpbmVIZWlnaHQpID4gMCkgY29udGV4dC5maWxsVGV4dChsaW5lLCB4LCB5KTtcblx0XHRcdHkgKz0gbGluZUhlaWdodDtcblx0XHR9KTtcblx0fVxufVxuXG5leHBvcnQgeyBDYW52YXNVSSB9O1xuIiwgImltcG9ydCB7Q29tcG9uZW50LCBJbnB1dENvbXBvbmVudCwgTWVzaENvbXBvbmVudCwgUHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7Q3Vyc29yVGFyZ2V0LCBIb3dsZXJBdWRpb1NvdXJjZX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cyc7XHJcblxyXG4vKipcclxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHRyaWdnZXIgaGFwdGljIGZlZWRiYWNrIHB1bHNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IEFuIG9iamVjdCB3aXRoICdpbnB1dCcgY29tcG9uZW50IGF0dGFjaGVkXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCBTdHJlbmd0aCBmcm9tIDAuMCAtIDEuMFxyXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gRHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaGFwdGljRmVlZGJhY2sob2JqZWN0LCBzdHJlbmd0aCwgZHVyYXRpb24pIHtcclxuICAgIGNvbnN0IGlucHV0ID0gb2JqZWN0LmdldENvbXBvbmVudChJbnB1dENvbXBvbmVudCk7XHJcbiAgICBpZiAoaW5wdXQgJiYgaW5wdXQueHJJbnB1dFNvdXJjZSkge1xyXG4gICAgICAgIGNvbnN0IGdhbWVwYWQgPSBpbnB1dC54cklucHV0U291cmNlLmdhbWVwYWQ7XHJcbiAgICAgICAgaWYgKGdhbWVwYWQgJiYgZ2FtZXBhZC5oYXB0aWNBY3R1YXRvcnMpXHJcbiAgICAgICAgICAgIGdhbWVwYWQuaGFwdGljQWN0dWF0b3JzWzBdLnB1bHNlKHN0cmVuZ3RoLCBkdXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBCdXR0b24gY29tcG9uZW50LlxyXG4gKlxyXG4gKiBTaG93cyBhICdob3Zlck1hdGVyaWFsJyBvbiBjdXJzb3IgaG92ZXIsIG1vdmVzIGJhY2t3YXJkIG9uIGN1cnNvciBkb3duLFxyXG4gKiByZXR1cm5zIHRvIGl0cyBwb3NpdGlvbiBvbiBjdXJzb3IgdXAsIHBsYXlzIGNsaWNrL3VuY2xpY2sgc291bmRzIGFuZCBoYXB0aWNcclxuICogZmVlZGJhY2sgb24gaG92ZXIuXHJcbiAqXHJcbiAqIFVzZSBgdGFyZ2V0Lm9uQ2xpY2suYWRkKCgpID0+IHt9KWAgb24gdGhlIGBjdXJzb3ItdGFyZ2V0YCBjb21wb25lbnQgdXNlZFxyXG4gKiB3aXRoIHRoZSBidXR0b24gdG8gZGVmaW5lIHRoZSBidXR0b24ncyBhY3Rpb24uXHJcbiAqXHJcbiAqIFN1cHBvcnRzIGludGVyYWN0aW9uIHdpdGggYGZpbmdlci1jdXJzb3JgIGNvbXBvbmVudCBmb3IgaGFuZCB0cmFja2luZy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBCdXR0b25Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2J1dHRvbic7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogT2JqZWN0IHRoYXQgaGFzIHRoZSBidXR0b24ncyBtZXNoIGF0dGFjaGVkICovXHJcbiAgICAgICAgYnV0dG9uTWVzaE9iamVjdDogUHJvcGVydHkub2JqZWN0KCksXHJcbiAgICAgICAgLyoqIE1hdGVyaWFsIHRvIGFwcGx5IHdoZW4gdGhlIHVzZXIgaG92ZXJzIHRoZSBidXR0b24gKi9cclxuICAgICAgICBob3Zlck1hdGVyaWFsOiBQcm9wZXJ0eS5tYXRlcmlhbCgpLFxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoSG93bGVyQXVkaW9Tb3VyY2UpO1xyXG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChDdXJzb3JUYXJnZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFBvc2l0aW9uIHRvIHJldHVybiB0byB3aGVuIFwidW5wcmVzc2luZ1wiIHRoZSBidXR0b24gKi9cclxuICAgIHJldHVyblBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5tZXNoID0gdGhpcy5idXR0b25NZXNoT2JqZWN0LmdldENvbXBvbmVudChNZXNoQ29tcG9uZW50KTtcclxuICAgICAgICB0aGlzLmRlZmF1bHRNYXRlcmlhbCA9IHRoaXMubWVzaC5tYXRlcmlhbDtcclxuICAgICAgICB0aGlzLmJ1dHRvbk1lc2hPYmplY3QuZ2V0VHJhbnNsYXRpb25Mb2NhbCh0aGlzLnJldHVyblBvcyk7XHJcblxyXG4gICAgICAgIHRoaXMudGFyZ2V0ID1cclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KEN1cnNvclRhcmdldCkgfHxcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KEN1cnNvclRhcmdldCk7XHJcblxyXG4gICAgICAgIHRoaXMuc291bmRDbGljayA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSwge1xyXG4gICAgICAgICAgICBzcmM6ICdzZngvY2xpY2sud2F2JyxcclxuICAgICAgICAgICAgc3BhdGlhbDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNvdW5kVW5DbGljayA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSwge1xyXG4gICAgICAgICAgICBzcmM6ICdzZngvdW5jbGljay53YXYnLFxyXG4gICAgICAgICAgICBzcGF0aWFsOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQub25Ib3Zlci5hZGQodGhpcy5vbkhvdmVyKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5vblVuaG92ZXIuYWRkKHRoaXMub25VbmhvdmVyKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5vbkRvd24uYWRkKHRoaXMub25Eb3duKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5vblVwLmFkZCh0aGlzLm9uVXApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLnRhcmdldC5vbkhvdmVyLnJlbW92ZSh0aGlzLm9uSG92ZXIpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uVW5ob3Zlci5yZW1vdmUodGhpcy5vblVuaG92ZXIpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uRG93bi5yZW1vdmUodGhpcy5vbkRvd24pO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uVXAucmVtb3ZlKHRoaXMub25VcCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogQ2FsbGVkIGJ5ICdjdXJzb3ItdGFyZ2V0JyAqL1xyXG4gICAgb25Ib3ZlciA9IChfLCBjdXJzb3IpID0+IHtcclxuICAgICAgICB0aGlzLm1lc2gubWF0ZXJpYWwgPSB0aGlzLmhvdmVyTWF0ZXJpYWw7XHJcbiAgICAgICAgaWYgKGN1cnNvci50eXBlID09PSAnZmluZ2VyLWN1cnNvcicpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkRvd24oXywgY3Vyc29yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNSwgNTApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIENhbGxlZCBieSAnY3Vyc29yLXRhcmdldCcgKi9cclxuICAgIG9uRG93biA9IChfLCBjdXJzb3IpID0+IHtcclxuICAgICAgICB0aGlzLnNvdW5kQ2xpY2sucGxheSgpO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uTWVzaE9iamVjdC50cmFuc2xhdGUoWzAuMCwgLTAuMSwgMC4wXSk7XHJcbiAgICAgICAgaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMS4wLCAyMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogQ2FsbGVkIGJ5ICdjdXJzb3ItdGFyZ2V0JyAqL1xyXG4gICAgb25VcCA9IChfLCBjdXJzb3IpID0+IHtcclxuICAgICAgICB0aGlzLnNvdW5kVW5DbGljay5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5idXR0b25NZXNoT2JqZWN0LnNldFRyYW5zbGF0aW9uTG9jYWwodGhpcy5yZXR1cm5Qb3MpO1xyXG4gICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNywgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIENhbGxlZCBieSAnY3Vyc29yLXRhcmdldCcgKi9cclxuICAgIG9uVW5ob3ZlciA9IChfLCBjdXJzb3IpID0+IHtcclxuICAgICAgICB0aGlzLm1lc2gubWF0ZXJpYWwgPSB0aGlzLmRlZmF1bHRNYXRlcmlhbDtcclxuICAgICAgICBpZiAoY3Vyc29yLnR5cGUgPT09ICdmaW5nZXItY3Vyc29yJykge1xyXG4gICAgICAgICAgICB0aGlzLm9uVXAoXywgY3Vyc29yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuMywgNTApO1xyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcbmltcG9ydCB7IFdheXBvaW50TW92ZW1lbnQgfSBmcm9tIFwiLi93YXlwb2ludC1tb3ZlbWVudFwiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBlbmVteS1zcGF3bmVyXHJcbiAqL1xyXG5cclxuY29uc3QgdGVtcFF1YXQyID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcclxuZXhwb3J0IGNsYXNzIEVuZW15U3Bhd25lciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZW5lbXktc3Bhd25lcic7XHJcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBkZWZhdWx0TWVzaDogeyB0eXBlOiBUeXBlLk1lc2ggfSxcclxuICAgICAgICBkZWZhdWx0TWF0ZXJpYWw6IHsgdHlwZTogVHlwZS5NYXRlcmlhbCB9LFxyXG4gICAgICAgIHNwYXduVGltZXI6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDE1IH0sXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFRoZSBnYW1lIGZpbGUgY29udGFpbnMgdGhlIHN0YXRlIG9iamVjdCwgdGhlIGluaXQgZnVuY3Rpb24gYWRkcyBhIGZ1bmN0aW9uXHJcbiAgICAvLyBjYWxsZWQgc3Bhd24gdG8gdGhlIHN0YXRlIGZpbGUsIGFzc2lnbnMgdGhlIGNhbGxpbmcgb2JqZWN0IGFzIHRoZSBzcGF3bnBvaW50LFxyXG4gICAgLy8gYW5kIGluc3RhdG5pYXRlcyB0aGUgdGltZXIgZm9yIHNwYXduIGRlbGF5XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMudGltZXIgPSAwO1xyXG4gICAgICAgIHN0YXRlLkVuZW15U3Bhd25lci5wdXNoKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwicGF1bFwiO1xyXG4gICAgICAgIHN0YXRlLnNwYXduID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG5cclxuICAgICAgICAgICAgbGV0IGVuZW15ID0gb2JqZWN0LnNwYXduRW5lbXkoKTtcclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInN0YXJ0XCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMubmFtZSk7XHJcbiAgICB9XHJcbiAgICAvLyBOb3QgZXhhY3RseSBzdXJlIHdoeSB3ZSBuZWVkIHRoaXMgYnV0IHdlIGRvXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoV2F5cG9pbnRNb3ZlbWVudCk7XHJcbiAgICB9XHJcbiAgICAvLyBzcGF3bnMgYSBuZXcgZW5lbXkgZXZlcnkgNSBzZWNvbmRzIFxyXG4gICAgLy8gVE9ETyBhZGQgYSBzcGF3bnRpbWVyIGZ1bmN0aW9uIGFuZCB1c2UgdGhhdCBpbnN0ZWFkIG9mIGhhcmRjb2RpbmcgdGhlIHRpbWVcclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIHRoaXMudGltZXIgKz0gZHQ7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZXIgPiA1KSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXIgPSAwO1xyXG4gICAgICAgICAgICBzdGF0ZS5zcGF3bih0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBUT0RPIGFkZCBhIG9uSEl0IGZ1bmN0aW9uIHRvIHRoZSBvYmplY3QgdGhhdCBpcyBzcGF3bmVkIFxyXG5cclxuICAgIHNwYXduRW5lbXkoKSB7XHJcbiAgICAgICAgLy8gdGhpcyBjcmVhdGVzIGFuIG9iamVjdCBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCB3b25kZXJsYW5kIHNjZW5lXHJcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KCk7XHJcbiAgICAgICAgc3RhdGUuY3VycmVudEVuZW1pZXMucHVzaChvYmopO1xyXG4gICAgICAgIC8vIFNldHMgdGhlIGxvY2F0aW9uIG9mIHRoZSBuZXcgb2JqZWN0IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBzcGF3biBwb2ludFxyXG4gICAgICAgIG9iai5zZXRUcmFuc2Zvcm1Mb2NhbCh0aGlzLm9iamVjdC5nZXRUcmFuc2Zvcm1Xb3JsZCh0ZW1wUXVhdDIpKTtcclxuICAgICAgICAvLyBhZGRzIG1lc2ggdG8gdGhlIG5ldyBvYmplY3QgcmVmZXJlbnZpbmcgdGhlIG1lc2ggZGVzaWduYXRlZCBieSB0aGVcclxuICAgICAgICAvL3NwYXduaW5nIG9iamVjdCBpbiB0aGUgZWRpdG9yXHJcbiAgICAgICAgY29uc3QgbWVzaCA9IG9iai5hZGRDb21wb25lbnQoJ21lc2gnKTtcclxuICAgICAgICBtZXNoLm1lc2ggPSB0aGlzLmRlZmF1bHRNZXNoO1xyXG4gICAgICAgIG1lc2gubWF0ZXJpYWwgPSB0aGlzLmRlZmF1bHRNYXRlcmlhbDtcclxuICAgICAgICBtZXNoLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgLy8gZ3JhbnRzIHRoZSBuZXcgZW5lbXkgb2JqZWN0IGEgY29sbGlzaW9uIGJveFxyXG5cclxuICAgICAgICBvYmouYWRkQ29tcG9uZW50KFwiY29sbGlzaW9uXCIsIHtcclxuICAgICAgICAgICAgc2hhcGU6IFdMLkNvbGxpZGVyLlNwaGVyZSxcclxuICAgICAgICAgICAgZXh0ZW50czogWzUsIDAsIDBdLFxyXG4gICAgICAgICAgICBncm91cDogMSA8PCA1LFxyXG4gICAgICAgICAgICBhY3RpdmU6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gcG90ZW50aWFsIGRpc3RhbmNlIHRyYXZlbGVkIGZvciBlbmVteSBzZWxlY3Rpb25cclxuICAgICAgICBvYmoud2Fsa2VkID0gMDtcclxuXHJcbiAgICAgICAgb2JqLmhlYWx0aCA9IDUwO1xyXG4gICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBvYmplY3QgdGhhdCBpcyBhIGNvcHQgb2YgdGhlIFdheXBvaW50IE1vdmVtZW50IG9iamVjdCBcclxuICAgICAgICAvLyBiZWxvbmdpbmcgdG8gdGhlIHNwYXduZXJcclxuICAgICAgICBsZXQgbyA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudChXYXlwb2ludE1vdmVtZW50KTtcclxuXHJcbiAgICAgICAgLy9UaGlzIGNvZGUgaXMgbWVhbnQgdG8gYmUgaG93IHdlIHRyYWNrIHRoZSBoZWFsdGggb2YgdGhlIGVuZW1pZXMsIGN1cnJlbnRseSBub3QgZG9pbmcgYW55dGhpbmdcclxuICAgICAgICBvYmouZiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc3RhdGUuaGVhbHRoIC09IDU7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc3RhdGUuY3VycmVudEVuZW1pZXMuaW5kZXhPZihvYmopO1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gc3RhdGUuY3VycmVudEVuZW1pZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cob2JqLndhbGtlZCk7XHJcbiAgICAgICAgICAgIG9iai5kZXN0cm95KClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBBZGQgdGhlIGNvcGllZCBtb3ZlbWVudCBvYmplY3QgdG8gdGhlIG5ldyBlbmVteSwgaW5jbHVkaW5nXHJcbiAgICAgICAgLy8gdGhlIHBhdGhPYmplY3Qgb2YgdGhlIHBhcmVudCBzcGVjaWZpZWQgaW4gdGhlIGVkaXRvclxyXG5cclxuICAgICAgICBvYmouYWRkQ29tcG9uZW50KFdheXBvaW50TW92ZW1lbnQsIG8pO1xyXG4gICAgICAgIG9iai5zZXRTY2FsaW5nTG9jYWwoWy4yLC4yLC4yXSk7XHJcbiAgICAgICAgb2JqLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgb2JqLm5hbWUgPSBcImRhdmVcIjtcclxuICAgICAgICBvYmouc2V0RGlydHkoKTtcclxuICAgIH1cclxufSIsICJpbXBvcnQge0NvbXBvbmVudCwgVHlwZX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7dmVjM30gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7c3RhdGUgfSBmcm9tICcuL2dhbWUnO1xuXG4vKlxuT3JpZ2luYWwgYXV0aG9ycyBcdTIwMTQgY3JlZGl0IGlzIGFwcHJlY2lhdGVkIGJ1dCBub3QgcmVxdWlyZWQ6XG5cbiAgICAgMjAyMSBcdTIwMTQgRmxvcmlhbiBJc2lrY2kgPGZsb3JpYW4uaXNpa2NpQHZoaXRlcmFiYml0LmNvbT5cblxuIFRoaXMgaXMgZnJlZSBhbmQgdW5lbmN1bWJlcmVkIHNvZnR3YXJlIHJlbGVhc2VkIGludG8gdGhlIHB1YmxpYyBkb21haW4uXG4gQW55b25lIGlzIGZyZWUgdG8gY29weSwgbW9kaWZ5LCBwdWJsaXNoLCB1c2UsIGNvbXBpbGUsIHNlbGwsIG9yIGRpc3RyaWJ1dGVcbiB0aGlzIHNvZnR3YXJlLCBlaXRoZXIgaW4gc291cmNlIGNvZGUgZm9ybSBvciBhcyBhIGNvbXBpbGVkIGJpbmFyeSwgZm9yIGFueVxuIHB1cnBvc2UsIGNvbW1lcmNpYWwgb3Igbm9uLWNvbW1lcmNpYWwsIGFuZCBieSBhbnkgbWVhbnMuXG5cbiBJbiBqdXJpc2RpY3Rpb25zIHRoYXQgcmVjb2duaXplIGNvcHlyaWdodCBsYXdzLCB0aGUgYXV0aG9yIG9yIGF1dGhvcnMgb2ZcbiB0aGlzIHNvZnR3YXJlIGRlZGljYXRlIGFueSBhbmQgYWxsIGNvcHlyaWdodCBpbnRlcmVzdCBpbiB0aGUgc29mdHdhcmUgdG9cbiB0aGUgcHVibGljIGRvbWFpbi4gV2UgbWFrZSB0aGlzIGRlZGljYXRpb24gZm9yIHRoZSBiZW5lZml0IG9mIHRoZSBwdWJsaWNcbiBhdCBsYXJnZSBhbmQgdG8gdGhlIGRldHJpbWVudCBvZiBvdXIgaGVpcnMgYW5kIHN1Y2Nlc3NvcnMuIFdlIGludGVuZCB0aGlzXG4gZGVkaWNhdGlvbiB0byBiZSBhbiBvdmVydCBhY3Qgb2YgcmVsaW5xdWlzaG1lbnQgaW4gcGVycGV0dWl0eSBvZiBhbGxcbiBwcmVzZW50IGFuZCBmdXR1cmUgcmlnaHRzIHRvIHRoaXMgc29mdHdhcmUgdW5kZXIgY29weXJpZ2h0IGxhdy5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTFxuIFRIRSBBVVRIT1JTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUlxuIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOXG4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuXG5leHBvcnQgY2xhc3MgV2F5cG9pbnRNb3ZlbWVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3dheXBvaW50LW1vdmVtZW50JztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIFRoaXMgb2JqZWN0IGlzIHRoZSBjb250YWluZXIgb2YgdGhlIHdheXBvaW50cy4gSXQgc2hvdWxkIGNvbnRhaW4gY2hpbGRyZW5cbiAgICB3aXRoIGFuIGFscGhlYmV0aWNhbGx5IGFzY2VuZGluZyBuYW1pbmcgKGUuZy4gQSwgQiwgQywgRCwgRSwgRikgKi9cbiAgICAgICAgcGF0aE9iamVjdDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcbiAgICAgICAgLyoqIE1vdmVtZW50IHNwZWVkIG9mIHRoZSBvYmplY3QgKi9cbiAgICAgICAgc3BlZWQ6IHt0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAxLjB9LFxuICAgICAgICAvKiogRGlzdGFuY2UgaW4gbm9ybWFsIHNwYWNlIFswLCAwLjUpIGFmdGVyIHdoaWNoIHRoZSBvYmplY3RzIHN0YXJ0cyBtb3Zpbmcgb24gYSBjdXJ2ZSAqL1xuICAgICAgICBjdXJ2ZURpc3RhbmNlOiB7dHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC4xfSxcbiAgICB9O1xuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IHRoaXMucGF0aE9iamVjdC5jaGlsZHJlbi5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucG9zaXRpb25zID0gbmV3IEFycmF5KHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uc1tpXSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5wb3NpdGlvbnNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHRoaXMubG9va1Bvc2l0aW9uID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgdGhpcy5mcm9tUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uc1swXTtcbiAgICAgICAgdGhpcy50b1Bvc2l0aW9uID0gdGhpcy5wb3NpdGlvbnNbMV07XG4gICAgICAgIHZlYzMuc3ViKHRoaXMuY3VycmVudFBvc2l0aW9uLCB0aGlzLnRvUG9zaXRpb24sIHRoaXMuZnJvbVBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5mcm9tVG9MZW5ndGggPSB2ZWMzLmxlbmd0aCh0aGlzLmN1cnJlbnRQb3NpdGlvbik7XG4gICAgICAgIHRoaXMuY3VycmVudExlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudXAgPSBbMCwgMSwgMF07XG4gICAgICAgIHRoaXMucXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgICAgIGxvb2tBdCh0aGlzLnF1YXQsIHRoaXMuZnJvbVBvc2l0aW9uLCB0aGlzLnRvUG9zaXRpb24sIHRoaXMudXApO1xuICAgICAgICB0aGlzLm9iamVjdC5yZXNldFRyYW5zbGF0aW9uUm90YXRpb24oKTtcbiAgICAgICAgdGhpcy5vYmplY3Qucm90YXRlKHRoaXMucXVhdCk7XG4gICAgICAgIHRoaXMub2JqZWN0LnNldFRyYW5zbGF0aW9uV29ybGQodGhpcy5mcm9tUG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMucDAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICB0aGlzLnAxID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgdGhpcy5wMiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHRoaXMuY3VycmVudEN1cnZlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmN1cnZlRGlzdGFuY2UgPSBNYXRoLm1heCgwLjAsIE1hdGgubWluKDAuNDk5OTksIHRoaXMuY3VydmVEaXN0YW5jZSkpO1xuICAgICAgICB0aGlzLmJlekZhY3Rvck11bHRpcGxpY2F0b3IgPSAxIC8gKDIgKiB0aGlzLmN1cnZlRGlzdGFuY2UpO1xuXG4gICAgICAgIHRoaXMub25GaW5hbFdheXBvaW50UmVhY2hlZENhbGxiYWNrcyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBmdW5jdGlvbiB0byBhIGNhbGxiYWNrIGFycmF5IHdoaWNoLCB0aGVuIGNhbGxzIHRoZSBmdW5jdGlvbiBhZnRlciB0aGUgZmluYWwgd2F5cG9pbnQgaGFzIGJlZW4gcmVhY2hlZC5cbiAgICAgKiBAcGFyYW0gIHtmdW5jdGlvbn0gZiBGdW5jdGlvbiB0byBiZSBhZGRlZC5cbiAgICAgKi9cbiAgICBhZGRPbkZpbmFsV2F5cG9pbnRSZWFjaGVkQ2FsbGJhY2soZikge1xuICAgICAgICB0aGlzLm9uRmluYWxXYXlwb2ludFJlYWNoZWRDYWxsYmFja3MucHVzaChmKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgZnVuY3Rpb24gZnJvbSB0aGUgY2FsbGJhY2sgYXJyYXkgZm9yIHJlYWNoaW5nIHRoZSBmaW5hbCB3YXlwb2ludC4uXG4gICAgICogQHBhcmFtICB7ZnVuY3Rpb259IGYgRnVuY3Rpb24gdG8gYmUgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICByZW1vdmVPbkZpbmFsV2F5cG9pbnRSZWFjaGVkQ2FsbGJhY2soZikge1xuICAgICAgICBjb25zdCBpbmRleCA9IGFycmF5LmluZGV4T2YoZik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm9uRmluYWxXYXlwb2ludFJlYWNoZWRDYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50cyBuZWVkZWQgZm9yIHRoZSBuZXh0IGN1cnZlXG4gICAgICovXG4gICAgX3NldEN1cnZlUG9pbnRzKCkge1xuICAgICAgICAvKlxuICAgICAgICAgKiBHaXZlbiBwb2ludHMgQSwgQiBhbmQgQyBmb3IgYSBjdXJ2ZSwgZm9sbG93aW5nIHBvaW50cyBwMCwgcDEgYW5kIHAyIGFyZSBzZXQgZm9yIGEgYmV6aWVyIGN1cnZlIGFyb3VuZCB0aGUgY29ybmVyIG9mIEIuXG4gICAgICAgICAqIHdoaWNoIGlzIHNldCBmb3Igc21vb3RoIGNvcm5lciBtb3ZlbWVudCBhbmQgZGVwZW5kcyBvbiB0aGUgY3VydmVEaXN0YW5jZShjRCkgZnJvbSBCLlxuICAgICAgICAgKiBwMCA9IEIgKyBjRCAqIChBLUIpXG4gICAgICAgICAqIHAxID0gQlxuICAgICAgICAgKiBwMiA9IEIgKyBjRCAqIChDLUIpXG4gICAgICAgICAqL1xuICAgICAgICB2ZWMzLnN1YihcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uLFxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbnNbdGhpcy5jdXJyZW50Q3VydmVJbmRleF0sXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uc1t0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4ICsgMV1cbiAgICAgICAgKTtcbiAgICAgICAgdmVjMy5zY2FsZSh0aGlzLmN1cnJlbnRQb3NpdGlvbiwgdGhpcy5jdXJyZW50UG9zaXRpb24sIHRoaXMuY3VydmVEaXN0YW5jZSk7XG4gICAgICAgIHZlYzMuYWRkKHRoaXMucDAsIHRoaXMucG9zaXRpb25zW3RoaXMuY3VycmVudEN1cnZlSW5kZXggKyAxXSwgdGhpcy5jdXJyZW50UG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMucDEgPSB0aGlzLnBvc2l0aW9uc1t0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4ICsgMV07XG5cbiAgICAgICAgdmVjMy5zdWIoXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbixcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25zW3RoaXMuY3VycmVudEN1cnZlSW5kZXggKyAyXSxcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25zW3RoaXMuY3VycmVudEN1cnZlSW5kZXggKyAxXVxuICAgICAgICApO1xuICAgICAgICB2ZWMzLnNjYWxlKHRoaXMuY3VycmVudFBvc2l0aW9uLCB0aGlzLmN1cnJlbnRQb3NpdGlvbiwgdGhpcy5jdXJ2ZURpc3RhbmNlKTtcbiAgICAgICAgdmVjMy5hZGQodGhpcy5wMiwgdGhpcy5wb3NpdGlvbnNbdGhpcy5jdXJyZW50Q3VydmVJbmRleCArIDFdLCB0aGlzLmN1cnJlbnRQb3NpdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgb2JqZWN0J3MgcGF0aCBvYmplY3QgYW5kIGNvbmZpZ3VyZXMgaXQuXG4gICAgICogQHBhcmFtICB7V0wuT2JqZWN0fSBwYXRoT2JqZWN0IFtPYmplY3QgY29udGFpbmluZyBhbHBoZWJldGljYWxseSBuYW1lZCBjaGlsZHJlbl1cbiAgICAgKi9cbiAgICBzZXRQYXRoT2JqZWN0KHBhdGhPYmplY3QpIHtcbiAgICAgICAgdGhpcy5wYXRoT2JqZWN0ID0gcGF0aE9iamVjdDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IHRoaXMucGF0aE9iamVjdC5jaGlsZHJlbi5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucG9zaXRpb25zID0gbmV3IEFycmF5KHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uc1tpXSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5wb3NpdGlvbnNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50TGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fc2V0Q3VydmVQb2ludHMoKTtcblxuICAgICAgICB0aGlzLmZyb21Qb3NpdGlvbiA9IHRoaXMucG9zaXRpb25zWzBdO1xuICAgICAgICB0aGlzLnRvUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uc1sxXTtcbiAgICAgICAgdmVjMy5zdWIodGhpcy5jdXJyZW50UG9zaXRpb24sIHRoaXMudG9Qb3NpdGlvbiwgdGhpcy5mcm9tUG9zaXRpb24pO1xuICAgICAgICB0aGlzLmZyb21Ub0xlbmd0aCA9IHZlYzMubGVuZ3RoKHRoaXMuY3VycmVudFBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50TGVuZ3RoICs9IGR0ICogdGhpcy5zcGVlZDtcbiAgICAgICAgdGhpcy5vYmplY3Qud2Fsa2VkICs9IDE7XG4gICAgICAgIC8vIGZhY3RvciBpbmRpY2F0ZXMgdGhlIHBlcmNlbnRhZ2Ugb2YgaG93IG11Y2ggb2YgYSBnaXZlbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMgaGFzIGFscmVhZHkgYmVlbiB0cmF2ZXJzZWRcbiAgICAgICAgbGV0IGZhY3RvciA9IHRoaXMuY3VycmVudExlbmd0aCAvIHRoaXMuZnJvbVRvTGVuZ3RoO1xuICAgICAgICAvLyBDaGVjayBpZiBpdCBpcyB0aGUgY3VydmUgcG9pbnQsIGlmIGl0IGlzLCBkb24ndCBpbmNyZW1lbnQgdGhlIGluZGV4IG9mIGN1cnZlc1xuICAgICAgICBpZiAoZmFjdG9yID4gMC41ICYmIHRoaXMuY3VycmVudFBvc2l0aW9uSW5kZXggIT0gdGhpcy5wb3NpdGlvbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJ2ZUluZGV4ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBmb3Igd2V0aGVyIHRoZSBjdXJ2ZSBzaG91bGQgc3RhcnQgKGxpbWl0IHNldCBieSB0aGlzLmN1cnZlRGlzdGFuY2UpIG9yIGEgc3RyYWlnaHQgbGVycCBzaG91bGQgb2NjdXJcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgTWF0aC5hYnMoZmFjdG9yIC0gTWF0aC5yb3VuZChmYWN0b3IpKSA8IHRoaXMuY3VydmVEaXN0YW5jZSAmJlxuICAgICAgICAgICAgISh0aGlzLmN1cnJlbnRQb3NpdGlvbkluZGV4ID09IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMiAmJiBmYWN0b3IgPiAwLjUpICYmXG4gICAgICAgICAgICAhKHRoaXMuY3VycmVudFBvc2l0aW9uSW5kZXggPT0gMCAmJiBmYWN0b3IgPCAwLjUpXG4gICAgICAgICkge1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lcyB0aGUgcG9zaXRpb24gb24gdGhlIGJlemllciBjdXJ2ZSBhcm91bmQgdGhlIGNvcm5lciBmcm9tIGZhY3Rvciwgd2hpY2ggbW92ZXMgZnJvbSAwLjkgdG8gMC4xIGFmdGVyIHBhc3NpbmcgdGhlIG1pZGRsZSBwb2ludFxuICAgICAgICAgICAgbGV0IGJlekZhY3RvciA9XG4gICAgICAgICAgICAgICAgKGZhY3RvciAtIE1hdGgucm91bmQoZmFjdG9yKSArIHRoaXMuY3VydmVEaXN0YW5jZSkgKlxuICAgICAgICAgICAgICAgIHRoaXMuYmV6RmFjdG9yTXVsdGlwbGljYXRvcjtcbiAgICAgICAgICAgIHZlYzMuYmV6aWVyKFxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHRoaXMucDAsXG4gICAgICAgICAgICAgICAgdGhpcy5wMSxcbiAgICAgICAgICAgICAgICB0aGlzLnAxLFxuICAgICAgICAgICAgICAgIHRoaXMucDIsXG4gICAgICAgICAgICAgICAgYmV6RmFjdG9yXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLy8gcG9zaXRpb24gYWhlYWQgb2YgdGhlIG9iamVjdCBvbiB0aGUgcGF0aCwgZGV0ZXJtaW5lcyB0aGUgbG9va2luZyBkaXJlY3Rpb25cbiAgICAgICAgICAgIHZlYzMuYmV6aWVyKFxuICAgICAgICAgICAgICAgIHRoaXMubG9va1Bvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHRoaXMucDAsXG4gICAgICAgICAgICAgICAgdGhpcy5wMSxcbiAgICAgICAgICAgICAgICB0aGlzLnAxLFxuICAgICAgICAgICAgICAgIHRoaXMucDIsXG4gICAgICAgICAgICAgICAgYmV6RmFjdG9yICsgMC4wMVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLmluY3JlbWVudEN1cnZlSW5kZXggJiZcbiAgICAgICAgICAgICAgICBmYWN0b3IgPCAwLjUgJiZcbiAgICAgICAgICAgICAgICBmYWN0b3IgPiB0aGlzLmN1cnZlRGlzdGFuY2UgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4ICE9IHRoaXMucG9zaXRpb25zLmxlbmd0aCAtIDNcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEN1cnZlSW5kZXgrKztcbiAgICAgICAgICAgICAgICB0aGlzLmluY3JlbWVudEN1cnZlSW5kZXggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZlYzMubGVycCh0aGlzLmN1cnJlbnRQb3NpdGlvbiwgdGhpcy5mcm9tUG9zaXRpb24sIHRoaXMudG9Qb3NpdGlvbiwgZmFjdG9yKTtcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uIGFoZWFkIG9mIHRoZSBvYmplY3Qgb24gdGhlIHBhdGgsIGRldGVybWluZXMgdGhlIGxvb2tpbmcgZGlyZWN0aW9uXG4gICAgICAgICAgICB2ZWMzLmxlcnAodGhpcy5sb29rUG9zaXRpb24sIHRoaXMuZnJvbVBvc2l0aW9uLCB0aGlzLnRvUG9zaXRpb24sIGZhY3RvciArIDAuMDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92ZW1lbnQgYW5kIHJvdGF0aW9uIHRvIGNhbGN1bGF0ZWQgcG9zaXRpb24vZGlyZWN0aW9uXG4gICAgICAgIHRoaXMub2JqZWN0LnJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbigpO1xuICAgICAgICBsb29rQXQodGhpcy5xdWF0LCB0aGlzLmN1cnJlbnRQb3NpdGlvbiwgdGhpcy5sb29rUG9zaXRpb24sIHRoaXMudXApO1xuICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGUodGhpcy5xdWF0KTtcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLmN1cnJlbnRQb3NpdGlvbik7XG5cbiAgICAgICAgLy8gQ2hlY2tzIHdldGhlciB0aGUgd2F5cG9pbnQgaGFzIGJlZW4gcGFzc2VkXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRMZW5ndGggPiB0aGlzLmZyb21Ub0xlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb25JbmRleCsrO1xuICAgICAgICAgICAgLy8gQ2hlY2tzIGlmIHRoZSBmaW5hbCB3YXlwb2ludCBoYXMgYmVlbiByZWFjaGVkXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UG9zaXRpb25JbmRleCA9PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5mKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb25JbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q3VydmVJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJ2ZUluZGV4ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkZpbmFsV2F5cG9pbnRSZWFjaGVkQ2FsbGJhY2tzLmZvckVhY2goKGYpID0+IGYoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZyb21Qb3NpdGlvbiA9IHRoaXMucG9zaXRpb25zW3RoaXMuY3VycmVudFBvc2l0aW9uSW5kZXhdO1xuICAgICAgICAgICAgdGhpcy50b1Bvc2l0aW9uID0gdGhpcy5wb3NpdGlvbnNbdGhpcy5jdXJyZW50UG9zaXRpb25JbmRleCArIDFdO1xuICAgICAgICAgICAgdmVjMy5zdWIodGhpcy5jdXJyZW50UG9zaXRpb24sIHRoaXMudG9Qb3NpdGlvbiwgdGhpcy5mcm9tUG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5mcm9tVG9MZW5ndGggPSB2ZWMzLmxlbmd0aCh0aGlzLmN1cnJlbnRQb3NpdGlvbik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBsb29rQXQgZnVuY3Rpb24gd2lsbCBiZSByZXBsYWNlZCBieSBhbiBpbnRlcm5hbCBmdW5jdGlvbiBpbiB0aGUgZnV0dXJlLlxuY29uc3QgbG9va0F0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgZm9yd2FyZFRlbXAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIGxldCB0ZW1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBsZXQgZG90VGVtcCA9IDA7XG5cbiAgICBsZXQgdmVjdG9yID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBsZXQgdmVjdG9yMiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgbGV0IHZlY3RvcjMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChxdWF0ZXJuaW9uLCBzb3VyY2VQb2ludCwgZGVzdFBvaW50LCB1cCkge1xuICAgICAgICBpZiAoIXVwKSB7XG4gICAgICAgICAgICB1cCA9IFswLCAxLCAwXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZlYzMuc3ViKGZvcndhcmRUZW1wLCBkZXN0UG9pbnQsIHNvdXJjZVBvaW50KTtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoZm9yd2FyZFRlbXAsIGZvcndhcmRUZW1wKTtcblxuICAgICAgICBkb3RUZW1wID0gdmVjMy5kb3QodXAsIGZvcndhcmRUZW1wKTtcblxuICAgICAgICB2ZWMzLnNjYWxlKHRlbXAsIGZvcndhcmRUZW1wLCBkb3RUZW1wKTtcblxuICAgICAgICB2ZWMzLnN1Yih1cCwgdXAsIHRlbXApO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh1cCwgdXApO1xuXG4gICAgICAgIHZlYzMubm9ybWFsaXplKHZlY3RvciwgZm9yd2FyZFRlbXApO1xuICAgICAgICB2ZWMzLmNyb3NzKHZlY3RvcjIsIHVwLCB2ZWN0b3IpO1xuICAgICAgICB2ZWMzLmNyb3NzKHZlY3RvcjMsIHZlY3RvciwgdmVjdG9yMik7XG4gICAgICAgIGxldCBtMDAgPSB2ZWN0b3IyWzBdO1xuICAgICAgICBsZXQgbTAxID0gdmVjdG9yMlsxXTtcbiAgICAgICAgbGV0IG0wMiA9IHZlY3RvcjJbMl07XG4gICAgICAgIGxldCBtMTAgPSB2ZWN0b3IzWzBdO1xuICAgICAgICBsZXQgbTExID0gdmVjdG9yM1sxXTtcbiAgICAgICAgbGV0IG0xMiA9IHZlY3RvcjNbMl07XG4gICAgICAgIGxldCBtMjAgPSB2ZWN0b3JbMF07XG4gICAgICAgIGxldCBtMjEgPSB2ZWN0b3JbMV07XG4gICAgICAgIGxldCBtMjIgPSB2ZWN0b3JbMl07XG5cbiAgICAgICAgbGV0IG51bTggPSBtMDAgKyBtMTEgKyBtMjI7XG4gICAgICAgIGlmIChudW04ID4gMC4wKSB7XG4gICAgICAgICAgICBsZXQgbnVtID0gTWF0aC5zcXJ0KG51bTggKyAxLjApO1xuICAgICAgICAgICAgcXVhdGVybmlvblszXSA9IG51bSAqIDAuNTtcbiAgICAgICAgICAgIG51bSA9IDAuNSAvIG51bTtcbiAgICAgICAgICAgIHF1YXRlcm5pb25bMF0gPSAobTEyIC0gbTIxKSAqIG51bTtcbiAgICAgICAgICAgIHF1YXRlcm5pb25bMV0gPSAobTIwIC0gbTAyKSAqIG51bTtcbiAgICAgICAgICAgIHF1YXRlcm5pb25bMl0gPSAobTAxIC0gbTEwKSAqIG51bTtcbiAgICAgICAgICAgIHJldHVybiBxdWF0ZXJuaW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtMDAgPj0gbTExICYmIG0wMCA+PSBtMjIpIHtcbiAgICAgICAgICAgIGxldCBudW03ID0gTWF0aC5zcXJ0KDEuMCArIG0wMCAtIG0xMSAtIG0yMik7XG4gICAgICAgICAgICBsZXQgbnVtNCA9IDAuNSAvIG51bTc7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzBdID0gMC41ICogbnVtNztcbiAgICAgICAgICAgIHF1YXRlcm5pb25bMV0gPSAobTAxICsgbTEwKSAqIG51bTQ7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzJdID0gKG0wMiArIG0yMCkgKiBudW00O1xuICAgICAgICAgICAgcXVhdGVybmlvblszXSA9IChtMTIgLSBtMjEpICogbnVtNDtcbiAgICAgICAgICAgIHJldHVybiBxdWF0ZXJuaW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtMTEgPiBtMjIpIHtcbiAgICAgICAgICAgIGxldCBudW02ID0gTWF0aC5zcXJ0KDEuMCArIG0xMSAtIG0wMCAtIG0yMik7XG4gICAgICAgICAgICBsZXQgbnVtMyA9IDAuNSAvIG51bTY7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzBdID0gKG0xMCArIG0wMSkgKiBudW0zO1xuICAgICAgICAgICAgcXVhdGVybmlvblsxXSA9IDAuNSAqIG51bTY7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzJdID0gKG0yMSArIG0xMikgKiBudW0zO1xuICAgICAgICAgICAgcXVhdGVybmlvblszXSA9IChtMjAgLSBtMDIpICogbnVtMztcbiAgICAgICAgICAgIHJldHVybiBxdWF0ZXJuaW9uO1xuICAgICAgICB9XG4gICAgICAgIGxldCBudW01ID0gTWF0aC5zcXJ0KDEuMCArIG0yMiAtIG0wMCAtIG0xMSk7XG4gICAgICAgIGxldCBudW0yID0gMC41IC8gbnVtNTtcbiAgICAgICAgcXVhdGVybmlvblswXSA9IChtMjAgKyBtMDIpICogbnVtMjtcbiAgICAgICAgcXVhdGVybmlvblsxXSA9IChtMjEgKyBtMTIpICogbnVtMjtcbiAgICAgICAgcXVhdGVybmlvblsyXSA9IDAuNSAqIG51bTU7XG4gICAgICAgIHF1YXRlcm5pb25bM10gPSAobTAxIC0gbTEwKSAqIG51bTI7XG5cbiAgICAgICAgcmV0dXJuIHF1YXRlcm5pb247XG4gICAgfTtcbn0pKCk7XG4iLCAiLypcclxuICAgIENvcHlyaWdodCAyMDIxLiBGdXR1cmV3ZWkgVGVjaG5vbG9naWVzIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICAgIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAgICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAgICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICAgIGh0dHA6ICB3d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gICAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gICAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gICAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAgICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAgICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKi9cclxuXHJcbmltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcclxuaW1wb3J0IHsgdmVjMyB9IGZyb20gXCJnbC1tYXRyaXhcIjtcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcbi8qKlxyXG5AYnJpZWYgQ29udHJvbHMgdGhlIGJ1bGxldCB0cmFqZWN0b3J5XHJcblxyXG5EZWFjdGl2YXRlcyBidWxsZXQgdXBkYXRlcyB0byBwcmVzZXJ2ZSBwZXJmb3JtYW5jZS4gQnVsbGV0cyBjb2xsaXNpb24gaXMgYWxzb1xyXG5kZWFjdGl2YXRlZCB3aGVuIHRoZSBidWxsZXQgaXMgb24gdGhlIGdyb3VuZC4gVGhpcyBpcyBkb25lIHRvIHByZXZlbnQgdGhlIFxyXG5zY29yZS10cmlnZ2VyIGdvaW5nIG9mZiB3aGVuIHRoZSBtaWNlIHJ1biBvdmVyIHRoZSBidWxsZXRzLlxyXG5cclxuKi9cclxuXHJcbmxldCBuZXdEaXIgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb2plY3RpbGVQaHlzaWNzIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9IFwicHJvamVjdGlsZS1waHlzaWNzXCI7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBzcGVlZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiA5LjAgfSxcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG5cclxuICAgICAgICAvLyBTZXRzIHBvc2l0aW9uLCBzY2FsZSwgc3BlZWQsIGFuZCBnZXRzIHRoZSBjb2xsaXNpb24gYm94IG9mIHRoZSBvYmplY3RcclxuICAgICAgICB0aGlzLmRpciA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IFswLCAwLCAwXTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm9iamVjdCk7XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZCh0aGlzLnBvc2l0aW9uKTtcclxuICAgICAgICB0aGlzLm9iamVjdC5zZXRTY2FsaW5nV29ybGQoWy4xLC4xLC4xXSk7XHJcbiAgICAgICAgdGhpcy5jb3JyZWN0ZWRTcGVlZCA9IHRoaXMuc3BlZWQgKiA1IDtcclxuICAgICAgICB0aGlzLmNvbGxpc2lvbiA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnY29sbGlzaW9uJywgMCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbGxpc2lvbikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgICBcIididWxsZXQtcGh5c2ljcycgY29tcG9uZW50IG9uIG9iamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QubmFtZSxcclxuICAgICAgICAgICAgICAgIFwicmVxdWlyZXMgYSBjb2xsaXNpb24gY29tcG9uZW50XCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBpZiAoaXNOYU4oZHQpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZHQgaXMgTmFOXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3VwZGF0ZSBwb3NpdGlvblxyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFBvc2l0aW9uV29ybGQodGhpcy5wb3NpdGlvbik7XHJcbiAgICAgICAgLy9kZWFjdGl2YXRlIGJ1bGxldCBpZiB0aHJvdWdoIHRoZSBmbG9vclxyXG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uWzFdIDw9IHN0YXRlLmZsb29ySGVpZ2h0ICsgdGhpcy5jb2xsaXNpb24uZXh0ZW50c1swXSkge1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lCdWxsZXQoMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9kZWFjdGl2YXRlIGJ1bGxldCBpZiB0cmF2ZWwgZGlzdGFuY2UgdG9vIGZhclxyXG4gICAgICAgIGlmICh2ZWMzLmxlbmd0aCh0aGlzLnBvc2l0aW9uKSA+IDE3NSkge1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lCdWxsZXQoMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5ld0Rpci5zZXQodGhpcy5kaXIpO1xyXG4gICAgICAgIHZlYzMuc2NhbGUobmV3RGlyLCBuZXdEaXIsIHRoaXMuY29ycmVjdGVkU3BlZWQpO1xyXG4gICAgICAgIHZlYzMuYWRkKHRoaXMucG9zaXRpb24sIHRoaXMucG9zaXRpb24sIG5ld0Rpcik7XHJcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0UG9zaXRpb25Mb2NhbCh0aGlzLnBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgbGV0IG92ZXJsYXBzID0gdGhpcy5jb2xsaXNpb24ucXVlcnlPdmVybGFwcygpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3ZlcmxhcHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUJ1bGxldCgwKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJISVRcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuICAgIGRlc3Ryb3lCdWxsZXQodGltZSkge1xyXG4gICAgICAgIGlmICh0aW1lID09IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJvaFwiKTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuZGVzdHJveSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QuZGVzdHJveSgpXHJcbiAgICAgICAgICAgIH0sIHRpbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTsiLCAiaW1wb3J0IHtDb21wb25lbnQsIFByb3BlcnR5LCBUeXBlfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBQcm9qZWN0aWxlUGh5c2ljcyB9IGZyb20gJy4vcHJvamVjdGlsZS1waHlzaWNzJztcclxuaW1wb3J0IHtzdGF0ZX0gZnJvbSAnLi9nYW1lJ1xyXG4vKipcclxuICogcHJvamVjdGlsZS1zcGF3bmVyXHJcbiAqL1xyXG5jb25zdCB0ZW1wcXVhdDIgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xyXG5leHBvcnQgY2xhc3MgUHJvamVjdGlsZVNwYXduZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3Byb2plY3RpbGUtc3Bhd25lcic7XHJcblxyXG4gICAgc3RhdGljIG9uUmVnaXN0ZXIoZW5naW5lKVxyXG4gICAge1xyXG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChQcm9qZWN0aWxlUGh5c2ljcyk7XHJcbiAgICB9XHJcbiAgICBpbml0KCkgeyAgICBcclxuXHJcbiAgICAgICAgLy8gZ3JhbnRzIHRoZSBzaG9vdCBmdW5jdGlvbiB0byB0aGUgT2JqZWN0M0QgdGhhdCBwcm9qZWN0aWxlU3Bhd25lciBpcyBhdHRhdGNlaGQgdG9cclxuICAgICAgICAvLyBhbHNvIHNldHMgdGhlIHBoeXNpY3Mgb2JqZWN0IHRoYXQgd2lsbCBiZSBhdHRhdGNoZWQgdG8gdGhlIHByb2plY3RpbGVzLCBhbmQgdGhlIGRpcmVjdGlvbiB0byBiZSBsYXVuY2hlZFxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUHJvamVjdGlsZSBzcGF3bmVyIG5ldyshXCIpO1xyXG4gICAgICAgIHRoaXMudGltZXIgPSAwOyAgICBcclxuICAgICAgICB0aGlzLm9iamVjdC5zaG9vdCA9ZnVuY3Rpb24oZGlyKXtcclxuICAgICAgICAgICBsZXQgcHJvamVjdGlsZSA9IHRoaXMuc3Bhd24oKTtcclxuICAgICAgICAgICAgcHJvamVjdGlsZS5waHlzaWNzLmRpci5zZXQoZGlyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlsZS5vYmplY3Quc2V0RGlydHkoKTtcclxuICAgICAgICAgICAgcHJvamVjdGlsZS5waHlzaWNzLmFjdGl2ZSA9IHRydWU7ICAgICAgIFxyXG4gICAgfS5iaW5kKHRoaXMpO1xyXG5cclxuICAgIH07XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInByb2plY3RpbGUtc3Bhd25lclwiKTtcclxuICAgIH0gICAgXHJcbiAgICBzcGF3bigpe1xyXG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuZW5naW5lLnNjZW5lLmFkZE9iamVjdCgpO1xyXG4gICAgICAgIGxldCBtZXNoID0gb2JqLmFkZENvbXBvbmVudCgnbWVzaCcsIHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnbWVzaCcpKTtcclxuICAgICAgICBtZXNoLmFjdGl2ZT0gdHJ1ZTtcclxuICAgICAgICBvYmouYWRkQ29tcG9uZW50KCdjb2xsaXNpb24nLCB7c2hhcGU6V0wuQ29sbGlkZXIuU3BoZXJlLCBleHRlbnRzOiBbIDAuMDUsIDAsMF0sIGdyb3VwOiAxIDw8IDAgfSlcclxuICAgICAgICBvYmoubmFtZSA9IFwic3RldmVuXCI7XHJcbiAgICAgICAgb2JqLnNldFBvc2l0aW9uTG9jYWwodGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZCgpKTtcclxuICAgICAgICBjb25zdCBwaHlzaWNzID0gb2JqLmFkZENvbXBvbmVudChQcm9qZWN0aWxlUGh5c2ljcywgeyBzcGVlZDogLjJ9KTtcclxuICAgICAgICBwaHlzaWNzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIHsgb2JqZWN0OiBvYmosIHBoeXNpY3M6IHBoeXNpY3N9O1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxufVxyXG4iLCAiaW1wb3J0IHsgQ29sbGlzaW9uRXZlbnRUeXBlLCBDb21wb25lbnQsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuXHJcbi8qKlxyXG4gKiBUdXJyZXRhaW1lclxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIHR1cnJldEFpbWVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0dXJyZXQtYWltZXInO1xyXG4gICAgLyogUHJvcGVydGllcyB0aGF0IGFyZSBjb25maWd1cmFibGUgaW4gdGhlIGVkaXRvciAqL1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdzdGFydCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy50aW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5oaXRzID0gMDtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm9iamVjdC5nZXRDb21wb25lbnRzKCkpO1xyXG4gICAgfVxyXG4gICAgLypcclxuICAgIHNlZWsoKSB7XHJcbiAgICAgICAgbGV0IGcgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldEZvcndhcmRXb3JsZChnKTtcclxuICAgICAgICBsZXQgcmF5ID0gV0wuc2NlbmUucmF5Q2FzdCh0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKCksIGcsIDEgPDwgMSwgMSA8PCAyKTtcclxuICAgICAgICBsZXQgaGl0cyA9IHJheS5oaXRDb3VudDtcclxuICAgICAgICB0aGlzLmxvYyA9IHJheS5sb2NhdGlvbnM7XHJcbiAgICAgICAgdGhpcy5kaXMgPSByYXkuZGlzdGFuY2VzO1xyXG4gICAgICAgIGxldCBvYnMgPSByYXkub2JqZWN0cztcclxuICAgICAgICBpZiAoaGl0cyA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QudGFyZ2V0ID0gb2JzWzBdO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5sb29rQXQodGhpcy5vYmplY3QudGFyZ2V0LmdldFBvc2l0aW9uV29ybGQoKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdChbMCwgMSwgMF0sIDUpO1xyXG4gICAgICAgIH1cclxuICAgIH0qL1xyXG4gICAgc2VlaygpIHtcclxuICAgICAgICBjb25zdCBjb2xsaXNpb24gPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2NvbGxpc2lvbicpO1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXBzID0gY29sbGlzaW9uLnF1ZXJ5T3ZlcmxhcHMoKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNvbGwgb2Ygb3ZlcmxhcHMpIHtcclxuICAgICAgICAgICAgaWYoY29sbC5vYmplY3QubmFtZSA9PT1cImRhdmVcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb2xsLm9iamVjdC5uYW1lKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMub2JqZWN0LnRhcmdldCA9PT0gbnVsbCB8fCB0aGlzLm9iamVjdC50YXJnZXQud2Fsa2VkIDwgY29sbC5vYmplY3Qud2Fsa2VkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC50YXJnZXQgPSBjb2xsLm9iamVjdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsgdGhpcy5vYmplY3QudGFyZ2V0ID0gbnVsbDsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgdGhpcy50aW1lciArPSBkdDtcclxuICAgICAgICBsZXQgZyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgLy8gdGhpcyBmdW5jdGlvbiBjaGVja3MgdG8gc2VlIGlmIHRoZXJlIGlzIGFuIGVuZW15IHRhcmdldCBpbiBkZWZhdWx0IHJhbmdlXHJcbiAgICAgICAgaWYgKHRoaXMub2JqZWN0LnRhcmdldCA9PSBudWxsIHx8IHRoaXMub2JqZWN0LnRhcmdldC5vYmplY3RJZCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zZWVrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGEgdGFyZ2V0IGluIHJhbmdlLCBtYWtlcyB0aGUgdHVycmV0IGxvb2sgYXQgYW5kIHRoZW4gZmlyZSBhdCBzYWlkIHRhcmdldCxcclxuICAgICAgICAvLyBUT0RPIGZpbmQgc29tZSB3YXkgdG8gbG9jayB0aGUgbm9uIFkgYXhpcyByb3RhdGlvblxyXG4gICAgICAgIGlmICh0aGlzLm9iamVjdC50YXJnZXQgJiYgdGhpcy5vYmplY3QudGFyZ2V0LmlzRGVzdHJveWVkID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGxldCBnID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5vYmplY3QudGFyZ2V0LmdldFBvc2l0aW9uV29ybGQoZyk7XHJcbiAgICAgICAgICAgIC8vIGxldCByYXkgPSBXTC5zY2VuZS5yYXlDYXN0KHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQoKSwgZywgMSA8PCA1KTsgXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJheS5kaXN0YW5jZXMpO1xyXG4gICAgICAgICAgICAvLyAgICAgaWYgKHJheS5kaXN0YW5jZXMgPiAxMDApIHsgdGhpcy5vYmplY3QudGFyZ2V0ID0gbnVsbDsgfVxyXG5cclxuICAgICAgICBjb25zdCBjb2xsaXNpb24gPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2NvbGxpc2lvbicpO1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXBzID0gY29sbGlzaW9uLnF1ZXJ5T3ZlcmxhcHMoKTtcclxuICAgICAgICAgICAgbGV0IGZpcmVkID0gZmFsc2U7XHJcbiAgICAgICAgZm9yIChjb25zdCBjb2xsIG9mIG92ZXJsYXBzKSB7XHJcbiAgICAgICAgICAgIGlmKGZpcmVkID09IGZhbHNlICYmIGNvbGwub2JqZWN0ID09PSB0aGlzLm9iamVjdC50YXJnZXQpICAgICAgICAgIFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmplY3QubG9va0F0KHRoaXMub2JqZWN0LnRhcmdldC5nZXRQb3NpdGlvbldvcmxkKCksIFswLCAxLCAwXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGltZXIgPiB0aGlzLm9iamVjdC5jZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5zaG9vdCh0aGlzLm9iamVjdC5nZXRGb3J3YXJkV29ybGQoZykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC50YXJnZXQuaGVhbHRoIC09IDI1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVyID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5vYmplY3QudGFyZ2V0LmhlYWx0aCA8PSAwKXt0aGlzLm9iamVjdC50YXJnZXQuZGVzdHJveSgpfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmaXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoIWZpcmVkKXsgdGhpcy5vYmplY3QudGFyZ2V0ID0gbnVsbH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgfVxyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wZXJ0eSwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHR1cnJldEFpbWVyfSBmcm9tICcuL3R1cnJldC1haW1lcic7XHJcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSAnLi9nYW1lJztcclxuaW1wb3J0IHsgUHJvamVjdGlsZVNwYXduZXIgfSBmcm9tICcuL3Byb2plY3RpbGUtc3Bhd25lcic7XHJcblxyXG4vKipcclxuICogdHVycmV0LXNwYXduZXJcclxuICogdGhpcyBjb2RlIHdpbGwgYWxsb3cgdGhlIHBsYXllciB0byBzcGF3biB0dXJyZXRzIGluIHRoZSBsb2NhdGlvblxyXG4gKiB0aGUgY3Vyc29yIGlzIHBvaW50aW5nICAgXHJcbiAqL1xyXG5jb25zdCB0ZW1wUXVhdDIgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xyXG5leHBvcnQgY2xhc3MgVHVycmV0U3Bhd25lciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndHVycmV0LXNwYXduZXInO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgZGVmYXVsdE1lc2g6IHsgdHlwZTogVHlwZS5NZXNoIH0sXHJcbiAgICAgICAgZGVmYXVsdE1hdGVyaWFsOiB7IHR5cGU6IFR5cGUuTWF0ZXJpYWwgfSxcclxuICAgICAgICBidWxsZXRNZXNoOiB7IHR5cGU6IFR5cGUuTWVzaH0sXHJcbiAgICAgICAgYnVsbGV0TWF0ZXJpYWw6IHsgdHlwZSA6IFR5cGUuTWF0ZXJpYWx9LFxyXG4gICAgICAgIHNob290aW5nQ0Q6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDIgfSxcclxuICAgIH07XHJcbiAgICBpbml0KCkge1xyXG4gICAgLyogdGhlIHRpbWVyIGlzIHRlbXBvcmFyeSBhbmQgdXNlZCB0byBzcGF3biBhIHR1cnJldCBldmVyeSAxMCBzZWNvbmRzIGZvciB0ZXN0aW5nIHB1cnBvc2VzKi9cclxuICAgICAgICB0aGlzLnRpbWVyID0gMDtcclxuICAgICAgICB0aGlzLm5hbWUgPSdkYXZlJztcclxuICAgICAgICBzdGF0ZS50dXJyZXRTcGF3bmVyID0gdGhpcztcclxuICAgICAgICBzdGF0ZS5idWlsZFQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCB0dXJyZXQgPSB0aGlzLm1ha2VUdXJyZXQoKTtcclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQodHVycmV0QWltZXIpO1xyXG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChQcm9qZWN0aWxlU3Bhd25lcik7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnc3RhcnQoKSB0dXJyZXQgc3Bhd25lcicpO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgLy8qIGV2ZW50dWFseSBUaGlzIGNvZGUgc2hvdWxkIHRha2UgaW4gYSBsb2NhdGlvbiBmcm9tIHRoZSB1c2VyIGFuZCBidWlsZCBhIHR1cnJldCB0aGVyZSBtYXliZSB1c2luZyBhIGJ1aWxkIHF1ZXVlPyBcclxuICAgIH1cclxuXHJcbiAgICBtYWtlVHVycmV0KCkge1xyXG4gICAgICAgIC8vIGFkZHMgdGhlIG9iamVjdCB0byB0aGUgc2NlbmUsIGFuZCBhbGwgb2YgdGhlIGNvbXBvbmVudHMgYW5kIG1lc2hlc1xyXG4gICAgICAgIC8vIFRPRE8gbWFrZSB0aGUgdG93ZXJzIHNwYXduIGF0IGdyb3VuZCBsZXZlbCBpbnN0ZWFkIG9mIGZsb2F0aW5nXHJcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KCk7XHJcbiAgICAgICAgb2JqLnRhcmdldCA9IG51bGw7XHJcbiAgICAgICAgb2JqLnRhcmdldHMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgb2JqLnNob290ID0gbnVsbDtcclxuICAgICAgICBvYmouY2QgPSB0aGlzLnNob290aW5nQ0Q7XHJcbiAgICAgICAgb2JqLm5hbWUgPSBcInNhbVwiO1xyXG4gICAgICAgIG9iai5zZXRUcmFuc2Zvcm1Mb2NhbCh0aGlzLm9iamVjdC5nZXRUcmFuc2Zvcm1Xb3JsZCh0ZW1wUXVhdDIpKTtcclxuICAgICAgICBjb25zdCB4ID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICBvYmouc2V0U2NhbGluZ0xvY2FsKFswLjIsIDAuNCwgMC4yXSk7XHJcbiAgICAgICAgb2JqLnNldFJvdGF0aW9uTG9jYWwoWzAsMCwwLDFdKTtcclxuICAgICAgICBjb25zdCBtZXNoID0gb2JqLmFkZENvbXBvbmVudCgnbWVzaCcpXHJcbiAgICAgICAgbWVzaC5tZXNoID0gdGhpcy5kZWZhdWx0TWVzaDtcclxuICAgICAgICBtZXNoLm1hdGVyaWFsID0gdGhpcy5kZWZhdWx0TWF0ZXJpYWw7XHJcbiAgICAgICAgb2JqLmFkZENvbXBvbmVudChcImNvbGxpc2lvblwiLCB7XHJcbiAgICAgICAgICAgIGNvbGxpZGVyOiBXTC5Db2xsaWRlci5TcGhlcmUsXHJcbiAgICAgICAgICAgIGV4dGVudHM6IFs1LCAwLCAwXSxcclxuICAgICAgICAgICAgZ3JvdXA6IDEgPDwgNSxcclxuICAgICAgICAgICAgQ29sbGlzaW9uRXZlbnRUeXBlOjEsXHJcbiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBtZXNoLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgYWltZXIgPSBvYmouYWRkQ29tcG9uZW50KHR1cnJldEFpbWVyKTtcclxuICAgICAgICBvYmouYWRkQ29tcG9uZW50KFByb2plY3RpbGVTcGF3bmVyKTtcclxuICAgICAgICBvYmouYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBzdGF0ZS50dXJyZXRzLnB1c2gob2JqKTsgICAgICAgIFxyXG4gICAgICAgIG9iai5zZXREaXJ0eSgpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCAiaW1wb3J0IHtDb21wb25lbnQsIFByb3BlcnR5fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgSG93bGVyQXVkaW9Tb3VyY2UgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzJztcbmltcG9ydCB7IENhbnZhc1VJIH0gZnJvbSAnLi9DYW52YXNVSS5qcyc7XG5pbXBvcnQgeyBzdGF0ZSB9IGZyb20gJy4vZ2FtZS5qcyc7XG5cbi8vIFRPRE8gQWRkIG90aGVyIEhVRCBmZWF0dXJlcyBmb3IgdGhlIHVzZXIgdG8gaW50ZXJhY3Qgd2l0aFxuZXhwb3J0IGNsYXNzIFVJSGFuZGxlciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gXCJ1aUhhbmRsZXJcIjtcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHsgXG4gICAgICAgIHBhbmVsOiBQcm9wZXJ0eS5lbnVtKFsnc2ltcGxlJywgJ2J1dHRvbnMnLCAnc2Nyb2xsaW5nJywgJ2ltYWdlcycsICdpbnB1dC10ZXh0J10sICdzaW1wbGUnKVxuICAgIH07XG4gICAgXG4gICAgc3RhdGljIG9uUmVnaXN0ZXIoZW5naW5lKXtcbiAgICAgICAgZW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50KCBIb3dsZXJBdWRpb1NvdXJjZSApO1xuICAgIH1cblxuICAgIFxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuaHAgPSBzdGF0ZS50ZXN0KCk7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdjdXJzb3ItdGFyZ2V0Jyk7XG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEhvdmVyRnVuY3Rpb24odGhpcy5vbkhvdmVyLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGRVbkhvdmVyRnVuY3Rpb24odGhpcy5vblVuSG92ZXIuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZE1vdmVGdW5jdGlvbih0aGlzLm9uTW92ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRG93bkZ1bmN0aW9uKHRoaXMub25Eb3duLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGRVcEZ1bmN0aW9uKHRoaXMub25VcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc291bmRDbGljayA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSwge3NyYzogJ3NmeC9jbGljay53YXYnLCBzcGF0aWFsOiB0cnVlfSk7XG4gICAgICAgIHRoaXMuc291bmRVbkNsaWNrID0gdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KEhvd2xlckF1ZGlvU291cmNlLCB7c3JjOiAnc2Z4L3VuY2xpY2sud2F2Jywgc3BhdGlhbDogdHJ1ZX0pO1xuXG4gICAgICAgIHN3aXRjaCAoIHRoaXMucGFuZWwgKXtcbiAgICAgICAgICAgIGNhc2UgMDovL3NpbXBsZVxuICAgICAgICAgICAgdGhpcy5zaW1wbGVQYW5lbCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6Ly9idXR0b25zXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbnNQYW5lbCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6Ly9zY3JvbGxpbmdcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUGFuZWwoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOi8vaW1hZ2VzXG4gICAgICAgICAgICB0aGlzLmltYWdlUGFuZWwoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0Oi8vaW5wdXQtdGV4dFxuICAgICAgICAgICAgdGhpcy5pbnB1dFRleHRQYW5lbCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaW1wbGVQYW5lbCgpe1xuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICBoZWFkZXI6e1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOnsgdG9wOjEwIH0sXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogMzAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB7XG4gICAgICAgICAgICBoZWFkZXI6dGhpcy5ocCwgXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMudWkgPSBuZXcgQ2FudmFzVUkoIGNvbnRlbnQsIGNvbmZpZywgdGhpcy5vYmplY3QsIHRoaXMuZW5naW5lICk7XG4gICAgICAgIHRoaXMudWkudXBkYXRlQ29uZmlnKHRoaXMsIGNvbmZpZy5oZWlnaHQsIDEwMCk7XG4gICAgICAgIGxldCB1aSA9IHRoaXMudWk7XG4gICAgfVxuXG4gICAgYnV0dG9uc1BhbmVsKCl7XG4gICAgICAgIGZ1bmN0aW9uIG9uUHJldigpe1xuICAgICAgICAgICAgY29uc3QgbXNnID0gXCJQcmV2IHByZXNzZWRcIjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XG4gICAgICAgICAgICB1aS51cGRhdGVFbGVtZW50KCBcImluZm9cIiwgbXNnICk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIG9uU3RvcCgpe1xuICAgICAgICAgICAgY29uc3QgbXNnID0gXCJTdG9wIHByZXNzZWRcIjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XG4gICAgICAgICAgICB1aS51cGRhdGVFbGVtZW50KCBcImluZm9cIiwgbXNnICk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIG9uTmV4dCgpe1xuICAgICAgICAgICAgY29uc3QgbXNnID0gXCJOZXh0IHByZXNzZWRcIjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XG4gICAgICAgICAgICB1aS51cGRhdGVFbGVtZW50KCBcImluZm9cIiwgbXNnICk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIG9uQ29udGludWUoKXtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IFwiQ29udGludWUgcHJlc3NlZFwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2cobXNnKTtcbiAgICAgICAgICAgIHVpLnVwZGF0ZUVsZW1lbnQoIFwiaW5mb1wiLCBtc2cgKTtcbiAgICAgICAgfVxuICAgICAgICAvL2NvbnNvbGUubG9nKCdzdGFydCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICAgICAgcGFuZWxTaXplOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwLjI1XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGVpZ2h0OiAxMjgsXG4gICAgICAgICAgICBpbmZvOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246eyBsZWZ0OiA2LCB0b3A6IDYgfSxcbiAgICAgICAgICAgICAgICB3aWR0aDogNTAwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogNTgsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNhYWFcIixcbiAgICAgICAgICAgICAgICBmb250Q29sb3I6IFwiIzAwMFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJldjoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246eyB0b3A6IDY0LCBsZWZ0OiAwIH0sIFxuICAgICAgICAgICAgICAgIHdpZHRoOiA2NCxcbiAgICAgICAgICAgICAgICBmb250Q29sb3I6IFwiI2JiMFwiLFxuICAgICAgICAgICAgICAgIGhvdmVyOiBcIiNmZjBcIixcbiAgICAgICAgICAgICAgICBvblNlbGVjdDogb25QcmV2XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RvcDoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246eyB0b3A6IDY0LCBsZWZ0OiA2NCB9LFxuICAgICAgICAgICAgICAgIHdpZHRoOiA2NCxcbiAgICAgICAgICAgICAgICBmb250Q29sb3I6IFwiI2JiMFwiLFxuICAgICAgICAgICAgICAgIGhvdmVyOiBcIiNmZjBcIixcbiAgICAgICAgICAgICAgICBvblNlbGVjdDogb25TdG9wXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmV4dDoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246eyB0b3A6IDY0LCBsZWZ0OiAxMjggfSxcbiAgICAgICAgICAgICAgICB3aWR0aDogNjQsXG4gICAgICAgICAgICAgICAgZm9udENvbG9yOiBcIiNiYjBcIixcbiAgICAgICAgICAgICAgICBob3ZlcjogXCIjZmYwXCIsXG4gICAgICAgICAgICAgICAgb25TZWxlY3Q6IG9uTmV4dFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRpbnVlOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjp7IHRvcDogNzAsIHJpZ2h0OiAxMCB9LFxuICAgICAgICAgICAgICAgIHdpZHRoOiAyMDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA1MixcbiAgICAgICAgICAgICAgICBmb250Q29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMWJmXCIsXG4gICAgICAgICAgICAgICAgaG92ZXI6IFwiIzNkZlwiLFxuICAgICAgICAgICAgICAgIG9uU2VsZWN0OiBvbkNvbnRpbnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB7XG4gICAgICAgICAgICBpbmZvOiBcIlwiLFxuICAgICAgICAgICAgcHJldjogXCI8cGF0aD5NIDEwIDMyIEwgNTQgMTAgTCA1NCA1NCBaPC9wYXRoPlwiLFxuICAgICAgICAgICAgc3RvcDogXCI8cGF0aD5NIDUwIDE1IEwgMTUgMTUgTCAxNSA1MCBMIDUwIDUwIFo8cGF0aD5cIixcbiAgICAgICAgICAgIG5leHQ6IFwiPHBhdGg+TSA1NCAzMiBMIDEwIDEwIEwgMTAgNTQgWjwvcGF0aD5cIixcbiAgICAgICAgICAgIGNvbnRpbnVlOiBcIkNvbnRpbnVlXCJcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudWkgPSBuZXcgQ2FudmFzVUkoIGNvbnRlbnQsIGNvbmZpZywgdGhpcy5vYmplY3QsIHRoaXMuZW5naW5lICk7XG4gICAgICAgIHRoaXMudWkudXBkYXRlKCk7XG4gICAgICAgIGxldCB1aSA9IHRoaXMudWk7XG4gICAgfVxuXG4gICAgc2Nyb2xsUGFuZWwoKXtcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjNjY2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0eHQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogXCJzY3JvbGxcIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyBsZWZ0OiAyMCwgdG9wOiAyMCB9LFxuICAgICAgICAgICAgICAgIHdpZHRoOiA0NjAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA0MDAsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgICAgICBmb250Q29sb3I6IFwiIzAwMFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB7XG4gICAgICAgICAgICB0eHQ6IFwiVGhpcyBpcyBhbiBleGFtcGxlIG9mIGEgc2Nyb2xsaW5nIHBhbmVsLiBTZWxlY3QgaXQgd2l0aCBhIGNvbnRyb2xsZXIgYW5kIG1vdmUgdGhlIGNvbnRyb2xsZXIgd2hpbGUga2VlcGluZyB0aGUgc2VsZWN0IGJ1dHRvbiBwcmVzc2VkLiBJbiBhbiBBUiBhcHAganVzdCBwcmVzcyBhbmQgZHJhZy4gSWYgYSBwYW5lbCBpcyBzZXQgdG8gc2Nyb2xsIGFuZCB0aGUgb3ZlcmZsb3cgc2V0dGluZyBpcyAnc2Nyb2xsJywgdGhlbiBhIHNjcm9sbCBiYXIgd2lsbCBhcHBlYXIgd2hlbiB0aGUgcGFuZWwgaXMgYWN0aXZlLiBCdXQgdG8gc2Nyb2xsIHlvdSBjYW4ganVzdCBkcmFnIGFueXdoZXJlIG9uIHRoZSBwYW5lbC4gVGhpcyBpcyBhbiBleGFtcGxlIG9mIGEgc2Nyb2xsaW5nIHBhbmVsLiBTZWxlY3QgaXQgd2l0aCBhIGNvbnRyb2xsZXIgYW5kIG1vdmUgdGhlIGNvbnRyb2xsZXIgd2hpbGUga2VlcGluZyB0aGUgc2VsZWN0IGJ1dHRvbiBwcmVzc2VkLiBJbiBhbiBBUiBhcHAganVzdCBwcmVzcyBhbmQgZHJhZy4gSWYgYSBwYW5lbCBpcyBzZXQgdG8gc2Nyb2xsIGFuZCB0aGUgb3ZlcmZsb3cgc2V0dGluZyBpcyAnc2Nyb2xsJywgdGhlbiBhIHNjcm9sbCBiYXIgd2lsbCBhcHBlYXIgd2hlbiB0aGUgcGFuZWwgaXMgYWN0aXZlLiBCdXQgdG8gc2Nyb2xsIHlvdSBjYW4ganVzdCBkcmFnIGFueXdoZXJlIG9uIHRoZSBwYW5lbC5cIlxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLnVpID0gbmV3IENhbnZhc1VJKCBjb250ZW50LCBjb25maWcsIHRoaXMub2JqZWN0LCB0aGlzLmVuZ2luZSApO1xuICAgICAgICB0aGlzLnVpLnVwZGF0ZSgpO1xuICAgICAgICBsZXQgdWkgPSB0aGlzLnVpO1xuICAgIH1cblxuICAgIGltYWdlUGFuZWwoKXtcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImltZ1wiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IGxlZnQ6IDIwLCB0b3A6IDIwIH0sXG4gICAgICAgICAgICAgICAgd2lkdGg6IDQ3MlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZm86IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyB0b3A6IDMwMCB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB7XG4gICAgICAgICAgICBpbWFnZTogXCJpbWFnZXMvcHJvbW8ucG5nXCIsXG4gICAgICAgICAgICBpbmZvOiBcIlRoZSBwcm9tbyBpbWFnZSBmcm9tIHRoZSBjb3Vyc2U6IExlYXJuIHRvIGNyZWF0ZSBXZWJYUiwgVlIgYW5kIEFSLCBleHBlcmllbmNlcyB1c2luZyBXb25kZXJsYW5kIEVuZ2luZVwiXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICB0aGlzLnVpID0gbmV3IENhbnZhc1VJKCBjb250ZW50LCBjb25maWcsIHRoaXMub2JqZWN0LCB0aGlzLmVuZ2luZSApO1xuICAgICAgICB0aGlzLnVpLnVwZGF0ZSgpO1xuICAgICAgICBsZXQgdWkgPSB0aGlzLnVpO1xuICAgIH1cblxuICAgIGlucHV0VGV4dFBhbmVsKCl7XG4gICAgICAgIGZ1bmN0aW9uIG9uQ2hhbmdlZCggdHh0ICl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyggYG1lc3NhZ2UgY2hhbmdlZDogJHt0eHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIG9uRW50ZXIoIHR4dCApe1xuICAgICAgICAgICAgY29uc29sZS5sb2coYG1lc3NhZ2UgZW50ZXI6ICR7dHh0fWApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICBwYW5lbFNpemU6IHsgd2lkdGg6IDEsIGhlaWdodDogMC4yNSB9LFxuICAgICAgICAgICAgaGVpZ2h0OiAxMjgsXG4gICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJpbnB1dC10ZXh0XCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgbGVmdDogMTAsIHRvcDogOCB9LFxuICAgICAgICAgICAgICAgIGhlaWdodDogNTYsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDQ5MixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2NjY1wiLFxuICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogXCIjMDAwXCIsXG4gICAgICAgICAgICAgICAgb25DaGFuZ2VkLFxuICAgICAgICAgICAgICAgIG9uRW50ZXJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHRvcDogNjQgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjb250ZW50ID0ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICAgICAgICAgIGxhYmVsOiBcIlNlbGVjdCB0aGUgcGFuZWwgYWJvdmUuXCJcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy51aSA9IG5ldyBDYW52YXNVSSggY29udGVudCwgY29uZmlnLCB0aGlzLm9iamVjdCwgdGhpcy5lbmdpbmUgKTtcblxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnVpLmtleWJvYXJkLm9iamVjdC5nZXRDb21wb25lbnQoJ2N1cnNvci10YXJnZXQnKTtcbiAgICAgICAgdGFyZ2V0LmFkZEhvdmVyRnVuY3Rpb24odGhpcy5vbkhvdmVyS2V5Ym9hcmQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRhcmdldC5hZGRVbkhvdmVyRnVuY3Rpb24odGhpcy5vblVuSG92ZXJLZXlib2FyZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGFyZ2V0LmFkZE1vdmVGdW5jdGlvbih0aGlzLm9uTW92ZUtleWJvYXJkLmJpbmQodGhpcykpO1xuICAgICAgICB0YXJnZXQuYWRkRG93bkZ1bmN0aW9uKHRoaXMub25Eb3duLmJpbmQodGhpcykpO1xuICAgICAgICB0YXJnZXQuYWRkVXBGdW5jdGlvbih0aGlzLm9uVXBLZXlib2FyZC5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aGlzLnVpLnVwZGF0ZSgpO1xuICAgICAgICBsZXQgdWkgPSB0aGlzLnVpO1xuICAgIH1cblxuICAgIG9uSG92ZXIoXywgY3Vyc29yKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ29uSG92ZXInKTtcbiAgICAgICAgaWYgKHRoaXMudWkpe1xuICAgICAgICAgICAgY29uc3QgeHkgPSB0aGlzLnVpLndvcmxkVG9DYW52YXMoY3Vyc29yLmN1cnNvclBvcyk7XG4gICAgICAgICAgICB0aGlzLnVpLmhvdmVyKDAsIHh5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGN1cnNvci50eXBlID09ICdmaW5nZXItY3Vyc29yJykge1xuICAgICAgICAgICAgdGhpcy5vbkRvd24oXywgY3Vyc29yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC41LCA1MCk7XG4gICAgfVxuXG4gICAgb25Nb3ZlKF8sIGN1cnNvcikge1xuICAgICAgICBpZiAodGhpcy51aSl7XG4gICAgICAgICAgICBjb25zdCB4eSA9IHRoaXMudWkud29ybGRUb0NhbnZhcyhjdXJzb3IuY3Vyc29yUG9zKTtcbiAgICAgICAgICAgIHRoaXMudWkuaG92ZXIoMCwgeHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5oYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjUsIDUwKTtcbiAgICB9XG5cbiAgICBvbkRvd24oXywgY3Vyc29yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdvbkRvd24nKTtcbiAgICAgICAgdGhpcy5zb3VuZENsaWNrLnBsYXkoKTtcblxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDEuMCwgMjApO1xuICAgIH1cblxuICAgIG9uVXAoXywgY3Vyc29yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdvblVwJyk7XG4gICAgICAgIHRoaXMuc291bmRVbkNsaWNrLnBsYXkoKTtcblxuICAgICAgICBpZiAodGhpcy51aSkgdGhpcy51aS5zZWxlY3QoIDAsIHRydWUgKTtcblxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNywgMjApO1xuICAgIH1cblxuICAgIG9uVW5Ib3ZlcihfLCBjdXJzb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ29uVW5Ib3ZlcicpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMudWkpIHRoaXMudWkuaG92ZXIoMCk7XG5cbiAgICAgICAgdGhpcy5oYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjMsIDUwKTtcbiAgICB9XG5cbiAgICBvbkhvdmVyS2V5Ym9hcmQoXywgY3Vyc29yKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ29uSG92ZXInKTtcbiAgICAgICAgaWYgKCF0aGlzLnVpIHx8ICF0aGlzLnVpLmtleWJvYXJkIHx8ICF0aGlzLnVpLmtleWJvYXJkLmtleWJvYXJkKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgdWkgPSB0aGlzLnVpLmtleWJvYXJkLmtleWJvYXJkO1xuICAgICAgICBjb25zdCB4eSA9IHVpLndvcmxkVG9DYW52YXMoY3Vyc29yLmN1cnNvclBvcyk7XG4gICAgICAgIHVpLmhvdmVyKDAsIHh5KTtcblxuICAgICAgICBpZihjdXJzb3IudHlwZSA9PSAnZmluZ2VyLWN1cnNvcicpIHtcbiAgICAgICAgICAgIHRoaXMub25Eb3duKF8sIGN1cnNvcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNSwgNTApO1xuICAgIH1cblxuICAgIG9uTW92ZUtleWJvYXJkKF8sIGN1cnNvcikge1xuICAgICAgICBpZiAoIXRoaXMudWkgfHwgIXRoaXMudWkua2V5Ym9hcmQgfHwgIXRoaXMudWkua2V5Ym9hcmQua2V5Ym9hcmQpIHJldHVybjtcblxuICAgICAgICBjb25zdCB1aSA9IHRoaXMudWkua2V5Ym9hcmQua2V5Ym9hcmQ7XG4gICAgICAgIGNvbnN0IHh5ID0gdWkud29ybGRUb0NhbnZhcyhjdXJzb3IuY3Vyc29yUG9zKTtcbiAgICAgICAgdWkuaG92ZXIoMCwgeHkpO1xuXG4gICAgICAgIHRoaXMuaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC41LCA1MCk7XG4gICAgfVxuXG4gICAgb25VcEtleWJvYXJkKF8sIGN1cnNvcikgIHtcbiAgICAgICAgY29uc29sZS5sb2coJ29uVXBLZXlib2FyZCcpO1xuICAgICAgICB0aGlzLnNvdW5kVW5DbGljay5wbGF5KCk7XG5cbiAgICAgICAgaWYgKHRoaXMudWkgJiYgdGhpcy51aS5rZXlib2FyZCAmJiB0aGlzLnVpLmtleWJvYXJkLmtleWJvYXJkKSB0aGlzLnVpLmtleWJvYXJkLmtleWJvYXJkLnNlbGVjdCgwKTtcblxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNywgMjApO1xuICAgIH1cblxuICAgIG9uVW5Ib3ZlcktleWJvYXJkKF8sIGN1cnNvcikge1xuICAgICAgICBjb25zb2xlLmxvZygnb25VbkhvdmVyS2V5Ym9hcmQnKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnVpICYmIHRoaXMudWkua2V5Ym9hcmQgJiYgdGhpcy51aS5rZXlib2FyZC5rZXlib2FyZCkgdGhpcy51aS5rZXlib2FyZC5rZXlib2FyZC5ob3ZlcigwKTtcblxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuMywgNTApO1xuICAgIH1cblxuICAgIGhhcHRpY0ZlZWRiYWNrKG9iamVjdCwgc3RyZW5ndGgsIGR1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gb2JqZWN0LmdldENvbXBvbmVudCgnaW5wdXQnKTtcbiAgICAgICAgaWYoaW5wdXQgJiYgaW5wdXQueHJJbnB1dFNvdXJjZSkge1xuICAgICAgICAgICAgY29uc3QgZ2FtZXBhZCA9IGlucHV0LnhySW5wdXRTb3VyY2UuZ2FtZXBhZDtcbiAgICAgICAgICAgIGlmKGdhbWVwYWQgJiYgZ2FtZXBhZC5oYXB0aWNBY3R1YXRvcnMpIGdhbWVwYWQuaGFwdGljQWN0dWF0b3JzWzBdLnB1bHNlKHN0cmVuZ3RoLCBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgdXBkYXRlKGR0KSB7XG5cbiAgICAgICAgaWYoc3RhdGUudGVzdCgpICE9IHRoaXMudWkuY29udGVudC5oZWFkZXIpXG4gICAgICAgIHtcbiAgICAgICAgdGhpcy51aS5jb250ZW50PSB7aGVhZGVyIDogc3RhdGUudGVzdCgpfSBcbiAgICAgICAgdGhpcy51aS5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMudWkuY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudWkpIHRoaXMudWkudXBkYXRlKCk7XG4gICAgfVxufVxuIiwgImltcG9ydCAqIGFzIF9fd29uZGVybGFuZGVuZ2luZV9jb21wb25lbnRzIGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9fd29uZGVybGFuZGVuZ2luZV9jb21wb25lbnRzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfQ2FudmFzVUlfanMgZnJvbSAnQzovVXNlcnMvSGFyZ3VuL0RvY3VtZW50cy9HaXRIdWIvdG93ZXItZGVmZW5jZS8uZWRpdG9yL2pzL0NhbnZhc1VJLmpzJztcbl9yZWdpc3RlckVkaXRvcihfQ19fVXNlcnNfSGFyZ3VuX0RvY3VtZW50c19HaXRIdWJfdG93ZXJfZGVmZW5jZV9fZWRpdG9yX2pzX0NhbnZhc1VJX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfYnV0dG9uX2pzIGZyb20gJ0M6L1VzZXJzL0hhcmd1bi9Eb2N1bWVudHMvR2l0SHViL3Rvd2VyLWRlZmVuY2UvLmVkaXRvci9qcy9idXR0b24uanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfYnV0dG9uX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfZW5lbXlfc3Bhd25lcl9qcyBmcm9tICdDOi9Vc2Vycy9IYXJndW4vRG9jdW1lbnRzL0dpdEh1Yi90b3dlci1kZWZlbmNlLy5lZGl0b3IvanMvZW5lbXktc3Bhd25lci5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0NfX1VzZXJzX0hhcmd1bl9Eb2N1bWVudHNfR2l0SHViX3Rvd2VyX2RlZmVuY2VfX2VkaXRvcl9qc19lbmVteV9zcGF3bmVyX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfZ2FtZV9qcyBmcm9tICdDOi9Vc2Vycy9IYXJndW4vRG9jdW1lbnRzL0dpdEh1Yi90b3dlci1kZWZlbmNlLy5lZGl0b3IvanMvZ2FtZS5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0NfX1VzZXJzX0hhcmd1bl9Eb2N1bWVudHNfR2l0SHViX3Rvd2VyX2RlZmVuY2VfX2VkaXRvcl9qc19nYW1lX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfcHJvamVjdGlsZV9waHlzaWNzX2pzIGZyb20gJ0M6L1VzZXJzL0hhcmd1bi9Eb2N1bWVudHMvR2l0SHViL3Rvd2VyLWRlZmVuY2UvLmVkaXRvci9qcy9wcm9qZWN0aWxlLXBoeXNpY3MuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfcHJvamVjdGlsZV9waHlzaWNzX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfcHJvamVjdGlsZV9zcGF3bmVyX2pzIGZyb20gJ0M6L1VzZXJzL0hhcmd1bi9Eb2N1bWVudHMvR2l0SHViL3Rvd2VyLWRlZmVuY2UvLmVkaXRvci9qcy9wcm9qZWN0aWxlLXNwYXduZXIuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfcHJvamVjdGlsZV9zcGF3bmVyX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfdHVycmV0X2FpbWVyX2pzIGZyb20gJ0M6L1VzZXJzL0hhcmd1bi9Eb2N1bWVudHMvR2l0SHViL3Rvd2VyLWRlZmVuY2UvLmVkaXRvci9qcy90dXJyZXQtYWltZXIuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfdHVycmV0X2FpbWVyX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfdHVycmV0X3NwYXduZXJfanMgZnJvbSAnQzovVXNlcnMvSGFyZ3VuL0RvY3VtZW50cy9HaXRIdWIvdG93ZXItZGVmZW5jZS8uZWRpdG9yL2pzL3R1cnJldC1zcGF3bmVyLmpzJztcbl9yZWdpc3RlckVkaXRvcihfQ19fVXNlcnNfSGFyZ3VuX0RvY3VtZW50c19HaXRIdWJfdG93ZXJfZGVmZW5jZV9fZWRpdG9yX2pzX3R1cnJldF9zcGF3bmVyX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfdWlIYW5kbGVyX2pzIGZyb20gJ0M6L1VzZXJzL0hhcmd1bi9Eb2N1bWVudHMvR2l0SHViL3Rvd2VyLWRlZmVuY2UvLmVkaXRvci9qcy91aUhhbmRsZXIuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfdWlIYW5kbGVyX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19IYXJndW5fRG9jdW1lbnRzX0dpdEh1Yl90b3dlcl9kZWZlbmNlX19lZGl0b3JfanNfd2F5cG9pbnRfbW92ZW1lbnRfanMgZnJvbSAnQzovVXNlcnMvSGFyZ3VuL0RvY3VtZW50cy9HaXRIdWIvdG93ZXItZGVmZW5jZS8uZWRpdG9yL2pzL3dheXBvaW50LW1vdmVtZW50LmpzJztcbl9yZWdpc3RlckVkaXRvcihfQ19fVXNlcnNfSGFyZ3VuX0RvY3VtZW50c19HaXRIdWJfdG93ZXJfZGVmZW5jZV9fZWRpdG9yX2pzX3dheXBvaW50X21vdmVtZW50X2pzKTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFVQSxPQUFDLFdBQVc7QUFFVjtBQVNBLFlBQUlBLGdCQUFlLFdBQVc7QUFDNUIsZUFBSyxLQUFLO0FBQUEsUUFDWjtBQUNBLFFBQUFBLGNBQWEsWUFBWTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsVUFLdkIsTUFBTSxXQUFXO0FBQ2YsZ0JBQUlDLFFBQU8sUUFBUUM7QUFHbkIsWUFBQUQsTUFBSyxXQUFXO0FBR2hCLFlBQUFBLE1BQUssa0JBQWtCLENBQUM7QUFDeEIsWUFBQUEsTUFBSyxnQkFBZ0I7QUFHckIsWUFBQUEsTUFBSyxVQUFVLENBQUM7QUFDaEIs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LENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixhQUFPO0FBQUEsSUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBVUEsb0JBQW9CLEtBQUssSUFBSSxLQUFLO0FBQzlCLFlBQU0sT0FBTyxLQUFLLFFBQVE7QUFDMUIsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSywrQkFBK0IsS0FBSyxVQUFVLEtBQUssUUFBUTtBQUNoRSxVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixhQUFPO0FBQUEsSUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBVUEsb0JBQW9CLEtBQUssSUFBSSxLQUFLO0FBQzlCLFlBQU0sT0FBTyxLQUFLLFFBQVE7QUFDMUIsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSywrQkFBK0IsS0FBSyxVQUFVLEtBQUssUUFBUTtBQUNoRSxVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixhQUFPO0FBQUEsSUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBVUEsNEJBQTRCLEtBQUssSUFBSSxLQUFLO0FBQ3RDLFlBQU0sT0FBTyxLQUFLLFFBQVE7QUFDMUIsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyx1Q0FBdUMsS0FBSyxVQUFVLEtBQUssUUFBUTtBQUN4RSxVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixhQUFPO0FBQUEsSUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBVUEsNEJBQTRCLEtBQUssSUFBSSxLQUFLO0FBQ3RDLFlBQU0sT0FBTyxLQUFLLFFBQVE7QUFDMUIsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyx1Q0FBdUMsS0FBSyxVQUFVLEtBQUssUUFBUTtBQUN4RSxVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixhQUFPO0FBQUEsSUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBVUEsMkJBQTJCLEtBQUssSUFBSSxLQUFLO0FBQ3JDLFlBQU0sT0FBTyxLQUFLLFFBQVE7QUFDMUIsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxzQ0FBc0MsS0FBSyxVQUFVLEtB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QyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUk7QUFDVixVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJO0FBQUEsSUFDWjtBQUVBLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFRTyxXQUFTLE1BQU0sR0FBRztBQUN2QixRQUFJLE1BQU0sSUFBYSxXQUFXLEVBQUU7QUFDcEMsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTLEtBQUssS0FBSyxHQUFHO0FBQzNCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFdBQU87QUFBQSxFQUNUO0FBdUJPLFdBQVMsV0FBVyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQ3pHLFFBQUksTUFBTSxJQUFhLFdBQVcsRUFBRTtBQUNwQyxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBd0JPLFdBQVMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDdkcsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQVFPLFdBQVMsU0FBUyxLQUFLO0FBQzVCLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTLFVBQVUsS0FBSyxHQUFHO0FBRWhDLFFBQUksUUFBUSxHQUFHO0FBQ2IsVUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixVQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixVQUFJLE1BQU0sRUFBRSxFQUFFO0FBQ2QsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2IsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDYixVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUk7QUFDVixVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJO0FBQUEsSUFDWixPQUFPO0FBQ0wsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2IsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2IsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO0FBQ2IsVUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO0FBQ2IsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQUEsSUFDaEI7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVMsT0FBTyxLQUFLLEdBQUc7QUFDN0IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBRTVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFFNUUsUUFBSSxDQUFDLEtBQUs7QUFDUixhQUFPO0FBQUEsSUFDVDtBQUVBLFVBQU0sSUFBTTtBQUNaLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksRUFBRSxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELFFBQUksRUFBRSxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELFFBQUksRUFBRSxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELFFBQUksRUFBRSxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELFFBQUksRUFBRSxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELFFBQUksRUFBRSxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELFdBQU87QUFBQSxFQUNUO0FBU08sV0FBUyxRQUFRLEtBQUssR0FBRztBQUM5QixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxDQUFDLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ2xHLFFBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLFFBQUksQ0FBQyxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNsRyxRQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxRQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxRQUFJLENBQUMsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsUUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDcEcsUUFBSSxDQUFDLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ2xHLFFBQUksQ0FBQyxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNsRyxRQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxRQUFJLEVBQUUsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbkcsUUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDckcsUUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDckcsUUFBSSxFQUFFLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFFBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3JHLFFBQUksRUFBRSxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNuRyxXQUFPO0FBQUEsRUFDVDtBQVFPLFdBQVMsWUFBWSxHQUFHO0FBQzdCLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUU1QixXQUFPLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUFBLEVBQzNFO0FBVU8sV0FBUyxTQUFTLEtBQUssR0FBRyxHQUFHO0FBQ2xDLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFFZCxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxFQUFFO0FBQ1QsU0FBSyxFQUFFLEVBQUU7QUFDVCxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxFQUFFLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUNoRCxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFNBQUssRUFBRSxFQUFFO0FBQ1QsU0FBSyxFQUFFLEVBQUU7QUFDVCxTQUFLLEVBQUUsRUFBRTtBQUNULFNBQUssRUFBRSxFQUFFO0FBQ1QsUUFBSSxFQUFFLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUNoRCxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsUUFBSSxFQUFFLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUNoRCxXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsVUFBVSxLQUFLLEdBQUcsR0FBRztBQUNuQyxRQUFJLElBQUksRUFBRSxDQUFDLEdBQ1AsSUFBSSxFQUFFLENBQUMsR0FDUCxJQUFJLEVBQUUsQ0FBQztBQUNYLFFBQUksS0FBSyxLQUFLLEtBQUs7QUFDbkIsUUFBSSxLQUFLLEtBQUssS0FBSztBQUNuQixRQUFJLEtBQUssS0FBSyxLQUFLO0FBRW5CLFFBQUksTUFBTSxLQUFLO0FBQ2IsVUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFO0FBQy9DLFVBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRTtBQUMvQyxVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLElBQUksSUFBSSxFQUFFLEVBQUU7QUFDaEQsVUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxJQUFJLElBQUksRUFBRSxFQUFFO0FBQUEsSUFDbEQsT0FBTztBQUNMLFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLEVBQUU7QUFDVixZQUFNLEVBQUUsRUFBRTtBQUNWLFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxFQUFFLElBQUk7QUFDVixVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLEVBQUUsRUFBRTtBQUM1QyxVQUFJLEVBQUUsSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFLEVBQUU7QUFDNUMsVUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksRUFBRSxFQUFFO0FBQzVDLFVBQUksRUFBRSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLEVBQUUsRUFBRTtBQUFBLElBQzlDO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLE1BQU0sS0FBSyxHQUFHLEdBQUc7QUFDL0IsUUFBSSxJQUFJLEVBQUUsQ0FBQyxHQUNQLElBQUksRUFBRSxDQUFDLEdBQ1AsSUFBSSxFQUFFLENBQUM7QUFDWCxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxXQUFPO0FBQUEsRUFDVDtBQVdPLFdBQVMsT0FBTyxLQUFLLEdBQUcsS0FBSyxNQUFNO0FBQ3hDLFFBQUksSUFB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QUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUU7QUFFZCxRQUFJLE1BQU0sS0FBSztBQUViLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUFBLElBQ2hCO0FBR0EsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU07QUFDMUIsUUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU07QUFDMUIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLFFBQVEsS0FBSyxHQUFHLEtBQUs7QUFDbkMsUUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHO0FBQ3BCLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUNwQixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUViLFFBQUksTUFBTSxLQUFLO0FBRWIsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQUEsSUFDaEI7QUFHQSxRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixXQUFPO0FBQUEsRUFDVDtBQWFPLFdBQVMsZ0JBQWdCLEtBQUssR0FBRztBQUN0QyxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixRQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixRQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBYU8sV0FBUyxZQUFZLEtBQUssR0FBRztBQUNsQyxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO0FBQ2IsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBY08sV0FBUyxhQUFhLEtBQUssS0FBSyxNQUFNO0FBQzNDLFFBQUksSUFBSSxLQUFLLENBQUMsR0FDVixJQUFJLEtBQUssQ0FBQyxHQUNWLElBQUksS0FBSyxDQUFDO0FBQ2QsUUFBSUEsT0FBTSxLQUFLLE1BQU0sR0FBRyxHQUFHLENBQUM7QUFDNUIsUUFBSSxHQUFHLEdBQUc7QUFFVixRQUFJQSxPQUFlLFNBQVM7QUFDMUIsYUFBTztBQUFBLElBQ1Q7QUFFQSxJQUFBQSxPQUFNLElBQUlBO0FBQ1YsU0FBS0E7QUFDTCxTQUFLQTtBQUNMLFNBQUtBO0FBQ0wsUUFBSSxLQUFLLElBQUksR0FBRztBQUNoQixRQUFJLEtBQUssSUFBSSxHQUFHO0FBQ2hCLFFBQUksSUFBSTtBQUVSLFFBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJO0FBQ3JCLFFBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUk7QUFDekIsUUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLElBQUksSUFBSTtBQUN6QixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUk7QUFDekIsUUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLElBQUk7QUFDckIsUUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLElBQUksSUFBSTtBQUN6QixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUk7QUFDekIsUUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLElBQUksSUFBSTtBQUN6QixRQUFJLEVBQUUsSUFBSSxJQUFJLElBQUksSUFBSTtBQUN0QixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFhTyxXQUFTLGNBQWMsS0FBSyxLQUFLO0FBQ3RDLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUNwQixRQUFJLElBQUksS0FBSyxJQUFJLEdBQUc7QUFFcEIsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUksQ0FBQztBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFB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UUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksUUFBUSxLQUFLLEtBQUssT0FBTztBQUM3QixRQUFJLFFBQVEsS0FBSyxNQUFNO0FBQ3ZCLFFBQUksUUFBUSxLQUFLLE1BQU07QUFDdkIsUUFBSSxRQUFRLEtBQUssTUFBTTtBQUN2QixRQUFJLFFBQVEsS0FBSyxLQUFLLE9BQU87QUFDN0IsUUFBSSxRQUFRLEtBQUssTUFBTTtBQUN2QixRQUFJLFFBQVEsS0FBSyxNQUFNO0FBQ3ZCLFFBQUksUUFBUSxLQUFLLE1BQU07QUFDdkIsUUFBSSxTQUFTLEtBQUssS0FBSyxPQUFPO0FBQzlCLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLE1BQU0sT0FBTyxLQUFLLE9BQU8sS0FBSyxPQUFPO0FBQ3RELFFBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLE1BQU0s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QUFJO0FBQUEsRUFDbFA7QUFRTyxXQUFTLEtBQUssR0FBRztBQUN0QixXQUFPLEtBQUssTUFBTSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQztBQUFBLEVBQ3hIO0FBVU8sV0FBUyxJQUFJLEtBQUssR0FBRyxHQUFHO0FBQzdCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsU0FBUyxLQUFLLEdBQUcsR0FBRztBQUNsQyxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLGVBQWUsS0FBSyxHQUFHLEdBQUc7QUFDeEMsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsV0FBTztBQUFBLEVBQ1Q7QUFXTyxXQUFTLHFCQUFxQixLQUFLLEdBQUcsR0FBR0MsUUFBTztBQUNyRCxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTLFlBQVksR0FBRyxHQUFHO0FBQ2hDLFdBQU8sRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFO0FBQUEsRUFDaFM7QUFTTyxXQUFTLE9BQU8sR0FBRyxHQUFHO0FBQzNCLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsV0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUM7QUFBQSxFQUM1MkM7QUFNTyxNQUFJLE1BQU07QUFNVixNQUFJLE1BQU07OztBQ3IzRGpCO0FBQUE7QUFBQSxlQUFBQztBQUFBLElBQUE7QUFBQSxpQkFBQUM7QUFBQSxJQUFBO0FBQUEsZ0JBQUFDO0FBQUEsSUFBQSxjQUFBQztBQUFBLElBQUEsV0FBQUM7QUFBQSxJQUFBLGNBQUFDO0FBQUEsSUFBQSxtQkFBQUM7QUFBQSxJQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUFBQztBQUFBLElBQUE7QUFBQTtBQUFB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SUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBU0MsU0FBUSxLQUFLLEdBQUcsS0FBSztBQUNuQyxXQUFPO0FBQ1AsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxLQUFLLElBQUksR0FBRyxHQUNqQixLQUFLLEtBQUssSUFBSSxHQUFHO0FBQ3JCLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3hCLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3hCLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3hCLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3hCLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBU0MsU0FBUSxLQUFLLEdBQUcsS0FBSztBQUNuQyxXQUFPO0FBQ1AsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxLQUFLLElBQUksR0FBRyxHQUNqQixLQUFLLEtBQUssSUFBSSxHQUFHO0FBQ3JCLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3hCLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3hCLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3hCLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxL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QUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUk7QUFDdkQsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFdBQU87QUFBQSxFQUNUO0FBUU8sTUFBSSxVQUFlRjtBQVFuQixXQUFTLFFBQVEsS0FBSyxHQUFHO0FBQzlCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFdBQU87QUFBQSxFQUNUO0FBVU8sTUFBSSxVQUFlQTtBQVVuQixXQUFTLFFBQVEsS0FBSyxHQUFHO0FBQzlCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFdBQU87QUFBQSxFQUNUO0FBUU8sV0FBU0csZ0JBQWUsS0FBSyxHQUFHO0FBQ3JDLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLENBQUMsRUFBRSxDQUFDLEdBQ1QsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUNULEtBQUssQ0FBQyxFQUFFLENBQUMsR0FDVCxLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssTUFBTTtBQUNuRCxRQUFJLENBQUMsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLE1BQU07QUFDbkQsUUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxNQUFNO0FBQ25ELFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBU0MsV0FBVSxLQUFLLEdBQUcsR0FBRztBQUNuQyxRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsSUFBSSxLQUNiLE1BQU0sRUFBRSxDQUFDLElBQUksS0FDYixNQUFNLEVBQUUsQ0FBQyxJQUFJLEtBQ2IsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzdDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzdDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzdDLFFBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDOUMsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxTQUFRLEtBQUssR0FBRyxLQUFLO0FBQ25DLFFBQUksS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUNULEtBQUssQ0FBQyxFQUFFLENBQUMsR0FDVCxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQ1QsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLE1BQU0s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Q0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLG1CQUFtQixLQUFLLEdBQUcsR0FBRztBQUM1QyxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsb0JBQW9CLEtBQUssR0FBRyxHQUFHO0FBQzdDLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFdBQU87QUFBQSxFQUNUO0FBV08sV0FBUyxpQkFBaUIsS0FBSyxHQUFHLE1BQU0sS0FBSztBQUVsRCxRQUFJLEtBQUssSUFBSSxHQUFHLElBQWEsU0FBUztBQUNwQyxhQUFPUCxNQUFLLEtBQUssQ0FBQztBQUFBLElBQ3BCO0FBRUEsUUFBSSxhQUFhLEtBQUssTUFBTSxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztBQUNyRCxVQUFNLE1BQU07QUFDWixRQUFJLElBQUksS0FBSyxJQUFJLEdBQUc7QUFDcEIsUUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLElBQUk7QUFDdkIsUUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLElBQUk7QUFDdkIsUUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLElBQUk7QUFDdkIsUUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHO0FBQ3JCLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFdBQU87QUFBQSxFQUNUO0FBV08sV0FBU1EsS0FBSSxLQUFLLEdBQUcsR0FBRztBQUM3QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBU0MsVUFBUyxLQUFLLEdBQUcsR0FBRztBQUNsQyxRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRCxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25ELFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDbkQsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRCxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRyxXQUFPO0FBQUEsRUFDVDtBQU1PLE1BQUlDLE9BQU1EO0FBV1YsV0FBU0UsT0FBTSxLQUFLLEdBQUcsR0FBRztBQUMvQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixXQUFPO0FBQUEsRUFDVDtBQVVPLE1B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QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxLQUFLLEtBQUssS0FBSyxXQUFXO0FBQy9CLFVBQUksQ0FBQyxLQUFLLEtBQUssS0FBSyxXQUFXO0FBQy9CLFVBQUksQ0FBQyxLQUFLLEtBQUssS0FBSyxXQUFXO0FBQy9CLFVBQUksQ0FBQyxLQUFLLEtBQUssS0FBSyxXQUFXO0FBQUEsSUFDakM7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQVFPLFdBQVNNLEtBQUksR0FBRztBQUNyQixXQUFPLFdBQVcsRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSTtBQUFBLEVBQzdIO0FBU08sV0FBU0MsYUFBWSxHQUFHLEdBQUc7QUFDaEMsV0FBTyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7QUFBQSxFQUM1STtBQVNPLFdBQVNDLFFBQU8sR0FBRyxHQUFHO0FBQzNCLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFdBQU8sS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDO0FBQUEsRUFDNXFCOzs7QUNsMEJBLE1BQUlDLGNBQTBDLFNBQVUs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LElBQUk7QUFFUCxVQUFHLE1BQU0sS0FBSyxLQUFLLEtBQUssR0FBRyxRQUFRLFFBQ25DO0FBQ0EsYUFBSyxHQUFHLFVBQVMsRUFBQyxRQUFTLE1BQU0sS0FBSyxFQUFDO0FBQ3ZDLGFBQUssR0FBRyxjQUFjO0FBQ3RCLGdCQUFRLElBQUksS0FBSyxHQUFHLE9BQU87QUFBQSxNQUMzQjtBQUNBLFVBQUksS0FBSztBQUFJLGFBQUssR0FBRyxPQUFPO0FBQUEsSUFDaEM7QUFBQSxFQUNKO0FBaldJLGdCQURTLFdBQ0YsWUFBVztBQUNsQixnQkFGUyxXQUVGLGNBQWE7QUFBQSxJQUNoQixPQUFPLFNBQVMsS0FBSyxDQUFDLFVBQVUsV0FBVyxhQUFhLFVBQVUsWUFBWSxHQUFHLFFBQVE7QUFBQSxFQUM3Rjs7O0FDVEosa0JBQWdCLFlBQTZCO0FBRTdDLGtCQUFnQixnQkFBc0U7QUFFdEYsa0JBQWdCLGNBQW9FO0FBRXBGLGtCQUFnQixxQkFBMkU7QUFFM0Ysa0JBQWdCLFlBQWtFO0FBRWxGLGtCQUFnQiwwQkFBZ0Y7QUFFaEcsa0JBQWdCLDBCQUFnRjtBQUVoRyxrQkFBZ0Isb0JBQTBFO0FBRTFGLGtCQUFnQixzQkFBNEU7QUFFNUYsa0JBQWdCLGlCQUF1RTtBQUV2RixrQkFBZ0IseUJBQStFOyIsCiAgIm5hbWVzIjogWyJIb3dsZXJHbG9iYWwiLCAic2VsZiIsICJIb3dsZXIiLCAiZSIsICJpIiwgIkhvd2wiLCAic3RyIiwgIlNvdW5kIiwgInRpbWVvdXQiLCAibGVuIiwgImVhcmN1dCIsICJlcXVhbHMiLCAibGVuIiwgIlR5cGUiLCAiVHJhbnNhY3Rpb25UeXBlIiwgIkxvZ1RhZyIsICJDb2xsaWRlciIsICJBbGlnbm1lbnQiLCAiSnVzdGlmaWNhdGlvbiIsICJUZXh0RWZmZWN0IiwgIklucHV0VHlwZSIsICJMaWdodFR5cGUiLCAiQW5pbWF0aW9uU3RhdGUiLCAiRm9yY2VNb2RlIiwgIkNvbGxpc2lvbkV2ZW50VHlwZSIsICJTaGFwZSIsICJNZXNoQXR0cmlidXRlIiwgIk1hdGVyaWFsUGFyYW1UeXBlIiwgImxlbmd0aCIsICJhbmdsZSIsICJMb2NrQXhpcyIsICJvZmZzZXQiLCAiTWVzaEluZGV4VHlwZSIsICJNZXNoU2tpbm5pbmdUeXBlIiwgImNhbnZhcyIsICJhbmltSWQiLCAib2Zmc2V0IiwgIkxvZ0xldmVsIiwgInRocmVhZHMiLCAic3RyIiwgIl9fZGVjb3JhdGUiLCAidGVtcFF1YXQiLCAiY3JlYXRlIiwgImNyZWF0ZSIsICJsZW4iLCAic2NhbGUiLCAiYWRkIiwgImNsb25lIiwgImNvcHkiLCAiY3JlYXRlIiwgImRvdCIsICJlcXVhbHMiLCAiZXhhY3RFcXVhbHMiLCAiZnJvbVZhbHVlcyIsICJpZGVudGl0eSIsICJpbnZlcnQiLCAibGVuIiwgImxlbmd0aCIsICJsZXJwIiwgIm11bCIsICJtdWx0aXBseSIsICJub3JtYWxpemUiLCAicmFuZG9tIiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgInNjYWxlIiwgInNldCIsICJzcXJMZW4iLCAic3F1YXJlZExlbmd0aCIsICJzdHIiLCAiYWRkIiwgImNsb25lIiwgImNvcHkiLCAiY3JlYXRlIiwgImVxdWFscyIsICJleGFjdEVxdWFscyIsICJmcm9tVmFsdWVzIiwgIm11bCIsICJtdWx0aXBseSIsICJyb3RhdGVYIiwgInJvdGF0ZVkiLCAicm90YXRlWiIsICJzY2FsZSIsICJzZXQiLCAic3RyIiwgInN1YiIsICJzdWJ0cmFjdCIsICJjcmVhdGUiLCAiY2xvbmUiLCAiZnJvbVZhbHVlcyIsICJjb3B5IiwgInNldCIsICJhZGQiLCAic3VidHJhY3QiLCAibXVsdGlwbHkiLCAic2NhbGUiLCAibGVuIiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgInN0ciIsICJleGFjdEVxdWFscyIsICJlcXVhbHMiLCAic3ViIiwgIm11bCIsICJvZmZzZXQiLCAiY3JlYXRlIiwgImNsb25lIiwgImZyb21WYWx1ZXMiLCAiY29weSIsICJzZXQiLCAiYWRkIiwgInNjYWxlIiwgImxlbmd0aCIsICJzcXVhcmVkTGVuZ3RoIiwgIm5vcm1hbGl6ZSIsICJsZW4iLCAiZG90IiwgImxlcnAiLCAiZXhhY3RFcXVhbHMiLCAiZXF1YWxzIiwgImZvckVhY2giLCAiY3JlYXRlIiwgIm9mZnNldCIsICJjcmVhdGUiLCAiaWRlbnRpdHkiLCAiZG90IiwgIm11bHRpcGx5IiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgInNjYWxlIiwgInJhbmRvbSIsICJpbnZlcnQiLCAic3RyIiwgImNsb25lIiwgImZyb21WYWx1ZXMiLCAiY29weSIsICJzZXQiLCAiYWRkIiwgIm11bCIsICJsZXJwIiwgImxlbmd0aCIsICJsZW4iLCAic3F1YXJlZExlbmd0aCIsICJzcXJMZW4iLCAibm9ybWFsaXplIiwgImV4YWN0RXF1YWxzIiwgImVxdWFscyIsICJhZGQiLCAiY2xvbmUiLCAiY29uanVnYXRlIiwgImNvcHkiLCAiY3JlYXRlIiwgImRvdCIsICJlcXVhbHMiLCAiZXhhY3RFcXVhbHMiLCAiZnJvbVJvdGF0aW9uIiwgImZyb21Sb3RhdGlvblRyYW5zbGF0aW9uIiwgImZyb21UcmFuc2xhdGlvbiIsICJmcm9tVmFsdWVzIiwgImdldFRyYW5zbGF0aW9uIiwgImlkZW50aXR5IiwgImludmVydCIsICJsZW4iLCAibGVuZ3RoIiwgImxlcnAiLCAibXVsIiwgIm11bHRpcGx5IiwgIm5vcm1hbGl6ZSIsICJyb3RhdGVYIiwgInJvdGF0ZVkiLCAicm90YXRlWiIsICJzY2FsZSIsICJzZXQiLCAic3FyTGVuIiwgInNxdWFyZWRMZW5ndGgiLCAic3RyIiwgInRyYW5zbGF0ZSIsICJjcmVhdGUiLCAiY2xvbmUiLCAiZnJvbVZhbHVlcyIsICJmcm9tUm90YXRpb25UcmFuc2xhdGlvbiIsICJmcm9tVHJhbnNsYXRpb24iLCAiZnJvbVJvdGF0aW9uIiwgImNvcHkiLCAiaWRlbnRpdHkiLCAic2V0IiwgImdldFRyYW5zbGF0aW9uIiwgInRyYW5zbGF0ZSIsICJyb3RhdGVYIiwgInJvdGF0ZVkiLCAicm90YXRlWiIsICJhZGQiLCAibXVsdGlwbHkiLCAibXVsIiwgInNjYWxlIiwgImRvdCIsICJsZXJwIiwgImludmVydCIsICJzcXVhcmVkTGVuZ3RoIiwgImNvbmp1Z2F0ZSIsICJsZW5ndGgiLCAibGVuIiwgInNxckxlbiIsICJub3JtYWxpemUiLCAic3RyIiwgImV4YWN0RXF1YWxzIiwgImVxdWFscyIsICJfX2RlY29yYXRlIiwgIl9fZGVjb3JhdGUiLCAidGVtcFZlYyIsICJjYW52YXMiLCAiZGlzdCIsICJfX2RlY29yYXRlIiwgIl9fZGVjb3JhdGUiLCAiaW1wb3J0X2hvd2xlciIsICJfX2RlY29yYXRlIiwgImNhbnZhcyIsICJfX2RlY29yYXRlIiwgImEiLCAiZGlyZWN0aW9uIiwgImNsYW1wIiwgInRlbXBRdWF0IiwgInRhcmdldFBvcyIsICJfX2RlY29yYXRlIiwgInRlbXBWZWMzIiwgImVhcmN1dCIsICJsb29rQXQiLCAic3RhdGUiLCAib2Zmc2V0IiwgImRpc3QiLCAiZG90IiwgInNjYWxlIiwgInN0ciIsICJjaGlsZCIsICJhbmdsZSIsICJlbG0iLCAicHJvcGVydHkiLCAib2Zmc2V0IiwgImNhbnZhcyIsICJsaW5lIiwgImxvb2tBdCIsICJ0ZW1wUXVhdDIiLCAiZyIsICJ0ZW1wUXVhdDIiXQp9Cg==
