(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, { get: all[name], enumerable: true });
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));
  var __publicField = (obj, key, value) => {
    __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
    return value;
  };
  var __accessCheck = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet = (obj, member, getter) => {
    __accessCheck(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateMethod = (obj, member, method) => {
    __accessCheck(obj, member, "access private method");
    return method;
  };

  // node_modules/howler/dist/howler.js
  var require_howler = __commonJS({
    "node_modules/howler/dist/howler.js"(exports) {
      (function() {
        "use strict";
        var HowlerGlobal2 = function() {
          this.init();
        };
        HowlerGlobal2.prototype = {
          /**
           * Initialize the global Howler object.
           * @return {Howler}
           */
          init: function() {
            var self2 = this || Howler2;
            self2._counter = 1e3;
            self2._html5AudioPool = [];
            self2.html5PoolSize = 10;
            self2._codecs = {};
            self2._howls = [];
            self2._muted = false;
            self2._volume = 1;
            self2._canPlayEvent = "canplaythrough";
            self2._navigator = typeof window !== "undefined" && window.navigator ? window.navigator : null;
            self2.masterGain = null;
            self2.noAudio = false;
            self2.usingWebAudio = true;
            self2.autoSuspend = true;
            self2.ctx = null;
            self2.autoUnlock = true;
            self2._setup();
            return self2;
          },
          /**
           * Get/set the global volume for all sounds.
           * @param  {Float} vol Volume from 0.0 to 1.0.
           * @return {Howler/Float}     Returns self or current volume.
           */
          volume: function(vol) {
            var self2 = this || Howler2;
            vol = parseFloat(vol);
            if (!self2.ctx) {
              setupAudioContext();
            }
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              self2._volume = vol;
              if (self2._muted) {
                return self2;
              }
              if (self2.usingWebAudio) {
                self2.masterGain.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node) {
                      sound._node.volume = sound._volume * vol;
                    }
                  }
                }
              }
              return self2;
            }
            return self2._volume;
          },
          /**
           * Handle muting and unmuting globally.
           * @param  {Boolean} muted Is muted or not.
           */
          mute: function(muted) {
            var self2 = this || Howler2;
            if (!self2.ctx) {
              setupAudioContext();
            }
            self2._muted = muted;
            if (self2.usingWebAudio) {
              self2.masterGain.gain.setValueAtTime(muted ? 0 : self2._volume, Howler2.ctx.currentTime);
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (!self2._howls[i]._webAudio) {
                var ids = self2._howls[i]._getSoundIds();
                for (var j = 0; j < ids.length; j++) {
                  var sound = self2._howls[i]._soundById(ids[j]);
                  if (sound && sound._node) {
                    sound._node.muted = muted ? true : sound._muted;
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Handle stopping all sounds globally.
           */
          stop: function() {
            var self2 = this || Howler2;
            for (var i = 0; i < self2._howls.length; i++) {
              self2._howls[i].stop();
            }
            return self2;
          },
          /**
           * Unload and destroy all currently loaded Howl objects.
           * @return {Howler}
           */
          unload: function() {
            var self2 = this || Howler2;
            for (var i = self2._howls.length - 1; i >= 0; i--) {
              self2._howls[i].unload();
            }
            if (self2.usingWebAudio && self2.ctx && typeof self2.ctx.close !== "undefined") {
              self2.ctx.close();
              self2.ctx = null;
              setupAudioContext();
            }
            return self2;
          },
          /**
           * Check for codec support of specific extension.
           * @param  {String} ext Audio file extention.
           * @return {Boolean}
           */
          codecs: function(ext) {
            return (this || Howler2)._codecs[ext.replace(/^x-/, "")];
          },
          /**
           * Setup various state values for global tracking.
           * @return {Howler}
           */
          _setup: function() {
            var self2 = this || Howler2;
            self2.state = self2.ctx ? self2.ctx.state || "suspended" : "suspended";
            self2._autoSuspend();
            if (!self2.usingWebAudio) {
              if (typeof Audio !== "undefined") {
                try {
                  var test = new Audio();
                  if (typeof test.oncanplaythrough === "undefined") {
                    self2._canPlayEvent = "canplay";
                  }
                } catch (e) {
                  self2.noAudio = true;
                }
              } else {
                self2.noAudio = true;
              }
            }
            try {
              var test = new Audio();
              if (test.muted) {
                self2.noAudio = true;
              }
            } catch (e) {
            }
            if (!self2.noAudio) {
              self2._setupCodecs();
            }
            return self2;
          },
          /**
           * Check for browser support for various codecs and cache the results.
           * @return {Howler}
           */
          _setupCodecs: function() {
            var self2 = this || Howler2;
            var audioTest = null;
            try {
              audioTest = typeof Audio !== "undefined" ? new Audio() : null;
            } catch (err) {
              return self2;
            }
            if (!audioTest || typeof audioTest.canPlayType !== "function") {
              return self2;
            }
            var mpegTest = audioTest.canPlayType("audio/mpeg;").replace(/^no$/, "");
            var ua = self2._navigator ? self2._navigator.userAgent : "";
            var checkOpera = ua.match(/OPR\/(\d+)/g);
            var isOldOpera = checkOpera && parseInt(checkOpera[0].split("/")[1], 10) < 33;
            var checkSafari = ua.indexOf("Safari") !== -1 && ua.indexOf("Chrome") === -1;
            var safariVersion = ua.match(/Version\/(.*?) /);
            var isOldSafari = checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15;
            self2._codecs = {
              mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType("audio/mp3;").replace(/^no$/, ""))),
              mpeg: !!mpegTest,
              opus: !!audioTest.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
              ogg: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              oga: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              wav: !!(audioTest.canPlayType('audio/wav; codecs="1"') || audioTest.canPlayType("audio/wav")).replace(/^no$/, ""),
              aac: !!audioTest.canPlayType("audio/aac;").replace(/^no$/, ""),
              caf: !!audioTest.canPlayType("audio/x-caf;").replace(/^no$/, ""),
              m4a: !!(audioTest.canPlayType("audio/x-m4a;") || audioTest.canPlayType("audio/m4a;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              m4b: !!(audioTest.canPlayType("audio/x-m4b;") || audioTest.canPlayType("audio/m4b;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              mp4: !!(audioTest.canPlayType("audio/x-mp4;") || audioTest.canPlayType("audio/mp4;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              dolby: !!audioTest.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
              flac: !!(audioTest.canPlayType("audio/x-flac;") || audioTest.canPlayType("audio/flac;")).replace(/^no$/, "")
            };
            return self2;
          },
          /**
           * Some browsers/devices will only allow audio to be played after a user interaction.
           * Attempt to automatically unlock audio on the first user interaction.
           * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/
           * @return {Howler}
           */
          _unlockAudio: function() {
            var self2 = this || Howler2;
            if (self2._audioUnlocked || !self2.ctx) {
              return;
            }
            self2._audioUnlocked = false;
            self2.autoUnlock = false;
            if (!self2._mobileUnloaded && self2.ctx.sampleRate !== 44100) {
              self2._mobileUnloaded = true;
              self2.unload();
            }
            self2._scratchBuffer = self2.ctx.createBuffer(1, 1, 22050);
            var unlock = function(e) {
              while (self2._html5AudioPool.length < self2.html5PoolSize) {
                try {
                  var audioNode = new Audio();
                  audioNode._unlocked = true;
                  self2._releaseHtml5Audio(audioNode);
                } catch (e2) {
                  self2.noAudio = true;
                  break;
                }
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node && !sound._node._unlocked) {
                      sound._node._unlocked = true;
                      sound._node.load();
                    }
                  }
                }
              }
              self2._autoResume();
              var source = self2.ctx.createBufferSource();
              source.buffer = self2._scratchBuffer;
              source.connect(self2.ctx.destination);
              if (typeof source.start === "undefined") {
                source.noteOn(0);
              } else {
                source.start(0);
              }
              if (typeof self2.ctx.resume === "function") {
                self2.ctx.resume();
              }
              source.onended = function() {
                source.disconnect(0);
                self2._audioUnlocked = true;
                document.removeEventListener("touchstart", unlock, true);
                document.removeEventListener("touchend", unlock, true);
                document.removeEventListener("click", unlock, true);
                document.removeEventListener("keydown", unlock, true);
                for (var i2 = 0; i2 < self2._howls.length; i2++) {
                  self2._howls[i2]._emit("unlock");
                }
              };
            };
            document.addEventListener("touchstart", unlock, true);
            document.addEventListener("touchend", unlock, true);
            document.addEventListener("click", unlock, true);
            document.addEventListener("keydown", unlock, true);
            return self2;
          },
          /**
           * Get an unlocked HTML5 Audio object from the pool. If none are left,
           * return a new Audio object and throw a warning.
           * @return {Audio} HTML5 Audio object.
           */
          _obtainHtml5Audio: function() {
            var self2 = this || Howler2;
            if (self2._html5AudioPool.length) {
              return self2._html5AudioPool.pop();
            }
            var testPlay = new Audio().play();
            if (testPlay && typeof Promise !== "undefined" && (testPlay instanceof Promise || typeof testPlay.then === "function")) {
              testPlay.catch(function() {
                console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.");
              });
            }
            return new Audio();
          },
          /**
           * Return an activated HTML5 Audio object to the pool.
           * @return {Howler}
           */
          _releaseHtml5Audio: function(audio) {
            var self2 = this || Howler2;
            if (audio._unlocked) {
              self2._html5AudioPool.push(audio);
            }
            return self2;
          },
          /**
           * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.
           * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.
           * @return {Howler}
           */
          _autoSuspend: function() {
            var self2 = this;
            if (!self2.autoSuspend || !self2.ctx || typeof self2.ctx.suspend === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (self2._howls[i]._webAudio) {
                for (var j = 0; j < self2._howls[i]._sounds.length; j++) {
                  if (!self2._howls[i]._sounds[j]._paused) {
                    return self2;
                  }
                }
              }
            }
            if (self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
            }
            self2._suspendTimer = setTimeout(function() {
              if (!self2.autoSuspend) {
                return;
              }
              self2._suspendTimer = null;
              self2.state = "suspending";
              var handleSuspension = function() {
                self2.state = "suspended";
                if (self2._resumeAfterSuspend) {
                  delete self2._resumeAfterSuspend;
                  self2._autoResume();
                }
              };
              self2.ctx.suspend().then(handleSuspension, handleSuspension);
            }, 3e4);
            return self2;
          },
          /**
           * Automatically resume the Web Audio AudioContext when a new sound is played.
           * @return {Howler}
           */
          _autoResume: function() {
            var self2 = this;
            if (!self2.ctx || typeof self2.ctx.resume === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            if (self2.state === "running" && self2.ctx.state !== "interrupted" && self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
              self2._suspendTimer = null;
            } else if (self2.state === "suspended" || self2.state === "running" && self2.ctx.state === "interrupted") {
              self2.ctx.resume().then(function() {
                self2.state = "running";
                for (var i = 0; i < self2._howls.length; i++) {
                  self2._howls[i]._emit("resume");
                }
              });
              if (self2._suspendTimer) {
                clearTimeout(self2._suspendTimer);
                self2._suspendTimer = null;
              }
            } else if (self2.state === "suspending") {
              self2._resumeAfterSuspend = true;
            }
            return self2;
          }
        };
        var Howler2 = new HowlerGlobal2();
        var Howl2 = function(o) {
          var self2 = this;
          if (!o.src || o.src.length === 0) {
            console.error("An array of source files must be passed with any new Howl.");
            return;
          }
          self2.init(o);
        };
        Howl2.prototype = {
          /**
           * Initialize a new Howl group object.
           * @param  {Object} o Passed in properties for this group.
           * @return {Howl}
           */
          init: function(o) {
            var self2 = this;
            if (!Howler2.ctx) {
              setupAudioContext();
            }
            self2._autoplay = o.autoplay || false;
            self2._format = typeof o.format !== "string" ? o.format : [o.format];
            self2._html5 = o.html5 || false;
            self2._muted = o.mute || false;
            self2._loop = o.loop || false;
            self2._pool = o.pool || 5;
            self2._preload = typeof o.preload === "boolean" || o.preload === "metadata" ? o.preload : true;
            self2._rate = o.rate || 1;
            self2._sprite = o.sprite || {};
            self2._src = typeof o.src !== "string" ? o.src : [o.src];
            self2._volume = o.volume !== void 0 ? o.volume : 1;
            self2._xhr = {
              method: o.xhr && o.xhr.method ? o.xhr.method : "GET",
              headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,
              withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false
            };
            self2._duration = 0;
            self2._state = "unloaded";
            self2._sounds = [];
            self2._endTimers = {};
            self2._queue = [];
            self2._playLock = false;
            self2._onend = o.onend ? [{ fn: o.onend }] : [];
            self2._onfade = o.onfade ? [{ fn: o.onfade }] : [];
            self2._onload = o.onload ? [{ fn: o.onload }] : [];
            self2._onloaderror = o.onloaderror ? [{ fn: o.onloaderror }] : [];
            self2._onplayerror = o.onplayerror ? [{ fn: o.onplayerror }] : [];
            self2._onpause = o.onpause ? [{ fn: o.onpause }] : [];
            self2._onplay = o.onplay ? [{ fn: o.onplay }] : [];
            self2._onstop = o.onstop ? [{ fn: o.onstop }] : [];
            self2._onmute = o.onmute ? [{ fn: o.onmute }] : [];
            self2._onvolume = o.onvolume ? [{ fn: o.onvolume }] : [];
            self2._onrate = o.onrate ? [{ fn: o.onrate }] : [];
            self2._onseek = o.onseek ? [{ fn: o.onseek }] : [];
            self2._onunlock = o.onunlock ? [{ fn: o.onunlock }] : [];
            self2._onresume = [];
            self2._webAudio = Howler2.usingWebAudio && !self2._html5;
            if (typeof Howler2.ctx !== "undefined" && Howler2.ctx && Howler2.autoUnlock) {
              Howler2._unlockAudio();
            }
            Howler2._howls.push(self2);
            if (self2._autoplay) {
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play();
                }
              });
            }
            if (self2._preload && self2._preload !== "none") {
              self2.load();
            }
            return self2;
          },
          /**
           * Load the audio file.
           * @return {Howler}
           */
          load: function() {
            var self2 = this;
            var url = null;
            if (Howler2.noAudio) {
              self2._emit("loaderror", null, "No audio support.");
              return;
            }
            if (typeof self2._src === "string") {
              self2._src = [self2._src];
            }
            for (var i = 0; i < self2._src.length; i++) {
              var ext, str5;
              if (self2._format && self2._format[i]) {
                ext = self2._format[i];
              } else {
                str5 = self2._src[i];
                if (typeof str5 !== "string") {
                  self2._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                  continue;
                }
                ext = /^data:audio\/([^;,]+);/i.exec(str5);
                if (!ext) {
                  ext = /\.([^.]+)$/.exec(str5.split("?", 1)[0]);
                }
                if (ext) {
                  ext = ext[1].toLowerCase();
                }
              }
              if (!ext) {
                console.warn('No file extension was found. Consider using the "format" property or specify an extension.');
              }
              if (ext && Howler2.codecs(ext)) {
                url = self2._src[i];
                break;
              }
            }
            if (!url) {
              self2._emit("loaderror", null, "No codec support for selected audio sources.");
              return;
            }
            self2._src = url;
            self2._state = "loading";
            if (window.location.protocol === "https:" && url.slice(0, 5) === "http:") {
              self2._html5 = true;
              self2._webAudio = false;
            }
            new Sound2(self2);
            if (self2._webAudio) {
              loadBuffer(self2);
            }
            return self2;
          },
          /**
           * Play a sound or resume previous playback.
           * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Number}          Sound ID.
           */
          play: function(sprite, internal) {
            var self2 = this;
            var id = null;
            if (typeof sprite === "number") {
              id = sprite;
              sprite = null;
            } else if (typeof sprite === "string" && self2._state === "loaded" && !self2._sprite[sprite]) {
              return null;
            } else if (typeof sprite === "undefined") {
              sprite = "__default";
              if (!self2._playLock) {
                var num = 0;
                for (var i = 0; i < self2._sounds.length; i++) {
                  if (self2._sounds[i]._paused && !self2._sounds[i]._ended) {
                    num++;
                    id = self2._sounds[i]._id;
                  }
                }
                if (num === 1) {
                  sprite = null;
                } else {
                  id = null;
                }
              }
            }
            var sound = id ? self2._soundById(id) : self2._inactiveSound();
            if (!sound) {
              return null;
            }
            if (id && !sprite) {
              sprite = sound._sprite || "__default";
            }
            if (self2._state !== "loaded") {
              sound._sprite = sprite;
              sound._ended = false;
              var soundId = sound._id;
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play(soundId);
                }
              });
              return soundId;
            }
            if (id && !sound._paused) {
              if (!internal) {
                self2._loadQueue("play");
              }
              return sound._id;
            }
            if (self2._webAudio) {
              Howler2._autoResume();
            }
            var seek = Math.max(0, sound._seek > 0 ? sound._seek : self2._sprite[sprite][0] / 1e3);
            var duration = Math.max(0, (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3 - seek);
            var timeout2 = duration * 1e3 / Math.abs(sound._rate);
            var start = self2._sprite[sprite][0] / 1e3;
            var stop = (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3;
            sound._sprite = sprite;
            sound._ended = false;
            var setParams = function() {
              sound._paused = false;
              sound._seek = seek;
              sound._start = start;
              sound._stop = stop;
              sound._loop = !!(sound._loop || self2._sprite[sprite][2]);
            };
            if (seek >= stop) {
              self2._ended(sound);
              return;
            }
            var node = sound._node;
            if (self2._webAudio) {
              var playWebAudio = function() {
                self2._playLock = false;
                setParams();
                self2._refreshBuffer(sound);
                var vol = sound._muted || self2._muted ? 0 : sound._volume;
                node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                sound._playStart = Howler2.ctx.currentTime;
                if (typeof node.bufferSource.start === "undefined") {
                  sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);
                } else {
                  sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);
                }
                if (timeout2 !== Infinity) {
                  self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                }
                if (!internal) {
                  setTimeout(function() {
                    self2._emit("play", sound._id);
                    self2._loadQueue();
                  }, 0);
                }
              };
              if (Howler2.state === "running" && Howler2.ctx.state !== "interrupted") {
                playWebAudio();
              } else {
                self2._playLock = true;
                self2.once("resume", playWebAudio);
                self2._clearTimer(sound._id);
              }
            } else {
              var playHtml5 = function() {
                node.currentTime = seek;
                node.muted = sound._muted || self2._muted || Howler2._muted || node.muted;
                node.volume = sound._volume * Howler2.volume();
                node.playbackRate = sound._rate;
                try {
                  var play = node.play();
                  if (play && typeof Promise !== "undefined" && (play instanceof Promise || typeof play.then === "function")) {
                    self2._playLock = true;
                    setParams();
                    play.then(function() {
                      self2._playLock = false;
                      node._unlocked = true;
                      if (!internal) {
                        self2._emit("play", sound._id);
                      } else {
                        self2._loadQueue();
                      }
                    }).catch(function() {
                      self2._playLock = false;
                      self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                      sound._ended = true;
                      sound._paused = true;
                    });
                  } else if (!internal) {
                    self2._playLock = false;
                    setParams();
                    self2._emit("play", sound._id);
                  }
                  node.playbackRate = sound._rate;
                  if (node.paused) {
                    self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                    return;
                  }
                  if (sprite !== "__default" || sound._loop) {
                    self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                  } else {
                    self2._endTimers[sound._id] = function() {
                      self2._ended(sound);
                      node.removeEventListener("ended", self2._endTimers[sound._id], false);
                    };
                    node.addEventListener("ended", self2._endTimers[sound._id], false);
                  }
                } catch (err) {
                  self2._emit("playerror", sound._id, err);
                }
              };
              if (node.src === "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA") {
                node.src = self2._src;
                node.load();
              }
              var loadedNoReadyState = window && window.ejecta || !node.readyState && Howler2._navigator.isCocoonJS;
              if (node.readyState >= 3 || loadedNoReadyState) {
                playHtml5();
              } else {
                self2._playLock = true;
                self2._state = "loading";
                var listener = function() {
                  self2._state = "loaded";
                  playHtml5();
                  node.removeEventListener(Howler2._canPlayEvent, listener, false);
                };
                node.addEventListener(Howler2._canPlayEvent, listener, false);
                self2._clearTimer(sound._id);
              }
            }
            return sound._id;
          },
          /**
           * Pause playback and save current position.
           * @param  {Number} id The sound ID (empty to pause all in group).
           * @return {Howl}
           */
          pause: function(id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "pause",
                action: function() {
                  self2.pause(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound && !sound._paused) {
                sound._seek = self2.seek(ids[i]);
                sound._rateSeek = 0;
                sound._paused = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (!sound._node.bufferSource) {
                      continue;
                    }
                    if (typeof sound._node.bufferSource.stop === "undefined") {
                      sound._node.bufferSource.noteOff(0);
                    } else {
                      sound._node.bufferSource.stop(0);
                    }
                    self2._cleanBuffer(sound._node);
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.pause();
                  }
                }
              }
              if (!arguments[1]) {
                self2._emit("pause", sound ? sound._id : null);
              }
            }
            return self2;
          },
          /**
           * Stop playback and reset to start.
           * @param  {Number} id The sound ID (empty to stop all in group).
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Howl}
           */
          stop: function(id, internal) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "stop",
                action: function() {
                  self2.stop(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._seek = sound._start || 0;
                sound._rateSeek = 0;
                sound._paused = true;
                sound._ended = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (sound._node.bufferSource) {
                      if (typeof sound._node.bufferSource.stop === "undefined") {
                        sound._node.bufferSource.noteOff(0);
                      } else {
                        sound._node.bufferSource.stop(0);
                      }
                      self2._cleanBuffer(sound._node);
                    }
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.currentTime = sound._start || 0;
                    sound._node.pause();
                    if (sound._node.duration === Infinity) {
                      self2._clearSound(sound._node);
                    }
                  }
                }
                if (!internal) {
                  self2._emit("stop", sound._id);
                }
              }
            }
            return self2;
          },
          /**
           * Mute/unmute a single sound or all sounds in this Howl group.
           * @param  {Boolean} muted Set to true to mute and false to unmute.
           * @param  {Number} id    The sound ID to update (omit to mute/unmute all).
           * @return {Howl}
           */
          mute: function(muted, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "mute",
                action: function() {
                  self2.mute(muted, id);
                }
              });
              return self2;
            }
            if (typeof id === "undefined") {
              if (typeof muted === "boolean") {
                self2._muted = muted;
              } else {
                return self2._muted;
              }
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._muted = muted;
                if (sound._interval) {
                  self2._stopFade(sound._id);
                }
                if (self2._webAudio && sound._node) {
                  sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler2.ctx.currentTime);
                } else if (sound._node) {
                  sound._node.muted = Howler2._muted ? true : muted;
                }
                self2._emit("mute", sound._id);
              }
            }
            return self2;
          },
          /**
           * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.
           *   volume() -> Returns the group's volume value.
           *   volume(id) -> Returns the sound id's current volume.
           *   volume(vol) -> Sets the volume of all sounds in this Howl group.
           *   volume(vol, id) -> Sets the volume of passed sound id.
           * @return {Howl/Number} Returns self or current volume.
           */
          volume: function() {
            var self2 = this;
            var args = arguments;
            var vol, id;
            if (args.length === 0) {
              return self2._volume;
            } else if (args.length === 1 || args.length === 2 && typeof args[1] === "undefined") {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                vol = parseFloat(args[0]);
              }
            } else if (args.length >= 2) {
              vol = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "volume",
                  action: function() {
                    self2.volume.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._volume = vol;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  sound._volume = vol;
                  if (!args[2]) {
                    self2._stopFade(id[i]);
                  }
                  if (self2._webAudio && sound._node && !sound._muted) {
                    sound._node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                  } else if (sound._node && !sound._muted) {
                    sound._node.volume = vol * Howler2.volume();
                  }
                  self2._emit("volume", sound._id);
                }
              }
            } else {
              sound = id ? self2._soundById(id) : self2._sounds[0];
              return sound ? sound._volume : 0;
            }
            return self2;
          },
          /**
           * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id (omit to fade all sounds).
           * @return {Howl}
           */
          fade: function(from, to, len4, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "fade",
                action: function() {
                  self2.fade(from, to, len4, id);
                }
              });
              return self2;
            }
            from = Math.min(Math.max(0, parseFloat(from)), 1);
            to = Math.min(Math.max(0, parseFloat(to)), 1);
            len4 = parseFloat(len4);
            self2.volume(from, id);
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                if (!id) {
                  self2._stopFade(ids[i]);
                }
                if (self2._webAudio && !sound._muted) {
                  var currentTime = Howler2.ctx.currentTime;
                  var end = currentTime + len4 / 1e3;
                  sound._volume = from;
                  sound._node.gain.setValueAtTime(from, currentTime);
                  sound._node.gain.linearRampToValueAtTime(to, end);
                }
                self2._startFadeInterval(sound, from, to, len4, ids[i], typeof id === "undefined");
              }
            }
            return self2;
          },
          /**
           * Starts the internal interval to fade a sound.
           * @param  {Object} sound Reference to sound to fade.
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id to fade.
           * @param  {Boolean} isGroup   If true, set the volume on the group.
           */
          _startFadeInterval: function(sound, from, to, len4, id, isGroup) {
            var self2 = this;
            var vol = from;
            var diff = to - from;
            var steps = Math.abs(diff / 0.01);
            var stepLen = Math.max(4, steps > 0 ? len4 / steps : len4);
            var lastTick = Date.now();
            sound._fadeTo = to;
            sound._interval = setInterval(function() {
              var tick = (Date.now() - lastTick) / len4;
              lastTick = Date.now();
              vol += diff * tick;
              vol = Math.round(vol * 100) / 100;
              if (diff < 0) {
                vol = Math.max(to, vol);
              } else {
                vol = Math.min(to, vol);
              }
              if (self2._webAudio) {
                sound._volume = vol;
              } else {
                self2.volume(vol, sound._id, true);
              }
              if (isGroup) {
                self2._volume = vol;
              }
              if (to < from && vol <= to || to > from && vol >= to) {
                clearInterval(sound._interval);
                sound._interval = null;
                sound._fadeTo = null;
                self2.volume(to, sound._id);
                self2._emit("fade", sound._id);
              }
            }, stepLen);
          },
          /**
           * Internal method that stops the currently playing fade when
           * a new fade starts, volume is changed or the sound is stopped.
           * @param  {Number} id The sound id.
           * @return {Howl}
           */
          _stopFade: function(id) {
            var self2 = this;
            var sound = self2._soundById(id);
            if (sound && sound._interval) {
              if (self2._webAudio) {
                sound._node.gain.cancelScheduledValues(Howler2.ctx.currentTime);
              }
              clearInterval(sound._interval);
              sound._interval = null;
              self2.volume(sound._fadeTo, id);
              sound._fadeTo = null;
              self2._emit("fade", id);
            }
            return self2;
          },
          /**
           * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.
           *   loop() -> Returns the group's loop value.
           *   loop(id) -> Returns the sound id's loop value.
           *   loop(loop) -> Sets the loop value for all sounds in this Howl group.
           *   loop(loop, id) -> Sets the loop value of passed sound id.
           * @return {Howl/Boolean} Returns self or current loop value.
           */
          loop: function() {
            var self2 = this;
            var args = arguments;
            var loop, id, sound;
            if (args.length === 0) {
              return self2._loop;
            } else if (args.length === 1) {
              if (typeof args[0] === "boolean") {
                loop = args[0];
                self2._loop = loop;
              } else {
                sound = self2._soundById(parseInt(args[0], 10));
                return sound ? sound._loop : false;
              }
            } else if (args.length === 2) {
              loop = args[0];
              id = parseInt(args[1], 10);
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              sound = self2._soundById(ids[i]);
              if (sound) {
                sound._loop = loop;
                if (self2._webAudio && sound._node && sound._node.bufferSource) {
                  sound._node.bufferSource.loop = loop;
                  if (loop) {
                    sound._node.bufferSource.loopStart = sound._start || 0;
                    sound._node.bufferSource.loopEnd = sound._stop;
                    if (self2.playing(ids[i])) {
                      self2.pause(ids[i], true);
                      self2.play(ids[i], true);
                    }
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   rate() -> Returns the first sound node's current playback rate.
           *   rate(id) -> Returns the sound id's current playback rate.
           *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.
           *   rate(rate, id) -> Sets the playback rate of passed sound id.
           * @return {Howl/Number} Returns self or the current playback rate.
           */
          rate: function() {
            var self2 = this;
            var args = arguments;
            var rate, id;
            if (args.length === 0) {
              id = self2._sounds[0]._id;
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                rate = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              rate = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof rate === "number") {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "rate",
                  action: function() {
                    self2.rate.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._rate = rate;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  if (self2.playing(id[i])) {
                    sound._rateSeek = self2.seek(id[i]);
                    sound._playStart = self2._webAudio ? Howler2.ctx.currentTime : sound._playStart;
                  }
                  sound._rate = rate;
                  if (self2._webAudio && sound._node && sound._node.bufferSource) {
                    sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler2.ctx.currentTime);
                  } else if (sound._node) {
                    sound._node.playbackRate = rate;
                  }
                  var seek = self2.seek(id[i]);
                  var duration = (self2._sprite[sound._sprite][0] + self2._sprite[sound._sprite][1]) / 1e3 - seek;
                  var timeout2 = duration * 1e3 / Math.abs(sound._rate);
                  if (self2._endTimers[id[i]] || !sound._paused) {
                    self2._clearTimer(id[i]);
                    self2._endTimers[id[i]] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                  }
                  self2._emit("rate", sound._id);
                }
              }
            } else {
              sound = self2._soundById(id);
              return sound ? sound._rate : self2._rate;
            }
            return self2;
          },
          /**
           * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   seek() -> Returns the first sound node's current seek position.
           *   seek(id) -> Returns the sound id's current seek position.
           *   seek(seek) -> Sets the seek position of the first sound node.
           *   seek(seek, id) -> Sets the seek position of passed sound id.
           * @return {Howl/Number} Returns self or the current seek position.
           */
          seek: function() {
            var self2 = this;
            var args = arguments;
            var seek, id;
            if (args.length === 0) {
              if (self2._sounds.length) {
                id = self2._sounds[0]._id;
              }
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else if (self2._sounds.length) {
                id = self2._sounds[0]._id;
                seek = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              seek = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            if (typeof id === "undefined") {
              return 0;
            }
            if (typeof seek === "number" && (self2._state !== "loaded" || self2._playLock)) {
              self2._queue.push({
                event: "seek",
                action: function() {
                  self2.seek.apply(self2, args);
                }
              });
              return self2;
            }
            var sound = self2._soundById(id);
            if (sound) {
              if (typeof seek === "number" && seek >= 0) {
                var playing = self2.playing(id);
                if (playing) {
                  self2.pause(id, true);
                }
                sound._seek = seek;
                sound._ended = false;
                self2._clearTimer(id);
                if (!self2._webAudio && sound._node && !isNaN(sound._node.duration)) {
                  sound._node.currentTime = seek;
                }
                var seekAndEmit = function() {
                  if (playing) {
                    self2.play(id, true);
                  }
                  self2._emit("seek", id);
                };
                if (playing && !self2._webAudio) {
                  var emitSeek = function() {
                    if (!self2._playLock) {
                      seekAndEmit();
                    } else {
                      setTimeout(emitSeek, 0);
                    }
                  };
                  setTimeout(emitSeek, 0);
                } else {
                  seekAndEmit();
                }
              } else {
                if (self2._webAudio) {
                  var realTime = self2.playing(id) ? Howler2.ctx.currentTime - sound._playStart : 0;
                  var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;
                  return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));
                } else {
                  return sound._node.currentTime;
                }
              }
            }
            return self2;
          },
          /**
           * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.
           * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.
           * @return {Boolean} True if playing and false if not.
           */
          playing: function(id) {
            var self2 = this;
            if (typeof id === "number") {
              var sound = self2._soundById(id);
              return sound ? !sound._paused : false;
            }
            for (var i = 0; i < self2._sounds.length; i++) {
              if (!self2._sounds[i]._paused) {
                return true;
              }
            }
            return false;
          },
          /**
           * Get the duration of this sound. Passing a sound id will return the sprite duration.
           * @param  {Number} id The sound id to check. If none is passed, return full source duration.
           * @return {Number} Audio duration in seconds.
           */
          duration: function(id) {
            var self2 = this;
            var duration = self2._duration;
            var sound = self2._soundById(id);
            if (sound) {
              duration = self2._sprite[sound._sprite][1] / 1e3;
            }
            return duration;
          },
          /**
           * Returns the current loaded state of this Howl.
           * @return {String} 'unloaded', 'loading', 'loaded'
           */
          state: function() {
            return this._state;
          },
          /**
           * Unload and destroy the current Howl object.
           * This will immediately stop all sound instances attached to this group.
           */
          unload: function() {
            var self2 = this;
            var sounds = self2._sounds;
            for (var i = 0; i < sounds.length; i++) {
              if (!sounds[i]._paused) {
                self2.stop(sounds[i]._id);
              }
              if (!self2._webAudio) {
                self2._clearSound(sounds[i]._node);
                sounds[i]._node.removeEventListener("error", sounds[i]._errorFn, false);
                sounds[i]._node.removeEventListener(Howler2._canPlayEvent, sounds[i]._loadFn, false);
                sounds[i]._node.removeEventListener("ended", sounds[i]._endFn, false);
                Howler2._releaseHtml5Audio(sounds[i]._node);
              }
              delete sounds[i]._node;
              self2._clearTimer(sounds[i]._id);
            }
            var index = Howler2._howls.indexOf(self2);
            if (index >= 0) {
              Howler2._howls.splice(index, 1);
            }
            var remCache = true;
            for (i = 0; i < Howler2._howls.length; i++) {
              if (Howler2._howls[i]._src === self2._src || self2._src.indexOf(Howler2._howls[i]._src) >= 0) {
                remCache = false;
                break;
              }
            }
            if (cache && remCache) {
              delete cache[self2._src];
            }
            Howler2.noAudio = false;
            self2._state = "unloaded";
            self2._sounds = [];
            self2 = null;
            return null;
          },
          /**
           * Listen to a custom event.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @param  {Number}   once  (INTERNAL) Marks event to fire only once.
           * @return {Howl}
           */
          on: function(event, fn, id, once) {
            var self2 = this;
            var events = self2["_on" + event];
            if (typeof fn === "function") {
              events.push(once ? { id, fn, once } : { id, fn });
            }
            return self2;
          },
          /**
           * Remove a custom event. Call without parameters to remove all events.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to remove. Leave empty to remove all.
           * @param  {Number}   id    (optional) Only remove events for this sound.
           * @return {Howl}
           */
          off: function(event, fn, id) {
            var self2 = this;
            var events = self2["_on" + event];
            var i = 0;
            if (typeof fn === "number") {
              id = fn;
              fn = null;
            }
            if (fn || id) {
              for (i = 0; i < events.length; i++) {
                var isId = id === events[i].id;
                if (fn === events[i].fn && isId || !fn && isId) {
                  events.splice(i, 1);
                  break;
                }
              }
            } else if (event) {
              self2["_on" + event] = [];
            } else {
              var keys = Object.keys(self2);
              for (i = 0; i < keys.length; i++) {
                if (keys[i].indexOf("_on") === 0 && Array.isArray(self2[keys[i]])) {
                  self2[keys[i]] = [];
                }
              }
            }
            return self2;
          },
          /**
           * Listen to a custom event and remove it once fired.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @return {Howl}
           */
          once: function(event, fn, id) {
            var self2 = this;
            self2.on(event, fn, id, 1);
            return self2;
          },
          /**
           * Emit all events of a specific type and pass the sound id.
           * @param  {String} event Event name.
           * @param  {Number} id    Sound ID.
           * @param  {Number} msg   Message to go with event.
           * @return {Howl}
           */
          _emit: function(event, id, msg) {
            var self2 = this;
            var events = self2["_on" + event];
            for (var i = events.length - 1; i >= 0; i--) {
              if (!events[i].id || events[i].id === id || event === "load") {
                setTimeout(function(fn) {
                  fn.call(this, id, msg);
                }.bind(self2, events[i].fn), 0);
                if (events[i].once) {
                  self2.off(event, events[i].fn, events[i].id);
                }
              }
            }
            self2._loadQueue(event);
            return self2;
          },
          /**
           * Queue of actions initiated before the sound has loaded.
           * These will be called in sequence, with the next only firing
           * after the previous has finished executing (even if async like play).
           * @return {Howl}
           */
          _loadQueue: function(event) {
            var self2 = this;
            if (self2._queue.length > 0) {
              var task = self2._queue[0];
              if (task.event === event) {
                self2._queue.shift();
                self2._loadQueue();
              }
              if (!event) {
                task.action();
              }
            }
            return self2;
          },
          /**
           * Fired when playback ends at the end of the duration.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _ended: function(sound) {
            var self2 = this;
            var sprite = sound._sprite;
            if (!self2._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {
              setTimeout(self2._ended.bind(self2, sound), 100);
              return self2;
            }
            var loop = !!(sound._loop || self2._sprite[sprite][2]);
            self2._emit("end", sound._id);
            if (!self2._webAudio && loop) {
              self2.stop(sound._id, true).play(sound._id);
            }
            if (self2._webAudio && loop) {
              self2._emit("play", sound._id);
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              sound._playStart = Howler2.ctx.currentTime;
              var timeout2 = (sound._stop - sound._start) * 1e3 / Math.abs(sound._rate);
              self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
            }
            if (self2._webAudio && !loop) {
              sound._paused = true;
              sound._ended = true;
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              self2._clearTimer(sound._id);
              self2._cleanBuffer(sound._node);
              Howler2._autoSuspend();
            }
            if (!self2._webAudio && !loop) {
              self2.stop(sound._id, true);
            }
            return self2;
          },
          /**
           * Clear the end timer for a sound playback.
           * @param  {Number} id The sound ID.
           * @return {Howl}
           */
          _clearTimer: function(id) {
            var self2 = this;
            if (self2._endTimers[id]) {
              if (typeof self2._endTimers[id] !== "function") {
                clearTimeout(self2._endTimers[id]);
              } else {
                var sound = self2._soundById(id);
                if (sound && sound._node) {
                  sound._node.removeEventListener("ended", self2._endTimers[id], false);
                }
              }
              delete self2._endTimers[id];
            }
            return self2;
          },
          /**
           * Return the sound identified by this ID, or return null.
           * @param  {Number} id Sound ID
           * @return {Object}    Sound object or null.
           */
          _soundById: function(id) {
            var self2 = this;
            for (var i = 0; i < self2._sounds.length; i++) {
              if (id === self2._sounds[i]._id) {
                return self2._sounds[i];
              }
            }
            return null;
          },
          /**
           * Return an inactive sound from the pool or create a new one.
           * @return {Sound} Sound playback object.
           */
          _inactiveSound: function() {
            var self2 = this;
            self2._drain();
            for (var i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                return self2._sounds[i].reset();
              }
            }
            return new Sound2(self2);
          },
          /**
           * Drain excess inactive sounds from the pool.
           */
          _drain: function() {
            var self2 = this;
            var limit = self2._pool;
            var cnt = 0;
            var i = 0;
            if (self2._sounds.length < limit) {
              return;
            }
            for (i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                cnt++;
              }
            }
            for (i = self2._sounds.length - 1; i >= 0; i--) {
              if (cnt <= limit) {
                return;
              }
              if (self2._sounds[i]._ended) {
                if (self2._webAudio && self2._sounds[i]._node) {
                  self2._sounds[i]._node.disconnect(0);
                }
                self2._sounds.splice(i, 1);
                cnt--;
              }
            }
          },
          /**
           * Get all ID's from the sounds pool.
           * @param  {Number} id Only return one ID if one is passed.
           * @return {Array}    Array of IDs.
           */
          _getSoundIds: function(id) {
            var self2 = this;
            if (typeof id === "undefined") {
              var ids = [];
              for (var i = 0; i < self2._sounds.length; i++) {
                ids.push(self2._sounds[i]._id);
              }
              return ids;
            } else {
              return [id];
            }
          },
          /**
           * Load the sound back into the buffer source.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _refreshBuffer: function(sound) {
            var self2 = this;
            sound._node.bufferSource = Howler2.ctx.createBufferSource();
            sound._node.bufferSource.buffer = cache[self2._src];
            if (sound._panner) {
              sound._node.bufferSource.connect(sound._panner);
            } else {
              sound._node.bufferSource.connect(sound._node);
            }
            sound._node.bufferSource.loop = sound._loop;
            if (sound._loop) {
              sound._node.bufferSource.loopStart = sound._start || 0;
              sound._node.bufferSource.loopEnd = sound._stop || 0;
            }
            sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler2.ctx.currentTime);
            return self2;
          },
          /**
           * Prevent memory leaks by cleaning up the buffer source after playback.
           * @param  {Object} node Sound's audio node containing the buffer source.
           * @return {Howl}
           */
          _cleanBuffer: function(node) {
            var self2 = this;
            var isIOS = Howler2._navigator && Howler2._navigator.vendor.indexOf("Apple") >= 0;
            if (!node.bufferSource) {
              return self2;
            }
            if (Howler2._scratchBuffer && node.bufferSource) {
              node.bufferSource.onended = null;
              node.bufferSource.disconnect(0);
              if (isIOS) {
                try {
                  node.bufferSource.buffer = Howler2._scratchBuffer;
                } catch (e) {
                }
              }
            }
            node.bufferSource = null;
            return self2;
          },
          /**
           * Set the source to a 0-second silence to stop any downloading (except in IE).
           * @param  {Object} node Audio node to clear.
           */
          _clearSound: function(node) {
            var checkIE = /MSIE |Trident\//.test(Howler2._navigator && Howler2._navigator.userAgent);
            if (!checkIE) {
              node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA";
            }
          }
        };
        var Sound2 = function(howl) {
          this._parent = howl;
          this.init();
        };
        Sound2.prototype = {
          /**
           * Initialize a new Sound object.
           * @return {Sound}
           */
          init: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            parent._sounds.push(self2);
            self2.create();
            return self2;
          },
          /**
           * Create and setup a new sound object, whether HTML5 Audio or Web Audio.
           * @return {Sound}
           */
          create: function() {
            var self2 = this;
            var parent = self2._parent;
            var volume = Howler2._muted || self2._muted || self2._parent._muted ? 0 : self2._volume;
            if (parent._webAudio) {
              self2._node = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
              self2._node.gain.setValueAtTime(volume, Howler2.ctx.currentTime);
              self2._node.paused = true;
              self2._node.connect(Howler2.masterGain);
            } else if (!Howler2.noAudio) {
              self2._node = Howler2._obtainHtml5Audio();
              self2._errorFn = self2._errorListener.bind(self2);
              self2._node.addEventListener("error", self2._errorFn, false);
              self2._loadFn = self2._loadListener.bind(self2);
              self2._node.addEventListener(Howler2._canPlayEvent, self2._loadFn, false);
              self2._endFn = self2._endListener.bind(self2);
              self2._node.addEventListener("ended", self2._endFn, false);
              self2._node.src = parent._src;
              self2._node.preload = parent._preload === true ? "auto" : parent._preload;
              self2._node.volume = volume * Howler2.volume();
              self2._node.load();
            }
            return self2;
          },
          /**
           * Reset the parameters of this sound to the original state (for recycle).
           * @return {Sound}
           */
          reset: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._rateSeek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            return self2;
          },
          /**
           * HTML5 Audio error listener callback.
           */
          _errorListener: function() {
            var self2 = this;
            self2._parent._emit("loaderror", self2._id, self2._node.error ? self2._node.error.code : 0);
            self2._node.removeEventListener("error", self2._errorFn, false);
          },
          /**
           * HTML5 Audio canplaythrough listener callback.
           */
          _loadListener: function() {
            var self2 = this;
            var parent = self2._parent;
            parent._duration = Math.ceil(self2._node.duration * 10) / 10;
            if (Object.keys(parent._sprite).length === 0) {
              parent._sprite = { __default: [0, parent._duration * 1e3] };
            }
            if (parent._state !== "loaded") {
              parent._state = "loaded";
              parent._emit("load");
              parent._loadQueue();
            }
            self2._node.removeEventListener(Howler2._canPlayEvent, self2._loadFn, false);
          },
          /**
           * HTML5 Audio ended listener callback.
           */
          _endListener: function() {
            var self2 = this;
            var parent = self2._parent;
            if (parent._duration === Infinity) {
              parent._duration = Math.ceil(self2._node.duration * 10) / 10;
              if (parent._sprite.__default[1] === Infinity) {
                parent._sprite.__default[1] = parent._duration * 1e3;
              }
              parent._ended(self2);
            }
            self2._node.removeEventListener("ended", self2._endFn, false);
          }
        };
        var cache = {};
        var loadBuffer = function(self2) {
          var url = self2._src;
          if (cache[url]) {
            self2._duration = cache[url].duration;
            loadSound(self2);
            return;
          }
          if (/^data:[^;]+;base64,/.test(url)) {
            var data = atob(url.split(",")[1]);
            var dataView = new Uint8Array(data.length);
            for (var i = 0; i < data.length; ++i) {
              dataView[i] = data.charCodeAt(i);
            }
            decodeAudioData(dataView.buffer, self2);
          } else {
            var xhr = new XMLHttpRequest();
            xhr.open(self2._xhr.method, url, true);
            xhr.withCredentials = self2._xhr.withCredentials;
            xhr.responseType = "arraybuffer";
            if (self2._xhr.headers) {
              Object.keys(self2._xhr.headers).forEach(function(key) {
                xhr.setRequestHeader(key, self2._xhr.headers[key]);
              });
            }
            xhr.onload = function() {
              var code = (xhr.status + "")[0];
              if (code !== "0" && code !== "2" && code !== "3") {
                self2._emit("loaderror", null, "Failed loading audio file with status: " + xhr.status + ".");
                return;
              }
              decodeAudioData(xhr.response, self2);
            };
            xhr.onerror = function() {
              if (self2._webAudio) {
                self2._html5 = true;
                self2._webAudio = false;
                self2._sounds = [];
                delete cache[url];
                self2.load();
              }
            };
            safeXhrSend(xhr);
          }
        };
        var safeXhrSend = function(xhr) {
          try {
            xhr.send();
          } catch (e) {
            xhr.onerror();
          }
        };
        var decodeAudioData = function(arraybuffer, self2) {
          var error = function() {
            self2._emit("loaderror", null, "Decoding audio data failed.");
          };
          var success = function(buffer) {
            if (buffer && self2._sounds.length > 0) {
              cache[self2._src] = buffer;
              loadSound(self2, buffer);
            } else {
              error();
            }
          };
          if (typeof Promise !== "undefined" && Howler2.ctx.decodeAudioData.length === 1) {
            Howler2.ctx.decodeAudioData(arraybuffer).then(success).catch(error);
          } else {
            Howler2.ctx.decodeAudioData(arraybuffer, success, error);
          }
        };
        var loadSound = function(self2, buffer) {
          if (buffer && !self2._duration) {
            self2._duration = buffer.duration;
          }
          if (Object.keys(self2._sprite).length === 0) {
            self2._sprite = { __default: [0, self2._duration * 1e3] };
          }
          if (self2._state !== "loaded") {
            self2._state = "loaded";
            self2._emit("load");
            self2._loadQueue();
          }
        };
        var setupAudioContext = function() {
          if (!Howler2.usingWebAudio) {
            return;
          }
          try {
            if (typeof AudioContext !== "undefined") {
              Howler2.ctx = new AudioContext();
            } else if (typeof webkitAudioContext !== "undefined") {
              Howler2.ctx = new webkitAudioContext();
            } else {
              Howler2.usingWebAudio = false;
            }
          } catch (e) {
            Howler2.usingWebAudio = false;
          }
          if (!Howler2.ctx) {
            Howler2.usingWebAudio = false;
          }
          var iOS = /iP(hone|od|ad)/.test(Howler2._navigator && Howler2._navigator.platform);
          var appVersion = Howler2._navigator && Howler2._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
          var version = appVersion ? parseInt(appVersion[1], 10) : null;
          if (iOS && version && version < 9) {
            var safari = /safari/.test(Howler2._navigator && Howler2._navigator.userAgent.toLowerCase());
            if (Howler2._navigator && !safari) {
              Howler2.usingWebAudio = false;
            }
          }
          if (Howler2.usingWebAudio) {
            Howler2.masterGain = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
            Howler2.masterGain.gain.setValueAtTime(Howler2._muted ? 0 : Howler2._volume, Howler2.ctx.currentTime);
            Howler2.masterGain.connect(Howler2.ctx.destination);
          }
          Howler2._setup();
        };
        if (typeof define === "function" && define.amd) {
          define([], function() {
            return {
              Howler: Howler2,
              Howl: Howl2
            };
          });
        }
        if (typeof exports !== "undefined") {
          exports.Howler = Howler2;
          exports.Howl = Howl2;
        }
        if (typeof global !== "undefined") {
          global.HowlerGlobal = HowlerGlobal2;
          global.Howler = Howler2;
          global.Howl = Howl2;
          global.Sound = Sound2;
        } else if (typeof window !== "undefined") {
          window.HowlerGlobal = HowlerGlobal2;
          window.Howler = Howler2;
          window.Howl = Howl2;
          window.Sound = Sound2;
        }
      })();
      (function() {
        "use strict";
        HowlerGlobal.prototype._pos = [0, 0, 0];
        HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];
        HowlerGlobal.prototype.stereo = function(pan) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          for (var i = self2._howls.length - 1; i >= 0; i--) {
            self2._howls[i].stereo(pan);
          }
          return self2;
        };
        HowlerGlobal.prototype.pos = function(x, y, z) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          y = typeof y !== "number" ? self2._pos[1] : y;
          z = typeof z !== "number" ? self2._pos[2] : z;
          if (typeof x === "number") {
            self2._pos = [x, y, z];
            if (typeof self2.ctx.listener.positionX !== "undefined") {
              self2.ctx.listener.positionX.setTargetAtTime(self2._pos[0], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionY.setTargetAtTime(self2._pos[1], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionZ.setTargetAtTime(self2._pos[2], Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setPosition(self2._pos[0], self2._pos[1], self2._pos[2]);
            }
          } else {
            return self2._pos;
          }
          return self2;
        };
        HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          var or = self2._orientation;
          y = typeof y !== "number" ? or[1] : y;
          z = typeof z !== "number" ? or[2] : z;
          xUp = typeof xUp !== "number" ? or[3] : xUp;
          yUp = typeof yUp !== "number" ? or[4] : yUp;
          zUp = typeof zUp !== "number" ? or[5] : zUp;
          if (typeof x === "number") {
            self2._orientation = [x, y, z, xUp, yUp, zUp];
            if (typeof self2.ctx.listener.forwardX !== "undefined") {
              self2.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);
            }
          } else {
            return or;
          }
          return self2;
        };
        Howl.prototype.init = function(_super) {
          return function(o) {
            var self2 = this;
            self2._orientation = o.orientation || [1, 0, 0];
            self2._stereo = o.stereo || null;
            self2._pos = o.pos || null;
            self2._pannerAttr = {
              coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : 360,
              coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : 360,
              coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : 0,
              distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : "inverse",
              maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : 1e4,
              panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : "HRTF",
              refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : 1,
              rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : 1
            };
            self2._onstereo = o.onstereo ? [{ fn: o.onstereo }] : [];
            self2._onpos = o.onpos ? [{ fn: o.onpos }] : [];
            self2._onorientation = o.onorientation ? [{ fn: o.onorientation }] : [];
            return _super.call(this, o);
          };
        }(Howl.prototype.init);
        Howl.prototype.stereo = function(pan, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "stereo",
              action: function() {
                self2.stereo(pan, id);
              }
            });
            return self2;
          }
          var pannerType = typeof Howler.ctx.createStereoPanner === "undefined" ? "spatial" : "stereo";
          if (typeof id === "undefined") {
            if (typeof pan === "number") {
              self2._stereo = pan;
              self2._pos = [pan, 0, 0];
            } else {
              return self2._stereo;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof pan === "number") {
                sound._stereo = pan;
                sound._pos = [pan, 0, 0];
                if (sound._node) {
                  sound._pannerAttr.panningModel = "equalpower";
                  if (!sound._panner || !sound._panner.pan) {
                    setupPanner(sound, pannerType);
                  }
                  if (pannerType === "spatial") {
                    if (typeof sound._panner.positionX !== "undefined") {
                      sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);
                      sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);
                      sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);
                    } else {
                      sound._panner.setPosition(pan, 0, 0);
                    }
                  } else {
                    sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);
                  }
                }
                self2._emit("stereo", sound._id);
              } else {
                return sound._stereo;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pos = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "pos",
              action: function() {
                self2.pos(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? 0 : y;
          z = typeof z !== "number" ? -0.5 : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._pos = [x, y, z];
            } else {
              return self2._pos;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._pos = [x, y, z];
                if (sound._node) {
                  if (!sound._panner || sound._panner.pan) {
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.positionX !== "undefined") {
                    sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setPosition(x, y, z);
                  }
                }
                self2._emit("pos", sound._id);
              } else {
                return sound._pos;
              }
            }
          }
          return self2;
        };
        Howl.prototype.orientation = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "orientation",
              action: function() {
                self2.orientation(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? self2._orientation[1] : y;
          z = typeof z !== "number" ? self2._orientation[2] : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._orientation = [x, y, z];
            } else {
              return self2._orientation;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._orientation = [x, y, z];
                if (sound._node) {
                  if (!sound._panner) {
                    if (!sound._pos) {
                      sound._pos = self2._pos || [0, 0, -0.5];
                    }
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.orientationX !== "undefined") {
                    sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setOrientation(x, y, z);
                  }
                }
                self2._emit("orientation", sound._id);
              } else {
                return sound._orientation;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pannerAttr = function() {
          var self2 = this;
          var args = arguments;
          var o, id, sound;
          if (!self2._webAudio) {
            return self2;
          }
          if (args.length === 0) {
            return self2._pannerAttr;
          } else if (args.length === 1) {
            if (typeof args[0] === "object") {
              o = args[0];
              if (typeof id === "undefined") {
                if (!o.pannerAttr) {
                  o.pannerAttr = {
                    coneInnerAngle: o.coneInnerAngle,
                    coneOuterAngle: o.coneOuterAngle,
                    coneOuterGain: o.coneOuterGain,
                    distanceModel: o.distanceModel,
                    maxDistance: o.maxDistance,
                    refDistance: o.refDistance,
                    rolloffFactor: o.rolloffFactor,
                    panningModel: o.panningModel
                  };
                }
                self2._pannerAttr = {
                  coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== "undefined" ? o.pannerAttr.coneInnerAngle : self2._coneInnerAngle,
                  coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== "undefined" ? o.pannerAttr.coneOuterAngle : self2._coneOuterAngle,
                  coneOuterGain: typeof o.pannerAttr.coneOuterGain !== "undefined" ? o.pannerAttr.coneOuterGain : self2._coneOuterGain,
                  distanceModel: typeof o.pannerAttr.distanceModel !== "undefined" ? o.pannerAttr.distanceModel : self2._distanceModel,
                  maxDistance: typeof o.pannerAttr.maxDistance !== "undefined" ? o.pannerAttr.maxDistance : self2._maxDistance,
                  refDistance: typeof o.pannerAttr.refDistance !== "undefined" ? o.pannerAttr.refDistance : self2._refDistance,
                  rolloffFactor: typeof o.pannerAttr.rolloffFactor !== "undefined" ? o.pannerAttr.rolloffFactor : self2._rolloffFactor,
                  panningModel: typeof o.pannerAttr.panningModel !== "undefined" ? o.pannerAttr.panningModel : self2._panningModel
                };
              }
            } else {
              sound = self2._soundById(parseInt(args[0], 10));
              return sound ? sound._pannerAttr : self2._pannerAttr;
            }
          } else if (args.length === 2) {
            o = args[0];
            id = parseInt(args[1], 10);
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            sound = self2._soundById(ids[i]);
            if (sound) {
              var pa = sound._pannerAttr;
              pa = {
                coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : pa.coneInnerAngle,
                coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : pa.coneOuterAngle,
                coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : pa.coneOuterGain,
                distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : pa.distanceModel,
                maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : pa.maxDistance,
                refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : pa.refDistance,
                rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : pa.rolloffFactor,
                panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : pa.panningModel
              };
              var panner = sound._panner;
              if (!panner) {
                if (!sound._pos) {
                  sound._pos = self2._pos || [0, 0, -0.5];
                }
                setupPanner(sound, "spatial");
                panner = sound._panner;
              }
              panner.coneInnerAngle = pa.coneInnerAngle;
              panner.coneOuterAngle = pa.coneOuterAngle;
              panner.coneOuterGain = pa.coneOuterGain;
              panner.distanceModel = pa.distanceModel;
              panner.maxDistance = pa.maxDistance;
              panner.refDistance = pa.refDistance;
              panner.rolloffFactor = pa.rolloffFactor;
              panner.panningModel = pa.panningModel;
            }
          }
          return self2;
        };
        Sound.prototype.init = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            _super.call(this);
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            }
          };
        }(Sound.prototype.init);
        Sound.prototype.reset = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            } else if (self2._panner) {
              self2._panner.disconnect(0);
              self2._panner = void 0;
              parent._refreshBuffer(self2);
            }
            return _super.call(this);
          };
        }(Sound.prototype.reset);
        var setupPanner = function(sound, type) {
          type = type || "spatial";
          if (type === "spatial") {
            sound._panner = Howler.ctx.createPanner();
            sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;
            sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;
            sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;
            sound._panner.distanceModel = sound._pannerAttr.distanceModel;
            sound._panner.maxDistance = sound._pannerAttr.maxDistance;
            sound._panner.refDistance = sound._pannerAttr.refDistance;
            sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;
            sound._panner.panningModel = sound._pannerAttr.panningModel;
            if (typeof sound._panner.positionX !== "undefined") {
              sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);
              sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);
              sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);
            }
            if (typeof sound._panner.orientationX !== "undefined") {
              sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);
              sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);
              sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);
            }
          } else {
            sound._panner = Howler.ctx.createStereoPanner();
            sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);
          }
          sound._panner.connect(sound._node);
          if (!sound._paused) {
            sound._parent.pause(sound._id, true).play(sound._id, true);
          }
        };
      })();
    }
  });

  // node_modules/earcut/src/earcut.js
  var require_earcut = __commonJS({
    "node_modules/earcut/src/earcut.js"(exports, module) {
      "use strict";
      module.exports = earcut2;
      module.exports.default = earcut2;
      function earcut2(data, holeIndices, dim) {
        dim = dim || 2;
        var hasHoles = holeIndices && holeIndices.length, outerLen = hasHoles ? holeIndices[0] * dim : data.length, outerNode = linkedList(data, 0, outerLen, dim, true), triangles = [];
        if (!outerNode || outerNode.next === outerNode.prev)
          return triangles;
        var minX, minY, maxX, maxY, x, y, invSize;
        if (hasHoles)
          outerNode = eliminateHoles(data, holeIndices, outerNode, dim);
        if (data.length > 80 * dim) {
          minX = maxX = data[0];
          minY = maxY = data[1];
          for (var i = dim; i < outerLen; i += dim) {
            x = data[i];
            y = data[i + 1];
            if (x < minX)
              minX = x;
            if (y < minY)
              minY = y;
            if (x > maxX)
              maxX = x;
            if (y > maxY)
              maxY = y;
          }
          invSize = Math.max(maxX - minX, maxY - minY);
          invSize = invSize !== 0 ? 32767 / invSize : 0;
        }
        earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);
        return triangles;
      }
      function linkedList(data, start, end, dim, clockwise) {
        var i, last;
        if (clockwise === signedArea(data, start, end, dim) > 0) {
          for (i = start; i < end; i += dim)
            last = insertNode(i, data[i], data[i + 1], last);
        } else {
          for (i = end - dim; i >= start; i -= dim)
            last = insertNode(i, data[i], data[i + 1], last);
        }
        if (last && equals6(last, last.next)) {
          removeNode(last);
          last = last.next;
        }
        return last;
      }
      function filterPoints(start, end) {
        if (!start)
          return start;
        if (!end)
          end = start;
        var p = start, again;
        do {
          again = false;
          if (!p.steiner && (equals6(p, p.next) || area(p.prev, p, p.next) === 0)) {
            removeNode(p);
            p = end = p.prev;
            if (p === p.next)
              break;
            again = true;
          } else {
            p = p.next;
          }
        } while (again || p !== end);
        return end;
      }
      function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {
        if (!ear)
          return;
        if (!pass && invSize)
          indexCurve(ear, minX, minY, invSize);
        var stop = ear, prev, next;
        while (ear.prev !== ear.next) {
          prev = ear.prev;
          next = ear.next;
          if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {
            triangles.push(prev.i / dim | 0);
            triangles.push(ear.i / dim | 0);
            triangles.push(next.i / dim | 0);
            removeNode(ear);
            ear = next.next;
            stop = next.next;
            continue;
          }
          ear = next;
          if (ear === stop) {
            if (!pass) {
              earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);
            } else if (pass === 1) {
              ear = cureLocalIntersections(filterPoints(ear), triangles, dim);
              earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);
            } else if (pass === 2) {
              splitEarcut(ear, triangles, dim, minX, minY, invSize);
            }
            break;
          }
        }
      }
      function isEar(ear) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var p = c.next;
        while (p !== a) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.next;
        }
        return true;
      }
      function isEarHashed(ear, minX, minY, invSize) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var minZ = zOrder(x0, y0, minX, minY, invSize), maxZ = zOrder(x1, y1, minX, minY, invSize);
        var p = ear.prevZ, n = ear.nextZ;
        while (p && p.z >= minZ && n && n.z <= maxZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        while (p && p.z >= minZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
        }
        while (n && n.z <= maxZ) {
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        return true;
      }
      function cureLocalIntersections(start, triangles, dim) {
        var p = start;
        do {
          var a = p.prev, b = p.next.next;
          if (!equals6(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {
            triangles.push(a.i / dim | 0);
            triangles.push(p.i / dim | 0);
            triangles.push(b.i / dim | 0);
            removeNode(p);
            removeNode(p.next);
            p = start = b;
          }
          p = p.next;
        } while (p !== start);
        return filterPoints(p);
      }
      function splitEarcut(start, triangles, dim, minX, minY, invSize) {
        var a = start;
        do {
          var b = a.next.next;
          while (b !== a.prev) {
            if (a.i !== b.i && isValidDiagonal(a, b)) {
              var c = splitPolygon(a, b);
              a = filterPoints(a, a.next);
              c = filterPoints(c, c.next);
              earcutLinked(a, triangles, dim, minX, minY, invSize, 0);
              earcutLinked(c, triangles, dim, minX, minY, invSize, 0);
              return;
            }
            b = b.next;
          }
          a = a.next;
        } while (a !== start);
      }
      function eliminateHoles(data, holeIndices, outerNode, dim) {
        var queue = [], i, len4, start, end, list;
        for (i = 0, len4 = holeIndices.length; i < len4; i++) {
          start = holeIndices[i] * dim;
          end = i < len4 - 1 ? holeIndices[i + 1] * dim : data.length;
          list = linkedList(data, start, end, dim, false);
          if (list === list.next)
            list.steiner = true;
          queue.push(getLeftmost(list));
        }
        queue.sort(compareX);
        for (i = 0; i < queue.length; i++) {
          outerNode = eliminateHole(queue[i], outerNode);
        }
        return outerNode;
      }
      function compareX(a, b) {
        return a.x - b.x;
      }
      function eliminateHole(hole, outerNode) {
        var bridge = findHoleBridge(hole, outerNode);
        if (!bridge) {
          return outerNode;
        }
        var bridgeReverse = splitPolygon(bridge, hole);
        filterPoints(bridgeReverse, bridgeReverse.next);
        return filterPoints(bridge, bridge.next);
      }
      function findHoleBridge(hole, outerNode) {
        var p = outerNode, hx = hole.x, hy = hole.y, qx = -Infinity, m;
        do {
          if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {
            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);
            if (x <= hx && x > qx) {
              qx = x;
              m = p.x < p.next.x ? p : p.next;
              if (x === hx)
                return m;
            }
          }
          p = p.next;
        } while (p !== outerNode);
        if (!m)
          return null;
        var stop = m, mx = m.x, my = m.y, tanMin = Infinity, tan;
        p = m;
        do {
          if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {
            tan = Math.abs(hy - p.y) / (hx - p.x);
            if (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {
              m = p;
              tanMin = tan;
            }
          }
          p = p.next;
        } while (p !== stop);
        return m;
      }
      function sectorContainsSector(m, p) {
        return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;
      }
      function indexCurve(start, minX, minY, invSize) {
        var p = start;
        do {
          if (p.z === 0)
            p.z = zOrder(p.x, p.y, minX, minY, invSize);
          p.prevZ = p.prev;
          p.nextZ = p.next;
          p = p.next;
        } while (p !== start);
        p.prevZ.nextZ = null;
        p.prevZ = null;
        sortLinked(p);
      }
      function sortLinked(list) {
        var i, p, q, e, tail, numMerges, pSize, qSize, inSize = 1;
        do {
          p = list;
          list = null;
          tail = null;
          numMerges = 0;
          while (p) {
            numMerges++;
            q = p;
            pSize = 0;
            for (i = 0; i < inSize; i++) {
              pSize++;
              q = q.nextZ;
              if (!q)
                break;
            }
            qSize = inSize;
            while (pSize > 0 || qSize > 0 && q) {
              if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {
                e = p;
                p = p.nextZ;
                pSize--;
              } else {
                e = q;
                q = q.nextZ;
                qSize--;
              }
              if (tail)
                tail.nextZ = e;
              else
                list = e;
              e.prevZ = tail;
              tail = e;
            }
            p = q;
          }
          tail.nextZ = null;
          inSize *= 2;
        } while (numMerges > 1);
        return list;
      }
      function zOrder(x, y, minX, minY, invSize) {
        x = (x - minX) * invSize | 0;
        y = (y - minY) * invSize | 0;
        x = (x | x << 8) & 16711935;
        x = (x | x << 4) & 252645135;
        x = (x | x << 2) & 858993459;
        x = (x | x << 1) & 1431655765;
        y = (y | y << 8) & 16711935;
        y = (y | y << 4) & 252645135;
        y = (y | y << 2) & 858993459;
        y = (y | y << 1) & 1431655765;
        return x | y << 1;
      }
      function getLeftmost(start) {
        var p = start, leftmost = start;
        do {
          if (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y)
            leftmost = p;
          p = p.next;
        } while (p !== start);
        return leftmost;
      }
      function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {
        return (cx - px) * (ay - py) >= (ax - px) * (cy - py) && (ax - px) * (by - py) >= (bx - px) * (ay - py) && (bx - px) * (cy - py) >= (cx - px) * (by - py);
      }
      function isValidDiagonal(a, b) {
        return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges
        (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible
        (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors
        equals6(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0);
      }
      function area(p, q, r) {
        return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);
      }
      function equals6(p1, p2) {
        return p1.x === p2.x && p1.y === p2.y;
      }
      function intersects(p1, q1, p2, q2) {
        var o1 = sign(area(p1, q1, p2));
        var o2 = sign(area(p1, q1, q2));
        var o3 = sign(area(p2, q2, p1));
        var o4 = sign(area(p2, q2, q1));
        if (o1 !== o2 && o3 !== o4)
          return true;
        if (o1 === 0 && onSegment(p1, p2, q1))
          return true;
        if (o2 === 0 && onSegment(p1, q2, q1))
          return true;
        if (o3 === 0 && onSegment(p2, p1, q2))
          return true;
        if (o4 === 0 && onSegment(p2, q1, q2))
          return true;
        return false;
      }
      function onSegment(p, q, r) {
        return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);
      }
      function sign(num) {
        return num > 0 ? 1 : num < 0 ? -1 : 0;
      }
      function intersectsPolygon(a, b) {
        var p = a;
        do {
          if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b))
            return true;
          p = p.next;
        } while (p !== a);
        return false;
      }
      function locallyInside(a, b) {
        return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;
      }
      function middleInside(a, b) {
        var p = a, inside = false, px = (a.x + b.x) / 2, py = (a.y + b.y) / 2;
        do {
          if (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x)
            inside = !inside;
          p = p.next;
        } while (p !== a);
        return inside;
      }
      function splitPolygon(a, b) {
        var a2 = new Node(a.i, a.x, a.y), b2 = new Node(b.i, b.x, b.y), an = a.next, bp = b.prev;
        a.next = b;
        b.prev = a;
        a2.next = an;
        an.prev = a2;
        b2.next = a2;
        a2.prev = b2;
        bp.next = b2;
        b2.prev = bp;
        return b2;
      }
      function insertNode(i, x, y, last) {
        var p = new Node(i, x, y);
        if (!last) {
          p.prev = p;
          p.next = p;
        } else {
          p.next = last.next;
          p.prev = last;
          last.next.prev = p;
          last.next = p;
        }
        return p;
      }
      function removeNode(p) {
        p.next.prev = p.prev;
        p.prev.next = p.next;
        if (p.prevZ)
          p.prevZ.nextZ = p.nextZ;
        if (p.nextZ)
          p.nextZ.prevZ = p.prevZ;
      }
      function Node(i, x, y) {
        this.i = i;
        this.x = x;
        this.y = y;
        this.prev = null;
        this.next = null;
        this.z = 0;
        this.prevZ = null;
        this.nextZ = null;
        this.steiner = false;
      }
      earcut2.deviation = function(data, holeIndices, dim, triangles) {
        var hasHoles = holeIndices && holeIndices.length;
        var outerLen = hasHoles ? holeIndices[0] * dim : data.length;
        var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));
        if (hasHoles) {
          for (var i = 0, len4 = holeIndices.length; i < len4; i++) {
            var start = holeIndices[i] * dim;
            var end = i < len4 - 1 ? holeIndices[i + 1] * dim : data.length;
            polygonArea -= Math.abs(signedArea(data, start, end, dim));
          }
        }
        var trianglesArea = 0;
        for (i = 0; i < triangles.length; i += 3) {
          var a = triangles[i] * dim;
          var b = triangles[i + 1] * dim;
          var c = triangles[i + 2] * dim;
          trianglesArea += Math.abs(
            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) - (data[a] - data[b]) * (data[c + 1] - data[a + 1])
          );
        }
        return polygonArea === 0 && trianglesArea === 0 ? 0 : Math.abs((trianglesArea - polygonArea) / polygonArea);
      };
      function signedArea(data, start, end, dim) {
        var sum = 0;
        for (var i = start, j = end - dim; i < end; i += dim) {
          sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
          j = i;
        }
        return sum;
      }
      earcut2.flatten = function(data) {
        var dim = data[0][0].length, result = { vertices: [], holes: [], dimensions: dim }, holeIndex = 0;
        for (var i = 0; i < data.length; i++) {
          for (var j = 0; j < data[i].length; j++) {
            for (var d = 0; d < dim; d++)
              result.vertices.push(data[i][j][d]);
          }
          if (i > 0) {
            holeIndex += data[i - 1].length;
            result.holes.push(holeIndex);
          }
        }
        return result;
      };
    }
  });

  // node_modules/@wonderlandengine/components/dist/index.js
  var dist_exports = {};
  __export(dist_exports, {
    ARCamera8thwall: () => ARCamera8thwall,
    Anchor: () => Anchor,
    Cursor: () => Cursor,
    CursorTarget: () => CursorTarget,
    DebugObject: () => DebugObject,
    DeviceOrientationLook: () => DeviceOrientationLook,
    FingerCursor: () => FingerCursor,
    FixedFoveation: () => FixedFoveation,
    HandTracking: () => HandTracking,
    HitTestLocation: () => HitTestLocation,
    HowlerAudioListener: () => HowlerAudioListener,
    HowlerAudioSource: () => HowlerAudioSource,
    ImageTexture: () => ImageTexture,
    MouseLookComponent: () => MouseLookComponent,
    PlaneDetection: () => PlaneDetection,
    PlayerHeight: () => PlayerHeight,
    TargetFramerate: () => TargetFramerate,
    TeleportComponent: () => TeleportComponent,
    Trail: () => Trail,
    TwoJointIkSolver: () => TwoJointIkSolver,
    VideoTexture: () => VideoTexture,
    VrModeActiveSwitch: () => VrModeActiveSwitch,
    Vrm: () => Vrm,
    WasdControlsComponent: () => WasdControlsComponent,
    isPointLocalOnXRPlanePolygon: () => isPointLocalOnXRPlanePolygon,
    isPointWorldOnXRPlanePolygon: () => isPointWorldOnXRPlanePolygon
  });

  // node_modules/@wonderlandengine/api/dist/property.js
  var Type;
  (function(Type2) {
    Type2[Type2["Native"] = 1] = "Native";
    Type2[Type2["Bool"] = 2] = "Bool";
    Type2[Type2["Int"] = 4] = "Int";
    Type2[Type2["Float"] = 8] = "Float";
    Type2[Type2["String"] = 16] = "String";
    Type2[Type2["Enum"] = 32] = "Enum";
    Type2[Type2["Object"] = 64] = "Object";
    Type2[Type2["Mesh"] = 128] = "Mesh";
    Type2[Type2["Texture"] = 256] = "Texture";
    Type2[Type2["Material"] = 512] = "Material";
    Type2[Type2["Animation"] = 1024] = "Animation";
    Type2[Type2["Skin"] = 2048] = "Skin";
    Type2[Type2["Color"] = 4096] = "Color";
  })(Type || (Type = {}));
  var Property = {
    /**
     * Create an boolean property.
     *
     * @param defaultValue The default value. If not provided, defaults to `false`.
     */
    bool(defaultValue = false) {
      return { type: Type.Bool, default: defaultValue };
    },
    /**
     * Create an integer property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0`.
     */
    int(defaultValue = 0) {
      return { type: Type.Int, default: defaultValue };
    },
    /**
     * Create an float property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0.0`.
     */
    float(defaultValue = 0) {
      return { type: Type.Float, default: defaultValue };
    },
    /**
     * Create an string property.
     *
     * @param defaultValue The default value. If not provided, defaults to `''`.
     */
    string(defaultValue = "") {
      return { type: Type.String, default: defaultValue };
    },
    /**
     * Create an enumeration property.
     *
     * @param values The list of values.
     * @param defaultValue The default value. Can be a string or an index into
     *     `values`. If not provided, defaults to the first element.
     */
    enum(values, defaultValue) {
      return { type: Type.Enum, values, default: defaultValue };
    },
    /** Create an {@link Object3D} reference property. */
    object(opts) {
      return { type: Type.Object, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Mesh} reference property. */
    mesh(opts) {
      return { type: Type.Mesh, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Texture} reference property. */
    texture(opts) {
      return { type: Type.Texture, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Material} reference property. */
    material(opts) {
      return { type: Type.Material, default: null, required: opts?.required ?? false };
    },
    /** Create an {@link Animation} reference property. */
    animation(opts) {
      return { type: Type.Animation, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Skin} reference property. */
    skin(opts) {
      return { type: Type.Skin, default: null, required: opts?.required ?? false };
    },
    /**
     * Create a color property.
     *
     * @param r The red component, in the range [0; 1].
     * @param g The green component, in the range [0; 1].
     * @param b The blue component, in the range [0; 1].
     * @param a The alpha component, in the range [0; 1].
     */
    color(r = 0, g = 0, b = 0, a = 1) {
      return { type: Type.Color, default: [r, g, b, a] };
    }
  };

  // node_modules/@wonderlandengine/api/dist/decorators.js
  function propertyDecorator(data) {
    return function(target, propertyKey) {
      const ctor = target.constructor;
      ctor.Properties = ctor.hasOwnProperty("Properties") ? ctor.Properties : {};
      ctor.Properties[propertyKey] = data;
    };
  }
  function enumerable() {
    return function(_, __, descriptor) {
      descriptor.enumerable = true;
    };
  }
  function nativeProperty() {
    return function(target, propertyKey, descriptor) {
      enumerable()(target, propertyKey, descriptor);
      propertyDecorator({ type: Type.Native })(target, propertyKey);
    };
  }
  var property = {};
  for (const name in Property) {
    property[name] = (...args) => {
      const functor = Property[name];
      return propertyDecorator(functor(...args));
    };
  }

  // node_modules/@wonderlandengine/api/dist/utils/object.js
  function isString(value) {
    if (value === "")
      return true;
    return value && (typeof value === "string" || value.constructor === String);
  }
  function isNumber(value) {
    if (value === null || value === void 0)
      return false;
    return typeof value === "number" || value.constructor === Number;
  }

  // node_modules/@wonderlandengine/api/dist/utils/event.js
  var TransactionType;
  (function(TransactionType2) {
    TransactionType2[TransactionType2["Addition"] = 1] = "Addition";
    TransactionType2[TransactionType2["Removal"] = 2] = "Removal";
  })(TransactionType || (TransactionType = {}));
  var Emitter = class {
    /**
     * List of listeners to trigger when `notify` is called.
     *
     * @hidden
     */
    _listeners = [];
    /**
     * `true` if the emitter is currently notifying listeners. This
     * is used to defer addition and removal.
     *
     * @hidden
     */
    _notifying = false;
    /**
     * Pending additions / removals, performed during a notification.
     *
     * @hidden
     */
    _transactions = [];
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Basic usage:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * });
     * ```
     *
     * Automatically remove the listener when an event is received:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * }, {once: true});
     * ```
     *
     * @param listener The callback to register.
     * @param opts The listener options. For more information, please have a look
     *     at the {@link ListenerOptions} interface.
     *
     * @returns Reference to self (for method chaining)
     */
    add(listener, opts = {}) {
      const { once = false, id = void 0 } = opts;
      const data = { id, once, callback: listener };
      if (this._notifying) {
        this._transactions.push({ type: TransactionType.Addition, data });
        return this;
      }
      this._listeners.push(data);
      return this;
    }
    /**
     * Equivalent to {@link Emitter.add}.
     *
     * @param listeners The callback(s) to register.
     * @returns Reference to self (for method chaining).
     *
     * @deprecated Please use {@link Emitter.add} instead.
     */
    push(...listeners) {
      for (const cb of listeners)
        this.add(cb);
      return this;
    }
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Once notified, the listener will be automatically removed.
     *
     * The method is equivalent to calling {@link Emitter.add} with:
     *
     * ```js
     * emitter.add(listener, {once: true});
     * ```
     *
     * @param listener The callback to register.
     *
     * @returns Reference to self (for method chaining).
     */
    once(listener) {
      return this.add(listener, { once: true });
    }
    /**
     * Remove a registered listener.
     *
     * Usage with a callback:
     *
     * ```js
     * const listener = (data) => console.log(data);
     * emitter.add(listener);
     *
     * // Remove using the callback reference:
     * emitter.remove(listener);
     * ```
     *
     * Usage with an id:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'my-callback'});
     *
     * // Remove using the id:
     * emitter.remove('my-callback');
     * ```
     *
     * Using identifiers, you will need to ensure your value is unique to avoid
     * removing listeners from other libraries, e.g.,:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'non-unique'});
     * // This second listener could be added by a third-party library.
     * emitter.add((data) => console.log('Hello From Library!'), {id: 'non-unique'});
     *
     * // Ho Snap! This also removed the library listener!
     * emitter.remove('non-unique');
     * ```
     *
     * The identifier can be any type. However, remember that the comparison will be
     * by-value for primitive types (string, number), but by reference for objects.
     *
     * Example:
     *
     * ```js
     * emitter.add(() => console.log('Hello'), {id: {value: 42}});
     * emitter.add(() => console.log('World!'), {id: {value: 42}});
     * emitter.remove({value: 42}); // None of the above listeners match!
     * emitter.notify(); // Prints 'Hello' and 'World!'.
     * ```
     *
     * Here, both emitters have id `{value: 42}`, but the comparison is made by reference. Thus,
     * the `remove()` call has no effect. We can make it work by doing:
     *
     * ```js
     * const id = {value: 42};
     * emitter.add(() => console.log('Hello'), {id});
     * emitter.add(() => console.log('World!'), {id});
     * emitter.remove(id); // Same reference, it works!
     * emitter.notify(); // Doesn't print.
     * ```
     *
     * @param listener The registered callback or a value representing the `id`.
     *
     * @returns Reference to self (for method chaining)
     */
    remove(listener) {
      if (this._notifying) {
        this._transactions.push({ type: TransactionType.Removal, data: listener });
        return this;
      }
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener) {
          listeners.splice(i--, 1);
        }
      }
      return this;
    }
    /**
     * Check whether the listener is registered.
     *
     * @note This method performs a linear search.
     *
     * * @note Doesn't account for pending listeners, i.e.,
     * listeners added / removed during a notification.
     *
     * @param listener The registered callback or a value representing the `id`.
     * @returns `true` if the handle is found, `false` otherwise.
     */
    has(listener) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener)
          return true;
      }
      return false;
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note This method ensures all listeners are called even if
     * an exception is thrown. For (possibly) faster notification,
     * please use {@link Emitter.notifyUnsafe}.
     *
     * @param data The data to pass to listener when invoked.
     */
    notify(...data) {
      const listeners = this._listeners;
      this._notifying = true;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        try {
          listener.callback(...data);
        } catch (e) {
          console.error(e);
        }
      }
      this._notifying = false;
      this._flushTransactions();
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note Because this method doesn't catch exceptions, some listeners
     * will be skipped on a throw. Please use {@link Emitter.notify} for safe
     * notification.
     *
     * @param data The data to pass to listener when invoked.
     */
    notifyUnsafe(...data) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        listener.callback(...data);
      }
      this._flushTransactions();
    }
    /**
     * Return a promise that will resolve on the next event.
     *
     * @note The promise might never resolve if no event is sent.
     *
     * @returns A promise that resolves with the data passed to
     *     {@link Emitter.notify}.
     */
    promise() {
      return new Promise((res, _) => {
        this.once((...args) => {
          if (args.length > 1) {
            res(args);
          } else {
            res(args[0]);
          }
        });
      });
    }
    /**
     * Number of listeners.
     *
     * @note Doesn't account for pending listeners, i.e.,
     * listeners added / removed during a notification.
     */
    get listenerCount() {
      return this._listeners.length;
    }
    /** `true` if it has no listeners, `false` otherwise. */
    get isEmpty() {
      return this.listenerCount === 0;
    }
    /**
     * Flush all pending transactions.
     *
     * @hidden
     */
    _flushTransactions() {
      const listeners = this._listeners;
      for (const transaction of this._transactions) {
        if (transaction.type === TransactionType.Addition) {
          listeners.push(transaction.data);
        } else {
          this.remove(transaction.data);
        }
      }
      this._transactions.length = 0;
    }
  };
  var RetainEmitterUndefined = {};
  var RetainEmitter = class extends Emitter {
    /** Pre-resolved data. @hidden */
    _event = RetainEmitterUndefined;
    /**
     * Emitter target used to reset the state of this emitter.
     *
     * @hidden
     */
    _reset;
    /** @override */
    add(listener, opts) {
      const immediate = opts?.immediate ?? true;
      if (this._event !== RetainEmitterUndefined && immediate) {
        listener(...this._event);
      }
      super.add(listener, opts);
      return this;
    }
    /**
     * @override
     *
     * @param listener The callback to register.
     * @param immediate If `true`, directly resolves if the emitter retains a value.
     *
     * @returns Reference to self (for method chaining).
     */
    once(listener, immediate) {
      return this.add(listener, { once: true, immediate });
    }
    /** @override */
    notify(...data) {
      this._event = data;
      super.notify(...data);
    }
    /** @override */
    notifyUnsafe(...data) {
      this._event = data;
      super.notifyUnsafe(...data);
    }
    /**
     * Reset the state of the emitter.
     *
     * Further call to {@link Emitter.add} will not automatically resolve,
     * until a new call to {@link Emitter.notify} is performed.
     *
     * @returns Reference to self (for method chaining)
     */
    reset() {
      this._event = RetainEmitterUndefined;
      return this;
    }
    /** Returns the retained data, or `undefined` if no data was retained. */
    get data() {
      return this.isDataRetained ? this._event : void 0;
    }
    /** `true` if data is retained from the last event, `false` otherwise. */
    get isDataRetained() {
      return this._event !== RetainEmitterUndefined;
    }
  };

  // node_modules/@wonderlandengine/api/dist/wonderland.js
  var __decorate = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var LogTag;
  (function(LogTag2) {
    LogTag2[LogTag2["Engine"] = 0] = "Engine";
    LogTag2[LogTag2["Scene"] = 1] = "Scene";
    LogTag2[LogTag2["Component"] = 2] = "Component";
  })(LogTag || (LogTag = {}));
  var Collider;
  (function(Collider2) {
    Collider2[Collider2["Sphere"] = 0] = "Sphere";
    Collider2[Collider2["AxisAlignedBox"] = 1] = "AxisAlignedBox";
    Collider2[Collider2["Box"] = 2] = "Box";
  })(Collider || (Collider = {}));
  var Alignment;
  (function(Alignment2) {
    Alignment2[Alignment2["Left"] = 0] = "Left";
    Alignment2[Alignment2["Center"] = 1] = "Center";
    Alignment2[Alignment2["Right"] = 2] = "Right";
  })(Alignment || (Alignment = {}));
  var Justification;
  (function(Justification2) {
    Justification2[Justification2["Line"] = 0] = "Line";
    Justification2[Justification2["Middle"] = 1] = "Middle";
    Justification2[Justification2["Top"] = 2] = "Top";
    Justification2[Justification2["Bottom"] = 3] = "Bottom";
  })(Justification || (Justification = {}));
  var TextEffect;
  (function(TextEffect2) {
    TextEffect2[TextEffect2["None"] = 0] = "None";
    TextEffect2[TextEffect2["Outline"] = 1] = "Outline";
  })(TextEffect || (TextEffect = {}));
  var InputType;
  (function(InputType2) {
    InputType2[InputType2["Head"] = 0] = "Head";
    InputType2[InputType2["EyeLeft"] = 1] = "EyeLeft";
    InputType2[InputType2["EyeRight"] = 2] = "EyeRight";
    InputType2[InputType2["ControllerLeft"] = 3] = "ControllerLeft";
    InputType2[InputType2["ControllerRight"] = 4] = "ControllerRight";
    InputType2[InputType2["RayLeft"] = 5] = "RayLeft";
    InputType2[InputType2["RayRight"] = 6] = "RayRight";
  })(InputType || (InputType = {}));
  var LightType;
  (function(LightType2) {
    LightType2[LightType2["Point"] = 0] = "Point";
    LightType2[LightType2["Spot"] = 1] = "Spot";
    LightType2[LightType2["Sun"] = 2] = "Sun";
  })(LightType || (LightType = {}));
  var AnimationState;
  (function(AnimationState2) {
    AnimationState2[AnimationState2["Playing"] = 0] = "Playing";
    AnimationState2[AnimationState2["Paused"] = 1] = "Paused";
    AnimationState2[AnimationState2["Stopped"] = 2] = "Stopped";
  })(AnimationState || (AnimationState = {}));
  var ForceMode;
  (function(ForceMode2) {
    ForceMode2[ForceMode2["Force"] = 0] = "Force";
    ForceMode2[ForceMode2["Impulse"] = 1] = "Impulse";
    ForceMode2[ForceMode2["VelocityChange"] = 2] = "VelocityChange";
    ForceMode2[ForceMode2["Acceleration"] = 3] = "Acceleration";
  })(ForceMode || (ForceMode = {}));
  var CollisionEventType;
  (function(CollisionEventType2) {
    CollisionEventType2[CollisionEventType2["Touch"] = 0] = "Touch";
    CollisionEventType2[CollisionEventType2["TouchLost"] = 1] = "TouchLost";
    CollisionEventType2[CollisionEventType2["TriggerTouch"] = 2] = "TriggerTouch";
    CollisionEventType2[CollisionEventType2["TriggerTouchLost"] = 3] = "TriggerTouchLost";
  })(CollisionEventType || (CollisionEventType = {}));
  var Shape;
  (function(Shape2) {
    Shape2[Shape2["None"] = 0] = "None";
    Shape2[Shape2["Sphere"] = 1] = "Sphere";
    Shape2[Shape2["Capsule"] = 2] = "Capsule";
    Shape2[Shape2["Box"] = 3] = "Box";
    Shape2[Shape2["Plane"] = 4] = "Plane";
    Shape2[Shape2["ConvexMesh"] = 5] = "ConvexMesh";
    Shape2[Shape2["TriangleMesh"] = 6] = "TriangleMesh";
  })(Shape || (Shape = {}));
  var MeshAttribute;
  (function(MeshAttribute2) {
    MeshAttribute2[MeshAttribute2["Position"] = 0] = "Position";
    MeshAttribute2[MeshAttribute2["Tangent"] = 1] = "Tangent";
    MeshAttribute2[MeshAttribute2["Normal"] = 2] = "Normal";
    MeshAttribute2[MeshAttribute2["TextureCoordinate"] = 3] = "TextureCoordinate";
    MeshAttribute2[MeshAttribute2["Color"] = 4] = "Color";
    MeshAttribute2[MeshAttribute2["JointId"] = 5] = "JointId";
    MeshAttribute2[MeshAttribute2["JointWeight"] = 6] = "JointWeight";
  })(MeshAttribute || (MeshAttribute = {}));
  var MaterialParamType;
  (function(MaterialParamType2) {
    MaterialParamType2[MaterialParamType2["UnsignedInt"] = 0] = "UnsignedInt";
    MaterialParamType2[MaterialParamType2["Int"] = 1] = "Int";
    MaterialParamType2[MaterialParamType2["Float"] = 2] = "Float";
    MaterialParamType2[MaterialParamType2["Sampler"] = 3] = "Sampler";
    MaterialParamType2[MaterialParamType2["Font"] = 4] = "Font";
  })(MaterialParamType || (MaterialParamType = {}));
  function createDestroyedProxy(type) {
    return new Proxy({}, {
      get(_, param) {
        if (param === "isDestroyed")
          return true;
        throw new Error(`Canno't read '${param}' of destroyed ${type}`);
      },
      set(_, param) {
        throw new Error(`Canno't write '${param}' of destroyed ${type}`);
      }
    });
  }
  var DestroyedObjectInstance = createDestroyedProxy("object");
  var DestroyedComponentInstance = createDestroyedProxy("component");
  var DestroyedTextureInstance = createDestroyedProxy("texture");
  function isMeshShape(shape) {
    return shape === Shape.ConvexMesh || shape === Shape.TriangleMesh;
  }
  function isBaseComponentClass(value) {
    return !!value && value.hasOwnProperty("_isBaseComponent") && value._isBaseComponent;
  }
  var UP_VECTOR = [0, 1, 0];
  var SQRT_3 = Math.sqrt(3);
  var Component = class {
    /**
     * Allows to inherit properties directly inside the editor.
     *
     * @note Do not use directly, prefer using {@link inheritProperties}.
     *
     * @hidden
     */
    static _inheritProperties() {
      inheritProperties(this);
    }
    /** Manager index. @hidden */
    _manager;
    /** Instance index. @hidden */
    _id;
    /**
     * Object containing this object.
     *
     * **Note**: This is cached for faster retrieval.
     *
     * @hidden
     */
    _object;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance
     *
     * @param engine The engine instance.
     * @param manager Index of the manager.
     * @param id WASM component instance index.
     *
     * @hidden
     */
    constructor(engine, manager = -1, id = -1) {
      this._engine = engine;
      this._manager = manager;
      this._id = id;
      this._object = null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /** The name of this component's type */
    get type() {
      const ctor = this.constructor;
      return ctor.TypeName ?? this._engine.wasm._typeNameFor(this._manager);
    }
    /** The object this component is attached to. */
    get object() {
      if (!this._object) {
        const objectId = this._engine.wasm._wl_component_get_object(this._manager, this._id);
        this._object = this._engine.wrapObject(objectId);
      }
      return this._object;
    }
    /**
     * Set whether this component is active.
     *
     * Activating/deactivating a component comes at a small cost of reordering
     * components in the respective component manager. This function therefore
     * is not a trivial assignment.
     *
     * Does nothing if the component is already activated/deactivated.
     *
     * @param active New active state.
     */
    set active(active) {
      this._engine.wasm._wl_component_setActive(this._manager, this._id, active);
    }
    /**
     * Whether this component is active
     */
    get active() {
      return this._engine.wasm._wl_component_isActive(this._manager, this._id) != 0;
    }
    /**
     * Copy all the properties from `src` into this instance.
     *
     * @note Only properties are copied. If a component needs to
     * copy extra data, it needs to override this method.
     *
     * #### Example
     *
     * ```js
     * class MyComponent extends Component {
     *     nonPropertyData = 'Hello World';
     *
     *     copy(src) {
     *         super.copy(src);
     *         this.nonPropertyData = src.nonPropertyData;
     *         return this;
     *     }
     * }
     * ```
     *
     * @note This method is called by {@link Object3D.clone}. Do not attempt to:
     *     - Create new component
     *     - Read references to other objects
     *
     * When cloning via {@link Object3D.clone}, this method will be called before
     * {@link Component.start}.
     *
     * @note JavaScript component properties aren't retargeted. Thus, references
     * inside the source object will not be retargeted to the destination object,
     * at the exception of the skin data on {@link MeshComponent} and {@link AnimationComponent}.
     *
     * @param src The source component to copy from.
     *
     * @returns Reference to self (for method chaining).
     */
    copy(src) {
      const ctor = this.constructor;
      for (const name in ctor.Properties) {
        const value = src[name];
        if (value !== void 0) {
          this[name] = value;
        }
      }
      return this;
    }
    /**
     * Remove this component from its objects and destroy it.
     *
     * It is best practice to set the component to `null` after,
     * to ensure it does not get used later.
     *
     * ```js
     *    c.destroy();
     *    c = null;
     * ```
     * @since 0.9.0
     */
    destroy() {
      const manager = this._manager;
      if (manager < 0 || this._id < 0)
        return;
      const jsManager = this.engine.wasm._jsManagerIndex;
      this._engine.wasm._wl_component_remove(manager, this._id);
      if (manager !== jsManager)
        this._triggerOnDestroy();
    }
    /**
     * Checks equality by comparing whether the wrapped native component ids
     * and component manager types are equal.
     *
     * @param otherComponent Component to check equality with.
     * @returns Whether this component equals the given component.
     */
    equals(otherComponent) {
      if (!otherComponent)
        return false;
      return this._manager == otherComponent._manager && this._id == otherComponent._id;
    }
    /**
     * Reset the component properties to default.
     *
     * @note This is automatically called during the component instantiation.
     *
     * @returns Reference to self (for method chaining).
     */
    resetProperties() {
      const ctor = this.constructor;
      const properties = ctor.Properties;
      if (!properties)
        return this;
      for (const name in properties) {
        this[name] = properties[name].default;
      }
      return this;
    }
    /** @deprecated Use {@link Component.resetProperties} instead. */
    reset() {
      return this.resetProperties();
    }
    /**
     * Validate the properties on this instance.
     *
     * @throws If any of the required properties isn't initialized
     * on this instance.
     */
    validateProperties() {
      const ctor = this.constructor;
      if (!ctor.Properties)
        return;
      for (const name in ctor.Properties) {
        if (!ctor.Properties[name].required)
          continue;
        if (!this[name]) {
          throw new Error(`Property '${name}' is required but was not initialized`);
        }
      }
    }
    /**
     * `true` if the component is destroyed, `false` otherwise.
     *
     * If {@link WonderlandEngine.erasePrototypeOnDestroy} is `true`,
     * reading a custom property will not work:
     *
     * ```js
     * engine.erasePrototypeOnDestroy = true;
     *
     * const comp = obj.addComponent('mesh');
     * comp.customParam = 'Hello World!';
     *
     * console.log(comp.isDestroyed); // Prints `false`
     * comp.destroy();
     * console.log(comp.isDestroyed); // Prints `true`
     * console.log(comp.customParam); // Throws an error
     * ```
     *
     * @since 1.1.1
     */
    get isDestroyed() {
      return this._id < 0;
    }
    /**
     * Trigger the component {@link Component.init} method.
     *
     * @note Use this method instead of directly calling {@link Component.init},
     * because this method creates an handler for the {@link Component.start}.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerInit() {
      if (this.init) {
        try {
          this.init();
        } catch (e) {
          this.engine.log.error(LogTag.Component, `Exception during ${this.type} init() on object ${this.object.name}`);
          this.engine.log.error(LogTag.Component, e);
        }
      }
      const oldActivate = this.onActivate;
      this.onActivate = function() {
        this.onActivate = oldActivate;
        let failed = false;
        try {
          this.validateProperties();
        } catch (e) {
          this.engine.log.error(LogTag.Component, `Exception during ${this.type} validateProperties() on object ${this.object.name}`);
          this.engine.log.error(LogTag.Component, e);
          failed = true;
        }
        try {
          this.start?.();
        } catch (e) {
          this.engine.log.error(LogTag.Component, `Exception during ${this.type} start() on object ${this.object.name}`);
          this.engine.log.error(LogTag.Component, e);
          failed = true;
        }
        if (failed) {
          this.active = false;
          return;
        }
        if (!this.onActivate)
          return;
        try {
          this.onActivate();
        } catch (e) {
          this.engine.log.error(LogTag.Component, `Exception during ${this.type} onActivate() on object ${this.object.name}`);
          this.engine.log.error(LogTag.Component, e);
        }
      };
    }
    /**
     * Trigger the component {@link Component.update} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerUpdate(dt) {
      if (!this.update)
        return;
      try {
        this.update(dt);
      } catch (e) {
        this.engine.log.error(LogTag.Component, `Exception during ${this.type} update() on object ${this.object.name}`);
        this.engine.log.error(LogTag.Component, e);
        if (this._engine.wasm._deactivate_component_on_error) {
          this.active = false;
        }
      }
    }
    /**
     * Trigger the component {@link Component.onActivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnActivate() {
      if (!this.onActivate)
        return;
      try {
        this.onActivate();
      } catch (e) {
        this.engine.log.error(LogTag.Component, `Exception during ${this.type} onActivate() on object ${this.object.name}`);
        this.engine.log.error(LogTag.Component, e);
      }
    }
    /**
     * Trigger the component {@link Component.onDeactivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDeactivate() {
      if (!this.onDeactivate)
        return;
      try {
        this.onDeactivate();
      } catch (e) {
        this.engine.log.error(LogTag.Component, `Exception during ${this.type} onDeactivate() on object ${this.object.name}`);
        this.engine.log.error(LogTag.Component, e);
      }
    }
    /**
     * Trigger the component {@link Component.onDestroy} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDestroy() {
      try {
        if (this.onDestroy)
          this.onDestroy();
      } catch (e) {
        this.engine.log.error(LogTag.Component, `Exception during ${this.type} onDestroy() on object ${this.object.name}`);
        this.engine.log.error(LogTag.Component, e);
      }
      this._engine._destroyComponent(this);
    }
  };
  /**
   * `true` for every class inheriting from this class.
   *
   * @note This is a workaround for `instanceof` to prevent issues
   * that could arise when an application ends up using multiple API versions.
   *
   * @hidden
   */
  __publicField(Component, "_isBaseComponent", true);
  /**
   * Unique identifier for this component class.
   *
   * This is used to register, add, and retrieve components of a given type.
   */
  __publicField(Component, "TypeName");
  /**
   * Properties of this component class.
   *
   * Properties are public attributes that can be configured via the
   * Wonderland Editor.
   *
   * Example:
   *
   * ```js
   * import { Component, Type } from '@wonderlandengine/api';
   * class MyComponent extends Component {
   *     static TypeName = 'my-component';
   *     static Properties = {
   *         myBoolean: { type: Type.Boolean, default: false },
   *         myFloat: { type: Type.Float, default: false },
   *         myTexture: { type: Type.Texture, default: null },
   *     };
   * }
   * ```
   *
   * Properties are automatically added to each component instance, and are
   * accessible like any JS attribute:
   *
   * ```js
   * // Creates a new component and set each properties value:
   * const myComponent = object.addComponent(MyComponent, {
   *     myBoolean: true,
   *     myFloat: 42.0,
   *     myTexture: null
   * });
   *
   * // You can also override the properties on the instance:
   * myComponent.myBoolean = false;
   * myComponent.myFloat = -42.0;
   * ```
   *
   * #### References
   *
   * Reference types (i.e., mesh, object, etc...) can also be listed as **required**:
   *
   * ```js
   * import {Component, Property} from '@wonderlandengine/api';
   *
   * class MyComponent extends Component {
   *     static Properties = {
   *         myObject: Property.object({required: true}),
   *         myAnimation: Property.animation({required: true}),
   *         myTexture: Property.texture({required: true}),
   *         myMesh: Property.mesh({required: true}),
   *     }
   * }
   * ```
   *
   * Please note that references are validated **once** before the call to {@link Component.start} only,
   * via the {@link Component.validateProperties} method.
   */
  __publicField(Component, "Properties");
  /**
   * When set to `true`, the child class inherits from the parent
   * properties, as shown in the following example:
   *
   * ```js
   * import {Component, Property} from '@wonderlandengine/api';
   *
   * class Parent extends Component {
   *     static TypeName = 'parent';
   *     static Properties = {parentName: Property.string('parent')}
   * }
   *
   * class Child extends Parent {
   *     static TypeName = 'child';
   *     static Properties = {name: Property.string('child')}
   *     static InheritProperties = true;
   *
   *     start() {
   *         // Works because `InheritProperties` is `true`.
   *         console.log(`${this.name} inherits from ${this.parentName}`);
   *     }
   * }
   * ```
   *
   * @note Properties defined in descendant classes will override properties
   * with the same name defined in ancestor classes.
   *
   * Defaults to `true`.
   */
  __publicField(Component, "InheritProperties");
  /**
   * Called when this component class is registered.
   *
   * @example
   *
   * This callback can be used to register dependencies of a component,
   * e.g., component classes that need to be registered in order to add
   * them at runtime with {@link Object3D.addComponent}, independent of whether
   * they are used in the editor.
   *
   * ```js
   * class Spawner extends Component {
   *     static TypeName = 'spawner';
   *
   *     static onRegister(engine) {
   *         engine.registerComponent(SpawnedComponent);
   *     }
   *
   *     // You can now use addComponent with SpawnedComponent
   * }
   * ```
   *
   * @example
   *
   * This callback can be used to register different implementations of a
   * component depending on client features or API versions.
   *
   * ```js
   * // Properties need to be the same for all implementations!
   * const SharedProperties = {};
   *
   * class Anchor extends Component {
   *     static TypeName = 'spawner';
   *     static Properties = SharedProperties;
   *
   *     static onRegister(engine) {
   *         if(navigator.xr === undefined) {
   *             /* WebXR unsupported, keep this dummy component *\/
   *             return;
   *         }
   *         /* WebXR supported! Override already registered dummy implementation
   *          * with one depending on hit-test API support *\/
   *         engine.registerComponent(window.HitTestSource === undefined ?
   *             AnchorWithoutHitTest : AnchorWithHitTest);
   *     }
   *
   *     // This one implements no functions
   * }
   * ```
   */
  __publicField(Component, "onRegister");
  var BrokenComponent = class extends Component {
  };
  __publicField(BrokenComponent, "TypeName", "__broken-component__");
  function inheritProperties(target) {
    if (!target.TypeName)
      return;
    const chain = [];
    let curr = target;
    while (curr && !isBaseComponentClass(curr)) {
      const comp = curr;
      const needsMerge = comp.hasOwnProperty("InheritProperties") ? comp.InheritProperties : true;
      if (!needsMerge)
        break;
      if (comp.TypeName && comp.hasOwnProperty("Properties")) {
        chain.push(comp.Properties);
      }
      curr = Object.getPrototypeOf(curr);
    }
    if (chain.length <= 1)
      return;
    const merged = {};
    for (let i = chain.length - 1; i >= 0; --i) {
      Object.assign(merged, chain[i]);
    }
    target.Properties = merged;
  }
  var _CollisionComponent = class extends Component {
    /** Collision component collider */
    get collider() {
      return this._engine.wasm._wl_collision_component_get_collider(this._id);
    }
    /**
     * Set collision component collider.
     *
     * @param collider Collider of the collision component.
     */
    set collider(collider) {
      this._engine.wasm._wl_collision_component_set_collider(this._id, collider);
    }
    /**
     * Collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the returned vector is used.
     */
    get extents() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);
    }
    /**
     * Set collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the passed vector is used.
     *
     * Example:
     *
     * ```js
     * // Spans 1 unit on the x-axis, 2 on the y-axis, 3 on the z-axis.
     * collision.extent = [1, 2, 3];
     * ```
     *
     * @param extents Extents of the collision component, expects a
     *      3 component array.
     */
    set extents(extents) {
      this.extents.set(extents);
    }
    /**
     * Get collision component radius.
     *
     * @note If {@link collider} is not {@link Collider.Sphere}, the returned value
     * corresponds to the radius of a sphere enclosing the shape.
     *
     * Example:
     *
     * ```js
     * sphere.radius = 3.0;
     * console.log(sphere.radius); // 3.0
     *
     * box.extents = [2.0, 2.0, 2.0];
     * console.log(box.radius); // 1.732...
     * ```
     *
     */
    get radius() {
      const wasm = this._engine.wasm;
      if (this.collider === Collider.Sphere)
        return wasm.HEAPF32[wasm._wl_collision_component_get_extents(this._id) >> 2];
      const extents = new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);
      const x2 = extents[0] * extents[0];
      const y2 = extents[1] * extents[1];
      const z2 = extents[2] * extents[2];
      return Math.sqrt(x2 + y2 + z2) / 2;
    }
    /**
     * Set collision component radius.
     *
     * @param radius Radius of the collision component
     *
     * @note If {@link collider} is not {@link Collider.Sphere},
     * the extents are set to form a square that fits a sphere with the provided radius.
     *
     * Example:
     *
     * ```js
     * aabbCollision.radius = 2.0; // AABB fits a sphere of radius 2.0
     * boxCollision.radius = 3.0; // Box now fits a sphere of radius 3.0, keeping orientation
     * ```
     *
     */
    set radius(radius) {
      const length5 = this.collider === Collider.Sphere ? radius : 2 * radius / SQRT_3;
      this.extents.set([length5, length5, length5]);
    }
    /**
     * Collision component group.
     *
     * The groups is a bitmask that is compared to other components in {@link CollisionComponent#queryOverlaps}
     * or the group in {@link Scene#rayCast}.
     *
     * Colliders that have no common groups will not overlap with each other. If a collider
     * has none of the groups set for {@link Scene#rayCast}, the ray will not hit it.
     *
     * Each bit represents belonging to a group, see example.
     *
     * ```js
     *    // c belongs to group 2
     *    c.group = (1 << 2);
     *
     *    // c belongs to group 0
     *    c.group = (1 << 0);
     *
     *    // c belongs to group 0 *and* 2
     *    c.group = (1 << 0) | (1 << 2);
     *
     *    (c.group & (1 << 2)) != 0; // true
     *    (c.group & (1 << 7)) != 0; // false
     * ```
     */
    get group() {
      return this._engine.wasm._wl_collision_component_get_group(this._id);
    }
    /**
     * Set collision component group.
     *
     * @param group Group mask of the collision component.
     */
    set group(group) {
      this._engine.wasm._wl_collision_component_set_group(this._id, group);
    }
    /**
     * Query overlapping objects.
     *
     * Usage:
     *
     * ```js
     * const collision = object.getComponent('collision');
     * const overlaps = collision.queryOverlaps();
     * for(const otherCollision of overlaps) {
     *     const otherObject = otherCollision.object;
     *     console.log(`Collision with object ${otherObject.objectId}`);
     * }
     * ```
     *
     * @returns Collision components overlapping this collider.
     */
    queryOverlaps() {
      const count = this._engine.wasm._wl_collision_component_query_overlaps(this._id, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);
      const overlaps = new Array(count);
      for (let i = 0; i < count; ++i) {
        overlaps[i] = new _CollisionComponent(this._engine, this._manager, this._engine.wasm._tempMemUint16[i]);
      }
      return overlaps;
    }
  };
  var CollisionComponent = _CollisionComponent;
  /** @override */
  __publicField(CollisionComponent, "TypeName", "collision");
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "collider", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "group", null);
  var TextComponent = class extends Component {
    /** Text component alignment. */
    get alignment() {
      return this._engine.wasm._wl_text_component_get_horizontal_alignment(this._id);
    }
    /**
     * Set text component alignment.
     *
     * @param alignment Alignment for the text component.
     */
    set alignment(alignment) {
      this._engine.wasm._wl_text_component_set_horizontal_alignment(this._id, alignment);
    }
    /** Text component justification. */
    get justification() {
      return this._engine.wasm._wl_text_component_get_vertical_alignment(this._id);
    }
    /**
     * Set text component justification.
     *
     * @param justification Justification for the text component.
     */
    set justification(justification) {
      this._engine.wasm._wl_text_component_set_vertical_alignment(this._id, justification);
    }
    /** Text component character spacing. */
    get characterSpacing() {
      return this._engine.wasm._wl_text_component_get_character_spacing(this._id);
    }
    /**
     * Set text component character spacing.
     *
     * @param spacing Character spacing for the text component.
     */
    set characterSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_character_spacing(this._id, spacing);
    }
    /** Text component line spacing. */
    get lineSpacing() {
      return this._engine.wasm._wl_text_component_get_line_spacing(this._id);
    }
    /**
     * Set text component line spacing
     *
     * @param spacing Line spacing for the text component
     */
    set lineSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_line_spacing(this._id, spacing);
    }
    /** Text component effect. */
    get effect() {
      return this._engine.wasm._wl_text_component_get_effect(this._id);
    }
    /**
     * Set text component effect
     *
     * @param effect Effect for the text component
     */
    set effect(effect) {
      this._engine.wasm._wl_text_component_set_effect(this._id, effect);
    }
    /** Text component text. */
    get text() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_text_component_get_text(this._id);
      return wasm.UTF8ToString(ptr);
    }
    /**
     * Set text component text.
     *
     * @param text Text of the text component.
     */
    set text(text) {
      const wasm = this._engine.wasm;
      wasm._wl_text_component_set_text(this._id, wasm.tempUTF8(text.toString()));
    }
    /**
     * Set material to render the text with.
     *
     * @param material New material.
     */
    set material(material) {
      const matIndex = material ? material._index : 0;
      this._engine.wasm._wl_text_component_set_material(this._id, matIndex);
    }
    /** Material used to render the text. */
    get material() {
      const id = this._engine.wasm._wl_text_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
  };
  /** @override */
  __publicField(TextComponent, "TypeName", "text");
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "alignment", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "justification", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "characterSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "lineSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "effect", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "text", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "material", null);
  var ViewComponent = class extends Component {
    /** Projection matrix. */
    get projectionMatrix() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_view_component_get_projection_matrix(this._id), 16);
    }
    /** ViewComponent near clipping plane value. */
    get near() {
      return this._engine.wasm._wl_view_component_get_near(this._id);
    }
    /**
     * Set near clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param near Near depth value.
     */
    set near(near) {
      this._engine.wasm._wl_view_component_set_near(this._id, near);
    }
    /** Far clipping plane value. */
    get far() {
      return this._engine.wasm._wl_view_component_get_far(this._id);
    }
    /**
     * Set far clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param far Near depth value.
     */
    set far(far) {
      this._engine.wasm._wl_view_component_set_far(this._id, far);
    }
    /**
     * Get the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, this returns the field of view reported by
     * the device, regardless of the fov that was set.
     */
    get fov() {
      return this._engine.wasm._wl_view_component_get_fov(this._id);
    }
    /**
     * Set the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, the field of view reported by the device is
     * used and this value is ignored. After the XR session ends, the new value
     * is applied.
     *
     * @param fov Horizontal field of view, **in degrees**.
     */
    set fov(fov) {
      this._engine.wasm._wl_view_component_set_fov(this._id, fov);
    }
  };
  /** @override */
  __publicField(ViewComponent, "TypeName", "view");
  __decorate([
    enumerable()
  ], ViewComponent.prototype, "projectionMatrix", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "near", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "far", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "fov", null);
  var InputComponent = class extends Component {
    /** Input component type */
    get inputType() {
      return this._engine.wasm._wl_input_component_get_type(this._id);
    }
    /**
     * Set input component type.
     *
     * @params New input component type.
     */
    set inputType(type) {
      this._engine.wasm._wl_input_component_set_type(this._id, type);
    }
    /**
     * WebXR Device API input source associated with this input component,
     * if type {@link InputType.ControllerLeft} or {@link InputType.ControllerRight}.
     */
    get xrInputSource() {
      const xr = this._engine.xr;
      if (!xr)
        return null;
      for (let inputSource of xr.session.inputSources) {
        if (inputSource.handedness == this.handedness) {
          return inputSource;
        }
      }
      return null;
    }
    /**
     * 'left', 'right' or `null` depending on the {@link InputComponent#inputType}.
     */
    get handedness() {
      const inputType = this.inputType;
      if (inputType == InputType.ControllerRight || inputType == InputType.RayRight || inputType == InputType.EyeRight)
        return "right";
      if (inputType == InputType.ControllerLeft || inputType == InputType.RayLeft || inputType == InputType.EyeLeft)
        return "left";
      return null;
    }
  };
  /** @override */
  __publicField(InputComponent, "TypeName", "input");
  __decorate([
    nativeProperty()
  ], InputComponent.prototype, "inputType", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "xrInputSource", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "handedness", null);
  var LightComponent = class extends Component {
    getColor(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set light color.
     *
     * @param c New color array/vector, expected to have at least 3 elements.
     * @since 1.0.0
     */
    setColor(c) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      wasm.HEAPF32[ptr] = c[0];
      wasm.HEAPF32[ptr + 1] = c[1];
      wasm.HEAPF32[ptr + 2] = c[2];
    }
    /**
     * View on the light color.
     *
     * @note Prefer to use {@link getColor} in performance-critical code.
     */
    get color() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_light_component_get_color(this._id), 3);
    }
    /**
     * Set light color.
     *
     * @param c Color of the light component.
     *
     * @note Prefer to use {@link setColor} in performance-critical code.
     */
    set color(c) {
      this.color.set(c);
    }
    /** Light type. */
    get lightType() {
      return this._engine.wasm._wl_light_component_get_type(this._id);
    }
    /**
     * Set light type.
     *
     * @param lightType Type of the light component.
     */
    set lightType(t) {
      this._engine.wasm._wl_light_component_set_type(this._id, t);
    }
    /**
     * Light intensity.
     * @since 1.0.0
     */
    get intensity() {
      return this._engine.wasm._wl_light_component_get_intensity(this._id);
    }
    /**
     * Set light intensity.
     *
     * @param intensity Intensity of the light component.
     * @since 1.0.0
     */
    set intensity(intensity) {
      this._engine.wasm._wl_light_component_set_intensity(this._id, intensity);
    }
    /**
     * Outer angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get outerAngle() {
      return this._engine.wasm._wl_light_component_get_outerAngle(this._id);
    }
    /**
     * Set outer angle for spot lights.
     *
     * @param angle Outer angle, in degrees.
     * @since 1.0.0
     */
    set outerAngle(angle2) {
      this._engine.wasm._wl_light_component_set_outerAngle(this._id, angle2);
    }
    /**
     * Inner angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get innerAngle() {
      return this._engine.wasm._wl_light_component_get_innerAngle(this._id);
    }
    /**
     * Set inner angle for spot lights.
     *
     * @param angle Inner angle, in degrees.
     * @since 1.0.0
     */
    set innerAngle(angle2) {
      this._engine.wasm._wl_light_component_set_innerAngle(this._id, angle2);
    }
    /**
     * Whether the light casts shadows.
     * @since 1.0.0
     */
    get shadows() {
      return !!this._engine.wasm._wl_light_component_get_shadows(this._id);
    }
    /**
     * Set whether the light casts shadows.
     *
     * @param b Whether the light casts shadows.
     * @since 1.0.0
     */
    set shadows(b) {
      this._engine.wasm._wl_light_component_set_shadows(this._id, b);
    }
    /**
     * Range for shadows.
     * @since 1.0.0
     */
    get shadowRange() {
      return this._engine.wasm._wl_light_component_get_shadowRange(this._id);
    }
    /**
     * Set range for shadows.
     *
     * @param range Range for shadows.
     * @since 1.0.0
     */
    set shadowRange(range) {
      this._engine.wasm._wl_light_component_set_shadowRange(this._id, range);
    }
    /**
     * Bias value for shadows.
     * @since 1.0.0
     */
    get shadowBias() {
      return this._engine.wasm._wl_light_component_get_shadowBias(this._id);
    }
    /**
     * Set bias value for shadows.
     *
     * @param bias Bias for shadows.
     * @since 1.0.0
     */
    set shadowBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowBias(this._id, bias);
    }
    /**
     * Normal bias value for shadows.
     * @since 1.0.0
     */
    get shadowNormalBias() {
      return this._engine.wasm._wl_light_component_get_shadowNormalBias(this._id);
    }
    /**
     * Set normal bias value for shadows.
     *
     * @param bias Normal bias for shadows.
     * @since 1.0.0
     */
    set shadowNormalBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowNormalBias(this._id, bias);
    }
    /**
     * Texel size for shadows.
     * @since 1.0.0
     */
    get shadowTexelSize() {
      return this._engine.wasm._wl_light_component_get_shadowTexelSize(this._id);
    }
    /**
     * Set texel size for shadows.
     *
     * @param size Texel size for shadows.
     * @since 1.0.0
     */
    set shadowTexelSize(size) {
      this._engine.wasm._wl_light_component_set_shadowTexelSize(this._id, size);
    }
    /**
     * Cascade count for {@link LightType.Sun} shadows.
     * @since 1.0.0
     */
    get cascadeCount() {
      return this._engine.wasm._wl_light_component_get_cascadeCount(this._id);
    }
    /**
     * Set cascade count for {@link LightType.Sun} shadows.
     *
     * @param count Cascade count.
     * @since 1.0.0
     */
    set cascadeCount(count) {
      this._engine.wasm._wl_light_component_set_cascadeCount(this._id, count);
    }
  };
  /** @override */
  __publicField(LightComponent, "TypeName", "light");
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "color", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "lightType", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "intensity", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "outerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "innerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadows", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowRange", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowNormalBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowTexelSize", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "cascadeCount", null);
  var AnimationComponent = class extends Component {
    /**
     * Set animation to play.
     *
     * Make sure to {@link Animation#retarget} the animation to affect the
     * right objects.
     *
     * @param anim Animation to play.
     */
    set animation(anim) {
      this._engine.wasm._wl_animation_component_set_animation(this._id, anim ? anim._index : 0);
    }
    /** Animation set for this component */
    get animation() {
      const id = this._engine.wasm._wl_animation_component_get_animation(this._id);
      return id > 0 ? new Animation(this._engine, id) : null;
    }
    /**
     * Set play count. Set to `0` to loop indefinitely.
     *
     * @param playCount Number of times to repeat the animation.
     */
    set playCount(playCount) {
      this._engine.wasm._wl_animation_component_set_playCount(this._id, playCount);
    }
    /** Number of times the animation is played. */
    get playCount() {
      return this._engine.wasm._wl_animation_component_get_playCount(this._id);
    }
    /**
     * Set speed. Set to negative values to run the animation backwards.
     *
     * Setting speed has an immediate effect for the current frame's update
     * and will continue with the speed from the current point in the animation.
     *
     * @param speed New speed at which to play the animation.
     * @since 0.8.10
     */
    set speed(speed) {
      this._engine.wasm._wl_animation_component_set_speed(this._id, speed);
    }
    /**
     * Speed factor at which the animation is played.
     *
     * @since 0.8.10
     */
    get speed() {
      return this._engine.wasm._wl_animation_component_get_speed(this._id);
    }
    /** Current playing state of the animation */
    get state() {
      return this._engine.wasm._wl_animation_component_state(this._id);
    }
    /**
     * Play animation.
     *
     * If the animation is currently paused, resumes from that position. If the
     * animation is already playing, does nothing.
     *
     * To restart the animation, {@link AnimationComponent#stop} it first.
     */
    play() {
      this._engine.wasm._wl_animation_component_play(this._id);
    }
    /** Stop animation. */
    stop() {
      this._engine.wasm._wl_animation_component_stop(this._id);
    }
    /** Pause animation. */
    pause() {
      this._engine.wasm._wl_animation_component_pause(this._id);
    }
  };
  /** @override */
  __publicField(AnimationComponent, "TypeName", "animation");
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "animation", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "playCount", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "speed", null);
  __decorate([
    enumerable()
  ], AnimationComponent.prototype, "state", null);
  var MeshComponent = class extends Component {
    /**
     * Set material to render the mesh with.
     *
     * @param material Material to render the mesh with.
     */
    set material(material) {
      this._engine.wasm._wl_mesh_component_set_material(this._id, material ? material._index : 0);
    }
    /** Material used to render the mesh. */
    get material() {
      const id = this._engine.wasm._wl_mesh_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /** Mesh rendered by this component. */
    get mesh() {
      const id = this._engine.wasm._wl_mesh_component_get_mesh(this._id);
      return id > 0 ? new Mesh(this._engine, id) : null;
    }
    /**
     * Set mesh to rendered with this component.
     *
     * @param mesh Mesh rendered by this component.
     */
    set mesh(mesh) {
      this._engine.wasm._wl_mesh_component_set_mesh(this._id, mesh ? mesh._index : 0);
    }
    /** Skin for this mesh component. */
    get skin() {
      const id = this._engine.wasm._wl_mesh_component_get_skin(this._id);
      return id > 0 ? new Skin(this._engine, id) : null;
    }
    /**
     * Set skin to transform this mesh component.
     *
     * @param skin Skin to use for rendering skinned meshes.
     */
    set skin(skin) {
      this._engine.wasm._wl_mesh_component_set_skin(this._id, skin ? skin._index : 0);
    }
  };
  /** @override */
  __publicField(MeshComponent, "TypeName", "mesh");
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "material", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "mesh", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "skin", null);
  var LockAxis;
  (function(LockAxis2) {
    LockAxis2[LockAxis2["None"] = 0] = "None";
    LockAxis2[LockAxis2["X"] = 1] = "X";
    LockAxis2[LockAxis2["Y"] = 2] = "Y";
    LockAxis2[LockAxis2["Z"] = 4] = "Z";
  })(LockAxis || (LockAxis = {}));
  var PhysXComponent = class extends Component {
    getTranslationOffset(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_offsetTranslation(this._id, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    getRotationOffset(out = new Float32Array(4)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_physx_component_get_offsetTransform(this._id) >> 2;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      return out;
    }
    /**
     * Set whether this rigid body is static.
     *
     * Setting this property only takes effect once the component
     * switches from inactive to active.
     *
     * @param b Whether the rigid body should be static.
     */
    set static(b) {
      this._engine.wasm._wl_physx_component_set_static(this._id, b);
    }
    /**
     * Whether this rigid body is static.
     *
     * This property returns whether the rigid body is *effectively*
     * static. If static property was set while the rigid body was
     * active, it will not take effect until the rigid body is set
     * inactive and active again. Until the component is set inactive,
     * this getter will return whether the rigid body is actually
     * static.
     */
    get static() {
      return !!this._engine.wasm._wl_physx_component_get_static(this._id);
    }
    /**
     * Equivalent to {@link PhysXComponent.getTranslationOffset}.
     *
     * Gives a quick view of the offset in a debugger.
     *
     * @note Prefer to use {@link PhysXComponent.getTranslationOffset} for performance.
     *
     * @since 1.1.1
     */
    get translationOffset() {
      return this.getTranslationOffset();
    }
    /**
     * Set the offset translation.
     *
     * The array must be a vector of at least **3** elements.
     *
     * @note The component must be re-activated to apply the change.
     *
     * @since 1.1.1
     */
    set translationOffset(offset2) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_set_offsetTranslation(this._id, offset2[0], offset2[1], offset2[2]);
    }
    /**
     * Equivalent to {@link PhysXComponent.getRotationOffset}.
     *
     * Gives a quick view of the offset in a debugger.
     *
     * @note Prefer to use {@link PhysXComponent.getRotationOffset} for performance.
     *
     * @since 1.1.1
     */
    get rotationOffset() {
      return this.getRotationOffset();
    }
    /**
     * Set the offset rotation.
     *
     * The array must be a quaternion of at least **4** elements.
     *
     * @note The component must be re-activated to apply the change.
     *
     * @since 1.1.1
     */
    set rotationOffset(offset2) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_set_offsetRotation(this._id, offset2[0], offset2[1], offset2[2], offset2[3]);
    }
    /**
     * Set whether this rigid body is kinematic.
     *
     * @param b Whether the rigid body should be kinematic.
     */
    set kinematic(b) {
      this._engine.wasm._wl_physx_component_set_kinematic(this._id, b);
    }
    /**
     * Whether this rigid body is kinematic.
     */
    get kinematic() {
      return !!this._engine.wasm._wl_physx_component_get_kinematic(this._id);
    }
    /**
     * Set whether this rigid body's gravity is enabled.
     *
     * @param b Whether the rigid body's gravity should be enabled.
     */
    set gravity(b) {
      this._engine.wasm._wl_physx_component_set_gravity(this._id, b);
    }
    /**
     * Whether this rigid body's gravity flag is enabled.
     */
    get gravity() {
      return !!this._engine.wasm._wl_physx_component_get_gravity(this._id);
    }
    /**
     * Set whether this rigid body's simulate flag is enabled.
     *
     * @param b Whether the rigid body's simulate flag should be enabled.
     */
    set simulate(b) {
      this._engine.wasm._wl_physx_component_set_simulate(this._id, b);
    }
    /**
     * Whether this rigid body's simulate flag is enabled.
     */
    get simulate() {
      return !!this._engine.wasm._wl_physx_component_get_simulate(this._id);
    }
    /**
     * Set whether to allow simulation of this rigid body.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling {@link allowSimulation} while {@link trigger} is enabled
     * will disable {@link trigger}.
     *
     * @param b Whether to allow simulation of this rigid body.
     */
    set allowSimulation(b) {
      this._engine.wasm._wl_physx_component_set_allowSimulation(this._id, b);
    }
    /**
     * Whether to allow simulation of this rigid body.
     */
    get allowSimulation() {
      return !!this._engine.wasm._wl_physx_component_get_allowSimulation(this._id);
    }
    /**
     * Set whether this rigid body may be queried in ray casts.
     *
     * @param b Whether this rigid body may be queried in ray casts.
     */
    set allowQuery(b) {
      this._engine.wasm._wl_physx_component_set_allowQuery(this._id, b);
    }
    /**
     * Whether this rigid body may be queried in ray casts.
     */
    get allowQuery() {
      return !!this._engine.wasm._wl_physx_component_get_allowQuery(this._id);
    }
    /**
     * Set whether this physics body is a trigger.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling trigger while {@link allowSimulation} is enabled,
     * will disable {@link allowSimulation}.
     *
     * @param b Whether this physics body is a trigger.
     */
    set trigger(b) {
      this._engine.wasm._wl_physx_component_set_trigger(this._id, b);
    }
    /**
     * Whether this physics body is a trigger.
     */
    get trigger() {
      return !!this._engine.wasm._wl_physx_component_get_trigger(this._id);
    }
    /**
     * Set the shape for collision detection.
     *
     * @param s New shape.
     * @since 0.8.5
     */
    set shape(s) {
      this._engine.wasm._wl_physx_component_set_shape(this._id, s);
    }
    /** The shape for collision detection. */
    get shape() {
      return this._engine.wasm._wl_physx_component_get_shape(this._id);
    }
    /**
     * Set additional data for the shape.
     *
     * Retrieved only from {@link PhysXComponent#shapeData}.
     * @since 0.8.10
     */
    set shapeData(d) {
      if (d == null || !isMeshShape(this.shape))
        return;
      this._engine.wasm._wl_physx_component_set_shape_data(this._id, d.index);
    }
    /**
     * Additional data for the shape.
     *
     * `null` for {@link Shape} values: `None`, `Sphere`, `Capsule`, `Box`, `Plane`.
     * `{index: n}` for `TriangleMesh` and `ConvexHull`.
     *
     * This data is currently only for passing onto or creating other {@link PhysXComponent}.
     * @since 0.8.10
     */
    get shapeData() {
      if (!isMeshShape(this.shape))
        return null;
      return {
        index: this._engine.wasm._wl_physx_component_get_shape_data(this._id)
      };
    }
    /**
     * Set the shape extents for collision detection.
     *
     * @param e New extents for the shape.
     * @since 0.8.5
     */
    set extents(e) {
      this.extents.set(e);
    }
    /**
     * The shape extents for collision detection.
     */
    get extents() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_physx_component_get_extents(this._id);
      return new Float32Array(wasm.HEAPF32.buffer, ptr, 3);
    }
    /**
     * Get staticFriction.
     */
    get staticFriction() {
      return this._engine.wasm._wl_physx_component_get_staticFriction(this._id);
    }
    /**
     * Set staticFriction.
     * @param v New staticFriction.
     */
    set staticFriction(v) {
      this._engine.wasm._wl_physx_component_set_staticFriction(this._id, v);
    }
    /**
     * Get dynamicFriction.
     */
    get dynamicFriction() {
      return this._engine.wasm._wl_physx_component_get_dynamicFriction(this._id);
    }
    /**
     * Set dynamicFriction
     * @param v New dynamicDamping.
     */
    set dynamicFriction(v) {
      this._engine.wasm._wl_physx_component_set_dynamicFriction(this._id, v);
    }
    /**
     * Get bounciness.
     * @since 0.9.0
     */
    get bounciness() {
      return this._engine.wasm._wl_physx_component_get_bounciness(this._id);
    }
    /**
     * Set bounciness.
     * @param v New bounciness.
     * @since 0.9.0
     */
    set bounciness(v) {
      this._engine.wasm._wl_physx_component_set_bounciness(this._id, v);
    }
    /**
     * Get linearDamping/
     */
    get linearDamping() {
      return this._engine.wasm._wl_physx_component_get_linearDamping(this._id);
    }
    /**
     * Set linearDamping.
     * @param v New linearDamping.
     */
    set linearDamping(v) {
      this._engine.wasm._wl_physx_component_set_linearDamping(this._id, v);
    }
    /** Get angularDamping. */
    get angularDamping() {
      return this._engine.wasm._wl_physx_component_get_angularDamping(this._id);
    }
    /**
     * Set angularDamping.
     * @param v New angularDamping.
     */
    set angularDamping(v) {
      this._engine.wasm._wl_physx_component_set_angularDamping(this._id, v);
    }
    /**
     * Set linear velocity.
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New linear velocity.
     */
    set linearVelocity(v) {
      this._engine.wasm._wl_physx_component_set_linearVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Linear velocity or `[0, 0, 0]` if the component is not active. */
    get linearVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_linearVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set angular velocity
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New angular velocity
     */
    set angularVelocity(v) {
      this._engine.wasm._wl_physx_component_set_angularVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Angular velocity or `[0, 0, 0]` if the component is not active. */
    get angularVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_angularVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set the components groups mask.
     *
     * @param flags New flags that need to be set.
     */
    set groupsMask(flags) {
      this._engine.wasm._wl_physx_component_set_groupsMask(this._id, flags);
    }
    /**
     * Get the components groups mask flags.
     *
     * Each bit represents membership to group, see example.
     *
     * ```js
     * // Assign c to group 2
     * c.groupsMask = (1 << 2);
     *
     * // Assign c to group 0
     * c.groupsMask  = (1 << 0);
     *
     * // Assign c to group 0 and 2
     * c.groupsMask = (1 << 0) | (1 << 2);
     *
     * (c.groupsMask & (1 << 2)) != 0; // true
     * (c.groupsMask & (1 << 7)) != 0; // false
     * ```
     */
    get groupsMask() {
      return this._engine.wasm._wl_physx_component_get_groupsMask(this._id);
    }
    /**
     * Set the components blocks mask.
     *
     * @param flags New flags that need to be set.
     */
    set blocksMask(flags) {
      this._engine.wasm._wl_physx_component_set_blocksMask(this._id, flags);
    }
    /**
     * Get the components blocks mask flags.
     *
     * Each bit represents membership to the block, see example.
     *
     * ```js
     * // Block overlap with any objects in group 2
     * c.blocksMask = (1 << 2);
     *
     * // Block overlap with any objects in group 0
     * c.blocksMask  = (1 << 0)
     *
     * // Block overlap with any objects in group 0 and 2
     * c.blocksMask = (1 << 0) | (1 << 2);
     *
     * (c.blocksMask & (1 << 2)) != 0; // true
     * (c.blocksMask & (1 << 7)) != 0; // false
     * ```
     */
    get blocksMask() {
      return this._engine.wasm._wl_physx_component_get_blocksMask(this._id);
    }
    /**
     * Set axes to lock for linear velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * Combine flags with Bitwise OR:
     *
     * ```js
     * body.linearLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.linearLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set linearLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_linearLockAxis(this._id, lock);
    }
    /**
     * Get the linear lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.
     *
     * ```js
     * if(body.linearLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for linear movement.
     */
    get linearLockAxis() {
      return this._engine.wasm._wl_physx_component_get_linearLockAxis(this._id);
    }
    /**
     * Set axes to lock for angular velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * ```js
     * body.angularLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.angularLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set angularLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_angularLockAxis(this._id, lock);
    }
    /**
     * Get the angular lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed:
     *
     * ```js
     * if(body.angularLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for angular movement.
     */
    get angularLockAxis() {
      return this._engine.wasm._wl_physx_component_get_angularLockAxis(this._id);
    }
    /**
     * Set mass.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * @param m New mass.
     */
    set mass(m) {
      this._engine.wasm._wl_physx_component_set_mass(this._id, m);
    }
    /** Mass */
    get mass() {
      return this._engine.wasm._wl_physx_component_get_mass(this._id);
    }
    /**
     * Set mass space interia tensor.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New mass space interatia tensor.
     */
    set massSpaceInteriaTensor(v) {
      this._engine.wasm._wl_physx_component_set_massSpaceInertiaTensor(this._id, v[0], v[1], v[2]);
    }
    /**
     * Set the rigid body to sleep upon activation.
     *
     * When asleep, the rigid body will not be simulated until the next contact.
     *
     * @param flag `true` to sleep upon activation.
     *
     * @since 1.1.5
     */
    set sleepOnActivate(flag) {
      this._engine.wasm._wl_physx_component_set_sleepOnActivate(this._id, flag);
    }
    /**
     * `true` if the rigid body is set to sleep upon activation, `false` otherwise.
     *
     * @since 1.1.5
     */
    get sleepOnActivate() {
      return !!this._engine.wasm._wl_physx_component_get_sleepOnActivate(this._id);
    }
    /**
     * Apply a force.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     * @param localForce Whether the force vector is in local space, default `false`.
     * @param p Position to apply force at, default is center of mass.
     * @param local Whether position is in local space, default `false`.
     */
    addForce(f, m = ForceMode.Force, localForce = false, p, local = false) {
      const wasm = this._engine.wasm;
      if (!p) {
        wasm._wl_physx_component_addForce(this._id, f[0], f[1], f[2], m, localForce);
        return;
      }
      wasm._wl_physx_component_addForceAt(this._id, f[0], f[1], f[2], m, localForce, p[0], p[1], p[2], local);
    }
    /**
     * Apply torque.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     */
    addTorque(f, m = ForceMode.Force) {
      this._engine.wasm._wl_physx_component_addTorque(this._id, f[0], f[1], f[2], m);
    }
    /**
     * Add on collision callback.
     *
     * @param callback Function to call when this rigid body (un)collides with any other.
     *
     * ```js
     *  let rigidBody = this.object.getComponent('physx');
     *  rigidBody.onCollision(function(type, other) {
     *      // Ignore uncollides
     *      if(type == CollisionEventType.TouchLost) return;
     *
     *      // Take damage on collision with enemies
     *      if(other.object.name.startsWith("enemy-")) {
     *          this.applyDamage(10);
     *      }
     *  }.bind(this));
     * ```
     *
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollision(callback) {
      return this.onCollisionWith(this, callback);
    }
    /**
     * Add filtered on collision callback.
     *
     * @param otherComp Component for which callbacks will
     *        be triggered. If you pass this component, the method is equivalent to.
     *        {@link PhysXComponent#onCollision}.
     * @param callback Function to call when this rigid body
     *        (un)collides with `otherComp`.
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollisionWith(otherComp, callback) {
      const physics = this._engine.physics;
      physics._callbacks[this._id] = physics._callbacks[this._id] || [];
      physics._callbacks[this._id].push(callback);
      return this._engine.wasm._wl_physx_component_addCallback(this._id, otherComp._id || this._id);
    }
    /**
     * Remove a collision callback added with {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     *
     * @param callbackId Callback id as returned by {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     * @throws When the callback does not belong to the component.
     * @throws When the callback does not exist.
     */
    removeCollisionCallback(callbackId) {
      const physics = this._engine.physics;
      const r = this._engine.wasm._wl_physx_component_removeCallback(this._id, callbackId);
      if (r)
        physics._callbacks[this._id].splice(-r);
    }
  };
  /** @override */
  __publicField(PhysXComponent, "TypeName", "physx");
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "static", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "translationOffset", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "rotationOffset", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "kinematic", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "gravity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "simulate", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowSimulation", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowQuery", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "trigger", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shape", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shapeData", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "staticFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "dynamicFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "bounciness", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "groupsMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "blocksMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "mass", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "sleepOnActivate", null);
  var MeshIndexType;
  (function(MeshIndexType2) {
    MeshIndexType2[MeshIndexType2["UnsignedByte"] = 1] = "UnsignedByte";
    MeshIndexType2[MeshIndexType2["UnsignedShort"] = 2] = "UnsignedShort";
    MeshIndexType2[MeshIndexType2["UnsignedInt"] = 4] = "UnsignedInt";
  })(MeshIndexType || (MeshIndexType = {}));
  var MeshSkinningType;
  (function(MeshSkinningType2) {
    MeshSkinningType2[MeshSkinningType2["None"] = 0] = "None";
    MeshSkinningType2[MeshSkinningType2["FourJoints"] = 1] = "FourJoints";
    MeshSkinningType2[MeshSkinningType2["EightJoints"] = 2] = "EightJoints";
  })(MeshSkinningType || (MeshSkinningType = {}));
  var Mesh = class {
    /**
     * Index of the mesh in the manager.
     *
     * @hidden
     */
    _index = -1;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance.
     *
     * @param params Either a mesh index to wrap or set of parameters to create a new mesh.
     *    For more information, please have a look at the {@link MeshParameters} interface.
     */
    constructor(engine, params) {
      this._engine = engine ?? WL;
      this._index = -1;
      if (isNumber(params)) {
        this._index = params;
        return;
      }
      if (!params.vertexCount)
        throw new Error("Missing parameter 'vertexCount'");
      const wasm = this._engine.wasm;
      let indexData = 0;
      let indexType = 0;
      let indexDataSize = 0;
      if (params.indexData) {
        indexType = params.indexType || MeshIndexType.UnsignedShort;
        indexDataSize = params.indexData.length * indexType;
        indexData = wasm._malloc(indexDataSize);
        switch (indexType) {
          case MeshIndexType.UnsignedByte:
            wasm.HEAPU8.set(params.indexData, indexData);
            break;
          case MeshIndexType.UnsignedShort:
            wasm.HEAPU16.set(params.indexData, indexData >> 1);
            break;
          case MeshIndexType.UnsignedInt:
            wasm.HEAPU32.set(params.indexData, indexData >> 2);
            break;
        }
      }
      const { skinningType = MeshSkinningType.None } = params;
      this._index = wasm._wl_mesh_create(indexData, indexDataSize, indexType, params.vertexCount, skinningType);
    }
    /** Number of vertices in this mesh. */
    get vertexCount() {
      return this._engine.wasm._wl_mesh_get_vertexCount(this._index);
    }
    /** Index data (read-only) or `null` if the mesh is not indexed. */
    get indexData() {
      const wasm = this._engine.wasm;
      const tempMem = wasm._tempMem;
      const ptr = wasm._wl_mesh_get_indexData(this._index, tempMem, tempMem + 4);
      if (ptr === null)
        return null;
      const indexCount = wasm.HEAPU32[tempMem / 4];
      const indexSize = wasm.HEAPU32[tempMem / 4 + 1];
      switch (indexSize) {
        case MeshIndexType.UnsignedByte:
          return new Uint8Array(wasm.HEAPU8.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedShort:
          return new Uint16Array(wasm.HEAPU16.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedInt:
          return new Uint32Array(wasm.HEAPU32.buffer, ptr, indexCount);
      }
      return null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Apply changes to {@link attribute | vertex attributes}.
     *
     * Uploads the updated vertex attributes to the GPU and updates the bounding
     * sphere to match the new vertex positions.
     *
     * Since this is an expensive operation, call it only once you have performed
     * all modifications on a mesh and avoid calling if you did not perform any
     * modifications at all.
     */
    update() {
      this._engine.wasm._wl_mesh_update(this._index);
    }
    getBoundingSphere(out = new Float32Array(4)) {
      const tempMemFloat = this._engine.wasm._tempMemFloat;
      this._engine.wasm._wl_mesh_get_boundingSphere(this._index, this._engine.wasm._tempMem);
      out[0] = tempMemFloat[0];
      out[1] = tempMemFloat[1];
      out[2] = tempMemFloat[2];
      out[3] = tempMemFloat[3];
      return out;
    }
    attribute(attr) {
      if (typeof attr != "number")
        throw new TypeError("Expected number, but got " + typeof attr);
      const tempMemUint32 = this._engine.wasm._tempMemUint32;
      this._engine.wasm._wl_mesh_get_attribute(this._index, attr, this._engine.wasm._tempMem);
      if (tempMemUint32[0] == 255)
        return null;
      const arraySize = tempMemUint32[5];
      return new MeshAttributeAccessor(this._engine, {
        attribute: tempMemUint32[0],
        offset: tempMemUint32[1],
        stride: tempMemUint32[2],
        formatSize: tempMemUint32[3],
        componentCount: tempMemUint32[4],
        /* The WASM API returns `0` for a scalar value. We clamp it to 1 as we strictly use it as a multiplier for get/set operations */
        arraySize: arraySize ? arraySize : 1,
        length: this.vertexCount,
        bufferType: attr !== MeshAttribute.JointId ? Float32Array : Uint16Array
      });
    }
    /**
     * Destroy and free the meshes memory.
     *
     * It is best practice to set the mesh variable to `null` after calling
     * destroy to prevent accidental use:
     *
     * ```js
     *   mesh.destroy();
     *   mesh = null;
     * ```
     *
     * Accessing the mesh after destruction behaves like accessing an empty
     * mesh.
     *
     * @since 0.9.0
     */
    destroy() {
      this._engine.wasm._wl_mesh_destroy(this._index);
    }
    /**
     * Checks equality by comparing whether the wrapped native mesh ids are
     * equal.
     *
     * @param otherMesh Mesh to check equality with.
     * @returns Whether this mesh equals the given mesh.
     *
     * @since 1.0.0
     */
    equals(otherMesh) {
      if (!otherMesh)
        return false;
      return this._index === otherMesh._index;
    }
  };
  var MeshAttributeAccessor = class {
    /** Max number of elements. */
    length = 0;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Attribute index. @hidden */
    _attribute = -1;
    /** Attribute offset. @hidden */
    _offset = 0;
    /** Attribute stride. @hidden */
    _stride = 0;
    /** Format size native enum. @hidden */
    _formatSize = 0;
    /** Number of components per vertex. @hidden */
    _componentCount = 0;
    /** Number of values per vertex. @hidden */
    _arraySize = 1;
    /**
     * Class to instantiate an ArrayBuffer to get/set values.
     */
    _bufferType;
    /**
     * Function to allocate temporary WASM memory. It is cached in the accessor to avoid
     * conditionals during get/set.
     */
    _tempBufferGetter;
    /**
     * Create a new instance.
     *
     * @note Please use {@link Mesh.attribute} to create a new instance.
     *
     * @param options Contains information about how to read the data.
     * @note Do not use this constructor. Instead, please use the {@link Mesh.attribute} method.
     *
     * @hidden
     */
    constructor(engine, options) {
      this._engine = engine;
      const wasm = this._engine.wasm;
      this._attribute = options.attribute;
      this._offset = options.offset;
      this._stride = options.stride;
      this._formatSize = options.formatSize;
      this._componentCount = options.componentCount;
      this._arraySize = options.arraySize;
      this._bufferType = options.bufferType;
      this.length = options.length;
      this._tempBufferGetter = this._bufferType === Float32Array ? wasm.getTempBufferF32.bind(wasm) : wasm.getTempBufferU16.bind(wasm);
    }
    /**
     * Create a new TypedArray to hold this attribute's values.
     *
     * This method is useful to create a view to hold the data to
     * pass to {@link get} and {@link set}
     *
     * Example:
     *
     * ```js
     * const vertexCount = 4;
     * const positionAttribute = mesh.attribute(MeshAttribute.Position);
     *
     * // A position has 3 floats per vertex. Thus, positions has length 3 * 4.
     * const positions = positionAttribute.createArray(vertexCount);
     * ```
     *
     * @param count The number of **vertices** expected.
     * @returns A TypedArray with the appropriate format to access the data
     */
    createArray(count = 1) {
      count = count > this.length ? this.length : count;
      return new this._bufferType(count * this._componentCount * this._arraySize);
    }
    get(index, out = this.createArray()) {
      if (out.length % this._componentCount !== 0) {
        throw new Error(`out.length, ${out.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      }
      const dest = this._tempBufferGetter(out.length);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const destSize = elementSize * out.length;
      const srcFormatSize = this._formatSize * this._arraySize;
      const destFormatSize = this._componentCount * elementSize * this._arraySize;
      this._engine.wasm._wl_mesh_get_attribute_values(this._attribute, srcFormatSize, this._offset + index * this._stride, this._stride, destFormatSize, dest.byteOffset, destSize);
      for (let i = 0; i < out.length; ++i)
        out[i] = dest[i];
      return out;
    }
    /**
     * Set attribute element.
     *
     * @param i Index
     * @param v Value to set the element to
     *
     * `v.length` needs to be a multiple of the attributes component count, see
     * {@link MeshAttribute}. If `v.length` is more than one multiple, it will be
     * filled with the next n attribute elements, which can reduce overhead
     * of this call.
     *
     * @returns Reference to self (for method chaining)
     */
    set(i, v) {
      if (v.length % this._componentCount !== 0)
        throw new Error(`out.length, ${v.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const srcSize = elementSize * v.length;
      const srcFormatSize = this._componentCount * elementSize * this._arraySize;
      const destFormatSize = this._formatSize * this._arraySize;
      const wasm = this._engine.wasm;
      if (v.buffer != wasm.HEAPU8.buffer) {
        const dest = this._tempBufferGetter(v.length);
        dest.set(v);
        v = dest;
      }
      wasm._wl_mesh_set_attribute_values(this._attribute, srcFormatSize, v.byteOffset, srcSize, destFormatSize, this._offset + i * this._stride, this._stride);
      return this;
    }
  };
  var Material = class {
    /**
     * Index of this material in the manager.
     *
     * @hidden
     */
    _index;
    /**
     * Material definition index in the scene.
     *
     * @hidden
     */
    _definition;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new Material.
     *
     * @note Creating material is expensive. Please use {@link Material#clone} to clone a material.
     * @note Do not use this constructor directly with an index, this is reserved for internal purposes.
     */
    constructor(engine, params) {
      this._engine = engine;
      if (typeof params !== "number") {
        if (!params?.pipeline)
          throw new Error("Missing parameter 'pipeline'");
        const wasm = this._engine.wasm;
        const pipeline = params.pipeline;
        this._index = wasm._wl_material_create(wasm.tempUTF8(pipeline));
        if (this._index < 0)
          throw new Error(`No such pipeline '${pipeline}'`);
      } else {
        this._index = params;
      }
      this._definition = this._engine.wasm._wl_material_get_definition(this._index);
      if (!this._engine.wasm._materialDefinitions[this._definition])
        throw new Error(`Material Definition ${this._definition} not found for material with index ${this._index}`);
      return new Proxy(this, {
        get(target, prop) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param)
            return target[prop];
          if (wasm._wl_material_get_param_value(target._index, param.index, wasm._tempMem)) {
            const type = param.type;
            switch (type.type) {
              case MaterialParamType.UnsignedInt:
                return type.componentCount == 1 ? wasm._tempMemUint32[0] : new Uint32Array(wasm.HEAPU32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Int:
                return type.componentCount == 1 ? wasm._tempMemInt[0] : new Int32Array(wasm.HEAP32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Float:
                return type.componentCount == 1 ? wasm._tempMemFloat[0] : new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Sampler:
                return engine.textures.wrap(wasm._tempMemInt[0]);
              default:
                throw new Error(`Invalid type ${type.type} on parameter ${param.index} for material ${target._index}`);
            }
          }
        },
        set(target, prop, value) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param) {
            target[prop] = value;
            return true;
          }
          const type = param.type;
          switch (type.type) {
            case MaterialParamType.UnsignedInt:
            case MaterialParamType.Int:
            case MaterialParamType.Sampler:
              const v = value.id ?? value;
              wasm._wl_material_set_param_value_uint(target._index, param.index, v);
              break;
            case MaterialParamType.Float:
              let count = 1;
              if (typeof value === "number") {
                wasm._tempMemFloat[0] = value;
              } else {
                count = value.length;
                for (let i = 0; i < count; ++i)
                  wasm._tempMemFloat[i] = value[i];
              }
              wasm._wl_material_set_param_value_float(target._index, param.index, wasm._tempMem, count);
              break;
            case MaterialParamType.Font:
              throw new Error("Setting font properties is currently unsupported.");
          }
          return true;
        }
      });
    }
    /** @deprecated Use {@link #pipeline} instead. */
    get shader() {
      return this.pipeline;
    }
    /** Name of the pipeline used by this material. */
    get pipeline() {
      const wasm = this._engine.wasm;
      return wasm.UTF8ToString(wasm._wl_material_get_pipeline(this._index));
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Create a copy of the underlying native material.
     *
     * @returns Material clone.
     */
    clone() {
      const id = this._engine.wasm._wl_material_clone(this._index);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /**
     * Checks equality by comparing whether the wrapped native material ids are
     * equal.
     *
     * @param otherMaterial Material to check equality with.
     * @returns Whether this material equals the given material.
     *
     * @since 1.0.0
     */
    equals(otherMaterial) {
      if (!otherMaterial)
        return false;
      return this._index === otherMaterial._index;
    }
    /**
     * Wrap a native material index.
     *
     * @param engine Engine instance.
     * @param index The index.
     * @returns Material instance or `null` if index <= 0.
     *
     * @deprecated Please use `new Material()` instead.
     */
    static wrap(engine, index) {
      return index > 0 ? new Material(engine, index) : null;
    }
  };
  var temp2d = null;
  var Texture = class {
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Index in the manager. @hidden */
    _id = 0;
    /** HTML image index. @hidden */
    _imageIndex = null;
    /**
     * @param engine The engine instance
     * @param param HTML media element to create texture from or texture id to wrap.
     */
    constructor(engine, param) {
      this._engine = engine ?? WL;
      const wasm = engine.wasm;
      if (param instanceof HTMLImageElement || param instanceof HTMLVideoElement || param instanceof HTMLCanvasElement) {
        const index = wasm._images.length;
        wasm._images.push(param);
        this._imageIndex = index;
        this._id = this._engine.wasm._wl_renderer_addImage(index);
      } else {
        this._id = param;
      }
      this._engine.textures._set(this);
    }
    /** Whether this texture is valid. */
    get valid() {
      return this._id >= 0;
    }
    /** Index in this manager. */
    get id() {
      return this._id;
    }
    /** Update the texture to match the HTML element (e.g. reflect the current frame of a video). */
    update() {
      if (!this.valid || this._imageIndex === null)
        return;
      this._engine.wasm._wl_renderer_updateImage(this._id, this._imageIndex);
    }
    /** Width of the texture. */
    get width() {
      return this._engine.wasm._wl_texture_width(this._id);
    }
    /** Height of the texture. */
    get height() {
      return this._engine.wasm._wl_texture_height(this._id);
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Update a subrange on the texture to match the HTML element (e.g. reflect the current frame of a video).
     *
     * Usage:
     *
     * ```js
     * // Copies rectangle of pixel starting from (10, 20)
     * texture.updateSubImage(10, 20, 600, 400);
     * ```
     *
     * @param x x offset
     * @param y y offset
     * @param w width
     * @param h height
     */
    updateSubImage(x, y, w, h) {
      if (!this.valid || this._imageIndex === null)
        return;
      if (!temp2d) {
        const canvas2 = document.createElement("canvas");
        const ctx = canvas2.getContext("2d");
        if (!ctx) {
          throw new Error("Texture.updateSubImage(): Failed to obtain CanvasRenderingContext2D.");
        }
        temp2d = {
          canvas: canvas2,
          ctx
        };
      }
      const wasm = this._engine.wasm;
      const img = wasm._images[this._imageIndex];
      if (!img)
        return;
      temp2d.canvas.width = w;
      temp2d.canvas.height = h;
      temp2d.ctx.drawImage(img, x, y, w, h, 0, 0, w, h);
      const yOffset = (img.videoHeight ?? img.height) - y - h;
      wasm._images[this._imageIndex] = temp2d.canvas;
      wasm._wl_renderer_updateImage(this._id, this._imageIndex, x, yOffset);
      wasm._images[this._imageIndex] = img;
    }
    /**
     * Destroy and free the texture's texture altas space and memory.
     *
     * It is best practice to set the texture variable to `null` after calling
     * destroy to prevent accidental use of the invalid texture:
     *
     * ```js
     *   texture.destroy();
     *   texture = null;
     * ```
     *
     * @since 0.9.0
     */
    destroy() {
      this.engine._destroyTexture(this);
      this._id = -1;
      this._imageIndex = null;
    }
    /**
     * Checks equality by comparing whether the wrapped native texture ids are
     * equal.
     *
     * @param otherTexture Texture to check equality with.
     * @returns Whether this texture equals the given texture.
     *
     * @since 1.0.0
     */
    equals(otherTexture) {
      if (!otherTexture)
        return false;
      return this._id === otherTexture._id;
    }
  };
  var Animation = class {
    /** Index of the mesh in the manager. @hidden */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * @param index Index in the manager
     */
    constructor(engine = WL, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Duration of this animation. */
    get duration() {
      return this._engine.wasm._wl_animation_get_duration(this._index);
    }
    /** Number of tracks in this animation. */
    get trackCount() {
      return this._engine.wasm._wl_animation_get_trackCount(this._index);
    }
    /**
     * Clone this animation retargeted to a new set of objects.
     *
     * The clone shares most of the data with the original and is therefore
     * light-weight.
     *
     * **Experimental:** This API might change in upcoming versions.
     *
     * If retargeting to {@link Skin}, the join names will be used to determine a mapping
     * from the previous skin to the new skin. The source skin will be retrieved from
     * the first track in the animation that targets a joint.
     *
     * @param newTargets New targets per track. Expected to have
     *      {@link Animation#trackCount} elements or to be a {@link Skin}.
     * @returns The retargeted clone of this animation.
     */
    retarget(newTargets) {
      const wasm = this._engine.wasm;
      if (newTargets instanceof Skin) {
        const animId2 = wasm._wl_animation_retargetToSkin(this._index, newTargets._index);
        return new Animation(this._engine, animId2);
      }
      if (newTargets.length != this.trackCount) {
        throw Error("Expected " + this.trackCount.toString() + " targets, but got " + newTargets.length.toString());
      }
      const ptr = wasm._malloc(2 * newTargets.length);
      for (let i = 0; i < newTargets.length; ++i) {
        wasm.HEAPU16[ptr >> 1 + i] = newTargets[i].objectId;
      }
      const animId = wasm._wl_animation_retarget(this._index, ptr);
      wasm._free(ptr);
      return new Animation(this._engine, animId);
    }
    /**
     * Checks equality by comparing whether the wrapped native animation ids
     * are equal.
     *
     * @param otherAnimation Animation to check equality with.
     * @returns Whether this animation equals the given animation.
     *
     * @since 1.0.0
     */
    equals(otherAnimation) {
      if (!otherAnimation)
        return false;
      return this._index === otherAnimation._index;
    }
  };
  var Object3D = class {
    /**
     * Object index in the manager.
     *
     * @hidden
     */
    _objectId = -1;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * @param o Object id to wrap
     *
     * For performance reasons, please use {@link WonderlandEngine.wrapObject}
     */
    constructor(engine, o) {
      this._objectId = o;
      this._engine = engine;
    }
    /**
     * Name of the object.
     *
     * Useful for identifying objects during debugging.
     */
    get name() {
      const wasm = this._engine.wasm;
      return wasm.UTF8ToString(wasm._wl_object_name(this.objectId));
    }
    /**
     * Set the object's name.
     *
     * @param newName The new name to set.
     */
    set name(newName) {
      const wasm = this._engine.wasm;
      wasm._wl_object_set_name(this.objectId, wasm.tempUTF8(newName));
    }
    /**
     * Parent of this object or `null` if parented to root.
     */
    get parent() {
      const p = this._engine.wasm._wl_object_parent(this.objectId);
      return p === 0 ? null : this._engine.wrapObject(p);
    }
    /**
     * Children of this object.
     *
     * @note Child order is **undefined**. No assumptions should be made
     * about the index of a specific object.
     *
     * If you need to access a specific child of this object, you can
     * use {@link Object3D.findByName}.
     *
     * When the object exists in the scene at editor time, prefer passing it as
     * a component property.
     */
    get children() {
      const childrenCount = this._engine.wasm._wl_object_get_children_count(this.objectId);
      if (childrenCount === 0)
        return [];
      const wasm = this._engine.wasm;
      wasm.requireTempMem(childrenCount * 2);
      this._engine.wasm._wl_object_get_children(this.objectId, wasm._tempMem, wasm._tempMemSize >> 1);
      const children = new Array(childrenCount);
      for (let i = 0; i < childrenCount; ++i) {
        children[i] = this._engine.wrapObject(wasm._tempMemUint16[i]);
      }
      return children;
    }
    /**
     * Reparent object to given object.
     *
     * @note Reparenting is not trivial and might have a noticeable performance impact.
     *
     * @param newParent New parent or `null` to parent to root
     */
    set parent(newParent) {
      this._engine.wasm._wl_object_set_parent(this.objectId, newParent == null ? 0 : newParent.objectId);
    }
    /** Object index in the manager. */
    get objectId() {
      return this._objectId;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Clone this hierarchy into a new one.
     *
     * Cloning copies the hierarchy structure, object names,
     * as well as components.
     *
     * JavaScript components are cloned using {@link Component.copy}. You can
     * override this method in your components.
     *
     * @param parent The parent for the cloned hierarchy or `null` to clone
     *     into the scene root. Defaults to `null`.
     *
     * @returns The clone of this object.
     */
    clone(parent = null) {
      const engine = this._engine;
      const id = engine.wasm._wl_object_clone(this._objectId, parent ? parent._objectId : 0);
      return engine.wrapObject(id);
    }
    /**
     * Reset local transformation (translation, rotation and scaling) to identity.
     *
     * @returns Reference to self (for method chaining).
     */
    resetTransform() {
      this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);
      this._engine.wasm._wl_object_reset_scaling(this.objectId);
      return this;
    }
    /**
     * Reset local position and rotation to identity.
     *
     * @returns Reference to self (for method chaining).
     */
    resetPositionRotation() {
      this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);
      return this;
    }
    /** @deprecated Please use {@link Object3D.resetPositionRotation} instead. */
    resetTranslationRotation() {
      return this.resetPositionRotation();
    }
    /**
     * Reset local rotation, keep translation.
     *
     * @note To reset both rotation and translation, prefer
     *       {@link resetTranslationRotation}.
     *
     * @returns Reference to self (for method chaining).
     */
    resetRotation() {
      this._engine.wasm._wl_object_reset_rotation(this.objectId);
      return this;
    }
    /**
     * Reset local translation, keep rotation.
     *
     * @note To reset both rotation and translation, prefer
     *       {@link resetTranslationRotation}.
     *
     * @returns Reference to self (for method chaining).
     */
    resetPosition() {
      this._engine.wasm._wl_object_reset_translation(this.objectId);
      return this;
    }
    /** @deprecated Please use {@link Object3D.resetPosition} instead. */
    resetTranslation() {
      return this.resetPosition();
    }
    /**
     * Reset local scaling to identity (``[1.0, 1.0, 1.0]``).
     *
     * @returns Reference to self (for method chaining).
     */
    resetScaling() {
      this._engine.wasm._wl_object_reset_scaling(this.objectId);
      return this;
    }
    /** @deprecated Please use {@link Object3D.translateLocal} instead. */
    translate(v) {
      return this.translateLocal(v);
    }
    /**
     * Translate object by a vector in the parent's space.
     *
     * @param v Vector to translate by.
     *
     * @returns Reference to self (for method chaining).
     */
    translateLocal(v) {
      this._engine.wasm._wl_object_translate(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /**
     * Translate object by a vector in object space.
     *
     * @param v Vector to translate by.
     *
     * @returns Reference to self (for method chaining).
     */
    translateObject(v) {
      this._engine.wasm._wl_object_translate_obj(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /**
     * Translate object by a vector in world space.
     *
     * @param v Vector to translate by.
     *
     * @returns Reference to self (for method chaining).
     */
    translateWorld(v) {
      this._engine.wasm._wl_object_translate_world(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.rotateAxisAngleDegLocal} instead. */
    rotateAxisAngleDeg(a, d) {
      this.rotateAxisAngleDegLocal(a, d);
      return this;
    }
    /**
     * Rotate around given axis by given angle (degrees) in local space.
     *
     * @param a Vector representing the rotation axis.
     * @param d Angle in degrees.
     *
     * @note If the object is translated the rotation will be around
     *     the parent. To rotate around the object origin, use
     *     {@link rotateAxisAngleDegObject}
     *
     * @see {@link rotateAxisAngleRad}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleDegLocal(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /** @deprecated Please use {@link Object3D.rotateAxisAngleRadLocal} instead. */
    rotateAxisAngleRad(a, d) {
      return this.rotateAxisAngleRadLocal(a, d);
    }
    /**
     * Rotate around given axis by given angle (radians) in local space.
     *
     * @param a Vector representing the rotation axis.
     * @param d Angle in radians.
     *
     * @note If the object is translated the rotation will be around
     *     the parent. To rotate around the object origin, use
     *     {@link rotateAxisAngleDegObject}
     *
     * @see {@link rotateAxisAngleDeg}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleRadLocal(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle_rad(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /**
     * Rotate around given axis by given angle (degrees) in object space.
     *
     * @param a Vector representing the rotation axis.
     * @param d Angle in degrees.
     *
     * Equivalent to prepending a rotation quaternion to the object's
     * local transformation.
     *
     * @see {@link rotateAxisAngleRadObject}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleDegObject(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle_obj(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /**
     * Rotate around given axis by given angle (radians) in object space
     * Equivalent to prepending a rotation quaternion to the object's
     * local transformation.
     *
     * @param a Vector representing the rotation axis
     * @param d Angle in degrees
     *
     * @see {@link rotateAxisAngleDegObject}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleRadObject(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle_rad_obj(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /** @deprecated Please use {@link Object3D.rotateLocal} instead. */
    rotate(q) {
      this.rotateLocal(q);
      return this;
    }
    /**
     * Rotate by a quaternion.
     *
     * @param q the Quaternion to rotate by.
     *
     * @returns Reference to self (for method chaining).
     */
    rotateLocal(q) {
      this._engine.wasm._wl_object_rotate_quat(this.objectId, q[0], q[1], q[2], q[3]);
      return this;
    }
    /**
     * Rotate by a quaternion in object space.
     *
     * Equivalent to prepending a rotation quaternion to the object's
     * local transformation.
     *
     * @param q the Quaternion to rotate by.
     *
     * @returns Reference to self (for method chaining).
     */
    rotateObject(q) {
      this._engine.wasm._wl_object_rotate_quat_obj(this.objectId, q[0], q[1], q[2], q[3]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.scaleLocal} instead. */
    scale(v) {
      this.scaleLocal(v);
      return this;
    }
    /**
     * Scale object by a vector in object space.
     *
     * @param v Vector to scale by.
     *
     * @returns Reference to self (for method chaining).
     */
    scaleLocal(v) {
      this._engine.wasm._wl_object_scale(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    getPositionLocal(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      wasm._wl_object_get_translation_local(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    getTranslationLocal(out = new Float32Array(3)) {
      return this.getPositionLocal(out);
    }
    getPositionWorld(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      wasm._wl_object_get_translation_world(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    getTranslationWorld(out = new Float32Array(3)) {
      return this.getPositionWorld(out);
    }
    /**
     * Set local / object space position.
     *
     * Concatenates a new translation dual quaternion onto the existing rotation.
     *
     * @param v New local position array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setPositionLocal(v) {
      this._engine.wasm._wl_object_set_translation_local(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.setPositionLocal} instead. */
    setTranslationLocal(v) {
      return this.setPositionLocal(v);
    }
    /**
     * Set world space position.
     *
     * Applies the inverse parent transform with a new translation dual quaternion
     * which is concatenated onto the existing rotation.
     *
     * @param v New world position array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setPositionWorld(v) {
      this._engine.wasm._wl_object_set_translation_world(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.setPositionWorld} instead. */
    setTranslationWorld(v) {
      return this.setPositionWorld(v);
    }
    getScalingLocal(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_scaling_local(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set local / object space scaling.
     *
     * @param v New local scaling array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setScalingLocal(v) {
      this._engine.wasm._wl_object_set_scaling_local(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    getScalingWorld(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_scaling_world(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set World space scaling.
     *
     * @param v New world scaling array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setScalingWorld(v) {
      this._engine.wasm._wl_object_set_scaling_world(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    getRotationLocal(out = new Float32Array(4)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_local(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      return out;
    }
    /**
     * Set local space rotation.
     *
     * @param v New world rotation array/vector, expected to have at least 4 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setRotationLocal(v) {
      this._engine.wasm._wl_object_set_rotation_local(this.objectId, v[0], v[1], v[2], v[3]);
      return this;
    }
    getRotationWorld(out = new Float32Array(4)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_world(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      return out;
    }
    /**
     * Set local space rotation.
     *
     * @param v New world rotation array/vector, expected to have at least 4 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setRotationWorld(v) {
      this._engine.wasm._wl_object_set_rotation_world(this.objectId, v[0], v[1], v[2], v[3]);
      return this;
    }
    getTransformLocal(out = new Float32Array(8)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_local(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      out[4] = wasm.HEAPF32[ptr + 4];
      out[5] = wasm.HEAPF32[ptr + 5];
      out[6] = wasm.HEAPF32[ptr + 6];
      out[7] = wasm.HEAPF32[ptr + 7];
      return out;
    }
    /**
     * Set local space rotation.
     *
     * @param v New local transform array, expected to have at least 8 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setTransformLocal(v) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_local(this.objectId) / 4;
      wasm.HEAPF32[ptr] = v[0];
      wasm.HEAPF32[ptr + 1] = v[1];
      wasm.HEAPF32[ptr + 2] = v[2];
      wasm.HEAPF32[ptr + 3] = v[3];
      wasm.HEAPF32[ptr + 4] = v[4];
      wasm.HEAPF32[ptr + 5] = v[5];
      wasm.HEAPF32[ptr + 6] = v[6];
      wasm.HEAPF32[ptr + 7] = v[7];
      this.setDirty();
      return this;
    }
    getTransformWorld(out = new Float32Array(8)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_world(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      out[4] = wasm.HEAPF32[ptr + 4];
      out[5] = wasm.HEAPF32[ptr + 5];
      out[6] = wasm.HEAPF32[ptr + 6];
      out[7] = wasm.HEAPF32[ptr + 7];
      return out;
    }
    /**
     * Set world space rotation.
     *
     * @param v New world transform array, expected to have at least 8 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setTransformWorld(v) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_world(this.objectId) / 4;
      wasm.HEAPF32[ptr] = v[0];
      wasm.HEAPF32[ptr + 1] = v[1];
      wasm.HEAPF32[ptr + 2] = v[2];
      wasm.HEAPF32[ptr + 3] = v[3];
      wasm.HEAPF32[ptr + 4] = v[4];
      wasm.HEAPF32[ptr + 5] = v[5];
      wasm.HEAPF32[ptr + 6] = v[6];
      wasm.HEAPF32[ptr + 7] = v[7];
      this._engine.wasm._wl_object_trans_world_to_local(this.objectId);
      return this;
    }
    /**
     * Local space transformation.
     *
     * @deprecated Please use {@link Object3D.setTransformLocal} and
     * {@link Object3D.getTransformLocal} instead.
     */
    get transformLocal() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_local(this.objectId), 8);
    }
    /**
     * Set local transform.
     *
     * @param t Local space transformation.
     *
     * @since 0.8.5
     *
     * @deprecated Please use {@link Object3D.setTransformLocal} and
     * {@link Object3D.getTransformLocal} instead.
     */
    set transformLocal(t) {
      this.transformLocal.set(t);
      this.setDirty();
    }
    /**
     * Global / world space transformation.
     *
     * May recompute transformations of the hierarchy of this object,
     * if they were changed by JavaScript components this frame.
     *
     * @deprecated Please use {@link Object3D.setTransformWorld} and
     * {@link Object3D.getTransformWorld} instead.
     */
    get transformWorld() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_world(this.objectId), 8);
    }
    /**
     * Set world transform.
     *
     * @param t Global / world space transformation.
     *
     * @since 0.8.5
     *
     * @deprecated Please use {@link Object3D.setTransformWorld} and
     * {@link Object3D.getTransformWorld} instead.
     */
    set transformWorld(t) {
      this.transformWorld.set(t);
      this._engine.wasm._wl_object_trans_world_to_local(this.objectId);
    }
    /**
     * Local / object space scaling.
     *
     * @deprecated Please use {@link Object3D.setScalingLocal} and
     * {@link Object3D.getScalingLocal} instead.
     */
    get scalingLocal() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_local(this.objectId), 3);
    }
    /**
     * Set local space scaling.
     *
     * @param s Local space scaling.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.setScalingLocal} and
     * {@link Object3D.getScalingLocal} instead.
     */
    set scalingLocal(s) {
      this.scalingLocal.set(s);
      this.setDirty();
    }
    /**
     * Global / world space scaling.
     *
     * May recompute transformations of the hierarchy of this object,
     * if they were changed by JavaScript components this frame.
     *
     * @deprecated Please use {@link Object3D.setScalingWorld} and
     * {@link Object3D.getScalingWorld} instead.
     */
    get scalingWorld() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_world(this.objectId), 3);
    }
    /**
     * Set world space scaling.
     *
     * @param t World space scaling.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.setScalingWorld} and
     * {@link Object3D.getScalingWorld} instead.
     */
    set scalingWorld(s) {
      this.scalingWorld.set(s);
      this._engine.wasm._wl_object_scaling_world_to_local(this.objectId);
    }
    /**
     * Local space rotation.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationLocal} and
     * {@link Object3D.setRotationLocal} instead.
     */
    get rotationLocal() {
      return this.transformLocal.subarray(0, 4);
    }
    /**
     * Global / world space rotation
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationWorld} and
     * {@link Object3D.setRotationWorld} instead.
     */
    get rotationWorld() {
      return this.transformWorld.subarray(0, 4);
    }
    /**
     * Set local space rotation.
     *
     * @param r Local space rotation
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationLocal} and
     * {@link Object3D.setRotationLocal} instead.
     */
    set rotationLocal(r) {
      this._engine.wasm._wl_object_set_rotation_local(this.objectId, r[0], r[1], r[2], r[3]);
    }
    /**
     * Set world space rotation.
     *
     * @param r Global / world space rotation.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationWorld} and
     * {@link Object3D.setRotationWorld} instead.
     */
    set rotationWorld(r) {
      this._engine.wasm._wl_object_set_rotation_world(this.objectId, r[0], r[1], r[2], r[3]);
    }
    /** @deprecated Please use {@link Object3D.getForwardWorld} instead. */
    getForward(out) {
      return this.getForwardWorld(out);
    }
    /**
     * Compute the object's forward facing world space vector.
     *
     * The forward vector in object space is along the negative z-axis, i.e.,
     * `[0, 0, -1]`.
     *
     * @param out Destination array/vector, expected to have at least 3 elements.
     * @return The `out` parameter.
     */
    getForwardWorld(out) {
      out[0] = 0;
      out[1] = 0;
      out[2] = -1;
      this.transformVectorWorld(out);
      return out;
    }
    /** @deprecated Please use {@link Object3D.getUpWorld} instead. */
    getUp(out) {
      return this.getUpWorld(out);
    }
    /**
     * Compute the object's up facing world space vector.
     *
     * @param out Destination array/vector, expected to have at least 3 elements.
     * @return The `out` parameter.
     */
    getUpWorld(out) {
      out[0] = 0;
      out[1] = 1;
      out[2] = 0;
      this.transformVectorWorld(out);
      return out;
    }
    /** @deprecated Please use {@link Object3D.getRightWorld} instead. */
    getRight(out) {
      return this.getRightWorld(out);
    }
    /**
     * Compute the object's right facing world space vector.
     *
     * @param out Destination array/vector, expected to have at least 3 elements.
     * @return The `out` parameter.
     */
    getRightWorld(out) {
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      this.transformVectorWorld(out);
      return out;
    }
    /**
     * Transform a vector by this object's world transform.
     *
     * @param out Out vector
     * @param v Vector to transform, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorWorld(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a vector by this object's local transform.
     *
     * @param out Out vector
     * @param v Vector to transform, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorLocal(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's world transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointWorld(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = p[0];
      wasm._tempMemFloat[1] = p[1];
      wasm._tempMemFloat[2] = p[2];
      wasm._wl_object_transformPointWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's local transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointLocal(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = p[0];
      wasm._tempMemFloat[1] = p[1];
      wasm._tempMemFloat[2] = p[2];
      wasm._wl_object_transformPointLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a vector by this object's inverse world transform.
     *
     * @param out Out vector.
     * @param v Vector to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorInverseWorld(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorInverseWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a vector by this object's inverse local transform.
     *
     * @param out Out vector
     * @param v Vector to transform, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorInverseLocal(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorInverseLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's inverse world transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointInverseWorld(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = p[0];
      wasm._tempMemFloat[1] = p[1];
      wasm._tempMemFloat[2] = p[2];
      wasm._wl_object_transformPointInverseWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's inverse local transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointInverseLocal(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat.set(p);
      wasm._wl_object_transformPointInverseLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform an object space dual quaternion into world space.
     *
     * @param out Out transformation.
     * @param q Local space transformation, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    toWorldSpaceTransform(out, q = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat.set(q);
      wasm._wl_object_toWorldSpaceTransform(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      out[3] = wasm._tempMemFloat[3];
      out[4] = wasm._tempMemFloat[4];
      out[5] = wasm._tempMemFloat[5];
      out[6] = wasm._tempMemFloat[6];
      out[7] = wasm._tempMemFloat[7];
      return out;
    }
    /**
     * Transform a world space dual quaternion into local space.
     *
     * @param out Out transformation
     * @param q World space transformation, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    toLocalSpaceTransform(out, q = out) {
      const p = this.parent;
      if (p) {
        p.toObjectSpaceTransform(out, q);
        return out;
      }
      if (out !== q) {
        out[0] = q[0];
        out[1] = q[1];
        out[2] = q[2];
        out[3] = q[3];
        out[4] = q[4];
        out[5] = q[5];
        out[6] = q[6];
        out[7] = q[7];
      }
      return out;
    }
    /**
     * Transform a world space dual quaternion into object space.
     *
     * @param out Out transformation.
     * @param q World space transformation, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    toObjectSpaceTransform(out, q = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat.set(q);
      wasm._wl_object_toObjectSpaceTransform(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      out[3] = wasm._tempMemFloat[3];
      out[4] = wasm._tempMemFloat[4];
      out[5] = wasm._tempMemFloat[5];
      out[6] = wasm._tempMemFloat[6];
      out[7] = wasm._tempMemFloat[7];
      return out;
    }
    /**
     * Turn towards / look at target.
     *
     * Rotates the object so that its forward vector faces towards the target
     * position. The `up` vector acts as a hint to uniquely orient the object's
     * up direction. When orienting a view component, the projected `up` vector
     * faces upwards on the viewing plane.
     *
     * @param p Target position to turn towards, in world space.
     * @param up Up vector to align object with, in world space. Default is `[0, 1, 0]`.
     *
     * @returns Reference to self (for method chaining).
     */
    lookAt(p, up = UP_VECTOR) {
      this._engine.wasm._wl_object_lookAt(this.objectId, p[0], p[1], p[2], up[0], up[1], up[2]);
      return this;
    }
    /** Destroy the object with all of its components and remove it from the scene */
    destroy() {
      if (this._objectId < 0)
        return;
      this.engine.wasm._wl_scene_remove_object(this._objectId);
      this.engine._destroyObject(this);
    }
    /**
     * Mark transformation dirty.
     *
     * Causes an eventual recalculation of {@link transformWorld}, either
     * on next {@link getTranslationWorld}, {@link transformWorld} or
     * {@link scalingWorld} or the beginning of next frame, whichever
     * happens first.
     */
    setDirty() {
      this._engine.wasm._wl_object_set_dirty(this.objectId);
    }
    /**
     * Disable/enable all components of this object.
     *
     * @param b New state for the components.
     *
     * @since 0.8.5
     */
    set active(b) {
      const comps = this.getComponents();
      for (let c of comps) {
        c.active = b;
      }
    }
    getComponent(typeOrClass, index = 0) {
      const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;
      const wasm = this._engine.wasm;
      const componentType = wasm._wl_get_component_manager_index(wasm.tempUTF8(type));
      if (componentType < 0) {
        const typeIndex = wasm._componentTypeIndices[type];
        if (typeIndex === void 0)
          return null;
        const jsIndex = wasm._wl_get_js_component_index(this.objectId, typeIndex, index);
        if (jsIndex < 0)
          return null;
        const component = this._engine.wasm._components[jsIndex];
        return component.constructor !== BrokenComponent ? component : null;
      }
      const componentId = this._engine.wasm._wl_get_component_id(this.objectId, componentType, index);
      return this._engine._wrapComponent(type, componentType, componentId);
    }
    getComponents(typeOrClass) {
      const wasm = this._engine.wasm;
      let componentType = null;
      let type = null;
      if (typeOrClass) {
        type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;
        componentType = wasm._typeIndexFor(type);
      }
      const components = [];
      const maxComps = Math.floor(wasm._tempMemSize / 3 * 2);
      const componentsCount = wasm._wl_object_get_components(this.objectId, wasm._tempMem, maxComps);
      const offset2 = 2 * componentsCount;
      wasm._wl_object_get_component_types(this.objectId, wasm._tempMem + offset2, maxComps);
      const jsManagerIndex = wasm._jsManagerIndex;
      for (let i = 0; i < componentsCount; ++i) {
        const t = wasm._tempMemUint8[i + offset2];
        const componentId = wasm._tempMemUint16[i];
        if (t == jsManagerIndex) {
          const typeIndex = wasm._wl_get_js_component_index_for_id(componentId);
          const comp = wasm._components[typeIndex];
          const matches = componentType === null || comp.type == type;
          if (comp.constructor !== BrokenComponent && matches) {
            components.push(comp);
          }
          continue;
        }
        if (componentType === null) {
          const managerName = wasm._typeNameFor(t);
          components.push(this._engine._wrapComponent(managerName, t, componentId));
        } else if (t == componentType) {
          components.push(this._engine._wrapComponent(type, componentType, componentId));
        }
      }
      return components;
    }
    addComponent(typeOrClass, params) {
      const wasm = this._engine.wasm;
      const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;
      const componentType = wasm._typeIndexFor(type);
      let component = null;
      let componentIndex = null;
      if (componentType < 0) {
        if (!(type in wasm._componentTypeIndices)) {
          throw new TypeError("Unknown component type '" + type + "'");
        }
        const componentId = wasm._wl_object_add_js_component(this.objectId, wasm._componentTypeIndices[type]);
        componentIndex = wasm._wl_get_js_component_index_for_id(componentId);
        component = wasm._components[componentIndex];
      } else {
        const componentId = wasm._wl_object_add_component(this.objectId, componentType);
        component = this._engine._wrapComponent(type, componentType, componentId);
      }
      if (params !== void 0)
        component.copy(params);
      if (componentType < 0) {
        wasm._wljs_component_init(componentIndex);
      }
      if (!params || !("active" in params && !params.active)) {
        component.active = true;
      }
      return component;
    }
    /**
     * Search for descendants matching the name.
     *
     * This method is a wrapper around {@link Object3D.findByNameDirect} and
     * {@link Object3D.findByNameRecursive}.
     *
     * @param name The name to search for.
     * @param recursive If `true`, the method will look at all the descendants of this object.
     *     If `false`, this method will only perform the search in direct children.
     * @returns An array of {@link Object3D} matching the name.
     *
     * @since 1.1.0
     */
    findByName(name, recursive = false) {
      return recursive ? this.findByNameRecursive(name) : this.findByNameDirect(name);
    }
    /**
     * Search for all **direct** children matching the name.
     *
     * @note Even though this method is heavily optimized, it does perform
     * a linear search to find the objects. Do not use in a hot path.
     *
     * @param name The name to search for.
     * @returns An array of {@link Object3D} matching the name.
     *
     * @since 1.1.0
     */
    findByNameDirect(name) {
      const wasm = this._engine.wasm;
      const id = this._objectId;
      const tempSizeU16 = wasm._tempMemSize >> 2;
      const maxCount = tempSizeU16 - 2;
      const buffer = wasm._tempMemUint16;
      buffer[maxCount] = 0;
      buffer[maxCount + 1] = 0;
      const bufferPtr = wasm._tempMem;
      const indexPtr = bufferPtr + maxCount * 2;
      const childCountPtr = bufferPtr + maxCount * 2 + 2;
      const namePtr = wasm.tempUTF8(name, (maxCount + 2) * 2);
      const result = [];
      let read = 0;
      while (read = wasm._wl_object_findByName(id, namePtr, indexPtr, childCountPtr, bufferPtr, maxCount)) {
        for (let i = 0; i < read; ++i)
          result.push(this.engine.wrapObject(buffer[i]));
      }
      return result;
    }
    /**
     * Search for **all descendants** matching the name.
     *
     * @note Even though this method is heavily optimized, it does perform
     * a linear search to find the objects. Do not use in a hot path.
     *
     * @param name The name to search for.
     * @returns An array of {@link Object3D} matching the name.
     *
     * @since 1.1.0
     */
    findByNameRecursive(name) {
      const wasm = this._engine.wasm;
      const id = this._objectId;
      const tempSizeU16 = wasm._tempMemSize >> 2;
      const maxCount = tempSizeU16 - 1;
      const buffer = wasm._tempMemUint16;
      buffer[maxCount] = 0;
      const bufferPtr = wasm._tempMem;
      const indexPtr = bufferPtr + maxCount * 2;
      const namePtr = wasm.tempUTF8(name, (maxCount + 1) * 2);
      let read = 0;
      const result = [];
      while (read = wasm._wl_object_findByNameRecursive(id, namePtr, indexPtr, bufferPtr, maxCount)) {
        for (let i = 0; i < read; ++i)
          result.push(this.engine.wrapObject(buffer[i]));
      }
      return result;
    }
    /**
     * Whether given object's transformation has changed.
     */
    get changed() {
      return !!this._engine.wasm._wl_object_is_changed(this.objectId);
    }
    /**
     * `true` if the object is destroyed, `false` otherwise.
     *
     * If {@link WonderlandEngine.erasePrototypeOnDestroy} is `true`,
     * reading a custom property will not work:
     *
     * ```js
     * engine.erasePrototypeOnDestroy = true;
     *
     * const obj = scene.addObject();
     * obj.customParam = 'Hello World!';
     *
     * console.log(obj.isDestroyed); // Prints `false`
     * obj.destroy();
     * console.log(obj.isDestroyed); // Prints `true`
     * console.log(obj.customParam); // Throws an error
     * ```
     *
     * @since 1.1.1
     */
    get isDestroyed() {
      return this._objectId < 0;
    }
    /**
     * Checks equality by comparing whether the wrapped native object ids are
     * equal.
     *
     * @param otherObject Object to check equality with.
     * @returns Whether this object equals the given object.
     */
    equals(otherObject) {
      if (!otherObject)
        return false;
      return this.objectId == otherObject.objectId;
    }
  };
  var Skin = class {
    /**
     * Index of the skin in the manager.
     * @hidden
     */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    constructor(engine, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Amount of joints in this skin. */
    get jointCount() {
      return this._engine.wasm._wl_skin_get_joint_count(this._index);
    }
    /** Joints object ids for this skin */
    get jointIds() {
      const wasm = this._engine.wasm;
      return new Uint16Array(wasm.HEAPU16.buffer, wasm._wl_skin_joint_ids(this._index), this.jointCount);
    }
    /**
     * Dual quaternions in a flat array of size 8 times {@link jointCount}.
     *
     * Inverse bind transforms of the skin.
     */
    get inverseBindTransforms() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_transforms(this._index), 8 * this.jointCount);
    }
    /**
     * Vectors in a flat array of size 3 times {@link jointCount}.
     *
     * Inverse bind scalings of the skin.
     */
    get inverseBindScalings() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_scalings(this._index), 3 * this.jointCount);
    }
    /**
     * Checks equality by comparing whether the wrapped native skin ids are
     * equal.
     *
     * @param otherSkin Skin to check equality with.
     * @returns Whether this skin equals the given skin.
     *
     * @since 1.0.0
     */
    equals(otherSkin) {
      if (!otherSkin)
        return false;
      return this._index === otherSkin._index;
    }
  };
  var XR = class {
    /** Wonderland WASM bridge. @hidden */
    #wasm;
    #mode;
    constructor(wasm, mode) {
      this.#wasm = wasm;
      this.#mode = mode;
    }
    /** Current WebXR session mode */
    get sessionMode() {
      return this.#mode;
    }
    /** Current WebXR session */
    get session() {
      return this.#wasm.webxr_session;
    }
    /** Current WebXR frame */
    get frame() {
      return this.#wasm.webxr_frame;
    }
    referenceSpaceForType(type) {
      return this.#wasm.webxr_refSpaces[type] ?? null;
    }
    /** Set current reference space type used for retrieving eye, head, hand and joint poses */
    set currentReferenceSpace(refSpace) {
      this.#wasm.webxr_refSpace = refSpace;
      this.#wasm.webxr_refSpaceType = null;
      for (const type of Object.keys(this.#wasm.webxr_refSpaces)) {
        if (this.#wasm.webxr_refSpaces[type] === refSpace) {
          this.#wasm.webxr_refSpaceType = type;
        }
      }
    }
    /** Current reference space type used for retrieving eye, head, hand and joint poses */
    get currentReferenceSpace() {
      return this.#wasm.webxr_refSpace;
    }
    /** Current WebXR reference space type or `null` if not a default reference space */
    get currentReferenceSpaceType() {
      return this.#wasm.webxr_refSpaceType;
    }
    /** Current WebXR base layer  */
    get baseLayer() {
      return this.#wasm.webxr_baseLayer;
    }
    /** Current WebXR framebuffer */
    get framebuffers() {
      if (!Array.isArray(this.#wasm.webxr_fbo)) {
        return [this.#wasm.GL.framebuffers[this.#wasm.webxr_fbo]];
      }
      return this.#wasm.webxr_fbo.map((id) => this.#wasm.GL.framebuffers[id]);
    }
  };

  // node_modules/@wonderlandengine/api/dist/utils/bitset.js
  function assert(bit) {
    if (bit >= 32) {
      throw new Error(`BitSet.enable(): Value ${bit} is over 31`);
    }
  }
  var BitSet = class {
    /** Enabled bits. @hidden */
    _bits = 0;
    /**
     * Enable the bit at the given index.
     *
     * @param bits A spread of all the bits to enable.
     * @returns Reference to self (for method chaining).
     */
    enable(...bits) {
      for (const bit of bits) {
        assert(bit);
        this._bits |= 1 << bit >>> 0;
      }
      return this;
    }
    /**
     * Enable all bits.
     *
     * @returns Reference to self (for method chaining).
     */
    enableAll() {
      this._bits = ~0;
      return this;
    }
    /**
     * Disable the bit at the given index.
     *
     * @param bits A spread of all the bits to disable.
     * @returns Reference to self (for method chaining).
     */
    disable(...bits) {
      for (const bit of bits) {
        assert(bit);
        this._bits &= ~(1 << bit >>> 0);
      }
      return this;
    }
    /**
     * Disable all bits.
     *
     * @returns Reference to self (for method chaining).
     */
    disableAll() {
      this._bits = 0;
      return this;
    }
    /**
     * Checker whether the bit is set or not.
     *
     * @param bit The bit to check.
     * @returns `true` if it's enabled, `false` otherwise.
     */
    enabled(bit) {
      return !!(this._bits & 1 << bit >>> 0);
    }
  };

  // node_modules/@wonderlandengine/api/dist/utils/logger.js
  var LogLevel;
  (function(LogLevel2) {
    LogLevel2[LogLevel2["Info"] = 0] = "Info";
    LogLevel2[LogLevel2["Warn"] = 1] = "Warn";
    LogLevel2[LogLevel2["Error"] = 2] = "Error";
  })(LogLevel || (LogLevel = {}));
  var Logger = class {
    /**
     * Bitset of enabled levels.
     *
     * @hidden
     */
    levels = new BitSet();
    /**
     * Bitset of enabled tags.
     *
     * @hidden
     */
    tags = new BitSet().enableAll();
    /**
     * Create a new logger instance.
     *
     * @param levels Default set of levels to enable.
     */
    constructor(...levels) {
      this.levels.enable(...levels);
    }
    /**
     * Log the message(s) using `console.log`.
     *
     * @param tag Tag represented by a positive integer.
     * @param msg A spread of message to log.
     * @returns Reference to self (for method chaining).
     */
    info(tag, ...msg) {
      if (this.levels.enabled(LogLevel.Info) && this.tags.enabled(tag)) {
        console.log(...msg);
      }
      return this;
    }
    /**
     * Log the message(s) using `console.warn`.
     *
     * @param tag Tag represented by a positive integer.
     * @param msg A spread of message to log.
     * @returns Reference to self (for method chaining).
     */
    warn(tag, ...msg) {
      if (this.levels.enabled(LogLevel.Warn) && this.tags.enabled(tag)) {
        console.warn(...msg);
      }
      return this;
    }
    /**
     * Log the message(s) using `console.error`.
     *
     * @param tag Tag represented by a positive integer.
     * @param msg A spread of message to log.
     * @returns Reference to self (for method chaining).
     */
    error(tag, ...msg) {
      if (this.levels.enabled(LogLevel.Error) && this.tags.enabled(tag)) {
        console.error(...msg);
      }
      return this;
    }
  };

  // node_modules/@wonderlandengine/api/dist/wasm.js
  var _componentDefaults = /* @__PURE__ */ new Map([
    [Type.Bool, false],
    [Type.Int, 0],
    [Type.Float, 0],
    [Type.String, ""],
    [Type.Enum, void 0],
    [Type.Object, null],
    [Type.Mesh, null],
    [Type.Texture, null],
    [Type.Material, null],
    [Type.Animation, null],
    [Type.Skin, null],
    [Type.Color, [0, 0, 0, 1]]
  ]);
  function _setupDefaults(ctor) {
    for (const name in ctor.Properties) {
      const p = ctor.Properties[name];
      if (p.type === Type.Enum) {
        if (p.values?.length) {
          if (typeof p.default !== "number") {
            p.default = p.values.indexOf(p.default);
          }
          if (p.default < 0 || p.default >= p.values.length) {
            p.default = 0;
          }
        } else {
          p.default = void 0;
        }
      } else {
        p.default = p.default ?? _componentDefaults.get(p.type);
      }
      ctor.prototype[name] = p.default;
    }
  }
  var WASM = class {
    /**
     * Emscripten worker field.
     *
     * @note This api is meant to be used internally.
     */
    worker = "";
    /**
     * Emscripten wasm field.
     *
     * @note This api is meant to be used internally.
     */
    wasm = null;
    /**
     * Emscripten canvas.
     *
     * @note This api is meant to be used internally.
     */
    canvas = null;
    /** Current WebXR  */
    /**
     * Emscripten WebXR session.
     *
     * @note This api is meant to be used internally.
     */
    webxr_session = null;
    /**
     * Emscripten WebXR request session callback.
     *
     * @note This api is meant to be used internally.
     */
    webxr_requestSession = null;
    /**
     * Emscripten WebXR offer session callback.
     *
     * @note This api is meant to be used internally.
     */
    webxr_offerSession = null;
    /**
     * Emscripten WebXR frame.
     *
     * @note This api is meant to be used internally.
     */
    webxr_frame = null;
    /**
     * Emscripten current WebXR reference space.
     *
     * @note This api is meant to be used internally.
     */
    webxr_refSpace = null;
    /**
     * Emscripten WebXR reference spaces.
     *
     * @note This api is meant to be used internally.
     */
    webxr_refSpaces = null;
    /**
     * Emscripten WebXR current reference space type.
     *
     * @note This api is meant to be used internally.
     */
    webxr_refSpaceType = null;
    /**
     * Emscripten WebXR GL projection layer.
     *
     * @note This api is meant to be used internally.
     */
    webxr_baseLayer = null;
    /**
     * Emscripten WebXR framebuffer scale factor.
     *
     * @note This api is meant to be used internally.
     */
    webxr_framebufferScaleFactor = 1;
    /**
     * Emscripten WebXR framebuffer(s).
     *
     * @note This api is meant to be used internally.
     */
    /* webxr_fbo will not get overwritten if we are rendering to the
     * default framebuffer, e.g., when using WebXR emulator. */
    webxr_fbo = 0;
    /**
     * Convert a WASM memory view to a JavaScript string.
     *
     * @param ptr Pointer start
     * @param ptrEnd Pointer end
     * @returns JavaScript string
     */
    UTF8ViewToString;
    /** Logger instance. */
    _log = new Logger();
    /** If `true`, logs will not spam the console on error. */
    _deactivate_component_on_error = false;
    /** Temporary memory pointer. */
    _tempMem = null;
    /** Temporary memory size. */
    _tempMemSize = 0;
    /** Temporary float memory view. */
    _tempMemFloat = null;
    /** Temporary int memory view. */
    _tempMemInt = null;
    /** Temporary uint8 memory view. */
    _tempMemUint8 = null;
    /** Temporary uint32 memory view. */
    _tempMemUint32 = null;
    /** Temporary uint16 memory view. */
    _tempMemUint16 = null;
    /** Loading screen .bin file data */
    _loadingScreen = null;
    /** List of callbacks triggered when the scene is loaded. */
    _sceneLoadedCallback = [];
    /**
     * Material definition cache. Each pipeline has its own
     * associated material definition.
     */
    _materialDefinitions = [];
    /** Image cache. */
    _images = [];
    /** Component instances. */
    _components = [];
    /** Component Type info. */
    _componentTypes = [];
    /** Index per component type name. */
    _componentTypeIndices = {};
    /** Wonderland engine instance. */
    _engine = null;
    /**
     * `true` if this runtime is using physx.
     *
     * @note This api is meant to be used internally.
     */
    _withPhysX = false;
    /** Decoder for UTF8 `ArrayBuffer` to JavaScript string. */
    _utf8Decoder = new TextDecoder("utf8");
    /** JavaScript manager index. */
    _jsManagerIndexCached = null;
    /**
     * Registration index of {@link BrokenComponent}.
     *
     * This is used to return dummy instances when a component
     * isn't registered.
     *
     * @hidden
     */
    _brokenComponentIndex = 0;
    /**
     * Create a new instance of the WebAssembly <> API bridge.
     *
     * @param threads `true` if the runtime used has threads support
     */
    constructor(threads2) {
      if (threads2) {
        this.UTF8ViewToString = (s, e) => {
          if (!s)
            return "";
          return this._utf8Decoder.decode(this.HEAPU8.slice(s, e));
        };
        return;
      }
      this.UTF8ViewToString = (s, e) => {
        if (!s)
          return "";
        return this._utf8Decoder.decode(this.HEAPU8.subarray(s, e));
      };
      this._brokenComponentIndex = this._registerComponent(BrokenComponent);
    }
    /**
     * Reset the cache of the library.
     *
     * @note Should only be called when tearing down the runtime.
     */
    reset() {
      for (const img of this._images) {
        if (!img || !img.src)
          continue;
        img.src = "";
        img.onload = null;
        img.onerror = null;
      }
      this._images = [];
      this.allocateTempMemory(1024);
      this._materialDefinitions = [];
      this._components = [];
      this._componentTypes = [];
      this._componentTypeIndices = {};
      this._jsManagerIndexCached = null;
      this._brokenComponentIndex = this._registerComponent(BrokenComponent);
    }
    /**
     * Checks whether the given component is registered or not.
     *
     * @param ctor  A string representing the component typename (e.g., `'cursor-component'`).
     * @returns `true` if the component is registered, `false` otherwise.
     */
    isRegistered(type) {
      return type in this._componentTypeIndices;
    }
    /**
     * Register a legacy component in this Emscripten instance.
     *
     * @note This api is meant to be used internally.
     *
     * @param typeName The name of the component.
     * @param params An object containing the parameters (properties).
     * @param object The object's prototype.
     * @returns The registration index
     */
    _registerComponentLegacy(typeName, params, object) {
      const ctor = class CustomComponent extends Component {
      };
      ctor.TypeName = typeName;
      ctor.Properties = params;
      Object.assign(ctor.prototype, object);
      return this._registerComponent(ctor);
    }
    /**
     * Register a class component in this Emscripten instance.
     *
     * @note This api is meant to be used internally.
     *
     * @param ctor The class to register.
     * @returns The registration index.
     */
    _registerComponent(ctor) {
      if (!ctor.TypeName)
        throw new Error("no name provided for component.");
      if (!ctor.prototype._triggerInit) {
        throw new Error(`registerComponent(): Component ${ctor.TypeName} must extend Component`);
      }
      inheritProperties(ctor);
      _setupDefaults(ctor);
      const typeIndex = ctor.TypeName in this._componentTypeIndices ? this._componentTypeIndices[ctor.TypeName] : this._componentTypes.length;
      this._componentTypes[typeIndex] = ctor;
      this._componentTypeIndices[ctor.TypeName] = typeIndex;
      if (ctor === BrokenComponent)
        return typeIndex;
      this._log.info(LogTag.Engine, "Registered component", ctor.TypeName, `(class ${ctor.name})`, "with index", typeIndex);
      if (ctor.onRegister)
        ctor.onRegister(this._engine);
      return typeIndex;
    }
    /**
     * Allocate the requested amount of temporary memory
     * in this WASM instance.
     *
     * @param size The number of bytes to allocate
     */
    allocateTempMemory(size) {
      this._log.info(LogTag.Engine, "Allocating temp mem:", size);
      this._tempMemSize = size;
      if (this._tempMem)
        this._free(this._tempMem);
      this._tempMem = this._malloc(this._tempMemSize);
      this.updateTempMemory();
    }
    /**
     * @todo: Delete this and only keep `allocateTempMemory`
     *
     * @param size Number of bytes to allocate
     */
    requireTempMem(size) {
      if (this._tempMemSize >= size)
        return;
      this.allocateTempMemory(Math.ceil(size / 1024) * 1024);
    }
    /**
     * Update the temporary memory views. This must be called whenever the
     * temporary memory address changes.
     *
     * @note This api is meant to be used internally.
     */
    updateTempMemory() {
      this._tempMemFloat = new Float32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);
      this._tempMemInt = new Int32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);
      this._tempMemUint32 = new Uint32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);
      this._tempMemUint16 = new Uint16Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 1);
      this._tempMemUint8 = new Uint8Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize);
    }
    /**
     * Returns a uint8 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required
     * @returns A {@link TypedArray} over the WASM memory
     */
    getTempBufferU8(count) {
      this.requireTempMem(count);
      return this._tempMemUint8;
    }
    /**
     * Returns a uint16 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required
     * @returns A {@link TypedArray} over the WASM memory
     */
    getTempBufferU16(count) {
      this.requireTempMem(count * 2);
      return this._tempMemUint16;
    }
    /**
     * Returns a uint32 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required.
     * @returns A {@link TypedArray} over the WASM memory.
     */
    getTempBufferU32(count) {
      this.requireTempMem(count * 4);
      return this._tempMemUint32;
    }
    /**
     * Returns a int32 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required.
     * @returns A {@link TypedArray} over the WASM memory.
     */
    getTempBufferI32(count) {
      this.requireTempMem(count * 4);
      return this._tempMemInt;
    }
    /**
     * Returns a float32 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required.
     * @returns A {@link TypedArray} over the WASM memory.
     */
    getTempBufferF32(count) {
      this.requireTempMem(count * 4);
      return this._tempMemFloat;
    }
    /**
     * Copy the string into temporary WASM memory and retrieve the pointer.
     *
     * @note This method will compute the strlen and append a `\0`.
     *
     * @note The result should be used **directly** otherwise it might get
     * overridden by any next call modifying the temporary memory.
     *
     * @param str The string to write to temporary memory
     * @param byteOffset The starting byte offset in the temporary memory at which
     *     the string should be written. This is useful when using multiple temporaries.
     * @return The temporary pointer onto the WASM memory
     */
    tempUTF8(str5, byteOffset = 0) {
      const strLen = this.lengthBytesUTF8(str5) + 1;
      this.requireTempMem(strLen + byteOffset);
      const ptr = this._tempMem + byteOffset;
      this.stringToUTF8(str5, ptr, strLen);
      return ptr;
    }
    /**
     * Return the index of the component type.
     *
     * @note This method uses malloc and copies the string
     * to avoid overwriting caller's temporary data.
     *
     * @param type The type
     * @return The component type index
     */
    _typeIndexFor(type) {
      const lengthBytes = this.lengthBytesUTF8(type) + 1;
      const mem = this._malloc(lengthBytes);
      this.stringToUTF8(type, mem, lengthBytes);
      const componentType = this._wl_get_component_manager_index(mem);
      this._free(mem);
      return componentType;
    }
    /**
     * Return the name of component type stored at the given index.
     *
     * @param typeIndex The type index
     * @return The name as a string
     */
    _typeNameFor(typeIndex) {
      return this.UTF8ToString(this._wl_component_manager_name(typeIndex));
    }
    /**
     * Returns `true` if the runtime supports physx or not.
     */
    get withPhysX() {
      return this._withPhysX;
    }
    /** JavaScript manager index. */
    get _jsManagerIndex() {
      if (this._jsManagerIndexCached === null) {
        this._jsManagerIndexCached = this._typeIndexFor("js");
      }
      return this._jsManagerIndexCached;
    }
    /**
     * Set the engine instance holding this bridge.
     *
     * @note This api is meant to be used internally.
     *
     * @param engine The engine instance.
     */
    _setEngine(engine) {
      this._engine = engine;
    }
    /* WebAssembly to JS call bridge. */
    _wljs_xr_session_start(mode) {
      if (this._engine.xr === null) {
        this._engine.xr = new XR(this, mode);
        this._engine.onXRSessionStart.notify(this.webxr_session, mode);
      }
    }
    _wljs_xr_session_end() {
      const startEmitter = this._engine.onXRSessionStart;
      if (startEmitter instanceof RetainEmitter)
        startEmitter.reset();
      this._engine.onXRSessionEnd.notify();
      this._engine.xr = null;
    }
    _wljs_xr_disable() {
      this._engine.arSupported = false;
      this._engine.vrSupported = false;
    }
    _wljs_allocate(numComponents) {
      this._components = new Array(numComponents);
    }
    _wljs_init(withPhysX) {
      this._withPhysX = withPhysX;
      this.allocateTempMemory(1024);
    }
    _wljs_reallocate(numComponents) {
      if (numComponents > this._components.length) {
        this._components.length = numComponents;
      }
    }
    _wljs_scene_add_material_definition(definitionId) {
      const definition = /* @__PURE__ */ new Map();
      const nbParams = this._wl_material_definition_get_count(definitionId);
      for (let i = 0; i < nbParams; ++i) {
        const name = this.UTF8ToString(this._wl_material_definition_get_param_name(definitionId, i));
        const t = this._wl_material_definition_get_param_type(definitionId, i);
        definition.set(name, {
          index: i,
          type: {
            type: t & 255,
            componentCount: t >> 8 & 255,
            metaType: t >> 16 & 255
          }
        });
      }
      this._materialDefinitions[definitionId] = definition;
    }
    _wljs_set_component_param_bool(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v !== 0;
    }
    _wljs_set_component_param_int(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v;
    }
    _wljs_set_component_param_float(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v;
    }
    _wljs_set_component_param_string(c, p, pe, v, ve) {
      const param = this.UTF8ViewToString(p, pe);
      const value = this.UTF8ViewToString(v, ve);
      this._components[c][param] = value;
    }
    _wljs_set_component_param_color(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = new Float32Array([0, 8, 16, 24].map((s) => (v >>> s & 255) / 255));
    }
    _wljs_set_component_param_object(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? this._engine.wrapObject(v) : null;
    }
    _wljs_set_component_param_mesh(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? new Mesh(this._engine, v) : null;
    }
    _wljs_set_component_param_texture(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? this._engine.textures.wrap(v) : null;
    }
    _wljs_set_component_param_material(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? new Material(this._engine, v) : null;
    }
    _wljs_set_component_param_animation(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? new Animation(this._engine, v) : null;
    }
    _wljs_set_component_param_skin(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? new Skin(this._engine, v) : null;
    }
    _wljs_get_component_type_index(namePtr, nameEndPtr) {
      const typename = this.UTF8ViewToString(namePtr, nameEndPtr);
      const index = this._componentTypeIndices[typename];
      if (index === void 0) {
        return this._brokenComponentIndex;
      }
      return index;
    }
    _wljs_component_create(jsManagerIndex, index, id, type, object) {
      const ctor = this._componentTypes[type];
      if (!ctor) {
        throw new Error(`Type index ${type} isn't registered`);
      }
      let component = null;
      try {
        component = new ctor();
      } catch (e) {
        this._log.error(LogTag.Component, `Exception during instantiation of component ${ctor.TypeName}`);
        this._log.error(LogTag.Component, e);
        component = new BrokenComponent(this._engine);
      }
      component._engine = this._engine;
      component._manager = jsManagerIndex;
      component._id = id;
      component._object = this._engine.wrapObject(object);
      try {
        component.resetProperties();
      } catch (e) {
        this._log.error(LogTag.Component, `Exception during ${component.type} resetProperties() on object ${component.object.name}`);
        this._log.error(LogTag.Component, e);
      }
      this._components[index] = component;
      return component;
    }
    _wljs_component_init(component) {
      const c = this._components[component];
      c._triggerInit();
    }
    _wljs_component_update(component, dt) {
      const c = this._components[component];
      c._triggerUpdate(dt);
    }
    _wljs_component_onActivate(component) {
      const c = this._components[component];
      if (c)
        c._triggerOnActivate();
    }
    _wljs_component_onDeactivate(component) {
      const c = this._components[component];
      c._triggerOnDeactivate();
    }
    _wljs_component_onDestroy(component) {
      const c = this._components[component];
      c._triggerOnDestroy();
    }
    _wljs_swap(a, b) {
      const componentA = this._components[a];
      this._components[a] = this._components[b];
      this._components[b] = componentA;
    }
    _wljs_copy(src, dst) {
      const destComp = this._components[dst];
      try {
        destComp.copy(this._components[src]);
      } catch (e) {
        this._log.error(LogTag.Component, `Exception during ${destComp.type} copy() on object ${destComp.object.name}`);
        this._log.error(LogTag.Component, e);
      }
    }
  };
  function throwInvalidRuntime(version) {
    return function() {
      throw new Error(`Feature added in version ${version}.
	\u2192 Please use a Wonderland Engine editor version >= ${version}`);
    };
  }
  var requireRuntime1_1_1 = throwInvalidRuntime("1.1.1");
  var requireRuntime1_1_5 = throwInvalidRuntime("1.1.5");
  WASM.prototype._wl_physx_component_get_offsetTranslation = requireRuntime1_1_1;
  WASM.prototype._wl_physx_component_set_offsetTranslation = requireRuntime1_1_1;
  WASM.prototype._wl_physx_component_get_offsetTransform = requireRuntime1_1_1;
  WASM.prototype._wl_physx_component_set_offsetRotation = requireRuntime1_1_1;
  WASM.prototype._wl_object_clone = requireRuntime1_1_1;
  WASM.prototype._wl_physx_component_set_sleepOnActivate = requireRuntime1_1_5;
  WASM.prototype._wl_physx_component_get_sleepOnActivate = requireRuntime1_1_5;
  WASM.prototype.webxr_offerSession = requireRuntime1_1_5;

  // node_modules/@wonderlandengine/components/dist/8thwall-camera.js
  var ARCamera8thwall = class extends Component {
    /* 8thwall camera pipeline module name */
    name = "wonderland-engine-8thwall-camera";
    started = false;
    view = null;
    // cache camera
    position = [0, 0, 0];
    // cache 8thwall cam position
    rotation = [0, 0, 0, -1];
    // cache 8thwall cam rotation
    glTextureRenderer = null;
    // cache XR8.GlTextureRenderer.pipelineModule
    promptForDeviceMotion() {
      return new Promise(async (resolve, reject) => {
        window.dispatchEvent(new Event("8thwall-request-user-interaction"));
        window.addEventListener("8thwall-safe-to-request-permissions", async () => {
          try {
            const motionEvent = await DeviceMotionEvent.requestPermission();
            resolve(motionEvent);
          } catch (exception) {
            reject(exception);
          }
        });
      });
    }
    async getPermissions() {
      if (DeviceMotionEvent && DeviceMotionEvent.requestPermission) {
        try {
          const result = await DeviceMotionEvent.requestPermission();
          if (result !== "granted") {
            throw new Error("MotionEvent");
          }
        } catch (exception) {
          if (exception.name === "NotAllowedError") {
            const motionEvent = await this.promptForDeviceMotion();
            if (motionEvent !== "granted") {
              throw new Error("MotionEvent");
            }
          } else {
            throw new Error("MotionEvent");
          }
        }
      }
      try {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: true,
          audio: true
        });
        stream.getTracks().forEach((track) => {
          track.stop();
        });
      } catch (exception) {
        throw new Error("Camera");
      }
    }
    init() {
      this.view = this.object.getComponent("view");
      this.onUpdate = this.onUpdate.bind(this);
      this.onAttach = this.onAttach.bind(this);
      this.onException = this.onException.bind(this);
      this.onCameraStatusChange = this.onCameraStatusChange.bind(this);
    }
    async start() {
      this.view = this.object.getComponent("view");
      if (!this.useCustomUIOverlays) {
        OverlaysHandler.init();
      }
      try {
        await this.getPermissions();
      } catch (error) {
        window.dispatchEvent(new CustomEvent("8thwall-permission-fail", { detail: error }));
        return;
      }
      await this.waitForXR8();
      XR8.XrController.configure({
        disableWorldTracking: false
      });
      this.glTextureRenderer = XR8.GlTextureRenderer.pipelineModule();
      XR8.addCameraPipelineModules([
        this.glTextureRenderer,
        XR8.XrController.pipelineModule(),
        this
      ]);
      const config2 = {
        cameraConfig: {
          direction: XR8.XrConfig.camera().BACK
        },
        canvas: Module.canvas,
        allowedDevices: XR8.XrConfig.device().ANY,
        ownRunLoop: false
      };
      XR8.run(config2);
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onAttach(params) {
      this.started = true;
      this.engine.scene.colorClearEnabled = false;
      const gl = Module.ctx;
      const rot = this.object.rotationWorld;
      const pos = this.object.getTranslationWorld([]);
      this.position = Array.from(pos);
      this.rotation = Array.from(rot);
      XR8.XrController.updateCameraProjectionMatrix({
        origin: { x: pos[0], y: pos[1], z: pos[2] },
        facing: { x: rot[0], y: rot[1], z: rot[2], w: rot[3] },
        cam: {
          pixelRectWidth: Module.canvas.width,
          pixelRectHeight: Module.canvas.height,
          nearClipPlane: this.view.near,
          farClipPlane: this.view.far
        }
      });
      this.engine.scene.onPreRender.push(() => {
        gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);
        XR8.runPreRender(Date.now());
        XR8.runRender();
      });
      this.engine.scene.onPostRender.push(() => {
        XR8.runPostRender(Date.now());
      });
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onCameraStatusChange(e) {
      if (e && e.status === "failed") {
        this.onException(new Error(`Camera failed with status: ${e.status}`));
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onUpdate(e) {
      if (!e.processCpuResult.reality)
        return;
      const { rotation, position, intrinsics } = e.processCpuResult.reality;
      this.rotation[0] = rotation.x;
      this.rotation[1] = rotation.y;
      this.rotation[2] = rotation.z;
      this.rotation[3] = rotation.w;
      this.position[0] = position.x;
      this.position[1] = position.y;
      this.position[2] = position.z;
      if (intrinsics) {
        const projectionMatrix = this.view.projectionMatrix;
        for (let i = 0; i < 16; i++) {
          if (Number.isFinite(intrinsics[i])) {
            projectionMatrix[i] = intrinsics[i];
          }
        }
      }
      if (position && rotation) {
        this.object.rotationWorld = this.rotation;
        this.object.setTranslationWorld(this.position);
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onException(error) {
      console.error("8thwall exception:", error);
      window.dispatchEvent(new CustomEvent("8thwall-error", { detail: error }));
    }
    waitForXR8() {
      return new Promise((resolve, _rej) => {
        if (window.XR8) {
          resolve();
        } else {
          window.addEventListener("xrloaded", () => resolve());
        }
      });
    }
  };
  __publicField(ARCamera8thwall, "TypeName", "8thwall-camera");
  __publicField(ARCamera8thwall, "Properties", {
    /** Override the WL html overlays for handling camera/motion permissions and error handling */
    useCustomUIOverlays: { type: Type.Bool, default: false }
  });
  var OverlaysHandler = {
    init: function() {
      this.handleRequestUserInteraction = this.handleRequestUserInteraction.bind(this);
      this.handlePermissionFail = this.handlePermissionFail.bind(this);
      this.handleError = this.handleError.bind(this);
      window.addEventListener("8thwall-request-user-interaction", this.handleRequestUserInteraction);
      window.addEventListener("8thwall-permission-fail", this.handlePermissionFail);
      window.addEventListener("8thwall-error", this.handleError);
    },
    handleRequestUserInteraction: function() {
      const overlay = this.showOverlay(requestPermissionOverlay);
      window.addEventListener("8thwall-safe-to-request-permissions", () => {
        overlay.remove();
      });
    },
    handlePermissionFail: function(_reason) {
      this.showOverlay(failedPermissionOverlay);
    },
    handleError: function(_error) {
      this.showOverlay(runtimeErrorOverlay);
    },
    showOverlay: function(htmlContent) {
      const overlay = document.createElement("div");
      overlay.innerHTML = htmlContent;
      document.body.appendChild(overlay);
      return overlay;
    }
  };
  var requestPermissionOverlay = `
<style>
  #request-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .request-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .request-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="request-permission-overlay">
  <div class="request-permission-overlay_title">This app requires to use your camera and motion sensors</div>

  <button class="request-permission-overlay_button" onclick="window.dispatchEvent(new Event('8thwall-safe-to-request-permissions'))">OK</button>
</div>`;
  var failedPermissionOverlay = `
<style>
  #failed-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .failed-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .failed-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="failed-permission-overlay">
  <div class="failed-permission-overlay_title">Failed to grant permissions. Reset the the permissions and refresh the page.</div>

  <button class="failed-permission-overlay_button" onclick="window.location.reload()">Refresh the page</button>
</div>`;
  var runtimeErrorOverlay = `
<style>
  #wall-error-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .wall-error-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .wall-error-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="wall-error-overlay">
  <div class="wall-error-overlay_title">Error has occurred. Please reload the page</div>

  <button class="wall-error-overlay_button" onclick="window.location.reload()">Reload</button>
</div>`;

  // node_modules/@wonderlandengine/components/dist/utils/webxr.js
  var tempVec = new Float32Array(3);
  var tempQuat = new Float32Array(4);
  function setXRRigidTransformLocal(o, transform) {
    const r = transform.orientation;
    tempQuat[0] = r.x;
    tempQuat[1] = r.y;
    tempQuat[2] = r.z;
    tempQuat[3] = r.w;
    const t = transform.position;
    tempVec[0] = t.x;
    tempVec[1] = t.y;
    tempVec[2] = t.z;
    o.resetPositionRotation();
    o.setRotationLocal(tempQuat);
    o.translateLocal(tempVec);
  }

  // node_modules/@wonderlandengine/components/dist/anchor.js
  var __decorate2 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec3 = new Float32Array(3);
  var tempQuat2 = new Float32Array(4);
  var _anchors, _addAnchor, addAnchor_fn, _removeAnchor, removeAnchor_fn, _getFrame, getFrame_fn, _createAnchor, createAnchor_fn, _onAddAnchor, onAddAnchor_fn, _onRestoreAnchor, onRestoreAnchor_fn, _onCreate, onCreate_fn;
  var _Anchor = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _getFrame);
      __privateAdd(this, _createAnchor);
      __privateAdd(this, _onAddAnchor);
      __privateAdd(this, _onRestoreAnchor);
      __privateAdd(this, _onCreate);
      __publicField(this, "persist", false);
      /** Unique identifier to load a persistent anchor from, or empty/null if unknown */
      __publicField(this, "uuid", null);
      /** The xrAnchor, if created */
      __publicField(this, "xrAnchor", null);
      /** Emits events when the anchor is created either by being restored or newly created */
      __publicField(this, "onCreate", new Emitter());
      /** Whether the anchor is currently being tracked */
      __publicField(this, "visible", false);
      /** Emits an event when this anchor starts tracking */
      __publicField(this, "onTrackingFound", new Emitter());
      /** Emits an event when this anchor stops tracking */
      __publicField(this, "onTrackingLost", new Emitter());
      /** XRFrame to use for creating the anchor */
      __publicField(this, "xrFrame", null);
      /** XRHitTestResult to use for creating the anchor */
      __publicField(this, "xrHitResult", null);
    }
    /** Retrieve all anchors of the current scene */
    static getAllAnchors() {
      return __privateGet(_Anchor, _anchors);
    }
    /**
     * Create a new anchor
     *
     * @param o Object to attach the component to
     * @param params Parameters for the anchor component
     * @param frame XRFrame to use for anchor cration, if null, will use the current frame if available
     * @param hitResult Optional hit-test result to create the anchor with
     * @returns Promise for the newly created anchor component
     */
    static create(o, params, frame, hitResult) {
      const a = o.addComponent(_Anchor, { ...params, active: false });
      if (a === null)
        return null;
      a.xrHitResult = hitResult ?? null;
      a.xrFrame = frame ?? null;
      a.onCreate.once(() => (a.xrFrame = null, a.xrHitResult = null));
      a.active = true;
      return a.onCreate.promise();
    }
    start() {
      if (this.uuid && this.engine.xr) {
        this.persist = true;
        if (this.engine.xr.session.restorePersistentAnchor === void 0) {
          console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
        }
        this.engine.xr.session.restorePersistentAnchor(this.uuid).then(__privateMethod(this, _onRestoreAnchor, onRestoreAnchor_fn).bind(this));
      } else if (__privateMethod(this, _getFrame, getFrame_fn).call(this)) {
        __privateMethod(this, _createAnchor, createAnchor_fn).call(this).then(__privateMethod(this, _onAddAnchor, onAddAnchor_fn).bind(this));
      } else {
        throw new Error("Anchors can only be created during the XR frame in an active XR session");
      }
    }
    update() {
      if (!this.xrAnchor || !this.engine.xr)
        return;
      const pose = this.engine.xr.frame.getPose(this.xrAnchor.anchorSpace, this.engine.xr.currentReferenceSpace);
      const visible = !!pose;
      if (visible != this.visible) {
        this.visible = visible;
        (visible ? this.onTrackingFound : this.onTrackingLost).notify(this);
      }
      if (pose) {
        setXRRigidTransformLocal(this.object, pose.transform);
      }
    }
    onDestroy() {
      var _a;
      __privateMethod(_a = _Anchor, _removeAnchor, removeAnchor_fn).call(_a, this);
    }
  };
  var Anchor = _Anchor;
  _anchors = new WeakMap();
  _addAnchor = new WeakSet();
  addAnchor_fn = function(anchor) {
    __privateGet(_Anchor, _anchors).push(anchor);
  };
  _removeAnchor = new WeakSet();
  removeAnchor_fn = function(anchor) {
    const index = __privateGet(_Anchor, _anchors).indexOf(anchor);
    if (index < 0)
      return;
    __privateGet(_Anchor, _anchors).splice(index, 1);
  };
  _getFrame = new WeakSet();
  getFrame_fn = function() {
    return this.xrFrame || this.engine.xr.frame;
  };
  _createAnchor = new WeakSet();
  createAnchor_fn = async function() {
    if (!__privateMethod(this, _getFrame, getFrame_fn).call(this).createAnchor) {
      throw new Error("Cannot create anchor - anchors not supported, did you enable the 'anchors' WebXR feature?");
    }
    if (this.xrHitResult) {
      if (this.xrHitResult.createAnchor === void 0) {
        throw new Error("Requested anchor on XRHitTestResult, but WebXR hit-test feature is not available.");
      }
      return this.xrHitResult.createAnchor();
    } else {
      this.object.getTranslationWorld(tempVec3);
      tempQuat2.set(this.object.rotationWorld);
      const rotation = tempQuat2;
      const anchorPose = new XRRigidTransform({ x: tempVec3[0], y: tempVec3[1], z: tempVec3[2] }, { x: rotation[0], y: rotation[1], z: rotation[2], w: rotation[3] });
      return __privateMethod(this, _getFrame, getFrame_fn).call(this)?.createAnchor(anchorPose, this.engine.xr.currentReferenceSpace);
    }
  };
  _onAddAnchor = new WeakSet();
  onAddAnchor_fn = function(anchor) {
    if (!anchor)
      return;
    if (this.persist) {
      if (anchor.requestPersistentHandle !== void 0) {
        anchor.requestPersistentHandle().then((uuid) => {
          var _a;
          this.uuid = uuid;
          __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
          __privateMethod(_a = _Anchor, _addAnchor, addAnchor_fn).call(_a, this);
        });
        return;
      } else {
        console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
      }
    }
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onRestoreAnchor = new WeakSet();
  onRestoreAnchor_fn = function(anchor) {
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onCreate = new WeakSet();
  onCreate_fn = function(anchor) {
    this.xrAnchor = anchor;
    this.onCreate.notify(this);
  };
  __privateAdd(Anchor, _addAnchor);
  __privateAdd(Anchor, _removeAnchor);
  __publicField(Anchor, "TypeName", "anchor");
  /* Static management of all anchors */
  __privateAdd(Anchor, _anchors, []);
  __decorate2([
    property.bool(false)
  ], Anchor.prototype, "persist", void 0);
  __decorate2([
    property.string()
  ], Anchor.prototype, "uuid", void 0);

  // node_modules/@wonderlandengine/components/dist/cursor-target.js
  var CursorTarget = class extends Component {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.add(f);
     */
    addHoverFunction(f) {
      this.onHover.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.remove(f);
     */
    removeHoverFunction(f) {
      this.onHover.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.add(f);
     */
    addUnHoverFunction(f) {
      this.onUnhover.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.remove(f);
     */
    removeUnHoverFunction(f) {
      this.onUnhover.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onClick.add(f);
     */
    addClickFunction(f) {
      this.onClick.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onClick.remove(f);
     */
    removeClickFunction(f) {
      this.onClick.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.add(f);
     */
    addMoveFunction(f) {
      this.onMove.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.remove(f);
     */
    removeMoveFunction(f) {
      this.onMove.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.add(f);
     */
    addDownFunction(f) {
      this.onDown.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.remove(f);
     */
    removeDownFunction(f) {
      this.onDown.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.add(f);
     */
    addUpFunction(f) {
      this.onUp.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.remove(f);
     */
    removeUpFunction(f) {
      this.onUp.remove(f);
    }
  };
  __publicField(CursorTarget, "TypeName", "cursor-target");
  __publicField(CursorTarget, "Properties", {});

  // node_modules/gl-matrix/esm/common.js
  var EPSILON = 1e-6;
  var ARRAY_TYPE = typeof Float32Array !== "undefined" ? Float32Array : Array;
  var RANDOM = Math.random;
  var degree = Math.PI / 180;
  if (!Math.hypot)
    Math.hypot = function() {
      var y = 0, i = arguments.length;
      while (i--) {
        y += arguments[i] * arguments[i];
      }
      return Math.sqrt(y);
    };

  // node_modules/gl-matrix/esm/mat3.js
  function create() {
    var out = new ARRAY_TYPE(9);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[5] = 0;
      out[6] = 0;
      out[7] = 0;
    }
    out[0] = 1;
    out[4] = 1;
    out[8] = 1;
    return out;
  }

  // node_modules/gl-matrix/esm/mat4.js
  var mat4_exports = {};
  __export(mat4_exports, {
    add: () => add,
    adjoint: () => adjoint,
    clone: () => clone,
    copy: () => copy,
    create: () => create2,
    determinant: () => determinant,
    equals: () => equals,
    exactEquals: () => exactEquals,
    frob: () => frob,
    fromQuat: () => fromQuat,
    fromQuat2: () => fromQuat2,
    fromRotation: () => fromRotation,
    fromRotationTranslation: () => fromRotationTranslation,
    fromRotationTranslationScale: () => fromRotationTranslationScale,
    fromRotationTranslationScaleOrigin: () => fromRotationTranslationScaleOrigin,
    fromScaling: () => fromScaling,
    fromTranslation: () => fromTranslation,
    fromValues: () => fromValues,
    fromXRotation: () => fromXRotation,
    fromYRotation: () => fromYRotation,
    fromZRotation: () => fromZRotation,
    frustum: () => frustum,
    getRotation: () => getRotation,
    getScaling: () => getScaling,
    getTranslation: () => getTranslation,
    identity: () => identity,
    invert: () => invert,
    lookAt: () => lookAt,
    mul: () => mul,
    multiply: () => multiply,
    multiplyScalar: () => multiplyScalar,
    multiplyScalarAndAdd: () => multiplyScalarAndAdd,
    ortho: () => ortho,
    orthoNO: () => orthoNO,
    orthoZO: () => orthoZO,
    perspective: () => perspective,
    perspectiveFromFieldOfView: () => perspectiveFromFieldOfView,
    perspectiveNO: () => perspectiveNO,
    perspectiveZO: () => perspectiveZO,
    rotate: () => rotate,
    rotateX: () => rotateX,
    rotateY: () => rotateY,
    rotateZ: () => rotateZ,
    scale: () => scale,
    set: () => set,
    str: () => str,
    sub: () => sub,
    subtract: () => subtract,
    targetTo: () => targetTo,
    translate: () => translate,
    transpose: () => transpose
  });
  function create2() {
    var out = new ARRAY_TYPE(16);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
    }
    out[0] = 1;
    out[5] = 1;
    out[10] = 1;
    out[15] = 1;
    return out;
  }
  function clone(a) {
    var out = new ARRAY_TYPE(16);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function copy(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    var out = new ARRAY_TYPE(16);
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function identity(out) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function transpose(out, a) {
    if (out === a) {
      var a01 = a[1], a02 = a[2], a03 = a[3];
      var a12 = a[6], a13 = a[7];
      var a23 = a[11];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a01;
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a02;
      out[9] = a12;
      out[11] = a[14];
      out[12] = a03;
      out[13] = a13;
      out[14] = a23;
    } else {
      out[0] = a[0];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a[1];
      out[5] = a[5];
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a[2];
      out[9] = a[6];
      out[10] = a[10];
      out[11] = a[14];
      out[12] = a[3];
      out[13] = a[7];
      out[14] = a[11];
      out[15] = a[15];
    }
    return out;
  }
  function invert(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
    if (!det) {
      return null;
    }
    det = 1 / det;
    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;
    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;
    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;
    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;
    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;
    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;
    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;
    return out;
  }
  function adjoint(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);
    out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));
    out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);
    out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));
    out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));
    out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);
    out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));
    out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);
    out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);
    out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));
    out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);
    out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));
    out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));
    out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);
    out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));
    out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);
    return out;
  }
  function determinant(a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
  }
  function multiply(out, a, b) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[4];
    b1 = b[5];
    b2 = b[6];
    b3 = b[7];
    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[8];
    b1 = b[9];
    b2 = b[10];
    b3 = b[11];
    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[12];
    b1 = b[13];
    b2 = b[14];
    b3 = b[15];
    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    return out;
  }
  function translate(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    if (a === out) {
      out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];
      out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];
      out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];
      out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];
    } else {
      a00 = a[0];
      a01 = a[1];
      a02 = a[2];
      a03 = a[3];
      a10 = a[4];
      a11 = a[5];
      a12 = a[6];
      a13 = a[7];
      a20 = a[8];
      a21 = a[9];
      a22 = a[10];
      a23 = a[11];
      out[0] = a00;
      out[1] = a01;
      out[2] = a02;
      out[3] = a03;
      out[4] = a10;
      out[5] = a11;
      out[6] = a12;
      out[7] = a13;
      out[8] = a20;
      out[9] = a21;
      out[10] = a22;
      out[11] = a23;
      out[12] = a00 * x + a10 * y + a20 * z + a[12];
      out[13] = a01 * x + a11 * y + a21 * z + a[13];
      out[14] = a02 * x + a12 * y + a22 * z + a[14];
      out[15] = a03 * x + a13 * y + a23 * z + a[15];
    }
    return out;
  }
  function scale(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    out[0] = a[0] * x;
    out[1] = a[1] * x;
    out[2] = a[2] * x;
    out[3] = a[3] * x;
    out[4] = a[4] * y;
    out[5] = a[5] * y;
    out[6] = a[6] * y;
    out[7] = a[7] * y;
    out[8] = a[8] * z;
    out[9] = a[9] * z;
    out[10] = a[10] * z;
    out[11] = a[11] * z;
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function rotate(out, a, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len4 = Math.hypot(x, y, z);
    var s, c, t;
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    var b00, b01, b02;
    var b10, b11, b12;
    var b20, b21, b22;
    if (len4 < EPSILON) {
      return null;
    }
    len4 = 1 / len4;
    x *= len4;
    y *= len4;
    z *= len4;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    a00 = a[0];
    a01 = a[1];
    a02 = a[2];
    a03 = a[3];
    a10 = a[4];
    a11 = a[5];
    a12 = a[6];
    a13 = a[7];
    a20 = a[8];
    a21 = a[9];
    a22 = a[10];
    a23 = a[11];
    b00 = x * x * t + c;
    b01 = y * x * t + z * s;
    b02 = z * x * t - y * s;
    b10 = x * y * t - z * s;
    b11 = y * y * t + c;
    b12 = z * y * t + x * s;
    b20 = x * z * t + y * s;
    b21 = y * z * t - x * s;
    b22 = z * z * t + c;
    out[0] = a00 * b00 + a10 * b01 + a20 * b02;
    out[1] = a01 * b00 + a11 * b01 + a21 * b02;
    out[2] = a02 * b00 + a12 * b01 + a22 * b02;
    out[3] = a03 * b00 + a13 * b01 + a23 * b02;
    out[4] = a00 * b10 + a10 * b11 + a20 * b12;
    out[5] = a01 * b10 + a11 * b11 + a21 * b12;
    out[6] = a02 * b10 + a12 * b11 + a22 * b12;
    out[7] = a03 * b10 + a13 * b11 + a23 * b12;
    out[8] = a00 * b20 + a10 * b21 + a20 * b22;
    out[9] = a01 * b20 + a11 * b21 + a21 * b22;
    out[10] = a02 * b20 + a12 * b21 + a22 * b22;
    out[11] = a03 * b20 + a13 * b21 + a23 * b22;
    if (a !== out) {
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    return out;
  }
  function rotateX(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[4] = a10 * c + a20 * s;
    out[5] = a11 * c + a21 * s;
    out[6] = a12 * c + a22 * s;
    out[7] = a13 * c + a23 * s;
    out[8] = a20 * c - a10 * s;
    out[9] = a21 * c - a11 * s;
    out[10] = a22 * c - a12 * s;
    out[11] = a23 * c - a13 * s;
    return out;
  }
  function rotateY(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[4] = a[4];
      out[5] = a[5];
      out[6] = a[6];
      out[7] = a[7];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c - a20 * s;
    out[1] = a01 * c - a21 * s;
    out[2] = a02 * c - a22 * s;
    out[3] = a03 * c - a23 * s;
    out[8] = a00 * s + a20 * c;
    out[9] = a01 * s + a21 * c;
    out[10] = a02 * s + a22 * c;
    out[11] = a03 * s + a23 * c;
    return out;
  }
  function rotateZ(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    if (a !== out) {
      out[8] = a[8];
      out[9] = a[9];
      out[10] = a[10];
      out[11] = a[11];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c + a10 * s;
    out[1] = a01 * c + a11 * s;
    out[2] = a02 * c + a12 * s;
    out[3] = a03 * c + a13 * s;
    out[4] = a10 * c - a00 * s;
    out[5] = a11 * c - a01 * s;
    out[6] = a12 * c - a02 * s;
    out[7] = a13 * c - a03 * s;
    return out;
  }
  function fromTranslation(out, v) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromScaling(out, v) {
    out[0] = v[0];
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = v[1];
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = v[2];
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotation(out, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len4 = Math.hypot(x, y, z);
    var s, c, t;
    if (len4 < EPSILON) {
      return null;
    }
    len4 = 1 / len4;
    x *= len4;
    y *= len4;
    z *= len4;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    out[0] = x * x * t + c;
    out[1] = y * x * t + z * s;
    out[2] = z * x * t - y * s;
    out[3] = 0;
    out[4] = x * y * t - z * s;
    out[5] = y * y * t + c;
    out[6] = z * y * t + x * s;
    out[7] = 0;
    out[8] = x * z * t + y * s;
    out[9] = y * z * t - x * s;
    out[10] = z * z * t + c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromXRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = c;
    out[6] = s;
    out[7] = 0;
    out[8] = 0;
    out[9] = -s;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromYRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = 0;
    out[2] = -s;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = s;
    out[9] = 0;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromZRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = s;
    out[2] = 0;
    out[3] = 0;
    out[4] = -s;
    out[5] = c;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotationTranslation(out, q, v) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - (yy + zz);
    out[1] = xy + wz;
    out[2] = xz - wy;
    out[3] = 0;
    out[4] = xy - wz;
    out[5] = 1 - (xx + zz);
    out[6] = yz + wx;
    out[7] = 0;
    out[8] = xz + wy;
    out[9] = yz - wx;
    out[10] = 1 - (xx + yy);
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromQuat2(out, a) {
    var translation = new ARRAY_TYPE(3);
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7];
    var magnitude = bx * bx + by * by + bz * bz + bw * bw;
    if (magnitude > 0) {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;
    } else {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    }
    fromRotationTranslation(out, a, translation);
    return out;
  }
  function getTranslation(out, mat) {
    out[0] = mat[12];
    out[1] = mat[13];
    out[2] = mat[14];
    return out;
  }
  function getScaling(out, mat) {
    var m11 = mat[0];
    var m12 = mat[1];
    var m13 = mat[2];
    var m21 = mat[4];
    var m22 = mat[5];
    var m23 = mat[6];
    var m31 = mat[8];
    var m32 = mat[9];
    var m33 = mat[10];
    out[0] = Math.hypot(m11, m12, m13);
    out[1] = Math.hypot(m21, m22, m23);
    out[2] = Math.hypot(m31, m32, m33);
    return out;
  }
  function getRotation(out, mat) {
    var scaling = new ARRAY_TYPE(3);
    getScaling(scaling, mat);
    var is1 = 1 / scaling[0];
    var is2 = 1 / scaling[1];
    var is3 = 1 / scaling[2];
    var sm11 = mat[0] * is1;
    var sm12 = mat[1] * is2;
    var sm13 = mat[2] * is3;
    var sm21 = mat[4] * is1;
    var sm22 = mat[5] * is2;
    var sm23 = mat[6] * is3;
    var sm31 = mat[8] * is1;
    var sm32 = mat[9] * is2;
    var sm33 = mat[10] * is3;
    var trace = sm11 + sm22 + sm33;
    var S = 0;
    if (trace > 0) {
      S = Math.sqrt(trace + 1) * 2;
      out[3] = 0.25 * S;
      out[0] = (sm23 - sm32) / S;
      out[1] = (sm31 - sm13) / S;
      out[2] = (sm12 - sm21) / S;
    } else if (sm11 > sm22 && sm11 > sm33) {
      S = Math.sqrt(1 + sm11 - sm22 - sm33) * 2;
      out[3] = (sm23 - sm32) / S;
      out[0] = 0.25 * S;
      out[1] = (sm12 + sm21) / S;
      out[2] = (sm31 + sm13) / S;
    } else if (sm22 > sm33) {
      S = Math.sqrt(1 + sm22 - sm11 - sm33) * 2;
      out[3] = (sm31 - sm13) / S;
      out[0] = (sm12 + sm21) / S;
      out[1] = 0.25 * S;
      out[2] = (sm23 + sm32) / S;
    } else {
      S = Math.sqrt(1 + sm33 - sm11 - sm22) * 2;
      out[3] = (sm12 - sm21) / S;
      out[0] = (sm31 + sm13) / S;
      out[1] = (sm23 + sm32) / S;
      out[2] = 0.25 * S;
    }
    return out;
  }
  function fromRotationTranslationScale(out, q, v, s) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    out[0] = (1 - (yy + zz)) * sx;
    out[1] = (xy + wz) * sx;
    out[2] = (xz - wy) * sx;
    out[3] = 0;
    out[4] = (xy - wz) * sy;
    out[5] = (1 - (xx + zz)) * sy;
    out[6] = (yz + wx) * sy;
    out[7] = 0;
    out[8] = (xz + wy) * sz;
    out[9] = (yz - wx) * sz;
    out[10] = (1 - (xx + yy)) * sz;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromRotationTranslationScaleOrigin(out, q, v, s, o) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    var ox = o[0];
    var oy = o[1];
    var oz = o[2];
    var out0 = (1 - (yy + zz)) * sx;
    var out1 = (xy + wz) * sx;
    var out2 = (xz - wy) * sx;
    var out4 = (xy - wz) * sy;
    var out5 = (1 - (xx + zz)) * sy;
    var out6 = (yz + wx) * sy;
    var out8 = (xz + wy) * sz;
    var out9 = (yz - wx) * sz;
    var out10 = (1 - (xx + yy)) * sz;
    out[0] = out0;
    out[1] = out1;
    out[2] = out2;
    out[3] = 0;
    out[4] = out4;
    out[5] = out5;
    out[6] = out6;
    out[7] = 0;
    out[8] = out8;
    out[9] = out9;
    out[10] = out10;
    out[11] = 0;
    out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);
    out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);
    out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);
    out[15] = 1;
    return out;
  }
  function fromQuat(out, q) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var yx = y * x2;
    var yy = y * y2;
    var zx = z * x2;
    var zy = z * y2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - yy - zz;
    out[1] = yx + wz;
    out[2] = zx - wy;
    out[3] = 0;
    out[4] = yx - wz;
    out[5] = 1 - xx - zz;
    out[6] = zy + wx;
    out[7] = 0;
    out[8] = zx + wy;
    out[9] = zy - wx;
    out[10] = 1 - xx - yy;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function frustum(out, left, right, bottom, top, near, far) {
    var rl = 1 / (right - left);
    var tb = 1 / (top - bottom);
    var nf = 1 / (near - far);
    out[0] = near * 2 * rl;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = near * 2 * tb;
    out[6] = 0;
    out[7] = 0;
    out[8] = (right + left) * rl;
    out[9] = (top + bottom) * tb;
    out[10] = (far + near) * nf;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near * 2 * nf;
    out[15] = 0;
    return out;
  }
  function perspectiveNO(out, fovy, aspect, near, far) {
    var f = 1 / Math.tan(fovy / 2), nf;
    out[0] = f / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = (far + near) * nf;
      out[14] = 2 * far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -2 * near;
    }
    return out;
  }
  var perspective = perspectiveNO;
  function perspectiveZO(out, fovy, aspect, near, far) {
    var f = 1 / Math.tan(fovy / 2), nf;
    out[0] = f / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = far * nf;
      out[14] = far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -near;
    }
    return out;
  }
  function perspectiveFromFieldOfView(out, fov, near, far) {
    var upTan = Math.tan(fov.upDegrees * Math.PI / 180);
    var downTan = Math.tan(fov.downDegrees * Math.PI / 180);
    var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180);
    var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180);
    var xScale = 2 / (leftTan + rightTan);
    var yScale = 2 / (upTan + downTan);
    out[0] = xScale;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = yScale;
    out[6] = 0;
    out[7] = 0;
    out[8] = -((leftTan - rightTan) * xScale * 0.5);
    out[9] = (upTan - downTan) * yScale * 0.5;
    out[10] = far / (near - far);
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near / (near - far);
    out[15] = 0;
    return out;
  }
  function orthoNO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 2 * nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = (far + near) * nf;
    out[15] = 1;
    return out;
  }
  var ortho = orthoNO;
  function orthoZO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = near * nf;
    out[15] = 1;
    return out;
  }
  function lookAt(out, eye, center, up) {
    var x0, x1, x2, y0, y1, y2, z0, z1, z2, len4;
    var eyex = eye[0];
    var eyey = eye[1];
    var eyez = eye[2];
    var upx = up[0];
    var upy = up[1];
    var upz = up[2];
    var centerx = center[0];
    var centery = center[1];
    var centerz = center[2];
    if (Math.abs(eyex - centerx) < EPSILON && Math.abs(eyey - centery) < EPSILON && Math.abs(eyez - centerz) < EPSILON) {
      return identity(out);
    }
    z0 = eyex - centerx;
    z1 = eyey - centery;
    z2 = eyez - centerz;
    len4 = 1 / Math.hypot(z0, z1, z2);
    z0 *= len4;
    z1 *= len4;
    z2 *= len4;
    x0 = upy * z2 - upz * z1;
    x1 = upz * z0 - upx * z2;
    x2 = upx * z1 - upy * z0;
    len4 = Math.hypot(x0, x1, x2);
    if (!len4) {
      x0 = 0;
      x1 = 0;
      x2 = 0;
    } else {
      len4 = 1 / len4;
      x0 *= len4;
      x1 *= len4;
      x2 *= len4;
    }
    y0 = z1 * x2 - z2 * x1;
    y1 = z2 * x0 - z0 * x2;
    y2 = z0 * x1 - z1 * x0;
    len4 = Math.hypot(y0, y1, y2);
    if (!len4) {
      y0 = 0;
      y1 = 0;
      y2 = 0;
    } else {
      len4 = 1 / len4;
      y0 *= len4;
      y1 *= len4;
      y2 *= len4;
    }
    out[0] = x0;
    out[1] = y0;
    out[2] = z0;
    out[3] = 0;
    out[4] = x1;
    out[5] = y1;
    out[6] = z1;
    out[7] = 0;
    out[8] = x2;
    out[9] = y2;
    out[10] = z2;
    out[11] = 0;
    out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
    out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
    out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
    out[15] = 1;
    return out;
  }
  function targetTo(out, eye, target, up) {
    var eyex = eye[0], eyey = eye[1], eyez = eye[2], upx = up[0], upy = up[1], upz = up[2];
    var z0 = eyex - target[0], z1 = eyey - target[1], z2 = eyez - target[2];
    var len4 = z0 * z0 + z1 * z1 + z2 * z2;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
      z0 *= len4;
      z1 *= len4;
      z2 *= len4;
    }
    var x0 = upy * z2 - upz * z1, x1 = upz * z0 - upx * z2, x2 = upx * z1 - upy * z0;
    len4 = x0 * x0 + x1 * x1 + x2 * x2;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
      x0 *= len4;
      x1 *= len4;
      x2 *= len4;
    }
    out[0] = x0;
    out[1] = x1;
    out[2] = x2;
    out[3] = 0;
    out[4] = z1 * x2 - z2 * x1;
    out[5] = z2 * x0 - z0 * x2;
    out[6] = z0 * x1 - z1 * x0;
    out[7] = 0;
    out[8] = z0;
    out[9] = z1;
    out[10] = z2;
    out[11] = 0;
    out[12] = eyex;
    out[13] = eyey;
    out[14] = eyez;
    out[15] = 1;
    return out;
  }
  function str(a) {
    return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";
  }
  function frob(a) {
    return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);
  }
  function add(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    out[8] = a[8] + b[8];
    out[9] = a[9] + b[9];
    out[10] = a[10] + b[10];
    out[11] = a[11] + b[11];
    out[12] = a[12] + b[12];
    out[13] = a[13] + b[13];
    out[14] = a[14] + b[14];
    out[15] = a[15] + b[15];
    return out;
  }
  function subtract(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    out[3] = a[3] - b[3];
    out[4] = a[4] - b[4];
    out[5] = a[5] - b[5];
    out[6] = a[6] - b[6];
    out[7] = a[7] - b[7];
    out[8] = a[8] - b[8];
    out[9] = a[9] - b[9];
    out[10] = a[10] - b[10];
    out[11] = a[11] - b[11];
    out[12] = a[12] - b[12];
    out[13] = a[13] - b[13];
    out[14] = a[14] - b[14];
    out[15] = a[15] - b[15];
    return out;
  }
  function multiplyScalar(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    out[8] = a[8] * b;
    out[9] = a[9] * b;
    out[10] = a[10] * b;
    out[11] = a[11] * b;
    out[12] = a[12] * b;
    out[13] = a[13] * b;
    out[14] = a[14] * b;
    out[15] = a[15] * b;
    return out;
  }
  function multiplyScalarAndAdd(out, a, b, scale6) {
    out[0] = a[0] + b[0] * scale6;
    out[1] = a[1] + b[1] * scale6;
    out[2] = a[2] + b[2] * scale6;
    out[3] = a[3] + b[3] * scale6;
    out[4] = a[4] + b[4] * scale6;
    out[5] = a[5] + b[5] * scale6;
    out[6] = a[6] + b[6] * scale6;
    out[7] = a[7] + b[7] * scale6;
    out[8] = a[8] + b[8] * scale6;
    out[9] = a[9] + b[9] * scale6;
    out[10] = a[10] + b[10] * scale6;
    out[11] = a[11] + b[11] * scale6;
    out[12] = a[12] + b[12] * scale6;
    out[13] = a[13] + b[13] * scale6;
    out[14] = a[14] + b[14] * scale6;
    out[15] = a[15] + b[15] * scale6;
    return out;
  }
  function exactEquals(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];
  }
  function equals(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var a8 = a[8], a9 = a[9], a10 = a[10], a11 = a[11];
    var a12 = a[12], a13 = a[13], a14 = a[14], a15 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    var b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    var b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11];
    var b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= EPSILON * Math.max(1, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= EPSILON * Math.max(1, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= EPSILON * Math.max(1, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= EPSILON * Math.max(1, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= EPSILON * Math.max(1, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= EPSILON * Math.max(1, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= EPSILON * Math.max(1, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= EPSILON * Math.max(1, Math.abs(a15), Math.abs(b15));
  }
  var mul = multiply;
  var sub = subtract;

  // node_modules/gl-matrix/esm/quat.js
  var quat_exports = {};
  __export(quat_exports, {
    add: () => add4,
    calculateW: () => calculateW,
    clone: () => clone4,
    conjugate: () => conjugate,
    copy: () => copy4,
    create: () => create5,
    dot: () => dot3,
    equals: () => equals4,
    exactEquals: () => exactEquals4,
    exp: () => exp,
    fromEuler: () => fromEuler,
    fromMat3: () => fromMat3,
    fromValues: () => fromValues4,
    getAngle: () => getAngle,
    getAxisAngle: () => getAxisAngle,
    identity: () => identity2,
    invert: () => invert2,
    len: () => len2,
    length: () => length3,
    lerp: () => lerp3,
    ln: () => ln,
    mul: () => mul3,
    multiply: () => multiply3,
    normalize: () => normalize3,
    pow: () => pow,
    random: () => random3,
    rotateX: () => rotateX3,
    rotateY: () => rotateY3,
    rotateZ: () => rotateZ3,
    rotationTo: () => rotationTo,
    scale: () => scale4,
    set: () => set4,
    setAxes: () => setAxes,
    setAxisAngle: () => setAxisAngle,
    slerp: () => slerp,
    sqlerp: () => sqlerp,
    sqrLen: () => sqrLen2,
    squaredLength: () => squaredLength3,
    str: () => str3
  });

  // node_modules/gl-matrix/esm/vec3.js
  var vec3_exports = {};
  __export(vec3_exports, {
    add: () => add2,
    angle: () => angle,
    bezier: () => bezier,
    ceil: () => ceil,
    clone: () => clone2,
    copy: () => copy2,
    create: () => create3,
    cross: () => cross,
    dist: () => dist,
    distance: () => distance,
    div: () => div,
    divide: () => divide,
    dot: () => dot,
    equals: () => equals2,
    exactEquals: () => exactEquals2,
    floor: () => floor,
    forEach: () => forEach,
    fromValues: () => fromValues2,
    hermite: () => hermite,
    inverse: () => inverse,
    len: () => len,
    length: () => length,
    lerp: () => lerp,
    max: () => max,
    min: () => min,
    mul: () => mul2,
    multiply: () => multiply2,
    negate: () => negate,
    normalize: () => normalize,
    random: () => random2,
    rotateX: () => rotateX2,
    rotateY: () => rotateY2,
    rotateZ: () => rotateZ2,
    round: () => round,
    scale: () => scale2,
    scaleAndAdd: () => scaleAndAdd,
    set: () => set2,
    sqrDist: () => sqrDist,
    sqrLen: () => sqrLen,
    squaredDistance: () => squaredDistance,
    squaredLength: () => squaredLength,
    str: () => str2,
    sub: () => sub2,
    subtract: () => subtract2,
    transformMat3: () => transformMat3,
    transformMat4: () => transformMat4,
    transformQuat: () => transformQuat,
    zero: () => zero
  });
  function create3() {
    var out = new ARRAY_TYPE(3);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    return out;
  }
  function clone2(a) {
    var out = new ARRAY_TYPE(3);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function length(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return Math.hypot(x, y, z);
  }
  function fromValues2(x, y, z) {
    var out = new ARRAY_TYPE(3);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function copy2(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function set2(out, x, y, z) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function add2(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    return out;
  }
  function subtract2(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    return out;
  }
  function multiply2(out, a, b) {
    out[0] = a[0] * b[0];
    out[1] = a[1] * b[1];
    out[2] = a[2] * b[2];
    return out;
  }
  function divide(out, a, b) {
    out[0] = a[0] / b[0];
    out[1] = a[1] / b[1];
    out[2] = a[2] / b[2];
    return out;
  }
  function ceil(out, a) {
    out[0] = Math.ceil(a[0]);
    out[1] = Math.ceil(a[1]);
    out[2] = Math.ceil(a[2]);
    return out;
  }
  function floor(out, a) {
    out[0] = Math.floor(a[0]);
    out[1] = Math.floor(a[1]);
    out[2] = Math.floor(a[2]);
    return out;
  }
  function min(out, a, b) {
    out[0] = Math.min(a[0], b[0]);
    out[1] = Math.min(a[1], b[1]);
    out[2] = Math.min(a[2], b[2]);
    return out;
  }
  function max(out, a, b) {
    out[0] = Math.max(a[0], b[0]);
    out[1] = Math.max(a[1], b[1]);
    out[2] = Math.max(a[2], b[2]);
    return out;
  }
  function round(out, a) {
    out[0] = Math.round(a[0]);
    out[1] = Math.round(a[1]);
    out[2] = Math.round(a[2]);
    return out;
  }
  function scale2(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    return out;
  }
  function scaleAndAdd(out, a, b, scale6) {
    out[0] = a[0] + b[0] * scale6;
    out[1] = a[1] + b[1] * scale6;
    out[2] = a[2] + b[2] * scale6;
    return out;
  }
  function distance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return Math.hypot(x, y, z);
  }
  function squaredDistance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return x * x + y * y + z * z;
  }
  function squaredLength(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return x * x + y * y + z * z;
  }
  function negate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    return out;
  }
  function inverse(out, a) {
    out[0] = 1 / a[0];
    out[1] = 1 / a[1];
    out[2] = 1 / a[2];
    return out;
  }
  function normalize(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var len4 = x * x + y * y + z * z;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
    }
    out[0] = a[0] * len4;
    out[1] = a[1] * len4;
    out[2] = a[2] * len4;
    return out;
  }
  function dot(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
  }
  function cross(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2];
    var bx = b[0], by = b[1], bz = b[2];
    out[0] = ay * bz - az * by;
    out[1] = az * bx - ax * bz;
    out[2] = ax * by - ay * bx;
    return out;
  }
  function lerp(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    return out;
  }
  function hermite(out, a, b, c, d, t) {
    var factorTimes2 = t * t;
    var factor1 = factorTimes2 * (2 * t - 3) + 1;
    var factor2 = factorTimes2 * (t - 2) + t;
    var factor3 = factorTimes2 * (t - 1);
    var factor4 = factorTimes2 * (3 - 2 * t);
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function bezier(out, a, b, c, d, t) {
    var inverseFactor = 1 - t;
    var inverseFactorTimesTwo = inverseFactor * inverseFactor;
    var factorTimes2 = t * t;
    var factor1 = inverseFactorTimesTwo * inverseFactor;
    var factor2 = 3 * t * inverseFactorTimesTwo;
    var factor3 = 3 * factorTimes2 * inverseFactor;
    var factor4 = factorTimes2 * t;
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function random2(out, scale6) {
    scale6 = scale6 || 1;
    var r = RANDOM() * 2 * Math.PI;
    var z = RANDOM() * 2 - 1;
    var zScale = Math.sqrt(1 - z * z) * scale6;
    out[0] = Math.cos(r) * zScale;
    out[1] = Math.sin(r) * zScale;
    out[2] = z * scale6;
    return out;
  }
  function transformMat4(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    var w = m[3] * x + m[7] * y + m[11] * z + m[15];
    w = w || 1;
    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;
    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;
    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;
    return out;
  }
  function transformMat3(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x * m[0] + y * m[3] + z * m[6];
    out[1] = x * m[1] + y * m[4] + z * m[7];
    out[2] = x * m[2] + y * m[5] + z * m[8];
    return out;
  }
  function transformQuat(out, a, q) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3];
    var x = a[0], y = a[1], z = a[2];
    var uvx = qy * z - qz * y, uvy = qz * x - qx * z, uvz = qx * y - qy * x;
    var uuvx = qy * uvz - qz * uvy, uuvy = qz * uvx - qx * uvz, uuvz = qx * uvy - qy * uvx;
    var w2 = qw * 2;
    uvx *= w2;
    uvy *= w2;
    uvz *= w2;
    uuvx *= 2;
    uuvy *= 2;
    uuvz *= 2;
    out[0] = x + uvx + uuvx;
    out[1] = y + uvy + uuvy;
    out[2] = z + uvz + uuvz;
    return out;
  }
  function rotateX2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0];
    r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);
    r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateY2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);
    r[1] = p[1];
    r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateZ2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);
    r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);
    r[2] = p[2];
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function angle(a, b) {
    var ax = a[0], ay = a[1], az = a[2], bx = b[0], by = b[1], bz = b[2], mag1 = Math.sqrt(ax * ax + ay * ay + az * az), mag2 = Math.sqrt(bx * bx + by * by + bz * bz), mag = mag1 * mag2, cosine = mag && dot(a, b) / mag;
    return Math.acos(Math.min(Math.max(cosine, -1), 1));
  }
  function zero(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    return out;
  }
  function str2(a) {
    return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";
  }
  function exactEquals2(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
  }
  function equals2(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2];
    var b0 = b[0], b1 = b[1], b2 = b[2];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2));
  }
  var sub2 = subtract2;
  var mul2 = multiply2;
  var div = divide;
  var dist = distance;
  var sqrDist = squaredDistance;
  var len = length;
  var sqrLen = squaredLength;
  var forEach = function() {
    var vec = create3();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l;
      if (!stride) {
        stride = 3;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l = Math.min(count * stride + offset2, a.length);
      } else {
        l = a.length;
      }
      for (i = offset2; i < l; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
      }
      return a;
    };
  }();

  // node_modules/gl-matrix/esm/vec4.js
  function create4() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
    }
    return out;
  }
  function clone3(a) {
    var out = new ARRAY_TYPE(4);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function fromValues3(x, y, z, w) {
    var out = new ARRAY_TYPE(4);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function copy3(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function set3(out, x, y, z, w) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function add3(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    return out;
  }
  function scale3(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    return out;
  }
  function length2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return Math.hypot(x, y, z, w);
  }
  function squaredLength2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return x * x + y * y + z * z + w * w;
  }
  function normalize2(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    var len4 = x * x + y * y + z * z + w * w;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
    }
    out[0] = x * len4;
    out[1] = y * len4;
    out[2] = z * len4;
    out[3] = w * len4;
    return out;
  }
  function dot2(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];
  }
  function lerp2(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    var aw = a[3];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    out[3] = aw + t * (b[3] - aw);
    return out;
  }
  function exactEquals3(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];
  }
  function equals3(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3));
  }
  var forEach2 = function() {
    var vec = create4();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l;
      if (!stride) {
        stride = 4;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l = Math.min(count * stride + offset2, a.length);
      } else {
        l = a.length;
      }
      for (i = offset2; i < l; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        vec[3] = a[i + 3];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
        a[i + 3] = vec[3];
      }
      return a;
    };
  }();

  // node_modules/gl-matrix/esm/quat.js
  function create5() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    out[3] = 1;
    return out;
  }
  function identity2(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    return out;
  }
  function setAxisAngle(out, axis, rad) {
    rad = rad * 0.5;
    var s = Math.sin(rad);
    out[0] = s * axis[0];
    out[1] = s * axis[1];
    out[2] = s * axis[2];
    out[3] = Math.cos(rad);
    return out;
  }
  function getAxisAngle(out_axis, q) {
    var rad = Math.acos(q[3]) * 2;
    var s = Math.sin(rad / 2);
    if (s > EPSILON) {
      out_axis[0] = q[0] / s;
      out_axis[1] = q[1] / s;
      out_axis[2] = q[2] / s;
    } else {
      out_axis[0] = 1;
      out_axis[1] = 0;
      out_axis[2] = 0;
    }
    return rad;
  }
  function getAngle(a, b) {
    var dotproduct = dot3(a, b);
    return Math.acos(2 * dotproduct * dotproduct - 1);
  }
  function multiply3(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    out[0] = ax * bw + aw * bx + ay * bz - az * by;
    out[1] = ay * bw + aw * by + az * bx - ax * bz;
    out[2] = az * bw + aw * bz + ax * by - ay * bx;
    out[3] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function rotateX3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + aw * bx;
    out[1] = ay * bw + az * bx;
    out[2] = az * bw - ay * bx;
    out[3] = aw * bw - ax * bx;
    return out;
  }
  function rotateY3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var by = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw - az * by;
    out[1] = ay * bw + aw * by;
    out[2] = az * bw + ax * by;
    out[3] = aw * bw - ay * by;
    return out;
  }
  function rotateZ3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bz = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + ay * bz;
    out[1] = ay * bw - ax * bz;
    out[2] = az * bw + aw * bz;
    out[3] = aw * bw - az * bz;
    return out;
  }
  function calculateW(out, a) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = Math.sqrt(Math.abs(1 - x * x - y * y - z * z));
    return out;
  }
  function exp(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var et = Math.exp(w);
    var s = r > 0 ? et * Math.sin(r) / r : 0;
    out[0] = x * s;
    out[1] = y * s;
    out[2] = z * s;
    out[3] = et * Math.cos(r);
    return out;
  }
  function ln(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var t = r > 0 ? Math.atan2(r, w) / r : 0;
    out[0] = x * t;
    out[1] = y * t;
    out[2] = z * t;
    out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);
    return out;
  }
  function pow(out, a, b) {
    ln(out, a);
    scale4(out, out, b);
    exp(out, out);
    return out;
  }
  function slerp(out, a, b, t) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    var omega, cosom, sinom, scale0, scale1;
    cosom = ax * bx + ay * by + az * bz + aw * bw;
    if (cosom < 0) {
      cosom = -cosom;
      bx = -bx;
      by = -by;
      bz = -bz;
      bw = -bw;
    }
    if (1 - cosom > EPSILON) {
      omega = Math.acos(cosom);
      sinom = Math.sin(omega);
      scale0 = Math.sin((1 - t) * omega) / sinom;
      scale1 = Math.sin(t * omega) / sinom;
    } else {
      scale0 = 1 - t;
      scale1 = t;
    }
    out[0] = scale0 * ax + scale1 * bx;
    out[1] = scale0 * ay + scale1 * by;
    out[2] = scale0 * az + scale1 * bz;
    out[3] = scale0 * aw + scale1 * bw;
    return out;
  }
  function random3(out) {
    var u1 = RANDOM();
    var u2 = RANDOM();
    var u3 = RANDOM();
    var sqrt1MinusU1 = Math.sqrt(1 - u1);
    var sqrtU1 = Math.sqrt(u1);
    out[0] = sqrt1MinusU1 * Math.sin(2 * Math.PI * u2);
    out[1] = sqrt1MinusU1 * Math.cos(2 * Math.PI * u2);
    out[2] = sqrtU1 * Math.sin(2 * Math.PI * u3);
    out[3] = sqrtU1 * Math.cos(2 * Math.PI * u3);
    return out;
  }
  function invert2(out, a) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var dot5 = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;
    var invDot = dot5 ? 1 / dot5 : 0;
    out[0] = -a0 * invDot;
    out[1] = -a1 * invDot;
    out[2] = -a2 * invDot;
    out[3] = a3 * invDot;
    return out;
  }
  function conjugate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    return out;
  }
  function fromMat3(out, m) {
    var fTrace = m[0] + m[4] + m[8];
    var fRoot;
    if (fTrace > 0) {
      fRoot = Math.sqrt(fTrace + 1);
      out[3] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[0] = (m[5] - m[7]) * fRoot;
      out[1] = (m[6] - m[2]) * fRoot;
      out[2] = (m[1] - m[3]) * fRoot;
    } else {
      var i = 0;
      if (m[4] > m[0])
        i = 1;
      if (m[8] > m[i * 3 + i])
        i = 2;
      var j = (i + 1) % 3;
      var k = (i + 2) % 3;
      fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1);
      out[i] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;
      out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;
      out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;
    }
    return out;
  }
  function fromEuler(out, x, y, z) {
    var halfToRad = 0.5 * Math.PI / 180;
    x *= halfToRad;
    y *= halfToRad;
    z *= halfToRad;
    var sx = Math.sin(x);
    var cx = Math.cos(x);
    var sy = Math.sin(y);
    var cy = Math.cos(y);
    var sz = Math.sin(z);
    var cz = Math.cos(z);
    out[0] = sx * cy * cz - cx * sy * sz;
    out[1] = cx * sy * cz + sx * cy * sz;
    out[2] = cx * cy * sz - sx * sy * cz;
    out[3] = cx * cy * cz + sx * sy * sz;
    return out;
  }
  function str3(a) {
    return "quat(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ")";
  }
  var clone4 = clone3;
  var fromValues4 = fromValues3;
  var copy4 = copy3;
  var set4 = set3;
  var add4 = add3;
  var mul3 = multiply3;
  var scale4 = scale3;
  var dot3 = dot2;
  var lerp3 = lerp2;
  var length3 = length2;
  var len2 = length3;
  var squaredLength3 = squaredLength2;
  var sqrLen2 = squaredLength3;
  var normalize3 = normalize2;
  var exactEquals4 = exactEquals3;
  var equals4 = equals3;
  var rotationTo = function() {
    var tmpvec3 = create3();
    var xUnitVec3 = fromValues2(1, 0, 0);
    var yUnitVec3 = fromValues2(0, 1, 0);
    return function(out, a, b) {
      var dot5 = dot(a, b);
      if (dot5 < -0.999999) {
        cross(tmpvec3, xUnitVec3, a);
        if (len(tmpvec3) < 1e-6)
          cross(tmpvec3, yUnitVec3, a);
        normalize(tmpvec3, tmpvec3);
        setAxisAngle(out, tmpvec3, Math.PI);
        return out;
      } else if (dot5 > 0.999999) {
        out[0] = 0;
        out[1] = 0;
        out[2] = 0;
        out[3] = 1;
        return out;
      } else {
        cross(tmpvec3, a, b);
        out[0] = tmpvec3[0];
        out[1] = tmpvec3[1];
        out[2] = tmpvec3[2];
        out[3] = 1 + dot5;
        return normalize3(out, out);
      }
    };
  }();
  var sqlerp = function() {
    var temp1 = create5();
    var temp2 = create5();
    return function(out, a, b, c, d, t) {
      slerp(temp1, a, d, t);
      slerp(temp2, b, c, t);
      slerp(out, temp1, temp2, 2 * t * (1 - t));
      return out;
    };
  }();
  var setAxes = function() {
    var matr = create();
    return function(out, view, right, up) {
      matr[0] = right[0];
      matr[3] = right[1];
      matr[6] = right[2];
      matr[1] = up[0];
      matr[4] = up[1];
      matr[7] = up[2];
      matr[2] = -view[0];
      matr[5] = -view[1];
      matr[8] = -view[2];
      return normalize3(out, fromMat3(out, matr));
    };
  }();

  // node_modules/gl-matrix/esm/quat2.js
  var quat2_exports = {};
  __export(quat2_exports, {
    add: () => add5,
    clone: () => clone5,
    conjugate: () => conjugate2,
    copy: () => copy5,
    create: () => create6,
    dot: () => dot4,
    equals: () => equals5,
    exactEquals: () => exactEquals5,
    fromMat4: () => fromMat4,
    fromRotation: () => fromRotation2,
    fromRotationTranslation: () => fromRotationTranslation2,
    fromRotationTranslationValues: () => fromRotationTranslationValues,
    fromTranslation: () => fromTranslation2,
    fromValues: () => fromValues5,
    getDual: () => getDual,
    getReal: () => getReal,
    getTranslation: () => getTranslation2,
    identity: () => identity3,
    invert: () => invert3,
    len: () => len3,
    length: () => length4,
    lerp: () => lerp4,
    mul: () => mul4,
    multiply: () => multiply4,
    normalize: () => normalize4,
    rotateAroundAxis: () => rotateAroundAxis,
    rotateByQuatAppend: () => rotateByQuatAppend,
    rotateByQuatPrepend: () => rotateByQuatPrepend,
    rotateX: () => rotateX4,
    rotateY: () => rotateY4,
    rotateZ: () => rotateZ4,
    scale: () => scale5,
    set: () => set5,
    setDual: () => setDual,
    setReal: () => setReal,
    sqrLen: () => sqrLen3,
    squaredLength: () => squaredLength4,
    str: () => str4,
    translate: () => translate2
  });
  function create6() {
    var dq = new ARRAY_TYPE(8);
    if (ARRAY_TYPE != Float32Array) {
      dq[0] = 0;
      dq[1] = 0;
      dq[2] = 0;
      dq[4] = 0;
      dq[5] = 0;
      dq[6] = 0;
      dq[7] = 0;
    }
    dq[3] = 1;
    return dq;
  }
  function clone5(a) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = a[0];
    dq[1] = a[1];
    dq[2] = a[2];
    dq[3] = a[3];
    dq[4] = a[4];
    dq[5] = a[5];
    dq[6] = a[6];
    dq[7] = a[7];
    return dq;
  }
  function fromValues5(x1, y1, z1, w1, x2, y2, z2, w2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    dq[4] = x2;
    dq[5] = y2;
    dq[6] = z2;
    dq[7] = w2;
    return dq;
  }
  function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    var ax = x2 * 0.5, ay = y2 * 0.5, az = z2 * 0.5;
    dq[4] = ax * w1 + ay * z1 - az * y1;
    dq[5] = ay * w1 + az * x1 - ax * z1;
    dq[6] = az * w1 + ax * y1 - ay * x1;
    dq[7] = -ax * x1 - ay * y1 - az * z1;
    return dq;
  }
  function fromRotationTranslation2(out, q, t) {
    var ax = t[0] * 0.5, ay = t[1] * 0.5, az = t[2] * 0.5, bx = q[0], by = q[1], bz = q[2], bw = q[3];
    out[0] = bx;
    out[1] = by;
    out[2] = bz;
    out[3] = bw;
    out[4] = ax * bw + ay * bz - az * by;
    out[5] = ay * bw + az * bx - ax * bz;
    out[6] = az * bw + ax * by - ay * bx;
    out[7] = -ax * bx - ay * by - az * bz;
    return out;
  }
  function fromTranslation2(out, t) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = t[0] * 0.5;
    out[5] = t[1] * 0.5;
    out[6] = t[2] * 0.5;
    out[7] = 0;
    return out;
  }
  function fromRotation2(out, q) {
    out[0] = q[0];
    out[1] = q[1];
    out[2] = q[2];
    out[3] = q[3];
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function fromMat4(out, a) {
    var outer = create5();
    getRotation(outer, a);
    var t = new ARRAY_TYPE(3);
    getTranslation(t, a);
    fromRotationTranslation2(out, outer, t);
    return out;
  }
  function copy5(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    return out;
  }
  function identity3(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function set5(out, x1, y1, z1, w1, x2, y2, z2, w2) {
    out[0] = x1;
    out[1] = y1;
    out[2] = z1;
    out[3] = w1;
    out[4] = x2;
    out[5] = y2;
    out[6] = z2;
    out[7] = w2;
    return out;
  }
  var getReal = copy4;
  function getDual(out, a) {
    out[0] = a[4];
    out[1] = a[5];
    out[2] = a[6];
    out[3] = a[7];
    return out;
  }
  var setReal = copy4;
  function setDual(out, q) {
    out[4] = q[0];
    out[5] = q[1];
    out[6] = q[2];
    out[7] = q[3];
    return out;
  }
  function getTranslation2(out, a) {
    var ax = a[4], ay = a[5], az = a[6], aw = a[7], bx = -a[0], by = -a[1], bz = -a[2], bw = a[3];
    out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
    out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
    out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    return out;
  }
  function translate2(out, a, v) {
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3], bx1 = v[0] * 0.5, by1 = v[1] * 0.5, bz1 = v[2] * 0.5, ax2 = a[4], ay2 = a[5], az2 = a[6], aw2 = a[7];
    out[0] = ax1;
    out[1] = ay1;
    out[2] = az1;
    out[3] = aw1;
    out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;
    out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;
    out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;
    out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;
    return out;
  }
  function rotateX4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateX3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateY4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateY3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateZ4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateZ3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateByQuatAppend(out, a, q) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3], ax = a[0], ay = a[1], az = a[2], aw = a[3];
    out[0] = ax * qw + aw * qx + ay * qz - az * qy;
    out[1] = ay * qw + aw * qy + az * qx - ax * qz;
    out[2] = az * qw + aw * qz + ax * qy - ay * qx;
    out[3] = aw * qw - ax * qx - ay * qy - az * qz;
    ax = a[4];
    ay = a[5];
    az = a[6];
    aw = a[7];
    out[4] = ax * qw + aw * qx + ay * qz - az * qy;
    out[5] = ay * qw + aw * qy + az * qx - ax * qz;
    out[6] = az * qw + aw * qz + ax * qy - ay * qx;
    out[7] = aw * qw - ax * qx - ay * qy - az * qz;
    return out;
  }
  function rotateByQuatPrepend(out, q, a) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3], bx = a[0], by = a[1], bz = a[2], bw = a[3];
    out[0] = qx * bw + qw * bx + qy * bz - qz * by;
    out[1] = qy * bw + qw * by + qz * bx - qx * bz;
    out[2] = qz * bw + qw * bz + qx * by - qy * bx;
    out[3] = qw * bw - qx * bx - qy * by - qz * bz;
    bx = a[4];
    by = a[5];
    bz = a[6];
    bw = a[7];
    out[4] = qx * bw + qw * bx + qy * bz - qz * by;
    out[5] = qy * bw + qw * by + qz * bx - qx * bz;
    out[6] = qz * bw + qw * bz + qx * by - qy * bx;
    out[7] = qw * bw - qx * bx - qy * by - qz * bz;
    return out;
  }
  function rotateAroundAxis(out, a, axis, rad) {
    if (Math.abs(rad) < EPSILON) {
      return copy5(out, a);
    }
    var axisLength = Math.hypot(axis[0], axis[1], axis[2]);
    rad = rad * 0.5;
    var s = Math.sin(rad);
    var bx = s * axis[0] / axisLength;
    var by = s * axis[1] / axisLength;
    var bz = s * axis[2] / axisLength;
    var bw = Math.cos(rad);
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3];
    out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    var ax = a[4], ay = a[5], az = a[6], aw = a[7];
    out[4] = ax * bw + aw * bx + ay * bz - az * by;
    out[5] = ay * bw + aw * by + az * bx - ax * bz;
    out[6] = az * bw + aw * bz + ax * by - ay * bx;
    out[7] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function add5(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    return out;
  }
  function multiply4(out, a, b) {
    var ax0 = a[0], ay0 = a[1], az0 = a[2], aw0 = a[3], bx1 = b[4], by1 = b[5], bz1 = b[6], bw1 = b[7], ax1 = a[4], ay1 = a[5], az1 = a[6], aw1 = a[7], bx0 = b[0], by0 = b[1], bz0 = b[2], bw0 = b[3];
    out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;
    out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;
    out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;
    out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;
    out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;
    out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;
    out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;
    out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;
    return out;
  }
  var mul4 = multiply4;
  function scale5(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    return out;
  }
  var dot4 = dot3;
  function lerp4(out, a, b, t) {
    var mt = 1 - t;
    if (dot4(a, b) < 0)
      t = -t;
    out[0] = a[0] * mt + b[0] * t;
    out[1] = a[1] * mt + b[1] * t;
    out[2] = a[2] * mt + b[2] * t;
    out[3] = a[3] * mt + b[3] * t;
    out[4] = a[4] * mt + b[4] * t;
    out[5] = a[5] * mt + b[5] * t;
    out[6] = a[6] * mt + b[6] * t;
    out[7] = a[7] * mt + b[7] * t;
    return out;
  }
  function invert3(out, a) {
    var sqlen = squaredLength4(a);
    out[0] = -a[0] / sqlen;
    out[1] = -a[1] / sqlen;
    out[2] = -a[2] / sqlen;
    out[3] = a[3] / sqlen;
    out[4] = -a[4] / sqlen;
    out[5] = -a[5] / sqlen;
    out[6] = -a[6] / sqlen;
    out[7] = a[7] / sqlen;
    return out;
  }
  function conjugate2(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    out[4] = -a[4];
    out[5] = -a[5];
    out[6] = -a[6];
    out[7] = a[7];
    return out;
  }
  var length4 = length3;
  var len3 = length4;
  var squaredLength4 = squaredLength3;
  var sqrLen3 = squaredLength4;
  function normalize4(out, a) {
    var magnitude = squaredLength4(a);
    if (magnitude > 0) {
      magnitude = Math.sqrt(magnitude);
      var a0 = a[0] / magnitude;
      var a1 = a[1] / magnitude;
      var a2 = a[2] / magnitude;
      var a3 = a[3] / magnitude;
      var b0 = a[4];
      var b1 = a[5];
      var b2 = a[6];
      var b3 = a[7];
      var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;
      out[0] = a0;
      out[1] = a1;
      out[2] = a2;
      out[3] = a3;
      out[4] = (b0 - a0 * a_dot_b) / magnitude;
      out[5] = (b1 - a1 * a_dot_b) / magnitude;
      out[6] = (b2 - a2 * a_dot_b) / magnitude;
      out[7] = (b3 - a3 * a_dot_b) / magnitude;
    }
    return out;
  }
  function str4(a) {
    return "quat2(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ")";
  }
  function exactEquals5(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];
  }
  function equals5(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7));
  }

  // node_modules/@wonderlandengine/components/dist/hit-test-location.js
  var __decorate3 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var HitTestLocation = class extends Component {
    tempScaling = new Float32Array(3);
    visible = false;
    xrHitTestSource = null;
    /** Reference space for creating the hit test when the session starts */
    xrReferenceSpace = null;
    /**
     * For maintaining backwards compatibility: Whether to scale the object to 0 and back.
     * @deprecated Use onHitLost and onHitFound instead.
     */
    scaleObject = true;
    /** Emits an event when the hit test switches from visible to invisible */
    onHitLost = new Emitter();
    /** Emits an event when the hit test switches from invisible to visible */
    onHitFound = new Emitter();
    onSessionStartCallback = null;
    onSessionEndCallback = null;
    start() {
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
      if (this.scaleObject) {
        this.tempScaling.set(this.object.scalingLocal);
        this.object.scale([0, 0, 0]);
        this.onHitLost.add(() => {
          this.tempScaling.set(this.object.scalingLocal);
          this.object.scale([0, 0, 0]);
        });
        this.onHitFound.add(() => {
          this.object.scalingLocal.set(this.tempScaling);
          this.object.setDirty();
        });
      }
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    update() {
      const wasVisible = this.visible;
      if (this.xrHitTestSource) {
        const frame = this.engine.xrFrame;
        if (!frame)
          return;
        let hitTestResults = frame.getHitTestResults(this.xrHitTestSource);
        if (hitTestResults.length > 0) {
          let pose = hitTestResults[0].getPose(this.engine.xr.currentReferenceSpace);
          this.visible = !!pose;
          if (pose) {
            setXRRigidTransformLocal(this.object, pose.transform);
          }
        } else {
          this.visible = false;
        }
      }
      if (this.visible != wasVisible) {
        (this.visible ? this.onHitFound : this.onHitLost).notify(this);
      }
    }
    getHitTestResults(frame = this.engine.xr?.frame ?? null) {
      if (!frame)
        return [];
      if (!this.xrHitTestSource)
        return [];
      return frame.getHitTestResults(this.xrHitTestSource);
    }
    onXRSessionStart(session) {
      if (session.requestHitTestSource === void 0) {
        console.error("hit-test-location: hit test feature not available. Deactivating component.");
        this.active = false;
        return;
      }
      session.requestHitTestSource({
        space: this.xrReferenceSpace ?? this.engine.xr.referenceSpaceForType("viewer")
      }).then((hitTestSource) => {
        this.xrHitTestSource = hitTestSource;
      }).catch(console.error);
    }
    onXRSessionEnd() {
      if (!this.xrHitTestSource)
        return;
      this.xrHitTestSource.cancel();
      this.xrHitTestSource = null;
    }
  };
  __publicField(HitTestLocation, "TypeName", "hit-test-location");
  __decorate3([
    property.bool(true)
  ], HitTestLocation.prototype, "scaleObject", void 0);

  // node_modules/@wonderlandengine/components/dist/cursor.js
  var __decorate4 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec2 = new Float32Array(3);
  var ZERO = [0, 0, 0];
  var CursorTargetEmitters = class {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
  };
  var Cursor = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HitTestLocation);
    }
    _collisionMask = 0;
    _onDeactivateCallbacks = [];
    _input = null;
    _origin = new Float32Array(3);
    _cursorObjScale = new Float32Array(3);
    _direction = new Float32Array(3);
    _projectionMatrix = new Float32Array(16);
    _viewComponent = null;
    _isDown = false;
    _lastIsDown = false;
    _arTouchDown = false;
    _lastPointerPos = new Float32Array(2);
    _lastCursorPosOnTarget = new Float32Array(3);
    _hitTestLocation = null;
    _hitTestObject = null;
    _onSessionStartCallback = null;
    /**
     * Whether the cursor (and cursorObject) is visible, i.e. pointing at an object
     * that matches the collision group
     */
    visible = true;
    /** Currently hovered object */
    hoveringObject = null;
    /** CursorTarget component of the currently hovered object */
    hoveringObjectTarget = null;
    /** Whether the cursor is hovering reality via hit-test */
    hoveringReality = false;
    /**
     * Global target lets you receive global cursor events on any object.
     */
    globalTarget = new CursorTargetEmitters();
    /**
     * Hit test target lets you receive cursor events for "reality", if
     * `useWebXRHitTest` is set to `true`.
     *
     * @example
     * ```js
     * cursor.hitTestTarget.onClick.add((hit, cursor) => {
     *     // User clicked on reality
     * });
     * ```
     */
    hitTestTarget = new CursorTargetEmitters();
    /** World position of the cursor */
    cursorPos = new Float32Array(3);
    /** Collision group for the ray cast. Only objects in this group will be affected by this cursor. */
    collisionGroup = 1;
    /** (optional) Object that visualizes the cursor's ray. */
    cursorRayObject = null;
    /** Axis along which to scale the `cursorRayObject`. */
    cursorRayScalingAxis = 2;
    /** (optional) Object that visualizes the cursor's hit location. */
    cursorObject = null;
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness = 0;
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode = 0;
    /** Maximum distance for the cursor's ray cast. */
    maxDistance = 100;
    /** Whether to set the CSS style of the mouse cursor on desktop */
    styleCursor = true;
    /**
     * Use WebXR hit-test if available.
     *
     * Attaches a hit-test-location component to the cursorObject, which will be used
     * by the cursor to send events to the hitTestTarget with HitTestResult.
     */
    useWebXRHitTest = false;
    _onViewportResize = () => {
      if (!this._viewComponent)
        return;
      mat4_exports.invert(this._projectionMatrix, this._viewComponent.projectionMatrix);
    };
    start() {
      this._collisionMask = 1 << this.collisionGroup;
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("cursor component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness || "none";
          this._input = inputComp;
        }
      } else {
        this.handedness = ["left", "right", "none"][this.handedness - 1];
      }
      this._viewComponent = this.object.getComponent(ViewComponent);
      if (this.useWebXRHitTest) {
        this._hitTestObject = this.engine.scene.addObject(this.object);
        this._hitTestLocation = this._hitTestObject.addComponent(HitTestLocation, {
          scaleObject: false
        }) ?? null;
      }
      this._onSessionStartCallback = this.setupVREvents.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this._onSessionStartCallback);
      this.engine.onResize.add(this._onViewportResize);
      this._setCursorVisibility(true);
      if (this._viewComponent != null) {
        const canvas2 = this.engine.canvas;
        const onClick = this.onClick.bind(this);
        const onPointerMove = this.onPointerMove.bind(this);
        const onPointerDown = this.onPointerDown.bind(this);
        const onPointerUp = this.onPointerUp.bind(this);
        canvas2.addEventListener("click", onClick);
        canvas2.addEventListener("pointermove", onPointerMove);
        canvas2.addEventListener("pointerdown", onPointerDown);
        canvas2.addEventListener("pointerup", onPointerUp);
        this._onDeactivateCallbacks.push(() => {
          canvas2.removeEventListener("click", onClick);
          canvas2.removeEventListener("pointermove", onPointerMove);
          canvas2.removeEventListener("pointerdown", onPointerDown);
          canvas2.removeEventListener("pointerup", onPointerUp);
        });
      }
      this._onViewportResize();
    }
    _setCursorRayTransform(hitPosition) {
      if (!this.cursorRayObject)
        return;
      const dist2 = vec3_exports.dist(this._origin, hitPosition);
      this.cursorRayObject.setPositionLocal([0, 0, -dist2 / 2]);
      if (this.cursorRayScalingAxis != 4) {
        tempVec2.fill(1);
        tempVec2[this.cursorRayScalingAxis] = dist2 / 2;
        this.cursorRayObject.setScalingLocal(tempVec2);
      }
    }
    _setCursorVisibility(visible) {
      if (this.visible == visible)
        return;
      this.visible = visible;
      if (!this.cursorObject)
        return;
      if (visible) {
        this.cursorObject.setScalingWorld(this._cursorObjScale);
      } else {
        this.cursorObject.getScalingWorld(this._cursorObjScale);
        this.cursorObject.scaleLocal([0, 0, 0]);
      }
    }
    update() {
      if (this.engine.xr && this._arTouchDown && this._input && this.engine.xr.session.inputSources[0].handedness === "none" && this.engine.xr.session.inputSources[0].gamepad) {
        const p = this.engine.xr.session.inputSources[0].gamepad.axes;
        this._direction[0] = p[0];
        this._direction[1] = -p[1];
        this._direction[2] = -1;
        this.applyTransformAndProjectDirection();
      } else if (this.engine.xr && this._input && this._input.xrInputSource) {
        this._direction[0] = 0;
        this._direction[1] = 0;
        this._direction[2] = -1;
        this.applyTransformToDirection();
      } else if (this._viewComponent) {
        this.updateDirection();
      }
      this.rayCast(null, this.engine.xr?.frame);
      if (this.cursorObject) {
        if (this.hoveringObject && (this.cursorPos[0] != 0 || this.cursorPos[1] != 0 || this.cursorPos[2] != 0)) {
          this._setCursorVisibility(true);
          this.cursorObject.setPositionWorld(this.cursorPos);
          this._setCursorRayTransform(this.cursorPos);
        } else {
          this._setCursorVisibility(false);
        }
      }
    }
    /* Returns the hovered cursor target, if available */
    notify(event, originalEvent) {
      const target = this.hoveringObject;
      if (target) {
        const cursorTarget = this.hoveringObjectTarget;
        if (cursorTarget)
          cursorTarget[event].notify(target, this, originalEvent ?? void 0);
        this.globalTarget[event].notify(target, this, originalEvent ?? void 0);
      }
    }
    hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent) {
      const hit = !this.hoveringReality && rayHit.hitCount > 0 ? rayHit.objects[0] : null;
      if (hit) {
        if (!this.hoveringObject || !this.hoveringObject.equals(hit)) {
          if (this.hoveringObject) {
            this.notify("onUnhover", originalEvent);
          }
          this.hoveringObject = hit;
          this.hoveringObjectTarget = this.hoveringObject.getComponent(CursorTarget);
          if (this.styleCursor)
            this.engine.canvas.style.cursor = "pointer";
          this.notify("onHover", originalEvent);
        }
      } else if (this.hoveringObject) {
        this.notify("onUnhover", originalEvent);
        this.hoveringObject = null;
        this.hoveringObjectTarget = null;
        if (this.styleCursor)
          this.engine.canvas.style.cursor = "default";
      }
      if (this.hoveringObject) {
        if (this._isDown !== this._lastIsDown) {
          this.notify(this._isDown ? "onDown" : "onUp", originalEvent);
        }
        if (doClick)
          this.notify("onClick", originalEvent);
      } else if (this.hoveringReality) {
        if (this._isDown !== this._lastIsDown) {
          (this._isDown ? this.hitTestTarget.onDown : this.hitTestTarget.onUp).notify(hitTestResult, this, originalEvent ?? void 0);
        }
        if (doClick)
          this.hitTestTarget.onClick.notify(hitTestResult, this, originalEvent ?? void 0);
      }
      if (hit) {
        if (this.hoveringObject) {
          this.hoveringObject.transformPointInverseWorld(tempVec2, this.cursorPos);
        } else {
          tempVec2.set(this.cursorPos);
        }
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, tempVec2)) {
          this.notify("onMove", originalEvent);
          this._lastCursorPosOnTarget.set(tempVec2);
        }
      } else if (this.hoveringReality) {
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, this.cursorPos)) {
          this.hitTestTarget.onMove.notify(hitTestResult, this, originalEvent ?? void 0);
          this._lastCursorPosOnTarget.set(this.cursorPos);
        }
      } else {
        this._lastCursorPosOnTarget.set(this.cursorPos);
      }
      this._lastIsDown = this._isDown;
    }
    /**
     * Setup event listeners on session object
     * @param s WebXR session
     *
     * Sets up 'select' and 'end' events.
     */
    setupVREvents(s) {
      if (!s)
        console.error("setupVREvents called without a valid session");
      if (!this.active)
        return;
      const onSelect = this.onSelect.bind(this);
      s.addEventListener("select", onSelect);
      const onSelectStart = this.onSelectStart.bind(this);
      s.addEventListener("selectstart", onSelectStart);
      const onSelectEnd = this.onSelectEnd.bind(this);
      s.addEventListener("selectend", onSelectEnd);
      this._onDeactivateCallbacks.push(() => {
        if (!this.engine.xr)
          return;
        s.removeEventListener("select", onSelect);
        s.removeEventListener("selectstart", onSelectStart);
        s.removeEventListener("selectend", onSelectEnd);
      });
      this._onViewportResize();
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this._onSessionStartCallback);
      this.engine.onResize.remove(this._onViewportResize);
      this._setCursorVisibility(false);
      if (this.hoveringObject)
        this.notify("onUnhover", null);
      if (this.cursorRayObject)
        this.cursorRayObject.setScalingLocal(ZERO);
      for (const f of this._onDeactivateCallbacks)
        f();
      this._onDeactivateCallbacks.length = 0;
    }
    onDestroy() {
      this._hitTestObject?.destroy();
    }
    /** 'select' event listener */
    onSelect(e) {
      if (e.inputSource.handedness != this.handedness)
        return;
      this.rayCast(e, e.frame, true);
    }
    /** 'selectstart' event listener */
    onSelectStart(e) {
      this._arTouchDown = true;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = true;
        this.rayCast(e, e.frame);
      }
    }
    /** 'selectend' event listener */
    onSelectEnd(e) {
      this._arTouchDown = false;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = false;
        this.rayCast(e, e.frame);
      }
    }
    /** 'pointermove' event listener */
    onPointerMove(e) {
      if (!e.isPrimary)
        return;
      this.updateMousePos(e);
      this.rayCast(e, null);
    }
    /** 'click' event listener */
    onClick(e) {
      this.updateMousePos(e);
      this.rayCast(e, null, true);
    }
    /** 'pointerdown' event listener */
    onPointerDown(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = true;
      this.rayCast(e);
    }
    /** 'pointerup' event listener */
    onPointerUp(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = false;
      this.rayCast(e);
    }
    /**
     * Update mouse position in non-VR mode and raycast for new position
     * @returns @ref WL.RayHit for new position.
     */
    updateMousePos(e) {
      this._lastPointerPos[0] = e.clientX;
      this._lastPointerPos[1] = e.clientY;
      this.updateDirection();
    }
    updateDirection() {
      const bounds = this.engine.canvas.getBoundingClientRect();
      const left = this._lastPointerPos[0] / bounds.width;
      const top = this._lastPointerPos[1] / bounds.height;
      this._direction[0] = left * 2 - 1;
      this._direction[1] = -top * 2 + 1;
      this._direction[2] = -1;
      this.applyTransformAndProjectDirection();
    }
    applyTransformAndProjectDirection() {
      vec3_exports.transformMat4(this._direction, this._direction, this._projectionMatrix);
      vec3_exports.normalize(this._direction, this._direction);
      this.applyTransformToDirection();
    }
    applyTransformToDirection() {
      this.object.transformVectorWorld(this._direction, this._direction);
      this.object.getPositionWorld(this._origin);
    }
    rayCast(originalEvent, frame = null, doClick = false) {
      const rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(this._origin, this._direction, this._collisionMask) : this.engine.physics.rayCast(this._origin, this._direction, this._collisionMask, this.maxDistance);
      let hitResultDistance = Infinity;
      let hitTestResult = null;
      if (this._hitTestLocation?.visible) {
        this._hitTestObject.getPositionWorld(this.cursorPos);
        hitResultDistance = vec3_exports.distance(this.object.getPositionWorld(tempVec2), this.cursorPos);
        hitTestResult = this._hitTestLocation?.getHitTestResults(frame)[0];
      }
      let hoveringReality = false;
      if (rayHit.hitCount > 0) {
        const d = rayHit.distances[0];
        if (hitResultDistance >= d) {
          this.cursorPos.set(rayHit.locations[0]);
        } else {
          hoveringReality = true;
        }
      } else if (hitResultDistance < Infinity) {
      } else {
        this.cursorPos.fill(0);
      }
      if (hoveringReality && !this.hoveringReality) {
        this.hitTestTarget.onHover.notify(hitTestResult, this);
      } else if (!hoveringReality && this.hoveringReality) {
        this.hitTestTarget.onUnhover.notify(hitTestResult, this);
      }
      this.hoveringReality = hoveringReality;
      this.hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent);
      return rayHit;
    }
  };
  __publicField(Cursor, "TypeName", "cursor");
  /* Dependencies is deprecated, but we keep it here for compatibility
   * with 1.0.0-rc2 until 1.0.0 is released */
  __publicField(Cursor, "Dependencies", [HitTestLocation]);
  __decorate4([
    property.int(1)
  ], Cursor.prototype, "collisionGroup", void 0);
  __decorate4([
    property.object()
  ], Cursor.prototype, "cursorRayObject", void 0);
  __decorate4([
    property.enum(["x", "y", "z", "none"], "z")
  ], Cursor.prototype, "cursorRayScalingAxis", void 0);
  __decorate4([
    property.object()
  ], Cursor.prototype, "cursorObject", void 0);
  __decorate4([
    property.enum(["input component", "left", "right", "none"], "input component")
  ], Cursor.prototype, "handedness", void 0);
  __decorate4([
    property.enum(["collision", "physx"], "collision")
  ], Cursor.prototype, "rayCastMode", void 0);
  __decorate4([
    property.float(100)
  ], Cursor.prototype, "maxDistance", void 0);
  __decorate4([
    property.bool(true)
  ], Cursor.prototype, "styleCursor", void 0);
  __decorate4([
    property.bool(false)
  ], Cursor.prototype, "useWebXRHitTest", void 0);

  // node_modules/@wonderlandengine/components/dist/debug-object.js
  var __decorate5 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var DebugObject = class extends Component {
    /** A second object to print the name of */
    obj = null;
    start() {
      let origin = new Float32Array(3);
      quat2_exports.getTranslation(origin, this.object.transformWorld);
      console.log("Debug object:", this.object.name);
      console.log("Other object:", this.obj?.name);
      console.log("	translation", origin);
      console.log("	transformWorld", this.object.transformWorld);
      console.log("	transformLocal", this.object.transformLocal);
    }
  };
  __publicField(DebugObject, "TypeName", "debug-object");
  __decorate5([
    property.object()
  ], DebugObject.prototype, "obj", void 0);

  // node_modules/@wonderlandengine/components/dist/device-orientation-look.js
  function quatFromEulerYXZ(out, x, y, z) {
    const c1 = Math.cos(x / 2);
    const c2 = Math.cos(y / 2);
    const c3 = Math.cos(z / 2);
    const s1 = Math.sin(x / 2);
    const s2 = Math.sin(y / 2);
    const s3 = Math.sin(z / 2);
    out[0] = s1 * c2 * c3 + c1 * s2 * s3;
    out[1] = c1 * s2 * c3 - s1 * c2 * s3;
    out[2] = c1 * c2 * s3 - s1 * s2 * c3;
    out[3] = c1 * c2 * c3 + s1 * s2 * s3;
  }
  var DeviceOrientationLook = class extends Component {
    start() {
      this.rotationX = 0;
      this.rotationY = 0;
      this.lastClientX = -1;
      this.lastClientY = -1;
    }
    init() {
      this.deviceOrientation = [0, 0, 0, 1];
      this.screenOrientation = window.innerHeight > window.innerWidth ? 0 : 90;
      this._origin = [0, 0, 0];
      window.addEventListener("deviceorientation", function(e) {
        let alpha = e.alpha || 0;
        let beta = e.beta || 0;
        let gamma = e.gamma || 0;
        const toRad = Math.PI / 180;
        quatFromEulerYXZ(this.deviceOrientation, beta * toRad, alpha * toRad, -gamma * toRad);
      }.bind(this));
      window.addEventListener("orientationchange", function(e) {
        this.screenOrientation = window.orientation || 0;
      }.bind(this), false);
    }
    update() {
      if (this.engine.xr)
        return;
      this.object.getTranslationLocal(this._origin);
      this.object.resetTransform();
      if (this.screenOrientation != 0) {
        this.object.rotateAxisAngleDeg([0, 0, -1], this.screenOrientation);
      }
      this.object.rotate([-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)]);
      this.object.rotate(this.deviceOrientation);
      this.object.translate(this._origin);
    }
  };
  __publicField(DeviceOrientationLook, "TypeName", "device-orientation-look");
  __publicField(DeviceOrientationLook, "Properties", {});

  // node_modules/@wonderlandengine/components/dist/finger-cursor.js
  var FingerCursor = class extends Component {
    init() {
      this.lastTarget = null;
    }
    start() {
      this.tip = this.object.getComponent("collision");
    }
    update() {
      const overlaps = this.tip.queryOverlaps();
      let overlapFound = null;
      for (let i = 0; i < overlaps.length; ++i) {
        const o = overlaps[i].object;
        const target = o.getComponent("cursor-target");
        if (target) {
          if (!target.equals(this.lastTarget)) {
            target.onHover(o, this);
            target.onClick(o, this);
          }
          overlapFound = target;
          break;
        }
      }
      if (!overlapFound) {
        if (this.lastTarget)
          this.lastTarget.onUnhover(this.lastTarget.object, this);
        this.lastTarget = null;
        return;
      } else {
        this.lastTarget = overlapFound;
      }
    }
  };
  __publicField(FingerCursor, "TypeName", "finger-cursor");
  __publicField(FingerCursor, "Properties", {});

  // node_modules/@wonderlandengine/components/dist/fixed-foveation.js
  var FixedFoveation = class extends Component {
    start() {
      this.onSessionStartCallback = this.setFixedFoveation.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setFixedFoveation() {
      this.engine.xr.baseLayer.fixedFoveation = this.fixedFoveation;
    }
  };
  __publicField(FixedFoveation, "TypeName", "fixed-foveation");
  __publicField(FixedFoveation, "Properties", {
    /** Amount to apply from 0 (none) to 1 (full) */
    fixedFoveation: { type: Type.Float, default: 0.5 }
  });

  // node_modules/@wonderlandengine/components/dist/hand-tracking.js
  var __decorate6 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var ORDERED_JOINTS = [
    "wrist",
    "thumb-metacarpal",
    "thumb-phalanx-proximal",
    "thumb-phalanx-distal",
    "thumb-tip",
    "index-finger-metacarpal",
    "index-finger-phalanx-proximal",
    "index-finger-phalanx-intermediate",
    "index-finger-phalanx-distal",
    "index-finger-tip",
    "middle-finger-metacarpal",
    "middle-finger-phalanx-proximal",
    "middle-finger-phalanx-intermediate",
    "middle-finger-phalanx-distal",
    "middle-finger-tip",
    "ring-finger-metacarpal",
    "ring-finger-phalanx-proximal",
    "ring-finger-phalanx-intermediate",
    "ring-finger-phalanx-distal",
    "ring-finger-tip",
    "pinky-finger-metacarpal",
    "pinky-finger-phalanx-proximal",
    "pinky-finger-phalanx-intermediate",
    "pinky-finger-phalanx-distal",
    "pinky-finger-tip"
  ];
  var invTranslation = vec3_exports.create();
  var invRotation = quat_exports.create();
  var tempVec0 = vec3_exports.create();
  var tempVec1 = vec3_exports.create();
  var HandTracking = class extends Component {
    /** Handedness determining whether to receive tracking input from right or left hand */
    handedness = 0;
    /** (optional) Mesh to use to visualize joints */
    jointMesh = null;
    /** Material to use for display. Applied to either the spawned skinned mesh or the joint spheres. */
    jointMaterial = null;
    /** (optional) Skin to apply tracked joint poses to. If not present,
     * joint spheres will be used for display instead. */
    handSkin = null;
    /** Deactivate children if no pose was tracked */
    deactivateChildrenWithoutPose = true;
    /** Controller objects to activate including children if no pose is available */
    controllerToDeactivate = null;
    init() {
      this.handedness = ["left", "right"][this.handedness];
    }
    joints = {};
    session = null;
    /* Whether last update had a hand pose */
    hasPose = false;
    _childrenActive = true;
    start() {
      if (!("XRHand" in window)) {
        console.warn("WebXR Hand Tracking not supported by this browser.");
        this.active = false;
        return;
      }
      if (this.handSkin) {
        const skin = this.handSkin;
        const jointIds = skin.jointIds;
        this.joints[ORDERED_JOINTS[0]] = this.engine.wrapObject(jointIds[0]);
        for (let j = 0; j < jointIds.length; ++j) {
          const joint = this.engine.wrapObject(jointIds[j]);
          this.joints[joint.name] = joint;
        }
        return;
      }
      const jointObjects = this.engine.scene.addObjects(ORDERED_JOINTS.length, this.object, ORDERED_JOINTS.length);
      for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
        const joint = jointObjects[j];
        joint.addComponent(MeshComponent, {
          mesh: this.jointMesh,
          material: this.jointMaterial
        });
        this.joints[ORDERED_JOINTS[j]] = joint;
        joint.name = ORDERED_JOINTS[j];
      }
    }
    update(dt) {
      if (!this.engine.xr)
        return;
      this.hasPose = false;
      if (this.engine.xr.session.inputSources) {
        for (let i = 0; i < this.engine.xr.session.inputSources.length; ++i) {
          const inputSource = this.engine.xr.session.inputSources[i];
          if (!inputSource?.hand || inputSource?.handedness != this.handedness)
            continue;
          const wristSpace = inputSource.hand.get("wrist");
          if (wristSpace) {
            const p = this.engine.xr.frame.getJointPose(wristSpace, this.engine.xr.currentReferenceSpace);
            if (p) {
              setXRRigidTransformLocal(this.object, p.transform);
            }
          }
          this.object.getRotationLocal(invRotation);
          quat_exports.conjugate(invRotation, invRotation);
          this.object.getPositionLocal(invTranslation);
          this.joints["wrist"].resetTransform();
          for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
            const jointName = ORDERED_JOINTS[j];
            const joint = this.joints[jointName];
            if (!joint)
              continue;
            let jointPose = null;
            const jointSpace = inputSource.hand.get(jointName);
            if (jointSpace) {
              jointPose = this.engine.xr.frame.getJointPose(jointSpace, this.engine.xr.currentReferenceSpace);
            }
            if (jointPose) {
              this.hasPose = true;
              joint.resetPositionRotation();
              joint.translateLocal([
                jointPose.transform.position.x - invTranslation[0],
                jointPose.transform.position.y - invTranslation[1],
                jointPose.transform.position.z - invTranslation[2]
              ]);
              joint.rotateLocal(invRotation);
              joint.rotateObject([
                jointPose.transform.orientation.x,
                jointPose.transform.orientation.y,
                jointPose.transform.orientation.z,
                jointPose.transform.orientation.w
              ]);
              if (!this.handSkin) {
                const r = jointPose.radius || 7e-3;
                joint.setScalingLocal([r, r, r]);
              }
            }
          }
        }
      }
      if (!this.hasPose && this._childrenActive) {
        this._childrenActive = false;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(false);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = true;
          this.setChildrenActive(true, this.controllerToDeactivate);
        }
      } else if (this.hasPose && !this._childrenActive) {
        this._childrenActive = true;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(true);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = false;
          this.setChildrenActive(false, this.controllerToDeactivate);
        }
      }
    }
    setChildrenActive(active, object) {
      object = object || this.object;
      const children = object.children;
      for (const o of children) {
        o.active = active;
        this.setChildrenActive(active, o);
      }
    }
    isGrabbing() {
      this.joints["index-finger-tip"].getPositionLocal(tempVec0);
      this.joints["thumb-tip"].getPositionLocal(tempVec1);
      return vec3_exports.sqrDist(tempVec0, tempVec1) < 1e-3;
    }
  };
  __publicField(HandTracking, "TypeName", "hand-tracking");
  __decorate6([
    property.enum(["left", "right"])
  ], HandTracking.prototype, "handedness", void 0);
  __decorate6([
    property.mesh()
  ], HandTracking.prototype, "jointMesh", void 0);
  __decorate6([
    property.material()
  ], HandTracking.prototype, "jointMaterial", void 0);
  __decorate6([
    property.skin()
  ], HandTracking.prototype, "handSkin", void 0);
  __decorate6([
    property.bool(true)
  ], HandTracking.prototype, "deactivateChildrenWithoutPose", void 0);
  __decorate6([
    property.object()
  ], HandTracking.prototype, "controllerToDeactivate", void 0);

  // node_modules/@wonderlandengine/components/dist/howler-audio-listener.js
  var import_howler = __toESM(require_howler(), 1);
  var HowlerAudioListener = class extends Component {
    init() {
      this.origin = new Float32Array(3);
      this.fwd = new Float32Array(3);
      this.up = new Float32Array(3);
    }
    update() {
      if (!this.spatial)
        return;
      this.object.getTranslationWorld(this.origin);
      this.object.getForward(this.fwd);
      this.object.getUp(this.up);
      Howler.pos(this.origin[0], this.origin[1], this.origin[2]);
      Howler.orientation(this.fwd[0], this.fwd[1], this.fwd[2], this.up[0], this.up[1], this.up[2]);
    }
  };
  __publicField(HowlerAudioListener, "TypeName", "howler-audio-listener");
  __publicField(HowlerAudioListener, "Properties", {
    /** Whether audio should be spatialized/positional. */
    spatial: { type: Type.Bool, default: true }
  });

  // node_modules/@wonderlandengine/components/dist/howler-audio-source.js
  var import_howler2 = __toESM(require_howler(), 1);
  var HowlerAudioSource = class extends Component {
    start() {
      this.audio = new Howl({
        src: [this.src],
        loop: this.loop,
        volume: this.volume,
        autoplay: this.autoplay
      });
      this.lastPlayedAudioId = null;
      this.origin = new Float32Array(3);
      this.lastOrigin = new Float32Array(3);
      if (this.spatial && this.autoplay) {
        this.updatePosition();
        this.play();
      }
    }
    update() {
      if (!this.spatial || !this.lastPlayedAudioId)
        return;
      this.object.getTranslationWorld(this.origin);
      if (Math.abs(this.lastOrigin[0] - this.origin[0]) > 5e-3 || Math.abs(this.lastOrigin[1] - this.origin[1]) > 5e-3 || Math.abs(this.lastOrigin[2] - this.origin[2]) > 5e-3) {
        this.updatePosition();
      }
    }
    updatePosition() {
      this.audio.pos(this.origin[0], this.origin[1], this.origin[2], this.lastPlayedAudioId);
      this.lastOrigin.set(this.origin);
    }
    play() {
      if (this.lastPlayedAudioId)
        this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = this.audio.play();
      if (this.spatial)
        this.updatePosition();
    }
    stop() {
      if (!this.lastPlayedAudioId)
        return;
      this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = null;
    }
    onDeactivate() {
      this.stop();
    }
  };
  __publicField(HowlerAudioSource, "TypeName", "howler-audio-source");
  __publicField(HowlerAudioSource, "Properties", {
    /** Volume */
    volume: { type: Type.Float, default: 1 },
    /** Whether audio should be spatialized/positional */
    spatial: { type: Type.Bool, default: true },
    /** Whether to loop the sound */
    loop: { type: Type.Bool, default: false },
    /** Whether to start playing automatically */
    autoplay: { type: Type.Bool, default: false },
    /** URL to a sound file to play */
    src: { type: Type.String, default: "" }
  });

  // node_modules/@wonderlandengine/components/dist/utils/utils.js
  function setFirstMaterialTexture(mat, texture, customTextureProperty) {
    if (customTextureProperty !== "auto") {
      mat[customTextureProperty] = texture;
      return true;
    }
    const shader = mat.shader;
    if (shader === "Flat Opaque Textured") {
      mat.flatTexture = texture;
      return true;
    } else if (shader === "Phong Opaque Textured" || shader === "Foliage" || shader === "Phong Normalmapped" || shader === "Phong Lightmapped") {
      mat.diffuseTexture = texture;
      return true;
    } else if (shader === "Particle") {
      mat.mainTexture = texture;
      return true;
    } else if (shader === "DistanceFieldVector") {
      mat.vectorTexture = texture;
      return true;
    } else if (shader === "Background" || shader === "Sky") {
      mat.texture = texture;
      return true;
    } else if (shader === "Physical Opaque Textured") {
      mat.albedoTexture = texture;
      return true;
    }
    return false;
  }

  // node_modules/@wonderlandengine/components/dist/image-texture.js
  var ImageTexture = class extends Component {
    start() {
      if (!this.material) {
        throw Error("image-texture: material property not set");
      }
      this.engine.textures.load(this.url, "anonymous").then((texture) => {
        const mat = this.material;
        if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
          console.error("Shader", mat.shader, "not supported by image-texture");
        }
      }).catch(console.err);
    }
  };
  __publicField(ImageTexture, "TypeName", "image-texture");
  __publicField(ImageTexture, "Properties", {
    /** URL to download the image from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // node_modules/@wonderlandengine/components/dist/mouse-look.js
  var __decorate7 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var preventDefault = (e) => {
    e.preventDefault();
  };
  var MouseLookComponent = class extends Component {
    /** Mouse look sensitivity */
    sensitity = 0.25;
    /** Require a mouse button to be pressed to control view.
     * Otherwise view will allways follow mouse movement */
    requireMouseDown = true;
    /** If "moveOnClick" is enabled, mouse button which should
     * be held down to control view */
    mouseButtonIndex = 0;
    /** Enables pointer lock on "mousedown" event on canvas */
    pointerLockOnClick = false;
    currentRotationY = 0;
    currentRotationX = 0;
    origin = new Float32Array(3);
    parentOrigin = new Float32Array(3);
    rotationX = 0;
    rotationY = 0;
    mouseDown = false;
    onActivate() {
      document.addEventListener("mousemove", this.onMouseMove);
      const canvas2 = this.engine.canvas;
      if (this.pointerLockOnClick) {
        canvas2.addEventListener("mousedown", this.requestPointerLock);
      }
      if (this.requireMouseDown) {
        if (this.mouseButtonIndex === 2) {
          canvas2.addEventListener("contextmenu", preventDefault, false);
        }
        canvas2.addEventListener("mousedown", this.onMouseDown);
        canvas2.addEventListener("mouseup", this.onMouseUp);
      }
    }
    onDeactivate() {
      document.removeEventListener("mousemove", this.onMouseMove);
      const canvas2 = this.engine.canvas;
      if (this.pointerLockOnClick) {
        canvas2.removeEventListener("mousedown", this.requestPointerLock);
      }
      if (this.requireMouseDown) {
        if (this.mouseButtonIndex === 2) {
          canvas2.removeEventListener("contextmenu", preventDefault, false);
        }
        canvas2.removeEventListener("mousedown", this.onMouseDown);
        canvas2.removeEventListener("mouseup", this.onMouseUp);
      }
    }
    requestPointerLock = () => {
      const canvas2 = this.engine.canvas;
      canvas2.requestPointerLock = canvas2.requestPointerLock || canvas2.mozRequestPointerLock || canvas2.webkitRequestPointerLock;
      canvas2.requestPointerLock();
    };
    onMouseDown = (e) => {
      if (e.button === this.mouseButtonIndex) {
        this.mouseDown = true;
        document.body.style.cursor = "grabbing";
        if (e.button === 1) {
          e.preventDefault();
          return false;
        }
      }
    };
    onMouseUp = (e) => {
      if (e.button === this.mouseButtonIndex) {
        this.mouseDown = false;
        document.body.style.cursor = "initial";
      }
    };
    onMouseMove = (e) => {
      if (this.active && (this.mouseDown || !this.requireMouseDown)) {
        this.rotationY = -this.sensitity * e.movementX / 100;
        this.rotationX = -this.sensitity * e.movementY / 100;
        this.currentRotationX += this.rotationX;
        this.currentRotationY += this.rotationY;
        this.currentRotationX = Math.min(1.507, this.currentRotationX);
        this.currentRotationX = Math.max(-1.507, this.currentRotationX);
        this.object.getPositionWorld(this.origin);
        const parent = this.object.parent;
        if (parent) {
          parent.getPositionWorld(this.parentOrigin);
          vec3_exports.sub(this.origin, this.origin, this.parentOrigin);
        }
        this.object.resetPositionRotation();
        this.object.rotateAxisAngleRadLocal([1, 0, 0], this.currentRotationX);
        this.object.rotateAxisAngleRadLocal([0, 1, 0], this.currentRotationY);
        this.object.translateLocal(this.origin);
      }
    };
  };
  __publicField(MouseLookComponent, "TypeName", "mouse-look");
  __decorate7([
    property.float(0.25)
  ], MouseLookComponent.prototype, "sensitity", void 0);
  __decorate7([
    property.bool(true)
  ], MouseLookComponent.prototype, "requireMouseDown", void 0);
  __decorate7([
    property.int()
  ], MouseLookComponent.prototype, "mouseButtonIndex", void 0);
  __decorate7([
    property.bool(false)
  ], MouseLookComponent.prototype, "pointerLockOnClick", void 0);

  // node_modules/@wonderlandengine/components/dist/player-height.js
  var __decorate8 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var PlayerHeight = class extends Component {
    height = 1.75;
    onSessionStartCallback;
    onSessionEndCallback;
    start() {
      this.object.resetPositionRotation();
      this.object.translateLocal([0, this.height, 0]);
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    onXRSessionStart() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
      }
    }
    onXRSessionEnd() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
        this.object.translateLocal([0, this.height, 0]);
      }
    }
  };
  __publicField(PlayerHeight, "TypeName", "player-height");
  __decorate8([
    property.float(1.75)
  ], PlayerHeight.prototype, "height", void 0);

  // node_modules/@wonderlandengine/components/dist/target-framerate.js
  var TargetFramerate = class extends Component {
    start() {
      this.onSessionStartCallback = this.setTargetFramerate.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setTargetFramerate(s) {
      if (s.supportedFrameRates && s.updateTargetFrameRate) {
        const a = this.engine.xr.session.supportedFrameRates;
        a.sort((a2, b) => Math.abs(a2 - this.framerate) - Math.abs(b - this.framerate));
        this.engine.xr.session.updateTargetFrameRate(a[0]);
      }
    }
  };
  __publicField(TargetFramerate, "TypeName", "target-framerate");
  __publicField(TargetFramerate, "Properties", {
    framerate: { type: Type.Float, default: 90 }
  });

  // node_modules/@wonderlandengine/components/dist/teleport.js
  var TeleportComponent = class extends Component {
    init() {
      this._prevThumbstickAxis = new Float32Array(2);
      this._tempVec = new Float32Array(3);
      this._tempVec0 = new Float32Array(3);
      this._currentIndicatorRotation = 0;
      this.input = this.object.getComponent("input");
      if (!this.input) {
        console.error(this.object.name, "generic-teleport-component.js: input component is required on the object");
        return;
      }
      if (!this.teleportIndicatorMeshObject) {
        console.error(this.object.name, "generic-teleport-component.js: Teleport indicator mesh is missing");
        return;
      }
      if (!this.camRoot) {
        console.error(this.object.name, "generic-teleport-component.js: camRoot not set");
        return;
      }
      this.isIndicating = false;
      this.indicatorHidden = true;
      this.hitSpot = new Float32Array(3);
      this._hasHit = false;
      this._extraRotation = 0;
      this._currentStickAxes = new Float32Array(2);
    }
    start() {
      if (this.cam) {
        this.isMouseIndicating = false;
        canvas.addEventListener("mousedown", this.onMouseDown.bind(this));
        canvas.addEventListener("mouseup", this.onMouseUp.bind(this));
      }
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("teleport component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness;
          this.input = inputComp;
        }
      } else {
        this.handedness = ["left", "right"][this.handedness - 1];
      }
      this.onSessionStartCallback = this.setupVREvents.bind(this);
      this.teleportIndicatorMeshObject.active = false;
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    /* Get current camera Y rotation */
    _getCamRotation() {
      this.eyeLeft.getForward(this._tempVec);
      this._tempVec[1] = 0;
      vec3_exports.normalize(this._tempVec, this._tempVec);
      return Math.atan2(this._tempVec[0], this._tempVec[2]);
    }
    update() {
      let inputLength = 0;
      if (this.gamepad && this.gamepad.axes) {
        this._currentStickAxes[0] = this.gamepad.axes[2];
        this._currentStickAxes[1] = this.gamepad.axes[3];
        inputLength = Math.abs(this._currentStickAxes[0]) + Math.abs(this._currentStickAxes[1]);
      }
      if (!this.isIndicating && this._prevThumbstickAxis[1] >= this.thumbstickActivationThreshhold && this._currentStickAxes[1] < this.thumbstickActivationThreshhold) {
        this.isIndicating = true;
      } else if (this.isIndicating && inputLength < this.thumbstickDeactivationThreshhold) {
        this.isIndicating = false;
        this.teleportIndicatorMeshObject.active = false;
        if (this._hasHit) {
          this._teleportPlayer(this.hitSpot, this._extraRotation);
        }
      }
      if (this.isIndicating && this.teleportIndicatorMeshObject && this.input) {
        const origin = this._tempVec0;
        this.object.getPositionWorld(origin);
        const direction2 = this.object.getForwardWorld(this._tempVec);
        let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
        if (rayHit.hitCount > 0) {
          this.indicatorHidden = false;
          this._extraRotation = Math.PI + Math.atan2(this._currentStickAxes[0], this._currentStickAxes[1]);
          this._currentIndicatorRotation = this._getCamRotation() + (this._extraRotation - Math.PI);
          this.teleportIndicatorMeshObject.resetPositionRotation();
          this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
          this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
          this.teleportIndicatorMeshObject.translate([
            0,
            this.indicatorYOffset,
            0
          ]);
          this.teleportIndicatorMeshObject.active = true;
          this.hitSpot.set(rayHit.locations[0]);
          this._hasHit = true;
        } else {
          if (!this.indicatorHidden) {
            this.teleportIndicatorMeshObject.active = false;
            this.indicatorHidden = true;
          }
          this._hasHit = false;
        }
      } else if (this.teleportIndicatorMeshObject && this.isMouseIndicating) {
        this.onMousePressed();
      }
      this._prevThumbstickAxis.set(this._currentStickAxes);
    }
    setupVREvents(s) {
      this.session = s;
      s.addEventListener("end", function() {
        this.gamepad = null;
        this.session = null;
      }.bind(this));
      if (s.inputSources && s.inputSources.length) {
        for (let i = 0; i < s.inputSources.length; i++) {
          let inputSource = s.inputSources[i];
          if (inputSource.handedness == this.handedness) {
            this.gamepad = inputSource.gamepad;
          }
        }
      }
      s.addEventListener("inputsourceschange", function(e) {
        if (e.added && e.added.length) {
          for (let i = 0; i < e.added.length; i++) {
            let inputSource = e.added[i];
            if (inputSource.handedness == this.handedness) {
              this.gamepad = inputSource.gamepad;
            }
          }
        }
      }.bind(this));
    }
    onMouseDown() {
      this.isMouseIndicating = true;
    }
    onMouseUp() {
      this.isMouseIndicating = false;
      this.teleportIndicatorMeshObject.active = false;
      if (this._hasHit) {
        this._teleportPlayer(this.hitSpot, 0);
      }
    }
    onMousePressed() {
      let origin = [0, 0, 0];
      this.cam.getPositionWorld(origin);
      const direction2 = this.cam.getForward(this._tempVec);
      let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
      if (rayHit.hitCount > 0) {
        this.indicatorHidden = false;
        direction2[1] = 0;
        vec3_exports.normalize(direction2, direction2);
        this._currentIndicatorRotation = -Math.sign(direction2[2]) * Math.acos(direction2[0]) - Math.PI * 0.5;
        this.teleportIndicatorMeshObject.resetPositionRotation();
        this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
        this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
        this.teleportIndicatorMeshObject.active = true;
        this.hitSpot = rayHit.locations[0];
        this._hasHit = true;
      } else {
        if (!this.indicatorHidden) {
          this.teleportIndicatorMeshObject.active = false;
          this.indicatorHidden = true;
        }
        this._hasHit = false;
      }
    }
    _teleportPlayer(newPosition, rotationToAdd) {
      this.camRoot.rotateAxisAngleRad([0, 1, 0], rotationToAdd);
      const p = this._tempVec;
      const p1 = this._tempVec0;
      if (this.session) {
        this.eyeLeft.getPositionWorld(p);
        this.eyeRight.getPositionWorld(p1);
        vec3_exports.add(p, p, p1);
        vec3_exports.scale(p, p, 0.5);
      } else {
        this.cam.getPositionWorld(p);
      }
      this.camRoot.getPositionWorld(p1);
      vec3_exports.sub(p, p1, p);
      p[0] += newPosition[0];
      p[1] = newPosition[1];
      p[2] += newPosition[2];
      this.camRoot.setPositionWorld(p);
    }
  };
  __publicField(TeleportComponent, "TypeName", "teleport");
  __publicField(TeleportComponent, "Properties", {
    /** Object that will be placed as indiciation forwhere the player will teleport to. */
    teleportIndicatorMeshObject: { type: Type.Object },
    /** Root of the player, the object that will be positioned on teleportation. */
    camRoot: { type: Type.Object },
    /** Non-vr camera for use outside of VR */
    cam: { type: Type.Object },
    /** Left eye for use in VR*/
    eyeLeft: { type: Type.Object },
    /** Right eye for use in VR*/
    eyeRight: { type: Type.Object },
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness: {
      type: Type.Enum,
      values: ["input component", "left", "right", "none"],
      default: "input component"
    },
    /** Collision group of valid "floor" objects that can be teleported on */
    floorGroup: { type: Type.Int, default: 1 },
    /** How far the thumbstick needs to be pushed to have the teleport target indicator show up */
    thumbstickActivationThreshhold: { type: Type.Float, default: -0.7 },
    /** How far the thumbstick needs to be released to execute the teleport */
    thumbstickDeactivationThreshhold: { type: Type.Float, default: 0.3 },
    /** Offset to apply to the indicator object, e.g. to avoid it from Z-fighting with the floor */
    indicatorYOffset: { type: Type.Float, default: 0.01 },
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode: {
      type: Type.Enum,
      values: ["collision", "physx"],
      default: "collision"
    },
    /** Max distance for PhysX raycast */
    maxDistance: { type: Type.Float, default: 100 }
  });

  // node_modules/@wonderlandengine/components/dist/trail.js
  var direction = vec3_exports.create();
  var offset = vec3_exports.create();
  var normal = vec3_exports.create();
  var Trail = class extends Component {
    init() {
      this.points = new Array(this.segments + 1);
      for (let i = 0; i < this.points.length; ++i) {
        this.points[i] = vec3_exports.create();
      }
      this.currentPointOffset = 0;
      this.up = [0, 1, 0];
      this.timeTillNext = this.interval;
    }
    start() {
      this.trailContainer = this.engine.scene.addObject();
      this.meshComp = this.trailContainer.addComponent("mesh");
      this.meshComp.material = this.material;
      const vertexCount = 2 * this.points.length;
      this.indexData = new Uint32Array(6 * this.segments);
      for (let i = 0, v = 0; i < vertexCount - 2; i += 2, v += 6) {
        this.indexData.subarray(v, v + 6).set([i + 1, i + 0, i + 2, i + 2, i + 3, i + 1]);
      }
      this.mesh = new Mesh(this.engine, {
        vertexCount,
        indexData: this.indexData,
        indexType: MeshIndexType.UnsignedInt
      });
      this.meshComp.mesh = this.mesh;
    }
    updateVertices() {
      const positions = this.mesh.attribute(MeshAttribute.Position);
      const texCoords = this.mesh.attribute(MeshAttribute.TextureCoordinate);
      const normals = this.mesh.attribute(MeshAttribute.Normal);
      vec3_exports.set(direction, 0, 0, 0);
      for (let i = 0; i < this.points.length; ++i) {
        const curr = this.points[(this.currentPointIndex + i + 1) % this.points.length];
        const next = this.points[(this.currentPointIndex + i + 2) % this.points.length];
        if (i !== this.points.length - 1) {
          vec3_exports.sub(direction, next, curr);
        }
        vec3_exports.cross(offset, this.up, direction);
        vec3_exports.normalize(offset, offset);
        const timeFraction = 1 - this.timeTillNext / this.interval;
        const fraction = (i - timeFraction) / this.segments;
        vec3_exports.scale(offset, offset, (this.taper ? fraction : 1) * this.width / 2);
        positions.set(i * 2, [
          curr[0] - offset[0],
          curr[1] - offset[1],
          curr[2] - offset[2]
        ]);
        positions.set(i * 2 + 1, [
          curr[0] + offset[0],
          curr[1] + offset[1],
          curr[2] + offset[2]
        ]);
        if (normals) {
          vec3_exports.cross(normal, direction, offset);
          vec3_exports.normalize(normal, normal);
          normals.set(i * 2, normal);
          normals.set(i * 2 + 1, normal);
        }
        if (texCoords) {
          texCoords.set(i * 2, [0, fraction]);
          texCoords.set(i * 2 + 1, [1, fraction]);
        }
      }
      this.mesh.update();
    }
    resetTrail() {
      this.object.getTranslationWorld(this.points[0]);
      for (let i = 1; i < this.points.length; ++i) {
        vec3_exports.copy(this.points[i], this.points[0]);
      }
      this.currentPointIndex = 0;
      this.timeTillNext = this.interval;
    }
    update(dt) {
      this.timeTillNext -= dt;
      if (dt > this.resetThreshold) {
        this.resetTrail();
      }
      if (this.timeTillNext < 0) {
        this.currentPointIndex = (this.currentPointIndex + 1) % this.points.length;
        this.timeTillNext = this.timeTillNext % this.interval + this.interval;
      }
      this.object.getTranslationWorld(this.points[this.currentPointIndex]);
      this.updateVertices();
    }
    onActivate() {
      this.resetTrail();
    }
    onDestroy() {
      this.trailContainer.destroy();
      this.mesh.destroy();
    }
  };
  __publicField(Trail, "TypeName", "trail");
  __publicField(Trail, "Properties", {
    /** The material to apply to the trail mesh */
    material: { type: Type.Material },
    /** The number of segments in the trail mesh */
    segments: { type: Type.Int, default: 50 },
    /** The time interval before recording a new point */
    interval: { type: Type.Float, default: 0.1 },
    /** The width of the trail (in world space) */
    width: { type: Type.Float, default: 1 },
    /** Whether or not the trail should taper off */
    taper: { type: Type.Bool, default: true },
    /**
     * The maximum delta time in seconds, above which the trail resets.
     * This prevents the trail from jumping around when updates happen
     * infrequently (e.g. when the tab doesn't have focus).
     */
    resetThreshold: { type: Type.Float, default: 0.5 }
  });

  // node_modules/@wonderlandengine/components/dist/two-joint-ik-solver.js
  function clamp2(v, a, b) {
    return Math.max(a, Math.min(v, b));
  }
  var rootScaling = new Float32Array(3);
  var tempQuat3 = new Float32Array(4);
  var middlePos = new Float32Array(3);
  var endPos = new Float32Array(3);
  var targetPos = new Float32Array(3);
  var helperPos = new Float32Array(3);
  var rootTransform = new Float32Array(8);
  var middleTransform = new Float32Array(8);
  var endTransform = new Float32Array(8);
  var twoJointIK = function() {
    const ta = new Float32Array(3);
    const ca = new Float32Array(3);
    const ba = new Float32Array(3);
    const ab = new Float32Array(3);
    const cb = new Float32Array(3);
    const axis0 = new Float32Array(3);
    const axis1 = new Float32Array(3);
    const temp = new Float32Array(3);
    return function(root, middle, b, c, targetPos2, eps, helper) {
      ba.set(b);
      const lab = vec3_exports.length(ba);
      vec3_exports.sub(ta, b, c);
      const lcb = vec3_exports.length(ta);
      ta.set(targetPos2);
      const lat = clamp2(vec3_exports.length(ta), eps, lab + lcb - eps);
      ca.set(c);
      vec3_exports.scale(ab, b, -1);
      vec3_exports.sub(cb, c, b);
      vec3_exports.normalize(ca, ca);
      vec3_exports.normalize(ba, ba);
      vec3_exports.normalize(ab, ab);
      vec3_exports.normalize(cb, cb);
      vec3_exports.normalize(ta, ta);
      const ac_ab_0 = Math.acos(clamp2(vec3_exports.dot(ca, ba), -1, 1));
      const ba_bc_0 = Math.acos(clamp2(vec3_exports.dot(ab, cb), -1, 1));
      const ac_at_0 = Math.acos(clamp2(vec3_exports.dot(ca, ta), -1, 1));
      const ac_ab_1 = Math.acos(clamp2((lcb * lcb - lab * lab - lat * lat) / (-2 * lab * lat), -1, 1));
      const ba_bc_1 = Math.acos(clamp2((lat * lat - lab * lab - lcb * lcb) / (-2 * lab * lcb), -1, 1));
      if (helper) {
        vec3_exports.sub(ba, helper, b);
        vec3_exports.normalize(ba, ba);
      }
      vec3_exports.cross(axis0, ca, ba);
      vec3_exports.normalize(axis0, axis0);
      vec3_exports.cross(axis1, c, targetPos2);
      vec3_exports.normalize(axis1, axis1);
      middle.transformVectorInverseLocal(temp, axis0);
      root.rotateAxisAngleRadObject(axis1, ac_at_0);
      root.rotateAxisAngleRadObject(axis0, ac_ab_1 - ac_ab_0);
      middle.rotateAxisAngleRadObject(axis0, ba_bc_1 - ba_bc_0);
    };
  }();
  var TwoJointIkSolver = class extends Component {
    time = 0;
    start() {
      this.root.getTransformLocal(rootTransform);
      this.middle.getTransformLocal(middleTransform);
      this.end.getTransformLocal(endTransform);
    }
    update(dt) {
      this.time += dt;
      this.root.setTransformLocal(rootTransform);
      this.middle.setTransformLocal(middleTransform);
      this.end.setTransformLocal(endTransform);
      this.root.getScalingWorld(rootScaling);
      this.middle.getPositionLocal(middlePos);
      this.end.getPositionLocal(endPos);
      this.middle.transformPointLocal(endPos, endPos);
      if (this.helper) {
        this.helper.getPositionWorld(helperPos);
        this.root.transformPointInverseWorld(helperPos, helperPos);
        vec3_exports.div(helperPos, helperPos, rootScaling);
      }
      this.target.getPositionWorld(targetPos);
      this.root.transformPointInverseWorld(targetPos, targetPos);
      vec3_exports.div(targetPos, targetPos, rootScaling);
      twoJointIK(this.root, this.middle, middlePos, endPos, targetPos, 0.01, this.helper ? helperPos : null, this.time);
      if (this.copyTargetRotation) {
        this.end.setRotationWorld(this.target.getRotationWorld(tempQuat3));
      }
    }
  };
  __publicField(TwoJointIkSolver, "TypeName", "two-joint-ik-solver");
  __publicField(TwoJointIkSolver, "Properties", {
    /** Root bone, never moves */
    root: Property.object(),
    /** Bone attached to the root */
    middle: Property.object(),
    /** Bone attached to the middle */
    end: Property.object(),
    /** Target the joins should reach for */
    target: Property.object(),
    /** Flag for copying rotation from target to end */
    copyTargetRotation: Property.bool(true),
    /** Helper object to use to determine joint rotation axis */
    helper: Property.object()
  });

  // node_modules/@wonderlandengine/components/dist/video-texture.js
  var VideoTexture = class extends Component {
    init() {
      if (!this.material) {
        throw Error("video-texture: material property not set");
      }
      this.loaded = false;
      this.frameUpdateRequested = true;
    }
    start() {
      this.video = document.createElement("video");
      this.video.src = this.url;
      this.video.crossOrigin = "anonymous";
      this.video.playsInline = true;
      this.video.loop = this.loop;
      this.video.muted = this.muted;
      this.video.addEventListener("playing", () => {
        this.loaded = true;
      });
      if (this.autoplay) {
        const playAfterUserGesture = () => {
          this.video.play();
          window.removeEventListener("click", playAfterUserGesture);
          window.removeEventListener("touchstart", playAfterUserGesture);
        };
        window.addEventListener("click", playAfterUserGesture);
        window.addEventListener("touchstart", playAfterUserGesture);
      }
    }
    applyTexture() {
      const mat = this.material;
      const shader = mat.shader;
      const texture = this.texture = new Texture(this.engine, this.video);
      if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
        console.error("Shader", shader, "not supported by video-texture");
      }
      if ("requestVideoFrameCallback" in this.video) {
        this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
      } else {
        this.video.addEventListener("timeupdate", () => {
          this.frameUpdateRequested = true;
        });
      }
    }
    update(dt) {
      if (this.loaded && this.frameUpdateRequested) {
        if (this.texture) {
          this.texture.update();
        } else {
          this.applyTexture();
        }
        this.frameUpdateRequested = false;
      }
    }
    updateVideo() {
      this.frameUpdateRequested = true;
      this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
    }
  };
  __publicField(VideoTexture, "TypeName", "video-texture");
  __publicField(VideoTexture, "Properties", {
    /** URL to download video from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Whether to loop the video */
    loop: Property.bool(true),
    /** Whether to automatically start playing the video */
    autoplay: Property.bool(true),
    /** Whether to mute sound */
    muted: Property.bool(true),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // node_modules/@wonderlandengine/components/dist/vr-mode-active-switch.js
  var VrModeActiveSwitch = class extends Component {
    start() {
      this.components = [];
      this.getComponents(this.object);
      this.onXRSessionEnd();
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    getComponents(obj) {
      const comps = obj.getComponents().filter((c) => c.type !== "vr-mode-active-switch");
      this.components = this.components.concat(comps);
      if (this.affectChildren) {
        let children = obj.children;
        for (let i = 0; i < children.length; ++i) {
          this.getComponents(children[i]);
        }
      }
    }
    setComponentsActive(active) {
      const comps = this.components;
      for (let i = 0; i < comps.length; ++i) {
        comps[i].active = active;
      }
    }
    onXRSessionStart() {
      this.setComponentsActive(this.activateComponents == 0);
    }
    onXRSessionEnd() {
      this.setComponentsActive(this.activateComponents != 0);
    }
  };
  __publicField(VrModeActiveSwitch, "TypeName", "vr-mode-active-switch");
  __publicField(VrModeActiveSwitch, "Properties", {
    /** When components should be active: In VR or when not in VR */
    activateComponents: {
      type: Type.Enum,
      values: ["in VR", "in non-VR"],
      default: "in VR"
    },
    /** Whether child object's components should be affected */
    affectChildren: { type: Type.Bool, default: true }
  });

  // node_modules/@wonderlandengine/components/dist/plane-detection.js
  var import_earcut = __toESM(require_earcut(), 1);
  var __decorate9 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec32 = new Float32Array(3);
  function extentsFromContour(out, points) {
    if (points.length == 0)
      return out;
    let absMaxX = Math.abs(points[0].x);
    let absMaxZ = Math.abs(points[0].z);
    for (let i = 1; i < points.length; ++i) {
      absMaxX = Math.max(absMaxX, Math.abs(points[i].x));
      absMaxZ = Math.max(absMaxZ, Math.abs(points[i].z));
    }
    out[0] = absMaxX;
    out[1] = 0;
    out[2] = absMaxZ;
  }
  function within(x, a, b) {
    if (a > b)
      return x < a && x > b;
    return x > a && x < b;
  }
  function isPointLocalOnXRPlanePolygon(p, plane) {
    const points = plane.polygon;
    if (points.length < 3)
      return false;
    const pX = p[0];
    const pZ = p[2];
    let intersections = 0;
    for (let n = 0, l = points.length - 1; n < points.length; ++n) {
      const aX = points[l].x;
      const aZ = points[l].z;
      const s = (points[n].z - aZ) / (points[n].x - aX);
      const x = Math.abs((pZ - aZ) / s);
      if (x >= 0 && x <= 1 && within(x + pX, aX, points[n].x))
        ++intersections;
      l = n;
    }
    return (intersections & 1) == 0;
  }
  function isPointWorldOnXRPlanePolygon(object, p, plane) {
    if (plane.polygon.length < 3)
      return false;
    isPointLocalOnXRPlanePolygon(object.transformPointInverseWorld(tempVec32, p), plane);
  }
  function planeMeshFromContour(engine, points, meshToUpdate = null) {
    const vertexCount = points.length;
    const vertices = new Float32Array(vertexCount * 2);
    for (let i = 0, d = 0; i < vertexCount; ++i, d += 2) {
      vertices[d] = points[i].x;
      vertices[d + 1] = points[i].z;
    }
    const triangles = (0, import_earcut.default)(vertices);
    const mesh = meshToUpdate || new Mesh(engine, {
      vertexCount,
      /* Assumption here that we will never have more than 256 points
       * in the detected plane meshes! */
      indexType: MeshIndexType.UnsignedByte,
      indexData: triangles
    });
    if (mesh.vertexCount !== vertexCount) {
      console.warn("vertexCount of meshToUpdate did not match required vertexCount");
      return mesh;
    }
    const positions = mesh.attribute(MeshAttribute.Position);
    const textureCoords = mesh.attribute(MeshAttribute.TextureCoordinate);
    const normals = mesh.attribute(MeshAttribute.Normal);
    tempVec32[1] = 0;
    for (let i = 0, s = 0; i < vertexCount; ++i, s += 2) {
      tempVec32[0] = vertices[s];
      tempVec32[2] = vertices[s + 1];
      positions.set(i, tempVec32);
    }
    textureCoords?.set(0, vertices);
    if (normals) {
      tempVec32[0] = 0;
      tempVec32[1] = 1;
      tempVec32[2] = 0;
      for (let i = 0; i < vertexCount; ++i) {
        normals.set(i, tempVec32);
      }
    }
    if (meshToUpdate)
      mesh.update();
    return mesh;
  }
  var _planeLost, planeLost_fn, _planeFound, planeFound_fn, _planeUpdate, planeUpdate_fn, _planeUpdatePose, planeUpdatePose_fn;
  var PlaneDetection = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _planeLost);
      __privateAdd(this, _planeFound);
      __privateAdd(this, _planeUpdate);
      __privateAdd(this, _planeUpdatePose);
      /**
       * Material to assign to created plane meshes or `null` if meshes should not be created.
       */
      __publicField(this, "planeMaterial", null);
      /**
       * Collision mask to assign to newly created collision components or a negative value if
       * collision components should not be created.
       */
      __publicField(this, "collisionMask", -1);
      /** Map of all planes and their last updated timestamps */
      __publicField(this, "planes", /* @__PURE__ */ new Map());
      /** Objects generated for each XRPlane */
      __publicField(this, "planeObjects", /* @__PURE__ */ new Map());
      /** Called when a plane starts tracking */
      __publicField(this, "onPlaneFound", new Emitter());
      /** Called when a plane stops tracking */
      __publicField(this, "onPlaneLost", new Emitter());
    }
    update() {
      if (!this.engine.xr?.frame)
        return;
      if (this.engine.xr.frame.detectedPlanes === void 0) {
        console.error("plane-detection: WebXR feature not available.");
        this.active = false;
        return;
      }
      const detectedPlanes = this.engine.xr.frame.detectedPlanes;
      for (const [plane, _] of this.planes) {
        if (!detectedPlanes.has(plane)) {
          __privateMethod(this, _planeLost, planeLost_fn).call(this, plane);
        }
      }
      detectedPlanes.forEach((plane) => {
        if (this.planes.has(plane)) {
          if (plane.lastChangedTime > this.planes.get(plane)) {
            __privateMethod(this, _planeUpdate, planeUpdate_fn).call(this, plane);
          }
        } else {
          __privateMethod(this, _planeFound, planeFound_fn).call(this, plane);
        }
        __privateMethod(this, _planeUpdatePose, planeUpdatePose_fn).call(this, plane);
      });
    }
  };
  _planeLost = new WeakSet();
  planeLost_fn = function(plane) {
    this.planes.delete(plane);
    const o = this.planeObjects.get(plane);
    this.onPlaneLost.notify(plane, o);
    if (o.objectId > 0)
      o.destroy();
  };
  _planeFound = new WeakSet();
  planeFound_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const o = this.engine.scene.addObject(this.object);
    this.planeObjects.set(plane, o);
    if (this.planeMaterial) {
      o.addComponent(MeshComponent, {
        mesh: planeMeshFromContour(this.engine, plane.polygon),
        material: this.planeMaterial
      });
    }
    if (this.collisionMask >= 0) {
      extentsFromContour(tempVec32, plane.polygon);
      tempVec32[1] = 0.025;
      o.addComponent(CollisionComponent, {
        group: this.collisionMask,
        collider: Collider.Box,
        extents: tempVec32
      });
    }
    this.onPlaneFound.notify(plane, o);
  };
  _planeUpdate = new WeakSet();
  planeUpdate_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const planeMesh = this.planeObjects.get(plane).getComponent(MeshComponent);
    if (!planeMesh)
      return;
    planeMeshFromContour(this.engine, plane.polygon, planeMesh.mesh);
  };
  _planeUpdatePose = new WeakSet();
  planeUpdatePose_fn = function(plane) {
    const o = this.planeObjects.get(plane);
    const pose = this.engine.xr.frame.getPose(plane.planeSpace, this.engine.xr.currentReferenceSpace);
    if (!pose) {
      o.active = false;
      return;
    }
    setXRRigidTransformLocal(o, pose.transform);
  };
  __publicField(PlaneDetection, "TypeName", "plane-detection");
  __decorate9([
    property.material()
  ], PlaneDetection.prototype, "planeMaterial", void 0);
  __decorate9([
    property.int()
  ], PlaneDetection.prototype, "collisionMask", void 0);

  // node_modules/@wonderlandengine/components/dist/vrm.js
  var VRM_ROLL_AXES = {
    X: [1, 0, 0],
    Y: [0, 1, 0],
    Z: [0, 0, 1]
  };
  var VRM_AIM_AXES = {
    PositiveX: [1, 0, 0],
    NegativeX: [-1, 0, 0],
    PositiveY: [0, 1, 0],
    NegativeY: [0, -1, 0],
    PositiveZ: [0, 0, 1],
    NegativeZ: [0, 0, -1]
  };
  var Vrm = class extends Component {
    /** Meta information about the VRM model */
    meta = null;
    /** The humanoid bones of the VRM model */
    bones = {
      /* Torso */
      hips: null,
      spine: null,
      chest: null,
      upperChest: null,
      neck: null,
      /* Head */
      head: null,
      leftEye: null,
      rightEye: null,
      jaw: null,
      /* Legs */
      leftUpperLeg: null,
      leftLowerLeg: null,
      leftFoot: null,
      leftToes: null,
      rightUpperLeg: null,
      rightLowerLeg: null,
      rightFoot: null,
      rightToes: null,
      /* Arms */
      leftShoulder: null,
      leftUpperArm: null,
      leftLowerArm: null,
      leftHand: null,
      rightShoulder: null,
      rightUpperArm: null,
      rightLowerArm: null,
      rightHand: null,
      /* Fingers */
      leftThumbMetacarpal: null,
      leftThumbProximal: null,
      leftThumbDistal: null,
      leftIndexProximal: null,
      leftIndexIntermediate: null,
      leftIndexDistal: null,
      leftMiddleProximal: null,
      leftMiddleIntermediate: null,
      leftMiddleDistal: null,
      leftRingProximal: null,
      leftRingIntermediate: null,
      leftRingDistal: null,
      leftLittleProximal: null,
      leftLittleIntermediate: null,
      leftLittleDistal: null,
      rightThumbMetacarpal: null,
      rightThumbProximal: null,
      rightThumbDistal: null,
      rightIndexProximal: null,
      rightIndexIntermediate: null,
      rightIndexDistal: null,
      rightMiddleProximal: null,
      rightMiddleIntermediate: null,
      rightMiddleDistal: null,
      rightRingProximal: null,
      rightRingIntermediate: null,
      rightRingDistal: null,
      rightLittleProximal: null,
      rightLittleIntermediate: null,
      rightLittleDistal: null
    };
    /** Rotations of the bones in the rest pose (T-pose) */
    restPose = {};
    /* All node constraints, ordered to deal with dependencies */
    _nodeConstraints = [];
    /* VRMC_springBone chains */
    _springChains = [];
    /* Spherical colliders for spring bones */
    _sphereColliders = [];
    /* Capsule shaped colliders for spring bones */
    _capsuleColliders = [];
    /* Indicates which meshes are rendered in first/third person views */
    _firstPersonAnnotations = [];
    /* Contains details for (bone type) lookAt behaviour */
    _lookAt = null;
    /* Whether or not the VRM component has been initialized with `initializeVrm` */
    _initialized = false;
    init() {
      this._tempV3 = vec3_exports.create();
      this._tempV3A = vec3_exports.create();
      this._tempV3B = vec3_exports.create();
      this._tempQuat = quat_exports.create();
      this._tempQuatA = quat_exports.create();
      this._tempQuatB = quat_exports.create();
      this._tempMat4A = mat4_exports.create();
      this._tempQuat2 = quat2_exports.create();
      this._tailToShape = vec3_exports.create();
      this._headToTail = vec3_exports.create();
      this._inertia = vec3_exports.create();
      this._stiffness = vec3_exports.create();
      this._external = vec3_exports.create();
      this._rightVector = vec3_exports.set(vec3_exports.create(), 1, 0, 0);
      this._upVector = vec3_exports.set(vec3_exports.create(), 0, 1, 0);
      this._forwardVector = vec3_exports.set(vec3_exports.create(), 0, 0, 1);
      this._identityQuat = quat_exports.identity(quat_exports.create());
      this._rad2deg = 180 / Math.PI;
    }
    start() {
      if (!this.src) {
        console.error("vrm: src property not set");
        return;
      }
      this.engine.scene.append(this.src, { loadGltfExtensions: true }).then(({ root, extensions }) => {
        root.children.forEach((child) => child.parent = this.object);
        this._initializeVrm(extensions);
        root.destroy();
      });
    }
    /**
     * Parses the VRM glTF extensions and initializes the vrm component.
     * @param {GLTFExtensions} extensions The glTF extensions for the VRM model
     */
    _initializeVrm(extensions) {
      if (this._initialized) {
        throw Error("VRM component has already been initialized");
      }
      const VRMC_vrm = extensions.root["VRMC_vrm"];
      if (!VRMC_vrm) {
        throw Error("Missing VRM extensions");
      }
      if (VRMC_vrm.specVersion !== "1.0") {
        throw Error(`Unsupported VRM version, only 1.0 is supported, but encountered '${VRMC_vrm.specVersion}'`);
      }
      this.meta = VRMC_vrm.meta;
      this._parseHumanoid(VRMC_vrm.humanoid, extensions);
      if (VRMC_vrm.firstPerson) {
        this._parseFirstPerson(VRMC_vrm.firstPerson, extensions);
      }
      if (VRMC_vrm.lookAt) {
        this._parseLookAt(VRMC_vrm.lookAt);
      }
      this._findAndParseNodeConstraints(extensions);
      const springBone = extensions.root["VRMC_springBone"];
      if (springBone) {
        this._parseAndInitializeSpringBones(springBone, extensions);
      }
      this._initialized = true;
    }
    _parseHumanoid(humanoid, extensions) {
      for (const boneName in humanoid.humanBones) {
        if (!(boneName in this.bones)) {
          console.warn(`Unrecognized bone '${boneName}'`);
          continue;
        }
        const node = humanoid.humanBones[boneName].node;
        const objectId = extensions.idMapping[node];
        this.bones[boneName] = this.engine.wrapObject(objectId);
        this.restPose[boneName] = quat_exports.copy(quat_exports.create(), this.bones[boneName].rotationLocal);
      }
    }
    _parseFirstPerson(firstPerson, extensions) {
      for (const meshAnnotation of firstPerson.meshAnnotations) {
        const annotation = {
          node: this.engine.wrapObject(extensions.idMapping[meshAnnotation.node]),
          firstPerson: true,
          thirdPerson: true
        };
        switch (meshAnnotation.type) {
          case "firstPersonOnly":
            annotation.thirdPerson = false;
            break;
          case "thirdPersonOnly":
            annotation.firstPerson = false;
            break;
          case "both":
            break;
          case "auto":
            console.warn("First person mesh annotation type 'auto' is not supported, treating as 'both'!");
            break;
          default:
            console.error(`Invalid mesh annotation type '${meshAnnotation.type}'`);
            break;
        }
        this._firstPersonAnnotations.push(annotation);
      }
    }
    _parseLookAt(lookAt4) {
      if (lookAt4.type !== "bone") {
        console.warn(`Unsupported lookAt type '${lookAt4.type}', only 'bone' is supported`);
        return;
      }
      const parseRangeMap = (rangeMap) => {
        return {
          inputMaxValue: rangeMap.inputMaxValue,
          outputScale: rangeMap.outputScale
        };
      };
      this._lookAt = {
        offsetFromHeadBone: lookAt4.offsetFromHeadBone || [0, 0, 0],
        horizontalInner: parseRangeMap(lookAt4.rangeMapHorizontalInner),
        horizontalOuter: parseRangeMap(lookAt4.rangeMapHorizontalOuter),
        verticalDown: parseRangeMap(lookAt4.rangeMapVerticalDown),
        verticalUp: parseRangeMap(lookAt4.rangeMapVerticalUp)
      };
    }
    _findAndParseNodeConstraints(extensions) {
      const traverse = (object) => {
        const nodeExtensions = extensions.node[object.objectId];
        if (nodeExtensions && "VRMC_node_constraint" in nodeExtensions) {
          const nodeConstraintExtension = nodeExtensions["VRMC_node_constraint"];
          const constraint = nodeConstraintExtension.constraint;
          let type, axis;
          if ("roll" in constraint) {
            type = "roll";
            axis = VRM_ROLL_AXES[constraint.roll.rollAxis];
          } else if ("aim" in constraint) {
            type = "aim";
            axis = VRM_AIM_AXES[constraint.aim.aimAxis];
          } else if ("rotation" in constraint) {
            type = "rotation";
          }
          if (type) {
            const source = this.engine.wrapObject(extensions.idMapping[constraint[type].source]);
            this._nodeConstraints.push({
              type,
              source,
              destination: object,
              axis,
              weight: constraint[type].weight,
              /* Rest pose */
              destinationRestLocalRotation: quat_exports.copy(quat_exports.create(), object.rotationLocal),
              sourceRestLocalRotation: quat_exports.copy(quat_exports.create(), source.rotationLocal),
              sourceRestLocalRotationInv: quat_exports.invert(quat_exports.create(), source.rotationLocal)
            });
          } else {
            console.warn("Unrecognized or invalid VRMC_node_constraint, ignoring it");
          }
        }
        for (const child of object.children) {
          traverse(child);
        }
      };
      traverse(this.object);
    }
    _parseAndInitializeSpringBones(springBone, extensions) {
      const colliders = (springBone.colliders || []).map((collider, i) => {
        const shapeType = "capsule" in collider.shape ? "capsule" : "sphere";
        return {
          id: i,
          object: this.engine.wrapObject(extensions.idMapping[collider.node]),
          shape: {
            isCapsule: shapeType === "capsule",
            radius: collider.shape[shapeType].radius,
            offset: collider.shape[shapeType].offset,
            tail: collider.shape[shapeType].tail
          },
          cache: {
            head: vec3_exports.create(),
            tail: vec3_exports.create()
          }
        };
      });
      this._sphereColliders = colliders.filter((c) => !c.shape.isCapsule);
      this._capsuleColliders = colliders.filter((c) => c.shape.isCapsule);
      const colliderGroups = (springBone.colliderGroups || []).map((group) => ({
        name: group.name,
        colliders: group.colliders.map((c) => colliders[c])
      }));
      for (const spring of springBone.springs) {
        const joints = [];
        for (const joint of spring.joints) {
          const springJoint = {
            hitRadius: 0,
            stiffness: 1,
            gravityPower: 0,
            gravityDir: [0, -1, 0],
            dragForce: 0.5,
            node: null,
            state: null
          };
          Object.assign(springJoint, joint);
          springJoint.node = this.engine.wrapObject(extensions.idMapping[springJoint.node]);
          joints.push(springJoint);
        }
        const springChainColliders = (spring.colliderGroups || []).flatMap((cg) => colliderGroups[cg].colliders);
        this._springChains.push({
          name: spring.name,
          center: spring.center ? this.engine.wrapObject(extensions.idMapping[spring.center]) : null,
          joints,
          sphereColliders: springChainColliders.filter((c) => !c.shape.isCapsule),
          capsuleColliders: springChainColliders.filter((c) => c.shape.isCapsule)
        });
      }
      for (const springChain of this._springChains) {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const springBoneJoint = springChain.joints[i];
          const childSpringBoneJoint = springChain.joints[i + 1];
          const springBonePosition = springBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const childSpringBonePosition = childSpringBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const boneDirection = vec3_exports.subtract(this._tempV3A, springBonePosition, childSpringBonePosition);
          const state2 = {
            prevTail: childSpringBonePosition,
            currentTail: vec3_exports.copy(vec3_exports.create(), childSpringBonePosition),
            initialLocalRotation: quat_exports.copy(quat_exports.create(), springBoneJoint.node.rotationLocal),
            initialLocalTransformInvert: quat2_exports.invert(quat2_exports.create(), springBoneJoint.node.transformLocal),
            boneAxis: vec3_exports.normalize(vec3_exports.create(), childSpringBoneJoint.node.getTranslationLocal(this._tempV3)),
            /* Ensure bone length is at least 1cm to avoid jittery behaviour from zero-length bones */
            boneLength: Math.max(0.01, vec3_exports.length(boneDirection)),
            /* Tail positions in center space, if needed */
            prevTailCenter: null,
            currentTailCenter: null
          };
          if (springChain.center) {
            state2.prevTailCenter = springChain.center.transformPointInverseWorld(vec3_exports.create(), childSpringBonePosition);
            state2.currentTailCenter = vec3_exports.copy(vec3_exports.create(), childSpringBonePosition);
          }
          springBoneJoint.state = state2;
        }
      }
    }
    update(dt) {
      if (!this._initialized) {
        return;
      }
      this._resolveLookAt();
      this._resolveConstraints();
      this._updateSpringBones(dt);
    }
    _rangeMap(rangeMap, input) {
      const maxValue = rangeMap.inputMaxValue;
      const outputScale = rangeMap.outputScale;
      return Math.min(input, maxValue) / maxValue * outputScale;
    }
    _resolveLookAt() {
      if (!this._lookAt || !this.lookAtTarget) {
        return;
      }
      const lookAtSource = this.bones.head.transformPointWorld(this._tempV3A, this._lookAt.offsetFromHeadBone);
      const lookAtTarget = this.lookAtTarget.getTranslationWorld(this._tempV3B);
      const lookAtDirection = vec3_exports.sub(this._tempV3A, lookAtTarget, lookAtSource);
      vec3_exports.normalize(lookAtDirection, lookAtDirection);
      this.bones.head.parent.transformVectorInverseWorld(lookAtDirection);
      const z = vec3_exports.dot(lookAtDirection, this._forwardVector);
      const x = vec3_exports.dot(lookAtDirection, this._rightVector);
      const yaw = Math.atan2(x, z) * this._rad2deg;
      const xz = Math.sqrt(x * x + z * z);
      const y = vec3_exports.dot(lookAtDirection, this._upVector);
      let pitch = Math.atan2(-y, xz) * this._rad2deg;
      if (pitch > 0) {
        pitch = this._rangeMap(this._lookAt.verticalDown, pitch);
      } else {
        pitch = -this._rangeMap(this._lookAt.verticalUp, -pitch);
      }
      if (this.bones.leftEye) {
        let yawLeft = yaw;
        if (yawLeft > 0) {
          yawLeft = this._rangeMap(this._lookAt.horizontalInner, yawLeft);
        } else {
          yawLeft = -this._rangeMap(this._lookAt.horizontalOuter, -yawLeft);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawLeft, 0);
        this.bones.leftEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.leftEye, eyeRotation);
      }
      if (this.bones.rightEye) {
        let yawRight = yaw;
        if (yawRight > 0) {
          yawRight = this._rangeMap(this._lookAt.horizontalOuter, yawRight);
        } else {
          yawRight = -this._rangeMap(this._lookAt.horizontalInner, -yawRight);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawRight, 0);
        this.bones.rightEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.rightEye, eyeRotation);
      }
    }
    _resolveConstraints() {
      for (const nodeConstraint of this._nodeConstraints) {
        this._resolveConstraint(nodeConstraint);
      }
    }
    _resolveConstraint(nodeConstraint) {
      const dstRestQuat = nodeConstraint.destinationRestLocalRotation;
      const srcRestQuatInv = nodeConstraint.sourceRestLocalRotationInv;
      const targetQuat = quat_exports.identity(this._tempQuatA);
      switch (nodeConstraint.type) {
        case "roll":
          {
            const deltaSrcQuat = quat_exports.multiply(this._tempQuatA, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            const deltaSrcQuatInParent = quat_exports.multiply(this._tempQuatA, nodeConstraint.sourceRestLocalRotation, deltaSrcQuat);
            quat_exports.mul(deltaSrcQuatInParent, deltaSrcQuatInParent, srcRestQuatInv);
            const dstRestQuatInv = quat_exports.invert(this._tempQuatB, dstRestQuat);
            const deltaSrcQuatInDst = quat_exports.multiply(this._tempQuatB, dstRestQuatInv, deltaSrcQuatInParent);
            quat_exports.multiply(deltaSrcQuatInDst, deltaSrcQuatInDst, dstRestQuat);
            const toVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, deltaSrcQuatInDst);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, nodeConstraint.axis, toVec);
            quat_exports.mul(targetQuat, dstRestQuat, quat_exports.invert(this._tempQuat, fromToQuat));
            quat_exports.mul(targetQuat, targetQuat, deltaSrcQuatInDst);
          }
          break;
        case "aim":
          {
            const dstParentWorldQuat = nodeConstraint.destination.parent.rotationWorld;
            const fromVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, dstRestQuat);
            vec3_exports.transformQuat(fromVec, fromVec, dstParentWorldQuat);
            const toVec = nodeConstraint.source.getTranslationWorld(this._tempV3B);
            vec3_exports.sub(toVec, toVec, nodeConstraint.destination.getTranslationWorld(this._tempV3));
            vec3_exports.normalize(toVec, toVec);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, fromVec, toVec);
            quat_exports.mul(targetQuat, quat_exports.invert(this._tempQuat, dstParentWorldQuat), fromToQuat);
            quat_exports.mul(targetQuat, targetQuat, dstParentWorldQuat);
            quat_exports.mul(targetQuat, targetQuat, dstRestQuat);
          }
          break;
        case "rotation":
          {
            const srcDeltaQuat = quat_exports.mul(targetQuat, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            quat_exports.mul(targetQuat, dstRestQuat, srcDeltaQuat);
          }
          break;
      }
      quat_exports.slerp(targetQuat, dstRestQuat, targetQuat, nodeConstraint.weight);
      nodeConstraint.destination.rotationLocal = targetQuat;
    }
    _updateSpringBones(dt) {
      this._sphereColliders.forEach(({ object, shape, cache }) => {
        const offset2 = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(offset2);
        vec3_exports.add(cache.head, object.getTranslationWorld(this._tempV3), offset2);
      });
      this._capsuleColliders.forEach(({ object, shape, cache }) => {
        const shapeCenter = object.getTranslationWorld(this._tempV3A);
        const headOffset = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(headOffset);
        vec3_exports.add(cache.head, shapeCenter, headOffset);
        const tailOffset = vec3_exports.copy(cache.tail, shape.tail);
        object.transformVectorWorld(tailOffset);
        vec3_exports.add(cache.tail, shapeCenter, tailOffset);
      });
      this._springChains.forEach((springChain) => {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const joint = springChain.joints[i];
          const parentWorldRotation = joint.node.parent ? joint.node.parent.rotationWorld : this._identityQuat;
          const inertia = this._inertia;
          if (springChain.center) {
            vec3_exports.sub(inertia, joint.state.currentTailCenter, joint.state.prevTailCenter);
            springChain.center.transformVectorWorld(inertia);
          } else {
            vec3_exports.sub(inertia, joint.state.currentTail, joint.state.prevTail);
          }
          vec3_exports.scale(inertia, inertia, 1 - joint.dragForce);
          const stiffness = vec3_exports.copy(this._stiffness, joint.state.boneAxis);
          vec3_exports.transformQuat(stiffness, stiffness, joint.state.initialLocalRotation);
          vec3_exports.transformQuat(stiffness, stiffness, parentWorldRotation);
          vec3_exports.scale(stiffness, stiffness, dt * joint.stiffness);
          const external = vec3_exports.scale(this._external, joint.gravityDir, dt * joint.gravityPower);
          const nextTail = vec3_exports.copy(this._tempV3A, joint.state.currentTail);
          vec3_exports.add(nextTail, nextTail, inertia);
          vec3_exports.add(nextTail, nextTail, stiffness);
          vec3_exports.add(nextTail, nextTail, external);
          const worldPosition = joint.node.getTranslationWorld(this._tempV3B);
          vec3_exports.sub(nextTail, nextTail, worldPosition);
          vec3_exports.normalize(nextTail, nextTail);
          vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
          for (const { shape, cache } of springChain.sphereColliders) {
            let tailToShape = this._tailToShape;
            const sphereCenter = cache.head;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, sphereCenter);
            const radius = shape.radius + joint.hitRadius;
            const dist2 = vec3_exports.length(tailToShape) - radius;
            if (dist2 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist2);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          for (const { shape, cache } of springChain.capsuleColliders) {
            let tailToShape = this._tailToShape;
            const head = cache.head;
            const tail = cache.tail;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, head);
            const headToTail = vec3_exports.sub(this._headToTail, tail, head);
            const dot5 = vec3_exports.dot(headToTail, tailToShape);
            if (vec3_exports.squaredLength(headToTail) <= dot5) {
              vec3_exports.sub(tailToShape, nextTail, tail);
            } else if (dot5 > 0) {
              vec3_exports.scale(headToTail, headToTail, dot5 / vec3_exports.squaredLength(headToTail));
              vec3_exports.sub(tailToShape, tailToShape, headToTail);
            }
            const radius = shape.radius + joint.hitRadius;
            const dist2 = vec3_exports.length(tailToShape) - radius;
            if (dist2 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist2);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          vec3_exports.copy(joint.state.prevTail, joint.state.currentTail);
          vec3_exports.copy(joint.state.currentTail, nextTail);
          if (springChain.center) {
            vec3_exports.copy(joint.state.prevTailCenter, joint.state.currentTailCenter);
            vec3_exports.copy(joint.state.currentTailCenter, nextTail);
            springChain.center.transformPointInverseWorld(joint.state.currentTailCenter);
          }
          joint.node.parent.transformPointInverseWorld(nextTail);
          const nextTailDualQuat = quat2_exports.fromTranslation(this._tempQuat2, nextTail);
          quat2_exports.multiply(nextTailDualQuat, joint.state.initialLocalTransformInvert, nextTailDualQuat);
          quat2_exports.getTranslation(nextTail, nextTailDualQuat);
          vec3_exports.normalize(nextTail, nextTail);
          const jointRotation = quat_exports.rotationTo(this._tempQuatA, joint.state.boneAxis, nextTail);
          joint.node.rotationLocal = quat_exports.mul(this._tempQuatA, joint.state.initialLocalRotation, jointRotation);
        }
      });
    }
    /**
     * @param {boolean} firstPerson Whether the model should render for first person or third person views
     */
    set firstPerson(firstPerson) {
      this._firstPersonAnnotations.forEach((annotation) => {
        const visible = firstPerson == annotation.firstPerson || firstPerson != annotation.thirdPerson;
        annotation.node.getComponents("mesh").forEach((mesh) => {
          mesh.active = visible;
        });
      });
    }
  };
  __publicField(Vrm, "TypeName", "vrm");
  __publicField(Vrm, "Properties", {
    /** URL to a VRM file to load */
    src: { type: Type.String },
    /** Object the VRM is looking at */
    lookAtTarget: { type: Type.Object }
  });

  // js/game.js
  var game_exports = {};
  __export(game_exports, {
    state: () => state
  });
  var state = {
    EnemySpawner: [],
    //this is the function that spawns enemeies
    spawn: null,
    spawnedEnemies: 0,
    currentEnemies: [],
    maxEnemies: 15,
    enemiesDestroyed: 0,
    random,
    health: 100,
    getHealth: function() {
      return this.health.toString();
    },
    getCurrency: function() {
      return this.currency.toString();
    },
    turretSpawner: [],
    turrets: [],
    buildT: null,
    spawnedTurrets: 0,
    maxTurrets: 10,
    currency: 50,
    needsUpdate: false,
    gameOver: false,
    selectedTurret: "drone",
    ship: null,
    shipHit: null,
    buildTime: 15,
    levelUp: null,
    day: true,
    pauseEnemies: true,
    pauseBuilding: false
  };

  // node_modules/@wonderlandengine/components/dist/wasd-controls.js
  var _direction = new Float32Array(3);
  var WasdControlsComponent = class extends Component {
    init() {
      this.up = false;
      this.right = false;
      this.down = false;
      this.left = false;
      this.spawm = false;
      window.addEventListener("keydown", this.press.bind(this));
      window.addEventListener("keyup", this.release.bind(this));
    }
    start() {
      this.headObject = this.headObject || this.object;
    }
    update() {
      vec3_exports.zero(_direction);
      if (this.up)
        _direction[2] -= 1;
      if (this.down)
        _direction[2] += 1;
      if (this.left)
        _direction[0] -= 1;
      if (this.right)
        _direction[0] += 1;
      vec3_exports.normalize(_direction, _direction);
      _direction[0] *= this.speed;
      _direction[2] *= this.speed;
      vec3_exports.transformQuat(_direction, _direction, this.headObject.transformWorld);
      if (this.lockY) {
        _direction[1] = 0;
        vec3_exports.normalize(_direction, _direction);
        vec3_exports.scale(_direction, _direction, this.speed);
      }
      this.object.translateLocal(_direction);
    }
    press(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = true;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = true;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = true;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = true;
      } else if (e.keyCode === 69) {
        state.buildT();
      }
    }
    release(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = false;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = false;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = false;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = false;
      }
    }
  };
  __publicField(WasdControlsComponent, "TypeName", "wasd-controls");
  __publicField(WasdControlsComponent, "Properties", {
    /** Movement speed in m/s. */
    speed: { type: Type.Float, default: 0.1 },
    /** Flag for only moving the object on the global x & z planes */
    lockY: { type: Type.Bool, default: false },
    /** Object of which the orientation is used to determine forward direction */
    headObject: { type: Type.Object }
  });

  // js/CanvasUI.js
  var CanvasUI_exports = {};
  __export(CanvasUI_exports, {
    CanvasUI: () => CanvasUI
  });
  var CanvasKeyboard = class {
    constructor(width, canvasui, lang = "EN") {
      const config2 = this.getConfig(lang);
      config2.panelSize = { width, height: width * 0.5 };
      config2.height = 256;
      config2.body = { backgroundColor: "#555" };
      const object = WL.scene.addObject();
      object.name = "keyboard";
      const mesh = object.addComponent("mesh");
      const uimesh = canvasui.object.getComponent("mesh");
      mesh.mesh = uimesh.mesh;
      mesh.material = uimesh.material.clone();
      object.addComponent("cursor-target");
      const content = this.getContent(lang);
      this.keyboard = new CanvasUI(content, config2, object, canvasui.engine);
      this.tmpVec = new Float32Array(3);
      this.hp = state.test();
    }
    get object() {
      return this.keyboard.object;
    }
    getConfig(lang) {
      const config2 = {};
      let padding = 10;
      const paddingTop = 20;
      const width = (512 - 2 * padding) / 10 - padding;
      const height = (256 - 2 * padding) / 4 - padding;
      const hover = "#333";
      const backgroundColor = "#000";
      let y = padding;
      let x = padding;
      for (let i = 0; i < 10; i++) {
        const btn = { type: "button", position: { x, y }, width, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i) };
        config2[`btn${i}`] = btn;
        x += width + padding;
      }
      y += height + padding;
      x = padding;
      for (let i = 0; i < 10; i++) {
        const btn = { type: "button", position: { x, y }, width, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i + 10) };
        config2[`btn${i + 10}`] = btn;
        x += width + padding;
      }
      y += height + padding;
      x = padding;
      for (let i = 0; i < 9; i++) {
        const w = i == 0 || i == 8 ? width * 1.5 + padding * 0.5 : width;
        const btn = { type: "button", position: { x, y }, width: w, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i + 20) };
        config2[`btn${i + 20}`] = btn;
        x += w + padding;
      }
      y += height + padding;
      x = padding;
      for (let i = 0; i < 5; i++) {
        const w = i == 0 || i == 4 ? width * 2 + padding : i == 2 ? width * 4 + 3 * padding : width;
        const btn = { type: "button", position: { x, y }, width: w, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i + 30) };
        if (i == 0)
          btn.fontSize = 20;
        config2[`btn${i + 30}`] = btn;
        x += w + padding;
      }
      return config2;
    }
    getContent(lang, layoutIndex = 0) {
      let content = {};
      let keys;
      this.language = lang;
      this.keyboardIndex = layoutIndex;
      switch (layoutIndex) {
        case 0:
          keys = [
            "q",
            "w",
            "e",
            "r",
            "t",
            "y",
            "u",
            "i",
            "o",
            "p",
            "a",
            "s",
            "d",
            "f",
            "g",
            "h",
            "j",
            "k",
            "l",
            "@",
            "\u21E7",
            "z",
            "x",
            "c",
            "v",
            "b",
            "n",
            "m",
            "\u21E6",
            "",
            "?123",
            ",",
            "   ",
            ".",
            "\u21B2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
        case 1:
          keys = [
            "Q",
            "W",
            "E",
            "R",
            "T",
            "Y",
            "U",
            "I",
            "O",
            "P",
            "A",
            "S",
            "D",
            "F",
            "G",
            "H",
            "J",
            "K",
            "L",
            "@",
            "\u21E7",
            "Z",
            "X",
            "C",
            "V",
            "B",
            "N",
            "M",
            "\u21E6",
            "",
            "?123",
            ",",
            "   ",
            ".",
            "\u21B2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
        case 2:
          keys = [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "0",
            "@",
            "#",
            "%",
            "&",
            "*",
            "/",
            "-",
            "+",
            "(",
            ")",
            "\u21E7",
            "?",
            "!",
            '"',
            "'",
            "\\",
            ":",
            ";",
            "\u21E6",
            "",
            "abc",
            ",",
            "   ",
            ".",
            "\u21B2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
        case 3:
          keys = [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "0",
            "\u20AC",
            "\xA3",
            "$",
            "^",
            "=",
            "|",
            "{",
            "}",
            "[",
            "}",
            "\u21E7",
            "<",
            ">",
            "_",
            "`",
            "~",
            ":",
            ";",
            "\u21E6",
            "",
            "abc",
            ",",
            "   ",
            ".",
            "\u21B2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
      }
      return content;
    }
    get position() {
      const pos = this.keyboard.object.getTranslationWorld(this.tmpVec);
      return pos;
    }
    get positionLocal() {
      const pos = this.keyboard.object.getTranslationLocal(this.tmpVec);
      return pos;
    }
    get visible() {
      return this.active;
    }
    set visible(value) {
      this.keyboard.object.active = value;
      this.active = value;
    }
    setKeyboard(index) {
      this.keyboard.content = this.getContent(this.language, index);
      this.keyboard.needsUpdate = true;
    }
    onSelect(index) {
      if (!this.visible)
        return;
      let change = false;
      switch (index) {
        case 34:
          this.visible = false;
          if (this.linkedElement.onEnter)
            this.linkedElement.onEnter(this.linkedText);
          break;
        case 32:
          this.linkedText += " ";
          change = true;
          break;
        case 30:
          this.shift = false;
          if (this.keyboardIndex < 2) {
            this.setKeyboard(2);
          } else {
            this.setKeyboard(0);
          }
          this.keyboard.needsUpdate = true;
          break;
        case 28:
          this.linkedText = this.linkedText.substring(0, this.linkedText.length - 1);
          change = true;
          break;
        case 20:
          this.shift = !this.shift;
          if (this.keyboardIndex == 0) {
            this.setKeyboard(1);
          } else if (this.keyboardIndex == 1) {
            this.setKeyboard(0);
          } else if (this.keyboardIndex == 2) {
            this.setKeyboard(3);
          } else if (this.keyboardIndex == 3) {
            this.setKeyboard(2);
          }
          break;
        default:
          const txt = this.keyboard.content[`btn${index}`];
          this.linkedText += txt;
          change = true;
          if (this.keyboardIndex == 1)
            this.setKeyboard(0);
          break;
      }
      if (change) {
        this.linkedUI.updateElement(this.linkedName, this.linkedText);
        if (this.linkedElement.onChanged)
          this.linkedElement.onChanged(this.linkedText);
      }
    }
    update() {
      if (this.keyboard) {
        this.keyboard.update();
      }
    }
  };
  var CanvasUI = class {
    constructor(content, config2, object, engine) {
      const defaultconfig = {
        width: 512,
        height: 512,
        opacity: 0.7,
        body: {
          fontFamily: "Arial",
          fontSize: 100,
          padding: 20,
          backgroundColor: "#000",
          fontColor: "#fff",
          borderRadius: 6
        }
      };
      this.config = config2 === void 0 ? defaultconfig : config2;
      if (this.config.width === void 0)
        this.config.width = 512;
      if (this.config.height === void 0)
        this.config.height = 512;
      if (this.config.body === void 0)
        this.config.body = { fontFamily: "Arial", size: 30, padding: 20, backgroundColor: "#000", fontColor: "#fff", borderRadius: 6 };
      if (this.config.collisionGroup === void 0) {
        this.collisionGroup = 1;
      } else {
        this.collisionGroup = 1 << this.config.collisionGroup;
      }
      const body = this.config.body;
      if (body.borderRadius === void 0)
        body.borderRadius = 6;
      if (body.fontFamily === void 0)
        body.fontFamily = "Arial";
      if (body.padding === void 0)
        body.padding = 20;
      if (body.fontSize === void 0)
        body.fontSize = 100;
      if (body.backgroundColor === void 0)
        body.backgroundColor = "#000";
      if (body.fontColor === void 0)
        body.fontColor = "#fff";
      Object.entries(this.config).forEach(([name, value]) => {
        if (typeof value === "object" && name !== "panelSize") {
          const pos = value.position !== void 0 ? value.position : { x: 0, y: 0 };
          if (pos.left !== void 0 && pos.x === void 0)
            pos.x = pos.left;
          if (pos.top !== void 0 && pos.y === void 0)
            pos.y = pos.top;
          const width = value.width !== void 0 ? value.width : this.config.width;
          const height = value.height !== void 0 ? value.height : this.config.height;
          if (pos.right !== void 0 && pos.x === void 0)
            pos.x = this.config.width - pos.right - width;
          if (pos.bottom !== void 0 && pos.y === void 0)
            pos.y = this.config.height - pos.bottom - height;
          if (pos.x === void 0)
            pos.x = 0;
          if (pos.y === void 0)
            pos.y = 0;
          value.position = pos;
          if (value.type === void 0)
            value.type = "text";
        }
      });
      this.canvas = this.createOffscreenCanvas(this.config.width, this.config.height);
      this.context = this.canvas.getContext("2d");
      this.context.save();
      const opacity = this.config.opacity !== void 0 ? this.config.opacity : 0.7;
      const mesh = object.getComponent("mesh");
      this.material = mesh.material;
      this.canvasTexture = new Texture(engine, this.canvas);
      this.material.flatTexture = this.canvasTexture;
      if (config2.panelSize) {
        object.resetScaling();
        const scale6 = [config2.panelSize.width, config2.panelSize.height, 0.01];
        object.scale(scale6);
        this.panelSize = config2.panelSize;
      } else {
        this.panelSize = { width: 1, height: 1 };
      }
      this.object = object;
      this.engine = engine;
      this.tmpVec = new Float32Array(3);
      this.tmpVec1 = new Float32Array(3);
      this.tmpQuat = new Float32Array(4);
      const inputs = Object.values(this.config).filter((value) => {
        return value.type === "input-text";
      });
      if (inputs.length > 0) {
        const width = config2.panelSize ? config2.panelSize.width : 1;
        const height = config2.panelSize ? config2.panelSize.height : 1;
        let halfheight = height / 2;
        this.keyboard = new CanvasKeyboard(width, this);
        this.getEuler(this.tmpVec, this.object.rotationWorld);
        let theta = this.tmpVec[1];
        this.tmpVec[0] = 0;
        this.tmpVec[2] = -Math.cos(theta) / halfheight;
        this.tmpVec[1] = Math.sin(theta) / halfheight;
        console.log(`CanvasUI create keyboard 1 theta=${theta.toFixed(2)} offset=${this.vecToStr(this.tmpVec)}`);
        halfheight = width / 4;
        this.getEuler(this.tmpVec1, this.keyboard.keyboard.object.rotationWorld);
        theta += -15 * Math.PI / 180;
        this.tmpVec1[0] = 0;
        this.tmpVec1[2] = -Math.cos(theta) / halfheight;
        this.tmpVec1[1] = Math.sin(theta) / halfheight;
        console.log(`CanvasUI create keyboard 2 theta=${theta.toFixed(2)} offset=${this.vecToStr(this.tmpVec1)}`);
        vec3_exports.add(this.tmpVec, this.tmpVec, this.tmpVec1);
        console.log(`CanvasUI create keyboard 3 theta=${theta.toFixed(2)} offset=${this.vecToStr(this.tmpVec)}`);
        const obj = this.keyboard.object;
        quat_exports.fromEuler(this.tmpQuat, -15, 0, 0);
        obj.rotate(this.tmpQuat);
        obj.translate(this.tmpVec);
        vec3_exports.divide(this.tmpVec, obj.scalingLocal, object.scalingWorld);
        obj.resetScaling();
        obj.scale(this.tmpVec);
        obj.parent = object;
        obj.setDirty();
        this.keyboard.visible = false;
      }
      if (content === void 0) {
        this.content = { body: "" };
        this.config.body.type = "text";
      } else {
        this.content = content;
        const btns = Object.values(config2).filter((value) => {
          return value.type === "button" || value.overflow === "scroll" || value.type === "input-text";
        });
        if (btns.length > 0) {
          this.engine.onXRSessionStart.add(this.initControllers.bind(this));
          const extents = new Float32Array(3);
          vec3_exports.copy(extents, this.object.scalingWorld);
          const collision = this.object.addComponent("collision", { collider: 2, extents, group: this.collisionGroup });
        }
      }
      this.selectedElements = [void 0, void 0];
      this.selectPressed = [false, false];
      this.scrollData = [void 0, void 0];
      this.intersects = [void 0, void 0];
      this.needsUpdate = true;
      this.update();
    }
    vecToStr(v, precision = 2) {
      let str5 = "";
      if (v) {
        for (let i = 0; i < v.length; i++) {
          str5 += v[i].toFixed(precision) + ", ";
        }
      }
      return str5;
    }
    //returns yaw, pitch, roll
    getEuler(out, quat) {
      let x = quat[0], y = quat[1], z = quat[2], w = quat[3], x2 = x * x, y2 = y * y, z2 = z * z, w2 = w * w;
      let unit = x2 + y2 + z2 + w2;
      let test = x * w - y * z;
      if (test > 0.499995 * unit) {
        out[0] = Math.PI / 2;
        out[1] = 2 * Math.atan2(y, x);
        out[2] = 0;
      } else if (test < -0.499995 * unit) {
        out[0] = -Math.PI / 2;
        out[1] = 2 * Math.atan2(y, x);
        out[2] = 0;
      } else {
        out[0] = Math.asin(2 * (x * z - w * y));
        out[1] = Math.atan2(2 * (x * w + y * z), 1 - 2 * (z2 + w2));
        out[2] = Math.atan2(2 * (x * y + z * w), 1 - 2 * (y2 + z2));
      }
      return out;
    }
    getIntersectY(index) {
      const height = this.config.height || 512;
      const intersect = this.intersects[index];
      if (intersect === void 0)
        return 0;
      if (intersect.xy === void 0)
        return 0;
      return intersect.xy[1];
    }
    get selectIsPressed() {
      return this.selectPressed[0] || this.selectPressed[1];
    }
    initControllers(s) {
      this.session = s;
      const root = new Object3D(0);
      root.children.forEach((child) => {
        if (child.name == "Player") {
          const space = child.children[0];
          space.children.forEach((child2) => {
            if (child2.name == "CursorLeft")
              this.rayLeft = child2;
            if (child2.name == "CursorRight")
              this.rayRight = child2;
          });
        }
      });
      if (!(this.rayLeft && this.rayRight))
        console.warn("Player CursorLeft or Player CursorRight not found");
      function onSelect(event) {
        const index = event.inputSource.handedness === "left" ? 0 : 1;
        const elm = this.selectedElements[index];
        if (elm !== void 0) {
          if (elm.type == "button") {
            this.select(index);
          } else if (elm.type == "input-text") {
            if (this.keyboard) {
              if (this.keyboard.visible) {
                this.keyboard.linkedUI = void 0;
                this.keyboard.linkedText = void 0;
                this.keyboard.linkedElement = void 0;
                this.keyboard.visible = false;
              } else {
                this.keyboard.linkedUI = this;
                let name;
                Object.entries(this.config).forEach(([prop, value]) => {
                  if (value == elm)
                    name = prop;
                });
                const y = (0.5 - (elm.position.y + elm.height + this.config.body.padding) / this.config.height) * this.panelSize.height;
                const h = Math.max(this.panelSize.width, this.panelSize.height) / 2;
                this.keyboard.linkedText = this.content[name];
                this.keyboard.linkedName = name;
                this.keyboard.linkedElement = elm;
                this.keyboard.visible = true;
              }
            }
          }
        }
      }
      ;
      function onSelectStart(event) {
        const index = event.inputSource.handedness === "left" ? 0 : 1;
        this.selectPressed[index] = true;
        if (this.selectedElements[index] !== void 0 && this.selectedElements[index].overflow == "scroll") {
          const elm = this.selectedElements[index];
          this.scrollData[index] = { scrollY: elm.scrollY, rayY: this.getIntersectY(index) };
        }
      }
      function onSelectEnd(event) {
        const index = event.inputSource.handedness === "left" ? 0 : 1;
        this.selectPressed[index] = false;
        if (this.selectedElements[index] !== void 0 && this.selectedElements[index].overflow == "scroll") {
          this.scrollData[index] = void 0;
        }
      }
      s.addEventListener("end", function() {
        this.session = null;
      }.bind(this));
      s.addEventListener("select", onSelect.bind(this));
      s.addEventListener("selectstart", onSelectStart.bind(this));
      s.addEventListener("selectend", onSelectEnd.bind(this));
    }
    setClip(elm) {
      const context = this.context;
      context.restore();
      context.save();
      if (elm.clipPath !== void 0) {
        const path = new Path2D(elm.clipPath);
        context.clip(path);
      } else {
        const pos = elm.position !== void 0 ? elm.position : { x: 0, y: 0 };
        const borderRadius = elm.borderRadius || 0;
        const width = elm.width || this.config.width;
        const height = elm.height || this.config.height;
        context.beginPath();
        if (borderRadius !== 0) {
          const angle2 = Math.PI / 2;
          context.moveTo(pos.x + borderRadius, pos.y);
          context.arc(pos.x + borderRadius, pos.y + borderRadius, borderRadius, angle2, angle2 * 2, true);
          context.lineTo(pos.x, pos.y + height - borderRadius);
          context.arc(pos.x + borderRadius, pos.y + height - borderRadius, borderRadius, 0, angle2, true);
          context.lineTo(pos.x + width - borderRadius, pos.y + height);
          context.arc(pos.x + width - borderRadius, pos.y + height - borderRadius, borderRadius, angle2 * 3, angle2 * 4, true);
          context.lineTo(pos.x + width, pos.y + borderRadius);
          context.arc(pos.x + width - borderRadius, pos.y + borderRadius, borderRadius, angle2 * 2, angle2 * 3, true);
          context.closePath();
          context.clip();
        } else {
          context.rect(pos.x, pos.y, width, height);
          context.clip();
        }
      }
    }
    setPosition(x, y, z) {
      if (this.mesh === void 0)
        return;
      this.mesh.position.set(x, y, z);
    }
    setRotation(x, y, z) {
      if (this.mesh === void 0)
        return;
      this.mesh.rotation.set(x, y, z);
    }
    updateElement(name, content) {
      let elm = this.content[name];
      if (elm === void 0) {
        console.warn(`CanvasUI.updateElement: No ${name} found`);
        return;
      }
      if (typeof elm === "object") {
        elm.content = content;
      } else {
        elm = content;
      }
      this.content[name] = elm;
      this.needsUpdate = true;
    }
    get panel() {
      return this.mesh;
    }
    getElementAtLocation(x, y) {
      const elms = Object.entries(this.config).filter(([name, elm2]) => {
        if (typeof elm2 === "object" && name !== "panelSize" && name !== "body") {
          const pos = elm2.position;
          const width = elm2.width !== void 0 ? elm2.width : this.config.width;
          const height = elm2.height !== void 0 ? elm2.height : this.config.height;
          return x >= pos.x && x < pos.x + width && y >= pos.y && y < pos.y + height;
        }
      });
      const elm = elms.length == 0 ? null : this.config[elms[0][0]];
      return elm;
    }
    updateConfig(name, property2, value) {
      let elm = this.config[name];
      if (elm === void 0) {
        console.warn(`CanvasUI.updateconfig: No ${name} found`);
        return;
      }
      elm[property2] = value;
      this.needsUpdate = true;
    }
    hover(index = 0, xy) {
      if (xy === void 0) {
        if (this.selectedElements[index] !== void 0) {
          this.selectedElements[index] = void 0;
          this.needsUpdate = true;
        }
      } else {
        const x = xy[0];
        const y = xy[1];
        const elm = this.getElementAtLocation(x, y);
        if (elm === null) {
          if (this.selectedElements[index] !== void 0) {
            this.selectedElements[index] = void 0;
            this.needsUpdate = true;
          }
        } else if (this.selectedElements[index] !== elm) {
          this.selectedElements[index] = elm;
          this.needsUpdate = true;
        }
      }
    }
    select(index = 0, mouse = false) {
      if (this.selectedElements[index] !== void 0) {
        const elm = this.selectedElements[index];
        if (elm.onSelect)
          elm.onSelect();
        if (elm.type === "input-text") {
          if (mouse) {
            if (this.keyboard) {
              if (this.keyboard.visible) {
                this.keyboard.linkedUI = void 0;
                this.keyboard.linkedText = void 0;
                this.keyboard.linkedElement = void 0;
                this.keyboard.visible = false;
              } else {
                this.keyboard.linkedUI = this;
                let name;
                Object.entries(this.config).forEach(([prop, value]) => {
                  if (value == elm)
                    name = prop;
                });
                const y = (0.5 - (elm.position.y + elm.height + this.config.body.padding) / this.config.height) * this.panelSize.height;
                const h = Math.max(this.panelSize.width, this.panelSize.height) / 2;
                this.keyboard.linkedText = this.content[name];
                this.keyboard.linkedName = name;
                this.keyboard.linkedElement = elm;
                this.keyboard.visible = true;
              }
            }
          } else {
            this.keyboard.visible = this.keyboard.visible ? false : true;
          }
        } else {
          this.selectedElements[index] = void 0;
        }
      }
    }
    scroll(index) {
      if (this.selectedElements[index] === void 0) {
        if (this.intersectMesh)
          this.intersectMesh[index].visible = false;
        return;
      }
      if (this.selectedElements[index].overflow !== "scroll")
        return;
      const elm = this.selectedElements[index];
      if (this.selectPressed[index]) {
        const scrollData = this.scrollData[index];
        if (scrollData !== void 0) {
          if (this.intersectMesh) {
            this.intersectMesh[index].visible = true;
            this.intersectMesh[index].position.copy(this.intersects[index].point);
          }
          const rayY = this.getIntersectY(index);
          const offset2 = rayY - scrollData.rayY;
          elm.scrollY = Math.min(Math.max(elm.minScrollY, scrollData.scrollY + offset2), 0);
          this.needsUpdate = true;
        }
      } else {
        if (this.intersectMesh)
          this.intersectMesh[index].visible = false;
      }
    }
    worldToCanvas(pos) {
      this.object.transformPointInverseWorld(this.tmpVec, pos);
      vec3_exports.copy(this.tmpVec1, this.object.scalingWorld);
      vec3_exports.div(this.tmpVec, this.tmpVec, this.tmpVec1);
      const xy = new Float32Array(2);
      xy[0] = (this.tmpVec[0] + 1) / 2 * this.config.width;
      xy[1] = (1 - (this.tmpVec[1] + 1) / 2) * this.config.height;
      return xy;
    }
    handleController(controller, index) {
      if (controller == null)
        return;
      controller.getTranslationWorld(this.tmpVec);
      controller.getForward(this.tmpVec1);
      const intersects = WL.scene.rayCast(this.tmpVec, this.tmpVec1, this.collisionGroup, 100);
      if (intersects.hitCount > 0) {
        intersects.xy = this.worldToCanvas(intersects.locations[0]);
        this.hover(index, intersects.xy);
        this.intersects[index] = intersects;
        this.scroll(index);
      } else {
        this.hover(index);
        this.intersects[index] = void 0;
        this.scroll(index);
      }
    }
    update() {
      if (this.rayLeft)
        this.handleController(this.rayLeft, 0);
      if (this.rayRight)
        this.handleController(this.rayRight, 1);
      if (this.keyboard && this.keyboard.visible)
        this.keyboard.update();
      if (!this.needsUpdate)
        return;
      let context = this.context;
      context.clearRect(0, 0, this.config.width, this.config.height);
      const bgColor = this.config.body.backgroundColor ? this.config.body.backgroundColor : "#000";
      const fontFamily = this.config.body.fontFamily ? this.config.body.fontFamily : "Arial";
      const fontColor = this.config.body.fontColor ? this.config.body.fontColor : "#fff";
      const fontSize = this.config.body.fontSize ? this.config.body.fontSize : 30;
      this.setClip(this.config.body);
      context.fillStyle = bgColor;
      context.fillRect(0, 0, this.config.width, this.config.height);
      Object.entries(this.content).forEach(([name, content]) => {
        const config2 = this.config[name] !== void 0 ? this.config[name] : this.config.body;
        const display = config2.display !== void 0 ? config2.display : "block";
        if (display !== "none") {
          const pos = config2.position !== void 0 ? config2.position : { x: 0, y: 0 };
          const width = config2.width !== void 0 ? config2.width : this.config.width;
          const height = config2.height !== void 0 ? config2.height : this.config.height;
          if (config2.type == "button" && !content.toLowerCase().startsWith("<path>")) {
            if (config2.borderRadius === void 0)
              config2.borderRadius = 6;
            if (config2.textAlign === void 0)
              config2.textAlign = "center";
          }
          this.setClip(config2);
          const svgPath = content.toLowerCase().startsWith("<path>");
          const hover = this.selectedElements[0] !== void 0 && this.selectedElements[0] === config2 || this.selectedElements[1] !== void 0 && this.selectedElements[1] === config2;
          if (config2.backgroundColor !== void 0) {
            if (hover && config2.type == "button" && config2.hover !== void 0) {
              context.fillStyle = config2.hover;
            } else {
              context.fillStyle = config2.backgroundColor;
            }
            context.fillRect(pos.x, pos.y, width, height);
          }
          if (config2.type == "text" || config2.type == "button" || config2.type == "input-text") {
            let stroke = false;
            if (hover) {
              if (!svgPath && config2.type == "button") {
                context.fillStyle = config2.fontColor !== void 0 ? config2.fontColor : fontColor;
              } else {
                context.fillStyle = config2.hover !== void 0 ? config2.hover : config2.fontColor !== void 0 ? config2.fontColor : fontColor;
              }
              stroke = config2.hover === void 0;
            } else {
              context.fillStyle = config2.fontColor !== void 0 ? config2.fontColor : fontColor;
            }
            if (svgPath) {
              const code = content.toUpperCase().substring(6, content.length - 7);
              context.save();
              context.translate(pos.x, pos.y);
              const path = new Path2D(code);
              context.fill(path);
              context.restore();
            } else {
              this.wrapText(name, content);
            }
            if (stroke) {
              context.beginPath();
              context.strokeStyle = "#fff";
              context.lineWidth = 2;
              context.rect(pos.x, pos.y, width, height);
              context.stroke();
            }
          } else if (config2.type == "img") {
            if (config2.img === void 0) {
              this.loadImage(content).then((img) => {
                console.log(`w: ${img.width} | h: ${img.height}`);
                config2.img = img;
                this.needsUpdate = true;
                this.update();
              }).catch((err) => console.error(err));
            } else {
              const aspect = config2.img.width / config2.img.height;
              const h = width / aspect;
              context.drawImage(config2.img, pos.x, pos.y, width, h);
            }
          }
        }
      });
      if (this.canvasTexture)
        this.canvasTexture.update();
      this.needsUpdate = false;
    }
    loadImage(src) {
      return new Promise((resolve, reject) => {
        const img = new Image();
        img.addEventListener("load", () => resolve(img));
        img.addEventListener("error", (err) => reject(err));
        img.src = src;
      });
    }
    createOffscreenCanvas(w, h) {
      const canvas2 = document.createElement("canvas");
      canvas2.width = w;
      canvas2.height = h;
      return canvas2;
    }
    fillRoundedRect(x, y, w, h, radius) {
      const ctx = this.context;
      ctx.beginPath();
      ctx.moveTo(x + radius, y);
      ctx.lineTo(x + w - radius, y);
      ctx.quadraticCurveTo(x + w, y, x + w, y + radius);
      ctx.lineTo(x + w, y + h - radius);
      ctx.quadraticCurveTo(x + w, y + h, x + w - radius, y + h);
      ctx.lineTo(x + radius, y + h);
      ctx.quadraticCurveTo(x, y + h, x, y + h - radius);
      ctx.lineTo(x, y + radius);
      ctx.quadraticCurveTo(x, y, x + radius, y);
      ctx.closePath();
      ctx.fill();
    }
    lookAt(pos) {
      if (this.mesh === void 0)
        return;
      if (!(pos instanceof Vector3)) {
        console.error("CanvasUI lookAt called parameter not a THREE.Vector3");
        return;
      }
      this.mesh.lookAt(pos);
    }
    get visible() {
      if (this.mesh === void 0)
        return false;
      return this.mesh.active;
    }
    set visible(value) {
      if (this.mesh) {
        this.mesh.active = value;
      }
    }
    get position() {
      if (this.object === void 0)
        return void 0;
      this.object.getTranslationWorld(this.tmpVec);
      return this.tmpVec;
    }
    set position(value) {
      if (this.object === void 0)
        return;
      if (!(value instanceof Float32Array)) {
        console.error("CanvasUI trying to set the object position using a parameter that is not a Float32Array");
        return;
      }
      this.object.setTranslationWorld(value);
    }
    get quaternion() {
      if (this.object === void 0)
        return void 0;
      this.object.getTranslationWorld(this.tmpVec);
      return this.tmpVec;
    }
    set quaternion(value) {
      if (this.mesh === void 0)
        return;
      if (!(value instanceof QUaternion)) {
        console.error("CanvasUI trying to set the object quaternion using a parameter that is not a THREE.Quaternion");
        return;
      }
      this.mesh.quaternion.copy(value);
    }
    wrapText(name, txt) {
      const words = txt.split(" ");
      let line = "";
      const lines = [];
      const config2 = this.config[name] !== void 0 ? this.config[name] : this.config.body;
      const width = config2.width !== void 0 ? config2.width : this.config.width;
      const height = config2.height !== void 0 ? config2.height : this.config.height;
      const pos = config2.position !== void 0 ? config2.position : { x: 0, y: 0 };
      const padding = config2.padding !== void 0 ? config2.padding : this.config.body.padding !== void 0 ? this.config.body.padding : 10;
      const paddingTop = config2.paddingTop !== void 0 ? config2.paddingTop : padding;
      const paddingLeft = config2.paddingLeft !== void 0 ? config2.paddingLeft : padding;
      const paddingBottom = config2.paddingBottom !== void 0 ? config2.paddingBottom : padding;
      const paddingRight = config2.paddingRight !== void 0 ? config2.paddingRight : padding;
      const rect = { x: pos.x + paddingLeft, y: pos.y + paddingTop, width: width - paddingLeft - paddingRight, height: height - paddingTop - paddingBottom };
      const textAlign = config2.textAlign !== void 0 ? config2.textAlign : this.config.body.textAlign !== void 0 ? this.config.body.textAlign : "left";
      const fontSize = config2.fontSize !== void 0 ? config2.fontSize : this.config.body.fontSize !== void 0 ? this.config.body.fontSize : 30;
      const fontFamily = config2.fontFamily !== void 0 ? config2.fontFamily : this.config.body.fontFamily !== void 0 ? this.config.body.fontFamily : "Arial";
      const leading = config2.leading !== void 0 ? config2.leading : this.config.body.leading !== void 0 ? this.config.body.leading : 8;
      const lineHeight = fontSize + leading;
      const context = this.context;
      context.textAlign = textAlign;
      context.font = `${fontSize}px '${fontFamily}'`;
      words.forEach(function(word) {
        let testLine = words.length > 1 ? `${line}${word} ` : word;
        let metrics = context.measureText(testLine);
        if (metrics.width > rect.width && word.length > 1) {
          if (line.length == 0 && metrics.width > rect.width) {
            while (metrics.width > rect.width) {
              let count = 0;
              do {
                count++;
                testLine = word.substr(0, count);
                metrics = context.measureText(testLine);
              } while (metrics.width < rect.width && count < word.length - 1);
              count--;
              testLine = word.substr(0, count);
              lines.push(testLine);
              word = word.substr(count);
              if (count <= 1)
                break;
              metrics = context.measureText(word);
            }
            if (word != "")
              lines.push(word);
          } else {
            lines.push(line);
            line = `${word} `;
          }
        } else {
          line = testLine;
        }
      });
      if (line != "")
        lines.push(line);
      const textHeight = lines.length * lineHeight;
      let scrollY = 0;
      if (textHeight > rect.height && config2.overflow === "scroll") {
        if (config2.scrollY === void 0)
          config2.scrollY = 0;
        const fontColor = config2.fontColor !== void 0 ? config2.fontColor : this.config.body.fontColor;
        context.fillStyle = "#aaa";
        this.fillRoundedRect(pos.x + width - 12, pos.y, 12, height, 6);
        context.fillStyle = "#666";
        const scale6 = rect.height / textHeight;
        const thumbHeight = scale6 * height;
        const thumbY = -config2.scrollY * scale6;
        this.fillRoundedRect(pos.x + width - 12, pos.y + thumbY, 12, thumbHeight, 6);
        context.fillStyle = fontColor;
        scrollY = config2.scrollY;
        config2.minScrollY = rect.height - textHeight;
      }
      let y = scrollY + rect.y + fontSize / 2;
      let x;
      switch (textAlign) {
        case "center":
          x = rect.x + rect.width / 2;
          break;
        case "right":
          x = rect.x + rect.width;
          break;
        default:
          x = rect.x;
          break;
      }
      lines.forEach((line2) => {
        if (y + lineHeight > 0)
          context.fillText(line2, x, y);
        y += lineHeight;
      });
    }
  };

  // js/CanvasUI2.js
  var CanvasUI2_exports = {};
  __export(CanvasUI2_exports, {
    UIHandler2: () => UIHandler2
  });
  var UIHandler2 = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HowlerAudioSource);
    }
    init() {
    }
    start() {
      this.target = this.object.getComponent("cursor-target");
      this.target.addHoverFunction(this.onHover.bind(this));
      this.target.addUnHoverFunction(this.onUnHover.bind(this));
      this.target.addMoveFunction(this.onMove.bind(this));
      this.target.addDownFunction(this.onDown.bind(this));
      this.target.addUpFunction(this.onUp.bind(this));
      this.soundClick = this.object.addComponent(HowlerAudioSource, { src: "sfx/click.wav", spatial: true });
      this.soundUnClick = this.object.addComponent(HowlerAudioSource, { src: "sfx/unclick.wav", spatial: true });
      switch (this.panel) {
        case 0:
          this.simplePanel();
          break;
        case 1:
          this.buttonsPanel();
          break;
        case 2:
          this.scrollPanel();
          break;
        case 3:
          this.imagePanel();
          break;
        case 4:
          this.inputTextPanel();
          break;
      }
    }
    simplePanel() {
      const config2 = {
        header: {
          type: "text",
          position: { top: 0 },
          paddingTop: 30,
          height: 70
        },
        main: {
          type: "text",
          position: { top: 70 },
          height: 372,
          // default height is 512 so this is 512 - header height (70) - footer height (70)
          backgroundColor: "#bbb",
          fontColor: "#000"
        },
        footer: {
          type: "text",
          position: { bottom: 0 },
          paddingTop: 30,
          height: 70
        }
      };
      const content = {
        header: "Header",
        main: "This is the main text",
        footer: "Footer"
      };
      this.ui = new CanvasUI(content, config2, this.object, this.engine);
      this.ui.update();
      let ui2 = this.ui;
    }
    buttonsPanel() {
      function onPrev() {
        const msg = "Prev pressed";
        console.log(msg);
        ui2.updateElement("info", msg);
      }
      function onStop() {
        const msg = "Stop pressed";
        console.log(msg);
        ui2.updateElement("info", msg);
      }
      function onNext() {
        const msg = "Next pressed";
        console.log(msg);
        ui2.updateElement("info", msg);
      }
      function onContinue() {
        const msg = "Continue pressed";
        console.log(msg);
        ui2.updateElement("info", msg);
      }
      const config2 = {
        panelSize: {
          width: 1,
          height: 0.25
        },
        height: 128,
        info: {
          type: "text",
          position: { left: 6, top: 6 },
          width: 500,
          height: 58,
          backgroundColor: "#aaa",
          fontColor: "#000"
        },
        prev: {
          type: "button",
          position: { top: 64, left: 0 },
          width: 64,
          fontColor: "#bb0",
          hover: "#ff0",
          onSelect: onPrev
        },
        stop: {
          type: "button",
          position: { top: 64, left: 64 },
          width: 64,
          fontColor: "#bb0",
          hover: "#ff0",
          onSelect: onStop
        },
        next: {
          type: "button",
          position: { top: 64, left: 128 },
          width: 64,
          fontColor: "#bb0",
          hover: "#ff0",
          onSelect: onNext
        },
        continue: {
          type: "button",
          position: { top: 70, right: 10 },
          width: 200,
          height: 52,
          fontColor: "#fff",
          backgroundColor: "#1bf",
          hover: "#3df",
          onSelect: onContinue
        }
      };
      const content = {
        info: "",
        prev: "<path>M 10 32 L 54 10 L 54 54 Z</path>",
        stop: "<path>M 50 15 L 15 15 L 15 50 L 50 50 Z<path>",
        next: "<path>M 54 32 L 10 10 L 10 54 Z</path>",
        continue: "Continue"
      };
      this.ui = new CanvasUI(content, config2, this.object, this.engine);
      this.ui.update();
      let ui2 = this.ui;
    }
    scrollPanel() {
      const config2 = {
        body: {
          backgroundColor: "#666"
        },
        txt: {
          type: "text",
          overflow: "scroll",
          position: { left: 20, top: 20 },
          width: 460,
          height: 400,
          backgroundColor: "#fff",
          fontColor: "#000"
        }
      };
      const content = {
        txt: "This is an example of a scrolling panel. Select it with a controller and move the controller while keeping the select button pressed. In an AR app just press and drag. If a panel is set to scroll and the overflow setting is 'scroll', then a scroll bar will appear when the panel is active. But to scroll you can just drag anywhere on the panel. This is an example of a scrolling panel. Select it with a controller and move the controller while keeping the select button pressed. In an AR app just press and drag. If a panel is set to scroll and the overflow setting is 'scroll', then a scroll bar will appear when the panel is active. But to scroll you can just drag anywhere on the panel."
      };
      this.ui = new CanvasUI(content, config2, this.object, this.engine);
      this.ui.update();
      let ui2 = this.ui;
    }
    imagePanel() {
      const config2 = {
        image: {
          type: "img",
          position: { left: 20, top: 20 },
          width: 472
        },
        info: {
          type: "text",
          position: { top: 300 }
        }
      };
      const content = {
        image: "images/promo.png",
        info: "The promo image from the course: Learn to create WebXR, VR and AR, experiences using Wonderland Engine"
      };
      this.ui = new CanvasUI(content, config2, this.object, this.engine);
      this.ui.update();
      let ui2 = this.ui;
    }
    inputTextPanel() {
      function onChanged(txt) {
        console.log(`message changed: ${txt}`);
      }
      function onEnter(txt) {
        console.log(`message enter: ${txt}`);
      }
      const config2 = {
        panelSize: { width: 1, height: 0.25 },
        height: 128,
        message: {
          type: "input-text",
          position: { left: 10, top: 8 },
          height: 56,
          width: 492,
          backgroundColor: "#ccc",
          fontColor: "#000",
          onChanged,
          onEnter
        },
        label: {
          type: "text",
          position: { top: 64 }
        }
      };
      const content = {
        message: "",
        label: "Select the panel above."
      };
      this.ui = new CanvasUI(content, config2, this.object, this.engine);
      const target = this.ui.keyboard.object.getComponent("cursor-target");
      target.addHoverFunction(this.onHoverKeyboard.bind(this));
      target.addUnHoverFunction(this.onUnHoverKeyboard.bind(this));
      target.addMoveFunction(this.onMoveKeyboard.bind(this));
      target.addDownFunction(this.onDown.bind(this));
      target.addUpFunction(this.onUpKeyboard.bind(this));
      this.ui.update();
      let ui2 = this.ui;
    }
    onHover(_, cursor) {
      if (this.ui) {
        const xy = this.ui.worldToCanvas(cursor.cursorPos);
        this.ui.hover(0, xy);
      }
      if (cursor.type == "finger-cursor") {
        this.onDown(_, cursor);
      }
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onMove(_, cursor) {
      if (this.ui) {
        const xy = this.ui.worldToCanvas(cursor.cursorPos);
        this.ui.hover(0, xy);
      }
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onDown(_, cursor) {
      console.log("onDown");
      this.soundClick.play();
      this.hapticFeedback(cursor.object, 1, 20);
    }
    onUp(_, cursor) {
      console.log("onUp");
      this.soundUnClick.play();
      if (this.ui)
        this.ui.select(0, true);
      this.hapticFeedback(cursor.object, 0.7, 20);
    }
    onUnHover(_, cursor) {
      console.log("onUnHover");
      if (this.ui)
        this.ui.hover(0);
      this.hapticFeedback(cursor.object, 0.3, 50);
    }
    onHoverKeyboard(_, cursor) {
      if (!this.ui || !this.ui.keyboard || !this.ui.keyboard.keyboard)
        return;
      const ui2 = this.ui.keyboard.keyboard;
      const xy = ui2.worldToCanvas(cursor.cursorPos);
      ui2.hover(0, xy);
      if (cursor.type == "finger-cursor") {
        this.onDown(_, cursor);
      }
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onMoveKeyboard(_, cursor) {
      if (!this.ui || !this.ui.keyboard || !this.ui.keyboard.keyboard)
        return;
      const ui2 = this.ui.keyboard.keyboard;
      const xy = ui2.worldToCanvas(cursor.cursorPos);
      ui2.hover(0, xy);
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onUpKeyboard(_, cursor) {
      console.log("onUpKeyboard");
      this.soundUnClick.play();
      if (this.ui && this.ui.keyboard && this.ui.keyboard.keyboard)
        this.ui.keyboard.keyboard.select(0);
      this.hapticFeedback(cursor.object, 0.7, 20);
    }
    onUnHoverKeyboard(_, cursor) {
      console.log("onUnHoverKeyboard");
      if (this.ui && this.ui.keyboard && this.ui.keyboard.keyboard)
        this.ui.keyboard.keyboard.hover(0);
      this.hapticFeedback(cursor.object, 0.3, 50);
    }
    hapticFeedback(object, strength, duration) {
      const input = object.getComponent("input");
      if (input && input.xrInputSource) {
        const gamepad = input.xrInputSource.gamepad;
        if (gamepad && gamepad.hapticActuators)
          gamepad.hapticActuators[0].pulse(strength, duration);
      }
    }
    update(dt) {
      if (this.ui)
        this.ui.update();
    }
  };
  __publicField(UIHandler2, "TypeName", "uiHandler2");
  __publicField(UIHandler2, "Properties", {
    panel: Property.enum(["simple", "buttons", "scrolling", "images", "input-text"], "simple")
  });

  // js/DayNight.js
  var DayNight_exports = {};
  __export(DayNight_exports, {
    DayNight: () => DayNight
  });
  var DayNight = class extends Component {
    start() {
      console.log("start() with param", this.param);
    }
    init() {
      this.timer1 = 0;
      this.timer2 = 0;
      this.temp = 1;
      this.r = 1;
      this.g = 1;
      this.b = 1;
    }
    update(dt) {
      this.timer1 += dt;
      let x = new Float32Array(3);
      if (this.timer1 > this.dayTimer) {
        if (this.temp > 0.2) {
          this.r -= 1e-3;
          this.g -= 1e-3;
          this.b -= 1e-3;
          this.temp -= 1e-3;
          state.day = true;
          state.pauseBuilding = false;
          state.pauseEnemies = true;
        } else {
          this.timer2 += dt;
          if (this.timer2 > this.nightTimer) {
            this.r += 1e-3;
            this.g += 1e-3;
            this.b += 1e-3;
            state.day = false;
            state.pauseEnemies = false;
            state.pauseBuilding = true;
          }
          if (this.r == 1) {
            console.log("levelup!");
            state.levelUp();
            this.temp = 1;
            this.timer1 = 0;
            this.timer2 = 0;
          }
        }
        x = [this.r, this.g, this.b];
        this.object.getComponent("light").setColor(x);
      }
    }
  };
  __publicField(DayNight, "TypeName", "DayNight");
  /* Properties that are configurable in the editor */
  __publicField(DayNight, "Properties", {
    dayTimer: { type: Type.Int, default: 3 },
    nightTimer: { type: Type.Int, default: 3 }
  });

  // js/bullet-physics.js
  var bullet_physics_exports = {};
  __export(bullet_physics_exports, {
    BulletPhysics: () => BulletPhysics
  });
  var newDir = new Float32Array(3);
  var BulletPhysics = class extends Component {
    init() {
      this.dir = new Float32Array(3);
      this.position = [0, 0, 0];
      this.object.getPositionWorld(this.position);
      this.correctedSpeed = this.speed / 6;
      this.collision = this.object.getComponent("collision", 0);
      if (!this.collision) {
        console.warn(
          "'bullet-physics' component on object",
          this.object.name,
          "requires a collision component"
        );
      }
    }
    update(dt) {
      this.object.getPositionWorld(this.position);
      if (this.position[1] <= state.floorHeight + this.collision.extents[0]) {
        this.destroyBullet(0);
        return;
      }
      if (vec3_exports.length(this.position) > 175) {
        this.destroyBullet(0);
        return;
      }
      newDir.set(this.dir);
      vec3_exports.scale(newDir, newDir, this.correctedSpeed);
      vec3_exports.add(this.position, this.position, newDir);
      this.object.setPositionLocal(this.position);
      let overlaps = this.collision.queryOverlaps();
      for (let i = 0; i < overlaps.length; ++i) {
        let t = overlaps[i].object.getComponent("score-trigger");
        if (t && !this.scored) {
          t.onHit();
          this.destroyBullet(0);
          return;
        }
      }
    }
    destroyBullet(time) {
      if (time == 0) {
        this.object.destroy();
      } else {
        setTimeout(() => {
          this.object.destroy();
        }, time);
      }
    }
  };
  __publicField(BulletPhysics, "TypeName", "bullet-physics");
  __publicField(BulletPhysics, "Properties", {
    speed: { type: Type.Float, default: 1 }
  });

  // js/bullet-spawner.js
  var bullet_spawner_exports = {};
  __export(bullet_spawner_exports, {
    BulletSpawner: () => BulletSpawner
  });
  var tempQuat22 = new Float32Array(8);
  var BulletSpawner = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(BulletPhysics);
    }
    init() {
      state.launch = function(dir) {
        let bullet = this.spawnBullet();
        bullet.object.setTransformLocal(this.object.getTransformWorld(tempQuat22));
        bullet.object.setDirty();
        bullet.physics.dir.set(dir);
        bullet.physics.scored = false;
        bullet.physics.active = true;
      }.bind(this);
    }
    start() {
      this.engine.onXRSessionStart.add(this.xrSessionStart.bind(this));
      this.start = new Float32Array(2);
      this.bullets = [];
      this.nextIndex = 0;
      this.lastShotTime = 0;
      state.bulletSpawner = this.object;
      this.soundClick = this.object.addComponent(HowlerAudioSource, {
        volume: 0.5
      });
    }
    onTouchDown(e) {
      if (e.inputSource.handedness == "right") {
        let currentTime = Date.now();
        let lastShotTimeGap = Math.abs(currentTime - this.lastShotTime);
        if (lastShotTimeGap > 500) {
          const dir = [0, 0, 0];
          this.object.getComponent("cursor").cursorRayObject.getForward(dir);
          state.launch(dir);
          this.lastShotTime = currentTime;
        }
      }
    }
    spawnBullet() {
      const obj = this.engine.scene.addObject();
      obj.scaleLocal([0.05, 0.05, 0.05]);
      obj.addComponent("mesh", {
        mesh: this.bulletMesh.mesh,
        material: this.bulletMaterial.material
      });
      obj.addComponent("collision", {
        shape: WL.Collider.Sphere,
        extents: [0.05, 0, 0],
        group: 1 << 0
      });
      const physics = obj.addComponent(BulletPhysics, {
        speed: this.bulletSpeed
      });
      physics.active = true;
      return {
        object: obj,
        physics
      };
    }
    //vibrates controller for haptic feedback
    onActivate() {
      if (!this.engine.xr)
        return;
      this.engine.xr.session.addEventListener(
        "selectstart",
        this.onTouchDown.bind(this)
      );
    }
    xrSessionStart(session) {
      if (!this.active)
        return;
      session.addEventListener("selectstart", this.onTouchDown.bind(this));
    }
  };
  __publicField(BulletSpawner, "TypeName", "bullet-spawner");
  __publicField(BulletSpawner, "Properties", {
    bulletMesh: { type: Type.Mesh },
    bulletMaterial: { type: Type.Material },
    bulletSpeed: { type: Type.Float, default: 1 }
  });

  // js/button.js
  var button_exports = {};
  __export(button_exports, {
    ButtonComponent: () => ButtonComponent,
    hapticFeedback: () => hapticFeedback
  });
  function hapticFeedback(object, strength, duration) {
    const input = object.getComponent(InputComponent);
    if (input && input.xrInputSource) {
      const gamepad = input.xrInputSource.gamepad;
      if (gamepad && gamepad.hapticActuators)
        gamepad.hapticActuators[0].pulse(strength, duration);
    }
  }
  var ButtonComponent = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HowlerAudioSource);
      engine.registerComponent(CursorTarget);
    }
    /* Position to return to when "unpressing" the button */
    returnPos = new Float32Array(3);
    start() {
      this.mesh = this.buttonMeshObject.getComponent(MeshComponent);
      this.defaultMaterial = this.mesh.material;
      this.buttonMeshObject.getTranslationLocal(this.returnPos);
      this.target = this.object.getComponent(CursorTarget) || this.object.addComponent(CursorTarget);
      this.soundClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/click.wav",
        spatial: true
      });
      this.soundUnClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/unclick.wav",
        spatial: true
      });
    }
    onActivate() {
      this.target.onHover.add(this.onHover);
      this.target.onUnhover.add(this.onUnhover);
      this.target.onDown.add(this.onDown);
      this.target.onUp.add(this.onUp);
    }
    onDeactivate() {
      this.target.onHover.remove(this.onHover);
      this.target.onUnhover.remove(this.onUnhover);
      this.target.onDown.remove(this.onDown);
      this.target.onUp.remove(this.onUp);
    }
    /* Called by 'cursor-target' */
    onHover = (_, cursor) => {
      this.mesh.material = this.hoverMaterial;
      if (cursor.type === "finger-cursor") {
        this.onDown(_, cursor);
      }
      hapticFeedback(cursor.object, 0.5, 50);
    };
    /* Called by 'cursor-target' */
    onDown = (_, cursor) => {
      this.soundClick.play();
      this.buttonMeshObject.translate([0, -0.1, 0]);
      hapticFeedback(cursor.object, 1, 20);
    };
    /* Called by 'cursor-target' */
    onUp = (_, cursor) => {
      this.soundUnClick.play();
      this.buttonMeshObject.setTranslationLocal(this.returnPos);
      hapticFeedback(cursor.object, 0.7, 20);
    };
    /* Called by 'cursor-target' */
    onUnhover = (_, cursor) => {
      this.mesh.material = this.defaultMaterial;
      if (cursor.type === "finger-cursor") {
        this.onUp(_, cursor);
      }
      hapticFeedback(cursor.object, 0.3, 50);
    };
  };
  __publicField(ButtonComponent, "TypeName", "button");
  __publicField(ButtonComponent, "Properties", {
    /** Object that has the button's mesh attached */
    buttonMeshObject: Property.object(),
    /** Material to apply when the user hovers the button */
    hoverMaterial: Property.material()
  });

  // js/enemy-spawner.js
  var enemy_spawner_exports = {};
  __export(enemy_spawner_exports, {
    EnemySpawner: () => EnemySpawner
  });

  // js/waypoint-movement.js
  var waypoint_movement_exports = {};
  __export(waypoint_movement_exports, {
    WaypointMovement: () => WaypointMovement
  });
  var WaypointMovement = class extends Component {
    init() {
      this.children = this.pathObject.children.sort(function(a, b) {
        return a.name.localeCompare(b.name);
      });
      this.positions = new Array(this.children.length);
      for (let i = 0; i < this.children.length; i++) {
        this.positions[i] = new Float32Array(3);
        this.children[i].getTranslationWorld(this.positions[i]);
      }
      this.currentPositionIndex = 0;
      this.currentPosition = new Float32Array(3);
      this.lookPosition = new Float32Array(3);
      this.fromPosition = this.positions[0];
      this.toPosition = this.positions[1];
      vec3_exports.sub(this.currentPosition, this.toPosition, this.fromPosition);
      this.fromToLength = vec3_exports.length(this.currentPosition);
      this.currentLength = 0;
      this.up = [0, 1, 0];
      this.quat = new Float32Array(4);
      lookAt2(this.quat, this.fromPosition, this.toPosition, this.up);
      this.object.resetTranslationRotation();
      this.object.rotate(this.quat);
      this.object.setTranslationWorld(this.fromPosition);
      this.p0 = new Float32Array(3);
      this.p1 = new Float32Array(3);
      this.p2 = new Float32Array(3);
      this.currentCurveIndex = 0;
      this.curveDistance = Math.max(0, Math.min(0.49999, this.curveDistance));
      this.bezFactorMultiplicator = 1 / (2 * this.curveDistance);
      this.onFinalWaypointReachedCallbacks = [];
    }
    /**
     * Adds a function to a callback array which, then calls the function after the final waypoint has been reached.
     * @param  {function} f Function to be added.
     */
    addOnFinalWaypointReachedCallback(f) {
      this.onFinalWaypointReachedCallbacks.push(f);
    }
    /**
     * Removes a function from the callback array for reaching the final waypoint..
     * @param  {function} f Function to be removed.
     */
    removeOnFinalWaypointReachedCallback(f) {
      const index = array.indexOf(f);
      if (index > -1) {
        this.onFinalWaypointReachedCallbacks.splice(index, 1);
      }
    }
    /**
     * Sets the points needed for the next curve
     */
    _setCurvePoints() {
      vec3_exports.sub(
        this.currentPosition,
        this.positions[this.currentCurveIndex],
        this.positions[this.currentCurveIndex + 1]
      );
      vec3_exports.scale(this.currentPosition, this.currentPosition, this.curveDistance);
      vec3_exports.add(this.p0, this.positions[this.currentCurveIndex + 1], this.currentPosition);
      this.p1 = this.positions[this.currentCurveIndex + 1];
      vec3_exports.sub(
        this.currentPosition,
        this.positions[this.currentCurveIndex + 2],
        this.positions[this.currentCurveIndex + 1]
      );
      vec3_exports.scale(this.currentPosition, this.currentPosition, this.curveDistance);
      vec3_exports.add(this.p2, this.positions[this.currentCurveIndex + 1], this.currentPosition);
    }
    /**
     * Sets the object's path object and configures it.
     * @param  {WL.Object} pathObject [Object containing alphebetically named children]
     */
    setPathObject(pathObject) {
      this.pathObject = pathObject;
      this.children = this.pathObject.children.sort(function(a, b) {
        return a.name.localeCompare(b.name);
      });
      this.positions = new Array(this.children.length);
      for (let i = 0; i < this.children.length; i++) {
        this.positions[i] = new Float32Array(3);
        this.children[i].getTranslationWorld(this.positions[i]);
      }
      this.currentPositionIndex = 0;
      this.currentCurveIndex = 0;
      this.currentLength = 0;
      this._setCurvePoints();
      this.fromPosition = this.positions[0];
      this.toPosition = this.positions[1];
      vec3_exports.sub(this.currentPosition, this.toPosition, this.fromPosition);
      this.fromToLength = vec3_exports.length(this.currentPosition);
    }
    update(dt) {
      this.currentLength += dt * this.speed;
      this.object.walked += 1;
      let factor = this.currentLength / this.fromToLength;
      if (factor > 0.5 && this.currentPositionIndex != this.positions.length - 1) {
        this.incrementCurveIndex = true;
      }
      if (Math.abs(factor - Math.round(factor)) < this.curveDistance && !(this.currentPositionIndex == this.children.length - 2 && factor > 0.5) && !(this.currentPositionIndex == 0 && factor < 0.5)) {
        let bezFactor = (factor - Math.round(factor) + this.curveDistance) * this.bezFactorMultiplicator;
        vec3_exports.bezier(
          this.currentPosition,
          this.p0,
          this.p1,
          this.p1,
          this.p2,
          bezFactor
        );
        vec3_exports.bezier(
          this.lookPosition,
          this.p0,
          this.p1,
          this.p1,
          this.p2,
          bezFactor + 0.01
        );
      } else {
        if (this.incrementCurveIndex && factor < 0.5 && factor > this.curveDistance && this.currentCurveIndex != this.positions.length - 3) {
          this.currentCurveIndex++;
          this.incrementCurveIndex = false;
        }
        vec3_exports.lerp(this.currentPosition, this.fromPosition, this.toPosition, factor);
        vec3_exports.lerp(this.lookPosition, this.fromPosition, this.toPosition, factor + 0.01);
      }
      this.object.resetTranslationRotation();
      lookAt2(this.quat, this.currentPosition, this.lookPosition, this.up);
      this.object.rotate(this.quat);
      this.object.setTranslationWorld(this.currentPosition);
      if (this.currentLength > this.fromToLength) {
        this.start = false;
        this.currentPositionIndex++;
        if (this.currentPositionIndex == this.children.length - 1) {
          this.object.f();
          this.currentPositionIndex = 0;
          this.currentCurveIndex = 0;
          this.incrementCurveIndex = false;
          this.onFinalWaypointReachedCallbacks.forEach((f) => f());
        }
        this.fromPosition = this.positions[this.currentPositionIndex];
        this.toPosition = this.positions[this.currentPositionIndex + 1];
        vec3_exports.sub(this.currentPosition, this.toPosition, this.fromPosition);
        this.fromToLength = vec3_exports.length(this.currentPosition);
        this.currentLength = 0;
      }
    }
  };
  __publicField(WaypointMovement, "TypeName", "waypoint-movement");
  __publicField(WaypointMovement, "Properties", {
    /** This object is the container of the waypoints. It should contain children
    with an alphebetically ascending naming (e.g. A, B, C, D, E, F) */
    pathObject: { type: Type.Object },
    /** Movement speed of the object */
    speed: { type: Type.Float, default: 1 },
    /** Distance in normal space [0, 0.5) after which the objects starts moving on a curve */
    curveDistance: { type: Type.Float, default: 0.1 }
  });
  var lookAt2 = function() {
    let forwardTemp = new Float32Array(3);
    let temp = new Float32Array(3);
    let dotTemp = 0;
    let vector = new Float32Array(3);
    let vector2 = new Float32Array(3);
    let vector3 = new Float32Array(3);
    return function(quaternion, sourcePoint, destPoint, up) {
      if (!up) {
        up = [0, 1, 0];
      }
      vec3_exports.sub(forwardTemp, destPoint, sourcePoint);
      vec3_exports.normalize(forwardTemp, forwardTemp);
      dotTemp = vec3_exports.dot(up, forwardTemp);
      vec3_exports.scale(temp, forwardTemp, dotTemp);
      vec3_exports.sub(up, up, temp);
      vec3_exports.normalize(up, up);
      vec3_exports.normalize(vector, forwardTemp);
      vec3_exports.cross(vector2, up, vector);
      vec3_exports.cross(vector3, vector, vector2);
      let m00 = vector2[0];
      let m01 = vector2[1];
      let m02 = vector2[2];
      let m10 = vector3[0];
      let m11 = vector3[1];
      let m12 = vector3[2];
      let m20 = vector[0];
      let m21 = vector[1];
      let m22 = vector[2];
      let num8 = m00 + m11 + m22;
      if (num8 > 0) {
        let num = Math.sqrt(num8 + 1);
        quaternion[3] = num * 0.5;
        num = 0.5 / num;
        quaternion[0] = (m12 - m21) * num;
        quaternion[1] = (m20 - m02) * num;
        quaternion[2] = (m01 - m10) * num;
        return quaternion;
      }
      if (m00 >= m11 && m00 >= m22) {
        let num7 = Math.sqrt(1 + m00 - m11 - m22);
        let num4 = 0.5 / num7;
        quaternion[0] = 0.5 * num7;
        quaternion[1] = (m01 + m10) * num4;
        quaternion[2] = (m02 + m20) * num4;
        quaternion[3] = (m12 - m21) * num4;
        return quaternion;
      }
      if (m11 > m22) {
        let num6 = Math.sqrt(1 + m11 - m00 - m22);
        let num3 = 0.5 / num6;
        quaternion[0] = (m10 + m01) * num3;
        quaternion[1] = 0.5 * num6;
        quaternion[2] = (m21 + m12) * num3;
        quaternion[3] = (m20 - m02) * num3;
        return quaternion;
      }
      let num5 = Math.sqrt(1 + m22 - m00 - m11);
      let num2 = 0.5 / num5;
      quaternion[0] = (m20 + m02) * num2;
      quaternion[1] = (m21 + m12) * num2;
      quaternion[2] = 0.5 * num5;
      quaternion[3] = (m01 - m10) * num2;
      return quaternion;
    };
  }();

  // js/enemy-spawner.js
  var tempQuat23 = new Float32Array(8);
  var EnemySpawner = class extends Component {
    // The game file contains the state object, the init function adds a function
    // called spawn to the state file, assigns the calling object as the spawnpoint,
    // and instatniates the timer for spawn delay
    init() {
      this.timer = 0;
      this.drone = false;
      state.EnemySpawner.push(this);
      this.name = "paul";
      state.spawn = function(object) {
        let enemy = object.spawnEnemy();
        state.currentEnemies.push(enemy);
      }.bind(this);
    }
    start() {
      console.log("start");
      console.log(this.name);
    }
    // Not exactly sure why we need this but we do
    static onRegister(engine) {
      engine.registerComponent(WaypointMovement);
    }
    // spawns a new enemy every 5 seconds 
    // TODO add a spawntimer function and use that instead of hardcoding the time
    update(dt) {
      this.timer += dt;
      if (this.timer > this.spawnTimer && state.pauseEnemies === false) {
        this.timer = 0;
        state.spawn(this);
      }
    }
    // TODO add a onHIt function to the object that is spawned 
    spawnEnemy() {
      const obj = this.engine.scene.addObject();
      obj.setTransformLocal(this.object.getTransformWorld(tempQuat23));
      const mesh = obj.addComponent("mesh");
      mesh.mesh = this.defaultMesh;
      mesh.material = this.defaultMaterial;
      mesh.active = true;
      obj.addComponent("collision", {
        shape: WL.Collider.Sphere,
        extents: [5, 0, 0],
        group: 1 << 5,
        active: true
      });
      if (obj.drone) {
        Float32Array();
        obj.addComponent(WaypointMovement);
      }
      obj.walked = 0;
      obj.health = this.defaultHealth;
      obj.damage = this.defaultDamage;
      obj.value = this.defaultReward;
      let o = this.object.getComponent(WaypointMovement);
      o.speed = this.defaultSpeed;
      obj.f = function() {
        state.health -= obj.damage;
        const index = state.currentEnemies.indexOf(obj);
        const x = state.currentEnemies.splice(index, 1);
        state.needsUpdate = true;
        obj.destroy();
      };
      obj.addComponent(WaypointMovement, o);
      obj.setScalingLocal([0.2, 0.2, 0.2]);
      obj.active = true;
      obj.name = "dave";
      obj.setDirty();
    }
  };
  __publicField(EnemySpawner, "TypeName", "enemy-spawner");
  /* Properties that are configurable in the editor */
  __publicField(EnemySpawner, "Properties", {
    defaultMesh: { type: Type.Mesh },
    defaultMaterial: { type: Type.Material },
    spawnTimer: { type: Type.Int, default: 5 },
    defaultHealth: { type: Type.Int, default: 50 },
    defaultReward: { type: Type.Int, default: 10 },
    specialRewardChance: { type: Type.Int, default: 1 },
    defaultSpeed: { type: Type.Float, default: 3 },
    defaultDamage: { type: Type.Int, default: 5 }
  });

  // js/level-tracker.js
  var level_tracker_exports = {};
  __export(level_tracker_exports, {
    LevelTracker: () => LevelTracker
  });
  var LevelTracker = class extends Component {
    init() {
    }
    start() {
      this.timer = 0;
      state.levelUp = function() {
        console.log("levelup!");
        this.level += 1;
        this.maxEnemies += 10;
        let spawner = state.EnemySpawner;
        for (let i = 0; i < state.EnemySpawner.length; i++) {
          spawner[i].defaultReward += 1;
        }
        if (this.level % 2 === 0) {
          for (let i = 0; i < state.EnemySpawner.length; i++) {
            spawner[i].defaultHeath += 25;
          }
        }
        if (this.level % 3 === 0) {
          for (let i = 0; i < state.EnemySpawner.length; i++) {
            spawner[i].defaultDamage += 5;
          }
        }
        if (this.level % 4 === 0) {
          for (let i = 0; i < state.EnemySpawner.length; i++) {
            spawner[i].defaultSpeed += 0.1;
          }
        }
        if (this.level % 5 === 0) {
          for (let i = 0; i < state.EnemySpawner.length; i++) {
            spawner[i].spawnTimer -= 0.3;
          }
        }
      }.bind(this);
    }
  };
  __publicField(LevelTracker, "TypeName", "level-tracker");
  /* Properties that are configurable in the editor */
  __publicField(LevelTracker, "Properties", {
    level: { type: Type.Int, default: 1 },
    timer: { type: Type.Int, default: state.timer },
    day: { type: Type.Bool, default: true }
  });

  // js/projectile-physics.js
  var projectile_physics_exports = {};
  __export(projectile_physics_exports, {
    ProjectilePhysics: () => ProjectilePhysics
  });
  var newDir2 = new Float32Array(3);
  var ProjectilePhysics = class extends Component {
    init() {
      this.dir = new Float32Array(3);
      this.position = [0, 0, 0];
      this.object.getPositionWorld(this.position);
      this.object.setScalingWorld([0.1, 0.1, 0.1]);
      this.correctedSpeed = this.speed * 5;
      this.collision = this.object.getComponent("collision", 0);
      if (!this.collision) {
        console.warn(
          "bullet-physics' component on object",
          this.object.name,
          "requires a collision component"
        );
      }
    }
    update(dt) {
      if (isNaN(dt)) {
        console.log("dt is NaN");
        return;
      }
      this.object.getPositionWorld(this.position);
      if (this.position[1] <= state.floorHeight + this.collision.extents[0]) {
        this.destroyBullet(0);
        return;
      }
      if (vec3_exports.length(this.position) > 175) {
        this.destroyBullet(0);
        return;
      }
      newDir2.set(this.dir);
      vec3_exports.scale(newDir2, newDir2, this.correctedSpeed);
      vec3_exports.add(this.position, this.position, newDir2);
      this.object.setPositionLocal(this.position);
      let overlaps = this.collision.queryOverlaps();
      for (let i = 0; i < overlaps.length; ++i) {
        this.destroyBullet(0);
        return;
      }
    }
    destroyBullet(time) {
      if (time == 0) {
        this.object.destroy();
      } else {
        setTimeout(() => {
          this.object.destroy();
        }, time);
      }
    }
  };
  __publicField(ProjectilePhysics, "TypeName", "projectile-physics");
  __publicField(ProjectilePhysics, "Properties", {
    speed: { type: Type.Float, default: 9 }
  });

  // js/projectile-spawner.js
  var projectile_spawner_exports = {};
  __export(projectile_spawner_exports, {
    ProjectileSpawner: () => ProjectileSpawner
  });
  var tempquat2 = new Float32Array(8);
  var ProjectileSpawner = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(ProjectilePhysics);
    }
    init() {
      console.log("Projectile spawner new+!");
      this.timer = 0;
      this.object.shoot = function(dir) {
        let projectile = this.spawn();
        projectile.physics.dir.set(dir);
        projectile.object.setDirty();
        projectile.physics.active = true;
      }.bind(this);
    }
    start() {
      console.log("projectile-spawner");
    }
    spawn() {
      const obj = this.engine.scene.addObject();
      let mesh = obj.addComponent("mesh", this.object.bulletMesh);
      mesh.active = true;
      obj.addComponent("collision", { shape: WL.Collider.Sphere, extents: [0.05, 0, 0], group: 1 << 0 });
      obj.name = "steven";
      obj.setPositionLocal(this.object.getPositionWorld());
      const physics = obj.addComponent(ProjectilePhysics, { speed: 0.2 });
      physics.active = true;
      return { object: obj, physics };
    }
  };
  __publicField(ProjectileSpawner, "TypeName", "projectile-spawner");

  // js/ship.js
  var ship_exports = {};
  __export(ship_exports, {
    Ship: () => Ship
  });
  var Ship = class extends Component {
    init() {
      state.ship = this;
      state.needsUpdate = true;
      state.shipHit = function(damage) {
        this.hull -= damage;
        state.health = this.getHealth();
      }.bind(this);
      state.purchase = function(selector, amount) {
        switch (selector) {
          case 0:
            state.currency -= amount;
            this.hull += amount;
            break;
          case 1:
            state.currency -= amount;
            this.shields += amount;
            break;
          case 2:
            state.currency -= amount;
            this.scanners += amount;
            break;
          case 3:
            state.currency -= amount;
            this.autofactories += amount;
            break;
          case 4:
            state.currency -= amount;
            this.targettingSystems += amount;
            break;
          case 5:
            state.currency -= amount;
            this.harvestingDroids += amount;
            break;
          case 6:
            state.currency -= amount;
            this.fuelGenerators += amount;
            break;
        }
      }.bind(this);
    }
    setHealth() {
      let health = 0;
      return health;
    }
  };
  __publicField(Ship, "TypeName", "ship");
  /// Currency earned from defeating monsters can be invested in the ship
  /// these properties define critical and non critical systems needed to 
  /// repair the ship and escape the planet. when reaching certain values
  /// they also upgrade the users turrets/ personal stats 
  __publicField(Ship, "Properties", {
    // default health value 
    // Other values can only be upgraded once hull threshholds are reached
    /// IE Hull must be level 2 before shields can become level 2 
    hull: { type: Type.Int, default: 200 },
    // reduces the amount of damage done by enemies 
    shields: { type: Type.Int, default: 0 },
    // increases the attack range of turrets
    scanners: { type: Type.Int, default: 0 },
    /// allows for more ( or maybe different ) turrets
    autofactories: { type: Type.Int, default: 0 },
    /// Increases attack speed 
    targettingSystems: { type: Type.Int, default: 0 },
    /// increases the amount of money earned from killing enemies
    harvestingDroids: { type: Type.Int, default: 0 },
    /// Provides more material/ currency 
    fuelGenerators: { type: Type.Int, default: 0 }
  });

  // js/sun-movement.js
  var sun_movement_exports = {};
  __export(sun_movement_exports, {
    SunMovement: () => SunMovement
  });
  var SunMovement = class extends Component {
    init() {
      this.children = this.pathObject.children.sort(function(a, b) {
        return a.name.localeCompare(b.name);
      });
      this.positions = new Array(this.children.length);
      for (let i = 0; i < this.children.length; i++) {
        this.positions[i] = new Float32Array(3);
        this.children[i].getTranslationWorld(this.positions[i]);
      }
      this.currentPositionIndex = 0;
      this.currentPosition = new Float32Array(3);
      this.lookPosition = new Float32Array(3);
      this.fromPosition = this.positions[0];
      this.toPosition = this.positions[1];
      vec3_exports.sub(this.currentPosition, this.toPosition, this.fromPosition);
      this.fromToLength = vec3_exports.length(this.currentPosition);
      this.currentLength = 0;
      this.up = [0, 1, 0];
      this.quat = new Float32Array(4);
      lookAt3(this.quat, this.fromPosition, this.toPosition, this.up);
      this.object.resetTranslationRotation();
      this.object.rotate(this.quat);
      this.object.setTranslationWorld(this.fromPosition);
      this.p0 = new Float32Array(3);
      this.p1 = new Float32Array(3);
      this.p2 = new Float32Array(3);
      this.currentCurveIndex = 0;
      this.curveDistance = Math.max(0, Math.min(0.49999, this.curveDistance));
      this.bezFactorMultiplicator = 1 / (2 * this.curveDistance);
      this._setCurvePoints();
      this.onFinalWaypointReachedCallbacks = [];
    }
    /**
     * Adds a function to a callback array which, then calls the function after the final waypoint has been reached.
     * @param  {function} f Function to be added.
     */
    addOnFinalWaypointReachedCallback(f) {
      this.onFinalWaypointReachedCallbacks.push(f);
    }
    /**
     * Removes a function from the callback array for reaching the final waypoint..
     * @param  {function} f Function to be removed.
     */
    removeOnFinalWaypointReachedCallback(f) {
      const index = array.indexOf(f);
      if (index > -1) {
        this.onFinalWaypointReachedCallbacks.splice(index, 1);
      }
    }
    /**
     * Sets the points needed for the next curve
     */
    _setCurvePoints() {
      vec3_exports.sub(
        this.currentPosition,
        this.positions[this.currentCurveIndex],
        this.positions[this.currentCurveIndex + 1]
      );
      vec3_exports.scale(this.currentPosition, this.currentPosition, this.curveDistance);
      vec3_exports.add(this.p0, this.positions[this.currentCurveIndex + 1], this.currentPosition);
      this.p1 = this.positions[this.currentCurveIndex + 1];
      vec3_exports.sub(
        this.currentPosition,
        this.positions[this.currentCurveIndex + 2],
        this.positions[this.currentCurveIndex + 1]
      );
      vec3_exports.scale(this.currentPosition, this.currentPosition, this.curveDistance);
      vec3_exports.add(this.p2, this.positions[this.currentCurveIndex + 1], this.currentPosition);
    }
    /**
     * Sets the object's path object and configures it.
     * @param  {WL.Object} pathObject [Object containing alphebetically named children]
     */
    setPathObject(pathObject) {
      this.pathObject = pathObject;
      this.children = this.pathObject.children.sort(function(a, b) {
        return a.name.localeCompare(b.name);
      });
      this.positions = new Array(this.children.length);
      for (let i = 0; i < this.children.length; i++) {
        this.positions[i] = new Float32Array(3);
        this.children[i].getTranslationWorld(this.positions[i]);
      }
      this.currentPositionIndex = 0;
      this.currentCurveIndex = 0;
      this.currentLength = 0;
      this._setCurvePoints();
      this.fromPosition = this.positions[0];
      this.toPosition = this.positions[1];
      vec3_exports.sub(this.currentPosition, this.toPosition, this.fromPosition);
      this.fromToLength = vec3_exports.length(this.currentPosition);
    }
    update(dt) {
      this.currentLength += dt * this.speed;
      let factor = this.currentLength / this.fromToLength;
      if (factor > 0.5 && this.currentPositionIndex != this.positions.length - 1) {
        this.incrementCurveIndex = true;
      }
      if (Math.abs(factor - Math.round(factor)) < this.curveDistance && !(this.currentPositionIndex == this.children.length - 2 && factor > 0.5) && !(this.currentPositionIndex == 0 && factor < 0.5)) {
        let bezFactor = (factor - Math.round(factor) + this.curveDistance) * this.bezFactorMultiplicator;
        vec3_exports.bezier(
          this.currentPosition,
          this.p0,
          this.p1,
          this.p1,
          this.p2,
          bezFactor
        );
        vec3_exports.bezier(
          this.lookPosition,
          this.p0,
          this.p1,
          this.p1,
          this.p2,
          bezFactor + 0.01
        );
      } else {
        if (this.incrementCurveIndex && factor < 0.5 && factor > this.curveDistance && this.currentCurveIndex != this.positions.length - 3) {
          this.currentCurveIndex++;
          this.incrementCurveIndex = false;
          this._setCurvePoints();
        }
        vec3_exports.lerp(this.currentPosition, this.fromPosition, this.toPosition, factor);
        vec3_exports.lerp(this.lookPosition, this.fromPosition, this.toPosition, factor + 0.01);
      }
      this.object.resetTranslationRotation();
      lookAt3(this.quat, this.currentPosition, this.lookPosition, this.up);
      this.object.rotate(this.quat);
      this.object.setTranslationWorld(this.currentPosition);
      if (this.currentLength > this.fromToLength) {
        this.start = false;
        this.currentPositionIndex++;
        if (this.currentPositionIndex == this.children.length - 1) {
          this.currentPositionIndex = 0;
          this.currentCurveIndex = 0;
          this._setCurvePoints();
          this.incrementCurveIndex = false;
          this.onFinalWaypointReachedCallbacks.forEach((f) => f());
        }
        this.fromPosition = this.positions[this.currentPositionIndex];
        this.toPosition = this.positions[this.currentPositionIndex + 1];
        vec3_exports.sub(this.currentPosition, this.toPosition, this.fromPosition);
        this.fromToLength = vec3_exports.length(this.currentPosition);
        this.currentLength = 0;
      }
    }
  };
  __publicField(SunMovement, "TypeName", "sun-movement");
  __publicField(SunMovement, "Properties", {
    /** This object is the container of the waypoints. It should contain children
    with an alphebetically ascending naming (e.g. A, B, C, D, E, F) */
    pathObject: { type: Type.Object },
    /** Movement speed of the object */
    speed: { type: Type.Float, default: 1 },
    /** Distance in normal space [0, 0.5) after which the objects starts moving on a curve */
    curveDistance: { type: Type.Float, default: 0.1 }
  });
  var lookAt3 = function() {
    let forwardTemp = new Float32Array(3);
    let temp = new Float32Array(3);
    let dotTemp = 0;
    let vector = new Float32Array(3);
    let vector2 = new Float32Array(3);
    let vector3 = new Float32Array(3);
    return function(quaternion, sourcePoint, destPoint, up) {
      if (!up) {
        up = [0, 1, 0];
      }
      vec3_exports.sub(forwardTemp, destPoint, sourcePoint);
      vec3_exports.normalize(forwardTemp, forwardTemp);
      dotTemp = vec3_exports.dot(up, forwardTemp);
      vec3_exports.scale(temp, forwardTemp, dotTemp);
      vec3_exports.sub(up, up, temp);
      vec3_exports.normalize(up, up);
      vec3_exports.normalize(vector, forwardTemp);
      vec3_exports.cross(vector2, up, vector);
      vec3_exports.cross(vector3, vector, vector2);
      let m00 = vector2[0];
      let m01 = vector2[1];
      let m02 = vector2[2];
      let m10 = vector3[0];
      let m11 = vector3[1];
      let m12 = vector3[2];
      let m20 = vector[0];
      let m21 = vector[1];
      let m22 = vector[2];
      let num8 = m00 + m11 + m22;
      if (num8 > 0) {
        let num = Math.sqrt(num8 + 1);
        quaternion[3] = num * 0.5;
        num = 0.5 / num;
        quaternion[0] = (m12 - m21) * num;
        quaternion[1] = (m20 - m02) * num;
        quaternion[2] = (m01 - m10) * num;
        return quaternion;
      }
      if (m00 >= m11 && m00 >= m22) {
        let num7 = Math.sqrt(1 + m00 - m11 - m22);
        let num4 = 0.5 / num7;
        quaternion[0] = 0.5 * num7;
        quaternion[1] = (m01 + m10) * num4;
        quaternion[2] = (m02 + m20) * num4;
        quaternion[3] = (m12 - m21) * num4;
        return quaternion;
      }
      if (m11 > m22) {
        let num6 = Math.sqrt(1 + m11 - m00 - m22);
        let num3 = 0.5 / num6;
        quaternion[0] = (m10 + m01) * num3;
        quaternion[1] = 0.5 * num6;
        quaternion[2] = (m21 + m12) * num3;
        quaternion[3] = (m20 - m02) * num3;
        return quaternion;
      }
      let num5 = Math.sqrt(1 + m22 - m00 - m11);
      let num2 = 0.5 / num5;
      quaternion[0] = (m20 + m02) * num2;
      quaternion[1] = (m21 + m12) * num2;
      quaternion[2] = 0.5 * num5;
      quaternion[3] = (m01 - m10) * num2;
      return quaternion;
    };
  }();

  // js/turret-aimer.js
  var turret_aimer_exports = {};
  __export(turret_aimer_exports, {
    turretAimer: () => turretAimer
  });
  var turretAimer = class extends Component {
    start() {
      console.log("start() with param", this.param);
    }
    init() {
      this.timer = 0;
      this.hits = 0;
    }
    /* The old seek code that used RayCsting for aiming, not in use but keeping it around just in case
    seek() {
        let g = new Float32Array(3);
        this.object.getForwardWorld(g);
        let ray = WL.scene.rayCast(this.object.getTranslationWorld(), g, 1 << 1, 1 << 2);
        let hits = ray.hitCount;
        this.loc = ray.locations;
        this.dis = ray.distances;
        let obs = ray.objects;
        if (hits > 0) {
            this.object.target = obs[0];
            this.object.lookAt(this.object.target.getPositionWorld())
        }
        else {
            this.object.rotateAxisAngleDegObject([0, 1, 0], 5);
        }
    }*/
    seek() {
      const collision = this.object.getComponent("collision");
      const overlaps = collision.queryOverlaps();
      for (const coll of overlaps) {
        if (coll.object.name === "dave") {
          if (this.object.target === null || this.object.target.walked < coll.object.walked) {
            this.object.target = coll.object;
          } else {
            this.object.target = null;
          }
        }
      }
    }
    update(dt) {
      this.timer += dt;
      let g = new Float32Array(3);
      if (this.object.target == null || this.object.target.objectId < 0) {
        this.seek();
      }
      if (this.object.target && this.object.target.isDestroyed == false) {
        let g2 = new Float32Array(3);
        const collision = this.object.getComponent("collision");
        const overlaps = collision.queryOverlaps();
        let fired = false;
        for (const coll of overlaps) {
          if (fired == false && coll.object === this.object.target) {
            this.object.lookAt(this.object.target.getPositionWorld(), [0, 1, 0]);
            if (this.timer > this.object.cd) {
              this.object.shoot(this.object.getForwardWorld(g2));
              this.object.target.health -= this.object.damage;
              this.timer = 0;
              if (this.object.target.health <= 0) {
                state.currency += this.object.target.value;
                this.object.target.destroy();
                state.needsUpdate = true;
                state.enemiesDestroyed++;
              }
            }
            fired = true;
          }
        }
        if (!fired) {
          this.object.target = null;
        }
        ;
      }
    }
  };
  __publicField(turretAimer, "TypeName", "turret-aimer");
  /* Properties that are configurable in the editor */
  __publicField(turretAimer, "Properties", {});

  // js/turret-spawner.js
  var turret_spawner_exports = {};
  __export(turret_spawner_exports, {
    TurretSpawner: () => TurretSpawner
  });
  var tempQuat24 = new Float32Array(8);
  var TurretSpawner = class extends Component {
    /// drone turret?
    init() {
      this.timer = 0;
      this.name = "dave";
      state.turretSpawner = this;
      state.buildT = function() {
        if (state.currency >= this.turretCost && state.pauseBuilding === false) {
          let turret = this.makeTurret();
          state.spawnedTurrets += 1;
          state.turrets.push(turret);
          state.currency -= this.turretCost;
          state.needsUpdate = true;
        }
      }.bind(this);
    }
    static onRegister(engine) {
      engine.registerComponent(turretAimer);
      engine.registerComponent(ProjectileSpawner);
    }
    start() {
      console.log("start turret spawner");
    }
    update(dt) {
    }
    makeTurret() {
      const obj = this.engine.scene.addObject();
      obj.target = null;
      obj.shoot = null;
      obj.cd = this.shootingCD;
      obj.name = "sam";
      obj.damage = this.damage;
      const mesh = obj.addComponent("mesh");
      mesh.mesh = this.defaultMesh;
      mesh.material = this.defaultMaterial;
      obj.bulletMesh = {
        mesh: this.bulletMesh,
        material: this.bulletMaterial
      };
      obj.addComponent("collision", {
        collider: WL.Collider.Sphere,
        extents: [5, 0, 0],
        group: 1 << 5,
        // this code is a test to see how to trigger Collision Onhit and onleave that has
        // some documentation on wonderland, but I cant figre out how to use
        // IF we can get it working it would make aiming and shooting signifficantly
        //   more efficient
        CollisionEventType: 1,
        active: true
      });
      mesh.active = true;
      const aimer = obj.addComponent(turretAimer);
      obj.addComponent(ProjectileSpawner);
      obj.setTransformLocal(this.object.getTransformWorld(tempQuat24));
      const x = new Float32Array(3);
      obj.setScalingLocal([0.2, 0.4, 0.2]);
      obj.setRotationLocal([0, 0, 0, 1]);
      obj.active = true;
      state.turrets.push(obj);
      obj.setDirty();
    }
  };
  __publicField(TurretSpawner, "TypeName", "turret-spawner");
  __publicField(TurretSpawner, "Properties", {
    defaultMesh: { type: Type.Mesh },
    defaultMaterial: { type: Type.Material },
    bulletMesh: { type: Type.Mesh },
    bulletMaterial: { type: Type.Material },
    shootingCD: { type: Type.Int, default: 1 },
    damage: { type: Type.Int, default: 20 },
    turretCost: { type: Type.Int, default: 25 }
  });

  // js/uiHandler.js
  var uiHandler_exports = {};
  __export(uiHandler_exports, {
    UIHandler: () => UIHandler
  });
  var UIHandler = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HowlerAudioSource);
    }
    init() {
      this.hp = state.getHealth();
      this.currency = state.getCurrency();
    }
    start() {
      this.target = this.object.getComponent("cursor-target");
      this.target.addHoverFunction(this.onHover.bind(this));
      this.target.addUnHoverFunction(this.onUnHover.bind(this));
      this.target.addMoveFunction(this.onMove.bind(this));
      this.target.addDownFunction(this.onDown.bind(this));
      this.target.addUpFunction(this.onUp.bind(this));
      this.soundClick = this.object.addComponent(HowlerAudioSource, { src: "sfx/click.wav", spatial: true });
      this.soundUnClick = this.object.addComponent(HowlerAudioSource, { src: "sfx/unclick.wav", spatial: true });
      switch (this.panel) {
        case 0:
          this.simplePanel();
          break;
        case 1:
          this.buttonsPanel();
          break;
        case 2:
          this.scrollPanel();
          break;
        case 3:
          this.imagePanel();
          break;
        case 4:
          this.inputTextPanel();
          break;
      }
    }
    // this is the code for the Health and currency HUD 
    simplePanel() {
      const config2 = {
        body: {
          fontSize: 50,
          type: "text",
          position: { top: 10 },
          paddingTop: 50,
          height: 256
        }
      };
      const content = { body: "Health: " + state.getHealth() + "\rMoney: " + state.getCurrency() };
      this.ui = new CanvasUI(content, config2, this.object, this.engine);
      this.ui.updateConfig(this, config2.height, 100);
      let ui2 = this.ui;
    }
    buttonsPanel() {
      function defaultTurret() {
        const msg = "default";
        console.log(msg);
        ui.updateElement("info", msg);
        state.selectedTurret = "default";
      }
      function droneTurret() {
        const msg = "drone";
        console.log(msg);
        ui.updateElement("info", msg);
        state.selectedTurret = "drone";
      }
      function laser() {
        const msg = "laser";
        console.log(msg);
        ui.updateElement("info", msg);
        state.selectedTurret = "laser";
      }
      const content = {
        info: "",
        defaultTurret: "<path>M 10 32 L 54 10 L 54 54 Z</path>",
        droneTurret: "<path>M 50 15 L 15 15 L 15 50 L 50 50 Z<path>",
        laser: "<path>M 54 32 L 10 10 L 10 54 Z</path>"
      };
      this.ui2 = new CanvasUI(content, config, this.object, this.engine);
      this.ui2.update();
      let ui2 = this.ui2;
    }
    scrollPanel() {
      const config2 = {
        body: {
          backgroundColor: "#666"
        },
        txt: {
          type: "text",
          overflow: "scroll",
          position: { left: 20, top: 20 },
          width: 460,
          height: 400,
          backgroundColor: "#fff",
          fontColor: "#000"
        }
      };
      const content = {
        txt: "This is an example of a scrolling panel. Select it with a controller and move the controller while keeping the select button pressed. In an AR app just press and drag. If a panel is set to scroll and the overflow setting is 'scroll', then a scroll bar will appear when the panel is active. But to scroll you can just drag anywhere on the panel. This is an example of a scrolling panel. Select it with a controller and move the controller while keeping the select button pressed. In an AR app just press and drag. If a panel is set to scroll and the overflow setting is 'scroll', then a scroll bar will appear when the panel is active. But to scroll you can just drag anywhere on the panel."
      };
      this.ui = new CanvasUI(content, config2, this.object, this.engine);
      this.ui.update();
      let ui2 = this.ui;
    }
    imagePanel() {
      const config2 = {
        image: {
          type: "img",
          position: { left: 20, top: 20 },
          width: 472
        },
        info: {
          type: "text",
          position: { top: 300 }
        }
      };
      const content = {
        image: "images/promo.png",
        info: "The promo image from the course: Learn to create WebXR, VR and AR, experiences using Wonderland Engine"
      };
      this.ui = new CanvasUI(content, config2, this.object, this.engine);
      this.ui.update();
      let ui2 = this.ui;
    }
    inputTextPanel() {
      function onChanged(txt) {
        console.log(`message changed: ${txt}`);
      }
      function onEnter(txt) {
        console.log(`message enter: ${txt}`);
      }
      const config2 = {
        panelSize: { width: 1, height: 0.25 },
        height: 128,
        message: {
          type: "input-text",
          position: { left: 10, top: 8 },
          height: 56,
          width: 492,
          backgroundColor: "#ccc",
          fontColor: "#000",
          onChanged,
          onEnter
        },
        label: {
          type: "text",
          position: { top: 64 }
        }
      };
      const content = {
        message: "",
        label: "Select the panel above."
      };
      this.ui = new CanvasUI(content, config2, this.object, this.engine);
      const target = this.ui.keyboard.object.getComponent("cursor-target");
      target.addHoverFunction(this.onHoverKeyboard.bind(this));
      target.addUnHoverFunction(this.onUnHoverKeyboard.bind(this));
      target.addMoveFunction(this.onMoveKeyboard.bind(this));
      target.addDownFunction(this.onDown.bind(this));
      target.addUpFunction(this.onUpKeyboard.bind(this));
      this.ui.update();
      let ui2 = this.ui;
    }
    onHover(_, cursor) {
      if (this.ui) {
        const xy = this.ui.worldToCanvas(cursor.cursorPos);
        this.ui.hover(0, xy);
      }
      if (cursor.type == "finger-cursor") {
        this.onDown(_, cursor);
      }
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onMove(_, cursor) {
      if (this.ui) {
        const xy = this.ui.worldToCanvas(cursor.cursorPos);
        this.ui.hover(0, xy);
      }
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onDown(_, cursor) {
      console.log("onDown");
      this.soundClick.play();
      this.hapticFeedback(cursor.object, 1, 20);
    }
    onUp(_, cursor) {
      console.log("onUp");
      this.soundUnClick.play();
      if (this.ui)
        this.ui.select(0, true);
      this.hapticFeedback(cursor.object, 0.7, 20);
    }
    onUnHover(_, cursor) {
      console.log("onUnHover");
      if (this.ui)
        this.ui.hover(0);
      this.hapticFeedback(cursor.object, 0.3, 50);
    }
    onHoverKeyboard(_, cursor) {
      if (!this.ui || !this.ui.keyboard || !this.ui.keyboard.keyboard)
        return;
      const ui2 = this.ui.keyboard.keyboard;
      const xy = ui2.worldToCanvas(cursor.cursorPos);
      ui2.hover(0, xy);
      if (cursor.type == "finger-cursor") {
        this.onDown(_, cursor);
      }
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onMoveKeyboard(_, cursor) {
      if (!this.ui || !this.ui.keyboard || !this.ui.keyboard.keyboard)
        return;
      const ui2 = this.ui.keyboard.keyboard;
      const xy = ui2.worldToCanvas(cursor.cursorPos);
      ui2.hover(0, xy);
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onUpKeyboard(_, cursor) {
      console.log("onUpKeyboard");
      this.soundUnClick.play();
      if (this.ui && this.ui.keyboard && this.ui.keyboard.keyboard)
        this.ui.keyboard.keyboard.select(0);
      this.hapticFeedback(cursor.object, 0.7, 20);
    }
    onUnHoverKeyboard(_, cursor) {
      console.log("onUnHoverKeyboard");
      if (this.ui && this.ui.keyboard && this.ui.keyboard.keyboard)
        this.ui.keyboard.keyboard.hover(0);
      this.hapticFeedback(cursor.object, 0.3, 50);
    }
    hapticFeedback(object, strength, duration) {
      const input = object.getComponent("input");
      if (input && input.xrInputSource) {
        const gamepad = input.xrInputSource.gamepad;
        if (gamepad && gamepad.hapticActuators)
          gamepad.hapticActuators[0].pulse(strength, duration);
      }
    }
    // if needsUpdate is called will nilly to update the health and currency, then 
    // eventually the hud breaks so now any changes to the hud only update when 
    // changed. 
    update(dt) {
      if (state.needsUpdate === true) {
        this.ui.content = { body: "Health: " + state.getHealth() + "\r\\nMoney: " + state.getCurrency() };
        this.ui.needsUpdate = true;
        state.needsUpdate = false;
      }
      if (this.ui)
        this.ui.update();
      if (this.ui2)
        this.ui2.update();
    }
  };
  __publicField(UIHandler, "TypeName", "uiHandler");
  __publicField(UIHandler, "Properties", {
    panel: Property.enum(["simple", "buttons", "scrolling", "images", "input-text"], "simple")
  });

  // js/uiHandler2.js
  var uiHandler2_exports = {};
  __export(uiHandler2_exports, {
    CanvasUI: () => CanvasUI2
  });
  var CanvasKeyboard2 = class {
    constructor(width, canvasui, lang = "EN") {
      const config2 = this.getConfig(lang);
      config2.panelSize = { width, height: width * 0.5 };
      config2.height = 256;
      config2.body = { backgroundColor: "#555" };
      const object = WL.scene.addObject();
      object.name = "keyboard";
      const mesh = object.addComponent("mesh");
      const uimesh = canvasui.object.getComponent("mesh");
      mesh.mesh = uimesh.mesh;
      mesh.material = uimesh.material.clone();
      object.addComponent("cursor-target");
      const content = this.getContent(lang);
      this.keyboard = new CanvasUI2(content, config2, object, canvasui.engine);
      this.tmpVec = new Float32Array(3);
    }
    get object() {
      return this.keyboard.object;
    }
    getConfig(lang) {
      const config2 = {};
      let padding = 10;
      const paddingTop = 20;
      const width = (512 - 2 * padding) / 10 - padding;
      const height = (256 - 2 * padding) / 4 - padding;
      const hover = "#333";
      const backgroundColor = "#000";
      let y = padding;
      let x = padding;
      for (let i = 0; i < 10; i++) {
        const btn = { type: "button", position: { x, y }, width, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i) };
        config2[`btn${i}`] = btn;
        x += width + padding;
      }
      y += height + padding;
      x = padding;
      for (let i = 0; i < 10; i++) {
        const btn = { type: "button", position: { x, y }, width, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i + 10) };
        config2[`btn${i + 10}`] = btn;
        x += width + padding;
      }
      y += height + padding;
      x = padding;
      for (let i = 0; i < 9; i++) {
        const w = i == 0 || i == 8 ? width * 1.5 + padding * 0.5 : width;
        const btn = { type: "button", position: { x, y }, width: w, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i + 20) };
        config2[`btn${i + 20}`] = btn;
        x += w + padding;
      }
      y += height + padding;
      x = padding;
      for (let i = 0; i < 5; i++) {
        const w = i == 0 || i == 4 ? width * 2 + padding : i == 2 ? width * 4 + 3 * padding : width;
        const btn = { type: "button", position: { x, y }, width: w, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i + 30) };
        if (i == 0)
          btn.fontSize = 20;
        config2[`btn${i + 30}`] = btn;
        x += w + padding;
      }
      return config2;
    }
    getContent(lang, layoutIndex = 0) {
      let content = {};
      let keys;
      this.language = lang;
      this.keyboardIndex = layoutIndex;
      switch (layoutIndex) {
        case 0:
          keys = [
            "q",
            "w",
            "e",
            "r",
            "t",
            "y",
            "u",
            "i",
            "o",
            "p",
            "a",
            "s",
            "d",
            "f",
            "g",
            "h",
            "j",
            "k",
            "l",
            "@",
            "\xE2\u2021\xA7",
            "z",
            "x",
            "c",
            "v",
            "b",
            "n",
            "m",
            "\xE2\u2021\xA6",
            "",
            "?123",
            ",",
            "   ",
            ".",
            "\xE2\u2020\xB2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
        case 1:
          keys = [
            "Q",
            "W",
            "E",
            "R",
            "T",
            "Y",
            "U",
            "I",
            "O",
            "P",
            "A",
            "S",
            "D",
            "F",
            "G",
            "H",
            "J",
            "K",
            "L",
            "@",
            "\xE2\u2021\xA7",
            "Z",
            "X",
            "C",
            "V",
            "B",
            "N",
            "M",
            "\xE2\u2021\xA6",
            "",
            "?123",
            ",",
            "   ",
            ".",
            "\xE2\u2020\xB2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
        case 2:
          keys = [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "0",
            "@",
            "#",
            "%",
            "&",
            "*",
            "/",
            "-",
            "+",
            "(",
            ")",
            "\xE2\u2021\xA7",
            "?",
            "!",
            '"',
            "'",
            "\\",
            ":",
            ";",
            "\xE2\u2021\xA6",
            "",
            "abc",
            ",",
            "   ",
            ".",
            "\xE2\u2020\xB2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
        case 3:
          keys = [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "0",
            "\xE2\u201A\xAC",
            "\xC2\xA3",
            "$",
            "^",
            "=",
            "|",
            "{",
            "}",
            "[",
            "}",
            "\xE2\u2021\xA7",
            "<",
            ">",
            "_",
            "`",
            "~",
            ":",
            ";",
            "\xE2\u2021\xA6",
            "",
            "abc",
            ",",
            "   ",
            ".",
            "\xE2\u2020\xB2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
      }
      return content;
    }
    get position() {
      const pos = this.keyboard.object.getTranslationWorld(this.tmpVec);
      return pos;
    }
    get positionLocal() {
      const pos = this.keyboard.object.getTranslationLocal(this.tmpVec);
      return pos;
    }
    get visible() {
      return this.active;
    }
    set visible(value) {
      this.keyboard.object.active = value;
      this.active = value;
    }
    setKeyboard(index) {
      this.keyboard.content = this.getContent(this.language, index);
      this.keyboard.needsUpdate = true;
    }
    onSelect(index) {
      if (!this.visible)
        return;
      let change = false;
      switch (index) {
        case 34:
          this.visible = false;
          if (this.linkedElement.onEnter)
            this.linkedElement.onEnter(this.linkedText);
          break;
        case 32:
          this.linkedText += " ";
          change = true;
          break;
        case 30:
          this.shift = false;
          if (this.keyboardIndex < 2) {
            this.setKeyboard(2);
          } else {
            this.setKeyboard(0);
          }
          this.keyboard.needsUpdate = true;
          break;
        case 28:
          this.linkedText = this.linkedText.substring(0, this.linkedText.length - 1);
          change = true;
          break;
        case 20:
          this.shift = !this.shift;
          if (this.keyboardIndex == 0) {
            this.setKeyboard(1);
          } else if (this.keyboardIndex == 1) {
            this.setKeyboard(0);
          } else if (this.keyboardIndex == 2) {
            this.setKeyboard(3);
          } else if (this.keyboardIndex == 3) {
            this.setKeyboard(2);
          }
          break;
        default:
          const txt = this.keyboard.content[`btn${index}`];
          this.linkedText += txt;
          change = true;
          if (this.keyboardIndex == 1)
            this.setKeyboard(0);
          break;
      }
      if (change) {
        this.linkedUI.updateElement(this.linkedName, this.linkedText);
        if (this.linkedElement.onChanged)
          this.linkedElement.onChanged(this.linkedText);
      }
    }
    update() {
      if (this.keyboard) {
        this.keyboard.update();
      }
    }
  };
  var CanvasUI2 = class {
    constructor(content, config2, object, engine) {
      const defaultconfig = {
        width: 512,
        height: 512,
        opacity: 0.7,
        body: {
          fontFamily: "Arial",
          fontSize: 30,
          padding: 20,
          backgroundColor: "#000",
          fontColor: "#fff",
          borderRadius: 6
        }
      };
      this.config = config2 === void 0 ? defaultconfig : config2;
      if (this.config.width === void 0)
        this.config.width = 512;
      if (this.config.height === void 0)
        this.config.height = 512;
      if (this.config.body === void 0)
        this.config.body = { fontFamily: "Arial", size: 30, padding: 20, backgroundColor: "#000", fontColor: "#fff", borderRadius: 6 };
      if (this.config.collisionGroup === void 0) {
        this.collisionGroup = 1;
      } else {
        this.collisionGroup = 1 << this.config.collisionGroup;
      }
      const body = this.config.body;
      if (body.borderRadius === void 0)
        body.borderRadius = 6;
      if (body.fontFamily === void 0)
        body.fontFamily = "Arial";
      if (body.padding === void 0)
        body.padding = 20;
      if (body.fontSize === void 0)
        body.fontSize = 30;
      if (body.backgroundColor === void 0)
        body.backgroundColor = "#000";
      if (body.fontColor === void 0)
        body.fontColor = "#fff";
      Object.entries(this.config).forEach(([name, value]) => {
        if (typeof value === "object" && name !== "panelSize") {
          const pos = value.position !== void 0 ? value.position : { x: 0, y: 0 };
          if (pos.left !== void 0 && pos.x === void 0)
            pos.x = pos.left;
          if (pos.top !== void 0 && pos.y === void 0)
            pos.y = pos.top;
          const width = value.width !== void 0 ? value.width : this.config.width;
          const height = value.height !== void 0 ? value.height : this.config.height;
          if (pos.right !== void 0 && pos.x === void 0)
            pos.x = this.config.width - pos.right - width;
          if (pos.bottom !== void 0 && pos.y === void 0)
            pos.y = this.config.height - pos.bottom - height;
          if (pos.x === void 0)
            pos.x = 0;
          if (pos.y === void 0)
            pos.y = 0;
          value.position = pos;
          if (value.type === void 0)
            value.type = "text";
        }
      });
      this.canvas = this.createOffscreenCanvas(this.config.width, this.config.height);
      this.context = this.canvas.getContext("2d");
      this.context.save();
      const opacity = this.config.opacity !== void 0 ? this.config.opacity : 0.7;
      const mesh = object.getComponent("mesh");
      this.material = mesh.material;
      this.canvasTexture = new Texture(engine, this.canvas);
      this.material.flatTexture = this.canvasTexture;
      if (config2.panelSize) {
        object.resetScaling();
        const scale6 = [config2.panelSize.width, config2.panelSize.height, 0.01];
        object.scale(scale6);
        this.panelSize = config2.panelSize;
      } else {
        this.panelSize = { width: 1, height: 1 };
      }
      this.object = object;
      this.engine = engine;
      this.tmpVec = new Float32Array(3);
      this.tmpVec1 = new Float32Array(3);
      this.tmpQuat = new Float32Array(4);
      const inputs = Object.values(this.config).filter((value) => {
        return value.type === "input-text";
      });
      if (inputs.length > 0) {
        const width = config2.panelSize ? config2.panelSize.width : 1;
        const height = config2.panelSize ? config2.panelSize.height : 1;
        let halfheight = height / 2;
        this.keyboard = new CanvasKeyboard2(width, this);
        this.getEuler(this.tmpVec, this.object.rotationWorld);
        let theta = this.tmpVec[1];
        this.tmpVec[0] = 0;
        this.tmpVec[2] = -Math.cos(theta) / halfheight;
        this.tmpVec[1] = Math.sin(theta) / halfheight;
        console.log(`CanvasUI create keyboard 1 theta=${theta.toFixed(2)} offset=${this.vecToStr(this.tmpVec)}`);
        halfheight = width / 4;
        this.getEuler(this.tmpVec1, this.keyboard.keyboard.object.rotationWorld);
        theta += -15 * Math.PI / 180;
        this.tmpVec1[0] = 0;
        this.tmpVec1[2] = -Math.cos(theta) / halfheight;
        this.tmpVec1[1] = Math.sin(theta) / halfheight;
        console.log(`CanvasUI create keyboard 2 theta=${theta.toFixed(2)} offset=${this.vecToStr(this.tmpVec1)}`);
        vec3_exports.add(this.tmpVec, this.tmpVec, this.tmpVec1);
        console.log(`CanvasUI create keyboard 3 theta=${theta.toFixed(2)} offset=${this.vecToStr(this.tmpVec)}`);
        const obj = this.keyboard.object;
        quat_exports.fromEuler(this.tmpQuat, -15, 0, 0);
        obj.rotate(this.tmpQuat);
        obj.translate(this.tmpVec);
        vec3_exports.divide(this.tmpVec, obj.scalingLocal, object.scalingWorld);
        obj.resetScaling();
        obj.scale(this.tmpVec);
        obj.parent = object;
        obj.setDirty();
        this.keyboard.visible = false;
      }
      if (content === void 0) {
        this.content = { body: "" };
        this.config.body.type = "text";
      } else {
        this.content = content;
        const btns = Object.values(config2).filter((value) => {
          return value.type === "button" || value.overflow === "scroll" || value.type === "input-text";
        });
        if (btns.length > 0) {
          this.engine.onXRSessionStart.add(this.initControllers.bind(this));
          const extents = new Float32Array(3);
          vec3_exports.copy(extents, this.object.scalingWorld);
          const collision = this.object.addComponent("collision", { collider: 2, extents, group: this.collisionGroup });
        }
      }
      this.selectedElements = [void 0, void 0];
      this.selectPressed = [false, false];
      this.scrollData = [void 0, void 0];
      this.intersects = [void 0, void 0];
      this.needsUpdate = true;
      this.update();
    }
    vecToStr(v, precision = 2) {
      let str5 = "";
      if (v) {
        for (let i = 0; i < v.length; i++) {
          str5 += v[i].toFixed(precision) + ", ";
        }
      }
      return str5;
    }
    //returns yaw, pitch, roll
    getEuler(out, quat) {
      let x = quat[0], y = quat[1], z = quat[2], w = quat[3], x2 = x * x, y2 = y * y, z2 = z * z, w2 = w * w;
      let unit = x2 + y2 + z2 + w2;
      let test = x * w - y * z;
      if (test > 0.499995 * unit) {
        out[0] = Math.PI / 2;
        out[1] = 2 * Math.atan2(y, x);
        out[2] = 0;
      } else if (test < -0.499995 * unit) {
        out[0] = -Math.PI / 2;
        out[1] = 2 * Math.atan2(y, x);
        out[2] = 0;
      } else {
        out[0] = Math.asin(2 * (x * z - w * y));
        out[1] = Math.atan2(2 * (x * w + y * z), 1 - 2 * (z2 + w2));
        out[2] = Math.atan2(2 * (x * y + z * w), 1 - 2 * (y2 + z2));
      }
      return out;
    }
    getIntersectY(index) {
      const height = this.config.height || 512;
      const intersect = this.intersects[index];
      if (intersect === void 0)
        return 0;
      if (intersect.xy === void 0)
        return 0;
      return intersect.xy[1];
    }
    get selectIsPressed() {
      return this.selectPressed[0] || this.selectPressed[1];
    }
    initControllers(s) {
      this.session = s;
      const root = new Object3D(0);
      root.children.forEach((child) => {
        if (child.name == "Player") {
          const space = child.children[0];
          space.children.forEach((child2) => {
            if (child2.name == "CursorLeft")
              this.rayLeft = child2;
            if (child2.name == "CursorRight")
              this.rayRight = child2;
          });
        }
      });
      if (!(this.rayLeft && this.rayRight))
        console.warn("Player CursorLeft or Player CursorRight not found");
      function onSelect(event) {
        const index = event.inputSource.handedness === "left" ? 0 : 1;
        const elm = this.selectedElements[index];
        if (elm !== void 0) {
          if (elm.type == "button") {
            this.select(index);
          } else if (elm.type == "input-text") {
            if (this.keyboard) {
              if (this.keyboard.visible) {
                this.keyboard.linkedUI = void 0;
                this.keyboard.linkedText = void 0;
                this.keyboard.linkedElement = void 0;
                this.keyboard.visible = false;
              } else {
                this.keyboard.linkedUI = this;
                let name;
                Object.entries(this.config).forEach(([prop, value]) => {
                  if (value == elm)
                    name = prop;
                });
                const y = (0.5 - (elm.position.y + elm.height + this.config.body.padding) / this.config.height) * this.panelSize.height;
                const h = Math.max(this.panelSize.width, this.panelSize.height) / 2;
                this.keyboard.linkedText = this.content[name];
                this.keyboard.linkedName = name;
                this.keyboard.linkedElement = elm;
                this.keyboard.visible = true;
              }
            }
          }
        }
      }
      ;
      function onSelectStart(event) {
        const index = event.inputSource.handedness === "left" ? 0 : 1;
        this.selectPressed[index] = true;
        if (this.selectedElements[index] !== void 0 && this.selectedElements[index].overflow == "scroll") {
          const elm = this.selectedElements[index];
          this.scrollData[index] = { scrollY: elm.scrollY, rayY: this.getIntersectY(index) };
        }
      }
      function onSelectEnd(event) {
        const index = event.inputSource.handedness === "left" ? 0 : 1;
        this.selectPressed[index] = false;
        if (this.selectedElements[index] !== void 0 && this.selectedElements[index].overflow == "scroll") {
          this.scrollData[index] = void 0;
        }
      }
      s.addEventListener("end", function() {
        this.session = null;
      }.bind(this));
      s.addEventListener("select", onSelect.bind(this));
      s.addEventListener("selectstart", onSelectStart.bind(this));
      s.addEventListener("selectend", onSelectEnd.bind(this));
    }
    setClip(elm) {
      const context = this.context;
      context.restore();
      context.save();
      if (elm.clipPath !== void 0) {
        const path = new Path2D(elm.clipPath);
        context.clip(path);
      } else {
        const pos = elm.position !== void 0 ? elm.position : { x: 0, y: 0 };
        const borderRadius = elm.borderRadius || 0;
        const width = elm.width || this.config.width;
        const height = elm.height || this.config.height;
        context.beginPath();
        if (borderRadius !== 0) {
          const angle2 = Math.PI / 2;
          context.moveTo(pos.x + borderRadius, pos.y);
          context.arc(pos.x + borderRadius, pos.y + borderRadius, borderRadius, angle2, angle2 * 2, true);
          context.lineTo(pos.x, pos.y + height - borderRadius);
          context.arc(pos.x + borderRadius, pos.y + height - borderRadius, borderRadius, 0, angle2, true);
          context.lineTo(pos.x + width - borderRadius, pos.y + height);
          context.arc(pos.x + width - borderRadius, pos.y + height - borderRadius, borderRadius, angle2 * 3, angle2 * 4, true);
          context.lineTo(pos.x + width, pos.y + borderRadius);
          context.arc(pos.x + width - borderRadius, pos.y + borderRadius, borderRadius, angle2 * 2, angle2 * 3, true);
          context.closePath();
          context.clip();
        } else {
          context.rect(pos.x, pos.y, width, height);
          context.clip();
        }
      }
    }
    setPosition(x, y, z) {
      if (this.mesh === void 0)
        return;
      this.mesh.position.set(x, y, z);
    }
    setRotation(x, y, z) {
      if (this.mesh === void 0)
        return;
      this.mesh.rotation.set(x, y, z);
    }
    updateElement(name, content) {
      let elm = this.content[name];
      if (elm === void 0) {
        console.warn(`CanvasUI.updateElement: No ${name} found`);
        return;
      }
      if (typeof elm === "object") {
        elm.content = content;
      } else {
        elm = content;
      }
      this.content[name] = elm;
      this.needsUpdate = true;
    }
    get panel() {
      return this.mesh;
    }
    getElementAtLocation(x, y) {
      const elms = Object.entries(this.config).filter(([name, elm2]) => {
        if (typeof elm2 === "object" && name !== "panelSize" && name !== "body") {
          const pos = elm2.position;
          const width = elm2.width !== void 0 ? elm2.width : this.config.width;
          const height = elm2.height !== void 0 ? elm2.height : this.config.height;
          return x >= pos.x && x < pos.x + width && y >= pos.y && y < pos.y + height;
        }
      });
      const elm = elms.length == 0 ? null : this.config[elms[0][0]];
      return elm;
    }
    updateConfig(name, property2, value) {
      let elm = this.config[name];
      if (elm === void 0) {
        console.warn(`CanvasUI.updateconfig: No ${name} found`);
        return;
      }
      elm[property2] = value;
      this.needsUpdate = true;
    }
    hover(index = 0, xy) {
      if (xy === void 0) {
        if (this.selectedElements[index] !== void 0) {
          this.selectedElements[index] = void 0;
          this.needsUpdate = true;
        }
      } else {
        const x = xy[0];
        const y = xy[1];
        const elm = this.getElementAtLocation(x, y);
        if (elm === null) {
          if (this.selectedElements[index] !== void 0) {
            this.selectedElements[index] = void 0;
            this.needsUpdate = true;
          }
        } else if (this.selectedElements[index] !== elm) {
          this.selectedElements[index] = elm;
          this.needsUpdate = true;
        }
      }
    }
    select(index = 0, mouse = false) {
      if (this.selectedElements[index] !== void 0) {
        const elm = this.selectedElements[index];
        if (elm.onSelect)
          elm.onSelect();
        if (elm.type === "input-text") {
          if (mouse) {
            if (this.keyboard) {
              if (this.keyboard.visible) {
                this.keyboard.linkedUI = void 0;
                this.keyboard.linkedText = void 0;
                this.keyboard.linkedElement = void 0;
                this.keyboard.visible = false;
              } else {
                this.keyboard.linkedUI = this;
                let name;
                Object.entries(this.config).forEach(([prop, value]) => {
                  if (value == elm)
                    name = prop;
                });
                const y = (0.5 - (elm.position.y + elm.height + this.config.body.padding) / this.config.height) * this.panelSize.height;
                const h = Math.max(this.panelSize.width, this.panelSize.height) / 2;
                this.keyboard.linkedText = this.content[name];
                this.keyboard.linkedName = name;
                this.keyboard.linkedElement = elm;
                this.keyboard.visible = true;
              }
            }
          } else {
            this.keyboard.visible = this.keyboard.visible ? false : true;
          }
        } else {
          this.selectedElements[index] = void 0;
        }
      }
    }
    scroll(index) {
      if (this.selectedElements[index] === void 0) {
        if (this.intersectMesh)
          this.intersectMesh[index].visible = false;
        return;
      }
      if (this.selectedElements[index].overflow !== "scroll")
        return;
      const elm = this.selectedElements[index];
      if (this.selectPressed[index]) {
        const scrollData = this.scrollData[index];
        if (scrollData !== void 0) {
          if (this.intersectMesh) {
            this.intersectMesh[index].visible = true;
            this.intersectMesh[index].position.copy(this.intersects[index].point);
          }
          const rayY = this.getIntersectY(index);
          const offset2 = rayY - scrollData.rayY;
          elm.scrollY = Math.min(Math.max(elm.minScrollY, scrollData.scrollY + offset2), 0);
          this.needsUpdate = true;
        }
      } else {
        if (this.intersectMesh)
          this.intersectMesh[index].visible = false;
      }
    }
    worldToCanvas(pos) {
      this.object.transformPointInverseWorld(this.tmpVec, pos);
      vec3_exports.copy(this.tmpVec1, this.object.scalingWorld);
      vec3_exports.div(this.tmpVec, this.tmpVec, this.tmpVec1);
      const xy = new Float32Array(2);
      xy[0] = (this.tmpVec[0] + 1) / 2 * this.config.width;
      xy[1] = (1 - (this.tmpVec[1] + 1) / 2) * this.config.height;
      return xy;
    }
    handleController(controller, index) {
      if (controller == null)
        return;
      controller.getTranslationWorld(this.tmpVec);
      controller.getForward(this.tmpVec1);
      const intersects = WL.scene.rayCast(this.tmpVec, this.tmpVec1, this.collisionGroup, 100);
      if (intersects.hitCount > 0) {
        intersects.xy = this.worldToCanvas(intersects.locations[0]);
        this.hover(index, intersects.xy);
        this.intersects[index] = intersects;
        this.scroll(index);
      } else {
        this.hover(index);
        this.intersects[index] = void 0;
        this.scroll(index);
      }
    }
    update() {
      if (this.rayLeft)
        this.handleController(this.rayLeft, 0);
      if (this.rayRight)
        this.handleController(this.rayRight, 1);
      if (this.keyboard && this.keyboard.visible)
        this.keyboard.update();
      if (!this.needsUpdate)
        return;
      let context = this.context;
      context.clearRect(0, 0, this.config.width, this.config.height);
      const bgColor = this.config.body.backgroundColor ? this.config.body.backgroundColor : "#000";
      const fontFamily = this.config.body.fontFamily ? this.config.body.fontFamily : "Arial";
      const fontColor = this.config.body.fontColor ? this.config.body.fontColor : "#fff";
      const fontSize = this.config.body.fontSize ? this.config.body.fontSize : 30;
      this.setClip(this.config.body);
      context.fillStyle = bgColor;
      context.fillRect(0, 0, this.config.width, this.config.height);
      Object.entries(this.content).forEach(([name, content]) => {
        const config2 = this.config[name] !== void 0 ? this.config[name] : this.config.body;
        const display = config2.display !== void 0 ? config2.display : "block";
        if (display !== "none") {
          const pos = config2.position !== void 0 ? config2.position : { x: 0, y: 0 };
          const width = config2.width !== void 0 ? config2.width : this.config.width;
          const height = config2.height !== void 0 ? config2.height : this.config.height;
          if (config2.type == "button" && !content.toLowerCase().startsWith("<path>")) {
            if (config2.borderRadius === void 0)
              config2.borderRadius = 6;
            if (config2.textAlign === void 0)
              config2.textAlign = "center";
          }
          this.setClip(config2);
          const svgPath = content.toLowerCase().startsWith("<path>");
          const hover = this.selectedElements[0] !== void 0 && this.selectedElements[0] === config2 || this.selectedElements[1] !== void 0 && this.selectedElements[1] === config2;
          if (config2.backgroundColor !== void 0) {
            if (hover && config2.type == "button" && config2.hover !== void 0) {
              context.fillStyle = config2.hover;
            } else {
              context.fillStyle = config2.backgroundColor;
            }
            context.fillRect(pos.x, pos.y, width, height);
          }
          if (config2.type == "text" || config2.type == "button" || config2.type == "input-text") {
            let stroke = false;
            if (hover) {
              if (!svgPath && config2.type == "button") {
                context.fillStyle = config2.fontColor !== void 0 ? config2.fontColor : fontColor;
              } else {
                context.fillStyle = config2.hover !== void 0 ? config2.hover : config2.fontColor !== void 0 ? config2.fontColor : fontColor;
              }
              stroke = config2.hover === void 0;
            } else {
              context.fillStyle = config2.fontColor !== void 0 ? config2.fontColor : fontColor;
            }
            if (svgPath) {
              const code = content.toUpperCase().substring(6, content.length - 7);
              context.save();
              context.translate(pos.x, pos.y);
              const path = new Path2D(code);
              context.fill(path);
              context.restore();
            } else {
              this.wrapText(name, content);
            }
            if (stroke) {
              context.beginPath();
              context.strokeStyle = "#fff";
              context.lineWidth = 2;
              context.rect(pos.x, pos.y, width, height);
              context.stroke();
            }
          } else if (config2.type == "img") {
            if (config2.img === void 0) {
              this.loadImage(content).then((img) => {
                console.log(`w: ${img.width} | h: ${img.height}`);
                config2.img = img;
                this.needsUpdate = true;
                this.update();
              }).catch((err) => console.error(err));
            } else {
              const aspect = config2.img.width / config2.img.height;
              const h = width / aspect;
              context.drawImage(config2.img, pos.x, pos.y, width, h);
            }
          }
        }
      });
      if (this.canvasTexture)
        this.canvasTexture.update();
      this.needsUpdate = false;
    }
    loadImage(src) {
      return new Promise((resolve, reject) => {
        const img = new Image();
        img.addEventListener("load", () => resolve(img));
        img.addEventListener("error", (err) => reject(err));
        img.src = src;
      });
    }
    createOffscreenCanvas(w, h) {
      const canvas2 = document.createElement("canvas");
      canvas2.width = w;
      canvas2.height = h;
      return canvas2;
    }
    fillRoundedRect(x, y, w, h, radius) {
      const ctx = this.context;
      ctx.beginPath();
      ctx.moveTo(x + radius, y);
      ctx.lineTo(x + w - radius, y);
      ctx.quadraticCurveTo(x + w, y, x + w, y + radius);
      ctx.lineTo(x + w, y + h - radius);
      ctx.quadraticCurveTo(x + w, y + h, x + w - radius, y + h);
      ctx.lineTo(x + radius, y + h);
      ctx.quadraticCurveTo(x, y + h, x, y + h - radius);
      ctx.lineTo(x, y + radius);
      ctx.quadraticCurveTo(x, y, x + radius, y);
      ctx.closePath();
      ctx.fill();
    }
    lookAt(pos) {
      if (this.mesh === void 0)
        return;
      if (!(pos instanceof Vector3)) {
        console.error("CanvasUI lookAt called parameter not a THREE.Vector3");
        return;
      }
      this.mesh.lookAt(pos);
    }
    get visible() {
      if (this.mesh === void 0)
        return false;
      return this.mesh.active;
    }
    set visible(value) {
      if (this.mesh) {
        this.mesh.active = value;
      }
    }
    get position() {
      if (this.object === void 0)
        return void 0;
      this.object.getTranslationWorld(this.tmpVec);
      return this.tmpVec;
    }
    set position(value) {
      if (this.object === void 0)
        return;
      if (!(value instanceof Float32Array)) {
        console.error("CanvasUI trying to set the object position using a parameter that is not a Float32Array");
        return;
      }
      this.object.setTranslationWorld(value);
    }
    get quaternion() {
      if (this.object === void 0)
        return void 0;
      this.object.getTranslationWorld(this.tmpVec);
      return this.tmpVec;
    }
    set quaternion(value) {
      if (this.mesh === void 0)
        return;
      if (!(value instanceof QUaternion)) {
        console.error("CanvasUI trying to set the object quaternion using a parameter that is not a THREE.Quaternion");
        return;
      }
      this.mesh.quaternion.copy(value);
    }
    wrapText(name, txt) {
      const words = txt.split(" ");
      let line = "";
      const lines = [];
      const config2 = this.config[name] !== void 0 ? this.config[name] : this.config.body;
      const width = config2.width !== void 0 ? config2.width : this.config.width;
      const height = config2.height !== void 0 ? config2.height : this.config.height;
      const pos = config2.position !== void 0 ? config2.position : { x: 0, y: 0 };
      const padding = config2.padding !== void 0 ? config2.padding : this.config.body.padding !== void 0 ? this.config.body.padding : 10;
      const paddingTop = config2.paddingTop !== void 0 ? config2.paddingTop : padding;
      const paddingLeft = config2.paddingLeft !== void 0 ? config2.paddingLeft : padding;
      const paddingBottom = config2.paddingBottom !== void 0 ? config2.paddingBottom : padding;
      const paddingRight = config2.paddingRight !== void 0 ? config2.paddingRight : padding;
      const rect = { x: pos.x + paddingLeft, y: pos.y + paddingTop, width: width - paddingLeft - paddingRight, height: height - paddingTop - paddingBottom };
      const textAlign = config2.textAlign !== void 0 ? config2.textAlign : this.config.body.textAlign !== void 0 ? this.config.body.textAlign : "left";
      const fontSize = config2.fontSize !== void 0 ? config2.fontSize : this.config.body.fontSize !== void 0 ? this.config.body.fontSize : 30;
      const fontFamily = config2.fontFamily !== void 0 ? config2.fontFamily : this.config.body.fontFamily !== void 0 ? this.config.body.fontFamily : "Arial";
      const leading = config2.leading !== void 0 ? config2.leading : this.config.body.leading !== void 0 ? this.config.body.leading : 8;
      const lineHeight = fontSize + leading;
      const context = this.context;
      context.textAlign = textAlign;
      context.font = `${fontSize}px '${fontFamily}'`;
      words.forEach(function(word) {
        let testLine = words.length > 1 ? `${line}${word} ` : word;
        let metrics = context.measureText(testLine);
        if (metrics.width > rect.width && word.length > 1) {
          if (line.length == 0 && metrics.width > rect.width) {
            while (metrics.width > rect.width) {
              let count = 0;
              do {
                count++;
                testLine = word.substr(0, count);
                metrics = context.measureText(testLine);
              } while (metrics.width < rect.width && count < word.length - 1);
              count--;
              testLine = word.substr(0, count);
              lines.push(testLine);
              word = word.substr(count);
              if (count <= 1)
                break;
              metrics = context.measureText(word);
            }
            if (word != "")
              lines.push(word);
          } else {
            lines.push(line);
            line = `${word} `;
          }
        } else {
          line = testLine;
        }
      });
      if (line != "")
        lines.push(line);
      const textHeight = lines.length * lineHeight;
      let scrollY = 0;
      if (textHeight > rect.height && config2.overflow === "scroll") {
        if (config2.scrollY === void 0)
          config2.scrollY = 0;
        const fontColor = config2.fontColor !== void 0 ? config2.fontColor : this.config.body.fontColor;
        context.fillStyle = "#aaa";
        this.fillRoundedRect(pos.x + width - 12, pos.y, 12, height, 6);
        context.fillStyle = "#666";
        const scale6 = rect.height / textHeight;
        const thumbHeight = scale6 * height;
        const thumbY = -config2.scrollY * scale6;
        this.fillRoundedRect(pos.x + width - 12, pos.y + thumbY, 12, thumbHeight, 6);
        context.fillStyle = fontColor;
        scrollY = config2.scrollY;
        config2.minScrollY = rect.height - textHeight;
      }
      let y = scrollY + rect.y + fontSize / 2;
      let x;
      switch (textAlign) {
        case "center":
          x = rect.x + rect.width / 2;
          break;
        case "right":
          x = rect.x + rect.width;
          break;
        default:
          x = rect.x;
          break;
      }
      lines.forEach((line2) => {
        if (y + lineHeight > 0)
          context.fillText(line2, x, y);
        y += lineHeight;
      });
    }
  };

  // cache/js/_editor_index.js
  _registerEditor(dist_exports);
  _registerEditor(CanvasUI_exports);
  _registerEditor(CanvasUI2_exports);
  _registerEditor(DayNight_exports);
  _registerEditor(bullet_physics_exports);
  _registerEditor(bullet_spawner_exports);
  _registerEditor(button_exports);
  _registerEditor(enemy_spawner_exports);
  _registerEditor(game_exports);
  _registerEditor(level_tracker_exports);
  _registerEditor(projectile_physics_exports);
  _registerEditor(projectile_spawner_exports);
  _registerEditor(ship_exports);
  _registerEditor(sun_movement_exports);
  _registerEditor(turret_aimer_exports);
  _registerEditor(turret_spawner_exports);
  _registerEditor(uiHandler_exports);
  _registerEditor(uiHandler2_exports);
  _registerEditor(waypoint_movement_exports);
})();
/*! Bundled license information:

howler/dist/howler.js:
  (*!
   *  howler.js v2.2.4
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
  (*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.2.4
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2hvd2xlci9kaXN0L2hvd2xlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvcHJvcGVydHkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L2RlY29yYXRvcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3V0aWxzL29iamVjdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvdXRpbHMvZXZlbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3dvbmRlcmxhbmQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3V0aWxzL2JpdHNldC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvdXRpbHMvbG9nZ2VyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9hcGkvZGlzdC93YXNtLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvOHRod2FsbC1jYW1lcmEuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC91dGlscy93ZWJ4ci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2FuY2hvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2N1cnNvci10YXJnZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vY29tbW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0NC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9xdWF0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vdmVjNC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9xdWF0Mi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2hpdC10ZXN0LWxvY2F0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvY3Vyc29yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvZGVidWctb2JqZWN0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvZGV2aWNlLW9yaWVudGF0aW9uLWxvb2suanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9maW5nZXItY3Vyc29yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvZml4ZWQtZm92ZWF0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaGFuZC10cmFja2luZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2hvd2xlci1hdWRpby1saXN0ZW5lci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2hvd2xlci1hdWRpby1zb3VyY2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC91dGlscy91dGlscy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2ltYWdlLXRleHR1cmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9tb3VzZS1sb29rLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvcGxheWVyLWhlaWdodC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3RhcmdldC1mcmFtZXJhdGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC90ZWxlcG9ydC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3RyYWlsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvdHdvLWpvaW50LWlrLXNvbHZlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3ZpZGVvLXRleHR1cmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC92ci1tb2RlLWFjdGl2ZS1zd2l0Y2guanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9wbGFuZS1kZXRlY3Rpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC92cm0uanMiLCAiLi4vLi4vanMvZ2FtZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3dhc2QtY29udHJvbHMuanMiLCAiLi4vLi4vanMvQ2FudmFzVUkuanMiLCAiLi4vLi4vanMvQ2FudmFzVUkyLmpzIiwgIi4uLy4uL2pzL0RheU5pZ2h0LmpzIiwgIi4uLy4uL2pzL2J1bGxldC1waHlzaWNzLmpzIiwgIi4uLy4uL2pzL2J1bGxldC1zcGF3bmVyLmpzIiwgIi4uLy4uL2pzL2J1dHRvbi5qcyIsICIuLi8uLi9qcy9lbmVteS1zcGF3bmVyLmpzIiwgIi4uLy4uL2pzL3dheXBvaW50LW1vdmVtZW50LmpzIiwgIi4uLy4uL2pzL2xldmVsLXRyYWNrZXIuanMiLCAiLi4vLi4vanMvcHJvamVjdGlsZS1waHlzaWNzLmpzIiwgIi4uLy4uL2pzL3Byb2plY3RpbGUtc3Bhd25lci5qcyIsICIuLi8uLi9qcy9zaGlwLmpzIiwgIi4uLy4uL2pzL3N1bi1tb3ZlbWVudC5qcyIsICIuLi8uLi9qcy90dXJyZXQtYWltZXIuanMiLCAiLi4vLi4vanMvdHVycmV0LXNwYXduZXIuanMiLCAiLi4vLi4vanMvdWlIYW5kbGVyLmpzIiwgIi4uLy4uL2pzL3VpSGFuZGxlcjIuanMiLCAiX2VkaXRvcl9pbmRleC5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyohXHJcbiAqICBob3dsZXIuanMgdjIuMi40XHJcbiAqICBob3dsZXJqcy5jb21cclxuICpcclxuICogIChjKSAyMDEzLTIwMjAsIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xyXG4gKiAgZ29sZGZpcmVzdHVkaW9zLmNvbVxyXG4gKlxyXG4gKiAgTUlUIExpY2Vuc2VcclxuICovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcblxyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLyoqIEdsb2JhbCBNZXRob2RzICoqL1xyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSB0aGUgZ2xvYmFsIGNvbnRyb2xsZXIuIEFsbCBjb250YWluZWQgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBhcHBseVxyXG4gICAqIHRvIGFsbCBzb3VuZHMgdGhhdCBhcmUgY3VycmVudGx5IHBsYXlpbmcgb3Igd2lsbCBiZSBpbiB0aGUgZnV0dXJlLlxyXG4gICAqL1xyXG4gIHZhciBIb3dsZXJHbG9iYWwgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH07XHJcbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZSA9IHtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgZ2xvYmFsIEhvd2xlciBvYmplY3QuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIGEgZ2xvYmFsIElEIGNvdW50ZXIuXHJcbiAgICAgIHNlbGYuX2NvdW50ZXIgPSAxMDAwO1xyXG5cclxuICAgICAgLy8gUG9vbCBvZiB1bmxvY2tlZCBIVE1MNSBBdWRpbyBvYmplY3RzLlxyXG4gICAgICBzZWxmLl9odG1sNUF1ZGlvUG9vbCA9IFtdO1xyXG4gICAgICBzZWxmLmh0bWw1UG9vbFNpemUgPSAxMDtcclxuXHJcbiAgICAgIC8vIEludGVybmFsIHByb3BlcnRpZXMuXHJcbiAgICAgIHNlbGYuX2NvZGVjcyA9IHt9O1xyXG4gICAgICBzZWxmLl9ob3dscyA9IFtdO1xyXG4gICAgICBzZWxmLl9tdXRlZCA9IGZhbHNlO1xyXG4gICAgICBzZWxmLl92b2x1bWUgPSAxO1xyXG4gICAgICBzZWxmLl9jYW5QbGF5RXZlbnQgPSAnY2FucGxheXRocm91Z2gnO1xyXG4gICAgICBzZWxmLl9uYXZpZ2F0b3IgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm5hdmlnYXRvcikgPyB3aW5kb3cubmF2aWdhdG9yIDogbnVsbDtcclxuXHJcbiAgICAgIC8vIFB1YmxpYyBwcm9wZXJ0aWVzLlxyXG4gICAgICBzZWxmLm1hc3RlckdhaW4gPSBudWxsO1xyXG4gICAgICBzZWxmLm5vQXVkaW8gPSBmYWxzZTtcclxuICAgICAgc2VsZi51c2luZ1dlYkF1ZGlvID0gdHJ1ZTtcclxuICAgICAgc2VsZi5hdXRvU3VzcGVuZCA9IHRydWU7XHJcbiAgICAgIHNlbGYuY3R4ID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHRoZSBhdXRvIGF1ZGlvIHVubG9ja2VyLlxyXG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSB0cnVlO1xyXG5cclxuICAgICAgLy8gU2V0dXAgdGhlIHZhcmlvdXMgc3RhdGUgdmFsdWVzIGZvciBnbG9iYWwgdHJhY2tpbmcuXHJcbiAgICAgIHNlbGYuX3NldHVwKCk7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQvc2V0IHRoZSBnbG9iYWwgdm9sdW1lIGZvciBhbGwgc291bmRzLlxyXG4gICAgICogQHBhcmFtICB7RmxvYXR9IHZvbCBWb2x1bWUgZnJvbSAwLjAgdG8gMS4wLlxyXG4gICAgICogQHJldHVybiB7SG93bGVyL0Zsb2F0fSAgICAgUmV0dXJucyBzZWxmIG9yIGN1cnJlbnQgdm9sdW1lLlxyXG4gICAgICovXHJcbiAgICB2b2x1bWU6IGZ1bmN0aW9uKHZvbCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG4gICAgICB2b2wgPSBwYXJzZUZsb2F0KHZvbCk7XHJcblxyXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cclxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xyXG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0eXBlb2Ygdm9sICE9PSAndW5kZWZpbmVkJyAmJiB2b2wgPj0gMCAmJiB2b2wgPD0gMSkge1xyXG4gICAgICAgIHNlbGYuX3ZvbHVtZSA9IHZvbDtcclxuXHJcbiAgICAgICAgLy8gRG9uJ3QgdXBkYXRlIGFueSBvZiB0aGUgbm9kZXMgaWYgd2UgYXJlIG11dGVkLlxyXG4gICAgICAgIGlmIChzZWxmLl9tdXRlZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBXaGVuIHVzaW5nIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIGFkanVzdCB0aGUgbWFzdGVyIGdhaW4uXHJcbiAgICAgICAgaWYgKHNlbGYudXNpbmdXZWJBdWRpbykge1xyXG4gICAgICAgICAgc2VsZi5tYXN0ZXJHYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbmQgY2hhbmdlIHZvbHVtZSBmb3IgYWxsIEhUTUw1IGF1ZGlvIG5vZGVzLlxyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cclxuICAgICAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2hvd2xzW2ldLl9nZXRTb3VuZElkcygpO1xyXG5cclxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoYW5nZSB0aGUgdm9sdW1lcy5cclxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS52b2x1bWUgPSBzb3VuZC5fdm9sdW1lICogdm9sO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmLl92b2x1bWU7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIG11dGluZyBhbmQgdW5tdXRpbmcgZ2xvYmFsbHkuXHJcbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBtdXRlZCBJcyBtdXRlZCBvciBub3QuXHJcbiAgICAgKi9cclxuICAgIG11dGU6IGZ1bmN0aW9uKG11dGVkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XHJcblxyXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cclxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xyXG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGYuX211dGVkID0gbXV0ZWQ7XHJcblxyXG4gICAgICAvLyBXaXRoIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIG11dGUgdGhlIG1hc3RlciBnYWluLlxyXG4gICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvKSB7XHJcbiAgICAgICAgc2VsZi5tYXN0ZXJHYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUobXV0ZWQgPyAwIDogc2VsZi5fdm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGFuZCBtdXRlIGFsbCBIVE1MNSBBdWRpbyBub2Rlcy5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgIC8vIEdldCBhbGwgb2YgdGhlIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXHJcbiAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XHJcblxyXG4gICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIG1hcmsgdGhlIGF1ZGlvIG5vZGUgYXMgbXV0ZWQuXHJcbiAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLm11dGVkID0gKG11dGVkKSA/IHRydWUgOiBzb3VuZC5fbXV0ZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBzdG9wcGluZyBhbGwgc291bmRzIGdsb2JhbGx5LlxyXG4gICAgICovXHJcbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuXHJcbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgSG93bHMgYW5kIHN0b3AgdGhlbS5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgc2VsZi5faG93bHNbaV0uc3RvcCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVbmxvYWQgYW5kIGRlc3Ryb3kgYWxsIGN1cnJlbnRseSBsb2FkZWQgSG93bCBvYmplY3RzLlxyXG4gICAgICogQHJldHVybiB7SG93bGVyfVxyXG4gICAgICovXHJcbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG5cclxuICAgICAgZm9yICh2YXIgaT1zZWxmLl9ob3dscy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XHJcbiAgICAgICAgc2VsZi5faG93bHNbaV0udW5sb2FkKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBBdWRpb0NvbnRleHQgdG8gbWFrZSBzdXJlIGl0IGlzIGZ1bGx5IHJlc2V0LlxyXG4gICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvICYmIHNlbGYuY3R4ICYmIHR5cGVvZiBzZWxmLmN0eC5jbG9zZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBzZWxmLmN0eC5jbG9zZSgpO1xyXG4gICAgICAgIHNlbGYuY3R4ID0gbnVsbDtcclxuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBmb3IgY29kZWMgc3VwcG9ydCBvZiBzcGVjaWZpYyBleHRlbnNpb24uXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV4dCBBdWRpbyBmaWxlIGV4dGVudGlvbi5cclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGNvZGVjczogZnVuY3Rpb24oZXh0KSB7XHJcbiAgICAgIHJldHVybiAodGhpcyB8fCBIb3dsZXIpLl9jb2RlY3NbZXh0LnJlcGxhY2UoL154LS8sICcnKV07XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0dXAgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cclxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cclxuICAgICAqL1xyXG4gICAgX3NldHVwOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuXHJcbiAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBzdXNwZW5kL3Jlc3VtZSBzdGF0ZSBvZiB0aGUgQXVkaW9Db250ZXh0LlxyXG4gICAgICBzZWxmLnN0YXRlID0gc2VsZi5jdHggPyBzZWxmLmN0eC5zdGF0ZSB8fCAnc3VzcGVuZGVkJyA6ICdzdXNwZW5kZWQnO1xyXG5cclxuICAgICAgLy8gQXV0b21hdGljYWxseSBiZWdpbiB0aGUgMzAtc2Vjb25kIHN1c3BlbmQgcHJvY2Vzc1xyXG4gICAgICBzZWxmLl9hdXRvU3VzcGVuZCgpO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgYXVkaW8gaXMgYXZhaWxhYmxlLlxyXG4gICAgICBpZiAoIXNlbGYudXNpbmdXZWJBdWRpbykge1xyXG4gICAgICAgIC8vIE5vIGF1ZGlvIGlzIGF2YWlsYWJsZSBvbiB0aGlzIHN5c3RlbSBpZiBub0F1ZGlvIGlzIHNldCB0byB0cnVlLlxyXG4gICAgICAgIGlmICh0eXBlb2YgQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNhbnBsYXl0aHJvdWdoIGV2ZW50IGlzIGF2YWlsYWJsZS5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXN0Lm9uY2FucGxheXRocm91Z2ggPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoKGUpIHtcclxuICAgICAgICAgICAgc2VsZi5ub0F1ZGlvID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5ub0F1ZGlvID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRlc3QgdG8gbWFrZSBzdXJlIGF1ZGlvIGlzbid0IGRpc2FibGVkIGluIEludGVybmV0IEV4cGxvcmVyLlxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHZhciB0ZXN0ID0gbmV3IEF1ZGlvKCk7XHJcbiAgICAgICAgaWYgKHRlc3QubXV0ZWQpIHtcclxuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7fVxyXG5cclxuICAgICAgLy8gQ2hlY2sgZm9yIHN1cHBvcnRlZCBjb2RlY3MuXHJcbiAgICAgIGlmICghc2VsZi5ub0F1ZGlvKSB7XHJcbiAgICAgICAgc2VsZi5fc2V0dXBDb2RlY3MoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgZm9yIGJyb3dzZXIgc3VwcG9ydCBmb3IgdmFyaW91cyBjb2RlY3MgYW5kIGNhY2hlIHRoZSByZXN1bHRzLlxyXG4gICAgICogQHJldHVybiB7SG93bGVyfVxyXG4gICAgICovXHJcbiAgICBfc2V0dXBDb2RlY3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG4gICAgICB2YXIgYXVkaW9UZXN0ID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIE11c3Qgd3JhcCBpbiBhIHRyeS9jYXRjaCBiZWNhdXNlIElFMTEgaW4gc2VydmVyIG1vZGUgdGhyb3dzIGFuIGVycm9yLlxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF1ZGlvVGVzdCA9ICh0eXBlb2YgQXVkaW8gIT09ICd1bmRlZmluZWQnKSA/IG5ldyBBdWRpbygpIDogbnVsbDtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghYXVkaW9UZXN0IHx8IHR5cGVvZiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIG1wZWdUZXN0ID0gYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcGVnOycpLnJlcGxhY2UoL15ubyQvLCAnJyk7XHJcblxyXG4gICAgICAvLyBPcGVyYSB2ZXJzaW9uIDwzMyBoYXMgbWl4ZWQgTVAzIHN1cHBvcnQsIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGFuZCBibG9jayBpdC5cclxuICAgICAgdmFyIHVhID0gc2VsZi5fbmF2aWdhdG9yID8gc2VsZi5fbmF2aWdhdG9yLnVzZXJBZ2VudCA6ICcnO1xyXG4gICAgICB2YXIgY2hlY2tPcGVyYSA9IHVhLm1hdGNoKC9PUFJcXC8oXFxkKykvZyk7XHJcbiAgICAgIHZhciBpc09sZE9wZXJhID0gKGNoZWNrT3BlcmEgJiYgcGFyc2VJbnQoY2hlY2tPcGVyYVswXS5zcGxpdCgnLycpWzFdLCAxMCkgPCAzMyk7XHJcbiAgICAgIHZhciBjaGVja1NhZmFyaSA9IHVhLmluZGV4T2YoJ1NhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTE7XHJcbiAgICAgIHZhciBzYWZhcmlWZXJzaW9uID0gdWEubWF0Y2goL1ZlcnNpb25cXC8oLio/KSAvKTtcclxuICAgICAgdmFyIGlzT2xkU2FmYXJpID0gKGNoZWNrU2FmYXJpICYmIHNhZmFyaVZlcnNpb24gJiYgcGFyc2VJbnQoc2FmYXJpVmVyc2lvblsxXSwgMTApIDwgMTUpO1xyXG5cclxuICAgICAgc2VsZi5fY29kZWNzID0ge1xyXG4gICAgICAgIG1wMzogISEoIWlzT2xkT3BlcmEgJiYgKG1wZWdUZXN0IHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXAzOycpLnJlcGxhY2UoL15ubyQvLCAnJykpKSxcclxuICAgICAgICBtcGVnOiAhIW1wZWdUZXN0LFxyXG4gICAgICAgIG9wdXM6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cIm9wdXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgb2dnOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgb2dhOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgd2F2OiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3dhdjsgY29kZWNzPVwiMVwiJykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93YXYnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICBhYWM6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICBjYWY6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LWNhZjsnKS5yZXBsYWNlKC9ebm8kLywgJycpLFxyXG4gICAgICAgIG00YTogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LW00YTsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL200YTsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICBtNGI6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1tNGI7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tNGI7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgbXA0OiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxyXG4gICAgICAgIHdlYmE6ICEhKCFpc09sZFNhZmFyaSAmJiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3dlYm07IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSksXHJcbiAgICAgICAgd2VibTogISEoIWlzT2xkU2FmYXJpICYmIGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2VibTsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpKSxcclxuICAgICAgICBkb2xieTogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wNDsgY29kZWNzPVwiZWMtM1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICBmbGFjOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtZmxhYzsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2ZsYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJylcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNvbWUgYnJvd3NlcnMvZGV2aWNlcyB3aWxsIG9ubHkgYWxsb3cgYXVkaW8gdG8gYmUgcGxheWVkIGFmdGVyIGEgdXNlciBpbnRlcmFjdGlvbi5cclxuICAgICAqIEF0dGVtcHQgdG8gYXV0b21hdGljYWxseSB1bmxvY2sgYXVkaW8gb24gdGhlIGZpcnN0IHVzZXIgaW50ZXJhY3Rpb24uXHJcbiAgICAgKiBDb25jZXB0IGZyb206IGh0dHA6Ly9wYXVsYmFrYXVzLmNvbS90dXRvcmlhbHMvaHRtbDUvd2ViLWF1ZGlvLW9uLWlvcy9cclxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cclxuICAgICAqL1xyXG4gICAgX3VubG9ja0F1ZGlvOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuXHJcbiAgICAgIC8vIE9ubHkgcnVuIHRoaXMgaWYgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZCBhbmQgaXQgaGFzbid0IGFscmVhZHkgYmVlbiB1bmxvY2tlZC5cclxuICAgICAgaWYgKHNlbGYuX2F1ZGlvVW5sb2NrZWQgfHwgIXNlbGYuY3R4KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxmLl9hdWRpb1VubG9ja2VkID0gZmFsc2U7XHJcbiAgICAgIHNlbGYuYXV0b1VubG9jayA9IGZhbHNlO1xyXG5cclxuICAgICAgLy8gU29tZSBtb2JpbGUgZGV2aWNlcy9wbGF0Zm9ybXMgaGF2ZSBkaXN0b3J0aW9uIGlzc3VlcyB3aGVuIG9wZW5pbmcvY2xvc2luZyB0YWJzIGFuZC9vciB3ZWIgdmlld3MuXHJcbiAgICAgIC8vIEJ1Z3MgaW4gdGhlIGJyb3dzZXIgKGVzcGVjaWFsbHkgTW9iaWxlIFNhZmFyaSkgY2FuIGNhdXNlIHRoZSBzYW1wbGVSYXRlIHRvIGNoYW5nZSBmcm9tIDQ0MTAwIHRvIDQ4MDAwLlxyXG4gICAgICAvLyBCeSBjYWxsaW5nIEhvd2xlci51bmxvYWQoKSwgd2UgY3JlYXRlIGEgbmV3IEF1ZGlvQ29udGV4dCB3aXRoIHRoZSBjb3JyZWN0IHNhbXBsZVJhdGUuXHJcbiAgICAgIGlmICghc2VsZi5fbW9iaWxlVW5sb2FkZWQgJiYgc2VsZi5jdHguc2FtcGxlUmF0ZSAhPT0gNDQxMDApIHtcclxuICAgICAgICBzZWxmLl9tb2JpbGVVbmxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgc2VsZi51bmxvYWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2NyYXRjaCBidWZmZXIgZm9yIGVuYWJsaW5nIGlPUyB0byBkaXNwb3NlIG9mIHdlYiBhdWRpbyBidWZmZXJzIGNvcnJlY3RseSwgYXMgcGVyOlxyXG4gICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI0MTE5Njg0XHJcbiAgICAgIHNlbGYuX3NjcmF0Y2hCdWZmZXIgPSBzZWxmLmN0eC5jcmVhdGVCdWZmZXIoMSwgMSwgMjIwNTApO1xyXG5cclxuICAgICAgLy8gQ2FsbCB0aGlzIG1ldGhvZCBvbiB0b3VjaCBzdGFydCB0byBjcmVhdGUgYW5kIHBsYXkgYSBidWZmZXIsXHJcbiAgICAgIC8vIHRoZW4gY2hlY2sgaWYgdGhlIGF1ZGlvIGFjdHVhbGx5IHBsYXllZCB0byBkZXRlcm1pbmUgaWZcclxuICAgICAgLy8gYXVkaW8gaGFzIG5vdyBiZWVuIHVubG9ja2VkIG9uIGlPUywgQW5kcm9pZCwgZXRjLlxyXG4gICAgICB2YXIgdW5sb2NrID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIC8vIENyZWF0ZSBhIHBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cyB0aGF0IGNhblxyXG4gICAgICAgIC8vIGJlIHVzZWQgZm9yIHBsYXlpbmcgc291bmRzIHdpdGhvdXQgdXNlciBpbnRlcmFjdGlvbi4gSFRNTDVcclxuICAgICAgICAvLyBBdWRpbyBvYmplY3RzIG11c3QgYmUgaW5kaXZpZHVhbGx5IHVubG9ja2VkLCBhcyBvcHBvc2VkXHJcbiAgICAgICAgLy8gdG8gdGhlIFdlYkF1ZGlvIEFQSSB3aGljaCBvbmx5IG5lZWRzIGEgc2luZ2xlIGFjdGl2YXRpb24uXHJcbiAgICAgICAgLy8gVGhpcyBtdXN0IG9jY3VyIGJlZm9yZSBXZWJBdWRpbyBzZXR1cCBvciB0aGUgc291cmNlLm9uZW5kZWRcclxuICAgICAgICAvLyBldmVudCB3aWxsIG5vdCBmaXJlLlxyXG4gICAgICAgIHdoaWxlIChzZWxmLl9odG1sNUF1ZGlvUG9vbC5sZW5ndGggPCBzZWxmLmh0bWw1UG9vbFNpemUpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBhdWRpb05vZGUgPSBuZXcgQXVkaW8oKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1hcmsgdGhpcyBBdWRpbyBvYmplY3QgYXMgdW5sb2NrZWQgdG8gZW5zdXJlIGl0IGNhbiBnZXQgcmV0dXJuZWRcclxuICAgICAgICAgICAgLy8gdG8gdGhlIHVubG9ja2VkIHBvb2wgd2hlbiByZWxlYXNlZC5cclxuICAgICAgICAgICAgYXVkaW9Ob2RlLl91bmxvY2tlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgdGhlIGF1ZGlvIG5vZGUgdG8gdGhlIHBvb2wuXHJcbiAgICAgICAgICAgIHNlbGYuX3JlbGVhc2VIdG1sNUF1ZGlvKGF1ZGlvTm9kZSk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFueSBhc3NpZ25lZCBhdWRpbyBub2RlcyBhbmQgdW5sb2NrIHRoZW0uXHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoIXNlbGYuX2hvd2xzW2ldLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxyXG4gICAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgdW5sb2NrIHRoZSBhdWRpbyBub2Rlcy5cclxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbm9kZS5fdW5sb2NrZWQpIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLl91bmxvY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5sb2FkKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGaXggQW5kcm9pZCBjYW4gbm90IHBsYXkgaW4gc3VzcGVuZCBzdGF0ZS5cclxuICAgICAgICBzZWxmLl9hdXRvUmVzdW1lKCk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhbiBlbXB0eSBidWZmZXIuXHJcbiAgICAgICAgdmFyIHNvdXJjZSA9IHNlbGYuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xyXG4gICAgICAgIHNvdXJjZS5idWZmZXIgPSBzZWxmLl9zY3JhdGNoQnVmZmVyO1xyXG4gICAgICAgIHNvdXJjZS5jb25uZWN0KHNlbGYuY3R4LmRlc3RpbmF0aW9uKTtcclxuXHJcbiAgICAgICAgLy8gUGxheSB0aGUgZW1wdHkgYnVmZmVyLlxyXG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlLnN0YXJ0ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgc291cmNlLm5vdGVPbigwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc291cmNlLnN0YXJ0KDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyByZXN1bWUoKSBvbiBhIHN0YWNrIGluaXRpYXRlZCBieSB1c2VyIGdlc3R1cmUgaXMgd2hhdCBhY3R1YWxseSB1bmxvY2tzIHRoZSBhdWRpbyBvbiBBbmRyb2lkIENocm9tZSA+PSA1NS5cclxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuY3R4LnJlc3VtZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgc2VsZi5jdHgucmVzdW1lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXR1cCBhIHRpbWVvdXQgdG8gY2hlY2sgdGhhdCB3ZSBhcmUgdW5sb2NrZWQgb24gdGhlIG5leHQgZXZlbnQgbG9vcC5cclxuICAgICAgICBzb3VyY2Uub25lbmRlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc291cmNlLmRpc2Nvbm5lY3QoMCk7XHJcblxyXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSB1bmxvY2tlZCBzdGF0ZSBhbmQgcHJldmVudCB0aGlzIGNoZWNrIGZyb20gaGFwcGVuaW5nIGFnYWluLlxyXG4gICAgICAgICAgc2VsZi5fYXVkaW9VbmxvY2tlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgLy8gUmVtb3ZlIHRoZSB0b3VjaCBzdGFydCBsaXN0ZW5lci5cclxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB1bmxvY2ssIHRydWUpO1xyXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xyXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1bmxvY2ssIHRydWUpO1xyXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHVubG9jaywgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgLy8gTGV0IGFsbCBzb3VuZHMga25vdyB0aGF0IGF1ZGlvIGhhcyBiZWVuIHVubG9ja2VkLlxyXG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCd1bmxvY2snKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gU2V0dXAgYSB0b3VjaCBzdGFydCBsaXN0ZW5lciB0byBhdHRlbXB0IGFuIHVubG9jayBpbi5cclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHVubG9jaywgdHJ1ZSk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdW5sb2NrLCB0cnVlKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1bmxvY2ssIHRydWUpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdW5sb2NrLCB0cnVlKTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbiB1bmxvY2tlZCBIVE1MNSBBdWRpbyBvYmplY3QgZnJvbSB0aGUgcG9vbC4gSWYgbm9uZSBhcmUgbGVmdCxcclxuICAgICAqIHJldHVybiBhIG5ldyBBdWRpbyBvYmplY3QgYW5kIHRocm93IGEgd2FybmluZy5cclxuICAgICAqIEByZXR1cm4ge0F1ZGlvfSBIVE1MNSBBdWRpbyBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIF9vYnRhaW5IdG1sNUF1ZGlvOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuXHJcbiAgICAgIC8vIFJldHVybiB0aGUgbmV4dCBvYmplY3QgZnJvbSB0aGUgcG9vbCBpZiBvbmUgZXhpc3RzLlxyXG4gICAgICBpZiAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuX2h0bWw1QXVkaW9Qb29sLnBvcCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLy5DaGVjayBpZiB0aGUgYXVkaW8gaXMgbG9ja2VkIGFuZCB0aHJvdyBhIHdhcm5pbmcuXHJcbiAgICAgIHZhciB0ZXN0UGxheSA9IG5ldyBBdWRpbygpLnBsYXkoKTtcclxuICAgICAgaWYgKHRlc3RQbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAodGVzdFBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiB0ZXN0UGxheS50aGVuID09PSAnZnVuY3Rpb24nKSkge1xyXG4gICAgICAgIHRlc3RQbGF5LmNhdGNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdIVE1MNSBBdWRpbyBwb29sIGV4aGF1c3RlZCwgcmV0dXJuaW5nIHBvdGVudGlhbGx5IGxvY2tlZCBhdWRpbyBvYmplY3QuJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBuZXcgQXVkaW8oKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYW4gYWN0aXZhdGVkIEhUTUw1IEF1ZGlvIG9iamVjdCB0byB0aGUgcG9vbC5cclxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cclxuICAgICAqL1xyXG4gICAgX3JlbGVhc2VIdG1sNUF1ZGlvOiBmdW5jdGlvbihhdWRpbykge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG5cclxuICAgICAgLy8gRG9uJ3QgYWRkIGF1ZGlvIHRvIHRoZSBwb29sIGlmIHdlIGRvbid0IGtub3cgaWYgaXQgaGFzIGJlZW4gdW5sb2NrZWQuXHJcbiAgICAgIGlmIChhdWRpby5fdW5sb2NrZWQpIHtcclxuICAgICAgICBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wdXNoKGF1ZGlvKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXV0b21hdGljYWxseSBzdXNwZW5kIHRoZSBXZWIgQXVkaW8gQXVkaW9Db250ZXh0IGFmdGVyIG5vIHNvdW5kIGhhcyBwbGF5ZWQgZm9yIDMwIHNlY29uZHMuXHJcbiAgICAgKiBUaGlzIHNhdmVzIHByb2Nlc3NpbmcvZW5lcmd5IGFuZCBmaXhlcyB2YXJpb3VzIGJyb3dzZXItc3BlY2lmaWMgYnVncyB3aXRoIGF1ZGlvIGdldHRpbmcgc3R1Y2suXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XHJcbiAgICAgKi9cclxuICAgIF9hdXRvU3VzcGVuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIGlmICghc2VsZi5hdXRvU3VzcGVuZCB8fCAhc2VsZi5jdHggfHwgdHlwZW9mIHNlbGYuY3R4LnN1c3BlbmQgPT09ICd1bmRlZmluZWQnIHx8ICFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHNvdW5kcyBhcmUgcGxheWluZy5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuX2hvd2xzW2ldLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlbGYuX2hvd2xzW2ldLl9zb3VuZHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fc291bmRzW2pdLl9wYXVzZWQpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHNlbGYuX3N1c3BlbmRUaW1lcikge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBubyBzb3VuZCBoYXMgcGxheWVkIGFmdGVyIDMwIHNlY29uZHMsIHN1c3BlbmQgdGhlIGNvbnRleHQuXHJcbiAgICAgIHNlbGYuX3N1c3BlbmRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCFzZWxmLmF1dG9TdXNwZW5kKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xyXG4gICAgICAgIHNlbGYuc3RhdGUgPSAnc3VzcGVuZGluZyc7XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSB1cGRhdGluZyB0aGUgc3RhdGUgb2YgdGhlIGF1ZGlvIGNvbnRleHQgYWZ0ZXIgc3VzcGVuZGluZy5cclxuICAgICAgICB2YXIgaGFuZGxlU3VzcGVuc2lvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5zdGF0ZSA9ICdzdXNwZW5kZWQnO1xyXG5cclxuICAgICAgICAgIGlmIChzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHNlbGYuX3Jlc3VtZUFmdGVyU3VzcGVuZDtcclxuICAgICAgICAgICAgc2VsZi5fYXV0b1Jlc3VtZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEVpdGhlciB0aGUgc3RhdGUgZ2V0cyBzdXNwZW5kZWQgb3IgaXQgaXMgaW50ZXJydXB0ZWQuXHJcbiAgICAgICAgLy8gRWl0aGVyIHdheSwgd2UgbmVlZCB0byB1cGRhdGUgdGhlIHN0YXRlIHRvIHN1c3BlbmRlZC5cclxuICAgICAgICBzZWxmLmN0eC5zdXNwZW5kKCkudGhlbihoYW5kbGVTdXNwZW5zaW9uLCBoYW5kbGVTdXNwZW5zaW9uKTtcclxuICAgICAgfSwgMzAwMDApO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXV0b21hdGljYWxseSByZXN1bWUgdGhlIFdlYiBBdWRpbyBBdWRpb0NvbnRleHQgd2hlbiBhIG5ldyBzb3VuZCBpcyBwbGF5ZWQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XHJcbiAgICAgKi9cclxuICAgIF9hdXRvUmVzdW1lOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKCFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHgucmVzdW1lID09PSAndW5kZWZpbmVkJyB8fCAhSG93bGVyLnVzaW5nV2ViQXVkaW8pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSAncnVubmluZycgJiYgc2VsZi5jdHguc3RhdGUgIT09ICdpbnRlcnJ1cHRlZCcgJiYgc2VsZi5fc3VzcGVuZFRpbWVyKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3N1c3BlbmRUaW1lcik7XHJcbiAgICAgICAgc2VsZi5fc3VzcGVuZFRpbWVyID0gbnVsbDtcclxuICAgICAgfSBlbHNlIGlmIChzZWxmLnN0YXRlID09PSAnc3VzcGVuZGVkJyB8fCBzZWxmLnN0YXRlID09PSAncnVubmluZycgJiYgc2VsZi5jdHguc3RhdGUgPT09ICdpbnRlcnJ1cHRlZCcpIHtcclxuICAgICAgICBzZWxmLmN0eC5yZXN1bWUoKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5zdGF0ZSA9ICdydW5uaW5nJztcclxuXHJcbiAgICAgICAgICAvLyBFbWl0IHRvIGFsbCBIb3dscyB0aGF0IHRoZSBhdWRpbyBoYXMgcmVzdW1lZC5cclxuICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzZWxmLl9ob3dsc1tpXS5fZW1pdCgncmVzdW1lJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChzZWxmLl9zdXNwZW5kVGltZXIpIHtcclxuICAgICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xyXG4gICAgICAgICAgc2VsZi5fc3VzcGVuZFRpbWVyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5zdGF0ZSA9PT0gJ3N1c3BlbmRpbmcnKSB7XHJcbiAgICAgICAgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gU2V0dXAgdGhlIGdsb2JhbCBhdWRpbyBjb250cm9sbGVyLlxyXG4gIHZhciBIb3dsZXIgPSBuZXcgSG93bGVyR2xvYmFsKCk7XHJcblxyXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhbiBhdWRpbyBncm91cCBjb250cm9sbGVyLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxyXG4gICAqL1xyXG4gIHZhciBIb3dsID0gZnVuY3Rpb24obykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIFRocm93IGFuIGVycm9yIGlmIG5vIHNvdXJjZSBpcyBwcm92aWRlZC5cclxuICAgIGlmICghby5zcmMgfHwgby5zcmMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGFycmF5IG9mIHNvdXJjZSBmaWxlcyBtdXN0IGJlIHBhc3NlZCB3aXRoIGFueSBuZXcgSG93bC4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGYuaW5pdChvKTtcclxuICB9O1xyXG4gIEhvd2wucHJvdG90eXBlID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IEhvd2wgZ3JvdXAgb2JqZWN0LlxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24obykge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cclxuICAgICAgaWYgKCFIb3dsZXIuY3R4KSB7XHJcbiAgICAgICAgc2V0dXBBdWRpb0NvbnRleHQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2V0dXAgdXNlci1kZWZpbmVkIGRlZmF1bHQgcHJvcGVydGllcy5cclxuICAgICAgc2VsZi5fYXV0b3BsYXkgPSBvLmF1dG9wbGF5IHx8IGZhbHNlO1xyXG4gICAgICBzZWxmLl9mb3JtYXQgPSAodHlwZW9mIG8uZm9ybWF0ICE9PSAnc3RyaW5nJykgPyBvLmZvcm1hdCA6IFtvLmZvcm1hdF07XHJcbiAgICAgIHNlbGYuX2h0bWw1ID0gby5odG1sNSB8fCBmYWxzZTtcclxuICAgICAgc2VsZi5fbXV0ZWQgPSBvLm11dGUgfHwgZmFsc2U7XHJcbiAgICAgIHNlbGYuX2xvb3AgPSBvLmxvb3AgfHwgZmFsc2U7XHJcbiAgICAgIHNlbGYuX3Bvb2wgPSBvLnBvb2wgfHwgNTtcclxuICAgICAgc2VsZi5fcHJlbG9hZCA9ICh0eXBlb2Ygby5wcmVsb2FkID09PSAnYm9vbGVhbicgfHwgby5wcmVsb2FkID09PSAnbWV0YWRhdGEnKSA/IG8ucHJlbG9hZCA6IHRydWU7XHJcbiAgICAgIHNlbGYuX3JhdGUgPSBvLnJhdGUgfHwgMTtcclxuICAgICAgc2VsZi5fc3ByaXRlID0gby5zcHJpdGUgfHwge307XHJcbiAgICAgIHNlbGYuX3NyYyA9ICh0eXBlb2Ygby5zcmMgIT09ICdzdHJpbmcnKSA/IG8uc3JjIDogW28uc3JjXTtcclxuICAgICAgc2VsZi5fdm9sdW1lID0gby52b2x1bWUgIT09IHVuZGVmaW5lZCA/IG8udm9sdW1lIDogMTtcclxuICAgICAgc2VsZi5feGhyID0ge1xyXG4gICAgICAgIG1ldGhvZDogby54aHIgJiYgby54aHIubWV0aG9kID8gby54aHIubWV0aG9kIDogJ0dFVCcsXHJcbiAgICAgICAgaGVhZGVyczogby54aHIgJiYgby54aHIuaGVhZGVycyA/IG8ueGhyLmhlYWRlcnMgOiBudWxsLFxyXG4gICAgICAgIHdpdGhDcmVkZW50aWFsczogby54aHIgJiYgby54aHIud2l0aENyZWRlbnRpYWxzID8gby54aHIud2l0aENyZWRlbnRpYWxzIDogZmFsc2UsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBTZXR1cCBhbGwgb3RoZXIgZGVmYXVsdCBwcm9wZXJ0aWVzLlxyXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IDA7XHJcbiAgICAgIHNlbGYuX3N0YXRlID0gJ3VubG9hZGVkJztcclxuICAgICAgc2VsZi5fc291bmRzID0gW107XHJcbiAgICAgIHNlbGYuX2VuZFRpbWVycyA9IHt9O1xyXG4gICAgICBzZWxmLl9xdWV1ZSA9IFtdO1xyXG4gICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xyXG5cclxuICAgICAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzLlxyXG4gICAgICBzZWxmLl9vbmVuZCA9IG8ub25lbmQgPyBbe2ZuOiBvLm9uZW5kfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25mYWRlID0gby5vbmZhZGUgPyBbe2ZuOiBvLm9uZmFkZX1dIDogW107XHJcbiAgICAgIHNlbGYuX29ubG9hZCA9IG8ub25sb2FkID8gW3tmbjogby5vbmxvYWR9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbmxvYWRlcnJvciA9IG8ub25sb2FkZXJyb3IgPyBbe2ZuOiBvLm9ubG9hZGVycm9yfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25wbGF5ZXJyb3IgPSBvLm9ucGxheWVycm9yID8gW3tmbjogby5vbnBsYXllcnJvcn1dIDogW107XHJcbiAgICAgIHNlbGYuX29ucGF1c2UgPSBvLm9ucGF1c2UgPyBbe2ZuOiBvLm9ucGF1c2V9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnBsYXkgPSBvLm9ucGxheSA/IFt7Zm46IG8ub25wbGF5fV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25zdG9wID0gby5vbnN0b3AgPyBbe2ZuOiBvLm9uc3RvcH1dIDogW107XHJcbiAgICAgIHNlbGYuX29ubXV0ZSA9IG8ub25tdXRlID8gW3tmbjogby5vbm11dGV9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnZvbHVtZSA9IG8ub252b2x1bWUgPyBbe2ZuOiBvLm9udm9sdW1lfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25yYXRlID0gby5vbnJhdGUgPyBbe2ZuOiBvLm9ucmF0ZX1dIDogW107XHJcbiAgICAgIHNlbGYuX29uc2VlayA9IG8ub25zZWVrID8gW3tmbjogby5vbnNlZWt9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnVubG9jayA9IG8ub251bmxvY2sgPyBbe2ZuOiBvLm9udW5sb2NrfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25yZXN1bWUgPSBbXTtcclxuXHJcbiAgICAgIC8vIFdlYiBBdWRpbyBvciBIVE1MNSBBdWRpbz9cclxuICAgICAgc2VsZi5fd2ViQXVkaW8gPSBIb3dsZXIudXNpbmdXZWJBdWRpbyAmJiAhc2VsZi5faHRtbDU7XHJcblxyXG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IHRyeSB0byBlbmFibGUgYXVkaW8uXHJcbiAgICAgIGlmICh0eXBlb2YgSG93bGVyLmN0eCAhPT0gJ3VuZGVmaW5lZCcgJiYgSG93bGVyLmN0eCAmJiBIb3dsZXIuYXV0b1VubG9jaykge1xyXG4gICAgICAgIEhvd2xlci5fdW5sb2NrQXVkaW8oKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gS2VlcCB0cmFjayBvZiB0aGlzIEhvd2wgZ3JvdXAgaW4gdGhlIGdsb2JhbCBjb250cm9sbGVyLlxyXG4gICAgICBIb3dsZXIuX2hvd2xzLnB1c2goc2VsZik7XHJcblxyXG4gICAgICAvLyBJZiB0aGV5IHNlbGVjdGVkIGF1dG9wbGF5LCBhZGQgYSBwbGF5IGV2ZW50IHRvIHRoZSBsb2FkIHF1ZXVlLlxyXG4gICAgICBpZiAoc2VsZi5fYXV0b3BsYXkpIHtcclxuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICAgIGV2ZW50OiAncGxheScsXHJcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLnBsYXkoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTG9hZCB0aGUgc291cmNlIGZpbGUgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXHJcbiAgICAgIGlmIChzZWxmLl9wcmVsb2FkICYmIHNlbGYuX3ByZWxvYWQgIT09ICdub25lJykge1xyXG4gICAgICAgIHNlbGYubG9hZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIHRoZSBhdWRpbyBmaWxlLlxyXG4gICAgICogQHJldHVybiB7SG93bGVyfVxyXG4gICAgICovXHJcbiAgICBsb2FkOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgdXJsID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIElmIG5vIGF1ZGlvIGlzIGF2YWlsYWJsZSwgcXVpdCBpbW1lZGlhdGVseS5cclxuICAgICAgaWYgKEhvd2xlci5ub0F1ZGlvKSB7XHJcbiAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vIGF1ZGlvIHN1cHBvcnQuJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBNYWtlIHN1cmUgb3VyIHNvdXJjZSBpcyBpbiBhbiBhcnJheS5cclxuICAgICAgaWYgKHR5cGVvZiBzZWxmLl9zcmMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgc2VsZi5fc3JjID0gW3NlbGYuX3NyY107XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgc291cmNlcyBhbmQgcGljayB0aGUgZmlyc3Qgb25lIHRoYXQgaXMgY29tcGF0aWJsZS5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NyYy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBleHQsIHN0cjtcclxuXHJcbiAgICAgICAgaWYgKHNlbGYuX2Zvcm1hdCAmJiBzZWxmLl9mb3JtYXRbaV0pIHtcclxuICAgICAgICAgIC8vIElmIGFuIGV4dGVuc2lvbiB3YXMgc3BlY2lmaWVkLCB1c2UgdGhhdCBpbnN0ZWFkLlxyXG4gICAgICAgICAgZXh0ID0gc2VsZi5fZm9ybWF0W2ldO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvdXJjZSBpcyBhIHN0cmluZy5cclxuICAgICAgICAgIHN0ciA9IHNlbGYuX3NyY1tpXTtcclxuICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm9uLXN0cmluZyBmb3VuZCBpbiBzZWxlY3RlZCBhdWRpbyBzb3VyY2VzIC0gaWdub3JpbmcuJyk7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGZpbGUgZXh0ZW5zaW9uIGZyb20gdGhlIFVSTCBvciBiYXNlNjQgZGF0YSBVUkkuXHJcbiAgICAgICAgICBleHQgPSAvXmRhdGE6YXVkaW9cXC8oW147LF0rKTsvaS5leGVjKHN0cik7XHJcbiAgICAgICAgICBpZiAoIWV4dCkge1xyXG4gICAgICAgICAgICBleHQgPSAvXFwuKFteLl0rKSQvLmV4ZWMoc3RyLnNwbGl0KCc/JywgMSlbMF0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChleHQpIHtcclxuICAgICAgICAgICAgZXh0ID0gZXh0WzFdLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMb2cgYSB3YXJuaW5nIGlmIG5vIGV4dGVuc2lvbiB3YXMgZm91bmQuXHJcbiAgICAgICAgaWYgKCFleHQpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZmlsZSBleHRlbnNpb24gd2FzIGZvdW5kLiBDb25zaWRlciB1c2luZyB0aGUgXCJmb3JtYXRcIiBwcm9wZXJ0eSBvciBzcGVjaWZ5IGFuIGV4dGVuc2lvbi4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgZXh0ZW5zaW9uIGlzIGF2YWlsYWJsZS5cclxuICAgICAgICBpZiAoZXh0ICYmIEhvd2xlci5jb2RlY3MoZXh0KSkge1xyXG4gICAgICAgICAgdXJsID0gc2VsZi5fc3JjW2ldO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXVybCkge1xyXG4gICAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdObyBjb2RlYyBzdXBwb3J0IGZvciBzZWxlY3RlZCBhdWRpbyBzb3VyY2VzLicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZi5fc3JjID0gdXJsO1xyXG4gICAgICBzZWxmLl9zdGF0ZSA9ICdsb2FkaW5nJztcclxuXHJcbiAgICAgIC8vIElmIHRoZSBob3N0aW5nIHBhZ2UgaXMgSFRUUFMgYW5kIHRoZSBzb3VyY2UgaXNuJ3QsXHJcbiAgICAgIC8vIGRyb3AgZG93biB0byBIVE1MNSBBdWRpbyB0byBhdm9pZCBNaXhlZCBDb250ZW50IGVycm9ycy5cclxuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgJiYgdXJsLnNsaWNlKDAsIDUpID09PSAnaHR0cDonKSB7XHJcbiAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYuX3dlYkF1ZGlvID0gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBzb3VuZCBvYmplY3QgYW5kIGFkZCBpdCB0byB0aGUgcG9vbC5cclxuICAgICAgbmV3IFNvdW5kKHNlbGYpO1xyXG5cclxuICAgICAgLy8gTG9hZCBhbmQgZGVjb2RlIHRoZSBhdWRpbyBkYXRhIGZvciBwbGF5YmFjay5cclxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgbG9hZEJ1ZmZlcihzZWxmKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGxheSBhIHNvdW5kIG9yIHJlc3VtZSBwcmV2aW91cyBwbGF5YmFjay5cclxuICAgICAqIEBwYXJhbSAge1N0cmluZy9OdW1iZXJ9IHNwcml0ZSAgIFNwcml0ZSBuYW1lIGZvciBzcHJpdGUgcGxheWJhY2sgb3Igc291bmQgaWQgdG8gY29udGludWUgcHJldmlvdXMuXHJcbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpbnRlcm5hbCBJbnRlcm5hbCBVc2U6IHRydWUgcHJldmVudHMgZXZlbnQgZmlyaW5nLlxyXG4gICAgICogQHJldHVybiB7TnVtYmVyfSAgICAgICAgICBTb3VuZCBJRC5cclxuICAgICAqL1xyXG4gICAgcGxheTogZnVuY3Rpb24oc3ByaXRlLCBpbnRlcm5hbCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBpZCA9IG51bGw7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgaWYgYSBzcHJpdGUsIHNvdW5kIGlkIG9yIG5vdGhpbmcgd2FzIHBhc3NlZFxyXG4gICAgICBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBpZCA9IHNwcml0ZTtcclxuICAgICAgICBzcHJpdGUgPSBudWxsO1xyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzcHJpdGUgPT09ICdzdHJpbmcnICYmIHNlbGYuX3N0YXRlID09PSAnbG9hZGVkJyAmJiAhc2VsZi5fc3ByaXRlW3Nwcml0ZV0pIHtcclxuICAgICAgICAvLyBJZiB0aGUgcGFzc2VkIHNwcml0ZSBkb2Vzbid0IGV4aXN0LCBkbyBub3RoaW5nLlxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzcHJpdGUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0IHNvdW5kIHNwcml0ZSAocGxheXMgdGhlIGZ1bGwgYXVkaW8gbGVuZ3RoKS5cclxuICAgICAgICBzcHJpdGUgPSAnX19kZWZhdWx0JztcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBzaW5nbGUgcGF1c2VkIHNvdW5kIHRoYXQgaXNuJ3QgZW5kZWQuXHJcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMsIHBsYXkgdGhhdCBzb3VuZC4gSWYgbm90LCBjb250aW51ZSBhcyB1c3VhbC5cclxuICAgICAgICBpZiAoIXNlbGYuX3BsYXlMb2NrKSB7XHJcbiAgICAgICAgICB2YXIgbnVtID0gMDtcclxuICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fcGF1c2VkICYmICFzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XHJcbiAgICAgICAgICAgICAgbnVtKys7XHJcbiAgICAgICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbaV0uX2lkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKG51bSA9PT0gMSkge1xyXG4gICAgICAgICAgICBzcHJpdGUgPSBudWxsO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWQgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gR2V0IHRoZSBzZWxlY3RlZCBub2RlLCBvciBnZXQgb25lIGZyb20gdGhlIHBvb2wuXHJcbiAgICAgIHZhciBzb3VuZCA9IGlkID8gc2VsZi5fc291bmRCeUlkKGlkKSA6IHNlbGYuX2luYWN0aXZlU291bmQoKTtcclxuXHJcbiAgICAgIC8vIElmIHRoZSBzb3VuZCBkb2Vzbid0IGV4aXN0LCBkbyBub3RoaW5nLlxyXG4gICAgICBpZiAoIXNvdW5kKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNlbGVjdCB0aGUgc3ByaXRlIGRlZmluaXRpb24uXHJcbiAgICAgIGlmIChpZCAmJiAhc3ByaXRlKSB7XHJcbiAgICAgICAgc3ByaXRlID0gc291bmQuX3Nwcml0ZSB8fCAnX19kZWZhdWx0JztcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIHdlIG11c3Qgd2FpdCB0byBnZXQgdGhlIGF1ZGlvJ3MgZHVyYXRpb24uXHJcbiAgICAgIC8vIFdlIGFsc28gbmVlZCB0byB3YWl0IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBydW4gaW50byByYWNlIGNvbmRpdGlvbnMgd2l0aFxyXG4gICAgICAvLyB0aGUgb3JkZXIgb2YgZnVuY3Rpb24gY2FsbHMuXHJcbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcclxuICAgICAgICAvLyBTZXQgdGhlIHNwcml0ZSB2YWx1ZSBvbiB0aGlzIHNvdW5kLlxyXG4gICAgICAgIHNvdW5kLl9zcHJpdGUgPSBzcHJpdGU7XHJcblxyXG4gICAgICAgIC8vIE1hcmsgdGhpcyBzb3VuZCBhcyBub3QgZW5kZWQgaW4gY2FzZSBhbm90aGVyIHNvdW5kIGlzIHBsYXllZCBiZWZvcmUgdGhpcyBvbmUgbG9hZHMuXHJcbiAgICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgc291bmQgdG8gdGhlIHF1ZXVlIHRvIGJlIHBsYXllZCBvbiBsb2FkLlxyXG4gICAgICAgIHZhciBzb3VuZElkID0gc291bmQuX2lkO1xyXG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcclxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYucGxheShzb3VuZElkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNvdW5kSWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERvbid0IHBsYXkgdGhlIHNvdW5kIGlmIGFuIGlkIHdhcyBwYXNzZWQgYW5kIGl0IGlzIGFscmVhZHkgcGxheWluZy5cclxuICAgICAgaWYgKGlkICYmICFzb3VuZC5fcGF1c2VkKSB7XHJcbiAgICAgICAgLy8gVHJpZ2dlciB0aGUgcGxheSBldmVudCwgaW4gb3JkZXIgdG8ga2VlcCBpdGVyYXRpbmcgdGhyb3VnaCBxdWV1ZS5cclxuICAgICAgICBpZiAoIWludGVybmFsKSB7XHJcbiAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoJ3BsYXknKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzb3VuZC5faWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgQXVkaW9Db250ZXh0IGlzbid0IHN1c3BlbmRlZCwgYW5kIHJlc3VtZSBpdCBpZiBpdCBpcy5cclxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgSG93bGVyLl9hdXRvUmVzdW1lKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERldGVybWluZSBob3cgbG9uZyB0byBwbGF5IGZvciBhbmQgd2hlcmUgdG8gc3RhcnQgcGxheWluZy5cclxuICAgICAgdmFyIHNlZWsgPSBNYXRoLm1heCgwLCBzb3VuZC5fc2VlayA+IDAgPyBzb3VuZC5fc2VlayA6IHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzBdIC8gMTAwMCk7XHJcbiAgICAgIHZhciBkdXJhdGlvbiA9IE1hdGgubWF4KDAsICgoc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc3ByaXRlXVsxXSkgLyAxMDAwKSAtIHNlZWspO1xyXG4gICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xyXG4gICAgICB2YXIgc3RhcnQgPSBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDA7XHJcbiAgICAgIHZhciBzdG9wID0gKHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzBdICsgc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMV0pIC8gMTAwMDtcclxuICAgICAgc291bmQuX3Nwcml0ZSA9IHNwcml0ZTtcclxuXHJcbiAgICAgIC8vIE1hcmsgdGhlIHNvdW5kIGFzIGVuZGVkIGluc3RhbnRseSBzbyB0aGF0IHRoaXMgYXN5bmMgcGxheWJhY2tcclxuICAgICAgLy8gZG9lc24ndCBnZXQgZ3JhYmJlZCBieSBhbm90aGVyIGNhbGwgdG8gcGxheSB3aGlsZSB0aGlzIG9uZSB3YWl0cyB0byBzdGFydC5cclxuICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyBVcGRhdGUgdGhlIHBhcmFtZXRlcnMgb2YgdGhlIHNvdW5kLlxyXG4gICAgICB2YXIgc2V0UGFyYW1zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc291bmQuX3BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHNvdW5kLl9zZWVrID0gc2VlaztcclxuICAgICAgICBzb3VuZC5fc3RhcnQgPSBzdGFydDtcclxuICAgICAgICBzb3VuZC5fc3RvcCA9IHN0b3A7XHJcbiAgICAgICAgc291bmQuX2xvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBFbmQgdGhlIHNvdW5kIGluc3RhbnRseSBpZiBzZWVrIGlzIGF0IHRoZSBlbmQuXHJcbiAgICAgIGlmIChzZWVrID49IHN0b3ApIHtcclxuICAgICAgICBzZWxmLl9lbmRlZChzb3VuZCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBCZWdpbiB0aGUgYWN0dWFsIHBsYXliYWNrLlxyXG4gICAgICB2YXIgbm9kZSA9IHNvdW5kLl9ub2RlO1xyXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBXZWIgQXVkaW8gcGxheWJhY2suXHJcbiAgICAgICAgdmFyIHBsYXlXZWJBdWRpbyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSBmYWxzZTtcclxuICAgICAgICAgIHNldFBhcmFtcygpO1xyXG4gICAgICAgICAgc2VsZi5fcmVmcmVzaEJ1ZmZlcihzb3VuZCk7XHJcblxyXG4gICAgICAgICAgLy8gU2V0dXAgdGhlIHBsYXliYWNrIHBhcmFtcy5cclxuICAgICAgICAgIHZhciB2b2wgPSAoc291bmQuX211dGVkIHx8IHNlbGYuX211dGVkKSA/IDAgOiBzb3VuZC5fdm9sdW1lO1xyXG4gICAgICAgICAgbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKHZvbCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcclxuXHJcbiAgICAgICAgICAvLyBQbGF5IHRoZSBzb3VuZCB1c2luZyB0aGUgc3VwcG9ydGVkIG1ldGhvZC5cclxuICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5idWZmZXJTb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHNvdW5kLl9sb29wID8gbm9kZS5idWZmZXJTb3VyY2Uubm90ZUdyYWluT24oMCwgc2VlaywgODY0MDApIDogbm9kZS5idWZmZXJTb3VyY2Uubm90ZUdyYWluT24oMCwgc2VlaywgZHVyYXRpb24pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc291bmQuX2xvb3AgPyBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCA4NjQwMCkgOiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCBkdXJhdGlvbik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gU3RhcnQgYSBuZXcgdGltZXIgaWYgbm9uZSBpcyBwcmVzZW50LlxyXG4gICAgICAgICAgaWYgKHRpbWVvdXQgIT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xyXG4gICAgICAgICAgICAgIHNlbGYuX2xvYWRRdWV1ZSgpO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoSG93bGVyLnN0YXRlID09PSAncnVubmluZycgJiYgSG93bGVyLmN0eC5zdGF0ZSAhPT0gJ2ludGVycnVwdGVkJykge1xyXG4gICAgICAgICAgcGxheVdlYkF1ZGlvKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgYXVkaW8gY29udGV4dCB0byByZXN1bWUgYmVmb3JlIHBsYXlpbmcuXHJcbiAgICAgICAgICBzZWxmLm9uY2UoJ3Jlc3VtZScsIHBsYXlXZWJBdWRpbyk7XHJcblxyXG4gICAgICAgICAgLy8gQ2FuY2VsIHRoZSBlbmQgdGltZXIuXHJcbiAgICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEZpcmUgdGhpcyB3aGVuIHRoZSBzb3VuZCBpcyByZWFkeSB0byBwbGF5IHRvIGJlZ2luIEhUTUw1IEF1ZGlvIHBsYXliYWNrLlxyXG4gICAgICAgIHZhciBwbGF5SHRtbDUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIG5vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xyXG4gICAgICAgICAgbm9kZS5tdXRlZCA9IHNvdW5kLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCB8fCBIb3dsZXIuX211dGVkIHx8IG5vZGUubXV0ZWQ7XHJcbiAgICAgICAgICBub2RlLnZvbHVtZSA9IHNvdW5kLl92b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XHJcbiAgICAgICAgICBub2RlLnBsYXliYWNrUmF0ZSA9IHNvdW5kLl9yYXRlO1xyXG5cclxuICAgICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGlzIGlzIGNhbGxlZCB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24uXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgcGxheSA9IG5vZGUucGxheSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gU3VwcG9ydCBvbGRlciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgcHJvbWlzZXMsIGFuZCB0aHVzIGRvbid0IGhhdmUgdGhpcyBpc3N1ZS5cclxuICAgICAgICAgICAgaWYgKHBsYXkgJiYgdHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIChwbGF5IGluc3RhbmNlb2YgUHJvbWlzZSB8fCB0eXBlb2YgcGxheS50aGVuID09PSAnZnVuY3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgIC8vIEltcGxlbWVudHMgYSBsb2NrIHRvIHByZXZlbnQgRE9NRXhjZXB0aW9uOiBUaGUgcGxheSgpIHJlcXVlc3Qgd2FzIGludGVycnVwdGVkIGJ5IGEgY2FsbCB0byBwYXVzZSgpLlxyXG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gU2V0IHBhcmFtIHZhbHVlcyBpbW1lZGlhdGVseS5cclxuICAgICAgICAgICAgICBzZXRQYXJhbXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gUmVsZWFzZXMgdGhlIGxvY2sgYW5kIGV4ZWN1dGVzIHF1ZXVlZCBhY3Rpb25zLlxyXG4gICAgICAgICAgICAgIHBsYXlcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICBub2RlLl91bmxvY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdvbiBtb2JpbGUgZGV2aWNlcyBhbmQgQ2hyb21lIHdoZXJlIHBsYXliYWNrIHdhcyBub3Qgd2l0aGluIGEgdXNlciBpbnRlcmFjdGlvbi4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBlbmRlZCBhbmQgcGF1c2VkIHZhbHVlcy5cclxuICAgICAgICAgICAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghaW50ZXJuYWwpIHtcclxuICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIHNldFBhcmFtcygpO1xyXG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTZXR0aW5nIHJhdGUgYmVmb3JlIHBsYXlpbmcgd29uJ3Qgd29yayBpbiBJRSwgc28gd2Ugc2V0IGl0IGFnYWluIGhlcmUuXHJcbiAgICAgICAgICAgIG5vZGUucGxheWJhY2tSYXRlID0gc291bmQuX3JhdGU7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgbm9kZSBpcyBzdGlsbCBwYXVzZWQsIHRoZW4gd2UgY2FuIGFzc3VtZSB0aGVyZSB3YXMgYSBwbGF5YmFjayBpc3N1ZS5cclxuICAgICAgICAgICAgaWYgKG5vZGUucGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xyXG4gICAgICAgICAgICAgICAgJ29uIG1vYmlsZSBkZXZpY2VzIGFuZCBDaHJvbWUgd2hlcmUgcGxheWJhY2sgd2FzIG5vdCB3aXRoaW4gYSB1c2VyIGludGVyYWN0aW9uLicpO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2V0dXAgdGhlIGVuZCB0aW1lciBvbiBzcHJpdGVzIG9yIGxpc3RlbiBmb3IgdGhlIGVuZGVkIGV2ZW50LlxyXG4gICAgICAgICAgICBpZiAoc3ByaXRlICE9PSAnX19kZWZhdWx0JyB8fCBzb3VuZC5fbG9vcCkge1xyXG4gICAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIC8vIEZpcmUgZW5kZWQgb24gdGhpcyBhdWRpbyBub2RlLlxyXG4gICAgICAgICAgICAgICAgc2VsZi5fZW5kZWQoc291bmQpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoaXMgbGlzdGVuZXIuXHJcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCBlcnIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIElmIHRoaXMgaXMgc3RyZWFtaW5nIGF1ZGlvLCBtYWtlIHN1cmUgdGhlIHNyYyBpcyBzZXQgYW5kIGxvYWQgYWdhaW4uXHJcbiAgICAgICAgaWYgKG5vZGUuc3JjID09PSAnZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSaWdBQUFCWFFWWkZabTEwSUJJQUFBQUJBQUVBUkt3QUFJaFlBUUFDQUJBQUFBQmtZWFJoQWdBQUFBRUEnKSB7XHJcbiAgICAgICAgICBub2RlLnNyYyA9IHNlbGYuX3NyYztcclxuICAgICAgICAgIG5vZGUubG9hZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGxheSBpbW1lZGlhdGVseSBpZiByZWFkeSwgb3Igd2FpdCBmb3IgdGhlICdjYW5wbGF5dGhyb3VnaCdlIHZlbnQuXHJcbiAgICAgICAgdmFyIGxvYWRlZE5vUmVhZHlTdGF0ZSA9ICh3aW5kb3cgJiYgd2luZG93LmVqZWN0YSkgfHwgKCFub2RlLnJlYWR5U3RhdGUgJiYgSG93bGVyLl9uYXZpZ2F0b3IuaXNDb2Nvb25KUyk7XHJcbiAgICAgICAgaWYgKG5vZGUucmVhZHlTdGF0ZSA+PSAzIHx8IGxvYWRlZE5vUmVhZHlTdGF0ZSkge1xyXG4gICAgICAgICAgcGxheUh0bWw1KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gdHJ1ZTtcclxuICAgICAgICAgIHNlbGYuX3N0YXRlID0gJ2xvYWRpbmcnO1xyXG5cclxuICAgICAgICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLl9zdGF0ZSA9ICdsb2FkZWQnO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQmVnaW4gcGxheWJhY2suXHJcbiAgICAgICAgICAgIHBsYXlIdG1sNSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2xlYXIgdGhpcyBsaXN0ZW5lci5cclxuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAvLyBDYW5jZWwgdGhlIGVuZCB0aW1lci5cclxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzb3VuZC5faWQ7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGF1c2UgcGxheWJhY2sgYW5kIHNhdmUgY3VycmVudCBwb3NpdGlvbi5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElEIChlbXB0eSB0byBwYXVzZSBhbGwgaW4gZ3JvdXApLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgcGF1c2U6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkIG9yIGEgcGxheSgpIHByb21pc2UgaXMgcGVuZGluZywgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHBhdXNlIHdoZW4gY2FwYWJsZS5cclxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xyXG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgZXZlbnQ6ICdwYXVzZScsXHJcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLnBhdXNlKGlkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIHBhdXNlZC5cclxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuXHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBDbGVhciB0aGUgZW5kIHRpbWVyLlxyXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRzW2ldKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cclxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcclxuXHJcbiAgICAgICAgaWYgKHNvdW5kICYmICFzb3VuZC5fcGF1c2VkKSB7XHJcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc2VlayBwb3NpdGlvbi5cclxuICAgICAgICAgIHNvdW5kLl9zZWVrID0gc2VsZi5zZWVrKGlkc1tpXSk7XHJcbiAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xyXG4gICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgLy8gU3RvcCBjdXJyZW50bHkgcnVubmluZyBmYWRlcy5cclxuICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XHJcblxyXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc291bmQgaGFzIGJlZW4gY3JlYXRlZC5cclxuICAgICAgICAgICAgICBpZiAoIXNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLm5vdGVPZmYoMCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXHJcbiAgICAgICAgICAgICAgc2VsZi5fY2xlYW5CdWZmZXIoc291bmQuX25vZGUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikgfHwgc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmlyZSB0aGUgcGF1c2UgZXZlbnQsIHVubGVzcyBgdHJ1ZWAgaXMgcGFzc2VkIGFzIHRoZSAybmQgYXJndW1lbnQuXHJcbiAgICAgICAgaWYgKCFhcmd1bWVudHNbMV0pIHtcclxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3BhdXNlJywgc291bmQgPyBzb3VuZC5faWQgOiBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3AgcGxheWJhY2sgYW5kIHJlc2V0IHRvIHN0YXJ0LlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgSUQgKGVtcHR5IHRvIHN0b3AgYWxsIGluIGdyb3VwKS5cclxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGludGVybmFsIEludGVybmFsIFVzZTogdHJ1ZSBwcmV2ZW50cyBldmVudCBmaXJpbmcuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBzdG9wOiBmdW5jdGlvbihpZCwgaW50ZXJuYWwpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBzdG9wIHdoZW4gY2FwYWJsZS5cclxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xyXG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgZXZlbnQ6ICdzdG9wJyxcclxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc3RvcChpZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBzdG9wcGVkLlxyXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xyXG5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIENsZWFyIHRoZSBlbmQgdGltZXIuXHJcbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZHNbaV0pO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xyXG5cclxuICAgICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICAgIC8vIFJlc2V0IHRoZSBzZWVrIHBvc2l0aW9uLlxyXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzb3VuZC5fc3RhcnQgfHwgMDtcclxuICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XHJcbiAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgLy8gU3RvcCBjdXJyZW50bHkgcnVubmluZyBmYWRlcy5cclxuICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XHJcblxyXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc291bmQncyBBdWRpb0J1ZmZlclNvdXJjZU5vZGUgaGFzIGJlZW4gY3JlYXRlZC5cclxuICAgICAgICAgICAgICBpZiAoc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxyXG4gICAgICAgICAgICAgICAgc2VsZi5fY2xlYW5CdWZmZXIoc291bmQuX25vZGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oc291bmQuX25vZGUuZHVyYXRpb24pIHx8IHNvdW5kLl9ub2RlLmR1cmF0aW9uID09PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lID0gc291bmQuX3N0YXJ0IHx8IDA7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGF1c2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGxpdmUgc3RyZWFtLCBzdG9wIGRvd25sb2FkIG9uY2UgdGhlIGF1ZGlvIGlzIHN0b3BwZWQuXHJcbiAgICAgICAgICAgICAgaWYgKHNvdW5kLl9ub2RlLmR1cmF0aW9uID09PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5fY2xlYXJTb3VuZChzb3VuZC5fbm9kZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xyXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdzdG9wJywgc291bmQuX2lkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIE11dGUvdW5tdXRlIGEgc2luZ2xlIHNvdW5kIG9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxyXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gbXV0ZWQgU2V0IHRvIHRydWUgdG8gbXV0ZSBhbmQgZmFsc2UgdG8gdW5tdXRlLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAgICBUaGUgc291bmQgSUQgdG8gdXBkYXRlIChvbWl0IHRvIG11dGUvdW5tdXRlIGFsbCkuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBtdXRlOiBmdW5jdGlvbihtdXRlZCwgaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBtdXRlIHdoZW4gY2FwYWJsZS5cclxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJ3x8IHNlbGYuX3BsYXlMb2NrKSB7XHJcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgICBldmVudDogJ211dGUnLFxyXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5tdXRlKG11dGVkLCBpZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBhcHBseWluZyBtdXRlL3VubXV0ZSB0byBhbGwgc291bmRzLCB1cGRhdGUgdGhlIGdyb3VwJ3MgdmFsdWUuXHJcbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBtdXRlZCA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICBzZWxmLl9tdXRlZCA9IG11dGVkO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gc2VsZi5fbXV0ZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBtdXRlZC5cclxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuXHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xyXG5cclxuICAgICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICAgIHNvdW5kLl9tdXRlZCA9IG11dGVkO1xyXG5cclxuICAgICAgICAgIC8vIENhbmNlbCBhY3RpdmUgZmFkZSBhbmQgc2V0IHRoZSB2b2x1bWUgdG8gdGhlIGVuZCB2YWx1ZS5cclxuICAgICAgICAgIGlmIChzb3VuZC5faW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgc2VsZi5fc3RvcEZhZGUoc291bmQuX2lkKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzb3VuZC5fdm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgc291bmQuX25vZGUubXV0ZWQgPSBIb3dsZXIuX211dGVkID8gdHJ1ZSA6IG11dGVkO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNlbGYuX2VtaXQoJ211dGUnLCBzb3VuZC5faWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0L3NldCB0aGUgdm9sdW1lIG9mIHRoaXMgc291bmQgb3Igb2YgdGhlIEhvd2wgZ3JvdXAuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cclxuICAgICAqICAgdm9sdW1lKCkgLT4gUmV0dXJucyB0aGUgZ3JvdXAncyB2b2x1bWUgdmFsdWUuXHJcbiAgICAgKiAgIHZvbHVtZShpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHZvbHVtZS5cclxuICAgICAqICAgdm9sdW1lKHZvbCkgLT4gU2V0cyB0aGUgdm9sdW1lIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxyXG4gICAgICogICB2b2x1bWUodm9sLCBpZCkgLT4gU2V0cyB0aGUgdm9sdW1lIG9mIHBhc3NlZCBzb3VuZCBpZC5cclxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXHJcbiAgICAgKi9cclxuICAgIHZvbHVtZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgIHZhciB2b2wsIGlkO1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxyXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAvLyBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBncm91cHMnIHZvbHVtZS5cclxuICAgICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xyXG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxIHx8IGFyZ3MubGVuZ3RoID09PSAyICYmIHR5cGVvZiBhcmdzWzFdID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyB2b2x1bWUuXHJcbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gaWRzLmluZGV4T2YoYXJnc1swXSk7XHJcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcclxuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2b2wgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgdm9sID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcclxuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgb3IgcmV0dXJuIHRoZSBjdXJyZW50IHZvbHVtZS5cclxuICAgICAgdmFyIHNvdW5kO1xyXG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcclxuICAgICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSB2b2x1bWUgd2hlbiBjYXBhYmxlLlxyXG4gICAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCd8fCBzZWxmLl9wbGF5TG9jaykge1xyXG4gICAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgICAgIGV2ZW50OiAndm9sdW1lJyxcclxuICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBzZWxmLnZvbHVtZS5hcHBseShzZWxmLCBhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwIHZvbHVtZS5cclxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIG9uZSBvciBhbGwgdm9sdW1lcy5cclxuICAgICAgICBpZCA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8aWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZFtpXSk7XHJcblxyXG4gICAgICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgICAgIHNvdW5kLl92b2x1bWUgPSB2b2w7XHJcblxyXG4gICAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxyXG4gICAgICAgICAgICBpZiAoIWFyZ3NbMl0pIHtcclxuICAgICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZFtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiAhc291bmQuX211dGVkKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbXV0ZWQpIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS52b2x1bWUgPSB2b2wgKiBIb3dsZXIudm9sdW1lKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3ZvbHVtZScsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5fc291bmRzWzBdO1xyXG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl92b2x1bWUgOiAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGYWRlIGEgY3VycmVudGx5IHBsYXlpbmcgc291bmQgYmV0d2VlbiB0d28gdm9sdW1lcyAoaWYgbm8gaWQgaXMgcGFzc2VkLCBhbGwgc291bmRzIHdpbGwgZmFkZSkuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGZyb20gVGhlIHZhbHVlIHRvIGZhZGUgZnJvbSAoMC4wIHRvIDEuMCkuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRvICAgVGhlIHZvbHVtZSB0byBmYWRlIHRvICgwLjAgdG8gMS4wKS5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAgIFRoZSBzb3VuZCBpZCAob21pdCB0byBmYWRlIGFsbCBzb3VuZHMpLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgZmFkZTogZnVuY3Rpb24oZnJvbSwgdG8sIGxlbiwgaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBmYWRlIHdoZW4gY2FwYWJsZS5cclxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xyXG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgZXZlbnQ6ICdmYWRlJyxcclxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuZmFkZShmcm9tLCB0bywgbGVuLCBpZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIHRvL2Zyb20vbGVuIHZhbHVlcyBhcmUgbnVtYmVycy5cclxuICAgICAgZnJvbSA9IE1hdGgubWluKE1hdGgubWF4KDAsIHBhcnNlRmxvYXQoZnJvbSkpLCAxKTtcclxuICAgICAgdG8gPSBNYXRoLm1pbihNYXRoLm1heCgwLCBwYXJzZUZsb2F0KHRvKSksIDEpO1xyXG4gICAgICBsZW4gPSBwYXJzZUZsb2F0KGxlbik7XHJcblxyXG4gICAgICAvLyBTZXQgdGhlIHZvbHVtZSB0byB0aGUgc3RhcnQgcG9zaXRpb24uXHJcbiAgICAgIHNlbGYudm9sdW1lKGZyb20sIGlkKTtcclxuXHJcbiAgICAgIC8vIEZhZGUgdGhlIHZvbHVtZSBvZiBvbmUgb3IgYWxsIHNvdW5kcy5cclxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhIGxpbmVhciBmYWRlIG9yIGZhbGwgYmFjayB0byB0aW1lb3V0cyB3aXRoIEhUTUw1IEF1ZGlvLlxyXG4gICAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgICAgLy8gU3RvcCB0aGUgcHJldmlvdXMgZmFkZSBpZiBubyBzcHJpdGUgaXMgYmVpbmcgdXNlZCAob3RoZXJ3aXNlLCB2b2x1bWUgaGFuZGxlcyB0aGlzKS5cclxuICAgICAgICAgIGlmICghaWQpIHtcclxuICAgICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRzW2ldKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgV2ViIEF1ZGlvLCBsZXQgdGhlIG5hdGl2ZSBtZXRob2RzIGRvIHRoZSBhY3R1YWwgZmFkZS5cclxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiAhc291bmQuX211dGVkKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IEhvd2xlci5jdHguY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgIHZhciBlbmQgPSBjdXJyZW50VGltZSArIChsZW4gLyAxMDAwKTtcclxuICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IGZyb207XHJcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoZnJvbSwgY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRvLCBlbmQpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNlbGYuX3N0YXJ0RmFkZUludGVydmFsKHNvdW5kLCBmcm9tLCB0bywgbGVuLCBpZHNbaV0sIHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnRzIHRoZSBpbnRlcm5hbCBpbnRlcnZhbCB0byBmYWRlIGEgc291bmQuXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHNvdW5kIFJlZmVyZW5jZSB0byBzb3VuZCB0byBmYWRlLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSB0byAgIFRoZSB2b2x1bWUgdG8gZmFkZSB0byAoMC4wIHRvIDEuMCkuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGxlbiAgVGltZSBpbiBtaWxsaXNlY29uZHMgdG8gZmFkZS5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgdG8gZmFkZS5cclxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGlzR3JvdXAgICBJZiB0cnVlLCBzZXQgdGhlIHZvbHVtZSBvbiB0aGUgZ3JvdXAuXHJcbiAgICAgKi9cclxuICAgIF9zdGFydEZhZGVJbnRlcnZhbDogZnVuY3Rpb24oc291bmQsIGZyb20sIHRvLCBsZW4sIGlkLCBpc0dyb3VwKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHZvbCA9IGZyb207XHJcbiAgICAgIHZhciBkaWZmID0gdG8gLSBmcm9tO1xyXG4gICAgICB2YXIgc3RlcHMgPSBNYXRoLmFicyhkaWZmIC8gMC4wMSk7XHJcbiAgICAgIHZhciBzdGVwTGVuID0gTWF0aC5tYXgoNCwgKHN0ZXBzID4gMCkgPyBsZW4gLyBzdGVwcyA6IGxlbik7XHJcbiAgICAgIHZhciBsYXN0VGljayA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAvLyBTdG9yZSB0aGUgdmFsdWUgYmVpbmcgZmFkZWQgdG8uXHJcbiAgICAgIHNvdW5kLl9mYWRlVG8gPSB0bztcclxuXHJcbiAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIHZhbHVlIG9uIGVhY2ggaW50ZXJ2YWwgdGljay5cclxuICAgICAgc291bmQuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgYmFzZWQgb24gdGhlIHRpbWUgc2luY2UgdGhlIGxhc3QgdGljay5cclxuICAgICAgICB2YXIgdGljayA9IChEYXRlLm5vdygpIC0gbGFzdFRpY2spIC8gbGVuO1xyXG4gICAgICAgIGxhc3RUaWNrID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2b2wgKz0gZGlmZiAqIHRpY2s7XHJcblxyXG4gICAgICAgIC8vIFJvdW5kIHRvIHdpdGhpbiAyIGRlY2ltYWwgcG9pbnRzLlxyXG4gICAgICAgIHZvbCA9IE1hdGgucm91bmQodm9sICogMTAwKSAvIDEwMDtcclxuXHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSB2b2x1bWUgaXMgaW4gdGhlIHJpZ2h0IGJvdW5kcy5cclxuICAgICAgICBpZiAoZGlmZiA8IDApIHtcclxuICAgICAgICAgIHZvbCA9IE1hdGgubWF4KHRvLCB2b2wpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2b2wgPSBNYXRoLm1pbih0bywgdm9sKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoYW5nZSB0aGUgdm9sdW1lLlxyXG4gICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgc291bmQuX3ZvbHVtZSA9IHZvbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi52b2x1bWUodm9sLCBzb3VuZC5faWQsIHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCdzIHZvbHVtZS5cclxuICAgICAgICBpZiAoaXNHcm91cCkge1xyXG4gICAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2hlbiB0aGUgZmFkZSBpcyBjb21wbGV0ZSwgc3RvcCBpdCBhbmQgZmlyZSBldmVudC5cclxuICAgICAgICBpZiAoKHRvIDwgZnJvbSAmJiB2b2wgPD0gdG8pIHx8ICh0byA+IGZyb20gJiYgdm9sID49IHRvKSkge1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChzb3VuZC5faW50ZXJ2YWwpO1xyXG4gICAgICAgICAgc291bmQuX2ludGVydmFsID0gbnVsbDtcclxuICAgICAgICAgIHNvdW5kLl9mYWRlVG8gPSBudWxsO1xyXG4gICAgICAgICAgc2VsZi52b2x1bWUodG8sIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgICBzZWxmLl9lbWl0KCdmYWRlJywgc291bmQuX2lkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIHN0ZXBMZW4pO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEludGVybmFsIG1ldGhvZCB0aGF0IHN0b3BzIHRoZSBjdXJyZW50bHkgcGxheWluZyBmYWRlIHdoZW5cclxuICAgICAqIGEgbmV3IGZhZGUgc3RhcnRzLCB2b2x1bWUgaXMgY2hhbmdlZCBvciB0aGUgc291bmQgaXMgc3RvcHBlZC5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIGlkLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgX3N0b3BGYWRlOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XHJcblxyXG4gICAgICBpZiAoc291bmQgJiYgc291bmQuX2ludGVydmFsKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc291bmQuX2ludGVydmFsKTtcclxuICAgICAgICBzb3VuZC5faW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgICAgIHNlbGYudm9sdW1lKHNvdW5kLl9mYWRlVG8sIGlkKTtcclxuICAgICAgICBzb3VuZC5fZmFkZVRvID0gbnVsbDtcclxuICAgICAgICBzZWxmLl9lbWl0KCdmYWRlJywgaWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQvc2V0IHRoZSBsb29wIHBhcmFtZXRlciBvbiBhIHNvdW5kLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXHJcbiAgICAgKiAgIGxvb3AoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIGxvb3AgdmFsdWUuXHJcbiAgICAgKiAgIGxvb3AoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgbG9vcCB2YWx1ZS5cclxuICAgICAqICAgbG9vcChsb29wKSAtPiBTZXRzIHRoZSBsb29wIHZhbHVlIGZvciBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cclxuICAgICAqICAgbG9vcChsb29wLCBpZCkgLT4gU2V0cyB0aGUgbG9vcCB2YWx1ZSBvZiBwYXNzZWQgc291bmQgaWQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsL0Jvb2xlYW59IFJldHVybnMgc2VsZiBvciBjdXJyZW50IGxvb3AgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIGxvb3A6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICB2YXIgbG9vcCwgaWQsIHNvdW5kO1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgZm9yIGxvb3AgYW5kIGlkLlxyXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAvLyBSZXR1cm4gdGhlIGdyb3UncyBsb29wIHZhbHVlLlxyXG4gICAgICAgIHJldHVybiBzZWxmLl9sb29wO1xyXG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgIGxvb3AgPSBhcmdzWzBdO1xyXG4gICAgICAgICAgc2VsZi5fbG9vcCA9IGxvb3A7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIFJldHVybiB0aGlzIHNvdW5kJ3MgbG9vcCB2YWx1ZS5cclxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XHJcbiAgICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fbG9vcCA6IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgIGxvb3AgPSBhcmdzWzBdO1xyXG4gICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBsb29wZWQuXHJcbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xyXG5cclxuICAgICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICAgIHNvdW5kLl9sb29wID0gbG9vcDtcclxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3AgPSBsb29wO1xyXG4gICAgICAgICAgICBpZiAobG9vcCkge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcclxuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcEVuZCA9IHNvdW5kLl9zdG9wO1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiBwbGF5aW5nLCByZXN0YXJ0IHBsYXliYWNrIHRvIGVuc3VyZSBsb29waW5nIHVwZGF0ZXMuXHJcbiAgICAgICAgICAgICAgaWYgKHNlbGYucGxheWluZyhpZHNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnBhdXNlKGlkc1tpXSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnBsYXkoaWRzW2ldLCB0cnVlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldC9zZXQgdGhlIHBsYXliYWNrIHJhdGUgb2YgYSBzb3VuZC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxyXG4gICAgICogICByYXRlKCkgLT4gUmV0dXJucyB0aGUgZmlyc3Qgc291bmQgbm9kZSdzIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cclxuICAgICAqICAgcmF0ZShpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHBsYXliYWNrIHJhdGUuXHJcbiAgICAgKiAgIHJhdGUocmF0ZSkgLT4gU2V0cyB0aGUgcGxheWJhY2sgcmF0ZSBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cclxuICAgICAqICAgcmF0ZShyYXRlLCBpZCkgLT4gU2V0cyB0aGUgcGxheWJhY2sgcmF0ZSBvZiBwYXNzZWQgc291bmQgaWQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHBsYXliYWNrIHJhdGUuXHJcbiAgICAgKi9cclxuICAgIHJhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICB2YXIgcmF0ZSwgaWQ7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXHJcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIC8vIFdlIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCByYXRlIG9mIHRoZSBmaXJzdCBub2RlLlxyXG4gICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcclxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyByYXRlIHZhbHVlLlxyXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xyXG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xyXG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmF0ZSA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgcmF0ZSA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XHJcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFVwZGF0ZSB0aGUgcGxheWJhY2sgcmF0ZSBvciByZXR1cm4gdGhlIGN1cnJlbnQgdmFsdWUuXHJcbiAgICAgIHZhciBzb3VuZDtcclxuICAgICAgaWYgKHR5cGVvZiByYXRlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHBsYXliYWNrIHJhdGUgd2hlbiBjYXBhYmxlLlxyXG4gICAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcclxuICAgICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgICBldmVudDogJ3JhdGUnLFxyXG4gICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHNlbGYucmF0ZS5hcHBseShzZWxmLCBhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwIHJhdGUuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIHNlbGYuX3JhdGUgPSByYXRlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIG9uZSBvciBhbGwgdm9sdW1lcy5cclxuICAgICAgICBpZCA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8aWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZFtpXSk7XHJcblxyXG4gICAgICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgICAgIC8vIEtlZXAgdHJhY2sgb2Ygb3VyIHBvc2l0aW9uIHdoZW4gdGhlIHJhdGUgY2hhbmdlZCBhbmQgdXBkYXRlIHRoZSBwbGF5YmFja1xyXG4gICAgICAgICAgICAvLyBzdGFydCBwb3NpdGlvbiBzbyB3ZSBjYW4gcHJvcGVybHkgYWRqdXN0IHRoZSBzZWVrIHBvc2l0aW9uIGZvciB0aW1lIGVsYXBzZWQuXHJcbiAgICAgICAgICAgIGlmIChzZWxmLnBsYXlpbmcoaWRbaV0pKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX3JhdGVTZWVrID0gc2VsZi5zZWVrKGlkW2ldKTtcclxuICAgICAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gc2VsZi5fd2ViQXVkaW8gPyBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lIDogc291bmQuX3BsYXlTdGFydDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzb3VuZC5fcmF0ZSA9IHJhdGU7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGFuZ2UgdGhlIHBsYXliYWNrIHJhdGUuXHJcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHJhdGUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGxheWJhY2tSYXRlID0gcmF0ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUmVzZXQgdGhlIHRpbWVycy5cclxuICAgICAgICAgICAgdmFyIHNlZWsgPSBzZWxmLnNlZWsoaWRbaV0pO1xyXG4gICAgICAgICAgICB2YXIgZHVyYXRpb24gPSAoKHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSkgLyAxMDAwKSAtIHNlZWs7XHJcbiAgICAgICAgICAgIHZhciB0aW1lb3V0ID0gKGR1cmF0aW9uICogMTAwMCkgLyBNYXRoLmFicyhzb3VuZC5fcmF0ZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTdGFydCBhIG5ldyBlbmQgdGltZXIgaWYgc291bmQgaXMgYWxyZWFkeSBwbGF5aW5nLlxyXG4gICAgICAgICAgICBpZiAoc2VsZi5fZW5kVGltZXJzW2lkW2ldXSB8fCAhc291bmQuX3BhdXNlZCkge1xyXG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRbaV0pO1xyXG4gICAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tpZFtpXV0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2VsZi5fZW1pdCgncmF0ZScsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcclxuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcmF0ZSA6IHNlbGYuX3JhdGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldC9zZXQgdGhlIHNlZWsgcG9zaXRpb24gb2YgYSBzb3VuZC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxyXG4gICAgICogICBzZWVrKCkgLT4gUmV0dXJucyB0aGUgZmlyc3Qgc291bmQgbm9kZSdzIGN1cnJlbnQgc2VlayBwb3NpdGlvbi5cclxuICAgICAqICAgc2VlayhpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHNlZWsgcG9zaXRpb24uXHJcbiAgICAgKiAgIHNlZWsoc2VlaykgLT4gU2V0cyB0aGUgc2VlayBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgc291bmQgbm9kZS5cclxuICAgICAqICAgc2VlayhzZWVrLCBpZCkgLT4gU2V0cyB0aGUgc2VlayBwb3NpdGlvbiBvZiBwYXNzZWQgc291bmQgaWQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHNlZWsgcG9zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIHNlZWs6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICB2YXIgc2VlaywgaWQ7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXHJcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIC8vIFdlIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgbm9kZS5cclxuICAgICAgICBpZiAoc2VsZi5fc291bmRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyBzZWVrIHBvc2l0aW9uLlxyXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xyXG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xyXG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuX3NvdW5kcy5sZW5ndGgpIHtcclxuICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcclxuICAgICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xyXG4gICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB0aGVyZSBpcyBubyBJRCwgYmFpbCBvdXQuXHJcbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gc2VlayB3aGVuIGNhcGFibGUuXHJcbiAgICAgIGlmICh0eXBlb2Ygc2VlayA9PT0gJ251bWJlcicgJiYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykpIHtcclxuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICAgIGV2ZW50OiAnc2VlaycsXHJcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLnNlZWsuYXBwbHkoc2VsZiwgYXJncyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xyXG5cclxuICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzZWVrID09PSAnbnVtYmVyJyAmJiBzZWVrID49IDApIHtcclxuICAgICAgICAgIC8vIFBhdXNlIHRoZSBzb3VuZCBhbmQgdXBkYXRlIHBvc2l0aW9uIGZvciByZXN0YXJ0aW5nIHBsYXliYWNrLlxyXG4gICAgICAgICAgdmFyIHBsYXlpbmcgPSBzZWxmLnBsYXlpbmcoaWQpO1xyXG4gICAgICAgICAgaWYgKHBsYXlpbmcpIHtcclxuICAgICAgICAgICAgc2VsZi5wYXVzZShpZCwgdHJ1ZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gTW92ZSB0aGUgcG9zaXRpb24gb2YgdGhlIHRyYWNrIGFuZCBjYW5jZWwgdGltZXIuXHJcbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNlZWs7XHJcbiAgICAgICAgICBzb3VuZC5fZW5kZWQgPSBmYWxzZTtcclxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWQpO1xyXG5cclxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgc2VlayBwb3NpdGlvbiBmb3IgSFRNTDUgQXVkaW8uXHJcbiAgICAgICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikpIHtcclxuICAgICAgICAgICAgc291bmQuX25vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFNlZWsgYW5kIGVtaXQgd2hlbiByZWFkeS5cclxuICAgICAgICAgIHZhciBzZWVrQW5kRW1pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvLyBSZXN0YXJ0IHRoZSBwbGF5YmFjayBpZiB0aGUgc291bmQgd2FzIHBsYXlpbmcuXHJcbiAgICAgICAgICAgIGlmIChwbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5wbGF5KGlkLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2VsZi5fZW1pdCgnc2VlaycsIGlkKTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHBsYXkgbG9jayB0byBiZSB1bnNldCBiZWZvcmUgZW1pdHRpbmcgKEhUTUw1IEF1ZGlvKS5cclxuICAgICAgICAgIGlmIChwbGF5aW5nICYmICFzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgICB2YXIgZW1pdFNlZWsgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBpZiAoIXNlbGYuX3BsYXlMb2NrKSB7XHJcbiAgICAgICAgICAgICAgICBzZWVrQW5kRW1pdCgpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGVtaXRTZWVrLCAwKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZW1pdFNlZWssIDApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2Vla0FuZEVtaXQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICAgIHZhciByZWFsVGltZSA9IHNlbGYucGxheWluZyhpZCkgPyBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lIC0gc291bmQuX3BsYXlTdGFydCA6IDA7XHJcbiAgICAgICAgICAgIHZhciByYXRlU2VlayA9IHNvdW5kLl9yYXRlU2VlayA/IHNvdW5kLl9yYXRlU2VlayAtIHNvdW5kLl9zZWVrIDogMDtcclxuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9zZWVrICsgKHJhdGVTZWVrICsgcmVhbFRpbWUgKiBNYXRoLmFicyhzb3VuZC5fcmF0ZSkpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSBzcGVjaWZpYyBzb3VuZCBpcyBjdXJyZW50bHkgcGxheWluZyBvciBub3QgKGlmIGlkIGlzIHByb3ZpZGVkKSwgb3IgY2hlY2sgaWYgYXQgbGVhc3Qgb25lIG9mIHRoZSBzb3VuZHMgaW4gdGhlIGdyb3VwIGlzIHBsYXlpbmcgb3Igbm90LlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgaWQgVGhlIHNvdW5kIGlkIHRvIGNoZWNrLiBJZiBub25lIGlzIHBhc3NlZCwgdGhlIHdob2xlIHNvdW5kIGdyb3VwIGlzIGNoZWNrZWQuXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHBsYXlpbmcgYW5kIGZhbHNlIGlmIG5vdC5cclxuICAgICAqL1xyXG4gICAgcGxheWluZzogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgdGhlIHBhc3NlZCBzb3VuZCBJRCAoaWYgYW55KS5cclxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xyXG4gICAgICAgIHJldHVybiBzb3VuZCA/ICFzb3VuZC5fcGF1c2VkIDogZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE90aGVyd2lzZSwgbG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoZWNrIGlmIGFueSBhcmUgcGxheWluZy5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICghc2VsZi5fc291bmRzW2ldLl9wYXVzZWQpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZHVyYXRpb24gb2YgdGhpcyBzb3VuZC4gUGFzc2luZyBhIHNvdW5kIGlkIHdpbGwgcmV0dXJuIHRoZSBzcHJpdGUgZHVyYXRpb24uXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBpZCB0byBjaGVjay4gSWYgbm9uZSBpcyBwYXNzZWQsIHJldHVybiBmdWxsIHNvdXJjZSBkdXJhdGlvbi5cclxuICAgICAqIEByZXR1cm4ge051bWJlcn0gQXVkaW8gZHVyYXRpb24gaW4gc2Vjb25kcy5cclxuICAgICAqL1xyXG4gICAgZHVyYXRpb246IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGR1cmF0aW9uID0gc2VsZi5fZHVyYXRpb247XHJcblxyXG4gICAgICAvLyBJZiB3ZSBwYXNzIGFuIElELCBnZXQgdGhlIHNvdW5kIGFuZCByZXR1cm4gdGhlIHNwcml0ZSBsZW5ndGguXHJcbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XHJcbiAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgIGR1cmF0aW9uID0gc2VsZi5fc3ByaXRlW3NvdW5kLl9zcHJpdGVdWzFdIC8gMTAwMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGR1cmF0aW9uO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgbG9hZGVkIHN0YXRlIG9mIHRoaXMgSG93bC5cclxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gJ3VubG9hZGVkJywgJ2xvYWRpbmcnLCAnbG9hZGVkJ1xyXG4gICAgICovXHJcbiAgICBzdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVbmxvYWQgYW5kIGRlc3Ryb3kgdGhlIGN1cnJlbnQgSG93bCBvYmplY3QuXHJcbiAgICAgKiBUaGlzIHdpbGwgaW1tZWRpYXRlbHkgc3RvcCBhbGwgc291bmQgaW5zdGFuY2VzIGF0dGFjaGVkIHRvIHRoaXMgZ3JvdXAuXHJcbiAgICAgKi9cclxuICAgIHVubG9hZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIFN0b3AgcGxheWluZyBhbnkgYWN0aXZlIHNvdW5kcy5cclxuICAgICAgdmFyIHNvdW5kcyA9IHNlbGYuX3NvdW5kcztcclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIFN0b3AgdGhlIHNvdW5kIGlmIGl0IGlzIGN1cnJlbnRseSBwbGF5aW5nLlxyXG4gICAgICAgIGlmICghc291bmRzW2ldLl9wYXVzZWQpIHtcclxuICAgICAgICAgIHNlbGYuc3RvcChzb3VuZHNbaV0uX2lkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgc291cmNlIG9yIGRpc2Nvbm5lY3QuXHJcbiAgICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgLy8gU2V0IHRoZSBzb3VyY2UgdG8gMC1zZWNvbmQgc2lsZW5jZSB0byBzdG9wIGFueSBkb3dubG9hZGluZyAoZXhjZXB0IGluIElFKS5cclxuICAgICAgICAgIHNlbGYuX2NsZWFyU291bmQoc291bmRzW2ldLl9ub2RlKTtcclxuXHJcbiAgICAgICAgICAvLyBSZW1vdmUgYW55IGV2ZW50IGxpc3RlbmVycy5cclxuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNvdW5kc1tpXS5fZXJyb3JGbiwgZmFsc2UpO1xyXG4gICAgICAgICAgc291bmRzW2ldLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNvdW5kc1tpXS5fbG9hZEZuLCBmYWxzZSk7XHJcbiAgICAgICAgICBzb3VuZHNbaV0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzb3VuZHNbaV0uX2VuZEZuLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgLy8gUmVsZWFzZSB0aGUgQXVkaW8gb2JqZWN0IGJhY2sgdG8gdGhlIHBvb2wuXHJcbiAgICAgICAgICBIb3dsZXIuX3JlbGVhc2VIdG1sNUF1ZGlvKHNvdW5kc1tpXS5fbm9kZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFbXB0eSBvdXQgYWxsIG9mIHRoZSBub2Rlcy5cclxuICAgICAgICBkZWxldGUgc291bmRzW2ldLl9ub2RlO1xyXG5cclxuICAgICAgICAvLyBNYWtlIHN1cmUgYWxsIHRpbWVycyBhcmUgY2xlYXJlZCBvdXQuXHJcbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZHNbaV0uX2lkKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVtb3ZlIHRoZSByZWZlcmVuY2VzIGluIHRoZSBnbG9iYWwgSG93bGVyIG9iamVjdC5cclxuICAgICAgdmFyIGluZGV4ID0gSG93bGVyLl9ob3dscy5pbmRleE9mKHNlbGYpO1xyXG4gICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgIEhvd2xlci5faG93bHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRGVsZXRlIHRoaXMgc291bmQgZnJvbSB0aGUgY2FjaGUgKGlmIG5vIG90aGVyIEhvd2wgaXMgdXNpbmcgaXQpLlxyXG4gICAgICB2YXIgcmVtQ2FjaGUgPSB0cnVlO1xyXG4gICAgICBmb3IgKGk9MDsgaTxIb3dsZXIuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKEhvd2xlci5faG93bHNbaV0uX3NyYyA9PT0gc2VsZi5fc3JjIHx8IHNlbGYuX3NyYy5pbmRleE9mKEhvd2xlci5faG93bHNbaV0uX3NyYykgPj0gMCkge1xyXG4gICAgICAgICAgcmVtQ2FjaGUgPSBmYWxzZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGNhY2hlICYmIHJlbUNhY2hlKSB7XHJcbiAgICAgICAgZGVsZXRlIGNhY2hlW3NlbGYuX3NyY107XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENsZWFyIGdsb2JhbCBlcnJvcnMuXHJcbiAgICAgIEhvd2xlci5ub0F1ZGlvID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyBDbGVhciBvdXQgYHNlbGZgLlxyXG4gICAgICBzZWxmLl9zdGF0ZSA9ICd1bmxvYWRlZCc7XHJcbiAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xyXG4gICAgICBzZWxmID0gbnVsbDtcclxuXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIExpc3RlbiB0byBhIGN1c3RvbSBldmVudC5cclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgaWQgICAgKG9wdGlvbmFsKSBPbmx5IGxpc3RlbiB0byBldmVudHMgZm9yIHRoaXMgc291bmQuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgb25jZSAgKElOVEVSTkFMKSBNYXJrcyBldmVudCB0byBmaXJlIG9ubHkgb25jZS5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIG9uOiBmdW5jdGlvbihldmVudCwgZm4sIGlkLCBvbmNlKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGV2ZW50cyA9IHNlbGZbJ19vbicgKyBldmVudF07XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgZXZlbnRzLnB1c2gob25jZSA/IHtpZDogaWQsIGZuOiBmbiwgb25jZTogb25jZX0gOiB7aWQ6IGlkLCBmbjogZm59KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGEgY3VzdG9tIGV2ZW50LiBDYWxsIHdpdGhvdXQgcGFyYW1ldGVycyB0byByZW1vdmUgYWxsIGV2ZW50cy5cclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIHJlbW92ZS4gTGVhdmUgZW1wdHkgdG8gcmVtb3ZlIGFsbC5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpZCAgICAob3B0aW9uYWwpIE9ubHkgcmVtb3ZlIGV2ZW50cyBmb3IgdGhpcyBzb3VuZC5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIG9mZjogZnVuY3Rpb24oZXZlbnQsIGZuLCBpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xyXG4gICAgICB2YXIgaSA9IDA7XHJcblxyXG4gICAgICAvLyBBbGxvdyBwYXNzaW5nIGp1c3QgYW4gZXZlbnQgYW5kIElELlxyXG4gICAgICBpZiAodHlwZW9mIGZuID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIGlkID0gZm47XHJcbiAgICAgICAgZm4gPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZm4gfHwgaWQpIHtcclxuICAgICAgICAvLyBMb29wIHRocm91Z2ggZXZlbnQgc3RvcmUgYW5kIHJlbW92ZSB0aGUgcGFzc2VkIGZ1bmN0aW9uLlxyXG4gICAgICAgIGZvciAoaT0wOyBpPGV2ZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdmFyIGlzSWQgPSAoaWQgPT09IGV2ZW50c1tpXS5pZCk7XHJcbiAgICAgICAgICBpZiAoZm4gPT09IGV2ZW50c1tpXS5mbiAmJiBpc0lkIHx8ICFmbiAmJiBpc0lkKSB7XHJcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChldmVudCkge1xyXG4gICAgICAgIC8vIENsZWFyIG91dCBhbGwgZXZlbnRzIG9mIHRoaXMgdHlwZS5cclxuICAgICAgICBzZWxmWydfb24nICsgZXZlbnRdID0gW107XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQ2xlYXIgb3V0IGFsbCBldmVudHMgb2YgZXZlcnkgdHlwZS5cclxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNlbGYpO1xyXG4gICAgICAgIGZvciAoaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmICgoa2V5c1tpXS5pbmRleE9mKCdfb24nKSA9PT0gMCkgJiYgQXJyYXkuaXNBcnJheShzZWxmW2tleXNbaV1dKSkge1xyXG4gICAgICAgICAgICBzZWxmW2tleXNbaV1dID0gW107XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQgYW5kIHJlbW92ZSBpdCBvbmNlIGZpcmVkLlxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gICAgTGlzdGVuZXIgdG8gY2FsbC5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpZCAgICAob3B0aW9uYWwpIE9ubHkgbGlzdGVuIHRvIGV2ZW50cyBmb3IgdGhpcyBzb3VuZC5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIG9uY2U6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gU2V0dXAgdGhlIGV2ZW50IGxpc3RlbmVyLlxyXG4gICAgICBzZWxmLm9uKGV2ZW50LCBmbiwgaWQsIDEpO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRW1pdCBhbGwgZXZlbnRzIG9mIGEgc3BlY2lmaWMgdHlwZSBhbmQgcGFzcyB0aGUgc291bmQgaWQuXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50IEV2ZW50IG5hbWUuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFNvdW5kIElELlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBtc2cgICBNZXNzYWdlIHRvIGdvIHdpdGggZXZlbnQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBfZW1pdDogZnVuY3Rpb24oZXZlbnQsIGlkLCBtc2cpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcclxuXHJcbiAgICAgIC8vIExvb3AgdGhyb3VnaCBldmVudCBzdG9yZSBhbmQgZmlyZSBhbGwgZnVuY3Rpb25zLlxyXG4gICAgICBmb3IgKHZhciBpPWV2ZW50cy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XHJcbiAgICAgICAgLy8gT25seSBmaXJlIHRoZSBsaXN0ZW5lciBpZiB0aGUgY29ycmVjdCBJRCBpcyB1c2VkLlxyXG4gICAgICAgIGlmICghZXZlbnRzW2ldLmlkIHx8IGV2ZW50c1tpXS5pZCA9PT0gaWQgfHwgZXZlbnQgPT09ICdsb2FkJykge1xyXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbihmbikge1xyXG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMsIGlkLCBtc2cpO1xyXG4gICAgICAgICAgfS5iaW5kKHNlbGYsIGV2ZW50c1tpXS5mbiksIDApO1xyXG5cclxuICAgICAgICAgIC8vIElmIHRoaXMgZXZlbnQgd2FzIHNldHVwIHdpdGggYG9uY2VgLCByZW1vdmUgaXQuXHJcbiAgICAgICAgICBpZiAoZXZlbnRzW2ldLm9uY2UpIHtcclxuICAgICAgICAgICAgc2VsZi5vZmYoZXZlbnQsIGV2ZW50c1tpXS5mbiwgZXZlbnRzW2ldLmlkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFBhc3MgdGhlIGV2ZW50IHR5cGUgaW50byBsb2FkIHF1ZXVlIHNvIHRoYXQgaXQgY2FuIGNvbnRpbnVlIHN0ZXBwaW5nLlxyXG4gICAgICBzZWxmLl9sb2FkUXVldWUoZXZlbnQpO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUXVldWUgb2YgYWN0aW9ucyBpbml0aWF0ZWQgYmVmb3JlIHRoZSBzb3VuZCBoYXMgbG9hZGVkLlxyXG4gICAgICogVGhlc2Ugd2lsbCBiZSBjYWxsZWQgaW4gc2VxdWVuY2UsIHdpdGggdGhlIG5leHQgb25seSBmaXJpbmdcclxuICAgICAqIGFmdGVyIHRoZSBwcmV2aW91cyBoYXMgZmluaXNoZWQgZXhlY3V0aW5nIChldmVuIGlmIGFzeW5jIGxpa2UgcGxheSkuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBfbG9hZFF1ZXVlOiBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAoc2VsZi5fcXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciB0YXNrID0gc2VsZi5fcXVldWVbMF07XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0aGlzIHRhc2sgaWYgYSBtYXRjaGluZyBldmVudCB3YXMgcGFzc2VkLlxyXG4gICAgICAgIGlmICh0YXNrLmV2ZW50ID09PSBldmVudCkge1xyXG4gICAgICAgICAgc2VsZi5fcXVldWUuc2hpZnQoKTtcclxuICAgICAgICAgIHNlbGYuX2xvYWRRdWV1ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUnVuIHRoZSB0YXNrIGlmIG5vIGV2ZW50IHR5cGUgaXMgcGFzc2VkLlxyXG4gICAgICAgIGlmICghZXZlbnQpIHtcclxuICAgICAgICAgIHRhc2suYWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlZCB3aGVuIHBsYXliYWNrIGVuZHMgYXQgdGhlIGVuZCBvZiB0aGUgZHVyYXRpb24uXHJcbiAgICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgVGhlIHNvdW5kIG9iamVjdCB0byB3b3JrIHdpdGguXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBfZW5kZWQ6IGZ1bmN0aW9uKHNvdW5kKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHNwcml0ZSA9IHNvdW5kLl9zcHJpdGU7XHJcblxyXG4gICAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgSUUgYW5kIHRoZXJlIHdhcyBuZXR3b3JrIGxhdGVuY3kgd2UgbWF5IGJlIGNsaXBwaW5nXHJcbiAgICAgIC8vIGF1ZGlvIGJlZm9yZSBpdCBjb21wbGV0ZXMgcGxheWluZy4gTGV0cyBjaGVjayB0aGUgbm9kZSB0byBtYWtlIHN1cmUgaXRcclxuICAgICAgLy8gYmVsaWV2ZXMgaXQgaGFzIGNvbXBsZXRlZCwgYmVmb3JlIGVuZGluZyB0aGUgcGxheWJhY2suXHJcbiAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIXNvdW5kLl9ub2RlLnBhdXNlZCAmJiAhc291bmQuX25vZGUuZW5kZWQgJiYgc291bmQuX25vZGUuY3VycmVudFRpbWUgPCBzb3VuZC5fc3RvcCkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIDEwMCk7XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNob3VsZCB0aGlzIHNvdW5kIGxvb3A/XHJcbiAgICAgIHZhciBsb29wID0gISEoc291bmQuX2xvb3AgfHwgc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMl0pO1xyXG5cclxuICAgICAgLy8gRmlyZSB0aGUgZW5kZWQgZXZlbnQuXHJcbiAgICAgIHNlbGYuX2VtaXQoJ2VuZCcsIHNvdW5kLl9pZCk7XHJcblxyXG4gICAgICAvLyBSZXN0YXJ0IHRoZSBwbGF5YmFjayBmb3IgSFRNTDUgQXVkaW8gbG9vcC5cclxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBsb29wKSB7XHJcbiAgICAgICAgc2VsZi5zdG9wKHNvdW5kLl9pZCwgdHJ1ZSkucGxheShzb3VuZC5faWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZXN0YXJ0IHRoaXMgdGltZXIgaWYgb24gYSBXZWIgQXVkaW8gbG9vcC5cclxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIGxvb3ApIHtcclxuICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcclxuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xyXG4gICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XHJcbiAgICAgICAgc291bmQuX3BsYXlTdGFydCA9IEhvd2xlci5jdHguY3VycmVudFRpbWU7XHJcblxyXG4gICAgICAgIHZhciB0aW1lb3V0ID0gKChzb3VuZC5fc3RvcCAtIHNvdW5kLl9zdGFydCkgKiAxMDAwKSAvIE1hdGguYWJzKHNvdW5kLl9yYXRlKTtcclxuICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBNYXJrIHRoZSBub2RlIGFzIHBhdXNlZC5cclxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XHJcbiAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcclxuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xyXG4gICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XHJcbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xyXG5cclxuICAgICAgICAvLyBDbGVhbiB1cCB0aGUgYnVmZmVyIHNvdXJjZS5cclxuICAgICAgICBzZWxmLl9jbGVhbkJ1ZmZlcihzb3VuZC5fbm9kZSk7XHJcblxyXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gYXV0by1zdXNwZW5kIEF1ZGlvQ29udGV4dCBpZiBubyBzb3VuZHMgYXJlIHN0aWxsIHBsYXlpbmcuXHJcbiAgICAgICAgSG93bGVyLl9hdXRvU3VzcGVuZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBXaGVuIHVzaW5nIGEgc3ByaXRlLCBlbmQgdGhlIHRyYWNrLlxyXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XHJcbiAgICAgICAgc2VsZi5zdG9wKHNvdW5kLl9pZCwgdHJ1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENsZWFyIHRoZSBlbmQgdGltZXIgZm9yIGEgc291bmQgcGxheWJhY2suXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRC5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIF9jbGVhclRpbWVyOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAoc2VsZi5fZW5kVGltZXJzW2lkXSkge1xyXG4gICAgICAgIC8vIENsZWFyIHRoZSB0aW1lb3V0IG9yIHJlbW92ZSB0aGUgZW5kZWQgbGlzdGVuZXIuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBzZWxmLl9lbmRUaW1lcnNbaWRdICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fZW5kVGltZXJzW2lkXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XHJcbiAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgc291bmQuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRUaW1lcnNbaWRdLCBmYWxzZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkZWxldGUgc2VsZi5fZW5kVGltZXJzW2lkXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBzb3VuZCBpZGVudGlmaWVkIGJ5IHRoaXMgSUQsIG9yIHJldHVybiBudWxsLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBTb3VuZCBJRFxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAgICBTb3VuZCBvYmplY3Qgb3IgbnVsbC5cclxuICAgICAqL1xyXG4gICAgX3NvdW5kQnlJZDogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGZpbmQgdGhlIG9uZSB3aXRoIHRoaXMgSUQuXHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoaWQgPT09IHNlbGYuX3NvdW5kc1tpXS5faWQpIHtcclxuICAgICAgICAgIHJldHVybiBzZWxmLl9zb3VuZHNbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYW4gaW5hY3RpdmUgc291bmQgZnJvbSB0aGUgcG9vbCBvciBjcmVhdGUgYSBuZXcgb25lLlxyXG4gICAgICogQHJldHVybiB7U291bmR9IFNvdW5kIHBsYXliYWNrIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgX2luYWN0aXZlU291bmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICBzZWxmLl9kcmFpbigpO1xyXG5cclxuICAgICAgLy8gRmluZCB0aGUgZmlyc3QgaW5hY3RpdmUgbm9kZSB0byByZWN5Y2xlLlxyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcclxuICAgICAgICAgIHJldHVybiBzZWxmLl9zb3VuZHNbaV0ucmVzZXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIG5vIGluYWN0aXZlIG5vZGUgd2FzIGZvdW5kLCBjcmVhdGUgYSBuZXcgb25lLlxyXG4gICAgICByZXR1cm4gbmV3IFNvdW5kKHNlbGYpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYWluIGV4Y2VzcyBpbmFjdGl2ZSBzb3VuZHMgZnJvbSB0aGUgcG9vbC5cclxuICAgICAqL1xyXG4gICAgX2RyYWluOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgbGltaXQgPSBzZWxmLl9wb29sO1xyXG4gICAgICB2YXIgY250ID0gMDtcclxuICAgICAgdmFyIGkgPSAwO1xyXG5cclxuICAgICAgLy8gSWYgdGhlcmUgYXJlIGxlc3Mgc291bmRzIHRoYW4gdGhlIG1heCBwb29sIHNpemUsIHdlIGFyZSBkb25lLlxyXG4gICAgICBpZiAoc2VsZi5fc291bmRzLmxlbmd0aCA8IGxpbWl0KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGluYWN0aXZlIHNvdW5kcy5cclxuICAgICAgZm9yIChpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcclxuICAgICAgICAgIGNudCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVtb3ZlIGV4Y2VzcyBpbmFjdGl2ZSBzb3VuZHMsIGdvaW5nIGluIHJldmVyc2Ugb3JkZXIuXHJcbiAgICAgIGZvciAoaT1zZWxmLl9zb3VuZHMubGVuZ3RoIC0gMTsgaT49MDsgaS0tKSB7XHJcbiAgICAgICAgaWYgKGNudCA8PSBsaW1pdCkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcclxuICAgICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIGF1ZGlvIHNvdXJjZSB3aGVuIHVzaW5nIFdlYiBBdWRpby5cclxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzZWxmLl9zb3VuZHNbaV0uX25vZGUpIHtcclxuICAgICAgICAgICAgc2VsZi5fc291bmRzW2ldLl9ub2RlLmRpc2Nvbm5lY3QoMCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUmVtb3ZlIHNvdW5kcyB1bnRpbCB3ZSBoYXZlIHRoZSBwb29sIHNpemUuXHJcbiAgICAgICAgICBzZWxmLl9zb3VuZHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgY250LS07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFsbCBJRCdzIGZyb20gdGhlIHNvdW5kcyBwb29sLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBPbmx5IHJldHVybiBvbmUgSUQgaWYgb25lIGlzIHBhc3NlZC5cclxuICAgICAqIEByZXR1cm4ge0FycmF5fSAgICBBcnJheSBvZiBJRHMuXHJcbiAgICAgKi9cclxuICAgIF9nZXRTb3VuZElkczogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICB2YXIgaWRzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWRzLnB1c2goc2VsZi5fc291bmRzW2ldLl9pZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaWRzO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBbaWRdO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9hZCB0aGUgc291bmQgYmFjayBpbnRvIHRoZSBidWZmZXIgc291cmNlLlxyXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgX3JlZnJlc2hCdWZmZXI6IGZ1bmN0aW9uKHNvdW5kKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIFNldHVwIHRoZSBidWZmZXIgc291cmNlIGZvciBwbGF5YmFjay5cclxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlID0gSG93bGVyLmN0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcclxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IGNhY2hlW3NlbGYuX3NyY107XHJcblxyXG4gICAgICAvLyBDb25uZWN0IHRvIHRoZSBjb3JyZWN0IG5vZGUuXHJcbiAgICAgIGlmIChzb3VuZC5fcGFubmVyKSB7XHJcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3Qoc291bmQuX3Bhbm5lcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3Qoc291bmQuX25vZGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTZXR1cCBsb29waW5nIGFuZCBwbGF5YmFjayByYXRlLlxyXG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcCA9IHNvdW5kLl9sb29wO1xyXG4gICAgICBpZiAoc291bmQuX2xvb3ApIHtcclxuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcFN0YXJ0ID0gc291bmQuX3N0YXJ0IHx8IDA7XHJcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcCB8fCAwO1xyXG4gICAgICB9XHJcbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5wbGF5YmFja1JhdGUuc2V0VmFsdWVBdFRpbWUoc291bmQuX3JhdGUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJldmVudCBtZW1vcnkgbGVha3MgYnkgY2xlYW5pbmcgdXAgdGhlIGJ1ZmZlciBzb3VyY2UgYWZ0ZXIgcGxheWJhY2suXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgU291bmQncyBhdWRpbyBub2RlIGNvbnRhaW5pbmcgdGhlIGJ1ZmZlciBzb3VyY2UuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBfY2xlYW5CdWZmZXI6IGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgaXNJT1MgPSBIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci52ZW5kb3IuaW5kZXhPZignQXBwbGUnKSA+PSAwO1xyXG5cclxuICAgICAgaWYgKCFub2RlLmJ1ZmZlclNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoSG93bGVyLl9zY3JhdGNoQnVmZmVyICYmIG5vZGUuYnVmZmVyU291cmNlKSB7XHJcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2Uub25lbmRlZCA9IG51bGw7XHJcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2UuZGlzY29ubmVjdCgwKTtcclxuICAgICAgICBpZiAoaXNJT1MpIHtcclxuICAgICAgICAgIHRyeSB7IG5vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IEhvd2xlci5fc2NyYXRjaEJ1ZmZlcjsgfSBjYXRjaChlKSB7fVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBub2RlLmJ1ZmZlclNvdXJjZSA9IG51bGw7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIHNvdXJjZSB0byBhIDAtc2Vjb25kIHNpbGVuY2UgdG8gc3RvcCBhbnkgZG93bmxvYWRpbmcgKGV4Y2VwdCBpbiBJRSkuXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgQXVkaW8gbm9kZSB0byBjbGVhci5cclxuICAgICAqL1xyXG4gICAgX2NsZWFyU291bmQ6IGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgdmFyIGNoZWNrSUUgPSAvTVNJRSB8VHJpZGVudFxcLy8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgICBpZiAoIWNoZWNrSUUpIHtcclxuICAgICAgICBub2RlLnNyYyA9ICdkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsVWtsR1JpZ0FBQUJYUVZaRlptMTBJQklBQUFBQkFBRUFSS3dBQUloWUFRQUNBQkFBQUFCa1lYUmhBZ0FBQUFFQSc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKiogU2luZ2xlIFNvdW5kIE1ldGhvZHMgKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgdGhlIHNvdW5kIG9iamVjdCwgd2hpY2ggZWFjaCBub2RlIGF0dGFjaGVkIHRvIGEgSG93bCBncm91cCBpcyBjb250YWluZWQgaW4uXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGhvd2wgVGhlIEhvd2wgcGFyZW50IGdyb3VwLlxyXG4gICAqL1xyXG4gIHZhciBTb3VuZCA9IGZ1bmN0aW9uKGhvd2wpIHtcclxuICAgIHRoaXMuX3BhcmVudCA9IGhvd2w7XHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9O1xyXG4gIFNvdW5kLnByb3RvdHlwZSA9IHtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBTb3VuZCBvYmplY3QuXHJcbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcclxuXHJcbiAgICAgIC8vIFNldHVwIHRoZSBkZWZhdWx0IHBhcmFtZXRlcnMuXHJcbiAgICAgIHNlbGYuX211dGVkID0gcGFyZW50Ll9tdXRlZDtcclxuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcclxuICAgICAgc2VsZi5fdm9sdW1lID0gcGFyZW50Ll92b2x1bWU7XHJcbiAgICAgIHNlbGYuX3JhdGUgPSBwYXJlbnQuX3JhdGU7XHJcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xyXG4gICAgICBzZWxmLl9wYXVzZWQgPSB0cnVlO1xyXG4gICAgICBzZWxmLl9lbmRlZCA9IHRydWU7XHJcbiAgICAgIHNlbGYuX3Nwcml0ZSA9ICdfX2RlZmF1bHQnO1xyXG5cclxuICAgICAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgSUQgZm9yIHRoaXMgc291bmQuXHJcbiAgICAgIHNlbGYuX2lkID0gKytIb3dsZXIuX2NvdW50ZXI7XHJcblxyXG4gICAgICAvLyBBZGQgaXRzZWxmIHRvIHRoZSBwYXJlbnQncyBwb29sLlxyXG4gICAgICBwYXJlbnQuX3NvdW5kcy5wdXNoKHNlbGYpO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIHRoZSBuZXcgbm9kZS5cclxuICAgICAgc2VsZi5jcmVhdGUoKTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbmQgc2V0dXAgYSBuZXcgc291bmQgb2JqZWN0LCB3aGV0aGVyIEhUTUw1IEF1ZGlvIG9yIFdlYiBBdWRpby5cclxuICAgICAqIEByZXR1cm4ge1NvdW5kfVxyXG4gICAgICovXHJcbiAgICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XHJcbiAgICAgIHZhciB2b2x1bWUgPSAoSG93bGVyLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCB8fCBzZWxmLl9wYXJlbnQuX211dGVkKSA/IDAgOiBzZWxmLl92b2x1bWU7XHJcblxyXG4gICAgICBpZiAocGFyZW50Ll93ZWJBdWRpbykge1xyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZ2FpbiBub2RlIGZvciBjb250cm9sbGluZyB2b2x1bWUgKHRoZSBzb3VyY2Ugd2lsbCBjb25uZWN0IHRvIHRoaXMpLlxyXG4gICAgICAgIHNlbGYuX25vZGUgPSAodHlwZW9mIEhvd2xlci5jdHguY3JlYXRlR2FpbiA9PT0gJ3VuZGVmaW5lZCcpID8gSG93bGVyLmN0eC5jcmVhdGVHYWluTm9kZSgpIDogSG93bGVyLmN0eC5jcmVhdGVHYWluKCk7XHJcbiAgICAgICAgc2VsZi5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKHZvbHVtZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgc2VsZi5fbm9kZS5wYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYuX25vZGUuY29ubmVjdChIb3dsZXIubWFzdGVyR2Fpbik7XHJcbiAgICAgIH0gZWxzZSBpZiAoIUhvd2xlci5ub0F1ZGlvKSB7XHJcbiAgICAgICAgLy8gR2V0IGFuIHVubG9ja2VkIEF1ZGlvIG9iamVjdCBmcm9tIHRoZSBwb29sLlxyXG4gICAgICAgIHNlbGYuX25vZGUgPSBIb3dsZXIuX29idGFpbkh0bWw1QXVkaW8oKTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuIGZvciBlcnJvcnMgKGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMtYXV0aG9yLXZpZXcvc3BlYy5odG1sI21lZGlhZXJyb3IpLlxyXG4gICAgICAgIHNlbGYuX2Vycm9yRm4gPSBzZWxmLl9lcnJvckxpc3RlbmVyLmJpbmQoc2VsZik7XHJcbiAgICAgICAgc2VsZi5fbm9kZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHNlbGYuX2Vycm9yRm4sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuIGZvciAnY2FucGxheXRocm91Z2gnIGV2ZW50IHRvIGxldCB1cyBrbm93IHRoZSBzb3VuZCBpcyByZWFkeS5cclxuICAgICAgICBzZWxmLl9sb2FkRm4gPSBzZWxmLl9sb2FkTGlzdGVuZXIuYmluZChzZWxmKTtcclxuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNlbGYuX2xvYWRGbiwgZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyBMaXN0ZW4gZm9yIHRoZSAnZW5kZWQnIGV2ZW50IG9uIHRoZSBzb3VuZCB0byBhY2NvdW50IGZvciBlZGdlLWNhc2Ugd2hlcmVcclxuICAgICAgICAvLyBhIGZpbml0ZSBzb3VuZCBoYXMgYSBkdXJhdGlvbiBvZiBJbmZpbml0eS5cclxuICAgICAgICBzZWxmLl9lbmRGbiA9IHNlbGYuX2VuZExpc3RlbmVyLmJpbmQoc2VsZik7XHJcbiAgICAgICAgc2VsZi5fbm9kZS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNlbGYuX2VuZEZuLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIFNldHVwIHRoZSBuZXcgYXVkaW8gbm9kZS5cclxuICAgICAgICBzZWxmLl9ub2RlLnNyYyA9IHBhcmVudC5fc3JjO1xyXG4gICAgICAgIHNlbGYuX25vZGUucHJlbG9hZCA9IHBhcmVudC5fcHJlbG9hZCA9PT0gdHJ1ZSA/ICdhdXRvJyA6IHBhcmVudC5fcHJlbG9hZDtcclxuICAgICAgICBzZWxmLl9ub2RlLnZvbHVtZSA9IHZvbHVtZSAqIEhvd2xlci52b2x1bWUoKTtcclxuXHJcbiAgICAgICAgLy8gQmVnaW4gbG9hZGluZyB0aGUgc291cmNlLlxyXG4gICAgICAgIHNlbGYuX25vZGUubG9hZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldCB0aGUgcGFyYW1ldGVycyBvZiB0aGlzIHNvdW5kIHRvIHRoZSBvcmlnaW5hbCBzdGF0ZSAoZm9yIHJlY3ljbGUpLlxyXG4gICAgICogQHJldHVybiB7U291bmR9XHJcbiAgICAgKi9cclxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xyXG5cclxuICAgICAgLy8gUmVzZXQgYWxsIG9mIHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQuXHJcbiAgICAgIHNlbGYuX211dGVkID0gcGFyZW50Ll9tdXRlZDtcclxuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcclxuICAgICAgc2VsZi5fdm9sdW1lID0gcGFyZW50Ll92b2x1bWU7XHJcbiAgICAgIHNlbGYuX3JhdGUgPSBwYXJlbnQuX3JhdGU7XHJcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xyXG4gICAgICBzZWxmLl9yYXRlU2VlayA9IDA7XHJcbiAgICAgIHNlbGYuX3BhdXNlZCA9IHRydWU7XHJcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcclxuICAgICAgc2VsZi5fc3ByaXRlID0gJ19fZGVmYXVsdCc7XHJcblxyXG4gICAgICAvLyBHZW5lcmF0ZSBhIG5ldyBJRCBzbyB0aGF0IGl0IGlzbid0IGNvbmZ1c2VkIHdpdGggdGhlIHByZXZpb3VzIHNvdW5kLlxyXG4gICAgICBzZWxmLl9pZCA9ICsrSG93bGVyLl9jb3VudGVyO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSFRNTDUgQXVkaW8gZXJyb3IgbGlzdGVuZXIgY2FsbGJhY2suXHJcbiAgICAgKi9cclxuICAgIF9lcnJvckxpc3RlbmVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gRmlyZSBhbiBlcnJvciBldmVudCBhbmQgcGFzcyBiYWNrIHRoZSBjb2RlLlxyXG4gICAgICBzZWxmLl9wYXJlbnQuX2VtaXQoJ2xvYWRlcnJvcicsIHNlbGYuX2lkLCBzZWxmLl9ub2RlLmVycm9yID8gc2VsZi5fbm9kZS5lcnJvci5jb2RlIDogMCk7XHJcblxyXG4gICAgICAvLyBDbGVhciB0aGUgZXZlbnQgbGlzdGVuZXIuXHJcbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzZWxmLl9lcnJvckZuLCBmYWxzZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSFRNTDUgQXVkaW8gY2FucGxheXRocm91Z2ggbGlzdGVuZXIgY2FsbGJhY2suXHJcbiAgICAgKi9cclxuICAgIF9sb2FkTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XHJcblxyXG4gICAgICAvLyBSb3VuZCB1cCB0aGUgZHVyYXRpb24gdG8gYWNjb3VudCBmb3IgdGhlIGxvd2VyIHByZWNpc2lvbiBpbiBIVE1MNSBBdWRpby5cclxuICAgICAgcGFyZW50Ll9kdXJhdGlvbiA9IE1hdGguY2VpbChzZWxmLl9ub2RlLmR1cmF0aW9uICogMTApIC8gMTA7XHJcblxyXG4gICAgICAvLyBTZXR1cCBhIHNwcml0ZSBpZiBub25lIGlzIGRlZmluZWQuXHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyhwYXJlbnQuX3Nwcml0ZSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcGFyZW50Ll9zcHJpdGUgPSB7X19kZWZhdWx0OiBbMCwgcGFyZW50Ll9kdXJhdGlvbiAqIDEwMDBdfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBhcmVudC5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XHJcbiAgICAgICAgcGFyZW50Ll9zdGF0ZSA9ICdsb2FkZWQnO1xyXG4gICAgICAgIHBhcmVudC5fZW1pdCgnbG9hZCcpO1xyXG4gICAgICAgIHBhcmVudC5fbG9hZFF1ZXVlKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cclxuICAgICAgc2VsZi5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzZWxmLl9sb2FkRm4sIGZhbHNlKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIVE1MNSBBdWRpbyBlbmRlZCBsaXN0ZW5lciBjYWxsYmFjay5cclxuICAgICAqL1xyXG4gICAgX2VuZExpc3RlbmVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xyXG5cclxuICAgICAgLy8gT25seSBoYW5kbGUgdGhlIGBlbmRlZGBgIGV2ZW50IGlmIHRoZSBkdXJhdGlvbiBpcyBJbmZpbml0eS5cclxuICAgICAgaWYgKHBhcmVudC5fZHVyYXRpb24gPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBwYXJlbnQgZHVyYXRpb24gdG8gbWF0Y2ggdGhlIHJlYWwgYXVkaW8gZHVyYXRpb24uXHJcbiAgICAgICAgLy8gUm91bmQgdXAgdGhlIGR1cmF0aW9uIHRvIGFjY291bnQgZm9yIHRoZSBsb3dlciBwcmVjaXNpb24gaW4gSFRNTDUgQXVkaW8uXHJcbiAgICAgICAgcGFyZW50Ll9kdXJhdGlvbiA9IE1hdGguY2VpbChzZWxmLl9ub2RlLmR1cmF0aW9uICogMTApIC8gMTA7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgc3ByaXRlIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHJlYWwgZHVyYXRpb24uXHJcbiAgICAgICAgaWYgKHBhcmVudC5fc3ByaXRlLl9fZGVmYXVsdFsxXSA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgIHBhcmVudC5fc3ByaXRlLl9fZGVmYXVsdFsxXSA9IHBhcmVudC5fZHVyYXRpb24gKiAxMDAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUnVuIHRoZSByZWd1bGFyIGVuZGVkIG1ldGhvZC5cclxuICAgICAgICBwYXJlbnQuX2VuZGVkKHNlbGYpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDbGVhciB0aGUgZXZlbnQgbGlzdGVuZXIgc2luY2UgdGhlIGR1cmF0aW9uIGlzIG5vdyBjb3JyZWN0LlxyXG4gICAgICBzZWxmLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kRm4sIGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKiogSGVscGVyIE1ldGhvZHMgKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgdmFyIGNhY2hlID0ge307XHJcblxyXG4gIC8qKlxyXG4gICAqIEJ1ZmZlciBhIHNvdW5kIGZyb20gVVJMLCBEYXRhIFVSSSBvciBjYWNoZSBhbmQgZGVjb2RlIHRvIGF1ZGlvIHNvdXJjZSAoV2ViIEF1ZGlvIEFQSSkuXHJcbiAgICogQHBhcmFtICB7SG93bH0gc2VsZlxyXG4gICAqL1xyXG4gIHZhciBsb2FkQnVmZmVyID0gZnVuY3Rpb24oc2VsZikge1xyXG4gICAgdmFyIHVybCA9IHNlbGYuX3NyYztcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgYnVmZmVyIGhhcyBhbHJlYWR5IGJlZW4gY2FjaGVkIGFuZCB1c2UgaXQgaW5zdGVhZC5cclxuICAgIGlmIChjYWNoZVt1cmxdKSB7XHJcbiAgICAgIC8vIFNldCB0aGUgZHVyYXRpb24gZnJvbSB0aGUgY2FjaGUuXHJcbiAgICAgIHNlbGYuX2R1cmF0aW9uID0gY2FjaGVbdXJsXS5kdXJhdGlvbjtcclxuXHJcbiAgICAgIC8vIExvYWQgdGhlIHNvdW5kIGludG8gdGhpcyBIb3dsLlxyXG4gICAgICBsb2FkU291bmQoc2VsZik7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKC9eZGF0YTpbXjtdKztiYXNlNjQsLy50ZXN0KHVybCkpIHtcclxuICAgICAgLy8gRGVjb2RlIHRoZSBiYXNlNjQgZGF0YSBVUkkgd2l0aG91dCBYSFIsIHNpbmNlIHNvbWUgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCBpdC5cclxuICAgICAgdmFyIGRhdGEgPSBhdG9iKHVybC5zcGxpdCgnLCcpWzFdKTtcclxuICAgICAgdmFyIGRhdGFWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO1xyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8ZGF0YS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGRhdGFWaWV3W2ldID0gZGF0YS5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkZWNvZGVBdWRpb0RhdGEoZGF0YVZpZXcuYnVmZmVyLCBzZWxmKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIExvYWQgdGhlIGJ1ZmZlciBmcm9tIHRoZSBVUkwuXHJcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgeGhyLm9wZW4oc2VsZi5feGhyLm1ldGhvZCwgdXJsLCB0cnVlKTtcclxuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHNlbGYuX3hoci53aXRoQ3JlZGVudGlhbHM7XHJcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG5cclxuICAgICAgLy8gQXBwbHkgYW55IGN1c3RvbSBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0LlxyXG4gICAgICBpZiAoc2VsZi5feGhyLmhlYWRlcnMpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhzZWxmLl94aHIuaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgc2VsZi5feGhyLmhlYWRlcnNba2V5XSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgZ2V0IGEgc3VjY2Vzc2Z1bCByZXNwb25zZSBiYWNrLlxyXG4gICAgICAgIHZhciBjb2RlID0gKHhoci5zdGF0dXMgKyAnJylbMF07XHJcbiAgICAgICAgaWYgKGNvZGUgIT09ICcwJyAmJiBjb2RlICE9PSAnMicgJiYgY29kZSAhPT0gJzMnKSB7XHJcbiAgICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnRmFpbGVkIGxvYWRpbmcgYXVkaW8gZmlsZSB3aXRoIHN0YXR1czogJyArIHhoci5zdGF0dXMgKyAnLicpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVjb2RlQXVkaW9EYXRhKHhoci5yZXNwb25zZSwgc2VsZik7XHJcbiAgICAgIH07XHJcbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gZXJyb3IsIHN3aXRjaCB0byBIVE1MNSBBdWRpby5cclxuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgIHNlbGYuX2h0bWw1ID0gdHJ1ZTtcclxuICAgICAgICAgIHNlbGYuX3dlYkF1ZGlvID0gZmFsc2U7XHJcbiAgICAgICAgICBzZWxmLl9zb3VuZHMgPSBbXTtcclxuICAgICAgICAgIGRlbGV0ZSBjYWNoZVt1cmxdO1xyXG4gICAgICAgICAgc2VsZi5sb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBzYWZlWGhyU2VuZCh4aHIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlbmQgdGhlIFhIUiByZXF1ZXN0IHdyYXBwZWQgaW4gYSB0cnkvY2F0Y2guXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSB4aHIgWEhSIHRvIHNlbmQuXHJcbiAgICovXHJcbiAgdmFyIHNhZmVYaHJTZW5kID0gZnVuY3Rpb24oeGhyKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICB4aHIuc2VuZCgpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICB4aHIub25lcnJvcigpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIERlY29kZSBhdWRpbyBkYXRhIGZyb20gYW4gYXJyYXkgYnVmZmVyLlxyXG4gICAqIEBwYXJhbSAge0FycmF5QnVmZmVyfSBhcnJheWJ1ZmZlciBUaGUgYXVkaW8gZGF0YS5cclxuICAgKiBAcGFyYW0gIHtIb3dsfSAgICAgICAgc2VsZlxyXG4gICAqL1xyXG4gIHZhciBkZWNvZGVBdWRpb0RhdGEgPSBmdW5jdGlvbihhcnJheWJ1ZmZlciwgc2VsZikge1xyXG4gICAgLy8gRmlyZSBhIGxvYWQgZXJyb3IgaWYgc29tZXRoaW5nIGJyb2tlLlxyXG4gICAgdmFyIGVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdEZWNvZGluZyBhdWRpbyBkYXRhIGZhaWxlZC4nKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gTG9hZCB0aGUgc291bmQgb24gc3VjY2Vzcy5cclxuICAgIHZhciBzdWNjZXNzID0gZnVuY3Rpb24oYnVmZmVyKSB7XHJcbiAgICAgIGlmIChidWZmZXIgJiYgc2VsZi5fc291bmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjYWNoZVtzZWxmLl9zcmNdID0gYnVmZmVyO1xyXG4gICAgICAgIGxvYWRTb3VuZChzZWxmLCBidWZmZXIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVycm9yKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gRGVjb2RlIHRoZSBidWZmZXIgaW50byBhbiBhdWRpbyBzb3VyY2UuXHJcbiAgICBpZiAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YShhcnJheWJ1ZmZlcikudGhlbihzdWNjZXNzKS5jYXRjaChlcnJvcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YShhcnJheWJ1ZmZlciwgc3VjY2VzcywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU291bmQgaXMgbm93IGxvYWRlZCwgc28gZmluaXNoIHNldHRpbmcgZXZlcnl0aGluZyB1cCBhbmQgZmlyZSB0aGUgbG9hZGVkIGV2ZW50LlxyXG4gICAqIEBwYXJhbSAge0hvd2x9IHNlbGZcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGJ1ZmZlciBUaGUgZGVjb2RlZCBidWZmZXIgc291bmQgc291cmNlLlxyXG4gICAqL1xyXG4gIHZhciBsb2FkU291bmQgPSBmdW5jdGlvbihzZWxmLCBidWZmZXIpIHtcclxuICAgIC8vIFNldCB0aGUgZHVyYXRpb24uXHJcbiAgICBpZiAoYnVmZmVyICYmICFzZWxmLl9kdXJhdGlvbikge1xyXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IGJ1ZmZlci5kdXJhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXR1cCBhIHNwcml0ZSBpZiBub25lIGlzIGRlZmluZWQuXHJcbiAgICBpZiAoT2JqZWN0LmtleXMoc2VsZi5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgc2VsZi5fc3ByaXRlID0ge19fZGVmYXVsdDogWzAsIHNlbGYuX2R1cmF0aW9uICogMTAwMF19O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZpcmUgdGhlIGxvYWRlZCBldmVudC5cclxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcclxuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGVkJztcclxuICAgICAgc2VsZi5fZW1pdCgnbG9hZCcpO1xyXG4gICAgICBzZWxmLl9sb2FkUXVldWUoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBTZXR1cCB0aGUgYXVkaW8gY29udGV4dCB3aGVuIGF2YWlsYWJsZSwgb3Igc3dpdGNoIHRvIEhUTUw1IEF1ZGlvIG1vZGUuXHJcbiAgICovXHJcbiAgdmFyIHNldHVwQXVkaW9Db250ZXh0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAvLyBJZiB3ZSBoYXZlIGFscmVhZHkgZGV0ZWN0ZWQgdGhhdCBXZWIgQXVkaW8gaXNuJ3Qgc3VwcG9ydGVkLCBkb24ndCBydW4gdGhpcyBzdGVwIGFnYWluLlxyXG4gICAgaWYgKCFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgd2UgYXJlIHVzaW5nIFdlYiBBdWRpbyBhbmQgc2V0dXAgdGhlIEF1ZGlvQ29udGV4dCBpZiB3ZSBhcmUuXHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAodHlwZW9mIEF1ZGlvQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBIb3dsZXIuY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3ZWJraXRBdWRpb0NvbnRleHQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgSG93bGVyLmN0eCA9IG5ldyB3ZWJraXRBdWRpb0NvbnRleHQoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoKGUpIHtcclxuICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgYXVkaW8gY29udGV4dCBjcmVhdGlvbiBzdGlsbCBmYWlsZWQsIHNldCB1c2luZyB3ZWIgYXVkaW8gdG8gZmFsc2UuXHJcbiAgICBpZiAoIUhvd2xlci5jdHgpIHtcclxuICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiBhIHdlYnZpZXcgaXMgYmVpbmcgdXNlZCBvbiBpT1M4IG9yIGVhcmxpZXIgKHJhdGhlciB0aGFuIHRoZSBicm93c2VyKS5cclxuICAgIC8vIElmIGl0IGlzLCBkaXNhYmxlIFdlYiBBdWRpbyBhcyBpdCBjYXVzZXMgY3Jhc2hpbmcuXHJcbiAgICB2YXIgaU9TID0gKC9pUChob25lfG9kfGFkKS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5wbGF0Zm9ybSkpO1xyXG4gICAgdmFyIGFwcFZlcnNpb24gPSBIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9PUyAoXFxkKylfKFxcZCspXz8oXFxkKyk/Lyk7XHJcbiAgICB2YXIgdmVyc2lvbiA9IGFwcFZlcnNpb24gPyBwYXJzZUludChhcHBWZXJzaW9uWzFdLCAxMCkgOiBudWxsO1xyXG4gICAgaWYgKGlPUyAmJiB2ZXJzaW9uICYmIHZlcnNpb24gPCA5KSB7XHJcbiAgICAgIHZhciBzYWZhcmkgPSAvc2FmYXJpLy50ZXN0KEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgaWYgKEhvd2xlci5fbmF2aWdhdG9yICYmICFzYWZhcmkpIHtcclxuICAgICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYXRlIGFuZCBleHBvc2UgdGhlIG1hc3RlciBHYWluTm9kZSB3aGVuIHVzaW5nIFdlYiBBdWRpbyAodXNlZnVsIGZvciBwbHVnaW5zIG9yIGFkdmFuY2VkIHVzYWdlKS5cclxuICAgIGlmIChIb3dsZXIudXNpbmdXZWJBdWRpbykge1xyXG4gICAgICBIb3dsZXIubWFzdGVyR2FpbiA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVHYWluID09PSAndW5kZWZpbmVkJykgPyBIb3dsZXIuY3R4LmNyZWF0ZUdhaW5Ob2RlKCkgOiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4oKTtcclxuICAgICAgSG93bGVyLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShIb3dsZXIuX211dGVkID8gMCA6IEhvd2xlci5fdm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgSG93bGVyLm1hc3RlckdhaW4uY29ubmVjdChIb3dsZXIuY3R4LmRlc3RpbmF0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZS1ydW4gdGhlIHNldHVwIG9uIEhvd2xlci5cclxuICAgIEhvd2xlci5fc2V0dXAoKTtcclxuICB9O1xyXG5cclxuICAvLyBBZGQgc3VwcG9ydCBmb3IgQU1EIChBc3luY2hyb25vdXMgTW9kdWxlIERlZmluaXRpb24pIGxpYnJhcmllcyBzdWNoIGFzIHJlcXVpcmUuanMuXHJcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBIb3dsZXI6IEhvd2xlcixcclxuICAgICAgICBIb3dsOiBIb3dsXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBDb21tb25KUyBsaWJyYXJpZXMgc3VjaCBhcyBicm93c2VyaWZ5LlxyXG4gIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIGV4cG9ydHMuSG93bGVyID0gSG93bGVyO1xyXG4gICAgZXhwb3J0cy5Ib3dsID0gSG93bDtcclxuICB9XHJcblxyXG4gIC8vIEFkZCB0byBnbG9iYWwgaW4gTm9kZS5qcyAoZm9yIHRlc3RpbmcsIGV0YykuXHJcbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICBnbG9iYWwuSG93bGVyR2xvYmFsID0gSG93bGVyR2xvYmFsO1xyXG4gICAgZ2xvYmFsLkhvd2xlciA9IEhvd2xlcjtcclxuICAgIGdsb2JhbC5Ib3dsID0gSG93bDtcclxuICAgIGdsb2JhbC5Tb3VuZCA9IFNvdW5kO1xyXG4gIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsgIC8vIERlZmluZSBnbG9iYWxseSBpbiBjYXNlIEFNRCBpcyBub3QgYXZhaWxhYmxlIG9yIHVudXNlZC5cclxuICAgIHdpbmRvdy5Ib3dsZXJHbG9iYWwgPSBIb3dsZXJHbG9iYWw7XHJcbiAgICB3aW5kb3cuSG93bGVyID0gSG93bGVyO1xyXG4gICAgd2luZG93Lkhvd2wgPSBIb3dsO1xyXG4gICAgd2luZG93LlNvdW5kID0gU291bmQ7XHJcbiAgfVxyXG59KSgpO1xyXG5cclxuXHJcbi8qIVxyXG4gKiAgU3BhdGlhbCBQbHVnaW4gLSBBZGRzIHN1cHBvcnQgZm9yIHN0ZXJlbyBhbmQgM0QgYXVkaW8gd2hlcmUgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZC5cclxuICogIFxyXG4gKiAgaG93bGVyLmpzIHYyLjIuNFxyXG4gKiAgaG93bGVyanMuY29tXHJcbiAqXHJcbiAqICAoYykgMjAxMy0yMDIwLCBKYW1lcyBTaW1wc29uIG9mIEdvbGRGaXJlIFN0dWRpb3NcclxuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cclxuICpcclxuICogIE1JVCBMaWNlbnNlXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIC8vIFNldHVwIGRlZmF1bHQgcHJvcGVydGllcy5cclxuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9wb3MgPSBbMCwgMCwgMF07XHJcbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5fb3JpZW50YXRpb24gPSBbMCwgMCwgLTEsIDAsIDEsIDBdO1xyXG5cclxuICAvKiogR2xvYmFsIE1ldGhvZHMgKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgLyoqXHJcbiAgICogSGVscGVyIG1ldGhvZCB0byB1cGRhdGUgdGhlIHN0ZXJlbyBwYW5uaW5nIHBvc2l0aW9uIG9mIGFsbCBjdXJyZW50IEhvd2xzLlxyXG4gICAqIEZ1dHVyZSBIb3dscyB3aWxsIG5vdCB1c2UgdGhpcyB2YWx1ZSB1bmxlc3MgZXhwbGljaXRseSBzZXQuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBwYW4gQSB2YWx1ZSBvZiAtMS4wIGlzIGFsbCB0aGUgd2F5IGxlZnQgYW5kIDEuMCBpcyBhbGwgdGhlIHdheSByaWdodC5cclxuICAgKiBAcmV0dXJuIHtIb3dsZXIvTnVtYmVyfSAgICAgU2VsZiBvciBjdXJyZW50IHN0ZXJlbyBwYW5uaW5nIHZhbHVlLlxyXG4gICAqL1xyXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuc3RlcmVvID0gZnVuY3Rpb24ocGFuKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXHJcbiAgICBpZiAoIXNlbGYuY3R4IHx8ICFzZWxmLmN0eC5saXN0ZW5lcikge1xyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIEhvd2xzIGFuZCB1cGRhdGUgdGhlaXIgc3RlcmVvIHBhbm5pbmcuXHJcbiAgICBmb3IgKHZhciBpPXNlbGYuX2hvd2xzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcclxuICAgICAgc2VsZi5faG93bHNbaV0uc3RlcmVvKHBhbik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0L3NldCB0aGUgcG9zaXRpb24gb2YgdGhlIGxpc3RlbmVyIGluIDNEIGNhcnRlc2lhbiBzcGFjZS4gU291bmRzIHVzaW5nXHJcbiAgICogM0QgcG9zaXRpb24gd2lsbCBiZSByZWxhdGl2ZSB0byB0aGUgbGlzdGVuZXIncyBwb3NpdGlvbi5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggVGhlIHgtcG9zaXRpb24gb2YgdGhlIGxpc3RlbmVyLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geSBUaGUgeS1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB6IFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcmV0dXJuIHtIb3dsZXIvQXJyYXl9ICAgU2VsZiBvciBjdXJyZW50IGxpc3RlbmVyIHBvc2l0aW9uLlxyXG4gICAqL1xyXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24oeCwgeSwgeikge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxyXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxyXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gc2VsZi5fcG9zWzFdIDogeTtcclxuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IHNlbGYuX3Bvc1syXSA6IHo7XHJcblxyXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xyXG4gICAgICBzZWxmLl9wb3MgPSBbeCwgeSwgel07XHJcblxyXG4gICAgICBpZiAodHlwZW9mIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblguc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1swXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblkuc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1sxXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblouc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1syXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5zZXRQb3NpdGlvbihzZWxmLl9wb3NbMF0sIHNlbGYuX3Bvc1sxXSwgc2VsZi5fcG9zWzJdKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHNlbGYuX3BvcztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBHZXQvc2V0IHRoZSBkaXJlY3Rpb24gdGhlIGxpc3RlbmVyIGlzIHBvaW50aW5nIGluIHRoZSAzRCBjYXJ0ZXNpYW4gc3BhY2UuXHJcbiAgICogQSBmcm9udCBhbmQgdXAgdmVjdG9yIG11c3QgYmUgcHJvdmlkZWQuIFRoZSBmcm9udCBpcyB0aGUgZGlyZWN0aW9uIHRoZVxyXG4gICAqIGZhY2Ugb2YgdGhlIGxpc3RlbmVyIGlzIHBvaW50aW5nLCBhbmQgdXAgaXMgdGhlIGRpcmVjdGlvbiB0aGUgdG9wIG9mIHRoZVxyXG4gICAqIGxpc3RlbmVyIGlzIHBvaW50aW5nLiBUaHVzLCB0aGVzZSB2YWx1ZXMgYXJlIGV4cGVjdGVkIHRvIGJlIGF0IHJpZ2h0IGFuZ2xlc1xyXG4gICAqIGZyb20gZWFjaCBvdGhlci5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggICBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHhVcCBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHlVcCBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHpVcCBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcmV0dXJuIHtIb3dsZXIvQXJyYXl9ICAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgb3JpZW50YXRpb24gdmVjdG9ycy5cclxuICAgKi9cclxuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLm9yaWVudGF0aW9uID0gZnVuY3Rpb24oeCwgeSwgeiwgeFVwLCB5VXAsIHpVcCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxyXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxyXG4gICAgdmFyIG9yID0gc2VsZi5fb3JpZW50YXRpb247XHJcbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyBvclsxXSA6IHk7XHJcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBvclsyXSA6IHo7XHJcbiAgICB4VXAgPSAodHlwZW9mIHhVcCAhPT0gJ251bWJlcicpID8gb3JbM10gOiB4VXA7XHJcbiAgICB5VXAgPSAodHlwZW9mIHlVcCAhPT0gJ251bWJlcicpID8gb3JbNF0gOiB5VXA7XHJcbiAgICB6VXAgPSAodHlwZW9mIHpVcCAhPT0gJ251bWJlcicpID8gb3JbNV0gOiB6VXA7XHJcblxyXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xyXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6LCB4VXAsIHlVcCwgelVwXTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFguc2V0VGFyZ2V0QXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFkuc2V0VGFyZ2V0QXRUaW1lKHksIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFouc2V0VGFyZ2V0QXRUaW1lKHosIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBYLnNldFRhcmdldEF0VGltZSh4VXAsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBZLnNldFRhcmdldEF0VGltZSh5VXAsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBaLnNldFRhcmdldEF0VGltZSh6VXAsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuc2V0T3JpZW50YXRpb24oeCwgeSwgeiwgeFVwLCB5VXAsIHpVcCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBvcjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9O1xyXG5cclxuICAvKiogR3JvdXAgTWV0aG9kcyAqKi9cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAvKipcclxuICAgKiBBZGQgbmV3IHByb3BlcnRpZXMgdG8gdGhlIGNvcmUgaW5pdC5cclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIENvcmUgaW5pdCBtZXRob2QuXHJcbiAgICogQHJldHVybiB7SG93bH1cclxuICAgKi9cclxuICBIb3dsLnByb3RvdHlwZS5pbml0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG8pIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gU2V0dXAgdXNlci1kZWZpbmVkIGRlZmF1bHQgcHJvcGVydGllcy5cclxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBvLm9yaWVudGF0aW9uIHx8IFsxLCAwLCAwXTtcclxuICAgICAgc2VsZi5fc3RlcmVvID0gby5zdGVyZW8gfHwgbnVsbDtcclxuICAgICAgc2VsZi5fcG9zID0gby5wb3MgfHwgbnVsbDtcclxuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHtcclxuICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8uY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lSW5uZXJBbmdsZSA6IDM2MCxcclxuICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8uY29uZU91dGVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJBbmdsZSA6IDM2MCxcclxuICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IDAsXHJcbiAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8uZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLmRpc3RhbmNlTW9kZWwgOiAnaW52ZXJzZScsXHJcbiAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLm1heERpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ubWF4RGlzdGFuY2UgOiAxMDAwMCxcclxuICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5pbmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5pbmdNb2RlbCA6ICdIUlRGJyxcclxuICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5yZWZEaXN0YW5jZSA6IDEsXHJcbiAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJvbGxvZmZGYWN0b3IgOiAxXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBTZXR1cCBldmVudCBsaXN0ZW5lcnMuXHJcbiAgICAgIHNlbGYuX29uc3RlcmVvID0gby5vbnN0ZXJlbyA/IFt7Zm46IG8ub25zdGVyZW99XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnBvcyA9IG8ub25wb3MgPyBbe2ZuOiBvLm9ucG9zfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25vcmllbnRhdGlvbiA9IG8ub25vcmllbnRhdGlvbiA/IFt7Zm46IG8ub25vcmllbnRhdGlvbn1dIDogW107XHJcblxyXG4gICAgICAvLyBDb21wbGV0ZSBpbml0aWxpemF0aW9uIHdpdGggaG93bGVyLmpzIGNvcmUncyBpbml0IGZ1bmN0aW9uLlxyXG4gICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbyk7XHJcbiAgICB9O1xyXG4gIH0pKEhvd2wucHJvdG90eXBlLmluaXQpO1xyXG5cclxuICAvKipcclxuICAgKiBHZXQvc2V0IHRoZSBzdGVyZW8gcGFubmluZyBvZiB0aGUgYXVkaW8gc291cmNlIGZvciB0aGlzIHNvdW5kIG9yIGFsbCBpbiB0aGUgZ3JvdXAuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBwYW4gIEEgdmFsdWUgb2YgLTEuMCBpcyBhbGwgdGhlIHdheSBsZWZ0IGFuZCAxLjAgaXMgYWxsIHRoZSB3YXkgcmlnaHQuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXHJcbiAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBzdGVyZW8gcGFubmluZyB2YWx1ZS5cclxuICAgKi9cclxuICBIb3dsLnByb3RvdHlwZS5zdGVyZW8gPSBmdW5jdGlvbihwYW4sIGlkKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXHJcbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHN0ZXJlbyBwYW4gd2hlbiBjYXBhYmxlLlxyXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xyXG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICBldmVudDogJ3N0ZXJlbycsXHJcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYuc3RlcmVvKHBhbiwgaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBmb3IgUGFubmVyU3RlcmVvTm9kZSBzdXBwb3J0IGFuZCBmYWxsYmFjayB0byBQYW5uZXJOb2RlIGlmIGl0IGRvZXNuJ3QgZXhpc3QuXHJcbiAgICB2YXIgcGFubmVyVHlwZSA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVTdGVyZW9QYW5uZXIgPT09ICd1bmRlZmluZWQnKSA/ICdzcGF0aWFsJyA6ICdzdGVyZW8nO1xyXG5cclxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHN0ZXJlbyBwYW5uaW5nIGlmIG5vIElEIGlzIHBhc3NlZC5cclxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzdGVyZW8gcGFubmluZyBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXHJcbiAgICAgIGlmICh0eXBlb2YgcGFuID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhbjtcclxuICAgICAgICBzZWxmLl9wb3MgPSBbcGFuLCAwLCAwXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gc2VsZi5fc3RlcmVvO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hhbmdlIHRoZSBzdHJlbyBwYW5uaW5nIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxyXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cclxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XHJcblxyXG4gICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHBhbiA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgIHNvdW5kLl9zdGVyZW8gPSBwYW47XHJcbiAgICAgICAgICBzb3VuZC5fcG9zID0gW3BhbiwgMCwgMF07XHJcblxyXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBmYWxsaW5nIGJhY2ssIG1ha2Ugc3VyZSB0aGUgcGFubmluZ01vZGVsIGlzIGVxdWFscG93ZXIuXHJcbiAgICAgICAgICAgIHNvdW5kLl9wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbCA9ICdlcXVhbHBvd2VyJztcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cclxuICAgICAgICAgICAgaWYgKCFzb3VuZC5fcGFubmVyIHx8ICFzb3VuZC5fcGFubmVyLnBhbikge1xyXG4gICAgICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCBwYW5uZXJUeXBlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHBhbm5lclR5cGUgPT09ICdzcGF0aWFsJykge1xyXG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWC5zZXRWYWx1ZUF0VGltZShwYW4sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblkuc2V0VmFsdWVBdFRpbWUoMCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSgwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbihwYW4sIDAsIDApO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBhbi5zZXRWYWx1ZUF0VGltZShwYW4sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2VsZi5fZW1pdCgnc3RlcmVvJywgc291bmQuX2lkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9zdGVyZW87XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0L3NldCB0aGUgM0Qgc3BhdGlhbCBwb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlIGZvciB0aGlzIHNvdW5kIG9yIGdyb3VwIHJlbGF0aXZlIHRvIHRoZSBnbG9iYWwgbGlzdGVuZXIuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geSAgVGhlIHktcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZS5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogIFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXHJcbiAgICogQHJldHVybiB7SG93bC9BcnJheX0gICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IDNEIHNwYXRpYWwgcG9zaXRpb246IFt4LCB5LCB6XS5cclxuICAgKi9cclxuICBIb3dsLnByb3RvdHlwZS5wb3MgPSBmdW5jdGlvbih4LCB5LCB6LCBpZCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxyXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBwb3NpdGlvbiB3aGVuIGNhcGFibGUuXHJcbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XHJcbiAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgIGV2ZW50OiAncG9zJyxcclxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5wb3MoeCwgeSwgeiwgaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXHJcbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyAwIDogeTtcclxuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IC0wLjUgOiB6O1xyXG5cclxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gSUQgaXMgcGFzc2VkLlxyXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxyXG4gICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgc2VsZi5fcG9zID0gW3gsIHksIHpdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBzZWxmLl9wb3M7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGFuZ2UgdGhlIHNwYXRpYWwgcG9zaXRpb24gb2Ygb25lIG9yIGFsbCBzb3VuZHMgaW4gZ3JvdXAuXHJcbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xyXG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcclxuXHJcbiAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgIHNvdW5kLl9wb3MgPSBbeCwgeSwgel07XHJcblxyXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cclxuICAgICAgICAgICAgaWYgKCFzb3VuZC5fcGFubmVyIHx8IHNvdW5kLl9wYW5uZXIucGFuKSB7XHJcbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblkuc2V0VmFsdWVBdFRpbWUoeSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbih4LCB5LCB6KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3BvcycsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBzb3VuZC5fcG9zO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWxmO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldC9zZXQgdGhlIGRpcmVjdGlvbiB0aGUgYXVkaW8gc291cmNlIGlzIHBvaW50aW5nIGluIHRoZSAzRCBjYXJ0ZXNpYW4gY29vcmRpbmF0ZVxyXG4gICAqIHNwYWNlLiBEZXBlbmRpbmcgb24gaG93IGRpcmVjdGlvbiB0aGUgc291bmQgaXMsIGJhc2VkIG9uIHRoZSBgY29uZWAgYXR0cmlidXRlcyxcclxuICAgKiBhIHNvdW5kIHBvaW50aW5nIGF3YXkgZnJvbSB0aGUgbGlzdGVuZXIgY2FuIGJlIHF1aWV0IG9yIHNpbGVudC5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIChvcHRpb25hbCkgVGhlIHNvdW5kIElELiBJZiBub25lIGlzIHBhc3NlZCwgYWxsIGluIGdyb3VwIHdpbGwgYmUgdXBkYXRlZC5cclxuICAgKiBAcmV0dXJuIHtIb3dsL0FycmF5fSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgM0Qgc3BhdGlhbCBvcmllbnRhdGlvbjogW3gsIHksIHpdLlxyXG4gICAqL1xyXG4gIEhvd2wucHJvdG90eXBlLm9yaWVudGF0aW9uID0gZnVuY3Rpb24oeCwgeSwgeiwgaWQpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cclxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugb3JpZW50YXRpb24gd2hlbiBjYXBhYmxlLlxyXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xyXG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICBldmVudDogJ29yaWVudGF0aW9uJyxcclxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5vcmllbnRhdGlvbih4LCB5LCB6LCBpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cclxuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IHNlbGYuX29yaWVudGF0aW9uWzFdIDogeTtcclxuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IHNlbGYuX29yaWVudGF0aW9uWzJdIDogejtcclxuXHJcbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzcGF0aWFsIG9yaWVudGF0aW9uIGlmIG5vIElEIGlzIHBhc3NlZC5cclxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzcGF0aWFsIG9yaWVudGF0aW9uIGlmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZC5cclxuICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gW3gsIHksIHpdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBzZWxmLl9vcmllbnRhdGlvbjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENoYW5nZSB0aGUgc3BhdGlhbCBvcmllbnRhdGlvbiBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cclxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XHJcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xyXG5cclxuICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgc291bmQuX29yaWVudGF0aW9uID0gW3gsIHksIHpdO1xyXG5cclxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXHJcbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lcikge1xyXG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcG9zaXRpb24gdG8gc2V0dXAgdGhlIG5vZGUgd2l0aC5cclxuICAgICAgICAgICAgICBpZiAoIXNvdW5kLl9wb3MpIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kLl9wb3MgPSBzZWxmLl9wb3MgfHwgWzAsIDAsIC0wLjVdO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblguc2V0VmFsdWVBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblkuc2V0VmFsdWVBdFRpbWUoeSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblouc2V0VmFsdWVBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRPcmllbnRhdGlvbih4LCB5LCB6KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNlbGYuX2VtaXQoJ29yaWVudGF0aW9uJywgc291bmQuX2lkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9vcmllbnRhdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBHZXQvc2V0IHRoZSBwYW5uZXIgbm9kZSdzIGF0dHJpYnV0ZXMgZm9yIGEgc291bmQgb3IgZ3JvdXAgb2Ygc291bmRzLlxyXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGwgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxyXG4gICAqICAgcGFubmVyQXR0cigpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3MgdmFsdWVzLlxyXG4gICAqICAgcGFubmVyQXR0cihpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyB2YWx1ZXMuXHJcbiAgICogICBwYW5uZXJBdHRyKG8pIC0+IFNldCdzIHRoZSB2YWx1ZXMgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXHJcbiAgICogICBwYW5uZXJBdHRyKG8sIGlkKSAtPiBTZXQncyB0aGUgdmFsdWVzIG9mIHBhc3NlZCBzb3VuZCBpZC5cclxuICAgKlxyXG4gICAqICAgQXR0cmlidXRlczpcclxuICAgKiAgICAgY29uZUlubmVyQW5nbGUgLSAoMzYwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIGFuIGFuZ2xlLCBpbiBkZWdyZWVzLFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgIGluc2lkZSBvZiB3aGljaCB0aGVyZSB3aWxsIGJlIG5vIHZvbHVtZSByZWR1Y3Rpb24uXHJcbiAgICogICAgIGNvbmVPdXRlckFuZ2xlIC0gKDM2MCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyBhbiBhbmdsZSwgaW4gZGVncmVlcyxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICBvdXRzaWRlIG9mIHdoaWNoIHRoZSB2b2x1bWUgd2lsbCBiZSByZWR1Y2VkIHRvIGEgY29uc3RhbnQgdmFsdWUgb2YgYGNvbmVPdXRlckdhaW5gLlxyXG4gICAqICAgICBjb25lT3V0ZXJHYWluIC0gKDAgYnkgZGVmYXVsdCkgQSBwYXJhbWV0ZXIgZm9yIGRpcmVjdGlvbmFsIGF1ZGlvIHNvdXJjZXMsIHRoaXMgaXMgdGhlIGdhaW4gb3V0c2lkZSBvZiB0aGVcclxuICAgKiAgICAgICAgICAgICAgICAgICAgIGBjb25lT3V0ZXJBbmdsZWAuIEl0IGlzIGEgbGluZWFyIHZhbHVlIGluIHRoZSByYW5nZSBgWzAsIDFdYC5cclxuICAgKiAgICAgZGlzdGFuY2VNb2RlbCAtICgnaW52ZXJzZScgYnkgZGVmYXVsdCkgRGV0ZXJtaW5lcyBhbGdvcml0aG0gdXNlZCB0byByZWR1Y2Ugdm9sdW1lIGFzIGF1ZGlvIG1vdmVzIGF3YXkgZnJvbVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuIENhbiBiZSBgbGluZWFyYCwgYGludmVyc2VgIG9yIGBleHBvbmVudGlhbC5cclxuICAgKiAgICAgbWF4RGlzdGFuY2UgLSAoMTAwMDAgYnkgZGVmYXVsdCkgVGhlIG1heGltdW0gZGlzdGFuY2UgYmV0d2VlbiBzb3VyY2UgYW5kIGxpc3RlbmVyLCBhZnRlciB3aGljaCB0aGUgdm9sdW1lXHJcbiAgICogICAgICAgICAgICAgICAgICAgd2lsbCBub3QgYmUgcmVkdWNlZCBhbnkgZnVydGhlci5cclxuICAgKiAgICAgcmVmRGlzdGFuY2UgLSAoMSBieSBkZWZhdWx0KSBBIHJlZmVyZW5jZSBkaXN0YW5jZSBmb3IgcmVkdWNpbmcgdm9sdW1lIGFzIHNvdXJjZSBtb3ZlcyBmdXJ0aGVyIGZyb20gdGhlIGxpc3RlbmVyLlxyXG4gICAqICAgICAgICAgICAgICAgICAgIFRoaXMgaXMgc2ltcGx5IGEgdmFyaWFibGUgb2YgdGhlIGRpc3RhbmNlIG1vZGVsIGFuZCBoYXMgYSBkaWZmZXJlbnQgZWZmZWN0IGRlcGVuZGluZyBvbiB3aGljaCBtb2RlbFxyXG4gICAqICAgICAgICAgICAgICAgICAgIGlzIHVzZWQgYW5kIHRoZSBzY2FsZSBvZiB5b3VyIGNvb3JkaW5hdGVzLiBHZW5lcmFsbHksIHZvbHVtZSB3aWxsIGJlIGVxdWFsIHRvIDEgYXQgdGhpcyBkaXN0YW5jZS5cclxuICAgKiAgICAgcm9sbG9mZkZhY3RvciAtICgxIGJ5IGRlZmF1bHQpIEhvdyBxdWlja2x5IHRoZSB2b2x1bWUgcmVkdWNlcyBhcyBzb3VyY2UgbW92ZXMgZnJvbSBsaXN0ZW5lci4gVGhpcyBpcyBzaW1wbHkgYVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUgb2YgdGhlIGRpc3RhbmNlIG1vZGVsIGFuZCBjYW4gYmUgaW4gdGhlIHJhbmdlIG9mIGBbMCwgMV1gIHdpdGggYGxpbmVhcmAgYW5kIGBbMCwgXHUyMjFFXWBcclxuICAgKiAgICAgICAgICAgICAgICAgICAgIHdpdGggYGludmVyc2VgIGFuZCBgZXhwb25lbnRpYWxgLlxyXG4gICAqICAgICBwYW5uaW5nTW9kZWwgLSAoJ0hSVEYnIGJ5IGRlZmF1bHQpIERldGVybWluZXMgd2hpY2ggc3BhdGlhbGl6YXRpb24gYWxnb3JpdGhtIGlzIHVzZWQgdG8gcG9zaXRpb24gYXVkaW8uXHJcbiAgICogICAgICAgICAgICAgICAgICAgICBDYW4gYmUgYEhSVEZgIG9yIGBlcXVhbHBvd2VyYC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge0hvd2wvT2JqZWN0fSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCBwYW5uZXIgYXR0cmlidXRlcy5cclxuICAgKi9cclxuICBIb3dsLnByb3RvdHlwZS5wYW5uZXJBdHRyID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuICAgIHZhciBvLCBpZCwgc291bmQ7XHJcblxyXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXHJcbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cclxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXHJcbiAgICAgIHJldHVybiBzZWxmLl9wYW5uZXJBdHRyO1xyXG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgbyA9IGFyZ3NbMF07XHJcblxyXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdSdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxyXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICBpZiAoIW8ucGFubmVyQXR0cikge1xyXG4gICAgICAgICAgICBvLnBhbm5lckF0dHIgPSB7XHJcbiAgICAgICAgICAgICAgY29uZUlubmVyQW5nbGU6IG8uY29uZUlubmVyQW5nbGUsXHJcbiAgICAgICAgICAgICAgY29uZU91dGVyQW5nbGU6IG8uY29uZU91dGVyQW5nbGUsXHJcbiAgICAgICAgICAgICAgY29uZU91dGVyR2Fpbjogby5jb25lT3V0ZXJHYWluLFxyXG4gICAgICAgICAgICAgIGRpc3RhbmNlTW9kZWw6IG8uZGlzdGFuY2VNb2RlbCxcclxuICAgICAgICAgICAgICBtYXhEaXN0YW5jZTogby5tYXhEaXN0YW5jZSxcclxuICAgICAgICAgICAgICByZWZEaXN0YW5jZTogby5yZWZEaXN0YW5jZSxcclxuICAgICAgICAgICAgICByb2xsb2ZmRmFjdG9yOiBvLnJvbGxvZmZGYWN0b3IsXHJcbiAgICAgICAgICAgICAgcGFubmluZ01vZGVsOiBvLnBhbm5pbmdNb2RlbFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSB7XHJcbiAgICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZSA6IHNlbGYuX2NvbmVJbm5lckFuZ2xlLFxyXG4gICAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZU91dGVyQW5nbGUgOiBzZWxmLl9jb25lT3V0ZXJBbmdsZSxcclxuICAgICAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluIDogc2VsZi5fY29uZU91dGVyR2FpbixcclxuICAgICAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8ucGFubmVyQXR0ci5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5kaXN0YW5jZU1vZGVsIDogc2VsZi5fZGlzdGFuY2VNb2RlbCxcclxuICAgICAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLnBhbm5lckF0dHIubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLm1heERpc3RhbmNlIDogc2VsZi5fbWF4RGlzdGFuY2UsXHJcbiAgICAgICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5yZWZEaXN0YW5jZSA6IHNlbGYuX3JlZkRpc3RhbmNlLFxyXG4gICAgICAgICAgICByb2xsb2ZmRmFjdG9yOiB0eXBlb2Ygby5wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3IgOiBzZWxmLl9yb2xsb2ZmRmFjdG9yLFxyXG4gICAgICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5lckF0dHIucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgOiBzZWxmLl9wYW5uaW5nTW9kZWxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFJldHVybiB0aGlzIHNvdW5kJ3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXHJcbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQocGFyc2VJbnQoYXJnc1swXSwgMTApKTtcclxuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcGFubmVyQXR0ciA6IHNlbGYuX3Bhbm5lckF0dHI7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgbyA9IGFyZ3NbMF07XHJcbiAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgdmFsdWVzIG9mIHRoZSBzcGVjaWZpZWQgc291bmRzLlxyXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcclxuXHJcbiAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgIC8vIE1lcmdlIHRoZSBuZXcgdmFsdWVzIGludG8gdGhlIHNvdW5kLlxyXG4gICAgICAgIHZhciBwYSA9IHNvdW5kLl9wYW5uZXJBdHRyO1xyXG4gICAgICAgIHBhID0ge1xyXG4gICAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZUlubmVyQW5nbGUgOiBwYS5jb25lSW5uZXJBbmdsZSxcclxuICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckFuZ2xlIDogcGEuY29uZU91dGVyQW5nbGUsXHJcbiAgICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IHBhLmNvbmVPdXRlckdhaW4sXHJcbiAgICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8uZGlzdGFuY2VNb2RlbCA6IHBhLmRpc3RhbmNlTW9kZWwsXHJcbiAgICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5tYXhEaXN0YW5jZSA6IHBhLm1heERpc3RhbmNlLFxyXG4gICAgICAgICAgcmVmRGlzdGFuY2U6IHR5cGVvZiBvLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucmVmRGlzdGFuY2UgOiBwYS5yZWZEaXN0YW5jZSxcclxuICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5yb2xsb2ZmRmFjdG9yIDogcGEucm9sbG9mZkZhY3RvcixcclxuICAgICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmluZ01vZGVsIDogcGEucGFubmluZ01vZGVsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBhbm5lciBub2RlIGlmIG9uZSBkb2Vzbid0IGFscmVhZHkgZXhpc3QuXHJcbiAgICAgICAgdmFyIHBhbm5lciA9IHNvdW5kLl9wYW5uZXI7XHJcbiAgICAgICAgaWYgKCFwYW5uZXIpIHtcclxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcG9zaXRpb24gdG8gc2V0dXAgdGhlIG5vZGUgd2l0aC5cclxuICAgICAgICAgIGlmICghc291bmQuX3Bvcykge1xyXG4gICAgICAgICAgICBzb3VuZC5fcG9zID0gc2VsZi5fcG9zIHx8IFswLCAwLCAtMC41XTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUuXHJcbiAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcclxuICAgICAgICAgIHBhbm5lciA9IHNvdW5kLl9wYW5uZXJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcGFubmVyIHZhbHVlcyBvciBjcmVhdGUgYSBuZXcgcGFubmVyIGlmIG5vbmUgZXhpc3RzLlxyXG4gICAgICAgIHBhbm5lci5jb25lSW5uZXJBbmdsZSA9IHBhLmNvbmVJbm5lckFuZ2xlO1xyXG4gICAgICAgIHBhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHBhLmNvbmVPdXRlckFuZ2xlO1xyXG4gICAgICAgIHBhbm5lci5jb25lT3V0ZXJHYWluID0gcGEuY29uZU91dGVyR2FpbjtcclxuICAgICAgICBwYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHBhLmRpc3RhbmNlTW9kZWw7XHJcbiAgICAgICAgcGFubmVyLm1heERpc3RhbmNlID0gcGEubWF4RGlzdGFuY2U7XHJcbiAgICAgICAgcGFubmVyLnJlZkRpc3RhbmNlID0gcGEucmVmRGlzdGFuY2U7XHJcbiAgICAgICAgcGFubmVyLnJvbGxvZmZGYWN0b3IgPSBwYS5yb2xsb2ZmRmFjdG9yO1xyXG4gICAgICAgIHBhbm5lci5wYW5uaW5nTW9kZWwgPSBwYS5wYW5uaW5nTW9kZWw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9O1xyXG5cclxuICAvKiogU2luZ2xlIFNvdW5kIE1ldGhvZHMgKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoZSBjb3JlIFNvdW5kIGluaXQuXHJcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBDb3JlIFNvdW5kIGluaXQgbWV0aG9kLlxyXG4gICAqIEByZXR1cm4ge1NvdW5kfVxyXG4gICAqL1xyXG4gIFNvdW5kLnByb3RvdHlwZS5pbml0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XHJcblxyXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxyXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IHBhcmVudC5fb3JpZW50YXRpb247XHJcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhcmVudC5fc3RlcmVvO1xyXG4gICAgICBzZWxmLl9wb3MgPSBwYXJlbnQuX3BvcztcclxuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHBhcmVudC5fcGFubmVyQXR0cjtcclxuXHJcbiAgICAgIC8vIENvbXBsZXRlIGluaXRpbGl6YXRpb24gd2l0aCBob3dsZXIuanMgY29yZSBTb3VuZCdzIGluaXQgZnVuY3Rpb24uXHJcbiAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgLy8gSWYgYSBzdGVyZW8gb3IgcG9zaXRpb24gd2FzIHNwZWNpZmllZCwgc2V0IGl0IHVwLlxyXG4gICAgICBpZiAoc2VsZi5fc3RlcmVvKSB7XHJcbiAgICAgICAgcGFyZW50LnN0ZXJlbyhzZWxmLl9zdGVyZW8pO1xyXG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bvcykge1xyXG4gICAgICAgIHBhcmVudC5wb3Moc2VsZi5fcG9zWzBdLCBzZWxmLl9wb3NbMV0sIHNlbGYuX3Bvc1syXSwgc2VsZi5faWQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0pKFNvdW5kLnByb3RvdHlwZS5pbml0KTtcclxuXHJcbiAgLyoqXHJcbiAgICogT3ZlcnJpZGUgdGhlIFNvdW5kLnJlc2V0IG1ldGhvZCB0byBjbGVhbiB1cCBwcm9wZXJ0aWVzIGZyb20gdGhlIHNwYXRpYWwgcGx1Z2luLlxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgU291bmQgcmVzZXQgbWV0aG9kLlxyXG4gICAqIEByZXR1cm4ge1NvdW5kfVxyXG4gICAqL1xyXG4gIFNvdW5kLnByb3RvdHlwZS5yZXNldCA9IChmdW5jdGlvbihfc3VwZXIpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xyXG5cclxuICAgICAgLy8gUmVzZXQgYWxsIHNwYXRpYWwgcGx1Z2luIHByb3BlcnRpZXMgb24gdGhpcyBzb3VuZC5cclxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBwYXJlbnQuX29yaWVudGF0aW9uO1xyXG4gICAgICBzZWxmLl9zdGVyZW8gPSBwYXJlbnQuX3N0ZXJlbztcclxuICAgICAgc2VsZi5fcG9zID0gcGFyZW50Ll9wb3M7XHJcbiAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSBwYXJlbnQuX3Bhbm5lckF0dHI7XHJcblxyXG4gICAgICAvLyBJZiBhIHN0ZXJlbyBvciBwb3NpdGlvbiB3YXMgc3BlY2lmaWVkLCBzZXQgaXQgdXAuXHJcbiAgICAgIGlmIChzZWxmLl9zdGVyZW8pIHtcclxuICAgICAgICBwYXJlbnQuc3RlcmVvKHNlbGYuX3N0ZXJlbyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcG9zKSB7XHJcbiAgICAgICAgcGFyZW50LnBvcyhzZWxmLl9wb3NbMF0sIHNlbGYuX3Bvc1sxXSwgc2VsZi5fcG9zWzJdLCBzZWxmLl9pZCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcGFubmVyKSB7XHJcbiAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgcGFubmVyLlxyXG4gICAgICAgIHNlbGYuX3Bhbm5lci5kaXNjb25uZWN0KDApO1xyXG4gICAgICAgIHNlbGYuX3Bhbm5lciA9IHVuZGVmaW5lZDtcclxuICAgICAgICBwYXJlbnQuX3JlZnJlc2hCdWZmZXIoc2VsZik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvbXBsZXRlIHJlc2V0dGluZyBvZiB0aGUgc291bmQuXHJcbiAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKTtcclxuICAgIH07XHJcbiAgfSkoU291bmQucHJvdG90eXBlLnJlc2V0KTtcclxuXHJcbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIG5ldyBwYW5uZXIgbm9kZSBhbmQgc2F2ZSBpdCBvbiB0aGUgc291bmQuXHJcbiAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFNwZWNpZmljIHNvdW5kIHRvIHNldHVwIHBhbm5pbmcgb24uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSBvZiBwYW5uZXIgdG8gY3JlYXRlOiAnc3RlcmVvJyBvciAnc3BhdGlhbCcuXHJcbiAgICovXHJcbiAgdmFyIHNldHVwUGFubmVyID0gZnVuY3Rpb24oc291bmQsIHR5cGUpIHtcclxuICAgIHR5cGUgPSB0eXBlIHx8ICdzcGF0aWFsJztcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIG5ldyBwYW5uZXIgbm9kZS5cclxuICAgIGlmICh0eXBlID09PSAnc3BhdGlhbCcpIHtcclxuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlUGFubmVyKCk7XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIuY29uZUlubmVyQW5nbGUgPSBzb3VuZC5fcGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZTtcclxuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlO1xyXG4gICAgICBzb3VuZC5fcGFubmVyLmNvbmVPdXRlckdhaW4gPSBzb3VuZC5fcGFubmVyQXR0ci5jb25lT3V0ZXJHYWluO1xyXG4gICAgICBzb3VuZC5fcGFubmVyLmRpc3RhbmNlTW9kZWwgPSBzb3VuZC5fcGFubmVyQXR0ci5kaXN0YW5jZU1vZGVsO1xyXG4gICAgICBzb3VuZC5fcGFubmVyLm1heERpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIubWF4RGlzdGFuY2U7XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIucmVmRGlzdGFuY2UgPSBzb3VuZC5fcGFubmVyQXR0ci5yZWZEaXN0YW5jZTtcclxuICAgICAgc291bmQuX3Bhbm5lci5yb2xsb2ZmRmFjdG9yID0gc291bmQuX3Bhbm5lckF0dHIucm9sbG9mZkZhY3RvcjtcclxuICAgICAgc291bmQuX3Bhbm5lci5wYW5uaW5nTW9kZWwgPSBzb3VuZC5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWw7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25aLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0UG9zaXRpb24oc291bmQuX3Bvc1swXSwgc291bmQuX3Bvc1sxXSwgc291bmQuX3Bvc1syXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblguc2V0VmFsdWVBdFRpbWUoc291bmQuX29yaWVudGF0aW9uWzBdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25aLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9vcmllbnRhdGlvblsyXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc291bmQuX3Bhbm5lci5zZXRPcmllbnRhdGlvbihzb3VuZC5fb3JpZW50YXRpb25bMF0sIHNvdW5kLl9vcmllbnRhdGlvblsxXSwgc291bmQuX29yaWVudGF0aW9uWzJdKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyKCk7XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIucGFuLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9zdGVyZW8sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHNvdW5kLl9wYW5uZXIuY29ubmVjdChzb3VuZC5fbm9kZSk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBjb25uZWN0aW9ucy5cclxuICAgIGlmICghc291bmQuX3BhdXNlZCkge1xyXG4gICAgICBzb3VuZC5fcGFyZW50LnBhdXNlKHNvdW5kLl9pZCwgdHJ1ZSkucGxheShzb3VuZC5faWQsIHRydWUpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pKCk7XHJcbiIsICIndXNlIHN0cmljdCc7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcclxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGVhcmN1dDtcclxuXHJcbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XHJcblxyXG4gICAgZGltID0gZGltIHx8IDI7XHJcblxyXG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoLFxyXG4gICAgICAgIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoLFxyXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXHJcbiAgICAgICAgdHJpYW5nbGVzID0gW107XHJcblxyXG4gICAgaWYgKCFvdXRlck5vZGUgfHwgb3V0ZXJOb2RlLm5leHQgPT09IG91dGVyTm9kZS5wcmV2KSByZXR1cm4gdHJpYW5nbGVzO1xyXG5cclxuICAgIHZhciBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB4LCB5LCBpbnZTaXplO1xyXG5cclxuICAgIGlmIChoYXNIb2xlcykgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKTtcclxuXHJcbiAgICAvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3hcclxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDgwICogZGltKSB7XHJcbiAgICAgICAgbWluWCA9IG1heFggPSBkYXRhWzBdO1xyXG4gICAgICAgIG1pblkgPSBtYXhZID0gZGF0YVsxXTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IGRpbTsgaSA8IG91dGVyTGVuOyBpICs9IGRpbSkge1xyXG4gICAgICAgICAgICB4ID0gZGF0YVtpXTtcclxuICAgICAgICAgICAgeSA9IGRhdGFbaSArIDFdO1xyXG4gICAgICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4O1xyXG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xyXG4gICAgICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4O1xyXG4gICAgICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gbWluWCwgbWluWSBhbmQgaW52U2l6ZSBhcmUgbGF0ZXIgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRzIGludG8gaW50ZWdlcnMgZm9yIHotb3JkZXIgY2FsY3VsYXRpb25cclxuICAgICAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcclxuICAgICAgICBpbnZTaXplID0gaW52U2l6ZSAhPT0gMCA/IDMyNzY3IC8gaW52U2l6ZSA6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDApO1xyXG5cclxuICAgIHJldHVybiB0cmlhbmdsZXM7XHJcbn1cclxuXHJcbi8vIGNyZWF0ZSBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdCBmcm9tIHBvbHlnb24gcG9pbnRzIGluIHRoZSBzcGVjaWZpZWQgd2luZGluZyBvcmRlclxyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XHJcbiAgICB2YXIgaSwgbGFzdDtcclxuXHJcbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcclxuICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XHJcbiAgICAgICAgcmVtb3ZlTm9kZShsYXN0KTtcclxuICAgICAgICBsYXN0ID0gbGFzdC5uZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsYXN0O1xyXG59XHJcblxyXG4vLyBlbGltaW5hdGUgY29saW5lYXIgb3IgZHVwbGljYXRlIHBvaW50c1xyXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xyXG4gICAgaWYgKCFzdGFydCkgcmV0dXJuIHN0YXJ0O1xyXG4gICAgaWYgKCFlbmQpIGVuZCA9IHN0YXJ0O1xyXG5cclxuICAgIHZhciBwID0gc3RhcnQsXHJcbiAgICAgICAgYWdhaW47XHJcbiAgICBkbyB7XHJcbiAgICAgICAgYWdhaW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xyXG4gICAgICAgICAgICBwID0gZW5kID0gcC5wcmV2O1xyXG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcclxuICAgICAgICAgICAgYWdhaW4gPSB0cnVlO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XHJcblxyXG4gICAgcmV0dXJuIGVuZDtcclxufVxyXG5cclxuLy8gbWFpbiBlYXIgc2xpY2luZyBsb29wIHdoaWNoIHRyaWFuZ3VsYXRlcyBhIHBvbHlnb24gKGdpdmVuIGFzIGEgbGlua2VkIGxpc3QpXHJcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XHJcbiAgICBpZiAoIWVhcikgcmV0dXJuO1xyXG5cclxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcclxuICAgIGlmICghcGFzcyAmJiBpbnZTaXplKSBpbmRleEN1cnZlKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSk7XHJcblxyXG4gICAgdmFyIHN0b3AgPSBlYXIsXHJcbiAgICAgICAgcHJldiwgbmV4dDtcclxuXHJcbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcclxuICAgIHdoaWxlIChlYXIucHJldiAhPT0gZWFyLm5leHQpIHtcclxuICAgICAgICBwcmV2ID0gZWFyLnByZXY7XHJcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xyXG5cclxuICAgICAgICBpZiAoaW52U2l6ZSA/IGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkgOiBpc0VhcihlYXIpKSB7XHJcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXHJcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHByZXYuaSAvIGRpbSB8IDApO1xyXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChlYXIuaSAvIGRpbSB8IDApO1xyXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChuZXh0LmkgLyBkaW0gfCAwKTtcclxuXHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZWFyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNraXBwaW5nIHRoZSBuZXh0IHZlcnRleCBsZWFkcyB0byBsZXNzIHNsaXZlciB0cmlhbmdsZXNcclxuICAgICAgICAgICAgZWFyID0gbmV4dC5uZXh0O1xyXG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xyXG5cclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlYXIgPSBuZXh0O1xyXG5cclxuICAgICAgICAvLyBpZiB3ZSBsb29wZWQgdGhyb3VnaCB0aGUgd2hvbGUgcmVtYWluaW5nIHBvbHlnb24gYW5kIGNhbid0IGZpbmQgYW55IG1vcmUgZWFyc1xyXG4gICAgICAgIGlmIChlYXIgPT09IHN0b3ApIHtcclxuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cclxuICAgICAgICAgICAgaWYgKCFwYXNzKSB7XHJcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZGlkbid0IHdvcmssIHRyeSBjdXJpbmcgYWxsIHNtYWxsIHNlbGYtaW50ZXJzZWN0aW9ucyBsb2NhbGx5XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0pO1xyXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDIpO1xyXG5cclxuICAgICAgICAgICAgLy8gYXMgYSBsYXN0IHJlc29ydCwgdHJ5IHNwbGl0dGluZyB0aGUgcmVtYWluaW5nIHBvbHlnb24gaW50byB0d29cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBjaGVjayB3aGV0aGVyIGEgcG9seWdvbiBub2RlIGZvcm1zIGEgdmFsaWQgZWFyIHdpdGggYWRqYWNlbnQgbm9kZXNcclxuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XHJcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxyXG4gICAgICAgIGIgPSBlYXIsXHJcbiAgICAgICAgYyA9IGVhci5uZXh0O1xyXG5cclxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcclxuXHJcbiAgICAvLyBub3cgbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgb3RoZXIgcG9pbnRzIGluc2lkZSB0aGUgcG90ZW50aWFsIGVhclxyXG4gICAgdmFyIGF4ID0gYS54LCBieCA9IGIueCwgY3ggPSBjLngsIGF5ID0gYS55LCBieSA9IGIueSwgY3kgPSBjLnk7XHJcblxyXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcclxuICAgIHZhciB4MCA9IGF4IDwgYnggPyAoYXggPCBjeCA/IGF4IDogY3gpIDogKGJ4IDwgY3ggPyBieCA6IGN4KSxcclxuICAgICAgICB5MCA9IGF5IDwgYnkgPyAoYXkgPCBjeSA/IGF5IDogY3kpIDogKGJ5IDwgY3kgPyBieSA6IGN5KSxcclxuICAgICAgICB4MSA9IGF4ID4gYnggPyAoYXggPiBjeCA/IGF4IDogY3gpIDogKGJ4ID4gY3ggPyBieCA6IGN4KSxcclxuICAgICAgICB5MSA9IGF5ID4gYnkgPyAoYXkgPiBjeSA/IGF5IDogY3kpIDogKGJ5ID4gY3kgPyBieSA6IGN5KTtcclxuXHJcbiAgICB2YXIgcCA9IGMubmV4dDtcclxuICAgIHdoaWxlIChwICE9PSBhKSB7XHJcbiAgICAgICAgaWYgKHAueCA+PSB4MCAmJiBwLnggPD0geDEgJiYgcC55ID49IHkwICYmIHAueSA8PSB5MSAmJlxyXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcC54LCBwLnkpICYmXHJcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIHtcclxuICAgIHZhciBhID0gZWFyLnByZXYsXHJcbiAgICAgICAgYiA9IGVhcixcclxuICAgICAgICBjID0gZWFyLm5leHQ7XHJcblxyXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxyXG5cclxuICAgIHZhciBheCA9IGEueCwgYnggPSBiLngsIGN4ID0gYy54LCBheSA9IGEueSwgYnkgPSBiLnksIGN5ID0gYy55O1xyXG5cclxuICAgIC8vIHRyaWFuZ2xlIGJib3g7IG1pbiAmIG1heCBhcmUgY2FsY3VsYXRlZCBsaWtlIHRoaXMgZm9yIHNwZWVkXHJcbiAgICB2YXIgeDAgPSBheCA8IGJ4ID8gKGF4IDwgY3ggPyBheCA6IGN4KSA6IChieCA8IGN4ID8gYnggOiBjeCksXHJcbiAgICAgICAgeTAgPSBheSA8IGJ5ID8gKGF5IDwgY3kgPyBheSA6IGN5KSA6IChieSA8IGN5ID8gYnkgOiBjeSksXHJcbiAgICAgICAgeDEgPSBheCA+IGJ4ID8gKGF4ID4gY3ggPyBheCA6IGN4KSA6IChieCA+IGN4ID8gYnggOiBjeCksXHJcbiAgICAgICAgeTEgPSBheSA+IGJ5ID8gKGF5ID4gY3kgPyBheSA6IGN5KSA6IChieSA+IGN5ID8gYnkgOiBjeSk7XHJcblxyXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcclxuICAgIHZhciBtaW5aID0gek9yZGVyKHgwLCB5MCwgbWluWCwgbWluWSwgaW52U2l6ZSksXHJcbiAgICAgICAgbWF4WiA9IHpPcmRlcih4MSwgeTEsIG1pblgsIG1pblksIGludlNpemUpO1xyXG5cclxuICAgIHZhciBwID0gZWFyLnByZXZaLFxyXG4gICAgICAgIG4gPSBlYXIubmV4dFo7XHJcblxyXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgaW4gYm90aCBkaXJlY3Rpb25zXHJcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWiAmJiBuICYmIG4ueiA8PSBtYXhaKSB7XHJcbiAgICAgICAgaWYgKHAueCA+PSB4MCAmJiBwLnggPD0geDEgJiYgcC55ID49IHkwICYmIHAueSA8PSB5MSAmJiBwICE9PSBhICYmIHAgIT09IGMgJiZcclxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHAueCwgcC55KSAmJiBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcCA9IHAucHJldlo7XHJcblxyXG4gICAgICAgIGlmIChuLnggPj0geDAgJiYgbi54IDw9IHgxICYmIG4ueSA+PSB5MCAmJiBuLnkgPD0geTEgJiYgbiAhPT0gYSAmJiBuICE9PSBjICYmXHJcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBuLngsIG4ueSkgJiYgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIG4gPSBuLm5leHRaO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyXHJcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWikge1xyXG4gICAgICAgIGlmIChwLnggPj0geDAgJiYgcC54IDw9IHgxICYmIHAueSA+PSB5MCAmJiBwLnkgPD0geTEgJiYgcCAhPT0gYSAmJiBwICE9PSBjICYmXHJcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBwLngsIHAueSkgJiYgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHAgPSBwLnByZXZaO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyXHJcbiAgICB3aGlsZSAobiAmJiBuLnogPD0gbWF4Wikge1xyXG4gICAgICAgIGlmIChuLnggPj0geDAgJiYgbi54IDw9IHgxICYmIG4ueSA+PSB5MCAmJiBuLnkgPD0geTEgJiYgbiAhPT0gYSAmJiBuICE9PSBjICYmXHJcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBuLngsIG4ueSkgJiYgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIG4gPSBuLm5leHRaO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9uc1xyXG5mdW5jdGlvbiBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSkge1xyXG4gICAgdmFyIHAgPSBzdGFydDtcclxuICAgIGRvIHtcclxuICAgICAgICB2YXIgYSA9IHAucHJldixcclxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xyXG5cclxuICAgICAgICBpZiAoIWVxdWFscyhhLCBiKSAmJiBpbnRlcnNlY3RzKGEsIHAsIHAubmV4dCwgYikgJiYgbG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpKSB7XHJcblxyXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChhLmkgLyBkaW0gfCAwKTtcclxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocC5pIC8gZGltIHwgMCk7XHJcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGIuaSAvIGRpbSB8IDApO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVtb3ZlIHR3byBub2RlcyBpbnZvbHZlZFxyXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKHAubmV4dCk7XHJcblxyXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xyXG5cclxuICAgIHJldHVybiBmaWx0ZXJQb2ludHMocCk7XHJcbn1cclxuXHJcbi8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5XHJcbmZ1bmN0aW9uIHNwbGl0RWFyY3V0KHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xyXG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cclxuICAgIHZhciBhID0gc3RhcnQ7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcclxuICAgICAgICB3aGlsZSAoYiAhPT0gYS5wcmV2KSB7XHJcbiAgICAgICAgICAgIGlmIChhLmkgIT09IGIuaSAmJiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikpIHtcclxuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcclxuICAgICAgICAgICAgICAgIHZhciBjID0gc3BsaXRQb2x5Z29uKGEsIGIpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXHJcbiAgICAgICAgICAgICAgICBhID0gZmlsdGVyUG9pbnRzKGEsIGEubmV4dCk7XHJcbiAgICAgICAgICAgICAgICBjID0gZmlsdGVyUG9pbnRzKGMsIGMubmV4dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcnVuIGVhcmN1dCBvbiBlYWNoIGhhbGZcclxuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChhLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMCk7XHJcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGEgPSBhLm5leHQ7XHJcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XHJcbn1cclxuXHJcbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcclxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKSB7XHJcbiAgICB2YXIgcXVldWUgPSBbXSxcclxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XHJcblxyXG4gICAgZm9yIChpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xyXG4gICAgICAgIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgbGlzdCA9IGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcclxuICAgICAgICBxdWV1ZS5wdXNoKGdldExlZnRtb3N0KGxpc3QpKTtcclxuICAgIH1cclxuXHJcbiAgICBxdWV1ZS5zb3J0KGNvbXBhcmVYKTtcclxuXHJcbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxyXG4gICAgZm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZShxdWV1ZVtpXSwgb3V0ZXJOb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb3V0ZXJOb2RlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wYXJlWChhLCBiKSB7XHJcbiAgICByZXR1cm4gYS54IC0gYi54O1xyXG59XHJcblxyXG4vLyBmaW5kIGEgYnJpZGdlIGJldHdlZW4gdmVydGljZXMgdGhhdCBjb25uZWN0cyBob2xlIHdpdGggYW4gb3V0ZXIgcmluZyBhbmQgYW5kIGxpbmsgaXRcclxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLCBvdXRlck5vZGUpIHtcclxuICAgIHZhciBicmlkZ2UgPSBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpO1xyXG4gICAgaWYgKCFicmlkZ2UpIHtcclxuICAgICAgICByZXR1cm4gb3V0ZXJOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBicmlkZ2VSZXZlcnNlID0gc3BsaXRQb2x5Z29uKGJyaWRnZSwgaG9sZSk7XHJcblxyXG4gICAgLy8gZmlsdGVyIGNvbGxpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXHJcbiAgICBmaWx0ZXJQb2ludHMoYnJpZGdlUmV2ZXJzZSwgYnJpZGdlUmV2ZXJzZS5uZXh0KTtcclxuICAgIHJldHVybiBmaWx0ZXJQb2ludHMoYnJpZGdlLCBicmlkZ2UubmV4dCk7XHJcbn1cclxuXHJcbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cclxuZnVuY3Rpb24gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKSB7XHJcbiAgICB2YXIgcCA9IG91dGVyTm9kZSxcclxuICAgICAgICBoeCA9IGhvbGUueCxcclxuICAgICAgICBoeSA9IGhvbGUueSxcclxuICAgICAgICBxeCA9IC1JbmZpbml0eSxcclxuICAgICAgICBtO1xyXG5cclxuICAgIC8vIGZpbmQgYSBzZWdtZW50IGludGVyc2VjdGVkIGJ5IGEgcmF5IGZyb20gdGhlIGhvbGUncyBsZWZ0bW9zdCBwb2ludCB0byB0aGUgbGVmdDtcclxuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcclxuICAgIGRvIHtcclxuICAgICAgICBpZiAoaHkgPD0gcC55ICYmIGh5ID49IHAubmV4dC55ICYmIHAubmV4dC55ICE9PSBwLnkpIHtcclxuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XHJcbiAgICAgICAgICAgIGlmICh4IDw9IGh4ICYmIHggPiBxeCkge1xyXG4gICAgICAgICAgICAgICAgcXggPSB4O1xyXG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcclxuICAgICAgICAgICAgICAgIGlmICh4ID09PSBoeCkgcmV0dXJuIG07IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxlZnRtb3N0IGVuZHBvaW50XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcCA9IHAubmV4dDtcclxuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XHJcblxyXG4gICAgaWYgKCFtKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7XHJcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcclxuICAgIC8vIG90aGVyd2lzZSBjaG9vc2UgdGhlIHBvaW50IG9mIHRoZSBtaW5pbXVtIGFuZ2xlIHdpdGggdGhlIHJheSBhcyBjb25uZWN0aW9uIHBvaW50XHJcblxyXG4gICAgdmFyIHN0b3AgPSBtLFxyXG4gICAgICAgIG14ID0gbS54LFxyXG4gICAgICAgIG15ID0gbS55LFxyXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxyXG4gICAgICAgIHRhbjtcclxuXHJcbiAgICBwID0gbTtcclxuXHJcbiAgICBkbyB7XHJcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxyXG4gICAgICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGh5IDwgbXkgPyBoeCA6IHF4LCBoeSwgbXgsIG15LCBoeSA8IG15ID8gcXggOiBoeCwgaHksIHAueCwgcC55KSkge1xyXG5cclxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxyXG5cclxuICAgICAgICAgICAgaWYgKGxvY2FsbHlJbnNpZGUocCwgaG9sZSkgJiZcclxuICAgICAgICAgICAgICAgICh0YW4gPCB0YW5NaW4gfHwgKHRhbiA9PT0gdGFuTWluICYmIChwLnggPiBtLnggfHwgKHAueCA9PT0gbS54ICYmIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApKSkpKSkge1xyXG4gICAgICAgICAgICAgICAgbSA9IHA7XHJcbiAgICAgICAgICAgICAgICB0YW5NaW4gPSB0YW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHAgPSBwLm5leHQ7XHJcbiAgICB9IHdoaWxlIChwICE9PSBzdG9wKTtcclxuXHJcbiAgICByZXR1cm4gbTtcclxufVxyXG5cclxuLy8gd2hldGhlciBzZWN0b3IgaW4gdmVydGV4IG0gY29udGFpbnMgc2VjdG9yIGluIHZlcnRleCBwIGluIHRoZSBzYW1lIGNvb3JkaW5hdGVzXHJcbmZ1bmN0aW9uIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApIHtcclxuICAgIHJldHVybiBhcmVhKG0ucHJldiwgbSwgcC5wcmV2KSA8IDAgJiYgYXJlYShwLm5leHQsIG0sIG0ubmV4dCkgPCAwO1xyXG59XHJcblxyXG4vLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXHJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcclxuICAgIHZhciBwID0gc3RhcnQ7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgaWYgKHAueiA9PT0gMCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcclxuICAgICAgICBwLnByZXZaID0gcC5wcmV2O1xyXG4gICAgICAgIHAubmV4dFogPSBwLm5leHQ7XHJcbiAgICAgICAgcCA9IHAubmV4dDtcclxuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcclxuXHJcbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcclxuICAgIHAucHJldlogPSBudWxsO1xyXG5cclxuICAgIHNvcnRMaW5rZWQocCk7XHJcbn1cclxuXHJcbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXHJcbi8vIGh0dHA6Ly93d3cuY2hpYXJrLmdyZWVuZW5kLm9yZy51ay9+c2d0YXRoYW0vYWxnb3JpdGhtcy9saXN0c29ydC5odG1sXHJcbmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCkge1xyXG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxyXG4gICAgICAgIGluU2l6ZSA9IDE7XHJcblxyXG4gICAgZG8ge1xyXG4gICAgICAgIHAgPSBsaXN0O1xyXG4gICAgICAgIGxpc3QgPSBudWxsO1xyXG4gICAgICAgIHRhaWwgPSBudWxsO1xyXG4gICAgICAgIG51bU1lcmdlcyA9IDA7XHJcblxyXG4gICAgICAgIHdoaWxlIChwKSB7XHJcbiAgICAgICAgICAgIG51bU1lcmdlcysrO1xyXG4gICAgICAgICAgICBxID0gcDtcclxuICAgICAgICAgICAgcFNpemUgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5TaXplOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHBTaXplKys7XHJcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcclxuICAgICAgICAgICAgICAgIGlmICghcSkgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAocFNpemUgPiAwIHx8IChxU2l6ZSA+IDAgJiYgcSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocFNpemUgIT09IDAgJiYgKHFTaXplID09PSAwIHx8ICFxIHx8IHAueiA8PSBxLnopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZSA9IHA7XHJcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XHJcbiAgICAgICAgICAgICAgICAgICAgcFNpemUtLTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XHJcbiAgICAgICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XHJcbiAgICAgICAgICAgICAgICAgICAgcVNpemUtLTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGFpbCkgdGFpbC5uZXh0WiA9IGU7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xyXG5cclxuICAgICAgICAgICAgICAgIGUucHJldlogPSB0YWlsO1xyXG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHAgPSBxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XHJcbiAgICAgICAgaW5TaXplICo9IDI7XHJcblxyXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XHJcblxyXG4gICAgcmV0dXJuIGxpc3Q7XHJcbn1cclxuXHJcbi8vIHotb3JkZXIgb2YgYSBwb2ludCBnaXZlbiBjb29yZHMgYW5kIGludmVyc2Ugb2YgdGhlIGxvbmdlciBzaWRlIG9mIGRhdGEgYmJveFxyXG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xyXG4gICAgLy8gY29vcmRzIGFyZSB0cmFuc2Zvcm1lZCBpbnRvIG5vbi1uZWdhdGl2ZSAxNS1iaXQgaW50ZWdlciByYW5nZVxyXG4gICAgeCA9ICh4IC0gbWluWCkgKiBpbnZTaXplIHwgMDtcclxuICAgIHkgPSAoeSAtIG1pblkpICogaW52U2l6ZSB8IDA7XHJcblxyXG4gICAgeCA9ICh4IHwgKHggPDwgOCkpICYgMHgwMEZGMDBGRjtcclxuICAgIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XHJcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xyXG4gICAgeCA9ICh4IHwgKHggPDwgMSkpICYgMHg1NTU1NTU1NTtcclxuXHJcbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xyXG4gICAgeSA9ICh5IHwgKHkgPDwgNCkpICYgMHgwRjBGMEYwRjtcclxuICAgIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XHJcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xyXG5cclxuICAgIHJldHVybiB4IHwgKHkgPDwgMSk7XHJcbn1cclxuXHJcbi8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcclxuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcclxuICAgIHZhciBwID0gc3RhcnQsXHJcbiAgICAgICAgbGVmdG1vc3QgPSBzdGFydDtcclxuICAgIGRvIHtcclxuICAgICAgICBpZiAocC54IDwgbGVmdG1vc3QueCB8fCAocC54ID09PSBsZWZ0bW9zdC54ICYmIHAueSA8IGxlZnRtb3N0LnkpKSBsZWZ0bW9zdCA9IHA7XHJcbiAgICAgICAgcCA9IHAubmV4dDtcclxuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcclxuXHJcbiAgICByZXR1cm4gbGVmdG1vc3Q7XHJcbn1cclxuXHJcbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcclxuZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHB4LCBweSkge1xyXG4gICAgcmV0dXJuIChjeCAtIHB4KSAqIChheSAtIHB5KSA+PSAoYXggLSBweCkgKiAoY3kgLSBweSkgJiZcclxuICAgICAgICAgICAoYXggLSBweCkgKiAoYnkgLSBweSkgPj0gKGJ4IC0gcHgpICogKGF5IC0gcHkpICYmXHJcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpID49IChjeCAtIHB4KSAqIChieSAtIHB5KTtcclxufVxyXG5cclxuLy8gY2hlY2sgaWYgYSBkaWFnb25hbCBiZXR3ZWVuIHR3byBwb2x5Z29uIG5vZGVzIGlzIHZhbGlkIChsaWVzIGluIHBvbHlnb24gaW50ZXJpb3IpXHJcbmZ1bmN0aW9uIGlzVmFsaWREaWFnb25hbChhLCBiKSB7XHJcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJiAvLyBkb25lcyd0IGludGVyc2VjdCBvdGhlciBlZGdlc1xyXG4gICAgICAgICAgIChsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpICYmIC8vIGxvY2FsbHkgdmlzaWJsZVxyXG4gICAgICAgICAgICAoYXJlYShhLnByZXYsIGEsIGIucHJldikgfHwgYXJlYShhLCBiLnByZXYsIGIpKSB8fCAvLyBkb2VzIG5vdCBjcmVhdGUgb3Bwb3NpdGUtZmFjaW5nIHNlY3RvcnNcclxuICAgICAgICAgICAgZXF1YWxzKGEsIGIpICYmIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpID4gMCAmJiBhcmVhKGIucHJldiwgYiwgYi5uZXh0KSA+IDApOyAvLyBzcGVjaWFsIHplcm8tbGVuZ3RoIGNhc2VcclxufVxyXG5cclxuLy8gc2lnbmVkIGFyZWEgb2YgYSB0cmlhbmdsZVxyXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcclxuICAgIHJldHVybiAocS55IC0gcC55KSAqIChyLnggLSBxLngpIC0gKHEueCAtIHAueCkgKiAoci55IC0gcS55KTtcclxufVxyXG5cclxuLy8gY2hlY2sgaWYgdHdvIHBvaW50cyBhcmUgZXF1YWxcclxuZnVuY3Rpb24gZXF1YWxzKHAxLCBwMikge1xyXG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcclxufVxyXG5cclxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxyXG5mdW5jdGlvbiBpbnRlcnNlY3RzKHAxLCBxMSwgcDIsIHEyKSB7XHJcbiAgICB2YXIgbzEgPSBzaWduKGFyZWEocDEsIHExLCBwMikpO1xyXG4gICAgdmFyIG8yID0gc2lnbihhcmVhKHAxLCBxMSwgcTIpKTtcclxuICAgIHZhciBvMyA9IHNpZ24oYXJlYShwMiwgcTIsIHAxKSk7XHJcbiAgICB2YXIgbzQgPSBzaWduKGFyZWEocDIsIHEyLCBxMSkpO1xyXG5cclxuICAgIGlmIChvMSAhPT0gbzIgJiYgbzMgIT09IG80KSByZXR1cm4gdHJ1ZTsgLy8gZ2VuZXJhbCBjYXNlXHJcblxyXG4gICAgaWYgKG8xID09PSAwICYmIG9uU2VnbWVudChwMSwgcDIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcDIgYXJlIGNvbGxpbmVhciBhbmQgcDIgbGllcyBvbiBwMXExXHJcbiAgICBpZiAobzIgPT09IDAgJiYgb25TZWdtZW50KHAxLCBxMiwgcTEpKSByZXR1cm4gdHJ1ZTsgLy8gcDEsIHExIGFuZCBxMiBhcmUgY29sbGluZWFyIGFuZCBxMiBsaWVzIG9uIHAxcTFcclxuICAgIGlmIChvMyA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHAxLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHAxIGFyZSBjb2xsaW5lYXIgYW5kIHAxIGxpZXMgb24gcDJxMlxyXG4gICAgaWYgKG80ID09PSAwICYmIG9uU2VnbWVudChwMiwgcTEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcTEgYXJlIGNvbGxpbmVhciBhbmQgcTEgbGllcyBvbiBwMnEyXHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4vLyBmb3IgY29sbGluZWFyIHBvaW50cyBwLCBxLCByLCBjaGVjayBpZiBwb2ludCBxIGxpZXMgb24gc2VnbWVudCBwclxyXG5mdW5jdGlvbiBvblNlZ21lbnQocCwgcSwgcikge1xyXG4gICAgcmV0dXJuIHEueCA8PSBNYXRoLm1heChwLngsIHIueCkgJiYgcS54ID49IE1hdGgubWluKHAueCwgci54KSAmJiBxLnkgPD0gTWF0aC5tYXgocC55LCByLnkpICYmIHEueSA+PSBNYXRoLm1pbihwLnksIHIueSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNpZ24obnVtKSB7XHJcbiAgICByZXR1cm4gbnVtID4gMCA/IDEgOiBudW0gPCAwID8gLTEgOiAwO1xyXG59XHJcblxyXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xyXG5mdW5jdGlvbiBpbnRlcnNlY3RzUG9seWdvbihhLCBiKSB7XHJcbiAgICB2YXIgcCA9IGE7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgaWYgKHAuaSAhPT0gYS5pICYmIHAubmV4dC5pICE9PSBhLmkgJiYgcC5pICE9PSBiLmkgJiYgcC5uZXh0LmkgIT09IGIuaSAmJlxyXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0cyhwLCBwLm5leHQsIGEsIGIpKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cclxuZnVuY3Rpb24gbG9jYWxseUluc2lkZShhLCBiKSB7XHJcbiAgICByZXR1cm4gYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPCAwID9cclxuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XHJcbiAgICAgICAgYXJlYShhLCBiLCBhLnByZXYpIDwgMCB8fCBhcmVhKGEsIGEubmV4dCwgYikgPCAwO1xyXG59XHJcblxyXG4vLyBjaGVjayBpZiB0aGUgbWlkZGxlIHBvaW50IG9mIGEgcG9seWdvbiBkaWFnb25hbCBpcyBpbnNpZGUgdGhlIHBvbHlnb25cclxuZnVuY3Rpb24gbWlkZGxlSW5zaWRlKGEsIGIpIHtcclxuICAgIHZhciBwID0gYSxcclxuICAgICAgICBpbnNpZGUgPSBmYWxzZSxcclxuICAgICAgICBweCA9IChhLnggKyBiLngpIC8gMixcclxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcclxuICAgIGRvIHtcclxuICAgICAgICBpZiAoKChwLnkgPiBweSkgIT09IChwLm5leHQueSA+IHB5KSkgJiYgcC5uZXh0LnkgIT09IHAueSAmJlxyXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcclxuICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcclxuICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XHJcblxyXG4gICAgcmV0dXJuIGluc2lkZTtcclxufVxyXG5cclxuLy8gbGluayB0d28gcG9seWdvbiB2ZXJ0aWNlcyB3aXRoIGEgYnJpZGdlOyBpZiB0aGUgdmVydGljZXMgYmVsb25nIHRvIHRoZSBzYW1lIHJpbmcsIGl0IHNwbGl0cyBwb2x5Z29uIGludG8gdHdvO1xyXG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcclxuZnVuY3Rpb24gc3BsaXRQb2x5Z29uKGEsIGIpIHtcclxuICAgIHZhciBhMiA9IG5ldyBOb2RlKGEuaSwgYS54LCBhLnkpLFxyXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXHJcbiAgICAgICAgYW4gPSBhLm5leHQsXHJcbiAgICAgICAgYnAgPSBiLnByZXY7XHJcblxyXG4gICAgYS5uZXh0ID0gYjtcclxuICAgIGIucHJldiA9IGE7XHJcblxyXG4gICAgYTIubmV4dCA9IGFuO1xyXG4gICAgYW4ucHJldiA9IGEyO1xyXG5cclxuICAgIGIyLm5leHQgPSBhMjtcclxuICAgIGEyLnByZXYgPSBiMjtcclxuXHJcbiAgICBicC5uZXh0ID0gYjI7XHJcbiAgICBiMi5wcmV2ID0gYnA7XHJcblxyXG4gICAgcmV0dXJuIGIyO1xyXG59XHJcblxyXG4vLyBjcmVhdGUgYSBub2RlIGFuZCBvcHRpb25hbGx5IGxpbmsgaXQgd2l0aCBwcmV2aW91cyBvbmUgKGluIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0KVxyXG5mdW5jdGlvbiBpbnNlcnROb2RlKGksIHgsIHksIGxhc3QpIHtcclxuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XHJcblxyXG4gICAgaWYgKCFsYXN0KSB7XHJcbiAgICAgICAgcC5wcmV2ID0gcDtcclxuICAgICAgICBwLm5leHQgPSBwO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcC5uZXh0ID0gbGFzdC5uZXh0O1xyXG4gICAgICAgIHAucHJldiA9IGxhc3Q7XHJcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xyXG4gICAgICAgIGxhc3QubmV4dCA9IHA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XHJcbiAgICBwLm5leHQucHJldiA9IHAucHJldjtcclxuICAgIHAucHJldi5uZXh0ID0gcC5uZXh0O1xyXG5cclxuICAgIGlmIChwLnByZXZaKSBwLnByZXZaLm5leHRaID0gcC5uZXh0WjtcclxuICAgIGlmIChwLm5leHRaKSBwLm5leHRaLnByZXZaID0gcC5wcmV2WjtcclxufVxyXG5cclxuZnVuY3Rpb24gTm9kZShpLCB4LCB5KSB7XHJcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcclxuICAgIHRoaXMuaSA9IGk7XHJcblxyXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuXHJcbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCB2ZXJ0ZXggbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmdcclxuICAgIHRoaXMucHJldiA9IG51bGw7XHJcbiAgICB0aGlzLm5leHQgPSBudWxsO1xyXG5cclxuICAgIC8vIHotb3JkZXIgY3VydmUgdmFsdWVcclxuICAgIHRoaXMueiA9IDA7XHJcblxyXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgbm9kZXMgaW4gei1vcmRlclxyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XHJcbiAgICB0aGlzLm5leHRaID0gbnVsbDtcclxuXHJcbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxyXG4gICAgdGhpcy5zdGVpbmVyID0gZmFsc2U7XHJcbn1cclxuXHJcbi8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7XHJcbi8vIHVzZWQgdG8gdmVyaWZ5IGNvcnJlY3RuZXNzIG9mIHRyaWFuZ3VsYXRpb25cclxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcclxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aDtcclxuICAgIHZhciBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcclxuXHJcbiAgICB2YXIgcG9seWdvbkFyZWEgPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIDAsIG91dGVyTGVuLCBkaW0pKTtcclxuICAgIGlmIChoYXNIb2xlcykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcclxuICAgICAgICAgICAgdmFyIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciB0cmlhbmdsZXNBcmVhID0gMDtcclxuICAgIGZvciAoaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpICs9IDMpIHtcclxuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcclxuICAgICAgICB2YXIgYiA9IHRyaWFuZ2xlc1tpICsgMV0gKiBkaW07XHJcbiAgICAgICAgdmFyIGMgPSB0cmlhbmdsZXNbaSArIDJdICogZGltO1xyXG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXHJcbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtjXSkgKiAoZGF0YVtiICsgMV0gLSBkYXRhW2EgKyAxXSkgLVxyXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbYl0pICogKGRhdGFbYyArIDFdIC0gZGF0YVthICsgMV0pKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcG9seWdvbkFyZWEgPT09IDAgJiYgdHJpYW5nbGVzQXJlYSA9PT0gMCA/IDAgOlxyXG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcclxuICAgIHZhciBzdW0gPSAwO1xyXG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0LCBqID0gZW5kIC0gZGltOyBpIDwgZW5kOyBpICs9IGRpbSkge1xyXG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xyXG4gICAgICAgIGogPSBpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN1bTtcclxufVxyXG5cclxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXHJcbmVhcmN1dC5mbGF0dGVuID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIHZhciBkaW0gPSBkYXRhWzBdWzBdLmxlbmd0aCxcclxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXHJcbiAgICAgICAgaG9sZUluZGV4ID0gMDtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBkaW07IGQrKykgcmVzdWx0LnZlcnRpY2VzLnB1c2goZGF0YVtpXVtqXVtkXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICBob2xlSW5kZXggKz0gZGF0YVtpIC0gMV0ubGVuZ3RoO1xyXG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbiIsICJleHBvcnQgKiBmcm9tICcuLzh0aHdhbGwtY2FtZXJhLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9hbmNob3IuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2N1cnNvci10YXJnZXQuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2N1cnNvci5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZGVidWctb2JqZWN0LmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9kZXZpY2Utb3JpZW50YXRpb24tbG9vay5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZmluZ2VyLWN1cnNvci5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZml4ZWQtZm92ZWF0aW9uLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9oYW5kLXRyYWNraW5nLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9oaXQtdGVzdC1sb2NhdGlvbi5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaG93bGVyLWF1ZGlvLWxpc3RlbmVyLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9ob3dsZXItYXVkaW8tc291cmNlLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9pbWFnZS10ZXh0dXJlLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9tb3VzZS1sb29rLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9wbGF5ZXItaGVpZ2h0LmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi90YXJnZXQtZnJhbWVyYXRlLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi90ZWxlcG9ydC5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdHJhaWwuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3R3by1qb2ludC1pay1zb2x2ZXIuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3ZpZGVvLXRleHR1cmUuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3ZyLW1vZGUtYWN0aXZlLXN3aXRjaC5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vcGxhbmUtZGV0ZWN0aW9uLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi92cm0uanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3dhc2QtY29udHJvbHMuanMnO1xyXG4iLCAiLyoqXHJcbiAqIENvbXBvbmVudCBwcm9wZXJ0eSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IHZhciBUeXBlO1xyXG4oZnVuY3Rpb24gKFR5cGUpIHtcclxuICAgIC8qKlxyXG4gICAgICogKipOYXRpdmUqKlxyXG4gICAgICpcclxuICAgICAqIFByb3BlcnR5IG9mIGEgbmF0aXZlIGNvbXBvbmVudC4gTXVzdCBub3QgYmUgdXNlZCBpbiBjdXN0b20gY29tcG9uZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIk5hdGl2ZVwiXSA9IDFdID0gXCJOYXRpdmVcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipCb29sKio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgY2hlY2tib3guXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgZmFsc2VgLCB1bmxlc3Mgb3ZlcnJpZGRlbiBieSB0aGUgYGRlZmF1bHRgIHByb3BlcnR5LlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJCb29sXCJdID0gMl0gPSBcIkJvb2xcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipJbnQqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYW4gaW50ZWdlciBpbnB1dCBmaWVsZC5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGAwYCwgdW5sZXNzIG92ZXJyaWRkZW4gYnkgdGhlIGBkZWZhdWx0YCBwcm9wZXJ0eS5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiSW50XCJdID0gNF0gPSBcIkludFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKkZsb2F0Kio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgZmxvYXRpbmcgcG9pbnQgaW5wdXQgZmllbGQuXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgMC4wYCwgdW5sZXNzIG92ZXJyaWRkZW4gYnkgdGhlIGBkZWZhdWx0YCBwcm9wZXJ0eS5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiRmxvYXRcIl0gPSA4XSA9IFwiRmxvYXRcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipTdHJpbmcgLyBUZXh0Kio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgc2luZ2xlLWxpbmUgdGV4dCBpbnB1dCBmaWVsZC5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGFuIGVtcHR5IHN0cmluZywgdW5sZXNzIG92ZXJyaWRkZW4gYnkgdGhlIGBkZWZhdWx0YFxyXG4gICAgICogcHJvcGVydHkuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIlN0cmluZ1wiXSA9IDE2XSA9IFwiU3RyaW5nXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqRW51bWVyYXRpb24qKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBkcm9wZG93biB3aXRoIGdpdmVuIHZhbHVlcy4gVGhlIGFkZGl0aW9uYWxcclxuICAgICAqIGB2YWx1ZXNgIHBhcmFtZXRlciB3aXRoIHNlbGVjdGlvbiBvcHRpb25zIGlzIG1hbmRhdG9yeS5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgcHJvcGVydHkgdmFsdWUgaXMgcmVzb2x2ZWQgdG8gYW4gKippbmRleCoqIGludG8gdGhlIGB2YWx1ZXNgIGFycmF5LlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gYHZhbHVlc2AsIHVubGVzcyBvdmVycmlkZGVuIGJ5XHJcbiAgICAgKiB0aGUgYGRlZmF1bHRgIHByb3BlcnR5LiBUaGUgYGRlZmF1bHRgIHZhbHVlIGNhbiBiZSBhIHN0cmluZyBvciBhbiBpbmRleFxyXG4gICAgICogaW50byBgdmFsdWVzYC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgICAgY2FtZXJhOiB7dHlwZTogVHlwZS5FbnVtLCB2YWx1ZXM6IFsnYXV0bycsICdiYWNrJywgJ2Zyb250J10sIGRlZmF1bHQ6ICdhdXRvJ30sXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiRW51bVwiXSA9IDMyXSA9IFwiRW51bVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKk9iamVjdCByZWZlcmVuY2UqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYW4gb2JqZWN0IHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93blxyXG4gICAgICogd2l0aCBvYmplY3QgcGlja2VyLlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJPYmplY3RcIl0gPSA2NF0gPSBcIk9iamVjdFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKk1lc2ggcmVmZXJlbmNlKio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgbWVzaCByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd24uXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIk1lc2hcIl0gPSAxMjhdID0gXCJNZXNoXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqVGV4dHVyZSByZWZlcmVuY2UqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSB0ZXh0dXJlIHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93bi5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBudWxsYC5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiVGV4dHVyZVwiXSA9IDI1Nl0gPSBcIlRleHR1cmVcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipNYXRlcmlhbCByZWZlcmVuY2UqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBtYXRlcmlhbCByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd24uXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIk1hdGVyaWFsXCJdID0gNTEyXSA9IFwiTWF0ZXJpYWxcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipBbmltYXRpb24gcmVmZXJlbmNlKio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGFuIGFuaW1hdGlvbiByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd24uXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIkFuaW1hdGlvblwiXSA9IDEwMjRdID0gXCJBbmltYXRpb25cIjtcclxuICAgIC8qKlxyXG4gICAgICogKipTa2luIHJlZmVyZW5jZSoqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIHNraW4gcmVzb3VyY2Ugc2VsZWN0aW9uIGRyb3Bkb3duLlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJTa2luXCJdID0gMjA0OF0gPSBcIlNraW5cIjtcclxuICAgIC8qKlxyXG4gICAgICogKipDb2xvcioqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIGNvbG9yIHdpZGdldC5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBbMC4wLCAwLjAsIDAuMCwgMS4wXWAsIHVubGVzcyBvdmVycmlkZGVuIGJ5IHRoZVxyXG4gICAgICogYGRlZmF1bHRgIHByb3BlcnR5LlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJDb2xvclwiXSA9IDQwOTZdID0gXCJDb2xvclwiO1xyXG59KShUeXBlIHx8IChUeXBlID0ge30pKTtcclxuLyoqXHJcbiAqIENvbXBvbmVudCBwcm9wZXJ0eSBuYW1lc3BhY2UuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQge0NvbXBvbmVudCwgUHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqXHJcbiAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gKiAgICAgICAgIG15Qm9vbDogUHJvcGVydHkuYm9vbCh0cnVlKSxcclxuICogICAgICAgICBteUludDogUHJvcGVydHkuaW50KDQyKSxcclxuICogICAgICAgICBteVN0cmluZzogUHJvcGVydHkuc3RyaW5nKCdIZWxsbyBXb3JsZCEnKSxcclxuICogICAgICAgICBteU1lc2g6IFByb3BlcnR5Lm1lc2goKSxcclxuICogICAgIH1cclxuICogfVxyXG4gKiBgYGBcclxuICpcclxuICogRm9yIFR5cGVTY3JpcHQgdXNlcnMsIHlvdSBjYW4gdXNlIHRoZSBkZWNvcmF0b3JzIGluc3RlYWQuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgUHJvcGVydHkgPSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbiBib29sZWFuIHByb3BlcnR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdHMgdG8gYGZhbHNlYC5cclxuICAgICAqL1xyXG4gICAgYm9vbChkZWZhdWx0VmFsdWUgPSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gaW50ZWdlciBwcm9wZXJ0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIGAwYC5cclxuICAgICAqL1xyXG4gICAgaW50KGRlZmF1bHRWYWx1ZSA9IDApIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gZmxvYXQgcHJvcGVydHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byBgMC4wYC5cclxuICAgICAqL1xyXG4gICAgZmxvYXQoZGVmYXVsdFZhbHVlID0gMC4wKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gc3RyaW5nIHByb3BlcnR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdHMgdG8gYCcnYC5cclxuICAgICAqL1xyXG4gICAgc3RyaW5nKGRlZmF1bHRWYWx1ZSA9ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5TdHJpbmcsIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIGVudW1lcmF0aW9uIHByb3BlcnR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWx1ZXMgVGhlIGxpc3Qgb2YgdmFsdWVzLlxyXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS4gQ2FuIGJlIGEgc3RyaW5nIG9yIGFuIGluZGV4IGludG9cclxuICAgICAqICAgICBgdmFsdWVzYC4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgZW51bSh2YWx1ZXMsIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuRW51bSwgdmFsdWVzLCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgfTtcclxuICAgIH0sXHJcbiAgICAvKiogQ3JlYXRlIGFuIHtAbGluayBPYmplY3QzRH0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xyXG4gICAgb2JqZWN0KG9wdHMpIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLk9iamVjdCwgZGVmYXVsdDogbnVsbCwgcmVxdWlyZWQ6IG9wdHM/LnJlcXVpcmVkID8/IGZhbHNlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqIENyZWF0ZSBhIHtAbGluayBNZXNofSByZWZlcmVuY2UgcHJvcGVydHkuICovXHJcbiAgICBtZXNoKG9wdHMpIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLk1lc2gsIGRlZmF1bHQ6IG51bGwsIHJlcXVpcmVkOiBvcHRzPy5yZXF1aXJlZCA/PyBmYWxzZSB9O1xyXG4gICAgfSxcclxuICAgIC8qKiBDcmVhdGUgYSB7QGxpbmsgVGV4dHVyZX0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xyXG4gICAgdGV4dHVyZShvcHRzKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5UZXh0dXJlLCBkZWZhdWx0OiBudWxsLCByZXF1aXJlZDogb3B0cz8ucmVxdWlyZWQgPz8gZmFsc2UgfTtcclxuICAgIH0sXHJcbiAgICAvKiogQ3JlYXRlIGEge0BsaW5rIE1hdGVyaWFsfSByZWZlcmVuY2UgcHJvcGVydHkuICovXHJcbiAgICBtYXRlcmlhbChvcHRzKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5NYXRlcmlhbCwgZGVmYXVsdDogbnVsbCwgcmVxdWlyZWQ6IG9wdHM/LnJlcXVpcmVkID8/IGZhbHNlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqIENyZWF0ZSBhbiB7QGxpbmsgQW5pbWF0aW9ufSByZWZlcmVuY2UgcHJvcGVydHkuICovXHJcbiAgICBhbmltYXRpb24ob3B0cykge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuQW5pbWF0aW9uLCBkZWZhdWx0OiBudWxsLCByZXF1aXJlZDogb3B0cz8ucmVxdWlyZWQgPz8gZmFsc2UgfTtcclxuICAgIH0sXHJcbiAgICAvKiogQ3JlYXRlIGEge0BsaW5rIFNraW59IHJlZmVyZW5jZSBwcm9wZXJ0eS4gKi9cclxuICAgIHNraW4ob3B0cykge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuU2tpbiwgZGVmYXVsdDogbnVsbCwgcmVxdWlyZWQ6IG9wdHM/LnJlcXVpcmVkID8/IGZhbHNlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBjb2xvciBwcm9wZXJ0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gciBUaGUgcmVkIGNvbXBvbmVudCwgaW4gdGhlIHJhbmdlIFswOyAxXS5cclxuICAgICAqIEBwYXJhbSBnIFRoZSBncmVlbiBjb21wb25lbnQsIGluIHRoZSByYW5nZSBbMDsgMV0uXHJcbiAgICAgKiBAcGFyYW0gYiBUaGUgYmx1ZSBjb21wb25lbnQsIGluIHRoZSByYW5nZSBbMDsgMV0uXHJcbiAgICAgKiBAcGFyYW0gYSBUaGUgYWxwaGEgY29tcG9uZW50LCBpbiB0aGUgcmFuZ2UgWzA7IDFdLlxyXG4gICAgICovXHJcbiAgICBjb2xvcihyID0gMC4wLCBnID0gMC4wLCBiID0gMC4wLCBhID0gMS4wKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5Db2xvciwgZGVmYXVsdDogW3IsIGcsIGIsIGFdIH07XHJcbiAgICB9LFxyXG59O1xyXG4iLCAiaW1wb3J0IHsgUHJvcGVydHksIFR5cGUgfSBmcm9tICcuL3Byb3BlcnR5LmpzJztcclxuLyoqXHJcbiAqIERlY29yYXRvciBmb3IgSlMgY29tcG9uZW50IHByb3BlcnRpZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSBkYXRhIFRoZSBwcm9wZXJ0eSBkZXNjcmlwdGlvbiBhcyBhbiBvYmplY3QgbGl0ZXJhbFxyXG4gKiBAcmV0dXJucyBBIGRlY29yYXRvciBmdW5jdGlvbiBtb2RpZnlpbmcgdGhlIGBQcm9wZXJ0aWVzYCBzdGF0aWNcclxuICogICAgIGF0dHJpYnV0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcHJvcGVydHlEZWNvcmF0b3IoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XHJcbiAgICAgICAgY29uc3QgY3RvciA9IHRhcmdldC5jb25zdHJ1Y3RvcjtcclxuICAgICAgICBjdG9yLlByb3BlcnRpZXMgPSBjdG9yLmhhc093blByb3BlcnR5KCdQcm9wZXJ0aWVzJykgPyBjdG9yLlByb3BlcnRpZXMgOiB7fTtcclxuICAgICAgICBjdG9yLlByb3BlcnRpZXNbcHJvcGVydHlLZXldID0gZGF0YTtcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIERlY29yYXRvciBmb3IgbWFraW5nIGEgZ2V0dGVyIGVudW1lcmFibGUuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKlxyXG4gKiBgYGB0c1xyXG4gKiBjbGFzcyBNeUNsYXNzIHtcclxuICogICAgIEBlbnVtZXJhYmxlKClcclxuICogICAgIGdldCBwcm9qZWN0aW9uTWF0cml4KCk6IEZsb2F0MzJBcnJheSB7IC4uLiB9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZW51bWVyYWJsZSgpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoXywgX18sIGRlc2NyaXB0b3IpIHtcclxuICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSB0cnVlO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogRGVjb3JhdG9yIGZvciBuYXRpdmUgcHJvcGVydGllcy5cclxuICpcclxuICogVXNhZ2U6XHJcbiAqXHJcbiAqIGBgYHRzXHJcbiAqIGNsYXNzIE15Q2xhc3Mge1xyXG4gKiAgICAgQG5hdGl2ZVByb3BlcnR5KClcclxuICogICAgIGdldCBwcm9qZWN0aW9uTWF0cml4KCk6IEZsb2F0MzJBcnJheSB7IC4uLiB9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbmF0aXZlUHJvcGVydHkoKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcclxuICAgICAgICBlbnVtZXJhYmxlKCkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XHJcbiAgICAgICAgcHJvcGVydHlEZWNvcmF0b3IoeyB0eXBlOiBUeXBlLk5hdGl2ZSB9KSh0YXJnZXQsIHByb3BlcnR5S2V5KTtcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIFByb3BlcnR5IGRlY29yYXRvcnMgbmFtZXNwYWNlLlxyXG4gKlxyXG4gKiBZb3UgY2FuIHVzZSB0aGUgZGVjb3JhdG9ycyB0byBtYXJrIGEgY2xhc3MgYXR0cmlidXRlIGFzXHJcbiAqIGEgV29uZGVybGFuZCBFbmdpbmUgcHJvcGVydHkuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKlxyXG4gKiBgYGB0c1xyXG4gKiBpbXBvcnQge01lc2h9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqIGltcG9ydCB7cHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuICpcclxuICogY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gKiAgICAgQHByb3BlcnR5LmJvb2wodHJ1ZSlcclxuICogICAgIG15Qm9vbCE6IGJvb2xlYW47XHJcbiAqXHJcbiAqICAgICBAcHJvcGVydHkuaW50KDQyKVxyXG4gKiAgICAgbXlJbnQhOiBudW1iZXI7XHJcbiAqXHJcbiAqICAgICBAcHJvcGVydHkuc3RyaW5nKCdIZWxsbyBXb3JsZCEnKVxyXG4gKiAgICAgbXlTdHJpbmchOiBzdHJpbmc7XHJcbiAqXHJcbiAqICAgICBAcHJvcGVydHkubWVzaCgpXHJcbiAqICAgICBteU1lc2ghOiBNZXNoO1xyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBGb3IgSmF2YVNjcmlwdCB1c2VycywgcGxlYXNlIGRlY2xhcmUgdGhlIHByb3BlcnRpZXMgc3RhdGljYWxseS5cclxuICovXHJcbmV4cG9ydCBjb25zdCBwcm9wZXJ0eSA9IHt9O1xyXG5mb3IgKGNvbnN0IG5hbWUgaW4gUHJvcGVydHkpIHtcclxuICAgIC8qIEFzc2lnbiBlYWNoIHByb3BlcnR5IGZ1bmN0b3IgdG8gYSBUeXBlU2NyaXB0IGRlY29yYXRvci5cclxuICAgICAqIFRoaXMgY29kZSBleHRyYWN0cyBwYXJhbWV0ZXJzIGFuZCByZXR1cm4gdHlwZSB0byBwcm92aWRlIHByb3BlclxyXG4gICAgICogdHlwaW5ncyB0byB0aGUgdXNlci4gKi9cclxuICAgIHByb3BlcnR5W25hbWVdID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICBjb25zdCBmdW5jdG9yID0gUHJvcGVydHlbbmFtZV07XHJcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5RGVjb3JhdG9yKGZ1bmN0b3IoLi4uYXJncykpO1xyXG4gICAgfTtcclxufVxyXG4iLCAiLyoqXHJcbiAqIENoZWNrIGlmIGEgZ2l2ZW4gdmFsdWUgaXMgYSBuYXRpdmUgc3RyaW5nIG9yIGEgYFN0cmluZ2AgaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBoYXMgdHlwZSBzdHJpbmcgbGl0ZXJhbCBvciBgU3RyaW5nYCwgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSA9PT0gJycpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICByZXR1cm4gdmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdmFsdWUuY29uc3RydWN0b3IgPT09IFN0cmluZyk7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrIGlmIGEgZ2l2ZW4gdmFsdWUgaXMgYSBuYXRpdmUgbnVtYmVyIG9yIGEgYE51bWJlcmAgaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBoYXMgdHlwZSBudW1iZXIgbGl0ZXJhbCBvciBgTnVtYmVyYCwgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHZhbHVlLmNvbnN0cnVjdG9yID09PSBOdW1iZXI7XHJcbn1cclxuIiwgIi8qKiBJbnRlcm5hbCB0eXBlIGZvciB0cmFuc2FjdGlvbi4gKi9cclxudmFyIFRyYW5zYWN0aW9uVHlwZTtcclxuKGZ1bmN0aW9uIChUcmFuc2FjdGlvblR5cGUpIHtcclxuICAgIFRyYW5zYWN0aW9uVHlwZVtUcmFuc2FjdGlvblR5cGVbXCJBZGRpdGlvblwiXSA9IDFdID0gXCJBZGRpdGlvblwiO1xyXG4gICAgVHJhbnNhY3Rpb25UeXBlW1RyYW5zYWN0aW9uVHlwZVtcIlJlbW92YWxcIl0gPSAyXSA9IFwiUmVtb3ZhbFwiO1xyXG59KShUcmFuc2FjdGlvblR5cGUgfHwgKFRyYW5zYWN0aW9uVHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBFdmVudCBlbWl0dGVyLlxyXG4gKlxyXG4gKiBUaGlzIGNsYXNzIGFsbG93cyB0byByZWdpc3RlciBsaXN0ZW5lcnMgdGhhdCB3aWxsIGdldCBub3RpZmllZCBieSB0aGUgZW1pdHRlci5cclxuICpcclxuICogVXNhZ2UgZXhhbXBsZTpcclxuICpcclxuICogYGBganNcclxuICogLy8gYG9uUHJlUmVuZGVyYCBpcyBhbiBgRW1pdHRlcmAgaW5zdGFuY2UuXHJcbiAqIHNjZW5lLm9uUHJlUmVuZGVyLmFkZCgoKSA9PiBjb25zb2xlLmxvZygnYmVmb3JlIHJlbmRlcmluZycpKTtcclxuICogLy8gYG9uUG9zdFJlbmRlcmAgaXMgYW4gYEVtaXR0ZXJgIGluc3RhbmNlLlxyXG4gKiBzY2VuZS5vblBvc3RSZW5kZXIuYWRkKCgpID0+IGNvbnNvbGUubG9nKCdhZnRlciByZW5kZXJpbmcnKSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBZb3UgY2FuIGNyZWF0ZSB5b3VyIG93biBlbWl0dGVyczpcclxuICpcclxuICogYGBganNcclxuICogaW1wb3J0IHtFbWl0dGVyfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gKlxyXG4gKiBjb25zdCBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFlvdSBjYW4gbm90aWZ5IGxpc3RlbmVycyBpbiB0byB5b3VyIGVtaXR0ZXIgdXNpbmcge0BsaW5rIEVtaXR0ZXIubm90aWZ5fTpcclxuICpcclxuICogYGBganNcclxuICogLy8gTm90aWZpZXMgYWxsIHRoZSBsaXN0ZW5lcnMuXHJcbiAqIGVtaXR0ZXIubm90aWZ5KCk7XHJcbiAqIC8vIE5vdGlmaWVzIGFsbCB0aGUgbGlzdGVuZXJzIHdpdGggc29tZSBkYXRhLlxyXG4gKiBlbWl0dGVyLm5vdGlmeSh7IG15SW50OiA0MiwgbXlTdHI6ICdIZWxsbyBXb3JsZCEnIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IGV2ZW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRW1pdHRlciB7XHJcbiAgICAvKipcclxuICAgICAqIExpc3Qgb2YgbGlzdGVuZXJzIHRvIHRyaWdnZXIgd2hlbiBgbm90aWZ5YCBpcyBjYWxsZWQuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfbGlzdGVuZXJzID0gW107XHJcbiAgICAvKipcclxuICAgICAqIGB0cnVlYCBpZiB0aGUgZW1pdHRlciBpcyBjdXJyZW50bHkgbm90aWZ5aW5nIGxpc3RlbmVycy4gVGhpc1xyXG4gICAgICogaXMgdXNlZCB0byBkZWZlciBhZGRpdGlvbiBhbmQgcmVtb3ZhbC5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9ub3RpZnlpbmcgPSBmYWxzZTtcclxuICAgIC8qKlxyXG4gICAgICogUGVuZGluZyBhZGRpdGlvbnMgLyByZW1vdmFscywgcGVyZm9ybWVkIGR1cmluZyBhIG5vdGlmaWNhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF90cmFuc2FjdGlvbnMgPSBbXTtcclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBuZXcgbGlzdGVuZXIgdG8gYmUgdHJpZ2dlcmVkIG9uIHtAbGluayBFbWl0dGVyLm5vdGlmeX0uXHJcbiAgICAgKlxyXG4gICAgICogQmFzaWMgdXNhZ2U6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGVtaXR0ZXIuYWRkKChkYXRhKSA9PiB7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2V2ZW50IHJlY2VpdmVkIScpO1xyXG4gICAgICogICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICogfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGUgbGlzdGVuZXIgd2hlbiBhbiBldmVudCBpcyByZWNlaXZlZDpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW1pdHRlci5hZGQoKGRhdGEpID0+IHtcclxuICAgICAqICAgICBjb25zb2xlLmxvZygnZXZlbnQgcmVjZWl2ZWQhJyk7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgKiB9LCB7b25jZTogdHJ1ZX0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjYWxsYmFjayB0byByZWdpc3Rlci5cclxuICAgICAqIEBwYXJhbSBvcHRzIFRoZSBsaXN0ZW5lciBvcHRpb25zLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIGhhdmUgYSBsb29rXHJcbiAgICAgKiAgICAgYXQgdGhlIHtAbGluayBMaXN0ZW5lck9wdGlvbnN9IGludGVyZmFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZylcclxuICAgICAqL1xyXG4gICAgYWRkKGxpc3RlbmVyLCBvcHRzID0ge30pIHtcclxuICAgICAgICBjb25zdCB7IG9uY2UgPSBmYWxzZSwgaWQgPSB1bmRlZmluZWQgfSA9IG9wdHM7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHsgaWQsIG9uY2UsIGNhbGxiYWNrOiBsaXN0ZW5lciB9O1xyXG4gICAgICAgIGlmICh0aGlzLl9ub3RpZnlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJhbnNhY3Rpb25zLnB1c2goeyB0eXBlOiBUcmFuc2FjdGlvblR5cGUuQWRkaXRpb24sIGRhdGEgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChkYXRhKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRXF1aXZhbGVudCB0byB7QGxpbmsgRW1pdHRlci5hZGR9LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lcnMgVGhlIGNhbGxiYWNrKHMpIHRvIHJlZ2lzdGVyLlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIEVtaXR0ZXIuYWRkfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBwdXNoKC4uLmxpc3RlbmVycykge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2Igb2YgbGlzdGVuZXJzKVxyXG4gICAgICAgICAgICB0aGlzLmFkZChjYik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIGEgbmV3IGxpc3RlbmVyIHRvIGJlIHRyaWdnZXJlZCBvbiB7QGxpbmsgRW1pdHRlci5ub3RpZnl9LlxyXG4gICAgICpcclxuICAgICAqIE9uY2Ugbm90aWZpZWQsIHRoZSBsaXN0ZW5lciB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gY2FsbGluZyB7QGxpbmsgRW1pdHRlci5hZGR9IHdpdGg6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGVtaXR0ZXIuYWRkKGxpc3RlbmVyLCB7b25jZTogdHJ1ZX0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjYWxsYmFjayB0byByZWdpc3Rlci5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIG9uY2UobGlzdGVuZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hZGQobGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGEgcmVnaXN0ZXJlZCBsaXN0ZW5lci5cclxuICAgICAqXHJcbiAgICAgKiBVc2FnZSB3aXRoIGEgY2FsbGJhY2s6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGNvbnN0IGxpc3RlbmVyID0gKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICogZW1pdHRlci5hZGQobGlzdGVuZXIpO1xyXG4gICAgICpcclxuICAgICAqIC8vIFJlbW92ZSB1c2luZyB0aGUgY2FsbGJhY2sgcmVmZXJlbmNlOlxyXG4gICAgICogZW1pdHRlci5yZW1vdmUobGlzdGVuZXIpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogVXNhZ2Ugd2l0aCBhbiBpZDpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW1pdHRlci5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpLCB7aWQ6ICdteS1jYWxsYmFjayd9KTtcclxuICAgICAqXHJcbiAgICAgKiAvLyBSZW1vdmUgdXNpbmcgdGhlIGlkOlxyXG4gICAgICogZW1pdHRlci5yZW1vdmUoJ215LWNhbGxiYWNrJyk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBVc2luZyBpZGVudGlmaWVycywgeW91IHdpbGwgbmVlZCB0byBlbnN1cmUgeW91ciB2YWx1ZSBpcyB1bmlxdWUgdG8gYXZvaWRcclxuICAgICAqIHJlbW92aW5nIGxpc3RlbmVycyBmcm9tIG90aGVyIGxpYnJhcmllcywgZS5nLiw6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGVtaXR0ZXIuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSwge2lkOiAnbm9uLXVuaXF1ZSd9KTtcclxuICAgICAqIC8vIFRoaXMgc2Vjb25kIGxpc3RlbmVyIGNvdWxkIGJlIGFkZGVkIGJ5IGEgdGhpcmQtcGFydHkgbGlicmFyeS5cclxuICAgICAqIGVtaXR0ZXIuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZygnSGVsbG8gRnJvbSBMaWJyYXJ5IScpLCB7aWQ6ICdub24tdW5pcXVlJ30pO1xyXG4gICAgICpcclxuICAgICAqIC8vIEhvIFNuYXAhIFRoaXMgYWxzbyByZW1vdmVkIHRoZSBsaWJyYXJ5IGxpc3RlbmVyIVxyXG4gICAgICogZW1pdHRlci5yZW1vdmUoJ25vbi11bmlxdWUnKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFRoZSBpZGVudGlmaWVyIGNhbiBiZSBhbnkgdHlwZS4gSG93ZXZlciwgcmVtZW1iZXIgdGhhdCB0aGUgY29tcGFyaXNvbiB3aWxsIGJlXHJcbiAgICAgKiBieS12YWx1ZSBmb3IgcHJpbWl0aXZlIHR5cGVzIChzdHJpbmcsIG51bWJlciksIGJ1dCBieSByZWZlcmVuY2UgZm9yIG9iamVjdHMuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ0hlbGxvJyksIHtpZDoge3ZhbHVlOiA0Mn19KTtcclxuICAgICAqIGVtaXR0ZXIuYWRkKCgpID0+IGNvbnNvbGUubG9nKCdXb3JsZCEnKSwge2lkOiB7dmFsdWU6IDQyfX0pO1xyXG4gICAgICogZW1pdHRlci5yZW1vdmUoe3ZhbHVlOiA0Mn0pOyAvLyBOb25lIG9mIHRoZSBhYm92ZSBsaXN0ZW5lcnMgbWF0Y2ghXHJcbiAgICAgKiBlbWl0dGVyLm5vdGlmeSgpOyAvLyBQcmludHMgJ0hlbGxvJyBhbmQgJ1dvcmxkIScuXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBIZXJlLCBib3RoIGVtaXR0ZXJzIGhhdmUgaWQgYHt2YWx1ZTogNDJ9YCwgYnV0IHRoZSBjb21wYXJpc29uIGlzIG1hZGUgYnkgcmVmZXJlbmNlLiBUaHVzLFxyXG4gICAgICogdGhlIGByZW1vdmUoKWAgY2FsbCBoYXMgbm8gZWZmZWN0LiBXZSBjYW4gbWFrZSBpdCB3b3JrIGJ5IGRvaW5nOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBjb25zdCBpZCA9IHt2YWx1ZTogNDJ9O1xyXG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ0hlbGxvJyksIHtpZH0pO1xyXG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ1dvcmxkIScpLCB7aWR9KTtcclxuICAgICAqIGVtaXR0ZXIucmVtb3ZlKGlkKTsgLy8gU2FtZSByZWZlcmVuY2UsIGl0IHdvcmtzIVxyXG4gICAgICogZW1pdHRlci5ub3RpZnkoKTsgLy8gRG9lc24ndCBwcmludC5cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgcmVnaXN0ZXJlZCBjYWxsYmFjayBvciBhIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgYGlkYC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZylcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX25vdGlmeWluZykge1xyXG4gICAgICAgICAgICB0aGlzLl90cmFuc2FjdGlvbnMucHVzaCh7IHR5cGU6IFRyYW5zYWN0aW9uVHlwZS5SZW1vdmFsLCBkYXRhOiBsaXN0ZW5lciB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBsaXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2FsbGJhY2sgPT09IGxpc3RlbmVyIHx8IHRhcmdldC5pZCA9PT0gbGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaS0tLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgd2hldGhlciB0aGUgbGlzdGVuZXIgaXMgcmVnaXN0ZXJlZC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIG1ldGhvZCBwZXJmb3JtcyBhIGxpbmVhciBzZWFyY2guXHJcbiAgICAgKlxyXG4gICAgICogKiBAbm90ZSBEb2Vzbid0IGFjY291bnQgZm9yIHBlbmRpbmcgbGlzdGVuZXJzLCBpLmUuLFxyXG4gICAgICogbGlzdGVuZXJzIGFkZGVkIC8gcmVtb3ZlZCBkdXJpbmcgYSBub3RpZmljYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSByZWdpc3RlcmVkIGNhbGxiYWNrIG9yIGEgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBgaWRgLlxyXG4gICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBoYW5kbGUgaXMgZm91bmQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxyXG4gICAgICovXHJcbiAgICBoYXMobGlzdGVuZXIpIHtcclxuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gbGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNhbGxiYWNrID09PSBsaXN0ZW5lciB8fCB0YXJnZXQuaWQgPT09IGxpc3RlbmVyKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTm90aWZ5IGxpc3RlbmVycyB3aXRoIHRoZSBnaXZlbiBkYXRhIG9iamVjdC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIG1ldGhvZCBlbnN1cmVzIGFsbCBsaXN0ZW5lcnMgYXJlIGNhbGxlZCBldmVuIGlmXHJcbiAgICAgKiBhbiBleGNlcHRpb24gaXMgdGhyb3duLiBGb3IgKHBvc3NpYmx5KSBmYXN0ZXIgbm90aWZpY2F0aW9uLFxyXG4gICAgICogcGxlYXNlIHVzZSB7QGxpbmsgRW1pdHRlci5ub3RpZnlVbnNhZmV9LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIHBhc3MgdG8gbGlzdGVuZXIgd2hlbiBpbnZva2VkLlxyXG4gICAgICovXHJcbiAgICBub3RpZnkoLi4uZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcclxuICAgICAgICB0aGlzLl9ub3RpZnlpbmcgPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBpZiAobGlzdGVuZXIub25jZSlcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaS0tLCAxKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrKC4uLmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX25vdGlmeWluZyA9IGZhbHNlO1xyXG4gICAgICAgIC8qIFByb2Nlc3MgZGVmZXJyZWQgYWRkaXRpb25zICYgcmVtb3ZhbHMgKi9cclxuICAgICAgICB0aGlzLl9mbHVzaFRyYW5zYWN0aW9ucygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBOb3RpZnkgbGlzdGVuZXJzIHdpdGggdGhlIGdpdmVuIGRhdGEgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIEJlY2F1c2UgdGhpcyBtZXRob2QgZG9lc24ndCBjYXRjaCBleGNlcHRpb25zLCBzb21lIGxpc3RlbmVyc1xyXG4gICAgICogd2lsbCBiZSBza2lwcGVkIG9uIGEgdGhyb3cuIFBsZWFzZSB1c2Uge0BsaW5rIEVtaXR0ZXIubm90aWZ5fSBmb3Igc2FmZVxyXG4gICAgICogbm90aWZpY2F0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIHBhc3MgdG8gbGlzdGVuZXIgd2hlbiBpbnZva2VkLlxyXG4gICAgICovXHJcbiAgICBub3RpZnlVbnNhZmUoLi4uZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm9uY2UpXHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGktLSwgMSk7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrKC4uLmRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBQcm9jZXNzIGRlZmVycmVkIGFkZGl0aW9ucyAmIHJlbW92YWxzICovXHJcbiAgICAgICAgdGhpcy5fZmx1c2hUcmFuc2FjdGlvbnMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSBvbiB0aGUgbmV4dCBldmVudC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGUgcHJvbWlzZSBtaWdodCBuZXZlciByZXNvbHZlIGlmIG5vIGV2ZW50IGlzIHNlbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZGF0YSBwYXNzZWQgdG9cclxuICAgICAqICAgICB7QGxpbmsgRW1pdHRlci5ub3RpZnl9LlxyXG4gICAgICovXHJcbiAgICBwcm9taXNlKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCBfKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25jZSgoLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyhhcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyhhcmdzWzBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE51bWJlciBvZiBsaXN0ZW5lcnMuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgRG9lc24ndCBhY2NvdW50IGZvciBwZW5kaW5nIGxpc3RlbmVycywgaS5lLixcclxuICAgICAqIGxpc3RlbmVycyBhZGRlZCAvIHJlbW92ZWQgZHVyaW5nIGEgbm90aWZpY2F0aW9uLlxyXG4gICAgICovXHJcbiAgICBnZXQgbGlzdGVuZXJDb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdGVuZXJzLmxlbmd0aDtcclxuICAgIH1cclxuICAgIC8qKiBgdHJ1ZWAgaWYgaXQgaGFzIG5vIGxpc3RlbmVycywgYGZhbHNlYCBvdGhlcndpc2UuICovXHJcbiAgICBnZXQgaXNFbXB0eSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lckNvdW50ID09PSAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGbHVzaCBhbGwgcGVuZGluZyB0cmFuc2FjdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfZmx1c2hUcmFuc2FjdGlvbnMoKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xyXG4gICAgICAgIGZvciAoY29uc3QgdHJhbnNhY3Rpb24gb2YgdGhpcy5fdHJhbnNhY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2FjdGlvbi50eXBlID09PSBUcmFuc2FjdGlvblR5cGUuQWRkaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHRyYW5zYWN0aW9uLmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUodHJhbnNhY3Rpb24uZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdHJhbnNhY3Rpb25zLmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcbn1cclxuLyogRHVtbXkgdmFsdWUgdXNlZCB3aXRoIFJldGFpbkVtaXR0ZXIuICovXHJcbmNvbnN0IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQgPSB7fTtcclxuLyoqXHJcbiAqIEV2ZW50IGVtaXR0ZXIgdGhhdCByZXRhaW5zIGV2ZW50IGRhdGEgd2hlbiBub3RpZmllZC5cclxuICpcclxuICogQWZ0ZXIgYSBub3RpZmljYXRpb24gaGFwcGVucywgc3Vic2VxdWVudCBjYWxscyB0byB7QGxpbmsgUmV0YWluRW1pdHRlci5hZGR9IHdpbGwgZ2V0XHJcbiAqIGF1dG9tYXRpY2FsbHkgbm90aWZpZWQuXHJcbiAqXHJcbiAqIFlvdSBjYW4gdXNlIGFub3RoZXIgZW1pdHRlciBpbiBvcmRlciB0byBjYW5jZWwgdGhlIGxhc3QgcmV0YWluZWQgZXZlbnQ6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGltcG9ydCB7RW1pdHRlciwgUmV0YWluZWRFbWl0dGVyfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gKlxyXG4gKiBjb25zdCBvblN0YXJ0ID0gbmV3IFJldGFpbmVkRW1pdHRlcigpO1xyXG4gKlxyXG4gKiBvblN0YXJ0Lm5vdGlmeSg0Mik7XHJcbiAqIG9uU3RhcnQuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSkgLy8gUHJpbnRzICc0MicuXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBZb3UgY2FuIHJlc2V0IHRoZSBzdGF0ZSBvZiB0aGUgZW1pdHRlciwgaS5lLiwgbWFraW5nIGl0IGZvcmdldCBhYm91dCB0aGVcclxuICogbGFzdCBldmVudCB1c2luZzpcclxuICpcclxuICogYGBganNcclxuICogaW1wb3J0IHtFbWl0dGVyLCBSZXRhaW5lZEVtaXR0ZXJ9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqXHJcbiAqIGNvbnN0IG9uU3RhcnQgPSBuZXcgUmV0YWluZWRFbWl0dGVyKCk7XHJcbiAqIG9uU3RhcnQubm90aWZ5KDQyKTtcclxuICogb25TdGFydC5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpKSAvLyBQcmludHMgJzQyJy5cclxuICpcclxuICogLy8gUmVzZXQgdGhlIHN0YXRlIG9mIHRoZSBlbWl0dGVyLlxyXG4gKiBvblN0YXJ0LnJlc2V0KCk7XHJcbiAqIG9uU3RhcnQuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSkgLy8gRG9lc24ndCBwcmludCBhbnl0aGluZy5cclxuICogYGBgXHJcbiAqXHJcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGVtaXR0ZXJzLCBwbGVhc2UgaGF2ZSBhIGxvb2sgYXQgdGhlIGJhc2Uge0BsaW5rIEVtaXR0ZXJ9IGNsYXNzLlxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgZXZlbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBSZXRhaW5FbWl0dGVyIGV4dGVuZHMgRW1pdHRlciB7XHJcbiAgICAvKiogUHJlLXJlc29sdmVkIGRhdGEuIEBoaWRkZW4gKi9cclxuICAgIF9ldmVudCA9IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQ7XHJcbiAgICAvKipcclxuICAgICAqIEVtaXR0ZXIgdGFyZ2V0IHVzZWQgdG8gcmVzZXQgdGhlIHN0YXRlIG9mIHRoaXMgZW1pdHRlci5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9yZXNldDtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIGFkZChsaXN0ZW5lciwgb3B0cykge1xyXG4gICAgICAgIGNvbnN0IGltbWVkaWF0ZSA9IG9wdHM/LmltbWVkaWF0ZSA/PyB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLl9ldmVudCAhPT0gUmV0YWluRW1pdHRlclVuZGVmaW5lZCAmJiBpbW1lZGlhdGUpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXIoLi4udGhpcy5fZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5hZGQobGlzdGVuZXIsIG9wdHMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGNhbGxiYWNrIHRvIHJlZ2lzdGVyLlxyXG4gICAgICogQHBhcmFtIGltbWVkaWF0ZSBJZiBgdHJ1ZWAsIGRpcmVjdGx5IHJlc29sdmVzIGlmIHRoZSBlbWl0dGVyIHJldGFpbnMgYSB2YWx1ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIG9uY2UobGlzdGVuZXIsIGltbWVkaWF0ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZChsaXN0ZW5lciwgeyBvbmNlOiB0cnVlLCBpbW1lZGlhdGUgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBub3RpZnkoLi4uZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX2V2ZW50ID0gZGF0YTtcclxuICAgICAgICBzdXBlci5ub3RpZnkoLi4uZGF0YSk7XHJcbiAgICB9XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBub3RpZnlVbnNhZmUoLi4uZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX2V2ZW50ID0gZGF0YTtcclxuICAgICAgICBzdXBlci5ub3RpZnlVbnNhZmUoLi4uZGF0YSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IHRoZSBzdGF0ZSBvZiB0aGUgZW1pdHRlci5cclxuICAgICAqXHJcbiAgICAgKiBGdXJ0aGVyIGNhbGwgdG8ge0BsaW5rIEVtaXR0ZXIuYWRkfSB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHJlc29sdmUsXHJcbiAgICAgKiB1bnRpbCBhIG5ldyBjYWxsIHRvIHtAbGluayBFbWl0dGVyLm5vdGlmeX0gaXMgcGVyZm9ybWVkLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKVxyXG4gICAgICovXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLl9ldmVudCA9IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogUmV0dXJucyB0aGUgcmV0YWluZWQgZGF0YSwgb3IgYHVuZGVmaW5lZGAgaWYgbm8gZGF0YSB3YXMgcmV0YWluZWQuICovXHJcbiAgICBnZXQgZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc0RhdGFSZXRhaW5lZCA/IHRoaXMuX2V2ZW50IDogdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgLyoqIGB0cnVlYCBpZiBkYXRhIGlzIHJldGFpbmVkIGZyb20gdGhlIGxhc3QgZXZlbnQsIGBmYWxzZWAgb3RoZXJ3aXNlLiAqL1xyXG4gICAgZ2V0IGlzRGF0YVJldGFpbmVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ldmVudCAhPT0gUmV0YWluRW1pdHRlclVuZGVmaW5lZDtcclxuICAgIH1cclxufVxyXG4iLCAiLyoqXHJcbiAqIFR5cGVzXHJcbiAqL1xyXG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG5pbXBvcnQgeyBuYXRpdmVQcm9wZXJ0eSwgZW51bWVyYWJsZSB9IGZyb20gJy4vZGVjb3JhdG9ycy5qcyc7XHJcbmltcG9ydCB7IGlzTnVtYmVyLCBpc1N0cmluZyB9IGZyb20gJy4vdXRpbHMvb2JqZWN0LmpzJztcclxuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4vdXRpbHMvZXZlbnQuanMnO1xyXG4vKipcclxuICogV29uZGVybGFuZCBFbmdpbmUgQVBJXHJcbiAqIEBuYW1lc3BhY2UgV0xcclxuICovXHJcbi8qKlxyXG4gKiBEZWZhdWx0IHNldCBvZiBsb2dnaW5nIHRhZ3MgdXNlZCBieSB0aGUgQVBJLlxyXG4gKi9cclxuZXhwb3J0IHZhciBMb2dUYWc7XHJcbihmdW5jdGlvbiAoTG9nVGFnKSB7XHJcbiAgICAvKiogSW5pdGlhbGl6YXRpb24sIGNvbXBvbmVudCByZWdpc3RyYXRpb24sIGV0Yy4uLiAqL1xyXG4gICAgTG9nVGFnW0xvZ1RhZ1tcIkVuZ2luZVwiXSA9IDBdID0gXCJFbmdpbmVcIjtcclxuICAgIC8qKiBTY2VuZSBsb2FkaW5nICovXHJcbiAgICBMb2dUYWdbTG9nVGFnW1wiU2NlbmVcIl0gPSAxXSA9IFwiU2NlbmVcIjtcclxuICAgIC8qKiBDb21wb25lbnQgaW5pdCwgdXBkYXRlLCBldGMuLi4gKi9cclxuICAgIExvZ1RhZ1tMb2dUYWdbXCJDb21wb25lbnRcIl0gPSAyXSA9IFwiQ29tcG9uZW50XCI7XHJcbn0pKExvZ1RhZyB8fCAoTG9nVGFnID0ge30pKTtcclxuLyoqXHJcbiAqIENvbGxpZGVyIHR5cGUgZW51bSBmb3Ige0BsaW5rIENvbGxpc2lvbkNvbXBvbmVudH0uXHJcbiAqL1xyXG5leHBvcnQgdmFyIENvbGxpZGVyO1xyXG4oZnVuY3Rpb24gKENvbGxpZGVyKSB7XHJcbiAgICAvKipcclxuICAgICAqICoqU3BoZXJlIENvbGxpZGVyKio6XHJcbiAgICAgKlxyXG4gICAgICogU2ltcGxlc3QgYW5kIG1vc3QgcGVyZm9ybWFudCBjb2xsaXNpb24gc2hhcGUuIElmIHRoaXMgdHlwZSBpcyBzZXQgb24gYVxyXG4gICAgICoge0BsaW5rIENvbGxpc2lvbkNvbXBvbmVudH0sIG9ubHkgdGhlIGZpcnN0IGNvbXBvbmVudCBvZlxyXG4gICAgICoge0BsaW5rIENvbGxpc2lvbkNvbXBvbmVudCNleHRlbnRzfSB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSByYWRpdXMuXHJcbiAgICAgKi9cclxuICAgIENvbGxpZGVyW0NvbGxpZGVyW1wiU3BoZXJlXCJdID0gMF0gPSBcIlNwaGVyZVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKkF4aXMgQWxpZ25lZCBCb3VuZGluZyBCb3ggQ29sbGlkZXIqKjpcclxuICAgICAqXHJcbiAgICAgKiBCb3ggdGhhdCBpcyBhbHdheXMgYWxpZ25lZCB0byBYWVogYXhpcy4gSXQgY2Fubm90IGJlIHJvdGF0ZWQgYnV0IGlzIG1vcmVcclxuICAgICAqIGVmZmljaWVudCB0aGFuIHtAbGluayBDb2xsaWRlci5Cb3h9LlxyXG4gICAgICovXHJcbiAgICBDb2xsaWRlcltDb2xsaWRlcltcIkF4aXNBbGlnbmVkQm94XCJdID0gMV0gPSBcIkF4aXNBbGlnbmVkQm94XCI7XHJcbiAgICAvKipcclxuICAgICAqICoqQWxpZ25lZCBCb3VuZGluZyBCb3ggQ29sbGlkZXIqKjpcclxuICAgICAqXHJcbiAgICAgKiBCb3ggdGhhdCBtYXRjaGVzIHRoZSBvYmplY3QncyByb3RhdGlvbiBhbmQgdHJhbnNsYXRpb24gY29ycmVjdGx5LiBUaGlzXHJcbiAgICAgKiBpcyB0aGUgbGVhc3QgZWZmaWNpZW50IGNvbGxpZGVyIGFuZCBzaG91bGQgb25seSBiZSBjaG9zZW4gb3ZlclxyXG4gICAgICoge0BsaW5rIENvbGxpZGVyLlNwaGVyZX0gYW5kIHtAbGluayBDb2xsaWRlci5BeGlzQWxpZ25lZEJveH0gaWYgcmVhbGx5XHJcbiAgICAgKiBuZWNlc3NhcnkuXHJcbiAgICAgKi9cclxuICAgIENvbGxpZGVyW0NvbGxpZGVyW1wiQm94XCJdID0gMl0gPSBcIkJveFwiO1xyXG59KShDb2xsaWRlciB8fCAoQ29sbGlkZXIgPSB7fSkpO1xyXG4vKipcclxuICogQWxpZ25tZW50IHR5cGUgZW51bSBmb3Ige0BsaW5rIFRleHRDb21wb25lbnR9LlxyXG4gKi9cclxuZXhwb3J0IHZhciBBbGlnbm1lbnQ7XHJcbihmdW5jdGlvbiAoQWxpZ25tZW50KSB7XHJcbiAgICAvKiogVGV4dCBzdGFydCBpcyBhdCBvYmplY3Qgb3JpZ2luICovXHJcbiAgICBBbGlnbm1lbnRbQWxpZ25tZW50W1wiTGVmdFwiXSA9IDBdID0gXCJMZWZ0XCI7XHJcbiAgICAvKiogVGV4dCBjZW50ZXIgaXMgYXQgb2JqZWN0IG9yaWdpbiAqL1xyXG4gICAgQWxpZ25tZW50W0FsaWdubWVudFtcIkNlbnRlclwiXSA9IDFdID0gXCJDZW50ZXJcIjtcclxuICAgIC8qKiBUZXh0IGVuZCBpcyBhdCBvYmplY3Qgb3JpZ2luICovXHJcbiAgICBBbGlnbm1lbnRbQWxpZ25tZW50W1wiUmlnaHRcIl0gPSAyXSA9IFwiUmlnaHRcIjtcclxufSkoQWxpZ25tZW50IHx8IChBbGlnbm1lbnQgPSB7fSkpO1xyXG4vKipcclxuICogSnVzdGlmaWNhdGlvbiB0eXBlIGVudW0gZm9yIHtAbGluayBUZXh0Q29tcG9uZW50fS5cclxuICovXHJcbmV4cG9ydCB2YXIgSnVzdGlmaWNhdGlvbjtcclxuKGZ1bmN0aW9uIChKdXN0aWZpY2F0aW9uKSB7XHJcbiAgICAvKiogVGV4dCBsaW5lIGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cclxuICAgIEp1c3RpZmljYXRpb25bSnVzdGlmaWNhdGlvbltcIkxpbmVcIl0gPSAwXSA9IFwiTGluZVwiO1xyXG4gICAgLyoqIFRleHQgbWlkZGxlIGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cclxuICAgIEp1c3RpZmljYXRpb25bSnVzdGlmaWNhdGlvbltcIk1pZGRsZVwiXSA9IDFdID0gXCJNaWRkbGVcIjtcclxuICAgIC8qKiBUZXh0IHRvcCBpcyBhdCBvYmplY3Qgb3JpZ2luICovXHJcbiAgICBKdXN0aWZpY2F0aW9uW0p1c3RpZmljYXRpb25bXCJUb3BcIl0gPSAyXSA9IFwiVG9wXCI7XHJcbiAgICAvKiogVGV4dCBib3R0b20gaXMgYXQgb2JqZWN0IG9yaWdpbiAqL1xyXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiQm90dG9tXCJdID0gM10gPSBcIkJvdHRvbVwiO1xyXG59KShKdXN0aWZpY2F0aW9uIHx8IChKdXN0aWZpY2F0aW9uID0ge30pKTtcclxuLyoqXHJcbiAqIEVmZmVjdCB0eXBlIGVudW0gZm9yIHtAbGluayBUZXh0Q29tcG9uZW50fS5cclxuICovXHJcbmV4cG9ydCB2YXIgVGV4dEVmZmVjdDtcclxuKGZ1bmN0aW9uIChUZXh0RWZmZWN0KSB7XHJcbiAgICAvKiogVGV4dCBpcyByZW5kZXJlZCBub3JtYWxseSAqL1xyXG4gICAgVGV4dEVmZmVjdFtUZXh0RWZmZWN0W1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XHJcbiAgICAvKiogVGV4dCBpcyByZW5kZXJlZCB3aXRoIGFuIG91dGxpbmUgKi9cclxuICAgIFRleHRFZmZlY3RbVGV4dEVmZmVjdFtcIk91dGxpbmVcIl0gPSAxXSA9IFwiT3V0bGluZVwiO1xyXG59KShUZXh0RWZmZWN0IHx8IChUZXh0RWZmZWN0ID0ge30pKTtcclxuLyoqXHJcbiAqIElucHV0IHR5cGUgZW51bSBmb3Ige0BsaW5rIElucHV0Q29tcG9uZW50fS5cclxuICovXHJcbmV4cG9ydCB2YXIgSW5wdXRUeXBlO1xyXG4oZnVuY3Rpb24gKElucHV0VHlwZSkge1xyXG4gICAgLyoqIEhlYWQgaW5wdXQgKi9cclxuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJIZWFkXCJdID0gMF0gPSBcIkhlYWRcIjtcclxuICAgIC8qKiBMZWZ0IGV5ZSBpbnB1dCAqL1xyXG4gICAgSW5wdXRUeXBlW0lucHV0VHlwZVtcIkV5ZUxlZnRcIl0gPSAxXSA9IFwiRXllTGVmdFwiO1xyXG4gICAgLyoqIFJpZ2h0IGV5ZSBpbnB1dCAqL1xyXG4gICAgSW5wdXRUeXBlW0lucHV0VHlwZVtcIkV5ZVJpZ2h0XCJdID0gMl0gPSBcIkV5ZVJpZ2h0XCI7XHJcbiAgICAvKiogTGVmdCBjb250cm9sbGVyIGlucHV0ICovXHJcbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiQ29udHJvbGxlckxlZnRcIl0gPSAzXSA9IFwiQ29udHJvbGxlckxlZnRcIjtcclxuICAgIC8qKiBSaWdodCBjb250cm9sbGVyIGlucHV0ICovXHJcbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiQ29udHJvbGxlclJpZ2h0XCJdID0gNF0gPSBcIkNvbnRyb2xsZXJSaWdodFwiO1xyXG4gICAgLyoqIExlZnQgcmF5IGlucHV0ICovXHJcbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiUmF5TGVmdFwiXSA9IDVdID0gXCJSYXlMZWZ0XCI7XHJcbiAgICAvKiogUmlnaHQgcmF5IGlucHV0ICovXHJcbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiUmF5UmlnaHRcIl0gPSA2XSA9IFwiUmF5UmlnaHRcIjtcclxufSkoSW5wdXRUeXBlIHx8IChJbnB1dFR5cGUgPSB7fSkpO1xyXG4vKipcclxuICogTGlnaHQgdHlwZSBlbnVtIGZvciB7QGxpbmsgTGlnaHRDb21wb25lbnR9LlxyXG4gKi9cclxuZXhwb3J0IHZhciBMaWdodFR5cGU7XHJcbihmdW5jdGlvbiAoTGlnaHRUeXBlKSB7XHJcbiAgICAvKiogUG9pbnQgbGlnaHQgKi9cclxuICAgIExpZ2h0VHlwZVtMaWdodFR5cGVbXCJQb2ludFwiXSA9IDBdID0gXCJQb2ludFwiO1xyXG4gICAgLyoqIFNwb3QgbGlnaHQgKi9cclxuICAgIExpZ2h0VHlwZVtMaWdodFR5cGVbXCJTcG90XCJdID0gMV0gPSBcIlNwb3RcIjtcclxuICAgIC8qKiBTdW4gbGlnaHQgLyBEaXJlY3Rpb25hbCBsaWdodCAqL1xyXG4gICAgTGlnaHRUeXBlW0xpZ2h0VHlwZVtcIlN1blwiXSA9IDJdID0gXCJTdW5cIjtcclxufSkoTGlnaHRUeXBlIHx8IChMaWdodFR5cGUgPSB7fSkpO1xyXG4vKipcclxuICogQW5pbWF0aW9uIHN0YXRlIG9mIHtAbGluayBBbmltYXRpb25Db21wb25lbnR9LlxyXG4gKi9cclxuZXhwb3J0IHZhciBBbmltYXRpb25TdGF0ZTtcclxuKGZ1bmN0aW9uIChBbmltYXRpb25TdGF0ZSkge1xyXG4gICAgLyoqIEFuaW1hdGlvbiBpcyBjdXJyZW50bHkgcGxheWluZyAqL1xyXG4gICAgQW5pbWF0aW9uU3RhdGVbQW5pbWF0aW9uU3RhdGVbXCJQbGF5aW5nXCJdID0gMF0gPSBcIlBsYXlpbmdcIjtcclxuICAgIC8qKiBBbmltYXRpb24gaXMgcGF1c2VkIGFuZCB3aWxsIGNvbnRpbnVlIGF0IGN1cnJlbnQgcGxheWJhY2tcclxuICAgICAqIHRpbWUgb24ge0BsaW5rIEFuaW1hdGlvbkNvbXBvbmVudCNwbGF5fSAqL1xyXG4gICAgQW5pbWF0aW9uU3RhdGVbQW5pbWF0aW9uU3RhdGVbXCJQYXVzZWRcIl0gPSAxXSA9IFwiUGF1c2VkXCI7XHJcbiAgICAvKiogQW5pbWF0aW9uIGlzIHN0b3BwZWQgKi9cclxuICAgIEFuaW1hdGlvblN0YXRlW0FuaW1hdGlvblN0YXRlW1wiU3RvcHBlZFwiXSA9IDJdID0gXCJTdG9wcGVkXCI7XHJcbn0pKEFuaW1hdGlvblN0YXRlIHx8IChBbmltYXRpb25TdGF0ZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBSaWdpZCBib2R5IGZvcmNlIG1vZGUgZm9yIHtAbGluayBQaHlzWENvbXBvbmVudCNhZGRGb3JjZX0gYW5kIHtAbGluayBQaHlzWENvbXBvbmVudCNhZGRUb3JxdWV9LlxyXG4gKlxyXG4gKiBbUGh5c1ggQVBJIFJlZmVyZW5jZV0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hhcGkvZmlsZXMvc3RydWN0UHhGb3JjZU1vZGUuaHRtbClcclxuICovXHJcbmV4cG9ydCB2YXIgRm9yY2VNb2RlO1xyXG4oZnVuY3Rpb24gKEZvcmNlTW9kZSkge1xyXG4gICAgLyoqIEFwcGx5IGFzIGZvcmNlICovXHJcbiAgICBGb3JjZU1vZGVbRm9yY2VNb2RlW1wiRm9yY2VcIl0gPSAwXSA9IFwiRm9yY2VcIjtcclxuICAgIC8qKiBBcHBseSBhcyBpbXB1bHNlICovXHJcbiAgICBGb3JjZU1vZGVbRm9yY2VNb2RlW1wiSW1wdWxzZVwiXSA9IDFdID0gXCJJbXB1bHNlXCI7XHJcbiAgICAvKiogQXBwbHkgYXMgdmVsb2NpdHkgY2hhbmdlLCBtYXNzIGRlcGVuZGVudCAqL1xyXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIlZlbG9jaXR5Q2hhbmdlXCJdID0gMl0gPSBcIlZlbG9jaXR5Q2hhbmdlXCI7XHJcbiAgICAvKiogQXBwbHkgYXMgbWFzcyBkZXBlbmRlbnQgZm9yY2UgKi9cclxuICAgIEZvcmNlTW9kZVtGb3JjZU1vZGVbXCJBY2NlbGVyYXRpb25cIl0gPSAzXSA9IFwiQWNjZWxlcmF0aW9uXCI7XHJcbn0pKEZvcmNlTW9kZSB8fCAoRm9yY2VNb2RlID0ge30pKTtcclxuLyoqXHJcbiAqIENvbGxpc2lvbiBjYWxsYmFjayBldmVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IHZhciBDb2xsaXNpb25FdmVudFR5cGU7XHJcbihmdW5jdGlvbiAoQ29sbGlzaW9uRXZlbnRUeXBlKSB7XHJcbiAgICAvKiogVG91Y2gvY29udGFjdCBkZXRlY3RlZCwgY29sbGlzaW9uICovXHJcbiAgICBDb2xsaXNpb25FdmVudFR5cGVbQ29sbGlzaW9uRXZlbnRUeXBlW1wiVG91Y2hcIl0gPSAwXSA9IFwiVG91Y2hcIjtcclxuICAgIC8qKiBUb3VjaC9jb250YWN0IGxvc3QsIHVuY29sbGlkZSAqL1xyXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRvdWNoTG9zdFwiXSA9IDFdID0gXCJUb3VjaExvc3RcIjtcclxuICAgIC8qKiBUb3VjaC9jb250YWN0IHdpdGggdHJpZ2dlciBkZXRlY3RlZCAqL1xyXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRyaWdnZXJUb3VjaFwiXSA9IDJdID0gXCJUcmlnZ2VyVG91Y2hcIjtcclxuICAgIC8qKiBUb3VjaC9jb250YWN0IHdpdGggdHJpZ2dlciBsb3N0ICovXHJcbiAgICBDb2xsaXNpb25FdmVudFR5cGVbQ29sbGlzaW9uRXZlbnRUeXBlW1wiVHJpZ2dlclRvdWNoTG9zdFwiXSA9IDNdID0gXCJUcmlnZ2VyVG91Y2hMb3N0XCI7XHJcbn0pKENvbGxpc2lvbkV2ZW50VHlwZSB8fCAoQ29sbGlzaW9uRXZlbnRUeXBlID0ge30pKTtcclxuLyoqXHJcbiAqIFJpZ2lkIGJvZHkge0BsaW5rIFBoeXNYQ29tcG9uZW50I3NoYXBlfS5cclxuICpcclxuICogW1BoeXNYIFNESyBHdWlkZV0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvR2VvbWV0cnkuaHRtbCNnZW9tZXRyeS10eXBlcykuXHJcbiAqL1xyXG5leHBvcnQgdmFyIFNoYXBlO1xyXG4oZnVuY3Rpb24gKFNoYXBlKSB7XHJcbiAgICAvKiogTm8gc2hhcGUuICovXHJcbiAgICBTaGFwZVtTaGFwZVtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xyXG4gICAgLyoqIFNwaGVyZSBzaGFwZS4gKi9cclxuICAgIFNoYXBlW1NoYXBlW1wiU3BoZXJlXCJdID0gMV0gPSBcIlNwaGVyZVwiO1xyXG4gICAgLyoqIENhcHN1bGUgc2hhcGUuICovXHJcbiAgICBTaGFwZVtTaGFwZVtcIkNhcHN1bGVcIl0gPSAyXSA9IFwiQ2Fwc3VsZVwiO1xyXG4gICAgLyoqIEJveCBzaGFwZS4gKi9cclxuICAgIFNoYXBlW1NoYXBlW1wiQm94XCJdID0gM10gPSBcIkJveFwiO1xyXG4gICAgLyoqIFBsYW5lIHNoYXBlLiAqL1xyXG4gICAgU2hhcGVbU2hhcGVbXCJQbGFuZVwiXSA9IDRdID0gXCJQbGFuZVwiO1xyXG4gICAgLyoqIENvbnZleCBtZXNoIHNoYXBlLiAqL1xyXG4gICAgU2hhcGVbU2hhcGVbXCJDb252ZXhNZXNoXCJdID0gNV0gPSBcIkNvbnZleE1lc2hcIjtcclxuICAgIC8qKiBUcmlhbmdsZSBtZXNoIHNoYXBlLiAqL1xyXG4gICAgU2hhcGVbU2hhcGVbXCJUcmlhbmdsZU1lc2hcIl0gPSA2XSA9IFwiVHJpYW5nbGVNZXNoXCI7XHJcbn0pKFNoYXBlIHx8IChTaGFwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBNZXNoIGF0dHJpYnV0ZSBlbnVtLlxyXG4gKiBAc2luY2UgMC45LjBcclxuICovXHJcbmV4cG9ydCB2YXIgTWVzaEF0dHJpYnV0ZTtcclxuKGZ1bmN0aW9uIChNZXNoQXR0cmlidXRlKSB7XHJcbiAgICAvKiogUG9zaXRpb24gYXR0cmlidXRlLCAzIGZsb2F0cyAqL1xyXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiUG9zaXRpb25cIl0gPSAwXSA9IFwiUG9zaXRpb25cIjtcclxuICAgIC8qKiBUYW5nZW50IGF0dHJpYnV0ZSwgNCBmbG9hdHMgKi9cclxuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIlRhbmdlbnRcIl0gPSAxXSA9IFwiVGFuZ2VudFwiO1xyXG4gICAgLyoqIE5vcm1hbCBhdHRyaWJ1dGUsIDMgZmxvYXRzICovXHJcbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJOb3JtYWxcIl0gPSAyXSA9IFwiTm9ybWFsXCI7XHJcbiAgICAvKiogVGV4dHVyZSBjb29yZGluYXRlIGF0dHJpYnV0ZSwgMiBmbG9hdHMgKi9cclxuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIlRleHR1cmVDb29yZGluYXRlXCJdID0gM10gPSBcIlRleHR1cmVDb29yZGluYXRlXCI7XHJcbiAgICAvKiogQ29sb3IgYXR0cmlidXRlLCA0IGZsb2F0cywgUkdCQSwgcmFuZ2UgYDBgIHRvIGAxYCAqL1xyXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiQ29sb3JcIl0gPSA0XSA9IFwiQ29sb3JcIjtcclxuICAgIC8qKiBKb2ludCBpZCBhdHRyaWJ1dGUsIDggdW5zaWduZWQgaW50cyAqL1xyXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiSm9pbnRJZFwiXSA9IDVdID0gXCJKb2ludElkXCI7XHJcbiAgICAvKiogSm9pbnQgd2VpZ2h0cyBhdHRyaWJ1dGUsIDggZmxvYXRzICovXHJcbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJKb2ludFdlaWdodFwiXSA9IDZdID0gXCJKb2ludFdlaWdodFwiO1xyXG59KShNZXNoQXR0cmlidXRlIHx8IChNZXNoQXR0cmlidXRlID0ge30pKTtcclxuLyoqXHJcbiAqIE1hdGVyaWFsIHBhcmFtZXRlciB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IHZhciBNYXRlcmlhbFBhcmFtVHlwZTtcclxuKGZ1bmN0aW9uIChNYXRlcmlhbFBhcmFtVHlwZSkge1xyXG4gICAgLyoqIFVuc2lnbmVkIGludGVnZXIgcGFyYW1ldGVyIHR5cGUuICovXHJcbiAgICBNYXRlcmlhbFBhcmFtVHlwZVtNYXRlcmlhbFBhcmFtVHlwZVtcIlVuc2lnbmVkSW50XCJdID0gMF0gPSBcIlVuc2lnbmVkSW50XCI7XHJcbiAgICAvKiogSW50ZWdlciBwYXJhbWV0ZXIgdHlwZS4gKi9cclxuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiSW50XCJdID0gMV0gPSBcIkludFwiO1xyXG4gICAgLyoqIEZsb2F0IHBhcmFtZXRlciB0eXBlLiAqL1xyXG4gICAgTWF0ZXJpYWxQYXJhbVR5cGVbTWF0ZXJpYWxQYXJhbVR5cGVbXCJGbG9hdFwiXSA9IDJdID0gXCJGbG9hdFwiO1xyXG4gICAgLyoqIFNhbXBsZXIgcmVzb3VyY2UgcGFyYW1ldGVyIHR5cGUsIGkuZS4sIGEge0BsaW5rIFRleHR1cmV9LiAqL1xyXG4gICAgTWF0ZXJpYWxQYXJhbVR5cGVbTWF0ZXJpYWxQYXJhbVR5cGVbXCJTYW1wbGVyXCJdID0gM10gPSBcIlNhbXBsZXJcIjtcclxuICAgIC8qKlxyXG4gICAgICogRm9udCByZXNvdXJjZSBwYXJhbWV0ZXIgdHlwZS5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGUqKjogQ2hhbmdpbmcgZm9udCBpc24ndCBleHBvc2VkIHlldCBhbmQgd2lsbCByYWlzZSBhbiBlcnJvci5cclxuICAgICAqL1xyXG4gICAgTWF0ZXJpYWxQYXJhbVR5cGVbTWF0ZXJpYWxQYXJhbVR5cGVbXCJGb250XCJdID0gNF0gPSBcIkZvbnRcIjtcclxufSkoTWF0ZXJpYWxQYXJhbVR5cGUgfHwgKE1hdGVyaWFsUGFyYW1UeXBlID0ge30pKTtcclxuLyoqXHJcbiAqIENyZWF0ZSBhIHByb3h5IHRocm93aW5nIGRlc3Ryb3llZCBlcnJvcnMgdXBvbiBhY2Nlc3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB0eXBlIFRoZSB0eXBlIHRvIGRpc3BsYXkgdXBvbiBlcnJvclxyXG4gKiBAcmV0dXJucyBUaGUgcHJveHkgaW5zdGFuY2VcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZURlc3Ryb3llZFByb3h5KHR5cGUpIHtcclxuICAgIHJldHVybiBuZXcgUHJveHkoe30sIHtcclxuICAgICAgICBnZXQoXywgcGFyYW0pIHtcclxuICAgICAgICAgICAgaWYgKHBhcmFtID09PSAnaXNEZXN0cm95ZWQnKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm8ndCByZWFkICcke3BhcmFtfScgb2YgZGVzdHJveWVkICR7dHlwZX1gKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldChfLCBwYXJhbSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vJ3Qgd3JpdGUgJyR7cGFyYW19JyBvZiBkZXN0cm95ZWQgJHt0eXBlfWApO1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxyXG4vKiogUHJveHkgdXNlZCB0byBvdmVycmlkZSBwcm90b3R5cGVzIG9mIGRlc3Ryb3llZCBvYmplY3RzLiAqL1xyXG5leHBvcnQgY29uc3QgRGVzdHJveWVkT2JqZWN0SW5zdGFuY2UgPSBjcmVhdGVEZXN0cm95ZWRQcm94eSgnb2JqZWN0Jyk7XHJcbi8qKiBQcm94eSB1c2VkIHRvIG92ZXJyaWRlIHByb3RvdHlwZXMgb2YgZGVzdHJveWVkIGNvbXBvbmVudHMuICovXHJcbmV4cG9ydCBjb25zdCBEZXN0cm95ZWRDb21wb25lbnRJbnN0YW5jZSA9IGNyZWF0ZURlc3Ryb3llZFByb3h5KCdjb21wb25lbnQnKTtcclxuLyoqIFByb3h5IHVzZWQgdG8gb3ZlcnJpZGUgcHJvdG90eXBlcyBvZiBkZXN0cm95ZWQgdGV4dHVyZXMuICovXHJcbmV4cG9ydCBjb25zdCBEZXN0cm95ZWRUZXh0dXJlSW5zdGFuY2UgPSBjcmVhdGVEZXN0cm95ZWRQcm94eSgndGV4dHVyZScpO1xyXG4vKipcclxuICogQ2hlY2sgd2hldGhlciBhIGdpdmVuIHNoYXBlIGlzIGEgbWVzaCBvciBub3QuXHJcbiAqXHJcbiAqIEBwYXJhbSBzaGFwZSBUaGUgc2hhcGUgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgc2hhcGUgaXMgYSBtZXNoLCBgZmFsc2VgIGlmIGl0J3MgYSBwcmltaXRpdmUuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc01lc2hTaGFwZShzaGFwZSkge1xyXG4gICAgcmV0dXJuIHNoYXBlID09PSBTaGFwZS5Db252ZXhNZXNoIHx8IHNoYXBlID09PSBTaGFwZS5UcmlhbmdsZU1lc2g7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrIHdoZXRoZXIgYW4gb2JqZWN0IGlzIHRoZSB7QGxpbmsgQ29tcG9uZW50fSBjbGFzcyBvciBub3QsXHJcbiAqXHJcbiAqIEBub3RlIFRoaXMgbWV0aG9kIGlmIGZvb2xwcm9vZiB0byBkZXZlbG9wZXJzIGluYWR2ZXJ0ZW50bHkgdXNpbmdcclxuICogbXVsdGlwbGUgV29uZGVybGFuZCBFbmdpbmUgQVBJIGluIGEgYnVuZGxlLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgVGhlIG9iamVjdCB0byBjaGVjay5cclxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3QgaXMgYSB7QGxpbmsgQ29tcG9uZW50fSBjbGFzcywgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Jhc2VDb21wb25lbnRDbGFzcyh2YWx1ZSkge1xyXG4gICAgcmV0dXJuICghIXZhbHVlICYmXHJcbiAgICAgICAgdmFsdWUuaGFzT3duUHJvcGVydHkoJ19pc0Jhc2VDb21wb25lbnQnKSAmJlxyXG4gICAgICAgIHZhbHVlLl9pc0Jhc2VDb21wb25lbnQpO1xyXG59XHJcbi8qKlxyXG4gKiBDb25zdGFudHMuXHJcbiAqL1xyXG4vKipcclxuICogRGVmYXVsdCB3b3JsZCB1cCB2ZWN0b3IuXHJcbiAqL1xyXG5jb25zdCBVUF9WRUNUT1IgPSBbMCwgMSwgMF07XHJcbmNvbnN0IFNRUlRfMyA9IE1hdGguc3FydCgzKTtcclxuLyoqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIGNvbXBvbmVudCBpbnN0YW5jZSBvZiBhIHNwZWNpZmllZCBjb21wb25lbnQgdHlwZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogVGhpcyBpcyBob3cgeW91IGV4dGVuZCB0aGlzIGNsYXNzIHRvIGNyZWF0ZSB5b3VyIG93biBjdXN0b21cclxuICogY29tcG9uZW50OlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gKlxyXG4gKiBleHBvcnQgY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ215LWNvbXBvbmVudCc7XHJcbiAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICogICAgICAgICBteUJvb2xlYW46IHsgdHlwZTogVHlwZS5Cb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gKiAgICAgfTtcclxuICogICAgIHN0YXJ0KCkge31cclxuICogICAgIG9uQWN0aXZhdGUoKSB7fVxyXG4gKiAgICAgb25EZWFjdGl2YXRlKCkge31cclxuICogICAgIHVwZGF0ZShkdCkge31cclxuICogfVxyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb21wb25lbnQge1xyXG4gICAgLyoqXHJcbiAgICAgKiBgdHJ1ZWAgZm9yIGV2ZXJ5IGNsYXNzIGluaGVyaXRpbmcgZnJvbSB0aGlzIGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvciBgaW5zdGFuY2VvZmAgdG8gcHJldmVudCBpc3N1ZXNcclxuICAgICAqIHRoYXQgY291bGQgYXJpc2Ugd2hlbiBhbiBhcHBsaWNhdGlvbiBlbmRzIHVwIHVzaW5nIG11bHRpcGxlIEFQSSB2ZXJzaW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBfaXNCYXNlQ29tcG9uZW50ID0gdHJ1ZTtcclxuICAgIC8qKlxyXG4gICAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgY29tcG9uZW50IGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgaXMgdXNlZCB0byByZWdpc3RlciwgYWRkLCBhbmQgcmV0cmlldmUgY29tcG9uZW50cyBvZiBhIGdpdmVuIHR5cGUuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBUeXBlTmFtZTtcclxuICAgIC8qKlxyXG4gICAgICogUHJvcGVydGllcyBvZiB0aGlzIGNvbXBvbmVudCBjbGFzcy5cclxuICAgICAqXHJcbiAgICAgKiBQcm9wZXJ0aWVzIGFyZSBwdWJsaWMgYXR0cmlidXRlcyB0aGF0IGNhbiBiZSBjb25maWd1cmVkIHZpYSB0aGVcclxuICAgICAqIFdvbmRlcmxhbmQgRWRpdG9yLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAgICAgKiBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAgKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ215LWNvbXBvbmVudCc7XHJcbiAgICAgKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgKiAgICAgICAgIG15Qm9vbGVhbjogeyB0eXBlOiBUeXBlLkJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgICAgKiAgICAgICAgIG15RmxvYXQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgICAqICAgICAgICAgbXlUZXh0dXJlOiB7IHR5cGU6IFR5cGUuVGV4dHVyZSwgZGVmYXVsdDogbnVsbCB9LFxyXG4gICAgICogICAgIH07XHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBQcm9wZXJ0aWVzIGFyZSBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIGVhY2ggY29tcG9uZW50IGluc3RhbmNlLCBhbmQgYXJlXHJcbiAgICAgKiBhY2Nlc3NpYmxlIGxpa2UgYW55IEpTIGF0dHJpYnV0ZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gQ3JlYXRlcyBhIG5ldyBjb21wb25lbnQgYW5kIHNldCBlYWNoIHByb3BlcnRpZXMgdmFsdWU6XHJcbiAgICAgKiBjb25zdCBteUNvbXBvbmVudCA9IG9iamVjdC5hZGRDb21wb25lbnQoTXlDb21wb25lbnQsIHtcclxuICAgICAqICAgICBteUJvb2xlYW46IHRydWUsXHJcbiAgICAgKiAgICAgbXlGbG9hdDogNDIuMCxcclxuICAgICAqICAgICBteVRleHR1cmU6IG51bGxcclxuICAgICAqIH0pO1xyXG4gICAgICpcclxuICAgICAqIC8vIFlvdSBjYW4gYWxzbyBvdmVycmlkZSB0aGUgcHJvcGVydGllcyBvbiB0aGUgaW5zdGFuY2U6XHJcbiAgICAgKiBteUNvbXBvbmVudC5teUJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAqIG15Q29tcG9uZW50Lm15RmxvYXQgPSAtNDIuMDtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqICMjIyMgUmVmZXJlbmNlc1xyXG4gICAgICpcclxuICAgICAqIFJlZmVyZW5jZSB0eXBlcyAoaS5lLiwgbWVzaCwgb2JqZWN0LCBldGMuLi4pIGNhbiBhbHNvIGJlIGxpc3RlZCBhcyAqKnJlcXVpcmVkKio6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuICAgICAqXHJcbiAgICAgKiBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAgKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgKiAgICAgICAgIG15T2JqZWN0OiBQcm9wZXJ0eS5vYmplY3Qoe3JlcXVpcmVkOiB0cnVlfSksXHJcbiAgICAgKiAgICAgICAgIG15QW5pbWF0aW9uOiBQcm9wZXJ0eS5hbmltYXRpb24oe3JlcXVpcmVkOiB0cnVlfSksXHJcbiAgICAgKiAgICAgICAgIG15VGV4dHVyZTogUHJvcGVydHkudGV4dHVyZSh7cmVxdWlyZWQ6IHRydWV9KSxcclxuICAgICAqICAgICAgICAgbXlNZXNoOiBQcm9wZXJ0eS5tZXNoKHtyZXF1aXJlZDogdHJ1ZX0pLFxyXG4gICAgICogICAgIH1cclxuICAgICAqIH1cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFBsZWFzZSBub3RlIHRoYXQgcmVmZXJlbmNlcyBhcmUgdmFsaWRhdGVkICoqb25jZSoqIGJlZm9yZSB0aGUgY2FsbCB0byB7QGxpbmsgQ29tcG9uZW50LnN0YXJ0fSBvbmx5LFxyXG4gICAgICogdmlhIHRoZSB7QGxpbmsgQ29tcG9uZW50LnZhbGlkYXRlUHJvcGVydGllc30gbWV0aG9kLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgUHJvcGVydGllcztcclxuICAgIC8qKlxyXG4gICAgICogV2hlbiBzZXQgdG8gYHRydWVgLCB0aGUgY2hpbGQgY2xhc3MgaW5oZXJpdHMgZnJvbSB0aGUgcGFyZW50XHJcbiAgICAgKiBwcm9wZXJ0aWVzLCBhcyBzaG93biBpbiB0aGUgZm9sbG93aW5nIGV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuICAgICAqXHJcbiAgICAgKiBjbGFzcyBQYXJlbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgICogICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwYXJlbnQnO1xyXG4gICAgICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge3BhcmVudE5hbWU6IFByb3BlcnR5LnN0cmluZygncGFyZW50Jyl9XHJcbiAgICAgKiB9XHJcbiAgICAgKlxyXG4gICAgICogY2xhc3MgQ2hpbGQgZXh0ZW5kcyBQYXJlbnQge1xyXG4gICAgICogICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdjaGlsZCc7XHJcbiAgICAgKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7bmFtZTogUHJvcGVydHkuc3RyaW5nKCdjaGlsZCcpfVxyXG4gICAgICogICAgIHN0YXRpYyBJbmhlcml0UHJvcGVydGllcyA9IHRydWU7XHJcbiAgICAgKlxyXG4gICAgICogICAgIHN0YXJ0KCkge1xyXG4gICAgICogICAgICAgICAvLyBXb3JrcyBiZWNhdXNlIGBJbmhlcml0UHJvcGVydGllc2AgaXMgYHRydWVgLlxyXG4gICAgICogICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLm5hbWV9IGluaGVyaXRzIGZyb20gJHt0aGlzLnBhcmVudE5hbWV9YCk7XHJcbiAgICAgKiAgICAgfVxyXG4gICAgICogfVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgUHJvcGVydGllcyBkZWZpbmVkIGluIGRlc2NlbmRhbnQgY2xhc3NlcyB3aWxsIG92ZXJyaWRlIHByb3BlcnRpZXNcclxuICAgICAqIHdpdGggdGhlIHNhbWUgbmFtZSBkZWZpbmVkIGluIGFuY2VzdG9yIGNsYXNzZXMuXHJcbiAgICAgKlxyXG4gICAgICogRGVmYXVsdHMgdG8gYHRydWVgLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgSW5oZXJpdFByb3BlcnRpZXM7XHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCB3aGVuIHRoaXMgY29tcG9uZW50IGNsYXNzIGlzIHJlZ2lzdGVyZWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqXHJcbiAgICAgKiBUaGlzIGNhbGxiYWNrIGNhbiBiZSB1c2VkIHRvIHJlZ2lzdGVyIGRlcGVuZGVuY2llcyBvZiBhIGNvbXBvbmVudCxcclxuICAgICAqIGUuZy4sIGNvbXBvbmVudCBjbGFzc2VzIHRoYXQgbmVlZCB0byBiZSByZWdpc3RlcmVkIGluIG9yZGVyIHRvIGFkZFxyXG4gICAgICogdGhlbSBhdCBydW50aW1lIHdpdGgge0BsaW5rIE9iamVjdDNELmFkZENvbXBvbmVudH0sIGluZGVwZW5kZW50IG9mIHdoZXRoZXJcclxuICAgICAqIHRoZXkgYXJlIHVzZWQgaW4gdGhlIGVkaXRvci5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogY2xhc3MgU3Bhd25lciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAgKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ3NwYXduZXInO1xyXG4gICAgICpcclxuICAgICAqICAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAqICAgICAgICAgZW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50KFNwYXduZWRDb21wb25lbnQpO1xyXG4gICAgICogICAgIH1cclxuICAgICAqXHJcbiAgICAgKiAgICAgLy8gWW91IGNhbiBub3cgdXNlIGFkZENvbXBvbmVudCB3aXRoIFNwYXduZWRDb21wb25lbnRcclxuICAgICAqIH1cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBjYWxsYmFjayBjYW4gYmUgdXNlZCB0byByZWdpc3RlciBkaWZmZXJlbnQgaW1wbGVtZW50YXRpb25zIG9mIGFcclxuICAgICAqIGNvbXBvbmVudCBkZXBlbmRpbmcgb24gY2xpZW50IGZlYXR1cmVzIG9yIEFQSSB2ZXJzaW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gUHJvcGVydGllcyBuZWVkIHRvIGJlIHRoZSBzYW1lIGZvciBhbGwgaW1wbGVtZW50YXRpb25zIVxyXG4gICAgICogY29uc3QgU2hhcmVkUHJvcGVydGllcyA9IHt9O1xyXG4gICAgICpcclxuICAgICAqIGNsYXNzIEFuY2hvciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAgKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ3NwYXduZXInO1xyXG4gICAgICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0gU2hhcmVkUHJvcGVydGllcztcclxuICAgICAqXHJcbiAgICAgKiAgICAgc3RhdGljIG9uUmVnaXN0ZXIoZW5naW5lKSB7XHJcbiAgICAgKiAgICAgICAgIGlmKG5hdmlnYXRvci54ciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgKiAgICAgICAgICAgICAvKiBXZWJYUiB1bnN1cHBvcnRlZCwga2VlcCB0aGlzIGR1bW15IGNvbXBvbmVudCAqXFwvXHJcbiAgICAgKiAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgKiAgICAgICAgIH1cclxuICAgICAqICAgICAgICAgLyogV2ViWFIgc3VwcG9ydGVkISBPdmVycmlkZSBhbHJlYWR5IHJlZ2lzdGVyZWQgZHVtbXkgaW1wbGVtZW50YXRpb25cclxuICAgICAqICAgICAgICAgICogd2l0aCBvbmUgZGVwZW5kaW5nIG9uIGhpdC10ZXN0IEFQSSBzdXBwb3J0ICpcXC9cclxuICAgICAqICAgICAgICAgZW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50KHdpbmRvdy5IaXRUZXN0U291cmNlID09PSB1bmRlZmluZWQgP1xyXG4gICAgICogICAgICAgICAgICAgQW5jaG9yV2l0aG91dEhpdFRlc3QgOiBBbmNob3JXaXRoSGl0VGVzdCk7XHJcbiAgICAgKiAgICAgfVxyXG4gICAgICpcclxuICAgICAqICAgICAvLyBUaGlzIG9uZSBpbXBsZW1lbnRzIG5vIGZ1bmN0aW9uc1xyXG4gICAgICogfVxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBvblJlZ2lzdGVyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBBbGxvd3MgdG8gaW5oZXJpdCBwcm9wZXJ0aWVzIGRpcmVjdGx5IGluc2lkZSB0aGUgZWRpdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIERvIG5vdCB1c2UgZGlyZWN0bHksIHByZWZlciB1c2luZyB7QGxpbmsgaW5oZXJpdFByb3BlcnRpZXN9LlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIF9pbmhlcml0UHJvcGVydGllcygpIHtcclxuICAgICAgICBpbmhlcml0UHJvcGVydGllcyh0aGlzKTtcclxuICAgIH1cclxuICAgIC8qKiBNYW5hZ2VyIGluZGV4LiBAaGlkZGVuICovXHJcbiAgICBfbWFuYWdlcjtcclxuICAgIC8qKiBJbnN0YW5jZSBpbmRleC4gQGhpZGRlbiAqL1xyXG4gICAgX2lkO1xyXG4gICAgLyoqXHJcbiAgICAgKiBPYmplY3QgY29udGFpbmluZyB0aGlzIG9iamVjdC5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGUqKjogVGhpcyBpcyBjYWNoZWQgZm9yIGZhc3RlciByZXRyaWV2YWwuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfb2JqZWN0O1xyXG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXHJcbiAgICBfZW5naW5lO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2VcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZW5naW5lIFRoZSBlbmdpbmUgaW5zdGFuY2UuXHJcbiAgICAgKiBAcGFyYW0gbWFuYWdlciBJbmRleCBvZiB0aGUgbWFuYWdlci5cclxuICAgICAqIEBwYXJhbSBpZCBXQVNNIGNvbXBvbmVudCBpbnN0YW5jZSBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgbWFuYWdlciA9IC0xLCBpZCA9IC0xKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgIHRoaXMuX21hbmFnZXIgPSBtYW5hZ2VyO1xyXG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5fb2JqZWN0ID0gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKiBIb3N0aW5nIGVuZ2luZSBpbnN0YW5jZS4gKi9cclxuICAgIGdldCBlbmdpbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZTtcclxuICAgIH1cclxuICAgIC8qKiBUaGUgbmFtZSBvZiB0aGlzIGNvbXBvbmVudCdzIHR5cGUgKi9cclxuICAgIGdldCB0eXBlKCkge1xyXG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgIHJldHVybiBjdG9yLlR5cGVOYW1lID8/IHRoaXMuX2VuZ2luZS53YXNtLl90eXBlTmFtZUZvcih0aGlzLl9tYW5hZ2VyKTtcclxuICAgIH1cclxuICAgIC8qKiBUaGUgb2JqZWN0IHRoaXMgY29tcG9uZW50IGlzIGF0dGFjaGVkIHRvLiAqL1xyXG4gICAgZ2V0IG9iamVjdCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX29iamVjdCkge1xyXG4gICAgICAgICAgICBjb25zdCBvYmplY3RJZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb21wb25lbnRfZ2V0X29iamVjdCh0aGlzLl9tYW5hZ2VyLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX29iamVjdCA9IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KG9iamVjdElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29iamVjdDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyBjb21wb25lbnQgaXMgYWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqIEFjdGl2YXRpbmcvZGVhY3RpdmF0aW5nIGEgY29tcG9uZW50IGNvbWVzIGF0IGEgc21hbGwgY29zdCBvZiByZW9yZGVyaW5nXHJcbiAgICAgKiBjb21wb25lbnRzIGluIHRoZSByZXNwZWN0aXZlIGNvbXBvbmVudCBtYW5hZ2VyLiBUaGlzIGZ1bmN0aW9uIHRoZXJlZm9yZVxyXG4gICAgICogaXMgbm90IGEgdHJpdmlhbCBhc3NpZ25tZW50LlxyXG4gICAgICpcclxuICAgICAqIERvZXMgbm90aGluZyBpZiB0aGUgY29tcG9uZW50IGlzIGFscmVhZHkgYWN0aXZhdGVkL2RlYWN0aXZhdGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhY3RpdmUgTmV3IGFjdGl2ZSBzdGF0ZS5cclxuICAgICAqL1xyXG4gICAgc2V0IGFjdGl2ZShhY3RpdmUpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29tcG9uZW50X3NldEFjdGl2ZSh0aGlzLl9tYW5hZ2VyLCB0aGlzLl9pZCwgYWN0aXZlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGlzIGNvbXBvbmVudCBpcyBhY3RpdmVcclxuICAgICAqL1xyXG4gICAgZ2V0IGFjdGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbXBvbmVudF9pc0FjdGl2ZSh0aGlzLl9tYW5hZ2VyLCB0aGlzLl9pZCkgIT0gMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29weSBhbGwgdGhlIHByb3BlcnRpZXMgZnJvbSBgc3JjYCBpbnRvIHRoaXMgaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgT25seSBwcm9wZXJ0aWVzIGFyZSBjb3BpZWQuIElmIGEgY29tcG9uZW50IG5lZWRzIHRvXHJcbiAgICAgKiBjb3B5IGV4dHJhIGRhdGEsIGl0IG5lZWRzIHRvIG92ZXJyaWRlIHRoaXMgbWV0aG9kLlxyXG4gICAgICpcclxuICAgICAqICMjIyMgRXhhbXBsZVxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAgKiAgICAgbm9uUHJvcGVydHlEYXRhID0gJ0hlbGxvIFdvcmxkJztcclxuICAgICAqXHJcbiAgICAgKiAgICAgY29weShzcmMpIHtcclxuICAgICAqICAgICAgICAgc3VwZXIuY29weShzcmMpO1xyXG4gICAgICogICAgICAgICB0aGlzLm5vblByb3BlcnR5RGF0YSA9IHNyYy5ub25Qcm9wZXJ0eURhdGE7XHJcbiAgICAgKiAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICogICAgIH1cclxuICAgICAqIH1cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSB7QGxpbmsgT2JqZWN0M0QuY2xvbmV9LiBEbyBub3QgYXR0ZW1wdCB0bzpcclxuICAgICAqICAgICAtIENyZWF0ZSBuZXcgY29tcG9uZW50XHJcbiAgICAgKiAgICAgLSBSZWFkIHJlZmVyZW5jZXMgdG8gb3RoZXIgb2JqZWN0c1xyXG4gICAgICpcclxuICAgICAqIFdoZW4gY2xvbmluZyB2aWEge0BsaW5rIE9iamVjdDNELmNsb25lfSwgdGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYmVmb3JlXHJcbiAgICAgKiB7QGxpbmsgQ29tcG9uZW50LnN0YXJ0fS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBKYXZhU2NyaXB0IGNvbXBvbmVudCBwcm9wZXJ0aWVzIGFyZW4ndCByZXRhcmdldGVkLiBUaHVzLCByZWZlcmVuY2VzXHJcbiAgICAgKiBpbnNpZGUgdGhlIHNvdXJjZSBvYmplY3Qgd2lsbCBub3QgYmUgcmV0YXJnZXRlZCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LFxyXG4gICAgICogYXQgdGhlIGV4Y2VwdGlvbiBvZiB0aGUgc2tpbiBkYXRhIG9uIHtAbGluayBNZXNoQ29tcG9uZW50fSBhbmQge0BsaW5rIEFuaW1hdGlvbkNvbXBvbmVudH0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNyYyBUaGUgc291cmNlIGNvbXBvbmVudCB0byBjb3B5IGZyb20uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBjb3B5KHNyYykge1xyXG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBjdG9yLlByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzcmNbbmFtZV07XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzW25hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSB0aGlzIGNvbXBvbmVudCBmcm9tIGl0cyBvYmplY3RzIGFuZCBkZXN0cm95IGl0LlxyXG4gICAgICpcclxuICAgICAqIEl0IGlzIGJlc3QgcHJhY3RpY2UgdG8gc2V0IHRoZSBjb21wb25lbnQgdG8gYG51bGxgIGFmdGVyLFxyXG4gICAgICogdG8gZW5zdXJlIGl0IGRvZXMgbm90IGdldCB1c2VkIGxhdGVyLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgICBjLmRlc3Ryb3koKTtcclxuICAgICAqICAgIGMgPSBudWxsO1xyXG4gICAgICogYGBgXHJcbiAgICAgKiBAc2luY2UgMC45LjBcclxuICAgICAqL1xyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICBjb25zdCBtYW5hZ2VyID0gdGhpcy5fbWFuYWdlcjtcclxuICAgICAgICBpZiAobWFuYWdlciA8IDAgfHwgdGhpcy5faWQgPCAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLyogTXVzdCBiZSBzdG9yZWQgYmVmb3JlIGRlc3RydWN0aW9uLiAqL1xyXG4gICAgICAgIGNvbnN0IGpzTWFuYWdlciA9IHRoaXMuZW5naW5lLndhc20uX2pzTWFuYWdlckluZGV4O1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb21wb25lbnRfcmVtb3ZlKG1hbmFnZXIsIHRoaXMuX2lkKTtcclxuICAgICAgICAvKiogQHRvZG86IFJlbW92ZSBhdCAxLjIuMCB3aGVuIGEgZ2VuZXJpYyBkZXN0cm95IGlzIGltcGxlbWVudGVkXHJcbiAgICAgICAgICogZm9yIGV2ZXJ5IG1hbmFnZXIuICovXHJcbiAgICAgICAgaWYgKG1hbmFnZXIgIT09IGpzTWFuYWdlcilcclxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlck9uRGVzdHJveSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIGNvbXBvbmVudCBpZHNcclxuICAgICAqIGFuZCBjb21wb25lbnQgbWFuYWdlciB0eXBlcyBhcmUgZXF1YWwuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyQ29tcG9uZW50IENvbXBvbmVudCB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxyXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIGNvbXBvbmVudCBlcXVhbHMgdGhlIGdpdmVuIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgZXF1YWxzKG90aGVyQ29tcG9uZW50KSB7XHJcbiAgICAgICAgaWYgKCFvdGhlckNvbXBvbmVudClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tYW5hZ2VyID09IG90aGVyQ29tcG9uZW50Ll9tYW5hZ2VyICYmIHRoaXMuX2lkID09IG90aGVyQ29tcG9uZW50Ll9pZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgdGhlIGNvbXBvbmVudCBwcm9wZXJ0aWVzIHRvIGRlZmF1bHQuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCBkdXJpbmcgdGhlIGNvbXBvbmVudCBpbnN0YW50aWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcmVzZXRQcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBjdG9yLlByb3BlcnRpZXM7XHJcbiAgICAgICAgaWYgKCFwcm9wZXJ0aWVzKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICB0aGlzW25hbWVdID0gcHJvcGVydGllc1tuYW1lXS5kZWZhdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIENvbXBvbmVudC5yZXNldFByb3BlcnRpZXN9IGluc3RlYWQuICovXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNldFByb3BlcnRpZXMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGUgdGhlIHByb3BlcnRpZXMgb24gdGhpcyBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAdGhyb3dzIElmIGFueSBvZiB0aGUgcmVxdWlyZWQgcHJvcGVydGllcyBpc24ndCBpbml0aWFsaXplZFxyXG4gICAgICogb24gdGhpcyBpbnN0YW5jZS5cclxuICAgICAqL1xyXG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgIGlmICghY3Rvci5Qcm9wZXJ0aWVzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIGN0b3IuUHJvcGVydGllcykge1xyXG4gICAgICAgICAgICBpZiAoIWN0b3IuUHJvcGVydGllc1tuYW1lXS5yZXF1aXJlZClcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvcGVydHkgJyR7bmFtZX0nIGlzIHJlcXVpcmVkIGJ1dCB3YXMgbm90IGluaXRpYWxpemVkYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGB0cnVlYCBpZiB0aGUgY29tcG9uZW50IGlzIGRlc3Ryb3llZCwgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAgICAgKlxyXG4gICAgICogSWYge0BsaW5rIFdvbmRlcmxhbmRFbmdpbmUuZXJhc2VQcm90b3R5cGVPbkRlc3Ryb3l9IGlzIGB0cnVlYCxcclxuICAgICAqIHJlYWRpbmcgYSBjdXN0b20gcHJvcGVydHkgd2lsbCBub3Qgd29yazpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW5naW5lLmVyYXNlUHJvdG90eXBlT25EZXN0cm95ID0gdHJ1ZTtcclxuICAgICAqXHJcbiAgICAgKiBjb25zdCBjb21wID0gb2JqLmFkZENvbXBvbmVudCgnbWVzaCcpO1xyXG4gICAgICogY29tcC5jdXN0b21QYXJhbSA9ICdIZWxsbyBXb3JsZCEnO1xyXG4gICAgICpcclxuICAgICAqIGNvbnNvbGUubG9nKGNvbXAuaXNEZXN0cm95ZWQpOyAvLyBQcmludHMgYGZhbHNlYFxyXG4gICAgICogY29tcC5kZXN0cm95KCk7XHJcbiAgICAgKiBjb25zb2xlLmxvZyhjb21wLmlzRGVzdHJveWVkKTsgLy8gUHJpbnRzIGB0cnVlYFxyXG4gICAgICogY29uc29sZS5sb2coY29tcC5jdXN0b21QYXJhbSk7IC8vIFRocm93cyBhbiBlcnJvclxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMS4xXHJcbiAgICAgKi9cclxuICAgIGdldCBpc0Rlc3Ryb3llZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQgPCAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC5pbml0fSBtZXRob2QuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVXNlIHRoaXMgbWV0aG9kIGluc3RlYWQgb2YgZGlyZWN0bHkgY2FsbGluZyB7QGxpbmsgQ29tcG9uZW50LmluaXR9LFxyXG4gICAgICogYmVjYXVzZSB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIGhhbmRsZXIgZm9yIHRoZSB7QGxpbmsgQ29tcG9uZW50LnN0YXJ0fS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfdHJpZ2dlckluaXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5pdCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gaW5pdCgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyogQXJtIG9uQWN0aXZhdGUoKSB3aXRoIHRoZSBpbml0aWFsIHN0YXJ0KCkgY2FsbCAqL1xyXG4gICAgICAgIGNvbnN0IG9sZEFjdGl2YXRlID0gdGhpcy5vbkFjdGl2YXRlO1xyXG4gICAgICAgIHRoaXMub25BY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlID0gb2xkQWN0aXZhdGU7XHJcbiAgICAgICAgICAgIGxldCBmYWlsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVQcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gdmFsaWRhdGVQcm9wZXJ0aWVzKCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBlKTtcclxuICAgICAgICAgICAgICAgIGZhaWxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQ/LigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IHN0YXJ0KCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBlKTtcclxuICAgICAgICAgICAgICAgIGZhaWxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZhaWxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRoaXMub25BY3RpdmF0ZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25BY3RpdmF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IG9uQWN0aXZhdGUoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUubG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlciB0aGUgY29tcG9uZW50IHtAbGluayBDb21wb25lbnQudXBkYXRlfSBtZXRob2QuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX3RyaWdnZXJVcGRhdGUoZHQpIHtcclxuICAgICAgICBpZiAoIXRoaXMudXBkYXRlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IHVwZGF0ZSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBlKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuZ2luZS53YXNtLl9kZWFjdGl2YXRlX2NvbXBvbmVudF9vbl9lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlciB0aGUgY29tcG9uZW50IHtAbGluayBDb21wb25lbnQub25BY3RpdmF0ZX0gbWV0aG9kLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF90cmlnZ2VyT25BY3RpdmF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMub25BY3RpdmF0ZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMub25BY3RpdmF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IG9uQWN0aXZhdGUoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xyXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC5vbkRlYWN0aXZhdGV9IG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfdHJpZ2dlck9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMub25EZWFjdGl2YXRlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5vbkRlYWN0aXZhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5lbmdpbmUubG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGBFeGNlcHRpb24gZHVyaW5nICR7dGhpcy50eXBlfSBvbkRlYWN0aXZhdGUoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xyXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC5vbkRlc3Ryb3l9IG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfdHJpZ2dlck9uRGVzdHJveSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vbkRlc3Ryb3kpXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IG9uRGVzdHJveSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLl9kZXN0cm95Q29tcG9uZW50KHRoaXMpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDb21wb25lbnRzIG11c3QgYmUgcmVnaXN0ZXJlZCBiZWZvcmUgbG9hZGluZyAvIGFwcGVuZGluZyBhIHNjZW5lLlxyXG4gKlxyXG4gKiBJdCdzIHBvc3NpYmxlIHRvIGVuZCB1cCB3aXRoIGEgYnJva2VuIGNvbXBvbmVudCBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxyXG4gKlxyXG4gKiAtIENvbXBvbmVudCB3YXNuJ3QgcmVnaXN0ZXJlZCB3aGVuIHRoZSBzY2VuZSB3YXMgbG9hZGVkXHJcbiAqIC0gQ29tcG9uZW50IGluc3RhbnRpYXRpb24gZmFpbGVkXHJcbiAqXHJcbiAqIFRoaXMgZHVtbXkgY29tcG9uZW50IGlzIHRodXMgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGJ5IHRoZSBlbmdpbmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQnJva2VuQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdfX2Jyb2tlbi1jb21wb25lbnRfXyc7XHJcbn1cclxuLyoqXHJcbiAqIE1lcmdlIHRoZSBhc2NlbmRhbnQgcHJvcGVydGllcyBvZiBjbGFzc1xyXG4gKlxyXG4gKiBUaGlzIG1ldGhvZCB3YWxrcyB0aGUgcHJvdG90eXBlIGNoYWluLCBhbmQgbWVyZ2VzXHJcbiAqIGFsbCB0aGUgcHJvcGVydGllcyBmb3VuZCBpbiBwYXJlbnQgY29tcG9uZW50cy5cclxuICpcclxuICogRXhhbXBsZTpcclxuICpcclxuICogYGBganNcclxuICogaW1wb3J0IHtQcm9wZXJ0eSwgaW5oZXJpdFByb3BlcnRpZXN9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqXHJcbiAqIGNsYXNzIFBhcmVudCB7XHJcbiAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHsgcGFyZW50UHJvcDogUHJvcGVydHkuc3RyaW5nKCdwYXJlbnQnKSB9O1xyXG4gKiB9XHJcbiAqXHJcbiAqIGNsYXNzIENoaWxkIGV4dGVuZHMgUGFyZW50IHtcclxuICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0geyBjaGlsZFByb3A6IFByb3BlcnR5LnN0cmluZygnY2hpbGQnKSB9O1xyXG4gKiB9XHJcbiAqIGluaGVyaXRQcm9wZXJ0aWVzKENoaWxkKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSB0YXJnZXQgVGhlIGNsYXNzIGluIHdoaWNoIHByb3BlcnRpZXMgc2hvdWxkIGJlIG1lcmdlZFxyXG4gKlxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5oZXJpdFByb3BlcnRpZXModGFyZ2V0KSB7XHJcbiAgICBpZiAoIXRhcmdldC5UeXBlTmFtZSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICBjb25zdCBjaGFpbiA9IFtdO1xyXG4gICAgbGV0IGN1cnIgPSB0YXJnZXQ7XHJcbiAgICB3aGlsZSAoY3VyciAmJiAhaXNCYXNlQ29tcG9uZW50Q2xhc3MoY3VycikpIHtcclxuICAgICAgICBjb25zdCBjb21wID0gY3VycjtcclxuICAgICAgICAvKiBTdG9wIGF0IHRoZSBmaXJzdCBjbGFzcyB0aGF0IGRvZXNuJ3QgcmVxdWlyZSBwcm9wZXJ0aWVzIG1lcmdpbmcgKi9cclxuICAgICAgICBjb25zdCBuZWVkc01lcmdlID0gY29tcC5oYXNPd25Qcm9wZXJ0eSgnSW5oZXJpdFByb3BlcnRpZXMnKVxyXG4gICAgICAgICAgICA/IGNvbXAuSW5oZXJpdFByb3BlcnRpZXNcclxuICAgICAgICAgICAgOiB0cnVlO1xyXG4gICAgICAgIGlmICghbmVlZHNNZXJnZSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgaWYgKGNvbXAuVHlwZU5hbWUgJiYgY29tcC5oYXNPd25Qcm9wZXJ0eSgnUHJvcGVydGllcycpKSB7XHJcbiAgICAgICAgICAgIGNoYWluLnB1c2goY29tcC5Qcm9wZXJ0aWVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3VyciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjdXJyKTtcclxuICAgIH1cclxuICAgIC8qIE5vIHByb3RvdHlwZSBtZXJnZSBpcyBuZWVkZWQuICovXHJcbiAgICBpZiAoY2hhaW4ubGVuZ3RoIDw9IDEpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgY29uc3QgbWVyZ2VkID0ge307XHJcbiAgICBmb3IgKGxldCBpID0gY2hhaW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKG1lcmdlZCwgY2hhaW5baV0pO1xyXG4gICAgfVxyXG4gICAgdGFyZ2V0LlByb3BlcnRpZXMgPSBtZXJnZWQ7XHJcbn1cclxuLyoqXHJcbiAqIE5hdGl2ZSBjb2xsaXNpb24gY29tcG9uZW50LlxyXG4gKlxyXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgY29sbGlzaW9uIGNvbXBvbmVudCBpbnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb2xsaXNpb25Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2NvbGxpc2lvbic7XHJcbiAgICAvKiogQ29sbGlzaW9uIGNvbXBvbmVudCBjb2xsaWRlciAqL1xyXG4gICAgZ2V0IGNvbGxpZGVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfY29sbGlkZXIodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgY29sbGlzaW9uIGNvbXBvbmVudCBjb2xsaWRlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29sbGlkZXIgQ29sbGlkZXIgb2YgdGhlIGNvbGxpc2lvbiBjb21wb25lbnQuXHJcbiAgICAgKi9cclxuICAgIHNldCBjb2xsaWRlcihjb2xsaWRlcikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X3NldF9jb2xsaWRlcih0aGlzLl9pZCwgY29sbGlkZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb2xsaXNpb24gY29tcG9uZW50IGV4dGVudHMuXHJcbiAgICAgKlxyXG4gICAgICogSWYge0BsaW5rIGNvbGxpZGVyfSByZXR1cm5zIHtAbGluayBDb2xsaWRlci5TcGhlcmV9LCBvbmx5IHRoZSBmaXJzdFxyXG4gICAgICogY29tcG9uZW50IG9mIHRoZSByZXR1cm5lZCB2ZWN0b3IgaXMgdXNlZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IGV4dGVudHMoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfZ2V0X2V4dGVudHModGhpcy5faWQpLCAzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGNvbGxpc2lvbiBjb21wb25lbnQgZXh0ZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBJZiB7QGxpbmsgY29sbGlkZXJ9IHJldHVybnMge0BsaW5rIENvbGxpZGVyLlNwaGVyZX0sIG9ubHkgdGhlIGZpcnN0XHJcbiAgICAgKiBjb21wb25lbnQgb2YgdGhlIHBhc3NlZCB2ZWN0b3IgaXMgdXNlZC5cclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAvLyBTcGFucyAxIHVuaXQgb24gdGhlIHgtYXhpcywgMiBvbiB0aGUgeS1heGlzLCAzIG9uIHRoZSB6LWF4aXMuXHJcbiAgICAgKiBjb2xsaXNpb24uZXh0ZW50ID0gWzEsIDIsIDNdO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGV4dGVudHMgRXh0ZW50cyBvZiB0aGUgY29sbGlzaW9uIGNvbXBvbmVudCwgZXhwZWN0cyBhXHJcbiAgICAgKiAgICAgIDMgY29tcG9uZW50IGFycmF5LlxyXG4gICAgICovXHJcbiAgICBzZXQgZXh0ZW50cyhleHRlbnRzKSB7XHJcbiAgICAgICAgdGhpcy5leHRlbnRzLnNldChleHRlbnRzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGNvbGxpc2lvbiBjb21wb25lbnQgcmFkaXVzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIElmIHtAbGluayBjb2xsaWRlcn0gaXMgbm90IHtAbGluayBDb2xsaWRlci5TcGhlcmV9LCB0aGUgcmV0dXJuZWQgdmFsdWVcclxuICAgICAqIGNvcnJlc3BvbmRzIHRvIHRoZSByYWRpdXMgb2YgYSBzcGhlcmUgZW5jbG9zaW5nIHRoZSBzaGFwZS5cclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBzcGhlcmUucmFkaXVzID0gMy4wO1xyXG4gICAgICogY29uc29sZS5sb2coc3BoZXJlLnJhZGl1cyk7IC8vIDMuMFxyXG4gICAgICpcclxuICAgICAqIGJveC5leHRlbnRzID0gWzIuMCwgMi4wLCAyLjBdO1xyXG4gICAgICogY29uc29sZS5sb2coYm94LnJhZGl1cyk7IC8vIDEuNzMyLi4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIGdldCByYWRpdXMoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbGxpZGVyID09PSBDb2xsaWRlci5TcGhlcmUpXHJcbiAgICAgICAgICAgIHJldHVybiB3YXNtLkhFQVBGMzJbd2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfZXh0ZW50cyh0aGlzLl9pZCkgPj4gMl07XHJcbiAgICAgICAgY29uc3QgZXh0ZW50cyA9IG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfZXh0ZW50cyh0aGlzLl9pZCksIDMpO1xyXG4gICAgICAgIGNvbnN0IHgyID0gZXh0ZW50c1swXSAqIGV4dGVudHNbMF07XHJcbiAgICAgICAgY29uc3QgeTIgPSBleHRlbnRzWzFdICogZXh0ZW50c1sxXTtcclxuICAgICAgICBjb25zdCB6MiA9IGV4dGVudHNbMl0gKiBleHRlbnRzWzJdO1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoeDIgKyB5MiArIHoyKSAvIDI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBjb2xsaXNpb24gY29tcG9uZW50IHJhZGl1cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcmFkaXVzIFJhZGl1cyBvZiB0aGUgY29sbGlzaW9uIGNvbXBvbmVudFxyXG4gICAgICpcclxuICAgICAqIEBub3RlIElmIHtAbGluayBjb2xsaWRlcn0gaXMgbm90IHtAbGluayBDb2xsaWRlci5TcGhlcmV9LFxyXG4gICAgICogdGhlIGV4dGVudHMgYXJlIHNldCB0byBmb3JtIGEgc3F1YXJlIHRoYXQgZml0cyBhIHNwaGVyZSB3aXRoIHRoZSBwcm92aWRlZCByYWRpdXMuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogYWFiYkNvbGxpc2lvbi5yYWRpdXMgPSAyLjA7IC8vIEFBQkIgZml0cyBhIHNwaGVyZSBvZiByYWRpdXMgMi4wXHJcbiAgICAgKiBib3hDb2xsaXNpb24ucmFkaXVzID0gMy4wOyAvLyBCb3ggbm93IGZpdHMgYSBzcGhlcmUgb2YgcmFkaXVzIDMuMCwga2VlcGluZyBvcmllbnRhdGlvblxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBzZXQgcmFkaXVzKHJhZGl1cykge1xyXG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuY29sbGlkZXIgPT09IENvbGxpZGVyLlNwaGVyZSA/IHJhZGl1cyA6ICgyICogcmFkaXVzKSAvIFNRUlRfMztcclxuICAgICAgICB0aGlzLmV4dGVudHMuc2V0KFtsZW5ndGgsIGxlbmd0aCwgbGVuZ3RoXSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbGxpc2lvbiBjb21wb25lbnQgZ3JvdXAuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGdyb3VwcyBpcyBhIGJpdG1hc2sgdGhhdCBpcyBjb21wYXJlZCB0byBvdGhlciBjb21wb25lbnRzIGluIHtAbGluayBDb2xsaXNpb25Db21wb25lbnQjcXVlcnlPdmVybGFwc31cclxuICAgICAqIG9yIHRoZSBncm91cCBpbiB7QGxpbmsgU2NlbmUjcmF5Q2FzdH0uXHJcbiAgICAgKlxyXG4gICAgICogQ29sbGlkZXJzIHRoYXQgaGF2ZSBubyBjb21tb24gZ3JvdXBzIHdpbGwgbm90IG92ZXJsYXAgd2l0aCBlYWNoIG90aGVyLiBJZiBhIGNvbGxpZGVyXHJcbiAgICAgKiBoYXMgbm9uZSBvZiB0aGUgZ3JvdXBzIHNldCBmb3Ige0BsaW5rIFNjZW5lI3JheUNhc3R9LCB0aGUgcmF5IHdpbGwgbm90IGhpdCBpdC5cclxuICAgICAqXHJcbiAgICAgKiBFYWNoIGJpdCByZXByZXNlbnRzIGJlbG9uZ2luZyB0byBhIGdyb3VwLCBzZWUgZXhhbXBsZS5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICAgLy8gYyBiZWxvbmdzIHRvIGdyb3VwIDJcclxuICAgICAqICAgIGMuZ3JvdXAgPSAoMSA8PCAyKTtcclxuICAgICAqXHJcbiAgICAgKiAgICAvLyBjIGJlbG9uZ3MgdG8gZ3JvdXAgMFxyXG4gICAgICogICAgYy5ncm91cCA9ICgxIDw8IDApO1xyXG4gICAgICpcclxuICAgICAqICAgIC8vIGMgYmVsb25ncyB0byBncm91cCAwICphbmQqIDJcclxuICAgICAqICAgIGMuZ3JvdXAgPSAoMSA8PCAwKSB8ICgxIDw8IDIpO1xyXG4gICAgICpcclxuICAgICAqICAgIChjLmdyb3VwICYgKDEgPDwgMikpICE9IDA7IC8vIHRydWVcclxuICAgICAqICAgIChjLmdyb3VwICYgKDEgPDwgNykpICE9IDA7IC8vIGZhbHNlXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZ2V0IGdyb3VwKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfZ3JvdXAodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgY29sbGlzaW9uIGNvbXBvbmVudCBncm91cC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZ3JvdXAgR3JvdXAgbWFzayBvZiB0aGUgY29sbGlzaW9uIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgc2V0IGdyb3VwKGdyb3VwKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfc2V0X2dyb3VwKHRoaXMuX2lkLCBncm91cCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFF1ZXJ5IG92ZXJsYXBwaW5nIG9iamVjdHMuXHJcbiAgICAgKlxyXG4gICAgICogVXNhZ2U6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGNvbnN0IGNvbGxpc2lvbiA9IG9iamVjdC5nZXRDb21wb25lbnQoJ2NvbGxpc2lvbicpO1xyXG4gICAgICogY29uc3Qgb3ZlcmxhcHMgPSBjb2xsaXNpb24ucXVlcnlPdmVybGFwcygpO1xyXG4gICAgICogZm9yKGNvbnN0IG90aGVyQ29sbGlzaW9uIG9mIG92ZXJsYXBzKSB7XHJcbiAgICAgKiAgICAgY29uc3Qgb3RoZXJPYmplY3QgPSBvdGhlckNvbGxpc2lvbi5vYmplY3Q7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2coYENvbGxpc2lvbiB3aXRoIG9iamVjdCAke290aGVyT2JqZWN0Lm9iamVjdElkfWApO1xyXG4gICAgICogfVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgQ29sbGlzaW9uIGNvbXBvbmVudHMgb3ZlcmxhcHBpbmcgdGhpcyBjb2xsaWRlci5cclxuICAgICAqL1xyXG4gICAgcXVlcnlPdmVybGFwcygpIHtcclxuICAgICAgICBjb25zdCBjb3VudCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X3F1ZXJ5X292ZXJsYXBzKHRoaXMuX2lkLCB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbSwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1TaXplID4+IDEpO1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXBzID0gbmV3IEFycmF5KGNvdW50KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgb3ZlcmxhcHNbaV0gPSBuZXcgQ29sbGlzaW9uQ29tcG9uZW50KHRoaXMuX2VuZ2luZSwgdGhpcy5fbWFuYWdlciwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1VaW50MTZbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3ZlcmxhcHM7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIENvbGxpc2lvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwiY29sbGlkZXJcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBDb2xsaXNpb25Db21wb25lbnQucHJvdG90eXBlLCBcImV4dGVudHNcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBDb2xsaXNpb25Db21wb25lbnQucHJvdG90eXBlLCBcImdyb3VwXCIsIG51bGwpO1xyXG4vKipcclxuICogTmF0aXZlIHRleHQgY29tcG9uZW50XHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSB0ZXh0IGNvbXBvbmVudCBpbnN0YW5jZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRleHRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3RleHQnO1xyXG4gICAgLyoqIFRleHQgY29tcG9uZW50IGFsaWdubWVudC4gKi9cclxuICAgIGdldCBhbGlnbm1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfaG9yaXpvbnRhbF9hbGlnbm1lbnQodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgYWxpZ25tZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhbGlnbm1lbnQgQWxpZ25tZW50IGZvciB0aGUgdGV4dCBjb21wb25lbnQuXHJcbiAgICAgKi9cclxuICAgIHNldCBhbGlnbm1lbnQoYWxpZ25tZW50KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF9ob3Jpem9udGFsX2FsaWdubWVudCh0aGlzLl9pZCwgYWxpZ25tZW50KTtcclxuICAgIH1cclxuICAgIC8qKiBUZXh0IGNvbXBvbmVudCBqdXN0aWZpY2F0aW9uLiAqL1xyXG4gICAgZ2V0IGp1c3RpZmljYXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfdmVydGljYWxfYWxpZ25tZW50KHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRleHQgY29tcG9uZW50IGp1c3RpZmljYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGp1c3RpZmljYXRpb24gSnVzdGlmaWNhdGlvbiBmb3IgdGhlIHRleHQgY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBzZXQganVzdGlmaWNhdGlvbihqdXN0aWZpY2F0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF92ZXJ0aWNhbF9hbGlnbm1lbnQodGhpcy5faWQsIGp1c3RpZmljYXRpb24pO1xyXG4gICAgfVxyXG4gICAgLyoqIFRleHQgY29tcG9uZW50IGNoYXJhY3RlciBzcGFjaW5nLiAqL1xyXG4gICAgZ2V0IGNoYXJhY3RlclNwYWNpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfY2hhcmFjdGVyX3NwYWNpbmcodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgY2hhcmFjdGVyIHNwYWNpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNwYWNpbmcgQ2hhcmFjdGVyIHNwYWNpbmcgZm9yIHRoZSB0ZXh0IGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgc2V0IGNoYXJhY3RlclNwYWNpbmcoc3BhY2luZykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfY2hhcmFjdGVyX3NwYWNpbmcodGhpcy5faWQsIHNwYWNpbmcpO1xyXG4gICAgfVxyXG4gICAgLyoqIFRleHQgY29tcG9uZW50IGxpbmUgc3BhY2luZy4gKi9cclxuICAgIGdldCBsaW5lU3BhY2luZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9saW5lX3NwYWNpbmcodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgbGluZSBzcGFjaW5nXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNwYWNpbmcgTGluZSBzcGFjaW5nIGZvciB0aGUgdGV4dCBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgc2V0IGxpbmVTcGFjaW5nKHNwYWNpbmcpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfc2V0X2xpbmVfc3BhY2luZyh0aGlzLl9pZCwgc3BhY2luZyk7XHJcbiAgICB9XHJcbiAgICAvKiogVGV4dCBjb21wb25lbnQgZWZmZWN0LiAqL1xyXG4gICAgZ2V0IGVmZmVjdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9lZmZlY3QodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgZWZmZWN0XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGVmZmVjdCBFZmZlY3QgZm9yIHRoZSB0ZXh0IGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBzZXQgZWZmZWN0KGVmZmVjdCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfZWZmZWN0KHRoaXMuX2lkLCBlZmZlY3QpO1xyXG4gICAgfVxyXG4gICAgLyoqIFRleHQgY29tcG9uZW50IHRleHQuICovXHJcbiAgICBnZXQgdGV4dCgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfdGV4dF9jb21wb25lbnRfZ2V0X3RleHQodGhpcy5faWQpO1xyXG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyhwdHIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgdGV4dC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGV4dCBUZXh0IG9mIHRoZSB0ZXh0IGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgc2V0IHRleHQodGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfdGV4dCh0aGlzLl9pZCwgd2FzbS50ZW1wVVRGOCh0ZXh0LnRvU3RyaW5nKCkpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IG1hdGVyaWFsIHRvIHJlbmRlciB0aGUgdGV4dCB3aXRoLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBtYXRlcmlhbCBOZXcgbWF0ZXJpYWwuXHJcbiAgICAgKi9cclxuICAgIHNldCBtYXRlcmlhbChtYXRlcmlhbCkge1xyXG4gICAgICAgIGNvbnN0IG1hdEluZGV4ID0gbWF0ZXJpYWwgPyBtYXRlcmlhbC5faW5kZXggOiAwO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfbWF0ZXJpYWwodGhpcy5faWQsIG1hdEluZGV4KTtcclxuICAgIH1cclxuICAgIC8qKiBNYXRlcmlhbCB1c2VkIHRvIHJlbmRlciB0aGUgdGV4dC4gKi9cclxuICAgIGdldCBtYXRlcmlhbCgpIHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfbWF0ZXJpYWwodGhpcy5faWQpO1xyXG4gICAgICAgIHJldHVybiBpZCA+IDAgPyBuZXcgTWF0ZXJpYWwodGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJhbGlnbm1lbnRcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJqdXN0aWZpY2F0aW9uXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwiY2hhcmFjdGVyU3BhY2luZ1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcImxpbmVTcGFjaW5nXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwiZWZmZWN0XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwidGV4dFwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcIm1hdGVyaWFsXCIsIG51bGwpO1xyXG4vKipcclxuICogTmF0aXZlIHZpZXcgY29tcG9uZW50LlxyXG4gKlxyXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgdmlldyBjb21wb25lbnQgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmlld0NvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndmlldyc7XHJcbiAgICAvKiogUHJvamVjdGlvbiBtYXRyaXguICovXHJcbiAgICBnZXQgcHJvamVjdGlvbk1hdHJpeCgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfdmlld19jb21wb25lbnRfZ2V0X3Byb2plY3Rpb25fbWF0cml4KHRoaXMuX2lkKSwgMTYpO1xyXG4gICAgfVxyXG4gICAgLyoqIFZpZXdDb21wb25lbnQgbmVhciBjbGlwcGluZyBwbGFuZSB2YWx1ZS4gKi9cclxuICAgIGdldCBuZWFyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfZ2V0X25lYXIodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbmVhciBjbGlwcGluZyBwbGFuZSBkaXN0YW5jZSBmb3IgdGhlIHZpZXcuXHJcbiAgICAgKlxyXG4gICAgICogSWYgYW4gWFIgc2Vzc2lvbiBpcyBhY3RpdmUsIHRoZSBjaGFuZ2Ugd2lsbCBhcHBseSBpbiB0aGVcclxuICAgICAqIGZvbGxvd2luZyBmcmFtZSwgb3RoZXJ3aXNlIHRoZSBjaGFuZ2UgaXMgaW1tZWRpYXRlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuZWFyIE5lYXIgZGVwdGggdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIHNldCBuZWFyKG5lYXIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfc2V0X25lYXIodGhpcy5faWQsIG5lYXIpO1xyXG4gICAgfVxyXG4gICAgLyoqIEZhciBjbGlwcGluZyBwbGFuZSB2YWx1ZS4gKi9cclxuICAgIGdldCBmYXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9nZXRfZmFyKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGZhciBjbGlwcGluZyBwbGFuZSBkaXN0YW5jZSBmb3IgdGhlIHZpZXcuXHJcbiAgICAgKlxyXG4gICAgICogSWYgYW4gWFIgc2Vzc2lvbiBpcyBhY3RpdmUsIHRoZSBjaGFuZ2Ugd2lsbCBhcHBseSBpbiB0aGVcclxuICAgICAqIGZvbGxvd2luZyBmcmFtZSwgb3RoZXJ3aXNlIHRoZSBjaGFuZ2UgaXMgaW1tZWRpYXRlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBmYXIgTmVhciBkZXB0aCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgc2V0IGZhcihmYXIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfc2V0X2Zhcih0aGlzLl9pZCwgZmFyKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBob3Jpem9udGFsIGZpZWxkIG9mIHZpZXcgZm9yIHRoZSB2aWV3LCAqKmluIGRlZ3JlZXMqKi5cclxuICAgICAqXHJcbiAgICAgKiBJZiBhbiBYUiBzZXNzaW9uIGlzIGFjdGl2ZSwgdGhpcyByZXR1cm5zIHRoZSBmaWVsZCBvZiB2aWV3IHJlcG9ydGVkIGJ5XHJcbiAgICAgKiB0aGUgZGV2aWNlLCByZWdhcmRsZXNzIG9mIHRoZSBmb3YgdGhhdCB3YXMgc2V0LlxyXG4gICAgICovXHJcbiAgICBnZXQgZm92KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfZ2V0X2Zvdih0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgaG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3IGZvciB0aGUgdmlldywgKippbiBkZWdyZWVzKiouXHJcbiAgICAgKlxyXG4gICAgICogSWYgYW4gWFIgc2Vzc2lvbiBpcyBhY3RpdmUsIHRoZSBmaWVsZCBvZiB2aWV3IHJlcG9ydGVkIGJ5IHRoZSBkZXZpY2UgaXNcclxuICAgICAqIHVzZWQgYW5kIHRoaXMgdmFsdWUgaXMgaWdub3JlZC4gQWZ0ZXIgdGhlIFhSIHNlc3Npb24gZW5kcywgdGhlIG5ldyB2YWx1ZVxyXG4gICAgICogaXMgYXBwbGllZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZm92IEhvcml6b250YWwgZmllbGQgb2YgdmlldywgKippbiBkZWdyZWVzKiouXHJcbiAgICAgKi9cclxuICAgIHNldCBmb3YoZm92KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3ZpZXdfY29tcG9uZW50X3NldF9mb3YodGhpcy5faWQsIGZvdik7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBlbnVtZXJhYmxlKClcclxuXSwgVmlld0NvbXBvbmVudC5wcm90b3R5cGUsIFwicHJvamVjdGlvbk1hdHJpeFwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFZpZXdDb21wb25lbnQucHJvdG90eXBlLCBcIm5lYXJcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBWaWV3Q29tcG9uZW50LnByb3RvdHlwZSwgXCJmYXJcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBWaWV3Q29tcG9uZW50LnByb3RvdHlwZSwgXCJmb3ZcIiwgbnVsbCk7XHJcbi8qKlxyXG4gKiBOYXRpdmUgaW5wdXQgY29tcG9uZW50LlxyXG4gKlxyXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgaW5wdXQgY29tcG9uZW50IGluc3RhbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIElucHV0Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdpbnB1dCc7XHJcbiAgICAvKiogSW5wdXQgY29tcG9uZW50IHR5cGUgKi9cclxuICAgIGdldCBpbnB1dFR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9pbnB1dF9jb21wb25lbnRfZ2V0X3R5cGUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgaW5wdXQgY29tcG9uZW50IHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtcyBOZXcgaW5wdXQgY29tcG9uZW50IHR5cGUuXHJcbiAgICAgKi9cclxuICAgIHNldCBpbnB1dFR5cGUodHlwZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9pbnB1dF9jb21wb25lbnRfc2V0X3R5cGUodGhpcy5faWQsIHR5cGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXZWJYUiBEZXZpY2UgQVBJIGlucHV0IHNvdXJjZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnB1dCBjb21wb25lbnQsXHJcbiAgICAgKiBpZiB0eXBlIHtAbGluayBJbnB1dFR5cGUuQ29udHJvbGxlckxlZnR9IG9yIHtAbGluayBJbnB1dFR5cGUuQ29udHJvbGxlclJpZ2h0fS5cclxuICAgICAqL1xyXG4gICAgZ2V0IHhySW5wdXRTb3VyY2UoKSB7XHJcbiAgICAgICAgY29uc3QgeHIgPSB0aGlzLl9lbmdpbmUueHI7XHJcbiAgICAgICAgaWYgKCF4cilcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgZm9yIChsZXQgaW5wdXRTb3VyY2Ugb2YgeHIuc2Vzc2lvbi5pbnB1dFNvdXJjZXMpIHtcclxuICAgICAgICAgICAgaWYgKGlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gdGhpcy5oYW5kZWRuZXNzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRTb3VyY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqICdsZWZ0JywgJ3JpZ2h0JyBvciBgbnVsbGAgZGVwZW5kaW5nIG9uIHRoZSB7QGxpbmsgSW5wdXRDb21wb25lbnQjaW5wdXRUeXBlfS5cclxuICAgICAqL1xyXG4gICAgZ2V0IGhhbmRlZG5lc3MoKSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRUeXBlID0gdGhpcy5pbnB1dFR5cGU7XHJcbiAgICAgICAgaWYgKGlucHV0VHlwZSA9PSBJbnB1dFR5cGUuQ29udHJvbGxlclJpZ2h0IHx8XHJcbiAgICAgICAgICAgIGlucHV0VHlwZSA9PSBJbnB1dFR5cGUuUmF5UmlnaHQgfHxcclxuICAgICAgICAgICAgaW5wdXRUeXBlID09IElucHV0VHlwZS5FeWVSaWdodClcclxuICAgICAgICAgICAgcmV0dXJuICdyaWdodCc7XHJcbiAgICAgICAgaWYgKGlucHV0VHlwZSA9PSBJbnB1dFR5cGUuQ29udHJvbGxlckxlZnQgfHxcclxuICAgICAgICAgICAgaW5wdXRUeXBlID09IElucHV0VHlwZS5SYXlMZWZ0IHx8XHJcbiAgICAgICAgICAgIGlucHV0VHlwZSA9PSBJbnB1dFR5cGUuRXllTGVmdClcclxuICAgICAgICAgICAgcmV0dXJuICdsZWZ0JztcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgSW5wdXRDb21wb25lbnQucHJvdG90eXBlLCBcImlucHV0VHlwZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBlbnVtZXJhYmxlKClcclxuXSwgSW5wdXRDb21wb25lbnQucHJvdG90eXBlLCBcInhySW5wdXRTb3VyY2VcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgZW51bWVyYWJsZSgpXHJcbl0sIElucHV0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJoYW5kZWRuZXNzXCIsIG51bGwpO1xyXG4vKipcclxuICogTmF0aXZlIGxpZ2h0IGNvbXBvbmVudC5cclxuICpcclxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgbmF0aXZlIGxpZ2h0IGNvbXBvbmVudCBpbnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBMaWdodENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbGlnaHQnO1xyXG4gICAgZ2V0Q29sb3Iob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X2NvbG9yKHRoaXMuX2lkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxpZ2h0IGNvbG9yLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjIE5ldyBjb2xvciBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXRDb2xvcihjKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfY29sb3IodGhpcy5faWQpIC8gNDsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0cl0gPSBjWzBdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAxXSA9IGNbMV07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDJdID0gY1syXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVmlldyBvbiB0aGUgbGlnaHQgY29sb3IuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgUHJlZmVyIHRvIHVzZSB7QGxpbmsgZ2V0Q29sb3J9IGluIHBlcmZvcm1hbmNlLWNyaXRpY2FsIGNvZGUuXHJcbiAgICAgKi9cclxuICAgIGdldCBjb2xvcigpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9jb2xvcih0aGlzLl9pZCksIDMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbGlnaHQgY29sb3IuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGMgQ29sb3Igb2YgdGhlIGxpZ2h0IGNvbXBvbmVudC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBQcmVmZXIgdG8gdXNlIHtAbGluayBzZXRDb2xvcn0gaW4gcGVyZm9ybWFuY2UtY3JpdGljYWwgY29kZS5cclxuICAgICAqL1xyXG4gICAgc2V0IGNvbG9yKGMpIHtcclxuICAgICAgICB0aGlzLmNvbG9yLnNldChjKTtcclxuICAgIH1cclxuICAgIC8qKiBMaWdodCB0eXBlLiAqL1xyXG4gICAgZ2V0IGxpZ2h0VHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfdHlwZSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsaWdodCB0eXBlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsaWdodFR5cGUgVHlwZSBvZiB0aGUgbGlnaHQgY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBzZXQgbGlnaHRUeXBlKHQpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF90eXBlKHRoaXMuX2lkLCB0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTGlnaHQgaW50ZW5zaXR5LlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGdldCBpbnRlbnNpdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X2ludGVuc2l0eSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsaWdodCBpbnRlbnNpdHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGludGVuc2l0eSBJbnRlbnNpdHkgb2YgdGhlIGxpZ2h0IGNvbXBvbmVudC5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXQgaW50ZW5zaXR5KGludGVuc2l0eSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X2ludGVuc2l0eSh0aGlzLl9pZCwgaW50ZW5zaXR5KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogT3V0ZXIgYW5nbGUgZm9yIHNwb3QgbGlnaHRzLCBpbiBkZWdyZWVzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGdldCBvdXRlckFuZ2xlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9vdXRlckFuZ2xlKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IG91dGVyIGFuZ2xlIGZvciBzcG90IGxpZ2h0cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYW5nbGUgT3V0ZXIgYW5nbGUsIGluIGRlZ3JlZXMuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgc2V0IG91dGVyQW5nbGUoYW5nbGUpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9vdXRlckFuZ2xlKHRoaXMuX2lkLCBhbmdsZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIElubmVyIGFuZ2xlIGZvciBzcG90IGxpZ2h0cywgaW4gZGVncmVlcy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBnZXQgaW5uZXJBbmdsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfaW5uZXJBbmdsZSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBpbm5lciBhbmdsZSBmb3Igc3BvdCBsaWdodHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFuZ2xlIElubmVyIGFuZ2xlLCBpbiBkZWdyZWVzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldCBpbm5lckFuZ2xlKGFuZ2xlKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfaW5uZXJBbmdsZSh0aGlzLl9pZCwgYW5nbGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoZSBsaWdodCBjYXN0cyBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGdldCBzaGFkb3dzKCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3NoYWRvd3ModGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0aGUgbGlnaHQgY2FzdHMgc2hhZG93cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoZSBsaWdodCBjYXN0cyBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldCBzaGFkb3dzKGIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dzKHRoaXMuX2lkLCBiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmFuZ2UgZm9yIHNoYWRvd3MuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZ2V0IHNoYWRvd1JhbmdlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dSYW5nZSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCByYW5nZSBmb3Igc2hhZG93cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcmFuZ2UgUmFuZ2UgZm9yIHNoYWRvd3MuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgc2V0IHNoYWRvd1JhbmdlKHJhbmdlKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfc2hhZG93UmFuZ2UodGhpcy5faWQsIHJhbmdlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQmlhcyB2YWx1ZSBmb3Igc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBnZXQgc2hhZG93QmlhcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfc2hhZG93Qmlhcyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBiaWFzIHZhbHVlIGZvciBzaGFkb3dzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiaWFzIEJpYXMgZm9yIHNoYWRvd3MuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgc2V0IHNoYWRvd0JpYXMoYmlhcykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd0JpYXModGhpcy5faWQsIGJpYXMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBOb3JtYWwgYmlhcyB2YWx1ZSBmb3Igc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBnZXQgc2hhZG93Tm9ybWFsQmlhcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfc2hhZG93Tm9ybWFsQmlhcyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBub3JtYWwgYmlhcyB2YWx1ZSBmb3Igc2hhZG93cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYmlhcyBOb3JtYWwgYmlhcyBmb3Igc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXQgc2hhZG93Tm9ybWFsQmlhcyhiaWFzKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfc2hhZG93Tm9ybWFsQmlhcyh0aGlzLl9pZCwgYmlhcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRleGVsIHNpemUgZm9yIHNoYWRvd3MuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZ2V0IHNoYWRvd1RleGVsU2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfc2hhZG93VGV4ZWxTaXplKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRleGVsIHNpemUgZm9yIHNoYWRvd3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNpemUgVGV4ZWwgc2l6ZSBmb3Igc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXQgc2hhZG93VGV4ZWxTaXplKHNpemUpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dUZXhlbFNpemUodGhpcy5faWQsIHNpemUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDYXNjYWRlIGNvdW50IGZvciB7QGxpbmsgTGlnaHRUeXBlLlN1bn0gc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBnZXQgY2FzY2FkZUNvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9jYXNjYWRlQ291bnQodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgY2FzY2FkZSBjb3VudCBmb3Ige0BsaW5rIExpZ2h0VHlwZS5TdW59IHNoYWRvd3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvdW50IENhc2NhZGUgY291bnQuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgc2V0IGNhc2NhZGVDb3VudChjb3VudCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X2Nhc2NhZGVDb3VudCh0aGlzLl9pZCwgY291bnQpO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiY29sb3JcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwibGlnaHRUeXBlXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcImludGVuc2l0eVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJvdXRlckFuZ2xlXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcImlubmVyQW5nbGVcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhZG93c1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFkb3dSYW5nZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFkb3dCaWFzXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcInNoYWRvd05vcm1hbEJpYXNcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhZG93VGV4ZWxTaXplXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcImNhc2NhZGVDb3VudFwiLCBudWxsKTtcclxuLyoqXHJcbiAqIE5hdGl2ZSBhbmltYXRpb24gY29tcG9uZW50LlxyXG4gKlxyXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgYW5pbWF0aW9uIGNvbXBvbmVudCBpbnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBbmltYXRpb25Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2FuaW1hdGlvbic7XHJcbiAgICAvKipcclxuICAgICAqIFNldCBhbmltYXRpb24gdG8gcGxheS5cclxuICAgICAqXHJcbiAgICAgKiBNYWtlIHN1cmUgdG8ge0BsaW5rIEFuaW1hdGlvbiNyZXRhcmdldH0gdGhlIGFuaW1hdGlvbiB0byBhZmZlY3QgdGhlXHJcbiAgICAgKiByaWdodCBvYmplY3RzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhbmltIEFuaW1hdGlvbiB0byBwbGF5LlxyXG4gICAgICovXHJcbiAgICBzZXQgYW5pbWF0aW9uKGFuaW0pIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9zZXRfYW5pbWF0aW9uKHRoaXMuX2lkLCBhbmltID8gYW5pbS5faW5kZXggOiAwKTtcclxuICAgIH1cclxuICAgIC8qKiBBbmltYXRpb24gc2V0IGZvciB0aGlzIGNvbXBvbmVudCAqL1xyXG4gICAgZ2V0IGFuaW1hdGlvbigpIHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X2dldF9hbmltYXRpb24odGhpcy5faWQpO1xyXG4gICAgICAgIHJldHVybiBpZCA+IDAgPyBuZXcgQW5pbWF0aW9uKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHBsYXkgY291bnQuIFNldCB0byBgMGAgdG8gbG9vcCBpbmRlZmluaXRlbHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBsYXlDb3VudCBOdW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBhbmltYXRpb24uXHJcbiAgICAgKi9cclxuICAgIHNldCBwbGF5Q291bnQocGxheUNvdW50KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc2V0X3BsYXlDb3VudCh0aGlzLl9pZCwgcGxheUNvdW50KTtcclxuICAgIH1cclxuICAgIC8qKiBOdW1iZXIgb2YgdGltZXMgdGhlIGFuaW1hdGlvbiBpcyBwbGF5ZWQuICovXHJcbiAgICBnZXQgcGxheUNvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9nZXRfcGxheUNvdW50KHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHNwZWVkLiBTZXQgdG8gbmVnYXRpdmUgdmFsdWVzIHRvIHJ1biB0aGUgYW5pbWF0aW9uIGJhY2t3YXJkcy5cclxuICAgICAqXHJcbiAgICAgKiBTZXR0aW5nIHNwZWVkIGhhcyBhbiBpbW1lZGlhdGUgZWZmZWN0IGZvciB0aGUgY3VycmVudCBmcmFtZSdzIHVwZGF0ZVxyXG4gICAgICogYW5kIHdpbGwgY29udGludWUgd2l0aCB0aGUgc3BlZWQgZnJvbSB0aGUgY3VycmVudCBwb2ludCBpbiB0aGUgYW5pbWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzcGVlZCBOZXcgc3BlZWQgYXQgd2hpY2ggdG8gcGxheSB0aGUgYW5pbWF0aW9uLlxyXG4gICAgICogQHNpbmNlIDAuOC4xMFxyXG4gICAgICovXHJcbiAgICBzZXQgc3BlZWQoc3BlZWQpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9zZXRfc3BlZWQodGhpcy5faWQsIHNwZWVkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU3BlZWQgZmFjdG9yIGF0IHdoaWNoIHRoZSBhbmltYXRpb24gaXMgcGxheWVkLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguMTBcclxuICAgICAqL1xyXG4gICAgZ2V0IHNwZWVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9nZXRfc3BlZWQodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqIEN1cnJlbnQgcGxheWluZyBzdGF0ZSBvZiB0aGUgYW5pbWF0aW9uICovXHJcbiAgICBnZXQgc3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3N0YXRlKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGxheSBhbmltYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogSWYgdGhlIGFuaW1hdGlvbiBpcyBjdXJyZW50bHkgcGF1c2VkLCByZXN1bWVzIGZyb20gdGhhdCBwb3NpdGlvbi4gSWYgdGhlXHJcbiAgICAgKiBhbmltYXRpb24gaXMgYWxyZWFkeSBwbGF5aW5nLCBkb2VzIG5vdGhpbmcuXHJcbiAgICAgKlxyXG4gICAgICogVG8gcmVzdGFydCB0aGUgYW5pbWF0aW9uLCB7QGxpbmsgQW5pbWF0aW9uQ29tcG9uZW50I3N0b3B9IGl0IGZpcnN0LlxyXG4gICAgICovXHJcbiAgICBwbGF5KCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3BsYXkodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqIFN0b3AgYW5pbWF0aW9uLiAqL1xyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9zdG9wKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKiBQYXVzZSBhbmltYXRpb24uICovXHJcbiAgICBwYXVzZSgpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9wYXVzZSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwiYW5pbWF0aW9uXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgQW5pbWF0aW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJwbGF5Q291bnRcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBBbmltYXRpb25Db21wb25lbnQucHJvdG90eXBlLCBcInNwZWVkXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIGVudW1lcmFibGUoKVxyXG5dLCBBbmltYXRpb25Db21wb25lbnQucHJvdG90eXBlLCBcInN0YXRlXCIsIG51bGwpO1xyXG4vKipcclxuICogTmF0aXZlIG1lc2ggY29tcG9uZW50LlxyXG4gKlxyXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgbWVzaCBjb21wb25lbnQgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVzaENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbWVzaCc7XHJcbiAgICAvKipcclxuICAgICAqIFNldCBtYXRlcmlhbCB0byByZW5kZXIgdGhlIG1lc2ggd2l0aC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbWF0ZXJpYWwgTWF0ZXJpYWwgdG8gcmVuZGVyIHRoZSBtZXNoIHdpdGguXHJcbiAgICAgKi9cclxuICAgIHNldCBtYXRlcmlhbChtYXRlcmlhbCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2NvbXBvbmVudF9zZXRfbWF0ZXJpYWwodGhpcy5faWQsIG1hdGVyaWFsID8gbWF0ZXJpYWwuX2luZGV4IDogMCk7XHJcbiAgICB9XHJcbiAgICAvKiogTWF0ZXJpYWwgdXNlZCB0byByZW5kZXIgdGhlIG1lc2guICovXHJcbiAgICBnZXQgbWF0ZXJpYWwoKSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfZ2V0X21hdGVyaWFsKHRoaXMuX2lkKTtcclxuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IE1hdGVyaWFsKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcclxuICAgIH1cclxuICAgIC8qKiBNZXNoIHJlbmRlcmVkIGJ5IHRoaXMgY29tcG9uZW50LiAqL1xyXG4gICAgZ2V0IG1lc2goKSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfZ2V0X21lc2godGhpcy5faWQpO1xyXG4gICAgICAgIHJldHVybiBpZCA+IDAgPyBuZXcgTWVzaCh0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBtZXNoIHRvIHJlbmRlcmVkIHdpdGggdGhpcyBjb21wb25lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG1lc2ggTWVzaCByZW5kZXJlZCBieSB0aGlzIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgc2V0IG1lc2gobWVzaCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2NvbXBvbmVudF9zZXRfbWVzaCh0aGlzLl9pZCwgbWVzaCA/IG1lc2guX2luZGV4IDogMCk7XHJcbiAgICB9XHJcbiAgICAvKiogU2tpbiBmb3IgdGhpcyBtZXNoIGNvbXBvbmVudC4gKi9cclxuICAgIGdldCBza2luKCkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X2dldF9za2luKHRoaXMuX2lkKTtcclxuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IFNraW4odGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgc2tpbiB0byB0cmFuc2Zvcm0gdGhpcyBtZXNoIGNvbXBvbmVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc2tpbiBTa2luIHRvIHVzZSBmb3IgcmVuZGVyaW5nIHNraW5uZWQgbWVzaGVzLlxyXG4gICAgICovXHJcbiAgICBzZXQgc2tpbihza2luKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X3NldF9za2luKHRoaXMuX2lkLCBza2luID8gc2tpbi5faW5kZXggOiAwKTtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTWVzaENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF0ZXJpYWxcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBNZXNoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtZXNoXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTWVzaENvbXBvbmVudC5wcm90b3R5cGUsIFwic2tpblwiLCBudWxsKTtcclxuLyoqXHJcbiAqIEVudW0gZm9yIFBoeXNpY3MgYXhlcyBsb2NraW5nXHJcbiAqXHJcbiAqIFNlZSB7QGxpbmsgUGh5c1hDb21wb25lbnQuYW5ndWxhckxvY2tBeGlzfSBhbmQge0BsaW5rIFBoeXNYQ29tcG9uZW50LmxpbmVhckxvY2tBeGlzfS5cclxuICovXHJcbmV4cG9ydCB2YXIgTG9ja0F4aXM7XHJcbihmdW5jdGlvbiAoTG9ja0F4aXMpIHtcclxuICAgIC8qKlxyXG4gICAgICogTm8gYXhpcyBzZWxlY3RlZC5cclxuICAgICAqL1xyXG4gICAgTG9ja0F4aXNbTG9ja0F4aXNbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipYIGF4aXMqKjpcclxuICAgICAqL1xyXG4gICAgTG9ja0F4aXNbTG9ja0F4aXNbXCJYXCJdID0gMV0gPSBcIlhcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipZIGF4aXMqKjpcclxuICAgICAqL1xyXG4gICAgTG9ja0F4aXNbTG9ja0F4aXNbXCJZXCJdID0gMl0gPSBcIllcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipaIGF4aXMqKjpcclxuICAgICAqL1xyXG4gICAgTG9ja0F4aXNbTG9ja0F4aXNbXCJaXCJdID0gNF0gPSBcIlpcIjtcclxufSkoTG9ja0F4aXMgfHwgKExvY2tBeGlzID0ge30pKTtcclxuLyoqXHJcbiAqIE5hdGl2ZSBwaHlzeCByaWdpZCBib2R5IGNvbXBvbmVudC5cclxuICpcclxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgbmF0aXZlIG1lc2ggY29tcG9uZW50IGluc3RhbmNlLlxyXG4gKiBPbmx5IGF2YWlsYWJsZSB3aGVuIHVzaW5nIHBoeXN4IGVuYWJsZWQgcnVudGltZSwgc2VlIFwiUHJvamVjdCBTZXR0aW5ncyA+IFJ1bnRpbWVcIi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQaHlzWENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAncGh5c3gnO1xyXG4gICAgZ2V0VHJhbnNsYXRpb25PZmZzZXQob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X29mZnNldFRyYW5zbGF0aW9uKHRoaXMuX2lkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgZ2V0Um90YXRpb25PZmZzZXQob3V0ID0gbmV3IEZsb2F0MzJBcnJheSg0KSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X29mZnNldFRyYW5zZm9ybSh0aGlzLl9pZCkgPj4gMjsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcclxuICAgICAgICBvdXRbM10gPSB3YXNtLkhFQVBGMzJbcHRyICsgM107XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyByaWdpZCBib2R5IGlzIHN0YXRpYy5cclxuICAgICAqXHJcbiAgICAgKiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgb25seSB0YWtlcyBlZmZlY3Qgb25jZSB0aGUgY29tcG9uZW50XHJcbiAgICAgKiBzd2l0Y2hlcyBmcm9tIGluYWN0aXZlIHRvIGFjdGl2ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoZSByaWdpZCBib2R5IHNob3VsZCBiZSBzdGF0aWMuXHJcbiAgICAgKi9cclxuICAgIHNldCBzdGF0aWMoYikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3N0YXRpYyh0aGlzLl9pZCwgYik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5IGlzIHN0YXRpYy5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIHByb3BlcnR5IHJldHVybnMgd2hldGhlciB0aGUgcmlnaWQgYm9keSBpcyAqZWZmZWN0aXZlbHkqXHJcbiAgICAgKiBzdGF0aWMuIElmIHN0YXRpYyBwcm9wZXJ0eSB3YXMgc2V0IHdoaWxlIHRoZSByaWdpZCBib2R5IHdhc1xyXG4gICAgICogYWN0aXZlLCBpdCB3aWxsIG5vdCB0YWtlIGVmZmVjdCB1bnRpbCB0aGUgcmlnaWQgYm9keSBpcyBzZXRcclxuICAgICAqIGluYWN0aXZlIGFuZCBhY3RpdmUgYWdhaW4uIFVudGlsIHRoZSBjb21wb25lbnQgaXMgc2V0IGluYWN0aXZlLFxyXG4gICAgICogdGhpcyBnZXR0ZXIgd2lsbCByZXR1cm4gd2hldGhlciB0aGUgcmlnaWQgYm9keSBpcyBhY3R1YWxseVxyXG4gICAgICogc3RhdGljLlxyXG4gICAgICovXHJcbiAgICBnZXQgc3RhdGljKCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3N0YXRpYyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEVxdWl2YWxlbnQgdG8ge0BsaW5rIFBoeXNYQ29tcG9uZW50LmdldFRyYW5zbGF0aW9uT2Zmc2V0fS5cclxuICAgICAqXHJcbiAgICAgKiBHaXZlcyBhIHF1aWNrIHZpZXcgb2YgdGhlIG9mZnNldCBpbiBhIGRlYnVnZ2VyLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFByZWZlciB0byB1c2Uge0BsaW5rIFBoeXNYQ29tcG9uZW50LmdldFRyYW5zbGF0aW9uT2Zmc2V0fSBmb3IgcGVyZm9ybWFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMS4xXHJcbiAgICAgKi9cclxuICAgIGdldCB0cmFuc2xhdGlvbk9mZnNldCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUcmFuc2xhdGlvbk9mZnNldCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIG9mZnNldCB0cmFuc2xhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgYXJyYXkgbXVzdCBiZSBhIHZlY3RvciBvZiBhdCBsZWFzdCAqKjMqKiBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGUgY29tcG9uZW50IG11c3QgYmUgcmUtYWN0aXZhdGVkIHRvIGFwcGx5IHRoZSBjaGFuZ2UuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMS4xXHJcbiAgICAgKi9cclxuICAgIHNldCB0cmFuc2xhdGlvbk9mZnNldChvZmZzZXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9vZmZzZXRUcmFuc2xhdGlvbih0aGlzLl9pZCwgb2Zmc2V0WzBdLCBvZmZzZXRbMV0sIG9mZnNldFsyXSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEVxdWl2YWxlbnQgdG8ge0BsaW5rIFBoeXNYQ29tcG9uZW50LmdldFJvdGF0aW9uT2Zmc2V0fS5cclxuICAgICAqXHJcbiAgICAgKiBHaXZlcyBhIHF1aWNrIHZpZXcgb2YgdGhlIG9mZnNldCBpbiBhIGRlYnVnZ2VyLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFByZWZlciB0byB1c2Uge0BsaW5rIFBoeXNYQ29tcG9uZW50LmdldFJvdGF0aW9uT2Zmc2V0fSBmb3IgcGVyZm9ybWFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMS4xXHJcbiAgICAgKi9cclxuICAgIGdldCByb3RhdGlvbk9mZnNldCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRSb3RhdGlvbk9mZnNldCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIG9mZnNldCByb3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgYXJyYXkgbXVzdCBiZSBhIHF1YXRlcm5pb24gb2YgYXQgbGVhc3QgKio0KiogZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhlIGNvbXBvbmVudCBtdXN0IGJlIHJlLWFjdGl2YXRlZCB0byBhcHBseSB0aGUgY2hhbmdlLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjEuMVxyXG4gICAgICovXHJcbiAgICBzZXQgcm90YXRpb25PZmZzZXQob2Zmc2V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfb2Zmc2V0Um90YXRpb24odGhpcy5faWQsIG9mZnNldFswXSwgb2Zmc2V0WzFdLCBvZmZzZXRbMl0sIG9mZnNldFszXSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgcmlnaWQgYm9keSBpcyBraW5lbWF0aWMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGUgcmlnaWQgYm9keSBzaG91bGQgYmUga2luZW1hdGljLlxyXG4gICAgICovXHJcbiAgICBzZXQga2luZW1hdGljKGIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9raW5lbWF0aWModGhpcy5faWQsIGIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSBpcyBraW5lbWF0aWMuXHJcbiAgICAgKi9cclxuICAgIGdldCBraW5lbWF0aWMoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfa2luZW1hdGljKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyByaWdpZCBib2R5J3MgZ3Jhdml0eSBpcyBlbmFibGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkncyBncmF2aXR5IHNob3VsZCBiZSBlbmFibGVkLlxyXG4gICAgICovXHJcbiAgICBzZXQgZ3Jhdml0eShiKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfZ3Jhdml0eSh0aGlzLl9pZCwgYik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5J3MgZ3Jhdml0eSBmbGFnIGlzIGVuYWJsZWQuXHJcbiAgICAgKi9cclxuICAgIGdldCBncmF2aXR5KCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2dyYXZpdHkodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkncyBzaW11bGF0ZSBmbGFnIGlzIGVuYWJsZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGUgcmlnaWQgYm9keSdzIHNpbXVsYXRlIGZsYWcgc2hvdWxkIGJlIGVuYWJsZWQuXHJcbiAgICAgKi9cclxuICAgIHNldCBzaW11bGF0ZShiKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc2ltdWxhdGUodGhpcy5faWQsIGIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSdzIHNpbXVsYXRlIGZsYWcgaXMgZW5hYmxlZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IHNpbXVsYXRlKCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3NpbXVsYXRlKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdoZXRoZXIgdG8gYWxsb3cgc2ltdWxhdGlvbiBvZiB0aGlzIHJpZ2lkIGJvZHkuXHJcbiAgICAgKlxyXG4gICAgICoge0BsaW5rIGFsbG93U2ltdWxhdGlvbn0gYW5kIHtAbGluayB0cmlnZ2VyfSBjYW4gbm90IGJlIGVuYWJsZWQgYXQgdGhlXHJcbiAgICAgKiBzYW1lIHRpbWUuIEVuYWJsaW5nIHtAbGluayBhbGxvd1NpbXVsYXRpb259IHdoaWxlIHtAbGluayB0cmlnZ2VyfSBpcyBlbmFibGVkXHJcbiAgICAgKiB3aWxsIGRpc2FibGUge0BsaW5rIHRyaWdnZXJ9LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdG8gYWxsb3cgc2ltdWxhdGlvbiBvZiB0aGlzIHJpZ2lkIGJvZHkuXHJcbiAgICAgKi9cclxuICAgIHNldCBhbGxvd1NpbXVsYXRpb24oYikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FsbG93U2ltdWxhdGlvbih0aGlzLl9pZCwgYik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdG8gYWxsb3cgc2ltdWxhdGlvbiBvZiB0aGlzIHJpZ2lkIGJvZHkuXHJcbiAgICAgKi9cclxuICAgIGdldCBhbGxvd1NpbXVsYXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYWxsb3dTaW11bGF0aW9uKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyByaWdpZCBib2R5IG1heSBiZSBxdWVyaWVkIGluIHJheSBjYXN0cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSBtYXkgYmUgcXVlcmllZCBpbiByYXkgY2FzdHMuXHJcbiAgICAgKi9cclxuICAgIHNldCBhbGxvd1F1ZXJ5KGIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9hbGxvd1F1ZXJ5KHRoaXMuX2lkLCBiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgbWF5IGJlIHF1ZXJpZWQgaW4gcmF5IGNhc3RzLlxyXG4gICAgICovXHJcbiAgICBnZXQgYWxsb3dRdWVyeSgpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbGxvd1F1ZXJ5KHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyBwaHlzaWNzIGJvZHkgaXMgYSB0cmlnZ2VyLlxyXG4gICAgICpcclxuICAgICAqIHtAbGluayBhbGxvd1NpbXVsYXRpb259IGFuZCB7QGxpbmsgdHJpZ2dlcn0gY2FuIG5vdCBiZSBlbmFibGVkIGF0IHRoZVxyXG4gICAgICogc2FtZSB0aW1lLiBFbmFibGluZyB0cmlnZ2VyIHdoaWxlIHtAbGluayBhbGxvd1NpbXVsYXRpb259IGlzIGVuYWJsZWQsXHJcbiAgICAgKiB3aWxsIGRpc2FibGUge0BsaW5rIGFsbG93U2ltdWxhdGlvbn0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGlzIHBoeXNpY3MgYm9keSBpcyBhIHRyaWdnZXIuXHJcbiAgICAgKi9cclxuICAgIHNldCB0cmlnZ2VyKGIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF90cmlnZ2VyKHRoaXMuX2lkLCBiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGlzIHBoeXNpY3MgYm9keSBpcyBhIHRyaWdnZXIuXHJcbiAgICAgKi9cclxuICAgIGdldCB0cmlnZ2VyKCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3RyaWdnZXIodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIHNoYXBlIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzIE5ldyBzaGFwZS5cclxuICAgICAqIEBzaW5jZSAwLjguNVxyXG4gICAgICovXHJcbiAgICBzZXQgc2hhcGUocykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3NoYXBlKHRoaXMuX2lkLCBzKTtcclxuICAgIH1cclxuICAgIC8qKiBUaGUgc2hhcGUgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uICovXHJcbiAgICBnZXQgc2hhcGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3NoYXBlKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGFkZGl0aW9uYWwgZGF0YSBmb3IgdGhlIHNoYXBlLlxyXG4gICAgICpcclxuICAgICAqIFJldHJpZXZlZCBvbmx5IGZyb20ge0BsaW5rIFBoeXNYQ29tcG9uZW50I3NoYXBlRGF0YX0uXHJcbiAgICAgKiBAc2luY2UgMC44LjEwXHJcbiAgICAgKi9cclxuICAgIHNldCBzaGFwZURhdGEoZCkge1xyXG4gICAgICAgIGlmIChkID09IG51bGwgfHwgIWlzTWVzaFNoYXBlKHRoaXMuc2hhcGUpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc2hhcGVfZGF0YSh0aGlzLl9pZCwgZC5pbmRleCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZGl0aW9uYWwgZGF0YSBmb3IgdGhlIHNoYXBlLlxyXG4gICAgICpcclxuICAgICAqIGBudWxsYCBmb3Ige0BsaW5rIFNoYXBlfSB2YWx1ZXM6IGBOb25lYCwgYFNwaGVyZWAsIGBDYXBzdWxlYCwgYEJveGAsIGBQbGFuZWAuXHJcbiAgICAgKiBge2luZGV4OiBufWAgZm9yIGBUcmlhbmdsZU1lc2hgIGFuZCBgQ29udmV4SHVsbGAuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBkYXRhIGlzIGN1cnJlbnRseSBvbmx5IGZvciBwYXNzaW5nIG9udG8gb3IgY3JlYXRpbmcgb3RoZXIge0BsaW5rIFBoeXNYQ29tcG9uZW50fS5cclxuICAgICAqIEBzaW5jZSAwLjguMTBcclxuICAgICAqL1xyXG4gICAgZ2V0IHNoYXBlRGF0YSgpIHtcclxuICAgICAgICBpZiAoIWlzTWVzaFNoYXBlKHRoaXMuc2hhcGUpKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpbmRleDogdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc2hhcGVfZGF0YSh0aGlzLl9pZCksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBzaGFwZSBleHRlbnRzIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBlIE5ldyBleHRlbnRzIGZvciB0aGUgc2hhcGUuXHJcbiAgICAgKiBAc2luY2UgMC44LjVcclxuICAgICAqL1xyXG4gICAgc2V0IGV4dGVudHMoZSkge1xyXG4gICAgICAgIHRoaXMuZXh0ZW50cy5zZXQoZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBzaGFwZSBleHRlbnRzIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBnZXQgZXh0ZW50cygpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9leHRlbnRzKHRoaXMuX2lkKTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCBwdHIsIDMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgc3RhdGljRnJpY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIGdldCBzdGF0aWNGcmljdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc3RhdGljRnJpY3Rpb24odGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgc3RhdGljRnJpY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgc3RhdGljRnJpY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHNldCBzdGF0aWNGcmljdGlvbih2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc3RhdGljRnJpY3Rpb24odGhpcy5faWQsIHYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgZHluYW1pY0ZyaWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBnZXQgZHluYW1pY0ZyaWN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9keW5hbWljRnJpY3Rpb24odGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgZHluYW1pY0ZyaWN0aW9uXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgZHluYW1pY0RhbXBpbmcuXHJcbiAgICAgKi9cclxuICAgIHNldCBkeW5hbWljRnJpY3Rpb24odikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2R5bmFtaWNGcmljdGlvbih0aGlzLl9pZCwgdik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBib3VuY2luZXNzLlxyXG4gICAgICogQHNpbmNlIDAuOS4wXHJcbiAgICAgKi9cclxuICAgIGdldCBib3VuY2luZXNzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9ib3VuY2luZXNzKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGJvdW5jaW5lc3MuXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgYm91bmNpbmVzcy5cclxuICAgICAqIEBzaW5jZSAwLjkuMFxyXG4gICAgICovXHJcbiAgICBzZXQgYm91bmNpbmVzcyh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYm91bmNpbmVzcyh0aGlzLl9pZCwgdik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBsaW5lYXJEYW1waW5nL1xyXG4gICAgICovXHJcbiAgICBnZXQgbGluZWFyRGFtcGluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfbGluZWFyRGFtcGluZyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsaW5lYXJEYW1waW5nLlxyXG4gICAgICogQHBhcmFtIHYgTmV3IGxpbmVhckRhbXBpbmcuXHJcbiAgICAgKi9cclxuICAgIHNldCBsaW5lYXJEYW1waW5nKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9saW5lYXJEYW1waW5nKHRoaXMuX2lkLCB2KTtcclxuICAgIH1cclxuICAgIC8qKiBHZXQgYW5ndWxhckRhbXBpbmcuICovXHJcbiAgICBnZXQgYW5ndWxhckRhbXBpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FuZ3VsYXJEYW1waW5nKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGFuZ3VsYXJEYW1waW5nLlxyXG4gICAgICogQHBhcmFtIHYgTmV3IGFuZ3VsYXJEYW1waW5nLlxyXG4gICAgICovXHJcbiAgICBzZXQgYW5ndWxhckRhbXBpbmcodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FuZ3VsYXJEYW1waW5nKHRoaXMuX2lkLCB2KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxpbmVhciB2ZWxvY2l0eS5cclxuICAgICAqXHJcbiAgICAgKiBbUGh5c1ggTWFudWFsIC0gXCJWZWxvY2l0eVwiXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9SaWdpZEJvZHlEeW5hbWljcy5odG1sI3ZlbG9jaXR5KVxyXG4gICAgICpcclxuICAgICAqIEhhcyBubyBlZmZlY3QsIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgbGluZWFyIHZlbG9jaXR5LlxyXG4gICAgICovXHJcbiAgICBzZXQgbGluZWFyVmVsb2NpdHkodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2xpbmVhclZlbG9jaXR5KHRoaXMuX2lkLCB2WzBdLCB2WzFdLCB2WzJdKTtcclxuICAgIH1cclxuICAgIC8qKiBMaW5lYXIgdmVsb2NpdHkgb3IgYFswLCAwLCAwXWAgaWYgdGhlIGNvbXBvbmVudCBpcyBub3QgYWN0aXZlLiAqL1xyXG4gICAgZ2V0IGxpbmVhclZlbG9jaXR5KCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2xpbmVhclZlbG9jaXR5KHRoaXMuX2lkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl90ZW1wTWVtLCAzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGFuZ3VsYXIgdmVsb2NpdHlcclxuICAgICAqXHJcbiAgICAgKiBbUGh5c1ggTWFudWFsIC0gXCJWZWxvY2l0eVwiXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9SaWdpZEJvZHlEeW5hbWljcy5odG1sI3ZlbG9jaXR5KVxyXG4gICAgICpcclxuICAgICAqIEhhcyBubyBlZmZlY3QsIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgYW5ndWxhciB2ZWxvY2l0eVxyXG4gICAgICovXHJcbiAgICBzZXQgYW5ndWxhclZlbG9jaXR5KHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9hbmd1bGFyVmVsb2NpdHkodGhpcy5faWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgfVxyXG4gICAgLyoqIEFuZ3VsYXIgdmVsb2NpdHkgb3IgYFswLCAwLCAwXWAgaWYgdGhlIGNvbXBvbmVudCBpcyBub3QgYWN0aXZlLiAqL1xyXG4gICAgZ2V0IGFuZ3VsYXJWZWxvY2l0eSgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbmd1bGFyVmVsb2NpdHkodGhpcy5faWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3RlbXBNZW0sIDMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGNvbXBvbmVudHMgZ3JvdXBzIG1hc2suXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGZsYWdzIE5ldyBmbGFncyB0aGF0IG5lZWQgdG8gYmUgc2V0LlxyXG4gICAgICovXHJcbiAgICBzZXQgZ3JvdXBzTWFzayhmbGFncykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2dyb3Vwc01hc2sodGhpcy5faWQsIGZsYWdzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBjb21wb25lbnRzIGdyb3VwcyBtYXNrIGZsYWdzLlxyXG4gICAgICpcclxuICAgICAqIEVhY2ggYml0IHJlcHJlc2VudHMgbWVtYmVyc2hpcCB0byBncm91cCwgc2VlIGV4YW1wbGUuXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIC8vIEFzc2lnbiBjIHRvIGdyb3VwIDJcclxuICAgICAqIGMuZ3JvdXBzTWFzayA9ICgxIDw8IDIpO1xyXG4gICAgICpcclxuICAgICAqIC8vIEFzc2lnbiBjIHRvIGdyb3VwIDBcclxuICAgICAqIGMuZ3JvdXBzTWFzayAgPSAoMSA8PCAwKTtcclxuICAgICAqXHJcbiAgICAgKiAvLyBBc3NpZ24gYyB0byBncm91cCAwIGFuZCAyXHJcbiAgICAgKiBjLmdyb3Vwc01hc2sgPSAoMSA8PCAwKSB8ICgxIDw8IDIpO1xyXG4gICAgICpcclxuICAgICAqIChjLmdyb3Vwc01hc2sgJiAoMSA8PCAyKSkgIT0gMDsgLy8gdHJ1ZVxyXG4gICAgICogKGMuZ3JvdXBzTWFzayAmICgxIDw8IDcpKSAhPSAwOyAvLyBmYWxzZVxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGdldCBncm91cHNNYXNrKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9ncm91cHNNYXNrKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBjb21wb25lbnRzIGJsb2NrcyBtYXNrLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBmbGFncyBOZXcgZmxhZ3MgdGhhdCBuZWVkIHRvIGJlIHNldC5cclxuICAgICAqL1xyXG4gICAgc2V0IGJsb2Nrc01hc2soZmxhZ3MpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9ibG9ja3NNYXNrKHRoaXMuX2lkLCBmbGFncyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgY29tcG9uZW50cyBibG9ja3MgbWFzayBmbGFncy5cclxuICAgICAqXHJcbiAgICAgKiBFYWNoIGJpdCByZXByZXNlbnRzIG1lbWJlcnNoaXAgdG8gdGhlIGJsb2NrLCBzZWUgZXhhbXBsZS5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gQmxvY2sgb3ZlcmxhcCB3aXRoIGFueSBvYmplY3RzIGluIGdyb3VwIDJcclxuICAgICAqIGMuYmxvY2tzTWFzayA9ICgxIDw8IDIpO1xyXG4gICAgICpcclxuICAgICAqIC8vIEJsb2NrIG92ZXJsYXAgd2l0aCBhbnkgb2JqZWN0cyBpbiBncm91cCAwXHJcbiAgICAgKiBjLmJsb2Nrc01hc2sgID0gKDEgPDwgMClcclxuICAgICAqXHJcbiAgICAgKiAvLyBCbG9jayBvdmVybGFwIHdpdGggYW55IG9iamVjdHMgaW4gZ3JvdXAgMCBhbmQgMlxyXG4gICAgICogYy5ibG9ja3NNYXNrID0gKDEgPDwgMCkgfCAoMSA8PCAyKTtcclxuICAgICAqXHJcbiAgICAgKiAoYy5ibG9ja3NNYXNrICYgKDEgPDwgMikpICE9IDA7IC8vIHRydWVcclxuICAgICAqIChjLmJsb2Nrc01hc2sgJiAoMSA8PCA3KSkgIT0gMDsgLy8gZmFsc2VcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBnZXQgYmxvY2tzTWFzaygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYmxvY2tzTWFzayh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBheGVzIHRvIGxvY2sgZm9yIGxpbmVhciB2ZWxvY2l0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbG9jayBUaGUgQXhpcyB0aGF0IG5lZWRzIHRvIGJlIHNldC5cclxuICAgICAqXHJcbiAgICAgKiBDb21iaW5lIGZsYWdzIHdpdGggQml0d2lzZSBPUjpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogYm9keS5saW5lYXJMb2NrQXhpcyA9IExvY2tBeGlzLlggfCBMb2NrQXhpcy5ZOyAvLyB4IGFuZCB5IHNldFxyXG4gICAgICogYm9keS5saW5lYXJMb2NrQXhpcyA9IExvY2tBeGlzLlg7IC8vIHkgdW5zZXRcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgaGFzIG5vIGVmZmVjdCBpZiB0aGUgY29tcG9uZW50IGlzIHN0YXRpYy5cclxuICAgICAqL1xyXG4gICAgc2V0IGxpbmVhckxvY2tBeGlzKGxvY2spIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9saW5lYXJMb2NrQXhpcyh0aGlzLl9pZCwgbG9jayk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgbGluZWFyIGxvY2sgYXhlcyBmbGFncy5cclxuICAgICAqXHJcbiAgICAgKiBUbyBnZXQgdGhlIHN0YXRlIG9mIGEgc3BlY2lmaWMgZmxhZywgQml0d2lzZSBBTkQgd2l0aCB0aGUgTG9ja0F4aXMgbmVlZGVkLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBpZihib2R5LmxpbmVhckxvY2tBeGlzICYgTG9ja0F4aXMuWSkge1xyXG4gICAgICogICAgIGNvbnNvbGUubG9nKFwiVGhlIFkgZmxhZyB3YXMgc2V0IVwiKTtcclxuICAgICAqIH1cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gYXhlcyB0aGF0IGFyZSBjdXJyZW50bHkgbG9ja2VkIGZvciBsaW5lYXIgbW92ZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIGdldCBsaW5lYXJMb2NrQXhpcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfbGluZWFyTG9ja0F4aXModGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYXhlcyB0byBsb2NrIGZvciBhbmd1bGFyIHZlbG9jaXR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsb2NrIFRoZSBBeGlzIHRoYXQgbmVlZHMgdG8gYmUgc2V0LlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBib2R5LmFuZ3VsYXJMb2NrQXhpcyA9IExvY2tBeGlzLlggfCBMb2NrQXhpcy5ZOyAvLyB4IGFuZCB5IHNldFxyXG4gICAgICogYm9keS5hbmd1bGFyTG9ja0F4aXMgPSBMb2NrQXhpcy5YOyAvLyB5IHVuc2V0XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGhhcyBubyBlZmZlY3QgaWYgdGhlIGNvbXBvbmVudCBpcyBzdGF0aWMuXHJcbiAgICAgKi9cclxuICAgIHNldCBhbmd1bGFyTG9ja0F4aXMobG9jaykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FuZ3VsYXJMb2NrQXhpcyh0aGlzLl9pZCwgbG9jayk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgYW5ndWxhciBsb2NrIGF4ZXMgZmxhZ3MuXHJcbiAgICAgKlxyXG4gICAgICogVG8gZ2V0IHRoZSBzdGF0ZSBvZiBhIHNwZWNpZmljIGZsYWcsIEJpdHdpc2UgQU5EIHdpdGggdGhlIExvY2tBeGlzIG5lZWRlZDpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogaWYoYm9keS5hbmd1bGFyTG9ja0F4aXMgJiBMb2NrQXhpcy5ZKSB7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2coXCJUaGUgWSBmbGFnIHdhcyBzZXQhXCIpO1xyXG4gICAgICogfVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBheGVzIHRoYXQgYXJlIGN1cnJlbnRseSBsb2NrZWQgZm9yIGFuZ3VsYXIgbW92ZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIGdldCBhbmd1bGFyTG9ja0F4aXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FuZ3VsYXJMb2NrQXhpcyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBtYXNzLlxyXG4gICAgICpcclxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIk1hc3MgUHJvcGVydGllc1wiXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9SaWdpZEJvZHlEeW5hbWljcy5odG1sI21hc3MtcHJvcGVydGllcylcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbSBOZXcgbWFzcy5cclxuICAgICAqL1xyXG4gICAgc2V0IG1hc3MobSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X21hc3ModGhpcy5faWQsIG0pO1xyXG4gICAgfVxyXG4gICAgLyoqIE1hc3MgKi9cclxuICAgIGdldCBtYXNzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9tYXNzKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IG1hc3Mgc3BhY2UgaW50ZXJpYSB0ZW5zb3IuXHJcbiAgICAgKlxyXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiTWFzcyBQcm9wZXJ0aWVzXCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjbWFzcy1wcm9wZXJ0aWVzKVxyXG4gICAgICpcclxuICAgICAqIEhhcyBubyBlZmZlY3QsIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgbWFzcyBzcGFjZSBpbnRlcmF0aWEgdGVuc29yLlxyXG4gICAgICovXHJcbiAgICBzZXQgbWFzc1NwYWNlSW50ZXJpYVRlbnNvcih2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbWFzc1NwYWNlSW5lcnRpYVRlbnNvcih0aGlzLl9pZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgcmlnaWQgYm9keSB0byBzbGVlcCB1cG9uIGFjdGl2YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogV2hlbiBhc2xlZXAsIHRoZSByaWdpZCBib2R5IHdpbGwgbm90IGJlIHNpbXVsYXRlZCB1bnRpbCB0aGUgbmV4dCBjb250YWN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBmbGFnIGB0cnVlYCB0byBzbGVlcCB1cG9uIGFjdGl2YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMS41XHJcbiAgICAgKi9cclxuICAgIHNldCBzbGVlcE9uQWN0aXZhdGUoZmxhZykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3NsZWVwT25BY3RpdmF0ZSh0aGlzLl9pZCwgZmxhZyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGB0cnVlYCBpZiB0aGUgcmlnaWQgYm9keSBpcyBzZXQgdG8gc2xlZXAgdXBvbiBhY3RpdmF0aW9uLCBgZmFsc2VgIG90aGVyd2lzZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjVcclxuICAgICAqL1xyXG4gICAgZ2V0IHNsZWVwT25BY3RpdmF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9zbGVlcE9uQWN0aXZhdGUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBseSBhIGZvcmNlLlxyXG4gICAgICpcclxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIkFwcGx5aW5nIEZvcmNlcyBhbmQgVG9ycXVlc1wiXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9SaWdpZEJvZHlEeW5hbWljcy5odG1sI2FwcGx5aW5nLWZvcmNlcy1hbmQtdG9ycXVlcylcclxuICAgICAqXHJcbiAgICAgKiBIYXMgbm8gZWZmZWN0LCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGYgRm9yY2UgdmVjdG9yLlxyXG4gICAgICogQHBhcmFtIG0gRm9yY2UgbW9kZSwgc2VlIHtAbGluayBGb3JjZU1vZGV9LCBkZWZhdWx0IGBGb3JjZWAuXHJcbiAgICAgKiBAcGFyYW0gbG9jYWxGb3JjZSBXaGV0aGVyIHRoZSBmb3JjZSB2ZWN0b3IgaXMgaW4gbG9jYWwgc3BhY2UsIGRlZmF1bHQgYGZhbHNlYC5cclxuICAgICAqIEBwYXJhbSBwIFBvc2l0aW9uIHRvIGFwcGx5IGZvcmNlIGF0LCBkZWZhdWx0IGlzIGNlbnRlciBvZiBtYXNzLlxyXG4gICAgICogQHBhcmFtIGxvY2FsIFdoZXRoZXIgcG9zaXRpb24gaXMgaW4gbG9jYWwgc3BhY2UsIGRlZmF1bHQgYGZhbHNlYC5cclxuICAgICAqL1xyXG4gICAgYWRkRm9yY2UoZiwgbSA9IEZvcmNlTW9kZS5Gb3JjZSwgbG9jYWxGb3JjZSA9IGZhbHNlLCBwLCBsb2NhbCA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGlmICghcCkge1xyXG4gICAgICAgICAgICB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfYWRkRm9yY2UodGhpcy5faWQsIGZbMF0sIGZbMV0sIGZbMl0sIG0sIGxvY2FsRm9yY2UpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRGb3JjZUF0KHRoaXMuX2lkLCBmWzBdLCBmWzFdLCBmWzJdLCBtLCBsb2NhbEZvcmNlLCBwWzBdLCBwWzFdLCBwWzJdLCBsb2NhbCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFwcGx5IHRvcnF1ZS5cclxuICAgICAqXHJcbiAgICAgKiBbUGh5c1ggTWFudWFsIC0gXCJBcHBseWluZyBGb3JjZXMgYW5kIFRvcnF1ZXNcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCNhcHBseWluZy1mb3JjZXMtYW5kLXRvcnF1ZXMpXHJcbiAgICAgKlxyXG4gICAgICogSGFzIG5vIGVmZmVjdCwgaWYgdGhlIGNvbXBvbmVudCBpcyBub3QgYWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBmIEZvcmNlIHZlY3Rvci5cclxuICAgICAqIEBwYXJhbSBtIEZvcmNlIG1vZGUsIHNlZSB7QGxpbmsgRm9yY2VNb2RlfSwgZGVmYXVsdCBgRm9yY2VgLlxyXG4gICAgICovXHJcbiAgICBhZGRUb3JxdWUoZiwgbSA9IEZvcmNlTW9kZS5Gb3JjZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfYWRkVG9ycXVlKHRoaXMuX2lkLCBmWzBdLCBmWzFdLCBmWzJdLCBtKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkIG9uIGNvbGxpc2lvbiBjYWxsYmFjay5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgcmlnaWQgYm9keSAodW4pY29sbGlkZXMgd2l0aCBhbnkgb3RoZXIuXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqICBsZXQgcmlnaWRCb2R5ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdwaHlzeCcpO1xyXG4gICAgICogIHJpZ2lkQm9keS5vbkNvbGxpc2lvbihmdW5jdGlvbih0eXBlLCBvdGhlcikge1xyXG4gICAgICogICAgICAvLyBJZ25vcmUgdW5jb2xsaWRlc1xyXG4gICAgICogICAgICBpZih0eXBlID09IENvbGxpc2lvbkV2ZW50VHlwZS5Ub3VjaExvc3QpIHJldHVybjtcclxuICAgICAqXHJcbiAgICAgKiAgICAgIC8vIFRha2UgZGFtYWdlIG9uIGNvbGxpc2lvbiB3aXRoIGVuZW1pZXNcclxuICAgICAqICAgICAgaWYob3RoZXIub2JqZWN0Lm5hbWUuc3RhcnRzV2l0aChcImVuZW15LVwiKSkge1xyXG4gICAgICogICAgICAgICAgdGhpcy5hcHBseURhbWFnZSgxMCk7XHJcbiAgICAgKiAgICAgIH1cclxuICAgICAqICB9LmJpbmQodGhpcykpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgSWQgb2YgdGhlIG5ldyBjYWxsYmFjayBmb3IgdXNlIHdpdGgge0BsaW5rIFBoeXNYQ29tcG9uZW50I3JlbW92ZUNvbGxpc2lvbkNhbGxiYWNrfS5cclxuICAgICAqL1xyXG4gICAgb25Db2xsaXNpb24oY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vbkNvbGxpc2lvbldpdGgodGhpcywgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgZmlsdGVyZWQgb24gY29sbGlzaW9uIGNhbGxiYWNrLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdGhlckNvbXAgQ29tcG9uZW50IGZvciB3aGljaCBjYWxsYmFja3Mgd2lsbFxyXG4gICAgICogICAgICAgIGJlIHRyaWdnZXJlZC4gSWYgeW91IHBhc3MgdGhpcyBjb21wb25lbnQsIHRoZSBtZXRob2QgaXMgZXF1aXZhbGVudCB0by5cclxuICAgICAqICAgICAgICB7QGxpbmsgUGh5c1hDb21wb25lbnQjb25Db2xsaXNpb259LlxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHJpZ2lkIGJvZHlcclxuICAgICAqICAgICAgICAodW4pY29sbGlkZXMgd2l0aCBgb3RoZXJDb21wYC5cclxuICAgICAqIEByZXR1cm5zIElkIG9mIHRoZSBuZXcgY2FsbGJhY2sgZm9yIHVzZSB3aXRoIHtAbGluayBQaHlzWENvbXBvbmVudCNyZW1vdmVDb2xsaXNpb25DYWxsYmFja30uXHJcbiAgICAgKi9cclxuICAgIG9uQ29sbGlzaW9uV2l0aChvdGhlckNvbXAsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgcGh5c2ljcyA9IHRoaXMuX2VuZ2luZS5waHlzaWNzO1xyXG4gICAgICAgIHBoeXNpY3MuX2NhbGxiYWNrc1t0aGlzLl9pZF0gPSBwaHlzaWNzLl9jYWxsYmFja3NbdGhpcy5faWRdIHx8IFtdO1xyXG4gICAgICAgIHBoeXNpY3MuX2NhbGxiYWNrc1t0aGlzLl9pZF0ucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfYWRkQ2FsbGJhY2sodGhpcy5faWQsIG90aGVyQ29tcC5faWQgfHwgdGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYSBjb2xsaXNpb24gY2FsbGJhY2sgYWRkZWQgd2l0aCB7QGxpbmsgUGh5c1hDb21wb25lbnQjb25Db2xsaXNpb259IG9yIHtAbGluayBQaHlzWENvbXBvbmVudCNvbkNvbGxpc2lvbldpdGh9LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjYWxsYmFja0lkIENhbGxiYWNrIGlkIGFzIHJldHVybmVkIGJ5IHtAbGluayBQaHlzWENvbXBvbmVudCNvbkNvbGxpc2lvbn0gb3Ige0BsaW5rIFBoeXNYQ29tcG9uZW50I29uQ29sbGlzaW9uV2l0aH0uXHJcbiAgICAgKiBAdGhyb3dzIFdoZW4gdGhlIGNhbGxiYWNrIGRvZXMgbm90IGJlbG9uZyB0byB0aGUgY29tcG9uZW50LlxyXG4gICAgICogQHRocm93cyBXaGVuIHRoZSBjYWxsYmFjayBkb2VzIG5vdCBleGlzdC5cclxuICAgICAqL1xyXG4gICAgcmVtb3ZlQ29sbGlzaW9uQ2FsbGJhY2soY2FsbGJhY2tJZCkge1xyXG4gICAgICAgIGNvbnN0IHBoeXNpY3MgPSB0aGlzLl9lbmdpbmUucGh5c2ljcztcclxuICAgICAgICBjb25zdCByID0gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9yZW1vdmVDYWxsYmFjayh0aGlzLl9pZCwgY2FsbGJhY2tJZCk7XHJcbiAgICAgICAgLyogciBpcyB0aGUgYW1vdW50IG9mIG9iamVjdCB0byByZW1vdmUgZnJvbSB0aGUgZW5kIG9mIHRoZVxyXG4gICAgICAgICAqIGNhbGxiYWNrcyBhcnJheSBmb3IgdGhpcyBvYmplY3QgKi9cclxuICAgICAgICBpZiAocilcclxuICAgICAgICAgICAgcGh5c2ljcy5fY2FsbGJhY2tzW3RoaXMuX2lkXS5zcGxpY2UoLXIpO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhdGljXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInRyYW5zbGF0aW9uT2Zmc2V0XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInJvdGF0aW9uT2Zmc2V0XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImtpbmVtYXRpY1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmF2aXR5XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInNpbXVsYXRlXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFsbG93U2ltdWxhdGlvblwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbGxvd1F1ZXJ5XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInRyaWdnZXJcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhcGVcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhcGVEYXRhXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImV4dGVudHNcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhdGljRnJpY3Rpb25cIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiZHluYW1pY0ZyaWN0aW9uXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImJvdW5jaW5lc3NcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwibGluZWFyRGFtcGluZ1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmd1bGFyRGFtcGluZ1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsaW5lYXJWZWxvY2l0eVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmd1bGFyVmVsb2NpdHlcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JvdXBzTWFza1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJibG9ja3NNYXNrXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImxpbmVhckxvY2tBeGlzXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFuZ3VsYXJMb2NrQXhpc1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXNzXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInNsZWVwT25BY3RpdmF0ZVwiLCBudWxsKTtcclxuLyoqXHJcbiAqIEFjY2VzcyB0byB0aGUgcGh5c2ljcyBzY2VuZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBoeXNpY3Mge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKlxyXG4gICAgICogKipOb3RlKio6IFRoaXMgaXMgcHVibGljIHRvIGVtdWxhdGUgYSBgZnJpZW5kYCBhY2Nlc3Nvci5cclxuICAgICAqL1xyXG4gICAgX2NhbGxiYWNrcztcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZSAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKiBSYXkgSGl0ICovXHJcbiAgICBfcmF5SGl0O1xyXG4gICAgLyoqIEhpdC4gKi9cclxuICAgIF9oaXQ7XHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICAgICAgdGhpcy5fcmF5SGl0ID0gZW5naW5lLndhc20uX21hbGxvYyg0ICogKDMgKiA0ICsgMyAqIDQgKyA0ICsgMikgKyA0KTtcclxuICAgICAgICB0aGlzLl9oaXQgPSBuZXcgUmF5SGl0KHRoaXMuX2VuZ2luZSwgdGhpcy5fcmF5SGl0KTtcclxuICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2FzdCBhIHJheSB0aHJvdWdoIHRoZSBwaHlzaWNzIHNjZW5lIGFuZCBmaW5kIGludGVyc2VjdGluZyBvYmplY3RzLlxyXG4gICAgICpcclxuICAgICAqIFRoZSByZXN1bHRpbmcgcmF5IGhpdCB3aWxsIGNvbnRhaW4gKip1cCB0byA0KiogY2xvc2VzdCByYXkgaGl0cyxcclxuICAgICAqIHNvcnRlZCBieSBpbmNyZWFzaW5nIGRpc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvIFJheSBvcmlnaW4uXHJcbiAgICAgKiBAcGFyYW0gZCBSYXkgZGlyZWN0aW9uLlxyXG4gICAgICogQHBhcmFtIGdyb3VwIENvbGxpc2lvbiBncm91cCB0byBmaWx0ZXIgYnk6IG9ubHkgb2JqZWN0cyB0aGF0IGFyZVxyXG4gICAgICogICAgICAgIHBhcnQgb2YgZ2l2ZW4gZ3JvdXAgYXJlIGNvbnNpZGVyZWQgZm9yIHJheWNhc3QuXHJcbiAgICAgKiBAcGFyYW0gbWF4RGlzdGFuY2UgTWF4aW11bSByYXkgZGlzdGFuY2UsIGRlZmF1bHQgYDEwMC4wYC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgUmF5SGl0IGluc3RhbmNlLCBiZWxvbmdpbmcgdG8gdGhpcyBjbGFzcy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGUgcmV0dXJuZWQge0BsaW5rIFJheUhpdH0gb2JqZWN0IGlzIG93bmVkIGJ5IHRoZSBQaHlzaWNzIGluc3RhbmNlIGFuZFxyXG4gICAgICogICAgICAgd2lsbCBiZSByZXVzZWQgd2l0aCB0aGUgbmV4dCB7QGxpbmsgUGh5c2ljcyNyYXlDYXN0fSBjYWxsLlxyXG4gICAgICovXHJcbiAgICByYXlDYXN0KG8sIGQsIGdyb3VwLCBtYXhEaXN0YW5jZSA9IDEwMC4wKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X3JheV9jYXN0KG9bMF0sIG9bMV0sIG9bMl0sIGRbMF0sIGRbMV0sIGRbMl0sIGdyb3VwLCBtYXhEaXN0YW5jZSwgdGhpcy5fcmF5SGl0KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faGl0O1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBNZXNoIGluZGV4IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgdmFyIE1lc2hJbmRleFR5cGU7XHJcbihmdW5jdGlvbiAoTWVzaEluZGV4VHlwZSkge1xyXG4gICAgLyoqIFNpbmdsZSBieXRlIG1lc2ggaW5kZXgsIHJhbmdlIDAtMjU1ICovXHJcbiAgICBNZXNoSW5kZXhUeXBlW01lc2hJbmRleFR5cGVbXCJVbnNpZ25lZEJ5dGVcIl0gPSAxXSA9IFwiVW5zaWduZWRCeXRlXCI7XHJcbiAgICAvKiogVHdvIGJ5dGUgbWVzaCBpbmRleCwgcmFuZ2UgMC02NTUzNSAqL1xyXG4gICAgTWVzaEluZGV4VHlwZVtNZXNoSW5kZXhUeXBlW1wiVW5zaWduZWRTaG9ydFwiXSA9IDJdID0gXCJVbnNpZ25lZFNob3J0XCI7XHJcbiAgICAvKiogRm91ciBieXRlIG1lc2ggaW5kZXgsIHJhbmdlIDAtNDI5NDk2NzI5NSAqL1xyXG4gICAgTWVzaEluZGV4VHlwZVtNZXNoSW5kZXhUeXBlW1wiVW5zaWduZWRJbnRcIl0gPSA0XSA9IFwiVW5zaWduZWRJbnRcIjtcclxufSkoTWVzaEluZGV4VHlwZSB8fCAoTWVzaEluZGV4VHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBNZXNoIHNraW5uaW5nIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgdmFyIE1lc2hTa2lubmluZ1R5cGU7XHJcbihmdW5jdGlvbiAoTWVzaFNraW5uaW5nVHlwZSkge1xyXG4gICAgLyoqIE5vdCBza2lubmVkICovXHJcbiAgICBNZXNoU2tpbm5pbmdUeXBlW01lc2hTa2lubmluZ1R5cGVbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcclxuICAgIC8qKiBTa2lubmVkLCA0IGpvaW50cy93ZWlnaHQgcGVyIHZlcnRleCAqL1xyXG4gICAgTWVzaFNraW5uaW5nVHlwZVtNZXNoU2tpbm5pbmdUeXBlW1wiRm91ckpvaW50c1wiXSA9IDFdID0gXCJGb3VySm9pbnRzXCI7XHJcbiAgICAvKiogU2tpbm5lZCwgOCBqb2ludHMvd2VpZ2h0IHBlciB2ZXJ0ZXggKi9cclxuICAgIE1lc2hTa2lubmluZ1R5cGVbTWVzaFNraW5uaW5nVHlwZVtcIkVpZ2h0Sm9pbnRzXCJdID0gMl0gPSBcIkVpZ2h0Sm9pbnRzXCI7XHJcbn0pKE1lc2hTa2lubmluZ1R5cGUgfHwgKE1lc2hTa2lubmluZ1R5cGUgPSB7fSkpO1xyXG4vKipcclxuICogV3JhcHBlciBhcm91bmQgYSBuYXRpdmUgbWVzaCBkYXRhLlxyXG4gKlxyXG4gKiBUbyBtb2RpZnkgYSBtZXNoLCB5b3UgZ2V0IGFjY2VzcyB0byBhIHtAbGluayBNZXNoQXR0cmlidXRlQWNjZXNzb3J9IHRoYXQgYWxsb3dzIHlvdSB0byBtb2RpZnlcclxuICogdGhlIGNvbnRlbnQgb2YgdGhlIGJ1ZmZlcnM6XHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBjb25zdCBtZXNoID0gbmV3IE1lc2goZW5naW5lLCB7dmVydGV4Q291bnQ6IDMsIGluZGV4RGF0YTogWzAsIDEsIDJdIH0pO1xyXG4gKiBjb25zdCBwb3NpdGlvbnMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlBvc2l0aW9uKTtcclxuICogLi4uXHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lc2gge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbmRleCBvZiB0aGUgbWVzaCBpbiB0aGUgbWFuYWdlci5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9pbmRleCA9IC0xO1xyXG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXHJcbiAgICBfZW5naW5lO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBhcmFtcyBFaXRoZXIgYSBtZXNoIGluZGV4IHRvIHdyYXAgb3Igc2V0IG9mIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgbmV3IG1lc2guXHJcbiAgICAgKiAgICBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIGhhdmUgYSBsb29rIGF0IHRoZSB7QGxpbmsgTWVzaFBhcmFtZXRlcnN9IGludGVyZmFjZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBwYXJhbXMpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmUgPz8gV0w7XHJcbiAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcclxuICAgICAgICBpZiAoaXNOdW1iZXIocGFyYW1zKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbmRleCA9IHBhcmFtcztcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXBhcmFtcy52ZXJ0ZXhDb3VudClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBwYXJhbWV0ZXIgJ3ZlcnRleENvdW50J1wiKTtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgbGV0IGluZGV4RGF0YSA9IDA7XHJcbiAgICAgICAgbGV0IGluZGV4VHlwZSA9IDA7XHJcbiAgICAgICAgbGV0IGluZGV4RGF0YVNpemUgPSAwO1xyXG4gICAgICAgIGlmIChwYXJhbXMuaW5kZXhEYXRhKSB7XHJcbiAgICAgICAgICAgIGluZGV4VHlwZSA9IHBhcmFtcy5pbmRleFR5cGUgfHwgTWVzaEluZGV4VHlwZS5VbnNpZ25lZFNob3J0O1xyXG4gICAgICAgICAgICBpbmRleERhdGFTaXplID0gcGFyYW1zLmluZGV4RGF0YS5sZW5ndGggKiBpbmRleFR5cGU7XHJcbiAgICAgICAgICAgIGluZGV4RGF0YSA9IHdhc20uX21hbGxvYyhpbmRleERhdGFTaXplKTtcclxuICAgICAgICAgICAgLyogQ29weSB0aGUgaW5kZXggZGF0YSBpbnRvIHdhc20gbWVtb3J5ICovXHJcbiAgICAgICAgICAgIHN3aXRjaCAoaW5kZXhUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1lc2hJbmRleFR5cGUuVW5zaWduZWRCeXRlOlxyXG4gICAgICAgICAgICAgICAgICAgIHdhc20uSEVBUFU4LnNldChwYXJhbXMuaW5kZXhEYXRhLCBpbmRleERhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkU2hvcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgd2FzbS5IRUFQVTE2LnNldChwYXJhbXMuaW5kZXhEYXRhLCBpbmRleERhdGEgPj4gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1lc2hJbmRleFR5cGUuVW5zaWduZWRJbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgd2FzbS5IRUFQVTMyLnNldChwYXJhbXMuaW5kZXhEYXRhLCBpbmRleERhdGEgPj4gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBza2lubmluZ1R5cGUgPSBNZXNoU2tpbm5pbmdUeXBlLk5vbmUgfSA9IHBhcmFtcztcclxuICAgICAgICB0aGlzLl9pbmRleCA9IHdhc20uX3dsX21lc2hfY3JlYXRlKGluZGV4RGF0YSwgaW5kZXhEYXRhU2l6ZSwgaW5kZXhUeXBlLCBwYXJhbXMudmVydGV4Q291bnQsIHNraW5uaW5nVHlwZSk7XHJcbiAgICB9XHJcbiAgICAvKiogTnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoaXMgbWVzaC4gKi9cclxuICAgIGdldCB2ZXJ0ZXhDb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfZ2V0X3ZlcnRleENvdW50KHRoaXMuX2luZGV4KTtcclxuICAgIH1cclxuICAgIC8qKiBJbmRleCBkYXRhIChyZWFkLW9ubHkpIG9yIGBudWxsYCBpZiB0aGUgbWVzaCBpcyBub3QgaW5kZXhlZC4gKi9cclxuICAgIGdldCBpbmRleERhdGEoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHRlbXBNZW0gPSB3YXNtLl90ZW1wTWVtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX21lc2hfZ2V0X2luZGV4RGF0YSh0aGlzLl9pbmRleCwgdGVtcE1lbSwgdGVtcE1lbSArIDQpO1xyXG4gICAgICAgIGlmIChwdHIgPT09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IGluZGV4Q291bnQgPSB3YXNtLkhFQVBVMzJbdGVtcE1lbSAvIDRdO1xyXG4gICAgICAgIGNvbnN0IGluZGV4U2l6ZSA9IHdhc20uSEVBUFUzMlt0ZW1wTWVtIC8gNCArIDFdO1xyXG4gICAgICAgIHN3aXRjaCAoaW5kZXhTaXplKSB7XHJcbiAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEJ5dGU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkod2FzbS5IRUFQVTguYnVmZmVyLCBwdHIsIGluZGV4Q291bnQpO1xyXG4gICAgICAgICAgICBjYXNlIE1lc2hJbmRleFR5cGUuVW5zaWduZWRTaG9ydDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDE2QXJyYXkod2FzbS5IRUFQVTE2LmJ1ZmZlciwgcHRyLCBpbmRleENvdW50KTtcclxuICAgICAgICAgICAgY2FzZSBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkSW50OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50MzJBcnJheSh3YXNtLkhFQVBVMzIuYnVmZmVyLCBwdHIsIGluZGV4Q291bnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKiBIb3N0aW5nIGVuZ2luZSBpbnN0YW5jZS4gKi9cclxuICAgIGdldCBlbmdpbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQXBwbHkgY2hhbmdlcyB0byB7QGxpbmsgYXR0cmlidXRlIHwgdmVydGV4IGF0dHJpYnV0ZXN9LlxyXG4gICAgICpcclxuICAgICAqIFVwbG9hZHMgdGhlIHVwZGF0ZWQgdmVydGV4IGF0dHJpYnV0ZXMgdG8gdGhlIEdQVSBhbmQgdXBkYXRlcyB0aGUgYm91bmRpbmdcclxuICAgICAqIHNwaGVyZSB0byBtYXRjaCB0aGUgbmV3IHZlcnRleCBwb3NpdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogU2luY2UgdGhpcyBpcyBhbiBleHBlbnNpdmUgb3BlcmF0aW9uLCBjYWxsIGl0IG9ubHkgb25jZSB5b3UgaGF2ZSBwZXJmb3JtZWRcclxuICAgICAqIGFsbCBtb2RpZmljYXRpb25zIG9uIGEgbWVzaCBhbmQgYXZvaWQgY2FsbGluZyBpZiB5b3UgZGlkIG5vdCBwZXJmb3JtIGFueVxyXG4gICAgICogbW9kaWZpY2F0aW9ucyBhdCBhbGwuXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF91cGRhdGUodGhpcy5faW5kZXgpO1xyXG4gICAgfVxyXG4gICAgZ2V0Qm91bmRpbmdTcGhlcmUob3V0ID0gbmV3IEZsb2F0MzJBcnJheSg0KSkge1xyXG4gICAgICAgIGNvbnN0IHRlbXBNZW1GbG9hdCA9IHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtRmxvYXQ7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfZ2V0X2JvdW5kaW5nU3BoZXJlKHRoaXMuX2luZGV4LCB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHRlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB0ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgb3V0WzNdID0gdGVtcE1lbUZsb2F0WzNdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICBhdHRyaWJ1dGUoYXR0cikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXR0ciAhPSAnbnVtYmVyJylcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgbnVtYmVyLCBidXQgZ290ICcgKyB0eXBlb2YgYXR0cik7XHJcbiAgICAgICAgY29uc3QgdGVtcE1lbVVpbnQzMiA9IHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtVWludDMyO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2dldF9hdHRyaWJ1dGUodGhpcy5faW5kZXgsIGF0dHIsIHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBpZiAodGVtcE1lbVVpbnQzMlswXSA9PSAyNTUpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IGFycmF5U2l6ZSA9IHRlbXBNZW1VaW50MzJbNV07XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNZXNoQXR0cmlidXRlQWNjZXNzb3IodGhpcy5fZW5naW5lLCB7XHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGVtcE1lbVVpbnQzMlswXSxcclxuICAgICAgICAgICAgb2Zmc2V0OiB0ZW1wTWVtVWludDMyWzFdLFxyXG4gICAgICAgICAgICBzdHJpZGU6IHRlbXBNZW1VaW50MzJbMl0sXHJcbiAgICAgICAgICAgIGZvcm1hdFNpemU6IHRlbXBNZW1VaW50MzJbM10sXHJcbiAgICAgICAgICAgIGNvbXBvbmVudENvdW50OiB0ZW1wTWVtVWludDMyWzRdLFxyXG4gICAgICAgICAgICAvKiBUaGUgV0FTTSBBUEkgcmV0dXJucyBgMGAgZm9yIGEgc2NhbGFyIHZhbHVlLiBXZSBjbGFtcCBpdCB0byAxIGFzIHdlIHN0cmljdGx5IHVzZSBpdCBhcyBhIG11bHRpcGxpZXIgZm9yIGdldC9zZXQgb3BlcmF0aW9ucyAqL1xyXG4gICAgICAgICAgICBhcnJheVNpemU6IGFycmF5U2l6ZSA/IGFycmF5U2l6ZSA6IDEsXHJcbiAgICAgICAgICAgIGxlbmd0aDogdGhpcy52ZXJ0ZXhDb3VudCxcclxuICAgICAgICAgICAgYnVmZmVyVHlwZTogKGF0dHIgIT09IE1lc2hBdHRyaWJ1dGUuSm9pbnRJZFxyXG4gICAgICAgICAgICAgICAgPyBGbG9hdDMyQXJyYXlcclxuICAgICAgICAgICAgICAgIDogVWludDE2QXJyYXkpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IGFuZCBmcmVlIHRoZSBtZXNoZXMgbWVtb3J5LlxyXG4gICAgICpcclxuICAgICAqIEl0IGlzIGJlc3QgcHJhY3RpY2UgdG8gc2V0IHRoZSBtZXNoIHZhcmlhYmxlIHRvIGBudWxsYCBhZnRlciBjYWxsaW5nXHJcbiAgICAgKiBkZXN0cm95IHRvIHByZXZlbnQgYWNjaWRlbnRhbCB1c2U6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqICAgbWVzaC5kZXN0cm95KCk7XHJcbiAgICAgKiAgIG1lc2ggPSBudWxsO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQWNjZXNzaW5nIHRoZSBtZXNoIGFmdGVyIGRlc3RydWN0aW9uIGJlaGF2ZXMgbGlrZSBhY2Nlc3NpbmcgYW4gZW1wdHlcclxuICAgICAqIG1lc2guXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOS4wXHJcbiAgICAgKi9cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfZGVzdHJveSh0aGlzLl9pbmRleCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjb21wYXJpbmcgd2hldGhlciB0aGUgd3JhcHBlZCBuYXRpdmUgbWVzaCBpZHMgYXJlXHJcbiAgICAgKiBlcXVhbC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3RoZXJNZXNoIE1lc2ggdG8gY2hlY2sgZXF1YWxpdHkgd2l0aC5cclxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBtZXNoIGVxdWFscyB0aGUgZ2l2ZW4gbWVzaC5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZXF1YWxzKG90aGVyTWVzaCkge1xyXG4gICAgICAgIGlmICghb3RoZXJNZXNoKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4ID09PSBvdGhlck1lc2guX2luZGV4O1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBbiBpdGVyYXRvciBvdmVyIGEgbWVzaCB2ZXJ0ZXggYXR0cmlidXRlLlxyXG4gKlxyXG4gKiBVc2FnZTpcclxuICpcclxuICogYGBganNcclxuICogY29uc3QgbWVzaCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnbWVzaCcpLm1lc2g7XHJcbiAqIGNvbnN0IHBvc2l0aW9ucyA9IG1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuUG9zaXRpb24pO1xyXG4gKlxyXG4gKiAvLyBFcXVpdmFsZW50IHRvIGBuZXcgRmxvYXQzMkFycmF5KDMpYC5cclxuICogY29uc3QgdGVtcCA9IHBvc2l0aW9ucy5jcmVhdGVBcnJheSgpO1xyXG4gKlxyXG4gKiBmb3IobGV0IGkgPSAwOyBpIDwgcG9zaXRpb25zLmxlbmd0aDsgKytpKSB7XHJcbiAqICAgICAvLyBgcG9zYCB3aWxsIHJlZmVyZW5jZSBgdGVtcGAgYW5kIHRoZXJlYnkgbm90IGFsbG9jYXRlIGFkZGl0aW9uYWxcclxuICogICAgIC8vIG1lbW9yeSwgd2hpY2ggd291bGQgY2F1c2UgYSBwZXJmIHNwaWtlIHdoZW4gY29sbGVjdGVkLlxyXG4gKiAgICAgY29uc3QgcG9zID0gcG9zaXRpb25zLmdldChpLCB0ZW1wKTtcclxuICogICAgIC8vIFNjYWxlIHBvc2l0aW9uIGJ5IDIgb24geC1heGlzIG9ubHkuXHJcbiAqICAgICBwb3NbMF0gKj0gMi4wO1xyXG4gKiAgICAgcG9zaXRpb25zLnNldChpLCBwb3MpO1xyXG4gKiB9XHJcbiAqIC8vIFdlJ3JlIGRvbmUgbW9kaWZ5aW5nLCB0ZWxsIHRoZSBlbmdpbmUgdG8gbW92ZSB2ZXJ0ZXggZGF0YSB0byB0aGUgR1BVLlxyXG4gKiBtZXNoLnVwZGF0ZSgpO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZXNoQXR0cmlidXRlQWNjZXNzb3Ige1xyXG4gICAgLyoqIE1heCBudW1iZXIgb2YgZWxlbWVudHMuICovXHJcbiAgICBsZW5ndGggPSAwO1xyXG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXHJcbiAgICBfZW5naW5lO1xyXG4gICAgLyoqIEF0dHJpYnV0ZSBpbmRleC4gQGhpZGRlbiAqL1xyXG4gICAgX2F0dHJpYnV0ZSA9IC0xO1xyXG4gICAgLyoqIEF0dHJpYnV0ZSBvZmZzZXQuIEBoaWRkZW4gKi9cclxuICAgIF9vZmZzZXQgPSAwO1xyXG4gICAgLyoqIEF0dHJpYnV0ZSBzdHJpZGUuIEBoaWRkZW4gKi9cclxuICAgIF9zdHJpZGUgPSAwO1xyXG4gICAgLyoqIEZvcm1hdCBzaXplIG5hdGl2ZSBlbnVtLiBAaGlkZGVuICovXHJcbiAgICBfZm9ybWF0U2l6ZSA9IDA7XHJcbiAgICAvKiogTnVtYmVyIG9mIGNvbXBvbmVudHMgcGVyIHZlcnRleC4gQGhpZGRlbiAqL1xyXG4gICAgX2NvbXBvbmVudENvdW50ID0gMDtcclxuICAgIC8qKiBOdW1iZXIgb2YgdmFsdWVzIHBlciB2ZXJ0ZXguIEBoaWRkZW4gKi9cclxuICAgIF9hcnJheVNpemUgPSAxO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGFzcyB0byBpbnN0YW50aWF0ZSBhbiBBcnJheUJ1ZmZlciB0byBnZXQvc2V0IHZhbHVlcy5cclxuICAgICAqL1xyXG4gICAgX2J1ZmZlclR5cGU7XHJcbiAgICAvKipcclxuICAgICAqIEZ1bmN0aW9uIHRvIGFsbG9jYXRlIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS4gSXQgaXMgY2FjaGVkIGluIHRoZSBhY2Nlc3NvciB0byBhdm9pZFxyXG4gICAgICogY29uZGl0aW9uYWxzIGR1cmluZyBnZXQvc2V0LlxyXG4gICAgICovXHJcbiAgICBfdGVtcEJ1ZmZlckdldHRlcjtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFBsZWFzZSB1c2Uge0BsaW5rIE1lc2guYXR0cmlidXRlfSB0byBjcmVhdGUgYSBuZXcgaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9wdGlvbnMgQ29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgaG93IHRvIHJlYWQgdGhlIGRhdGEuXHJcbiAgICAgKiBAbm90ZSBEbyBub3QgdXNlIHRoaXMgY29uc3RydWN0b3IuIEluc3RlYWQsIHBsZWFzZSB1c2UgdGhlIHtAbGluayBNZXNoLmF0dHJpYnV0ZX0gbWV0aG9kLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB0aGlzLl9hdHRyaWJ1dGUgPSBvcHRpb25zLmF0dHJpYnV0ZTtcclxuICAgICAgICB0aGlzLl9vZmZzZXQgPSBvcHRpb25zLm9mZnNldDtcclxuICAgICAgICB0aGlzLl9zdHJpZGUgPSBvcHRpb25zLnN0cmlkZTtcclxuICAgICAgICB0aGlzLl9mb3JtYXRTaXplID0gb3B0aW9ucy5mb3JtYXRTaXplO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudENvdW50ID0gb3B0aW9ucy5jb21wb25lbnRDb3VudDtcclxuICAgICAgICB0aGlzLl9hcnJheVNpemUgPSBvcHRpb25zLmFycmF5U2l6ZTtcclxuICAgICAgICB0aGlzLl9idWZmZXJUeXBlID0gb3B0aW9ucy5idWZmZXJUeXBlO1xyXG4gICAgICAgIHRoaXMubGVuZ3RoID0gb3B0aW9ucy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5fdGVtcEJ1ZmZlckdldHRlciA9ICh0aGlzLl9idWZmZXJUeXBlID09PSBGbG9hdDMyQXJyYXlcclxuICAgICAgICAgICAgPyB3YXNtLmdldFRlbXBCdWZmZXJGMzIuYmluZCh3YXNtKVxyXG4gICAgICAgICAgICA6IHdhc20uZ2V0VGVtcEJ1ZmZlclUxNi5iaW5kKHdhc20pKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IFR5cGVkQXJyYXkgdG8gaG9sZCB0aGlzIGF0dHJpYnV0ZSdzIHZhbHVlcy5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VmdWwgdG8gY3JlYXRlIGEgdmlldyB0byBob2xkIHRoZSBkYXRhIHRvXHJcbiAgICAgKiBwYXNzIHRvIHtAbGluayBnZXR9IGFuZCB7QGxpbmsgc2V0fVxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGNvbnN0IHZlcnRleENvdW50ID0gNDtcclxuICAgICAqIGNvbnN0IHBvc2l0aW9uQXR0cmlidXRlID0gbWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5Qb3NpdGlvbik7XHJcbiAgICAgKlxyXG4gICAgICogLy8gQSBwb3NpdGlvbiBoYXMgMyBmbG9hdHMgcGVyIHZlcnRleC4gVGh1cywgcG9zaXRpb25zIGhhcyBsZW5ndGggMyAqIDQuXHJcbiAgICAgKiBjb25zdCBwb3NpdGlvbnMgPSBwb3NpdGlvbkF0dHJpYnV0ZS5jcmVhdGVBcnJheSh2ZXJ0ZXhDb3VudCk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiAqKnZlcnRpY2VzKiogZXhwZWN0ZWQuXHJcbiAgICAgKiBAcmV0dXJucyBBIFR5cGVkQXJyYXkgd2l0aCB0aGUgYXBwcm9wcmlhdGUgZm9ybWF0IHRvIGFjY2VzcyB0aGUgZGF0YVxyXG4gICAgICovXHJcbiAgICBjcmVhdGVBcnJheShjb3VudCA9IDEpIHtcclxuICAgICAgICBjb3VudCA9IGNvdW50ID4gdGhpcy5sZW5ndGggPyB0aGlzLmxlbmd0aCA6IGNvdW50O1xyXG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5fYnVmZmVyVHlwZShjb3VudCAqIHRoaXMuX2NvbXBvbmVudENvdW50ICogdGhpcy5fYXJyYXlTaXplKTtcclxuICAgIH1cclxuICAgIGdldChpbmRleCwgb3V0ID0gdGhpcy5jcmVhdGVBcnJheSgpKSB7XHJcbiAgICAgICAgaWYgKG91dC5sZW5ndGggJSB0aGlzLl9jb21wb25lbnRDb3VudCAhPT0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG91dC5sZW5ndGgsICR7b3V0Lmxlbmd0aH0gaXMgbm90IGEgbXVsdGlwbGUgb2YgdGhlIGF0dHJpYnV0ZSB2ZWN0b3IgY29tcG9uZW50cywgJHt0aGlzLl9jb21wb25lbnRDb3VudH1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGVzdCA9IHRoaXMuX3RlbXBCdWZmZXJHZXR0ZXIob3V0Lmxlbmd0aCk7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLl9idWZmZXJUeXBlLkJZVEVTX1BFUl9FTEVNRU5UO1xyXG4gICAgICAgIGNvbnN0IGRlc3RTaXplID0gZWxlbWVudFNpemUgKiBvdXQubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IHNyY0Zvcm1hdFNpemUgPSB0aGlzLl9mb3JtYXRTaXplICogdGhpcy5fYXJyYXlTaXplO1xyXG4gICAgICAgIGNvbnN0IGRlc3RGb3JtYXRTaXplID0gdGhpcy5fY29tcG9uZW50Q291bnQgKiBlbGVtZW50U2l6ZSAqIHRoaXMuX2FycmF5U2l6ZTtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9nZXRfYXR0cmlidXRlX3ZhbHVlcyh0aGlzLl9hdHRyaWJ1dGUsIHNyY0Zvcm1hdFNpemUsIHRoaXMuX29mZnNldCArIGluZGV4ICogdGhpcy5fc3RyaWRlLCB0aGlzLl9zdHJpZGUsIGRlc3RGb3JtYXRTaXplLCBkZXN0LmJ5dGVPZmZzZXQsIGRlc3RTaXplKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dC5sZW5ndGg7ICsraSlcclxuICAgICAgICAgICAgb3V0W2ldID0gZGVzdFtpXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYXR0cmlidXRlIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGkgSW5kZXhcclxuICAgICAqIEBwYXJhbSB2IFZhbHVlIHRvIHNldCB0aGUgZWxlbWVudCB0b1xyXG4gICAgICpcclxuICAgICAqIGB2Lmxlbmd0aGAgbmVlZHMgdG8gYmUgYSBtdWx0aXBsZSBvZiB0aGUgYXR0cmlidXRlcyBjb21wb25lbnQgY291bnQsIHNlZVxyXG4gICAgICoge0BsaW5rIE1lc2hBdHRyaWJ1dGV9LiBJZiBgdi5sZW5ndGhgIGlzIG1vcmUgdGhhbiBvbmUgbXVsdGlwbGUsIGl0IHdpbGwgYmVcclxuICAgICAqIGZpbGxlZCB3aXRoIHRoZSBuZXh0IG4gYXR0cmlidXRlIGVsZW1lbnRzLCB3aGljaCBjYW4gcmVkdWNlIG92ZXJoZWFkXHJcbiAgICAgKiBvZiB0aGlzIGNhbGwuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpXHJcbiAgICAgKi9cclxuICAgIHNldChpLCB2KSB7XHJcbiAgICAgICAgaWYgKHYubGVuZ3RoICUgdGhpcy5fY29tcG9uZW50Q291bnQgIT09IDApXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgb3V0Lmxlbmd0aCwgJHt2Lmxlbmd0aH0gaXMgbm90IGEgbXVsdGlwbGUgb2YgdGhlIGF0dHJpYnV0ZSB2ZWN0b3IgY29tcG9uZW50cywgJHt0aGlzLl9jb21wb25lbnRDb3VudH1gKTtcclxuICAgICAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuX2J1ZmZlclR5cGUuQllURVNfUEVSX0VMRU1FTlQ7XHJcbiAgICAgICAgY29uc3Qgc3JjU2l6ZSA9IGVsZW1lbnRTaXplICogdi5sZW5ndGg7XHJcbiAgICAgICAgY29uc3Qgc3JjRm9ybWF0U2l6ZSA9IHRoaXMuX2NvbXBvbmVudENvdW50ICogZWxlbWVudFNpemUgKiB0aGlzLl9hcnJheVNpemU7XHJcbiAgICAgICAgY29uc3QgZGVzdEZvcm1hdFNpemUgPSB0aGlzLl9mb3JtYXRTaXplICogdGhpcy5fYXJyYXlTaXplO1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICAvKiBVbmxlc3Mgd2UgYXJlIGFscmVhZHkgd29ya2luZyB3aXRoIGRhdGEgZnJvbSBXQVNNIGhlYXAsIHdlXHJcbiAgICAgICAgICogbmVlZCB0byBjb3B5IGludG8gdGVtcG9yYXJ5IG1lbW9yeS4gKi9cclxuICAgICAgICBpZiAodi5idWZmZXIgIT0gd2FzbS5IRUFQVTguYnVmZmVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlc3QgPSB0aGlzLl90ZW1wQnVmZmVyR2V0dGVyKHYubGVuZ3RoKTtcclxuICAgICAgICAgICAgZGVzdC5zZXQodik7XHJcbiAgICAgICAgICAgIHYgPSBkZXN0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB3YXNtLl93bF9tZXNoX3NldF9hdHRyaWJ1dGVfdmFsdWVzKHRoaXMuX2F0dHJpYnV0ZSwgc3JjRm9ybWF0U2l6ZSwgdi5ieXRlT2Zmc2V0LCBzcmNTaXplLCBkZXN0Rm9ybWF0U2l6ZSwgdGhpcy5fb2Zmc2V0ICsgaSAqIHRoaXMuX3N0cmlkZSwgdGhpcy5fc3RyaWRlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufVxyXG4vKipcclxuICogV3JhcHBlciBhcm91bmQgYSBuYXRpdmUgbWF0ZXJpYWwuXHJcbiAqXHJcbiAqIEVhY2ggbWF0ZXJpYWwgaW5zdGFuY2Ugd2lsbCBoYXZlIHByb3BlcnRpZXMgYXNzb2NpYXRlZCB0byB0aGUgcGlwZWxpbmUgaXQgdXNlcy5cclxuICogVGhlIG1hdGVyaWFsIHByb3BlcnRpZXMgYXJlIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gZWFjaCBtYXRlcmlhbCBpbnN0YW5jZSwgZXhhbXBsZTpcclxuICpcclxuICogYGBganNcclxuICogY29uc3QgbWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsOyAvLyBNYXRlcmlhbCB3aXRoIGEgYFBob25nIE9wYXF1ZSBUZXh0dXJlZGAgcGlwZWxpbmVcclxuICogLy8gWW91IGNhbiBhY2Nlc3MgYWxsIHRoZSBtYXRlcmlhbCBwcm9wZXJ0aWVzIGZyb20gdGhlIGVkaXRvciB1c2luZzpcclxuICogbWF0ZXJpYWwuZGlmZnVzZVRleHR1cmUgPSBudWxsO1xyXG4gKiBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBbMS4wLCAwLjAsIDAuMCwgMS4wXTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWF0ZXJpYWwge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbmRleCBvZiB0aGlzIG1hdGVyaWFsIGluIHRoZSBtYW5hZ2VyLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX2luZGV4O1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYXRlcmlhbCBkZWZpbml0aW9uIGluZGV4IGluIHRoZSBzY2VuZS5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9kZWZpbml0aW9uO1xyXG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXHJcbiAgICBfZW5naW5lO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgTWF0ZXJpYWwuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgQ3JlYXRpbmcgbWF0ZXJpYWwgaXMgZXhwZW5zaXZlLiBQbGVhc2UgdXNlIHtAbGluayBNYXRlcmlhbCNjbG9uZX0gdG8gY2xvbmUgYSBtYXRlcmlhbC5cclxuICAgICAqIEBub3RlIERvIG5vdCB1c2UgdGhpcyBjb25zdHJ1Y3RvciBkaXJlY3RseSB3aXRoIGFuIGluZGV4LCB0aGlzIGlzIHJlc2VydmVkIGZvciBpbnRlcm5hbCBwdXJwb3Nlcy5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBwYXJhbXMpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIGlmICghcGFyYW1zPy5waXBlbGluZSlcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcGFyYW1ldGVyICdwaXBlbGluZSdcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICAgICAgY29uc3QgcGlwZWxpbmUgPSBwYXJhbXMucGlwZWxpbmU7XHJcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gd2FzbS5fd2xfbWF0ZXJpYWxfY3JlYXRlKHdhc20udGVtcFVURjgocGlwZWxpbmUpKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2luZGV4IDwgMClcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gc3VjaCBwaXBlbGluZSAnJHtwaXBlbGluZX0nYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9pbmRleCA9IHBhcmFtcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZGVmaW5pdGlvbiA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9tYXRlcmlhbF9nZXRfZGVmaW5pdGlvbih0aGlzLl9pbmRleCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9lbmdpbmUud2FzbS5fbWF0ZXJpYWxEZWZpbml0aW9uc1t0aGlzLl9kZWZpbml0aW9uXSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYXRlcmlhbCBEZWZpbml0aW9uICR7dGhpcy5fZGVmaW5pdGlvbn0gbm90IGZvdW5kIGZvciBtYXRlcmlhbCB3aXRoIGluZGV4ICR7dGhpcy5faW5kZXh9YCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh0aGlzLCB7XHJcbiAgICAgICAgICAgIGdldCh0YXJnZXQsIHByb3ApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdhc20gPSBlbmdpbmUud2FzbTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSB3YXNtLl9tYXRlcmlhbERlZmluaXRpb25zW3RhcmdldC5fZGVmaW5pdGlvbl07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbSA9IGRlZmluaXRpb24uZ2V0KHByb3ApO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwYXJhbSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHdhc20uX3dsX21hdGVyaWFsX2dldF9wYXJhbV92YWx1ZSh0YXJnZXQuX2luZGV4LCBwYXJhbS5pbmRleCwgd2FzbS5fdGVtcE1lbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gcGFyYW0udHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLlVuc2lnbmVkSW50OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUuY29tcG9uZW50Q291bnQgPT0gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gd2FzbS5fdGVtcE1lbVVpbnQzMlswXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IFVpbnQzMkFycmF5KHdhc20uSEVBUFUzMi5idWZmZXIsIHdhc20uX3RlbXBNZW0sIHR5cGUuY29tcG9uZW50Q291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLkludDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlLmNvbXBvbmVudENvdW50ID09IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHdhc20uX3RlbXBNZW1JbnRbMF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBJbnQzMkFycmF5KHdhc20uSEVBUDMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgdHlwZS5jb21wb25lbnRDb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuRmxvYXQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZS5jb21wb25lbnRDb3VudCA9PSAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB3YXNtLl90ZW1wTWVtRmxvYXRbMF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgdHlwZS5jb21wb25lbnRDb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuU2FtcGxlcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbmdpbmUudGV4dHVyZXMud3JhcCh3YXNtLl90ZW1wTWVtSW50WzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0eXBlICR7dHlwZS50eXBlfSBvbiBwYXJhbWV0ZXIgJHtwYXJhbS5pbmRleH0gZm9yIG1hdGVyaWFsICR7dGFyZ2V0Ll9pbmRleH1gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldCh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3YXNtID0gZW5naW5lLndhc207XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gd2FzbS5fbWF0ZXJpYWxEZWZpbml0aW9uc1t0YXJnZXQuX2RlZmluaXRpb25dO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSBkZWZpbml0aW9uLmdldChwcm9wKTtcclxuICAgICAgICAgICAgICAgIGlmICghcGFyYW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwYXJhbS50eXBlO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLlVuc2lnbmVkSW50OlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuSW50OlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuU2FtcGxlcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdiA9IHZhbHVlLmlkID8/IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXNtLl93bF9tYXRlcmlhbF9zZXRfcGFyYW1fdmFsdWVfdWludCh0YXJnZXQuX2luZGV4LCBwYXJhbS5pbmRleCwgdik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuRmxvYXQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ID0gdmFsdWUubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgKytpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFtpXSA9IHZhbHVlW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhc20uX3dsX21hdGVyaWFsX3NldF9wYXJhbV92YWx1ZV9mbG9hdCh0YXJnZXQuX2luZGV4LCBwYXJhbS5pbmRleCwgd2FzbS5fdGVtcE1lbSwgY291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLkZvbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2V0dGluZyBmb250IHByb3BlcnRpZXMgaXMgY3VycmVudGx5IHVuc3VwcG9ydGVkLicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayAjcGlwZWxpbmV9IGluc3RlYWQuICovXHJcbiAgICBnZXQgc2hhZGVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBpcGVsaW5lO1xyXG4gICAgfVxyXG4gICAgLyoqIE5hbWUgb2YgdGhlIHBpcGVsaW5lIHVzZWQgYnkgdGhpcyBtYXRlcmlhbC4gKi9cclxuICAgIGdldCBwaXBlbGluZSgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKHdhc20uX3dsX21hdGVyaWFsX2dldF9waXBlbGluZSh0aGlzLl9pbmRleCkpO1xyXG4gICAgfVxyXG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xyXG4gICAgZ2V0IGVuZ2luZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBjb3B5IG9mIHRoZSB1bmRlcmx5aW5nIG5hdGl2ZSBtYXRlcmlhbC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBNYXRlcmlhbCBjbG9uZS5cclxuICAgICAqL1xyXG4gICAgY2xvbmUoKSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWF0ZXJpYWxfY2xvbmUodGhpcy5faW5kZXgpO1xyXG4gICAgICAgIHJldHVybiBpZCA+IDAgPyBuZXcgTWF0ZXJpYWwodGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIG1hdGVyaWFsIGlkcyBhcmVcclxuICAgICAqIGVxdWFsLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdGhlck1hdGVyaWFsIE1hdGVyaWFsIHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgbWF0ZXJpYWwgZXF1YWxzIHRoZSBnaXZlbiBtYXRlcmlhbC5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZXF1YWxzKG90aGVyTWF0ZXJpYWwpIHtcclxuICAgICAgICBpZiAoIW90aGVyTWF0ZXJpYWwpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXggPT09IG90aGVyTWF0ZXJpYWwuX2luZGV4O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXcmFwIGEgbmF0aXZlIG1hdGVyaWFsIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBlbmdpbmUgRW5naW5lIGluc3RhbmNlLlxyXG4gICAgICogQHBhcmFtIGluZGV4IFRoZSBpbmRleC5cclxuICAgICAqIEByZXR1cm5zIE1hdGVyaWFsIGluc3RhbmNlIG9yIGBudWxsYCBpZiBpbmRleCA8PSAwLlxyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2UgYG5ldyBNYXRlcmlhbCgpYCBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgd3JhcChlbmdpbmUsIGluZGV4KSB7XHJcbiAgICAgICAgLyoqIEB0b2RvOiB0aGlzIHByb3BhZ2F0ZSBudWxsYWJsZSBpbiB0aGUgZW50aXJlIGNvZGViYXNlLiBSZW1vdmUuICovXHJcbiAgICAgICAgcmV0dXJuIGluZGV4ID4gMCA/IG5ldyBNYXRlcmlhbChlbmdpbmUsIGluZGV4KSA6IG51bGw7XHJcbiAgICB9XHJcbn1cclxuLyoqIFRlbXBvcmFyeSBjYW52YXMgKi9cclxubGV0IHRlbXAyZCA9IG51bGw7XHJcbi8qKlxyXG4gKiBXcmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSB0ZXh0dXJlIGRhdGEuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGV4dHVyZSB7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKiogSW5kZXggaW4gdGhlIG1hbmFnZXIuIEBoaWRkZW4gKi9cclxuICAgIF9pZCA9IDA7XHJcbiAgICAvKiogSFRNTCBpbWFnZSBpbmRleC4gQGhpZGRlbiAqL1xyXG4gICAgX2ltYWdlSW5kZXggPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gZW5naW5lIFRoZSBlbmdpbmUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSBwYXJhbSBIVE1MIG1lZGlhIGVsZW1lbnQgdG8gY3JlYXRlIHRleHR1cmUgZnJvbSBvciB0ZXh0dXJlIGlkIHRvIHdyYXAuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgcGFyYW0pIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmUgPz8gV0w7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IGVuZ2luZS53YXNtO1xyXG4gICAgICAgIGlmIChwYXJhbSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQgfHxcclxuICAgICAgICAgICAgcGFyYW0gaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50IHx8XHJcbiAgICAgICAgICAgIHBhcmFtIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB3YXNtLl9pbWFnZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICB3YXNtLl9pbWFnZXMucHVzaChwYXJhbSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlSW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgLyoqIEB0b2RvOiBGb3IgMS4yLjAsIGltYWdlcyByZWZlcmVuY2VkIGhlcmUgc2hvdWxkIGJlIHBlci1zY2VuZSwgaS5lLiwgYmFzZWRcclxuICAgICAgICAgICAgICogb24gdGhlIG1haW4gc2NlbmUgaW1hZ2VzLiAqL1xyXG4gICAgICAgICAgICB0aGlzLl9pZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9yZW5kZXJlcl9hZGRJbWFnZShpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9pZCA9IHBhcmFtO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9lbmdpbmUudGV4dHVyZXMuX3NldCh0aGlzKTtcclxuICAgIH1cclxuICAgIC8qKiBXaGV0aGVyIHRoaXMgdGV4dHVyZSBpcyB2YWxpZC4gKi9cclxuICAgIGdldCB2YWxpZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQgPj0gMDtcclxuICAgIH1cclxuICAgIC8qKiBJbmRleCBpbiB0aGlzIG1hbmFnZXIuICovXHJcbiAgICBnZXQgaWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfVxyXG4gICAgLyoqIFVwZGF0ZSB0aGUgdGV4dHVyZSB0byBtYXRjaCB0aGUgSFRNTCBlbGVtZW50IChlLmcuIHJlZmxlY3QgdGhlIGN1cnJlbnQgZnJhbWUgb2YgYSB2aWRlbykuICovXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkIHx8IHRoaXMuX2ltYWdlSW5kZXggPT09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcmVuZGVyZXJfdXBkYXRlSW1hZ2UodGhpcy5faWQsIHRoaXMuX2ltYWdlSW5kZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqIFdpZHRoIG9mIHRoZSB0ZXh0dXJlLiAqL1xyXG4gICAgZ2V0IHdpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dHVyZV93aWR0aCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKiogSGVpZ2h0IG9mIHRoZSB0ZXh0dXJlLiAqL1xyXG4gICAgZ2V0IGhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHR1cmVfaGVpZ2h0KHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKiBIb3N0aW5nIGVuZ2luZSBpbnN0YW5jZS4gKi9cclxuICAgIGdldCBlbmdpbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIGEgc3VicmFuZ2Ugb24gdGhlIHRleHR1cmUgdG8gbWF0Y2ggdGhlIEhUTUwgZWxlbWVudCAoZS5nLiByZWZsZWN0IHRoZSBjdXJyZW50IGZyYW1lIG9mIGEgdmlkZW8pLlxyXG4gICAgICpcclxuICAgICAqIFVzYWdlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAvLyBDb3BpZXMgcmVjdGFuZ2xlIG9mIHBpeGVsIHN0YXJ0aW5nIGZyb20gKDEwLCAyMClcclxuICAgICAqIHRleHR1cmUudXBkYXRlU3ViSW1hZ2UoMTAsIDIwLCA2MDAsIDQwMCk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geCB4IG9mZnNldFxyXG4gICAgICogQHBhcmFtIHkgeSBvZmZzZXRcclxuICAgICAqIEBwYXJhbSB3IHdpZHRoXHJcbiAgICAgKiBAcGFyYW0gaCBoZWlnaHRcclxuICAgICAqL1xyXG4gICAgdXBkYXRlU3ViSW1hZ2UoeCwgeSwgdywgaCkge1xyXG4gICAgICAgIGlmICghdGhpcy52YWxpZCB8fCB0aGlzLl9pbWFnZUluZGV4ID09PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLyogTGF6eSBpbml0aWFsaXplIHRlbXAgY2FudmFzICovXHJcbiAgICAgICAgaWYgKCF0ZW1wMmQpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICBpZiAoIWN0eCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXh0dXJlLnVwZGF0ZVN1YkltYWdlKCk6IEZhaWxlZCB0byBvYnRhaW4gQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRlbXAyZCA9IHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcyxcclxuICAgICAgICAgICAgICAgIGN0eCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IGltZyA9IHdhc20uX2ltYWdlc1t0aGlzLl9pbWFnZUluZGV4XTtcclxuICAgICAgICBpZiAoIWltZylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRlbXAyZC5jYW52YXMud2lkdGggPSB3O1xyXG4gICAgICAgIHRlbXAyZC5jYW52YXMuaGVpZ2h0ID0gaDtcclxuICAgICAgICB0ZW1wMmQuY3R4LmRyYXdJbWFnZShpbWcsIHgsIHksIHcsIGgsIDAsIDAsIHcsIGgpO1xyXG4gICAgICAgIGNvbnN0IHlPZmZzZXQgPSAoaW1nLnZpZGVvSGVpZ2h0ID8/IGltZy5oZWlnaHQpIC0geSAtIGg7XHJcbiAgICAgICAgd2FzbS5faW1hZ2VzW3RoaXMuX2ltYWdlSW5kZXhdID0gdGVtcDJkLmNhbnZhcztcclxuICAgICAgICB3YXNtLl93bF9yZW5kZXJlcl91cGRhdGVJbWFnZSh0aGlzLl9pZCwgdGhpcy5faW1hZ2VJbmRleCwgeCwgeU9mZnNldCk7XHJcbiAgICAgICAgd2FzbS5faW1hZ2VzW3RoaXMuX2ltYWdlSW5kZXhdID0gaW1nO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IGFuZCBmcmVlIHRoZSB0ZXh0dXJlJ3MgdGV4dHVyZSBhbHRhcyBzcGFjZSBhbmQgbWVtb3J5LlxyXG4gICAgICpcclxuICAgICAqIEl0IGlzIGJlc3QgcHJhY3RpY2UgdG8gc2V0IHRoZSB0ZXh0dXJlIHZhcmlhYmxlIHRvIGBudWxsYCBhZnRlciBjYWxsaW5nXHJcbiAgICAgKiBkZXN0cm95IHRvIHByZXZlbnQgYWNjaWRlbnRhbCB1c2Ugb2YgdGhlIGludmFsaWQgdGV4dHVyZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICB0ZXh0dXJlLmRlc3Ryb3koKTtcclxuICAgICAqICAgdGV4dHVyZSA9IG51bGw7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC45LjBcclxuICAgICAqL1xyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5fZGVzdHJveVRleHR1cmUodGhpcyk7XHJcbiAgICAgICAgdGhpcy5faWQgPSAtMTtcclxuICAgICAgICB0aGlzLl9pbWFnZUluZGV4ID0gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSB0ZXh0dXJlIGlkcyBhcmVcclxuICAgICAqIGVxdWFsLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdGhlclRleHR1cmUgVGV4dHVyZSB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxyXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIHRleHR1cmUgZXF1YWxzIHRoZSBnaXZlbiB0ZXh0dXJlLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBlcXVhbHMob3RoZXJUZXh0dXJlKSB7XHJcbiAgICAgICAgaWYgKCFvdGhlclRleHR1cmUpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQgPT09IG90aGVyVGV4dHVyZS5faWQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIGFuaW1hdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBbmltYXRpb24ge1xyXG4gICAgLyoqIEluZGV4IG9mIHRoZSBtZXNoIGluIHRoZSBtYW5hZ2VyLiBAaGlkZGVuICovXHJcbiAgICBfaW5kZXg7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBpbiB0aGUgbWFuYWdlclxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUgPSBXTCwgaW5kZXgpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICAgICAgdGhpcy5faW5kZXggPSBpbmRleDtcclxuICAgIH1cclxuICAgIC8qKiBEdXJhdGlvbiBvZiB0aGlzIGFuaW1hdGlvbi4gKi9cclxuICAgIGdldCBkdXJhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9nZXRfZHVyYXRpb24odGhpcy5faW5kZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqIE51bWJlciBvZiB0cmFja3MgaW4gdGhpcyBhbmltYXRpb24uICovXHJcbiAgICBnZXQgdHJhY2tDb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9nZXRfdHJhY2tDb3VudCh0aGlzLl9pbmRleCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENsb25lIHRoaXMgYW5pbWF0aW9uIHJldGFyZ2V0ZWQgdG8gYSBuZXcgc2V0IG9mIG9iamVjdHMuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGNsb25lIHNoYXJlcyBtb3N0IG9mIHRoZSBkYXRhIHdpdGggdGhlIG9yaWdpbmFsIGFuZCBpcyB0aGVyZWZvcmVcclxuICAgICAqIGxpZ2h0LXdlaWdodC5cclxuICAgICAqXHJcbiAgICAgKiAqKkV4cGVyaW1lbnRhbDoqKiBUaGlzIEFQSSBtaWdodCBjaGFuZ2UgaW4gdXBjb21pbmcgdmVyc2lvbnMuXHJcbiAgICAgKlxyXG4gICAgICogSWYgcmV0YXJnZXRpbmcgdG8ge0BsaW5rIFNraW59LCB0aGUgam9pbiBuYW1lcyB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGEgbWFwcGluZ1xyXG4gICAgICogZnJvbSB0aGUgcHJldmlvdXMgc2tpbiB0byB0aGUgbmV3IHNraW4uIFRoZSBzb3VyY2Ugc2tpbiB3aWxsIGJlIHJldHJpZXZlZCBmcm9tXHJcbiAgICAgKiB0aGUgZmlyc3QgdHJhY2sgaW4gdGhlIGFuaW1hdGlvbiB0aGF0IHRhcmdldHMgYSBqb2ludC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmV3VGFyZ2V0cyBOZXcgdGFyZ2V0cyBwZXIgdHJhY2suIEV4cGVjdGVkIHRvIGhhdmVcclxuICAgICAqICAgICAge0BsaW5rIEFuaW1hdGlvbiN0cmFja0NvdW50fSBlbGVtZW50cyBvciB0byBiZSBhIHtAbGluayBTa2lufS5cclxuICAgICAqIEByZXR1cm5zIFRoZSByZXRhcmdldGVkIGNsb25lIG9mIHRoaXMgYW5pbWF0aW9uLlxyXG4gICAgICovXHJcbiAgICByZXRhcmdldChuZXdUYXJnZXRzKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGlmIChuZXdUYXJnZXRzIGluc3RhbmNlb2YgU2tpbikge1xyXG4gICAgICAgICAgICBjb25zdCBhbmltSWQgPSB3YXNtLl93bF9hbmltYXRpb25fcmV0YXJnZXRUb1NraW4odGhpcy5faW5kZXgsIG5ld1RhcmdldHMuX2luZGV4KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb24odGhpcy5fZW5naW5lLCBhbmltSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV3VGFyZ2V0cy5sZW5ndGggIT0gdGhpcy50cmFja0NvdW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdFeHBlY3RlZCAnICtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tDb3VudC50b1N0cmluZygpICtcclxuICAgICAgICAgICAgICAgICcgdGFyZ2V0cywgYnV0IGdvdCAnICtcclxuICAgICAgICAgICAgICAgIG5ld1RhcmdldHMubGVuZ3RoLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl9tYWxsb2MoMiAqIG5ld1RhcmdldHMubGVuZ3RoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RhcmdldHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgd2FzbS5IRUFQVTE2W3B0ciA+PiAoMSArIGkpXSA9IG5ld1RhcmdldHNbaV0ub2JqZWN0SWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFuaW1JZCA9IHdhc20uX3dsX2FuaW1hdGlvbl9yZXRhcmdldCh0aGlzLl9pbmRleCwgcHRyKTtcclxuICAgICAgICB3YXNtLl9mcmVlKHB0cik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb24odGhpcy5fZW5naW5lLCBhbmltSWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIGFuaW1hdGlvbiBpZHNcclxuICAgICAqIGFyZSBlcXVhbC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3RoZXJBbmltYXRpb24gQW5pbWF0aW9uIHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgYW5pbWF0aW9uIGVxdWFscyB0aGUgZ2l2ZW4gYW5pbWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBlcXVhbHMob3RoZXJBbmltYXRpb24pIHtcclxuICAgICAgICBpZiAoIW90aGVyQW5pbWF0aW9uKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4ID09PSBvdGhlckFuaW1hdGlvbi5faW5kZXg7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFNjZW5lIGdyYXBoIG9iamVjdC5cclxuICpcclxuICogTm9kZSBpbiB0aGUgc2NlbmUgZ3JhcGggb3IgXCJlbnRpdHlcIi4gQ29uc2lzdHMgb2YgdHJhbnNmb3JtYXRpb24gYW5kIGEgcmVmZXJlbmNlXHJcbiAqIHRvIGl0cyBwYXJlbnQgb2JqZWN0LiBVc3VhbGx5IGhvbGRzIGNvbXBvbmVudHMgYW5kIGlzIGFjY2Vzc2libGUgYnkgY29tcG9uZW50c1xyXG4gKiB0aHJvdWdoIHtAbGluayBDb21wb25lbnQjb2JqZWN0fS5cclxuICpcclxuICogT2JqZWN0cyBhcmUgc3RvcmVkIGluIGEgZGF0YSBvcmllbnRlZCBtYW5uZXIgaW5zaWRlIFdlYkFzc2VtYmx5IG1lbW9yeS4gVGhpcyBjbGFzc1xyXG4gKiBpcyBhIEphdmFTY3JpcHQgQVBJIHdyYXBwZXIgYXJvdW5kIHRoaXMgbWVtb3J5IGZvciBtb3JlIGNvbnZlbmllbnQgdXNlIGluXHJcbiAqIGNvbXBvbmVudHMuXHJcbiAqXHJcbiAqIE9iamVjdHMgY2FuIGJlIGNyZWF0ZWQgYW5kIGFkZGVkIHRvIGEgc2NlbmUgdGhyb3VnaFxyXG4gKiB7QGxpbmsgU2NlbmUjYWRkT2JqZWN0fSBvbiB0aGUge0BsaW5rIFdvbmRlcmxhbmRFbmdpbmUuc2NlbmV9LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE9iamVjdDNEIHtcclxuICAgIC8qKlxyXG4gICAgICogT2JqZWN0IGluZGV4IGluIHRoZSBtYW5hZ2VyLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX29iamVjdElkID0gLTE7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBvIE9iamVjdCBpZCB0byB3cmFwXHJcbiAgICAgKlxyXG4gICAgICogRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIHBsZWFzZSB1c2Uge0BsaW5rIFdvbmRlcmxhbmRFbmdpbmUud3JhcE9iamVjdH1cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBvKSB7XHJcbiAgICAgICAgdGhpcy5fb2JqZWN0SWQgPSBvO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTmFtZSBvZiB0aGUgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIFVzZWZ1bCBmb3IgaWRlbnRpZnlpbmcgb2JqZWN0cyBkdXJpbmcgZGVidWdnaW5nLlxyXG4gICAgICovXHJcbiAgICBnZXQgbmFtZSgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKHdhc20uX3dsX29iamVjdF9uYW1lKHRoaXMub2JqZWN0SWQpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBvYmplY3QncyBuYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuZXdOYW1lIFRoZSBuZXcgbmFtZSB0byBzZXQuXHJcbiAgICAgKi9cclxuICAgIHNldCBuYW1lKG5ld05hbWUpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3NldF9uYW1lKHRoaXMub2JqZWN0SWQsIHdhc20udGVtcFVURjgobmV3TmFtZSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJlbnQgb2YgdGhpcyBvYmplY3Qgb3IgYG51bGxgIGlmIHBhcmVudGVkIHRvIHJvb3QuXHJcbiAgICAgKi9cclxuICAgIGdldCBwYXJlbnQoKSB7XHJcbiAgICAgICAgY29uc3QgcCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcGFyZW50KHRoaXMub2JqZWN0SWQpO1xyXG4gICAgICAgIHJldHVybiBwID09PSAwID8gbnVsbCA6IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KHApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGlsZHJlbiBvZiB0aGlzIG9iamVjdC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBDaGlsZCBvcmRlciBpcyAqKnVuZGVmaW5lZCoqLiBObyBhc3N1bXB0aW9ucyBzaG91bGQgYmUgbWFkZVxyXG4gICAgICogYWJvdXQgdGhlIGluZGV4IG9mIGEgc3BlY2lmaWMgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIElmIHlvdSBuZWVkIHRvIGFjY2VzcyBhIHNwZWNpZmljIGNoaWxkIG9mIHRoaXMgb2JqZWN0LCB5b3UgY2FuXHJcbiAgICAgKiB1c2Uge0BsaW5rIE9iamVjdDNELmZpbmRCeU5hbWV9LlxyXG4gICAgICpcclxuICAgICAqIFdoZW4gdGhlIG9iamVjdCBleGlzdHMgaW4gdGhlIHNjZW5lIGF0IGVkaXRvciB0aW1lLCBwcmVmZXIgcGFzc2luZyBpdCBhc1xyXG4gICAgICogYSBjb21wb25lbnQgcHJvcGVydHkuXHJcbiAgICAgKi9cclxuICAgIGdldCBjaGlsZHJlbigpIHtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbkNvdW50ID0gdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9nZXRfY2hpbGRyZW5fY291bnQodGhpcy5vYmplY3RJZCk7XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuQ291bnQgPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5yZXF1aXJlVGVtcE1lbShjaGlsZHJlbkNvdW50ICogMik7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9nZXRfY2hpbGRyZW4odGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSwgd2FzbS5fdGVtcE1lbVNpemUgPj4gMSk7XHJcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBuZXcgQXJyYXkoY2hpbGRyZW5Db3VudCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbkNvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW5baV0gPSB0aGlzLl9lbmdpbmUud3JhcE9iamVjdCh3YXNtLl90ZW1wTWVtVWludDE2W2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXBhcmVudCBvYmplY3QgdG8gZ2l2ZW4gb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFJlcGFyZW50aW5nIGlzIG5vdCB0cml2aWFsIGFuZCBtaWdodCBoYXZlIGEgbm90aWNlYWJsZSBwZXJmb3JtYW5jZSBpbXBhY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5ld1BhcmVudCBOZXcgcGFyZW50IG9yIGBudWxsYCB0byBwYXJlbnQgdG8gcm9vdFxyXG4gICAgICovXHJcbiAgICBzZXQgcGFyZW50KG5ld1BhcmVudCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3BhcmVudCh0aGlzLm9iamVjdElkLCBuZXdQYXJlbnQgPT0gbnVsbCA/IDAgOiBuZXdQYXJlbnQub2JqZWN0SWQpO1xyXG4gICAgfVxyXG4gICAgLyoqIE9iamVjdCBpbmRleCBpbiB0aGUgbWFuYWdlci4gKi9cclxuICAgIGdldCBvYmplY3RJZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0SWQ7XHJcbiAgICB9XHJcbiAgICAvKiogSG9zdGluZyBlbmdpbmUgaW5zdGFuY2UuICovXHJcbiAgICBnZXQgZW5naW5lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENsb25lIHRoaXMgaGllcmFyY2h5IGludG8gYSBuZXcgb25lLlxyXG4gICAgICpcclxuICAgICAqIENsb25pbmcgY29waWVzIHRoZSBoaWVyYXJjaHkgc3RydWN0dXJlLCBvYmplY3QgbmFtZXMsXHJcbiAgICAgKiBhcyB3ZWxsIGFzIGNvbXBvbmVudHMuXHJcbiAgICAgKlxyXG4gICAgICogSmF2YVNjcmlwdCBjb21wb25lbnRzIGFyZSBjbG9uZWQgdXNpbmcge0BsaW5rIENvbXBvbmVudC5jb3B5fS4gWW91IGNhblxyXG4gICAgICogb3ZlcnJpZGUgdGhpcyBtZXRob2QgaW4geW91ciBjb21wb25lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwYXJlbnQgVGhlIHBhcmVudCBmb3IgdGhlIGNsb25lZCBoaWVyYXJjaHkgb3IgYG51bGxgIHRvIGNsb25lXHJcbiAgICAgKiAgICAgaW50byB0aGUgc2NlbmUgcm9vdC4gRGVmYXVsdHMgdG8gYG51bGxgLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFRoZSBjbG9uZSBvZiB0aGlzIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgY2xvbmUocGFyZW50ID0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IGVuZ2luZSA9IHRoaXMuX2VuZ2luZTtcclxuICAgICAgICBjb25zdCBpZCA9IGVuZ2luZS53YXNtLl93bF9vYmplY3RfY2xvbmUodGhpcy5fb2JqZWN0SWQsIHBhcmVudCA/IHBhcmVudC5fb2JqZWN0SWQgOiAwKTtcclxuICAgICAgICByZXR1cm4gZW5naW5lLndyYXBPYmplY3QoaWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldCBsb2NhbCB0cmFuc2Zvcm1hdGlvbiAodHJhbnNsYXRpb24sIHJvdGF0aW9uIGFuZCBzY2FsaW5nKSB0byBpZGVudGl0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJlc2V0VHJhbnNmb3JtKCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcmVzZXRfdHJhbnNsYXRpb25fcm90YXRpb24odGhpcy5vYmplY3RJZCk7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yZXNldF9zY2FsaW5nKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldCBsb2NhbCBwb3NpdGlvbiBhbmQgcm90YXRpb24gdG8gaWRlbnRpdHkuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByZXNldFBvc2l0aW9uUm90YXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yZXNldF90cmFuc2xhdGlvbl9yb3RhdGlvbih0aGlzLm9iamVjdElkKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5yZXNldFBvc2l0aW9uUm90YXRpb259IGluc3RlYWQuICovXHJcbiAgICByZXNldFRyYW5zbGF0aW9uUm90YXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IGxvY2FsIHJvdGF0aW9uLCBrZWVwIHRyYW5zbGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRvIHJlc2V0IGJvdGggcm90YXRpb24gYW5kIHRyYW5zbGF0aW9uLCBwcmVmZXJcclxuICAgICAqICAgICAgIHtAbGluayByZXNldFRyYW5zbGF0aW9uUm90YXRpb259LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcmVzZXRSb3RhdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3JvdGF0aW9uKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldCBsb2NhbCB0cmFuc2xhdGlvbiwga2VlcCByb3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUbyByZXNldCBib3RoIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiwgcHJlZmVyXHJcbiAgICAgKiAgICAgICB7QGxpbmsgcmVzZXRUcmFuc2xhdGlvblJvdGF0aW9ufS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJlc2V0UG9zaXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yZXNldF90cmFuc2xhdGlvbih0aGlzLm9iamVjdElkKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5yZXNldFBvc2l0aW9ufSBpbnN0ZWFkLiAqL1xyXG4gICAgcmVzZXRUcmFuc2xhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNldFBvc2l0aW9uKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IGxvY2FsIHNjYWxpbmcgdG8gaWRlbnRpdHkgKGBgWzEuMCwgMS4wLCAxLjBdYGApLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcmVzZXRTY2FsaW5nKCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcmVzZXRfc2NhbGluZyh0aGlzLm9iamVjdElkKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC50cmFuc2xhdGVMb2NhbH0gaW5zdGVhZC4gKi9cclxuICAgIHRyYW5zbGF0ZSh2KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlTG9jYWwodik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zbGF0ZSBvYmplY3QgYnkgYSB2ZWN0b3IgaW4gdGhlIHBhcmVudCdzIHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2xhdGUgYnkuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICB0cmFuc2xhdGVMb2NhbCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF90cmFuc2xhdGUodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zbGF0ZSBvYmplY3QgYnkgYSB2ZWN0b3IgaW4gb2JqZWN0IHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2xhdGUgYnkuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICB0cmFuc2xhdGVPYmplY3Qodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfdHJhbnNsYXRlX29iaih0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNsYXRlIG9iamVjdCBieSBhIHZlY3RvciBpbiB3b3JsZCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gdHJhbnNsYXRlIGJ5LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgdHJhbnNsYXRlV29ybGQodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfdHJhbnNsYXRlX3dvcmxkKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJvdGF0ZUF4aXNBbmdsZURlZ0xvY2FsfSBpbnN0ZWFkLiAqL1xyXG4gICAgcm90YXRlQXhpc0FuZ2xlRGVnKGEsIGQpIHtcclxuICAgICAgICB0aGlzLnJvdGF0ZUF4aXNBbmdsZURlZ0xvY2FsKGEsIGQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3RhdGUgYXJvdW5kIGdpdmVuIGF4aXMgYnkgZ2l2ZW4gYW5nbGUgKGRlZ3JlZXMpIGluIGxvY2FsIHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhIFZlY3RvciByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uIGF4aXMuXHJcbiAgICAgKiBAcGFyYW0gZCBBbmdsZSBpbiBkZWdyZWVzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIElmIHRoZSBvYmplY3QgaXMgdHJhbnNsYXRlZCB0aGUgcm90YXRpb24gd2lsbCBiZSBhcm91bmRcclxuICAgICAqICAgICB0aGUgcGFyZW50LiBUbyByb3RhdGUgYXJvdW5kIHRoZSBvYmplY3Qgb3JpZ2luLCB1c2VcclxuICAgICAqICAgICB7QGxpbmsgcm90YXRlQXhpc0FuZ2xlRGVnT2JqZWN0fVxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZVJhZH1cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJvdGF0ZUF4aXNBbmdsZURlZ0xvY2FsKGEsIGQpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9heGlzX2FuZ2xlKHRoaXMub2JqZWN0SWQsIGFbMF0sIGFbMV0sIGFbMl0sIGQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJvdGF0ZUF4aXNBbmdsZVJhZExvY2FsfSBpbnN0ZWFkLiAqL1xyXG4gICAgcm90YXRlQXhpc0FuZ2xlUmFkKGEsIGQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGVBeGlzQW5nbGVSYWRMb2NhbChhLCBkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUm90YXRlIGFyb3VuZCBnaXZlbiBheGlzIGJ5IGdpdmVuIGFuZ2xlIChyYWRpYW5zKSBpbiBsb2NhbCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYSBWZWN0b3IgcmVwcmVzZW50aW5nIHRoZSByb3RhdGlvbiBheGlzLlxyXG4gICAgICogQHBhcmFtIGQgQW5nbGUgaW4gcmFkaWFucy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBJZiB0aGUgb2JqZWN0IGlzIHRyYW5zbGF0ZWQgdGhlIHJvdGF0aW9uIHdpbGwgYmUgYXJvdW5kXHJcbiAgICAgKiAgICAgdGhlIHBhcmVudC4gVG8gcm90YXRlIGFyb3VuZCB0aGUgb2JqZWN0IG9yaWdpbiwgdXNlXHJcbiAgICAgKiAgICAge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdH1cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayByb3RhdGVBeGlzQW5nbGVEZWd9XHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByb3RhdGVBeGlzQW5nbGVSYWRMb2NhbChhLCBkKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfYXhpc19hbmdsZV9yYWQodGhpcy5vYmplY3RJZCwgYVswXSwgYVsxXSwgYVsyXSwgZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJvdGF0ZSBhcm91bmQgZ2l2ZW4gYXhpcyBieSBnaXZlbiBhbmdsZSAoZGVncmVlcykgaW4gb2JqZWN0IHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhIFZlY3RvciByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uIGF4aXMuXHJcbiAgICAgKiBAcGFyYW0gZCBBbmdsZSBpbiBkZWdyZWVzLlxyXG4gICAgICpcclxuICAgICAqIEVxdWl2YWxlbnQgdG8gcHJlcGVuZGluZyBhIHJvdGF0aW9uIHF1YXRlcm5pb24gdG8gdGhlIG9iamVjdCdzXHJcbiAgICAgKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayByb3RhdGVBeGlzQW5nbGVSYWRPYmplY3R9XHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByb3RhdGVBeGlzQW5nbGVEZWdPYmplY3QoYSwgZCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfcm90YXRlX2F4aXNfYW5nbGVfb2JqKHRoaXMub2JqZWN0SWQsIGFbMF0sIGFbMV0sIGFbMl0sIGQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3RhdGUgYXJvdW5kIGdpdmVuIGF4aXMgYnkgZ2l2ZW4gYW5nbGUgKHJhZGlhbnMpIGluIG9iamVjdCBzcGFjZVxyXG4gICAgICogRXF1aXZhbGVudCB0byBwcmVwZW5kaW5nIGEgcm90YXRpb24gcXVhdGVybmlvbiB0byB0aGUgb2JqZWN0J3NcclxuICAgICAqIGxvY2FsIHRyYW5zZm9ybWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhIFZlY3RvciByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uIGF4aXNcclxuICAgICAqIEBwYXJhbSBkIEFuZ2xlIGluIGRlZ3JlZXNcclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayByb3RhdGVBeGlzQW5nbGVEZWdPYmplY3R9XHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByb3RhdGVBeGlzQW5nbGVSYWRPYmplY3QoYSwgZCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfcm90YXRlX2F4aXNfYW5nbGVfcmFkX29iaih0aGlzLm9iamVjdElkLCBhWzBdLCBhWzFdLCBhWzJdLCBkKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5yb3RhdGVMb2NhbH0gaW5zdGVhZC4gKi9cclxuICAgIHJvdGF0ZShxKSB7XHJcbiAgICAgICAgdGhpcy5yb3RhdGVMb2NhbChxKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUm90YXRlIGJ5IGEgcXVhdGVybmlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcSB0aGUgUXVhdGVybmlvbiB0byByb3RhdGUgYnkuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByb3RhdGVMb2NhbChxKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfcXVhdCh0aGlzLm9iamVjdElkLCBxWzBdLCBxWzFdLCBxWzJdLCBxWzNdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUm90YXRlIGJ5IGEgcXVhdGVybmlvbiBpbiBvYmplY3Qgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogRXF1aXZhbGVudCB0byBwcmVwZW5kaW5nIGEgcm90YXRpb24gcXVhdGVybmlvbiB0byB0aGUgb2JqZWN0J3NcclxuICAgICAqIGxvY2FsIHRyYW5zZm9ybWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBxIHRoZSBRdWF0ZXJuaW9uIHRvIHJvdGF0ZSBieS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJvdGF0ZU9iamVjdChxKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfcXVhdF9vYmoodGhpcy5vYmplY3RJZCwgcVswXSwgcVsxXSwgcVsyXSwgcVszXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2NhbGVMb2NhbH0gaW5zdGVhZC4gKi9cclxuICAgIHNjYWxlKHYpIHtcclxuICAgICAgICB0aGlzLnNjYWxlTG9jYWwodik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNjYWxlIG9iamVjdCBieSBhIHZlY3RvciBpbiBvYmplY3Qgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHNjYWxlIGJ5LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2NhbGVMb2NhbCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zY2FsZSh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGdldFBvc2l0aW9uTG9jYWwob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICAvKiBUcmFuc2xhdGlvbiBpcyBkaWZmZXJlbnQgdGhhbiByb3RhdGlvbiAmIHNjYWxpbmcuXHJcbiAgICAgICAgICogV2UgY2FuJ3Qgc2ltcGx5IHJlYWQgdGhlIG1lbW9yeS4gKi9cclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfZ2V0X3RyYW5zbGF0aW9uX2xvY2FsKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICBnZXRUcmFuc2xhdGlvbkxvY2FsKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQb3NpdGlvbkxvY2FsKG91dCk7XHJcbiAgICB9XHJcbiAgICBnZXRQb3NpdGlvbldvcmxkKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgLyogVHJhbnNsYXRpb24gaXMgZGlmZmVyZW50IHRoYW4gcm90YXRpb24gJiBzY2FsaW5nLlxyXG4gICAgICAgICAqIFdlIGNhbid0IHNpbXBseSByZWFkIHRoZSBtZW1vcnkuICovXHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X2dldF90cmFuc2xhdGlvbl93b3JsZCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgZ2V0VHJhbnNsYXRpb25Xb3JsZChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UG9zaXRpb25Xb3JsZChvdXQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbG9jYWwgLyBvYmplY3Qgc3BhY2UgcG9zaXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQ29uY2F0ZW5hdGVzIGEgbmV3IHRyYW5zbGF0aW9uIGR1YWwgcXVhdGVybmlvbiBvbnRvIHRoZSBleGlzdGluZyByb3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgbG9jYWwgcG9zaXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBzZXRQb3NpdGlvbkxvY2FsKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF90cmFuc2xhdGlvbl9sb2NhbCh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRQb3NpdGlvbkxvY2FsfSBpbnN0ZWFkLiAqL1xyXG4gICAgc2V0VHJhbnNsYXRpb25Mb2NhbCh2KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0UG9zaXRpb25Mb2NhbCh2KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdvcmxkIHNwYWNlIHBvc2l0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEFwcGxpZXMgdGhlIGludmVyc2UgcGFyZW50IHRyYW5zZm9ybSB3aXRoIGEgbmV3IHRyYW5zbGF0aW9uIGR1YWwgcXVhdGVybmlvblxyXG4gICAgICogd2hpY2ggaXMgY29uY2F0ZW5hdGVkIG9udG8gdGhlIGV4aXN0aW5nIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyB3b3JsZCBwb3NpdGlvbiBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHNldFBvc2l0aW9uV29ybGQodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3RyYW5zbGF0aW9uX3dvcmxkKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFBvc2l0aW9uV29ybGR9IGluc3RlYWQuICovXHJcbiAgICBzZXRUcmFuc2xhdGlvbldvcmxkKHYpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXRQb3NpdGlvbldvcmxkKHYpO1xyXG4gICAgfVxyXG4gICAgZ2V0U2NhbGluZ0xvY2FsKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfbG9jYWwodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsb2NhbCAvIG9iamVjdCBzcGFjZSBzY2FsaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyBsb2NhbCBzY2FsaW5nIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2V0U2NhbGluZ0xvY2FsKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9zY2FsaW5nX2xvY2FsKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgZ2V0U2NhbGluZ1dvcmxkKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfd29ybGQodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBXb3JsZCBzcGFjZSBzY2FsaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyB3b3JsZCBzY2FsaW5nIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2V0U2NhbGluZ1dvcmxkKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9zY2FsaW5nX3dvcmxkKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgZ2V0Um90YXRpb25Mb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc19sb2NhbCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIC8qIFRoZSBmaXJzdCA0IGZsb2F0cyByZXByZXNlbnQgdGhlIHJvdGF0aW9uIHF1YXRlcm5pb24uICovXHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcclxuICAgICAgICBvdXRbM10gPSB3YXNtLkhFQVBGMzJbcHRyICsgM107XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxvY2FsIHNwYWNlIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyB3b3JsZCByb3RhdGlvbiBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgNCBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHNldFJvdGF0aW9uTG9jYWwodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3JvdGF0aW9uX2xvY2FsKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgZ2V0Um90YXRpb25Xb3JsZChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc193b3JsZCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIC8qIFRoZSBmaXJzdCA0IGZsb2F0cyByZXByZXNlbnQgdGhlIHJvdGF0aW9uIHF1YXRlcm5pb24uICovXHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcclxuICAgICAgICBvdXRbM10gPSB3YXNtLkhFQVBGMzJbcHRyICsgM107XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxvY2FsIHNwYWNlIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyB3b3JsZCByb3RhdGlvbiBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgNCBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHNldFJvdGF0aW9uV29ybGQodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3JvdGF0aW9uX3dvcmxkKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgZ2V0VHJhbnNmb3JtTG9jYWwob3V0ID0gbmV3IEZsb2F0MzJBcnJheSg4KSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfbG9jYWwodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xyXG4gICAgICAgIG91dFszXSA9IHdhc20uSEVBUEYzMltwdHIgKyAzXTtcclxuICAgICAgICBvdXRbNF0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNF07XHJcbiAgICAgICAgb3V0WzVdID0gd2FzbS5IRUFQRjMyW3B0ciArIDVdO1xyXG4gICAgICAgIG91dFs2XSA9IHdhc20uSEVBUEYzMltwdHIgKyA2XTtcclxuICAgICAgICBvdXRbN10gPSB3YXNtLkhFQVBGMzJbcHRyICsgN107XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxvY2FsIHNwYWNlIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyBsb2NhbCB0cmFuc2Zvcm0gYXJyYXksIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgOCBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHNldFRyYW5zZm9ybUxvY2FsKHYpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX2xvY2FsKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0cl0gPSB2WzBdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAxXSA9IHZbMV07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDJdID0gdlsyXTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgM10gPSB2WzNdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA0XSA9IHZbNF07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDVdID0gdls1XTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNl0gPSB2WzZdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA3XSA9IHZbN107XHJcbiAgICAgICAgdGhpcy5zZXREaXJ0eSgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgZ2V0VHJhbnNmb3JtV29ybGQob3V0ID0gbmV3IEZsb2F0MzJBcnJheSg4KSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGQodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xyXG4gICAgICAgIG91dFszXSA9IHdhc20uSEVBUEYzMltwdHIgKyAzXTtcclxuICAgICAgICBvdXRbNF0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNF07XHJcbiAgICAgICAgb3V0WzVdID0gd2FzbS5IRUFQRjMyW3B0ciArIDVdO1xyXG4gICAgICAgIG91dFs2XSA9IHdhc20uSEVBUEYzMltwdHIgKyA2XTtcclxuICAgICAgICBvdXRbN10gPSB3YXNtLkhFQVBGMzJbcHRyICsgN107XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdvcmxkIHNwYWNlIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyB3b3JsZCB0cmFuc2Zvcm0gYXJyYXksIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgOCBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHNldFRyYW5zZm9ybVdvcmxkKHYpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0cl0gPSB2WzBdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAxXSA9IHZbMV07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDJdID0gdlsyXTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgM10gPSB2WzNdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA0XSA9IHZbNF07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDVdID0gdls1XTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNl0gPSB2WzZdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA3XSA9IHZbN107XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF90cmFuc193b3JsZF90b19sb2NhbCh0aGlzLm9iamVjdElkKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9jYWwgc3BhY2UgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0VHJhbnNmb3JtTG9jYWx9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFRyYW5zZm9ybUxvY2FsfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBnZXQgdHJhbnNmb3JtTG9jYWwoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX29iamVjdF90cmFuc19sb2NhbCh0aGlzLm9iamVjdElkKSwgOCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsb2NhbCB0cmFuc2Zvcm0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHQgTG9jYWwgc3BhY2UgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC41XHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0VHJhbnNmb3JtTG9jYWx9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFRyYW5zZm9ybUxvY2FsfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBzZXQgdHJhbnNmb3JtTG9jYWwodCkge1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtTG9jYWwuc2V0KHQpO1xyXG4gICAgICAgIHRoaXMuc2V0RGlydHkoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2xvYmFsIC8gd29ybGQgc3BhY2UgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogTWF5IHJlY29tcHV0ZSB0cmFuc2Zvcm1hdGlvbnMgb2YgdGhlIGhpZXJhcmNoeSBvZiB0aGlzIG9iamVjdCxcclxuICAgICAqIGlmIHRoZXkgd2VyZSBjaGFuZ2VkIGJ5IEphdmFTY3JpcHQgY29tcG9uZW50cyB0aGlzIGZyYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFRyYW5zZm9ybVdvcmxkfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRUcmFuc2Zvcm1Xb3JsZH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IHRyYW5zZm9ybVdvcmxkKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGQodGhpcy5vYmplY3RJZCksIDgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd29ybGQgdHJhbnNmb3JtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0IEdsb2JhbCAvIHdvcmxkIHNwYWNlIHRyYW5zZm9ybWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguNVxyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFRyYW5zZm9ybVdvcmxkfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRUcmFuc2Zvcm1Xb3JsZH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgc2V0IHRyYW5zZm9ybVdvcmxkKHQpIHtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybVdvcmxkLnNldCh0KTtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkX3RvX2xvY2FsKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2NhbCAvIG9iamVjdCBzcGFjZSBzY2FsaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFNjYWxpbmdMb2NhbH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0U2NhbGluZ0xvY2FsfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBnZXQgc2NhbGluZ0xvY2FsKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9vYmplY3Rfc2NhbGluZ19sb2NhbCh0aGlzLm9iamVjdElkKSwgMyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsb2NhbCBzcGFjZSBzY2FsaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzIExvY2FsIHNwYWNlIHNjYWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0U2NhbGluZ0xvY2FsfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRTY2FsaW5nTG9jYWx9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHNldCBzY2FsaW5nTG9jYWwocykge1xyXG4gICAgICAgIHRoaXMuc2NhbGluZ0xvY2FsLnNldChzKTtcclxuICAgICAgICB0aGlzLnNldERpcnR5KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdsb2JhbCAvIHdvcmxkIHNwYWNlIHNjYWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogTWF5IHJlY29tcHV0ZSB0cmFuc2Zvcm1hdGlvbnMgb2YgdGhlIGhpZXJhcmNoeSBvZiB0aGlzIG9iamVjdCxcclxuICAgICAqIGlmIHRoZXkgd2VyZSBjaGFuZ2VkIGJ5IEphdmFTY3JpcHQgY29tcG9uZW50cyB0aGlzIGZyYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFNjYWxpbmdXb3JsZH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0U2NhbGluZ1dvcmxkfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBnZXQgc2NhbGluZ1dvcmxkKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9vYmplY3Rfc2NhbGluZ193b3JsZCh0aGlzLm9iamVjdElkKSwgMyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3b3JsZCBzcGFjZSBzY2FsaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0IFdvcmxkIHNwYWNlIHNjYWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0U2NhbGluZ1dvcmxkfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRTY2FsaW5nV29ybGR9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHNldCBzY2FsaW5nV29ybGQocykge1xyXG4gICAgICAgIHRoaXMuc2NhbGluZ1dvcmxkLnNldChzKTtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfd29ybGRfdG9fbG9jYWwodGhpcy5vYmplY3RJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvY2FsIHNwYWNlIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJvdGF0aW9uTG9jYWx9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELnNldFJvdGF0aW9uTG9jYWx9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIGdldCByb3RhdGlvbkxvY2FsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybUxvY2FsLnN1YmFycmF5KDAsIDQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHbG9iYWwgLyB3b3JsZCBzcGFjZSByb3RhdGlvblxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJvdGF0aW9uV29ybGR9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELnNldFJvdGF0aW9uV29ybGR9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIGdldCByb3RhdGlvbldvcmxkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybVdvcmxkLnN1YmFycmF5KDAsIDQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHIgTG9jYWwgc3BhY2Ugcm90YXRpb25cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRSb3RhdGlvbkxvY2FsfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5zZXRSb3RhdGlvbkxvY2FsfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBzZXQgcm90YXRpb25Mb2NhbChyKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfcm90YXRpb25fbG9jYWwodGhpcy5vYmplY3RJZCwgclswXSwgclsxXSwgclsyXSwgclszXSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3b3JsZCBzcGFjZSByb3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gciBHbG9iYWwgLyB3b3JsZCBzcGFjZSByb3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRSb3RhdGlvbldvcmxkfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5zZXRSb3RhdGlvbldvcmxkfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBzZXQgcm90YXRpb25Xb3JsZChyKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfcm90YXRpb25fd29ybGQodGhpcy5vYmplY3RJZCwgclswXSwgclsxXSwgclsyXSwgclszXSk7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0Rm9yd2FyZFdvcmxkfSBpbnN0ZWFkLiAqL1xyXG4gICAgZ2V0Rm9yd2FyZChvdXQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRGb3J3YXJkV29ybGQob3V0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29tcHV0ZSB0aGUgb2JqZWN0J3MgZm9yd2FyZCBmYWNpbmcgd29ybGQgc3BhY2UgdmVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBmb3J3YXJkIHZlY3RvciBpbiBvYmplY3Qgc3BhY2UgaXMgYWxvbmcgdGhlIG5lZ2F0aXZlIHotYXhpcywgaS5lLixcclxuICAgICAqIGBbMCwgMCwgLTFdYC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IERlc3RpbmF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICovXHJcbiAgICBnZXRGb3J3YXJkV29ybGQob3V0KSB7XHJcbiAgICAgICAgb3V0WzBdID0gMDtcclxuICAgICAgICBvdXRbMV0gPSAwO1xyXG4gICAgICAgIG91dFsyXSA9IC0xO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtVmVjdG9yV29ybGQob3V0KTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFVwV29ybGR9IGluc3RlYWQuICovXHJcbiAgICBnZXRVcChvdXQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRVcFdvcmxkKG91dCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbXB1dGUgdGhlIG9iamVjdCdzIHVwIGZhY2luZyB3b3JsZCBzcGFjZSB2ZWN0b3IuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBEZXN0aW5hdGlvbiBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqL1xyXG4gICAgZ2V0VXBXb3JsZChvdXQpIHtcclxuICAgICAgICBvdXRbMF0gPSAwO1xyXG4gICAgICAgIG91dFsxXSA9IDE7XHJcbiAgICAgICAgb3V0WzJdID0gMDtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybVZlY3RvcldvcmxkKG91dCk7XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRSaWdodFdvcmxkfSBpbnN0ZWFkLiAqL1xyXG4gICAgZ2V0UmlnaHQob3V0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmlnaHRXb3JsZChvdXQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wdXRlIHRoZSBvYmplY3QncyByaWdodCBmYWNpbmcgd29ybGQgc3BhY2UgdmVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgRGVzdGluYXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKi9cclxuICAgIGdldFJpZ2h0V29ybGQob3V0KSB7XHJcbiAgICAgICAgb3V0WzBdID0gMTtcclxuICAgICAgICBvdXRbMV0gPSAwO1xyXG4gICAgICAgIG91dFsyXSA9IDA7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1WZWN0b3JXb3JsZChvdXQpO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIHdvcmxkIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB2ZWN0b3JcclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGBcclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdHJhbnNmb3JtVmVjdG9yV29ybGQob3V0LCB2ID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHZbMF07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gdlsxXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSB2WzJdO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1WZWN0b3JXb3JsZCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSB2ZWN0b3IgYnkgdGhpcyBvYmplY3QncyBsb2NhbCB0cmFuc2Zvcm0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgdmVjdG9yXHJcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRyYW5zZm9ybVZlY3RvckxvY2FsKG91dCwgdiA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSB2WzBdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHZbMV07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gdlsyXTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtVmVjdG9yTG9jYWwodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgcG9pbnQgYnkgdGhpcyBvYmplY3QncyB3b3JsZCB0cmFuc2Zvcm0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgcG9pbnQuXHJcbiAgICAgKiBAcGFyYW0gcCBQb2ludCB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGAuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRyYW5zZm9ybVBvaW50V29ybGQob3V0LCBwID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHBbMF07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gcFsxXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSBwWzJdO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1Qb2ludFdvcmxkKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHBvaW50IGJ5IHRoaXMgb2JqZWN0J3MgbG9jYWwgdHJhbnNmb3JtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHBvaW50LlxyXG4gICAgICogQHBhcmFtIHAgUG9pbnQgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgLlxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICovXHJcbiAgICB0cmFuc2Zvcm1Qb2ludExvY2FsKG91dCwgcCA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSBwWzBdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHBbMV07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gcFsyXTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtUG9pbnRMb2NhbCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSB2ZWN0b3IgYnkgdGhpcyBvYmplY3QncyBpbnZlcnNlIHdvcmxkIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB2ZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgLlxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICovXHJcbiAgICB0cmFuc2Zvcm1WZWN0b3JJbnZlcnNlV29ybGQob3V0LCB2ID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHZbMF07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gdlsxXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSB2WzJdO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1WZWN0b3JJbnZlcnNlV29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgdmVjdG9yIGJ5IHRoaXMgb2JqZWN0J3MgaW52ZXJzZSBsb2NhbCB0cmFuc2Zvcm0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgdmVjdG9yXHJcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRyYW5zZm9ybVZlY3RvckludmVyc2VMb2NhbChvdXQsIHYgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gdlswXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSB2WzFdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHZbMl07XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVZlY3RvckludmVyc2VMb2NhbCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSBwb2ludCBieSB0aGlzIG9iamVjdCdzIGludmVyc2Ugd29ybGQgdHJhbnNmb3JtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHBvaW50LlxyXG4gICAgICogQHBhcmFtIHAgUG9pbnQgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgLlxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICovXHJcbiAgICB0cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZChvdXQsIHAgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gcFswXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSBwWzFdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHBbMl07XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHBvaW50IGJ5IHRoaXMgb2JqZWN0J3MgaW52ZXJzZSBsb2NhbCB0cmFuc2Zvcm0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgcG9pbnQuXHJcbiAgICAgKiBAcGFyYW0gcCBQb2ludCB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGAuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRyYW5zZm9ybVBvaW50SW52ZXJzZUxvY2FsKG91dCwgcCA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc2V0KHApO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1Qb2ludEludmVyc2VMb2NhbCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYW4gb2JqZWN0IHNwYWNlIGR1YWwgcXVhdGVybmlvbiBpbnRvIHdvcmxkIHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHRyYW5zZm9ybWF0aW9uLlxyXG4gICAgICogQHBhcmFtIHEgTG9jYWwgc3BhY2UgdHJhbnNmb3JtYXRpb24sIGRlZmF1bHQgYG91dGAuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRvV29ybGRTcGFjZVRyYW5zZm9ybShvdXQsIHEgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnNldChxKTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfdG9Xb3JsZFNwYWNlVHJhbnNmb3JtKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIG91dFszXSA9IHdhc20uX3RlbXBNZW1GbG9hdFszXTtcclxuICAgICAgICBvdXRbNF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNF07XHJcbiAgICAgICAgb3V0WzVdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzVdO1xyXG4gICAgICAgIG91dFs2XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs2XTtcclxuICAgICAgICBvdXRbN10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbN107XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgd29ybGQgc3BhY2UgZHVhbCBxdWF0ZXJuaW9uIGludG8gbG9jYWwgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgdHJhbnNmb3JtYXRpb25cclxuICAgICAqIEBwYXJhbSBxIFdvcmxkIHNwYWNlIHRyYW5zZm9ybWF0aW9uLCBkZWZhdWx0IGBvdXRgXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRvTG9jYWxTcGFjZVRyYW5zZm9ybShvdXQsIHEgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCBwID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgICAgaWYgKHApIHtcclxuICAgICAgICAgICAgcC50b09iamVjdFNwYWNlVHJhbnNmb3JtKG91dCwgcSk7XHJcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvdXQgIT09IHEpIHtcclxuICAgICAgICAgICAgb3V0WzBdID0gcVswXTtcclxuICAgICAgICAgICAgb3V0WzFdID0gcVsxXTtcclxuICAgICAgICAgICAgb3V0WzJdID0gcVsyXTtcclxuICAgICAgICAgICAgb3V0WzNdID0gcVszXTtcclxuICAgICAgICAgICAgb3V0WzRdID0gcVs0XTtcclxuICAgICAgICAgICAgb3V0WzVdID0gcVs1XTtcclxuICAgICAgICAgICAgb3V0WzZdID0gcVs2XTtcclxuICAgICAgICAgICAgb3V0WzddID0gcVs3XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgd29ybGQgc3BhY2UgZHVhbCBxdWF0ZXJuaW9uIGludG8gb2JqZWN0IHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHRyYW5zZm9ybWF0aW9uLlxyXG4gICAgICogQHBhcmFtIHEgV29ybGQgc3BhY2UgdHJhbnNmb3JtYXRpb24sIGRlZmF1bHQgYG91dGBcclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdG9PYmplY3RTcGFjZVRyYW5zZm9ybShvdXQsIHEgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnNldChxKTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfdG9PYmplY3RTcGFjZVRyYW5zZm9ybSh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICBvdXRbM10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbM107XHJcbiAgICAgICAgb3V0WzRdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzRdO1xyXG4gICAgICAgIG91dFs1XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs1XTtcclxuICAgICAgICBvdXRbNl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNl07XHJcbiAgICAgICAgb3V0WzddID0gd2FzbS5fdGVtcE1lbUZsb2F0WzddO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFR1cm4gdG93YXJkcyAvIGxvb2sgYXQgdGFyZ2V0LlxyXG4gICAgICpcclxuICAgICAqIFJvdGF0ZXMgdGhlIG9iamVjdCBzbyB0aGF0IGl0cyBmb3J3YXJkIHZlY3RvciBmYWNlcyB0b3dhcmRzIHRoZSB0YXJnZXRcclxuICAgICAqIHBvc2l0aW9uLiBUaGUgYHVwYCB2ZWN0b3IgYWN0cyBhcyBhIGhpbnQgdG8gdW5pcXVlbHkgb3JpZW50IHRoZSBvYmplY3Qnc1xyXG4gICAgICogdXAgZGlyZWN0aW9uLiBXaGVuIG9yaWVudGluZyBhIHZpZXcgY29tcG9uZW50LCB0aGUgcHJvamVjdGVkIGB1cGAgdmVjdG9yXHJcbiAgICAgKiBmYWNlcyB1cHdhcmRzIG9uIHRoZSB2aWV3aW5nIHBsYW5lLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwIFRhcmdldCBwb3NpdGlvbiB0byB0dXJuIHRvd2FyZHMsIGluIHdvcmxkIHNwYWNlLlxyXG4gICAgICogQHBhcmFtIHVwIFVwIHZlY3RvciB0byBhbGlnbiBvYmplY3Qgd2l0aCwgaW4gd29ybGQgc3BhY2UuIERlZmF1bHQgaXMgYFswLCAxLCAwXWAuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBsb29rQXQocCwgdXAgPSBVUF9WRUNUT1IpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X2xvb2tBdCh0aGlzLm9iamVjdElkLCBwWzBdLCBwWzFdLCBwWzJdLCB1cFswXSwgdXBbMV0sIHVwWzJdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBEZXN0cm95IHRoZSBvYmplY3Qgd2l0aCBhbGwgb2YgaXRzIGNvbXBvbmVudHMgYW5kIHJlbW92ZSBpdCBmcm9tIHRoZSBzY2VuZSAqL1xyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fb2JqZWN0SWQgPCAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5lbmdpbmUud2FzbS5fd2xfc2NlbmVfcmVtb3ZlX29iamVjdCh0aGlzLl9vYmplY3RJZCk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUuX2Rlc3Ryb3lPYmplY3QodGhpcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE1hcmsgdHJhbnNmb3JtYXRpb24gZGlydHkuXHJcbiAgICAgKlxyXG4gICAgICogQ2F1c2VzIGFuIGV2ZW50dWFsIHJlY2FsY3VsYXRpb24gb2Yge0BsaW5rIHRyYW5zZm9ybVdvcmxkfSwgZWl0aGVyXHJcbiAgICAgKiBvbiBuZXh0IHtAbGluayBnZXRUcmFuc2xhdGlvbldvcmxkfSwge0BsaW5rIHRyYW5zZm9ybVdvcmxkfSBvclxyXG4gICAgICoge0BsaW5rIHNjYWxpbmdXb3JsZH0gb3IgdGhlIGJlZ2lubmluZyBvZiBuZXh0IGZyYW1lLCB3aGljaGV2ZXJcclxuICAgICAqIGhhcHBlbnMgZmlyc3QuXHJcbiAgICAgKi9cclxuICAgIHNldERpcnR5KCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X2RpcnR5KHRoaXMub2JqZWN0SWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNhYmxlL2VuYWJsZSBhbGwgY29tcG9uZW50cyBvZiB0aGlzIG9iamVjdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYiBOZXcgc3RhdGUgZm9yIHRoZSBjb21wb25lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguNVxyXG4gICAgICovXHJcbiAgICBzZXQgYWN0aXZlKGIpIHtcclxuICAgICAgICBjb25zdCBjb21wcyA9IHRoaXMuZ2V0Q29tcG9uZW50cygpO1xyXG4gICAgICAgIGZvciAobGV0IGMgb2YgY29tcHMpIHtcclxuICAgICAgICAgICAgYy5hY3RpdmUgPSBiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldENvbXBvbmVudCh0eXBlT3JDbGFzcywgaW5kZXggPSAwKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGlzU3RyaW5nKHR5cGVPckNsYXNzKSA/IHR5cGVPckNsYXNzIDogdHlwZU9yQ2xhc3MuVHlwZU5hbWU7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFR5cGUgPSB3YXNtLl93bF9nZXRfY29tcG9uZW50X21hbmFnZXJfaW5kZXgod2FzbS50ZW1wVVRGOCh0eXBlKSk7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudFR5cGUgPCAwKSB7XHJcbiAgICAgICAgICAgIC8qIE5vdCBhIG5hdGl2ZSBjb21wb25lbnQsIHRyeSBqczogKi9cclxuICAgICAgICAgICAgY29uc3QgdHlwZUluZGV4ID0gd2FzbS5fY29tcG9uZW50VHlwZUluZGljZXNbdHlwZV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlSW5kZXggPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICBjb25zdCBqc0luZGV4ID0gd2FzbS5fd2xfZ2V0X2pzX2NvbXBvbmVudF9pbmRleCh0aGlzLm9iamVjdElkLCB0eXBlSW5kZXgsIGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKGpzSW5kZXggPCAwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuX2VuZ2luZS53YXNtLl9jb21wb25lbnRzW2pzSW5kZXhdO1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LmNvbnN0cnVjdG9yICE9PSBCcm9rZW5Db21wb25lbnQgPyBjb21wb25lbnQgOiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9nZXRfY29tcG9uZW50X2lkKHRoaXMub2JqZWN0SWQsIGNvbXBvbmVudFR5cGUsIGluZGV4KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLl93cmFwQ29tcG9uZW50KHR5cGUsIGNvbXBvbmVudFR5cGUsIGNvbXBvbmVudElkKTtcclxuICAgIH1cclxuICAgIGdldENvbXBvbmVudHModHlwZU9yQ2xhc3MpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFR5cGUgPSBudWxsO1xyXG4gICAgICAgIGxldCB0eXBlID0gbnVsbDtcclxuICAgICAgICBpZiAodHlwZU9yQ2xhc3MpIHtcclxuICAgICAgICAgICAgdHlwZSA9IGlzU3RyaW5nKHR5cGVPckNsYXNzKSA/IHR5cGVPckNsYXNzIDogdHlwZU9yQ2xhc3MuVHlwZU5hbWU7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudFR5cGUgPSB3YXNtLl90eXBlSW5kZXhGb3IodHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHMgPSBbXTtcclxuICAgICAgICBjb25zdCBtYXhDb21wcyA9IE1hdGguZmxvb3IoKHdhc20uX3RlbXBNZW1TaXplIC8gMykgKiAyKTtcclxuICAgICAgICBjb25zdCBjb21wb25lbnRzQ291bnQgPSB3YXNtLl93bF9vYmplY3RfZ2V0X2NvbXBvbmVudHModGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSwgbWF4Q29tcHMpO1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IDIgKiBjb21wb25lbnRzQ291bnQ7XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X2dldF9jb21wb25lbnRfdHlwZXModGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSArIG9mZnNldCwgbWF4Q29tcHMpO1xyXG4gICAgICAgIGNvbnN0IGpzTWFuYWdlckluZGV4ID0gd2FzbS5fanNNYW5hZ2VySW5kZXg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21wb25lbnRzQ291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCB0ID0gd2FzbS5fdGVtcE1lbVVpbnQ4W2kgKyBvZmZzZXRdO1xyXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IHdhc20uX3RlbXBNZW1VaW50MTZbaV07XHJcbiAgICAgICAgICAgIC8qIEhhbmRsZSBKUyB0eXBlcyBzZXBhcmF0ZWx5ICovXHJcbiAgICAgICAgICAgIGlmICh0ID09IGpzTWFuYWdlckluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlSW5kZXggPSB3YXNtLl93bF9nZXRfanNfY29tcG9uZW50X2luZGV4X2Zvcl9pZChjb21wb25lbnRJZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wID0gd2FzbS5fY29tcG9uZW50c1t0eXBlSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IGNvbXBvbmVudFR5cGUgPT09IG51bGwgfHwgY29tcC50eXBlID09IHR5cGU7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcC5jb25zdHJ1Y3RvciAhPT0gQnJva2VuQ29tcG9uZW50ICYmIG1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzLnB1c2goY29tcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50VHlwZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFuYWdlck5hbWUgPSB3YXNtLl90eXBlTmFtZUZvcih0KTtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHMucHVzaCh0aGlzLl9lbmdpbmUuX3dyYXBDb21wb25lbnQobWFuYWdlck5hbWUsIHQsIGNvbXBvbmVudElkKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodCA9PSBjb21wb25lbnRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBPcHRpbWl6ZWQgbWFuYWdlciBuYW1lIHJldHJpZXZhbCwgYWxyZWFkeSBoYXZlIHR5cGUgKi9cclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHMucHVzaCh0aGlzLl9lbmdpbmUuX3dyYXBDb21wb25lbnQodHlwZSwgY29tcG9uZW50VHlwZSwgY29tcG9uZW50SWQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29tcG9uZW50cztcclxuICAgIH1cclxuICAgIGFkZENvbXBvbmVudCh0eXBlT3JDbGFzcywgcGFyYW1zKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBpc1N0cmluZyh0eXBlT3JDbGFzcykgPyB0eXBlT3JDbGFzcyA6IHR5cGVPckNsYXNzLlR5cGVOYW1lO1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFR5cGUgPSB3YXNtLl90eXBlSW5kZXhGb3IodHlwZSk7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudCA9IG51bGw7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudEluZGV4ID0gbnVsbDtcclxuICAgICAgICBpZiAoY29tcG9uZW50VHlwZSA8IDApIHtcclxuICAgICAgICAgICAgLyogSmF2YVNjcmlwdCBjb21wb25lbnQgKi9cclxuICAgICAgICAgICAgaWYgKCEodHlwZSBpbiB3YXNtLl9jb21wb25lbnRUeXBlSW5kaWNlcykpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGNvbXBvbmVudCB0eXBlICdcIiArIHR5cGUgKyBcIidcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB3YXNtLl93bF9vYmplY3RfYWRkX2pzX2NvbXBvbmVudCh0aGlzLm9iamVjdElkLCB3YXNtLl9jb21wb25lbnRUeXBlSW5kaWNlc1t0eXBlXSk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudEluZGV4ID0gd2FzbS5fd2xfZ2V0X2pzX2NvbXBvbmVudF9pbmRleF9mb3JfaWQoY29tcG9uZW50SWQpO1xyXG4gICAgICAgICAgICBjb21wb25lbnQgPSB3YXNtLl9jb21wb25lbnRzW2NvbXBvbmVudEluZGV4XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8qIG5hdGl2ZSBjb21wb25lbnQgKi9cclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB3YXNtLl93bF9vYmplY3RfYWRkX2NvbXBvbmVudCh0aGlzLm9iamVjdElkLCBjb21wb25lbnRUeXBlKTtcclxuICAgICAgICAgICAgY29tcG9uZW50ID0gdGhpcy5fZW5naW5lLl93cmFwQ29tcG9uZW50KHR5cGUsIGNvbXBvbmVudFR5cGUsIGNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICBjb21wb25lbnQuY29weShwYXJhbXMpO1xyXG4gICAgICAgIC8qIEV4cGxpY2l0bHkgaW5pdGlhbGl6ZSBuYXRpdmUgY29tcG9uZW50cyAqL1xyXG4gICAgICAgIGlmIChjb21wb25lbnRUeXBlIDwgMCkge1xyXG4gICAgICAgICAgICAvKiBAdG9kbzogYGNvbXBvbmVudEluZGV4YCBjYW4gYmUgbnVsbCBoZXJlLCB0aGF0J3MgYW4gZXJyb3IgKi9cclxuICAgICAgICAgICAgd2FzbS5fd2xqc19jb21wb25lbnRfaW5pdChjb21wb25lbnRJbmRleCk7XHJcbiAgICAgICAgICAgIC8qIHN0YXJ0KCkgaXMgY2FsbGVkIHRocm91Z2ggb25BY3RpdmF0ZSgpICovXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIElmIGl0IHdhcyBub3QgZXhwbGljaXRseSByZXF1ZXN0ZWQgYnkgdGhlIHVzZXIgdG8gbGVhdmUgdGhlIGNvbXBvbmVudCBpbmFjdGl2ZSxcclxuICAgICAgICAgKiB3ZSBhY3RpdmF0ZSBpdCBhcyBhIGZpbmFsIHN0ZXAuIFRoaXMgaW52YWxpZGF0ZXMgY29tcG9uZW50SW5kZXghICovXHJcbiAgICAgICAgaWYgKCFwYXJhbXMgfHwgISgnYWN0aXZlJyBpbiBwYXJhbXMgJiYgIXBhcmFtcy5hY3RpdmUpKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZWFyY2ggZm9yIGRlc2NlbmRhbnRzIG1hdGNoaW5nIHRoZSBuYW1lLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGEgd3JhcHBlciBhcm91bmQge0BsaW5rIE9iamVjdDNELmZpbmRCeU5hbWVEaXJlY3R9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELmZpbmRCeU5hbWVSZWN1cnNpdmV9LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIHRvIHNlYXJjaCBmb3IuXHJcbiAgICAgKiBAcGFyYW0gcmVjdXJzaXZlIElmIGB0cnVlYCwgdGhlIG1ldGhvZCB3aWxsIGxvb2sgYXQgYWxsIHRoZSBkZXNjZW5kYW50cyBvZiB0aGlzIG9iamVjdC5cclxuICAgICAqICAgICBJZiBgZmFsc2VgLCB0aGlzIG1ldGhvZCB3aWxsIG9ubHkgcGVyZm9ybSB0aGUgc2VhcmNoIGluIGRpcmVjdCBjaGlsZHJlbi5cclxuICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHtAbGluayBPYmplY3QzRH0gbWF0Y2hpbmcgdGhlIG5hbWUuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMS4wXHJcbiAgICAgKi9cclxuICAgIGZpbmRCeU5hbWUobmFtZSwgcmVjdXJzaXZlID0gZmFsc2UpIHtcclxuICAgICAgICByZXR1cm4gcmVjdXJzaXZlID8gdGhpcy5maW5kQnlOYW1lUmVjdXJzaXZlKG5hbWUpIDogdGhpcy5maW5kQnlOYW1lRGlyZWN0KG5hbWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZWFyY2ggZm9yIGFsbCAqKmRpcmVjdCoqIGNoaWxkcmVuIG1hdGNoaW5nIHRoZSBuYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIEV2ZW4gdGhvdWdoIHRoaXMgbWV0aG9kIGlzIGhlYXZpbHkgb3B0aW1pemVkLCBpdCBkb2VzIHBlcmZvcm1cclxuICAgICAqIGEgbGluZWFyIHNlYXJjaCB0byBmaW5kIHRoZSBvYmplY3RzLiBEbyBub3QgdXNlIGluIGEgaG90IHBhdGguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgdG8gc2VhcmNoIGZvci5cclxuICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHtAbGluayBPYmplY3QzRH0gbWF0Y2hpbmcgdGhlIG5hbWUuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMS4wXHJcbiAgICAgKi9cclxuICAgIGZpbmRCeU5hbWVEaXJlY3QobmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX29iamVjdElkO1xyXG4gICAgICAgIC8qIERpdmlkZSBieSA0IHRvIGdldCBoYWxmIGFzIG1hbnkgdXNob3J0IGFzIHBvc3NpYmxlICovXHJcbiAgICAgICAgY29uc3QgdGVtcFNpemVVMTYgPSB3YXNtLl90ZW1wTWVtU2l6ZSA+PiAyO1xyXG4gICAgICAgIGNvbnN0IG1heENvdW50ID0gdGVtcFNpemVVMTYgLSAyOyAvKiBSZXNlcnZlIHR3byB1c2hvcnQgKi9cclxuICAgICAgICBjb25zdCBidWZmZXIgPSB3YXNtLl90ZW1wTWVtVWludDE2O1xyXG4gICAgICAgIGJ1ZmZlclttYXhDb3VudF0gPSAwOyAvKiBJbmRleCBvZmZzZXQgKi9cclxuICAgICAgICBidWZmZXJbbWF4Q291bnQgKyAxXSA9IDA7IC8qIGNoaWxkIGNvdW50ICovXHJcbiAgICAgICAgY29uc3QgYnVmZmVyUHRyID0gd2FzbS5fdGVtcE1lbTtcclxuICAgICAgICBjb25zdCBpbmRleFB0ciA9IGJ1ZmZlclB0ciArIG1heENvdW50ICogMjtcclxuICAgICAgICBjb25zdCBjaGlsZENvdW50UHRyID0gYnVmZmVyUHRyICsgbWF4Q291bnQgKiAyICsgMjtcclxuICAgICAgICBjb25zdCBuYW1lUHRyID0gd2FzbS50ZW1wVVRGOChuYW1lLCAobWF4Q291bnQgKyAyKSAqIDIpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGxldCByZWFkID0gMDtcclxuICAgICAgICB3aGlsZSAoKHJlYWQgPSB3YXNtLl93bF9vYmplY3RfZmluZEJ5TmFtZShpZCwgbmFtZVB0ciwgaW5kZXhQdHIsIGNoaWxkQ291bnRQdHIsIGJ1ZmZlclB0ciwgbWF4Q291bnQpKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlYWQ7ICsraSlcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuZW5naW5lLndyYXBPYmplY3QoYnVmZmVyW2ldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNlYXJjaCBmb3IgKiphbGwgZGVzY2VuZGFudHMqKiBtYXRjaGluZyB0aGUgbmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBFdmVuIHRob3VnaCB0aGlzIG1ldGhvZCBpcyBoZWF2aWx5IG9wdGltaXplZCwgaXQgZG9lcyBwZXJmb3JtXHJcbiAgICAgKiBhIGxpbmVhciBzZWFyY2ggdG8gZmluZCB0aGUgb2JqZWN0cy4gRG8gbm90IHVzZSBpbiBhIGhvdCBwYXRoLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIHRvIHNlYXJjaCBmb3IuXHJcbiAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB7QGxpbmsgT2JqZWN0M0R9IG1hdGNoaW5nIHRoZSBuYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjEuMFxyXG4gICAgICovXHJcbiAgICBmaW5kQnlOYW1lUmVjdXJzaXZlKG5hbWUpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9vYmplY3RJZDtcclxuICAgICAgICAvKiBEaXZpZGUgYnkgNCB0byBnZXQgaGFsZiBhcyBtYW55IHVzaG9ydCBhcyBwb3NzaWJsZSAqL1xyXG4gICAgICAgIGNvbnN0IHRlbXBTaXplVTE2ID0gd2FzbS5fdGVtcE1lbVNpemUgPj4gMjtcclxuICAgICAgICBjb25zdCBtYXhDb3VudCA9IHRlbXBTaXplVTE2IC0gMTsgLyogUmVzZXJ2ZSBvbmUgdXNob3J0ICovXHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gd2FzbS5fdGVtcE1lbVVpbnQxNjtcclxuICAgICAgICBidWZmZXJbbWF4Q291bnRdID0gMDsgLyogSW5kZXggb2Zmc2V0ICovXHJcbiAgICAgICAgY29uc3QgYnVmZmVyUHRyID0gd2FzbS5fdGVtcE1lbTtcclxuICAgICAgICBjb25zdCBpbmRleFB0ciA9IGJ1ZmZlclB0ciArIG1heENvdW50ICogMjtcclxuICAgICAgICBjb25zdCBuYW1lUHRyID0gd2FzbS50ZW1wVVRGOChuYW1lLCAobWF4Q291bnQgKyAxKSAqIDIpO1xyXG4gICAgICAgIGxldCByZWFkID0gMDtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcclxuICAgICAgICB3aGlsZSAoKHJlYWQgPSB3YXNtLl93bF9vYmplY3RfZmluZEJ5TmFtZVJlY3Vyc2l2ZShpZCwgbmFtZVB0ciwgaW5kZXhQdHIsIGJ1ZmZlclB0ciwgbWF4Q291bnQpKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlYWQ7ICsraSlcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuZW5naW5lLndyYXBPYmplY3QoYnVmZmVyW2ldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgZ2l2ZW4gb2JqZWN0J3MgdHJhbnNmb3JtYXRpb24gaGFzIGNoYW5nZWQuXHJcbiAgICAgKi9cclxuICAgIGdldCBjaGFuZ2VkKCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfaXNfY2hhbmdlZCh0aGlzLm9iamVjdElkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYHRydWVgIGlmIHRoZSBvYmplY3QgaXMgZGVzdHJveWVkLCBgZmFsc2VgIG90aGVyd2lzZS5cclxuICAgICAqXHJcbiAgICAgKiBJZiB7QGxpbmsgV29uZGVybGFuZEVuZ2luZS5lcmFzZVByb3RvdHlwZU9uRGVzdHJveX0gaXMgYHRydWVgLFxyXG4gICAgICogcmVhZGluZyBhIGN1c3RvbSBwcm9wZXJ0eSB3aWxsIG5vdCB3b3JrOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBlbmdpbmUuZXJhc2VQcm90b3R5cGVPbkRlc3Ryb3kgPSB0cnVlO1xyXG4gICAgICpcclxuICAgICAqIGNvbnN0IG9iaiA9IHNjZW5lLmFkZE9iamVjdCgpO1xyXG4gICAgICogb2JqLmN1c3RvbVBhcmFtID0gJ0hlbGxvIFdvcmxkISc7XHJcbiAgICAgKlxyXG4gICAgICogY29uc29sZS5sb2cob2JqLmlzRGVzdHJveWVkKTsgLy8gUHJpbnRzIGBmYWxzZWBcclxuICAgICAqIG9iai5kZXN0cm95KCk7XHJcbiAgICAgKiBjb25zb2xlLmxvZyhvYmouaXNEZXN0cm95ZWQpOyAvLyBQcmludHMgYHRydWVgXHJcbiAgICAgKiBjb25zb2xlLmxvZyhvYmouY3VzdG9tUGFyYW0pOyAvLyBUaHJvd3MgYW4gZXJyb3JcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjEuMVxyXG4gICAgICovXHJcbiAgICBnZXQgaXNEZXN0cm95ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29iamVjdElkIDwgMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBvYmplY3QgaWRzIGFyZVxyXG4gICAgICogZXF1YWwuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyT2JqZWN0IE9iamVjdCB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxyXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIG9iamVjdCBlcXVhbHMgdGhlIGdpdmVuIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgZXF1YWxzKG90aGVyT2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKCFvdGhlck9iamVjdClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9iamVjdElkID09IG90aGVyT2JqZWN0Lm9iamVjdElkO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBXcmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSBza2luIGRhdGEuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2tpbiB7XHJcbiAgICAvKipcclxuICAgICAqIEluZGV4IG9mIHRoZSBza2luIGluIHRoZSBtYW5hZ2VyLlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfaW5kZXg7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgIHRoaXMuX2luZGV4ID0gaW5kZXg7XHJcbiAgICB9XHJcbiAgICAvKiogQW1vdW50IG9mIGpvaW50cyBpbiB0aGlzIHNraW4uICovXHJcbiAgICBnZXQgam9pbnRDb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3NraW5fZ2V0X2pvaW50X2NvdW50KHRoaXMuX2luZGV4KTtcclxuICAgIH1cclxuICAgIC8qKiBKb2ludHMgb2JqZWN0IGlkcyBmb3IgdGhpcyBza2luICovXHJcbiAgICBnZXQgam9pbnRJZHMoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiBuZXcgVWludDE2QXJyYXkod2FzbS5IRUFQVTE2LmJ1ZmZlciwgd2FzbS5fd2xfc2tpbl9qb2ludF9pZHModGhpcy5faW5kZXgpLCB0aGlzLmpvaW50Q291bnQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEdWFsIHF1YXRlcm5pb25zIGluIGEgZmxhdCBhcnJheSBvZiBzaXplIDggdGltZXMge0BsaW5rIGpvaW50Q291bnR9LlxyXG4gICAgICpcclxuICAgICAqIEludmVyc2UgYmluZCB0cmFuc2Zvcm1zIG9mIHRoZSBza2luLlxyXG4gICAgICovXHJcbiAgICBnZXQgaW52ZXJzZUJpbmRUcmFuc2Zvcm1zKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9za2luX2ludmVyc2VfYmluZF90cmFuc2Zvcm1zKHRoaXMuX2luZGV4KSwgOCAqIHRoaXMuam9pbnRDb3VudCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFZlY3RvcnMgaW4gYSBmbGF0IGFycmF5IG9mIHNpemUgMyB0aW1lcyB7QGxpbmsgam9pbnRDb3VudH0uXHJcbiAgICAgKlxyXG4gICAgICogSW52ZXJzZSBiaW5kIHNjYWxpbmdzIG9mIHRoZSBza2luLlxyXG4gICAgICovXHJcbiAgICBnZXQgaW52ZXJzZUJpbmRTY2FsaW5ncygpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfc2tpbl9pbnZlcnNlX2JpbmRfc2NhbGluZ3ModGhpcy5faW5kZXgpLCAzICogdGhpcy5qb2ludENvdW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBza2luIGlkcyBhcmVcclxuICAgICAqIGVxdWFsLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdGhlclNraW4gU2tpbiB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxyXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIHNraW4gZXF1YWxzIHRoZSBnaXZlbiBza2luLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBlcXVhbHMob3RoZXJTa2luKSB7XHJcbiAgICAgICAgaWYgKCFvdGhlclNraW4pXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXggPT09IG90aGVyU2tpbi5faW5kZXg7XHJcbiAgICB9XHJcbn1cclxuLyogRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCA8IDEuMC4wLiAqL1xyXG5leHBvcnQgeyBPYmplY3QzRCBhcyBPYmplY3QgfTtcclxuLyoqXHJcbiAqIFJheSBoaXQuXHJcbiAqXHJcbiAqIFJlc3VsdCBvZiBhIHtAbGluayBTY2VuZS5yYXlDYXN0fS5cclxuICpcclxuICogQG5vdGUgdGhpcyBjbGFzcyB3cmFwcyBpbnRlcm5hbCBlbmdpbmUgZGF0YSBhbmQgc2hvdWxkIG9ubHkgYmUgY3JlYXRlZCBpbnRlcm5hbGx5LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJheUhpdCB7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKiogUG9pbnRlciB0byB0aGUgbWVtb3J5IGhlYXAuICovXHJcbiAgICBfcHRyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gcHRyIFBvaW50ZXIgdG8gdGhlIHJheSBoaXRzIG1lbW9yeS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBwdHIpIHtcclxuICAgICAgICBpZiAoKHB0ciAmIDMpICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzYWxpZ25lZCBwb2ludGVyOiBwbGVhc2UgcmVwb3J0IGEgYnVnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgICAgICB0aGlzLl9wdHIgPSBwdHI7XHJcbiAgICB9XHJcbiAgICAvKiogQXJyYXkgb2YgcmF5IGhpdCBsb2NhdGlvbnMuICovXHJcbiAgICBnZXQgbG9jYXRpb25zKCkge1xyXG4gICAgICAgIGxldCBwID0gdGhpcy5fcHRyO1xyXG4gICAgICAgIGxldCBsID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmhpdENvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgbC5wdXNoKG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fZW5naW5lLndhc20uSEVBUEYzMi5idWZmZXIsIHAgKyAxMiAqIGksIDMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGw7XHJcbiAgICB9XHJcbiAgICAvKiogQXJyYXkgb2YgcmF5IGhpdCBub3JtYWxzIChvbmx5IHdoZW4gdXNpbmcge0BsaW5rIFBoeXNpY3MjcmF5Q2FzdH0uICovXHJcbiAgICBnZXQgbm9ybWFscygpIHtcclxuICAgICAgICBsZXQgcCA9IHRoaXMuX3B0ciArIDQ4O1xyXG4gICAgICAgIGxldCBsID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmhpdENvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgbC5wdXNoKG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fZW5naW5lLndhc20uSEVBUEYzMi5idWZmZXIsIHAgKyAxMiAqIGksIDMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFByZWZlciB0aGVzZSB0byByZWNhbGN1bGF0aW5nIHRoZSBkaXN0YW5jZSBmcm9tIGxvY2F0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBEaXN0YW5jZXMgb2YgYXJyYXkgaGl0cyB0byByYXkgb3JpZ2luLlxyXG4gICAgICovXHJcbiAgICBnZXQgZGlzdGFuY2VzKCkge1xyXG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLl9wdHIgKyA0OCAqIDI7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fZW5naW5lLndhc20uSEVBUEYzMi5idWZmZXIsIHAsIHRoaXMuaGl0Q291bnQpO1xyXG4gICAgfVxyXG4gICAgLyoqIEhpdCBvYmplY3RzICovXHJcbiAgICBnZXQgb2JqZWN0cygpIHtcclxuICAgICAgICBjb25zdCBIRUFQVTE2ID0gdGhpcy5fZW5naW5lLndhc20uSEVBUFUxNjtcclxuICAgICAgICBjb25zdCBvYmplY3RzID0gW251bGwsIG51bGwsIG51bGwsIG51bGxdO1xyXG4gICAgICAgIGxldCBwID0gKHRoaXMuX3B0ciArICg0OCAqIDIgKyAxNikpID4+IDE7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmhpdENvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgb2JqZWN0c1tpXSA9IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KEhFQVBVMTZbcCArIGldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9iamVjdHM7XHJcbiAgICB9XHJcbiAgICAvKiogTnVtYmVyIG9mIGhpdHMgKG1heCA0KSAqL1xyXG4gICAgZ2V0IGhpdENvdW50KCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLl9lbmdpbmUud2FzbS5IRUFQVTMyW3RoaXMuX3B0ciAvIDQgKyAzMF0sIDQpO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIG1hdGgge1xyXG4gICAgLyoqIChFeHBlcmltZW50YWwhKSBDdWJpYyBIZXJtaXRlIHNwbGluZSBpbnRlcnBvbGF0aW9uIGZvciB2ZWN0b3IzIGFuZCBxdWF0ZXJuaW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBXaXRoIGBmID09IDBgLCBgb3V0YCB3aWxsIGJlIGBiYCwgaWYgYGYgPT0gMWAsIGBvdXRgIHdpbGwgYmUgYy5cclxuICAgICAqXHJcbiAgICAgKiBXaGV0aGVyIGEgcXVhdGVybmlvbiBvciB2ZWN0b3IzIGludGVycG9sYXRpb24gaXMgaW50ZW5kZWQgaXMgZGV0ZXJtaW5lZCBieVxyXG4gICAgICogbGVuZ3RoIG9mIGBhYC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IEFycmF5IHRvIHdyaXRlIHJlc3VsdCB0by5cclxuICAgICAqIEBwYXJhbSBhIEZpcnN0IHRhbmdlbnQvaGFuZGxlLlxyXG4gICAgICogQHBhcmFtIGIgRmlyc3QgcG9pbnQgb3IgcXVhdGVybmlvbi5cclxuICAgICAqIEBwYXJhbSBjIFNlY29uZCBwb2ludCBvciBxdWF0ZXJuaW9uLlxyXG4gICAgICogQHBhcmFtIGQgU2Vjb25kIGhhbmRsZS5cclxuICAgICAqIEBwYXJhbSBmIEludGVycG9sYXRpb24gZmFjdG9yIGluIFswOyAxXS5cclxuICAgICAqIEByZXR1cm5zIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC42XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjdWJpY0hlcm1pdGUob3V0LCBhLCBiLCBjLCBkLCBmLCBlbmdpbmUgPSBXTCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSBlbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc3ViYXJyYXkoMCkuc2V0KGEpO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zdWJhcnJheSg0KS5zZXQoYik7XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnN1YmFycmF5KDgpLnNldChjKTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc3ViYXJyYXkoMTIpLnNldChkKTtcclxuICAgICAgICBjb25zdCBpc1F1YXQgPSBhLmxlbmd0aCA9PSA0O1xyXG4gICAgICAgIHdhc20uX3dsX21hdGhfY3ViaWNIZXJtaXRlKHdhc20uX3RlbXBNZW0gKyA0ICogMTYsIHdhc20uX3RlbXBNZW0gKyA0ICogMCwgd2FzbS5fdGVtcE1lbSArIDQgKiA0LCB3YXNtLl90ZW1wTWVtICsgNCAqIDgsIHdhc20uX3RlbXBNZW0gKyA0ICogMTIsIGYsIGlzUXVhdCk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzE2XTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMTddO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxOF07XHJcbiAgICAgICAgaWYgKGlzUXVhdClcclxuICAgICAgICAgICAgb3V0WzNdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzE5XTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IG1hdGggfTtcclxuLyoqXHJcbiAqIENsYXNzIGZvciBhY2Nlc3NpbmcgaW50ZXJuYXRpb25hbGl6YXRpb24gKGkxOG4pIGZlYXR1cmVzLlxyXG4gKlxyXG4gKiBBbGxvd3Mge0BsaW5rIEkxOE4ub25MYW5ndWFnZUNoYW5nZWQgXCJkZXRlY3RpbmcgbGFuZ3VhZ2UgY2hhbmdlXCJ9LFxyXG4gKiB7QGxpbmsgSTE4Ti5sYW5ndWFnZSBcInNldHRpbmcgdGhlIGN1cnJlbnQgbGFuZ3VhZ2VcIn0gb3IgdHJhbnNsYXRpbmdcclxuICoge0BsaW5rIEkxOE4udHJhbnNsYXRlIFwiaW5kaXZpZHVhbCB0ZXJtc1wifS5cclxuICpcclxuICogSW50ZXJuYXRpb25hbGl6YXRpb24gd29ya3Mgd2l0aCB0ZXJtcyxcclxuICogYSBzdHJpbmcgdHlwZSBrZXl3b3JkIHRoYXQgaXMgbGlua2VkIHRvIGEgZGlmZmVyZW50IHRleHQgZm9yIGVhY2ggbGFuZ3VhZ2UuXHJcbiAqXHJcbiAqIEludGVybmFsbHksIHN0cmluZyBwYXJhbWV0ZXJzIGZvciB0ZXh0IGFuZCBqcyBjb21wb25lbnRzIGFyZVxyXG4gKiBhdXRvbWF0aWNhbGx5IHN3YXBwZWQgZHVyaW5nIGxhbmd1YWdlIGNoYW5nZSwgZ2l2ZW4gdGhleSBhcmUgbGlua2VkIHRvIGEgdGVybS5cclxuICogSWYgbWFudWFsIHRleHQgc3dhcHBpbmcgaXMgZGVzaXJlZCwge0BsaW5rIEkxOE4udHJhbnNsYXRlfVxyXG4gKiBjYW4gYmUgdXNlZCB0byByZXRyaWV2ZSB0aGUgY3VycmVudCB0cmFuc2xhdGlvbiBmb3IgYW55IHRlcm0uXHJcbiAqXHJcbiAqIFlvdSBjYW4gYWxzbyB1c2UgdGhlIHtAbGluayBJMThOLm9uTGFuZ3VhZ2VDaGFuZ2VkfSB0byBtYW51YWxseSB1cGRhdGUgdGV4dFxyXG4gKiB3aGVuIGEgbGFuZ3VhZ2UgaXMgY2hhbmdlZCB0byBmb3IgZXhhbXBsZSB1cGRhdGUgYSBudW1iZXIgaW4gYSBzdHJpbmcuXHJcbiAqXHJcbiAqIEBzaW5jZSAxLjAuMFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEkxOE4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiB7QGxpbmsgRW1pdHRlcn0gZm9yIGxhbmd1YWdlIGNoYW5nZSBldmVudHMuXHJcbiAgICAgKlxyXG4gICAgICogRmlyc3QgcGFyYW1ldGVyIHRvIGEgbGlzdGVuZXIgaXMgdGhlIG9sZCBsYW5ndWFnZSBpbmRleCxcclxuICAgICAqIHNlY29uZCBwYXJhbWV0ZXIgaXMgdGhlIG5ldyBsYW5ndWFnZSBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBVc2FnZSBmcm9tIGEgd2l0aGluIGEgY29tcG9uZW50OlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiB0aGlzLmVuZ2luZS5pMThuLm9uTGFuZ3VhZ2VDaGFuZ2VkLmFkZCgob2xkTGFuZ3VhZ2VJbmRleCwgbmV3TGFuZ3VhZ2VJbmRleCkgPT4ge1xyXG4gICAgICogICAgIGNvbnN0IG9sZExhbmd1YWdlID0gdGhpcy5lbmdpbmUuaTE4bi5sYW5ndWFnZU5hbWUob2xkTGFuZ3VhZ2VJbmRleCk7XHJcbiAgICAgKiAgICAgY29uc3QgbmV3TGFuZ3VhZ2UgPSB0aGlzLmVuZ2luZS5pMThuLmxhbmd1YWdlTmFtZShuZXdMYW5ndWFnZUluZGV4KTtcclxuICAgICAqICAgICBjb25zb2xlLmxvZyhcIlN3aXRjaGVkIGZyb21cIiwgb2xkTGFuZ3VhZ2UsIFwidG9cIiwgbmV3TGFuZ3VhZ2UpO1xyXG4gICAgICogfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgb25MYW5ndWFnZUNoYW5nZWQgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXHJcbiAgICBfZW5naW5lO1xyXG4gICAgLyoqIFByZXZpb3VzbHkgc2V0IGxhbmd1YWdlIGluZGV4LiBAaGlkZGVuICovXHJcbiAgICBfcHJldkxhbmd1YWdlSW5kZXggPSAtMTtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgY3VycmVudCBsYW5ndWFnZSBhbmQgYXBwbHkgdHJhbnNsYXRpb25zIHRvIGxpbmtlZCB0ZXh0IHBhcmFtZXRlcnMuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBpcyBlcXVpdmFsZW50IHRvIHtAbGluayBJMThOLnNldExhbmd1YWdlfS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29kZSBMYW5ndWFnZSBjb2RlIHRvIHN3aXRjaCB0b1xyXG4gICAgICovXHJcbiAgICBzZXQgbGFuZ3VhZ2UoY29kZSkge1xyXG4gICAgICAgIHRoaXMuc2V0TGFuZ3VhZ2UoY29kZSk7XHJcbiAgICB9XHJcbiAgICAvKiogR2V0IGN1cnJlbnQgbGFuZ3VhZ2UgY29kZS4gKi9cclxuICAgIGdldCBsYW5ndWFnZSgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgY29kZSA9IHdhc20uX3dsX2kxOG5fY3VycmVudExhbmd1YWdlKCk7XHJcbiAgICAgICAgaWYgKGNvZGUgPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyhjb2RlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBjdXJyZW50IGxhbmd1YWdlIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG1vcmUgZWZmaWNpZW50IHRoYW4gaXRzIGVxdWl2YWxlbnQ6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGNvbnN0IGluZGV4ID0gaTE4bi5sYW5ndWFnZUluZGV4KGkxOG4ubGFuZ3VhZ2UpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGdldCBjdXJyZW50SW5kZXgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9pMThuX2N1cnJlbnRMYW5ndWFnZUluZGV4KCk7XHJcbiAgICB9XHJcbiAgICAvKiogUHJldmlvdXMgbGFuZ3VhZ2UgaW5kZXguICovXHJcbiAgICBnZXQgcHJldmlvdXNJbmRleCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcHJldkxhbmd1YWdlSW5kZXg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBjdXJyZW50IGxhbmd1YWdlIGFuZCBhcHBseSB0cmFuc2xhdGlvbnMgdG8gbGlua2VkIHRleHQgcGFyYW1ldGVycy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29kZSBUaGUgbGFuZ3VhZ2UgY29kZS5cclxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGN1cnJlbnQgaW5kZXggY29kZSB3aGVuIHRoZVxyXG4gICAgICogICAgIGxhbmd1YWdlIGlzIGxvYWRlZC5cclxuICAgICAqL1xyXG4gICAgc2V0TGFuZ3VhZ2UoY29kZSkge1xyXG4gICAgICAgIGlmIChjb2RlID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jdXJyZW50SW5kZXgpO1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB0aGlzLl9wcmV2TGFuZ3VhZ2VJbmRleCA9IHRoaXMuY3VycmVudEluZGV4O1xyXG4gICAgICAgIHdhc20uX3dsX2kxOG5fc2V0TGFuZ3VhZ2Uod2FzbS50ZW1wVVRGOChjb2RlKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS5zY2VuZVxyXG4gICAgICAgICAgICAuX2ZsdXNoQXBwZW5kKHRoaXMuX2VuZ2luZS5zY2VuZS5iYXNlVVJMKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLmN1cnJlbnRJbmRleCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0cmFuc2xhdGVkIHN0cmluZyBmb3IgYSB0ZXJtIGZvciB0aGUgY3VycmVudGx5IGxvYWRlZCBsYW5ndWFnZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGVybSBUZXJtIHRvIHRyYW5zbGF0ZVxyXG4gICAgICovXHJcbiAgICB0cmFuc2xhdGUodGVybSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHdhc20uX3dsX2kxOG5fdHJhbnNsYXRlKHdhc20udGVtcFVURjgodGVybSkpO1xyXG4gICAgICAgIGlmICh0cmFuc2xhdGlvbiA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKHRyYW5zbGF0aW9uKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBudW1iZXIgb2YgbGFuZ3VhZ2VzIGluIHRoZSBwcm9qZWN0LlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgbGFuZ3VhZ2VDb3VudCgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIHdhc20uX3dsX2kxOG5fbGFuZ3VhZ2VDb3VudCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBsYW5ndWFnZSBjb2RlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgbGFuZ3VhZ2UgdG8gZ2V0IHRoZSBjb2RlIGZyb21cclxuICAgICAqL1xyXG4gICAgbGFuZ3VhZ2VJbmRleChjb2RlKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiB3YXNtLl93bF9pMThuX2xhbmd1YWdlSW5kZXgod2FzbS50ZW1wVVRGOChjb2RlKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIGxhbmd1YWdlIGNvZGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBsYW5ndWFnZSB0byBnZXQgdGhlIGNvZGUgZnJvbVxyXG4gICAgICovXHJcbiAgICBsYW5ndWFnZUNvZGUoaW5kZXgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgY29kZSA9IHdhc20uX3dsX2kxOG5fbGFuZ3VhZ2VDb2RlKGluZGV4KTtcclxuICAgICAgICBpZiAoY29kZSA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKGNvZGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBsYW5ndWFnZSBuYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgbGFuZ3VhZ2UgdG8gZ2V0IHRoZSBuYW1lIGZyb21cclxuICAgICAqL1xyXG4gICAgbGFuZ3VhZ2VOYW1lKGluZGV4KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSB3YXNtLl93bF9pMThuX2xhbmd1YWdlTmFtZShpbmRleCk7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyhuYW1lKTtcclxuICAgIH1cclxufVxyXG4vKiogUHJvcGVydGllcyBvZiBhIFdlYlhSIHNlc3Npb24gKi9cclxuZXhwb3J0IGNsYXNzIFhSIHtcclxuICAgIC8qKiBXb25kZXJsYW5kIFdBU00gYnJpZGdlLiBAaGlkZGVuICovXHJcbiAgICAjd2FzbTtcclxuICAgICNtb2RlO1xyXG4gICAgY29uc3RydWN0b3Iod2FzbSwgbW9kZSkge1xyXG4gICAgICAgIHRoaXMuI3dhc20gPSB3YXNtO1xyXG4gICAgICAgIHRoaXMuI21vZGUgPSBtb2RlO1xyXG4gICAgfVxyXG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgc2Vzc2lvbiBtb2RlICovXHJcbiAgICBnZXQgc2Vzc2lvbk1vZGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI21vZGU7XHJcbiAgICB9XHJcbiAgICAvKiogQ3VycmVudCBXZWJYUiBzZXNzaW9uICovXHJcbiAgICBnZXQgc2Vzc2lvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9zZXNzaW9uO1xyXG4gICAgfVxyXG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgZnJhbWUgKi9cclxuICAgIGdldCBmcmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9mcmFtZTtcclxuICAgIH1cclxuICAgIHJlZmVyZW5jZVNwYWNlRm9yVHlwZSh0eXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VzW3R5cGVdID8/IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKiogU2V0IGN1cnJlbnQgcmVmZXJlbmNlIHNwYWNlIHR5cGUgdXNlZCBmb3IgcmV0cmlldmluZyBleWUsIGhlYWQsIGhhbmQgYW5kIGpvaW50IHBvc2VzICovXHJcbiAgICBzZXQgY3VycmVudFJlZmVyZW5jZVNwYWNlKHJlZlNwYWNlKSB7XHJcbiAgICAgICAgdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZSA9IHJlZlNwYWNlO1xyXG4gICAgICAgIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VUeXBlID0gbnVsbDtcclxuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgT2JqZWN0LmtleXModGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZXMpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlc1t0eXBlXSA9PT0gcmVmU3BhY2UpIHtcclxuICAgICAgICAgICAgICAgIC8qIEtlZXAgdHJhY2sgb2YgcmVmZXJlbmNlIHNwYWNlIHR5cGUgKi9cclxuICAgICAgICAgICAgICAgIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VUeXBlID0gdHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiBDdXJyZW50IHJlZmVyZW5jZSBzcGFjZSB0eXBlIHVzZWQgZm9yIHJldHJpZXZpbmcgZXllLCBoZWFkLCBoYW5kIGFuZCBqb2ludCBwb3NlcyAqL1xyXG4gICAgZ2V0IGN1cnJlbnRSZWZlcmVuY2VTcGFjZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZTtcclxuICAgIH1cclxuICAgIC8qKiBDdXJyZW50IFdlYlhSIHJlZmVyZW5jZSBzcGFjZSB0eXBlIG9yIGBudWxsYCBpZiBub3QgYSBkZWZhdWx0IHJlZmVyZW5jZSBzcGFjZSAqL1xyXG4gICAgZ2V0IGN1cnJlbnRSZWZlcmVuY2VTcGFjZVR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VUeXBlO1xyXG4gICAgfVxyXG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgYmFzZSBsYXllciAgKi9cclxuICAgIGdldCBiYXNlTGF5ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfYmFzZUxheWVyO1xyXG4gICAgfVxyXG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgZnJhbWVidWZmZXIgKi9cclxuICAgIGdldCBmcmFtZWJ1ZmZlcnMoKSB7XHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuI3dhc20ud2VieHJfZmJvKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gW3RoaXMuI3dhc20uR0wuZnJhbWVidWZmZXJzW3RoaXMuI3dhc20ud2VieHJfZmJvXV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX2Ziby5tYXAoKGlkKSA9PiB0aGlzLiN3YXNtLkdMLmZyYW1lYnVmZmVyc1tpZF0pO1xyXG4gICAgfVxyXG59XHJcbiIsICIvKipcclxuICogQXNzZXJ0IHRoYXQgdGhlIGdpdmVuIGJpdCBpbmRleCBpcyBsZXNzIHRoYW4gMzIuXHJcbiAqXHJcbiAqIEBwYXJhbSBiaXQgVGhlIGJpdCB0byB0ZXN0LlxyXG4gKi9cclxuZnVuY3Rpb24gYXNzZXJ0KGJpdCkge1xyXG4gICAgaWYgKGJpdCA+PSAzMikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQml0U2V0LmVuYWJsZSgpOiBWYWx1ZSAke2JpdH0gaXMgb3ZlciAzMWApO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBTdG9yZXMgYSBiaXQgcGF0dGVybiB0byBxdWlja2x5IHRlc3QgaWYgYW4gaW5kZXggaXMgZW5hYmxlZCAvIGRpc2FibGVkLlxyXG4gKlxyXG4gKiBUaGlzIGNsYXNzIGNhbiBzdG9yZSB1cCB0byAqKjMyKiogZGlmZmVyZW50IHZhbHVlcyBpbiB0aGUgcmFuZ2UgWzA7IDMxXS5cclxuICpcclxuICogIyMjIyBVc2FnZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBjb25zdCBiaXRzZXQgPSBuZXcgQml0U2V0KCk7XHJcbiAqIGJpdHNldC5lbmFibGUoMTApOyAvLyBFbmFibGUgYml0IGF0IGluZGV4IGAxMGAuXHJcbiAqIGNvbnNvbGUubG9nKGJpdHNldC5lbmFibGVkKDEwKSk7IC8vIFByaW50cyAndHJ1ZScuXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAjIyMjIFR5cGVTY3JpcHRcclxuICpcclxuICogVGhlIHNldCBjYW4gYmUgdHlwZWQgb3ZlciBhbiBlbnVtOlxyXG4gKlxyXG4gKiBgYGB0c1xyXG4gKiBlbnVtIFRhZyB7XHJcbiAqICAgICBGaXJzdCA9IDAsXHJcbiAqICAgICBTZWNvbmQgPSAxLFxyXG4gKiB9XHJcbiAqXHJcbiAqIGNvbnN0IGJpdHNldCA9IG5ldyBCaXRTZXQ8VGFnPigpO1xyXG4gKiBiaXRzZXQuZW5hYmxlKFRhZy5GaXJzdCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJpdFNldCB7XHJcbiAgICAvKiogRW5hYmxlZCBiaXRzLiBAaGlkZGVuICovXHJcbiAgICBfYml0cyA9IDA7XHJcbiAgICAvKipcclxuICAgICAqIEVuYWJsZSB0aGUgYml0IGF0IHRoZSBnaXZlbiBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYml0cyBBIHNwcmVhZCBvZiBhbGwgdGhlIGJpdHMgdG8gZW5hYmxlLlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBlbmFibGUoLi4uYml0cykge1xyXG4gICAgICAgIGZvciAoY29uc3QgYml0IG9mIGJpdHMpIHtcclxuICAgICAgICAgICAgYXNzZXJ0KGJpdCk7XHJcbiAgICAgICAgICAgIC8qIENhc3RzIHRoZSByZXN1bHQgdG8gYW4gdW5zaWduZWQgaW50ZWdlciAqL1xyXG4gICAgICAgICAgICB0aGlzLl9iaXRzIHw9ICgxIDw8IGJpdCkgPj4+IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFbmFibGUgYWxsIGJpdHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBlbmFibGVBbGwoKSB7XHJcbiAgICAgICAgdGhpcy5fYml0cyA9IH4wO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNhYmxlIHRoZSBiaXQgYXQgdGhlIGdpdmVuIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiaXRzIEEgc3ByZWFkIG9mIGFsbCB0aGUgYml0cyB0byBkaXNhYmxlLlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBkaXNhYmxlKC4uLmJpdHMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGJpdCBvZiBiaXRzKSB7XHJcbiAgICAgICAgICAgIGFzc2VydChiaXQpO1xyXG4gICAgICAgICAgICAvKiBDYXN0cyB0aGUgcmVzdWx0IHRvIGFuIHVuc2lnbmVkIGludGVnZXIgKi9cclxuICAgICAgICAgICAgdGhpcy5fYml0cyAmPSB+KCgxIDw8IGJpdCkgPj4+IDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRGlzYWJsZSBhbGwgYml0cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIGRpc2FibGVBbGwoKSB7XHJcbiAgICAgICAgdGhpcy5fYml0cyA9IDA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrZXIgd2hldGhlciB0aGUgYml0IGlzIHNldCBvciBub3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGJpdCBUaGUgYml0IHRvIGNoZWNrLlxyXG4gICAgICogQHJldHVybnMgYHRydWVgIGlmIGl0J3MgZW5hYmxlZCwgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAgICAgKi9cclxuICAgIGVuYWJsZWQoYml0KSB7XHJcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuX2JpdHMgJiAoKDEgPDwgYml0KSA+Pj4gMCkpO1xyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBCaXRTZXQgfSBmcm9tICcuL2JpdHNldC5qcyc7XHJcbi8qKlxyXG4gKiBMb2dnaW5nIGxldmVscyBzdXBwb3J0ZWQgYnkge0BsaW5rIExvZ2dlcn0uXHJcbiAqL1xyXG5leHBvcnQgdmFyIExvZ0xldmVsO1xyXG4oZnVuY3Rpb24gKExvZ0xldmVsKSB7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkluZm9cIl0gPSAwXSA9IFwiSW5mb1wiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJXYXJuXCJdID0gMV0gPSBcIldhcm5cIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiRXJyb3JcIl0gPSAyXSA9IFwiRXJyb3JcIjtcclxufSkoTG9nTGV2ZWwgfHwgKExvZ0xldmVsID0ge30pKTtcclxuLyoqXHJcbiAqIExvZ2dpbmcgd3JhcHBlci5cclxuICpcclxuICogVGhpcyBpcyB1c2VkIHRvIGFsbG93IHR1cm5pbmcgb24vb2ZmOlxyXG4gKiAgICAgLSBgY29uc29sZS5sb2dgXHJcbiAqICAgICAtIGBjb25zb2xlLndhcm5gXHJcbiAqICAgICAtIGBjb25zb2xlLmVycm9yYFxyXG4gKlxyXG4gKiAjIyMjIFVzYWdlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGltcG9ydCB7TG9nZ2VyLCBMb2dMZXZlbCwgTG9nVGFnfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gKlxyXG4gKiAvLyBDcmVhdGUgYSBsb2dnZXIgd2l0aCBvbmx5IHRoZSBcImVycm9yXCIgYW5kIFwid2FyblwiIGxldmVscyBhY3RpdmF0ZWRcclxuICogY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihMb2dMZXZlbC5XYXJuLCBMb2dMZXZlbC5FcnJvcik7XHJcbiAqXHJcbiAqIC8vIE9ubHkgdGhlIFwiZXJyb3JcIiBhbmQgXCJ3YXJuXCIgbGV2ZWxzIGFyZSBhY3RpdmF0ZWQsXHJcbiAqIC8vIHRoaXMgbWVzc2FnZSBpc24ndCBsb2dnZWQuXHJcbiAqIGxvZ2dlci5pbmZvKExvZ1RhZy5Db21wb25lbnQsICdUaGlzIG1lc3NhZ2UgaXMgc2h1c2hlZCcpXHJcbiAqXHJcbiAqIC8vIFByaW50cyAnSGVsbG8gRXJyb3IhJ1xyXG4gKiBsb2dnZXIuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgJ0hlbGxvIEVycm9yIScpO1xyXG4gKlxyXG4gKiAvLyBQcmludHMgJ0hlbGxvIFdhcm5pbmchJ1xyXG4gKiBsb2dnZXIud2FybihMb2dUYWcuQ29tcG9uZW50LCAnSGVsbG8gV2FybmluZyEnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBsb2cgbGV2ZWxzIGNhbiBiZSBjaGFuZ2VkIGF0IGFueXRpbWUgdXNpbmcgdGhlIHtAbGluayBCaXRTZXR9IGFwaTpcclxuICpcclxuICogYGBganNcclxuICogLy8gRW5hYmxlIHRoZSBcImluZm9cIiBsZXZlbFxyXG4gKiBsb2dnZXIubGV2ZWxzLmVuYWJsZShMb2dMZXZlbC5JbmZvKTtcclxuICogKiAvLyBEaXNhYmxlIHRoZSBcIndhcm5cIiBsZXZlbFxyXG4gKiBsb2dnZXIubGV2ZWxzLmRpc2FibGUoTG9nTGV2ZWwuV2Fybik7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAjIyMjIFRhZ3NcclxuICpcclxuICogSW4gYWRkaXRpb24sIHRoZSBsb2dnZXIgc3VwcG9ydHMgdGFnZ2luZyBtZXNzYWdlczpcclxuICpcclxuICogYGBganNcclxuICogaW1wb3J0IHtMb2dnZXIsIExvZ0xldmVsLCBMb2dUYWd9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqXHJcbiAqIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoTG9nTGV2ZWwuSW5mbyk7XHJcbiAqXHJcbiAqIGxvZ2dlci50YWdzLmRpc2FibGVBbGwoKTtcclxuICpcclxuICogLy8gQWxsIHRhZ3MgYXJlIG9mZiwgdGhpcyBtZXNzYWdlIGlzbid0IGxvZ2dlZFxyXG4gKiBsb2dnZXIuaW5mbyhMb2dUYWcuQ29tcG9uZW50LCAnVGhpcyBtZXNzYWdlIGlzIHNodXNoZWQnKTtcclxuICpcclxuICogbG9nZ2VyLnRhZ3MuZW5hYmxlKExvZ1RhZy5Db21wb25lbnQpO1xyXG4gKiBsb2dnZXIuaW5mbyhMb2dUYWcuQ29tcG9uZW50LCAnSGVsbG8gV29ybGQhJykgLy8gUHJpbnRzICdIZWxsbyBXb3JsZCEnXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGUgdGFnZ2luZyBzeXN0ZW0gZ2l2ZXMgYW5vdGhlciBsYXllciBvZiBjb250cm9sIHRvIGVuYWJsZSAvIGRpc2FibGVcclxuICogc29tZSBzcGVjaWZpYyBsb2dzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XHJcbiAgICAvKipcclxuICAgICAqIEJpdHNldCBvZiBlbmFibGVkIGxldmVscy5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIGxldmVscyA9IG5ldyBCaXRTZXQoKTtcclxuICAgIC8qKlxyXG4gICAgICogQml0c2V0IG9mIGVuYWJsZWQgdGFncy5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIHRhZ3MgPSBuZXcgQml0U2V0KCkuZW5hYmxlQWxsKCk7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBsb2dnZXIgaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxldmVscyBEZWZhdWx0IHNldCBvZiBsZXZlbHMgdG8gZW5hYmxlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvciguLi5sZXZlbHMpIHtcclxuICAgICAgICB0aGlzLmxldmVscy5lbmFibGUoLi4ubGV2ZWxzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9nIHRoZSBtZXNzYWdlKHMpIHVzaW5nIGBjb25zb2xlLmxvZ2AuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRhZyBUYWcgcmVwcmVzZW50ZWQgYnkgYSBwb3NpdGl2ZSBpbnRlZ2VyLlxyXG4gICAgICogQHBhcmFtIG1zZyBBIHNwcmVhZCBvZiBtZXNzYWdlIHRvIGxvZy5cclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgaW5mbyh0YWcsIC4uLm1zZykge1xyXG4gICAgICAgIGlmICh0aGlzLmxldmVscy5lbmFibGVkKExvZ0xldmVsLkluZm8pICYmIHRoaXMudGFncy5lbmFibGVkKHRhZykpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coLi4ubXNnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvZyB0aGUgbWVzc2FnZShzKSB1c2luZyBgY29uc29sZS53YXJuYC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGFnIFRhZyByZXByZXNlbnRlZCBieSBhIHBvc2l0aXZlIGludGVnZXIuXHJcbiAgICAgKiBAcGFyYW0gbXNnIEEgc3ByZWFkIG9mIG1lc3NhZ2UgdG8gbG9nLlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICB3YXJuKHRhZywgLi4ubXNnKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubGV2ZWxzLmVuYWJsZWQoTG9nTGV2ZWwuV2FybikgJiYgdGhpcy50YWdzLmVuYWJsZWQodGFnKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oLi4ubXNnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvZyB0aGUgbWVzc2FnZShzKSB1c2luZyBgY29uc29sZS5lcnJvcmAuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRhZyBUYWcgcmVwcmVzZW50ZWQgYnkgYSBwb3NpdGl2ZSBpbnRlZ2VyLlxyXG4gICAgICogQHBhcmFtIG1zZyBBIHNwcmVhZCBvZiBtZXNzYWdlIHRvIGxvZy5cclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgZXJyb3IodGFnLCAuLi5tc2cpIHtcclxuICAgICAgICBpZiAodGhpcy5sZXZlbHMuZW5hYmxlZChMb2dMZXZlbC5FcnJvcikgJiYgdGhpcy50YWdzLmVuYWJsZWQodGFnKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKC4uLm1zZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBMb2dUYWcgfSBmcm9tICcuL2luZGV4LmpzJztcclxuaW1wb3J0IHsgVHlwZSB9IGZyb20gJy4vcHJvcGVydHkuanMnO1xyXG5pbXBvcnQgeyBSZXRhaW5FbWl0dGVyIH0gZnJvbSAnLi91dGlscy9ldmVudC5qcyc7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vdXRpbHMvbG9nZ2VyLmpzJztcclxuaW1wb3J0IHsgaW5oZXJpdFByb3BlcnRpZXMsIEFuaW1hdGlvbiwgQ29tcG9uZW50LCBNYXRlcmlhbCwgTWVzaCwgQnJva2VuQ29tcG9uZW50LCBTa2luLCBYUiwgfSBmcm9tICcuL3dvbmRlcmxhbmQuanMnO1xyXG4vKipcclxuICogRGVmYXVsdCBjb21wb25lbnQgcGFyYW1ldGVyIHZhbHVlIHBlciB0eXBlLlxyXG4gKi9cclxuY29uc3QgX2NvbXBvbmVudERlZmF1bHRzID0gbmV3IE1hcChbXHJcbiAgICBbVHlwZS5Cb29sLCBmYWxzZV0sXHJcbiAgICBbVHlwZS5JbnQsIDBdLFxyXG4gICAgW1R5cGUuRmxvYXQsIDAuMF0sXHJcbiAgICBbVHlwZS5TdHJpbmcsICcnXSxcclxuICAgIFtUeXBlLkVudW0sIHVuZGVmaW5lZF0sXHJcbiAgICBbVHlwZS5PYmplY3QsIG51bGxdLFxyXG4gICAgW1R5cGUuTWVzaCwgbnVsbF0sXHJcbiAgICBbVHlwZS5UZXh0dXJlLCBudWxsXSxcclxuICAgIFtUeXBlLk1hdGVyaWFsLCBudWxsXSxcclxuICAgIFtUeXBlLkFuaW1hdGlvbiwgbnVsbF0sXHJcbiAgICBbVHlwZS5Ta2luLCBudWxsXSxcclxuICAgIFtUeXBlLkNvbG9yLCBbMC4wLCAwLjAsIDAuMCwgMS4wXV0sXHJcbl0pO1xyXG4vKipcclxuICogU2V0dXAgdGhlIGRlZmF1bHRzIHZhbHVlIG9mIHRoZSBwcm9wZXJ0aWVzIG9uIGEgZ2l2ZW5cclxuICogY29tcG9uZW50IGNsYXNzLlxyXG4gKlxyXG4gKiBAcGFyYW0gY3RvciBUaGUgY29tcG9uZW50IGNsYXNzXHJcbiAqL1xyXG5mdW5jdGlvbiBfc2V0dXBEZWZhdWx0cyhjdG9yKSB7XHJcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gY3Rvci5Qcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgY29uc3QgcCA9IGN0b3IuUHJvcGVydGllc1tuYW1lXTtcclxuICAgICAgICBpZiAocC50eXBlID09PSBUeXBlLkVudW0pIHtcclxuICAgICAgICAgICAgLyogRW51bSBkZWZhdWx0IGNhbiBiZSBhIHN0cmluZyBvciBhbiBpbmRleC4gQ29udmVydCB0byBhbmQvb3JcclxuICAgICAgICAgICAgICogc2FuaXR5LWNoZWNrIHRoZSBpbmRleC4gKi9cclxuICAgICAgICAgICAgaWYgKHAudmFsdWVzPy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8qIERvbid0IHRyeSB0byBsb29rIHVwIHRoZSBkZWZhdWx0IGlmIHRoZSB1c2VyIHNwZWNpZmllZCBhXHJcbiAgICAgICAgICAgICAgICAgKiBudW1iZXIgb3Igd2UgYWxyZWFkeSBjb252ZXJ0ZWQgdG8gb25lLiAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwLmRlZmF1bHQgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogSWYgdW5kZWZpbmVkLCBtaXNzaW5nIGVsZW1lbnQgb3Igd3JvbmcgdHlwZSB0aGlzIHJldHVybnNcclxuICAgICAgICAgICAgICAgICAgICAgKiAtMSB3aGljaCBiZWNvbWVzIDAgYmVsb3cuIFRoaXMgbWF0Y2hlcyBlZGl0b3IgYmVoYXZpb3IuICovXHJcbiAgICAgICAgICAgICAgICAgICAgcC5kZWZhdWx0ID0gcC52YWx1ZXMuaW5kZXhPZihwLmRlZmF1bHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHAuZGVmYXVsdCA8IDAgfHwgcC5kZWZhdWx0ID49IHAudmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHAuZGVmYXVsdCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvKiBUaGVyZSdzIG5vIGluZGV4IHZhbHVlIHRoYXQgbWFrZXMgc2Vuc2UgKi9cclxuICAgICAgICAgICAgICAgIHAuZGVmYXVsdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcC5kZWZhdWx0ID0gcC5kZWZhdWx0ID8/IF9jb21wb25lbnREZWZhdWx0cy5nZXQocC50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3Rvci5wcm90b3R5cGVbbmFtZV0gPSBwLmRlZmF1bHQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIExvdy1sZXZlbCB3cmFwcGVyIHRvIGludGVyYWN0IHdpdGggdGhlIFdlYkFzc2VtYmx5IGNvZGUuXHJcbiAqXHJcbiAqIEBoaWRkZW5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBXQVNNIHtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiB3b3JrZXIgZmllbGQuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3b3JrZXIgPSAnJztcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiB3YXNtIGZpZWxkLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgd2FzbSA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gY2FudmFzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgY2FudmFzID0gbnVsbDtcclxuICAgIC8qKiBDdXJyZW50IFdlYlhSICAqL1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIHNlc3Npb24uXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3ZWJ4cl9zZXNzaW9uID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiByZXF1ZXN0IHNlc3Npb24gY2FsbGJhY2suXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3ZWJ4cl9yZXF1ZXN0U2Vzc2lvbiA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgb2ZmZXIgc2Vzc2lvbiBjYWxsYmFjay5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdlYnhyX29mZmVyU2Vzc2lvbiA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgZnJhbWUuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3ZWJ4cl9mcmFtZSA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gY3VycmVudCBXZWJYUiByZWZlcmVuY2Ugc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3ZWJ4cl9yZWZTcGFjZSA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgcmVmZXJlbmNlIHNwYWNlcy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdlYnhyX3JlZlNwYWNlcyA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgY3VycmVudCByZWZlcmVuY2Ugc3BhY2UgdHlwZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdlYnhyX3JlZlNwYWNlVHlwZSA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgR0wgcHJvamVjdGlvbiBsYXllci5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdlYnhyX2Jhc2VMYXllciA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgZnJhbWVidWZmZXIgc2NhbGUgZmFjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgd2VieHJfZnJhbWVidWZmZXJTY2FsZUZhY3RvciA9IDEuMDtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBmcmFtZWJ1ZmZlcihzKS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIC8qIHdlYnhyX2ZibyB3aWxsIG5vdCBnZXQgb3ZlcndyaXR0ZW4gaWYgd2UgYXJlIHJlbmRlcmluZyB0byB0aGVcclxuICAgICAqIGRlZmF1bHQgZnJhbWVidWZmZXIsIGUuZy4sIHdoZW4gdXNpbmcgV2ViWFIgZW11bGF0b3IuICovXHJcbiAgICB3ZWJ4cl9mYm8gPSAwO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0IGEgV0FTTSBtZW1vcnkgdmlldyB0byBhIEphdmFTY3JpcHQgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwdHIgUG9pbnRlciBzdGFydFxyXG4gICAgICogQHBhcmFtIHB0ckVuZCBQb2ludGVyIGVuZFxyXG4gICAgICogQHJldHVybnMgSmF2YVNjcmlwdCBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgVVRGOFZpZXdUb1N0cmluZztcclxuICAgIC8qKiBMb2dnZXIgaW5zdGFuY2UuICovXHJcbiAgICBfbG9nID0gbmV3IExvZ2dlcigpO1xyXG4gICAgLyoqIElmIGB0cnVlYCwgbG9ncyB3aWxsIG5vdCBzcGFtIHRoZSBjb25zb2xlIG9uIGVycm9yLiAqL1xyXG4gICAgX2RlYWN0aXZhdGVfY29tcG9uZW50X29uX2Vycm9yID0gZmFsc2U7XHJcbiAgICAvKiogVGVtcG9yYXJ5IG1lbW9yeSBwb2ludGVyLiAqL1xyXG4gICAgX3RlbXBNZW0gPSBudWxsO1xyXG4gICAgLyoqIFRlbXBvcmFyeSBtZW1vcnkgc2l6ZS4gKi9cclxuICAgIF90ZW1wTWVtU2l6ZSA9IDA7XHJcbiAgICAvKiogVGVtcG9yYXJ5IGZsb2F0IG1lbW9yeSB2aWV3LiAqL1xyXG4gICAgX3RlbXBNZW1GbG9hdCA9IG51bGw7XHJcbiAgICAvKiogVGVtcG9yYXJ5IGludCBtZW1vcnkgdmlldy4gKi9cclxuICAgIF90ZW1wTWVtSW50ID0gbnVsbDtcclxuICAgIC8qKiBUZW1wb3JhcnkgdWludDggbWVtb3J5IHZpZXcuICovXHJcbiAgICBfdGVtcE1lbVVpbnQ4ID0gbnVsbDtcclxuICAgIC8qKiBUZW1wb3JhcnkgdWludDMyIG1lbW9yeSB2aWV3LiAqL1xyXG4gICAgX3RlbXBNZW1VaW50MzIgPSBudWxsO1xyXG4gICAgLyoqIFRlbXBvcmFyeSB1aW50MTYgbWVtb3J5IHZpZXcuICovXHJcbiAgICBfdGVtcE1lbVVpbnQxNiA9IG51bGw7XHJcbiAgICAvKiogTG9hZGluZyBzY3JlZW4gLmJpbiBmaWxlIGRhdGEgKi9cclxuICAgIF9sb2FkaW5nU2NyZWVuID0gbnVsbDtcclxuICAgIC8qKiBMaXN0IG9mIGNhbGxiYWNrcyB0cmlnZ2VyZWQgd2hlbiB0aGUgc2NlbmUgaXMgbG9hZGVkLiAqL1xyXG4gICAgX3NjZW5lTG9hZGVkQ2FsbGJhY2sgPSBbXTtcclxuICAgIC8qKlxyXG4gICAgICogTWF0ZXJpYWwgZGVmaW5pdGlvbiBjYWNoZS4gRWFjaCBwaXBlbGluZSBoYXMgaXRzIG93blxyXG4gICAgICogYXNzb2NpYXRlZCBtYXRlcmlhbCBkZWZpbml0aW9uLlxyXG4gICAgICovXHJcbiAgICBfbWF0ZXJpYWxEZWZpbml0aW9ucyA9IFtdO1xyXG4gICAgLyoqIEltYWdlIGNhY2hlLiAqL1xyXG4gICAgX2ltYWdlcyA9IFtdO1xyXG4gICAgLyoqIENvbXBvbmVudCBpbnN0YW5jZXMuICovXHJcbiAgICBfY29tcG9uZW50cyA9IFtdO1xyXG4gICAgLyoqIENvbXBvbmVudCBUeXBlIGluZm8uICovXHJcbiAgICBfY29tcG9uZW50VHlwZXMgPSBbXTtcclxuICAgIC8qKiBJbmRleCBwZXIgY29tcG9uZW50IHR5cGUgbmFtZS4gKi9cclxuICAgIF9jb21wb25lbnRUeXBlSW5kaWNlcyA9IHt9O1xyXG4gICAgLyoqIFdvbmRlcmxhbmQgZW5naW5lIGluc3RhbmNlLiAqL1xyXG4gICAgX2VuZ2luZSA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIGB0cnVlYCBpZiB0aGlzIHJ1bnRpbWUgaXMgdXNpbmcgcGh5c3guXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICBfd2l0aFBoeXNYID0gZmFsc2U7XHJcbiAgICAvKiogRGVjb2RlciBmb3IgVVRGOCBgQXJyYXlCdWZmZXJgIHRvIEphdmFTY3JpcHQgc3RyaW5nLiAqL1xyXG4gICAgX3V0ZjhEZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGY4Jyk7XHJcbiAgICAvKiogSmF2YVNjcmlwdCBtYW5hZ2VyIGluZGV4LiAqL1xyXG4gICAgX2pzTWFuYWdlckluZGV4Q2FjaGVkID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0cmF0aW9uIGluZGV4IG9mIHtAbGluayBCcm9rZW5Db21wb25lbnR9LlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgaXMgdXNlZCB0byByZXR1cm4gZHVtbXkgaW5zdGFuY2VzIHdoZW4gYSBjb21wb25lbnRcclxuICAgICAqIGlzbid0IHJlZ2lzdGVyZWQuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfYnJva2VuQ29tcG9uZW50SW5kZXggPSAwO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIFdlYkFzc2VtYmx5IDw+IEFQSSBicmlkZ2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRocmVhZHMgYHRydWVgIGlmIHRoZSBydW50aW1lIHVzZWQgaGFzIHRocmVhZHMgc3VwcG9ydFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih0aHJlYWRzKSB7XHJcbiAgICAgICAgaWYgKHRocmVhZHMpIHtcclxuICAgICAgICAgICAgdGhpcy5VVEY4Vmlld1RvU3RyaW5nID0gKHMsIGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghcylcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdXRmOERlY29kZXIuZGVjb2RlKHRoaXMuSEVBUFU4LnNsaWNlKHMsIGUpKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLlVURjhWaWV3VG9TdHJpbmcgPSAocywgZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXMpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91dGY4RGVjb2Rlci5kZWNvZGUodGhpcy5IRUFQVTguc3ViYXJyYXkocywgZSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fYnJva2VuQ29tcG9uZW50SW5kZXggPSB0aGlzLl9yZWdpc3RlckNvbXBvbmVudChCcm9rZW5Db21wb25lbnQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldCB0aGUgY2FjaGUgb2YgdGhlIGxpYnJhcnkuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgU2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW4gdGVhcmluZyBkb3duIHRoZSBydW50aW1lLlxyXG4gICAgICovXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICAvKiBDYW5jZWwgaW4tZmxpZ2h0IGltYWdlcyAqL1xyXG4gICAgICAgIGZvciAoY29uc3QgaW1nIG9mIHRoaXMuX2ltYWdlcykge1xyXG4gICAgICAgICAgICBpZiAoIWltZyB8fCAhaW1nLnNyYylcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBpbWcuc3JjID0gJyc7XHJcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBudWxsO1xyXG4gICAgICAgICAgICBpbWcub25lcnJvciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2ltYWdlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuYWxsb2NhdGVUZW1wTWVtb3J5KDEwMjQpO1xyXG4gICAgICAgIHRoaXMuX21hdGVyaWFsRGVmaW5pdGlvbnMgPSBbXTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzID0gW107XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50VHlwZXMgPSBbXTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2pzTWFuYWdlckluZGV4Q2FjaGVkID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9icm9rZW5Db21wb25lbnRJbmRleCA9IHRoaXMuX3JlZ2lzdGVyQ29tcG9uZW50KEJyb2tlbkNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBjb21wb25lbnQgaXMgcmVnaXN0ZXJlZCBvciBub3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGN0b3IgIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY29tcG9uZW50IHR5cGVuYW1lIChlLmcuLCBgJ2N1cnNvci1jb21wb25lbnQnYCkuXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkLCBgZmFsc2VgIG90aGVyd2lzZS5cclxuICAgICAqL1xyXG4gICAgaXNSZWdpc3RlcmVkKHR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdHlwZSBpbiB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBsZWdhY3kgY29tcG9uZW50IGluIHRoaXMgRW1zY3JpcHRlbiBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHR5cGVOYW1lIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQuXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1zIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBwYXJhbWV0ZXJzIChwcm9wZXJ0aWVzKS5cclxuICAgICAqIEBwYXJhbSBvYmplY3QgVGhlIG9iamVjdCdzIHByb3RvdHlwZS5cclxuICAgICAqIEByZXR1cm5zIFRoZSByZWdpc3RyYXRpb24gaW5kZXhcclxuICAgICAqL1xyXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50TGVnYWN5KHR5cGVOYW1lLCBwYXJhbXMsIG9iamVjdCkge1xyXG4gICAgICAgIGNvbnN0IGN0b3IgPSBjbGFzcyBDdXN0b21Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY3Rvci5UeXBlTmFtZSA9IHR5cGVOYW1lO1xyXG4gICAgICAgIGN0b3IuUHJvcGVydGllcyA9IHBhcmFtcztcclxuICAgICAgICBPYmplY3QuYXNzaWduKGN0b3IucHJvdG90eXBlLCBvYmplY3QpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZWdpc3RlckNvbXBvbmVudChjdG9yKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBjbGFzcyBjb21wb25lbnQgaW4gdGhpcyBFbXNjcmlwdGVuIGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY3RvciBUaGUgY2xhc3MgdG8gcmVnaXN0ZXIuXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgcmVnaXN0cmF0aW9uIGluZGV4LlxyXG4gICAgICovXHJcbiAgICBfcmVnaXN0ZXJDb21wb25lbnQoY3Rvcikge1xyXG4gICAgICAgIGlmICghY3Rvci5UeXBlTmFtZSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBuYW1lIHByb3ZpZGVkIGZvciBjb21wb25lbnQuJyk7XHJcbiAgICAgICAgaWYgKCFjdG9yLnByb3RvdHlwZS5fdHJpZ2dlckluaXQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZWdpc3RlckNvbXBvbmVudCgpOiBDb21wb25lbnQgJHtjdG9yLlR5cGVOYW1lfSBtdXN0IGV4dGVuZCBDb21wb25lbnRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5oZXJpdFByb3BlcnRpZXMoY3Rvcik7XHJcbiAgICAgICAgX3NldHVwRGVmYXVsdHMoY3Rvcik7XHJcbiAgICAgICAgY29uc3QgdHlwZUluZGV4ID0gY3Rvci5UeXBlTmFtZSBpbiB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1xyXG4gICAgICAgICAgICA/IHRoaXMuX2NvbXBvbmVudFR5cGVJbmRpY2VzW2N0b3IuVHlwZU5hbWVdXHJcbiAgICAgICAgICAgIDogdGhpcy5fY29tcG9uZW50VHlwZXMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudFR5cGVzW3R5cGVJbmRleF0gPSBjdG9yO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudFR5cGVJbmRpY2VzW2N0b3IuVHlwZU5hbWVdID0gdHlwZUluZGV4O1xyXG4gICAgICAgIGlmIChjdG9yID09PSBCcm9rZW5Db21wb25lbnQpXHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlSW5kZXg7XHJcbiAgICAgICAgdGhpcy5fbG9nLmluZm8oTG9nVGFnLkVuZ2luZSwgJ1JlZ2lzdGVyZWQgY29tcG9uZW50JywgY3Rvci5UeXBlTmFtZSwgYChjbGFzcyAke2N0b3IubmFtZX0pYCwgJ3dpdGggaW5kZXgnLCB0eXBlSW5kZXgpO1xyXG4gICAgICAgIGlmIChjdG9yLm9uUmVnaXN0ZXIpXHJcbiAgICAgICAgICAgIGN0b3Iub25SZWdpc3Rlcih0aGlzLl9lbmdpbmUpO1xyXG4gICAgICAgIHJldHVybiB0eXBlSW5kZXg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFsbG9jYXRlIHRoZSByZXF1ZXN0ZWQgYW1vdW50IG9mIHRlbXBvcmFyeSBtZW1vcnlcclxuICAgICAqIGluIHRoaXMgV0FTTSBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc2l6ZSBUaGUgbnVtYmVyIG9mIGJ5dGVzIHRvIGFsbG9jYXRlXHJcbiAgICAgKi9cclxuICAgIGFsbG9jYXRlVGVtcE1lbW9yeShzaXplKSB7XHJcbiAgICAgICAgdGhpcy5fbG9nLmluZm8oTG9nVGFnLkVuZ2luZSwgJ0FsbG9jYXRpbmcgdGVtcCBtZW06Jywgc2l6ZSk7XHJcbiAgICAgICAgdGhpcy5fdGVtcE1lbVNpemUgPSBzaXplO1xyXG4gICAgICAgIGlmICh0aGlzLl90ZW1wTWVtKVxyXG4gICAgICAgICAgICB0aGlzLl9mcmVlKHRoaXMuX3RlbXBNZW0pO1xyXG4gICAgICAgIHRoaXMuX3RlbXBNZW0gPSB0aGlzLl9tYWxsb2ModGhpcy5fdGVtcE1lbVNpemUpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVGVtcE1lbW9yeSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAdG9kbzogRGVsZXRlIHRoaXMgYW5kIG9ubHkga2VlcCBgYWxsb2NhdGVUZW1wTWVtb3J5YFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzaXplIE51bWJlciBvZiBieXRlcyB0byBhbGxvY2F0ZVxyXG4gICAgICovXHJcbiAgICByZXF1aXJlVGVtcE1lbShzaXplKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3RlbXBNZW1TaXplID49IHNpemUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvKiBHcm93IGluIDFrYiBpbmNyZW1lbnRzICovXHJcbiAgICAgICAgdGhpcy5hbGxvY2F0ZVRlbXBNZW1vcnkoTWF0aC5jZWlsKHNpemUgLyAxMDI0KSAqIDEwMjQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdGhlIHRlbXBvcmFyeSBtZW1vcnkgdmlld3MuIFRoaXMgbXVzdCBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlXHJcbiAgICAgKiB0ZW1wb3JhcnkgbWVtb3J5IGFkZHJlc3MgY2hhbmdlcy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZVRlbXBNZW1vcnkoKSB7XHJcbiAgICAgICAgdGhpcy5fdGVtcE1lbUZsb2F0ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLkhFQVA4LmJ1ZmZlciwgdGhpcy5fdGVtcE1lbSwgdGhpcy5fdGVtcE1lbVNpemUgPj4gMik7XHJcbiAgICAgICAgdGhpcy5fdGVtcE1lbUludCA9IG5ldyBJbnQzMkFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSA+PiAyKTtcclxuICAgICAgICB0aGlzLl90ZW1wTWVtVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSA+PiAyKTtcclxuICAgICAgICB0aGlzLl90ZW1wTWVtVWludDE2ID0gbmV3IFVpbnQxNkFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSA+PiAxKTtcclxuICAgICAgICB0aGlzLl90ZW1wTWVtVWludDggPSBuZXcgVWludDhBcnJheSh0aGlzLkhFQVA4LmJ1ZmZlciwgdGhpcy5fdGVtcE1lbSwgdGhpcy5fdGVtcE1lbVNpemUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgdWludDggYnVmZmVyIHZpZXcgb24gdGVtcG9yYXJ5IFdBU00gbWVtb3J5LlxyXG4gICAgICpcclxuICAgICAqICoqTm90ZSoqOiB0aGlzIG1ldGhvZCBtaWdodCBhbGxvY2F0ZSBpZiB0aGUgcmVxdWVzdGVkIG1lbW9yeSBpcyBiaWdnZXJcclxuICAgICAqIHRoYW4gdGhlIGN1cnJlbnQgdGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgKiplbGVtZW50cyoqIHJlcXVpcmVkXHJcbiAgICAgKiBAcmV0dXJucyBBIHtAbGluayBUeXBlZEFycmF5fSBvdmVyIHRoZSBXQVNNIG1lbW9yeVxyXG4gICAgICovXHJcbiAgICBnZXRUZW1wQnVmZmVyVTgoY291bnQpIHtcclxuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKGNvdW50KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcE1lbVVpbnQ4O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgdWludDE2IGJ1ZmZlciB2aWV3IG9uIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGUqKjogdGhpcyBtZXRob2QgbWlnaHQgYWxsb2NhdGUgaWYgdGhlIHJlcXVlc3RlZCBtZW1vcnkgaXMgYmlnZ2VyXHJcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IHRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqZWxlbWVudHMqKiByZXF1aXJlZFxyXG4gICAgICogQHJldHVybnMgQSB7QGxpbmsgVHlwZWRBcnJheX0gb3ZlciB0aGUgV0FTTSBtZW1vcnlcclxuICAgICAqL1xyXG4gICAgZ2V0VGVtcEJ1ZmZlclUxNihjb3VudCkge1xyXG4gICAgICAgIHRoaXMucmVxdWlyZVRlbXBNZW0oY291bnQgKiAyKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcE1lbVVpbnQxNjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIHVpbnQzMiBidWZmZXIgdmlldyBvbiB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkuXHJcbiAgICAgKlxyXG4gICAgICogKipOb3RlKio6IHRoaXMgbWV0aG9kIG1pZ2h0IGFsbG9jYXRlIGlmIHRoZSByZXF1ZXN0ZWQgbWVtb3J5IGlzIGJpZ2dlclxyXG4gICAgICogdGhhbiB0aGUgY3VycmVudCB0ZW1wb3JhcnkgbWVtb3J5IGFsbG9jYXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiAqKmVsZW1lbnRzKiogcmVxdWlyZWQuXHJcbiAgICAgKiBAcmV0dXJucyBBIHtAbGluayBUeXBlZEFycmF5fSBvdmVyIHRoZSBXQVNNIG1lbW9yeS5cclxuICAgICAqL1xyXG4gICAgZ2V0VGVtcEJ1ZmZlclUzMihjb3VudCkge1xyXG4gICAgICAgIHRoaXMucmVxdWlyZVRlbXBNZW0oY291bnQgKiA0KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcE1lbVVpbnQzMjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIGludDMyIGJ1ZmZlciB2aWV3IG9uIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGUqKjogdGhpcyBtZXRob2QgbWlnaHQgYWxsb2NhdGUgaWYgdGhlIHJlcXVlc3RlZCBtZW1vcnkgaXMgYmlnZ2VyXHJcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IHRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqZWxlbWVudHMqKiByZXF1aXJlZC5cclxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5LlxyXG4gICAgICovXHJcbiAgICBnZXRUZW1wQnVmZmVySTMyKGNvdW50KSB7XHJcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShjb3VudCAqIDQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtSW50O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgZmxvYXQzMiBidWZmZXIgdmlldyBvbiB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkuXHJcbiAgICAgKlxyXG4gICAgICogKipOb3RlKio6IHRoaXMgbWV0aG9kIG1pZ2h0IGFsbG9jYXRlIGlmIHRoZSByZXF1ZXN0ZWQgbWVtb3J5IGlzIGJpZ2dlclxyXG4gICAgICogdGhhbiB0aGUgY3VycmVudCB0ZW1wb3JhcnkgbWVtb3J5IGFsbG9jYXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiAqKmVsZW1lbnRzKiogcmVxdWlyZWQuXHJcbiAgICAgKiBAcmV0dXJucyBBIHtAbGluayBUeXBlZEFycmF5fSBvdmVyIHRoZSBXQVNNIG1lbW9yeS5cclxuICAgICAqL1xyXG4gICAgZ2V0VGVtcEJ1ZmZlckYzMihjb3VudCkge1xyXG4gICAgICAgIHRoaXMucmVxdWlyZVRlbXBNZW0oY291bnQgKiA0KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcE1lbUZsb2F0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb3B5IHRoZSBzdHJpbmcgaW50byB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkgYW5kIHJldHJpZXZlIHRoZSBwb2ludGVyLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgbWV0aG9kIHdpbGwgY29tcHV0ZSB0aGUgc3RybGVuIGFuZCBhcHBlbmQgYSBgXFwwYC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGUgcmVzdWx0IHNob3VsZCBiZSB1c2VkICoqZGlyZWN0bHkqKiBvdGhlcndpc2UgaXQgbWlnaHQgZ2V0XHJcbiAgICAgKiBvdmVycmlkZGVuIGJ5IGFueSBuZXh0IGNhbGwgbW9kaWZ5aW5nIHRoZSB0ZW1wb3JhcnkgbWVtb3J5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzdHIgVGhlIHN0cmluZyB0byB3cml0ZSB0byB0ZW1wb3JhcnkgbWVtb3J5XHJcbiAgICAgKiBAcGFyYW0gYnl0ZU9mZnNldCBUaGUgc3RhcnRpbmcgYnl0ZSBvZmZzZXQgaW4gdGhlIHRlbXBvcmFyeSBtZW1vcnkgYXQgd2hpY2hcclxuICAgICAqICAgICB0aGUgc3RyaW5nIHNob3VsZCBiZSB3cml0dGVuLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHVzaW5nIG11bHRpcGxlIHRlbXBvcmFyaWVzLlxyXG4gICAgICogQHJldHVybiBUaGUgdGVtcG9yYXJ5IHBvaW50ZXIgb250byB0aGUgV0FTTSBtZW1vcnlcclxuICAgICAqL1xyXG4gICAgdGVtcFVURjgoc3RyLCBieXRlT2Zmc2V0ID0gMCkge1xyXG4gICAgICAgIGNvbnN0IHN0ckxlbiA9IHRoaXMubGVuZ3RoQnl0ZXNVVEY4KHN0cikgKyAxO1xyXG4gICAgICAgIHRoaXMucmVxdWlyZVRlbXBNZW0oc3RyTGVuICsgYnl0ZU9mZnNldCk7XHJcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fdGVtcE1lbSArIGJ5dGVPZmZzZXQ7XHJcbiAgICAgICAgdGhpcy5zdHJpbmdUb1VURjgoc3RyLCBwdHIsIHN0ckxlbik7XHJcbiAgICAgICAgcmV0dXJuIHB0cjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBpbmRleCBvZiB0aGUgY29tcG9uZW50IHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBtZXRob2QgdXNlcyBtYWxsb2MgYW5kIGNvcGllcyB0aGUgc3RyaW5nXHJcbiAgICAgKiB0byBhdm9pZCBvdmVyd3JpdGluZyBjYWxsZXIncyB0ZW1wb3JhcnkgZGF0YS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZSBUaGUgdHlwZVxyXG4gICAgICogQHJldHVybiBUaGUgY29tcG9uZW50IHR5cGUgaW5kZXhcclxuICAgICAqL1xyXG4gICAgX3R5cGVJbmRleEZvcih0eXBlKSB7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoQnl0ZXMgPSB0aGlzLmxlbmd0aEJ5dGVzVVRGOCh0eXBlKSArIDE7XHJcbiAgICAgICAgY29uc3QgbWVtID0gdGhpcy5fbWFsbG9jKGxlbmd0aEJ5dGVzKTtcclxuICAgICAgICB0aGlzLnN0cmluZ1RvVVRGOCh0eXBlLCBtZW0sIGxlbmd0aEJ5dGVzKTtcclxuICAgICAgICBjb25zdCBjb21wb25lbnRUeXBlID0gdGhpcy5fd2xfZ2V0X2NvbXBvbmVudF9tYW5hZ2VyX2luZGV4KG1lbSk7XHJcbiAgICAgICAgdGhpcy5fZnJlZShtZW0pO1xyXG4gICAgICAgIHJldHVybiBjb21wb25lbnRUeXBlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gdGhlIG5hbWUgb2YgY29tcG9uZW50IHR5cGUgc3RvcmVkIGF0IHRoZSBnaXZlbiBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZUluZGV4IFRoZSB0eXBlIGluZGV4XHJcbiAgICAgKiBAcmV0dXJuIFRoZSBuYW1lIGFzIGEgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIF90eXBlTmFtZUZvcih0eXBlSW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5VVEY4VG9TdHJpbmcodGhpcy5fd2xfY29tcG9uZW50X21hbmFnZXJfbmFtZSh0eXBlSW5kZXgpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJ1bnRpbWUgc3VwcG9ydHMgcGh5c3ggb3Igbm90LlxyXG4gICAgICovXHJcbiAgICBnZXQgd2l0aFBoeXNYKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl93aXRoUGh5c1g7XHJcbiAgICB9XHJcbiAgICAvKiogSmF2YVNjcmlwdCBtYW5hZ2VyIGluZGV4LiAqL1xyXG4gICAgZ2V0IF9qc01hbmFnZXJJbmRleCgpIHtcclxuICAgICAgICBpZiAodGhpcy5fanNNYW5hZ2VySW5kZXhDYWNoZWQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fanNNYW5hZ2VySW5kZXhDYWNoZWQgPSB0aGlzLl90eXBlSW5kZXhGb3IoJ2pzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9qc01hbmFnZXJJbmRleENhY2hlZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBlbmdpbmUgaW5zdGFuY2UgaG9sZGluZyB0aGlzIGJyaWRnZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGVuZ2luZSBUaGUgZW5naW5lIGluc3RhbmNlLlxyXG4gICAgICovXHJcbiAgICBfc2V0RW5naW5lKGVuZ2luZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgIH1cclxuICAgIC8qIFdlYkFzc2VtYmx5IHRvIEpTIGNhbGwgYnJpZGdlLiAqL1xyXG4gICAgX3dsanNfeHJfc2Vzc2lvbl9zdGFydChtb2RlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2VuZ2luZS54ciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbmdpbmUueHIgPSBuZXcgWFIodGhpcywgbW9kZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZ2luZS5vblhSU2Vzc2lvblN0YXJ0Lm5vdGlmeSh0aGlzLndlYnhyX3Nlc3Npb24sIG1vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF93bGpzX3hyX3Nlc3Npb25fZW5kKCkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0RW1pdHRlciA9IHRoaXMuX2VuZ2luZS5vblhSU2Vzc2lvblN0YXJ0O1xyXG4gICAgICAgIGlmIChzdGFydEVtaXR0ZXIgaW5zdGFuY2VvZiBSZXRhaW5FbWl0dGVyKVxyXG4gICAgICAgICAgICBzdGFydEVtaXR0ZXIucmVzZXQoKTtcclxuICAgICAgICB0aGlzLl9lbmdpbmUub25YUlNlc3Npb25FbmQubm90aWZ5KCk7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLnhyID0gbnVsbDtcclxuICAgIH1cclxuICAgIF93bGpzX3hyX2Rpc2FibGUoKSB7XHJcbiAgICAgICAgLyogQHRvZG8gVGhpcyBjb3VsZCBkaXJlY3RseSBiZSBmdWxseSBoYW5kbGVkIGluIEpTLiAqL1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS5hclN1cHBvcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS52clN1cHBvcnRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgX3dsanNfYWxsb2NhdGUobnVtQ29tcG9uZW50cykge1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMgPSBuZXcgQXJyYXkobnVtQ29tcG9uZW50cyk7XHJcbiAgICB9XHJcbiAgICBfd2xqc19pbml0KHdpdGhQaHlzWCkge1xyXG4gICAgICAgIHRoaXMuX3dpdGhQaHlzWCA9IHdpdGhQaHlzWDtcclxuICAgICAgICAvKiBUYXJnZXQgbWVtb3J5IGZvciBKUyBBUEkgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIGFycmF5cyAqL1xyXG4gICAgICAgIHRoaXMuYWxsb2NhdGVUZW1wTWVtb3J5KDEwMjQpO1xyXG4gICAgfVxyXG4gICAgX3dsanNfcmVhbGxvY2F0ZShudW1Db21wb25lbnRzKSB7XHJcbiAgICAgICAgaWYgKG51bUNvbXBvbmVudHMgPiB0aGlzLl9jb21wb25lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnRzLmxlbmd0aCA9IG51bUNvbXBvbmVudHM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3dsanNfc2NlbmVfYWRkX21hdGVyaWFsX2RlZmluaXRpb24oZGVmaW5pdGlvbklkKSB7XHJcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IG5ldyBNYXAoKTtcclxuICAgICAgICAvKiBDYWNoZSBtYXRlcmlhbCBkZWZpbml0aW9uIGZvciBmYXN0ZXIgcmVhZC93cml0ZSAqL1xyXG4gICAgICAgIGNvbnN0IG5iUGFyYW1zID0gdGhpcy5fd2xfbWF0ZXJpYWxfZGVmaW5pdGlvbl9nZXRfY291bnQoZGVmaW5pdGlvbklkKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5iUGFyYW1zOyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuVVRGOFRvU3RyaW5nKHRoaXMuX3dsX21hdGVyaWFsX2RlZmluaXRpb25fZ2V0X3BhcmFtX25hbWUoZGVmaW5pdGlvbklkLCBpKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLl93bF9tYXRlcmlhbF9kZWZpbml0aW9uX2dldF9wYXJhbV90eXBlKGRlZmluaXRpb25JZCwgaSk7XHJcbiAgICAgICAgICAgIGRlZmluaXRpb24uc2V0KG5hbWUsIHtcclxuICAgICAgICAgICAgICAgIGluZGV4OiBpLFxyXG4gICAgICAgICAgICAgICAgdHlwZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHQgJiAweGZmLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudENvdW50OiAodCA+PiA4KSAmIDB4ZmYsXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YVR5cGU6ICh0ID4+IDE2KSAmIDB4ZmYsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbWF0ZXJpYWxEZWZpbml0aW9uc1tkZWZpbml0aW9uSWRdID0gZGVmaW5pdGlvbjtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fYm9vbChjLCBwLCBwZSwgdikge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IHYgIT09IDA7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX2ludChjLCBwLCBwZSwgdikge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IHY7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX2Zsb2F0KGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID0gdjtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fc3RyaW5nKGMsIHAsIHBlLCB2LCB2ZSkge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyh2LCB2ZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fY29sb3IoYywgcCwgcGUsIHYpIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPSBuZXcgRmxvYXQzMkFycmF5KFswLCA4LCAxNiwgMjRdLm1hcCgocykgPT4gKCh2ID4+PiBzKSAmIDB4ZmYpIC8gMjU1LjApKTtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fb2JqZWN0KGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cclxuICAgICAgICAgICAgdiA+IDAgPyB0aGlzLl9lbmdpbmUud3JhcE9iamVjdCh2KSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX21lc2goYywgcCwgcGUsIHYpIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxyXG4gICAgICAgICAgICB2ID4gMCA/IG5ldyBNZXNoKHRoaXMuX2VuZ2luZSwgdikgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV90ZXh0dXJlKGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cclxuICAgICAgICAgICAgdiA+IDAgPyB0aGlzLl9lbmdpbmUudGV4dHVyZXMud3JhcCh2KSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX21hdGVyaWFsKGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cclxuICAgICAgICAgICAgdiA+IDAgPyBuZXcgTWF0ZXJpYWwodGhpcy5fZW5naW5lLCB2KSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX2FuaW1hdGlvbihjLCBwLCBwZSwgdikge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9XHJcbiAgICAgICAgICAgIHYgPiAwID8gbmV3IEFuaW1hdGlvbih0aGlzLl9lbmdpbmUsIHYpIDogbnVsbDtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fc2tpbihjLCBwLCBwZSwgdikge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9XHJcbiAgICAgICAgICAgIHYgPiAwID8gbmV3IFNraW4odGhpcy5fZW5naW5lLCB2KSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICBfd2xqc19nZXRfY29tcG9uZW50X3R5cGVfaW5kZXgobmFtZVB0ciwgbmFtZUVuZFB0cikge1xyXG4gICAgICAgIGNvbnN0IHR5cGVuYW1lID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKG5hbWVQdHIsIG5hbWVFbmRQdHIpO1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fY29tcG9uZW50VHlwZUluZGljZXNbdHlwZW5hbWVdO1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9icm9rZW5Db21wb25lbnRJbmRleDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfVxyXG4gICAgX3dsanNfY29tcG9uZW50X2NyZWF0ZShqc01hbmFnZXJJbmRleCwgaW5kZXgsIGlkLCB0eXBlLCBvYmplY3QpIHtcclxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5fY29tcG9uZW50VHlwZXNbdHlwZV07XHJcbiAgICAgICAgaWYgKCFjdG9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVHlwZSBpbmRleCAke3R5cGV9IGlzbid0IHJlZ2lzdGVyZWRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudCA9IG51bGw7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29tcG9uZW50ID0gbmV3IGN0b3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGBFeGNlcHRpb24gZHVyaW5nIGluc3RhbnRpYXRpb24gb2YgY29tcG9uZW50ICR7Y3Rvci5UeXBlTmFtZX1gKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGUpO1xyXG4gICAgICAgICAgICBjb21wb25lbnQgPSBuZXcgQnJva2VuQ29tcG9uZW50KHRoaXMuX2VuZ2luZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIFNldHMgdGhlIG1hbmFnZXIgYW5kIGlkZW50aWZpZXIgZnJvbSB0aGUgb3V0c2lkZSwgdG8gc2ltcGxpZnkgdGhlIHVzZXIncyBjb25zdHJ1Y3Rvci4gKi9cclxuICAgICAgICAvKiBAdHMtaWdub3JlICovXHJcbiAgICAgICAgY29tcG9uZW50Ll9lbmdpbmUgPSB0aGlzLl9lbmdpbmU7XHJcbiAgICAgICAgY29tcG9uZW50Ll9tYW5hZ2VyID0ganNNYW5hZ2VySW5kZXg7XHJcbiAgICAgICAgY29tcG9uZW50Ll9pZCA9IGlkO1xyXG4gICAgICAgIGNvbXBvbmVudC5fb2JqZWN0ID0gdGhpcy5fZW5naW5lLndyYXBPYmplY3Qob2JqZWN0KTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQucmVzZXRQcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBgRXhjZXB0aW9uIGR1cmluZyAke2NvbXBvbmVudC50eXBlfSByZXNldFByb3BlcnRpZXMoKSBvbiBvYmplY3QgJHtjb21wb25lbnQub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tpbmRleF0gPSBjb21wb25lbnQ7XHJcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcclxuICAgIH1cclxuICAgIF93bGpzX2NvbXBvbmVudF9pbml0KGNvbXBvbmVudCkge1xyXG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudF07XHJcbiAgICAgICAgYy5fdHJpZ2dlckluaXQoKTtcclxuICAgIH1cclxuICAgIF93bGpzX2NvbXBvbmVudF91cGRhdGUoY29tcG9uZW50LCBkdCkge1xyXG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudF07XHJcbiAgICAgICAgYy5fdHJpZ2dlclVwZGF0ZShkdCk7XHJcbiAgICB9XHJcbiAgICBfd2xqc19jb21wb25lbnRfb25BY3RpdmF0ZShjb21wb25lbnQpIHtcclxuICAgICAgICBjb25zdCBjID0gdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnRdO1xyXG4gICAgICAgIGlmIChjKVxyXG4gICAgICAgICAgICBjLl90cmlnZ2VyT25BY3RpdmF0ZSgpO1xyXG4gICAgfVxyXG4gICAgX3dsanNfY29tcG9uZW50X29uRGVhY3RpdmF0ZShjb21wb25lbnQpIHtcclxuICAgICAgICBjb25zdCBjID0gdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnRdO1xyXG4gICAgICAgIGMuX3RyaWdnZXJPbkRlYWN0aXZhdGUoKTtcclxuICAgIH1cclxuICAgIF93bGpzX2NvbXBvbmVudF9vbkRlc3Ryb3koY29tcG9uZW50KSB7XHJcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50XTtcclxuICAgICAgICBjLl90cmlnZ2VyT25EZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zd2FwKGEsIGIpIHtcclxuICAgICAgICBjb25zdCBjb21wb25lbnRBID0gdGhpcy5fY29tcG9uZW50c1thXTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2FdID0gdGhpcy5fY29tcG9uZW50c1tiXTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2JdID0gY29tcG9uZW50QTtcclxuICAgIH1cclxuICAgIF93bGpzX2NvcHkoc3JjLCBkc3QpIHtcclxuICAgICAgICBjb25zdCBkZXN0Q29tcCA9IHRoaXMuX2NvbXBvbmVudHNbZHN0XTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBkZXN0Q29tcC5jb3B5KHRoaXMuX2NvbXBvbmVudHNbc3JjXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBgRXhjZXB0aW9uIGR1cmluZyAke2Rlc3RDb21wLnR5cGV9IGNvcHkoKSBvbiBvYmplY3QgJHtkZXN0Q29tcC5vYmplY3QubmFtZX1gKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKlxyXG4gKiBBcGkgPD4gUnVudGltZSBjb21wYXRpYmlsaXR5LlxyXG4gKlxyXG4gKiBTb21lIGZlYXR1cmVzIGV4cG9zZWQgaW4gdGhlIEFQSSBhcmUgb25seSBhdmFpbGFibGUgZnJvbSBhIHNwZWNpZmljXHJcbiAqIHJ1bnRpbWUgdmVyc2lvbi5cclxuICpcclxuICogRXZlcnkgYWRkZWQgZmVhdHVyZSBtdXN0IHRocm93IGJ5IGRlZmF1bHQuIElmIHRoZSBydW50aW1lIGxvYWRlZFxyXG4gKiBoYXMgdGhlIHNwZWNpZmljIGZlYXR1cmUsIHRoZSBtZXRob2Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSBFbXNjcmlwdGVuXHJcbiAqIHVwb24gbG9hZGluZy5cclxuICovXHJcbmZ1bmN0aW9uIHRocm93SW52YWxpZFJ1bnRpbWUodmVyc2lvbikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZlYXR1cmUgYWRkZWQgaW4gdmVyc2lvbiAke3ZlcnNpb259LmAgK1xyXG4gICAgICAgICAgICBgXFxuXFx0XHUyMTkyIFBsZWFzZSB1c2UgYSBXb25kZXJsYW5kIEVuZ2luZSBlZGl0b3IgdmVyc2lvbiA+PSAke3ZlcnNpb259YCk7XHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IHJlcXVpcmVSdW50aW1lMV8xXzEgPSB0aHJvd0ludmFsaWRSdW50aW1lKCcxLjEuMScpO1xyXG5jb25zdCByZXF1aXJlUnVudGltZTFfMV81ID0gdGhyb3dJbnZhbGlkUnVudGltZSgnMS4xLjUnKTtcclxuLyoqIEB0b2RvOiBSZW1vdmUgYXQgMS4yLjAgKi9cclxuV0FTTS5wcm90b3R5cGUuX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfb2Zmc2V0VHJhbnNsYXRpb24gPSByZXF1aXJlUnVudGltZTFfMV8xO1xyXG5XQVNNLnByb3RvdHlwZS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9vZmZzZXRUcmFuc2xhdGlvbiA9IHJlcXVpcmVSdW50aW1lMV8xXzE7XHJcbldBU00ucHJvdG90eXBlLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X29mZnNldFRyYW5zZm9ybSA9IHJlcXVpcmVSdW50aW1lMV8xXzE7XHJcbldBU00ucHJvdG90eXBlLl93bF9waHlzeF9jb21wb25lbnRfc2V0X29mZnNldFJvdGF0aW9uID0gcmVxdWlyZVJ1bnRpbWUxXzFfMTtcclxuV0FTTS5wcm90b3R5cGUuX3dsX29iamVjdF9jbG9uZSA9IHJlcXVpcmVSdW50aW1lMV8xXzE7XHJcbldBU00ucHJvdG90eXBlLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3NsZWVwT25BY3RpdmF0ZSA9IHJlcXVpcmVSdW50aW1lMV8xXzU7XHJcbldBU00ucHJvdG90eXBlLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3NsZWVwT25BY3RpdmF0ZSA9IHJlcXVpcmVSdW50aW1lMV8xXzU7XHJcbldBU00ucHJvdG90eXBlLndlYnhyX29mZmVyU2Vzc2lvbiA9IHJlcXVpcmVSdW50aW1lMV8xXzU7XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4vKipcclxuICogOHRod2FsbCBjYW1lcmEgY29tcG9uZW50LlxyXG4gKlxyXG4gKiBTZXRzIHVwIHRoZSA4dGh3YWxsIHBpcGVsaW5lIGFuZCByZXRyaWV2ZXMgdHJhY2tpbmcgZXZlbnRzIHRvIHBsYWNlIGFuXHJcbiAqIG9iamVjdCBhdCB0aGUgbG9jYXRpb24gb2YgdGhlIHRyYWNrZWQgQVIgY2FtZXJhIC8gbW9iaWxlIGRldmljZS5cclxuICpcclxuICogVXNlIHRoaXMgZm9yIFNMQU0gdHJhY2tpbmcgYmFzZWQgb24gOHRod2FsbC5cclxuICpcclxuICogTWFrZSBzdXJlIHRvIGVuYWJsZSA4dGh3YWxsIGluIFwiUHJvamVjdCBTZXR0aW5nc1wiID4gXCJBUlwiLiBTZWUgYWxzbyB0aGVcclxuICogW0FSIEdldHRpbmcgU3RhcnRlZCBHdWlkZV0oL2dldHRpbmctc3RhcnRlZC9xdWljay1zdGFydC1hcilcclxuICpcclxuICpcclxuICogQ3VycmVudGx5IG9ubHkgc3VwcG9ydHMgd29ybGQtdHJhY2tpbmcgKFNMQU0pIHVzaW5nIEJBQ0sgY2FtZXJhLlxyXG4gKlxyXG4gKiAtIHJlbW92ZSBhbnkgb2NjdXJyZW5jZXMgb2YgdGhlIG9sZCA4dGh3YWxsLWNhbWVyYSBjb21wb25lbnQgaW4gdGhlIGVkaXRvclxyXG4gKiAtIEFkZCB0aGlzIGNvbXBvbmVudCB0byBOb25WckNhbWVyYVxyXG4gKlxyXG4gKiBJTVBPUlRBTlQhXHJcbiAqIC0gdW50aWwgaXQgZ2V0J3MgZml4ZWQsIHNlbGVjdCAnY3VzdG9tSW5kZXhIdG1sJyBpbiB0aGUgcHJvamVjdCBzZXR0aW5nc1xyXG4gKiAtIG9wZW4gYSBnZW5lcmF0ZWQgaW5kZXguaHRtbCBhbmQgY3Jvc3NvcmlnaW49XCJhbm9ueW1vdXNcIiBhdHRyaWJ1dGUgdG8gdGhlIDxzY3JpcHQ+IHRhZyB3aGVyZSAvL2FwcHMuOHRod2FsbC5jb20veHJ3ZWIgaXMgbG9hZGVkXHJcbiAqXHJcbiAqXHJcbiAqICMjIyMjIyMjIyBVc2luZyBVSSBvdmVybGF5cyAjIyMjIyMjIyMjIyMjXHJcbiAqIEJ5IGRlZmF1bHQsIHRoaXMgY29tcG9uZW50IHJlbmRlcnMgb3duIFVJIHRvIGdpdmUgdGhlIHVzZXIgZmVlZGJhY2sgYWJvdXQgcmVqZWN0ZWQgcGVybWlzc2lvbnMgb3IgdHJhY2tpbmcgZXJyb3JzLlxyXG4gKiBJdCBjYW4gYmUgY2hhbmdlZCBieSBlbmFibGluZyB1c2VDdXN0b21VSU92ZXJsYXlzIGZsYWcuXHJcbiAqXHJcbiAqIElmIHVzZUN1c3RvbVVJT3ZlcmxheXMgaXMgZW5hYmxlZCwgeW91IGFyZSBleHBlY3RlZCBoYW5kbGUgdGhlIGZvbGxvd2luZyBldmVudHMgZGlzcGF0Y2hlZCBieSB0aGUgd2luZG93IG9iamVjdDpcclxuICogLSBcIjh0aHdhbGwtcmVxdWVzdC11c2VyLWludGVyYWN0aW9uXCIgLSB1c2VkIG9ubHkgb24gaU9TIHNhZmFyaS4gUmVxdWVzdCBhIHVzZXIgdG8gcGVyZm9ybSBhbmQgaW50ZXJhY3Rpb24gd2l0aCB0aGUgcGFnZSBzbyB0aGF0IGphdmFzY3JpcHQgaXMgYWxsb3dlZCB0byBhbGxvd2VkIHRvIHJlcXVlc3QgYSBtb3Rpb24vY2FtZXJhL21pYyBwZXJtaXNzaW9ucy5cclxuICogIE1ha2Ugc3VyZSB0aGUgd2luZG93IG9iamVjdCBpcyBkaXNwYXRjaGluZyBhbiAnOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnIGV2ZW50IGFmdGVyIGludGVyYWN0aW9uIGhhcyBoYXBwZW5lZC5cclxuICogYGBgXHJcbiAqIDxidXR0b24gb25jbGljaz1cIndpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnKSlcIj5BbGxvdyBTZW5zb3JzPC9idXR0b24+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAtIFwiOHRod2FsbC1wZXJtaXNzaW9uLWZhaWxcIiAtIHVzZXIgcmVqZWN0ZWQgYW55IG9mIHRoZSBwZXJtaXNzaW9uc1xyXG4gKlxyXG4gKiAtIFwiOHRod2FsbC1lcnJvclwiIC0gcnVudGltZSA4dGh3YWxsIGVycm9yIG9jY3VycmVkXHJcbiAqL1xyXG5jbGFzcyBBUkNhbWVyYTh0aHdhbGwgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJzh0aHdhbGwtY2FtZXJhJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBPdmVycmlkZSB0aGUgV0wgaHRtbCBvdmVybGF5cyBmb3IgaGFuZGxpbmcgY2FtZXJhL21vdGlvbiBwZXJtaXNzaW9ucyBhbmQgZXJyb3IgaGFuZGxpbmcgKi9cclxuICAgICAgICB1c2VDdXN0b21VSU92ZXJsYXlzOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgIH07XHJcbiAgICAvKiA4dGh3YWxsIGNhbWVyYSBwaXBlbGluZSBtb2R1bGUgbmFtZSAqL1xyXG4gICAgbmFtZSA9ICd3b25kZXJsYW5kLWVuZ2luZS04dGh3YWxsLWNhbWVyYSc7XHJcbiAgICBzdGFydGVkID0gZmFsc2U7XHJcbiAgICB2aWV3ID0gbnVsbDsgLy8gY2FjaGUgY2FtZXJhXHJcbiAgICBwb3NpdGlvbiA9IFswLCAwLCAwXTsgLy8gY2FjaGUgOHRod2FsbCBjYW0gcG9zaXRpb25cclxuICAgIHJvdGF0aW9uID0gWzAsIDAsIDAsIC0xXTsgLy8gY2FjaGUgOHRod2FsbCBjYW0gcm90YXRpb25cclxuICAgIGdsVGV4dHVyZVJlbmRlcmVyID0gbnVsbDsgLy8gY2FjaGUgWFI4LkdsVGV4dHVyZVJlbmRlcmVyLnBpcGVsaW5lTW9kdWxlXHJcbiAgICBwcm9tcHRGb3JEZXZpY2VNb3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgLy8gVGVsbCBhbnlvbmUgd2hvJ3MgaW50ZXJlc3RlZCB0aGF0IHdlIHdhbnQgdG8gZ2V0IHNvbWUgdXNlciBpbnRlcmFjdGlvblxyXG4gICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJzh0aHdhbGwtcmVxdWVzdC11c2VyLWludGVyYWN0aW9uJykpO1xyXG4gICAgICAgICAgICAvLyBXYWl0IHVudGlsIHNvbWVvbmUgcmVzcG9uc2UgdGhhdCB1c2VyIGludGVyYWN0aW9uIGhhcHBlbmVkXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCc4dGh3YWxsLXNhZmUtdG8tcmVxdWVzdC1wZXJtaXNzaW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW90aW9uRXZlbnQgPSBhd2FpdCBEZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUobW90aW9uRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGV4Y2VwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChleGNlcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGFzeW5jIGdldFBlcm1pc3Npb25zKCkge1xyXG4gICAgICAgIC8vIGlPUyBcImZlYXR1cmVcIi4gSWYgd2Ugd2FudCB0byByZXF1ZXN0IHRoZSBEZXZpY2VNb3Rpb24gcGVybWlzc2lvbiwgdXNlciBoYXMgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgcGFnZSBhdCBmaXJzdCAodG91Y2ggaXQpLlxyXG4gICAgICAgIC8vIElmIHRoZXJlIHdhcyBubyBpbnRlcmFjdGlvbiBkb25lIHNvIGZhciwgd2Ugd2lsbCByZW5kZXIgYSBIVE1MIG92ZXJsYXkgd2l0aCB3b3VsZCBnZXQgdGhlIHVzZXIgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgc2NyZWVuXHJcbiAgICAgICAgaWYgKERldmljZU1vdGlvbkV2ZW50ICYmIERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBEZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpO1xyXG4gICAgICAgICAgICAgICAgLy8gVGhlIHVzZXIgbXVzdCBoYXZlIHJlamVjdGVkIHRoZSBtb3Rpb24gZXZlbnQgb24gcHJldmlvdXMgcGFnZSBsb2FkLiAoc2FmYXJpIHJlbWVtYmVycyB0aGlzIGNob2ljZSkuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSAnZ3JhbnRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vdGlvbkV2ZW50Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGV4Y2VwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gVXNlciBoYWQgbm8gaW50ZXJhY3Rpb24gd2l0aCB0aGUgcGFnZSBzbyBmYXJcclxuICAgICAgICAgICAgICAgIGlmIChleGNlcHRpb24ubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3Rpb25FdmVudCA9IGF3YWl0IHRoaXMucHJvbXB0Rm9yRGV2aWNlTW90aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdGlvbkV2ZW50ICE9PSAnZ3JhbnRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb3Rpb25FdmVudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTW90aW9uRXZlbnQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2UgZ2V0IHRoZSBjYW1lcmEgc3RyZWFtXHJcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcclxuICAgICAgICAgICAgICAgIHZpZGVvOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYXVkaW86IHRydWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBJZiB3ZSBzdWNjZXNzZnVsbHkgYWNxdWlyZWQgdGhlIGNhbWVyYSBzdHJlYW0gLSB3ZSBjYW4gc3RvcCBpdCBhbmQgd2FpdCB1bnRpbCA4dGh3YWxsIHJlcXVlc3RzIGl0IGFnYWluXHJcbiAgICAgICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGV4Y2VwdGlvbikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbWVyYScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCd2aWV3Jyk7XHJcbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IHRoaXMub25VcGRhdGUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uQXR0YWNoID0gdGhpcy5vbkF0dGFjaC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25FeGNlcHRpb24gPSB0aGlzLm9uRXhjZXB0aW9uLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbkNhbWVyYVN0YXR1c0NoYW5nZSA9IHRoaXMub25DYW1lcmFTdGF0dXNDaGFuZ2UuYmluZCh0aGlzKTtcclxuICAgIH1cclxuICAgIGFzeW5jIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMudmlldyA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgndmlldycpO1xyXG4gICAgICAgIGlmICghdGhpcy51c2VDdXN0b21VSU92ZXJsYXlzKSB7XHJcbiAgICAgICAgICAgIE92ZXJsYXlzSGFuZGxlci5pbml0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0UGVybWlzc2lvbnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIFVzZXIgZGlkIG5vdCBncmFudCB0aGUgY2FtZXJhIG9yIG1vdGlvbkV2ZW50IHBlcm1pc3Npb25zXHJcbiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnOHRod2FsbC1wZXJtaXNzaW9uLWZhaWwnLCB7IGRldGFpbDogZXJyb3IgfSkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGF3YWl0IHRoaXMud2FpdEZvclhSOCgpO1xyXG4gICAgICAgIFhSOC5YckNvbnRyb2xsZXIuY29uZmlndXJlKHtcclxuICAgICAgICAgICAgZGlzYWJsZVdvcmxkVHJhY2tpbmc6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2xUZXh0dXJlUmVuZGVyZXIgPSBYUjguR2xUZXh0dXJlUmVuZGVyZXIucGlwZWxpbmVNb2R1bGUoKTtcclxuICAgICAgICBYUjguYWRkQ2FtZXJhUGlwZWxpbmVNb2R1bGVzKFtcclxuICAgICAgICAgICAgdGhpcy5nbFRleHR1cmVSZW5kZXJlcixcclxuICAgICAgICAgICAgWFI4LlhyQ29udHJvbGxlci5waXBlbGluZU1vZHVsZSgpLFxyXG4gICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlnOiB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb246IFhSOC5YckNvbmZpZy5jYW1lcmEoKS5CQUNLLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYW52YXM6IE1vZHVsZS5jYW52YXMsXHJcbiAgICAgICAgICAgIGFsbG93ZWREZXZpY2VzOiBYUjguWHJDb25maWcuZGV2aWNlKCkuQU5ZLFxyXG4gICAgICAgICAgICBvd25SdW5Mb29wOiBmYWxzZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIFhSOC5ydW4oY29uZmlnKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIDh0aHdhbGwgcGlwZWxpbmUgZnVuY3Rpb25cclxuICAgICAqL1xyXG4gICAgb25BdHRhY2gocGFyYW1zKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5zY2VuZS5jb2xvckNsZWFyRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IGdsID0gTW9kdWxlLmN0eDtcclxuICAgICAgICBjb25zdCByb3QgPSB0aGlzLm9iamVjdC5yb3RhdGlvbldvcmxkO1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQoW10pO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBBcnJheS5mcm9tKHBvcyk7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IEFycmF5LmZyb20ocm90KTtcclxuICAgICAgICBYUjguWHJDb250cm9sbGVyLnVwZGF0ZUNhbWVyYVByb2plY3Rpb25NYXRyaXgoe1xyXG4gICAgICAgICAgICBvcmlnaW46IHsgeDogcG9zWzBdLCB5OiBwb3NbMV0sIHo6IHBvc1syXSB9LFxyXG4gICAgICAgICAgICBmYWNpbmc6IHsgeDogcm90WzBdLCB5OiByb3RbMV0sIHo6IHJvdFsyXSwgdzogcm90WzNdIH0sXHJcbiAgICAgICAgICAgIGNhbToge1xyXG4gICAgICAgICAgICAgICAgcGl4ZWxSZWN0V2lkdGg6IE1vZHVsZS5jYW52YXMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBwaXhlbFJlY3RIZWlnaHQ6IE1vZHVsZS5jYW52YXMuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgbmVhckNsaXBQbGFuZTogdGhpcy52aWV3Lm5lYXIsXHJcbiAgICAgICAgICAgICAgICBmYXJDbGlwUGxhbmU6IHRoaXMudmlldy5mYXIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUuc2NlbmUub25QcmVSZW5kZXIucHVzaCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5EUkFXX0ZSQU1FQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgWFI4LnJ1blByZVJlbmRlcihEYXRlLm5vdygpKTtcclxuICAgICAgICAgICAgWFI4LnJ1blJlbmRlcigpOyAvLyA8LS0tIHRlbGwgOHRod2FsbCB0byBkbyBpdCdzIHRoaW5nIChhbHRlcm5hdGl2ZWx5IGNhbGwgdGhpcy5nbFRleHR1cmVSZW5kZXJlci5vblJlbmRlcigpIGlmIHlvdSBvbmx5IGNhcmUgYWJvdXQgY2FtZXJhIGZlZWQgKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLnNjZW5lLm9uUG9zdFJlbmRlci5wdXNoKCgpID0+IHtcclxuICAgICAgICAgICAgWFI4LnJ1blBvc3RSZW5kZXIoRGF0ZS5ub3coKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiA4dGh3YWxsIHBpcGVsaW5lIGZ1bmN0aW9uXHJcbiAgICAgKi9cclxuICAgIG9uQ2FtZXJhU3RhdHVzQ2hhbmdlKGUpIHtcclxuICAgICAgICBpZiAoZSAmJiBlLnN0YXR1cyA9PT0gJ2ZhaWxlZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkV4Y2VwdGlvbihuZXcgRXJyb3IoYENhbWVyYSBmYWlsZWQgd2l0aCBzdGF0dXM6ICR7ZS5zdGF0dXN9YCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIDh0aHdhbGwgcGlwZWxpbmUgZnVuY3Rpb25cclxuICAgICAqL1xyXG4gICAgb25VcGRhdGUoZSkge1xyXG4gICAgICAgIGlmICghZS5wcm9jZXNzQ3B1UmVzdWx0LnJlYWxpdHkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBjb25zdCB7IHJvdGF0aW9uLCBwb3NpdGlvbiwgaW50cmluc2ljcyB9ID0gZS5wcm9jZXNzQ3B1UmVzdWx0LnJlYWxpdHk7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvblswXSA9IHJvdGF0aW9uLng7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvblsxXSA9IHJvdGF0aW9uLnk7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvblsyXSA9IHJvdGF0aW9uLno7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvblszXSA9IHJvdGF0aW9uLnc7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvblswXSA9IHBvc2l0aW9uLng7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvblsxXSA9IHBvc2l0aW9uLnk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvblsyXSA9IHBvc2l0aW9uLno7XHJcbiAgICAgICAgaWYgKGludHJpbnNpY3MpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbk1hdHJpeCA9IHRoaXMudmlldy5wcm9qZWN0aW9uTWF0cml4O1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8qIFNvbWUgcHJvY2Vzc0NwdVJlc3VsdC5yZWFsaXR5LmludHJpbnNpY3MgYXJlIHNldCB0byBJbmZpbml0eSxcclxuICAgICAgICAgICAgICAgICAqIHdoaWNoIGJyYWtlcyBvdXIgcHJvamVjdGlvbk1hdHJpeC4gU28gd2UganVzdCBmaWx0ZXIgdGhvc2UgZWxlbWVudHMgb3V0LiAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShpbnRyaW5zaWNzW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXhbaV0gPSBpbnRyaW5zaWNzW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwb3NpdGlvbiAmJiByb3RhdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGlvbldvcmxkID0gdGhpcy5yb3RhdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3Quc2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLnBvc2l0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiA4dGh3YWxsIHBpcGVsaW5lIGZ1bmN0aW9uXHJcbiAgICAgKi9cclxuICAgIG9uRXhjZXB0aW9uKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignOHRod2FsbCBleGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnOHRod2FsbC1lcnJvcicsIHsgZGV0YWlsOiBlcnJvciB9KSk7XHJcbiAgICB9XHJcbiAgICB3YWl0Rm9yWFI4KCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgX3JlaikgPT4ge1xyXG4gICAgICAgICAgICBpZiAod2luZG93LlhSOCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3hybG9hZGVkJywgKCkgPT4gcmVzb2x2ZSgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IEFSQ2FtZXJhOHRod2FsbCB9O1xyXG5jb25zdCBPdmVybGF5c0hhbmRsZXIgPSB7XHJcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0VXNlckludGVyYWN0aW9uID0gdGhpcy5oYW5kbGVSZXF1ZXN0VXNlckludGVyYWN0aW9uLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVQZXJtaXNzaW9uRmFpbCA9IHRoaXMuaGFuZGxlUGVybWlzc2lvbkZhaWwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZUVycm9yID0gdGhpcy5oYW5kbGVFcnJvci5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCc4dGh3YWxsLXJlcXVlc3QtdXNlci1pbnRlcmFjdGlvbicsIHRoaXMuaGFuZGxlUmVxdWVzdFVzZXJJbnRlcmFjdGlvbik7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJzh0aHdhbGwtcGVybWlzc2lvbi1mYWlsJywgdGhpcy5oYW5kbGVQZXJtaXNzaW9uRmFpbCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJzh0aHdhbGwtZXJyb3InLCB0aGlzLmhhbmRsZUVycm9yKTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVSZXF1ZXN0VXNlckludGVyYWN0aW9uOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuc2hvd092ZXJsYXkocmVxdWVzdFBlcm1pc3Npb25PdmVybGF5KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG92ZXJsYXkucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlUGVybWlzc2lvbkZhaWw6IGZ1bmN0aW9uIChfcmVhc29uKSB7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlcmxheShmYWlsZWRQZXJtaXNzaW9uT3ZlcmxheSk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIChfZXJyb3IpIHtcclxuICAgICAgICB0aGlzLnNob3dPdmVybGF5KHJ1bnRpbWVFcnJvck92ZXJsYXkpO1xyXG4gICAgfSxcclxuICAgIHNob3dPdmVybGF5OiBmdW5jdGlvbiAoaHRtbENvbnRlbnQpIHtcclxuICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgb3ZlcmxheS5pbm5lckhUTUwgPSBodG1sQ29udGVudDtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpO1xyXG4gICAgICAgIHJldHVybiBvdmVybGF5O1xyXG4gICAgfSxcclxufTtcclxuY29uc3QgcmVxdWVzdFBlcm1pc3Npb25PdmVybGF5ID0gYFxyXG48c3R5bGU+XHJcbiAgI3JlcXVlc3QtcGVybWlzc2lvbi1vdmVybGF5IHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHotaW5kZXg6IDk5OTtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XHJcbiAgfVxyXG5cclxuICAucmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXlfdGl0bGUge1xyXG4gICAgbWFyZ2luOiAzMHB4O1xyXG4gICAgZm9udC1zaXplOiAzMnB4O1xyXG4gIH1cclxuXHJcbiAgLnJlcXVlc3QtcGVybWlzc2lvbi1vdmVybGF5X2J1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTgwMDg2O1xyXG4gICAgZm9udC1zaXplOiAyMnB4O1xyXG4gICAgcGFkZGluZzogMTBweCAzMHB4O1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gIH1cclxuPC9zdHlsZT5cclxuXHJcbjxkaXYgaWQ9XCJyZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheVwiPlxyXG4gIDxkaXYgY2xhc3M9XCJyZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheV90aXRsZVwiPlRoaXMgYXBwIHJlcXVpcmVzIHRvIHVzZSB5b3VyIGNhbWVyYSBhbmQgbW90aW9uIHNlbnNvcnM8L2Rpdj5cclxuXHJcbiAgPGJ1dHRvbiBjbGFzcz1cInJlcXVlc3QtcGVybWlzc2lvbi1vdmVybGF5X2J1dHRvblwiIG9uY2xpY2s9XCJ3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJzh0aHdhbGwtc2FmZS10by1yZXF1ZXN0LXBlcm1pc3Npb25zJykpXCI+T0s8L2J1dHRvbj5cclxuPC9kaXY+YDtcclxuY29uc3QgZmFpbGVkUGVybWlzc2lvbk92ZXJsYXkgPSBgXHJcbjxzdHlsZT5cclxuICAjZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB6LWluZGV4OiA5OTk7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xyXG4gIH1cclxuXHJcbiAgLmZhaWxlZC1wZXJtaXNzaW9uLW92ZXJsYXlfdGl0bGUge1xyXG4gICAgbWFyZ2luOiAzMHB4O1xyXG4gICAgZm9udC1zaXplOiAzMnB4O1xyXG4gIH1cclxuXHJcbiAgLmZhaWxlZC1wZXJtaXNzaW9uLW92ZXJsYXlfYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlODAwODY7XHJcbiAgICBmb250LXNpemU6IDIycHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDMwcHg7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgfVxyXG48L3N0eWxlPlxyXG5cclxuPGRpdiBpZD1cImZhaWxlZC1wZXJtaXNzaW9uLW92ZXJsYXlcIj5cclxuICA8ZGl2IGNsYXNzPVwiZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheV90aXRsZVwiPkZhaWxlZCB0byBncmFudCBwZXJtaXNzaW9ucy4gUmVzZXQgdGhlIHRoZSBwZXJtaXNzaW9ucyBhbmQgcmVmcmVzaCB0aGUgcGFnZS48L2Rpdj5cclxuXHJcbiAgPGJ1dHRvbiBjbGFzcz1cImZhaWxlZC1wZXJtaXNzaW9uLW92ZXJsYXlfYnV0dG9uXCIgb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVwiPlJlZnJlc2ggdGhlIHBhZ2U8L2J1dHRvbj5cclxuPC9kaXY+YDtcclxuY29uc3QgcnVudGltZUVycm9yT3ZlcmxheSA9IGBcclxuPHN0eWxlPlxyXG4gICN3YWxsLWVycm9yLW92ZXJsYXkge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgei1pbmRleDogOTk5O1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcclxuICB9XHJcblxyXG4gIC53YWxsLWVycm9yLW92ZXJsYXlfdGl0bGUge1xyXG4gICAgbWFyZ2luOiAzMHB4O1xyXG4gICAgZm9udC1zaXplOiAzMnB4O1xyXG4gIH1cclxuXHJcbiAgLndhbGwtZXJyb3Itb3ZlcmxheV9idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U4MDA4NjtcclxuICAgIGZvbnQtc2l6ZTogMjJweDtcclxuICAgIHBhZGRpbmc6IDEwcHggMzBweDtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICB9XHJcbjwvc3R5bGU+XHJcblxyXG48ZGl2IGlkPVwid2FsbC1lcnJvci1vdmVybGF5XCI+XHJcbiAgPGRpdiBjbGFzcz1cIndhbGwtZXJyb3Itb3ZlcmxheV90aXRsZVwiPkVycm9yIGhhcyBvY2N1cnJlZC4gUGxlYXNlIHJlbG9hZCB0aGUgcGFnZTwvZGl2PlxyXG5cclxuICA8YnV0dG9uIGNsYXNzPVwid2FsbC1lcnJvci1vdmVybGF5X2J1dHRvblwiIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcIj5SZWxvYWQ8L2J1dHRvbj5cclxuPC9kaXY+YDtcclxuIiwgImNvbnN0IHRlbXBWZWMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG5jb25zdCB0ZW1wUXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwobywgdHJhbnNmb3JtKSB7XHJcbiAgICBjb25zdCByID0gdHJhbnNmb3JtLm9yaWVudGF0aW9uO1xyXG4gICAgdGVtcFF1YXRbMF0gPSByLng7XHJcbiAgICB0ZW1wUXVhdFsxXSA9IHIueTtcclxuICAgIHRlbXBRdWF0WzJdID0gci56O1xyXG4gICAgdGVtcFF1YXRbM10gPSByLnc7XHJcbiAgICBjb25zdCB0ID0gdHJhbnNmb3JtLnBvc2l0aW9uO1xyXG4gICAgdGVtcFZlY1swXSA9IHQueDtcclxuICAgIHRlbXBWZWNbMV0gPSB0Lnk7XHJcbiAgICB0ZW1wVmVjWzJdID0gdC56O1xyXG4gICAgby5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgIG8uc2V0Um90YXRpb25Mb2NhbCh0ZW1wUXVhdCk7XHJcbiAgICBvLnRyYW5zbGF0ZUxvY2FsKHRlbXBWZWMpO1xyXG59XHJcbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEVtaXR0ZXIgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuaW1wb3J0IHsgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsIH0gZnJvbSAnLi91dGlscy93ZWJ4ci5qcyc7XHJcbnZhciB0ZW1wVmVjMyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbnZhciB0ZW1wUXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XHJcbi8qKlxyXG4gKiBTZXRzIHRoZSBsb2NhdGlvbiBvZiB0aGUgb2JqZWN0IHRvIHRoZSBsb2NhdGlvbiBvZiBhbiBYUkFuY2hvclxyXG4gKlxyXG4gKiBDcmVhdGUgYW5jaG9ycyB1c2luZyB0aGUgYEFuY2hvci5jcmVhdGUoKWAgc3RhdGljIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBFeGFtcGxlIGZvciB1c2Ugd2l0aCBjdXJzb3I6XHJcbiAqIGBgYGpzXHJcbiAqIGN1cnNvclRhcmdldC5vbkNsaWNrLmFkZCgob2JqZWN0LCBjdXJzb3IsIG9yaWdpbmFsRXZlbnQpID0+IHtcclxuICogICAgIC8qIE9ubHkgZXZlbnRzIGluIFhSIHdpbGwgaGF2ZSBhIGZyYW1lIGF0dGFjaGVkICpcXC9cclxuICogICAgIGlmKCFvcmlnaW5hbEV2ZW50LmZyYW1lKSByZXR1cm47XHJcbiAqICAgICBBbmNob3IuY3JlYXRlKGFuY2hvck9iamVjdCwge3V1aWQ6IGlkLCBwZXJzaXN0OiB0cnVlfSwgb3JpZ2luYWxFdmVudC5mcmFtZSk7XHJcbiAqIH0pO1xyXG4gKiBgYGBcclxuICovXHJcbmNsYXNzIEFuY2hvciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnYW5jaG9yJztcclxuICAgIC8qIFN0YXRpYyBtYW5hZ2VtZW50IG9mIGFsbCBhbmNob3JzICovXHJcbiAgICBzdGF0aWMgI2FuY2hvcnMgPSBbXTtcclxuICAgIHBlcnNpc3QgPSBmYWxzZTtcclxuICAgIC8qKiBVbmlxdWUgaWRlbnRpZmllciB0byBsb2FkIGEgcGVyc2lzdGVudCBhbmNob3IgZnJvbSwgb3IgZW1wdHkvbnVsbCBpZiB1bmtub3duICovXHJcbiAgICB1dWlkID0gbnVsbDtcclxuICAgIC8qKiBUaGUgeHJBbmNob3IsIGlmIGNyZWF0ZWQgKi9cclxuICAgIHhyQW5jaG9yID0gbnVsbDtcclxuICAgIC8qKiBFbWl0cyBldmVudHMgd2hlbiB0aGUgYW5jaG9yIGlzIGNyZWF0ZWQgZWl0aGVyIGJ5IGJlaW5nIHJlc3RvcmVkIG9yIG5ld2x5IGNyZWF0ZWQgKi9cclxuICAgIG9uQ3JlYXRlID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBXaGV0aGVyIHRoZSBhbmNob3IgaXMgY3VycmVudGx5IGJlaW5nIHRyYWNrZWQgKi9cclxuICAgIHZpc2libGUgPSBmYWxzZTtcclxuICAgIC8qKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoaXMgYW5jaG9yIHN0YXJ0cyB0cmFja2luZyAqL1xyXG4gICAgb25UcmFja2luZ0ZvdW5kID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoaXMgYW5jaG9yIHN0b3BzIHRyYWNraW5nICovXHJcbiAgICBvblRyYWNraW5nTG9zdCA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogWFJGcmFtZSB0byB1c2UgZm9yIGNyZWF0aW5nIHRoZSBhbmNob3IgKi9cclxuICAgIHhyRnJhbWUgPSBudWxsO1xyXG4gICAgLyoqIFhSSGl0VGVzdFJlc3VsdCB0byB1c2UgZm9yIGNyZWF0aW5nIHRoZSBhbmNob3IgKi9cclxuICAgIHhySGl0UmVzdWx0ID0gbnVsbDtcclxuICAgIC8qKiBSZXRyaWV2ZSBhbGwgYW5jaG9ycyBvZiB0aGUgY3VycmVudCBzY2VuZSAqL1xyXG4gICAgc3RhdGljIGdldEFsbEFuY2hvcnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIEFuY2hvci4jYW5jaG9ycztcclxuICAgIH1cclxuICAgIHN0YXRpYyAjYWRkQW5jaG9yKGFuY2hvcikge1xyXG4gICAgICAgIEFuY2hvci4jYW5jaG9ycy5wdXNoKGFuY2hvcik7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgI3JlbW92ZUFuY2hvcihhbmNob3IpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IEFuY2hvci4jYW5jaG9ycy5pbmRleE9mKGFuY2hvcik7XHJcbiAgICAgICAgaWYgKGluZGV4IDwgMClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIEFuY2hvci4jYW5jaG9ycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgYW5jaG9yXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG8gT2JqZWN0IHRvIGF0dGFjaCB0aGUgY29tcG9uZW50IHRvXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFBhcmFtZXRlcnMgZm9yIHRoZSBhbmNob3IgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0gZnJhbWUgWFJGcmFtZSB0byB1c2UgZm9yIGFuY2hvciBjcmF0aW9uLCBpZiBudWxsLCB3aWxsIHVzZSB0aGUgY3VycmVudCBmcmFtZSBpZiBhdmFpbGFibGVcclxuICAgICAqIEBwYXJhbSBoaXRSZXN1bHQgT3B0aW9uYWwgaGl0LXRlc3QgcmVzdWx0IHRvIGNyZWF0ZSB0aGUgYW5jaG9yIHdpdGhcclxuICAgICAqIEByZXR1cm5zIFByb21pc2UgZm9yIHRoZSBuZXdseSBjcmVhdGVkIGFuY2hvciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNyZWF0ZShvLCBwYXJhbXMsIGZyYW1lLCBoaXRSZXN1bHQpIHtcclxuICAgICAgICBjb25zdCBhID0gby5hZGRDb21wb25lbnQoQW5jaG9yLCB7IC4uLnBhcmFtcywgYWN0aXZlOiBmYWxzZSB9KTtcclxuICAgICAgICBpZiAoYSA9PT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgYS54ckhpdFJlc3VsdCA9IGhpdFJlc3VsdCA/PyBudWxsO1xyXG4gICAgICAgIGEueHJGcmFtZSA9IGZyYW1lID8/IG51bGw7XHJcbiAgICAgICAgYS5vbkNyZWF0ZS5vbmNlKCgpID0+ICgoYS54ckZyYW1lID0gbnVsbCksIChhLnhySGl0UmVzdWx0ID0gbnVsbCkpKTtcclxuICAgICAgICBhLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIGEub25DcmVhdGUucHJvbWlzZSgpO1xyXG4gICAgfVxyXG4gICAgI2dldEZyYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnhyRnJhbWUgfHwgdGhpcy5lbmdpbmUueHIuZnJhbWU7XHJcbiAgICB9XHJcbiAgICBhc3luYyAjY3JlYXRlQW5jaG9yKCkge1xyXG4gICAgICAgIGlmICghdGhpcy4jZ2V0RnJhbWUoKS5jcmVhdGVBbmNob3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBhbmNob3IgLSBhbmNob3JzIG5vdCBzdXBwb3J0ZWQsIGRpZCB5b3UgZW5hYmxlIHRoZSAnYW5jaG9ycycgV2ViWFIgZmVhdHVyZT9cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnhySGl0UmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnhySGl0UmVzdWx0LmNyZWF0ZUFuY2hvciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVlc3RlZCBhbmNob3Igb24gWFJIaXRUZXN0UmVzdWx0LCBidXQgV2ViWFIgaGl0LXRlc3QgZmVhdHVyZSBpcyBub3QgYXZhaWxhYmxlLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnhySGl0UmVzdWx0LmNyZWF0ZUFuY2hvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0ZW1wVmVjMyk7XHJcbiAgICAgICAgICAgIHRlbXBRdWF0LnNldCh0aGlzLm9iamVjdC5yb3RhdGlvbldvcmxkKTtcclxuICAgICAgICAgICAgY29uc3Qgcm90YXRpb24gPSB0ZW1wUXVhdDtcclxuICAgICAgICAgICAgY29uc3QgYW5jaG9yUG9zZSA9IG5ldyBYUlJpZ2lkVHJhbnNmb3JtKHsgeDogdGVtcFZlYzNbMF0sIHk6IHRlbXBWZWMzWzFdLCB6OiB0ZW1wVmVjM1syXSB9LCB7IHg6IHJvdGF0aW9uWzBdLCB5OiByb3RhdGlvblsxXSwgejogcm90YXRpb25bMl0sIHc6IHJvdGF0aW9uWzNdIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4jZ2V0RnJhbWUoKT8uY3JlYXRlQW5jaG9yKGFuY2hvclBvc2UsIHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgI29uQWRkQW5jaG9yKGFuY2hvcikge1xyXG4gICAgICAgIGlmICghYW5jaG9yKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMucGVyc2lzdCkge1xyXG4gICAgICAgICAgICBpZiAoYW5jaG9yLnJlcXVlc3RQZXJzaXN0ZW50SGFuZGxlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGFuY2hvci5yZXF1ZXN0UGVyc2lzdGVudEhhbmRsZSgpLnRoZW4oKHV1aWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnV1aWQgPSB1dWlkO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI29uQ3JlYXRlKGFuY2hvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgQW5jaG9yLiNhZGRBbmNob3IodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignYW5jaG9yOiBQZXJzaXN0ZW50IGFuY2hvcnMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBjbGllbnQuIElnbm9yaW5nIHBlcnNpc3QgcHJvcGVydHkuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy4jb25DcmVhdGUoYW5jaG9yKTtcclxuICAgIH1cclxuICAgICNvblJlc3RvcmVBbmNob3IoYW5jaG9yKSB7XHJcbiAgICAgICAgdGhpcy4jb25DcmVhdGUoYW5jaG9yKTtcclxuICAgIH1cclxuICAgICNvbkNyZWF0ZShhbmNob3IpIHtcclxuICAgICAgICB0aGlzLnhyQW5jaG9yID0gYW5jaG9yO1xyXG4gICAgICAgIHRoaXMub25DcmVhdGUubm90aWZ5KHRoaXMpO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudXVpZCAmJiB0aGlzLmVuZ2luZS54cikge1xyXG4gICAgICAgICAgICB0aGlzLnBlcnNpc3QgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5yZXN0b3JlUGVyc2lzdGVudEFuY2hvciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2FuY2hvcjogUGVyc2lzdGVudCBhbmNob3JzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgY2xpZW50LiBJZ25vcmluZyBwZXJzaXN0IHByb3BlcnR5LicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLnhyLnNlc3Npb24ucmVzdG9yZVBlcnNpc3RlbnRBbmNob3IodGhpcy51dWlkKS50aGVuKHRoaXMuI29uUmVzdG9yZUFuY2hvci5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy4jZ2V0RnJhbWUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLiNjcmVhdGVBbmNob3IoKS50aGVuKHRoaXMuI29uQWRkQW5jaG9yLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbmNob3JzIGNhbiBvbmx5IGJlIGNyZWF0ZWQgZHVyaW5nIHRoZSBYUiBmcmFtZSBpbiBhbiBhY3RpdmUgWFIgc2Vzc2lvbicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMueHJBbmNob3IgfHwgIXRoaXMuZW5naW5lLnhyKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLyogV2UgbmVlZCB0byB1c2UgdGhlIGFjdHVhbCBmcmFtZSBmcm9tIHRoZSBkcmF3IGNhbGxiYWNrIGhlcmUgKi9cclxuICAgICAgICBjb25zdCBwb3NlID0gdGhpcy5lbmdpbmUueHIuZnJhbWUuZ2V0UG9zZSh0aGlzLnhyQW5jaG9yLmFuY2hvclNwYWNlLCB0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xyXG4gICAgICAgIGNvbnN0IHZpc2libGUgPSAhIXBvc2U7XHJcbiAgICAgICAgaWYgKHZpc2libGUgIT0gdGhpcy52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGU7XHJcbiAgICAgICAgICAgICh2aXNpYmxlID8gdGhpcy5vblRyYWNraW5nRm91bmQgOiB0aGlzLm9uVHJhY2tpbmdMb3N0KS5ub3RpZnkodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwb3NlKSB7XHJcbiAgICAgICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCh0aGlzLm9iamVjdCwgcG9zZS50cmFuc2Zvcm0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uRGVzdHJveSgpIHtcclxuICAgICAgICBBbmNob3IuI3JlbW92ZUFuY2hvcih0aGlzKTtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmJvb2woZmFsc2UpXHJcbl0sIEFuY2hvci5wcm90b3R5cGUsIFwicGVyc2lzdFwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LnN0cmluZygpXHJcbl0sIEFuY2hvci5wcm90b3R5cGUsIFwidXVpZFwiLCB2b2lkIDApO1xyXG5leHBvcnQgeyBBbmNob3IgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgRW1pdHRlciB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbi8qKlxyXG4gKiBDbGljay9ob3Zlci9tb3ZlL2J1dHRvbiB0YXJnZXQgZm9yIFtjdXJzb3JdKCNjdXJzb3IpLlxyXG4gKlxyXG4gKiBUbyB0cmlnZ2VyIGNvZGUgd2hlbiBjbGlja2luZywgaG92ZXJpbmcsIHVuaG92ZXJpbmcsIG1vdmluZyBjdXJzb3IsIHByZXNzaW5nXHJcbiAqIGN1cnNvciBidXR0b24gb3IgcmVsZWFzaW5nIGN1cnNvciBidXR0b24sIHVzZSBgLmFkZENsaWNrRnVuY3Rpb24oZilgLFxyXG4gKiBgLmFkZEhvdmVyRnVuY3Rpb24oZilgLCBgLmFkZFVuSG92ZXJGdW5jdGlvbihmKWAsXHJcbiAqIGAuYWRkTW92ZUZ1bmN0aW9uKGYpYCwgYC5hZGREb3duRnVuY3Rpb24oZilgIGFuZFxyXG4gKiBgLmFkZFVwRnVuY3Rpb24oZilgIHJlc3BlY3RpdmVseSB3aXRoIGFueSBgZnVuY3Rpb24gZigpIHt9YC5cclxuICpcclxuICogVG8gY2FsbCBtZW1iZXJzIG9uIGEgZGlmZmVyZW50IGNvbXBvbmVudCwgeW91IGNhbiBzZXQgdXAgYSBjdXJzb3IgdGFyZ2V0IGxpa2VcclxuICogc286XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHN0YXJ0OiBmdW5jdGlvbigpIHtcclxuICogICBsZXQgdGFyZ2V0ID0gdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KCdjdXJzb3ItdGFyZ2V0Jyk7XHJcbiAqICAgdGFyZ2V0Lm9uQ2xpY2suYWRkKHRoaXMub25DbGljay5iaW5kKHRoaXMpKTtcclxuICogfSxcclxuICogb25DbGljazogZnVuY3Rpb24oKSB7XHJcbiAqICAgY29uc29sZS5sb2codGhpcy5vYmplY3QubmFtZSwgXCJ3YXMgY2xpY2tlZCFcIik7XHJcbiAqIH1cclxuICogYGBgXHJcbiAqICoqRnVuY3Rpb25zOioqXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGNvbnN0IHRhcmdldCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudChDdXJzb3JUYXJnZXQpO1xyXG4gKiBjb25zdCBjYWxsYmFjayA9IGZ1bmN0aW9uKG9iamVjdCwgY3Vyc29yQ29tcG9uZW50KSB7fTtcclxuICpcclxuICogdGFyZ2V0Lm9uSG92ZXIuYWRkKGNhbGxiYWNrKTtcclxuICogdGFyZ2V0Lm9uSG92ZXIucmVtb3ZlKGNhbGxiYWNrKTtcclxuICpcclxuICogdGFyZ2V0Lm9uVW5Ib3Zlci5hZGQoY2FsbGJhY2spO1xyXG4gKiB0YXJnZXQub25VbkhvdmVyLnJlbW92ZShjYWxsYmFjayk7XHJcbiAqXHJcbiAqIHRhcmdldC5vbkNsaWNrLmFkZChjYWxsYmFjayk7XHJcbiAqIHRhcmdldC5vbkNsaWNrLnJlbW92ZShjYWxsYmFjayk7XHJcbiAqXHJcbiAqIHRhcmdldC5vbk1vdmUuYWRkKGNhbGxiYWNrKTtcclxuICogdGFyZ2V0Lm9uTW92ZS5yZW1vdmUoY2FsbGJhY2spO1xyXG4gKlxyXG4gKiB0YXJnZXQub25Eb3duLmFkZChjYWxsYmFjayk7XHJcbiAqIHRhcmdldC5vbkRvd24ucmVtb3ZlKGNhbGxiYWNrKTtcclxuICpcclxuICogdGFyZ2V0Lm9uVXAuYWRkKGNhbGxiYWNrKTtcclxuICogdGFyZ2V0Lm9uVXAucmVtb3ZlKGNhbGxiYWNrKTtcclxuICogYGBgXHJcbiAqXHJcbiAqICoqUmVxdWlyZW1lbnRzOioqXHJcbiAqIC0gYSBgY29sbGlzaW9uYCBjb21wb25lbnQgdG8gYmUgYXR0YWNoZWQgdG8gdGhlIHNhbWUgb2JqZWN0LlxyXG4gKlxyXG4gKiBTZWUgW0FuaW1hdGlvbiBFeGFtcGxlXSgvc2hvd2Nhc2UvYW5pbWF0aW9uKS5cclxuICovXHJcbmNsYXNzIEN1cnNvclRhcmdldCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnY3Vyc29yLXRhcmdldCc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHt9O1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB0YXJnZXQgaXMgaG92ZXJlZCAqL1xyXG4gICAgb25Ib3ZlciA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHRhcmdldCBpcyB1bmhvdmVyZWQgKi9cclxuICAgIG9uVW5ob3ZlciA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHRhcmdldCBpcyBjbGlja2VkICovXHJcbiAgICBvbkNsaWNrID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgY3Vyc29yIG1vdmVzIG9uIHRoZSB0YXJnZXQgKi9cclxuICAgIG9uTW92ZSA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHVzZXIgcHJlc3NlZCB0aGUgc2VsZWN0IGJ1dHRvbiBvbiB0aGUgdGFyZ2V0ICovXHJcbiAgICBvbkRvd24gPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB1c2VyIHVucHJlc3NlZCB0aGUgc2VsZWN0IGJ1dHRvbiBvbiB0aGUgdGFyZ2V0ICovXHJcbiAgICBvblVwID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIHRoaXMub25Ib3Zlci5hZGQoZik7XHJcbiAgICAgKi9cclxuICAgIGFkZEhvdmVyRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25Ib3Zlci5hZGQoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICB0aGlzLm9uSG92ZXIucmVtb3ZlKGYpO1xyXG4gICAgICovXHJcbiAgICByZW1vdmVIb3ZlckZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uSG92ZXIucmVtb3ZlKGYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgdGhpcy5vblVuaG92ZXIuYWRkKGYpO1xyXG4gICAgICovXHJcbiAgICBhZGRVbkhvdmVyRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25VbmhvdmVyLmFkZChmKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIHRoaXMub25VbmhvdmVyLnJlbW92ZShmKTtcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlVW5Ib3ZlckZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uVW5ob3Zlci5yZW1vdmUoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICB0aGlzLm9uQ2xpY2suYWRkKGYpO1xyXG4gICAgICovXHJcbiAgICBhZGRDbGlja0Z1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uQ2xpY2suYWRkKGYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgY29tcG9uZW50Lm9uQ2xpY2sucmVtb3ZlKGYpO1xyXG4gICAgICovXHJcbiAgICByZW1vdmVDbGlja0Z1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uQ2xpY2sucmVtb3ZlKGYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgY29tcG9uZW50Lm9uTW92ZS5hZGQoZik7XHJcbiAgICAgKi9cclxuICAgIGFkZE1vdmVGdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vbk1vdmUuYWRkKGYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgY29tcG9uZW50Lm9uTW92ZS5yZW1vdmUoZik7XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZU1vdmVGdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vbk1vdmUucmVtb3ZlKGYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgY29tcG9uZW50Lm9uRG93bi5hZGQoZik7XHJcbiAgICAgKi9cclxuICAgIGFkZERvd25GdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vbkRvd24uYWRkKGYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgY29tcG9uZW50Lm9uRG93bi5yZW1vdmUoZik7XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZURvd25GdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vbkRvd24ucmVtb3ZlKGYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgY29tcG9uZW50Lm9uVXAuYWRkKGYpO1xyXG4gICAgICovXHJcbiAgICBhZGRVcEZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uVXAuYWRkKGYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgY29tcG9uZW50Lm9uVXAucmVtb3ZlKGYpO1xyXG4gICAgICovXHJcbiAgICByZW1vdmVVcEZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uVXAucmVtb3ZlKGYpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IEN1cnNvclRhcmdldCB9O1xyXG4iLCAiLyoqXHJcbiAqIENvbW1vbiB1dGlsaXRpZXNcclxuICogQG1vZHVsZSBnbE1hdHJpeFxyXG4gKi9cclxuLy8gQ29uZmlndXJhdGlvbiBDb25zdGFudHNcclxuZXhwb3J0IHZhciBFUFNJTE9OID0gMC4wMDAwMDE7XHJcbmV4cG9ydCB2YXIgQVJSQVlfVFlQRSA9IHR5cGVvZiBGbG9hdDMyQXJyYXkgIT09ICd1bmRlZmluZWQnID8gRmxvYXQzMkFycmF5IDogQXJyYXk7XHJcbmV4cG9ydCB2YXIgUkFORE9NID0gTWF0aC5yYW5kb207XHJcbi8qKlxyXG4gKiBTZXRzIHRoZSB0eXBlIG9mIGFycmF5IHVzZWQgd2hlbiBjcmVhdGluZyBuZXcgdmVjdG9ycyBhbmQgbWF0cmljZXNcclxuICpcclxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXlDb25zdHJ1Y3RvciB8IEFycmF5Q29uc3RydWN0b3J9IHR5cGUgQXJyYXkgdHlwZSwgc3VjaCBhcyBGbG9hdDMyQXJyYXkgb3IgQXJyYXlcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0TWF0cml4QXJyYXlUeXBlKHR5cGUpIHtcclxuICBBUlJBWV9UWVBFID0gdHlwZTtcclxufVxyXG52YXIgZGVncmVlID0gTWF0aC5QSSAvIDE4MDtcclxuLyoqXHJcbiAqIENvbnZlcnQgRGVncmVlIFRvIFJhZGlhblxyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0gYSBBbmdsZSBpbiBEZWdyZWVzXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFuKGEpIHtcclxuICByZXR1cm4gYSAqIGRlZ3JlZTtcclxufVxyXG4vKipcclxuICogVGVzdHMgd2hldGhlciBvciBub3QgdGhlIGFyZ3VtZW50cyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgdmFsdWUsIHdpdGhpbiBhbiBhYnNvbHV0ZVxyXG4gKiBvciByZWxhdGl2ZSB0b2xlcmFuY2Ugb2YgZ2xNYXRyaXguRVBTSUxPTiAoYW4gYWJzb2x1dGUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIHZhbHVlcyBsZXNzXHJcbiAqIHRoYW4gb3IgZXF1YWwgdG8gMS4wLCBhbmQgYSByZWxhdGl2ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgbGFyZ2VyIHZhbHVlcylcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IGEgVGhlIGZpcnN0IG51bWJlciB0byB0ZXN0LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBUaGUgc2Vjb25kIG51bWJlciB0byB0ZXN0LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbnVtYmVycyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xyXG4gIHJldHVybiBNYXRoLmFicyhhIC0gYikgPD0gRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYSksIE1hdGguYWJzKGIpKTtcclxufVxyXG5pZiAoIU1hdGguaHlwb3QpIE1hdGguaHlwb3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHkgPSAwLFxyXG4gICAgICBpID0gYXJndW1lbnRzLmxlbmd0aDtcclxuXHJcbiAgd2hpbGUgKGktLSkge1xyXG4gICAgeSArPSBhcmd1bWVudHNbaV0gKiBhcmd1bWVudHNbaV07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gTWF0aC5zcXJ0KHkpO1xyXG59OyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcclxuLyoqXHJcbiAqIDN4MyBNYXRyaXhcclxuICogQG1vZHVsZSBtYXQzXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgbWF0M1xyXG4gKlxyXG4gKiBAcmV0dXJucyB7bWF0M30gYSBuZXcgM3gzIG1hdHJpeFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDkpO1xyXG5cclxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcclxuICAgIG91dFsxXSA9IDA7XHJcbiAgICBvdXRbMl0gPSAwO1xyXG4gICAgb3V0WzNdID0gMDtcclxuICAgIG91dFs1XSA9IDA7XHJcbiAgICBvdXRbNl0gPSAwO1xyXG4gICAgb3V0WzddID0gMDtcclxuICB9XHJcblxyXG4gIG91dFswXSA9IDE7XHJcbiAgb3V0WzRdID0gMTtcclxuICBvdXRbOF0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENvcGllcyB0aGUgdXBwZXItbGVmdCAzeDMgdmFsdWVzIGludG8gdGhlIGdpdmVuIG1hdDMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgM3gzIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSAgIHRoZSBzb3VyY2UgNHg0IG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQ0KG91dCwgYSkge1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSBhWzJdO1xyXG4gIG91dFszXSA9IGFbNF07XHJcbiAgb3V0WzRdID0gYVs1XTtcclxuICBvdXRbNV0gPSBhWzZdO1xyXG4gIG91dFs2XSA9IGFbOF07XHJcbiAgb3V0WzddID0gYVs5XTtcclxuICBvdXRbOF0gPSBhWzEwXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgbWF0cml4IHRvIGNsb25lXHJcbiAqIEByZXR1cm5zIHttYXQzfSBhIG5ldyAzeDMgbWF0cml4XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICBvdXRbNF0gPSBhWzRdO1xyXG4gIG91dFs1XSA9IGFbNV07XHJcbiAgb3V0WzZdID0gYVs2XTtcclxuICBvdXRbN10gPSBhWzddO1xyXG4gIG91dFs4XSA9IGFbOF07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDMgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICBvdXRbNF0gPSBhWzRdO1xyXG4gIG91dFs1XSA9IGFbNV07XHJcbiAgb3V0WzZdID0gYVs2XTtcclxuICBvdXRbN10gPSBhWzddO1xyXG4gIG91dFs4XSA9IGFbOF07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlIGEgbmV3IG1hdDMgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDUpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA3KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDgpXHJcbiAqIEByZXR1cm5zIHttYXQzfSBBIG5ldyBtYXQzXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTEwLCBtMTEsIG0xMiwgbTIwLCBtMjEsIG0yMikge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcclxuICBvdXRbMF0gPSBtMDA7XHJcbiAgb3V0WzFdID0gbTAxO1xyXG4gIG91dFsyXSA9IG0wMjtcclxuICBvdXRbM10gPSBtMTA7XHJcbiAgb3V0WzRdID0gbTExO1xyXG4gIG91dFs1XSA9IG0xMjtcclxuICBvdXRbNl0gPSBtMjA7XHJcbiAgb3V0WzddID0gbTIxO1xyXG4gIG91dFs4XSA9IG0yMjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTAyLCBtMTAsIG0xMSwgbTEyLCBtMjAsIG0yMSwgbTIyKSB7XHJcbiAgb3V0WzBdID0gbTAwO1xyXG4gIG91dFsxXSA9IG0wMTtcclxuICBvdXRbMl0gPSBtMDI7XHJcbiAgb3V0WzNdID0gbTEwO1xyXG4gIG91dFs0XSA9IG0xMTtcclxuICBvdXRbNV0gPSBtMTI7XHJcbiAgb3V0WzZdID0gbTIwO1xyXG4gIG91dFs3XSA9IG0yMTtcclxuICBvdXRbOF0gPSBtMjI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IGEgbWF0MyB0byB0aGUgaWRlbnRpdHkgbWF0cml4XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XHJcbiAgb3V0WzBdID0gMTtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAxO1xyXG4gIG91dFs1XSA9IDA7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNwb3NlIHRoZSB2YWx1ZXMgb2YgYSBtYXQzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xyXG4gIC8vIElmIHdlIGFyZSB0cmFuc3Bvc2luZyBvdXJzZWx2ZXMgd2UgY2FuIHNraXAgYSBmZXcgc3RlcHMgYnV0IGhhdmUgdG8gY2FjaGUgc29tZSB2YWx1ZXNcclxuICBpZiAob3V0ID09PSBhKSB7XHJcbiAgICB2YXIgYTAxID0gYVsxXSxcclxuICAgICAgICBhMDIgPSBhWzJdLFxyXG4gICAgICAgIGExMiA9IGFbNV07XHJcbiAgICBvdXRbMV0gPSBhWzNdO1xyXG4gICAgb3V0WzJdID0gYVs2XTtcclxuICAgIG91dFszXSA9IGEwMTtcclxuICAgIG91dFs1XSA9IGFbN107XHJcbiAgICBvdXRbNl0gPSBhMDI7XHJcbiAgICBvdXRbN10gPSBhMTI7XHJcbiAgfSBlbHNlIHtcclxuICAgIG91dFswXSA9IGFbMF07XHJcbiAgICBvdXRbMV0gPSBhWzNdO1xyXG4gICAgb3V0WzJdID0gYVs2XTtcclxuICAgIG91dFszXSA9IGFbMV07XHJcbiAgICBvdXRbNF0gPSBhWzRdO1xyXG4gICAgb3V0WzVdID0gYVs3XTtcclxuICAgIG91dFs2XSA9IGFbMl07XHJcbiAgICBvdXRbN10gPSBhWzVdO1xyXG4gICAgb3V0WzhdID0gYVs4XTtcclxuICB9XHJcblxyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEludmVydHMgYSBtYXQzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdO1xyXG4gIHZhciBhMTAgPSBhWzNdLFxyXG4gICAgICBhMTEgPSBhWzRdLFxyXG4gICAgICBhMTIgPSBhWzVdO1xyXG4gIHZhciBhMjAgPSBhWzZdLFxyXG4gICAgICBhMjEgPSBhWzddLFxyXG4gICAgICBhMjIgPSBhWzhdO1xyXG4gIHZhciBiMDEgPSBhMjIgKiBhMTEgLSBhMTIgKiBhMjE7XHJcbiAgdmFyIGIxMSA9IC1hMjIgKiBhMTAgKyBhMTIgKiBhMjA7XHJcbiAgdmFyIGIyMSA9IGEyMSAqIGExMCAtIGExMSAqIGEyMDsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxyXG5cclxuICB2YXIgZGV0ID0gYTAwICogYjAxICsgYTAxICogYjExICsgYTAyICogYjIxO1xyXG5cclxuICBpZiAoIWRldCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBkZXQgPSAxLjAgLyBkZXQ7XHJcbiAgb3V0WzBdID0gYjAxICogZGV0O1xyXG4gIG91dFsxXSA9ICgtYTIyICogYTAxICsgYTAyICogYTIxKSAqIGRldDtcclxuICBvdXRbMl0gPSAoYTEyICogYTAxIC0gYTAyICogYTExKSAqIGRldDtcclxuICBvdXRbM10gPSBiMTEgKiBkZXQ7XHJcbiAgb3V0WzRdID0gKGEyMiAqIGEwMCAtIGEwMiAqIGEyMCkgKiBkZXQ7XHJcbiAgb3V0WzVdID0gKC1hMTIgKiBhMDAgKyBhMDIgKiBhMTApICogZGV0O1xyXG4gIG91dFs2XSA9IGIyMSAqIGRldDtcclxuICBvdXRbN10gPSAoLWEyMSAqIGEwMCArIGEwMSAqIGEyMCkgKiBkZXQ7XHJcbiAgb3V0WzhdID0gKGExMSAqIGEwMCAtIGEwMSAqIGExMCkgKiBkZXQ7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgYWRqdWdhdGUgb2YgYSBtYXQzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRqb2ludChvdXQsIGEpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXTtcclxuICB2YXIgYTEwID0gYVszXSxcclxuICAgICAgYTExID0gYVs0XSxcclxuICAgICAgYTEyID0gYVs1XTtcclxuICB2YXIgYTIwID0gYVs2XSxcclxuICAgICAgYTIxID0gYVs3XSxcclxuICAgICAgYTIyID0gYVs4XTtcclxuICBvdXRbMF0gPSBhMTEgKiBhMjIgLSBhMTIgKiBhMjE7XHJcbiAgb3V0WzFdID0gYTAyICogYTIxIC0gYTAxICogYTIyO1xyXG4gIG91dFsyXSA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcclxuICBvdXRbM10gPSBhMTIgKiBhMjAgLSBhMTAgKiBhMjI7XHJcbiAgb3V0WzRdID0gYTAwICogYTIyIC0gYTAyICogYTIwO1xyXG4gIG91dFs1XSA9IGEwMiAqIGExMCAtIGEwMCAqIGExMjtcclxuICBvdXRbNl0gPSBhMTAgKiBhMjEgLSBhMTEgKiBhMjA7XHJcbiAgb3V0WzddID0gYTAxICogYTIwIC0gYTAwICogYTIxO1xyXG4gIG91dFs4XSA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdDNcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge051bWJlcn0gZGV0ZXJtaW5hbnQgb2YgYVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl07XHJcbiAgdmFyIGExMCA9IGFbM10sXHJcbiAgICAgIGExMSA9IGFbNF0sXHJcbiAgICAgIGExMiA9IGFbNV07XHJcbiAgdmFyIGEyMCA9IGFbNl0sXHJcbiAgICAgIGEyMSA9IGFbN10sXHJcbiAgICAgIGEyMiA9IGFbOF07XHJcbiAgcmV0dXJuIGEwMCAqIChhMjIgKiBhMTEgLSBhMTIgKiBhMjEpICsgYTAxICogKC1hMjIgKiBhMTAgKyBhMTIgKiBhMjApICsgYTAyICogKGEyMSAqIGExMCAtIGExMSAqIGEyMCk7XHJcbn1cclxuLyoqXHJcbiAqIE11bHRpcGxpZXMgdHdvIG1hdDMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXTtcclxuICB2YXIgYTEwID0gYVszXSxcclxuICAgICAgYTExID0gYVs0XSxcclxuICAgICAgYTEyID0gYVs1XTtcclxuICB2YXIgYTIwID0gYVs2XSxcclxuICAgICAgYTIxID0gYVs3XSxcclxuICAgICAgYTIyID0gYVs4XTtcclxuICB2YXIgYjAwID0gYlswXSxcclxuICAgICAgYjAxID0gYlsxXSxcclxuICAgICAgYjAyID0gYlsyXTtcclxuICB2YXIgYjEwID0gYlszXSxcclxuICAgICAgYjExID0gYls0XSxcclxuICAgICAgYjEyID0gYls1XTtcclxuICB2YXIgYjIwID0gYls2XSxcclxuICAgICAgYjIxID0gYls3XSxcclxuICAgICAgYjIyID0gYls4XTtcclxuICBvdXRbMF0gPSBiMDAgKiBhMDAgKyBiMDEgKiBhMTAgKyBiMDIgKiBhMjA7XHJcbiAgb3V0WzFdID0gYjAwICogYTAxICsgYjAxICogYTExICsgYjAyICogYTIxO1xyXG4gIG91dFsyXSA9IGIwMCAqIGEwMiArIGIwMSAqIGExMiArIGIwMiAqIGEyMjtcclxuICBvdXRbM10gPSBiMTAgKiBhMDAgKyBiMTEgKiBhMTAgKyBiMTIgKiBhMjA7XHJcbiAgb3V0WzRdID0gYjEwICogYTAxICsgYjExICogYTExICsgYjEyICogYTIxO1xyXG4gIG91dFs1XSA9IGIxMCAqIGEwMiArIGIxMSAqIGExMiArIGIxMiAqIGEyMjtcclxuICBvdXRbNl0gPSBiMjAgKiBhMDAgKyBiMjEgKiBhMTAgKyBiMjIgKiBhMjA7XHJcbiAgb3V0WzddID0gYjIwICogYTAxICsgYjIxICogYTExICsgYjIyICogYTIxO1xyXG4gIG91dFs4XSA9IGIyMCAqIGEwMiArIGIyMSAqIGExMiArIGIyMiAqIGEyMjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBUcmFuc2xhdGUgYSBtYXQzIGJ5IHRoZSBnaXZlbiB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byB0cmFuc2xhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXSxcclxuICAgICAgYTEwID0gYVszXSxcclxuICAgICAgYTExID0gYVs0XSxcclxuICAgICAgYTEyID0gYVs1XSxcclxuICAgICAgYTIwID0gYVs2XSxcclxuICAgICAgYTIxID0gYVs3XSxcclxuICAgICAgYTIyID0gYVs4XSxcclxuICAgICAgeCA9IHZbMF0sXHJcbiAgICAgIHkgPSB2WzFdO1xyXG4gIG91dFswXSA9IGEwMDtcclxuICBvdXRbMV0gPSBhMDE7XHJcbiAgb3V0WzJdID0gYTAyO1xyXG4gIG91dFszXSA9IGExMDtcclxuICBvdXRbNF0gPSBhMTE7XHJcbiAgb3V0WzVdID0gYTEyO1xyXG4gIG91dFs2XSA9IHggKiBhMDAgKyB5ICogYTEwICsgYTIwO1xyXG4gIG91dFs3XSA9IHggKiBhMDEgKyB5ICogYTExICsgYTIxO1xyXG4gIG91dFs4XSA9IHggKiBhMDIgKyB5ICogYTEyICsgYTIyO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBtYXQzIGJ5IHRoZSBnaXZlbiBhbmdsZVxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCkge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdLFxyXG4gICAgICBhMTAgPSBhWzNdLFxyXG4gICAgICBhMTEgPSBhWzRdLFxyXG4gICAgICBhMTIgPSBhWzVdLFxyXG4gICAgICBhMjAgPSBhWzZdLFxyXG4gICAgICBhMjEgPSBhWzddLFxyXG4gICAgICBhMjIgPSBhWzhdLFxyXG4gICAgICBzID0gTWF0aC5zaW4ocmFkKSxcclxuICAgICAgYyA9IE1hdGguY29zKHJhZCk7XHJcbiAgb3V0WzBdID0gYyAqIGEwMCArIHMgKiBhMTA7XHJcbiAgb3V0WzFdID0gYyAqIGEwMSArIHMgKiBhMTE7XHJcbiAgb3V0WzJdID0gYyAqIGEwMiArIHMgKiBhMTI7XHJcbiAgb3V0WzNdID0gYyAqIGExMCAtIHMgKiBhMDA7XHJcbiAgb3V0WzRdID0gYyAqIGExMSAtIHMgKiBhMDE7XHJcbiAgb3V0WzVdID0gYyAqIGExMiAtIHMgKiBhMDI7XHJcbiAgb3V0WzZdID0gYTIwO1xyXG4gIG91dFs3XSA9IGEyMTtcclxuICBvdXRbOF0gPSBhMjI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2NhbGVzIHRoZSBtYXQzIGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMyXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IHRoZSB2ZWMyIHRvIHNjYWxlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKiovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCB2KSB7XHJcbiAgdmFyIHggPSB2WzBdLFxyXG4gICAgICB5ID0gdlsxXTtcclxuICBvdXRbMF0gPSB4ICogYVswXTtcclxuICBvdXRbMV0gPSB4ICogYVsxXTtcclxuICBvdXRbMl0gPSB4ICogYVsyXTtcclxuICBvdXRbM10gPSB5ICogYVszXTtcclxuICBvdXRbNF0gPSB5ICogYVs0XTtcclxuICBvdXRbNV0gPSB5ICogYVs1XTtcclxuICBvdXRbNl0gPSBhWzZdO1xyXG4gIG91dFs3XSA9IGFbN107XHJcbiAgb3V0WzhdID0gYVs4XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3IgdHJhbnNsYXRpb25cclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQzLmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0My50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LCB2KSB7XHJcbiAgb3V0WzBdID0gMTtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAxO1xyXG4gIG91dFs1XSA9IDA7XHJcbiAgb3V0WzZdID0gdlswXTtcclxuICBvdXRbN10gPSB2WzFdO1xyXG4gIG91dFs4XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gYW5nbGVcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQzLmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0My5yb3RhdGUoZGVzdCwgZGVzdCwgcmFkKTtcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHJhZCkge1xyXG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKSxcclxuICAgICAgYyA9IE1hdGguY29zKHJhZCk7XHJcbiAgb3V0WzBdID0gYztcclxuICBvdXRbMV0gPSBzO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gLXM7XHJcbiAgb3V0WzRdID0gYztcclxuICBvdXRbNV0gPSAwO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciBzY2FsaW5nXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0My5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDMuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBTY2FsaW5nIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCwgdikge1xyXG4gIG91dFswXSA9IHZbMF07XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gdlsxXTtcclxuICBvdXRbNV0gPSAwO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENvcGllcyB0aGUgdmFsdWVzIGZyb20gYSBtYXQyZCBpbnRvIGEgbWF0M1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0MmR9IGEgdGhlIG1hdHJpeCB0byBjb3B5XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICoqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQyZChvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSBhWzJdO1xyXG4gIG91dFs0XSA9IGFbM107XHJcbiAgb3V0WzVdID0gMDtcclxuICBvdXRbNl0gPSBhWzRdO1xyXG4gIG91dFs3XSA9IGFbNV07XHJcbiAgb3V0WzhdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGEgM3gzIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cclxuICpcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcclxuICB2YXIgeCA9IHFbMF0sXHJcbiAgICAgIHkgPSBxWzFdLFxyXG4gICAgICB6ID0gcVsyXSxcclxuICAgICAgdyA9IHFbM107XHJcbiAgdmFyIHgyID0geCArIHg7XHJcbiAgdmFyIHkyID0geSArIHk7XHJcbiAgdmFyIHoyID0geiArIHo7XHJcbiAgdmFyIHh4ID0geCAqIHgyO1xyXG4gIHZhciB5eCA9IHkgKiB4MjtcclxuICB2YXIgeXkgPSB5ICogeTI7XHJcbiAgdmFyIHp4ID0geiAqIHgyO1xyXG4gIHZhciB6eSA9IHogKiB5MjtcclxuICB2YXIgenogPSB6ICogejI7XHJcbiAgdmFyIHd4ID0gdyAqIHgyO1xyXG4gIHZhciB3eSA9IHcgKiB5MjtcclxuICB2YXIgd3ogPSB3ICogejI7XHJcbiAgb3V0WzBdID0gMSAtIHl5IC0geno7XHJcbiAgb3V0WzNdID0geXggLSB3ejtcclxuICBvdXRbNl0gPSB6eCArIHd5O1xyXG4gIG91dFsxXSA9IHl4ICsgd3o7XHJcbiAgb3V0WzRdID0gMSAtIHh4IC0geno7XHJcbiAgb3V0WzddID0genkgLSB3eDtcclxuICBvdXRbMl0gPSB6eCAtIHd5O1xyXG4gIG91dFs1XSA9IHp5ICsgd3g7XHJcbiAgb3V0WzhdID0gMSAtIHh4IC0geXk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyBhIDN4MyBub3JtYWwgbWF0cml4ICh0cmFuc3Bvc2UgaW52ZXJzZSkgZnJvbSB0aGUgNHg0IG1hdHJpeFxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIE1hdDQgdG8gZGVyaXZlIHRoZSBub3JtYWwgbWF0cml4IGZyb21cclxuICpcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxGcm9tTWF0NChvdXQsIGEpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXSxcclxuICAgICAgYTAzID0gYVszXTtcclxuICB2YXIgYTEwID0gYVs0XSxcclxuICAgICAgYTExID0gYVs1XSxcclxuICAgICAgYTEyID0gYVs2XSxcclxuICAgICAgYTEzID0gYVs3XTtcclxuICB2YXIgYTIwID0gYVs4XSxcclxuICAgICAgYTIxID0gYVs5XSxcclxuICAgICAgYTIyID0gYVsxMF0sXHJcbiAgICAgIGEyMyA9IGFbMTFdO1xyXG4gIHZhciBhMzAgPSBhWzEyXSxcclxuICAgICAgYTMxID0gYVsxM10sXHJcbiAgICAgIGEzMiA9IGFbMTRdLFxyXG4gICAgICBhMzMgPSBhWzE1XTtcclxuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xyXG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XHJcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcclxuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xyXG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XHJcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcclxuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xyXG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XHJcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcclxuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xyXG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XHJcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxyXG5cclxuICB2YXIgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xyXG5cclxuICBpZiAoIWRldCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBkZXQgPSAxLjAgLyBkZXQ7XHJcbiAgb3V0WzBdID0gKGExMSAqIGIxMSAtIGExMiAqIGIxMCArIGExMyAqIGIwOSkgKiBkZXQ7XHJcbiAgb3V0WzFdID0gKGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNykgKiBkZXQ7XHJcbiAgb3V0WzJdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XHJcbiAgb3V0WzNdID0gKGEwMiAqIGIxMCAtIGEwMSAqIGIxMSAtIGEwMyAqIGIwOSkgKiBkZXQ7XHJcbiAgb3V0WzRdID0gKGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNykgKiBkZXQ7XHJcbiAgb3V0WzVdID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XHJcbiAgb3V0WzZdID0gKGEzMSAqIGIwNSAtIGEzMiAqIGIwNCArIGEzMyAqIGIwMykgKiBkZXQ7XHJcbiAgb3V0WzddID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XHJcbiAgb3V0WzhdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgMkQgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoIG9mIHlvdXIgZ2wgY29udGV4dFxyXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiBnbCBjb250ZXh0XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdGlvbihvdXQsIHdpZHRoLCBoZWlnaHQpIHtcclxuICBvdXRbMF0gPSAyIC8gd2lkdGg7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gLTIgLyBoZWlnaHQ7XHJcbiAgb3V0WzVdID0gMDtcclxuICBvdXRbNl0gPSAtMTtcclxuICBvdXRbN10gPSAxO1xyXG4gIG91dFs4XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDNcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgbWF0cml4IHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xyXG4gIHJldHVybiBcIm1hdDMoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIsIFwiICsgYVs0XSArIFwiLCBcIiArIGFbNV0gKyBcIiwgXCIgKyBhWzZdICsgXCIsIFwiICsgYVs3XSArIFwiLCBcIiArIGFbOF0gKyBcIilcIjtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBGcm9iZW5pdXMgbm9ybSBvZiBhIG1hdDNcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byBjYWxjdWxhdGUgRnJvYmVuaXVzIG5vcm0gb2ZcclxuICogQHJldHVybnMge051bWJlcn0gRnJvYmVuaXVzIG5vcm1cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XHJcbiAgcmV0dXJuIE1hdGguaHlwb3QoYVswXSwgYVsxXSwgYVsyXSwgYVszXSwgYVs0XSwgYVs1XSwgYVs2XSwgYVs3XSwgYVs4XSk7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XHJcbiAgb3V0WzNdID0gYVszXSArIGJbM107XHJcbiAgb3V0WzRdID0gYVs0XSArIGJbNF07XHJcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XHJcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XHJcbiAgb3V0WzddID0gYVs3XSArIGJbN107XHJcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XHJcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XHJcbiAgb3V0WzRdID0gYVs0XSAtIGJbNF07XHJcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XHJcbiAgb3V0WzZdID0gYVs2XSAtIGJbNl07XHJcbiAgb3V0WzddID0gYVs3XSAtIGJbN107XHJcbiAgb3V0WzhdID0gYVs4XSAtIGJbOF07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBtYXRyaXgncyBlbGVtZW50cyBieVxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKiBiO1xyXG4gIG91dFsxXSA9IGFbMV0gKiBiO1xyXG4gIG91dFsyXSA9IGFbMl0gKiBiO1xyXG4gIG91dFszXSA9IGFbM10gKiBiO1xyXG4gIG91dFs0XSA9IGFbNF0gKiBiO1xyXG4gIG91dFs1XSA9IGFbNV0gKiBiO1xyXG4gIG91dFs2XSA9IGFbNl0gKiBiO1xyXG4gIG91dFs3XSA9IGFbN10gKiBiO1xyXG4gIG91dFs4XSA9IGFbOF0gKiBiO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDMncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XHJcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcclxuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xyXG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XHJcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcclxuICBvdXRbNF0gPSBhWzRdICsgYls0XSAqIHNjYWxlO1xyXG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdICogc2NhbGU7XHJcbiAgb3V0WzZdID0gYVs2XSArIGJbNl0gKiBzY2FsZTtcclxuICBvdXRbN10gPSBhWzddICsgYls3XSAqIHNjYWxlO1xyXG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdICogc2NhbGU7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBUaGUgZmlyc3QgbWF0cml4LlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiBUaGUgc2Vjb25kIG1hdHJpeC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XHJcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XSAmJiBhWzhdID09PSBiWzhdO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XHJcbiAgdmFyIGEwID0gYVswXSxcclxuICAgICAgYTEgPSBhWzFdLFxyXG4gICAgICBhMiA9IGFbMl0sXHJcbiAgICAgIGEzID0gYVszXSxcclxuICAgICAgYTQgPSBhWzRdLFxyXG4gICAgICBhNSA9IGFbNV0sXHJcbiAgICAgIGE2ID0gYVs2XSxcclxuICAgICAgYTcgPSBhWzddLFxyXG4gICAgICBhOCA9IGFbOF07XHJcbiAgdmFyIGIwID0gYlswXSxcclxuICAgICAgYjEgPSBiWzFdLFxyXG4gICAgICBiMiA9IGJbMl0sXHJcbiAgICAgIGIzID0gYlszXSxcclxuICAgICAgYjQgPSBiWzRdLFxyXG4gICAgICBiNSA9IGJbNV0sXHJcbiAgICAgIGI2ID0gYls2XSxcclxuICAgICAgYjcgPSBiWzddLFxyXG4gICAgICBiOCA9IGJbOF07XHJcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSkgJiYgTWF0aC5hYnMoYTggLSBiOCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTgpLCBNYXRoLmFicyhiOCkpO1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDMubXVsdGlwbHl9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDMuc3VidHJhY3R9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xyXG4vKipcclxuICogNHg0IE1hdHJpeDxicj5Gb3JtYXQ6IGNvbHVtbi1tYWpvciwgd2hlbiB0eXBlZCBvdXQgaXQgbG9va3MgbGlrZSByb3ctbWFqb3I8YnI+VGhlIG1hdHJpY2VzIGFyZSBiZWluZyBwb3N0IG11bHRpcGxpZWQuXHJcbiAqIEBtb2R1bGUgbWF0NFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDRcclxuICpcclxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XHJcblxyXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xyXG4gICAgb3V0WzFdID0gMDtcclxuICAgIG91dFsyXSA9IDA7XHJcbiAgICBvdXRbM10gPSAwO1xyXG4gICAgb3V0WzRdID0gMDtcclxuICAgIG91dFs2XSA9IDA7XHJcbiAgICBvdXRbN10gPSAwO1xyXG4gICAgb3V0WzhdID0gMDtcclxuICAgIG91dFs5XSA9IDA7XHJcbiAgICBvdXRbMTFdID0gMDtcclxuICAgIG91dFsxMl0gPSAwO1xyXG4gICAgb3V0WzEzXSA9IDA7XHJcbiAgICBvdXRbMTRdID0gMDtcclxuICB9XHJcblxyXG4gIG91dFswXSA9IDE7XHJcbiAgb3V0WzVdID0gMTtcclxuICBvdXRbMTBdID0gMTtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIGNsb25lXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBhIG5ldyA0eDQgbWF0cml4XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSBhWzJdO1xyXG4gIG91dFszXSA9IGFbM107XHJcbiAgb3V0WzRdID0gYVs0XTtcclxuICBvdXRbNV0gPSBhWzVdO1xyXG4gIG91dFs2XSA9IGFbNl07XHJcbiAgb3V0WzddID0gYVs3XTtcclxuICBvdXRbOF0gPSBhWzhdO1xyXG4gIG91dFs5XSA9IGFbOV07XHJcbiAgb3V0WzEwXSA9IGFbMTBdO1xyXG4gIG91dFsxMV0gPSBhWzExXTtcclxuICBvdXRbMTJdID0gYVsxMl07XHJcbiAgb3V0WzEzXSA9IGFbMTNdO1xyXG4gIG91dFsxNF0gPSBhWzE0XTtcclxuICBvdXRbMTVdID0gYVsxNV07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDQgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICBvdXRbNF0gPSBhWzRdO1xyXG4gIG91dFs1XSA9IGFbNV07XHJcbiAgb3V0WzZdID0gYVs2XTtcclxuICBvdXRbN10gPSBhWzddO1xyXG4gIG91dFs4XSA9IGFbOF07XHJcbiAgb3V0WzldID0gYVs5XTtcclxuICBvdXRbMTBdID0gYVsxMF07XHJcbiAgb3V0WzExXSA9IGFbMTFdO1xyXG4gIG91dFsxMl0gPSBhWzEyXTtcclxuICBvdXRbMTNdID0gYVsxM107XHJcbiAgb3V0WzE0XSA9IGFbMTRdO1xyXG4gIG91dFsxNV0gPSBhWzE1XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBuZXcgbWF0NCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gQSBuZXcgbWF0NFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKG0wMCwgbTAxLCBtMDIsIG0wMywgbTEwLCBtMTEsIG0xMiwgbTEzLCBtMjAsIG0yMSwgbTIyLCBtMjMsIG0zMCwgbTMxLCBtMzIsIG0zMykge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XHJcbiAgb3V0WzBdID0gbTAwO1xyXG4gIG91dFsxXSA9IG0wMTtcclxuICBvdXRbMl0gPSBtMDI7XHJcbiAgb3V0WzNdID0gbTAzO1xyXG4gIG91dFs0XSA9IG0xMDtcclxuICBvdXRbNV0gPSBtMTE7XHJcbiAgb3V0WzZdID0gbTEyO1xyXG4gIG91dFs3XSA9IG0xMztcclxuICBvdXRbOF0gPSBtMjA7XHJcbiAgb3V0WzldID0gbTIxO1xyXG4gIG91dFsxMF0gPSBtMjI7XHJcbiAgb3V0WzExXSA9IG0yMztcclxuICBvdXRbMTJdID0gbTMwO1xyXG4gIG91dFsxM10gPSBtMzE7XHJcbiAgb3V0WzE0XSA9IG0zMjtcclxuICBvdXRbMTVdID0gbTMzO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIG1hdDQgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAzIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDMgcG9zaXRpb24gKGluZGV4IDMpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA1KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDYpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA4KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDkpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjMgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzAgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMTIpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzIgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzMgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTUpXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XHJcbiAgb3V0WzBdID0gbTAwO1xyXG4gIG91dFsxXSA9IG0wMTtcclxuICBvdXRbMl0gPSBtMDI7XHJcbiAgb3V0WzNdID0gbTAzO1xyXG4gIG91dFs0XSA9IG0xMDtcclxuICBvdXRbNV0gPSBtMTE7XHJcbiAgb3V0WzZdID0gbTEyO1xyXG4gIG91dFs3XSA9IG0xMztcclxuICBvdXRbOF0gPSBtMjA7XHJcbiAgb3V0WzldID0gbTIxO1xyXG4gIG91dFsxMF0gPSBtMjI7XHJcbiAgb3V0WzExXSA9IG0yMztcclxuICBvdXRbMTJdID0gbTMwO1xyXG4gIG91dFsxM10gPSBtMzE7XHJcbiAgb3V0WzE0XSA9IG0zMjtcclxuICBvdXRbMTVdID0gbTMzO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldCBhIG1hdDQgdG8gdGhlIGlkZW50aXR5IG1hdHJpeFxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xyXG4gIG91dFswXSA9IDE7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSAxO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAwO1xyXG4gIG91dFs5XSA9IDA7XHJcbiAgb3V0WzEwXSA9IDE7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IDA7XHJcbiAgb3V0WzEzXSA9IDA7XHJcbiAgb3V0WzE0XSA9IDA7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNwb3NlIHRoZSB2YWx1ZXMgb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xyXG4gIC8vIElmIHdlIGFyZSB0cmFuc3Bvc2luZyBvdXJzZWx2ZXMgd2UgY2FuIHNraXAgYSBmZXcgc3RlcHMgYnV0IGhhdmUgdG8gY2FjaGUgc29tZSB2YWx1ZXNcclxuICBpZiAob3V0ID09PSBhKSB7XHJcbiAgICB2YXIgYTAxID0gYVsxXSxcclxuICAgICAgICBhMDIgPSBhWzJdLFxyXG4gICAgICAgIGEwMyA9IGFbM107XHJcbiAgICB2YXIgYTEyID0gYVs2XSxcclxuICAgICAgICBhMTMgPSBhWzddO1xyXG4gICAgdmFyIGEyMyA9IGFbMTFdO1xyXG4gICAgb3V0WzFdID0gYVs0XTtcclxuICAgIG91dFsyXSA9IGFbOF07XHJcbiAgICBvdXRbM10gPSBhWzEyXTtcclxuICAgIG91dFs0XSA9IGEwMTtcclxuICAgIG91dFs2XSA9IGFbOV07XHJcbiAgICBvdXRbN10gPSBhWzEzXTtcclxuICAgIG91dFs4XSA9IGEwMjtcclxuICAgIG91dFs5XSA9IGExMjtcclxuICAgIG91dFsxMV0gPSBhWzE0XTtcclxuICAgIG91dFsxMl0gPSBhMDM7XHJcbiAgICBvdXRbMTNdID0gYTEzO1xyXG4gICAgb3V0WzE0XSA9IGEyMztcclxuICB9IGVsc2Uge1xyXG4gICAgb3V0WzBdID0gYVswXTtcclxuICAgIG91dFsxXSA9IGFbNF07XHJcbiAgICBvdXRbMl0gPSBhWzhdO1xyXG4gICAgb3V0WzNdID0gYVsxMl07XHJcbiAgICBvdXRbNF0gPSBhWzFdO1xyXG4gICAgb3V0WzVdID0gYVs1XTtcclxuICAgIG91dFs2XSA9IGFbOV07XHJcbiAgICBvdXRbN10gPSBhWzEzXTtcclxuICAgIG91dFs4XSA9IGFbMl07XHJcbiAgICBvdXRbOV0gPSBhWzZdO1xyXG4gICAgb3V0WzEwXSA9IGFbMTBdO1xyXG4gICAgb3V0WzExXSA9IGFbMTRdO1xyXG4gICAgb3V0WzEyXSA9IGFbM107XHJcbiAgICBvdXRbMTNdID0gYVs3XTtcclxuICAgIG91dFsxNF0gPSBhWzExXTtcclxuICAgIG91dFsxNV0gPSBhWzE1XTtcclxuICB9XHJcblxyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEludmVydHMgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdLFxyXG4gICAgICBhMDMgPSBhWzNdO1xyXG4gIHZhciBhMTAgPSBhWzRdLFxyXG4gICAgICBhMTEgPSBhWzVdLFxyXG4gICAgICBhMTIgPSBhWzZdLFxyXG4gICAgICBhMTMgPSBhWzddO1xyXG4gIHZhciBhMjAgPSBhWzhdLFxyXG4gICAgICBhMjEgPSBhWzldLFxyXG4gICAgICBhMjIgPSBhWzEwXSxcclxuICAgICAgYTIzID0gYVsxMV07XHJcbiAgdmFyIGEzMCA9IGFbMTJdLFxyXG4gICAgICBhMzEgPSBhWzEzXSxcclxuICAgICAgYTMyID0gYVsxNF0sXHJcbiAgICAgIGEzMyA9IGFbMTVdO1xyXG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XHJcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcclxuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xyXG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XHJcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcclxuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xyXG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XHJcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcclxuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xyXG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XHJcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcclxuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XHJcblxyXG4gIHZhciBkZXQgPSBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XHJcblxyXG4gIGlmICghZGV0KSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGRldCA9IDEuMCAvIGRldDtcclxuICBvdXRbMF0gPSAoYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5KSAqIGRldDtcclxuICBvdXRbMV0gPSAoYTAyICogYjEwIC0gYTAxICogYjExIC0gYTAzICogYjA5KSAqIGRldDtcclxuICBvdXRbMl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGRldDtcclxuICBvdXRbM10gPSAoYTIyICogYjA0IC0gYTIxICogYjA1IC0gYTIzICogYjAzKSAqIGRldDtcclxuICBvdXRbNF0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcclxuICBvdXRbNV0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcclxuICBvdXRbNl0gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcclxuICBvdXRbN10gPSAoYTIwICogYjA1IC0gYTIyICogYjAyICsgYTIzICogYjAxKSAqIGRldDtcclxuICBvdXRbOF0gPSAoYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2KSAqIGRldDtcclxuICBvdXRbOV0gPSAoYTAxICogYjA4IC0gYTAwICogYjEwIC0gYTAzICogYjA2KSAqIGRldDtcclxuICBvdXRbMTBdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XHJcbiAgb3V0WzExXSA9IChhMjEgKiBiMDIgLSBhMjAgKiBiMDQgLSBhMjMgKiBiMDApICogZGV0O1xyXG4gIG91dFsxMl0gPSAoYTExICogYjA3IC0gYTEwICogYjA5IC0gYTEyICogYjA2KSAqIGRldDtcclxuICBvdXRbMTNdID0gKGEwMCAqIGIwOSAtIGEwMSAqIGIwNyArIGEwMiAqIGIwNikgKiBkZXQ7XHJcbiAgb3V0WzE0XSA9IChhMzEgKiBiMDEgLSBhMzAgKiBiMDMgLSBhMzIgKiBiMDApICogZGV0O1xyXG4gIG91dFsxNV0gPSAoYTIwICogYjAzIC0gYTIxICogYjAxICsgYTIyICogYjAwKSAqIGRldDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdLFxyXG4gICAgICBhMDMgPSBhWzNdO1xyXG4gIHZhciBhMTAgPSBhWzRdLFxyXG4gICAgICBhMTEgPSBhWzVdLFxyXG4gICAgICBhMTIgPSBhWzZdLFxyXG4gICAgICBhMTMgPSBhWzddO1xyXG4gIHZhciBhMjAgPSBhWzhdLFxyXG4gICAgICBhMjEgPSBhWzldLFxyXG4gICAgICBhMjIgPSBhWzEwXSxcclxuICAgICAgYTIzID0gYVsxMV07XHJcbiAgdmFyIGEzMCA9IGFbMTJdLFxyXG4gICAgICBhMzEgPSBhWzEzXSxcclxuICAgICAgYTMyID0gYVsxNF0sXHJcbiAgICAgIGEzMyA9IGFbMTVdO1xyXG4gIG91dFswXSA9IGExMSAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIxICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgKyBhMzEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKTtcclxuICBvdXRbMV0gPSAtKGEwMSAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIxICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSk7XHJcbiAgb3V0WzJdID0gYTAxICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgLSBhMTEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpO1xyXG4gIG91dFszXSA9IC0oYTAxICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikgLSBhMTEgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSArIGEyMSAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpKTtcclxuICBvdXRbNF0gPSAtKGExMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgKyBhMzAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSk7XHJcbiAgb3V0WzVdID0gYTAwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpO1xyXG4gIG91dFs2XSA9IC0oYTAwICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgLSBhMTAgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMCAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpKTtcclxuICBvdXRbN10gPSBhMDAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XHJcbiAgb3V0WzhdID0gYTEwICogKGEyMSAqIGEzMyAtIGEyMyAqIGEzMSkgLSBhMjAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSArIGEzMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpO1xyXG4gIG91dFs5XSA9IC0oYTAwICogKGEyMSAqIGEzMyAtIGEyMyAqIGEzMSkgLSBhMjAgKiAoYTAxICogYTMzIC0gYTAzICogYTMxKSArIGEzMCAqIChhMDEgKiBhMjMgLSBhMDMgKiBhMjEpKTtcclxuICBvdXRbMTBdID0gYTAwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMzIC0gYTAzICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpO1xyXG4gIG91dFsxMV0gPSAtKGEwMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpIC0gYTEwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkgKyBhMjAgKiAoYTAxICogYTEzIC0gYTAzICogYTExKSk7XHJcbiAgb3V0WzEyXSA9IC0oYTEwICogKGEyMSAqIGEzMiAtIGEyMiAqIGEzMSkgLSBhMjAgKiAoYTExICogYTMyIC0gYTEyICogYTMxKSArIGEzMCAqIChhMTEgKiBhMjIgLSBhMTIgKiBhMjEpKTtcclxuICBvdXRbMTNdID0gYTAwICogKGEyMSAqIGEzMiAtIGEyMiAqIGEzMSkgLSBhMjAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpO1xyXG4gIG91dFsxNF0gPSAtKGEwMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpIC0gYTEwICogKGEwMSAqIGEzMiAtIGEwMiAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTEyIC0gYTAyICogYTExKSk7XHJcbiAgb3V0WzE1XSA9IGEwMCAqIChhMTEgKiBhMjIgLSBhMTIgKiBhMjEpIC0gYTEwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSkgKyBhMjAgKiAoYTAxICogYTEyIC0gYTAyICogYTExKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge051bWJlcn0gZGV0ZXJtaW5hbnQgb2YgYVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgIGEwMyA9IGFbM107XHJcbiAgdmFyIGExMCA9IGFbNF0sXHJcbiAgICAgIGExMSA9IGFbNV0sXHJcbiAgICAgIGExMiA9IGFbNl0sXHJcbiAgICAgIGExMyA9IGFbN107XHJcbiAgdmFyIGEyMCA9IGFbOF0sXHJcbiAgICAgIGEyMSA9IGFbOV0sXHJcbiAgICAgIGEyMiA9IGFbMTBdLFxyXG4gICAgICBhMjMgPSBhWzExXTtcclxuICB2YXIgYTMwID0gYVsxMl0sXHJcbiAgICAgIGEzMSA9IGFbMTNdLFxyXG4gICAgICBhMzIgPSBhWzE0XSxcclxuICAgICAgYTMzID0gYVsxNV07XHJcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcclxuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xyXG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XHJcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcclxuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xyXG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XHJcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcclxuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xyXG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XHJcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcclxuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xyXG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcclxuXHJcbiAgcmV0dXJuIGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcclxufVxyXG4vKipcclxuICogTXVsdGlwbGllcyB0d28gbWF0NHNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgIGEwMyA9IGFbM107XHJcbiAgdmFyIGExMCA9IGFbNF0sXHJcbiAgICAgIGExMSA9IGFbNV0sXHJcbiAgICAgIGExMiA9IGFbNl0sXHJcbiAgICAgIGExMyA9IGFbN107XHJcbiAgdmFyIGEyMCA9IGFbOF0sXHJcbiAgICAgIGEyMSA9IGFbOV0sXHJcbiAgICAgIGEyMiA9IGFbMTBdLFxyXG4gICAgICBhMjMgPSBhWzExXTtcclxuICB2YXIgYTMwID0gYVsxMl0sXHJcbiAgICAgIGEzMSA9IGFbMTNdLFxyXG4gICAgICBhMzIgPSBhWzE0XSxcclxuICAgICAgYTMzID0gYVsxNV07IC8vIENhY2hlIG9ubHkgdGhlIGN1cnJlbnQgbGluZSBvZiB0aGUgc2Vjb25kIG1hdHJpeFxyXG5cclxuICB2YXIgYjAgPSBiWzBdLFxyXG4gICAgICBiMSA9IGJbMV0sXHJcbiAgICAgIGIyID0gYlsyXSxcclxuICAgICAgYjMgPSBiWzNdO1xyXG4gIG91dFswXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xyXG4gIG91dFsxXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xyXG4gIG91dFsyXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xyXG4gIG91dFszXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xyXG4gIGIwID0gYls0XTtcclxuICBiMSA9IGJbNV07XHJcbiAgYjIgPSBiWzZdO1xyXG4gIGIzID0gYls3XTtcclxuICBvdXRbNF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcclxuICBvdXRbNV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcclxuICBvdXRbNl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcclxuICBvdXRbN10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcclxuICBiMCA9IGJbOF07XHJcbiAgYjEgPSBiWzldO1xyXG4gIGIyID0gYlsxMF07XHJcbiAgYjMgPSBiWzExXTtcclxuICBvdXRbOF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcclxuICBvdXRbOV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcclxuICBvdXRbMTBdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XHJcbiAgb3V0WzExXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xyXG4gIGIwID0gYlsxMl07XHJcbiAgYjEgPSBiWzEzXTtcclxuICBiMiA9IGJbMTRdO1xyXG4gIGIzID0gYlsxNV07XHJcbiAgb3V0WzEyXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xyXG4gIG91dFsxM10gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcclxuICBvdXRbMTRdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XHJcbiAgb3V0WzE1XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFRyYW5zbGF0ZSBhIG1hdDQgYnkgdGhlIGdpdmVuIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB2ZWN0b3IgdG8gdHJhbnNsYXRlIGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xyXG4gIHZhciB4ID0gdlswXSxcclxuICAgICAgeSA9IHZbMV0sXHJcbiAgICAgIHogPSB2WzJdO1xyXG4gIHZhciBhMDAsIGEwMSwgYTAyLCBhMDM7XHJcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcclxuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xyXG5cclxuICBpZiAoYSA9PT0gb3V0KSB7XHJcbiAgICBvdXRbMTJdID0gYVswXSAqIHggKyBhWzRdICogeSArIGFbOF0gKiB6ICsgYVsxMl07XHJcbiAgICBvdXRbMTNdID0gYVsxXSAqIHggKyBhWzVdICogeSArIGFbOV0gKiB6ICsgYVsxM107XHJcbiAgICBvdXRbMTRdID0gYVsyXSAqIHggKyBhWzZdICogeSArIGFbMTBdICogeiArIGFbMTRdO1xyXG4gICAgb3V0WzE1XSA9IGFbM10gKiB4ICsgYVs3XSAqIHkgKyBhWzExXSAqIHogKyBhWzE1XTtcclxuICB9IGVsc2Uge1xyXG4gICAgYTAwID0gYVswXTtcclxuICAgIGEwMSA9IGFbMV07XHJcbiAgICBhMDIgPSBhWzJdO1xyXG4gICAgYTAzID0gYVszXTtcclxuICAgIGExMCA9IGFbNF07XHJcbiAgICBhMTEgPSBhWzVdO1xyXG4gICAgYTEyID0gYVs2XTtcclxuICAgIGExMyA9IGFbN107XHJcbiAgICBhMjAgPSBhWzhdO1xyXG4gICAgYTIxID0gYVs5XTtcclxuICAgIGEyMiA9IGFbMTBdO1xyXG4gICAgYTIzID0gYVsxMV07XHJcbiAgICBvdXRbMF0gPSBhMDA7XHJcbiAgICBvdXRbMV0gPSBhMDE7XHJcbiAgICBvdXRbMl0gPSBhMDI7XHJcbiAgICBvdXRbM10gPSBhMDM7XHJcbiAgICBvdXRbNF0gPSBhMTA7XHJcbiAgICBvdXRbNV0gPSBhMTE7XHJcbiAgICBvdXRbNl0gPSBhMTI7XHJcbiAgICBvdXRbN10gPSBhMTM7XHJcbiAgICBvdXRbOF0gPSBhMjA7XHJcbiAgICBvdXRbOV0gPSBhMjE7XHJcbiAgICBvdXRbMTBdID0gYTIyO1xyXG4gICAgb3V0WzExXSA9IGEyMztcclxuICAgIG91dFsxMl0gPSBhMDAgKiB4ICsgYTEwICogeSArIGEyMCAqIHogKyBhWzEyXTtcclxuICAgIG91dFsxM10gPSBhMDEgKiB4ICsgYTExICogeSArIGEyMSAqIHogKyBhWzEzXTtcclxuICAgIG91dFsxNF0gPSBhMDIgKiB4ICsgYTEyICogeSArIGEyMiAqIHogKyBhWzE0XTtcclxuICAgIG91dFsxNV0gPSBhMDMgKiB4ICsgYTEzICogeSArIGEyMyAqIHogKyBhWzE1XTtcclxuICB9XHJcblxyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNjYWxlcyB0aGUgbWF0NCBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMyBub3QgdXNpbmcgdmVjdG9yaXphdGlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHRoZSB2ZWMzIHRvIHNjYWxlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKiovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCB2KSB7XHJcbiAgdmFyIHggPSB2WzBdLFxyXG4gICAgICB5ID0gdlsxXSxcclxuICAgICAgeiA9IHZbMl07XHJcbiAgb3V0WzBdID0gYVswXSAqIHg7XHJcbiAgb3V0WzFdID0gYVsxXSAqIHg7XHJcbiAgb3V0WzJdID0gYVsyXSAqIHg7XHJcbiAgb3V0WzNdID0gYVszXSAqIHg7XHJcbiAgb3V0WzRdID0gYVs0XSAqIHk7XHJcbiAgb3V0WzVdID0gYVs1XSAqIHk7XHJcbiAgb3V0WzZdID0gYVs2XSAqIHk7XHJcbiAgb3V0WzddID0gYVs3XSAqIHk7XHJcbiAgb3V0WzhdID0gYVs4XSAqIHo7XHJcbiAgb3V0WzldID0gYVs5XSAqIHo7XHJcbiAgb3V0WzEwXSA9IGFbMTBdICogejtcclxuICBvdXRbMTFdID0gYVsxMV0gKiB6O1xyXG4gIG91dFsxMl0gPSBhWzEyXTtcclxuICBvdXRbMTNdID0gYVsxM107XHJcbiAgb3V0WzE0XSA9IGFbMTRdO1xyXG4gIG91dFsxNV0gPSBhWzE1XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0NCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBnaXZlbiBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUob3V0LCBhLCByYWQsIGF4aXMpIHtcclxuICB2YXIgeCA9IGF4aXNbMF0sXHJcbiAgICAgIHkgPSBheGlzWzFdLFxyXG4gICAgICB6ID0gYXhpc1syXTtcclxuICB2YXIgbGVuID0gTWF0aC5oeXBvdCh4LCB5LCB6KTtcclxuICB2YXIgcywgYywgdDtcclxuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xyXG4gIHZhciBhMTAsIGExMSwgYTEyLCBhMTM7XHJcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcclxuICB2YXIgYjAwLCBiMDEsIGIwMjtcclxuICB2YXIgYjEwLCBiMTEsIGIxMjtcclxuICB2YXIgYjIwLCBiMjEsIGIyMjtcclxuXHJcbiAgaWYgKGxlbiA8IGdsTWF0cml4LkVQU0lMT04pIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgbGVuID0gMSAvIGxlbjtcclxuICB4ICo9IGxlbjtcclxuICB5ICo9IGxlbjtcclxuICB6ICo9IGxlbjtcclxuICBzID0gTWF0aC5zaW4ocmFkKTtcclxuICBjID0gTWF0aC5jb3MocmFkKTtcclxuICB0ID0gMSAtIGM7XHJcbiAgYTAwID0gYVswXTtcclxuICBhMDEgPSBhWzFdO1xyXG4gIGEwMiA9IGFbMl07XHJcbiAgYTAzID0gYVszXTtcclxuICBhMTAgPSBhWzRdO1xyXG4gIGExMSA9IGFbNV07XHJcbiAgYTEyID0gYVs2XTtcclxuICBhMTMgPSBhWzddO1xyXG4gIGEyMCA9IGFbOF07XHJcbiAgYTIxID0gYVs5XTtcclxuICBhMjIgPSBhWzEwXTtcclxuICBhMjMgPSBhWzExXTsgLy8gQ29uc3RydWN0IHRoZSBlbGVtZW50cyBvZiB0aGUgcm90YXRpb24gbWF0cml4XHJcblxyXG4gIGIwMCA9IHggKiB4ICogdCArIGM7XHJcbiAgYjAxID0geSAqIHggKiB0ICsgeiAqIHM7XHJcbiAgYjAyID0geiAqIHggKiB0IC0geSAqIHM7XHJcbiAgYjEwID0geCAqIHkgKiB0IC0geiAqIHM7XHJcbiAgYjExID0geSAqIHkgKiB0ICsgYztcclxuICBiMTIgPSB6ICogeSAqIHQgKyB4ICogcztcclxuICBiMjAgPSB4ICogeiAqIHQgKyB5ICogcztcclxuICBiMjEgPSB5ICogeiAqIHQgLSB4ICogcztcclxuICBiMjIgPSB6ICogeiAqIHQgKyBjOyAvLyBQZXJmb3JtIHJvdGF0aW9uLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxyXG5cclxuICBvdXRbMF0gPSBhMDAgKiBiMDAgKyBhMTAgKiBiMDEgKyBhMjAgKiBiMDI7XHJcbiAgb3V0WzFdID0gYTAxICogYjAwICsgYTExICogYjAxICsgYTIxICogYjAyO1xyXG4gIG91dFsyXSA9IGEwMiAqIGIwMCArIGExMiAqIGIwMSArIGEyMiAqIGIwMjtcclxuICBvdXRbM10gPSBhMDMgKiBiMDAgKyBhMTMgKiBiMDEgKyBhMjMgKiBiMDI7XHJcbiAgb3V0WzRdID0gYTAwICogYjEwICsgYTEwICogYjExICsgYTIwICogYjEyO1xyXG4gIG91dFs1XSA9IGEwMSAqIGIxMCArIGExMSAqIGIxMSArIGEyMSAqIGIxMjtcclxuICBvdXRbNl0gPSBhMDIgKiBiMTAgKyBhMTIgKiBiMTEgKyBhMjIgKiBiMTI7XHJcbiAgb3V0WzddID0gYTAzICogYjEwICsgYTEzICogYjExICsgYTIzICogYjEyO1xyXG4gIG91dFs4XSA9IGEwMCAqIGIyMCArIGExMCAqIGIyMSArIGEyMCAqIGIyMjtcclxuICBvdXRbOV0gPSBhMDEgKiBiMjAgKyBhMTEgKiBiMjEgKyBhMjEgKiBiMjI7XHJcbiAgb3V0WzEwXSA9IGEwMiAqIGIyMCArIGExMiAqIGIyMSArIGEyMiAqIGIyMjtcclxuICBvdXRbMTFdID0gYTAzICogYjIwICsgYTEzICogYjIxICsgYTIzICogYjIyO1xyXG5cclxuICBpZiAoYSAhPT0gb3V0KSB7XHJcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xyXG4gICAgb3V0WzEyXSA9IGFbMTJdO1xyXG4gICAgb3V0WzEzXSA9IGFbMTNdO1xyXG4gICAgb3V0WzE0XSA9IGFbMTRdO1xyXG4gICAgb3V0WzE1XSA9IGFbMTVdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgcmFkKSB7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcclxuICB2YXIgYTEwID0gYVs0XTtcclxuICB2YXIgYTExID0gYVs1XTtcclxuICB2YXIgYTEyID0gYVs2XTtcclxuICB2YXIgYTEzID0gYVs3XTtcclxuICB2YXIgYTIwID0gYVs4XTtcclxuICB2YXIgYTIxID0gYVs5XTtcclxuICB2YXIgYTIyID0gYVsxMF07XHJcbiAgdmFyIGEyMyA9IGFbMTFdO1xyXG5cclxuICBpZiAoYSAhPT0gb3V0KSB7XHJcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXHJcbiAgICBvdXRbMF0gPSBhWzBdO1xyXG4gICAgb3V0WzFdID0gYVsxXTtcclxuICAgIG91dFsyXSA9IGFbMl07XHJcbiAgICBvdXRbM10gPSBhWzNdO1xyXG4gICAgb3V0WzEyXSA9IGFbMTJdO1xyXG4gICAgb3V0WzEzXSA9IGFbMTNdO1xyXG4gICAgb3V0WzE0XSA9IGFbMTRdO1xyXG4gICAgb3V0WzE1XSA9IGFbMTVdO1xyXG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxyXG5cclxuXHJcbiAgb3V0WzRdID0gYTEwICogYyArIGEyMCAqIHM7XHJcbiAgb3V0WzVdID0gYTExICogYyArIGEyMSAqIHM7XHJcbiAgb3V0WzZdID0gYTEyICogYyArIGEyMiAqIHM7XHJcbiAgb3V0WzddID0gYTEzICogYyArIGEyMyAqIHM7XHJcbiAgb3V0WzhdID0gYTIwICogYyAtIGExMCAqIHM7XHJcbiAgb3V0WzldID0gYTIxICogYyAtIGExMSAqIHM7XHJcbiAgb3V0WzEwXSA9IGEyMiAqIGMgLSBhMTIgKiBzO1xyXG4gIG91dFsxMV0gPSBhMjMgKiBjIC0gYTEzICogcztcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XHJcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIHZhciBhMDAgPSBhWzBdO1xyXG4gIHZhciBhMDEgPSBhWzFdO1xyXG4gIHZhciBhMDIgPSBhWzJdO1xyXG4gIHZhciBhMDMgPSBhWzNdO1xyXG4gIHZhciBhMjAgPSBhWzhdO1xyXG4gIHZhciBhMjEgPSBhWzldO1xyXG4gIHZhciBhMjIgPSBhWzEwXTtcclxuICB2YXIgYTIzID0gYVsxMV07XHJcblxyXG4gIGlmIChhICE9PSBvdXQpIHtcclxuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcclxuICAgIG91dFs0XSA9IGFbNF07XHJcbiAgICBvdXRbNV0gPSBhWzVdO1xyXG4gICAgb3V0WzZdID0gYVs2XTtcclxuICAgIG91dFs3XSA9IGFbN107XHJcbiAgICBvdXRbMTJdID0gYVsxMl07XHJcbiAgICBvdXRbMTNdID0gYVsxM107XHJcbiAgICBvdXRbMTRdID0gYVsxNF07XHJcbiAgICBvdXRbMTVdID0gYVsxNV07XHJcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXHJcblxyXG5cclxuICBvdXRbMF0gPSBhMDAgKiBjIC0gYTIwICogcztcclxuICBvdXRbMV0gPSBhMDEgKiBjIC0gYTIxICogcztcclxuICBvdXRbMl0gPSBhMDIgKiBjIC0gYTIyICogcztcclxuICBvdXRbM10gPSBhMDMgKiBjIC0gYTIzICogcztcclxuICBvdXRbOF0gPSBhMDAgKiBzICsgYTIwICogYztcclxuICBvdXRbOV0gPSBhMDEgKiBzICsgYTIxICogYztcclxuICBvdXRbMTBdID0gYTAyICogcyArIGEyMiAqIGM7XHJcbiAgb3V0WzExXSA9IGEwMyAqIHMgKyBhMjMgKiBjO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWiBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xyXG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcclxuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XHJcbiAgdmFyIGEwMCA9IGFbMF07XHJcbiAgdmFyIGEwMSA9IGFbMV07XHJcbiAgdmFyIGEwMiA9IGFbMl07XHJcbiAgdmFyIGEwMyA9IGFbM107XHJcbiAgdmFyIGExMCA9IGFbNF07XHJcbiAgdmFyIGExMSA9IGFbNV07XHJcbiAgdmFyIGExMiA9IGFbNl07XHJcbiAgdmFyIGExMyA9IGFbN107XHJcblxyXG4gIGlmIChhICE9PSBvdXQpIHtcclxuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XHJcbiAgICBvdXRbOF0gPSBhWzhdO1xyXG4gICAgb3V0WzldID0gYVs5XTtcclxuICAgIG91dFsxMF0gPSBhWzEwXTtcclxuICAgIG91dFsxMV0gPSBhWzExXTtcclxuICAgIG91dFsxMl0gPSBhWzEyXTtcclxuICAgIG91dFsxM10gPSBhWzEzXTtcclxuICAgIG91dFsxNF0gPSBhWzE0XTtcclxuICAgIG91dFsxNV0gPSBhWzE1XTtcclxuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cclxuXHJcblxyXG4gIG91dFswXSA9IGEwMCAqIGMgKyBhMTAgKiBzO1xyXG4gIG91dFsxXSA9IGEwMSAqIGMgKyBhMTEgKiBzO1xyXG4gIG91dFsyXSA9IGEwMiAqIGMgKyBhMTIgKiBzO1xyXG4gIG91dFszXSA9IGEwMyAqIGMgKyBhMTMgKiBzO1xyXG4gIG91dFs0XSA9IGExMCAqIGMgLSBhMDAgKiBzO1xyXG4gIG91dFs1XSA9IGExMSAqIGMgLSBhMDEgKiBzO1xyXG4gIG91dFs2XSA9IGExMiAqIGMgLSBhMDIgKiBzO1xyXG4gIG91dFs3XSA9IGExMyAqIGMgLSBhMDMgKiBzO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHYpIHtcclxuICBvdXRbMF0gPSAxO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gMTtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gMDtcclxuICBvdXRbOV0gPSAwO1xyXG4gIG91dFsxMF0gPSAxO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSB2WzBdO1xyXG4gIG91dFsxM10gPSB2WzFdO1xyXG4gIG91dFsxNF0gPSB2WzJdO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciBzY2FsaW5nXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBTY2FsaW5nIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCwgdikge1xyXG4gIG91dFswXSA9IHZbMF07XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSB2WzFdO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAwO1xyXG4gIG91dFs5XSA9IDA7XHJcbiAgb3V0WzEwXSA9IHZbMl07XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IDA7XHJcbiAgb3V0WzEzXSA9IDA7XHJcbiAgb3V0WzE0XSA9IDA7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gYW5nbGUgYXJvdW5kIGEgZ2l2ZW4gYXhpc1xyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnJvdGF0ZShkZXN0LCBkZXN0LCByYWQsIGF4aXMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQsIGF4aXMpIHtcclxuICB2YXIgeCA9IGF4aXNbMF0sXHJcbiAgICAgIHkgPSBheGlzWzFdLFxyXG4gICAgICB6ID0gYXhpc1syXTtcclxuICB2YXIgbGVuID0gTWF0aC5oeXBvdCh4LCB5LCB6KTtcclxuICB2YXIgcywgYywgdDtcclxuXHJcbiAgaWYgKGxlbiA8IGdsTWF0cml4LkVQU0lMT04pIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgbGVuID0gMSAvIGxlbjtcclxuICB4ICo9IGxlbjtcclxuICB5ICo9IGxlbjtcclxuICB6ICo9IGxlbjtcclxuICBzID0gTWF0aC5zaW4ocmFkKTtcclxuICBjID0gTWF0aC5jb3MocmFkKTtcclxuICB0ID0gMSAtIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXHJcblxyXG4gIG91dFswXSA9IHggKiB4ICogdCArIGM7XHJcbiAgb3V0WzFdID0geSAqIHggKiB0ICsgeiAqIHM7XHJcbiAgb3V0WzJdID0geiAqIHggKiB0IC0geSAqIHM7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSB4ICogeSAqIHQgLSB6ICogcztcclxuICBvdXRbNV0gPSB5ICogeSAqIHQgKyBjO1xyXG4gIG91dFs2XSA9IHogKiB5ICogdCArIHggKiBzO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0geCAqIHogKiB0ICsgeSAqIHM7XHJcbiAgb3V0WzldID0geSAqIHogKiB0IC0geCAqIHM7XHJcbiAgb3V0WzEwXSA9IHogKiB6ICogdCArIGM7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IDA7XHJcbiAgb3V0WzEzXSA9IDA7XHJcbiAgb3V0WzE0XSA9IDA7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnJvdGF0ZVgoZGVzdCwgZGVzdCwgcmFkKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21YUm90YXRpb24ob3V0LCByYWQpIHtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XHJcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXHJcblxyXG4gIG91dFswXSA9IDE7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSBjO1xyXG4gIG91dFs2XSA9IHM7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAwO1xyXG4gIG91dFs5XSA9IC1zO1xyXG4gIG91dFsxMF0gPSBjO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNF0gPSAwO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5yb3RhdGVZKGRlc3QsIGRlc3QsIHJhZCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tWVJvdGF0aW9uKG91dCwgcmFkKSB7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxyXG5cclxuICBvdXRbMF0gPSBjO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gLXM7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IDE7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IHM7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTBdID0gYztcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTRdID0gMDtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWiBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlWihkZXN0LCBkZXN0LCByYWQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVpSb3RhdGlvbihvdXQsIHJhZCkge1xyXG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcclxuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cclxuXHJcbiAgb3V0WzBdID0gYztcclxuICBvdXRbMV0gPSBzO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAtcztcclxuICBvdXRbNV0gPSBjO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAwO1xyXG4gIG91dFs5XSA9IDA7XHJcbiAgb3V0WzEwXSA9IDE7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IDA7XHJcbiAgb3V0WzEzXSA9IDA7XHJcbiAgb3V0WzE0XSA9IDA7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiBhbmQgdmVjdG9yIHRyYW5zbGF0aW9uXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XHJcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIHEsIHYpIHtcclxuICAvLyBRdWF0ZXJuaW9uIG1hdGhcclxuICB2YXIgeCA9IHFbMF0sXHJcbiAgICAgIHkgPSBxWzFdLFxyXG4gICAgICB6ID0gcVsyXSxcclxuICAgICAgdyA9IHFbM107XHJcbiAgdmFyIHgyID0geCArIHg7XHJcbiAgdmFyIHkyID0geSArIHk7XHJcbiAgdmFyIHoyID0geiArIHo7XHJcbiAgdmFyIHh4ID0geCAqIHgyO1xyXG4gIHZhciB4eSA9IHggKiB5MjtcclxuICB2YXIgeHogPSB4ICogejI7XHJcbiAgdmFyIHl5ID0geSAqIHkyO1xyXG4gIHZhciB5eiA9IHkgKiB6MjtcclxuICB2YXIgenogPSB6ICogejI7XHJcbiAgdmFyIHd4ID0gdyAqIHgyO1xyXG4gIHZhciB3eSA9IHcgKiB5MjtcclxuICB2YXIgd3ogPSB3ICogejI7XHJcbiAgb3V0WzBdID0gMSAtICh5eSArIHp6KTtcclxuICBvdXRbMV0gPSB4eSArIHd6O1xyXG4gIG91dFsyXSA9IHh6IC0gd3k7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSB4eSAtIHd6O1xyXG4gIG91dFs1XSA9IDEgLSAoeHggKyB6eik7XHJcbiAgb3V0WzZdID0geXogKyB3eDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IHh6ICsgd3k7XHJcbiAgb3V0WzldID0geXogLSB3eDtcclxuICBvdXRbMTBdID0gMSAtICh4eCArIHl5KTtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gdlswXTtcclxuICBvdXRbMTNdID0gdlsxXTtcclxuICBvdXRbMTRdID0gdlsyXTtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDQgZnJvbSBhIGR1YWwgcXVhdC5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgTWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBEdWFsIFF1YXRlcm5pb25cclxuICogQHJldHVybnMge21hdDR9IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQyKG91dCwgYSkge1xyXG4gIHZhciB0cmFuc2xhdGlvbiA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xyXG4gIHZhciBieCA9IC1hWzBdLFxyXG4gICAgICBieSA9IC1hWzFdLFxyXG4gICAgICBieiA9IC1hWzJdLFxyXG4gICAgICBidyA9IGFbM10sXHJcbiAgICAgIGF4ID0gYVs0XSxcclxuICAgICAgYXkgPSBhWzVdLFxyXG4gICAgICBheiA9IGFbNl0sXHJcbiAgICAgIGF3ID0gYVs3XTtcclxuICB2YXIgbWFnbml0dWRlID0gYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6ICsgYncgKiBidzsgLy9Pbmx5IHNjYWxlIGlmIGl0IG1ha2VzIHNlbnNlXHJcblxyXG4gIGlmIChtYWduaXR1ZGUgPiAwKSB7XHJcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDIgLyBtYWduaXR1ZGU7XHJcbiAgICB0cmFuc2xhdGlvblsxXSA9IChheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6KSAqIDIgLyBtYWduaXR1ZGU7XHJcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDIgLyBtYWduaXR1ZGU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRyYW5zbGF0aW9uWzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMjtcclxuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMjtcclxuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMjtcclxuICB9XHJcblxyXG4gIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgYSwgdHJhbnNsYXRpb24pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxyXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLFxyXG4gKiAgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlIHRoZSBzYW1lIGFzIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3JcclxuICogIG9yaWdpbmFsbHkgc3VwcGxpZWQuXHJcbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSB0cmFuc2xhdGlvbiBjb21wb25lbnRcclxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxyXG4gKiBAcmV0dXJuIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24ob3V0LCBtYXQpIHtcclxuICBvdXRbMF0gPSBtYXRbMTJdO1xyXG4gIG91dFsxXSA9IG1hdFsxM107XHJcbiAgb3V0WzJdID0gbWF0WzE0XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxyXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVcclxuICogIHdpdGggYSBub3JtYWxpemVkIFF1YXRlcm5pb24gcGFyYW10ZXIsIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZVxyXG4gKiAgdGhlIHNhbWUgYXMgdGhlIHNjYWxpbmcgdmVjdG9yXHJcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgc2NhbGluZyBmYWN0b3IgY29tcG9uZW50XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcclxuICogQHJldHVybiB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjYWxpbmcob3V0LCBtYXQpIHtcclxuICB2YXIgbTExID0gbWF0WzBdO1xyXG4gIHZhciBtMTIgPSBtYXRbMV07XHJcbiAgdmFyIG0xMyA9IG1hdFsyXTtcclxuICB2YXIgbTIxID0gbWF0WzRdO1xyXG4gIHZhciBtMjIgPSBtYXRbNV07XHJcbiAgdmFyIG0yMyA9IG1hdFs2XTtcclxuICB2YXIgbTMxID0gbWF0WzhdO1xyXG4gIHZhciBtMzIgPSBtYXRbOV07XHJcbiAgdmFyIG0zMyA9IG1hdFsxMF07XHJcbiAgb3V0WzBdID0gTWF0aC5oeXBvdChtMTEsIG0xMiwgbTEzKTtcclxuICBvdXRbMV0gPSBNYXRoLmh5cG90KG0yMSwgbTIyLCBtMjMpO1xyXG4gIG91dFsyXSA9IE1hdGguaHlwb3QobTMxLCBtMzIsIG0zMyk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHF1YXRlcm5pb24gcmVwcmVzZW50aW5nIHRoZSByb3RhdGlvbmFsIGNvbXBvbmVudFxyXG4gKiAgb2YgYSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGhcclxuICogIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLCB0aGUgcmV0dXJuZWQgcXVhdGVybmlvbiB3aWxsIGJlIHRoZVxyXG4gKiAgc2FtZSBhcyB0aGUgcXVhdGVybmlvbiBvcmlnaW5hbGx5IHN1cHBsaWVkLlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBRdWF0ZXJuaW9uIHRvIHJlY2VpdmUgdGhlIHJvdGF0aW9uIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcclxuICogQHJldHVybiB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvdGF0aW9uKG91dCwgbWF0KSB7XHJcbiAgdmFyIHNjYWxpbmcgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcclxuICBnZXRTY2FsaW5nKHNjYWxpbmcsIG1hdCk7XHJcbiAgdmFyIGlzMSA9IDEgLyBzY2FsaW5nWzBdO1xyXG4gIHZhciBpczIgPSAxIC8gc2NhbGluZ1sxXTtcclxuICB2YXIgaXMzID0gMSAvIHNjYWxpbmdbMl07XHJcbiAgdmFyIHNtMTEgPSBtYXRbMF0gKiBpczE7XHJcbiAgdmFyIHNtMTIgPSBtYXRbMV0gKiBpczI7XHJcbiAgdmFyIHNtMTMgPSBtYXRbMl0gKiBpczM7XHJcbiAgdmFyIHNtMjEgPSBtYXRbNF0gKiBpczE7XHJcbiAgdmFyIHNtMjIgPSBtYXRbNV0gKiBpczI7XHJcbiAgdmFyIHNtMjMgPSBtYXRbNl0gKiBpczM7XHJcbiAgdmFyIHNtMzEgPSBtYXRbOF0gKiBpczE7XHJcbiAgdmFyIHNtMzIgPSBtYXRbOV0gKiBpczI7XHJcbiAgdmFyIHNtMzMgPSBtYXRbMTBdICogaXMzO1xyXG4gIHZhciB0cmFjZSA9IHNtMTEgKyBzbTIyICsgc20zMztcclxuICB2YXIgUyA9IDA7XHJcblxyXG4gIGlmICh0cmFjZSA+IDApIHtcclxuICAgIFMgPSBNYXRoLnNxcnQodHJhY2UgKyAxLjApICogMjtcclxuICAgIG91dFszXSA9IDAuMjUgKiBTO1xyXG4gICAgb3V0WzBdID0gKHNtMjMgLSBzbTMyKSAvIFM7XHJcbiAgICBvdXRbMV0gPSAoc20zMSAtIHNtMTMpIC8gUztcclxuICAgIG91dFsyXSA9IChzbTEyIC0gc20yMSkgLyBTO1xyXG4gIH0gZWxzZSBpZiAoc20xMSA+IHNtMjIgJiYgc20xMSA+IHNtMzMpIHtcclxuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20xMSAtIHNtMjIgLSBzbTMzKSAqIDI7XHJcbiAgICBvdXRbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcclxuICAgIG91dFswXSA9IDAuMjUgKiBTO1xyXG4gICAgb3V0WzFdID0gKHNtMTIgKyBzbTIxKSAvIFM7XHJcbiAgICBvdXRbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcclxuICB9IGVsc2UgaWYgKHNtMjIgPiBzbTMzKSB7XHJcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMjIgLSBzbTExIC0gc20zMykgKiAyO1xyXG4gICAgb3V0WzNdID0gKHNtMzEgLSBzbTEzKSAvIFM7XHJcbiAgICBvdXRbMF0gPSAoc20xMiArIHNtMjEpIC8gUztcclxuICAgIG91dFsxXSA9IDAuMjUgKiBTO1xyXG4gICAgb3V0WzJdID0gKHNtMjMgKyBzbTMyKSAvIFM7XHJcbiAgfSBlbHNlIHtcclxuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20zMyAtIHNtMTEgLSBzbTIyKSAqIDI7XHJcbiAgICBvdXRbM10gPSAoc20xMiAtIHNtMjEpIC8gUztcclxuICAgIG91dFswXSA9IChzbTMxICsgc20xMykgLyBTO1xyXG4gICAgb3V0WzFdID0gKHNtMjMgKyBzbTMyKSAvIFM7XHJcbiAgICBvdXRbMl0gPSAwLjI1ICogUztcclxuICB9XHJcblxyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XHJcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xyXG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBzY2FsZSlcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBzIFNjYWxpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZShvdXQsIHEsIHYsIHMpIHtcclxuICAvLyBRdWF0ZXJuaW9uIG1hdGhcclxuICB2YXIgeCA9IHFbMF0sXHJcbiAgICAgIHkgPSBxWzFdLFxyXG4gICAgICB6ID0gcVsyXSxcclxuICAgICAgdyA9IHFbM107XHJcbiAgdmFyIHgyID0geCArIHg7XHJcbiAgdmFyIHkyID0geSArIHk7XHJcbiAgdmFyIHoyID0geiArIHo7XHJcbiAgdmFyIHh4ID0geCAqIHgyO1xyXG4gIHZhciB4eSA9IHggKiB5MjtcclxuICB2YXIgeHogPSB4ICogejI7XHJcbiAgdmFyIHl5ID0geSAqIHkyO1xyXG4gIHZhciB5eiA9IHkgKiB6MjtcclxuICB2YXIgenogPSB6ICogejI7XHJcbiAgdmFyIHd4ID0gdyAqIHgyO1xyXG4gIHZhciB3eSA9IHcgKiB5MjtcclxuICB2YXIgd3ogPSB3ICogejI7XHJcbiAgdmFyIHN4ID0gc1swXTtcclxuICB2YXIgc3kgPSBzWzFdO1xyXG4gIHZhciBzeiA9IHNbMl07XHJcbiAgb3V0WzBdID0gKDEgLSAoeXkgKyB6eikpICogc3g7XHJcbiAgb3V0WzFdID0gKHh5ICsgd3opICogc3g7XHJcbiAgb3V0WzJdID0gKHh6IC0gd3kpICogc3g7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAoeHkgLSB3eikgKiBzeTtcclxuICBvdXRbNV0gPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcclxuICBvdXRbNl0gPSAoeXogKyB3eCkgKiBzeTtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9ICh4eiArIHd5KSAqIHN6O1xyXG4gIG91dFs5XSA9ICh5eiAtIHd4KSAqIHN6O1xyXG4gIG91dFsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzejtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gdlswXTtcclxuICBvdXRbMTNdID0gdlsxXTtcclxuICBvdXRbMTRdID0gdlsyXTtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZSwgcm90YXRpbmcgYW5kIHNjYWxpbmcgYXJvdW5kIHRoZSBnaXZlbiBvcmlnaW5cclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIG9yaWdpbik7XHJcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xyXG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBzY2FsZSlcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIG5lZ2F0aXZlT3JpZ2luKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBzIFNjYWxpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBvIFRoZSBvcmlnaW4gdmVjdG9yIGFyb3VuZCB3aGljaCB0byBzY2FsZSBhbmQgcm90YXRlXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbihvdXQsIHEsIHYsIHMsIG8pIHtcclxuICAvLyBRdWF0ZXJuaW9uIG1hdGhcclxuICB2YXIgeCA9IHFbMF0sXHJcbiAgICAgIHkgPSBxWzFdLFxyXG4gICAgICB6ID0gcVsyXSxcclxuICAgICAgdyA9IHFbM107XHJcbiAgdmFyIHgyID0geCArIHg7XHJcbiAgdmFyIHkyID0geSArIHk7XHJcbiAgdmFyIHoyID0geiArIHo7XHJcbiAgdmFyIHh4ID0geCAqIHgyO1xyXG4gIHZhciB4eSA9IHggKiB5MjtcclxuICB2YXIgeHogPSB4ICogejI7XHJcbiAgdmFyIHl5ID0geSAqIHkyO1xyXG4gIHZhciB5eiA9IHkgKiB6MjtcclxuICB2YXIgenogPSB6ICogejI7XHJcbiAgdmFyIHd4ID0gdyAqIHgyO1xyXG4gIHZhciB3eSA9IHcgKiB5MjtcclxuICB2YXIgd3ogPSB3ICogejI7XHJcbiAgdmFyIHN4ID0gc1swXTtcclxuICB2YXIgc3kgPSBzWzFdO1xyXG4gIHZhciBzeiA9IHNbMl07XHJcbiAgdmFyIG94ID0gb1swXTtcclxuICB2YXIgb3kgPSBvWzFdO1xyXG4gIHZhciBveiA9IG9bMl07XHJcbiAgdmFyIG91dDAgPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcclxuICB2YXIgb3V0MSA9ICh4eSArIHd6KSAqIHN4O1xyXG4gIHZhciBvdXQyID0gKHh6IC0gd3kpICogc3g7XHJcbiAgdmFyIG91dDQgPSAoeHkgLSB3eikgKiBzeTtcclxuICB2YXIgb3V0NSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xyXG4gIHZhciBvdXQ2ID0gKHl6ICsgd3gpICogc3k7XHJcbiAgdmFyIG91dDggPSAoeHogKyB3eSkgKiBzejtcclxuICB2YXIgb3V0OSA9ICh5eiAtIHd4KSAqIHN6O1xyXG4gIHZhciBvdXQxMCA9ICgxIC0gKHh4ICsgeXkpKSAqIHN6O1xyXG4gIG91dFswXSA9IG91dDA7XHJcbiAgb3V0WzFdID0gb3V0MTtcclxuICBvdXRbMl0gPSBvdXQyO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gb3V0NDtcclxuICBvdXRbNV0gPSBvdXQ1O1xyXG4gIG91dFs2XSA9IG91dDY7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSBvdXQ4O1xyXG4gIG91dFs5XSA9IG91dDk7XHJcbiAgb3V0WzEwXSA9IG91dDEwO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSB2WzBdICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KTtcclxuICBvdXRbMTNdID0gdlsxXSArIG95IC0gKG91dDEgKiBveCArIG91dDUgKiBveSArIG91dDkgKiBveik7XHJcbiAgb3V0WzE0XSA9IHZbMl0gKyBveiAtIChvdXQyICogb3ggKyBvdXQ2ICogb3kgKyBvdXQxMCAqIG96KTtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGEgNHg0IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cclxuICpcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcclxuICB2YXIgeCA9IHFbMF0sXHJcbiAgICAgIHkgPSBxWzFdLFxyXG4gICAgICB6ID0gcVsyXSxcclxuICAgICAgdyA9IHFbM107XHJcbiAgdmFyIHgyID0geCArIHg7XHJcbiAgdmFyIHkyID0geSArIHk7XHJcbiAgdmFyIHoyID0geiArIHo7XHJcbiAgdmFyIHh4ID0geCAqIHgyO1xyXG4gIHZhciB5eCA9IHkgKiB4MjtcclxuICB2YXIgeXkgPSB5ICogeTI7XHJcbiAgdmFyIHp4ID0geiAqIHgyO1xyXG4gIHZhciB6eSA9IHogKiB5MjtcclxuICB2YXIgenogPSB6ICogejI7XHJcbiAgdmFyIHd4ID0gdyAqIHgyO1xyXG4gIHZhciB3eSA9IHcgKiB5MjtcclxuICB2YXIgd3ogPSB3ICogejI7XHJcbiAgb3V0WzBdID0gMSAtIHl5IC0geno7XHJcbiAgb3V0WzFdID0geXggKyB3ejtcclxuICBvdXRbMl0gPSB6eCAtIHd5O1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0geXggLSB3ejtcclxuICBvdXRbNV0gPSAxIC0geHggLSB6ejtcclxuICBvdXRbNl0gPSB6eSArIHd4O1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0genggKyB3eTtcclxuICBvdXRbOV0gPSB6eSAtIHd4O1xyXG4gIG91dFsxMF0gPSAxIC0geHggLSB5eTtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTRdID0gMDtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBmcnVzdHVtIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge051bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge051bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge051bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJ1c3R1bShvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XHJcbiAgdmFyIHJsID0gMSAvIChyaWdodCAtIGxlZnQpO1xyXG4gIHZhciB0YiA9IDEgLyAodG9wIC0gYm90dG9tKTtcclxuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xyXG4gIG91dFswXSA9IG5lYXIgKiAyICogcmw7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSBuZWFyICogMiAqIHRiO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAocmlnaHQgKyBsZWZ0KSAqIHJsO1xyXG4gIG91dFs5XSA9ICh0b3AgKyBib3R0b20pICogdGI7XHJcbiAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xyXG4gIG91dFsxMV0gPSAtMTtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTRdID0gZmFyICogbmVhciAqIDIgKiBuZjtcclxuICBvdXRbMTVdID0gMDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXHJcbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFstMSwgMV0sXHJcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXHJcbiAqIFBhc3NpbmcgbnVsbC91bmRlZmluZWQvbm8gdmFsdWUgZm9yIGZhciB3aWxsIGdlbmVyYXRlIGluZmluaXRlIHByb2plY3Rpb24gbWF0cml4LlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBmb3Z5IFZlcnRpY2FsIGZpZWxkIG9mIHZpZXcgaW4gcmFkaWFuc1xyXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxyXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtLCBjYW4gYmUgbnVsbCBvciBJbmZpbml0eVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlTk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xyXG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpLFxyXG4gICAgICBuZjtcclxuICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gZjtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gMDtcclxuICBvdXRbOV0gPSAwO1xyXG4gIG91dFsxMV0gPSAtMTtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTVdID0gMDtcclxuXHJcbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcclxuICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcclxuICAgIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcclxuICAgIG91dFsxNF0gPSAyICogZmFyICogbmVhciAqIG5mO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBvdXRbMTBdID0gLTE7XHJcbiAgICBvdXRbMTRdID0gLTIgKiBuZWFyO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnBlcnNwZWN0aXZlTk99XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgcGVyc3BlY3RpdmUgPSBwZXJzcGVjdGl2ZU5PO1xyXG4vKipcclxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggc3VpdGFibGUgZm9yIFdlYkdQVSB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXHJcbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFswLCAxXSxcclxuICogd2hpY2ggbWF0Y2hlcyBXZWJHUFUvVnVsa2FuL0RpcmVjdFgvTWV0YWwncyBjbGlwIHZvbHVtZS5cclxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVaTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XHJcbiAgdmFyIGYgPSAxLjAgLyBNYXRoLnRhbihmb3Z5IC8gMiksXHJcbiAgICAgIG5mO1xyXG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSBmO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAwO1xyXG4gIG91dFs5XSA9IDA7XHJcbiAgb3V0WzExXSA9IC0xO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNV0gPSAwO1xyXG5cclxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xyXG4gICAgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xyXG4gICAgb3V0WzEwXSA9IGZhciAqIG5mO1xyXG4gICAgb3V0WzE0XSA9IGZhciAqIG5lYXIgKiBuZjtcclxuICB9IGVsc2Uge1xyXG4gICAgb3V0WzEwXSA9IC0xO1xyXG4gICAgb3V0WzE0XSA9IC1uZWFyO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZmllbGQgb2Ygdmlldy5cclxuICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBnZW5lcmF0aW5nIHByb2plY3Rpb24gbWF0cmljZXMgdG8gYmUgdXNlZFxyXG4gKiB3aXRoIHRoZSBzdGlsbCBleHBlcmllbWVudGFsIFdlYlZSIEFQSS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge09iamVjdH0gZm92IE9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiB1cERlZ3JlZXMsIGRvd25EZWdyZWVzLCBsZWZ0RGVncmVlcywgcmlnaHREZWdyZWVzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldyhvdXQsIGZvdiwgbmVhciwgZmFyKSB7XHJcbiAgdmFyIHVwVGFuID0gTWF0aC50YW4oZm92LnVwRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XHJcbiAgdmFyIGRvd25UYW4gPSBNYXRoLnRhbihmb3YuZG93bkRlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xyXG4gIHZhciBsZWZ0VGFuID0gTWF0aC50YW4oZm92LmxlZnREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcclxuICB2YXIgcmlnaHRUYW4gPSBNYXRoLnRhbihmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcclxuICB2YXIgeFNjYWxlID0gMi4wIC8gKGxlZnRUYW4gKyByaWdodFRhbik7XHJcbiAgdmFyIHlTY2FsZSA9IDIuMCAvICh1cFRhbiArIGRvd25UYW4pO1xyXG4gIG91dFswXSA9IHhTY2FsZTtcclxuICBvdXRbMV0gPSAwLjA7XHJcbiAgb3V0WzJdID0gMC4wO1xyXG4gIG91dFszXSA9IDAuMDtcclxuICBvdXRbNF0gPSAwLjA7XHJcbiAgb3V0WzVdID0geVNjYWxlO1xyXG4gIG91dFs2XSA9IDAuMDtcclxuICBvdXRbN10gPSAwLjA7XHJcbiAgb3V0WzhdID0gLSgobGVmdFRhbiAtIHJpZ2h0VGFuKSAqIHhTY2FsZSAqIDAuNSk7XHJcbiAgb3V0WzldID0gKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjU7XHJcbiAgb3V0WzEwXSA9IGZhciAvIChuZWFyIC0gZmFyKTtcclxuICBvdXRbMTFdID0gLTEuMDtcclxuICBvdXRbMTJdID0gMC4wO1xyXG4gIG91dFsxM10gPSAwLjA7XHJcbiAgb3V0WzE0XSA9IGZhciAqIG5lYXIgLyAobmVhciAtIGZhcik7XHJcbiAgb3V0WzE1XSA9IDAuMDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cclxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcclxuICogd2hpY2ggbWF0Y2hlcyBXZWJHTC9PcGVuR0wncyBjbGlwIHZvbHVtZS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb3J0aG9OTyhvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XHJcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xyXG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcclxuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xyXG4gIG91dFswXSA9IC0yICogbHI7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSAtMiAqIGJ0O1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAwO1xyXG4gIG91dFs5XSA9IDA7XHJcbiAgb3V0WzEwXSA9IDIgKiBuZjtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gKGxlZnQgKyByaWdodCkgKiBscjtcclxuICBvdXRbMTNdID0gKHRvcCArIGJvdHRvbSkgKiBidDtcclxuICBvdXRbMTRdID0gKGZhciArIG5lYXIpICogbmY7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0Lm9ydGhvTk99XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgb3J0aG8gPSBvcnRob05PO1xyXG4vKipcclxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXHJcbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFswLCAxXSxcclxuICogd2hpY2ggbWF0Y2hlcyBXZWJHUFUvVnVsa2FuL0RpcmVjdFgvTWV0YWwncyBjbGlwIHZvbHVtZS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb3J0aG9aTyhvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XHJcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xyXG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcclxuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xyXG4gIG91dFswXSA9IC0yICogbHI7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSAtMiAqIGJ0O1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAwO1xyXG4gIG91dFs5XSA9IDA7XHJcbiAgb3V0WzEwXSA9IG5mO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAobGVmdCArIHJpZ2h0KSAqIGxyO1xyXG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xyXG4gIG91dFsxNF0gPSBuZWFyICogbmY7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgbG9vay1hdCBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZXllIHBvc2l0aW9uLCBmb2NhbCBwb2ludCwgYW5kIHVwIGF4aXMuXHJcbiAqIElmIHlvdSB3YW50IGEgbWF0cml4IHRoYXQgYWN0dWFsbHkgbWFrZXMgYW4gb2JqZWN0IGxvb2sgYXQgYW5vdGhlciBvYmplY3QsIHlvdSBzaG91bGQgdXNlIHRhcmdldFRvIGluc3RlYWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9va0F0KG91dCwgZXllLCBjZW50ZXIsIHVwKSB7XHJcbiAgdmFyIHgwLCB4MSwgeDIsIHkwLCB5MSwgeTIsIHowLCB6MSwgejIsIGxlbjtcclxuICB2YXIgZXlleCA9IGV5ZVswXTtcclxuICB2YXIgZXlleSA9IGV5ZVsxXTtcclxuICB2YXIgZXlleiA9IGV5ZVsyXTtcclxuICB2YXIgdXB4ID0gdXBbMF07XHJcbiAgdmFyIHVweSA9IHVwWzFdO1xyXG4gIHZhciB1cHogPSB1cFsyXTtcclxuICB2YXIgY2VudGVyeCA9IGNlbnRlclswXTtcclxuICB2YXIgY2VudGVyeSA9IGNlbnRlclsxXTtcclxuICB2YXIgY2VudGVyeiA9IGNlbnRlclsyXTtcclxuXHJcbiAgaWYgKE1hdGguYWJzKGV5ZXggLSBjZW50ZXJ4KSA8IGdsTWF0cml4LkVQU0lMT04gJiYgTWF0aC5hYnMoZXlleSAtIGNlbnRlcnkpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV6IC0gY2VudGVyeikgPCBnbE1hdHJpeC5FUFNJTE9OKSB7XHJcbiAgICByZXR1cm4gaWRlbnRpdHkob3V0KTtcclxuICB9XHJcblxyXG4gIHowID0gZXlleCAtIGNlbnRlcng7XHJcbiAgejEgPSBleWV5IC0gY2VudGVyeTtcclxuICB6MiA9IGV5ZXogLSBjZW50ZXJ6O1xyXG4gIGxlbiA9IDEgLyBNYXRoLmh5cG90KHowLCB6MSwgejIpO1xyXG4gIHowICo9IGxlbjtcclxuICB6MSAqPSBsZW47XHJcbiAgejIgKj0gbGVuO1xyXG4gIHgwID0gdXB5ICogejIgLSB1cHogKiB6MTtcclxuICB4MSA9IHVweiAqIHowIC0gdXB4ICogejI7XHJcbiAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xyXG4gIGxlbiA9IE1hdGguaHlwb3QoeDAsIHgxLCB4Mik7XHJcblxyXG4gIGlmICghbGVuKSB7XHJcbiAgICB4MCA9IDA7XHJcbiAgICB4MSA9IDA7XHJcbiAgICB4MiA9IDA7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxlbiA9IDEgLyBsZW47XHJcbiAgICB4MCAqPSBsZW47XHJcbiAgICB4MSAqPSBsZW47XHJcbiAgICB4MiAqPSBsZW47XHJcbiAgfVxyXG5cclxuICB5MCA9IHoxICogeDIgLSB6MiAqIHgxO1xyXG4gIHkxID0gejIgKiB4MCAtIHowICogeDI7XHJcbiAgeTIgPSB6MCAqIHgxIC0gejEgKiB4MDtcclxuICBsZW4gPSBNYXRoLmh5cG90KHkwLCB5MSwgeTIpO1xyXG5cclxuICBpZiAoIWxlbikge1xyXG4gICAgeTAgPSAwO1xyXG4gICAgeTEgPSAwO1xyXG4gICAgeTIgPSAwO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBsZW4gPSAxIC8gbGVuO1xyXG4gICAgeTAgKj0gbGVuO1xyXG4gICAgeTEgKj0gbGVuO1xyXG4gICAgeTIgKj0gbGVuO1xyXG4gIH1cclxuXHJcbiAgb3V0WzBdID0geDA7XHJcbiAgb3V0WzFdID0geTA7XHJcbiAgb3V0WzJdID0gejA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSB4MTtcclxuICBvdXRbNV0gPSB5MTtcclxuICBvdXRbNl0gPSB6MTtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IHgyO1xyXG4gIG91dFs5XSA9IHkyO1xyXG4gIG91dFsxMF0gPSB6MjtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gLSh4MCAqIGV5ZXggKyB4MSAqIGV5ZXkgKyB4MiAqIGV5ZXopO1xyXG4gIG91dFsxM10gPSAtKHkwICogZXlleCArIHkxICogZXlleSArIHkyICogZXlleik7XHJcbiAgb3V0WzE0XSA9IC0oejAgKiBleWV4ICsgejEgKiBleWV5ICsgejIgKiBleWV6KTtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBtYXRyaXggdGhhdCBtYWtlcyBzb21ldGhpbmcgbG9vayBhdCBzb21ldGhpbmcgZWxzZS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0YXJnZXRUbyhvdXQsIGV5ZSwgdGFyZ2V0LCB1cCkge1xyXG4gIHZhciBleWV4ID0gZXllWzBdLFxyXG4gICAgICBleWV5ID0gZXllWzFdLFxyXG4gICAgICBleWV6ID0gZXllWzJdLFxyXG4gICAgICB1cHggPSB1cFswXSxcclxuICAgICAgdXB5ID0gdXBbMV0sXHJcbiAgICAgIHVweiA9IHVwWzJdO1xyXG4gIHZhciB6MCA9IGV5ZXggLSB0YXJnZXRbMF0sXHJcbiAgICAgIHoxID0gZXlleSAtIHRhcmdldFsxXSxcclxuICAgICAgejIgPSBleWV6IC0gdGFyZ2V0WzJdO1xyXG4gIHZhciBsZW4gPSB6MCAqIHowICsgejEgKiB6MSArIHoyICogejI7XHJcblxyXG4gIGlmIChsZW4gPiAwKSB7XHJcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XHJcbiAgICB6MCAqPSBsZW47XHJcbiAgICB6MSAqPSBsZW47XHJcbiAgICB6MiAqPSBsZW47XHJcbiAgfVxyXG5cclxuICB2YXIgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxLFxyXG4gICAgICB4MSA9IHVweiAqIHowIC0gdXB4ICogejIsXHJcbiAgICAgIHgyID0gdXB4ICogejEgLSB1cHkgKiB6MDtcclxuICBsZW4gPSB4MCAqIHgwICsgeDEgKiB4MSArIHgyICogeDI7XHJcblxyXG4gIGlmIChsZW4gPiAwKSB7XHJcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XHJcbiAgICB4MCAqPSBsZW47XHJcbiAgICB4MSAqPSBsZW47XHJcbiAgICB4MiAqPSBsZW47XHJcbiAgfVxyXG5cclxuICBvdXRbMF0gPSB4MDtcclxuICBvdXRbMV0gPSB4MTtcclxuICBvdXRbMl0gPSB4MjtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IHoxICogeDIgLSB6MiAqIHgxO1xyXG4gIG91dFs1XSA9IHoyICogeDAgLSB6MCAqIHgyO1xyXG4gIG91dFs2XSA9IHowICogeDEgLSB6MSAqIHgwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gejA7XHJcbiAgb3V0WzldID0gejE7XHJcbiAgb3V0WzEwXSA9IHoyO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSBleWV4O1xyXG4gIG91dFsxM10gPSBleWV5O1xyXG4gIG91dFsxNF0gPSBleWV6O1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcclxuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcclxuICByZXR1cm4gXCJtYXQ0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIsIFwiICsgYVs2XSArIFwiLCBcIiArIGFbN10gKyBcIiwgXCIgKyBhWzhdICsgXCIsIFwiICsgYVs5XSArIFwiLCBcIiArIGFbMTBdICsgXCIsIFwiICsgYVsxMV0gKyBcIiwgXCIgKyBhWzEyXSArIFwiLCBcIiArIGFbMTNdICsgXCIsIFwiICsgYVsxNF0gKyBcIiwgXCIgKyBhWzE1XSArIFwiKVwiO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIGNhbGN1bGF0ZSBGcm9iZW5pdXMgbm9ybSBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcclxuICByZXR1cm4gTWF0aC5oeXBvdChhWzBdLCBhWzFdLCBhWzJdLCBhWzNdLCBhWzRdLCBhWzVdLCBhWzZdLCBhWzddLCBhWzhdLCBhWzldLCBhWzEwXSwgYVsxMV0sIGFbMTJdLCBhWzEzXSwgYVsxNF0sIGFbMTVdKTtcclxufVxyXG4vKipcclxuICogQWRkcyB0d28gbWF0NCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcclxuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcclxuICBvdXRbM10gPSBhWzNdICsgYlszXTtcclxuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcclxuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcclxuICBvdXRbNl0gPSBhWzZdICsgYls2XTtcclxuICBvdXRbN10gPSBhWzddICsgYls3XTtcclxuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcclxuICBvdXRbOV0gPSBhWzldICsgYls5XTtcclxuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXTtcclxuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXTtcclxuICBvdXRbMTJdID0gYVsxMl0gKyBiWzEyXTtcclxuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXTtcclxuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XTtcclxuICBvdXRbMTVdID0gYVsxNV0gKyBiWzE1XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTdWJ0cmFjdHMgbWF0cml4IGIgZnJvbSBtYXRyaXggYVxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcclxuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcclxuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcclxuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcclxuICBvdXRbNV0gPSBhWzVdIC0gYls1XTtcclxuICBvdXRbNl0gPSBhWzZdIC0gYls2XTtcclxuICBvdXRbN10gPSBhWzddIC0gYls3XTtcclxuICBvdXRbOF0gPSBhWzhdIC0gYls4XTtcclxuICBvdXRbOV0gPSBhWzldIC0gYls5XTtcclxuICBvdXRbMTBdID0gYVsxMF0gLSBiWzEwXTtcclxuICBvdXRbMTFdID0gYVsxMV0gLSBiWzExXTtcclxuICBvdXRbMTJdID0gYVsxMl0gLSBiWzEyXTtcclxuICBvdXRbMTNdID0gYVsxM10gLSBiWzEzXTtcclxuICBvdXRbMTRdID0gYVsxNF0gLSBiWzE0XTtcclxuICBvdXRbMTVdID0gYVsxNV0gLSBiWzE1XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNdWx0aXBseSBlYWNoIGVsZW1lbnQgb2YgdGhlIG1hdHJpeCBieSBhIHNjYWxhci5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAqIGI7XHJcbiAgb3V0WzFdID0gYVsxXSAqIGI7XHJcbiAgb3V0WzJdID0gYVsyXSAqIGI7XHJcbiAgb3V0WzNdID0gYVszXSAqIGI7XHJcbiAgb3V0WzRdID0gYVs0XSAqIGI7XHJcbiAgb3V0WzVdID0gYVs1XSAqIGI7XHJcbiAgb3V0WzZdID0gYVs2XSAqIGI7XHJcbiAgb3V0WzddID0gYVs3XSAqIGI7XHJcbiAgb3V0WzhdID0gYVs4XSAqIGI7XHJcbiAgb3V0WzldID0gYVs5XSAqIGI7XHJcbiAgb3V0WzEwXSA9IGFbMTBdICogYjtcclxuICBvdXRbMTFdID0gYVsxMV0gKiBiO1xyXG4gIG91dFsxMl0gPSBhWzEyXSAqIGI7XHJcbiAgb3V0WzEzXSA9IGFbMTNdICogYjtcclxuICBvdXRbMTRdID0gYVsxNF0gKiBiO1xyXG4gIG91dFsxNV0gPSBhWzE1XSAqIGI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWRkcyB0d28gbWF0NCdzIGFmdGVyIG11bHRpcGx5aW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcclxuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xyXG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XHJcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcclxuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xyXG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XHJcbiAgb3V0WzVdID0gYVs1XSArIGJbNV0gKiBzY2FsZTtcclxuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xyXG4gIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XHJcbiAgb3V0WzhdID0gYVs4XSArIGJbOF0gKiBzY2FsZTtcclxuICBvdXRbOV0gPSBhWzldICsgYls5XSAqIHNjYWxlO1xyXG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdICogc2NhbGU7XHJcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV0gKiBzY2FsZTtcclxuICBvdXRbMTJdID0gYVsxMl0gKyBiWzEyXSAqIHNjYWxlO1xyXG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdICogc2NhbGU7XHJcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF0gKiBzY2FsZTtcclxuICBvdXRbMTVdID0gYVsxNV0gKyBiWzE1XSAqIHNjYWxlO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xyXG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN10gJiYgYVs4XSA9PT0gYls4XSAmJiBhWzldID09PSBiWzldICYmIGFbMTBdID09PSBiWzEwXSAmJiBhWzExXSA9PT0gYlsxMV0gJiYgYVsxMl0gPT09IGJbMTJdICYmIGFbMTNdID09PSBiWzEzXSAmJiBhWzE0XSA9PT0gYlsxNF0gJiYgYVsxNV0gPT09IGJbMTVdO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XHJcbiAgdmFyIGEwID0gYVswXSxcclxuICAgICAgYTEgPSBhWzFdLFxyXG4gICAgICBhMiA9IGFbMl0sXHJcbiAgICAgIGEzID0gYVszXTtcclxuICB2YXIgYTQgPSBhWzRdLFxyXG4gICAgICBhNSA9IGFbNV0sXHJcbiAgICAgIGE2ID0gYVs2XSxcclxuICAgICAgYTcgPSBhWzddO1xyXG4gIHZhciBhOCA9IGFbOF0sXHJcbiAgICAgIGE5ID0gYVs5XSxcclxuICAgICAgYTEwID0gYVsxMF0sXHJcbiAgICAgIGExMSA9IGFbMTFdO1xyXG4gIHZhciBhMTIgPSBhWzEyXSxcclxuICAgICAgYTEzID0gYVsxM10sXHJcbiAgICAgIGExNCA9IGFbMTRdLFxyXG4gICAgICBhMTUgPSBhWzE1XTtcclxuICB2YXIgYjAgPSBiWzBdLFxyXG4gICAgICBiMSA9IGJbMV0sXHJcbiAgICAgIGIyID0gYlsyXSxcclxuICAgICAgYjMgPSBiWzNdO1xyXG4gIHZhciBiNCA9IGJbNF0sXHJcbiAgICAgIGI1ID0gYls1XSxcclxuICAgICAgYjYgPSBiWzZdLFxyXG4gICAgICBiNyA9IGJbN107XHJcbiAgdmFyIGI4ID0gYls4XSxcclxuICAgICAgYjkgPSBiWzldLFxyXG4gICAgICBiMTAgPSBiWzEwXSxcclxuICAgICAgYjExID0gYlsxMV07XHJcbiAgdmFyIGIxMiA9IGJbMTJdLFxyXG4gICAgICBiMTMgPSBiWzEzXSxcclxuICAgICAgYjE0ID0gYlsxNF0sXHJcbiAgICAgIGIxNSA9IGJbMTVdO1xyXG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpICYmIE1hdGguYWJzKGE4IC0gYjgpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE4KSwgTWF0aC5hYnMoYjgpKSAmJiBNYXRoLmFicyhhOSAtIGI5KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOSksIE1hdGguYWJzKGI5KSkgJiYgTWF0aC5hYnMoYTEwIC0gYjEwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTApLCBNYXRoLmFicyhiMTApKSAmJiBNYXRoLmFicyhhMTEgLSBiMTEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMSksIE1hdGguYWJzKGIxMSkpICYmIE1hdGguYWJzKGExMiAtIGIxMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEyKSwgTWF0aC5hYnMoYjEyKSkgJiYgTWF0aC5hYnMoYTEzIC0gYjEzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTMpLCBNYXRoLmFicyhiMTMpKSAmJiBNYXRoLmFicyhhMTQgLSBiMTQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNCksIE1hdGguYWJzKGIxNCkpICYmIE1hdGguYWJzKGExNSAtIGIxNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE1KSwgTWF0aC5hYnMoYjE1KSk7XHJcbn1cclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5tdWx0aXBseX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5zdWJ0cmFjdH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCAiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XHJcbmltcG9ydCAqIGFzIG1hdDMgZnJvbSBcIi4vbWF0My5qc1wiO1xyXG5pbXBvcnQgKiBhcyB2ZWMzIGZyb20gXCIuL3ZlYzMuanNcIjtcclxuaW1wb3J0ICogYXMgdmVjNCBmcm9tIFwiLi92ZWM0LmpzXCI7XHJcbi8qKlxyXG4gKiBRdWF0ZXJuaW9uXHJcbiAqIEBtb2R1bGUgcXVhdFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IHF1YXRcclxuICpcclxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcclxuXHJcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XHJcbiAgICBvdXRbMF0gPSAwO1xyXG4gICAgb3V0WzFdID0gMDtcclxuICAgIG91dFsyXSA9IDA7XHJcbiAgfVxyXG5cclxuICBvdXRbM10gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldCBhIHF1YXQgdG8gdGhlIGlkZW50aXR5IHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XHJcbiAgb3V0WzBdID0gMDtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXRzIGEgcXVhdCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhbmQgcm90YXRpb24gYXhpcyxcclxuICogdGhlbiByZXR1cm5zIGl0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgYXJvdW5kIHdoaWNoIHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSBpbiByYWRpYW5zXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICoqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEF4aXNBbmdsZShvdXQsIGF4aXMsIHJhZCkge1xyXG4gIHJhZCA9IHJhZCAqIDAuNTtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XHJcbiAgb3V0WzBdID0gcyAqIGF4aXNbMF07XHJcbiAgb3V0WzFdID0gcyAqIGF4aXNbMV07XHJcbiAgb3V0WzJdID0gcyAqIGF4aXNbMl07XHJcbiAgb3V0WzNdID0gTWF0aC5jb3MocmFkKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZXRzIHRoZSByb3RhdGlvbiBheGlzIGFuZCBhbmdsZSBmb3IgYSBnaXZlblxyXG4gKiAgcXVhdGVybmlvbi4gSWYgYSBxdWF0ZXJuaW9uIGlzIGNyZWF0ZWQgd2l0aFxyXG4gKiAgc2V0QXhpc0FuZ2xlLCB0aGlzIG1ldGhvZCB3aWxsIHJldHVybiB0aGUgc2FtZVxyXG4gKiAgdmFsdWVzIGFzIHByb3ZpZGllZCBpbiB0aGUgb3JpZ2luYWwgcGFyYW1ldGVyIGxpc3RcclxuICogIE9SIGZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHZhbHVlcy5cclxuICogRXhhbXBsZTogVGhlIHF1YXRlcm5pb24gZm9ybWVkIGJ5IGF4aXMgWzAsIDAsIDFdIGFuZFxyXG4gKiAgYW5nbGUgLTkwIGlzIHRoZSBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIGZvcm1lZCBieVxyXG4gKiAgWzAsIDAsIDFdIGFuZCAyNzAuIFRoaXMgbWV0aG9kIGZhdm9ycyB0aGUgbGF0dGVyLlxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXRfYXhpcyAgVmVjdG9yIHJlY2VpdmluZyB0aGUgYXhpcyBvZiByb3RhdGlvblxyXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IHEgICAgIFF1YXRlcm5pb24gdG8gYmUgZGVjb21wb3NlZFxyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICBBbmdsZSwgaW4gcmFkaWFucywgb2YgdGhlIHJvdGF0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEF4aXNBbmdsZShvdXRfYXhpcywgcSkge1xyXG4gIHZhciByYWQgPSBNYXRoLmFjb3MocVszXSkgKiAyLjA7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQgLyAyLjApO1xyXG5cclxuICBpZiAocyA+IGdsTWF0cml4LkVQU0lMT04pIHtcclxuICAgIG91dF9heGlzWzBdID0gcVswXSAvIHM7XHJcbiAgICBvdXRfYXhpc1sxXSA9IHFbMV0gLyBzO1xyXG4gICAgb3V0X2F4aXNbMl0gPSBxWzJdIC8gcztcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gSWYgcyBpcyB6ZXJvLCByZXR1cm4gYW55IGF4aXMgKG5vIHJvdGF0aW9uIC0gYXhpcyBkb2VzIG5vdCBtYXR0ZXIpXHJcbiAgICBvdXRfYXhpc1swXSA9IDE7XHJcbiAgICBvdXRfYXhpc1sxXSA9IDA7XHJcbiAgICBvdXRfYXhpc1syXSA9IDA7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmFkO1xyXG59XHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gdHdvIHVuaXQgcXVhdGVybmlvbnNcclxuICpcclxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0fSBhICAgICBPcmlnaW4gdW5pdCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdH0gYiAgICAgRGVzdGluYXRpb24gdW5pdCBxdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm4ge051bWJlcn0gICAgIEFuZ2xlLCBpbiByYWRpYW5zLCBiZXR3ZWVuIHRoZSB0d28gcXVhdGVybmlvbnNcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QW5nbGUoYSwgYikge1xyXG4gIHZhciBkb3Rwcm9kdWN0ID0gZG90KGEsIGIpO1xyXG4gIHJldHVybiBNYXRoLmFjb3MoMiAqIGRvdHByb2R1Y3QgKiBkb3Rwcm9kdWN0IC0gMSk7XHJcbn1cclxuLyoqXHJcbiAqIE11bHRpcGxpZXMgdHdvIHF1YXQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XHJcbiAgdmFyIGF4ID0gYVswXSxcclxuICAgICAgYXkgPSBhWzFdLFxyXG4gICAgICBheiA9IGFbMl0sXHJcbiAgICAgIGF3ID0gYVszXTtcclxuICB2YXIgYnggPSBiWzBdLFxyXG4gICAgICBieSA9IGJbMV0sXHJcbiAgICAgIGJ6ID0gYlsyXSxcclxuICAgICAgYncgPSBiWzNdO1xyXG4gIG91dFswXSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XHJcbiAgb3V0WzFdID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBiejtcclxuICBvdXRbMl0gPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4O1xyXG4gIG91dFszXSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBYIGF4aXNcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgcmFkKSB7XHJcbiAgcmFkICo9IDAuNTtcclxuICB2YXIgYXggPSBhWzBdLFxyXG4gICAgICBheSA9IGFbMV0sXHJcbiAgICAgIGF6ID0gYVsyXSxcclxuICAgICAgYXcgPSBhWzNdO1xyXG4gIHZhciBieCA9IE1hdGguc2luKHJhZCksXHJcbiAgICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcclxuICBvdXRbMF0gPSBheCAqIGJ3ICsgYXcgKiBieDtcclxuICBvdXRbMV0gPSBheSAqIGJ3ICsgYXogKiBieDtcclxuICBvdXRbMl0gPSBheiAqIGJ3IC0gYXkgKiBieDtcclxuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXggKiBieDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgcXVhdGVybmlvbiBieSB0aGUgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIFkgYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBxdWF0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZVxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcclxuICByYWQgKj0gMC41O1xyXG4gIHZhciBheCA9IGFbMF0sXHJcbiAgICAgIGF5ID0gYVsxXSxcclxuICAgICAgYXogPSBhWzJdLFxyXG4gICAgICBhdyA9IGFbM107XHJcbiAgdmFyIGJ5ID0gTWF0aC5zaW4ocmFkKSxcclxuICAgICAgYncgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIG91dFswXSA9IGF4ICogYncgLSBheiAqIGJ5O1xyXG4gIG91dFsxXSA9IGF5ICogYncgKyBhdyAqIGJ5O1xyXG4gIG91dFsyXSA9IGF6ICogYncgKyBheCAqIGJ5O1xyXG4gIG91dFszXSA9IGF3ICogYncgLSBheSAqIGJ5O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBxdWF0ZXJuaW9uIGJ5IHRoZSBnaXZlbiBhbmdsZSBhYm91dCB0aGUgWiBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byByb3RhdGVcclxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBhbmdsZSAoaW4gcmFkaWFucykgdG8gcm90YXRlXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xyXG4gIHJhZCAqPSAwLjU7XHJcbiAgdmFyIGF4ID0gYVswXSxcclxuICAgICAgYXkgPSBhWzFdLFxyXG4gICAgICBheiA9IGFbMl0sXHJcbiAgICAgIGF3ID0gYVszXTtcclxuICB2YXIgYnogPSBNYXRoLnNpbihyYWQpLFxyXG4gICAgICBidyA9IE1hdGguY29zKHJhZCk7XHJcbiAgb3V0WzBdID0gYXggKiBidyArIGF5ICogYno7XHJcbiAgb3V0WzFdID0gYXkgKiBidyAtIGF4ICogYno7XHJcbiAgb3V0WzJdID0gYXogKiBidyArIGF3ICogYno7XHJcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF6ICogYno7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgVyBjb21wb25lbnQgb2YgYSBxdWF0IGZyb20gdGhlIFgsIFksIGFuZCBaIGNvbXBvbmVudHMuXHJcbiAqIEFzc3VtZXMgdGhhdCBxdWF0ZXJuaW9uIGlzIDEgdW5pdCBpbiBsZW5ndGguXHJcbiAqIEFueSBleGlzdGluZyBXIGNvbXBvbmVudCB3aWxsIGJlIGlnbm9yZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBXIGNvbXBvbmVudCBvZlxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVcob3V0LCBhKSB7XHJcbiAgdmFyIHggPSBhWzBdLFxyXG4gICAgICB5ID0gYVsxXSxcclxuICAgICAgeiA9IGFbMl07XHJcbiAgb3V0WzBdID0geDtcclxuICBvdXRbMV0gPSB5O1xyXG4gIG91dFsyXSA9IHo7XHJcbiAgb3V0WzNdID0gTWF0aC5zcXJ0KE1hdGguYWJzKDEuMCAtIHggKiB4IC0geSAqIHkgLSB6ICogeikpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2YgYSB1bml0IHF1YXRlcm5pb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2ZcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleHAob3V0LCBhKSB7XHJcbiAgdmFyIHggPSBhWzBdLFxyXG4gICAgICB5ID0gYVsxXSxcclxuICAgICAgeiA9IGFbMl0sXHJcbiAgICAgIHcgPSBhWzNdO1xyXG4gIHZhciByID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XHJcbiAgdmFyIGV0ID0gTWF0aC5leHAodyk7XHJcbiAgdmFyIHMgPSByID4gMCA/IGV0ICogTWF0aC5zaW4ocikgLyByIDogMDtcclxuICBvdXRbMF0gPSB4ICogcztcclxuICBvdXRbMV0gPSB5ICogcztcclxuICBvdXRbMl0gPSB6ICogcztcclxuICBvdXRbM10gPSBldCAqIE1hdGguY29zKHIpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZSB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgYSB1bml0IHF1YXRlcm5pb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2ZcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsbihvdXQsIGEpIHtcclxuICB2YXIgeCA9IGFbMF0sXHJcbiAgICAgIHkgPSBhWzFdLFxyXG4gICAgICB6ID0gYVsyXSxcclxuICAgICAgdyA9IGFbM107XHJcbiAgdmFyIHIgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcclxuICB2YXIgdCA9IHIgPiAwID8gTWF0aC5hdGFuMihyLCB3KSAvIHIgOiAwO1xyXG4gIG91dFswXSA9IHggKiB0O1xyXG4gIG91dFsxXSA9IHkgKiB0O1xyXG4gIG91dFsyXSA9IHogKiB0O1xyXG4gIG91dFszXSA9IDAuNSAqIE1hdGgubG9nKHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3KTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgdGhlIHNjYWxhciBwb3dlciBvZiBhIHVuaXQgcXVhdGVybmlvbi5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZlxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHF1YXRlcm5pb24gYnlcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwb3cob3V0LCBhLCBiKSB7XHJcbiAgbG4ob3V0LCBhKTtcclxuICBzY2FsZShvdXQsIG91dCwgYik7XHJcbiAgZXhwKG91dCwgb3V0KTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNsZXJwKG91dCwgYSwgYiwgdCkge1xyXG4gIC8vIGJlbmNobWFya3M6XHJcbiAgLy8gICAgaHR0cDovL2pzcGVyZi5jb20vcXVhdGVybmlvbi1zbGVycC1pbXBsZW1lbnRhdGlvbnNcclxuICB2YXIgYXggPSBhWzBdLFxyXG4gICAgICBheSA9IGFbMV0sXHJcbiAgICAgIGF6ID0gYVsyXSxcclxuICAgICAgYXcgPSBhWzNdO1xyXG4gIHZhciBieCA9IGJbMF0sXHJcbiAgICAgIGJ5ID0gYlsxXSxcclxuICAgICAgYnogPSBiWzJdLFxyXG4gICAgICBidyA9IGJbM107XHJcbiAgdmFyIG9tZWdhLCBjb3NvbSwgc2lub20sIHNjYWxlMCwgc2NhbGUxOyAvLyBjYWxjIGNvc2luZVxyXG5cclxuICBjb3NvbSA9IGF4ICogYnggKyBheSAqIGJ5ICsgYXogKiBieiArIGF3ICogYnc7IC8vIGFkanVzdCBzaWducyAoaWYgbmVjZXNzYXJ5KVxyXG5cclxuICBpZiAoY29zb20gPCAwLjApIHtcclxuICAgIGNvc29tID0gLWNvc29tO1xyXG4gICAgYnggPSAtYng7XHJcbiAgICBieSA9IC1ieTtcclxuICAgIGJ6ID0gLWJ6O1xyXG4gICAgYncgPSAtYnc7XHJcbiAgfSAvLyBjYWxjdWxhdGUgY29lZmZpY2llbnRzXHJcblxyXG5cclxuICBpZiAoMS4wIC0gY29zb20gPiBnbE1hdHJpeC5FUFNJTE9OKSB7XHJcbiAgICAvLyBzdGFuZGFyZCBjYXNlIChzbGVycClcclxuICAgIG9tZWdhID0gTWF0aC5hY29zKGNvc29tKTtcclxuICAgIHNpbm9tID0gTWF0aC5zaW4ob21lZ2EpO1xyXG4gICAgc2NhbGUwID0gTWF0aC5zaW4oKDEuMCAtIHQpICogb21lZ2EpIC8gc2lub207XHJcbiAgICBzY2FsZTEgPSBNYXRoLnNpbih0ICogb21lZ2EpIC8gc2lub207XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIFwiZnJvbVwiIGFuZCBcInRvXCIgcXVhdGVybmlvbnMgYXJlIHZlcnkgY2xvc2VcclxuICAgIC8vICAuLi4gc28gd2UgY2FuIGRvIGEgbGluZWFyIGludGVycG9sYXRpb25cclxuICAgIHNjYWxlMCA9IDEuMCAtIHQ7XHJcbiAgICBzY2FsZTEgPSB0O1xyXG4gIH0gLy8gY2FsY3VsYXRlIGZpbmFsIHZhbHVlc1xyXG5cclxuXHJcbiAgb3V0WzBdID0gc2NhbGUwICogYXggKyBzY2FsZTEgKiBieDtcclxuICBvdXRbMV0gPSBzY2FsZTAgKiBheSArIHNjYWxlMSAqIGJ5O1xyXG4gIG91dFsyXSA9IHNjYWxlMCAqIGF6ICsgc2NhbGUxICogYno7XHJcbiAgb3V0WzNdID0gc2NhbGUwICogYXcgKyBzY2FsZTEgKiBidztcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdW5pdCBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQpIHtcclxuICAvLyBJbXBsZW1lbnRhdGlvbiBvZiBodHRwOi8vcGxhbm5pbmcuY3MudWl1Yy5lZHUvbm9kZTE5OC5odG1sXHJcbiAgLy8gVE9ETzogQ2FsbGluZyByYW5kb20gMyB0aW1lcyBpcyBwcm9iYWJseSBub3QgdGhlIGZhc3Rlc3Qgc29sdXRpb25cclxuICB2YXIgdTEgPSBnbE1hdHJpeC5SQU5ET00oKTtcclxuICB2YXIgdTIgPSBnbE1hdHJpeC5SQU5ET00oKTtcclxuICB2YXIgdTMgPSBnbE1hdHJpeC5SQU5ET00oKTtcclxuICB2YXIgc3FydDFNaW51c1UxID0gTWF0aC5zcXJ0KDEgLSB1MSk7XHJcbiAgdmFyIHNxcnRVMSA9IE1hdGguc3FydCh1MSk7XHJcbiAgb3V0WzBdID0gc3FydDFNaW51c1UxICogTWF0aC5zaW4oMi4wICogTWF0aC5QSSAqIHUyKTtcclxuICBvdXRbMV0gPSBzcXJ0MU1pbnVzVTEgKiBNYXRoLmNvcygyLjAgKiBNYXRoLlBJICogdTIpO1xyXG4gIG91dFsyXSA9IHNxcnRVMSAqIE1hdGguc2luKDIuMCAqIE1hdGguUEkgKiB1Myk7XHJcbiAgb3V0WzNdID0gc3FydFUxICogTWF0aC5jb3MoMi4wICogTWF0aC5QSSAqIHUzKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBpbnZlcnNlIG9mIGEgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgaW52ZXJzZSBvZlxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcclxuICB2YXIgYTAgPSBhWzBdLFxyXG4gICAgICBhMSA9IGFbMV0sXHJcbiAgICAgIGEyID0gYVsyXSxcclxuICAgICAgYTMgPSBhWzNdO1xyXG4gIHZhciBkb3QgPSBhMCAqIGEwICsgYTEgKiBhMSArIGEyICogYTIgKyBhMyAqIGEzO1xyXG4gIHZhciBpbnZEb3QgPSBkb3QgPyAxLjAgLyBkb3QgOiAwOyAvLyBUT0RPOiBXb3VsZCBiZSBmYXN0ZXIgdG8gcmV0dXJuIFswLDAsMCwwXSBpbW1lZGlhdGVseSBpZiBkb3QgPT0gMFxyXG5cclxuICBvdXRbMF0gPSAtYTAgKiBpbnZEb3Q7XHJcbiAgb3V0WzFdID0gLWExICogaW52RG90O1xyXG4gIG91dFsyXSA9IC1hMiAqIGludkRvdDtcclxuICBvdXRbM10gPSBhMyAqIGludkRvdDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBjb25qdWdhdGUgb2YgYSBxdWF0XHJcbiAqIElmIHRoZSBxdWF0ZXJuaW9uIGlzIG5vcm1hbGl6ZWQsIHRoaXMgZnVuY3Rpb24gaXMgZmFzdGVyIHRoYW4gcXVhdC5pbnZlcnNlIGFuZCBwcm9kdWNlcyB0aGUgc2FtZSByZXN1bHQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBjb25qdWdhdGUgb2ZcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb25qdWdhdGUob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gLWFbMF07XHJcbiAgb3V0WzFdID0gLWFbMV07XHJcbiAgb3V0WzJdID0gLWFbMl07XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgcXVhdGVybmlvbiBmcm9tIHRoZSBnaXZlbiAzeDMgcm90YXRpb24gbWF0cml4LlxyXG4gKlxyXG4gKiBOT1RFOiBUaGUgcmVzdWx0YW50IHF1YXRlcm5pb24gaXMgbm90IG5vcm1hbGl6ZWQsIHNvIHlvdSBzaG91bGQgYmUgc3VyZVxyXG4gKiB0byByZW5vcm1hbGl6ZSB0aGUgcXVhdGVybmlvbiB5b3Vyc2VsZiB3aGVyZSBuZWNlc3NhcnkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSByb3RhdGlvbiBtYXRyaXhcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbU1hdDMob3V0LCBtKSB7XHJcbiAgLy8gQWxnb3JpdGhtIGluIEtlbiBTaG9lbWFrZSdzIGFydGljbGUgaW4gMTk4NyBTSUdHUkFQSCBjb3Vyc2Ugbm90ZXNcclxuICAvLyBhcnRpY2xlIFwiUXVhdGVybmlvbiBDYWxjdWx1cyBhbmQgRmFzdCBBbmltYXRpb25cIi5cclxuICB2YXIgZlRyYWNlID0gbVswXSArIG1bNF0gKyBtWzhdO1xyXG4gIHZhciBmUm9vdDtcclxuXHJcbiAgaWYgKGZUcmFjZSA+IDAuMCkge1xyXG4gICAgLy8gfHd8ID4gMS8yLCBtYXkgYXMgd2VsbCBjaG9vc2UgdyA+IDEvMlxyXG4gICAgZlJvb3QgPSBNYXRoLnNxcnQoZlRyYWNlICsgMS4wKTsgLy8gMndcclxuXHJcbiAgICBvdXRbM10gPSAwLjUgKiBmUm9vdDtcclxuICAgIGZSb290ID0gMC41IC8gZlJvb3Q7IC8vIDEvKDR3KVxyXG5cclxuICAgIG91dFswXSA9IChtWzVdIC0gbVs3XSkgKiBmUm9vdDtcclxuICAgIG91dFsxXSA9IChtWzZdIC0gbVsyXSkgKiBmUm9vdDtcclxuICAgIG91dFsyXSA9IChtWzFdIC0gbVszXSkgKiBmUm9vdDtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gfHd8IDw9IDEvMlxyXG4gICAgdmFyIGkgPSAwO1xyXG4gICAgaWYgKG1bNF0gPiBtWzBdKSBpID0gMTtcclxuICAgIGlmIChtWzhdID4gbVtpICogMyArIGldKSBpID0gMjtcclxuICAgIHZhciBqID0gKGkgKyAxKSAlIDM7XHJcbiAgICB2YXIgayA9IChpICsgMikgJSAzO1xyXG4gICAgZlJvb3QgPSBNYXRoLnNxcnQobVtpICogMyArIGldIC0gbVtqICogMyArIGpdIC0gbVtrICogMyArIGtdICsgMS4wKTtcclxuICAgIG91dFtpXSA9IDAuNSAqIGZSb290O1xyXG4gICAgZlJvb3QgPSAwLjUgLyBmUm9vdDtcclxuICAgIG91dFszXSA9IChtW2ogKiAzICsga10gLSBtW2sgKiAzICsgal0pICogZlJvb3Q7XHJcbiAgICBvdXRbal0gPSAobVtqICogMyArIGldICsgbVtpICogMyArIGpdKSAqIGZSb290O1xyXG4gICAgb3V0W2tdID0gKG1bayAqIDMgKyBpXSArIG1baSAqIDMgKyBrXSkgKiBmUm9vdDtcclxuICB9XHJcblxyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIGV1bGVyIGFuZ2xlIHgsIHksIHouXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge3h9IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWCBheGlzIGluIGRlZ3JlZXMuXHJcbiAqIEBwYXJhbSB7eX0gQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBZIGF4aXMgaW4gZGVncmVlcy5cclxuICogQHBhcmFtIHt6fSBBbmdsZSB0byByb3RhdGUgYXJvdW5kIFogYXhpcyBpbiBkZWdyZWVzLlxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXVsZXIob3V0LCB4LCB5LCB6KSB7XHJcbiAgdmFyIGhhbGZUb1JhZCA9IDAuNSAqIE1hdGguUEkgLyAxODAuMDtcclxuICB4ICo9IGhhbGZUb1JhZDtcclxuICB5ICo9IGhhbGZUb1JhZDtcclxuICB6ICo9IGhhbGZUb1JhZDtcclxuICB2YXIgc3ggPSBNYXRoLnNpbih4KTtcclxuICB2YXIgY3ggPSBNYXRoLmNvcyh4KTtcclxuICB2YXIgc3kgPSBNYXRoLnNpbih5KTtcclxuICB2YXIgY3kgPSBNYXRoLmNvcyh5KTtcclxuICB2YXIgc3ogPSBNYXRoLnNpbih6KTtcclxuICB2YXIgY3ogPSBNYXRoLmNvcyh6KTtcclxuICBvdXRbMF0gPSBzeCAqIGN5ICogY3ogLSBjeCAqIHN5ICogc3o7XHJcbiAgb3V0WzFdID0gY3ggKiBzeSAqIGN6ICsgc3ggKiBjeSAqIHN6O1xyXG4gIG91dFsyXSA9IGN4ICogY3kgKiBzeiAtIHN4ICogc3kgKiBjejtcclxuICBvdXRbM10gPSBjeCAqIGN5ICogY3ogKyBzeCAqIHN5ICogc3o7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHF1YXRlbmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XHJcbiAgcmV0dXJuIFwicXVhdChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBxdWF0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0ZXJuaW9uIHRvIGNsb25lXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBhIG5ldyBxdWF0ZXJuaW9uXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgY2xvbmUgPSB2ZWM0LmNsb25lO1xyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBxdWF0IGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdyBXIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7cXVhdH0gYSBuZXcgcXVhdGVybmlvblxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGZyb21WYWx1ZXMgPSB2ZWM0LmZyb21WYWx1ZXM7XHJcbi8qKlxyXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgcXVhdCB0byBhbm90aGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgc291cmNlIHF1YXRlcm5pb25cclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGNvcHkgPSB2ZWM0LmNvcHk7XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBxdWF0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzZXQgPSB2ZWM0LnNldDtcclxuLyoqXHJcbiAqIEFkZHMgdHdvIHF1YXQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBhZGQgPSB2ZWM0LmFkZDtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdC5tdWx0aXBseX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcclxuLyoqXHJcbiAqIFNjYWxlcyBhIHF1YXQgYnkgYSBzY2FsYXIgbnVtYmVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNjYWxlID0gdmVjNC5zY2FsZTtcclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byBxdWF0J3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBkb3QgPSB2ZWM0LmRvdDtcclxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbGVycCA9IHZlYzQubGVycDtcclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHF1YXRcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcclxuICovXHJcblxyXG5leHBvcnQgdmFyIGxlbmd0aCA9IHZlYzQubGVuZ3RoO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Lmxlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHF1YXRcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3F1YXJlZExlbmd0aCA9IHZlYzQuc3F1YXJlZExlbmd0aDtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdC5zcXVhcmVkTGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XHJcbi8qKlxyXG4gKiBOb3JtYWxpemUgYSBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0ZXJuaW9uIHRvIG5vcm1hbGl6ZVxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbm9ybWFsaXplID0gdmVjNC5ub3JtYWxpemU7XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBxdWF0ZXJuaW9ucyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIFRoZSBmaXJzdCBxdWF0ZXJuaW9uLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiBUaGUgc2Vjb25kIHF1YXRlcm5pb24uXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZXhhY3RFcXVhbHMgPSB2ZWM0LmV4YWN0RXF1YWxzO1xyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgcXVhdGVybmlvbnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBlcXVhbHMgPSB2ZWM0LmVxdWFscztcclxuLyoqXHJcbiAqIFNldHMgYSBxdWF0ZXJuaW9uIHRvIHJlcHJlc2VudCB0aGUgc2hvcnRlc3Qgcm90YXRpb24gZnJvbSBvbmVcclxuICogdmVjdG9yIHRvIGFub3RoZXIuXHJcbiAqXHJcbiAqIEJvdGggdmVjdG9ycyBhcmUgYXNzdW1lZCB0byBiZSB1bml0IGxlbmd0aC5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgaW5pdGlhbCB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIGRlc3RpbmF0aW9uIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciByb3RhdGlvblRvID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB0bXB2ZWMzID0gdmVjMy5jcmVhdGUoKTtcclxuICB2YXIgeFVuaXRWZWMzID0gdmVjMy5mcm9tVmFsdWVzKDEsIDAsIDApO1xyXG4gIHZhciB5VW5pdFZlYzMgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCk7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uIChvdXQsIGEsIGIpIHtcclxuICAgIHZhciBkb3QgPSB2ZWMzLmRvdChhLCBiKTtcclxuXHJcbiAgICBpZiAoZG90IDwgLTAuOTk5OTk5KSB7XHJcbiAgICAgIHZlYzMuY3Jvc3ModG1wdmVjMywgeFVuaXRWZWMzLCBhKTtcclxuICAgICAgaWYgKHZlYzMubGVuKHRtcHZlYzMpIDwgMC4wMDAwMDEpIHZlYzMuY3Jvc3ModG1wdmVjMywgeVVuaXRWZWMzLCBhKTtcclxuICAgICAgdmVjMy5ub3JtYWxpemUodG1wdmVjMywgdG1wdmVjMyk7XHJcbiAgICAgIHNldEF4aXNBbmdsZShvdXQsIHRtcHZlYzMsIE1hdGguUEkpO1xyXG4gICAgICByZXR1cm4gb3V0O1xyXG4gICAgfSBlbHNlIGlmIChkb3QgPiAwLjk5OTk5OSkge1xyXG4gICAgICBvdXRbMF0gPSAwO1xyXG4gICAgICBvdXRbMV0gPSAwO1xyXG4gICAgICBvdXRbMl0gPSAwO1xyXG4gICAgICBvdXRbM10gPSAxO1xyXG4gICAgICByZXR1cm4gb3V0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmVjMy5jcm9zcyh0bXB2ZWMzLCBhLCBiKTtcclxuICAgICAgb3V0WzBdID0gdG1wdmVjM1swXTtcclxuICAgICAgb3V0WzFdID0gdG1wdmVjM1sxXTtcclxuICAgICAgb3V0WzJdID0gdG1wdmVjM1syXTtcclxuICAgICAgb3V0WzNdID0gMSArIGRvdDtcclxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZShvdXQsIG91dCk7XHJcbiAgICB9XHJcbiAgfTtcclxufSgpO1xyXG4vKipcclxuICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYyB0aGUgdGhpcmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gZCB0aGUgZm91cnRoIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzcWxlcnAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHRlbXAxID0gY3JlYXRlKCk7XHJcbiAgdmFyIHRlbXAyID0gY3JlYXRlKCk7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uIChvdXQsIGEsIGIsIGMsIGQsIHQpIHtcclxuICAgIHNsZXJwKHRlbXAxLCBhLCBkLCB0KTtcclxuICAgIHNsZXJwKHRlbXAyLCBiLCBjLCB0KTtcclxuICAgIHNsZXJwKG91dCwgdGVtcDEsIHRlbXAyLCAyICogdCAqICgxIC0gdCkpO1xyXG4gICAgcmV0dXJuIG91dDtcclxuICB9O1xyXG59KCk7XHJcbi8qKlxyXG4gKiBTZXRzIHRoZSBzcGVjaWZpZWQgcXVhdGVybmlvbiB3aXRoIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlblxyXG4gKiBheGVzLiBFYWNoIGF4aXMgaXMgYSB2ZWMzIGFuZCBpcyBleHBlY3RlZCB0byBiZSB1bml0IGxlbmd0aCBhbmRcclxuICogcGVycGVuZGljdWxhciB0byBhbGwgb3RoZXIgc3BlY2lmaWVkIGF4ZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2aWV3ICB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgdmlld2luZyBkaXJlY3Rpb25cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHJpZ2h0IHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBsb2NhbCBcInJpZ2h0XCIgZGlyZWN0aW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCAgICB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgbG9jYWwgXCJ1cFwiIGRpcmVjdGlvblxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzZXRBeGVzID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBtYXRyID0gbWF0My5jcmVhdGUoKTtcclxuICByZXR1cm4gZnVuY3Rpb24gKG91dCwgdmlldywgcmlnaHQsIHVwKSB7XHJcbiAgICBtYXRyWzBdID0gcmlnaHRbMF07XHJcbiAgICBtYXRyWzNdID0gcmlnaHRbMV07XHJcbiAgICBtYXRyWzZdID0gcmlnaHRbMl07XHJcbiAgICBtYXRyWzFdID0gdXBbMF07XHJcbiAgICBtYXRyWzRdID0gdXBbMV07XHJcbiAgICBtYXRyWzddID0gdXBbMl07XHJcbiAgICBtYXRyWzJdID0gLXZpZXdbMF07XHJcbiAgICBtYXRyWzVdID0gLXZpZXdbMV07XHJcbiAgICBtYXRyWzhdID0gLXZpZXdbMl07XHJcbiAgICByZXR1cm4gbm9ybWFsaXplKG91dCwgZnJvbU1hdDMob3V0LCBtYXRyKSk7XHJcbiAgfTtcclxufSgpOyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcclxuLyoqXHJcbiAqIDMgRGltZW5zaW9uYWwgVmVjdG9yXHJcbiAqIEBtb2R1bGUgdmVjM1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMzXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcclxuXHJcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XHJcbiAgICBvdXRbMF0gPSAwO1xyXG4gICAgb3V0WzFdID0gMDtcclxuICAgIG91dFsyXSA9IDA7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNsb25lXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XHJcbiAgdmFyIHggPSBhWzBdO1xyXG4gIHZhciB5ID0gYVsxXTtcclxuICB2YXIgeiA9IGFbMl07XHJcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKHgsIHksIHopIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XHJcbiAgb3V0WzBdID0geDtcclxuICBvdXRbMV0gPSB5O1xyXG4gIG91dFsyXSA9IHo7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzMgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgc291cmNlIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMyB0byB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeikge1xyXG4gIG91dFswXSA9IHg7XHJcbiAgb3V0WzFdID0geTtcclxuICBvdXRbMl0gPSB6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTXVsdGlwbGllcyB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIERpdmlkZXMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSAvIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSAvIGJbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2VpbFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNlaWwob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcclxuICBvdXRbMl0gPSBNYXRoLmNlaWwoYVsyXSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTWF0aC5mbG9vciB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGZsb29yXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gTWF0aC5mbG9vcihhWzBdKTtcclxuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xyXG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcclxuICBvdXRbMV0gPSBNYXRoLm1pbihhWzFdLCBiWzFdKTtcclxuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG9mIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IE1hdGgubWF4KGFbMF0sIGJbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xyXG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE1hdGgucm91bmQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byByb3VuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xyXG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XHJcbiAgb3V0WzFdID0gTWF0aC5yb3VuZChhWzFdKTtcclxuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNjYWxlcyBhIHZlYzMgYnkgYSBzY2FsYXIgbnVtYmVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICogYjtcclxuICBvdXRbMV0gPSBhWzFdICogYjtcclxuICBvdXRbMl0gPSBhWzJdICogYjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWMzJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcclxuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xyXG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XHJcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xyXG4gIHZhciB4ID0gYlswXSAtIGFbMF07XHJcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcclxuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xyXG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHopO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XHJcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcclxuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xyXG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XHJcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcclxuICB2YXIgeCA9IGFbMF07XHJcbiAgdmFyIHkgPSBhWzFdO1xyXG4gIHZhciB6ID0gYVsyXTtcclxuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xyXG59XHJcbi8qKlxyXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbmVnYXRlXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xyXG4gIG91dFswXSA9IC1hWzBdO1xyXG4gIG91dFsxXSA9IC1hWzFdO1xyXG4gIG91dFsyXSA9IC1hWzJdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBpbnZlcnRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xyXG4gIG91dFswXSA9IDEuMCAvIGFbMF07XHJcbiAgb3V0WzFdID0gMS4wIC8gYVsxXTtcclxuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE5vcm1hbGl6ZSBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcclxuICB2YXIgeCA9IGFbMF07XHJcbiAgdmFyIHkgPSBhWzFdO1xyXG4gIHZhciB6ID0gYVsyXTtcclxuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xyXG5cclxuICBpZiAobGVuID4gMCkge1xyXG4gICAgLy9UT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cclxuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcclxuICB9XHJcblxyXG4gIG91dFswXSA9IGFbMF0gKiBsZW47XHJcbiAgb3V0WzFdID0gYVsxXSAqIGxlbjtcclxuICBvdXRbMl0gPSBhWzJdICogbGVuO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcclxuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdO1xyXG59XHJcbi8qKlxyXG4gKiBDb21wdXRlcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgYSwgYikge1xyXG4gIHZhciBheCA9IGFbMF0sXHJcbiAgICAgIGF5ID0gYVsxXSxcclxuICAgICAgYXogPSBhWzJdO1xyXG4gIHZhciBieCA9IGJbMF0sXHJcbiAgICAgIGJ5ID0gYlsxXSxcclxuICAgICAgYnogPSBiWzJdO1xyXG4gIG91dFswXSA9IGF5ICogYnogLSBheiAqIGJ5O1xyXG4gIG91dFsxXSA9IGF6ICogYnggLSBheCAqIGJ6O1xyXG4gIG91dFsyXSA9IGF4ICogYnkgLSBheSAqIGJ4O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcclxuICB2YXIgYXggPSBhWzBdO1xyXG4gIHZhciBheSA9IGFbMV07XHJcbiAgdmFyIGF6ID0gYVsyXTtcclxuICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcclxuICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcclxuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBQZXJmb3JtcyBhIGhlcm1pdGUgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoZXJtaXRlKG91dCwgYSwgYiwgYywgZCwgdCkge1xyXG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcclxuICB2YXIgZmFjdG9yMSA9IGZhY3RvclRpbWVzMiAqICgyICogdCAtIDMpICsgMTtcclxuICB2YXIgZmFjdG9yMiA9IGZhY3RvclRpbWVzMiAqICh0IC0gMikgKyB0O1xyXG4gIHZhciBmYWN0b3IzID0gZmFjdG9yVGltZXMyICogKHQgLSAxKTtcclxuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqICgzIC0gMiAqIHQpO1xyXG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xyXG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xyXG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmV6aWVyKG91dCwgYSwgYiwgYywgZCwgdCkge1xyXG4gIHZhciBpbnZlcnNlRmFjdG9yID0gMSAtIHQ7XHJcbiAgdmFyIGludmVyc2VGYWN0b3JUaW1lc1R3byA9IGludmVyc2VGYWN0b3IgKiBpbnZlcnNlRmFjdG9yO1xyXG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcclxuICB2YXIgZmFjdG9yMSA9IGludmVyc2VGYWN0b3JUaW1lc1R3byAqIGludmVyc2VGYWN0b3I7XHJcbiAgdmFyIGZhY3RvcjIgPSAzICogdCAqIGludmVyc2VGYWN0b3JUaW1lc1R3bztcclxuICB2YXIgZmFjdG9yMyA9IDMgKiBmYWN0b3JUaW1lczIgKiBpbnZlcnNlRmFjdG9yO1xyXG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogdDtcclxuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcclxuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcclxuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XHJcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7XHJcbiAgdmFyIHIgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIuMCAqIE1hdGguUEk7XHJcbiAgdmFyIHogPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIuMCAtIDEuMDtcclxuICB2YXIgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xyXG4gIG91dFswXSA9IE1hdGguY29zKHIpICogelNjYWxlO1xyXG4gIG91dFsxXSA9IE1hdGguc2luKHIpICogelNjYWxlO1xyXG4gIG91dFsyXSA9IHogKiBzY2FsZTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQ0LlxyXG4gKiA0dGggdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xyXG4gIHZhciB4ID0gYVswXSxcclxuICAgICAgeSA9IGFbMV0sXHJcbiAgICAgIHogPSBhWzJdO1xyXG4gIHZhciB3ID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdO1xyXG4gIHcgPSB3IHx8IDEuMDtcclxuICBvdXRbMF0gPSAobVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0pIC8gdztcclxuICBvdXRbMV0gPSAobVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10pIC8gdztcclxuICBvdXRbMl0gPSAobVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdKSAvIHc7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgbWF0My5cclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IG0gdGhlIDN4MyBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xyXG4gIHZhciB4ID0gYVswXSxcclxuICAgICAgeSA9IGFbMV0sXHJcbiAgICAgIHogPSBhWzJdO1xyXG4gIG91dFswXSA9IHggKiBtWzBdICsgeSAqIG1bM10gKyB6ICogbVs2XTtcclxuICBvdXRbMV0gPSB4ICogbVsxXSArIHkgKiBtWzRdICsgeiAqIG1bN107XHJcbiAgb3V0WzJdID0geCAqIG1bMl0gKyB5ICogbVs1XSArIHogKiBtWzhdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIHF1YXRcclxuICogQ2FuIGFsc28gYmUgdXNlZCBmb3IgZHVhbCBxdWF0ZXJuaW9ucy4gKE11bHRpcGx5IGl0IHdpdGggdGhlIHJlYWwgcGFydClcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVF1YXQob3V0LCBhLCBxKSB7XHJcbiAgLy8gYmVuY2htYXJrczogaHR0cHM6Ly9qc3BlcmYuY29tL3F1YXRlcm5pb24tdHJhbnNmb3JtLXZlYzMtaW1wbGVtZW50YXRpb25zLWZpeGVkXHJcbiAgdmFyIHF4ID0gcVswXSxcclxuICAgICAgcXkgPSBxWzFdLFxyXG4gICAgICBxeiA9IHFbMl0sXHJcbiAgICAgIHF3ID0gcVszXTtcclxuICB2YXIgeCA9IGFbMF0sXHJcbiAgICAgIHkgPSBhWzFdLFxyXG4gICAgICB6ID0gYVsyXTsgLy8gdmFyIHF2ZWMgPSBbcXgsIHF5LCBxel07XHJcbiAgLy8gdmFyIHV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgYSk7XHJcblxyXG4gIHZhciB1dnggPSBxeSAqIHogLSBxeiAqIHksXHJcbiAgICAgIHV2eSA9IHF6ICogeCAtIHF4ICogeixcclxuICAgICAgdXZ6ID0gcXggKiB5IC0gcXkgKiB4OyAvLyB2YXIgdXV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgdXYpO1xyXG5cclxuICB2YXIgdXV2eCA9IHF5ICogdXZ6IC0gcXogKiB1dnksXHJcbiAgICAgIHV1dnkgPSBxeiAqIHV2eCAtIHF4ICogdXZ6LFxyXG4gICAgICB1dXZ6ID0gcXggKiB1dnkgLSBxeSAqIHV2eDsgLy8gdmVjMy5zY2FsZSh1diwgdXYsIDIgKiB3KTtcclxuXHJcbiAgdmFyIHcyID0gcXcgKiAyO1xyXG4gIHV2eCAqPSB3MjtcclxuICB1dnkgKj0gdzI7XHJcbiAgdXZ6ICo9IHcyOyAvLyB2ZWMzLnNjYWxlKHV1diwgdXV2LCAyKTtcclxuXHJcbiAgdXV2eCAqPSAyO1xyXG4gIHV1dnkgKj0gMjtcclxuICB1dXZ6ICo9IDI7IC8vIHJldHVybiB2ZWMzLmFkZChvdXQsIGEsIHZlYzMuYWRkKG91dCwgdXYsIHV1dikpO1xyXG5cclxuICBvdXRbMF0gPSB4ICsgdXZ4ICsgdXV2eDtcclxuICBvdXRbMV0gPSB5ICsgdXZ5ICsgdXV2eTtcclxuICBvdXRbMl0gPSB6ICsgdXZ6ICsgdXV2ejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB4LWF4aXNcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIGIsIHJhZCkge1xyXG4gIHZhciBwID0gW10sXHJcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxyXG5cclxuICBwWzBdID0gYVswXSAtIGJbMF07XHJcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xyXG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXHJcblxyXG4gIHJbMF0gPSBwWzBdO1xyXG4gIHJbMV0gPSBwWzFdICogTWF0aC5jb3MocmFkKSAtIHBbMl0gKiBNYXRoLnNpbihyYWQpO1xyXG4gIHJbMl0gPSBwWzFdICogTWF0aC5zaW4ocmFkKSArIHBbMl0gKiBNYXRoLmNvcyhyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXHJcblxyXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xyXG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xyXG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHktYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgYiwgcmFkKSB7XHJcbiAgdmFyIHAgPSBbXSxcclxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXHJcblxyXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcclxuICBwWzFdID0gYVsxXSAtIGJbMV07XHJcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cclxuXHJcbiAgclswXSA9IHBbMl0gKiBNYXRoLnNpbihyYWQpICsgcFswXSAqIE1hdGguY29zKHJhZCk7XHJcbiAgclsxXSA9IHBbMV07XHJcbiAgclsyXSA9IHBbMl0gKiBNYXRoLmNvcyhyYWQpIC0gcFswXSAqIE1hdGguc2luKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cclxuXHJcbiAgb3V0WzBdID0gclswXSArIGJbMF07XHJcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XHJcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgei1heGlzXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCBiLCByYWQpIHtcclxuICB2YXIgcCA9IFtdLFxyXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cclxuXHJcbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xyXG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcclxuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxyXG5cclxuICByWzBdID0gcFswXSAqIE1hdGguY29zKHJhZCkgLSBwWzFdICogTWF0aC5zaW4ocmFkKTtcclxuICByWzFdID0gcFswXSAqIE1hdGguc2luKHJhZCkgKyBwWzFdICogTWF0aC5jb3MocmFkKTtcclxuICByWzJdID0gcFsyXTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxyXG5cclxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcclxuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcclxuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZXQgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIDNEIHZlY3RvcnNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlKGEsIGIpIHtcclxuICB2YXIgYXggPSBhWzBdLFxyXG4gICAgICBheSA9IGFbMV0sXHJcbiAgICAgIGF6ID0gYVsyXSxcclxuICAgICAgYnggPSBiWzBdLFxyXG4gICAgICBieSA9IGJbMV0sXHJcbiAgICAgIGJ6ID0gYlsyXSxcclxuICAgICAgbWFnMSA9IE1hdGguc3FydChheCAqIGF4ICsgYXkgKiBheSArIGF6ICogYXopLFxyXG4gICAgICBtYWcyID0gTWF0aC5zcXJ0KGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiksXHJcbiAgICAgIG1hZyA9IG1hZzEgKiBtYWcyLFxyXG4gICAgICBjb3NpbmUgPSBtYWcgJiYgZG90KGEsIGIpIC8gbWFnO1xyXG4gIHJldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoY29zaW5lLCAtMSksIDEpKTtcclxufVxyXG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMyB0byB6ZXJvXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gemVybyhvdXQpIHtcclxuICBvdXRbMF0gPSAwLjA7XHJcbiAgb3V0WzFdID0gMC4wO1xyXG4gIG91dFsyXSA9IDAuMDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcclxuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcclxuICByZXR1cm4gXCJ2ZWMzKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIpXCI7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcclxuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl07XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XHJcbiAgdmFyIGEwID0gYVswXSxcclxuICAgICAgYTEgPSBhWzFdLFxyXG4gICAgICBhMiA9IGFbMl07XHJcbiAgdmFyIGIwID0gYlswXSxcclxuICAgICAgYjEgPSBiWzFdLFxyXG4gICAgICBiMiA9IGJbMl07XHJcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpO1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3VidHJhY3R9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMubXVsdGlwbHl9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGl2aWRlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5kaXN0YW5jZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZERpc3RhbmNlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMubGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zcXVhcmVkTGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XHJcbi8qKlxyXG4gKiBQZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG92ZXIgYW4gYXJyYXkgb2YgdmVjM3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdHJpZGUgTnVtYmVyIG9mIGVsZW1lbnRzIGJldHdlZW4gdGhlIHN0YXJ0IG9mIGVhY2ggdmVjMy4gSWYgMCBhc3N1bWVzIHRpZ2h0bHkgcGFja2VkXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcclxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMzcyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB2ZWN0b3IgaW4gdGhlIGFycmF5XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cclxuICogQHJldHVybnMge0FycmF5fSBhXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgdmVjID0gY3JlYXRlKCk7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcclxuICAgIHZhciBpLCBsO1xyXG5cclxuICAgIGlmICghc3RyaWRlKSB7XHJcbiAgICAgIHN0cmlkZSA9IDM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFvZmZzZXQpIHtcclxuICAgICAgb2Zmc2V0ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY291bnQpIHtcclxuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsID0gYS5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcclxuICAgICAgdmVjWzBdID0gYVtpXTtcclxuICAgICAgdmVjWzFdID0gYVtpICsgMV07XHJcbiAgICAgIHZlY1syXSA9IGFbaSArIDJdO1xyXG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcclxuICAgICAgYVtpXSA9IHZlY1swXTtcclxuICAgICAgYVtpICsgMV0gPSB2ZWNbMV07XHJcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhO1xyXG4gIH07XHJcbn0oKTsiLCAiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XHJcbi8qKlxyXG4gKiA0IERpbWVuc2lvbmFsIFZlY3RvclxyXG4gKiBAbW9kdWxlIHZlYzRcclxuICovXHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldywgZW1wdHkgdmVjNFxyXG4gKlxyXG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XHJcblxyXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xyXG4gICAgb3V0WzBdID0gMDtcclxuICAgIG91dFsxXSA9IDA7XHJcbiAgICBvdXRbMl0gPSAwO1xyXG4gICAgb3V0WzNdID0gMDtcclxuICB9XHJcblxyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgdmVjNCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2xvbmVcclxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSBhWzJdO1xyXG4gIG91dFszXSA9IGFbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyB2ZWM0IGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdyBXIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeiwgdykge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcclxuICBvdXRbMF0gPSB4O1xyXG4gIG91dFsxXSA9IHk7XHJcbiAgb3V0WzJdID0gejtcclxuICBvdXRbM10gPSB3O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWM0IHRvIGFub3RoZXJcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSBhWzJdO1xyXG4gIG91dFszXSA9IGFbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNCB0byB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeiwgdykge1xyXG4gIG91dFswXSA9IHg7XHJcbiAgb3V0WzFdID0geTtcclxuICBvdXRbMl0gPSB6O1xyXG4gIG91dFszXSA9IHc7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWRkcyB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcclxuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcclxuICBvdXRbM10gPSBhWzNdICsgYlszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcclxuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcclxuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XHJcbiAgb3V0WzNdID0gYVszXSAqIGJbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogRGl2aWRlcyB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcclxuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcclxuICBvdXRbM10gPSBhWzNdIC8gYlszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjZWlsXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XHJcbiAgb3V0WzFdID0gTWF0aC5jZWlsKGFbMV0pO1xyXG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcclxuICBvdXRbM10gPSBNYXRoLmNlaWwoYVszXSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTWF0aC5mbG9vciB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGZsb29yXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gTWF0aC5mbG9vcihhWzBdKTtcclxuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xyXG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XHJcbiAgb3V0WzNdID0gTWF0aC5mbG9vcihhWzNdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IE1hdGgubWluKGFbMF0sIGJbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xyXG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xyXG4gIG91dFszXSA9IE1hdGgubWluKGFbM10sIGJbM10pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYXgob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XHJcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5tYXgoYVsyXSwgYlsyXSk7XHJcbiAgb3V0WzNdID0gTWF0aC5tYXgoYVszXSwgYlszXSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIHJvdW5kXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gTWF0aC5yb3VuZChhWzBdKTtcclxuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xyXG4gIG91dFsyXSA9IE1hdGgucm91bmQoYVsyXSk7XHJcbiAgb3V0WzNdID0gTWF0aC5yb3VuZChhWzNdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTY2FsZXMgYSB2ZWM0IGJ5IGEgc2NhbGFyIG51bWJlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAqIGI7XHJcbiAgb3V0WzFdID0gYVsxXSAqIGI7XHJcbiAgb3V0WzJdID0gYVsyXSAqIGI7XHJcbiAgb3V0WzNdID0gYVszXSAqIGI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWRkcyB0d28gdmVjNCdzIGFmdGVyIHNjYWxpbmcgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XHJcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcclxuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xyXG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XHJcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xyXG4gIHZhciB4ID0gYlswXSAtIGFbMF07XHJcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcclxuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xyXG4gIHZhciB3ID0gYlszXSAtIGFbM107XHJcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeiwgdyk7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcclxuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xyXG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XHJcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcclxuICB2YXIgdyA9IGJbM10gLSBhWzNdO1xyXG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjNFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xyXG4gIHZhciB4ID0gYVswXTtcclxuICB2YXIgeSA9IGFbMV07XHJcbiAgdmFyIHogPSBhWzJdO1xyXG4gIHZhciB3ID0gYVszXTtcclxuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6LCB3KTtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcclxuICB2YXIgeCA9IGFbMF07XHJcbiAgdmFyIHkgPSBhWzFdO1xyXG4gIHZhciB6ID0gYVsyXTtcclxuICB2YXIgdyA9IGFbM107XHJcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xyXG59XHJcbi8qKlxyXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gbmVnYXRlXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xyXG4gIG91dFswXSA9IC1hWzBdO1xyXG4gIG91dFsxXSA9IC1hWzFdO1xyXG4gIG91dFsyXSA9IC1hWzJdO1xyXG4gIG91dFszXSA9IC1hWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBpbnZlcnRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xyXG4gIG91dFswXSA9IDEuMCAvIGFbMF07XHJcbiAgb3V0WzFdID0gMS4wIC8gYVsxXTtcclxuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xyXG4gIG91dFszXSA9IDEuMCAvIGFbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTm9ybWFsaXplIGEgdmVjNFxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xyXG4gIHZhciB4ID0gYVswXTtcclxuICB2YXIgeSA9IGFbMV07XHJcbiAgdmFyIHogPSBhWzJdO1xyXG4gIHZhciB3ID0gYVszXTtcclxuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XHJcblxyXG4gIGlmIChsZW4gPiAwKSB7XHJcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XHJcbiAgfVxyXG5cclxuICBvdXRbMF0gPSB4ICogbGVuO1xyXG4gIG91dFsxXSA9IHkgKiBsZW47XHJcbiAgb3V0WzJdID0geiAqIGxlbjtcclxuICBvdXRbM10gPSB3ICogbGVuO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcclxuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdICsgYVszXSAqIGJbM107XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGNyb3NzLXByb2R1Y3Qgb2YgdGhyZWUgdmVjdG9ycyBpbiBhIDQtZGltZW5zaW9uYWwgc3BhY2VcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IHJlc3VsdCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gVSB0aGUgZmlyc3QgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBWIHRoZSBzZWNvbmQgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBXIHRoZSB0aGlyZCB2ZWN0b3JcclxuICogQHJldHVybnMge3ZlYzR9IHJlc3VsdFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcm9zcyhvdXQsIHUsIHYsIHcpIHtcclxuICB2YXIgQSA9IHZbMF0gKiB3WzFdIC0gdlsxXSAqIHdbMF0sXHJcbiAgICAgIEIgPSB2WzBdICogd1syXSAtIHZbMl0gKiB3WzBdLFxyXG4gICAgICBDID0gdlswXSAqIHdbM10gLSB2WzNdICogd1swXSxcclxuICAgICAgRCA9IHZbMV0gKiB3WzJdIC0gdlsyXSAqIHdbMV0sXHJcbiAgICAgIEUgPSB2WzFdICogd1szXSAtIHZbM10gKiB3WzFdLFxyXG4gICAgICBGID0gdlsyXSAqIHdbM10gLSB2WzNdICogd1syXTtcclxuICB2YXIgRyA9IHVbMF07XHJcbiAgdmFyIEggPSB1WzFdO1xyXG4gIHZhciBJID0gdVsyXTtcclxuICB2YXIgSiA9IHVbM107XHJcbiAgb3V0WzBdID0gSCAqIEYgLSBJICogRSArIEogKiBEO1xyXG4gIG91dFsxXSA9IC0oRyAqIEYpICsgSSAqIEMgLSBKICogQjtcclxuICBvdXRbMl0gPSBHICogRSAtIEggKiBDICsgSiAqIEE7XHJcbiAgb3V0WzNdID0gLShHICogRCkgKyBIICogQiAtIEkgKiBBO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcclxuICB2YXIgYXggPSBhWzBdO1xyXG4gIHZhciBheSA9IGFbMV07XHJcbiAgdmFyIGF6ID0gYVsyXTtcclxuICB2YXIgYXcgPSBhWzNdO1xyXG4gIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpO1xyXG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xyXG4gIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopO1xyXG4gIG91dFszXSA9IGF3ICsgdCAqIChiWzNdIC0gYXcpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB2ZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc2NhbGVcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbW1pdHRlZCwgYSB1bml0IHZlY3RvciB3aWxsIGJlIHJldHVybmVkXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcclxuICBzY2FsZSA9IHNjYWxlIHx8IDEuMDsgLy8gTWFyc2FnbGlhLCBHZW9yZ2UuIENob29zaW5nIGEgUG9pbnQgZnJvbSB0aGUgU3VyZmFjZSBvZiBhXHJcbiAgLy8gU3BoZXJlLiBBbm4uIE1hdGguIFN0YXRpc3QuIDQzICgxOTcyKSwgbm8uIDIsIDY0NS0tNjQ2LlxyXG4gIC8vIGh0dHA6Ly9wcm9qZWN0ZXVjbGlkLm9yZy9ldWNsaWQuYW9tcy8xMTc3NjkyNjQ0O1xyXG5cclxuICB2YXIgdjEsIHYyLCB2MywgdjQ7XHJcbiAgdmFyIHMxLCBzMjtcclxuXHJcbiAgZG8ge1xyXG4gICAgdjEgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xyXG4gICAgdjIgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xyXG4gICAgczEgPSB2MSAqIHYxICsgdjIgKiB2MjtcclxuICB9IHdoaWxlIChzMSA+PSAxKTtcclxuXHJcbiAgZG8ge1xyXG4gICAgdjMgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xyXG4gICAgdjQgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xyXG4gICAgczIgPSB2MyAqIHYzICsgdjQgKiB2NDtcclxuICB9IHdoaWxlIChzMiA+PSAxKTtcclxuXHJcbiAgdmFyIGQgPSBNYXRoLnNxcnQoKDEgLSBzMSkgLyBzMik7XHJcbiAgb3V0WzBdID0gc2NhbGUgKiB2MTtcclxuICBvdXRbMV0gPSBzY2FsZSAqIHYyO1xyXG4gIG91dFsyXSA9IHNjYWxlICogdjMgKiBkO1xyXG4gIG91dFszXSA9IHNjYWxlICogdjQgKiBkO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzQgd2l0aCBhIG1hdDQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XHJcbiAgdmFyIHggPSBhWzBdLFxyXG4gICAgICB5ID0gYVsxXSxcclxuICAgICAgeiA9IGFbMl0sXHJcbiAgICAgIHcgPSBhWzNdO1xyXG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdICogdztcclxuICBvdXRbMV0gPSBtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHogKyBtWzEzXSAqIHc7XHJcbiAgb3V0WzJdID0gbVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdICogdztcclxuICBvdXRbM10gPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV0gKiB3O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzQgd2l0aCBhIHF1YXRcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVF1YXQob3V0LCBhLCBxKSB7XHJcbiAgdmFyIHggPSBhWzBdLFxyXG4gICAgICB5ID0gYVsxXSxcclxuICAgICAgeiA9IGFbMl07XHJcbiAgdmFyIHF4ID0gcVswXSxcclxuICAgICAgcXkgPSBxWzFdLFxyXG4gICAgICBxeiA9IHFbMl0sXHJcbiAgICAgIHF3ID0gcVszXTsgLy8gY2FsY3VsYXRlIHF1YXQgKiB2ZWNcclxuXHJcbiAgdmFyIGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xyXG4gIHZhciBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogejtcclxuICB2YXIgaXogPSBxdyAqIHogKyBxeCAqIHkgLSBxeSAqIHg7XHJcbiAgdmFyIGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogejsgLy8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxyXG5cclxuICBvdXRbMF0gPSBpeCAqIHF3ICsgaXcgKiAtcXggKyBpeSAqIC1xeiAtIGl6ICogLXF5O1xyXG4gIG91dFsxXSA9IGl5ICogcXcgKyBpdyAqIC1xeSArIGl6ICogLXF4IC0gaXggKiAtcXo7XHJcbiAgb3V0WzJdID0gaXogKiBxdyArIGl3ICogLXF6ICsgaXggKiAtcXkgLSBpeSAqIC1xeDtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzQgdG8gemVyb1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XHJcbiAgb3V0WzBdID0gMC4wO1xyXG4gIG91dFsxXSA9IDAuMDtcclxuICBvdXRbMl0gPSAwLjA7XHJcbiAgb3V0WzNdID0gMC4wO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xyXG4gIHJldHVybiBcInZlYzQoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIpXCI7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcclxuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcclxuICB2YXIgYTAgPSBhWzBdLFxyXG4gICAgICBhMSA9IGFbMV0sXHJcbiAgICAgIGEyID0gYVsyXSxcclxuICAgICAgYTMgPSBhWzNdO1xyXG4gIHZhciBiMCA9IGJbMF0sXHJcbiAgICAgIGIxID0gYlsxXSxcclxuICAgICAgYjIgPSBiWzJdLFxyXG4gICAgICBiMyA9IGJbM107XHJcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKTtcclxufVxyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnN1YnRyYWN0fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0O1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0Lm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LmRpdmlkZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBkaXYgPSBkaXZpZGU7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuZGlzdGFuY2V9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZGlzdCA9IGRpc3RhbmNlO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnNxdWFyZWREaXN0YW5jZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzcXJEaXN0ID0gc3F1YXJlZERpc3RhbmNlO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0Lmxlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuc3F1YXJlZExlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xyXG4vKipcclxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzRzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzQuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjNHMgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gYVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xyXG4gIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XHJcbiAgICB2YXIgaSwgbDtcclxuXHJcbiAgICBpZiAoIXN0cmlkZSkge1xyXG4gICAgICBzdHJpZGUgPSA0O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb2Zmc2V0KSB7XHJcbiAgICAgIG9mZnNldCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNvdW50KSB7XHJcbiAgICAgIGwgPSBNYXRoLm1pbihjb3VudCAqIHN0cmlkZSArIG9mZnNldCwgYS5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbCA9IGEubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XHJcbiAgICAgIHZlY1swXSA9IGFbaV07XHJcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xyXG4gICAgICB2ZWNbMl0gPSBhW2kgKyAyXTtcclxuICAgICAgdmVjWzNdID0gYVtpICsgM107XHJcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xyXG4gICAgICBhW2ldID0gdmVjWzBdO1xyXG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcclxuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XHJcbiAgICAgIGFbaSArIDNdID0gdmVjWzNdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhO1xyXG4gIH07XHJcbn0oKTsiLCAiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XHJcbmltcG9ydCAqIGFzIHF1YXQgZnJvbSBcIi4vcXVhdC5qc1wiO1xyXG5pbXBvcnQgKiBhcyBtYXQ0IGZyb20gXCIuL21hdDQuanNcIjtcclxuLyoqXHJcbiAqIER1YWwgUXVhdGVybmlvbjxicj5cclxuICogRm9ybWF0OiBbcmVhbCwgZHVhbF08YnI+XHJcbiAqIFF1YXRlcm5pb24gZm9ybWF0OiBYWVpXPGJyPlxyXG4gKiBNYWtlIHN1cmUgdG8gaGF2ZSBub3JtYWxpemVkIGR1YWwgcXVhdGVybmlvbnMsIG90aGVyd2lzZSB0aGUgZnVuY3Rpb25zIG1heSBub3Qgd29yayBhcyBpbnRlbmRlZC48YnI+XHJcbiAqIEBtb2R1bGUgcXVhdDJcclxuICovXHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBkdWFsIHF1YXRcclxuICpcclxuICogQHJldHVybnMge3F1YXQyfSBhIG5ldyBkdWFsIHF1YXRlcm5pb24gW3JlYWwgLT4gcm90YXRpb24sIGR1YWwgLT4gdHJhbnNsYXRpb25dXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcclxuICB2YXIgZHEgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg4KTtcclxuXHJcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XHJcbiAgICBkcVswXSA9IDA7XHJcbiAgICBkcVsxXSA9IDA7XHJcbiAgICBkcVsyXSA9IDA7XHJcbiAgICBkcVs0XSA9IDA7XHJcbiAgICBkcVs1XSA9IDA7XHJcbiAgICBkcVs2XSA9IDA7XHJcbiAgICBkcVs3XSA9IDA7XHJcbiAgfVxyXG5cclxuICBkcVszXSA9IDE7XHJcbiAgcmV0dXJuIGRxO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXRlcm5pb24gdG8gY2xvbmVcclxuICogQHJldHVybnMge3F1YXQyfSBuZXcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XHJcbiAgdmFyIGRxID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOCk7XHJcbiAgZHFbMF0gPSBhWzBdO1xyXG4gIGRxWzFdID0gYVsxXTtcclxuICBkcVsyXSA9IGFbMl07XHJcbiAgZHFbM10gPSBhWzNdO1xyXG4gIGRxWzRdID0gYVs0XTtcclxuICBkcVs1XSA9IGFbNV07XHJcbiAgZHFbNl0gPSBhWzZdO1xyXG4gIGRxWzddID0gYVs3XTtcclxuICByZXR1cm4gZHE7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgZHVhbCBxdWF0IGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0geDEgWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkxIFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MSBaIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdzEgVyBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHgyIFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MiBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gejIgWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcyIFcgY29tcG9uZW50XHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gbmV3IGR1YWwgcXVhdGVybmlvblxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4MSwgeTEsIHoxLCB3MSwgeDIsIHkyLCB6MiwgdzIpIHtcclxuICB2YXIgZHEgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg4KTtcclxuICBkcVswXSA9IHgxO1xyXG4gIGRxWzFdID0geTE7XHJcbiAgZHFbMl0gPSB6MTtcclxuICBkcVszXSA9IHcxO1xyXG4gIGRxWzRdID0geDI7XHJcbiAgZHFbNV0gPSB5MjtcclxuICBkcVs2XSA9IHoyO1xyXG4gIGRxWzddID0gdzI7XHJcbiAgcmV0dXJuIGRxO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IGR1YWwgcXVhdCBmcm9tIHRoZSBnaXZlbiB2YWx1ZXMgKHF1YXQgYW5kIHRyYW5zbGF0aW9uKVxyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0geDEgWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkxIFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MSBaIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdzEgVyBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHgyIFggY29tcG9uZW50ICh0cmFuc2xhdGlvbilcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkyIFkgY29tcG9uZW50ICh0cmFuc2xhdGlvbilcclxuICogQHBhcmFtIHtOdW1iZXJ9IHoyIFogY29tcG9uZW50ICh0cmFuc2xhdGlvbilcclxuICogQHJldHVybnMge3F1YXQyfSBuZXcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblZhbHVlcyh4MSwgeTEsIHoxLCB3MSwgeDIsIHkyLCB6Mikge1xyXG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xyXG4gIGRxWzBdID0geDE7XHJcbiAgZHFbMV0gPSB5MTtcclxuICBkcVsyXSA9IHoxO1xyXG4gIGRxWzNdID0gdzE7XHJcbiAgdmFyIGF4ID0geDIgKiAwLjUsXHJcbiAgICAgIGF5ID0geTIgKiAwLjUsXHJcbiAgICAgIGF6ID0gejIgKiAwLjU7XHJcbiAgZHFbNF0gPSBheCAqIHcxICsgYXkgKiB6MSAtIGF6ICogeTE7XHJcbiAgZHFbNV0gPSBheSAqIHcxICsgYXogKiB4MSAtIGF4ICogejE7XHJcbiAgZHFbNl0gPSBheiAqIHcxICsgYXggKiB5MSAtIGF5ICogeDE7XHJcbiAgZHFbN10gPSAtYXggKiB4MSAtIGF5ICogeTEgLSBheiAqIHoxO1xyXG4gIHJldHVybiBkcTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIGR1YWwgcXVhdCBmcm9tIGEgcXVhdGVybmlvbiBhbmQgYSB0cmFuc2xhdGlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBhIG5vcm1hbGl6ZWQgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdCB0cmFubGF0aW9uIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB0KSB7XHJcbiAgdmFyIGF4ID0gdFswXSAqIDAuNSxcclxuICAgICAgYXkgPSB0WzFdICogMC41LFxyXG4gICAgICBheiA9IHRbMl0gKiAwLjUsXHJcbiAgICAgIGJ4ID0gcVswXSxcclxuICAgICAgYnkgPSBxWzFdLFxyXG4gICAgICBieiA9IHFbMl0sXHJcbiAgICAgIGJ3ID0gcVszXTtcclxuICBvdXRbMF0gPSBieDtcclxuICBvdXRbMV0gPSBieTtcclxuICBvdXRbMl0gPSBiejtcclxuICBvdXRbM10gPSBidztcclxuICBvdXRbNF0gPSBheCAqIGJ3ICsgYXkgKiBieiAtIGF6ICogYnk7XHJcbiAgb3V0WzVdID0gYXkgKiBidyArIGF6ICogYnggLSBheCAqIGJ6O1xyXG4gIG91dFs2XSA9IGF6ICogYncgKyBheCAqIGJ5IC0gYXkgKiBieDtcclxuICBvdXRbN10gPSAtYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBkdWFsIHF1YXQgZnJvbSBhIHRyYW5zbGF0aW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB0IHRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdCkge1xyXG4gIG91dFswXSA9IDA7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDE7XHJcbiAgb3V0WzRdID0gdFswXSAqIDAuNTtcclxuICBvdXRbNV0gPSB0WzFdICogMC41O1xyXG4gIG91dFs2XSA9IHRbMl0gKiAwLjU7XHJcbiAgb3V0WzddID0gMDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgZHVhbCBxdWF0IGZyb20gYSBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHRoZSBxdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCBxKSB7XHJcbiAgb3V0WzBdID0gcVswXTtcclxuICBvdXRbMV0gPSBxWzFdO1xyXG4gIG91dFsyXSA9IHFbMl07XHJcbiAgb3V0WzNdID0gcVszXTtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IDA7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgZHVhbCBxdWF0IGZyb20gYSBtYXRyaXggKDR4NClcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IGR1YWwgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbU1hdDQob3V0LCBhKSB7XHJcbiAgLy9UT0RPIE9wdGltaXplIHRoaXNcclxuICB2YXIgb3V0ZXIgPSBxdWF0LmNyZWF0ZSgpO1xyXG4gIG1hdDQuZ2V0Um90YXRpb24ob3V0ZXIsIGEpO1xyXG4gIHZhciB0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XHJcbiAgbWF0NC5nZXRUcmFuc2xhdGlvbih0LCBhKTtcclxuICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIG91dGVyLCB0KTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgZHVhbCBxdWF0IHRvIGFub3RoZXJcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgc291cmNlIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIG91dFs0XSA9IGFbNF07XHJcbiAgb3V0WzVdID0gYVs1XTtcclxuICBvdXRbNl0gPSBhWzZdO1xyXG4gIG91dFs3XSA9IGFbN107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IGEgZHVhbCBxdWF0IHRvIHRoZSBpZGVudGl0eSBkdWFsIHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcclxuICBvdXRbMF0gPSAwO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAxO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gMDtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgZHVhbCBxdWF0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge051bWJlcn0geDEgWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkxIFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MSBaIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdzEgVyBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHgyIFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MiBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gejIgWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcyIFcgY29tcG9uZW50XHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4MSwgeTEsIHoxLCB3MSwgeDIsIHkyLCB6MiwgdzIpIHtcclxuICBvdXRbMF0gPSB4MTtcclxuICBvdXRbMV0gPSB5MTtcclxuICBvdXRbMl0gPSB6MTtcclxuICBvdXRbM10gPSB3MTtcclxuICBvdXRbNF0gPSB4MjtcclxuICBvdXRbNV0gPSB5MjtcclxuICBvdXRbNl0gPSB6MjtcclxuICBvdXRbN10gPSB3MjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZXRzIHRoZSByZWFsIHBhcnQgb2YgYSBkdWFsIHF1YXRcclxuICogQHBhcmFtICB7cXVhdH0gb3V0IHJlYWwgcGFydFxyXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxyXG4gKiBAcmV0dXJuIHtxdWF0fSByZWFsIHBhcnRcclxuICovXHJcblxyXG5leHBvcnQgdmFyIGdldFJlYWwgPSBxdWF0LmNvcHk7XHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBkdWFsIHBhcnQgb2YgYSBkdWFsIHF1YXRcclxuICogQHBhcmFtICB7cXVhdH0gb3V0IGR1YWwgcGFydFxyXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxyXG4gKiBAcmV0dXJuIHtxdWF0fSBkdWFsIHBhcnRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RHVhbChvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBhWzRdO1xyXG4gIG91dFsxXSA9IGFbNV07XHJcbiAgb3V0WzJdID0gYVs2XTtcclxuICBvdXRbM10gPSBhWzddO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldCB0aGUgcmVhbCBjb21wb25lbnQgb2YgYSBkdWFsIHF1YXQgdG8gdGhlIGdpdmVuIHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBhIHF1YXRlcm5pb24gcmVwcmVzZW50aW5nIHRoZSByZWFsIHBhcnRcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzZXRSZWFsID0gcXVhdC5jb3B5O1xyXG4vKipcclxuICogU2V0IHRoZSBkdWFsIGNvbXBvbmVudCBvZiBhIGR1YWwgcXVhdCB0byB0aGUgZ2l2ZW4gcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIGR1YWwgcGFydFxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RHVhbChvdXQsIHEpIHtcclxuICBvdXRbNF0gPSBxWzBdO1xyXG4gIG91dFs1XSA9IHFbMV07XHJcbiAgb3V0WzZdID0gcVsyXTtcclxuICBvdXRbN10gPSBxWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdldHMgdGhlIHRyYW5zbGF0aW9uIG9mIGEgbm9ybWFsaXplZCBkdWFsIHF1YXRcclxuICogQHBhcmFtICB7dmVjM30gb3V0IHRyYW5zbGF0aW9uXHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uIHRvIGJlIGRlY29tcG9zZWRcclxuICogQHJldHVybiB7dmVjM30gdHJhbnNsYXRpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24ob3V0LCBhKSB7XHJcbiAgdmFyIGF4ID0gYVs0XSxcclxuICAgICAgYXkgPSBhWzVdLFxyXG4gICAgICBheiA9IGFbNl0sXHJcbiAgICAgIGF3ID0gYVs3XSxcclxuICAgICAgYnggPSAtYVswXSxcclxuICAgICAgYnkgPSAtYVsxXSxcclxuICAgICAgYnogPSAtYVsyXSxcclxuICAgICAgYncgPSBhWzNdO1xyXG4gIG91dFswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDI7XHJcbiAgb3V0WzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMjtcclxuICBvdXRbMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFRyYW5zbGF0ZXMgYSBkdWFsIHF1YXQgYnkgdGhlIGdpdmVuIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gdHJhbnNsYXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xyXG4gIHZhciBheDEgPSBhWzBdLFxyXG4gICAgICBheTEgPSBhWzFdLFxyXG4gICAgICBhejEgPSBhWzJdLFxyXG4gICAgICBhdzEgPSBhWzNdLFxyXG4gICAgICBieDEgPSB2WzBdICogMC41LFxyXG4gICAgICBieTEgPSB2WzFdICogMC41LFxyXG4gICAgICBiejEgPSB2WzJdICogMC41LFxyXG4gICAgICBheDIgPSBhWzRdLFxyXG4gICAgICBheTIgPSBhWzVdLFxyXG4gICAgICBhejIgPSBhWzZdLFxyXG4gICAgICBhdzIgPSBhWzddO1xyXG4gIG91dFswXSA9IGF4MTtcclxuICBvdXRbMV0gPSBheTE7XHJcbiAgb3V0WzJdID0gYXoxO1xyXG4gIG91dFszXSA9IGF3MTtcclxuICBvdXRbNF0gPSBhdzEgKiBieDEgKyBheTEgKiBiejEgLSBhejEgKiBieTEgKyBheDI7XHJcbiAgb3V0WzVdID0gYXcxICogYnkxICsgYXoxICogYngxIC0gYXgxICogYnoxICsgYXkyO1xyXG4gIG91dFs2XSA9IGF3MSAqIGJ6MSArIGF4MSAqIGJ5MSAtIGF5MSAqIGJ4MSArIGF6MjtcclxuICBvdXRbN10gPSAtYXgxICogYngxIC0gYXkxICogYnkxIC0gYXoxICogYnoxICsgYXcyO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYXJvdW5kIHRoZSBYIGF4aXNcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGhvdyBmYXIgc2hvdWxkIHRoZSByb3RhdGlvbiBiZVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgcmFkKSB7XHJcbiAgdmFyIGJ4ID0gLWFbMF0sXHJcbiAgICAgIGJ5ID0gLWFbMV0sXHJcbiAgICAgIGJ6ID0gLWFbMl0sXHJcbiAgICAgIGJ3ID0gYVszXSxcclxuICAgICAgYXggPSBhWzRdLFxyXG4gICAgICBheSA9IGFbNV0sXHJcbiAgICAgIGF6ID0gYVs2XSxcclxuICAgICAgYXcgPSBhWzddLFxyXG4gICAgICBheDEgPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5LFxyXG4gICAgICBheTEgPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6LFxyXG4gICAgICBhejEgPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4LFxyXG4gICAgICBhdzEgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xyXG4gIHF1YXQucm90YXRlWChvdXQsIGEsIHJhZCk7XHJcbiAgYnggPSBvdXRbMF07XHJcbiAgYnkgPSBvdXRbMV07XHJcbiAgYnogPSBvdXRbMl07XHJcbiAgYncgPSBvdXRbM107XHJcbiAgb3V0WzRdID0gYXgxICogYncgKyBhdzEgKiBieCArIGF5MSAqIGJ6IC0gYXoxICogYnk7XHJcbiAgb3V0WzVdID0gYXkxICogYncgKyBhdzEgKiBieSArIGF6MSAqIGJ4IC0gYXgxICogYno7XHJcbiAgb3V0WzZdID0gYXoxICogYncgKyBhdzEgKiBieiArIGF4MSAqIGJ5IC0gYXkxICogYng7XHJcbiAgb3V0WzddID0gYXcxICogYncgLSBheDEgKiBieCAtIGF5MSAqIGJ5IC0gYXoxICogYno7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBhcm91bmQgdGhlIFkgYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgaG93IGZhciBzaG91bGQgdGhlIHJvdGF0aW9uIGJlXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcclxuICB2YXIgYnggPSAtYVswXSxcclxuICAgICAgYnkgPSAtYVsxXSxcclxuICAgICAgYnogPSAtYVsyXSxcclxuICAgICAgYncgPSBhWzNdLFxyXG4gICAgICBheCA9IGFbNF0sXHJcbiAgICAgIGF5ID0gYVs1XSxcclxuICAgICAgYXogPSBhWzZdLFxyXG4gICAgICBhdyA9IGFbN10sXHJcbiAgICAgIGF4MSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnksXHJcbiAgICAgIGF5MSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnosXHJcbiAgICAgIGF6MSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngsXHJcbiAgICAgIGF3MSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XHJcbiAgcXVhdC5yb3RhdGVZKG91dCwgYSwgcmFkKTtcclxuICBieCA9IG91dFswXTtcclxuICBieSA9IG91dFsxXTtcclxuICBieiA9IG91dFsyXTtcclxuICBidyA9IG91dFszXTtcclxuICBvdXRbNF0gPSBheDEgKiBidyArIGF3MSAqIGJ4ICsgYXkxICogYnogLSBhejEgKiBieTtcclxuICBvdXRbNV0gPSBheTEgKiBidyArIGF3MSAqIGJ5ICsgYXoxICogYnggLSBheDEgKiBiejtcclxuICBvdXRbNl0gPSBhejEgKiBidyArIGF3MSAqIGJ6ICsgYXgxICogYnkgLSBheTEgKiBieDtcclxuICBvdXRbN10gPSBhdzEgKiBidyAtIGF4MSAqIGJ4IC0gYXkxICogYnkgLSBhejEgKiBiejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGFyb3VuZCB0aGUgWiBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcclxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBob3cgZmFyIHNob3VsZCB0aGUgcm90YXRpb24gYmVcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xyXG4gIHZhciBieCA9IC1hWzBdLFxyXG4gICAgICBieSA9IC1hWzFdLFxyXG4gICAgICBieiA9IC1hWzJdLFxyXG4gICAgICBidyA9IGFbM10sXHJcbiAgICAgIGF4ID0gYVs0XSxcclxuICAgICAgYXkgPSBhWzVdLFxyXG4gICAgICBheiA9IGFbNl0sXHJcbiAgICAgIGF3ID0gYVs3XSxcclxuICAgICAgYXgxID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSxcclxuICAgICAgYXkxID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieixcclxuICAgICAgYXoxID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCxcclxuICAgICAgYXcxID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcclxuICBxdWF0LnJvdGF0ZVoob3V0LCBhLCByYWQpO1xyXG4gIGJ4ID0gb3V0WzBdO1xyXG4gIGJ5ID0gb3V0WzFdO1xyXG4gIGJ6ID0gb3V0WzJdO1xyXG4gIGJ3ID0gb3V0WzNdO1xyXG4gIG91dFs0XSA9IGF4MSAqIGJ3ICsgYXcxICogYnggKyBheTEgKiBieiAtIGF6MSAqIGJ5O1xyXG4gIG91dFs1XSA9IGF5MSAqIGJ3ICsgYXcxICogYnkgKyBhejEgKiBieCAtIGF4MSAqIGJ6O1xyXG4gIG91dFs2XSA9IGF6MSAqIGJ3ICsgYXcxICogYnogKyBheDEgKiBieSAtIGF5MSAqIGJ4O1xyXG4gIG91dFs3XSA9IGF3MSAqIGJ3IC0gYXgxICogYnggLSBheTEgKiBieSAtIGF6MSAqIGJ6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYnkgYSBnaXZlbiBxdWF0ZXJuaW9uIChhICogcSlcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHJvdGF0ZSBieVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVCeVF1YXRBcHBlbmQob3V0LCBhLCBxKSB7XHJcbiAgdmFyIHF4ID0gcVswXSxcclxuICAgICAgcXkgPSBxWzFdLFxyXG4gICAgICBxeiA9IHFbMl0sXHJcbiAgICAgIHF3ID0gcVszXSxcclxuICAgICAgYXggPSBhWzBdLFxyXG4gICAgICBheSA9IGFbMV0sXHJcbiAgICAgIGF6ID0gYVsyXSxcclxuICAgICAgYXcgPSBhWzNdO1xyXG4gIG91dFswXSA9IGF4ICogcXcgKyBhdyAqIHF4ICsgYXkgKiBxeiAtIGF6ICogcXk7XHJcbiAgb3V0WzFdID0gYXkgKiBxdyArIGF3ICogcXkgKyBheiAqIHF4IC0gYXggKiBxejtcclxuICBvdXRbMl0gPSBheiAqIHF3ICsgYXcgKiBxeiArIGF4ICogcXkgLSBheSAqIHF4O1xyXG4gIG91dFszXSA9IGF3ICogcXcgLSBheCAqIHF4IC0gYXkgKiBxeSAtIGF6ICogcXo7XHJcbiAgYXggPSBhWzRdO1xyXG4gIGF5ID0gYVs1XTtcclxuICBheiA9IGFbNl07XHJcbiAgYXcgPSBhWzddO1xyXG4gIG91dFs0XSA9IGF4ICogcXcgKyBhdyAqIHF4ICsgYXkgKiBxeiAtIGF6ICogcXk7XHJcbiAgb3V0WzVdID0gYXkgKiBxdyArIGF3ICogcXkgKyBheiAqIHF4IC0gYXggKiBxejtcclxuICBvdXRbNl0gPSBheiAqIHF3ICsgYXcgKiBxeiArIGF4ICogcXkgLSBheSAqIHF4O1xyXG4gIG91dFs3XSA9IGF3ICogcXcgLSBheCAqIHF4IC0gYXkgKiBxeSAtIGF6ICogcXo7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBieSBhIGdpdmVuIHF1YXRlcm5pb24gKHEgKiBhKVxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byByb3RhdGUgYnlcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUJ5UXVhdFByZXBlbmQob3V0LCBxLCBhKSB7XHJcbiAgdmFyIHF4ID0gcVswXSxcclxuICAgICAgcXkgPSBxWzFdLFxyXG4gICAgICBxeiA9IHFbMl0sXHJcbiAgICAgIHF3ID0gcVszXSxcclxuICAgICAgYnggPSBhWzBdLFxyXG4gICAgICBieSA9IGFbMV0sXHJcbiAgICAgIGJ6ID0gYVsyXSxcclxuICAgICAgYncgPSBhWzNdO1xyXG4gIG91dFswXSA9IHF4ICogYncgKyBxdyAqIGJ4ICsgcXkgKiBieiAtIHF6ICogYnk7XHJcbiAgb3V0WzFdID0gcXkgKiBidyArIHF3ICogYnkgKyBxeiAqIGJ4IC0gcXggKiBiejtcclxuICBvdXRbMl0gPSBxeiAqIGJ3ICsgcXcgKiBieiArIHF4ICogYnkgLSBxeSAqIGJ4O1xyXG4gIG91dFszXSA9IHF3ICogYncgLSBxeCAqIGJ4IC0gcXkgKiBieSAtIHF6ICogYno7XHJcbiAgYnggPSBhWzRdO1xyXG4gIGJ5ID0gYVs1XTtcclxuICBieiA9IGFbNl07XHJcbiAgYncgPSBhWzddO1xyXG4gIG91dFs0XSA9IHF4ICogYncgKyBxdyAqIGJ4ICsgcXkgKiBieiAtIHF6ICogYnk7XHJcbiAgb3V0WzVdID0gcXkgKiBidyArIHF3ICogYnkgKyBxeiAqIGJ4IC0gcXggKiBiejtcclxuICBvdXRbNl0gPSBxeiAqIGJ3ICsgcXcgKiBieiArIHF4ICogYnkgLSBxeSAqIGJ4O1xyXG4gIG91dFs3XSA9IHF3ICogYncgLSBxeCAqIGJ4IC0gcXkgKiBieSAtIHF6ICogYno7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBhcm91bmQgYSBnaXZlbiBheGlzLiBEb2VzIHRoZSBub3JtYWxpc2F0aW9uIGF1dG9tYXRpY2FsbHlcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyB0byByb3RhdGUgYXJvdW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgaG93IGZhciB0aGUgcm90YXRpb24gc2hvdWxkIGJlXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUFyb3VuZEF4aXMob3V0LCBhLCBheGlzLCByYWQpIHtcclxuICAvL1NwZWNpYWwgY2FzZSBmb3IgcmFkID0gMFxyXG4gIGlmIChNYXRoLmFicyhyYWQpIDwgZ2xNYXRyaXguRVBTSUxPTikge1xyXG4gICAgcmV0dXJuIGNvcHkob3V0LCBhKTtcclxuICB9XHJcblxyXG4gIHZhciBheGlzTGVuZ3RoID0gTWF0aC5oeXBvdChheGlzWzBdLCBheGlzWzFdLCBheGlzWzJdKTtcclxuICByYWQgPSByYWQgKiAwLjU7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIHZhciBieCA9IHMgKiBheGlzWzBdIC8gYXhpc0xlbmd0aDtcclxuICB2YXIgYnkgPSBzICogYXhpc1sxXSAvIGF4aXNMZW5ndGg7XHJcbiAgdmFyIGJ6ID0gcyAqIGF4aXNbMl0gLyBheGlzTGVuZ3RoO1xyXG4gIHZhciBidyA9IE1hdGguY29zKHJhZCk7XHJcbiAgdmFyIGF4MSA9IGFbMF0sXHJcbiAgICAgIGF5MSA9IGFbMV0sXHJcbiAgICAgIGF6MSA9IGFbMl0sXHJcbiAgICAgIGF3MSA9IGFbM107XHJcbiAgb3V0WzBdID0gYXgxICogYncgKyBhdzEgKiBieCArIGF5MSAqIGJ6IC0gYXoxICogYnk7XHJcbiAgb3V0WzFdID0gYXkxICogYncgKyBhdzEgKiBieSArIGF6MSAqIGJ4IC0gYXgxICogYno7XHJcbiAgb3V0WzJdID0gYXoxICogYncgKyBhdzEgKiBieiArIGF4MSAqIGJ5IC0gYXkxICogYng7XHJcbiAgb3V0WzNdID0gYXcxICogYncgLSBheDEgKiBieCAtIGF5MSAqIGJ5IC0gYXoxICogYno7XHJcbiAgdmFyIGF4ID0gYVs0XSxcclxuICAgICAgYXkgPSBhWzVdLFxyXG4gICAgICBheiA9IGFbNl0sXHJcbiAgICAgIGF3ID0gYVs3XTtcclxuICBvdXRbNF0gPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5O1xyXG4gIG91dFs1XSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7XHJcbiAgb3V0WzZdID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieDtcclxuICBvdXRbN10gPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgdHdvIGR1YWwgcXVhdCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xyXG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xyXG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdO1xyXG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xyXG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE11bHRpcGxpZXMgdHdvIGR1YWwgcXVhdCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcclxuICB2YXIgYXgwID0gYVswXSxcclxuICAgICAgYXkwID0gYVsxXSxcclxuICAgICAgYXowID0gYVsyXSxcclxuICAgICAgYXcwID0gYVszXSxcclxuICAgICAgYngxID0gYls0XSxcclxuICAgICAgYnkxID0gYls1XSxcclxuICAgICAgYnoxID0gYls2XSxcclxuICAgICAgYncxID0gYls3XSxcclxuICAgICAgYXgxID0gYVs0XSxcclxuICAgICAgYXkxID0gYVs1XSxcclxuICAgICAgYXoxID0gYVs2XSxcclxuICAgICAgYXcxID0gYVs3XSxcclxuICAgICAgYngwID0gYlswXSxcclxuICAgICAgYnkwID0gYlsxXSxcclxuICAgICAgYnowID0gYlsyXSxcclxuICAgICAgYncwID0gYlszXTtcclxuICBvdXRbMF0gPSBheDAgKiBidzAgKyBhdzAgKiBieDAgKyBheTAgKiBiejAgLSBhejAgKiBieTA7XHJcbiAgb3V0WzFdID0gYXkwICogYncwICsgYXcwICogYnkwICsgYXowICogYngwIC0gYXgwICogYnowO1xyXG4gIG91dFsyXSA9IGF6MCAqIGJ3MCArIGF3MCAqIGJ6MCArIGF4MCAqIGJ5MCAtIGF5MCAqIGJ4MDtcclxuICBvdXRbM10gPSBhdzAgKiBidzAgLSBheDAgKiBieDAgLSBheTAgKiBieTAgLSBhejAgKiBiejA7XHJcbiAgb3V0WzRdID0gYXgwICogYncxICsgYXcwICogYngxICsgYXkwICogYnoxIC0gYXowICogYnkxICsgYXgxICogYncwICsgYXcxICogYngwICsgYXkxICogYnowIC0gYXoxICogYnkwO1xyXG4gIG91dFs1XSA9IGF5MCAqIGJ3MSArIGF3MCAqIGJ5MSArIGF6MCAqIGJ4MSAtIGF4MCAqIGJ6MSArIGF5MSAqIGJ3MCArIGF3MSAqIGJ5MCArIGF6MSAqIGJ4MCAtIGF4MSAqIGJ6MDtcclxuICBvdXRbNl0gPSBhejAgKiBidzEgKyBhdzAgKiBiejEgKyBheDAgKiBieTEgLSBheTAgKiBieDEgKyBhejEgKiBidzAgKyBhdzEgKiBiejAgKyBheDEgKiBieTAgLSBheTEgKiBieDA7XHJcbiAgb3V0WzddID0gYXcwICogYncxIC0gYXgwICogYngxIC0gYXkwICogYnkxIC0gYXowICogYnoxICsgYXcxICogYncwIC0gYXgxICogYngwIC0gYXkxICogYnkwIC0gYXoxICogYnowO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdDIubXVsdGlwbHl9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XHJcbi8qKlxyXG4gKiBTY2FsZXMgYSBkdWFsIHF1YXQgYnkgYSBzY2FsYXIgbnVtYmVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdCB0byBzY2FsZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIGR1YWwgcXVhdCBieVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAqIGI7XHJcbiAgb3V0WzFdID0gYVsxXSAqIGI7XHJcbiAgb3V0WzJdID0gYVsyXSAqIGI7XHJcbiAgb3V0WzNdID0gYVszXSAqIGI7XHJcbiAgb3V0WzRdID0gYVs0XSAqIGI7XHJcbiAgb3V0WzVdID0gYVs1XSAqIGI7XHJcbiAgb3V0WzZdID0gYVs2XSAqIGI7XHJcbiAgb3V0WzddID0gYVs3XSAqIGI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIGR1YWwgcXVhdCdzIChUaGUgZG90IHByb2R1Y3Qgb2YgdGhlIHJlYWwgcGFydHMpXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBkb3QgPSBxdWF0LmRvdDtcclxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gZHVhbCBxdWF0cydzXHJcbiAqIE5PVEU6IFRoZSByZXN1bHRpbmcgZHVhbCBxdWF0ZXJuaW9ucyB3b24ndCBhbHdheXMgYmUgbm9ybWFsaXplZCAoVGhlIGVycm9yIGlzIG1vc3Qgbm90aWNlYWJsZSB3aGVuIHQgPSAwLjUpXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XHJcbiAgdmFyIG10ID0gMSAtIHQ7XHJcbiAgaWYgKGRvdChhLCBiKSA8IDApIHQgPSAtdDtcclxuICBvdXRbMF0gPSBhWzBdICogbXQgKyBiWzBdICogdDtcclxuICBvdXRbMV0gPSBhWzFdICogbXQgKyBiWzFdICogdDtcclxuICBvdXRbMl0gPSBhWzJdICogbXQgKyBiWzJdICogdDtcclxuICBvdXRbM10gPSBhWzNdICogbXQgKyBiWzNdICogdDtcclxuICBvdXRbNF0gPSBhWzRdICogbXQgKyBiWzRdICogdDtcclxuICBvdXRbNV0gPSBhWzVdICogbXQgKyBiWzVdICogdDtcclxuICBvdXRbNl0gPSBhWzZdICogbXQgKyBiWzZdICogdDtcclxuICBvdXRbN10gPSBhWzddICogbXQgKyBiWzddICogdDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBpbnZlcnNlIG9mIGEgZHVhbCBxdWF0LiBJZiB0aGV5IGFyZSBub3JtYWxpemVkLCBjb25qdWdhdGUgaXMgY2hlYXBlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdCB0byBjYWxjdWxhdGUgaW52ZXJzZSBvZlxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XHJcbiAgdmFyIHNxbGVuID0gc3F1YXJlZExlbmd0aChhKTtcclxuICBvdXRbMF0gPSAtYVswXSAvIHNxbGVuO1xyXG4gIG91dFsxXSA9IC1hWzFdIC8gc3FsZW47XHJcbiAgb3V0WzJdID0gLWFbMl0gLyBzcWxlbjtcclxuICBvdXRbM10gPSBhWzNdIC8gc3FsZW47XHJcbiAgb3V0WzRdID0gLWFbNF0gLyBzcWxlbjtcclxuICBvdXRbNV0gPSAtYVs1XSAvIHNxbGVuO1xyXG4gIG91dFs2XSA9IC1hWzZdIC8gc3FsZW47XHJcbiAgb3V0WzddID0gYVs3XSAvIHNxbGVuO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGNvbmp1Z2F0ZSBvZiBhIGR1YWwgcXVhdFxyXG4gKiBJZiB0aGUgZHVhbCBxdWF0ZXJuaW9uIGlzIG5vcm1hbGl6ZWQsIHRoaXMgZnVuY3Rpb24gaXMgZmFzdGVyIHRoYW4gcXVhdDIuaW52ZXJzZSBhbmQgcHJvZHVjZXMgdGhlIHNhbWUgcmVzdWx0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBjb25qdWdhdGUgb2ZcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29uanVnYXRlKG91dCwgYSkge1xyXG4gIG91dFswXSA9IC1hWzBdO1xyXG4gIG91dFsxXSA9IC1hWzFdO1xyXG4gIG91dFsyXSA9IC1hWzJdO1xyXG4gIG91dFszXSA9IGFbM107XHJcbiAgb3V0WzRdID0gLWFbNF07XHJcbiAgb3V0WzVdID0gLWFbNV07XHJcbiAgb3V0WzZdID0gLWFbNl07XHJcbiAgb3V0WzddID0gYVs3XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSBkdWFsIHF1YXRcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdCB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbGVuZ3RoID0gcXVhdC5sZW5ndGg7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQyLmxlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIGR1YWwgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0IHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3F1YXJlZExlbmd0aCA9IHF1YXQuc3F1YXJlZExlbmd0aDtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdDIuc3F1YXJlZExlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xyXG4vKipcclxuICogTm9ybWFsaXplIGEgZHVhbCBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0ZXJuaW9uIHRvIG5vcm1hbGl6ZVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xyXG4gIHZhciBtYWduaXR1ZGUgPSBzcXVhcmVkTGVuZ3RoKGEpO1xyXG5cclxuICBpZiAobWFnbml0dWRlID4gMCkge1xyXG4gICAgbWFnbml0dWRlID0gTWF0aC5zcXJ0KG1hZ25pdHVkZSk7XHJcbiAgICB2YXIgYTAgPSBhWzBdIC8gbWFnbml0dWRlO1xyXG4gICAgdmFyIGExID0gYVsxXSAvIG1hZ25pdHVkZTtcclxuICAgIHZhciBhMiA9IGFbMl0gLyBtYWduaXR1ZGU7XHJcbiAgICB2YXIgYTMgPSBhWzNdIC8gbWFnbml0dWRlO1xyXG4gICAgdmFyIGIwID0gYVs0XTtcclxuICAgIHZhciBiMSA9IGFbNV07XHJcbiAgICB2YXIgYjIgPSBhWzZdO1xyXG4gICAgdmFyIGIzID0gYVs3XTtcclxuICAgIHZhciBhX2RvdF9iID0gYTAgKiBiMCArIGExICogYjEgKyBhMiAqIGIyICsgYTMgKiBiMztcclxuICAgIG91dFswXSA9IGEwO1xyXG4gICAgb3V0WzFdID0gYTE7XHJcbiAgICBvdXRbMl0gPSBhMjtcclxuICAgIG91dFszXSA9IGEzO1xyXG4gICAgb3V0WzRdID0gKGIwIC0gYTAgKiBhX2RvdF9iKSAvIG1hZ25pdHVkZTtcclxuICAgIG91dFs1XSA9IChiMSAtIGExICogYV9kb3RfYikgLyBtYWduaXR1ZGU7XHJcbiAgICBvdXRbNl0gPSAoYjIgLSBhMiAqIGFfZG90X2IpIC8gbWFnbml0dWRlO1xyXG4gICAgb3V0WzddID0gKGIzIC0gYTMgKiBhX2RvdF9iKSAvIG1hZ25pdHVkZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBkdWFsIHF1YXRlbmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0ZXJuaW9uIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGR1YWwgcXVhdFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xyXG4gIHJldHVybiBcInF1YXQyKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIsIFwiICsgYVs2XSArIFwiLCBcIiArIGFbN10gKyBcIilcIjtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgZHVhbCBxdWF0ZXJuaW9ucyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3QgZHVhbCBxdWF0ZXJuaW9uLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBkdWFsIHF1YXRlcm5pb24uXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBkdWFsIHF1YXRlcm5pb25zIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XHJcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgZHVhbCBxdWF0ZXJuaW9ucyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3QgZHVhbCBxdWF0LlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBkdWFsIHF1YXQuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBkdWFsIHF1YXRzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xyXG4gIHZhciBhMCA9IGFbMF0sXHJcbiAgICAgIGExID0gYVsxXSxcclxuICAgICAgYTIgPSBhWzJdLFxyXG4gICAgICBhMyA9IGFbM10sXHJcbiAgICAgIGE0ID0gYVs0XSxcclxuICAgICAgYTUgPSBhWzVdLFxyXG4gICAgICBhNiA9IGFbNl0sXHJcbiAgICAgIGE3ID0gYVs3XTtcclxuICB2YXIgYjAgPSBiWzBdLFxyXG4gICAgICBiMSA9IGJbMV0sXHJcbiAgICAgIGIyID0gYlsyXSxcclxuICAgICAgYjMgPSBiWzNdLFxyXG4gICAgICBiNCA9IGJbNF0sXHJcbiAgICAgIGI1ID0gYls1XSxcclxuICAgICAgYjYgPSBiWzZdLFxyXG4gICAgICBiNyA9IGJbN107XHJcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSk7XHJcbn0iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBFbWl0dGVyIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcbmltcG9ydCB7IHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCB9IGZyb20gJy4vdXRpbHMvd2VieHIuanMnO1xyXG4vKipcclxuICogU2V0cyB1cCBhIFtXZWJYUiBEZXZpY2UgQVBJIFwiSGl0IFRlc3RcIl0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby9oaXQtdGVzdC8pXHJcbiAqIGFuZCBwbGFjZXMgdGhlIG9iamVjdCB0byB0aGUgaGl0IGxvY2F0aW9uLlxyXG4gKlxyXG4gKiAqKlJlcXVpcmVtZW50czoqKlxyXG4gKiAgLSBTcGVjaWZ5IGAnaGl0LXRlc3QnYCBpbiB0aGUgcmVxdWlyZWQgb3Igb3B0aW9uYWwgZmVhdHVyZXMgb24gdGhlIEFSIGJ1dHRvbiBpbiB5b3VyIGh0bWwgZmlsZS5cclxuICogICAgU2VlIFtXYXN0ZXBhcGVyYmluIEFSXSgvc2hvd2Nhc2Uvd3BiLWFyKSBhcyBhbiBleGFtcGxlLlxyXG4gKi9cclxuY2xhc3MgSGl0VGVzdExvY2F0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdoaXQtdGVzdC1sb2NhdGlvbic7XHJcbiAgICB0ZW1wU2NhbGluZyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICB2aXNpYmxlID0gZmFsc2U7XHJcbiAgICB4ckhpdFRlc3RTb3VyY2UgPSBudWxsO1xyXG4gICAgLyoqIFJlZmVyZW5jZSBzcGFjZSBmb3IgY3JlYXRpbmcgdGhlIGhpdCB0ZXN0IHdoZW4gdGhlIHNlc3Npb24gc3RhcnRzICovXHJcbiAgICB4clJlZmVyZW5jZVNwYWNlID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogRm9yIG1haW50YWluaW5nIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5OiBXaGV0aGVyIHRvIHNjYWxlIHRoZSBvYmplY3QgdG8gMCBhbmQgYmFjay5cclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBvbkhpdExvc3QgYW5kIG9uSGl0Rm91bmQgaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgc2NhbGVPYmplY3QgPSB0cnVlO1xyXG4gICAgLyoqIEVtaXRzIGFuIGV2ZW50IHdoZW4gdGhlIGhpdCB0ZXN0IHN3aXRjaGVzIGZyb20gdmlzaWJsZSB0byBpbnZpc2libGUgKi9cclxuICAgIG9uSGl0TG9zdCA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHMgYW4gZXZlbnQgd2hlbiB0aGUgaGl0IHRlc3Qgc3dpdGNoZXMgZnJvbSBpbnZpc2libGUgdG8gdmlzaWJsZSAqL1xyXG4gICAgb25IaXRGb3VuZCA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICBvblNlc3Npb25TdGFydENhbGxiYWNrID0gbnVsbDtcclxuICAgIG9uU2Vzc2lvbkVuZENhbGxiYWNrID0gbnVsbDtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMub25YUlNlc3Npb25TdGFydC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uRW5kLmJpbmQodGhpcyk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NhbGVPYmplY3QpIHtcclxuICAgICAgICAgICAgdGhpcy50ZW1wU2NhbGluZy5zZXQodGhpcy5vYmplY3Quc2NhbGluZ0xvY2FsKTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3Quc2NhbGUoWzAsIDAsIDBdKTtcclxuICAgICAgICAgICAgdGhpcy5vbkhpdExvc3QuYWRkKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVtcFNjYWxpbmcuc2V0KHRoaXMub2JqZWN0LnNjYWxpbmdMb2NhbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5zY2FsZShbMCwgMCwgMF0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5vbkhpdEZvdW5kLmFkZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5zY2FsaW5nTG9jYWwuc2V0KHRoaXMudGVtcFNjYWxpbmcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3Quc2V0RGlydHkoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25BY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLmFkZCh0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLnJlbW92ZSh0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBjb25zdCB3YXNWaXNpYmxlID0gdGhpcy52aXNpYmxlO1xyXG4gICAgICAgIGlmICh0aGlzLnhySGl0VGVzdFNvdXJjZSkge1xyXG4gICAgICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMuZW5naW5lLnhyRnJhbWU7XHJcbiAgICAgICAgICAgIGlmICghZnJhbWUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGxldCBoaXRUZXN0UmVzdWx0cyA9IGZyYW1lLmdldEhpdFRlc3RSZXN1bHRzKHRoaXMueHJIaXRUZXN0U291cmNlKTtcclxuICAgICAgICAgICAgaWYgKGhpdFRlc3RSZXN1bHRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBwb3NlID0gaGl0VGVzdFJlc3VsdHNbMF0uZ2V0UG9zZSh0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gISFwb3NlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwodGhpcy5vYmplY3QsIHBvc2UudHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIEVtaXQgZXZlbnRzIGZvciB2aXNpYmxlIHN0YXRlIGNoYW5nZSAqL1xyXG4gICAgICAgIGlmICh0aGlzLnZpc2libGUgIT0gd2FzVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAodGhpcy52aXNpYmxlID8gdGhpcy5vbkhpdEZvdW5kIDogdGhpcy5vbkhpdExvc3QpLm5vdGlmeSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRIaXRUZXN0UmVzdWx0cyhmcmFtZSA9IHRoaXMuZW5naW5lLnhyPy5mcmFtZSA/PyBudWxsKSB7XHJcbiAgICAgICAgaWYgKCFmcmFtZSlcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIC8qIE1heSBoYXBwZW4gaWYgdGhlIGhpdCB0ZXN0IHNvdXJjZSBjb3VsZG4ndCBiZSBjcmVhdGVkICovXHJcbiAgICAgICAgaWYgKCF0aGlzLnhySGl0VGVzdFNvdXJjZSlcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIHJldHVybiBmcmFtZS5nZXRIaXRUZXN0UmVzdWx0cyh0aGlzLnhySGl0VGVzdFNvdXJjZSk7XHJcbiAgICB9XHJcbiAgICBvblhSU2Vzc2lvblN0YXJ0KHNlc3Npb24pIHtcclxuICAgICAgICBpZiAoc2Vzc2lvbi5yZXF1ZXN0SGl0VGVzdFNvdXJjZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2hpdC10ZXN0LWxvY2F0aW9uOiBoaXQgdGVzdCBmZWF0dXJlIG5vdCBhdmFpbGFibGUuIERlYWN0aXZhdGluZyBjb21wb25lbnQuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2Vzc2lvblxyXG4gICAgICAgICAgICAucmVxdWVzdEhpdFRlc3RTb3VyY2Uoe1xyXG4gICAgICAgICAgICBzcGFjZTogdGhpcy54clJlZmVyZW5jZVNwYWNlID8/XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS54ci5yZWZlcmVuY2VTcGFjZUZvclR5cGUoJ3ZpZXdlcicpLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKChoaXRUZXN0U291cmNlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMueHJIaXRUZXN0U291cmNlID0gaGl0VGVzdFNvdXJjZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbiAgICB9XHJcbiAgICBvblhSU2Vzc2lvbkVuZCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMueHJIaXRUZXN0U291cmNlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy54ckhpdFRlc3RTb3VyY2UuY2FuY2VsKCk7XHJcbiAgICAgICAgdGhpcy54ckhpdFRlc3RTb3VyY2UgPSBudWxsO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuYm9vbCh0cnVlKVxyXG5dLCBIaXRUZXN0TG9jYXRpb24ucHJvdG90eXBlLCBcInNjYWxlT2JqZWN0XCIsIHZvaWQgMCk7XHJcbmV4cG9ydCB7IEhpdFRlc3RMb2NhdGlvbiB9O1xyXG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBWaWV3Q29tcG9uZW50LCBFbWl0dGVyLCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xyXG5pbXBvcnQgeyB2ZWMzLCBtYXQ0IH0gZnJvbSAnZ2wtbWF0cml4JztcclxuaW1wb3J0IHsgQ3Vyc29yVGFyZ2V0IH0gZnJvbSAnLi9jdXJzb3ItdGFyZ2V0LmpzJztcclxuaW1wb3J0IHsgSGl0VGVzdExvY2F0aW9uIH0gZnJvbSAnLi9oaXQtdGVzdC1sb2NhdGlvbi5qcyc7XHJcbmNvbnN0IHRlbXBWZWMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG5jb25zdCBaRVJPID0gWzAsIDAsIDBdO1xyXG4vKiogR2xvYmFsIHRhcmdldCBmb3Ige0BsaW5rIEN1cnNvcn0gKi9cclxuY2xhc3MgQ3Vyc29yVGFyZ2V0RW1pdHRlcnMge1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB0YXJnZXQgaXMgaG92ZXJlZCAqL1xyXG4gICAgb25Ib3ZlciA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHRhcmdldCBpcyB1bmhvdmVyZWQgKi9cclxuICAgIG9uVW5ob3ZlciA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHRhcmdldCBpcyBjbGlja2VkICovXHJcbiAgICBvbkNsaWNrID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgY3Vyc29yIG1vdmVzIG9uIHRoZSB0YXJnZXQgKi9cclxuICAgIG9uTW92ZSA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHVzZXIgcHJlc3NlZCB0aGUgc2VsZWN0IGJ1dHRvbiBvbiB0aGUgdGFyZ2V0ICovXHJcbiAgICBvbkRvd24gPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB1c2VyIHVucHJlc3NlZCB0aGUgc2VsZWN0IGJ1dHRvbiBvbiB0aGUgdGFyZ2V0ICovXHJcbiAgICBvblVwID0gbmV3IEVtaXR0ZXIoKTtcclxufVxyXG4vKipcclxuICogM0QgY3Vyc29yIGZvciBkZXNrdG9wL21vYmlsZS9WUi5cclxuICpcclxuICogSW1wbGVtZW50cyBhIHJheS1jYXN0aW5nIGN1cnNvciBpbnRvIHRoZSBzY2VuZS4gVG8gcmVhY3QgdG9cclxuICogY2xpY2tpbmcvaG92ZXIvdW5ob3Zlci9jdXJzb3IgZG93bi9jdXJzb3IgdXAvbW92ZSB1c2UgYVxyXG4gKiBbY3Vyc29yLXRhcmdldF0oI2N1cnNvci10YXJnZXQpLlxyXG4gKlxyXG4gKiBGb3IgVlIsIHRoZSByYXkgaXMgY2FzdCBpbiBkaXJlY3Rpb24gb2ZcclxuICogW3RoaXMub2JqZWN0LmdldEZvcndhcmQoKV0oL2pzYXBpL29iamVjdC8jZ2V0Zm9yd2FyZCkuIEZvciBkZXNrdG9wIGFuZCBtb2JpbGUsIHRoZVxyXG4gKiBmb3J3YXJkIHZlY3RvciBpcyBpbnZlcnNlLXByb2plY3RlZCB0byBhY2NvdW50IGZvciB3aGVyZSBvbiBzY3JlZW4gdGhlIHVzZXIgY2xpY2tlZC5cclxuICpcclxuICogYC5nbG9iYWxUYXJnZXRgIGNhbiBiZSB1c2VkIHRvIGNhbGwgY2FsbGJhY2tzIGZvciBhbGwgb2JqZWN0cywgZXZlbiB0aG9zZSB0aGF0XHJcbiAqIGRvIG5vdCBoYXZlIGEgY3Vyc29yIHRhcmdldCBhdHRhY2hlZCwgYnV0IG1hdGNoIHRoZSBjb2xsaXNpb24gZ3JvdXAuXHJcbiAqXHJcbiAqIGAuaGl0VGVzdFRhcmdldGAgY2FuIGJlIHVzZWQgdG8gY2FsbCBjYWxsYmFja3MgV2ViWFIgaGl0IHRlc3QgcmVzdWx0cyxcclxuICpcclxuICogU2VlIFtBbmltYXRpb24gRXhhbXBsZV0oL3Nob3djYXNlL2FuaW1hdGlvbikuXHJcbiAqL1xyXG5jbGFzcyBDdXJzb3IgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2N1cnNvcic7XHJcbiAgICAvKiBEZXBlbmRlbmNpZXMgaXMgZGVwcmVjYXRlZCwgYnV0IHdlIGtlZXAgaXQgaGVyZSBmb3IgY29tcGF0aWJpbGl0eVxyXG4gICAgICogd2l0aCAxLjAuMC1yYzIgdW50aWwgMS4wLjAgaXMgcmVsZWFzZWQgKi9cclxuICAgIHN0YXRpYyBEZXBlbmRlbmNpZXMgPSBbSGl0VGVzdExvY2F0aW9uXTtcclxuICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSkge1xyXG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChIaXRUZXN0TG9jYXRpb24pO1xyXG4gICAgfVxyXG4gICAgX2NvbGxpc2lvbk1hc2sgPSAwO1xyXG4gICAgX29uRGVhY3RpdmF0ZUNhbGxiYWNrcyA9IFtdO1xyXG4gICAgX2lucHV0ID0gbnVsbDtcclxuICAgIF9vcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgX2N1cnNvck9ialNjYWxlID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIF9kaXJlY3Rpb24gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgX3Byb2plY3Rpb25NYXRyaXggPSBuZXcgRmxvYXQzMkFycmF5KDE2KTtcclxuICAgIF92aWV3Q29tcG9uZW50ID0gbnVsbDtcclxuICAgIF9pc0Rvd24gPSBmYWxzZTtcclxuICAgIF9sYXN0SXNEb3duID0gZmFsc2U7XHJcbiAgICBfYXJUb3VjaERvd24gPSBmYWxzZTtcclxuICAgIF9sYXN0UG9pbnRlclBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XHJcbiAgICBfbGFzdEN1cnNvclBvc09uVGFyZ2V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIF9oaXRUZXN0TG9jYXRpb24gPSBudWxsO1xyXG4gICAgX2hpdFRlc3RPYmplY3QgPSBudWxsO1xyXG4gICAgX29uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoZSBjdXJzb3IgKGFuZCBjdXJzb3JPYmplY3QpIGlzIHZpc2libGUsIGkuZS4gcG9pbnRpbmcgYXQgYW4gb2JqZWN0XHJcbiAgICAgKiB0aGF0IG1hdGNoZXMgdGhlIGNvbGxpc2lvbiBncm91cFxyXG4gICAgICovXHJcbiAgICB2aXNpYmxlID0gdHJ1ZTtcclxuICAgIC8qKiBDdXJyZW50bHkgaG92ZXJlZCBvYmplY3QgKi9cclxuICAgIGhvdmVyaW5nT2JqZWN0ID0gbnVsbDtcclxuICAgIC8qKiBDdXJzb3JUYXJnZXQgY29tcG9uZW50IG9mIHRoZSBjdXJyZW50bHkgaG92ZXJlZCBvYmplY3QgKi9cclxuICAgIGhvdmVyaW5nT2JqZWN0VGFyZ2V0ID0gbnVsbDtcclxuICAgIC8qKiBXaGV0aGVyIHRoZSBjdXJzb3IgaXMgaG92ZXJpbmcgcmVhbGl0eSB2aWEgaGl0LXRlc3QgKi9cclxuICAgIGhvdmVyaW5nUmVhbGl0eSA9IGZhbHNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHbG9iYWwgdGFyZ2V0IGxldHMgeW91IHJlY2VpdmUgZ2xvYmFsIGN1cnNvciBldmVudHMgb24gYW55IG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgZ2xvYmFsVGFyZ2V0ID0gbmV3IEN1cnNvclRhcmdldEVtaXR0ZXJzKCk7XHJcbiAgICAvKipcclxuICAgICAqIEhpdCB0ZXN0IHRhcmdldCBsZXRzIHlvdSByZWNlaXZlIGN1cnNvciBldmVudHMgZm9yIFwicmVhbGl0eVwiLCBpZlxyXG4gICAgICogYHVzZVdlYlhSSGl0VGVzdGAgaXMgc2V0IHRvIGB0cnVlYC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogYGBganNcclxuICAgICAqIGN1cnNvci5oaXRUZXN0VGFyZ2V0Lm9uQ2xpY2suYWRkKChoaXQsIGN1cnNvcikgPT4ge1xyXG4gICAgICogICAgIC8vIFVzZXIgY2xpY2tlZCBvbiByZWFsaXR5XHJcbiAgICAgKiB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBoaXRUZXN0VGFyZ2V0ID0gbmV3IEN1cnNvclRhcmdldEVtaXR0ZXJzKCk7XHJcbiAgICAvKiogV29ybGQgcG9zaXRpb24gb2YgdGhlIGN1cnNvciAqL1xyXG4gICAgY3Vyc29yUG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIC8qKiBDb2xsaXNpb24gZ3JvdXAgZm9yIHRoZSByYXkgY2FzdC4gT25seSBvYmplY3RzIGluIHRoaXMgZ3JvdXAgd2lsbCBiZSBhZmZlY3RlZCBieSB0aGlzIGN1cnNvci4gKi9cclxuICAgIGNvbGxpc2lvbkdyb3VwID0gMTtcclxuICAgIC8qKiAob3B0aW9uYWwpIE9iamVjdCB0aGF0IHZpc3VhbGl6ZXMgdGhlIGN1cnNvcidzIHJheS4gKi9cclxuICAgIGN1cnNvclJheU9iamVjdCA9IG51bGw7XHJcbiAgICAvKiogQXhpcyBhbG9uZyB3aGljaCB0byBzY2FsZSB0aGUgYGN1cnNvclJheU9iamVjdGAuICovXHJcbiAgICBjdXJzb3JSYXlTY2FsaW5nQXhpcyA9IDI7XHJcbiAgICAvKiogKG9wdGlvbmFsKSBPYmplY3QgdGhhdCB2aXN1YWxpemVzIHRoZSBjdXJzb3IncyBoaXQgbG9jYXRpb24uICovXHJcbiAgICBjdXJzb3JPYmplY3QgPSBudWxsO1xyXG4gICAgLyoqIEhhbmRlZG5lc3MgZm9yIFZSIGN1cnNvcnMgdG8gYWNjZXB0IHRyaWdnZXIgZXZlbnRzIG9ubHkgZnJvbSByZXNwZWN0aXZlIGNvbnRyb2xsZXIuICovXHJcbiAgICBoYW5kZWRuZXNzID0gMDtcclxuICAgIC8qKiBNb2RlIGZvciByYXljYXN0aW5nLCB3aGV0aGVyIHRvIHVzZSBQaHlzWCBvciBzaW1wbGUgY29sbGlzaW9uIGNvbXBvbmVudHMgKi9cclxuICAgIHJheUNhc3RNb2RlID0gMDtcclxuICAgIC8qKiBNYXhpbXVtIGRpc3RhbmNlIGZvciB0aGUgY3Vyc29yJ3MgcmF5IGNhc3QuICovXHJcbiAgICBtYXhEaXN0YW5jZSA9IDEwMDtcclxuICAgIC8qKiBXaGV0aGVyIHRvIHNldCB0aGUgQ1NTIHN0eWxlIG9mIHRoZSBtb3VzZSBjdXJzb3Igb24gZGVza3RvcCAqL1xyXG4gICAgc3R5bGVDdXJzb3IgPSB0cnVlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgV2ViWFIgaGl0LXRlc3QgaWYgYXZhaWxhYmxlLlxyXG4gICAgICpcclxuICAgICAqIEF0dGFjaGVzIGEgaGl0LXRlc3QtbG9jYXRpb24gY29tcG9uZW50IHRvIHRoZSBjdXJzb3JPYmplY3QsIHdoaWNoIHdpbGwgYmUgdXNlZFxyXG4gICAgICogYnkgdGhlIGN1cnNvciB0byBzZW5kIGV2ZW50cyB0byB0aGUgaGl0VGVzdFRhcmdldCB3aXRoIEhpdFRlc3RSZXN1bHQuXHJcbiAgICAgKi9cclxuICAgIHVzZVdlYlhSSGl0VGVzdCA9IGZhbHNlO1xyXG4gICAgX29uVmlld3BvcnRSZXNpemUgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl92aWV3Q29tcG9uZW50KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLyogUHJvamVjdGlvbiBtYXRyaXggd2lsbCBjaGFuZ2UgaWYgdGhlIHZpZXdwb3J0IGlzIHJlc2l6ZWQsIHdoaWNoIHdpbGwgYWZmZWN0IHRoZVxyXG4gICAgICAgICAqIHByb2plY3Rpb24gbWF0cml4IGJlY2F1c2Ugb2YgdGhlIGFzcGVjdCByYXRpby4gKi9cclxuICAgICAgICBtYXQ0LmludmVydCh0aGlzLl9wcm9qZWN0aW9uTWF0cml4LCB0aGlzLl92aWV3Q29tcG9uZW50LnByb2plY3Rpb25NYXRyaXgpO1xyXG4gICAgfTtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuX2NvbGxpc2lvbk1hc2sgPSAxIDw8IHRoaXMuY29sbGlzaW9uR3JvdXA7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFuZGVkbmVzcyA9PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0Q29tcCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgaWYgKCFpbnB1dENvbXApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignY3Vyc29yIGNvbXBvbmVudCBvbiBvYmplY3QnLCB0aGlzLm9iamVjdC5uYW1lLCAnd2FzIGNvbmZpZ3VyZWQgd2l0aCBoYW5kZWRuZXNzIFwiaW5wdXQgY29tcG9uZW50XCIsICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdidXQgb2JqZWN0IGhhcyBubyBpbnB1dCBjb21wb25lbnQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRlZG5lc3MgPSBpbnB1dENvbXAuaGFuZGVkbmVzcyB8fCAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0Q29tcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kZWRuZXNzID0gWydsZWZ0JywgJ3JpZ2h0JywgJ25vbmUnXVt0aGlzLmhhbmRlZG5lc3MgLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdmlld0NvbXBvbmVudCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudChWaWV3Q29tcG9uZW50KTtcclxuICAgICAgICBpZiAodGhpcy51c2VXZWJYUkhpdFRlc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5faGl0VGVzdE9iamVjdCA9IHRoaXMuZW5naW5lLnNjZW5lLmFkZE9iamVjdCh0aGlzLm9iamVjdCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpdFRlc3RMb2NhdGlvbiA9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oaXRUZXN0T2JqZWN0LmFkZENvbXBvbmVudChIaXRUZXN0TG9jYXRpb24sIHtcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZU9iamVjdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB9KSA/PyBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5zZXR1cFZSRXZlbnRzLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMuX29uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uUmVzaXplLmFkZCh0aGlzLl9vblZpZXdwb3J0UmVzaXplKTtcclxuICAgICAgICB0aGlzLl9zZXRDdXJzb3JWaXNpYmlsaXR5KHRydWUpO1xyXG4gICAgICAgIC8qIElmIHRoaXMgb2JqZWN0IGFsc28gaGFzIGEgdmlldyBjb21wb25lbnQsIHdlIHdpbGwgZW5hYmxlIGludmVyc2UtcHJvamVjdGVkIG1vdXNlIGNsaWNrcyxcclxuICAgICAgICAgKiBvdGhlcndpc2UganVzdCB1c2UgdGhlIG9iamVjdHMgdHJhbnNmb3JtYXRpb24gKi9cclxuICAgICAgICBpZiAodGhpcy5fdmlld0NvbXBvbmVudCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZW5naW5lLmNhbnZhcztcclxuICAgICAgICAgICAgY29uc3Qgb25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICBjb25zdCBvblBvaW50ZXJNb3ZlID0gdGhpcy5vblBvaW50ZXJNb3ZlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9uUG9pbnRlckRvd24gPSB0aGlzLm9uUG9pbnRlckRvd24uYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgY29uc3Qgb25Qb2ludGVyVXAgPSB0aGlzLm9uUG9pbnRlclVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spO1xyXG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBvblBvaW50ZXJNb3ZlKTtcclxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25Qb2ludGVyRG93bik7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBvblBvaW50ZXJVcCk7XHJcbiAgICAgICAgICAgIHRoaXMuX29uRGVhY3RpdmF0ZUNhbGxiYWNrcy5wdXNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgb25Qb2ludGVyTW92ZSk7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBvblBvaW50ZXJEb3duKTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBvblBvaW50ZXJVcCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9vblZpZXdwb3J0UmVzaXplKCk7XHJcbiAgICB9XHJcbiAgICBfc2V0Q3Vyc29yUmF5VHJhbnNmb3JtKGhpdFBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmN1cnNvclJheU9iamVjdClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGRpc3QgPSB2ZWMzLmRpc3QodGhpcy5fb3JpZ2luLCBoaXRQb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5jdXJzb3JSYXlPYmplY3Quc2V0UG9zaXRpb25Mb2NhbChbMC4wLCAwLjAsIC1kaXN0IC8gMl0pO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvclJheVNjYWxpbmdBeGlzICE9IDQpIHtcclxuICAgICAgICAgICAgLyogU2NhbGUgb25seSB0aGUgcmVxdWVzdGVkIGF4aXMsIHJlbGF0aXZlIHRvIHRoZSBvcmlnaW5hbCBzY2FsaW5nICovXHJcbiAgICAgICAgICAgIHRlbXBWZWMuZmlsbCgxKTtcclxuICAgICAgICAgICAgdGVtcFZlY1t0aGlzLmN1cnNvclJheVNjYWxpbmdBeGlzXSA9IGRpc3QgLyAyO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnNvclJheU9iamVjdC5zZXRTY2FsaW5nTG9jYWwodGVtcFZlYyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3NldEN1cnNvclZpc2liaWxpdHkodmlzaWJsZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnZpc2libGUgPT0gdmlzaWJsZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGU7XHJcbiAgICAgICAgaWYgKCF0aGlzLmN1cnNvck9iamVjdClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmICh2aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yT2JqZWN0LnNldFNjYWxpbmdXb3JsZCh0aGlzLl9jdXJzb3JPYmpTY2FsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnNvck9iamVjdC5nZXRTY2FsaW5nV29ybGQodGhpcy5fY3Vyc29yT2JqU2NhbGUpO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnNvck9iamVjdC5zY2FsZUxvY2FsKFswLCAwLCAwXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIC8qIElmIGluIFZSLCBzZXQgdGhlIGN1cnNvciByYXkgYmFzZWQgb24gb2JqZWN0IHRyYW5zZm9ybSAqL1xyXG4gICAgICAgIC8qIFNpbmNlIEdvb2dsZSBDYXJkYm9hcmQgdGFwIGlzIHJlZ2lzdGVyZWQgYXMgYXJUb3VjaERvd24gd2l0aG91dCBhIGdhbWVwYWQsIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGdhbWVwYWQgcHJlc2VuY2UgKi9cclxuICAgICAgICBpZiAodGhpcy5lbmdpbmUueHIgJiZcclxuICAgICAgICAgICAgdGhpcy5fYXJUb3VjaERvd24gJiZcclxuICAgICAgICAgICAgdGhpcy5faW5wdXQgJiZcclxuICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5pbnB1dFNvdXJjZXNbMF0uaGFuZGVkbmVzcyA9PT0gJ25vbmUnICYmXHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLnhyLnNlc3Npb24uaW5wdXRTb3VyY2VzWzBdLmdhbWVwYWQpIHtcclxuICAgICAgICAgICAgLyogV2ViWFIgQVIgaW5wdXQgKi9cclxuICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMuZW5naW5lLnhyLnNlc3Npb24uaW5wdXRTb3VyY2VzWzBdLmdhbWVwYWQuYXhlcztcclxuICAgICAgICAgICAgLyogU2NyZWVuc3BhY2UgWSBpcyBpbnZlcnRlZCAqL1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMF0gPSBwWzBdO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMV0gPSAtcFsxXTtcclxuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzJdID0gLTEuMDtcclxuICAgICAgICAgICAgdGhpcy5hcHBseVRyYW5zZm9ybUFuZFByb2plY3REaXJlY3Rpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5lbmdpbmUueHIgJiYgdGhpcy5faW5wdXQgJiYgdGhpcy5faW5wdXQueHJJbnB1dFNvdXJjZSkge1xyXG4gICAgICAgICAgICAvKiBXZWJYUiBWUiBpbnB1dCAqL1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMF0gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMV0gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMl0gPSAtMS4wO1xyXG4gICAgICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtVG9EaXJlY3Rpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdmlld0NvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAvKiBBcHBseSBwb3RlbnRpYWxseSBjaGFuZ2VkIHRyYW5zZm9ybSB0byBsYXN0IHN0b3JlZCBwb2ludGVyXHJcbiAgICAgICAgICAgICAqIHBvc2l0aW9uICovXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmF5Q2FzdChudWxsLCB0aGlzLmVuZ2luZS54cj8uZnJhbWUpO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvck9iamVjdCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ob3ZlcmluZ09iamVjdCAmJlxyXG4gICAgICAgICAgICAgICAgKHRoaXMuY3Vyc29yUG9zWzBdICE9IDAgfHwgdGhpcy5jdXJzb3JQb3NbMV0gIT0gMCB8fCB0aGlzLmN1cnNvclBvc1syXSAhPSAwKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q3Vyc29yVmlzaWJpbGl0eSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yT2JqZWN0LnNldFBvc2l0aW9uV29ybGQodGhpcy5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q3Vyc29yUmF5VHJhbnNmb3JtKHRoaXMuY3Vyc29yUG9zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NldEN1cnNvclZpc2liaWxpdHkoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyogUmV0dXJucyB0aGUgaG92ZXJlZCBjdXJzb3IgdGFyZ2V0LCBpZiBhdmFpbGFibGUgKi9cclxuICAgIG5vdGlmeShldmVudCwgb3JpZ2luYWxFdmVudCkge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuaG92ZXJpbmdPYmplY3Q7XHJcbiAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJzb3JUYXJnZXQgPSB0aGlzLmhvdmVyaW5nT2JqZWN0VGFyZ2V0O1xyXG4gICAgICAgICAgICBpZiAoY3Vyc29yVGFyZ2V0KVxyXG4gICAgICAgICAgICAgICAgY3Vyc29yVGFyZ2V0W2V2ZW50XS5ub3RpZnkodGFyZ2V0LCB0aGlzLCBvcmlnaW5hbEV2ZW50ID8/IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsVGFyZ2V0W2V2ZW50XS5ub3RpZnkodGFyZ2V0LCB0aGlzLCBvcmlnaW5hbEV2ZW50ID8/IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaG92ZXJCZWhhdmlvdXIocmF5SGl0LCBoaXRUZXN0UmVzdWx0LCBkb0NsaWNrLCBvcmlnaW5hbEV2ZW50KSB7XHJcbiAgICAgICAgLyogT2xkIEFQSSB2ZXJzaW9uIGRvZXMgbm90IHJldHVybiBudWxsIGZvciBvYmplY3RzWzBdIGlmIG5vIGhpdCAqL1xyXG4gICAgICAgIGNvbnN0IGhpdCA9ICF0aGlzLmhvdmVyaW5nUmVhbGl0eSAmJiByYXlIaXQuaGl0Q291bnQgPiAwID8gcmF5SGl0Lm9iamVjdHNbMF0gOiBudWxsO1xyXG4gICAgICAgIGlmIChoaXQpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmhvdmVyaW5nT2JqZWN0IHx8ICF0aGlzLmhvdmVyaW5nT2JqZWN0LmVxdWFscyhoaXQpKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBVbmhvdmVyIHByZXZpb3VzLCBpZiBleGlzdHMgKi9cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uVW5ob3ZlcicsIG9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyogSG92ZXIgbmV3IG9iamVjdCAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3ZlcmluZ09iamVjdCA9IGhpdDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJpbmdPYmplY3RUYXJnZXQgPSB0aGlzLmhvdmVyaW5nT2JqZWN0LmdldENvbXBvbmVudChDdXJzb3JUYXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3R5bGVDdXJzb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcclxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KCdvbkhvdmVyJywgb3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5ob3ZlcmluZ09iamVjdCkge1xyXG4gICAgICAgICAgICAvKiBQcmV2aW91c2x5IGhvdmVyaW5nIG9iamVjdCwgbm93IGhvdmVyaW5nIG5vdGhpbmcgKi9cclxuICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uVW5ob3ZlcicsIG9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLmhvdmVyaW5nT2JqZWN0ID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5ob3ZlcmluZ09iamVjdFRhcmdldCA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0eWxlQ3Vyc29yKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QpIHtcclxuICAgICAgICAgICAgLyogb25Eb3duL29uVXAgZm9yIG9iamVjdCAqL1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faXNEb3duICE9PSB0aGlzLl9sYXN0SXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh0aGlzLl9pc0Rvd24gPyAnb25Eb3duJyA6ICdvblVwJywgb3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogb25DbGljayBmb3Igb2JqZWN0ICovXHJcbiAgICAgICAgICAgIGlmIChkb0NsaWNrKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uQ2xpY2snLCBvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5ob3ZlcmluZ1JlYWxpdHkpIHtcclxuICAgICAgICAgICAgLyogb25Eb3duL29uVXAgZm9yIGhpdCB0ZXN0ICovXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rvd24gIT09IHRoaXMuX2xhc3RJc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgICh0aGlzLl9pc0Rvd24gPyB0aGlzLmhpdFRlc3RUYXJnZXQub25Eb3duIDogdGhpcy5oaXRUZXN0VGFyZ2V0Lm9uVXApLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzLCBvcmlnaW5hbEV2ZW50ID8/IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogb25DbGljayBmb3IgaGl0IHRlc3QgKi9cclxuICAgICAgICAgICAgaWYgKGRvQ2xpY2spXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpdFRlc3RUYXJnZXQub25DbGljay5ub3RpZnkoaGl0VGVzdFJlc3VsdCwgdGhpcywgb3JpZ2luYWxFdmVudCA/PyB1bmRlZmluZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBvbk1vdmUgKi9cclxuICAgICAgICBpZiAoaGl0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvdmVyaW5nT2JqZWN0LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKHRlbXBWZWMsIHRoaXMuY3Vyc29yUG9zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRlbXBWZWMuc2V0KHRoaXMuY3Vyc29yUG9zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXZlYzMuZXF1YWxzKHRoaXMuX2xhc3RDdXJzb3JQb3NPblRhcmdldCwgdGVtcFZlYykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KCdvbk1vdmUnLCBvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RDdXJzb3JQb3NPblRhcmdldC5zZXQodGVtcFZlYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5ob3ZlcmluZ1JlYWxpdHkpIHtcclxuICAgICAgICAgICAgaWYgKCF2ZWMzLmVxdWFscyh0aGlzLl9sYXN0Q3Vyc29yUG9zT25UYXJnZXQsIHRoaXMuY3Vyc29yUG9zKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaXRUZXN0VGFyZ2V0Lm9uTW92ZS5ub3RpZnkoaGl0VGVzdFJlc3VsdCwgdGhpcywgb3JpZ2luYWxFdmVudCA/PyB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEN1cnNvclBvc09uVGFyZ2V0LnNldCh0aGlzLmN1cnNvclBvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xhc3RDdXJzb3JQb3NPblRhcmdldC5zZXQodGhpcy5jdXJzb3JQb3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sYXN0SXNEb3duID0gdGhpcy5faXNEb3duO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXR1cCBldmVudCBsaXN0ZW5lcnMgb24gc2Vzc2lvbiBvYmplY3RcclxuICAgICAqIEBwYXJhbSBzIFdlYlhSIHNlc3Npb25cclxuICAgICAqXHJcbiAgICAgKiBTZXRzIHVwICdzZWxlY3QnIGFuZCAnZW5kJyBldmVudHMuXHJcbiAgICAgKi9cclxuICAgIHNldHVwVlJFdmVudHMocykge1xyXG4gICAgICAgIGlmICghcylcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignc2V0dXBWUkV2ZW50cyBjYWxsZWQgd2l0aG91dCBhIHZhbGlkIHNlc3Npb24nKTtcclxuICAgICAgICAvKiBCZWNhdXNlIHdlIHJlbW92ZSB0aGUgY2FsbGJhY2sgaW4gLmFjdGl2ZSBhbmQgYW5vdGhlciBjb21wb25lbnQgbWlnaHRcclxuICAgICAgICAgKiBkZWFjdGl2YXRlIHRoZSBjdXJzb3IgZHVyaW5nIG9uWFJTZXNzaW9uU3RhcnQsIHdlIG1ha2Ugc3VyZSB0aGUgY3Vyc29yXHJcbiAgICAgICAgICogcmVhbGx5IGlzIGFjdGl2ZSB3aGVuIHdlIHJ1biB0aGlzICovXHJcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8qIElmIGluIFZSLCBvbmUtdGltZSBiaW5kIHRoZSBsaXN0ZW5lciAqL1xyXG4gICAgICAgIGNvbnN0IG9uU2VsZWN0ID0gdGhpcy5vblNlbGVjdC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0Jywgb25TZWxlY3QpO1xyXG4gICAgICAgIGNvbnN0IG9uU2VsZWN0U3RhcnQgPSB0aGlzLm9uU2VsZWN0U3RhcnQuYmluZCh0aGlzKTtcclxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0Jywgb25TZWxlY3RTdGFydCk7XHJcbiAgICAgICAgY29uc3Qgb25TZWxlY3RFbmQgPSB0aGlzLm9uU2VsZWN0RW5kLmJpbmQodGhpcyk7XHJcbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RlbmQnLCBvblNlbGVjdEVuZCk7XHJcbiAgICAgICAgdGhpcy5fb25EZWFjdGl2YXRlQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZW5naW5lLnhyKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIG9uU2VsZWN0KTtcclxuICAgICAgICAgICAgcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIG9uU2VsZWN0U3RhcnQpO1xyXG4gICAgICAgICAgICBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVuZCcsIG9uU2VsZWN0RW5kKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKiBBZnRlciBBUiBzZXNzaW9uIHdhcyBlbnRlcmVkLCB0aGUgcHJvamVjdGlvbiBtYXRyaXggY2hhbmdlZCAqL1xyXG4gICAgICAgIHRoaXMuX29uVmlld3BvcnRSZXNpemUoKTtcclxuICAgIH1cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLl9vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblJlc2l6ZS5yZW1vdmUodGhpcy5fb25WaWV3cG9ydFJlc2l6ZSk7XHJcbiAgICAgICAgdGhpcy5fc2V0Q3Vyc29yVmlzaWJpbGl0eShmYWxzZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QpXHJcbiAgICAgICAgICAgIHRoaXMubm90aWZ5KCdvblVuaG92ZXInLCBudWxsKTtcclxuICAgICAgICBpZiAodGhpcy5jdXJzb3JSYXlPYmplY3QpXHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUmF5T2JqZWN0LnNldFNjYWxpbmdMb2NhbChaRVJPKTtcclxuICAgICAgICAvKiBFbnN1cmUgYWxsIGV2ZW50IGxpc3RlbmVycyBhcmUgcmVtb3ZlZCAqL1xyXG4gICAgICAgIGZvciAoY29uc3QgZiBvZiB0aGlzLl9vbkRlYWN0aXZhdGVDYWxsYmFja3MpXHJcbiAgICAgICAgICAgIGYoKTtcclxuICAgICAgICB0aGlzLl9vbkRlYWN0aXZhdGVDYWxsYmFja3MubGVuZ3RoID0gMDtcclxuICAgIH1cclxuICAgIG9uRGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLl9oaXRUZXN0T2JqZWN0Py5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICAvKiogJ3NlbGVjdCcgZXZlbnQgbGlzdGVuZXIgKi9cclxuICAgIG9uU2VsZWN0KGUpIHtcclxuICAgICAgICBpZiAoZS5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzICE9IHRoaXMuaGFuZGVkbmVzcylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMucmF5Q2FzdChlLCBlLmZyYW1lLCB0cnVlKTtcclxuICAgIH1cclxuICAgIC8qKiAnc2VsZWN0c3RhcnQnIGV2ZW50IGxpc3RlbmVyICovXHJcbiAgICBvblNlbGVjdFN0YXJ0KGUpIHtcclxuICAgICAgICB0aGlzLl9hclRvdWNoRG93biA9IHRydWU7XHJcbiAgICAgICAgaWYgKGUuaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSB0aGlzLmhhbmRlZG5lc3MpIHtcclxuICAgICAgICAgICAgdGhpcy5faXNEb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5yYXlDYXN0KGUsIGUuZnJhbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiAnc2VsZWN0ZW5kJyBldmVudCBsaXN0ZW5lciAqL1xyXG4gICAgb25TZWxlY3RFbmQoZSkge1xyXG4gICAgICAgIHRoaXMuX2FyVG91Y2hEb3duID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGUuaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSB0aGlzLmhhbmRlZG5lc3MpIHtcclxuICAgICAgICAgICAgdGhpcy5faXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMucmF5Q2FzdChlLCBlLmZyYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiogJ3BvaW50ZXJtb3ZlJyBldmVudCBsaXN0ZW5lciAqL1xyXG4gICAgb25Qb2ludGVyTW92ZShlKSB7XHJcbiAgICAgICAgLyogRG9uJ3QgY2FyZSBhYm91dCBzZWNvbmRhcnkgcG9pbnRlcnMgKi9cclxuICAgICAgICBpZiAoIWUuaXNQcmltYXJ5KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy51cGRhdGVNb3VzZVBvcyhlKTtcclxuICAgICAgICB0aGlzLnJheUNhc3QoZSwgbnVsbCk7XHJcbiAgICB9XHJcbiAgICAvKiogJ2NsaWNrJyBldmVudCBsaXN0ZW5lciAqL1xyXG4gICAgb25DbGljayhlKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNb3VzZVBvcyhlKTtcclxuICAgICAgICB0aGlzLnJheUNhc3QoZSwgbnVsbCwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICAvKiogJ3BvaW50ZXJkb3duJyBldmVudCBsaXN0ZW5lciAqL1xyXG4gICAgb25Qb2ludGVyRG93bihlKSB7XHJcbiAgICAgICAgLyogRG9uJ3QgY2FyZSBhYm91dCBzZWNvbmRhcnkgcG9pbnRlcnMgb3Igbm9uLWxlZnQgY2xpY2tzICovXHJcbiAgICAgICAgaWYgKCFlLmlzUHJpbWFyeSB8fCBlLmJ1dHRvbiAhPT0gMClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMudXBkYXRlTW91c2VQb3MoZSk7XHJcbiAgICAgICAgdGhpcy5faXNEb3duID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJheUNhc3QoZSk7XHJcbiAgICB9XHJcbiAgICAvKiogJ3BvaW50ZXJ1cCcgZXZlbnQgbGlzdGVuZXIgKi9cclxuICAgIG9uUG9pbnRlclVwKGUpIHtcclxuICAgICAgICAvKiBEb24ndCBjYXJlIGFib3V0IHNlY29uZGFyeSBwb2ludGVycyBvciBub24tbGVmdCBjbGlja3MgKi9cclxuICAgICAgICBpZiAoIWUuaXNQcmltYXJ5IHx8IGUuYnV0dG9uICE9PSAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy51cGRhdGVNb3VzZVBvcyhlKTtcclxuICAgICAgICB0aGlzLl9pc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJheUNhc3QoZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBtb3VzZSBwb3NpdGlvbiBpbiBub24tVlIgbW9kZSBhbmQgcmF5Y2FzdCBmb3IgbmV3IHBvc2l0aW9uXHJcbiAgICAgKiBAcmV0dXJucyBAcmVmIFdMLlJheUhpdCBmb3IgbmV3IHBvc2l0aW9uLlxyXG4gICAgICovXHJcbiAgICB1cGRhdGVNb3VzZVBvcyhlKSB7XHJcbiAgICAgICAgdGhpcy5fbGFzdFBvaW50ZXJQb3NbMF0gPSBlLmNsaWVudFg7XHJcbiAgICAgICAgdGhpcy5fbGFzdFBvaW50ZXJQb3NbMV0gPSBlLmNsaWVudFk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZURpcmVjdGlvbigpIHtcclxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLmVuZ2luZS5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgLyogR2V0IGRpcmVjdGlvbiBpbiBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIHNwYWNlIGZyb20gbW91c2UgcG9zaXRpb24gKi9cclxuICAgICAgICBjb25zdCBsZWZ0ID0gdGhpcy5fbGFzdFBvaW50ZXJQb3NbMF0gLyBib3VuZHMud2lkdGg7XHJcbiAgICAgICAgY29uc3QgdG9wID0gdGhpcy5fbGFzdFBvaW50ZXJQb3NbMV0gLyBib3VuZHMuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvblswXSA9IGxlZnQgKiAyIC0gMTtcclxuICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMV0gPSAtdG9wICogMiArIDE7XHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzJdID0gLTEuMDtcclxuICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtQW5kUHJvamVjdERpcmVjdGlvbigpO1xyXG4gICAgfVxyXG4gICAgYXBwbHlUcmFuc2Zvcm1BbmRQcm9qZWN0RGlyZWN0aW9uKCkge1xyXG4gICAgICAgIC8qIFJldmVyc2UtcHJvamVjdCB0aGUgZGlyZWN0aW9uIGludG8gdmlldyBzcGFjZSAqL1xyXG4gICAgICAgIHZlYzMudHJhbnNmb3JtTWF0NCh0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fcHJvamVjdGlvbk1hdHJpeCk7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUodGhpcy5fZGlyZWN0aW9uLCB0aGlzLl9kaXJlY3Rpb24pO1xyXG4gICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1Ub0RpcmVjdGlvbigpO1xyXG4gICAgfVxyXG4gICAgYXBwbHlUcmFuc2Zvcm1Ub0RpcmVjdGlvbigpIHtcclxuICAgICAgICB0aGlzLm9iamVjdC50cmFuc2Zvcm1WZWN0b3JXb3JsZCh0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX2RpcmVjdGlvbik7XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZCh0aGlzLl9vcmlnaW4pO1xyXG4gICAgfVxyXG4gICAgcmF5Q2FzdChvcmlnaW5hbEV2ZW50LCBmcmFtZSA9IG51bGwsIGRvQ2xpY2sgPSBmYWxzZSkge1xyXG4gICAgICAgIGNvbnN0IHJheUhpdCA9IHRoaXMucmF5Q2FzdE1vZGUgPT0gMFxyXG4gICAgICAgICAgICA/IHRoaXMuZW5naW5lLnNjZW5lLnJheUNhc3QodGhpcy5fb3JpZ2luLCB0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX2NvbGxpc2lvbk1hc2spXHJcbiAgICAgICAgICAgIDogdGhpcy5lbmdpbmUucGh5c2ljcy5yYXlDYXN0KHRoaXMuX29yaWdpbiwgdGhpcy5fZGlyZWN0aW9uLCB0aGlzLl9jb2xsaXNpb25NYXNrLCB0aGlzLm1heERpc3RhbmNlKTtcclxuICAgICAgICBsZXQgaGl0UmVzdWx0RGlzdGFuY2UgPSBJbmZpbml0eTtcclxuICAgICAgICBsZXQgaGl0VGVzdFJlc3VsdCA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hpdFRlc3RMb2NhdGlvbj8udmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9oaXRUZXN0T2JqZWN0LmdldFBvc2l0aW9uV29ybGQodGhpcy5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICBoaXRSZXN1bHREaXN0YW5jZSA9IHZlYzMuZGlzdGFuY2UodGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZCh0ZW1wVmVjKSwgdGhpcy5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICBoaXRUZXN0UmVzdWx0ID0gdGhpcy5faGl0VGVzdExvY2F0aW9uPy5nZXRIaXRUZXN0UmVzdWx0cyhmcmFtZSlbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBob3ZlcmluZ1JlYWxpdHkgPSBmYWxzZTtcclxuICAgICAgICBpZiAocmF5SGl0LmhpdENvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBkID0gcmF5SGl0LmRpc3RhbmNlc1swXTtcclxuICAgICAgICAgICAgaWYgKGhpdFJlc3VsdERpc3RhbmNlID49IGQpIHtcclxuICAgICAgICAgICAgICAgIC8qIE92ZXJyaWRlIGN1cnNvclBvcyBzZXQgYnkgaGl0IHRlc3QgbG9jYXRpb24gKi9cclxuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yUG9zLnNldChyYXlIaXQubG9jYXRpb25zWzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhvdmVyaW5nUmVhbGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaGl0UmVzdWx0RGlzdGFuY2UgPCBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICAvKiBjdXJzb3JQb3MgYWxyZWFkeSBzZXQgKi9cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUG9zLmZpbGwoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChob3ZlcmluZ1JlYWxpdHkgJiYgIXRoaXMuaG92ZXJpbmdSZWFsaXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGl0VGVzdFRhcmdldC5vbkhvdmVyLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIWhvdmVyaW5nUmVhbGl0eSAmJiB0aGlzLmhvdmVyaW5nUmVhbGl0eSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpdFRlc3RUYXJnZXQub25VbmhvdmVyLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ob3ZlcmluZ1JlYWxpdHkgPSBob3ZlcmluZ1JlYWxpdHk7XHJcbiAgICAgICAgdGhpcy5ob3ZlckJlaGF2aW91cihyYXlIaXQsIGhpdFRlc3RSZXN1bHQsIGRvQ2xpY2ssIG9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgIHJldHVybiByYXlIaXQ7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5pbnQoMSlcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJjb2xsaXNpb25Hcm91cFwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5Lm9iamVjdCgpXHJcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwiY3Vyc29yUmF5T2JqZWN0XCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuZW51bShbJ3gnLCAneScsICd6JywgJ25vbmUnXSwgJ3onKVxyXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcImN1cnNvclJheVNjYWxpbmdBeGlzXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkub2JqZWN0KClcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJjdXJzb3JPYmplY3RcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5lbnVtKFsnaW5wdXQgY29tcG9uZW50JywgJ2xlZnQnLCAncmlnaHQnLCAnbm9uZSddLCAnaW5wdXQgY29tcG9uZW50JylcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJoYW5kZWRuZXNzXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuZW51bShbJ2NvbGxpc2lvbicsICdwaHlzeCddLCAnY29sbGlzaW9uJylcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJyYXlDYXN0TW9kZVwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmZsb2F0KDEwMClcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJtYXhEaXN0YW5jZVwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmJvb2wodHJ1ZSlcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJzdHlsZUN1cnNvclwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmJvb2woZmFsc2UpXHJcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwidXNlV2ViWFJIaXRUZXN0XCIsIHZvaWQgMCk7XHJcbmV4cG9ydCB7IEN1cnNvciB9O1xyXG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcbmltcG9ydCB7IHF1YXQyIH0gZnJvbSAnZ2wtbWF0cml4JztcclxuLyoqXHJcbiAqIFByaW50cyBzb21lIGxpbWl0ZWQgZGVidWcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdC5cclxuICpcclxuICogSW5mb3JtYXRpb24gY29uc2lzdHMgb2Y6IFRoaXMgb2JqZWN0J3MgbmFtZSwgYW4gb2JqZWN0IHBhcmFtZXRlcidzIG5hbWUsXHJcbiAqIHRoZSBvYmplY3QncyB3b3JsZCB0cmFuc2xhdGlvbiwgd29ybGQgdHJhbnNmb3JtIGFuZCBsb2NhbCB0cmFuc2Zvcm0uXHJcbiAqXHJcbiAqIE1haW5seSB1c2VkIGJ5IGVuZ2luZSBkZXZlbG9wZXJzIGZvciBkZWJ1ZyBwdXJwb3NlcyBvciBhcyBleGFtcGxlIGNvZGUuXHJcbiAqL1xyXG5jbGFzcyBEZWJ1Z09iamVjdCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZGVidWctb2JqZWN0JztcclxuICAgIC8qKiBBIHNlY29uZCBvYmplY3QgdG8gcHJpbnQgdGhlIG5hbWUgb2YgKi9cclxuICAgIG9iaiA9IG51bGw7XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBsZXQgb3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICBxdWF0Mi5nZXRUcmFuc2xhdGlvbihvcmlnaW4sIHRoaXMub2JqZWN0LnRyYW5zZm9ybVdvcmxkKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRGVidWcgb2JqZWN0OicsIHRoaXMub2JqZWN0Lm5hbWUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdPdGhlciBvYmplY3Q6JywgdGhpcy5vYmo/Lm5hbWUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdcXHR0cmFuc2xhdGlvbicsIG9yaWdpbik7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1xcdHRyYW5zZm9ybVdvcmxkJywgdGhpcy5vYmplY3QudHJhbnNmb3JtV29ybGQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdcXHR0cmFuc2Zvcm1Mb2NhbCcsIHRoaXMub2JqZWN0LnRyYW5zZm9ybUxvY2FsKTtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5Lm9iamVjdCgpXHJcbl0sIERlYnVnT2JqZWN0LnByb3RvdHlwZSwgXCJvYmpcIiwgdm9pZCAwKTtcclxuZXhwb3J0IHsgRGVidWdPYmplY3QgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbi8qKlxyXG4gKiBGdW5jdGlvbiB0byBjb252ZXJ0IGEgRXVsZXIgaW4gWVhaIG9yZGVyIHRvIGEgcXVhdGVybmlvblxyXG4gKi9cclxuZnVuY3Rpb24gcXVhdEZyb21FdWxlcllYWihvdXQsIHgsIHksIHopIHtcclxuICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoeCAvIDIpO1xyXG4gICAgY29uc3QgYzIgPSBNYXRoLmNvcyh5IC8gMik7XHJcbiAgICBjb25zdCBjMyA9IE1hdGguY29zKHogLyAyKTtcclxuICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oeCAvIDIpO1xyXG4gICAgY29uc3QgczIgPSBNYXRoLnNpbih5IC8gMik7XHJcbiAgICBjb25zdCBzMyA9IE1hdGguc2luKHogLyAyKTtcclxuICAgIG91dFswXSA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMztcclxuICAgIG91dFsxXSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcclxuICAgIG91dFsyXSA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMztcclxuICAgIG91dFszXSA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcclxufVxyXG4vKipcclxuICogUmV0cmlldmUgZGV2aWNlIG9yaWVudGF0aW9uIGZyb20gYSBtb2JpbGUgZGV2aWNlIGFuZCBzZXQgdGhlIG9iamVjdCdzXHJcbiAqIG9yaWVudGF0aW9uIGFjY29yZGluZ2x5LlxyXG4gKlxyXG4gKiBVc2VmdWwgZm9yIG1hZ2ljIHdpbmRvdyBleHBlcmllbmNlcy5cclxuICovXHJcbmNsYXNzIERldmljZU9yaWVudGF0aW9uTG9vayBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZGV2aWNlLW9yaWVudGF0aW9uLWxvb2snO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7fTtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMucm90YXRpb25YID0gMDtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uWSA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0Q2xpZW50WCA9IC0xO1xyXG4gICAgICAgIHRoaXMubGFzdENsaWVudFkgPSAtMTtcclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgLyogSW5pdGlhbGl6ZSBkZXZpY2Ugb3JpZW50YXRpb24gd2l0aCBJZGVudGl0eSBRdWF0ZXJuaW9uICovXHJcbiAgICAgICAgdGhpcy5kZXZpY2VPcmllbnRhdGlvbiA9IFswLCAwLCAwLCAxXTtcclxuICAgICAgICB0aGlzLnNjcmVlbk9yaWVudGF0aW9uID0gd2luZG93LmlubmVySGVpZ2h0ID4gd2luZG93LmlubmVyV2lkdGggPyAwIDogOTA7XHJcbiAgICAgICAgdGhpcy5fb3JpZ2luID0gWzAsIDAsIDBdO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VvcmllbnRhdGlvbicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGxldCBhbHBoYSA9IGUuYWxwaGEgfHwgMDtcclxuICAgICAgICAgICAgbGV0IGJldGEgPSBlLmJldGEgfHwgMDtcclxuICAgICAgICAgICAgbGV0IGdhbW1hID0gZS5nYW1tYSB8fCAwO1xyXG4gICAgICAgICAgICBjb25zdCB0b1JhZCA9IE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgIHF1YXRGcm9tRXVsZXJZWFoodGhpcy5kZXZpY2VPcmllbnRhdGlvbiwgYmV0YSAqIHRvUmFkLCBhbHBoYSAqIHRvUmFkLCAtZ2FtbWEgKiB0b1JhZCk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjcmVlbk9yaWVudGF0aW9uID0gd2luZG93Lm9yaWVudGF0aW9uIHx8IDA7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgLyogRG9uJ3QgdXNlIGRldmljZSBvcmllbnRhdGlvbiBpbiBWUiAqL1xyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZS54cilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uTG9jYWwodGhpcy5fb3JpZ2luKTtcclxuICAgICAgICB0aGlzLm9iamVjdC5yZXNldFRyYW5zZm9ybSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnNjcmVlbk9yaWVudGF0aW9uICE9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3Qucm90YXRlQXhpc0FuZ2xlRGVnKFswLCAwLCAtMV0sIHRoaXMuc2NyZWVuT3JpZW50YXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGUoWy1NYXRoLnNxcnQoMC41KSwgMCwgMCwgTWF0aC5zcXJ0KDAuNSldKTtcclxuICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGUodGhpcy5kZXZpY2VPcmllbnRhdGlvbik7XHJcbiAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlKHRoaXMuX29yaWdpbik7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgRGV2aWNlT3JpZW50YXRpb25Mb29rIH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4vKipcclxuICogRW5hYmxlcyBpbnRlcmFjdGlvbiB3aXRoIGN1cnNvci10YXJnZXRzIHRocm91Z2ggY29sbGlzaW9uIG92ZXJsYXBzLFxyXG4gKiBlLmcuIG9uIHRoZSB0aXAgb2YgYSBmaW5nZXIgb24gYSB0cmFja2VkIGhhbmQuXHJcbiAqXHJcbiAqICoqUmVxdWlyZW1lbnRzOioqXHJcbiAqICAtIEEgY29sbGlzaW9uIGNvbXBvbmVudCAodXN1YWxseSBhIHNwaGVyZSB3aXRoIGAwLjA1YCByYWRpdXMpIG9uIHRoZSBzYW1lIG9iamVjdFxyXG4gKlxyXG4gKiBAc2luY2UgMC44LjVcclxuICovXHJcbmNsYXNzIEZpbmdlckN1cnNvciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZmluZ2VyLWN1cnNvcic7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHt9O1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmxhc3RUYXJnZXQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy50aXAgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2NvbGxpc2lvbicpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXBzID0gdGhpcy50aXAucXVlcnlPdmVybGFwcygpO1xyXG4gICAgICAgIGxldCBvdmVybGFwRm91bmQgPSBudWxsO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3ZlcmxhcHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgbyA9IG92ZXJsYXBzW2ldLm9iamVjdDtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gby5nZXRDb21wb25lbnQoJ2N1cnNvci10YXJnZXQnKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQuZXF1YWxzKHRoaXMubGFzdFRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQub25Ib3ZlcihvLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQub25DbGljayhvLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG92ZXJsYXBGb3VuZCA9IHRhcmdldDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghb3ZlcmxhcEZvdW5kKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RUYXJnZXQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXQub25VbmhvdmVyKHRoaXMubGFzdFRhcmdldC5vYmplY3QsIHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXQgPSBudWxsO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXQgPSBvdmVybGFwRm91bmQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IEZpbmdlckN1cnNvciB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuLyoqXHJcbiAqIEFwcGxpZXMgW2ZpeGVkIGZvdmVhdGlvbl0oaHR0cHM6Ly93d3cudzMub3JnL1RSL3dlYnhybGF5ZXJzLTEvI2RvbS14cmNvbXBvc2l0aW9ubGF5ZXItZml4ZWRmb3ZlYXRpb24pXHJcbiAqIG9uY2UgYSBXZWJYUiBzZXNzaW9uIGlzIHN0YXJ0ZWRcclxuICpcclxuICogRml4ZWQgZm92ZWF0aW9uIHJlZHVjZXMgc2hhZGluZyBjb3N0IGF0IHRoZSBwZXJpcGhlcnkgYnkgcmVuZGVyaW5nIGF0IGxvd2VyIHJlc29sdXRpb25zIGF0IHRoZVxyXG4gKiBlZGdlcyBvZiB0aGUgdXNlcnMgdmlzaW9uLlxyXG4gKi9cclxuY2xhc3MgRml4ZWRGb3ZlYXRpb24gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2ZpeGVkLWZvdmVhdGlvbic7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogQW1vdW50IHRvIGFwcGx5IGZyb20gMCAobm9uZSkgdG8gMSAoZnVsbCkgKi9cclxuICAgICAgICBmaXhlZEZvdmVhdGlvbjogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjUgfSxcclxuICAgIH07XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLnNldEZpeGVkRm92ZWF0aW9uLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBvbkRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIHNldEZpeGVkRm92ZWF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLnhyLmJhc2VMYXllci5maXhlZEZvdmVhdGlvbiA9IHRoaXMuZml4ZWRGb3ZlYXRpb247XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgRml4ZWRGb3ZlYXRpb24gfTtcclxuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbmltcG9ydCB7IENvbXBvbmVudCwgTWVzaENvbXBvbmVudCwgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuaW1wb3J0IHsgdmVjMywgcXVhdCB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbmltcG9ydCB7IHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCB9IGZyb20gJy4vdXRpbHMvd2VieHIuanMnO1xyXG5jb25zdCBPUkRFUkVEX0pPSU5UUyA9IFtcclxuICAgICd3cmlzdCcsXHJcbiAgICAndGh1bWItbWV0YWNhcnBhbCcsXHJcbiAgICAndGh1bWItcGhhbGFueC1wcm94aW1hbCcsXHJcbiAgICAndGh1bWItcGhhbGFueC1kaXN0YWwnLFxyXG4gICAgJ3RodW1iLXRpcCcsXHJcbiAgICAnaW5kZXgtZmluZ2VyLW1ldGFjYXJwYWwnLFxyXG4gICAgJ2luZGV4LWZpbmdlci1waGFsYW54LXByb3hpbWFsJyxcclxuICAgICdpbmRleC1maW5nZXItcGhhbGFueC1pbnRlcm1lZGlhdGUnLFxyXG4gICAgJ2luZGV4LWZpbmdlci1waGFsYW54LWRpc3RhbCcsXHJcbiAgICAnaW5kZXgtZmluZ2VyLXRpcCcsXHJcbiAgICAnbWlkZGxlLWZpbmdlci1tZXRhY2FycGFsJyxcclxuICAgICdtaWRkbGUtZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxyXG4gICAgJ21pZGRsZS1maW5nZXItcGhhbGFueC1pbnRlcm1lZGlhdGUnLFxyXG4gICAgJ21pZGRsZS1maW5nZXItcGhhbGFueC1kaXN0YWwnLFxyXG4gICAgJ21pZGRsZS1maW5nZXItdGlwJyxcclxuICAgICdyaW5nLWZpbmdlci1tZXRhY2FycGFsJyxcclxuICAgICdyaW5nLWZpbmdlci1waGFsYW54LXByb3hpbWFsJyxcclxuICAgICdyaW5nLWZpbmdlci1waGFsYW54LWludGVybWVkaWF0ZScsXHJcbiAgICAncmluZy1maW5nZXItcGhhbGFueC1kaXN0YWwnLFxyXG4gICAgJ3JpbmctZmluZ2VyLXRpcCcsXHJcbiAgICAncGlua3ktZmluZ2VyLW1ldGFjYXJwYWwnLFxyXG4gICAgJ3Bpbmt5LWZpbmdlci1waGFsYW54LXByb3hpbWFsJyxcclxuICAgICdwaW5reS1maW5nZXItcGhhbGFueC1pbnRlcm1lZGlhdGUnLFxyXG4gICAgJ3Bpbmt5LWZpbmdlci1waGFsYW54LWRpc3RhbCcsXHJcbiAgICAncGlua3ktZmluZ2VyLXRpcCcsXHJcbl07XHJcbmNvbnN0IGludlRyYW5zbGF0aW9uID0gdmVjMy5jcmVhdGUoKTtcclxuY29uc3QgaW52Um90YXRpb24gPSBxdWF0LmNyZWF0ZSgpO1xyXG5jb25zdCB0ZW1wVmVjMCA9IHZlYzMuY3JlYXRlKCk7XHJcbmNvbnN0IHRlbXBWZWMxID0gdmVjMy5jcmVhdGUoKTtcclxuLyoqXHJcbiAqIEVhc3kgaGFuZCB0cmFja2luZyB0aHJvdWdoIHRoZSBXZWJYUiBEZXZpY2UgQVBJXHJcbiAqIFtcIkhhbmQgSW5wdXRcIiBBUEldKGh0dHBzOi8vaW1tZXJzaXZlLXdlYi5naXRodWIuaW8vd2VieHItaGFuZC1pbnB1dC8pLlxyXG4gKlxyXG4gKiBBbGxvd3MgZGlzcGxheWluZyBoYW5kcyBlaXRoZXIgYXMgc3BoZXJlLWpvaW50cyBvciBza2lubmVkIG1lc2guXHJcbiAqXHJcbiAqIFRvIHJlYWN0IHRvIGdyYWJiaW5nLCB1c2UgYHRoaXMuaXNHcmFiYmluZygpYC4gRm9yIG90aGVyIGdlc3R1cmVzLCByZWZlclxyXG4gKiB0byBgdGhpcy5qb2ludHNgIC0gYW4gYXJyYXkgb2YgW1dMLk9iamVjdF0oL2pzYXBpL29iamVjdCkgYW5kIHVzZSB0aGUgam9pbnRcclxuICogaW5kaWNlcyBsaXN0ZWQgW2luIHRoZSBXZWJYUiBIYW5kIElucHV0IHNwZWNpZmljYXRpb25dKGh0dHBzOi8vaW1tZXJzaXZlLXdlYi5naXRodWIuaW8vd2VieHItaGFuZC1pbnB1dC8jc2tlbGV0b24tam9pbnRzLXNlY3Rpb24pLlxyXG4gKlxyXG4gKiBJdCBpcyBvZnRlbiBkZXNpcmVkIHRvIHVzZSBlaXRoZXIgaGFuZCB0cmFja2luZyBvciBjb250cm9sbGVycywgbm90IGJvdGguXHJcbiAqIFRoaXMgY29tcG9uZW50IHByb3ZpZGVzIGBkZWFjdGl2YXRlQ2hpbGRyZW5XaXRob3V0UG9zZWAgdG8gaGlkZSB0aGUgaGFuZFxyXG4gKiB0cmFja2luZyB2aXN1YWxpemF0aW9uIGlmIG5vIHBvc2UgaXMgYXZhaWxhYmxlIGFuZCBgY29udHJvbGxlclRvRGVhY3RpdmF0ZWBcclxuICogZm9yIGRpc2FibGluZyBhbm90aGVyIG9iamVjdCBvbmNlIGEgaGFuZCB0cmFja2luZyBwb3NlICppcyogYXZhaWxhYmxlLlxyXG4gKiBPdXRzaWRlIG9mIFhSIHNlc3Npb25zLCB0cmFja2luZyBvciBjb250cm9sbGVycyBhcmUgbmVpdGhlciBlbmFibGVkIG5vciBkaXNhYmxlZFxyXG4gKiB0byBwbGF5IHdlbGwgd2l0aCB0aGUgW3ZyLW1vZGUtYWN0aXZlLXN3aXRjaF0oI3ZyLW1vZGUtYWN0aXZlLXN3aXRjaCkgY29tcG9uZW50LlxyXG4gKlxyXG4gKiAqKlJlcXVpcmVtZW50czoqKlxyXG4gKiAgLSBUbyB1c2UgaGFuZC10cmFja2luZywgZW5hYmxlIFwiam9pbnQgdHJhY2tpbmdcIiBpbiBgY2hyb21lOi8vZmxhZ3NgIG9uXHJcbiAqICAgIE9jdWx1cyBCcm93c2VyIGZvciBPY3VsdXMgUXVlc3QvT2N1bHVzIFF1ZXN0IDIuXHJcbiAqXHJcbiAqIFNlZSBbSGFuZCBUcmFja2luZyBFeGFtcGxlXSgvc2hvd2Nhc2UvaGFuZC10cmFja2luZykuXHJcbiAqL1xyXG5jbGFzcyBIYW5kVHJhY2tpbmcgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2hhbmQtdHJhY2tpbmcnO1xyXG4gICAgLyoqIEhhbmRlZG5lc3MgZGV0ZXJtaW5pbmcgd2hldGhlciB0byByZWNlaXZlIHRyYWNraW5nIGlucHV0IGZyb20gcmlnaHQgb3IgbGVmdCBoYW5kICovXHJcbiAgICBoYW5kZWRuZXNzID0gMDtcclxuICAgIC8qKiAob3B0aW9uYWwpIE1lc2ggdG8gdXNlIHRvIHZpc3VhbGl6ZSBqb2ludHMgKi9cclxuICAgIGpvaW50TWVzaCA9IG51bGw7XHJcbiAgICAvKiogTWF0ZXJpYWwgdG8gdXNlIGZvciBkaXNwbGF5LiBBcHBsaWVkIHRvIGVpdGhlciB0aGUgc3Bhd25lZCBza2lubmVkIG1lc2ggb3IgdGhlIGpvaW50IHNwaGVyZXMuICovXHJcbiAgICBqb2ludE1hdGVyaWFsID0gbnVsbDtcclxuICAgIC8qKiAob3B0aW9uYWwpIFNraW4gdG8gYXBwbHkgdHJhY2tlZCBqb2ludCBwb3NlcyB0by4gSWYgbm90IHByZXNlbnQsXHJcbiAgICAgKiBqb2ludCBzcGhlcmVzIHdpbGwgYmUgdXNlZCBmb3IgZGlzcGxheSBpbnN0ZWFkLiAqL1xyXG4gICAgaGFuZFNraW4gPSBudWxsO1xyXG4gICAgLyoqIERlYWN0aXZhdGUgY2hpbGRyZW4gaWYgbm8gcG9zZSB3YXMgdHJhY2tlZCAqL1xyXG4gICAgZGVhY3RpdmF0ZUNoaWxkcmVuV2l0aG91dFBvc2UgPSB0cnVlO1xyXG4gICAgLyoqIENvbnRyb2xsZXIgb2JqZWN0cyB0byBhY3RpdmF0ZSBpbmNsdWRpbmcgY2hpbGRyZW4gaWYgbm8gcG9zZSBpcyBhdmFpbGFibGUgKi9cclxuICAgIGNvbnRyb2xsZXJUb0RlYWN0aXZhdGUgPSBudWxsO1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmhhbmRlZG5lc3MgPSBbJ2xlZnQnLCAncmlnaHQnXVt0aGlzLmhhbmRlZG5lc3NdO1xyXG4gICAgfVxyXG4gICAgam9pbnRzID0ge307XHJcbiAgICBzZXNzaW9uID0gbnVsbDtcclxuICAgIC8qIFdoZXRoZXIgbGFzdCB1cGRhdGUgaGFkIGEgaGFuZCBwb3NlICovXHJcbiAgICBoYXNQb3NlID0gZmFsc2U7XHJcbiAgICBfY2hpbGRyZW5BY3RpdmUgPSB0cnVlO1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgaWYgKCEoJ1hSSGFuZCcgaW4gd2luZG93KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dlYlhSIEhhbmQgVHJhY2tpbmcgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaGFuZFNraW4pIHtcclxuICAgICAgICAgICAgY29uc3Qgc2tpbiA9IHRoaXMuaGFuZFNraW47XHJcbiAgICAgICAgICAgIGNvbnN0IGpvaW50SWRzID0gc2tpbi5qb2ludElkcztcclxuICAgICAgICAgICAgLyogTWFwIHRoZSB3cmlzdCAqL1xyXG4gICAgICAgICAgICB0aGlzLmpvaW50c1tPUkRFUkVEX0pPSU5UU1swXV0gPSB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGpvaW50SWRzWzBdKTtcclxuICAgICAgICAgICAgLyogSW5kZXggaW4gT1JERVJFRF9KT0lOVFMgdGhhdCB3ZSBhcmUgbWFwcGluZyB0byBvdXIgam9pbnRzICovXHJcbiAgICAgICAgICAgIC8qIFNraXAgdGh1bWIwIGpvaW50LCBzdGFydCBhdCB0aHVtYjEgKi9cclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBqb2ludElkcy5sZW5ndGg7ICsraikge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgam9pbnQgPSB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGpvaW50SWRzW2pdKTtcclxuICAgICAgICAgICAgICAgIC8qIHRpcCBqb2ludHMgYXJlIG9ubHkgbmVlZGVkIGZvciBqb2ludCByZW5kZXJpbmcsIHNvIHdlIHNraXAgdGhvc2Ugd2hpbGUgbWFwcGluZyAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5qb2ludHNbam9pbnQubmFtZV0gPSBqb2ludDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBJZiB3ZSBoYXZlIGEgaGFuZCBza2luLCBubyBuZWVkIHRvIHNwYXduIHRoZSBqb2ludHMtYmFzZWQgb25lICovXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogU3Bhd24gam9pbnRzICovXHJcbiAgICAgICAgY29uc3Qgam9pbnRPYmplY3RzID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0cyhPUkRFUkVEX0pPSU5UUy5sZW5ndGgsIHRoaXMub2JqZWN0LCBPUkRFUkVEX0pPSU5UUy5sZW5ndGgpO1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgT1JERVJFRF9KT0lOVFMubGVuZ3RoOyArK2opIHtcclxuICAgICAgICAgICAgY29uc3Qgam9pbnQgPSBqb2ludE9iamVjdHNbal07XHJcbiAgICAgICAgICAgIGpvaW50LmFkZENvbXBvbmVudChNZXNoQ29tcG9uZW50LCB7XHJcbiAgICAgICAgICAgICAgICBtZXNoOiB0aGlzLmpvaW50TWVzaCxcclxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOiB0aGlzLmpvaW50TWF0ZXJpYWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmpvaW50c1tPUkRFUkVEX0pPSU5UU1tqXV0gPSBqb2ludDtcclxuICAgICAgICAgICAgam9pbnQubmFtZSA9IE9SREVSRURfSk9JTlRTW2pdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGlmICghdGhpcy5lbmdpbmUueHIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLmhhc1Bvc2UgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5pbnB1dFNvdXJjZXMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLmlucHV0U291cmNlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXRTb3VyY2UgPSB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLmlucHV0U291cmNlc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmICghaW5wdXRTb3VyY2U/LmhhbmQgfHwgaW5wdXRTb3VyY2U/LmhhbmRlZG5lc3MgIT0gdGhpcy5oYW5kZWRuZXNzKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd3Jpc3RTcGFjZSA9IGlucHV0U291cmNlLmhhbmQuZ2V0KCd3cmlzdCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHdyaXN0U3BhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5lbmdpbmUueHIuZnJhbWUuZ2V0Sm9pbnRQb3NlKHdyaXN0U3BhY2UsIHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsKHRoaXMub2JqZWN0LCBwLnRyYW5zZm9ybSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0Um90YXRpb25Mb2NhbChpbnZSb3RhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBxdWF0LmNvbmp1Z2F0ZShpbnZSb3RhdGlvbiwgaW52Um90YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Mb2NhbChpbnZUcmFuc2xhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAvKiBUaGVyZSBpcyBhIGJvbmUgJ3dyaXN0JywgYnV0IGl0IGp1c3Qgc2l0cyBvbiB0aGUgcm9vdFxyXG4gICAgICAgICAgICAgICAgICogb2JqZWN0LiBJdCBjb3VsZCBoYXZlIGFuIGluaXRpYWwgdHJhbnNmb3JtIHdlIHdhbnQgdG9cclxuICAgICAgICAgICAgICAgICAqIGNsZWFyIGZvciBza2lubmluZywgdGhvdWdoLiAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5qb2ludHNbJ3dyaXN0J10ucmVzZXRUcmFuc2Zvcm0oKTtcclxuICAgICAgICAgICAgICAgIC8qIFdyaXN0IGlzIGFscmVhZHkgaGFuZGxlZCwgc28gc3RhcnQgYXQgMSAqL1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBPUkRFUkVEX0pPSU5UUy5sZW5ndGg7ICsraikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50TmFtZSA9IE9SREVSRURfSk9JTlRTW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50ID0gdGhpcy5qb2ludHNbam9pbnROYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWpvaW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgam9pbnRQb3NlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBqb2ludFNwYWNlID0gaW5wdXRTb3VyY2UuaGFuZC5nZXQoam9pbnROYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoam9pbnRTcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5nZXRKb2ludFBvc2Uoam9pbnRTcGFjZSwgdGhpcy5lbmdpbmUueHIuY3VycmVudFJlZmVyZW5jZVNwYWNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpvaW50UG9zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc1Bvc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqb2ludC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgam9pbnQudHJhbnNsYXRlTG9jYWwoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5wb3NpdGlvbi54IC0gaW52VHJhbnNsYXRpb25bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLnBvc2l0aW9uLnkgLSBpbnZUcmFuc2xhdGlvblsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ucG9zaXRpb24ueiAtIGludlRyYW5zbGF0aW9uWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgam9pbnQucm90YXRlTG9jYWwoaW52Um90YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqb2ludC5yb3RhdGVPYmplY3QoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5vcmllbnRhdGlvbi54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5vcmllbnRhdGlvbi55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5vcmllbnRhdGlvbi56LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5vcmllbnRhdGlvbi53LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhbmRTa2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBMYXN0IGpvaW50IHJhZGl1cyBvZiBlYWNoIGZpbmdlciBpcyBudWxsICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gam9pbnRQb3NlLnJhZGl1cyB8fCAwLjAwNztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50LnNldFNjYWxpbmdMb2NhbChbciwgciwgcl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5oYXNQb3NlICYmIHRoaXMuX2NoaWxkcmVuQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYWN0aXZhdGVDaGlsZHJlbldpdGhvdXRQb3NlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuQWN0aXZlKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5BY3RpdmUodHJ1ZSwgdGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmhhc1Bvc2UgJiYgIXRoaXMuX2NoaWxkcmVuQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGVhY3RpdmF0ZUNoaWxkcmVuV2l0aG91dFBvc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5BY3RpdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlclRvRGVhY3RpdmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlbkFjdGl2ZShmYWxzZSwgdGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldENoaWxkcmVuQWN0aXZlKGFjdGl2ZSwgb2JqZWN0KSB7XHJcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0IHx8IHRoaXMub2JqZWN0O1xyXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gb2JqZWN0LmNoaWxkcmVuO1xyXG4gICAgICAgIGZvciAoY29uc3QgbyBvZiBjaGlsZHJlbikge1xyXG4gICAgICAgICAgICBvLmFjdGl2ZSA9IGFjdGl2ZTtcclxuICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlbkFjdGl2ZShhY3RpdmUsIG8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlzR3JhYmJpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5qb2ludHNbJ2luZGV4LWZpbmdlci10aXAnXS5nZXRQb3NpdGlvbkxvY2FsKHRlbXBWZWMwKTtcclxuICAgICAgICB0aGlzLmpvaW50c1sndGh1bWItdGlwJ10uZ2V0UG9zaXRpb25Mb2NhbCh0ZW1wVmVjMSk7XHJcbiAgICAgICAgcmV0dXJuIHZlYzMuc3FyRGlzdCh0ZW1wVmVjMCwgdGVtcFZlYzEpIDwgMC4wMDE7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5lbnVtKFsnbGVmdCcsICdyaWdodCddKVxyXG5dLCBIYW5kVHJhY2tpbmcucHJvdG90eXBlLCBcImhhbmRlZG5lc3NcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5tZXNoKClcclxuXSwgSGFuZFRyYWNraW5nLnByb3RvdHlwZSwgXCJqb2ludE1lc2hcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5tYXRlcmlhbCgpXHJcbl0sIEhhbmRUcmFja2luZy5wcm90b3R5cGUsIFwiam9pbnRNYXRlcmlhbFwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LnNraW4oKVxyXG5dLCBIYW5kVHJhY2tpbmcucHJvdG90eXBlLCBcImhhbmRTa2luXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuYm9vbCh0cnVlKVxyXG5dLCBIYW5kVHJhY2tpbmcucHJvdG90eXBlLCBcImRlYWN0aXZhdGVDaGlsZHJlbldpdGhvdXRQb3NlXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkub2JqZWN0KClcclxuXSwgSGFuZFRyYWNraW5nLnByb3RvdHlwZSwgXCJjb250cm9sbGVyVG9EZWFjdGl2YXRlXCIsIHZvaWQgMCk7XHJcbmV4cG9ydCB7IEhhbmRUcmFja2luZyB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0ICdob3dsZXInO1xyXG4vKipcclxuICogKFNwYXRpYWwpIGF1ZGlvIGxpc3RlbmVyIGJhc2VkIG9uIFtIb3dsZXIuanNdKGh0dHBzOi8vaG93bGVyanMuY29tLykuXHJcbiAqXHJcbiAqIFJldHJpZXZlcyB0aGUgbG9jYXRpb24gYW5kIG9yaWVudGF0aW9uIG9mIHRoZSBvYmplY3QgYW5kIHBhc3NlcyBpdFxyXG4gKiB0byBbSG93bGVyLnBvcygpXShodHRwczovL2dpdGh1Yi5jb20vZ29sZGZpcmUvaG93bGVyLmpzI3Bvc3gteS16LWlkKVxyXG4gKiBhbmQgW0hvd2xlci5vcmllbnRhdGlvbigpXShodHRwczovL2dpdGh1Yi5jb20vZ29sZGZpcmUvaG93bGVyLmpzI29yaWVudGF0aW9ueC15LXotaWQpLlxyXG4gKi9cclxuY2xhc3MgSG93bGVyQXVkaW9MaXN0ZW5lciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaG93bGVyLWF1ZGlvLWxpc3RlbmVyJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBXaGV0aGVyIGF1ZGlvIHNob3VsZCBiZSBzcGF0aWFsaXplZC9wb3NpdGlvbmFsLiAqL1xyXG4gICAgICAgIHNwYXRpYWw6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiB0cnVlIH0sXHJcbiAgICB9O1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLm9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5md2QgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMudXAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zcGF0aWFsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLm9yaWdpbik7XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0Rm9yd2FyZCh0aGlzLmZ3ZCk7XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VXAodGhpcy51cCk7XHJcbiAgICAgICAgSG93bGVyLnBvcyh0aGlzLm9yaWdpblswXSwgdGhpcy5vcmlnaW5bMV0sIHRoaXMub3JpZ2luWzJdKTtcclxuICAgICAgICBIb3dsZXIub3JpZW50YXRpb24odGhpcy5md2RbMF0sIHRoaXMuZndkWzFdLCB0aGlzLmZ3ZFsyXSwgdGhpcy51cFswXSwgdGhpcy51cFsxXSwgdGhpcy51cFsyXSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgSG93bGVyQXVkaW9MaXN0ZW5lciB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0ICdob3dsZXInO1xyXG4vKipcclxuICogKFNwYXRpYWwpIGF1ZGlvIHNvdXJjZSBiYXNlZCBvbiBbSG93bGVyLmpzXShodHRwczovL2hvd2xlcmpzLmNvbS8pLlxyXG4gKlxyXG4gKiBDcmVhdGVzIGEgSG93bGVyIGF1ZGlvIHNvdXJjZSwgcGxheXMgYW4gYXVkaW8gZmlsZSBvbiBpdCBhbmQgdXBkYXRlc1xyXG4gKiBpdHMgcG9zaXRpb24uXHJcbiAqXHJcbiAqIE9wdGltaXplcyB0aGUgcG9zaXRpb24gdXBkYXRlIHRvIG9ubHkgdXBkYXRlIGlmIHRoZSBkaWZmZXJlbmNlIHRvIGxhc3RcclxuICogcG9zaXRpb24gaXMgbGFyZ2VyIHRoYW4gaGFsZiBhIGNlbnRpbWV0ZXIuIFRvIGZvcmNlIHVwZGF0ZXMgKGUuZy4gaWZcclxuICogdGhlIHNvdW5kIHNvdXJjZSBpcyBfdmVyeV8gY2xvc2UgdG8gdGhlIGxpc3RlbmVyKSxcclxuICogdXNlIGAudXBkYXRlUG9zaXRpb24oKWAuXHJcbiAqL1xyXG5jbGFzcyBIb3dsZXJBdWRpb1NvdXJjZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaG93bGVyLWF1ZGlvLXNvdXJjZSc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogVm9sdW1lICovXHJcbiAgICAgICAgdm9sdW1lOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDEuMCB9LFxyXG4gICAgICAgIC8qKiBXaGV0aGVyIGF1ZGlvIHNob3VsZCBiZSBzcGF0aWFsaXplZC9wb3NpdGlvbmFsICovXHJcbiAgICAgICAgc3BhdGlhbDogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IHRydWUgfSxcclxuICAgICAgICAvKiogV2hldGhlciB0byBsb29wIHRoZSBzb3VuZCAqL1xyXG4gICAgICAgIGxvb3A6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgICAgIC8qKiBXaGV0aGVyIHRvIHN0YXJ0IHBsYXlpbmcgYXV0b21hdGljYWxseSAqL1xyXG4gICAgICAgIGF1dG9wbGF5OiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgICAgICAvKiogVVJMIHRvIGEgc291bmQgZmlsZSB0byBwbGF5ICovXHJcbiAgICAgICAgc3JjOiB7IHR5cGU6IFR5cGUuU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxyXG4gICAgfTtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW8gPSBuZXcgSG93bCh7XHJcbiAgICAgICAgICAgIHNyYzogW3RoaXMuc3JjXSxcclxuICAgICAgICAgICAgbG9vcDogdGhpcy5sb29wLFxyXG4gICAgICAgICAgICB2b2x1bWU6IHRoaXMudm9sdW1lLFxyXG4gICAgICAgICAgICBhdXRvcGxheTogdGhpcy5hdXRvcGxheSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkID0gbnVsbDtcclxuICAgICAgICB0aGlzLm9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5sYXN0T3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICBpZiAodGhpcy5zcGF0aWFsICYmIHRoaXMuYXV0b3BsYXkpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNwYXRpYWwgfHwgIXRoaXMubGFzdFBsYXllZEF1ZGlvSWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMub3JpZ2luKTtcclxuICAgICAgICAvKiBPbmx5IGNhbGwgcG9zKCkgaWYgdGhlIHBvc2l0aW9uIG1vdmVkIG1vcmUgdGhhbiBoYWxmIGEgY2VudGltZXRlclxyXG4gICAgICAgICAqIG90aGVyd2lzZSB0aGlzIGdldHMgdmVyeSBwZXJmb3JtYW5jZSBoZWF2eS5cclxuICAgICAgICAgKiBTbWFsbGVyIG1vdmVtZW50IHNob3VsZCBvbmx5IGJlIHBlcmNlaXZhYmxlIGlmIGNsb3NlIHRvIHRoZVxyXG4gICAgICAgICAqIGVhciBhbnl3YXkuICovXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMubGFzdE9yaWdpblswXSAtIHRoaXMub3JpZ2luWzBdKSA+IDAuMDA1IHx8XHJcbiAgICAgICAgICAgIE1hdGguYWJzKHRoaXMubGFzdE9yaWdpblsxXSAtIHRoaXMub3JpZ2luWzFdKSA+IDAuMDA1IHx8XHJcbiAgICAgICAgICAgIE1hdGguYWJzKHRoaXMubGFzdE9yaWdpblsyXSAtIHRoaXMub3JpZ2luWzJdKSA+IDAuMDA1KSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGVQb3NpdGlvbigpIHtcclxuICAgICAgICB0aGlzLmF1ZGlvLnBvcyh0aGlzLm9yaWdpblswXSwgdGhpcy5vcmlnaW5bMV0sIHRoaXMub3JpZ2luWzJdLCB0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkKTtcclxuICAgICAgICB0aGlzLmxhc3RPcmlnaW4uc2V0KHRoaXMub3JpZ2luKTtcclxuICAgIH1cclxuICAgIHBsYXkoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubGFzdFBsYXllZEF1ZGlvSWQpXHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW8uc3RvcCh0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkKTtcclxuICAgICAgICB0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkID0gdGhpcy5hdWRpby5wbGF5KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc3BhdGlhbClcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xyXG4gICAgfVxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubGFzdFBsYXllZEF1ZGlvSWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLmF1ZGlvLnN0b3AodGhpcy5sYXN0UGxheWVkQXVkaW9JZCk7XHJcbiAgICAgICAgdGhpcy5sYXN0UGxheWVkQXVkaW9JZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBvbkRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgLyogU3RvcCBzb3VuZCB3aGVuIGNvbXBvbmVudCBpcyBkZWFjdGl2YXRlZCBvciBkZXN0cm95ZWQsIGUuZy5cclxuICAgICAgICAgKiB3aGVuIHN3aXRjaGluZyBzY2VuZXMgKi9cclxuICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBIb3dsZXJBdWRpb1NvdXJjZSB9O1xyXG4iLCAiLyoqXHJcbiAqIFNldCB0aGUgZGlmZnVzZS9mbGF0IHRleHR1cmUgb2Yga25vd24gcGlwZWxpbmVzLlxyXG4gKlxyXG4gKiBAcGFyYW0gbWF0IE1hdGVyaWFsIHRvIHNldCB0aGUgdGV4dHVyZSBvblxyXG4gKiBAcGFyYW0gdGV4dHVyZSBUZXh0dXJlIHRvIHNldFxyXG4gKiBAcGFyYW0gY3VzdG9tVGV4dHVyZVByb3BlcnR5IFRleHR1cmUgcHJvcGVydHkgdG8gc2V0IG9yIGAnYXV0bydgIHRvIGF1dG9tYXRpY2FsbHlcclxuICogICAgICBkZXRlY3QgdGhlIHJpZ2h0IHRleHR1cmUgcHJvcGVydHkgYmFzZWQgb24ga25vd24gcGlwZWxpbmUuXHJcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgd2FzIHNldCwgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Rmlyc3RNYXRlcmlhbFRleHR1cmUobWF0LCB0ZXh0dXJlLCBjdXN0b21UZXh0dXJlUHJvcGVydHkpIHtcclxuICAgIGlmIChjdXN0b21UZXh0dXJlUHJvcGVydHkgIT09ICdhdXRvJykge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBtYXRbY3VzdG9tVGV4dHVyZVByb3BlcnR5XSA9IHRleHR1cmU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzaGFkZXIgPSBtYXQuc2hhZGVyO1xyXG4gICAgaWYgKHNoYWRlciA9PT0gJ0ZsYXQgT3BhcXVlIFRleHR1cmVkJykge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBtYXQuZmxhdFRleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnUGhvbmcgT3BhcXVlIFRleHR1cmVkJyB8fFxyXG4gICAgICAgIHNoYWRlciA9PT0gJ0ZvbGlhZ2UnIHx8XHJcbiAgICAgICAgc2hhZGVyID09PSAnUGhvbmcgTm9ybWFsbWFwcGVkJyB8fFxyXG4gICAgICAgIHNoYWRlciA9PT0gJ1Bob25nIExpZ2h0bWFwcGVkJykge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBtYXQuZGlmZnVzZVRleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnUGFydGljbGUnKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG1hdC5tYWluVGV4dHVyZSA9IHRleHR1cmU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChzaGFkZXIgPT09ICdEaXN0YW5jZUZpZWxkVmVjdG9yJykge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBtYXQudmVjdG9yVGV4dHVyZSA9IHRleHR1cmU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChzaGFkZXIgPT09ICdCYWNrZ3JvdW5kJyB8fCBzaGFkZXIgPT09ICdTa3knKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG1hdC50ZXh0dXJlID0gdGV4dHVyZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHNoYWRlciA9PT0gJ1BoeXNpY2FsIE9wYXF1ZSBUZXh0dXJlZCcpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgbWF0LmFsYmVkb1RleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgc2V0Rmlyc3RNYXRlcmlhbFRleHR1cmUgfSBmcm9tICcuL3V0aWxzL3V0aWxzLmpzJztcclxuLyoqXHJcbiAqIERvd25sb2FkcyBhbiBpbWFnZSBmcm9tIFVSTCBhbmQgYXBwbGllcyBpdCBhcyBgZGlmZnVzZVRleHR1cmVgIG9yIGBmbGF0VGV4dHVyZWBcclxuICogdG8gYW4gYXR0YWNoZWQgbWVzaCBjb21wb25lbnQuXHJcbiAqXHJcbiAqIE1hdGVyaWFscyBmcm9tIHRoZSBmb2xsb3dpbmcgc2hhZGVycyBhcmUgc3VwcG9ydGVkOlxyXG4gKiAgLSBcIlBob25nIE9wYXF1ZSBUZXh0dXJlZFwiXHJcbiAqICAtIFwiRmxhdCBPcGFxdWUgVGV4dHVyZWRcIlxyXG4gKiAgLSBcIkJhY2tncm91bmRcIlxyXG4gKiAgLSBcIlBoeXNpY2FsIE9wYXF1ZSBUZXh0dXJlZFwiXHJcbiAqICAtIFwiRm9saWFnZVwiXHJcbiAqL1xyXG5jbGFzcyBJbWFnZVRleHR1cmUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2ltYWdlLXRleHR1cmUnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIFVSTCB0byBkb3dubG9hZCB0aGUgaW1hZ2UgZnJvbSAqL1xyXG4gICAgICAgIHVybDogUHJvcGVydHkuc3RyaW5nKCksXHJcbiAgICAgICAgLyoqIE1hdGVyaWFsIHRvIGFwcGx5IHRoZSB2aWRlbyB0ZXh0dXJlIHRvICovXHJcbiAgICAgICAgbWF0ZXJpYWw6IFByb3BlcnR5Lm1hdGVyaWFsKCksXHJcbiAgICAgICAgLyoqIE5hbWUgb2YgdGhlIHRleHR1cmUgcHJvcGVydHkgdG8gc2V0ICovXHJcbiAgICAgICAgdGV4dHVyZVByb3BlcnR5OiBQcm9wZXJ0eS5zdHJpbmcoJ2F1dG8nKSxcclxuICAgIH07XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ2ltYWdlLXRleHR1cmU6IG1hdGVyaWFsIHByb3BlcnR5IG5vdCBzZXQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbmdpbmUudGV4dHVyZXNcclxuICAgICAgICAgICAgLmxvYWQodGhpcy51cmwsICdhbm9ueW1vdXMnKVxyXG4gICAgICAgICAgICAudGhlbigodGV4dHVyZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtYXQgPSB0aGlzLm1hdGVyaWFsO1xyXG4gICAgICAgICAgICBpZiAoIXNldEZpcnN0TWF0ZXJpYWxUZXh0dXJlKG1hdCwgdGV4dHVyZSwgdGhpcy50ZXh0dXJlUHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTaGFkZXInLCBtYXQuc2hhZGVyLCAnbm90IHN1cHBvcnRlZCBieSBpbWFnZS10ZXh0dXJlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnIpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IEltYWdlVGV4dHVyZSB9O1xyXG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcbmltcG9ydCB7IHZlYzMgfSBmcm9tICdnbC1tYXRyaXgnO1xyXG5jb25zdCBwcmV2ZW50RGVmYXVsdCA9IChlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgfTtcclxuLyoqXHJcbiAqIENvbnRyb2xzIHRoZSBjYW1lcmEgb3JpZW50YXRpb24gdGhyb3VnaCBtb3VzZSBtb3ZlbWVudC5cclxuICpcclxuICogRWZmaWNpZW50bHkgaW1wbGVtZW50ZWQgdG8gYWZmZWN0IG9iamVjdCBvcmllbnRhdGlvbiBvbmx5XHJcbiAqIHdoZW4gdGhlIG1vdXNlIG1vdmVzLlxyXG4gKi9cclxuY2xhc3MgTW91c2VMb29rQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdtb3VzZS1sb29rJztcclxuICAgIC8qKiBNb3VzZSBsb29rIHNlbnNpdGl2aXR5ICovXHJcbiAgICBzZW5zaXRpdHkgPSAwLjI1O1xyXG4gICAgLyoqIFJlcXVpcmUgYSBtb3VzZSBidXR0b24gdG8gYmUgcHJlc3NlZCB0byBjb250cm9sIHZpZXcuXHJcbiAgICAgKiBPdGhlcndpc2UgdmlldyB3aWxsIGFsbHdheXMgZm9sbG93IG1vdXNlIG1vdmVtZW50ICovXHJcbiAgICByZXF1aXJlTW91c2VEb3duID0gdHJ1ZTtcclxuICAgIC8qKiBJZiBcIm1vdmVPbkNsaWNrXCIgaXMgZW5hYmxlZCwgbW91c2UgYnV0dG9uIHdoaWNoIHNob3VsZFxyXG4gICAgICogYmUgaGVsZCBkb3duIHRvIGNvbnRyb2wgdmlldyAqL1xyXG4gICAgbW91c2VCdXR0b25JbmRleCA9IDA7XHJcbiAgICAvKiogRW5hYmxlcyBwb2ludGVyIGxvY2sgb24gXCJtb3VzZWRvd25cIiBldmVudCBvbiBjYW52YXMgKi9cclxuICAgIHBvaW50ZXJMb2NrT25DbGljayA9IGZhbHNlO1xyXG4gICAgY3VycmVudFJvdGF0aW9uWSA9IDA7XHJcbiAgICBjdXJyZW50Um90YXRpb25YID0gMDtcclxuICAgIG9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBwYXJlbnRPcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgcm90YXRpb25YID0gMDtcclxuICAgIHJvdGF0aW9uWSA9IDA7XHJcbiAgICBtb3VzZURvd24gPSBmYWxzZTtcclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSk7XHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5lbmdpbmUuY2FudmFzO1xyXG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJMb2NrT25DbGljaykge1xyXG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5yZXF1ZXN0UG9pbnRlckxvY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlTW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlQnV0dG9uSW5kZXggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHByZXZlbnREZWZhdWx0LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24pO1xyXG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbkRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSk7XHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5lbmdpbmUuY2FudmFzO1xyXG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJMb2NrT25DbGljaykge1xyXG4gICAgICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5yZXF1ZXN0UG9pbnRlckxvY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlTW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlQnV0dG9uSW5kZXggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHByZXZlbnREZWZhdWx0LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24pO1xyXG4gICAgICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXF1ZXN0UG9pbnRlckxvY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5lbmdpbmUuY2FudmFzO1xyXG4gICAgICAgIGNhbnZhcy5yZXF1ZXN0UG9pbnRlckxvY2sgPVxyXG4gICAgICAgICAgICBjYW52YXMucmVxdWVzdFBvaW50ZXJMb2NrIHx8XHJcbiAgICAgICAgICAgICAgICBjYW52YXMubW96UmVxdWVzdFBvaW50ZXJMb2NrIHx8XHJcbiAgICAgICAgICAgICAgICBjYW52YXMud2Via2l0UmVxdWVzdFBvaW50ZXJMb2NrO1xyXG4gICAgICAgIGNhbnZhcy5yZXF1ZXN0UG9pbnRlckxvY2soKTtcclxuICAgIH07XHJcbiAgICBvbk1vdXNlRG93biA9IChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUuYnV0dG9uID09PSB0aGlzLm1vdXNlQnV0dG9uSW5kZXgpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdncmFiYmluZyc7XHJcbiAgICAgICAgICAgIGlmIChlLmJ1dHRvbiA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgLyogUHJldmVudCBzY3JvbGxpbmcgKi9cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBvbk1vdXNlVXAgPSAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLmJ1dHRvbiA9PT0gdGhpcy5tb3VzZUJ1dHRvbkluZGV4KSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2luaXRpYWwnO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBvbk1vdXNlTW92ZSA9IChlKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlICYmICh0aGlzLm1vdXNlRG93biB8fCAhdGhpcy5yZXF1aXJlTW91c2VEb3duKSkge1xyXG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uWSA9ICgtdGhpcy5zZW5zaXRpdHkgKiBlLm1vdmVtZW50WCkgLyAxMDA7XHJcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25YID0gKC10aGlzLnNlbnNpdGl0eSAqIGUubW92ZW1lbnRZKSAvIDEwMDtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Um90YXRpb25YICs9IHRoaXMucm90YXRpb25YO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSb3RhdGlvblkgKz0gdGhpcy5yb3RhdGlvblk7XHJcbiAgICAgICAgICAgIC8qIDEuNTA3ID0gUEkvMiA9IDkwXHUwMEIwICovXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWCA9IE1hdGgubWluKDEuNTA3LCB0aGlzLmN1cnJlbnRSb3RhdGlvblgpO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSb3RhdGlvblggPSBNYXRoLm1heCgtMS41MDcsIHRoaXMuY3VycmVudFJvdGF0aW9uWCk7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LmdldFBvc2l0aW9uV29ybGQodGhpcy5vcmlnaW4pO1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLm9iamVjdC5wYXJlbnQ7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5nZXRQb3NpdGlvbldvcmxkKHRoaXMucGFyZW50T3JpZ2luKTtcclxuICAgICAgICAgICAgICAgIHZlYzMuc3ViKHRoaXMub3JpZ2luLCB0aGlzLm9yaWdpbiwgdGhpcy5wYXJlbnRPcmlnaW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGVBeGlzQW5nbGVSYWRMb2NhbChbMSwgMCwgMF0sIHRoaXMuY3VycmVudFJvdGF0aW9uWCk7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZUF4aXNBbmdsZVJhZExvY2FsKFswLCAxLCAwXSwgdGhpcy5jdXJyZW50Um90YXRpb25ZKTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlTG9jYWwodGhpcy5vcmlnaW4pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5mbG9hdCgwLjI1KVxyXG5dLCBNb3VzZUxvb2tDb21wb25lbnQucHJvdG90eXBlLCBcInNlbnNpdGl0eVwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmJvb2wodHJ1ZSlcclxuXSwgTW91c2VMb29rQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyZXF1aXJlTW91c2VEb3duXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuaW50KClcclxuXSwgTW91c2VMb29rQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtb3VzZUJ1dHRvbkluZGV4XCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuYm9vbChmYWxzZSlcclxuXSwgTW91c2VMb29rQ29tcG9uZW50LnByb3RvdHlwZSwgXCJwb2ludGVyTG9ja09uQ2xpY2tcIiwgdm9pZCAwKTtcclxuZXhwb3J0IHsgTW91c2VMb29rQ29tcG9uZW50IH07XHJcbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuLyoqXHJcbiAqIFNldCBwbGF5ZXIgaGVpZ2h0IGZvciBhIFktb2Zmc2V0IGFib3ZlIHRoZSBncm91bmQgZm9yXHJcbiAqICdsb2NhbCcgYW5kICd2aWV3ZXInIHJlZmVyZW5jZSBzcGFjZXMuXHJcbiAqL1xyXG5jbGFzcyBQbGF5ZXJIZWlnaHQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3BsYXllci1oZWlnaHQnO1xyXG4gICAgaGVpZ2h0ID0gMS43NTtcclxuICAgIG9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2s7XHJcbiAgICBvblNlc3Npb25FbmRDYWxsYmFjaztcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMub2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LnRyYW5zbGF0ZUxvY2FsKFswLjAsIHRoaXMuaGVpZ2h0LCAwLjBdKTtcclxuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uU3RhcnQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvbkVuZC5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgb25BY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLmFkZCh0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLnJlbW92ZSh0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIG9uWFJTZXNzaW9uU3RhcnQoKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMuZW5naW5lLnhyPy5jdXJyZW50UmVmZXJlbmNlU3BhY2VUeXBlO1xyXG4gICAgICAgIGlmICh0eXBlICE9PSAnbG9jYWwnICYmIHR5cGUgIT09ICd2aWV3ZXInKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uWFJTZXNzaW9uRW5kKCkge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLmVuZ2luZS54cj8uY3VycmVudFJlZmVyZW5jZVNwYWNlVHlwZTtcclxuICAgICAgICBpZiAodHlwZSAhPT0gJ2xvY2FsJyAmJiB0eXBlICE9PSAndmlld2VyJykge1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlTG9jYWwoWzAuMCwgdGhpcy5oZWlnaHQsIDAuMF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmZsb2F0KDEuNzUpXHJcbl0sIFBsYXllckhlaWdodC5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHZvaWQgMCk7XHJcbmV4cG9ydCB7IFBsYXllckhlaWdodCB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuLyoqXHJcbiAqIFNldHMgdGhlIHRhcmdldCBmcmFtZXJhdGVcclxuICpcclxuICogW1VwZGF0ZXMgdGhlIHRhcmdldCBmcmFtZXJhdGVdKGh0dHBzOi8vaW1tZXJzaXZlLXdlYi5naXRodWIuaW8vd2VieHIvI2RvbS14cnNlc3Npb24tdXBkYXRldGFyZ2V0ZnJhbWVyYXRlKVxyXG4gKiB0byB0aGUgY2xvc2VzdCBbc3VwcG9ydGVkIHRhcmdldCBmcmFtZXJhdGVdKGh0dHBzOi8vaW1tZXJzaXZlLXdlYi5naXRodWIuaW8vd2VieHIvI2RvbS14cnNlc3Npb24tc3VwcG9ydGVkRnJhbWVSYXRlcylcclxuICogdG8gdGhlIGdpdmVuIGBmcmFtZXJhdGVgLlxyXG4gKlxyXG4gKiBUaGUgdGFyZ2V0IGZyYW1lcmF0ZSBpcyB1c2VkIGZvciB0aGUgZGV2aWNlJ3MgVlIgY29tcG9zaXRvciBhcyBhbiBpbmRpY2F0aW9uIG9mIGhvdyBvZnRlbiB0byByZWZyZXNoIHRoZVxyXG4gKiBzY3JlZW4gd2l0aCBuZXcgaW1hZ2VzLiBUaGlzIG1lYW5zIHRoZSBhcHAgd2lsbCBiZSBhc2tlZCB0byBwcm9kdWNlIGZyYW1lcyBpbiBtb3JlIHJlZ3VsYXIgaW50ZXJ2YWxzLFxyXG4gKiBwb3RlbnRpYWxseSBzcGVuZGluZyBsZXNzIHRpbWUgb24gZnJhbWVzIHRoYXQgYXJlIGxpa2VseSB0byBiZSBkcm9wcGVkLlxyXG4gKlxyXG4gKiBGb3IgYXBwcyB3aXRoIGhlYXZ5IGxvYWQsIHNldHRpbmcgYSB3ZWxsIG1hdGNoaW5nIHRhcmdldCBmcmFtZXJhdGUgY2FuIGltcHJvdmUgdGhlIGFwcHMgcmVuZGVyaW5nIHN0YWJpbGl0eVxyXG4gKiBhbmQgcmVkdWNlIHN0dXR0ZXIuXHJcbiAqXHJcbiAqIExpa2V3aXNlLCB0aGUgdGFyZ2V0IGZyYW1lcmF0ZSBjYW4gYmUgdXNlZCB0byBlbmFibGUgMTIwSHogcmVmcmVzaCByYXRlcyBvbiBPY3VsdXMgUXVlc3QgMiBvbiBzaW1wbGVyIGFwcHMuXHJcbiAqL1xyXG5jbGFzcyBUYXJnZXRGcmFtZXJhdGUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3RhcmdldC1mcmFtZXJhdGUnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgZnJhbWVyYXRlOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDkwLjAgfSxcclxuICAgIH07XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLnNldFRhcmdldEZyYW1lcmF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgb25BY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgb25EZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBzZXRUYXJnZXRGcmFtZXJhdGUocykge1xyXG4gICAgICAgIGlmIChzLnN1cHBvcnRlZEZyYW1lUmF0ZXMgJiYgcy51cGRhdGVUYXJnZXRGcmFtZVJhdGUpIHtcclxuICAgICAgICAgICAgY29uc3QgYSA9IHRoaXMuZW5naW5lLnhyLnNlc3Npb24uc3VwcG9ydGVkRnJhbWVSYXRlcztcclxuICAgICAgICAgICAgYS5zb3J0KChhLCBiKSA9PiBNYXRoLmFicyhhIC0gdGhpcy5mcmFtZXJhdGUpIC0gTWF0aC5hYnMoYiAtIHRoaXMuZnJhbWVyYXRlKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLnhyLnNlc3Npb24udXBkYXRlVGFyZ2V0RnJhbWVSYXRlKGFbMF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBUYXJnZXRGcmFtZXJhdGUgfTtcclxuIiwgImltcG9ydCB7IHZlYzMsIHF1YXQyIH0gZnJvbSAnZ2wtbWF0cml4JztcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuLyoqXHJcbiAqIFRlbGVwb3J0IFZSIGxvY29tb3Rpb24uXHJcbiAqXHJcbiAqIFNlZSBbVGVsZXBvcnQgRXhhbXBsZV0oL3Nob3djYXNlL3RlbGVwb3J0KS5cclxuICovXHJcbmNsYXNzIFRlbGVwb3J0Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0ZWxlcG9ydCc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogT2JqZWN0IHRoYXQgd2lsbCBiZSBwbGFjZWQgYXMgaW5kaWNpYXRpb24gZm9yd2hlcmUgdGhlIHBsYXllciB3aWxsIHRlbGVwb3J0IHRvLiAqL1xyXG4gICAgICAgIHRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxyXG4gICAgICAgIC8qKiBSb290IG9mIHRoZSBwbGF5ZXIsIHRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIHBvc2l0aW9uZWQgb24gdGVsZXBvcnRhdGlvbi4gKi9cclxuICAgICAgICBjYW1Sb290OiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXHJcbiAgICAgICAgLyoqIE5vbi12ciBjYW1lcmEgZm9yIHVzZSBvdXRzaWRlIG9mIFZSICovXHJcbiAgICAgICAgY2FtOiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXHJcbiAgICAgICAgLyoqIExlZnQgZXllIGZvciB1c2UgaW4gVlIqL1xyXG4gICAgICAgIGV5ZUxlZnQ6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcclxuICAgICAgICAvKiogUmlnaHQgZXllIGZvciB1c2UgaW4gVlIqL1xyXG4gICAgICAgIGV5ZVJpZ2h0OiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXHJcbiAgICAgICAgLyoqIEhhbmRlZG5lc3MgZm9yIFZSIGN1cnNvcnMgdG8gYWNjZXB0IHRyaWdnZXIgZXZlbnRzIG9ubHkgZnJvbSByZXNwZWN0aXZlIGNvbnRyb2xsZXIuICovXHJcbiAgICAgICAgaGFuZGVkbmVzczoge1xyXG4gICAgICAgICAgICB0eXBlOiBUeXBlLkVudW0sXHJcbiAgICAgICAgICAgIHZhbHVlczogWydpbnB1dCBjb21wb25lbnQnLCAnbGVmdCcsICdyaWdodCcsICdub25lJ10sXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbnB1dCBjb21wb25lbnQnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqIENvbGxpc2lvbiBncm91cCBvZiB2YWxpZCBcImZsb29yXCIgb2JqZWN0cyB0aGF0IGNhbiBiZSB0ZWxlcG9ydGVkIG9uICovXHJcbiAgICAgICAgZmxvb3JHcm91cDogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogMSB9LFxyXG4gICAgICAgIC8qKiBIb3cgZmFyIHRoZSB0aHVtYnN0aWNrIG5lZWRzIHRvIGJlIHB1c2hlZCB0byBoYXZlIHRoZSB0ZWxlcG9ydCB0YXJnZXQgaW5kaWNhdG9yIHNob3cgdXAgKi9cclxuICAgICAgICB0aHVtYnN0aWNrQWN0aXZhdGlvblRocmVzaGhvbGQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogLTAuNyB9LFxyXG4gICAgICAgIC8qKiBIb3cgZmFyIHRoZSB0aHVtYnN0aWNrIG5lZWRzIHRvIGJlIHJlbGVhc2VkIHRvIGV4ZWN1dGUgdGhlIHRlbGVwb3J0ICovXHJcbiAgICAgICAgdGh1bWJzdGlja0RlYWN0aXZhdGlvblRocmVzaGhvbGQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC4zIH0sXHJcbiAgICAgICAgLyoqIE9mZnNldCB0byBhcHBseSB0byB0aGUgaW5kaWNhdG9yIG9iamVjdCwgZS5nLiB0byBhdm9pZCBpdCBmcm9tIFotZmlnaHRpbmcgd2l0aCB0aGUgZmxvb3IgKi9cclxuICAgICAgICBpbmRpY2F0b3JZT2Zmc2V0OiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuMDEgfSxcclxuICAgICAgICAvKiogTW9kZSBmb3IgcmF5Y2FzdGluZywgd2hldGhlciB0byB1c2UgUGh5c1ggb3Igc2ltcGxlIGNvbGxpc2lvbiBjb21wb25lbnRzICovXHJcbiAgICAgICAgcmF5Q2FzdE1vZGU6IHtcclxuICAgICAgICAgICAgdHlwZTogVHlwZS5FbnVtLFxyXG4gICAgICAgICAgICB2YWx1ZXM6IFsnY29sbGlzaW9uJywgJ3BoeXN4J10sXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdjb2xsaXNpb24nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqIE1heCBkaXN0YW5jZSBmb3IgUGh5c1ggcmF5Y2FzdCAqL1xyXG4gICAgICAgIG1heERpc3RhbmNlOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDEwMC4wIH0sXHJcbiAgICB9O1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLl9wcmV2VGh1bWJzdGlja0F4aXMgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBWZWMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBWZWMwID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlucHV0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5vYmplY3QubmFtZSwgJ2dlbmVyaWMtdGVsZXBvcnQtY29tcG9uZW50LmpzOiBpbnB1dCBjb21wb25lbnQgaXMgcmVxdWlyZWQgb24gdGhlIG9iamVjdCcpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLm9iamVjdC5uYW1lLCAnZ2VuZXJpYy10ZWxlcG9ydC1jb21wb25lbnQuanM6IFRlbGVwb3J0IGluZGljYXRvciBtZXNoIGlzIG1pc3NpbmcnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuY2FtUm9vdCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMub2JqZWN0Lm5hbWUsICdnZW5lcmljLXRlbGVwb3J0LWNvbXBvbmVudC5qczogY2FtUm9vdCBub3Qgc2V0Jyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pc0luZGljYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5oaXRTcG90ID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLl9oYXNIaXQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9leHRyYVJvdGF0aW9uID0gMDtcclxuICAgICAgICB0aGlzLl9jdXJyZW50U3RpY2tBeGVzID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzTW91c2VJbmRpY2F0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5oYW5kZWRuZXNzID09IDApIHtcclxuICAgICAgICAgICAgY29uc3QgaW5wdXRDb21wID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdpbnB1dCcpO1xyXG4gICAgICAgICAgICBpZiAoIWlucHV0Q29tcCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd0ZWxlcG9ydCBjb21wb25lbnQgb24gb2JqZWN0JywgdGhpcy5vYmplY3QubmFtZSwgJ3dhcyBjb25maWd1cmVkIHdpdGggaGFuZGVkbmVzcyBcImlucHV0IGNvbXBvbmVudFwiLCAnICtcclxuICAgICAgICAgICAgICAgICAgICAnYnV0IG9iamVjdCBoYXMgbm8gaW5wdXQgY29tcG9uZW50LicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kZWRuZXNzID0gaW5wdXRDb21wLmhhbmRlZG5lc3M7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXRDb21wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRlZG5lc3MgPSBbJ2xlZnQnLCAncmlnaHQnXVt0aGlzLmhhbmRlZG5lc3MgLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5zZXR1cFZSRXZlbnRzLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBvbkRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIC8qIEdldCBjdXJyZW50IGNhbWVyYSBZIHJvdGF0aW9uICovXHJcbiAgICBfZ2V0Q2FtUm90YXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5leWVMZWZ0LmdldEZvcndhcmQodGhpcy5fdGVtcFZlYyk7XHJcbiAgICAgICAgdGhpcy5fdGVtcFZlY1sxXSA9IDA7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUodGhpcy5fdGVtcFZlYywgdGhpcy5fdGVtcFZlYyk7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy5fdGVtcFZlY1swXSwgdGhpcy5fdGVtcFZlY1syXSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgbGV0IGlucHV0TGVuZ3RoID0gMDtcclxuICAgICAgICBpZiAodGhpcy5nYW1lcGFkICYmIHRoaXMuZ2FtZXBhZC5heGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMF0gPSB0aGlzLmdhbWVwYWQuYXhlc1syXTtcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFN0aWNrQXhlc1sxXSA9IHRoaXMuZ2FtZXBhZC5heGVzWzNdO1xyXG4gICAgICAgICAgICBpbnB1dExlbmd0aCA9XHJcbiAgICAgICAgICAgICAgICBNYXRoLmFicyh0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzBdKSArIE1hdGguYWJzKHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuaXNJbmRpY2F0aW5nICYmXHJcbiAgICAgICAgICAgIHRoaXMuX3ByZXZUaHVtYnN0aWNrQXhpc1sxXSA+PSB0aGlzLnRodW1ic3RpY2tBY3RpdmF0aW9uVGhyZXNoaG9sZCAmJlxyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzFdIDwgdGhpcy50aHVtYnN0aWNrQWN0aXZhdGlvblRocmVzaGhvbGQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0luZGljYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmlzSW5kaWNhdGluZyAmJlxyXG4gICAgICAgICAgICBpbnB1dExlbmd0aCA8IHRoaXMudGh1bWJzdGlja0RlYWN0aXZhdGlvblRocmVzaGhvbGQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0luZGljYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9oYXNIaXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RlbGVwb3J0UGxheWVyKHRoaXMuaGl0U3BvdCwgdGhpcy5fZXh0cmFSb3RhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNJbmRpY2F0aW5nICYmIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0ICYmIHRoaXMuaW5wdXQpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gdGhpcy5fdGVtcFZlYzA7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LmdldFBvc2l0aW9uV29ybGQob3JpZ2luKTtcclxuICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5vYmplY3QuZ2V0Rm9yd2FyZFdvcmxkKHRoaXMuX3RlbXBWZWMpO1xyXG4gICAgICAgICAgICBsZXQgcmF5SGl0ID0gKHRoaXMucmF5SGl0ID1cclxuICAgICAgICAgICAgICAgIHRoaXMucmF5Q2FzdE1vZGUgPT0gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5lbmdpbmUuc2NlbmUucmF5Q2FzdChvcmlnaW4sIGRpcmVjdGlvbiwgMSA8PCB0aGlzLmZsb29yR3JvdXApXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmVuZ2luZS5waHlzaWNzLnJheUNhc3Qob3JpZ2luLCBkaXJlY3Rpb24sIDEgPDwgdGhpcy5mbG9vckdyb3VwLCB0aGlzLm1heERpc3RhbmNlKSk7XHJcbiAgICAgICAgICAgIGlmIChyYXlIaXQuaGl0Q291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZXh0cmFSb3RhdGlvbiA9XHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5QSSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYXRhbjIodGhpcy5fY3VycmVudFN0aWNrQXhlc1swXSwgdGhpcy5fY3VycmVudFN0aWNrQXhlc1sxXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24gPVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldENhbVJvdGF0aW9uKCkgKyAodGhpcy5fZXh0cmFSb3RhdGlvbiAtIE1hdGguUEkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5yb3RhdGVBeGlzQW5nbGVSYWQoWzAsIDEsIDBdLCB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QudHJhbnNsYXRlKHJheUhpdC5sb2NhdGlvbnNbMF0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QudHJhbnNsYXRlKFtcclxuICAgICAgICAgICAgICAgICAgICAwLjAsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JZT2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgICAgIDAuMCxcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGl0U3BvdC5zZXQocmF5SGl0LmxvY2F0aW9uc1swXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNIaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmluZGljYXRvckhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhc0hpdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0ICYmIHRoaXMuaXNNb3VzZUluZGljYXRpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5vbk1vdXNlUHJlc3NlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9wcmV2VGh1bWJzdGlja0F4aXMuc2V0KHRoaXMuX2N1cnJlbnRTdGlja0F4ZXMpO1xyXG4gICAgfVxyXG4gICAgc2V0dXBWUkV2ZW50cyhzKSB7XHJcbiAgICAgICAgLyogSWYgaW4gVlIsIG9uZS10aW1lIGJpbmQgdGhlIGxpc3RlbmVyICovXHJcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gcztcclxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLyogUmVzZXQgY2FjaGUgb25jZSB0aGUgc2Vzc2lvbiBlbmRzIHRvIHJlYmluZCBzZWxlY3QgZXRjLCBpbiBjYXNlXHJcbiAgICAgICAgICAgICAqIGl0IHN0YXJ0cyBhZ2FpbiAqL1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVwYWQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24gPSBudWxsO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgaWYgKHMuaW5wdXRTb3VyY2VzICYmIHMuaW5wdXRTb3VyY2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHMuaW5wdXRTb3VyY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRTb3VyY2UgPSBzLmlucHV0U291cmNlc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09IHRoaXMuaGFuZGVkbmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZXBhZCA9IGlucHV0U291cmNlLmdhbWVwYWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dHNvdXJjZXNjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZS5hZGRlZCAmJiBlLmFkZGVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLmFkZGVkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlucHV0U291cmNlID0gZS5hZGRlZFtpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSB0aGlzLmhhbmRlZG5lc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lcGFkID0gaW5wdXRTb3VyY2UuZ2FtZXBhZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgb25Nb3VzZURvd24oKSB7XHJcbiAgICAgICAgdGhpcy5pc01vdXNlSW5kaWNhdGluZyA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBvbk1vdXNlVXAoKSB7XHJcbiAgICAgICAgdGhpcy5pc01vdXNlSW5kaWNhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLl9oYXNIaXQpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGVsZXBvcnRQbGF5ZXIodGhpcy5oaXRTcG90LCAwLjApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uTW91c2VQcmVzc2VkKCkge1xyXG4gICAgICAgIGxldCBvcmlnaW4gPSBbMCwgMCwgMF07XHJcbiAgICAgICAgdGhpcy5jYW0uZ2V0UG9zaXRpb25Xb3JsZChvcmlnaW4pO1xyXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuY2FtLmdldEZvcndhcmQodGhpcy5fdGVtcFZlYyk7XHJcbiAgICAgICAgbGV0IHJheUhpdCA9ICh0aGlzLnJheUhpdCA9XHJcbiAgICAgICAgICAgIHRoaXMucmF5Q2FzdE1vZGUgPT0gMFxyXG4gICAgICAgICAgICAgICAgPyB0aGlzLmVuZ2luZS5zY2VuZS5yYXlDYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCAxIDw8IHRoaXMuZmxvb3JHcm91cClcclxuICAgICAgICAgICAgICAgIDogdGhpcy5lbmdpbmUucGh5c2ljcy5yYXlDYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCAxIDw8IHRoaXMuZmxvb3JHcm91cCwgdGhpcy5tYXhEaXN0YW5jZSkpO1xyXG4gICAgICAgIGlmIChyYXlIaXQuaGl0Q291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGRpcmVjdGlvblsxXSA9IDA7XHJcbiAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKGRpcmVjdGlvbiwgZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uID1cclxuICAgICAgICAgICAgICAgIC1NYXRoLnNpZ24oZGlyZWN0aW9uWzJdKSAqIE1hdGguYWNvcyhkaXJlY3Rpb25bMF0pIC0gTWF0aC5QSSAqIDAuNTtcclxuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnJvdGF0ZUF4aXNBbmdsZVJhZChbMCwgMSwgMF0sIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnRyYW5zbGF0ZShyYXlIaXQubG9jYXRpb25zWzBdKTtcclxuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5oaXRTcG90ID0gcmF5SGl0LmxvY2F0aW9uc1swXTtcclxuICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pbmRpY2F0b3JIaWRkZW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2hhc0hpdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF90ZWxlcG9ydFBsYXllcihuZXdQb3NpdGlvbiwgcm90YXRpb25Ub0FkZCkge1xyXG4gICAgICAgIHRoaXMuY2FtUm9vdC5yb3RhdGVBeGlzQW5nbGVSYWQoWzAsIDEsIDBdLCByb3RhdGlvblRvQWRkKTtcclxuICAgICAgICBjb25zdCBwID0gdGhpcy5fdGVtcFZlYztcclxuICAgICAgICBjb25zdCBwMSA9IHRoaXMuX3RlbXBWZWMwO1xyXG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24pIHtcclxuICAgICAgICAgICAgdGhpcy5leWVMZWZ0LmdldFBvc2l0aW9uV29ybGQocCk7XHJcbiAgICAgICAgICAgIHRoaXMuZXllUmlnaHQuZ2V0UG9zaXRpb25Xb3JsZChwMSk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKHAsIHAsIHAxKTtcclxuICAgICAgICAgICAgdmVjMy5zY2FsZShwLCBwLCAwLjUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jYW0uZ2V0UG9zaXRpb25Xb3JsZChwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYW1Sb290LmdldFBvc2l0aW9uV29ybGQocDEpO1xyXG4gICAgICAgIHZlYzMuc3ViKHAsIHAxLCBwKTtcclxuICAgICAgICBwWzBdICs9IG5ld1Bvc2l0aW9uWzBdO1xyXG4gICAgICAgIHBbMV0gPSBuZXdQb3NpdGlvblsxXTtcclxuICAgICAgICBwWzJdICs9IG5ld1Bvc2l0aW9uWzJdO1xyXG4gICAgICAgIHRoaXMuY2FtUm9vdC5zZXRQb3NpdGlvbldvcmxkKHApO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IFRlbGVwb3J0Q29tcG9uZW50IH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUsIE1lc2gsIE1lc2hJbmRleFR5cGUsIE1lc2hBdHRyaWJ1dGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyB2ZWMzIH0gZnJvbSAnZ2wtbWF0cml4JztcclxuY29uc3QgZGlyZWN0aW9uID0gdmVjMy5jcmVhdGUoKTtcclxuY29uc3Qgb2Zmc2V0ID0gdmVjMy5jcmVhdGUoKTtcclxuY29uc3Qgbm9ybWFsID0gdmVjMy5jcmVhdGUoKTtcclxuLyoqXHJcbiAqIER5bmFtaWMgbWVzaC1iYXNlZCB0cmFpbFxyXG4gKlxyXG4gKiBUaGlzIGNvbXBvbmVudCBrZWVwcyB0cmFjayBvZiB0aGUgd29ybGQgcG9zaXRpb24gb2YgdGhlIG9iamVjdCBpdCdzIGFkZGVkIHRvLlxyXG4gKiBBdCBhIGZpeGVkIGludGVydmFsIHRoZSB3b3JsZCBwb3NpdGlvbiBpcyBzdG9yZWQgYXMgc3RhcnQgYW5kIGVuZCBwb2ludHMgb2YgdGhlIHRyYWlsIHNlZ21lbnRzLlxyXG4gKlxyXG4gKiBUaGUgdHJhaWwgdGFwZXJzIG9mZiBhbG9uZyBpdHMgbGVuZ3RoLiBVViB0ZXh0dXJlIGNvb3JkaW5hdGVzIGFyZSBzZXR1cCBzdWNoIHRoYXQgdGhlXHJcbiAqIFUtYXhpcyBjb3ZlcnMgdGhlIHdpZHRoIG9mIHRoZSB0cmFpbCBhbmQgdGhlIFYtYXhpcyBjb3ZlcnMgdGhlIGxlbmd0aCBvZiB0aGUgdHJhaWwuXHJcbiAqIFRoaXMgYWxsb3dzIHRoZSB0cmFpbCdzIGFwcGVhcmFuY2UgdG8gYmUgZGVmaW5lZCB1c2luZyBhIHRleHR1cmUuXHJcbiAqL1xyXG5jbGFzcyBUcmFpbCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndHJhaWwnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIFRoZSBtYXRlcmlhbCB0byBhcHBseSB0byB0aGUgdHJhaWwgbWVzaCAqL1xyXG4gICAgICAgIG1hdGVyaWFsOiB7IHR5cGU6IFR5cGUuTWF0ZXJpYWwgfSxcclxuICAgICAgICAvKiogVGhlIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgdHJhaWwgbWVzaCAqL1xyXG4gICAgICAgIHNlZ21lbnRzOiB7IHR5cGU6IFR5cGUuSW50LCBkZWZhdWx0OiA1MCB9LFxyXG4gICAgICAgIC8qKiBUaGUgdGltZSBpbnRlcnZhbCBiZWZvcmUgcmVjb3JkaW5nIGEgbmV3IHBvaW50ICovXHJcbiAgICAgICAgaW50ZXJ2YWw6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC4xIH0sXHJcbiAgICAgICAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgdHJhaWwgKGluIHdvcmxkIHNwYWNlKSAqL1xyXG4gICAgICAgIHdpZHRoOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDEuMCB9LFxyXG4gICAgICAgIC8qKiBXaGV0aGVyIG9yIG5vdCB0aGUgdHJhaWwgc2hvdWxkIHRhcGVyIG9mZiAqL1xyXG4gICAgICAgIHRhcGVyOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIGRlbHRhIHRpbWUgaW4gc2Vjb25kcywgYWJvdmUgd2hpY2ggdGhlIHRyYWlsIHJlc2V0cy5cclxuICAgICAgICAgKiBUaGlzIHByZXZlbnRzIHRoZSB0cmFpbCBmcm9tIGp1bXBpbmcgYXJvdW5kIHdoZW4gdXBkYXRlcyBoYXBwZW5cclxuICAgICAgICAgKiBpbmZyZXF1ZW50bHkgKGUuZy4gd2hlbiB0aGUgdGFiIGRvZXNuJ3QgaGF2ZSBmb2N1cykuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmVzZXRUaHJlc2hvbGQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC41IH0sXHJcbiAgICB9O1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnBvaW50cyA9IG5ldyBBcnJheSh0aGlzLnNlZ21lbnRzICsgMSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLnBvaW50c1tpXSA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIFRoZSBwb2ludHMgYXJyYXkgaXMgY2lyY3VsYXIsIHNvIGtlZXAgdHJhY2sgb2YgaXRzIGhlYWQgKi9cclxuICAgICAgICB0aGlzLmN1cnJlbnRQb2ludE9mZnNldCA9IDA7XHJcbiAgICAgICAgdGhpcy51cCA9IFswLCAxLCAwXTtcclxuICAgICAgICB0aGlzLnRpbWVUaWxsTmV4dCA9IHRoaXMuaW50ZXJ2YWw7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLnRyYWlsQ29udGFpbmVyID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KCk7XHJcbiAgICAgICAgdGhpcy5tZXNoQ29tcCA9IHRoaXMudHJhaWxDb250YWluZXIuYWRkQ29tcG9uZW50KCdtZXNoJyk7XHJcbiAgICAgICAgdGhpcy5tZXNoQ29tcC5tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7XHJcbiAgICAgICAgLyogRWFjaCBwb2ludCB3aWxsIGhhdmUgdHdvIHZlcnRpY2VzOyBvbmUgb24gZWl0aGVyIHNpZGUgKi9cclxuICAgICAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IDIgKiB0aGlzLnBvaW50cy5sZW5ndGg7XHJcbiAgICAgICAgLyogRWFjaCBzZWdtZW50IGNvbnNpc3RzIG9mIHR3byB0cmlhbmdsZXMgKi9cclxuICAgICAgICB0aGlzLmluZGV4RGF0YSA9IG5ldyBVaW50MzJBcnJheSg2ICogdGhpcy5zZWdtZW50cyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHYgPSAwOyBpIDwgdmVydGV4Q291bnQgLSAyOyBpICs9IDIsIHYgKz0gNikge1xyXG4gICAgICAgICAgICB0aGlzLmluZGV4RGF0YVxyXG4gICAgICAgICAgICAgICAgLnN1YmFycmF5KHYsIHYgKyA2KVxyXG4gICAgICAgICAgICAgICAgLnNldChbaSArIDEsIGkgKyAwLCBpICsgMiwgaSArIDIsIGkgKyAzLCBpICsgMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1lc2ggPSBuZXcgTWVzaCh0aGlzLmVuZ2luZSwge1xyXG4gICAgICAgICAgICB2ZXJ0ZXhDb3VudDogdmVydGV4Q291bnQsXHJcbiAgICAgICAgICAgIGluZGV4RGF0YTogdGhpcy5pbmRleERhdGEsXHJcbiAgICAgICAgICAgIGluZGV4VHlwZTogTWVzaEluZGV4VHlwZS5VbnNpZ25lZEludCxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1lc2hDb21wLm1lc2ggPSB0aGlzLm1lc2g7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVWZXJ0aWNlcygpIHtcclxuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSB0aGlzLm1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuUG9zaXRpb24pO1xyXG4gICAgICAgIGNvbnN0IHRleENvb3JkcyA9IHRoaXMubWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5UZXh0dXJlQ29vcmRpbmF0ZSk7XHJcbiAgICAgICAgY29uc3Qgbm9ybWFscyA9IHRoaXMubWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5Ob3JtYWwpO1xyXG4gICAgICAgIHZlYzMuc2V0KGRpcmVjdGlvbiwgMCwgMCwgMCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyID0gdGhpcy5wb2ludHNbKHRoaXMuY3VycmVudFBvaW50SW5kZXggKyBpICsgMSkgJSB0aGlzLnBvaW50cy5sZW5ndGhdO1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5wb2ludHNbKHRoaXMuY3VycmVudFBvaW50SW5kZXggKyBpICsgMikgJSB0aGlzLnBvaW50cy5sZW5ndGhdO1xyXG4gICAgICAgICAgICAvKiBUaGUgbGFzdCBwb2ludCBoYXMgbm8gbmV4dCwgc28gcmUtdXNlIHRoZSBkaXJlY3Rpb24gb2YgdGhlIHByZXZpb3VzIHNlZ21lbnQgKi9cclxuICAgICAgICAgICAgaWYgKGkgIT09IHRoaXMucG9pbnRzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIHZlYzMuc3ViKGRpcmVjdGlvbiwgbmV4dCwgY3Vycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmVjMy5jcm9zcyhvZmZzZXQsIHRoaXMudXAsIGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG9mZnNldCwgb2Zmc2V0KTtcclxuICAgICAgICAgICAgY29uc3QgdGltZUZyYWN0aW9uID0gMS4wIC0gdGhpcy50aW1lVGlsbE5leHQgLyB0aGlzLmludGVydmFsO1xyXG4gICAgICAgICAgICBjb25zdCBmcmFjdGlvbiA9IChpIC0gdGltZUZyYWN0aW9uKSAvIHRoaXMuc2VnbWVudHM7XHJcbiAgICAgICAgICAgIHZlYzMuc2NhbGUob2Zmc2V0LCBvZmZzZXQsICgodGhpcy50YXBlciA/IGZyYWN0aW9uIDogMS4wKSAqIHRoaXMud2lkdGgpIC8gMi4wKTtcclxuICAgICAgICAgICAgcG9zaXRpb25zLnNldChpICogMiwgW1xyXG4gICAgICAgICAgICAgICAgY3VyclswXSAtIG9mZnNldFswXSxcclxuICAgICAgICAgICAgICAgIGN1cnJbMV0gLSBvZmZzZXRbMV0sXHJcbiAgICAgICAgICAgICAgICBjdXJyWzJdIC0gb2Zmc2V0WzJdLFxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgcG9zaXRpb25zLnNldChpICogMiArIDEsIFtcclxuICAgICAgICAgICAgICAgIGN1cnJbMF0gKyBvZmZzZXRbMF0sXHJcbiAgICAgICAgICAgICAgICBjdXJyWzFdICsgb2Zmc2V0WzFdLFxyXG4gICAgICAgICAgICAgICAgY3VyclsyXSArIG9mZnNldFsyXSxcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIGlmIChub3JtYWxzKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLmNyb3NzKG5vcm1hbCwgZGlyZWN0aW9uLCBvZmZzZXQpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUobm9ybWFsLCBub3JtYWwpO1xyXG4gICAgICAgICAgICAgICAgbm9ybWFscy5zZXQoaSAqIDIsIG5vcm1hbCk7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxzLnNldChpICogMiArIDEsIG5vcm1hbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRleENvb3Jkcykge1xyXG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzLnNldChpICogMiwgWzAsIGZyYWN0aW9uXSk7XHJcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHMuc2V0KGkgKiAyICsgMSwgWzEsIGZyYWN0aW9uXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyogTm90aWZ5IFdMRSB0aGF0IHRoZSBtZXNoIGhhcyBjaGFuZ2VkICovXHJcbiAgICAgICAgdGhpcy5tZXNoLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgcmVzZXRUcmFpbCgpIHtcclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMucG9pbnRzWzBdKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHZlYzMuY29weSh0aGlzLnBvaW50c1tpXSwgdGhpcy5wb2ludHNbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1cnJlbnRQb2ludEluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLnRpbWVUaWxsTmV4dCA9IHRoaXMuaW50ZXJ2YWw7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICB0aGlzLnRpbWVUaWxsTmV4dCAtPSBkdDtcclxuICAgICAgICBpZiAoZHQgPiB0aGlzLnJlc2V0VGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRUcmFpbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy50aW1lVGlsbE5leHQgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBvaW50SW5kZXggPSAodGhpcy5jdXJyZW50UG9pbnRJbmRleCArIDEpICUgdGhpcy5wb2ludHMubGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVUaWxsTmV4dCA9ICh0aGlzLnRpbWVUaWxsTmV4dCAlIHRoaXMuaW50ZXJ2YWwpICsgdGhpcy5pbnRlcnZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLnBvaW50c1t0aGlzLmN1cnJlbnRQb2ludEluZGV4XSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNlcygpO1xyXG4gICAgfVxyXG4gICAgb25BY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLnJlc2V0VHJhaWwoKTtcclxuICAgIH1cclxuICAgIG9uRGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnRyYWlsQ29udGFpbmVyLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLm1lc2guZGVzdHJveSgpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IFRyYWlsIH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgdmVjMyB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbmZ1bmN0aW9uIGNsYW1wKHYsIGEsIGIpIHtcclxuICAgIHJldHVybiBNYXRoLm1heChhLCBNYXRoLm1pbih2LCBiKSk7XHJcbn1cclxuY29uc3Qgcm9vdFNjYWxpbmcgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG5jb25zdCB0ZW1wUXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XHJcbmNvbnN0IG1pZGRsZVBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbmNvbnN0IGVuZFBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbmNvbnN0IHRhcmdldFBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbmNvbnN0IGhlbHBlclBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbmNvbnN0IHJvb3RUcmFuc2Zvcm0gPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xyXG5jb25zdCBtaWRkbGVUcmFuc2Zvcm0gPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xyXG5jb25zdCBlbmRUcmFuc2Zvcm0gPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xyXG4vKipcclxuICogU29sdmUgaW52ZXJzZSBraW5lbWF0aWNzIGZvciBhIHR3byBqb2ludCBjaGFpbnNcclxuICpcclxuICogSW5zcGlyZWQgYnkgaHR0cDovL3RoZW9yYW5nZWR1Y2suY29tL3BhZ2Uvc2ltcGxlLXR3by1qb2ludFxyXG4gKi9cclxuY29uc3QgdHdvSm9pbnRJSyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCB0YSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBjb25zdCBjYSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBjb25zdCBiYSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBjb25zdCBhYiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBjb25zdCBjYiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBjb25zdCBheGlzMCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBjb25zdCBheGlzMSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBjb25zdCB0ZW1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAocm9vdCwgbWlkZGxlLCBiLCBjLCB0YXJnZXRQb3MsIGVwcywgaGVscGVyKSB7XHJcbiAgICAgICAgLyogYSA9IFswLCAwLCAwXSwgc2luY2UgZXZlcnl0aGluZyBpcyBjb21wdXRlZCBpbiByb290LXNwYWNlICovXHJcbiAgICAgICAgYmEuc2V0KGIpO1xyXG4gICAgICAgIGNvbnN0IGxhYiA9IHZlYzMubGVuZ3RoKGJhKTtcclxuICAgICAgICB2ZWMzLnN1Yih0YSwgYiwgYyk7XHJcbiAgICAgICAgY29uc3QgbGNiID0gdmVjMy5sZW5ndGgodGEpO1xyXG4gICAgICAgIHRhLnNldCh0YXJnZXRQb3MpO1xyXG4gICAgICAgIGNvbnN0IGxhdCA9IGNsYW1wKHZlYzMubGVuZ3RoKHRhKSwgZXBzLCBsYWIgKyBsY2IgLSBlcHMpO1xyXG4gICAgICAgIGNhLnNldChjKTtcclxuICAgICAgICB2ZWMzLnNjYWxlKGFiLCBiLCAtMSk7XHJcbiAgICAgICAgdmVjMy5zdWIoY2IsIGMsIGIpO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKGNhLCBjYSk7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoYmEsIGJhKTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShhYiwgYWIpO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKGNiLCBjYik7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUodGEsIHRhKTtcclxuICAgICAgICAvKiBTdXBwb3NlZGx5IG51bWVyaWNhbCBlcnJvcnMgY2FuIGNhdXNlIHRoZSBkb3QgdG8gZ28gb3V0IG9mIC0xLCAxIHJhbmdlICovXHJcbiAgICAgICAgY29uc3QgYWNfYWJfMCA9IE1hdGguYWNvcyhjbGFtcCh2ZWMzLmRvdChjYSwgYmEpLCAtMSwgMSkpO1xyXG4gICAgICAgIGNvbnN0IGJhX2JjXzAgPSBNYXRoLmFjb3MoY2xhbXAodmVjMy5kb3QoYWIsIGNiKSwgLTEsIDEpKTtcclxuICAgICAgICBjb25zdCBhY19hdF8wID0gTWF0aC5hY29zKGNsYW1wKHZlYzMuZG90KGNhLCB0YSksIC0xLCAxKSk7XHJcbiAgICAgICAgY29uc3QgYWNfYWJfMSA9IE1hdGguYWNvcyhjbGFtcCgobGNiICogbGNiIC0gbGFiICogbGFiIC0gbGF0ICogbGF0KSAvICgtMiAqIGxhYiAqIGxhdCksIC0xLCAxKSk7XHJcbiAgICAgICAgY29uc3QgYmFfYmNfMSA9IE1hdGguYWNvcyhjbGFtcCgobGF0ICogbGF0IC0gbGFiICogbGFiIC0gbGNiICogbGNiKSAvICgtMiAqIGxhYiAqIGxjYiksIC0xLCAxKSk7XHJcbiAgICAgICAgaWYgKGhlbHBlcikge1xyXG4gICAgICAgICAgICB2ZWMzLnN1YihiYSwgaGVscGVyLCBiKTtcclxuICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUoYmEsIGJhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmVjMy5jcm9zcyhheGlzMCwgY2EsIGJhKTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShheGlzMCwgYXhpczApO1xyXG4gICAgICAgIHZlYzMuY3Jvc3MoYXhpczEsIGMsIHRhcmdldFBvcyk7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoYXhpczEsIGF4aXMxKTtcclxuICAgICAgICBtaWRkbGUudHJhbnNmb3JtVmVjdG9ySW52ZXJzZUxvY2FsKHRlbXAsIGF4aXMwKTtcclxuICAgICAgICByb290LnJvdGF0ZUF4aXNBbmdsZVJhZE9iamVjdChheGlzMSwgYWNfYXRfMCk7XHJcbiAgICAgICAgcm9vdC5yb3RhdGVBeGlzQW5nbGVSYWRPYmplY3QoYXhpczAsIGFjX2FiXzEgLSBhY19hYl8wKTtcclxuICAgICAgICBtaWRkbGUucm90YXRlQXhpc0FuZ2xlUmFkT2JqZWN0KGF4aXMwLCBiYV9iY18xIC0gYmFfYmNfMCk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4vKipcclxuICogSW52ZXJzZSBraW5lbWF0aWNzIGZvciB0d28tam9pbnQgY2hhaW5zIChlLmcuIGtuZWVzIG9yIGVsYm93cylcclxuICovXHJcbmNsYXNzIFR3b0pvaW50SWtTb2x2ZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3R3by1qb2ludC1pay1zb2x2ZXInO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIFJvb3QgYm9uZSwgbmV2ZXIgbW92ZXMgKi9cclxuICAgICAgICByb290OiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgICAgICAvKiogQm9uZSBhdHRhY2hlZCB0byB0aGUgcm9vdCAqL1xyXG4gICAgICAgIG1pZGRsZTogUHJvcGVydHkub2JqZWN0KCksXHJcbiAgICAgICAgLyoqIEJvbmUgYXR0YWNoZWQgdG8gdGhlIG1pZGRsZSAqL1xyXG4gICAgICAgIGVuZDogUHJvcGVydHkub2JqZWN0KCksXHJcbiAgICAgICAgLyoqIFRhcmdldCB0aGUgam9pbnMgc2hvdWxkIHJlYWNoIGZvciAqL1xyXG4gICAgICAgIHRhcmdldDogUHJvcGVydHkub2JqZWN0KCksXHJcbiAgICAgICAgLyoqIEZsYWcgZm9yIGNvcHlpbmcgcm90YXRpb24gZnJvbSB0YXJnZXQgdG8gZW5kICovXHJcbiAgICAgICAgY29weVRhcmdldFJvdGF0aW9uOiBQcm9wZXJ0eS5ib29sKHRydWUpLFxyXG4gICAgICAgIC8qKiBIZWxwZXIgb2JqZWN0IHRvIHVzZSB0byBkZXRlcm1pbmUgam9pbnQgcm90YXRpb24gYXhpcyAqL1xyXG4gICAgICAgIGhlbHBlcjogUHJvcGVydHkub2JqZWN0KCksXHJcbiAgICB9O1xyXG4gICAgdGltZSA9IDA7XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLnJvb3QuZ2V0VHJhbnNmb3JtTG9jYWwocm9vdFRyYW5zZm9ybSk7XHJcbiAgICAgICAgdGhpcy5taWRkbGUuZ2V0VHJhbnNmb3JtTG9jYWwobWlkZGxlVHJhbnNmb3JtKTtcclxuICAgICAgICB0aGlzLmVuZC5nZXRUcmFuc2Zvcm1Mb2NhbChlbmRUcmFuc2Zvcm0pO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgdGhpcy50aW1lICs9IGR0O1xyXG4gICAgICAgIC8qIFJlc2V0IHRvIG9yaWdpbmFsIHBvc2UgZm9yIHN0YWJpbGl0eSAqL1xyXG4gICAgICAgIHRoaXMucm9vdC5zZXRUcmFuc2Zvcm1Mb2NhbChyb290VHJhbnNmb3JtKTtcclxuICAgICAgICB0aGlzLm1pZGRsZS5zZXRUcmFuc2Zvcm1Mb2NhbChtaWRkbGVUcmFuc2Zvcm0pO1xyXG4gICAgICAgIHRoaXMuZW5kLnNldFRyYW5zZm9ybUxvY2FsKGVuZFRyYW5zZm9ybSk7XHJcbiAgICAgICAgdGhpcy5yb290LmdldFNjYWxpbmdXb3JsZChyb290U2NhbGluZyk7XHJcbiAgICAgICAgLyogR2V0IGpvaW50IHBvc2l0aW9ucyBpbiByb290LXNwYWNlICovXHJcbiAgICAgICAgdGhpcy5taWRkbGUuZ2V0UG9zaXRpb25Mb2NhbChtaWRkbGVQb3MpO1xyXG4gICAgICAgIHRoaXMuZW5kLmdldFBvc2l0aW9uTG9jYWwoZW5kUG9zKTtcclxuICAgICAgICB0aGlzLm1pZGRsZS50cmFuc2Zvcm1Qb2ludExvY2FsKGVuZFBvcywgZW5kUG9zKTtcclxuICAgICAgICBpZiAodGhpcy5oZWxwZXIpIHtcclxuICAgICAgICAgICAgLyogR2V0IGhlbHBlciBwb3NpdGlvbiBpbiByb290IHNwYWNlICovXHJcbiAgICAgICAgICAgIHRoaXMuaGVscGVyLmdldFBvc2l0aW9uV29ybGQoaGVscGVyUG9zKTtcclxuICAgICAgICAgICAgdGhpcy5yb290LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKGhlbHBlclBvcywgaGVscGVyUG9zKTtcclxuICAgICAgICAgICAgdmVjMy5kaXYoaGVscGVyUG9zLCBoZWxwZXJQb3MsIHJvb3RTY2FsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogR2V0IHRhcmdldCBwb3NpdGlvbiBpbiByb290IHNwYWNlICovXHJcbiAgICAgICAgdGhpcy50YXJnZXQuZ2V0UG9zaXRpb25Xb3JsZCh0YXJnZXRQb3MpO1xyXG4gICAgICAgIHRoaXMucm9vdC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh0YXJnZXRQb3MsIHRhcmdldFBvcyk7XHJcbiAgICAgICAgdmVjMy5kaXYodGFyZ2V0UG9zLCB0YXJnZXRQb3MsIHJvb3RTY2FsaW5nKTtcclxuICAgICAgICB0d29Kb2ludElLKHRoaXMucm9vdCwgdGhpcy5taWRkbGUsIG1pZGRsZVBvcywgZW5kUG9zLCB0YXJnZXRQb3MsIDAuMDEsIHRoaXMuaGVscGVyID8gaGVscGVyUG9zIDogbnVsbCwgdGhpcy50aW1lKTtcclxuICAgICAgICBpZiAodGhpcy5jb3B5VGFyZ2V0Um90YXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5lbmQuc2V0Um90YXRpb25Xb3JsZCh0aGlzLnRhcmdldC5nZXRSb3RhdGlvbldvcmxkKHRlbXBRdWF0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IFR3b0pvaW50SWtTb2x2ZXIgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVGV4dHVyZSwgUHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBzZXRGaXJzdE1hdGVyaWFsVGV4dHVyZSB9IGZyb20gJy4vdXRpbHMvdXRpbHMuanMnO1xyXG4vKipcclxuICogRG93bmxvYWRzIGEgdmlkZW8gZnJvbSBVUkwgYW5kIGFwcGxpZXMgaXQgYXMgYGRpZmZ1c2VUZXh0dXJlYCBvciBgZmxhdFRleHR1cmVgXHJcbiAqIG9uIGdpdmVuIG1hdGVyaWFsLlxyXG4gKlxyXG4gKiBWaWRlbyB0ZXh0dXJlcyBuZWVkIHRvIGJlIHVwZGF0ZWQgcmVndWxhcmx5IHdoZW5ldmVyXHJcbiAqIGEgbmV3IGZyYW1lIGlzIGF2YWlsYWJsZS4gVGhpcyBjb21wb25lbnQgaGFuZGxlcyB0aGVcclxuICogZGV0ZWN0aW9uIG9mIGEgbmV3IGZyYW1lIGFuZCB1cGRhdGVzIHRoZSB0ZXh0dXJlIHRvXHJcbiAqIHJlZmxlY3QgdGhlIHZpZGVvJ3MgY3VycmVudCBmcmFtZS5cclxuICpcclxuICogTWF0ZXJpYWxzIGZyb20gdGhlIGZvbGxvd2luZyBzaGFkZXJzIGFyZSBzdXBwb3J0ZWQ6XHJcbiAqICAtIFwiUGhvbmcgT3BhcXVlIFRleHR1cmVkXCJcclxuICogIC0gXCJGbGF0IE9wYXF1ZSBUZXh0dXJlZFwiXHJcbiAqICAtIFwiQmFja2dyb3VuZFwiXHJcbiAqICAtIFwiUGh5c2ljYWwgT3BhcXVlIFRleHR1cmVkXCJcclxuICogIC0gXCJGb2xpYWdlXCJcclxuICpcclxuICogVGhlIHZpZGVvIGNhbiBiZSBhY2Nlc3NlZCB0aHJvdWdoIGB0aGlzLnZpZGVvYDpcclxuICpcclxuICogYGBganNcclxuICogICBsZXQgdmlkZW9UZXh0dXJlID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCd2aWRlby10ZXh0dXJlJyk7XHJcbiAqICAgdmlkZW9UZXh0dXJlLnZpZGVvLnBsYXkoKTtcclxuICogICB2aWRlb1RleHR1cmUudmlkZW8ucGF1c2UoKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFNlZSBbVmlkZW8gRXhhbXBsZV0oL3Nob3djYXNlL3ZpZGVvKS5cclxuICovXHJcbmNsYXNzIFZpZGVvVGV4dHVyZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndmlkZW8tdGV4dHVyZSc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogVVJMIHRvIGRvd25sb2FkIHZpZGVvIGZyb20gKi9cclxuICAgICAgICB1cmw6IFByb3BlcnR5LnN0cmluZygpLFxyXG4gICAgICAgIC8qKiBNYXRlcmlhbCB0byBhcHBseSB0aGUgdmlkZW8gdGV4dHVyZSB0byAqL1xyXG4gICAgICAgIG1hdGVyaWFsOiBQcm9wZXJ0eS5tYXRlcmlhbCgpLFxyXG4gICAgICAgIC8qKiBXaGV0aGVyIHRvIGxvb3AgdGhlIHZpZGVvICovXHJcbiAgICAgICAgbG9vcDogUHJvcGVydHkuYm9vbCh0cnVlKSxcclxuICAgICAgICAvKiogV2hldGhlciB0byBhdXRvbWF0aWNhbGx5IHN0YXJ0IHBsYXlpbmcgdGhlIHZpZGVvICovXHJcbiAgICAgICAgYXV0b3BsYXk6IFByb3BlcnR5LmJvb2wodHJ1ZSksXHJcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gbXV0ZSBzb3VuZCAqL1xyXG4gICAgICAgIG11dGVkOiBQcm9wZXJ0eS5ib29sKHRydWUpLFxyXG4gICAgICAgIC8qKiBOYW1lIG9mIHRoZSB0ZXh0dXJlIHByb3BlcnR5IHRvIHNldCAqL1xyXG4gICAgICAgIHRleHR1cmVQcm9wZXJ0eTogUHJvcGVydHkuc3RyaW5nKCdhdXRvJyksXHJcbiAgICB9O1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ3ZpZGVvLXRleHR1cmU6IG1hdGVyaWFsIHByb3BlcnR5IG5vdCBzZXQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMudmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xyXG4gICAgICAgIHRoaXMudmlkZW8uc3JjID0gdGhpcy51cmw7XHJcbiAgICAgICAgdGhpcy52aWRlby5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xyXG4gICAgICAgIHRoaXMudmlkZW8ucGxheXNJbmxpbmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudmlkZW8ubG9vcCA9IHRoaXMubG9vcDtcclxuICAgICAgICB0aGlzLnZpZGVvLm11dGVkID0gdGhpcy5tdXRlZDtcclxuICAgICAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5hdXRvcGxheSkge1xyXG4gICAgICAgICAgICBjb25zdCBwbGF5QWZ0ZXJVc2VyR2VzdHVyZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlkZW8ucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGxheUFmdGVyVXNlckdlc3R1cmUpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBwbGF5QWZ0ZXJVc2VyR2VzdHVyZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlBZnRlclVzZXJHZXN0dXJlKTtcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBwbGF5QWZ0ZXJVc2VyR2VzdHVyZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXBwbHlUZXh0dXJlKCkge1xyXG4gICAgICAgIGNvbnN0IG1hdCA9IHRoaXMubWF0ZXJpYWw7XHJcbiAgICAgICAgY29uc3Qgc2hhZGVyID0gbWF0LnNoYWRlcjtcclxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gKHRoaXMudGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRoaXMuZW5naW5lLCB0aGlzLnZpZGVvKSk7XHJcbiAgICAgICAgaWYgKCFzZXRGaXJzdE1hdGVyaWFsVGV4dHVyZShtYXQsIHRleHR1cmUsIHRoaXMudGV4dHVyZVByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTaGFkZXInLCBzaGFkZXIsICdub3Qgc3VwcG9ydGVkIGJ5IHZpZGVvLXRleHR1cmUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCdyZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrJyBpbiB0aGlzLnZpZGVvKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW8ucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayh0aGlzLnVwZGF0ZVZpZGVvLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZVJlcXVlc3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGlmICh0aGlzLmxvYWRlZCAmJiB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRleHR1cmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZS51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIEFwcGx5IHRleHR1cmUgb24gZmlyc3QgZnJhbWUgdXBkYXRlIHJlcXVlc3QgKi9cclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlUZXh0dXJlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZVJlcXVlc3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZVZpZGVvKCkge1xyXG4gICAgICAgIHRoaXMuZnJhbWVVcGRhdGVSZXF1ZXN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudmlkZW8ucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayh0aGlzLnVwZGF0ZVZpZGVvLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IFZpZGVvVGV4dHVyZSB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuLyoqXHJcbiAqIEFsbG93cyBzd2l0Y2hpbmcgYWxsIG90aGVyIGNvbXBvbmVudHMgb24gYW4gb2JqZWN0IHRvIGFjdGl2ZS9pbmFjdGl2ZVxyXG4gKiBkZXBlbmRpbmcgb24gd2hldGhlciBhIFZSL0FSIHNlc3Npb24gaXMgYWN0aXZlLlxyXG4gKlxyXG4gKiBVc2VmdWwgZm9yIGhpZGluZyBjb250cm9sbGVycyB1bnRpbCB0aGUgdXNlciBlbnRlcnMgVlIgZm9yIGV4YW1wbGUuXHJcbiAqL1xyXG5jbGFzcyBWck1vZGVBY3RpdmVTd2l0Y2ggZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3ZyLW1vZGUtYWN0aXZlLXN3aXRjaCc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogV2hlbiBjb21wb25lbnRzIHNob3VsZCBiZSBhY3RpdmU6IEluIFZSIG9yIHdoZW4gbm90IGluIFZSICovXHJcbiAgICAgICAgYWN0aXZhdGVDb21wb25lbnRzOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFR5cGUuRW51bSxcclxuICAgICAgICAgICAgdmFsdWVzOiBbJ2luIFZSJywgJ2luIG5vbi1WUiddLFxyXG4gICAgICAgICAgICBkZWZhdWx0OiAnaW4gVlInLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqIFdoZXRoZXIgY2hpbGQgb2JqZWN0J3MgY29tcG9uZW50cyBzaG91bGQgYmUgYWZmZWN0ZWQgKi9cclxuICAgICAgICBhZmZlY3RDaGlsZHJlbjogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IHRydWUgfSxcclxuICAgIH07XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBbXTtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudHModGhpcy5vYmplY3QpO1xyXG4gICAgICAgIC8qIEluaXRpYWwgYWN0aXZhdGlvbi9kZWFjdGl2YXRpb24gKi9cclxuICAgICAgICB0aGlzLm9uWFJTZXNzaW9uRW5kKCk7XHJcbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvblN0YXJ0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayA9IHRoaXMub25YUlNlc3Npb25FbmQuYmluZCh0aGlzKTtcclxuICAgIH1cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5hZGQodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBvbkRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5yZW1vdmUodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBnZXRDb21wb25lbnRzKG9iaikge1xyXG4gICAgICAgIGNvbnN0IGNvbXBzID0gb2JqLmdldENvbXBvbmVudHMoKS5maWx0ZXIoKGMpID0+IGMudHlwZSAhPT0gJ3ZyLW1vZGUtYWN0aXZlLXN3aXRjaCcpO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IHRoaXMuY29tcG9uZW50cy5jb25jYXQoY29tcHMpO1xyXG4gICAgICAgIGlmICh0aGlzLmFmZmVjdENoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9IG9iai5jaGlsZHJlbjtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDb21wb25lbnRzKGNoaWxkcmVuW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldENvbXBvbmVudHNBY3RpdmUoYWN0aXZlKSB7XHJcbiAgICAgICAgY29uc3QgY29tcHMgPSB0aGlzLmNvbXBvbmVudHM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21wcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBjb21wc1tpXS5hY3RpdmUgPSBhY3RpdmU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25YUlNlc3Npb25TdGFydCgpIHtcclxuICAgICAgICB0aGlzLnNldENvbXBvbmVudHNBY3RpdmUodGhpcy5hY3RpdmF0ZUNvbXBvbmVudHMgPT0gMCk7XHJcbiAgICB9XHJcbiAgICBvblhSU2Vzc2lvbkVuZCgpIHtcclxuICAgICAgICB0aGlzLnNldENvbXBvbmVudHNBY3RpdmUodGhpcy5hY3RpdmF0ZUNvbXBvbmVudHMgIT0gMCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgVnJNb2RlQWN0aXZlU3dpdGNoIH07XHJcbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG5pbXBvcnQgeyBDb2xsaWRlciwgQ29sbGlzaW9uQ29tcG9uZW50LCBDb21wb25lbnQsIEVtaXR0ZXIsIE1lc2gsIE1lc2hBdHRyaWJ1dGUsIE1lc2hDb21wb25lbnQsIE1lc2hJbmRleFR5cGUsIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcbmltcG9ydCB7IHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCB9IGZyb20gJy4vdXRpbHMvd2VieHIuanMnO1xyXG4vLyBGSVhNRTogZWFyY3V0IG92ZXJyaWRlcyBkZWZhdWx0IGV4cG9ydCwgYnJlYWtpbmcgb3VyIHRlc3RzXHJcbmltcG9ydCBlYXJjdXQgZnJvbSAnZWFyY3V0JztcclxuY29uc3QgdGVtcFZlYzMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4vKiogQ29tcHV0ZSBtaW5pbXVtIGFuZCBtYXhpdW0gZXh0ZW50cyBvZiBnaXZlbiBsaXN0IG9mIGNvbnRvdXIgcG9pbnRzICovXHJcbmZ1bmN0aW9uIGV4dGVudHNGcm9tQ29udG91cihvdXQsIHBvaW50cykge1xyXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT0gMClcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgbGV0IGFic01heFggPSBNYXRoLmFicyhwb2ludHNbMF0ueCk7XHJcbiAgICBsZXQgYWJzTWF4WiA9IE1hdGguYWJzKHBvaW50c1swXS56KTtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcG9pbnRzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgYWJzTWF4WCA9IE1hdGgubWF4KGFic01heFgsIE1hdGguYWJzKHBvaW50c1tpXS54KSk7XHJcbiAgICAgICAgYWJzTWF4WiA9IE1hdGgubWF4KGFic01heFosIE1hdGguYWJzKHBvaW50c1tpXS56KSk7XHJcbiAgICB9XHJcbiAgICBvdXRbMF0gPSBhYnNNYXhYO1xyXG4gICAgb3V0WzFdID0gMDtcclxuICAgIG91dFsyXSA9IGFic01heFo7XHJcbn1cclxuLyoqIENoZWNrIHdoZXRoZXIgeCBsaWVzIGJldHdlZW4gYSBhbmQgYiAqL1xyXG5mdW5jdGlvbiB3aXRoaW4oeCwgYSwgYikge1xyXG4gICAgaWYgKGEgPiBiKVxyXG4gICAgICAgIHJldHVybiB4IDwgYSAmJiB4ID4gYjtcclxuICAgIHJldHVybiB4ID4gYSAmJiB4IDwgYjtcclxufVxyXG4vKipcclxuICogQ2hlY2sgd2hldGhlciBnaXZlbiBwb2ludCBvbiBwbGFuZSdzIGJvdW5kaW5nIGJveCBpcyBpbnNpZGUgcGxhbmUncyBwb2x5Z29uXHJcbiAqXHJcbiAqIEBwYXJhbSBwIDNEIHBvaW50IGluIHBsYW5lJ3MgbG9jYWwgc3BhY2UsIFkgdmFsdWUgaXMgaWdub3JlZCwgc2luY2UgaXQgaXMgYXNzdW1lZFxyXG4gKiAgICAgdGhhdCB0aGUgcG9pbnQgd2FzIGNoZWNrZWQgYWdhaW5zdCB0aGUgcGxhbmUncyBib3VuZGluZyBib3guXHJcbiAqIEBwYXJhbSBwbGFuZSBYUlBsYW5lIHRoYXQgaGFzIGBYUlBsYW5lLnBvbHlnb25gXHJcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgcG9pbnQgbGllcyBvbiB0aGUgcGxhbmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BvaW50TG9jYWxPblhSUGxhbmVQb2x5Z29uKHAsIHBsYW5lKSB7XHJcbiAgICBjb25zdCBwb2ludHMgPSBwbGFuZS5wb2x5Z29uO1xyXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPCAzKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIC8qIENvdW50IHJheSBpbnRlcnNlY3Rpb25zOiBldmVuID09IGluc2lkZSwgb2RkID09IG91dHNpZGUgKi9cclxuICAgIGNvbnN0IHBYID0gcFswXTtcclxuICAgIGNvbnN0IHBaID0gcFsyXTtcclxuICAgIGxldCBpbnRlcnNlY3Rpb25zID0gMDtcclxuICAgIGZvciAobGV0IG4gPSAwLCBsID0gcG9pbnRzLmxlbmd0aCAtIDE7IG4gPCBwb2ludHMubGVuZ3RoOyArK24pIHtcclxuICAgICAgICBjb25zdCBhWCA9IHBvaW50c1tsXS54O1xyXG4gICAgICAgIGNvbnN0IGFaID0gcG9pbnRzW2xdLno7XHJcbiAgICAgICAgY29uc3QgcyA9IChwb2ludHNbbl0ueiAtIGFaKSAvIChwb2ludHNbbl0ueCAtIGFYKTtcclxuICAgICAgICBjb25zdCB4ID0gTWF0aC5hYnMoKHBaIC0gYVopIC8gcyk7XHJcbiAgICAgICAgaWYgKHggPj0gMC4wICYmIHggPD0gMS4wICYmIHdpdGhpbih4ICsgcFgsIGFYLCBwb2ludHNbbl0ueCkpXHJcbiAgICAgICAgICAgICsraW50ZXJzZWN0aW9ucztcclxuICAgICAgICBsID0gbjtcclxuICAgIH1cclxuICAgIHJldHVybiAoaW50ZXJzZWN0aW9ucyAmIDEpID09IDA7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrIHdoZXRoZXIgZ2l2ZW4gcG9pbnQgb24gcGxhbmUncyBib3VuZGluZyBib3ggaXMgaW5zaWRlIHBsYW5lJ3MgcG9seWdvblxyXG4gKlxyXG4gKiBAcGFyYW0gcCAzRCBwb2ludCB0byB0ZXN0LiBJdCBpcyBhc3N1bWVkIHRoYXQgdGhlIHBvaW50IHdhcyBjaGVja2VkIGFnYWluc3RcclxuICogICAgIHRoZSBwbGFuZSdzIGJvdW5kaW5nIGJveCBiZWZvcmVoYW5kLlxyXG4gKiBAcGFyYW0gcGxhbmUgWFJQbGFuZSB0aGF0IGhhcyBgWFJQbGFuZS5wb2x5Z29uYFxyXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHBvaW50IGxpZXMgb24gdGhlIHBsYW5lXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNQb2ludFdvcmxkT25YUlBsYW5lUG9seWdvbihvYmplY3QsIHAsIHBsYW5lKSB7XHJcbiAgICBpZiAocGxhbmUucG9seWdvbi5sZW5ndGggPCAzKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGlzUG9pbnRMb2NhbE9uWFJQbGFuZVBvbHlnb24ob2JqZWN0LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKHRlbXBWZWMzLCBwKSwgcGxhbmUpO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBwbGFuZSBtZXNoIGZyb20gYSBsaXN0IG9mIGNvbnRvdXIgcG9pbnRzXHJcbiAqXHJcbiAqIEBwYXJhbSBlbmdpbmUgRW5naW5lIHRvIGNyZWF0ZSB0aGUgbWVzaCB3aXRoXHJcbiAqIEBwYXJhbSBwb2ludHMgQ29udG91ciBwb2ludHNcclxuICogQHBhcmFtIG1lc2hUb1VwZGF0ZSBPcHRpb25hbCBtZXNoIHRvIHVwZGF0ZSBpbnN0ZWFkIG9mIGNyZWF0aW5nIGEgbmV3IG9uZS5cclxuICovXHJcbmZ1bmN0aW9uIHBsYW5lTWVzaEZyb21Db250b3VyKGVuZ2luZSwgcG9pbnRzLCBtZXNoVG9VcGRhdGUgPSBudWxsKSB7XHJcbiAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IHBvaW50cy5sZW5ndGg7XHJcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGV4Q291bnQgKiAyKTtcclxuICAgIGZvciAobGV0IGkgPSAwLCBkID0gMDsgaSA8IHZlcnRleENvdW50OyArK2ksIGQgKz0gMikge1xyXG4gICAgICAgIHZlcnRpY2VzW2RdID0gcG9pbnRzW2ldLng7XHJcbiAgICAgICAgdmVydGljZXNbZCArIDFdID0gcG9pbnRzW2ldLno7XHJcbiAgICB9XHJcbiAgICBjb25zdCB0cmlhbmdsZXMgPSBlYXJjdXQodmVydGljZXMpO1xyXG4gICAgY29uc3QgbWVzaCA9IG1lc2hUb1VwZGF0ZSB8fFxyXG4gICAgICAgIG5ldyBNZXNoKGVuZ2luZSwge1xyXG4gICAgICAgICAgICB2ZXJ0ZXhDb3VudCxcclxuICAgICAgICAgICAgLyogQXNzdW1wdGlvbiBoZXJlIHRoYXQgd2Ugd2lsbCBuZXZlciBoYXZlIG1vcmUgdGhhbiAyNTYgcG9pbnRzXHJcbiAgICAgICAgICAgICAqIGluIHRoZSBkZXRlY3RlZCBwbGFuZSBtZXNoZXMhICovXHJcbiAgICAgICAgICAgIGluZGV4VHlwZTogTWVzaEluZGV4VHlwZS5VbnNpZ25lZEJ5dGUsXHJcbiAgICAgICAgICAgIGluZGV4RGF0YTogdHJpYW5nbGVzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgaWYgKG1lc2gudmVydGV4Q291bnQgIT09IHZlcnRleENvdW50KSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCd2ZXJ0ZXhDb3VudCBvZiBtZXNoVG9VcGRhdGUgZGlkIG5vdCBtYXRjaCByZXF1aXJlZCB2ZXJ0ZXhDb3VudCcpO1xyXG4gICAgICAgIHJldHVybiBtZXNoO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcG9zaXRpb25zID0gbWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5Qb3NpdGlvbik7XHJcbiAgICBjb25zdCB0ZXh0dXJlQ29vcmRzID0gbWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5UZXh0dXJlQ29vcmRpbmF0ZSk7XHJcbiAgICBjb25zdCBub3JtYWxzID0gbWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5Ob3JtYWwpO1xyXG4gICAgdGVtcFZlYzNbMV0gPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIHMgPSAwOyBpIDwgdmVydGV4Q291bnQ7ICsraSwgcyArPSAyKSB7XHJcbiAgICAgICAgdGVtcFZlYzNbMF0gPSB2ZXJ0aWNlc1tzXTtcclxuICAgICAgICB0ZW1wVmVjM1syXSA9IHZlcnRpY2VzW3MgKyAxXTtcclxuICAgICAgICBwb3NpdGlvbnMuc2V0KGksIHRlbXBWZWMzKTtcclxuICAgIH1cclxuICAgIHRleHR1cmVDb29yZHM/LnNldCgwLCB2ZXJ0aWNlcyk7XHJcbiAgICBpZiAobm9ybWFscykge1xyXG4gICAgICAgIHRlbXBWZWMzWzBdID0gMDtcclxuICAgICAgICB0ZW1wVmVjM1sxXSA9IDE7XHJcbiAgICAgICAgdGVtcFZlYzNbMl0gPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGV4Q291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICBub3JtYWxzLnNldChpLCB0ZW1wVmVjMyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG1lc2hUb1VwZGF0ZSlcclxuICAgICAgICBtZXNoLnVwZGF0ZSgpO1xyXG4gICAgcmV0dXJuIG1lc2g7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlIG1lc2hlcyBhbmQgY29sbGlzaW9ucyBmb3IgWFJQbGFuZXMgdXNpbmcgW1dlYlhSIERldmljZSBBUEkgLSBQbGFuZSBEZXRlY3Rpb25dKGh0dHBzOi8vaW1tZXJzaXZlLXdlYi5naXRodWIuaW8vcmVhbC13b3JsZC1nZW9tZXRyeS9wbGFuZS1kZXRlY3Rpb24uaHRtbCkuXHJcbiAqL1xyXG5jbGFzcyBQbGFuZURldGVjdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAncGxhbmUtZGV0ZWN0aW9uJztcclxuICAgIC8qKlxyXG4gICAgICogTWF0ZXJpYWwgdG8gYXNzaWduIHRvIGNyZWF0ZWQgcGxhbmUgbWVzaGVzIG9yIGBudWxsYCBpZiBtZXNoZXMgc2hvdWxkIG5vdCBiZSBjcmVhdGVkLlxyXG4gICAgICovXHJcbiAgICBwbGFuZU1hdGVyaWFsID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogQ29sbGlzaW9uIG1hc2sgdG8gYXNzaWduIHRvIG5ld2x5IGNyZWF0ZWQgY29sbGlzaW9uIGNvbXBvbmVudHMgb3IgYSBuZWdhdGl2ZSB2YWx1ZSBpZlxyXG4gICAgICogY29sbGlzaW9uIGNvbXBvbmVudHMgc2hvdWxkIG5vdCBiZSBjcmVhdGVkLlxyXG4gICAgICovXHJcbiAgICBjb2xsaXNpb25NYXNrID0gLTE7XHJcbiAgICAvKiogTWFwIG9mIGFsbCBwbGFuZXMgYW5kIHRoZWlyIGxhc3QgdXBkYXRlZCB0aW1lc3RhbXBzICovXHJcbiAgICBwbGFuZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAvKiogT2JqZWN0cyBnZW5lcmF0ZWQgZm9yIGVhY2ggWFJQbGFuZSAqL1xyXG4gICAgcGxhbmVPYmplY3RzID0gbmV3IE1hcCgpO1xyXG4gICAgLyoqIENhbGxlZCB3aGVuIGEgcGxhbmUgc3RhcnRzIHRyYWNraW5nICovXHJcbiAgICBvblBsYW5lRm91bmQgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIENhbGxlZCB3aGVuIGEgcGxhbmUgc3RvcHMgdHJhY2tpbmcgKi9cclxuICAgIG9uUGxhbmVMb3N0ID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZW5naW5lLnhyPy5mcmFtZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAodGhpcy5lbmdpbmUueHIuZnJhbWUuZGV0ZWN0ZWRQbGFuZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdwbGFuZS1kZXRlY3Rpb246IFdlYlhSIGZlYXR1cmUgbm90IGF2YWlsYWJsZS4nKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgY29uc3QgZGV0ZWN0ZWRQbGFuZXMgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5kZXRlY3RlZFBsYW5lcztcclxuICAgICAgICBmb3IgKGNvbnN0IFtwbGFuZSwgX10gb2YgdGhpcy5wbGFuZXMpIHtcclxuICAgICAgICAgICAgaWYgKCFkZXRlY3RlZFBsYW5lcy5oYXMocGxhbmUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiNwbGFuZUxvc3QocGxhbmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRldGVjdGVkUGxhbmVzLmZvckVhY2goKHBsYW5lKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYW5lcy5oYXMocGxhbmUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxhbmUubGFzdENoYW5nZWRUaW1lID4gdGhpcy5wbGFuZXMuZ2V0KHBsYW5lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3BsYW5lVXBkYXRlKHBsYW5lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuI3BsYW5lRm91bmQocGxhbmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuI3BsYW5lVXBkYXRlUG9zZShwbGFuZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAjcGxhbmVMb3N0KHBsYW5lKSB7XHJcbiAgICAgICAgdGhpcy5wbGFuZXMuZGVsZXRlKHBsYW5lKTtcclxuICAgICAgICBjb25zdCBvID0gdGhpcy5wbGFuZU9iamVjdHMuZ2V0KHBsYW5lKTtcclxuICAgICAgICB0aGlzLm9uUGxhbmVMb3N0Lm5vdGlmeShwbGFuZSwgbyk7XHJcbiAgICAgICAgLyogVXNlciBtaWdodCBkZXN0cm95IHRoZSBvYmplY3QgKi9cclxuICAgICAgICBpZiAoby5vYmplY3RJZCA+IDApXHJcbiAgICAgICAgICAgIG8uZGVzdHJveSgpO1xyXG4gICAgfVxyXG4gICAgI3BsYW5lRm91bmQocGxhbmUpIHtcclxuICAgICAgICB0aGlzLnBsYW5lcy5zZXQocGxhbmUsIHBsYW5lLmxhc3RDaGFuZ2VkVGltZSk7XHJcbiAgICAgICAgY29uc3QgbyA9IHRoaXMuZW5naW5lLnNjZW5lLmFkZE9iamVjdCh0aGlzLm9iamVjdCk7XHJcbiAgICAgICAgdGhpcy5wbGFuZU9iamVjdHMuc2V0KHBsYW5lLCBvKTtcclxuICAgICAgICBpZiAodGhpcy5wbGFuZU1hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgIG8uYWRkQ29tcG9uZW50KE1lc2hDb21wb25lbnQsIHtcclxuICAgICAgICAgICAgICAgIG1lc2g6IHBsYW5lTWVzaEZyb21Db250b3VyKHRoaXMuZW5naW5lLCBwbGFuZS5wb2x5Z29uKSxcclxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOiB0aGlzLnBsYW5lTWF0ZXJpYWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jb2xsaXNpb25NYXNrID49IDApIHtcclxuICAgICAgICAgICAgZXh0ZW50c0Zyb21Db250b3VyKHRlbXBWZWMzLCBwbGFuZS5wb2x5Z29uKTtcclxuICAgICAgICAgICAgdGVtcFZlYzNbMV0gPSAwLjAyNTtcclxuICAgICAgICAgICAgby5hZGRDb21wb25lbnQoQ29sbGlzaW9uQ29tcG9uZW50LCB7XHJcbiAgICAgICAgICAgICAgICBncm91cDogdGhpcy5jb2xsaXNpb25NYXNrLFxyXG4gICAgICAgICAgICAgICAgY29sbGlkZXI6IENvbGxpZGVyLkJveCxcclxuICAgICAgICAgICAgICAgIGV4dGVudHM6IHRlbXBWZWMzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vblBsYW5lRm91bmQubm90aWZ5KHBsYW5lLCBvKTtcclxuICAgIH1cclxuICAgICNwbGFuZVVwZGF0ZShwbGFuZSkge1xyXG4gICAgICAgIHRoaXMucGxhbmVzLnNldChwbGFuZSwgcGxhbmUubGFzdENoYW5nZWRUaW1lKTtcclxuICAgICAgICBjb25zdCBwbGFuZU1lc2ggPSB0aGlzLnBsYW5lT2JqZWN0cy5nZXQocGxhbmUpLmdldENvbXBvbmVudChNZXNoQ29tcG9uZW50KTtcclxuICAgICAgICBpZiAoIXBsYW5lTWVzaClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHBsYW5lTWVzaEZyb21Db250b3VyKHRoaXMuZW5naW5lLCBwbGFuZS5wb2x5Z29uLCBwbGFuZU1lc2gubWVzaCk7XHJcbiAgICB9XHJcbiAgICAjcGxhbmVVcGRhdGVQb3NlKHBsYW5lKSB7XHJcbiAgICAgICAgY29uc3QgbyA9IHRoaXMucGxhbmVPYmplY3RzLmdldChwbGFuZSk7XHJcbiAgICAgICAgY29uc3QgcG9zZSA9IHRoaXMuZW5naW5lLnhyLmZyYW1lLmdldFBvc2UocGxhbmUucGxhbmVTcGFjZSwgdGhpcy5lbmdpbmUueHIuY3VycmVudFJlZmVyZW5jZVNwYWNlKTtcclxuICAgICAgICBpZiAoIXBvc2UpIHtcclxuICAgICAgICAgICAgby5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwobywgcG9zZS50cmFuc2Zvcm0pO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkubWF0ZXJpYWwoKVxyXG5dLCBQbGFuZURldGVjdGlvbi5wcm90b3R5cGUsIFwicGxhbmVNYXRlcmlhbFwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmludCgpXHJcbl0sIFBsYW5lRGV0ZWN0aW9uLnByb3RvdHlwZSwgXCJjb2xsaXNpb25NYXNrXCIsIHZvaWQgMCk7XHJcbmV4cG9ydCB7IFBsYW5lRGV0ZWN0aW9uIH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyB2ZWMzLCBtYXQ0LCBxdWF0LCBxdWF0MiB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbmNvbnN0IFZSTV9ST0xMX0FYRVMgPSB7XHJcbiAgICBYOiBbMS4wLCAwLjAsIDAuMF0sXHJcbiAgICBZOiBbMC4wLCAxLjAsIDAuMF0sXHJcbiAgICBaOiBbMC4wLCAwLjAsIDEuMF0sXHJcbn07XHJcbmNvbnN0IFZSTV9BSU1fQVhFUyA9IHtcclxuICAgIFBvc2l0aXZlWDogWzEuMCwgMC4wLCAwLjBdLFxyXG4gICAgTmVnYXRpdmVYOiBbLTEuMCwgMC4wLCAwLjBdLFxyXG4gICAgUG9zaXRpdmVZOiBbMC4wLCAxLjAsIDAuMF0sXHJcbiAgICBOZWdhdGl2ZVk6IFswLjAsIC0xLjAsIDAuMF0sXHJcbiAgICBQb3NpdGl2ZVo6IFswLjAsIDAuMCwgMS4wXSxcclxuICAgIE5lZ2F0aXZlWjogWzAuMCwgMC4wLCAtMS4wXSxcclxufTtcclxuLyoqXHJcbiAqIENvbXBvbmVudCBmb3IgbG9hZGluZyBhbmQgaGFuZGxpbmcgVlJNIDEuMCBtb2RlbHMuXHJcbiAqXHJcbiAqIFBvc2luZyBvZiB0aGUgbW9kZWwgc2hvdWxkIGJlIGRvbmUgZXhjbHVzaXZlbHkgYnkgcm90YXRpbmcgdGhlIGJvbmVzLiBUaGVzZSBjYW4gYmVcclxuICogYWNjZXNzZWQgdXNpbmcgdGhlIGAuYm9uZXNgIHByb3BlcnR5IGFuZCBmb2xsb3cgdGhlIFZSTSBib25lIG5hbWluZy4gTm90ZSB0aGF0IG5vdFxyXG4gKiBhbGwgVlJNIG1vZGVscyB3aWxsIGhhdmUgYWxsIHBvc3NpYmxlIGJvbmVzLiBUaGUgcmVzdCBwb3NlIChULXBvc2UpIGlzIGNhcHR1cmVkIGluXHJcbiAqIHRoZSBgLnJlc3RQb3NlYCBwcm9wZXJ0eS4gUmVzZXR0aW5nIGEgYm9uZSB0byBpdHMgcmVzdCBwb3NlIGNhbiBiZSBkb25lIGFzIGZvbGxvd3M6XHJcbiAqIGBgYGpzXHJcbiAqIHZybUNvbXBvbmVudC5ib25lc1t2cm1Cb25lTmFtZV0ucm90YXRpb25Mb2NhbCA9IHZybUNvbXBvbmVudC5yZXN0UG9zZVt2cm1Cb25lTmFtZV07XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBNb3ZpbmcgdGhlIG1vZGVsIHRocm91Z2ggdGhlIHdvcmxkIHNob3VsZCBiZSBkb25lIGJ5IG1vdmluZyB0aGUgb2JqZWN0IHRoaXMgY29tcG9uZW50XHJcbiAqIGlzIGF0dGFjaGVkIHRvLiBJbiBvdGhlciB3b3JkcywgYnkgbW92aW5nIHRoZSByb290IG9mIHRoZSBWUk0gbW9kZWwuIFRoZSBib25lcyBhbmQgYW55XHJcbiAqIGRlc2NlbmRhbnQgb2JqZWN0cyBzaG91bGQgKm5vdCogYmUgdXNlZCB0byBtb3ZlIHRoZSBWUk0gbW9kZWwuXHJcbiAqXHJcbiAqIFRoZSBjb3JlIGV4dGVuc2lvbiBgVlJNQ192cm1gIGFzIHdlbGwgYXMgdGhlYFZSTUNfc3ByaW5nQm9uZWAgYW5kIGBWUk1DX25vZGVfY29uc3RyYWludGBcclxuICogZXh0ZW5zaW9ucyBhcmUgc3VwcG9ydGVkLlxyXG4gKlxyXG4gKiAqKkxpbWl0YXRpb25zOioqXHJcbiAqIC0gTm8gc3VwcG9ydCBmb3IgYFZSTUNfbWF0ZXJpYWxfbXRvb25gXHJcbiAqIC0gRXhwcmVzc2lvbnMgYXJlbid0IHN1cHBvcnRlZFxyXG4gKiAtIEV4cHJlc3Npb24gYmFzZWQgbG9va0F0IGlzbid0IHN1cHBvcnRlZFxyXG4gKiAtIE1lc2ggYW5ub3RhdGlvbiBtb2RlIGBhdXRvYCBpcyBub3Qgc3VwcG9ydGVkIChmaXJzdCBwZXJzb24gbW9kZSlcclxuICovXHJcbmNsYXNzIFZybSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndnJtJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBVUkwgdG8gYSBWUk0gZmlsZSB0byBsb2FkICovXHJcbiAgICAgICAgc3JjOiB7IHR5cGU6IFR5cGUuU3RyaW5nIH0sXHJcbiAgICAgICAgLyoqIE9iamVjdCB0aGUgVlJNIGlzIGxvb2tpbmcgYXQgKi9cclxuICAgICAgICBsb29rQXRUYXJnZXQ6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcclxuICAgIH07XHJcbiAgICAvKiogTWV0YSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgVlJNIG1vZGVsICovXHJcbiAgICBtZXRhID0gbnVsbDtcclxuICAgIC8qKiBUaGUgaHVtYW5vaWQgYm9uZXMgb2YgdGhlIFZSTSBtb2RlbCAqL1xyXG4gICAgYm9uZXMgPSB7XHJcbiAgICAgICAgLyogVG9yc28gKi9cclxuICAgICAgICBoaXBzOiBudWxsLFxyXG4gICAgICAgIHNwaW5lOiBudWxsLFxyXG4gICAgICAgIGNoZXN0OiBudWxsLFxyXG4gICAgICAgIHVwcGVyQ2hlc3Q6IG51bGwsXHJcbiAgICAgICAgbmVjazogbnVsbCxcclxuICAgICAgICAvKiBIZWFkICovXHJcbiAgICAgICAgaGVhZDogbnVsbCxcclxuICAgICAgICBsZWZ0RXllOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0RXllOiBudWxsLFxyXG4gICAgICAgIGphdzogbnVsbCxcclxuICAgICAgICAvKiBMZWdzICovXHJcbiAgICAgICAgbGVmdFVwcGVyTGVnOiBudWxsLFxyXG4gICAgICAgIGxlZnRMb3dlckxlZzogbnVsbCxcclxuICAgICAgICBsZWZ0Rm9vdDogbnVsbCxcclxuICAgICAgICBsZWZ0VG9lczogbnVsbCxcclxuICAgICAgICByaWdodFVwcGVyTGVnOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0TG93ZXJMZWc6IG51bGwsXHJcbiAgICAgICAgcmlnaHRGb290OiBudWxsLFxyXG4gICAgICAgIHJpZ2h0VG9lczogbnVsbCxcclxuICAgICAgICAvKiBBcm1zICovXHJcbiAgICAgICAgbGVmdFNob3VsZGVyOiBudWxsLFxyXG4gICAgICAgIGxlZnRVcHBlckFybTogbnVsbCxcclxuICAgICAgICBsZWZ0TG93ZXJBcm06IG51bGwsXHJcbiAgICAgICAgbGVmdEhhbmQ6IG51bGwsXHJcbiAgICAgICAgcmlnaHRTaG91bGRlcjogbnVsbCxcclxuICAgICAgICByaWdodFVwcGVyQXJtOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0TG93ZXJBcm06IG51bGwsXHJcbiAgICAgICAgcmlnaHRIYW5kOiBudWxsLFxyXG4gICAgICAgIC8qIEZpbmdlcnMgKi9cclxuICAgICAgICBsZWZ0VGh1bWJNZXRhY2FycGFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRUaHVtYlByb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRUaHVtYkRpc3RhbDogbnVsbCxcclxuICAgICAgICBsZWZ0SW5kZXhQcm94aW1hbDogbnVsbCxcclxuICAgICAgICBsZWZ0SW5kZXhJbnRlcm1lZGlhdGU6IG51bGwsXHJcbiAgICAgICAgbGVmdEluZGV4RGlzdGFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRNaWRkbGVQcm94aW1hbDogbnVsbCxcclxuICAgICAgICBsZWZ0TWlkZGxlSW50ZXJtZWRpYXRlOiBudWxsLFxyXG4gICAgICAgIGxlZnRNaWRkbGVEaXN0YWw6IG51bGwsXHJcbiAgICAgICAgbGVmdFJpbmdQcm94aW1hbDogbnVsbCxcclxuICAgICAgICBsZWZ0UmluZ0ludGVybWVkaWF0ZTogbnVsbCxcclxuICAgICAgICBsZWZ0UmluZ0Rpc3RhbDogbnVsbCxcclxuICAgICAgICBsZWZ0TGl0dGxlUHJveGltYWw6IG51bGwsXHJcbiAgICAgICAgbGVmdExpdHRsZUludGVybWVkaWF0ZTogbnVsbCxcclxuICAgICAgICBsZWZ0TGl0dGxlRGlzdGFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0VGh1bWJNZXRhY2FycGFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0VGh1bWJQcm94aW1hbDogbnVsbCxcclxuICAgICAgICByaWdodFRodW1iRGlzdGFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0SW5kZXhQcm94aW1hbDogbnVsbCxcclxuICAgICAgICByaWdodEluZGV4SW50ZXJtZWRpYXRlOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0SW5kZXhEaXN0YWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRNaWRkbGVQcm94aW1hbDogbnVsbCxcclxuICAgICAgICByaWdodE1pZGRsZUludGVybWVkaWF0ZTogbnVsbCxcclxuICAgICAgICByaWdodE1pZGRsZURpc3RhbDogbnVsbCxcclxuICAgICAgICByaWdodFJpbmdQcm94aW1hbDogbnVsbCxcclxuICAgICAgICByaWdodFJpbmdJbnRlcm1lZGlhdGU6IG51bGwsXHJcbiAgICAgICAgcmlnaHRSaW5nRGlzdGFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0TGl0dGxlUHJveGltYWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRMaXR0bGVJbnRlcm1lZGlhdGU6IG51bGwsXHJcbiAgICAgICAgcmlnaHRMaXR0bGVEaXN0YWw6IG51bGwsXHJcbiAgICB9O1xyXG4gICAgLyoqIFJvdGF0aW9ucyBvZiB0aGUgYm9uZXMgaW4gdGhlIHJlc3QgcG9zZSAoVC1wb3NlKSAqL1xyXG4gICAgcmVzdFBvc2UgPSB7fTtcclxuICAgIC8qIEFsbCBub2RlIGNvbnN0cmFpbnRzLCBvcmRlcmVkIHRvIGRlYWwgd2l0aCBkZXBlbmRlbmNpZXMgKi9cclxuICAgIF9ub2RlQ29uc3RyYWludHMgPSBbXTtcclxuICAgIC8qIFZSTUNfc3ByaW5nQm9uZSBjaGFpbnMgKi9cclxuICAgIF9zcHJpbmdDaGFpbnMgPSBbXTtcclxuICAgIC8qIFNwaGVyaWNhbCBjb2xsaWRlcnMgZm9yIHNwcmluZyBib25lcyAqL1xyXG4gICAgX3NwaGVyZUNvbGxpZGVycyA9IFtdO1xyXG4gICAgLyogQ2Fwc3VsZSBzaGFwZWQgY29sbGlkZXJzIGZvciBzcHJpbmcgYm9uZXMgKi9cclxuICAgIF9jYXBzdWxlQ29sbGlkZXJzID0gW107XHJcbiAgICAvKiBJbmRpY2F0ZXMgd2hpY2ggbWVzaGVzIGFyZSByZW5kZXJlZCBpbiBmaXJzdC90aGlyZCBwZXJzb24gdmlld3MgKi9cclxuICAgIF9maXJzdFBlcnNvbkFubm90YXRpb25zID0gW107XHJcbiAgICAvKiBDb250YWlucyBkZXRhaWxzIGZvciAoYm9uZSB0eXBlKSBsb29rQXQgYmVoYXZpb3VyICovXHJcbiAgICBfbG9va0F0ID0gbnVsbDtcclxuICAgIC8qIFdoZXRoZXIgb3Igbm90IHRoZSBWUk0gY29tcG9uZW50IGhhcyBiZWVuIGluaXRpYWxpemVkIHdpdGggYGluaXRpYWxpemVWcm1gICovXHJcbiAgICBfaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5fdGVtcFYzID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl90ZW1wVjNBID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl90ZW1wVjNCID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl90ZW1wUXVhdCA9IHF1YXQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fdGVtcFF1YXRBID0gcXVhdC5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl90ZW1wUXVhdEIgPSBxdWF0LmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBNYXQ0QSA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fdGVtcFF1YXQyID0gcXVhdDIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fdGFpbFRvU2hhcGUgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2hlYWRUb1RhaWwgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2luZXJ0aWEgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3N0aWZmbmVzcyA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fZXh0ZXJuYWwgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3JpZ2h0VmVjdG9yID0gdmVjMy5zZXQodmVjMy5jcmVhdGUoKSwgMSwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5fdXBWZWN0b3IgPSB2ZWMzLnNldCh2ZWMzLmNyZWF0ZSgpLCAwLCAxLCAwKTtcclxuICAgICAgICB0aGlzLl9mb3J3YXJkVmVjdG9yID0gdmVjMy5zZXQodmVjMy5jcmVhdGUoKSwgMCwgMCwgMSk7XHJcbiAgICAgICAgdGhpcy5faWRlbnRpdHlRdWF0ID0gcXVhdC5pZGVudGl0eShxdWF0LmNyZWF0ZSgpKTtcclxuICAgICAgICB0aGlzLl9yYWQyZGVnID0gMTgwLjAgLyBNYXRoLlBJO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNyYykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCd2cm06IHNyYyBwcm9wZXJ0eSBub3Qgc2V0Jyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbmdpbmUuc2NlbmVcclxuICAgICAgICAgICAgLmFwcGVuZCh0aGlzLnNyYywgeyBsb2FkR2x0ZkV4dGVuc2lvbnM6IHRydWUgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHsgcm9vdCwgZXh0ZW5zaW9ucyB9KSA9PiB7XHJcbiAgICAgICAgICAgIHJvb3QuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IChjaGlsZC5wYXJlbnQgPSB0aGlzLm9iamVjdCkpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplVnJtKGV4dGVuc2lvbnMpO1xyXG4gICAgICAgICAgICByb290LmRlc3Ryb3koKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGFyc2VzIHRoZSBWUk0gZ2xURiBleHRlbnNpb25zIGFuZCBpbml0aWFsaXplcyB0aGUgdnJtIGNvbXBvbmVudC5cclxuICAgICAqIEBwYXJhbSB7R0xURkV4dGVuc2lvbnN9IGV4dGVuc2lvbnMgVGhlIGdsVEYgZXh0ZW5zaW9ucyBmb3IgdGhlIFZSTSBtb2RlbFxyXG4gICAgICovXHJcbiAgICBfaW5pdGlhbGl6ZVZybShleHRlbnNpb25zKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdWUk0gY29tcG9uZW50IGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgVlJNQ192cm0gPSBleHRlbnNpb25zLnJvb3RbJ1ZSTUNfdnJtJ107XHJcbiAgICAgICAgaWYgKCFWUk1DX3ZybSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignTWlzc2luZyBWUk0gZXh0ZW5zaW9ucycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoVlJNQ192cm0uc3BlY1ZlcnNpb24gIT09ICcxLjAnKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBVbnN1cHBvcnRlZCBWUk0gdmVyc2lvbiwgb25seSAxLjAgaXMgc3VwcG9ydGVkLCBidXQgZW5jb3VudGVyZWQgJyR7VlJNQ192cm0uc3BlY1ZlcnNpb259J2ApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1ldGEgPSBWUk1DX3ZybS5tZXRhO1xyXG4gICAgICAgIHRoaXMuX3BhcnNlSHVtYW5vaWQoVlJNQ192cm0uaHVtYW5vaWQsIGV4dGVuc2lvbnMpO1xyXG4gICAgICAgIGlmIChWUk1DX3ZybS5maXJzdFBlcnNvbikge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJzZUZpcnN0UGVyc29uKFZSTUNfdnJtLmZpcnN0UGVyc29uLCBleHRlbnNpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFZSTUNfdnJtLmxvb2tBdCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJzZUxvb2tBdChWUk1DX3ZybS5sb29rQXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9maW5kQW5kUGFyc2VOb2RlQ29uc3RyYWludHMoZXh0ZW5zaW9ucyk7XHJcbiAgICAgICAgY29uc3Qgc3ByaW5nQm9uZSA9IGV4dGVuc2lvbnMucm9vdFsnVlJNQ19zcHJpbmdCb25lJ107XHJcbiAgICAgICAgaWYgKHNwcmluZ0JvbmUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyc2VBbmRJbml0aWFsaXplU3ByaW5nQm9uZXMoc3ByaW5nQm9uZSwgZXh0ZW5zaW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIF9wYXJzZUh1bWFub2lkKGh1bWFub2lkLCBleHRlbnNpb25zKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBib25lTmFtZSBpbiBodW1hbm9pZC5odW1hbkJvbmVzKSB7XHJcbiAgICAgICAgICAgIGlmICghKGJvbmVOYW1lIGluIHRoaXMuYm9uZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVucmVjb2duaXplZCBib25lICcke2JvbmVOYW1lfSdgKTtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBodW1hbm9pZC5odW1hbkJvbmVzW2JvbmVOYW1lXS5ub2RlO1xyXG4gICAgICAgICAgICBjb25zdCBvYmplY3RJZCA9IGV4dGVuc2lvbnMuaWRNYXBwaW5nW25vZGVdO1xyXG4gICAgICAgICAgICB0aGlzLmJvbmVzW2JvbmVOYW1lXSA9IHRoaXMuZW5naW5lLndyYXBPYmplY3Qob2JqZWN0SWQpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc3RQb3NlW2JvbmVOYW1lXSA9IHF1YXQuY29weShxdWF0LmNyZWF0ZSgpLCB0aGlzLmJvbmVzW2JvbmVOYW1lXS5yb3RhdGlvbkxvY2FsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcGFyc2VGaXJzdFBlcnNvbihmaXJzdFBlcnNvbiwgZXh0ZW5zaW9ucykge1xyXG4gICAgICAgIGZvciAoY29uc3QgbWVzaEFubm90YXRpb24gb2YgZmlyc3RQZXJzb24ubWVzaEFubm90YXRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBub2RlOiB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGV4dGVuc2lvbnMuaWRNYXBwaW5nW21lc2hBbm5vdGF0aW9uLm5vZGVdKSxcclxuICAgICAgICAgICAgICAgIGZpcnN0UGVyc29uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdGhpcmRQZXJzb246IHRydWUsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHN3aXRjaCAobWVzaEFubm90YXRpb24udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZmlyc3RQZXJzb25Pbmx5JzpcclxuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uLnRoaXJkUGVyc29uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd0aGlyZFBlcnNvbk9ubHknOlxyXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb24uZmlyc3RQZXJzb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2JvdGgnOlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYXV0byc6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRmlyc3QgcGVyc29uIG1lc2ggYW5ub3RhdGlvbiB0eXBlICdhdXRvJyBpcyBub3Qgc3VwcG9ydGVkLCB0cmVhdGluZyBhcyAnYm90aCchXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBJbnZhbGlkIG1lc2ggYW5ub3RhdGlvbiB0eXBlICcke21lc2hBbm5vdGF0aW9uLnR5cGV9J2ApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0UGVyc29uQW5ub3RhdGlvbnMucHVzaChhbm5vdGF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcGFyc2VMb29rQXQobG9va0F0KSB7XHJcbiAgICAgICAgaWYgKGxvb2tBdC50eXBlICE9PSAnYm9uZScpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbnN1cHBvcnRlZCBsb29rQXQgdHlwZSAnJHtsb29rQXQudHlwZX0nLCBvbmx5ICdib25lJyBpcyBzdXBwb3J0ZWRgKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJzZVJhbmdlTWFwID0gKHJhbmdlTWFwKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dE1heFZhbHVlOiByYW5nZU1hcC5pbnB1dE1heFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgb3V0cHV0U2NhbGU6IHJhbmdlTWFwLm91dHB1dFNjYWxlLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fbG9va0F0ID0ge1xyXG4gICAgICAgICAgICBvZmZzZXRGcm9tSGVhZEJvbmU6IGxvb2tBdC5vZmZzZXRGcm9tSGVhZEJvbmUgfHwgWzAsIDAsIDBdLFxyXG4gICAgICAgICAgICBob3Jpem9udGFsSW5uZXI6IHBhcnNlUmFuZ2VNYXAobG9va0F0LnJhbmdlTWFwSG9yaXpvbnRhbElubmVyKSxcclxuICAgICAgICAgICAgaG9yaXpvbnRhbE91dGVyOiBwYXJzZVJhbmdlTWFwKGxvb2tBdC5yYW5nZU1hcEhvcml6b250YWxPdXRlciksXHJcbiAgICAgICAgICAgIHZlcnRpY2FsRG93bjogcGFyc2VSYW5nZU1hcChsb29rQXQucmFuZ2VNYXBWZXJ0aWNhbERvd24pLFxyXG4gICAgICAgICAgICB2ZXJ0aWNhbFVwOiBwYXJzZVJhbmdlTWFwKGxvb2tBdC5yYW5nZU1hcFZlcnRpY2FsVXApLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBfZmluZEFuZFBhcnNlTm9kZUNvbnN0cmFpbnRzKGV4dGVuc2lvbnMpIHtcclxuICAgICAgICBjb25zdCB0cmF2ZXJzZSA9IChvYmplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgbm9kZUV4dGVuc2lvbnMgPSBleHRlbnNpb25zLm5vZGVbb2JqZWN0Lm9iamVjdElkXTtcclxuICAgICAgICAgICAgaWYgKG5vZGVFeHRlbnNpb25zICYmICdWUk1DX25vZGVfY29uc3RyYWludCcgaW4gbm9kZUV4dGVuc2lvbnMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVDb25zdHJhaW50RXh0ZW5zaW9uID0gbm9kZUV4dGVuc2lvbnNbJ1ZSTUNfbm9kZV9jb25zdHJhaW50J107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25zdHJhaW50ID0gbm9kZUNvbnN0cmFpbnRFeHRlbnNpb24uY29uc3RyYWludDtcclxuICAgICAgICAgICAgICAgIGxldCB0eXBlLCBheGlzO1xyXG4gICAgICAgICAgICAgICAgaWYgKCdyb2xsJyBpbiBjb25zdHJhaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdyb2xsJztcclxuICAgICAgICAgICAgICAgICAgICBheGlzID0gVlJNX1JPTExfQVhFU1tjb25zdHJhaW50LnJvbGwucm9sbEF4aXNdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoJ2FpbScgaW4gY29uc3RyYWludCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnYWltJztcclxuICAgICAgICAgICAgICAgICAgICBheGlzID0gVlJNX0FJTV9BWEVTW2NvbnN0cmFpbnQuYWltLmFpbUF4aXNdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoJ3JvdGF0aW9uJyBpbiBjb25zdHJhaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdyb3RhdGlvbic7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZW5naW5lLndyYXBPYmplY3QoZXh0ZW5zaW9ucy5pZE1hcHBpbmdbY29uc3RyYWludFt0eXBlXS5zb3VyY2VdKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ub2RlQ29uc3RyYWludHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb246IG9iamVjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXhpczogYXhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiBjb25zdHJhaW50W3R5cGVdLndlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyogUmVzdCBwb3NlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uUmVzdExvY2FsUm90YXRpb246IHF1YXQuY29weShxdWF0LmNyZWF0ZSgpLCBvYmplY3Qucm90YXRpb25Mb2NhbCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVJlc3RMb2NhbFJvdGF0aW9uOiBxdWF0LmNvcHkocXVhdC5jcmVhdGUoKSwgc291cmNlLnJvdGF0aW9uTG9jYWwpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VSZXN0TG9jYWxSb3RhdGlvbkludjogcXVhdC5pbnZlcnQocXVhdC5jcmVhdGUoKSwgc291cmNlLnJvdGF0aW9uTG9jYWwpLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdVbnJlY29nbml6ZWQgb3IgaW52YWxpZCBWUk1DX25vZGVfY29uc3RyYWludCwgaWdub3JpbmcgaXQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG9iamVjdC5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgdHJhdmVyc2UoY2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0cmF2ZXJzZSh0aGlzLm9iamVjdCk7XHJcbiAgICB9XHJcbiAgICBfcGFyc2VBbmRJbml0aWFsaXplU3ByaW5nQm9uZXMoc3ByaW5nQm9uZSwgZXh0ZW5zaW9ucykge1xyXG4gICAgICAgIGNvbnN0IGNvbGxpZGVycyA9IChzcHJpbmdCb25lLmNvbGxpZGVycyB8fCBbXSkubWFwKChjb2xsaWRlciwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZVR5cGUgPSAnY2Fwc3VsZScgaW4gY29sbGlkZXIuc2hhcGUgPyAnY2Fwc3VsZScgOiAnc3BoZXJlJztcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlkOiBpLFxyXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGV4dGVuc2lvbnMuaWRNYXBwaW5nW2NvbGxpZGVyLm5vZGVdKSxcclxuICAgICAgICAgICAgICAgIHNoYXBlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNDYXBzdWxlOiBzaGFwZVR5cGUgPT09ICdjYXBzdWxlJyxcclxuICAgICAgICAgICAgICAgICAgICByYWRpdXM6IGNvbGxpZGVyLnNoYXBlW3NoYXBlVHlwZV0ucmFkaXVzLFxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogY29sbGlkZXIuc2hhcGVbc2hhcGVUeXBlXS5vZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFpbDogY29sbGlkZXIuc2hhcGVbc2hhcGVUeXBlXS50YWlsLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNhY2hlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZDogdmVjMy5jcmVhdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICB0YWlsOiB2ZWMzLmNyZWF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9zcGhlcmVDb2xsaWRlcnMgPSBjb2xsaWRlcnMuZmlsdGVyKChjKSA9PiAhYy5zaGFwZS5pc0NhcHN1bGUpO1xyXG4gICAgICAgIHRoaXMuX2NhcHN1bGVDb2xsaWRlcnMgPSBjb2xsaWRlcnMuZmlsdGVyKChjKSA9PiBjLnNoYXBlLmlzQ2Fwc3VsZSk7XHJcbiAgICAgICAgY29uc3QgY29sbGlkZXJHcm91cHMgPSAoc3ByaW5nQm9uZS5jb2xsaWRlckdyb3VwcyB8fCBbXSkubWFwKChncm91cCkgPT4gKHtcclxuICAgICAgICAgICAgbmFtZTogZ3JvdXAubmFtZSxcclxuICAgICAgICAgICAgY29sbGlkZXJzOiBncm91cC5jb2xsaWRlcnMubWFwKChjKSA9PiBjb2xsaWRlcnNbY10pLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBmb3IgKGNvbnN0IHNwcmluZyBvZiBzcHJpbmdCb25lLnNwcmluZ3MpIHtcclxuICAgICAgICAgICAgY29uc3Qgam9pbnRzID0gW107XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qgam9pbnQgb2Ygc3ByaW5nLmpvaW50cykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaW5nSm9pbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0UmFkaXVzOiAwLjAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RpZmZuZXNzOiAxLjAsXHJcbiAgICAgICAgICAgICAgICAgICAgZ3Jhdml0eVBvd2VyOiAwLjAsXHJcbiAgICAgICAgICAgICAgICAgICAgZ3Jhdml0eURpcjogWzAuMCwgLTEuMCwgMC4wXSxcclxuICAgICAgICAgICAgICAgICAgICBkcmFnRm9yY2U6IDAuNSxcclxuICAgICAgICAgICAgICAgICAgICBub2RlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc3ByaW5nSm9pbnQsIGpvaW50KTtcclxuICAgICAgICAgICAgICAgIHNwcmluZ0pvaW50Lm5vZGUgPSB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGV4dGVuc2lvbnMuaWRNYXBwaW5nW3NwcmluZ0pvaW50Lm5vZGVdKTtcclxuICAgICAgICAgICAgICAgIGpvaW50cy5wdXNoKHNwcmluZ0pvaW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzcHJpbmdDaGFpbkNvbGxpZGVycyA9IChzcHJpbmcuY29sbGlkZXJHcm91cHMgfHwgW10pLmZsYXRNYXAoKGNnKSA9PiBjb2xsaWRlckdyb3Vwc1tjZ10uY29sbGlkZXJzKTtcclxuICAgICAgICAgICAgdGhpcy5fc3ByaW5nQ2hhaW5zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogc3ByaW5nLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBjZW50ZXI6IHNwcmluZy5jZW50ZXJcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZW5naW5lLndyYXBPYmplY3QoZXh0ZW5zaW9ucy5pZE1hcHBpbmdbc3ByaW5nLmNlbnRlcl0pXHJcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgam9pbnRzLFxyXG4gICAgICAgICAgICAgICAgc3BoZXJlQ29sbGlkZXJzOiBzcHJpbmdDaGFpbkNvbGxpZGVycy5maWx0ZXIoKGMpID0+ICFjLnNoYXBlLmlzQ2Fwc3VsZSksXHJcbiAgICAgICAgICAgICAgICBjYXBzdWxlQ29sbGlkZXJzOiBzcHJpbmdDaGFpbkNvbGxpZGVycy5maWx0ZXIoKGMpID0+IGMuc2hhcGUuaXNDYXBzdWxlKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIEluaXRpYWxpemUgc3ByaW5nIGJvbmUgam9pbnQgc3RhdGUgKi9cclxuICAgICAgICBmb3IgKGNvbnN0IHNwcmluZ0NoYWluIG9mIHRoaXMuX3NwcmluZ0NoYWlucykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwcmluZ0NoYWluLmpvaW50cy5sZW5ndGggLSAxOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcmluZ0JvbmVKb2ludCA9IHNwcmluZ0NoYWluLmpvaW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkU3ByaW5nQm9uZUpvaW50ID0gc3ByaW5nQ2hhaW4uam9pbnRzW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcmluZ0JvbmVQb3NpdGlvbiA9IHNwcmluZ0JvbmVKb2ludC5ub2RlLmdldFRyYW5zbGF0aW9uV29ybGQodmVjMy5jcmVhdGUoKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFNwcmluZ0JvbmVQb3NpdGlvbiA9IGNoaWxkU3ByaW5nQm9uZUpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Xb3JsZCh2ZWMzLmNyZWF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJvbmVEaXJlY3Rpb24gPSB2ZWMzLnN1YnRyYWN0KHRoaXMuX3RlbXBWM0EsIHNwcmluZ0JvbmVQb3NpdGlvbiwgY2hpbGRTcHJpbmdCb25lUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldlRhaWw6IGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYWlsOiB2ZWMzLmNvcHkodmVjMy5jcmVhdGUoKSwgY2hpbGRTcHJpbmdCb25lUG9zaXRpb24pLFxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxMb2NhbFJvdGF0aW9uOiBxdWF0LmNvcHkocXVhdC5jcmVhdGUoKSwgc3ByaW5nQm9uZUpvaW50Lm5vZGUucm90YXRpb25Mb2NhbCksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbExvY2FsVHJhbnNmb3JtSW52ZXJ0OiBxdWF0Mi5pbnZlcnQocXVhdDIuY3JlYXRlKCksIHNwcmluZ0JvbmVKb2ludC5ub2RlLnRyYW5zZm9ybUxvY2FsKSxcclxuICAgICAgICAgICAgICAgICAgICBib25lQXhpczogdmVjMy5ub3JtYWxpemUodmVjMy5jcmVhdGUoKSwgY2hpbGRTcHJpbmdCb25lSm9pbnQubm9kZS5nZXRUcmFuc2xhdGlvbkxvY2FsKHRoaXMuX3RlbXBWMykpLFxyXG4gICAgICAgICAgICAgICAgICAgIC8qIEVuc3VyZSBib25lIGxlbmd0aCBpcyBhdCBsZWFzdCAxY20gdG8gYXZvaWQgaml0dGVyeSBiZWhhdmlvdXIgZnJvbSB6ZXJvLWxlbmd0aCBib25lcyAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGJvbmVMZW5ndGg6IE1hdGgubWF4KDAuMDEsIHZlYzMubGVuZ3RoKGJvbmVEaXJlY3Rpb24pKSxcclxuICAgICAgICAgICAgICAgICAgICAvKiBUYWlsIHBvc2l0aW9ucyBpbiBjZW50ZXIgc3BhY2UsIGlmIG5lZWRlZCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZUYWlsQ2VudGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYWlsQ2VudGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGlmIChzcHJpbmdDaGFpbi5jZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wcmV2VGFpbENlbnRlciA9IHNwcmluZ0NoYWluLmNlbnRlci50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh2ZWMzLmNyZWF0ZSgpLCBjaGlsZFNwcmluZ0JvbmVQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuY3VycmVudFRhaWxDZW50ZXIgPSB2ZWMzLmNvcHkodmVjMy5jcmVhdGUoKSwgY2hpbGRTcHJpbmdCb25lUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3ByaW5nQm9uZUpvaW50LnN0YXRlID0gc3RhdGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogMS4gUmVzb2x2ZSBodW1hbm9pZCBib25lcyAocGVyZm9ybWVkIGJ5IHVzZXIpICovXHJcbiAgICAgICAgLyogMi4gUmVzb2x2ZSBMb29rQXQgKGJvbmUgdHlwZSkgYXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBoZWFkIGlzIGRldGVybWluZWQgKi9cclxuICAgICAgICB0aGlzLl9yZXNvbHZlTG9va0F0KCk7XHJcbiAgICAgICAgLyogMy4gRXhwcmVzc2lvbiB1cGRhdGUgKFRPRE8pICovXHJcbiAgICAgICAgLyogNC4gQXBwbHkgRXhwcmVzc2lvbiAoVE9ETykgKi9cclxuICAgICAgICAvKiA1LiBSZXNvbHZlIGNvbnN0cmFpbnRzICovXHJcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUNvbnN0cmFpbnRzKCk7XHJcbiAgICAgICAgLyogNi4gUmVzb2x2ZSBTcHJpbmcgQm9uZSAqL1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZVNwcmluZ0JvbmVzKGR0KTtcclxuICAgIH1cclxuICAgIF9yYW5nZU1hcChyYW5nZU1hcCwgaW5wdXQpIHtcclxuICAgICAgICBjb25zdCBtYXhWYWx1ZSA9IHJhbmdlTWFwLmlucHV0TWF4VmFsdWU7XHJcbiAgICAgICAgY29uc3Qgb3V0cHV0U2NhbGUgPSByYW5nZU1hcC5vdXRwdXRTY2FsZTtcclxuICAgICAgICByZXR1cm4gKE1hdGgubWluKGlucHV0LCBtYXhWYWx1ZSkgLyBtYXhWYWx1ZSkgKiBvdXRwdXRTY2FsZTtcclxuICAgIH1cclxuICAgIF9yZXNvbHZlTG9va0F0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fbG9va0F0IHx8ICF0aGlzLmxvb2tBdFRhcmdldCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxvb2tBdFNvdXJjZSA9IHRoaXMuYm9uZXMuaGVhZC50cmFuc2Zvcm1Qb2ludFdvcmxkKHRoaXMuX3RlbXBWM0EsIHRoaXMuX2xvb2tBdC5vZmZzZXRGcm9tSGVhZEJvbmUpO1xyXG4gICAgICAgIGNvbnN0IGxvb2tBdFRhcmdldCA9IHRoaXMubG9va0F0VGFyZ2V0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fdGVtcFYzQik7XHJcbiAgICAgICAgY29uc3QgbG9va0F0RGlyZWN0aW9uID0gdmVjMy5zdWIodGhpcy5fdGVtcFYzQSwgbG9va0F0VGFyZ2V0LCBsb29rQXRTb3VyY2UpO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKGxvb2tBdERpcmVjdGlvbiwgbG9va0F0RGlyZWN0aW9uKTtcclxuICAgICAgICAvKiBDb252ZXJ0IHRoZSBkaXJlY3Rpb24gaW50byBMb29rQXQgc3BhY2UgKi9cclxuICAgICAgICB0aGlzLmJvbmVzLmhlYWQucGFyZW50LnRyYW5zZm9ybVZlY3RvckludmVyc2VXb3JsZChsb29rQXREaXJlY3Rpb24pO1xyXG4gICAgICAgIGNvbnN0IHogPSB2ZWMzLmRvdChsb29rQXREaXJlY3Rpb24sIHRoaXMuX2ZvcndhcmRWZWN0b3IpO1xyXG4gICAgICAgIGNvbnN0IHggPSB2ZWMzLmRvdChsb29rQXREaXJlY3Rpb24sIHRoaXMuX3JpZ2h0VmVjdG9yKTtcclxuICAgICAgICBjb25zdCB5YXcgPSBNYXRoLmF0YW4yKHgsIHopICogdGhpcy5fcmFkMmRlZztcclxuICAgICAgICBjb25zdCB4eiA9IE1hdGguc3FydCh4ICogeCArIHogKiB6KTtcclxuICAgICAgICBjb25zdCB5ID0gdmVjMy5kb3QobG9va0F0RGlyZWN0aW9uLCB0aGlzLl91cFZlY3Rvcik7XHJcbiAgICAgICAgbGV0IHBpdGNoID0gTWF0aC5hdGFuMigteSwgeHopICogdGhpcy5fcmFkMmRlZztcclxuICAgICAgICAvKiBMaW1pdCBwaXRjaCAqL1xyXG4gICAgICAgIGlmIChwaXRjaCA+IDApIHtcclxuICAgICAgICAgICAgcGl0Y2ggPSB0aGlzLl9yYW5nZU1hcCh0aGlzLl9sb29rQXQudmVydGljYWxEb3duLCBwaXRjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwaXRjaCA9IC10aGlzLl9yYW5nZU1hcCh0aGlzLl9sb29rQXQudmVydGljYWxVcCwgLXBpdGNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogTGVmdCBleWUgKGxpbWl0IHlhdykgKi9cclxuICAgICAgICBpZiAodGhpcy5ib25lcy5sZWZ0RXllKSB7XHJcbiAgICAgICAgICAgIGxldCB5YXdMZWZ0ID0geWF3O1xyXG4gICAgICAgICAgICBpZiAoeWF3TGVmdCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHlhd0xlZnQgPSB0aGlzLl9yYW5nZU1hcCh0aGlzLl9sb29rQXQuaG9yaXpvbnRhbElubmVyLCB5YXdMZWZ0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHlhd0xlZnQgPSAtdGhpcy5fcmFuZ2VNYXAodGhpcy5fbG9va0F0Lmhvcml6b250YWxPdXRlciwgLXlhd0xlZnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGV5ZVJvdGF0aW9uID0gcXVhdC5mcm9tRXVsZXIodGhpcy5fdGVtcFF1YXRBLCBwaXRjaCwgeWF3TGVmdCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9uZXMubGVmdEV5ZS5yb3RhdGlvbkxvY2FsID0gcXVhdC5tdWx0aXBseShleWVSb3RhdGlvbiwgdGhpcy5yZXN0UG9zZS5sZWZ0RXllLCBleWVSb3RhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIFJpZ2h0IGV5ZSAobGltaXQgeWF3KSAqL1xyXG4gICAgICAgIGlmICh0aGlzLmJvbmVzLnJpZ2h0RXllKSB7XHJcbiAgICAgICAgICAgIGxldCB5YXdSaWdodCA9IHlhdztcclxuICAgICAgICAgICAgaWYgKHlhd1JpZ2h0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgeWF3UmlnaHQgPSB0aGlzLl9yYW5nZU1hcCh0aGlzLl9sb29rQXQuaG9yaXpvbnRhbE91dGVyLCB5YXdSaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB5YXdSaWdodCA9IC10aGlzLl9yYW5nZU1hcCh0aGlzLl9sb29rQXQuaG9yaXpvbnRhbElubmVyLCAteWF3UmlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGV5ZVJvdGF0aW9uID0gcXVhdC5mcm9tRXVsZXIodGhpcy5fdGVtcFF1YXRBLCBwaXRjaCwgeWF3UmlnaHQsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmJvbmVzLnJpZ2h0RXllLnJvdGF0aW9uTG9jYWwgPSBxdWF0Lm11bHRpcGx5KGV5ZVJvdGF0aW9uLCB0aGlzLnJlc3RQb3NlLnJpZ2h0RXllLCBleWVSb3RhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3Jlc29sdmVDb25zdHJhaW50cygpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IG5vZGVDb25zdHJhaW50IG9mIHRoaXMuX25vZGVDb25zdHJhaW50cykge1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlQ29uc3RyYWludChub2RlQ29uc3RyYWludCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3Jlc29sdmVDb25zdHJhaW50KG5vZGVDb25zdHJhaW50KSB7XHJcbiAgICAgICAgY29uc3QgZHN0UmVzdFF1YXQgPSBub2RlQ29uc3RyYWludC5kZXN0aW5hdGlvblJlc3RMb2NhbFJvdGF0aW9uO1xyXG4gICAgICAgIGNvbnN0IHNyY1Jlc3RRdWF0SW52ID0gbm9kZUNvbnN0cmFpbnQuc291cmNlUmVzdExvY2FsUm90YXRpb25JbnY7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0UXVhdCA9IHF1YXQuaWRlbnRpdHkodGhpcy5fdGVtcFF1YXRBKTtcclxuICAgICAgICBzd2l0Y2ggKG5vZGVDb25zdHJhaW50LnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAncm9sbCc6XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsdGFTcmNRdWF0ID0gcXVhdC5tdWx0aXBseSh0aGlzLl90ZW1wUXVhdEEsIHNyY1Jlc3RRdWF0SW52LCBub2RlQ29uc3RyYWludC5zb3VyY2Uucm90YXRpb25Mb2NhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogc291cmNlIHRvIHBhcmVudCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhU3JjUXVhdEluUGFyZW50ID0gcXVhdC5tdWx0aXBseSh0aGlzLl90ZW1wUXVhdEEsIG5vZGVDb25zdHJhaW50LnNvdXJjZVJlc3RMb2NhbFJvdGF0aW9uLCBkZWx0YVNyY1F1YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKGRlbHRhU3JjUXVhdEluUGFyZW50LCBkZWx0YVNyY1F1YXRJblBhcmVudCwgc3JjUmVzdFF1YXRJbnYpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIHBhcmVudCB0byBkZXN0aW5hdGlvbiAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRzdFJlc3RRdWF0SW52ID0gcXVhdC5pbnZlcnQodGhpcy5fdGVtcFF1YXRCLCBkc3RSZXN0UXVhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsdGFTcmNRdWF0SW5Ec3QgPSBxdWF0Lm11bHRpcGx5KHRoaXMuX3RlbXBRdWF0QiwgZHN0UmVzdFF1YXRJbnYsIGRlbHRhU3JjUXVhdEluUGFyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bHRpcGx5KGRlbHRhU3JjUXVhdEluRHN0LCBkZWx0YVNyY1F1YXRJbkRzdCwgZHN0UmVzdFF1YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvVmVjID0gdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuX3RlbXBWM0EsIG5vZGVDb25zdHJhaW50LmF4aXMsIGRlbHRhU3JjUXVhdEluRHN0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tVG9RdWF0ID0gcXVhdC5yb3RhdGlvblRvKHRoaXMuX3RlbXBRdWF0QSwgbm9kZUNvbnN0cmFpbnQuYXhpcywgdG9WZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIGRzdFJlc3RRdWF0LCBxdWF0LmludmVydCh0aGlzLl90ZW1wUXVhdCwgZnJvbVRvUXVhdCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIHRhcmdldFF1YXQsIGRlbHRhU3JjUXVhdEluRHN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdhaW0nOlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRzdFBhcmVudFdvcmxkUXVhdCA9IG5vZGVDb25zdHJhaW50LmRlc3RpbmF0aW9uLnBhcmVudC5yb3RhdGlvbldvcmxkO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIGZyb21WZWMgPSBhaW1BeGlzLmFwcGx5UXVhdGVybmlvbiggZHN0UGFyZW50V29ybGRRdWF0ICogZHN0UmVzdFF1YXQgKSAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21WZWMgPSB2ZWMzLnRyYW5zZm9ybVF1YXQodGhpcy5fdGVtcFYzQSwgbm9kZUNvbnN0cmFpbnQuYXhpcywgZHN0UmVzdFF1YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZlYzMudHJhbnNmb3JtUXVhdChmcm9tVmVjLCBmcm9tVmVjLCBkc3RQYXJlbnRXb3JsZFF1YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIHRvVmVjID0gKCBzcmNXb3JsZFBvcyAtIGRzdFdvcmxkUG9zICkubm9ybWFsaXplZCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvVmVjID0gbm9kZUNvbnN0cmFpbnQuc291cmNlLmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fdGVtcFYzQik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIodG9WZWMsIHRvVmVjLCBub2RlQ29uc3RyYWludC5kZXN0aW5hdGlvbi5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWMykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKHRvVmVjLCB0b1ZlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogZnJvbVRvUXVhdCA9IFF1YXRlcm5pb24uZnJvbVRvUm90YXRpb24oIGZyb21WZWMsIHRvVmVjICkgKi9cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tVG9RdWF0ID0gcXVhdC5yb3RhdGlvblRvKHRoaXMuX3RlbXBRdWF0QSwgZnJvbVZlYywgdG9WZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIHF1YXQuaW52ZXJ0KHRoaXMuX3RlbXBRdWF0LCBkc3RQYXJlbnRXb3JsZFF1YXQpLCBmcm9tVG9RdWF0KTtcclxuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bCh0YXJnZXRRdWF0LCB0YXJnZXRRdWF0LCBkc3RQYXJlbnRXb3JsZFF1YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIHRhcmdldFF1YXQsIGRzdFJlc3RRdWF0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdyb3RhdGlvbic6XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3JjRGVsdGFRdWF0ID0gcXVhdC5tdWwodGFyZ2V0UXVhdCwgc3JjUmVzdFF1YXRJbnYsIG5vZGVDb25zdHJhaW50LnNvdXJjZS5yb3RhdGlvbkxvY2FsKTtcclxuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bCh0YXJnZXRRdWF0LCBkc3RSZXN0UXVhdCwgc3JjRGVsdGFRdWF0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBBcHBseSBjb25zdHJhaW50ICovXHJcbiAgICAgICAgcXVhdC5zbGVycCh0YXJnZXRRdWF0LCBkc3RSZXN0UXVhdCwgdGFyZ2V0UXVhdCwgbm9kZUNvbnN0cmFpbnQud2VpZ2h0KTtcclxuICAgICAgICBub2RlQ29uc3RyYWludC5kZXN0aW5hdGlvbi5yb3RhdGlvbkxvY2FsID0gdGFyZ2V0UXVhdDtcclxuICAgIH1cclxuICAgIF91cGRhdGVTcHJpbmdCb25lcyhkdCkge1xyXG4gICAgICAgIC8qIFByZS1jb21wdXRlIGNvbGxpZGVyIHBvc2l0aW9ucyAqL1xyXG4gICAgICAgIHRoaXMuX3NwaGVyZUNvbGxpZGVycy5mb3JFYWNoKCh7IG9iamVjdCwgc2hhcGUsIGNhY2hlIH0pID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdmVjMy5jb3B5KGNhY2hlLmhlYWQsIHNoYXBlLm9mZnNldCk7XHJcbiAgICAgICAgICAgIG9iamVjdC50cmFuc2Zvcm1WZWN0b3JXb3JsZChvZmZzZXQpO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChjYWNoZS5oZWFkLCBvYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjMpLCBvZmZzZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2NhcHN1bGVDb2xsaWRlcnMuZm9yRWFjaCgoeyBvYmplY3QsIHNoYXBlLCBjYWNoZSB9KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlQ2VudGVyID0gb2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fdGVtcFYzQSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlYWRPZmZzZXQgPSB2ZWMzLmNvcHkoY2FjaGUuaGVhZCwgc2hhcGUub2Zmc2V0KTtcclxuICAgICAgICAgICAgb2JqZWN0LnRyYW5zZm9ybVZlY3RvcldvcmxkKGhlYWRPZmZzZXQpO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChjYWNoZS5oZWFkLCBzaGFwZUNlbnRlciwgaGVhZE9mZnNldCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhaWxPZmZzZXQgPSB2ZWMzLmNvcHkoY2FjaGUudGFpbCwgc2hhcGUudGFpbCk7XHJcbiAgICAgICAgICAgIG9iamVjdC50cmFuc2Zvcm1WZWN0b3JXb3JsZCh0YWlsT2Zmc2V0KTtcclxuICAgICAgICAgICAgdmVjMy5hZGQoY2FjaGUudGFpbCwgc2hhcGVDZW50ZXIsIHRhaWxPZmZzZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qIFVwZGF0ZSBzcHJpbmcgY2hhaW5zICovXHJcbiAgICAgICAgdGhpcy5fc3ByaW5nQ2hhaW5zLmZvckVhY2goKHNwcmluZ0NoYWluKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ByaW5nQ2hhaW4uam9pbnRzLmxlbmd0aCAtIDE7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgam9pbnQgPSBzcHJpbmdDaGFpbi5qb2ludHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRXb3JsZFJvdGF0aW9uID0gam9pbnQubm9kZS5wYXJlbnRcclxuICAgICAgICAgICAgICAgICAgICA/IGpvaW50Lm5vZGUucGFyZW50LnJvdGF0aW9uV29ybGRcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2lkZW50aXR5UXVhdDtcclxuICAgICAgICAgICAgICAgIC8qIDEuIEZvcmNlcyAqL1xyXG4gICAgICAgICAgICAgICAgLyogaW5lcnRpYSA9IChjdXJyZW50VGFpbCAtIHByZXZUYWlsKSAqICgxLjBmIC0gZHJhZ0ZvcmNlKTsgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZXJ0aWEgPSB0aGlzLl9pbmVydGlhO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNwcmluZ0NoYWluLmNlbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKGluZXJ0aWEsIGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsQ2VudGVyLCBqb2ludC5zdGF0ZS5wcmV2VGFpbENlbnRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaW5nQ2hhaW4uY2VudGVyLnRyYW5zZm9ybVZlY3RvcldvcmxkKGluZXJ0aWEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIoaW5lcnRpYSwgam9pbnQuc3RhdGUuY3VycmVudFRhaWwsIGpvaW50LnN0YXRlLnByZXZUYWlsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZlYzMuc2NhbGUoaW5lcnRpYSwgaW5lcnRpYSwgMS4wIC0gam9pbnQuZHJhZ0ZvcmNlKTtcclxuICAgICAgICAgICAgICAgIC8qIHN0aWZmbmVzcyA9IGRlbHRhVGltZSAqIHBhcmVudFdvcmxkUm90YXRpb24gKiBsb2NhbFJvdGF0aW9uICogYm9uZUF4aXMgKiBzdGlmZm5lc3NGb3JjZTsgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0aWZmbmVzcyA9IHZlYzMuY29weSh0aGlzLl9zdGlmZm5lc3MsIGpvaW50LnN0YXRlLmJvbmVBeGlzKTtcclxuICAgICAgICAgICAgICAgIHZlYzMudHJhbnNmb3JtUXVhdChzdGlmZm5lc3MsIHN0aWZmbmVzcywgam9pbnQuc3RhdGUuaW5pdGlhbExvY2FsUm90YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KHN0aWZmbmVzcywgc3RpZmZuZXNzLCBwYXJlbnRXb3JsZFJvdGF0aW9uKTtcclxuICAgICAgICAgICAgICAgIHZlYzMuc2NhbGUoc3RpZmZuZXNzLCBzdGlmZm5lc3MsIGR0ICogam9pbnQuc3RpZmZuZXNzKTtcclxuICAgICAgICAgICAgICAgIC8qIGV4dGVybmFsID0gZGVsdGFUaW1lICogZ3Jhdml0eURpciAqIGdyYXZpdHlQb3dlcjsgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVybmFsID0gdmVjMy5zY2FsZSh0aGlzLl9leHRlcm5hbCwgam9pbnQuZ3Jhdml0eURpciwgZHQgKiBqb2ludC5ncmF2aXR5UG93ZXIpO1xyXG4gICAgICAgICAgICAgICAgLyogbmV4dFRhaWwgPSBjdXJyZW50VGFpbCArIGluZXJ0aWEgKyBzdGlmZm5lc3MgKyBleHRlcm5hbDsgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUYWlsID0gdmVjMy5jb3B5KHRoaXMuX3RlbXBWM0EsIGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsKTtcclxuICAgICAgICAgICAgICAgIHZlYzMuYWRkKG5leHRUYWlsLCBuZXh0VGFpbCwgaW5lcnRpYSk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLmFkZChuZXh0VGFpbCwgbmV4dFRhaWwsIHN0aWZmbmVzcyk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLmFkZChuZXh0VGFpbCwgbmV4dFRhaWwsIGV4dGVybmFsKTtcclxuICAgICAgICAgICAgICAgIC8qIGNvbnN0cmFpbiB0aGUgbGVuZ3RoICovXHJcbiAgICAgICAgICAgICAgICAvKiBuZXh0VGFpbCA9IHdvcmxkUG9zaXRpb24gKyAobmV4dFRhaWwgLSB3b3JsZFBvc2l0aW9uKS5ub3JtYWxpemVkICogYm9uZUxlbmd0aDsgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmxkUG9zaXRpb24gPSBqb2ludC5ub2RlLmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fdGVtcFYzQik7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLnN1YihuZXh0VGFpbCwgbmV4dFRhaWwsIHdvcmxkUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUobmV4dFRhaWwsIG5leHRUYWlsKTtcclxuICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIHdvcmxkUG9zaXRpb24sIG5leHRUYWlsLCBqb2ludC5zdGF0ZS5ib25lTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIC8qIDIuIENvbGxpc2lvbiB3aXRoIGNvbGxpZGVycyAqL1xyXG4gICAgICAgICAgICAgICAgLyogU3BoZXJlIGNvbGxpZGVycyAqL1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB7IHNoYXBlLCBjYWNoZSB9IG9mIHNwcmluZ0NoYWluLnNwaGVyZUNvbGxpZGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWlsVG9TaGFwZSA9IHRoaXMuX3RhaWxUb1NoYXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwaGVyZUNlbnRlciA9IGNhY2hlLmhlYWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFpbFRvU2hhcGUgPSB2ZWMzLnN1Yih0YWlsVG9TaGFwZSwgbmV4dFRhaWwsIHNwaGVyZUNlbnRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gc2hhcGUucmFkaXVzICsgam9pbnQuaGl0UmFkaXVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3QgPSB2ZWMzLmxlbmd0aCh0YWlsVG9TaGFwZSkgLSByYWRpdXM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3QgPCAwLjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUodGFpbFRvU2hhcGUsIHRhaWxUb1NoYXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChuZXh0VGFpbCwgbmV4dFRhaWwsIHRhaWxUb1NoYXBlLCAtZGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGNvbnN0cmFpbnQgdGhlIGxlbmd0aCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1YihuZXh0VGFpbCwgbmV4dFRhaWwsIHdvcmxkUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShuZXh0VGFpbCwgbmV4dFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKG5leHRUYWlsLCB3b3JsZFBvc2l0aW9uLCBuZXh0VGFpbCwgam9pbnQuc3RhdGUuYm9uZUxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyogQ2Fwc3VsZSBjb2xsaWRlcnMgKi9cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgeyBzaGFwZSwgY2FjaGUgfSBvZiBzcHJpbmdDaGFpbi5jYXBzdWxlQ29sbGlkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhaWxUb1NoYXBlID0gdGhpcy5fdGFpbFRvU2hhcGU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZCA9IGNhY2hlLmhlYWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFpbCA9IGNhY2hlLnRhaWw7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogTmFpdmVseSBzdGFydCB3aXRoIGRpc3RhbmNlIHRvIHRoZSBoZWFkICovXHJcbiAgICAgICAgICAgICAgICAgICAgdGFpbFRvU2hhcGUgPSB2ZWMzLnN1Yih0YWlsVG9TaGFwZSwgbmV4dFRhaWwsIGhlYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRUb1RhaWwgPSB2ZWMzLnN1Yih0aGlzLl9oZWFkVG9UYWlsLCB0YWlsLCBoZWFkKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3QgPSB2ZWMzLmRvdChoZWFkVG9UYWlsLCB0YWlsVG9TaGFwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZlYzMuc3F1YXJlZExlbmd0aChoZWFkVG9UYWlsKSA8PSBkb3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyogQ2xvc2VzdCB0byB0YWlsICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKHRhaWxUb1NoYXBlLCBuZXh0VGFpbCwgdGFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRvdCA+IDAuMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBDbG9zZXN0IHRvIG1pZGRsZSAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlKGhlYWRUb1RhaWwsIGhlYWRUb1RhaWwsIGRvdCAvIHZlYzMuc3F1YXJlZExlbmd0aChoZWFkVG9UYWlsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKHRhaWxUb1NoYXBlLCB0YWlsVG9TaGFwZSwgaGVhZFRvVGFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhZGl1cyA9IHNoYXBlLnJhZGl1cyArIGpvaW50LmhpdFJhZGl1cztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gdmVjMy5sZW5ndGgodGFpbFRvU2hhcGUpIC0gcmFkaXVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgMC4wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKHRhaWxUb1NoYXBlLCB0YWlsVG9TaGFwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIG5leHRUYWlsLCB0YWlsVG9TaGFwZSwgLWRpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBjb25zdHJhaW50IHRoZSBsZW5ndGggKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIobmV4dFRhaWwsIG5leHRUYWlsLCB3b3JsZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUobmV4dFRhaWwsIG5leHRUYWlsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChuZXh0VGFpbCwgd29ybGRQb3NpdGlvbiwgbmV4dFRhaWwsIGpvaW50LnN0YXRlLmJvbmVMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIDMuIEFwcGx5aW5nIHJvdGF0aW9uICovXHJcbiAgICAgICAgICAgICAgICB2ZWMzLmNvcHkoam9pbnQuc3RhdGUucHJldlRhaWwsIGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsKTtcclxuICAgICAgICAgICAgICAgIHZlYzMuY29weShqb2ludC5zdGF0ZS5jdXJyZW50VGFpbCwgbmV4dFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNwcmluZ0NoYWluLmNlbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZlYzMuY29weShqb2ludC5zdGF0ZS5wcmV2VGFpbENlbnRlciwgam9pbnQuc3RhdGUuY3VycmVudFRhaWxDZW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZlYzMuY29weShqb2ludC5zdGF0ZS5jdXJyZW50VGFpbENlbnRlciwgbmV4dFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwcmluZ0NoYWluLmNlbnRlci50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZChqb2ludC5zdGF0ZS5jdXJyZW50VGFpbENlbnRlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiB0byA9IChuZXh0VGFpbCAqIChub2RlLnBhcmVudC53b3JsZE1hdHJpeCAqIGluaXRpYWxMb2NhbE1hdHJpeCkuaW52ZXJzZSkubm9ybWFsaXplZCAqL1xyXG4gICAgICAgICAgICAgICAgam9pbnQubm9kZS5wYXJlbnQudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQobmV4dFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRhaWxEdWFsUXVhdCA9IHF1YXQyLmZyb21UcmFuc2xhdGlvbih0aGlzLl90ZW1wUXVhdDIsIG5leHRUYWlsKTtcclxuICAgICAgICAgICAgICAgIHF1YXQyLm11bHRpcGx5KG5leHRUYWlsRHVhbFF1YXQsIGpvaW50LnN0YXRlLmluaXRpYWxMb2NhbFRyYW5zZm9ybUludmVydCwgbmV4dFRhaWxEdWFsUXVhdCk7XHJcbiAgICAgICAgICAgICAgICBxdWF0Mi5nZXRUcmFuc2xhdGlvbihuZXh0VGFpbCwgbmV4dFRhaWxEdWFsUXVhdCk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShuZXh0VGFpbCwgbmV4dFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgLyogbm9kZS5yb3RhdGlvbiA9IGluaXRpYWxMb2NhbFJvdGF0aW9uICogUXVhdGVybmlvbi5mcm9tVG9RdWF0ZXJuaW9uKGJvbmVBeGlzLCB0byk7ICovXHJcbiAgICAgICAgICAgICAgICBjb25zdCBqb2ludFJvdGF0aW9uID0gcXVhdC5yb3RhdGlvblRvKHRoaXMuX3RlbXBRdWF0QSwgam9pbnQuc3RhdGUuYm9uZUF4aXMsIG5leHRUYWlsKTtcclxuICAgICAgICAgICAgICAgIGpvaW50Lm5vZGUucm90YXRpb25Mb2NhbCA9IHF1YXQubXVsKHRoaXMuX3RlbXBRdWF0QSwgam9pbnQuc3RhdGUuaW5pdGlhbExvY2FsUm90YXRpb24sIGpvaW50Um90YXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmlyc3RQZXJzb24gV2hldGhlciB0aGUgbW9kZWwgc2hvdWxkIHJlbmRlciBmb3IgZmlyc3QgcGVyc29uIG9yIHRoaXJkIHBlcnNvbiB2aWV3c1xyXG4gICAgICovXHJcbiAgICBzZXQgZmlyc3RQZXJzb24oZmlyc3RQZXJzb24pIHtcclxuICAgICAgICB0aGlzLl9maXJzdFBlcnNvbkFubm90YXRpb25zLmZvckVhY2goKGFubm90YXRpb24pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdmlzaWJsZSA9IGZpcnN0UGVyc29uID09IGFubm90YXRpb24uZmlyc3RQZXJzb24gfHxcclxuICAgICAgICAgICAgICAgIGZpcnN0UGVyc29uICE9IGFubm90YXRpb24udGhpcmRQZXJzb247XHJcbiAgICAgICAgICAgIGFubm90YXRpb24ubm9kZS5nZXRDb21wb25lbnRzKCdtZXNoJykuZm9yRWFjaCgobWVzaCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbWVzaC5hY3RpdmUgPSB2aXNpYmxlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBWcm0gfTtcclxuIiwgIlxyXG4vKipcclxuICogZ2FtZSBhbmQgc3RhdGUgdG9nZXRoZXIgaG9sZCB0aGUgcmFuZG9tIGZ1bmN0aW9ucyBhbmQgZ2FtZSBpbmZvcm1hdGlvbiB0aGF0IG5lZWRzIHRvIGJlIGFjY2Vzc2VkIGFjcm9zcyB0aGUgZmlsZS5cclxuICogdXBkYXRlIGl0IHdoZW5ldmVyIHlvdSBuZWVkIHRvIGFkZCBzb21ldGhpbmcgYXQgYWdhbWUgbGV2ZWwgXHJcbiAqL1xyXG4vLyBHbG9iYWwgVE9ET1xyXG4vLyBNdXNpYy9zb3VuZCAtIFJvblxyXG4vLyBMZXZlbHMvaW5jcmVhc2luZyBkaWZmaWN1bHR5IC4gTWF5YmUgYSBkYXkgbmlnaHQgY3ljbGUgdG8gc2lnbmlmeSBpbmNyZWFzZWQgZGlmZmljdWx0eT8gLSBIYXJndW5cclxuLy8gRXh0cmEgdHlwZXMgb2YgdG93ZXJzIC0gSGlldVxyXG4vLyBUdXJyZXQgVVBncmFkZXNcclxuLy8gSHVkIGZvciB0dXJyZXQgc2VsZWN0aW9uXHJcbi8vIEVuZW15IHR5cGVzIC0gU2F1bFxyXG4vLyBGbHlpbmcgZW5lbXkgXHJcbi8vIEJvc3MgbW9uc3Rlci8gc2VpZ2Ugd2VhcG9uXHJcbi8vIEhpZ2ggU2NvcmVcclxuLy8gdGVycmFpbiBjb2xsaXNpb25cclxuLy8gVHVycmV0cyBzcGF3biBhdCBjdXJzb3IgaW5zdGVhZCBvZiB3aGVyZSBwbGF5ZXIgaXMgc3RhbmRpbmcgXHJcbi8vIE9mZiBsaW1pdCBidWlsZGluZyBwYXRoc1xyXG4vLyBTZWUgdGhyb3VnaC9zZW1pIHRyYW5zcGFyZW50IGh1ZCBcclxuXHJcbi8vIG9uSE92ZXI/ICBjdXJzb3IgaG92ZXIgZm9yIHVwZ3JhZGUgZGV0YWlscyBmb3IgaW5kaXZpZHVhbCB0b3dlcnM/XHJcbi8vIGFsdGVybmF0aXZlbHksIFxyXG5leHBvcnQgY29uc3Qgc3RhdGUgPSB7XHJcbiAgICBFbmVteVNwYXduZXI6IFtdLFxyXG4gICAgLy90aGlzIGlzIHRoZSBmdW5jdGlvbiB0aGF0IHNwYXducyBlbmVtZWllc1xyXG4gICAgc3Bhd246IG51bGwsXHJcbiAgICBzcGF3bmVkRW5lbWllczogMCxcclxuICAgIGN1cnJlbnRFbmVtaWVzOiBbXSxcclxuICAgIG1heEVuZW1pZXM6IDE1LFxyXG4gICAgZW5lbWllc0Rlc3Ryb3llZDogMCxcclxuICAgIHJhbmRvbSxcclxuXHJcblxyXG4gICAgaGVhbHRoOiAxMDAsXHJcbiAgICBnZXRIZWFsdGg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuaGVhbHRoLnRvU3RyaW5nKCkgfSxcclxuICAgIGdldEN1cnJlbmN5OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmN1cnJlbmN5LnRvU3RyaW5nKCkgfSxcclxuXHJcbiAgICB0dXJyZXRTcGF3bmVyOiBbXSxcclxuICAgIHR1cnJldHM6IFtdLFxyXG4gICAgYnVpbGRUOiBudWxsLCBcclxuICAgIHNwYXduZWRUdXJyZXRzOiAwLFxyXG4gICAgbWF4VHVycmV0czogMTAsXHJcbiAgICBjdXJyZW5jeTogNTAsXHJcblxyXG4gICAgbmVlZHNVcGRhdGU6IGZhbHNlLFxyXG4gICAgZ2FtZU92ZXI6IGZhbHNlLFxyXG4gICAgc2VsZWN0ZWRUdXJyZXQgOiBcImRyb25lXCIsXHJcbiAgICBzaGlwOiBudWxsLFxyXG4gICAgc2hpcEhpdDpudWxsLFxyXG4gICAgYnVpbGRUaW1lIDogMTUsXHJcblxyXG4gICAgbGV2ZWxVcCA6IG51bGwsXHJcbiAgICBkYXk6IHRydWUsXHJcbiAgICBwYXVzZUVuZW1pZXM6IHRydWUsXHJcbiAgICBwYXVzZUJ1aWxkaW5nOiBmYWxzZSxcclxuXHJcbn1cclxuICIsICJpbXBvcnQgeyB2ZWMzIH0gZnJvbSAnZ2wtbWF0cml4JztcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHtzdGF0ZSB9IGZyb20gXCIuLy4uLy4uLy4uLy4uL2pzL2dhbWVcIjtcclxuY29uc3QgX2RpcmVjdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbi8qKlxyXG4gKiBCYXNpYyBtb3ZlbWVudCB3aXRoIFcvQS9TL0Qga2V5cy5cclxuICovXHJcbmNsYXNzIFdhc2RDb250cm9sc0NvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnd2FzZC1jb250cm9scyc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogTW92ZW1lbnQgc3BlZWQgaW4gbS9zLiAqL1xyXG4gICAgICAgIHNwZWVkOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuMSB9LFxyXG4gICAgICAgIC8qKiBGbGFnIGZvciBvbmx5IG1vdmluZyB0aGUgb2JqZWN0IG9uIHRoZSBnbG9iYWwgeCAmIHogcGxhbmVzICovXHJcbiAgICAgICAgbG9ja1k6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgICAgIC8qKiBPYmplY3Qgb2Ygd2hpY2ggdGhlIG9yaWVudGF0aW9uIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGZvcndhcmQgZGlyZWN0aW9uICovXHJcbiAgICAgICAgaGVhZE9iamVjdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxyXG4gICAgfTtcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy51cCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmlnaHQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxlZnQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwYXdtID0gZmFsc2U7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLnByZXNzLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVsZWFzZS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuaGVhZE9iamVjdCA9IHRoaXMuaGVhZE9iamVjdCB8fCB0aGlzLm9iamVjdDtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICB2ZWMzLnplcm8oX2RpcmVjdGlvbik7XHJcbiAgICAgICAgaWYgKHRoaXMudXApXHJcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMl0gLT0gMS4wO1xyXG4gICAgICAgIGlmICh0aGlzLmRvd24pXHJcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMl0gKz0gMS4wO1xyXG4gICAgICAgIGlmICh0aGlzLmxlZnQpXHJcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMF0gLT0gMS4wO1xyXG4gICAgICAgIGlmICh0aGlzLnJpZ2h0KVxyXG4gICAgICAgICAgICBfZGlyZWN0aW9uWzBdICs9IDEuMDtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShfZGlyZWN0aW9uLCBfZGlyZWN0aW9uKTtcclxuICAgICAgICBfZGlyZWN0aW9uWzBdICo9IHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgX2RpcmVjdGlvblsyXSAqPSB0aGlzLnNwZWVkO1xyXG4gICAgICAgIHZlYzMudHJhbnNmb3JtUXVhdChfZGlyZWN0aW9uLCBfZGlyZWN0aW9uLCB0aGlzLmhlYWRPYmplY3QudHJhbnNmb3JtV29ybGQpO1xyXG4gICAgICAgIGlmICh0aGlzLmxvY2tZKSB7XHJcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMV0gPSAwO1xyXG4gICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShfZGlyZWN0aW9uLCBfZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgdmVjMy5zY2FsZShfZGlyZWN0aW9uLCBfZGlyZWN0aW9uLCB0aGlzLnNwZWVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlTG9jYWwoX2RpcmVjdGlvbik7XHJcbiAgICB9XHJcbiAgICBwcmVzcyhlKSB7XHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzggLyogdXAgKi8gfHxcclxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA4NyAvKiB3ICovIHx8XHJcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gOTAgLyogeiAqLykge1xyXG4gICAgICAgICAgICB0aGlzLnVwID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzOSAvKiByaWdodCAqLyB8fCBlLmtleUNvZGUgPT09IDY4IC8qIGQgKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5yaWdodCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNDAgLyogZG93biAqLyB8fCBlLmtleUNvZGUgPT09IDgzIC8qIHMgKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5kb3duID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzNyAvKiBsZWZ0ICovIHx8XHJcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gNjUgLyogYSAqLyB8fFxyXG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IDgxIC8qIHEgKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSA2OSApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzdGF0ZS5idWlsZFQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZWxlYXNlKGUpIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCAvKiB1cCAqLyB8fFxyXG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IDg3IC8qIHcgKi8gfHxcclxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA5MCAvKiB6ICovKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXAgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzOSAvKiByaWdodCAqLyB8fCBlLmtleUNvZGUgPT09IDY4IC8qIGQgKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5yaWdodCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDQwIC8qIGRvd24gKi8gfHwgZS5rZXlDb2RlID09PSA4MyAvKiBzICovKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG93biA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3IC8qIGxlZnQgKi8gfHxcclxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA2NSAvKiBhICovIHx8XHJcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gODEgLyogcSAqLykge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgV2FzZENvbnRyb2xzQ29tcG9uZW50IH07XHJcbiIsICJpbXBvcnQgeyBUZXh0dXJlLCBPYmplY3QzRCB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcclxuaW1wb3J0IHsgdmVjMywgcXVhdCB9IGZyb20gXCJnbC1tYXRyaXhcIjtcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcblxyXG5cclxuLy8gVGhpcyBpcyB0aGUgY29kZSBTaGFyaWFoYXIgcHJvdmlkZWQgZm9yIHRoZSBVSSBpbnRlcmZhY2UgYWxvbmcgd2l0aCB0aGUgIHVpSGFuZGxlciBqcy4gVGhpcyBjb2RlIGlzIGEgY29tcGxpY2F0ZWRjIGNvbmZ1c2luZyBtZXNzIGFuZCBJIHdvdWxkIGF2b2lkIHRvdWNoaW5nIGl0IFxyXG4vLyB1bmxlc3MgYWJzb2x1dGVseSBuZWNlc3NhcnlcclxuXHJcblxyXG5jbGFzcyBDYW52YXNLZXlib2FyZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgY2FudmFzdWksIGxhbmcgPSBcIkVOXCIpIHtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLmdldENvbmZpZyhsYW5nKTtcclxuICAgICAgICBjb25maWcucGFuZWxTaXplID0geyB3aWR0aCwgaGVpZ2h0OiB3aWR0aCAqIDAuNSB9O1xyXG4gICAgICAgIGNvbmZpZy5oZWlnaHQgPSAyNTY7XHJcbiAgICAgICAgY29uZmlnLmJvZHkgPSB7IGJhY2tncm91bmRDb2xvcjogXCIjNTU1XCIgfTtcclxuICAgICAgICBjb25zdCBvYmplY3QgPSBXTC5zY2VuZS5hZGRPYmplY3QoKTtcclxuICAgICAgICBvYmplY3QubmFtZSA9ICdrZXlib2FyZCc7XHJcbiAgICAgICAgY29uc3QgbWVzaCA9IG9iamVjdC5hZGRDb21wb25lbnQoJ21lc2gnKTtcclxuICAgICAgICBjb25zdCB1aW1lc2ggPSBjYW52YXN1aS5vYmplY3QuZ2V0Q29tcG9uZW50KCdtZXNoJyk7XHJcbiAgICAgICAgbWVzaC5tZXNoID0gdWltZXNoLm1lc2g7XHJcbiAgICAgICAgbWVzaC5tYXRlcmlhbCA9IHVpbWVzaC5tYXRlcmlhbC5jbG9uZSgpO1xyXG4gICAgICAgIG9iamVjdC5hZGRDb21wb25lbnQoJ2N1cnNvci10YXJnZXQnKTtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5nZXRDb250ZW50KGxhbmcpO1xyXG4gICAgICAgIHRoaXMua2V5Ym9hcmQgPSBuZXcgQ2FudmFzVUkoY29udGVudCwgY29uZmlnLCBvYmplY3QsIGNhbnZhc3VpLmVuZ2luZSk7XHJcbiAgICAgICAgdGhpcy50bXBWZWMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMuaHAgPSBzdGF0ZS50ZXN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG9iamVjdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5rZXlib2FyZC5vYmplY3Q7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29uZmlnKGxhbmcpIHtcclxuICAgICAgICAvL0VOXHJcbiAgICAgICAgLy9rZXlzXHJcbiAgICAgICAgLy9xd2VydHl1aW9wIC0gMTAgc3F1YXJlIC0gYnRuMC1idG45XHJcbiAgICAgICAgLy9hc2RmZ2hqa2xAIC0gMTAgc3F1YXJlIGJ1dHRvbnMgLSBidG4xMC1idG4xOVxyXG4gICAgICAgIC8vXnp4Y3Zibm08IC0gMS41IHNoaWZ0LDcgc3F1YXJlLDEuNSBiYWNrc3BhY2UgLSBidG4yMC1idG4yOFxyXG4gICAgICAgIC8vWz8xMjNdLHNwYWNlLltFbnRlcl0gLSAyLDEsNCwxLDIgLSBidG4zMC1idG4zNFxyXG4gICAgICAgIC8va2V5cyBzaGlmdGVkXHJcbiAgICAgICAgLy9RV0VSVFlVSU9QIC0gMTAgc3F1YXJlIFxyXG4gICAgICAgIC8vQVNERkdISktMQCAtIDEwIHNxdWFyZSBidXR0b25zXHJcbiAgICAgICAgLy9eWlhDVkJOTTwgLSAxLjUgc2hpZnQsNyBzcXVhcmUsMS41IGJhY2tzcGFjZVxyXG4gICAgICAgIC8vWz8xMjNdLHNwYWNlLltFbnRlcl0gLSAyLDEsNCwxLDJcclxuICAgICAgICAvL251bWJlcnNcclxuICAgICAgICAvLzEyMzQ1Njc4OTAgLSAxMCBzcXVhcmVcclxuICAgICAgICAvL0AjJSYqLy0rKCkgLSAxMCBzcVxyXG4gICAgICAgIC8vXj8hXCInXFw6OzwgLSAxLjUgc2hpZnQsNyBzcXVhcmUsMS41IGJhY2tzcGFjZVxyXG4gICAgICAgIC8vW0FCQ10sc3BhY2UuW0VudGVyXSAtIDIsMSw0LDEsMlxyXG4gICAgICAgIC8vbnVtYmVycyBzaGlmdGVkXHJcbiAgICAgICAgLy8xMjM0NTY3ODkwIC0gMTAgc3F1YXJlXHJcbiAgICAgICAgLy9cdTIwQUNcdTAwQTMkXj18e31bXSAtIDEwIHNxXHJcbiAgICAgICAgLy9ePD5fYH46OzwgLSAxLjUgc2hpZnQsNyBzcXVhcmUsMS41IGJhY2tzcGFjZVxyXG4gICAgICAgIC8vW0FCQ10sc3BhY2UuW0VudGVyXSAtIDIsMSw0LDEsMlxyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHt9O1xyXG4gICAgICAgIGxldCBwYWRkaW5nID0gMTA7XHJcbiAgICAgICAgY29uc3QgcGFkZGluZ1RvcCA9IDIwO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gKCg1MTIgLSAyICogcGFkZGluZykgLyAxMCkgLSBwYWRkaW5nO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9ICgoMjU2IC0gMiAqIHBhZGRpbmcpIC8gNCkgLSBwYWRkaW5nO1xyXG4gICAgICAgIGNvbnN0IGhvdmVyID0gXCIjMzMzXCI7XHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZENvbG9yID0gXCIjMDAwXCI7XHJcbiAgICAgICAgLy9Ub3Agcm93XHJcbiAgICAgICAgbGV0IHkgPSBwYWRkaW5nO1xyXG4gICAgICAgIGxldCB4ID0gcGFkZGluZztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgYnRuID0geyB0eXBlOiBcImJ1dHRvblwiLCBwb3NpdGlvbjogeyB4LCB5IH0sIHdpZHRoLCBoZWlnaHQsIHBhZGRpbmcsIHBhZGRpbmdUb3AsIGJhY2tncm91bmRDb2xvciwgYm9yZGVyUmFkaXVzOiA2LCBob3Zlciwgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QuYmluZCh0aGlzLCBpKSB9XHJcbiAgICAgICAgICAgIGNvbmZpZ1tgYnRuJHtpfWBdID0gYnRuO1xyXG4gICAgICAgICAgICB4ICs9ICh3aWR0aCArIHBhZGRpbmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLzJuZCByb3dcclxuICAgICAgICB5ICs9IChoZWlnaHQgKyBwYWRkaW5nKTtcclxuICAgICAgICB4ID0gcGFkZGluZztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgYnRuID0geyB0eXBlOiBcImJ1dHRvblwiLCBwb3NpdGlvbjogeyB4LCB5IH0sIHdpZHRoLCBoZWlnaHQsIHBhZGRpbmcsIHBhZGRpbmdUb3AsIGJhY2tncm91bmRDb2xvciwgYm9yZGVyUmFkaXVzOiA2LCBob3Zlciwgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QuYmluZCh0aGlzLCBpICsgMTApIH1cclxuICAgICAgICAgICAgY29uZmlnW2BidG4ke2kgKyAxMH1gXSA9IGJ0bjtcclxuICAgICAgICAgICAgeCArPSAod2lkdGggKyBwYWRkaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8zcmQgcm93XHJcbiAgICAgICAgeSArPSAoaGVpZ2h0ICsgcGFkZGluZyk7XHJcbiAgICAgICAgeCA9IHBhZGRpbmc7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdyA9IChpID09IDAgfHwgaSA9PSA4KSA/ICh3aWR0aCAqIDEuNSArIHBhZGRpbmcgKiAwLjUpIDogd2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ0biA9IHsgdHlwZTogXCJidXR0b25cIiwgcG9zaXRpb246IHsgeCwgeSB9LCB3aWR0aDogdywgaGVpZ2h0LCBwYWRkaW5nLCBwYWRkaW5nVG9wLCBiYWNrZ3JvdW5kQ29sb3IsIGJvcmRlclJhZGl1czogNiwgaG92ZXIsIG9uU2VsZWN0OiB0aGlzLm9uU2VsZWN0LmJpbmQodGhpcywgaSArIDIwKSB9O1xyXG4gICAgICAgICAgICBjb25maWdbYGJ0biR7aSArIDIwfWBdID0gYnRuO1xyXG4gICAgICAgICAgICB4ICs9ICh3ICsgcGFkZGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vNHJkIHJvd1xyXG4gICAgICAgIHkgKz0gKGhlaWdodCArIHBhZGRpbmcpO1xyXG4gICAgICAgIHggPSBwYWRkaW5nO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHcgPSAoaSA9PSAwIHx8IGkgPT0gNCkgPyAod2lkdGggKiAyICsgcGFkZGluZykgOiAoaSA9PSAyKSA/ICh3aWR0aCAqIDQgKyAzICogcGFkZGluZykgOiB3aWR0aDtcclxuICAgICAgICAgICAgY29uc3QgYnRuID0geyB0eXBlOiBcImJ1dHRvblwiLCBwb3NpdGlvbjogeyB4LCB5IH0sIHdpZHRoOiB3LCBoZWlnaHQsIHBhZGRpbmcsIHBhZGRpbmdUb3AsIGJhY2tncm91bmRDb2xvciwgYm9yZGVyUmFkaXVzOiA2LCBob3Zlciwgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QuYmluZCh0aGlzLCBpICsgMzApIH07XHJcbiAgICAgICAgICAgIGlmIChpID09IDApIGJ0bi5mb250U2l6ZSA9IDIwO1xyXG4gICAgICAgICAgICBjb25maWdbYGJ0biR7aSArIDMwfWBdID0gYnRuO1xyXG4gICAgICAgICAgICB4ICs9ICh3ICsgcGFkZGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29udGVudChsYW5nLCBsYXlvdXRJbmRleCA9IDApIHtcclxuICAgICAgICBsZXQgY29udGVudCA9IHt9O1xyXG4gICAgICAgIGxldCBrZXlzO1xyXG5cclxuICAgICAgICB0aGlzLmxhbmd1YWdlID0gbGFuZztcclxuICAgICAgICB0aGlzLmtleWJvYXJkSW5kZXggPSBsYXlvdXRJbmRleDtcclxuXHJcbiAgICAgICAgc3dpdGNoIChsYXlvdXRJbmRleCkge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAvL0VOXHJcbiAgICAgICAgICAgICAgICAvL2tleXNcclxuICAgICAgICAgICAgICAgIC8vcXdlcnR5dWlvcCAtIDEwIHNxdWFyZSAtIGJ0bjAtYnRuOVxyXG4gICAgICAgICAgICAgICAgLy9hc2RmZ2hqa2xAIC0gMTAgc3F1YXJlIGJ1dHRvbnMgLSBidG4xMC1idG4xOVxyXG4gICAgICAgICAgICAgICAgLy9eenhjdmJubTwgLSAxLjUgc2hpZnQsNyBzcXVhcmUsMS41IGJhY2tzcGFjZSAtIGJ0bjIwLWJ0bjI4XHJcbiAgICAgICAgICAgICAgICAvL1s/MTIzXSxzcGFjZS5bRW50ZXJdIC0gMS41LDEsNCwxLDEuNSAtIGJ0bjMwLWJ0bjM0XHJcbiAgICAgICAgICAgICAgICBrZXlzID0gWydxJywgJ3cnLCAnZScsICdyJywgJ3QnLCAneScsICd1JywgJ2knLCAnbycsICdwJyxcclxuICAgICAgICAgICAgICAgICAgICAnYScsICdzJywgJ2QnLCAnZicsICdnJywgJ2gnLCAnaicsICdrJywgJ2wnLCAnQCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1x1MjFFNycsICd6JywgJ3gnLCAnYycsICd2JywgJ2InLCAnbicsICdtJywgJ1x1MjFFNicsICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICc/MTIzJywgJywnLCAnICAgJywgJy4nLCAnXHUyMUIyJ107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICcnKSBjb250ZW50W2BidG4ke2l9YF0gPSBrZXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgLy9rZXlzIHNoaWZ0ZWRcclxuICAgICAgICAgICAgICAgIC8vUVdFUlRZVUlPUCAtIDEwIHNxdWFyZSBcclxuICAgICAgICAgICAgICAgIC8vQVNERkdISktMQCAtIDEwIHNxdWFyZSBidXR0b25zXHJcbiAgICAgICAgICAgICAgICAvL15aWENWQk5NPCAtIDEuNSBzaGlmdCw3IHNxdWFyZSwxLjUgYmFja3NwYWNlXHJcbiAgICAgICAgICAgICAgICAvL1s/MTIzXSxzcGFjZS5bRW50ZXJdIC0gMS41LDEsNCwxLDEuNVxyXG4gICAgICAgICAgICAgICAga2V5cyA9IFsnUScsICdXJywgJ0UnLCAnUicsICdUJywgJ1knLCAnVScsICdJJywgJ08nLCAnUCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0EnLCAnUycsICdEJywgJ0YnLCAnRycsICdIJywgJ0onLCAnSycsICdMJywgJ0AnLFxyXG4gICAgICAgICAgICAgICAgICAgICdcdTIxRTcnLCAnWicsICdYJywgJ0MnLCAnVicsICdCJywgJ04nLCAnTScsICdcdTIxRTYnLCAnJyxcclxuICAgICAgICAgICAgICAgICAgICAnPzEyMycsICcsJywgJyAgICcsICcuJywgJ1x1MjFCMiddO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnJykgY29udGVudFtgYnRuJHtpfWBdID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIC8vbnVtYmVyc1xyXG4gICAgICAgICAgICAgICAgLy8xMjM0NTY3ODkwIC0gMTAgc3F1YXJlXHJcbiAgICAgICAgICAgICAgICAvL0AjJSYqLy0rKCkgLSAxMCBzcVxyXG4gICAgICAgICAgICAgICAgLy9ePyFcIidcXDo7PCAtIDEuNSBzaGlmdCw3IHNxdWFyZSwxLjUgYmFja3NwYWNlXHJcbiAgICAgICAgICAgICAgICAvL1tBQkNdLHNwYWNlLltFbnRlcl0gLSAxLjUsMSw0LDEsMS41XHJcbiAgICAgICAgICAgICAgICBrZXlzID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcwJyxcclxuICAgICAgICAgICAgICAgICAgICAnQCcsICcjJywgJyUnLCAnJicsICcqJywgJy8nLCAnLScsICcrJywgJygnLCAnKScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1x1MjFFNycsICc/JywgJyEnLCAnXCInLCAnXFwnJywgJ1xcXFwnLCAnOicsICc7JywgJ1x1MjFFNicsICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICdhYmMnLCAnLCcsICcgICAnLCAnLicsICdcdTIxQjInXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJycpIGNvbnRlbnRbYGJ0biR7aX1gXSA9IGtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAvL251bWJlcnMgc2hpZnRlZFxyXG4gICAgICAgICAgICAgICAgLy8xMjM0NTY3ODkwIC0gMTAgc3F1YXJlXHJcbiAgICAgICAgICAgICAgICAvL1x1MjBBQ1x1MDBBMyRePXx7fVtdIC0gMTAgc3FcclxuICAgICAgICAgICAgICAgIC8vXjw+X2B+Ojs8IC0gMS41IHNoaWZ0LDcgc3F1YXJlLDEuNSBiYWNrc3BhY2VcclxuICAgICAgICAgICAgICAgIC8vW0FCQ10sc3BhY2UuW0VudGVyXSAtIDEuNSwxLDUsMSwxLjVcclxuICAgICAgICAgICAgICAgIGtleXMgPSBbJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJzAnLFxyXG4gICAgICAgICAgICAgICAgICAgICdcdTIwQUMnLCAnXHUwMEEzJywgJyQnLCAnXicsICc9JywgJ3wnLCAneycsICd9JywgJ1snLCAnfScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1x1MjFFNycsICc8JywgJz4nLCAnXycsICdgJywgJ34nLCAnOicsICc7JywgJ1x1MjFFNicsICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICdhYmMnLCAnLCcsICcgICAnLCAnLicsICdcdTIxQjInXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJycpIGNvbnRlbnRbYGJ0biR7aX1gXSA9IGtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBvc2l0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMua2V5Ym9hcmQub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy50bXBWZWMpO1xyXG4gICAgICAgIHJldHVybiBwb3M7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBvc2l0aW9uTG9jYWwoKSB7XHJcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5rZXlib2FyZC5vYmplY3QuZ2V0VHJhbnNsYXRpb25Mb2NhbCh0aGlzLnRtcFZlYyk7XHJcbiAgICAgICAgcmV0dXJuIHBvcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmlzaWJsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZpc2libGUodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmtleWJvYXJkLm9iamVjdC5hY3RpdmUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEtleWJvYXJkKGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5rZXlib2FyZC5jb250ZW50ID0gdGhpcy5nZXRDb250ZW50KHRoaXMubGFuZ3VhZ2UsIGluZGV4KTtcclxuICAgICAgICB0aGlzLmtleWJvYXJkLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBvblNlbGVjdChpbmRleCkge1xyXG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlKSByZXR1cm5cclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyggYENhbnZhc0tleWJvYXJkIG9uU2VsZWN0OiBrZXkgaW5kZXggJHtpbmRleH1gKTtcclxuICAgICAgICBsZXQgY2hhbmdlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoaW5kZXgpIHtcclxuICAgICAgICAgICAgY2FzZSAzNDovL0VudGVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxpbmtlZEVsZW1lbnQub25FbnRlcikgdGhpcy5saW5rZWRFbGVtZW50Lm9uRW50ZXIodGhpcy5saW5rZWRUZXh0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDMyOi8vc3BhY2VcclxuICAgICAgICAgICAgICAgIHRoaXMubGlua2VkVGV4dCArPSAnICc7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzA6Ly9zd2l0Y2gga2V5Ym9hcmRcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hpZnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmtleWJvYXJkSW5kZXggPCAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRLZXlib2FyZCgyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRLZXlib2FyZCgwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjg6Ly9iYWNrc3BhY2VcclxuICAgICAgICAgICAgICAgIHRoaXMubGlua2VkVGV4dCA9IHRoaXMubGlua2VkVGV4dC5zdWJzdHJpbmcoMCwgdGhpcy5saW5rZWRUZXh0Lmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDIwOi8vc2hpZnRcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hpZnQgPSAhdGhpcy5zaGlmdDtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmtleWJvYXJkSW5kZXggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0S2V5Ym9hcmQoMSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMua2V5Ym9hcmRJbmRleCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRLZXlib2FyZCgwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5rZXlib2FyZEluZGV4ID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEtleWJvYXJkKDMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmtleWJvYXJkSW5kZXggPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0S2V5Ym9hcmQoMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHR4dCA9IHRoaXMua2V5Ym9hcmQuY29udGVudFtgYnRuJHtpbmRleH1gXTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlua2VkVGV4dCArPSB0eHQ7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmRJbmRleCA9PSAxKSB0aGlzLnNldEtleWJvYXJkKDApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlua2VkVUkudXBkYXRlRWxlbWVudCh0aGlzLmxpbmtlZE5hbWUsIHRoaXMubGlua2VkVGV4dCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxpbmtlZEVsZW1lbnQub25DaGFuZ2VkKSB0aGlzLmxpbmtlZEVsZW1lbnQub25DaGFuZ2VkKHRoaXMubGlua2VkVGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5rZXlib2FyZCkge1xyXG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qQW4gZWxlbWVudCBpcyBkZWZpbmVkIGJ5IFxyXG50eXBlOiB0ZXh0IHwgYnV0dG9uIHwgaW1hZ2UgfCBzaGFwZVxyXG5ob3ZlcjogaGV4XHJcbmFjdGl2ZTogaGV4XHJcbnBvc2l0aW9uOiB4LCB5LCBsZWZ0LCByaWdodCwgdG9wLCBib3R0b21cclxud2lkdGg6IHBpeGVscywgd2lsbCBpbmhlcml0IGZyb20gYm9keSBpZiBtaXNzaW5nXHJcbmhlaWdodDogcGl4ZWxzLCB3aWxsIGluaGVyaXQgZnJvbSBib2R5IGlmIG1pc3Npbmdcclxub3ZlcmZsb3c6IGZpdCB8IHNjcm9sbCB8IGhpZGRlblxyXG50ZXh0QWxpZ246IGNlbnRlciB8IGxlZnQgfCByaWdodFxyXG5mb250U2l6ZTogcGl4ZWxzXHJcbmZvbnRDb2xvcjogaGV4XHJcbmZvbnRGYW1pbHk6IHN0cmluZ1xyXG5wYWRkaW5nOiBwaXhlbHNcclxuYmFja2dyb3VuZENvbG9yOiBoZXhcclxuYm9yZGVyUmFkaXVzOiBwaXhlbHNcclxuY2xpcFBhdGg6IHN2ZyBwYXRoXHJcbmJvcmRlcjogd2lkdGggY29sb3Igc3R5bGVcclxuKi9cclxuY2xhc3MgQ2FudmFzVUkge1xyXG4gICAgY29uc3RydWN0b3IoY29udGVudCwgY29uZmlnLCBvYmplY3QsIGVuZ2luZSkge1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRjb25maWcgPSB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MTIsXHJcbiAgICAgICAgICAgIGhlaWdodDogNTEyLFxyXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjcsXHJcbiAgICAgICAgICAgIGJvZHk6IHtcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMTAwLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMjAsXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwJyxcclxuICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogJyNmZmYnLFxyXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA2XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSAoY29uZmlnID09PSB1bmRlZmluZWQpID8gZGVmYXVsdGNvbmZpZyA6IGNvbmZpZztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLndpZHRoID09PSB1bmRlZmluZWQpIHRoaXMuY29uZmlnLndpZHRoID0gNTEyO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5oZWlnaHQgPT09IHVuZGVmaW5lZCkgdGhpcy5jb25maWcuaGVpZ2h0ID0gNTEyO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5ib2R5ID09PSB1bmRlZmluZWQpIHRoaXMuY29uZmlnLmJvZHkgPSB7IGZvbnRGYW1pbHk6ICdBcmlhbCcsIHNpemU6IDMwLCBwYWRkaW5nOiAyMCwgYmFja2dyb3VuZENvbG9yOiAnIzAwMCcsIGZvbnRDb2xvcjogJyNmZmYnLCBib3JkZXJSYWRpdXM6IDYgfTtcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuY29sbGlzaW9uR3JvdXAgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbGxpc2lvbkdyb3VwID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNvbGxpc2lvbkdyb3VwID0gMSA8PCB0aGlzLmNvbmZpZy5jb2xsaXNpb25Hcm91cDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLmNvbmZpZy5ib2R5O1xyXG4gICAgICAgIGlmIChib2R5LmJvcmRlclJhZGl1cyA9PT0gdW5kZWZpbmVkKSBib2R5LmJvcmRlclJhZGl1cyA9IDY7XHJcbiAgICAgICAgaWYgKGJvZHkuZm9udEZhbWlseSA9PT0gdW5kZWZpbmVkKSBib2R5LmZvbnRGYW1pbHkgPSBcIkFyaWFsXCI7XHJcbiAgICAgICAgaWYgKGJvZHkucGFkZGluZyA9PT0gdW5kZWZpbmVkKSBib2R5LnBhZGRpbmcgPSAyMDtcclxuICAgICAgICBpZiAoYm9keS5mb250U2l6ZSA9PT0gdW5kZWZpbmVkKSBib2R5LmZvbnRTaXplID0gMTAwO1xyXG4gICAgICAgIGlmIChib2R5LmJhY2tncm91bmRDb2xvciA9PT0gdW5kZWZpbmVkKSBib2R5LmJhY2tncm91bmRDb2xvciA9ICcjMDAwJztcclxuICAgICAgICBpZiAoYm9keS5mb250Q29sb3IgPT09IHVuZGVmaW5lZCkgYm9keS5mb250Q29sb3IgPSAnI2ZmZic7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuY29uZmlnKS5mb3JFYWNoKChbbmFtZSwgdmFsdWVdKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PT0gJ29iamVjdCcgJiYgbmFtZSAhPT0gJ3BhbmVsU2l6ZScpIHsvL30gJiYgISh2YWx1ZSBpbnN0YW5jZW9mIFdlYkdMUmVuZGVyZXIpICYmICEodmFsdWUgaW5zdGFuY2VvZiBTY2VuZSkgKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9ICh2YWx1ZS5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSA/IHZhbHVlLnBvc2l0aW9uIDogeyB4OiAwLCB5OiAwIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBvcy5sZWZ0ICE9PSB1bmRlZmluZWQgJiYgcG9zLnggPT09IHVuZGVmaW5lZCkgcG9zLnggPSBwb3MubGVmdDtcclxuICAgICAgICAgICAgICAgIGlmIChwb3MudG9wICE9PSB1bmRlZmluZWQgJiYgcG9zLnkgPT09IHVuZGVmaW5lZCkgcG9zLnkgPSBwb3MudG9wO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gKHZhbHVlLndpZHRoICE9PSB1bmRlZmluZWQpID8gdmFsdWUud2lkdGggOiB0aGlzLmNvbmZpZy53aWR0aDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9ICh2YWx1ZS5oZWlnaHQgIT09IHVuZGVmaW5lZCkgPyB2YWx1ZS5oZWlnaHQgOiB0aGlzLmNvbmZpZy5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBvcy5yaWdodCAhPT0gdW5kZWZpbmVkICYmIHBvcy54ID09PSB1bmRlZmluZWQpIHBvcy54ID0gdGhpcy5jb25maWcud2lkdGggLSBwb3MucmlnaHQgLSB3aWR0aDtcclxuICAgICAgICAgICAgICAgIGlmIChwb3MuYm90dG9tICE9PSB1bmRlZmluZWQgJiYgcG9zLnkgPT09IHVuZGVmaW5lZCkgcG9zLnkgPSB0aGlzLmNvbmZpZy5oZWlnaHQgLSBwb3MuYm90dG9tIC0gaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwb3MueCA9PT0gdW5kZWZpbmVkKSBwb3MueCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zLnkgPT09IHVuZGVmaW5lZCkgcG9zLnkgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhbHVlLnBvc2l0aW9uID0gcG9zO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09PSB1bmRlZmluZWQpIHZhbHVlLnR5cGUgPSAndGV4dCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSB0aGlzLmNyZWF0ZU9mZnNjcmVlbkNhbnZhcyh0aGlzLmNvbmZpZy53aWR0aCwgdGhpcy5jb25maWcuaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9wYWNpdHkgPSAodGhpcy5jb25maWcub3BhY2l0eSAhPT0gdW5kZWZpbmVkKSA/IHRoaXMuY29uZmlnLm9wYWNpdHkgOiAwLjc7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lc2ggPSBvYmplY3QuZ2V0Q29tcG9uZW50KCdtZXNoJyk7XHJcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWw7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGVuZ2luZSwgdGhpcy5jYW52YXMpO1xyXG4gICAgICAgIHRoaXMubWF0ZXJpYWwuZmxhdFRleHR1cmUgPSB0aGlzLmNhbnZhc1RleHR1cmU7XHJcblxyXG4gICAgICAgIGlmIChjb25maWcucGFuZWxTaXplKSB7XHJcbiAgICAgICAgICAgIG9iamVjdC5yZXNldFNjYWxpbmcoKTtcclxuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBbY29uZmlnLnBhbmVsU2l6ZS53aWR0aCwgY29uZmlnLnBhbmVsU2l6ZS5oZWlnaHQsIDAuMDFdO1xyXG4gICAgICAgICAgICBvYmplY3Quc2NhbGUoc2NhbGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVsU2l6ZSA9IGNvbmZpZy5wYW5lbFNpemU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbFNpemUgPSB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xyXG4gICAgICAgIHRoaXMuZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgIHRoaXMudG1wVmVjID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLnRtcFZlYzEgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMudG1wUXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlucHV0cyA9IE9iamVjdC52YWx1ZXModGhpcy5jb25maWcpLmZpbHRlcigodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnR5cGUgPT09IFwiaW5wdXQtdGV4dFwiO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChpbnB1dHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IChjb25maWcucGFuZWxTaXplKSA/IGNvbmZpZy5wYW5lbFNpemUud2lkdGggOiAxO1xyXG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSAoY29uZmlnLnBhbmVsU2l6ZSkgPyBjb25maWcucGFuZWxTaXplLmhlaWdodCA6IDE7XHJcbiAgICAgICAgICAgIGxldCBoYWxmaGVpZ2h0ID0gaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgdGhpcy5rZXlib2FyZCA9IG5ldyBDYW52YXNLZXlib2FyZCh3aWR0aCwgdGhpcyk7XHJcbiAgICAgICAgICAgIC8vQ2FsY3VsYXRlIG1haW4gcGFuZWwgb2Zmc2V0XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RXVsZXIodGhpcy50bXBWZWMsIHRoaXMub2JqZWN0LnJvdGF0aW9uV29ybGQpO1xyXG4gICAgICAgICAgICBsZXQgdGhldGEgPSB0aGlzLnRtcFZlY1sxXTtcclxuICAgICAgICAgICAgdGhpcy50bXBWZWNbMF0gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnRtcFZlY1syXSA9IC1NYXRoLmNvcyh0aGV0YSkgLyBoYWxmaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLnRtcFZlY1sxXSA9IE1hdGguc2luKHRoZXRhKSAvIGhhbGZoZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDYW52YXNVSSBjcmVhdGUga2V5Ym9hcmQgMSB0aGV0YT0ke3RoZXRhLnRvRml4ZWQoMil9IG9mZnNldD0ke3RoaXMudmVjVG9TdHIodGhpcy50bXBWZWMpfWApO1xyXG4gICAgICAgICAgICAvL0NhbGN1bGF0ZSBrZXlib2FyZCBwYW5lbCBvZmZzZXRcclxuICAgICAgICAgICAgaGFsZmhlaWdodCA9IHdpZHRoIC8gNDtcclxuICAgICAgICAgICAgdGhpcy5nZXRFdWxlcih0aGlzLnRtcFZlYzEsIHRoaXMua2V5Ym9hcmQua2V5Ym9hcmQub2JqZWN0LnJvdGF0aW9uV29ybGQpO1xyXG4gICAgICAgICAgICB0aGV0YSArPSAtMTUgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgICAgICB0aGlzLnRtcFZlYzFbMF0gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnRtcFZlYzFbMl0gPSAtTWF0aC5jb3ModGhldGEpIC8gaGFsZmhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy50bXBWZWMxWzFdID0gTWF0aC5zaW4odGhldGEpIC8gaGFsZmhlaWdodDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYENhbnZhc1VJIGNyZWF0ZSBrZXlib2FyZCAyIHRoZXRhPSR7dGhldGEudG9GaXhlZCgyKX0gb2Zmc2V0PSR7dGhpcy52ZWNUb1N0cih0aGlzLnRtcFZlYzEpfWApO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZCh0aGlzLnRtcFZlYywgdGhpcy50bXBWZWMsIHRoaXMudG1wVmVjMSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDYW52YXNVSSBjcmVhdGUga2V5Ym9hcmQgMyB0aGV0YT0ke3RoZXRhLnRvRml4ZWQoMil9IG9mZnNldD0ke3RoaXMudmVjVG9TdHIodGhpcy50bXBWZWMpfWApO1xyXG4gICAgICAgICAgICBjb25zdCBvYmogPSB0aGlzLmtleWJvYXJkLm9iamVjdDtcclxuICAgICAgICAgICAgcXVhdC5mcm9tRXVsZXIodGhpcy50bXBRdWF0LCAtMTUsIDAsIDApO1xyXG4gICAgICAgICAgICBvYmoucm90YXRlKHRoaXMudG1wUXVhdCk7XHJcbiAgICAgICAgICAgIG9iai50cmFuc2xhdGUodGhpcy50bXBWZWMpOy8vWzAsIC1oZWlnaHQqMTIsIDEyXSApO1xyXG4gICAgICAgICAgICB2ZWMzLmRpdmlkZSh0aGlzLnRtcFZlYywgb2JqLnNjYWxpbmdMb2NhbCwgb2JqZWN0LnNjYWxpbmdXb3JsZCk7XHJcbiAgICAgICAgICAgIG9iai5yZXNldFNjYWxpbmcoKTtcclxuICAgICAgICAgICAgb2JqLnNjYWxlKHRoaXMudG1wVmVjKTtcclxuICAgICAgICAgICAgb2JqLnBhcmVudCA9IG9iamVjdDtcclxuICAgICAgICAgICAgb2JqLnNldERpcnR5KCk7XHJcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSB7IGJvZHk6IFwiXCIgfTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWcuYm9keS50eXBlID0gXCJ0ZXh0XCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcclxuICAgICAgICAgICAgY29uc3QgYnRucyA9IE9iamVjdC52YWx1ZXMoY29uZmlnKS5maWx0ZXIoKHZhbHVlKSA9PiB7IHJldHVybiB2YWx1ZS50eXBlID09PSBcImJ1dHRvblwiIHx8IHZhbHVlLm92ZXJmbG93ID09PSBcInNjcm9sbFwiIHx8IHZhbHVlLnR5cGUgPT09IFwiaW5wdXQtdGV4dFwiIH0pO1xyXG4gICAgICAgICAgICBpZiAoYnRucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLmluaXRDb250cm9sbGVycy5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVudHMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5jb3B5KGV4dGVudHMsIHRoaXMub2JqZWN0LnNjYWxpbmdXb3JsZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xsaXNpb24gPSB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQoJ2NvbGxpc2lvbicsIHsgY29sbGlkZXI6IDIsIGV4dGVudHMsIGdyb3VwOiB0aGlzLmNvbGxpc2lvbkdyb3VwIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNlbGVjdGVkRWxlbWVudHMgPSBbdW5kZWZpbmVkLCB1bmRlZmluZWRdO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0UHJlc3NlZCA9IFtmYWxzZSwgZmFsc2VdO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsRGF0YSA9IFt1bmRlZmluZWQsIHVuZGVmaW5lZF07XHJcbiAgICAgICAgdGhpcy5pbnRlcnNlY3RzID0gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXTtcclxuXHJcbiAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmVjVG9TdHIodiwgcHJlY2lzaW9uID0gMikge1xyXG4gICAgICAgIGxldCBzdHIgPSBcIlwiO1xyXG5cclxuICAgICAgICBpZiAodikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHYubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHN0ciArPSB2W2ldLnRvRml4ZWQocHJlY2lzaW9uKSArICcsICc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9XHJcblxyXG4gICAgLy9yZXR1cm5zIHlhdywgcGl0Y2gsIHJvbGxcclxuICAgIGdldEV1bGVyKG91dCwgcXVhdCkge1xyXG4gICAgICAgIGxldCB4ID0gcXVhdFswXSxcclxuICAgICAgICAgICAgeSA9IHF1YXRbMV0sXHJcbiAgICAgICAgICAgIHogPSBxdWF0WzJdLFxyXG4gICAgICAgICAgICB3ID0gcXVhdFszXSxcclxuICAgICAgICAgICAgeDIgPSB4ICogeCxcclxuICAgICAgICAgICAgeTIgPSB5ICogeSxcclxuICAgICAgICAgICAgejIgPSB6ICogeixcclxuICAgICAgICAgICAgdzIgPSB3ICogdztcclxuICAgICAgICBsZXQgdW5pdCA9IHgyICsgeTIgKyB6MiArIHcyO1xyXG4gICAgICAgIGxldCB0ZXN0ID0geCAqIHcgLSB5ICogejtcclxuICAgICAgICBpZiAodGVzdCA+IDAuNDk5OTk1ICogdW5pdCkgeyAvL1RPRE86IFVzZSBnbG1hdHJpeC5FUFNJTE9OXHJcbiAgICAgICAgICAgIC8vIHNpbmd1bGFyaXR5IGF0IHRoZSBub3J0aCBwb2xlXHJcbiAgICAgICAgICAgIG91dFswXSA9IE1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICBvdXRbMV0gPSAyICogTWF0aC5hdGFuMih5LCB4KTtcclxuICAgICAgICAgICAgb3V0WzJdID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRlc3QgPCAtMC40OTk5OTUgKiB1bml0KSB7IC8vVE9ETzogVXNlIGdsbWF0cml4LkVQU0lMT05cclxuICAgICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgdGhlIHNvdXRoIHBvbGVcclxuICAgICAgICAgICAgb3V0WzBdID0gLU1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICBvdXRbMV0gPSAyICogTWF0aC5hdGFuMih5LCB4KTtcclxuICAgICAgICAgICAgb3V0WzJdID0gMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvdXRbMF0gPSBNYXRoLmFzaW4oMiAqICh4ICogeiAtIHcgKiB5KSk7XHJcbiAgICAgICAgICAgIG91dFsxXSA9IE1hdGguYXRhbjIoMiAqICh4ICogdyArIHkgKiB6KSwgMSAtIDIgKiAoejIgKyB3MikpO1xyXG4gICAgICAgICAgICBvdXRbMl0gPSBNYXRoLmF0YW4yKDIgKiAoeCAqIHkgKyB6ICogdyksIDEgLSAyICogKHkyICsgejIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETzogUmV0dXJuIHRoZW0gYXMgZGVncmVlcyBhbmQgbm90IGFzIHJhZGlhbnNcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldEludGVyc2VjdFkoaW5kZXgpIHtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNvbmZpZy5oZWlnaHQgfHwgNTEyO1xyXG4gICAgICAgIGNvbnN0IGludGVyc2VjdCA9IHRoaXMuaW50ZXJzZWN0c1tpbmRleF07XHJcbiAgICAgICAgaWYgKGludGVyc2VjdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gMDtcclxuICAgICAgICBpZiAoaW50ZXJzZWN0Lnh5ID09PSB1bmRlZmluZWQpIHJldHVybiAwO1xyXG4gICAgICAgIHJldHVybiBpbnRlcnNlY3QueHlbMV07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNlbGVjdElzUHJlc3NlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RQcmVzc2VkWzBdIHx8IHRoaXMuc2VsZWN0UHJlc3NlZFsxXTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0Q29udHJvbGxlcnMocykge1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHM7XHJcbiAgICAgICAgLy9HZXQgcmF5bGVmdCBhbmQgcmlnaHRcclxuICAgICAgICBjb25zdCByb290ID0gbmV3IE9iamVjdDNEKDApO1xyXG4gICAgICAgIHJvb3QuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5uYW1lID09ICdQbGF5ZXInKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcGFjZSA9IGNoaWxkLmNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICAgICAgc3BhY2UuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ0N1cnNvckxlZnQnKSB0aGlzLnJheUxlZnQgPSBjaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQubmFtZSA9PSAnQ3Vyc29yUmlnaHQnKSB0aGlzLnJheVJpZ2h0ID0gY2hpbGQ7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoISh0aGlzLnJheUxlZnQgJiYgdGhpcy5yYXlSaWdodCkpIGNvbnNvbGUud2FybignUGxheWVyIEN1cnNvckxlZnQgb3IgUGxheWVyIEN1cnNvclJpZ2h0IG5vdCBmb3VuZCcpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBvblNlbGVjdChldmVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IChldmVudC5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09PSAnbGVmdCcpID8gMCA6IDE7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsbSA9IHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgICAgIGlmIChlbG0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsbS50eXBlID09IFwiYnV0dG9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsbS50eXBlID09IFwiaW5wdXQtdGV4dFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5saW5rZWRVSSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVGV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkRWxlbWVudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5saW5rZWRVSSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuY29uZmlnKS5mb3JFYWNoKChbcHJvcCwgdmFsdWVdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IGVsbSkgbmFtZSA9IHByb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSAoMC41IC0gKChlbG0ucG9zaXRpb24ueSArIGVsbS5oZWlnaHQgKyB0aGlzLmNvbmZpZy5ib2R5LnBhZGRpbmcpIC8gdGhpcy5jb25maWcuaGVpZ2h0KSkgKiB0aGlzLnBhbmVsU2l6ZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoID0gTWF0aC5tYXgodGhpcy5wYW5lbFNpemUud2lkdGgsIHRoaXMucGFuZWxTaXplLmhlaWdodCkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmtleWJvYXJkLnBvc2l0aW9uLnNldCggWzAsIGgvMS41IC0geSwgLTAuMV0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVGV4dCA9IHRoaXMuY29udGVudFtuYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkTmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZEVsZW1lbnQgPSBlbG07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb25TZWxlY3RTdGFydChldmVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IChldmVudC5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09PSAnbGVmdCcpID8gMCA6IDE7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0UHJlc3NlZFtpbmRleF0gPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0ub3ZlcmZsb3cgPT0gXCJzY3JvbGxcIikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWxtID0gdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsRGF0YVtpbmRleF0gPSB7IHNjcm9sbFk6IGVsbS5zY3JvbGxZLCByYXlZOiB0aGlzLmdldEludGVyc2VjdFkoaW5kZXgpIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9uU2VsZWN0RW5kKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gKGV2ZW50LmlucHV0U291cmNlLmhhbmRlZG5lc3MgPT09ICdsZWZ0JykgPyAwIDogMTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RQcmVzc2VkW2luZGV4XSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0ub3ZlcmZsb3cgPT0gXCJzY3JvbGxcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxEYXRhW2luZGV4XSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIG9uU2VsZWN0LmJpbmQodGhpcykpO1xyXG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBvblNlbGVjdFN0YXJ0LmJpbmQodGhpcykpO1xyXG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0ZW5kJywgb25TZWxlY3RFbmQuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldENsaXAoZWxtKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcclxuXHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgIGlmIChlbG0uY2xpcFBhdGggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gbmV3IFBhdGgyRChlbG0uY2xpcFBhdGgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmNsaXAocGF0aCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcG9zID0gKGVsbS5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSA/IGVsbS5wb3NpdGlvbiA6IHsgeDogMCwgeTogMCB9O1xyXG4gICAgICAgICAgICBjb25zdCBib3JkZXJSYWRpdXMgPSBlbG0uYm9yZGVyUmFkaXVzIHx8IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gZWxtLndpZHRoIHx8IHRoaXMuY29uZmlnLndpZHRoO1xyXG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBlbG0uaGVpZ2h0IHx8IHRoaXMuY29uZmlnLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYm9yZGVyUmFkaXVzICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICAgICAgLy9zdGFydCB0b3AgbGVmdFxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocG9zLnggKyBib3JkZXJSYWRpdXMsIHBvcy55KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHBvcy54ICsgYm9yZGVyUmFkaXVzLCBwb3MueSArIGJvcmRlclJhZGl1cywgYm9yZGVyUmFkaXVzLCBhbmdsZSwgYW5nbGUgKiAyLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvcy54LCBwb3MueSArIGhlaWdodCAtIGJvcmRlclJhZGl1cyk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhwb3MueCArIGJvcmRlclJhZGl1cywgcG9zLnkgKyBoZWlnaHQgLSBib3JkZXJSYWRpdXMsIGJvcmRlclJhZGl1cywgMCwgYW5nbGUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocG9zLnggKyB3aWR0aCAtIGJvcmRlclJhZGl1cywgcG9zLnkgKyBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMocG9zLnggKyB3aWR0aCAtIGJvcmRlclJhZGl1cywgcG9zLnkgKyBoZWlnaHQgLSBib3JkZXJSYWRpdXMsIGJvcmRlclJhZGl1cywgYW5nbGUgKiAzLCBhbmdsZSAqIDQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocG9zLnggKyB3aWR0aCwgcG9zLnkgKyBib3JkZXJSYWRpdXMpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMocG9zLnggKyB3aWR0aCAtIGJvcmRlclJhZGl1cywgcG9zLnkgKyBib3JkZXJSYWRpdXMsIGJvcmRlclJhZGl1cywgYW5nbGUgKiAyLCBhbmdsZSAqIDMsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5yZWN0KHBvcy54LCBwb3MueSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWVzaCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLnNldCh4LCB5LCB6KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRSb3RhdGlvbih4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWVzaCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5tZXNoLnJvdGF0aW9uLnNldCh4LCB5LCB6KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVFbGVtZW50KG5hbWUsIGNvbnRlbnQpIHtcclxuICAgICAgICBsZXQgZWxtID0gdGhpcy5jb250ZW50W25hbWVdO1xyXG5cclxuICAgICAgICBpZiAoZWxtID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDYW52YXNVSS51cGRhdGVFbGVtZW50OiBObyAke25hbWV9IGZvdW5kYCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgZWxtID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBlbG0uY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWxtID0gY29udGVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29udGVudFtuYW1lXSA9IGVsbTtcclxuXHJcbiAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhbmVsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lc2g7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RWxlbWVudEF0TG9jYXRpb24oeCwgeSkge1xyXG4gICAgICAgIGNvbnN0IGVsbXMgPSBPYmplY3QuZW50cmllcyh0aGlzLmNvbmZpZykuZmlsdGVyKChbbmFtZSwgZWxtXSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsbSA9PT0gJ29iamVjdCcgJiYgbmFtZSAhPT0gJ3BhbmVsU2l6ZScgJiYgbmFtZSAhPT0gJ2JvZHknKSB7Ly8gJiYgIShlbG0gaW5zdGFuY2VvZiBXZWJHTFJlbmRlcmVyKSAmJiAhKGVsbSBpbnN0YW5jZW9mIFNjZW5lKSl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3MgPSBlbG0ucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IChlbG0ud2lkdGggIT09IHVuZGVmaW5lZCkgPyBlbG0ud2lkdGggOiB0aGlzLmNvbmZpZy53aWR0aDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IChlbG0uaGVpZ2h0ICE9PSB1bmRlZmluZWQpID8gZWxtLmhlaWdodCA6IHRoaXMuY29uZmlnLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoeCA+PSBwb3MueCAmJiB4IDwgKHBvcy54ICsgd2lkdGgpICYmIHkgPj0gcG9zLnkgJiYgeSA8IChwb3MueSArIGhlaWdodCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgZWxtID0gKGVsbXMubGVuZ3RoID09IDApID8gbnVsbCA6IHRoaXMuY29uZmlnW2VsbXNbMF1bMF1dO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coYHNlbGVjdGVkID0gJHtlbG19YCk7XHJcbiAgICAgICAgcmV0dXJuIGVsbTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDb25maWcobmFtZSwgcHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IGVsbSA9IHRoaXMuY29uZmlnW25hbWVdO1xyXG5cclxuICAgICAgICBpZiAoZWxtID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDYW52YXNVSS51cGRhdGVjb25maWc6IE5vICR7bmFtZX0gZm91bmRgKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxtW3Byb3BlcnR5XSA9IHZhbHVlO1xyXG5cclxuICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBob3ZlcihpbmRleCA9IDAsIHh5KSB7XHJcbiAgICAgICAgaWYgKHh5ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgeCA9IHh5WzBdO1xyXG4gICAgICAgICAgICBjb25zdCB5ID0geHlbMV07XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coIGBob3ZlciB1djoke3V2LngudG9GaXhlZCgyKX0sJHt1di55LnRvRml4ZWQoMil9Pj50ZXh0dXJlUG9zOiR7eC50b0ZpeGVkKDApfSwgJHt5LnRvRml4ZWQoMCl9YCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsbSA9IHRoaXMuZ2V0RWxlbWVudEF0TG9jYXRpb24oeCwgeSk7XHJcbiAgICAgICAgICAgIGlmIChlbG0gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0gIT09IGVsbSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSA9IGVsbTtcclxuICAgICAgICAgICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3QoaW5kZXggPSAwLCBtb3VzZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBlbG0gPSB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoZWxtLm9uU2VsZWN0KSBlbG0ub25TZWxlY3QoKTtcclxuICAgICAgICAgICAgaWYgKGVsbS50eXBlID09PSAnaW5wdXQtdGV4dCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtb3VzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmtleWJvYXJkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmtleWJvYXJkLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVUkgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZFRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZEVsZW1lbnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVUkgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLmNvbmZpZykuZm9yRWFjaCgoW3Byb3AsIHZhbHVlXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBlbG0pIG5hbWUgPSBwcm9wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gKDAuNSAtICgoZWxtLnBvc2l0aW9uLnkgKyBlbG0uaGVpZ2h0ICsgdGhpcy5jb25maWcuYm9keS5wYWRkaW5nKSAvIHRoaXMuY29uZmlnLmhlaWdodCkpICogdGhpcy5wYW5lbFNpemUuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaCA9IE1hdGgubWF4KHRoaXMucGFuZWxTaXplLndpZHRoLCB0aGlzLnBhbmVsU2l6ZS5oZWlnaHQpIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5rZXlib2FyZC5wb3NpdGlvbi5zZXQoIFswLCBoLzEuNSAtIHksIC0wLjFdICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZFRleHQgPSB0aGlzLmNvbnRlbnRbbmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZE5hbWUgPSBuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5saW5rZWRFbGVtZW50ID0gZWxtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC52aXNpYmxlID0gKHRoaXMua2V5Ym9hcmQudmlzaWJsZSkgPyBmYWxzZSA6IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNjcm9sbChpbmRleCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmludGVyc2VjdE1lc2gpIHRoaXMuaW50ZXJzZWN0TWVzaFtpbmRleF0udmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdLm92ZXJmbG93ICE9PSAnc2Nyb2xsJykgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGVsbSA9IHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0UHJlc3NlZFtpbmRleF0pIHtcclxuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsRGF0YSA9IHRoaXMuc2Nyb2xsRGF0YVtpbmRleF07XHJcbiAgICAgICAgICAgIGlmIChzY3JvbGxEYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmludGVyc2VjdE1lc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyc2VjdE1lc2hbaW5kZXhdLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0TWVzaFtpbmRleF0ucG9zaXRpb24uY29weSh0aGlzLmludGVyc2VjdHNbaW5kZXhdLnBvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJheVkgPSB0aGlzLmdldEludGVyc2VjdFkoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcmF5WSAtIHNjcm9sbERhdGEucmF5WTtcclxuICAgICAgICAgICAgICAgIGVsbS5zY3JvbGxZID0gTWF0aC5taW4oTWF0aC5tYXgoZWxtLm1pblNjcm9sbFksIHNjcm9sbERhdGEuc2Nyb2xsWSArIG9mZnNldCksIDApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnRlcnNlY3RNZXNoKSB0aGlzLmludGVyc2VjdE1lc2hbaW5kZXhdLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgd29ybGRUb0NhbnZhcyhwb3MpIHtcclxuICAgICAgICB0aGlzLm9iamVjdC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh0aGlzLnRtcFZlYywgcG9zKTtcclxuICAgICAgICB2ZWMzLmNvcHkodGhpcy50bXBWZWMxLCB0aGlzLm9iamVjdC5zY2FsaW5nV29ybGQpO1xyXG4gICAgICAgIHZlYzMuZGl2KHRoaXMudG1wVmVjLCB0aGlzLnRtcFZlYywgdGhpcy50bXBWZWMxKTtcclxuICAgICAgICBjb25zdCB4eSA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XHJcbiAgICAgICAgeHlbMF0gPSAoKHRoaXMudG1wVmVjWzBdICsgMSkgLyAyKSAqIHRoaXMuY29uZmlnLndpZHRoO1xyXG4gICAgICAgIHh5WzFdID0gKDEgLSAodGhpcy50bXBWZWNbMV0gKyAxKSAvIDIpICogdGhpcy5jb25maWcuaGVpZ2h0O1xyXG4gICAgICAgIC8vb2JqOiR7dGhpcy50bXBWZWNbMF0udG9GaXhlZCgyKX0sJHt0aGlzLnRtcFZlY1syXS50b0ZpeGVkKDIpfWA7XHJcbiAgICAgICAgLy9jb25zdCBzdHIgPSBgcG9zOiR7cG9zWzBdLnRvRml4ZWQoMil9LCR7cG9zWzFdLnRvRml4ZWQoMil9IHh5OiR7eHlbMF0udG9GaXhlZCgyKX0sJHt4eVsxXS50b0ZpeGVkKDIpfWA7XHJcbiAgICAgICAgLy90aGlzLnVwZGF0ZUVsZW1lbnQoJ2luZm8nLCBzdHIpO1xyXG4gICAgICAgIC8vaWYgKHRoaXMuc2VsZWN0SXNQcmVzc2VkKSBjb25zb2xlLmxvZyhgQ2FudmFzVUkud29ybGRUb0NhbnZhcyAke3N0cn1gKTtcclxuICAgICAgICByZXR1cm4geHk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ29udHJvbGxlcihjb250cm9sbGVyLCBpbmRleCkge1xyXG4gICAgICAgIGlmIChjb250cm9sbGVyID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29udHJvbGxlci5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMudG1wVmVjKTtcclxuICAgICAgICBjb250cm9sbGVyLmdldEZvcndhcmQodGhpcy50bXBWZWMxKTtcclxuXHJcbiAgICAgICAgY29uc3QgaW50ZXJzZWN0cyA9IFdMLnNjZW5lLnJheUNhc3QodGhpcy50bXBWZWMsIHRoaXMudG1wVmVjMSwgdGhpcy5jb2xsaXNpb25Hcm91cCwgMTAwKTtcclxuXHJcbiAgICAgICAgaWYgKGludGVyc2VjdHMuaGl0Q291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIGludGVyc2VjdHMueHkgPSB0aGlzLndvcmxkVG9DYW52YXMoaW50ZXJzZWN0cy5sb2NhdGlvbnNbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLmhvdmVyKGluZGV4LCBpbnRlcnNlY3RzLnh5KTtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3RzW2luZGV4XSA9IGludGVyc2VjdHM7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsKGluZGV4KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhvdmVyKGluZGV4KTtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3RzW2luZGV4XSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmF5TGVmdCkgdGhpcy5oYW5kbGVDb250cm9sbGVyKHRoaXMucmF5TGVmdCwgMCk7XHJcbiAgICAgICAgaWYgKHRoaXMucmF5UmlnaHQpIHRoaXMuaGFuZGxlQ29udHJvbGxlcih0aGlzLnJheVJpZ2h0LCAxKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQgJiYgdGhpcy5rZXlib2FyZC52aXNpYmxlKSB0aGlzLmtleWJvYXJkLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMubmVlZHNVcGRhdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XHJcblxyXG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY29uZmlnLndpZHRoLCB0aGlzLmNvbmZpZy5oZWlnaHQpO1xyXG5cclxuICAgICAgICBjb25zdCBiZ0NvbG9yID0gKHRoaXMuY29uZmlnLmJvZHkuYmFja2dyb3VuZENvbG9yKSA/IHRoaXMuY29uZmlnLmJvZHkuYmFja2dyb3VuZENvbG9yIDogXCIjMDAwXCI7XHJcbiAgICAgICAgY29uc3QgZm9udEZhbWlseSA9ICh0aGlzLmNvbmZpZy5ib2R5LmZvbnRGYW1pbHkpID8gdGhpcy5jb25maWcuYm9keS5mb250RmFtaWx5IDogXCJBcmlhbFwiO1xyXG4gICAgICAgIGNvbnN0IGZvbnRDb2xvciA9ICh0aGlzLmNvbmZpZy5ib2R5LmZvbnRDb2xvcikgPyB0aGlzLmNvbmZpZy5ib2R5LmZvbnRDb2xvciA6IFwiI2ZmZlwiO1xyXG4gICAgICAgIGNvbnN0IGZvbnRTaXplID0gKHRoaXMuY29uZmlnLmJvZHkuZm9udFNpemUpID8gdGhpcy5jb25maWcuYm9keS5mb250U2l6ZSA6IDMwO1xyXG4gICAgICAgIHRoaXMuc2V0Q2xpcCh0aGlzLmNvbmZpZy5ib2R5KTtcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGJnQ29sb3I7XHJcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLmNvbmZpZy53aWR0aCwgdGhpcy5jb25maWcuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5jb250ZW50KS5mb3JFYWNoKChbbmFtZSwgY29udGVudF0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gKHRoaXMuY29uZmlnW25hbWVdICE9PSB1bmRlZmluZWQpID8gdGhpcy5jb25maWdbbmFtZV0gOiB0aGlzLmNvbmZpZy5ib2R5O1xyXG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5ID0gKGNvbmZpZy5kaXNwbGF5ICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmRpc3BsYXkgOiAnYmxvY2snO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRpc3BsYXkgIT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gKGNvbmZpZy5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5wb3NpdGlvbiA6IHsgeDogMCwgeTogMCB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSAoY29uZmlnLndpZHRoICE9PSB1bmRlZmluZWQpID8gY29uZmlnLndpZHRoIDogdGhpcy5jb25maWcud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSAoY29uZmlnLmhlaWdodCAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5oZWlnaHQgOiB0aGlzLmNvbmZpZy5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy50eXBlID09IFwiYnV0dG9uXCIgJiYgIWNvbnRlbnQudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwiPHBhdGg+XCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5ib3JkZXJSYWRpdXMgPT09IHVuZGVmaW5lZCkgY29uZmlnLmJvcmRlclJhZGl1cyA9IDY7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy50ZXh0QWxpZ24gPT09IHVuZGVmaW5lZCkgY29uZmlnLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDbGlwKGNvbmZpZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ZnUGF0aCA9IGNvbnRlbnQudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwiPHBhdGg+XCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaG92ZXIgPSAoKHRoaXMuc2VsZWN0ZWRFbGVtZW50c1swXSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1swXSA9PT0gY29uZmlnKSB8fCAodGhpcy5zZWxlY3RlZEVsZW1lbnRzWzFdICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWxlY3RlZEVsZW1lbnRzWzFdID09PSBjb25maWcpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmJhY2tncm91bmRDb2xvciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdmVyICYmIGNvbmZpZy50eXBlID09IFwiYnV0dG9uXCIgJiYgY29uZmlnLmhvdmVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjb25maWcuaG92ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjb25maWcuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KHBvcy54LCBwb3MueSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy50eXBlID09IFwidGV4dFwiIHx8IGNvbmZpZy50eXBlID09IFwiYnV0dG9uXCIgfHwgY29uZmlnLnR5cGUgPT0gXCJpbnB1dC10ZXh0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3Ryb2tlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3ZnUGF0aCAmJiBjb25maWcudHlwZSA9PSBcImJ1dHRvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IChjb25maWcuZm9udENvbG9yICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmZvbnRDb2xvciA6IGZvbnRDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gKGNvbmZpZy5ob3ZlciAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5ob3ZlciA6IChjb25maWcuZm9udENvbG9yICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmZvbnRDb2xvciA6IGZvbnRDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2UgPSAoY29uZmlnLmhvdmVyID09PSB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gKGNvbmZpZy5mb250Q29sb3IgIT09IHVuZGVmaW5lZCkgPyBjb25maWcuZm9udENvbG9yIDogZm9udENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN2Z1BhdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZSA9IGNvbnRlbnQudG9VcHBlckNhc2UoKS5zdWJzdHJpbmcoNiwgY29udGVudC5sZW5ndGggLSA3KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHBvcy54LCBwb3MueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBuZXcgUGF0aDJEKGNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwocGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3JhcFRleHQobmFtZSwgY29udGVudClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiI2ZmZlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdChwb3MueCwgcG9zLnksIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnR5cGUgPT0gXCJpbWdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcuaW1nID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkSW1hZ2UoY29udGVudCkudGhlbihpbWcgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYHc6ICR7aW1nLndpZHRofSB8IGg6ICR7aW1nLmhlaWdodH1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5pbWcgPSBpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzcGVjdCA9IGNvbmZpZy5pbWcud2lkdGggLyBjb25maWcuaW1nLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaCA9IHdpZHRoIC8gYXNwZWN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShjb25maWcuaW1nLCBwb3MueCwgcG9zLnksIHdpZHRoLCBoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jYW52YXNUZXh0dXJlKSB0aGlzLmNhbnZhc1RleHR1cmUudXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWRJbWFnZShzcmMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHJlc29sdmUoaW1nKSk7XHJcbiAgICAgICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZXJyID0+IHJlamVjdChlcnIpKTtcclxuICAgICAgICAgICAgaW1nLnNyYyA9IHNyYztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVPZmZzY3JlZW5DYW52YXModywgaCkge1xyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHc7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGg7XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcclxuICAgIH1cclxuXHJcbiAgICBmaWxsUm91bmRlZFJlY3QoeCwgeSwgdywgaCwgcmFkaXVzKSB7XHJcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKHggKyByYWRpdXMsIHkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIHcgLSByYWRpdXMsIHkpO1xyXG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3LCB5LCB4ICsgdywgeSArIHJhZGl1cyk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdywgeSArIGggLSByYWRpdXMpO1xyXG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3LCB5ICsgaCwgeCArIHcgLSByYWRpdXMsIHkgKyBoKTtcclxuICAgICAgICBjdHgubGluZVRvKHggKyByYWRpdXMsIHkgKyBoKTtcclxuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5ICsgaCwgeCwgeSArIGggLSByYWRpdXMpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCwgeSArIHJhZGl1cyk7XHJcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCwgeSwgeCArIHJhZGl1cywgeSk7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9va0F0KHBvcykge1xyXG4gICAgICAgIGlmICh0aGlzLm1lc2ggPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICghKHBvcyBpbnN0YW5jZW9mIFZlY3RvcjMpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NhbnZhc1VJIGxvb2tBdCBjYWxsZWQgcGFyYW1ldGVyIG5vdCBhIFRIUkVFLlZlY3RvcjMnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1lc2gubG9va0F0KHBvcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZpc2libGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWVzaCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzaC5hY3RpdmU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZpc2libGUodmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5tZXNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVzaC5hY3RpdmUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBvc2l0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9iamVjdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy50bXBWZWMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRtcFZlYztcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcG9zaXRpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5vYmplY3QgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW52YXNVSSB0cnlpbmcgdG8gc2V0IHRoZSBvYmplY3QgcG9zaXRpb24gdXNpbmcgYSBwYXJhbWV0ZXIgdGhhdCBpcyBub3QgYSBGbG9hdDMyQXJyYXknKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9iamVjdC5zZXRUcmFuc2xhdGlvbldvcmxkKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcXVhdGVybmlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5vYmplY3QgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMudG1wVmVjKTtcclxuICAgICAgICByZXR1cm4gdGhpcy50bXBWZWM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHF1YXRlcm5pb24odmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5tZXNoID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgICAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIFFVYXRlcm5pb24pKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NhbnZhc1VJIHRyeWluZyB0byBzZXQgdGhlIG9iamVjdCBxdWF0ZXJuaW9uIHVzaW5nIGEgcGFyYW1ldGVyIHRoYXQgaXMgbm90IGEgVEhSRUUuUXVhdGVybmlvbicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWVzaC5xdWF0ZXJuaW9uLmNvcHkodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHdyYXBUZXh0KG5hbWUsIHR4dCkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coIGB3cmFwVGV4dDogJHtuYW1lfToke3R4dH1gKTtcclxuICAgICAgICBjb25zdCB3b3JkcyA9IHR4dC5zcGxpdCgnICcpO1xyXG4gICAgICAgIGxldCBsaW5lID0gJyc7XHJcbiAgICAgICAgY29uc3QgbGluZXMgPSBbXTtcclxuICAgICAgICBjb25zdCBjb25maWcgPSAodGhpcy5jb25maWdbbmFtZV0gIT09IHVuZGVmaW5lZCkgPyB0aGlzLmNvbmZpZ1tuYW1lXSA6IHRoaXMuY29uZmlnLmJvZHk7XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSAoY29uZmlnLndpZHRoICE9PSB1bmRlZmluZWQpID8gY29uZmlnLndpZHRoIDogdGhpcy5jb25maWcud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGNvbmZpZy5oZWlnaHQgIT09IHVuZGVmaW5lZCkgPyBjb25maWcuaGVpZ2h0IDogdGhpcy5jb25maWcuaGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IChjb25maWcucG9zaXRpb24gIT09IHVuZGVmaW5lZCkgPyBjb25maWcucG9zaXRpb24gOiB7IHg6IDAsIHk6IDAgfTtcclxuICAgICAgICBjb25zdCBwYWRkaW5nID0gKGNvbmZpZy5wYWRkaW5nICE9PSB1bmRlZmluZWQpID8gY29uZmlnLnBhZGRpbmcgOiAodGhpcy5jb25maWcuYm9keS5wYWRkaW5nICE9PSB1bmRlZmluZWQpID8gdGhpcy5jb25maWcuYm9keS5wYWRkaW5nIDogMTA7XHJcbiAgICAgICAgY29uc3QgcGFkZGluZ1RvcCA9IChjb25maWcucGFkZGluZ1RvcCAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5wYWRkaW5nVG9wIDogcGFkZGluZztcclxuICAgICAgICBjb25zdCBwYWRkaW5nTGVmdCA9IChjb25maWcucGFkZGluZ0xlZnQgIT09IHVuZGVmaW5lZCkgPyBjb25maWcucGFkZGluZ0xlZnQgOiBwYWRkaW5nO1xyXG4gICAgICAgIGNvbnN0IHBhZGRpbmdCb3R0b20gPSAoY29uZmlnLnBhZGRpbmdCb3R0b20gIT09IHVuZGVmaW5lZCkgPyBjb25maWcucGFkZGluZ0JvdHRvbSA6IHBhZGRpbmc7XHJcbiAgICAgICAgY29uc3QgcGFkZGluZ1JpZ2h0ID0gKGNvbmZpZy5wYWRkaW5nUmlnaHQgIT09IHVuZGVmaW5lZCkgPyBjb25maWcucGFkZGluZ1JpZ2h0IDogcGFkZGluZztcclxuICAgICAgICBjb25zdCByZWN0ID0geyB4OiBwb3MueCArIHBhZGRpbmdMZWZ0LCB5OiBwb3MueSArIHBhZGRpbmdUb3AsIHdpZHRoOiB3aWR0aCAtIHBhZGRpbmdMZWZ0IC0gcGFkZGluZ1JpZ2h0LCBoZWlnaHQ6IGhlaWdodCAtIHBhZGRpbmdUb3AgLSBwYWRkaW5nQm90dG9tIH07XHJcbiAgICAgICAgY29uc3QgdGV4dEFsaWduID0gKGNvbmZpZy50ZXh0QWxpZ24gIT09IHVuZGVmaW5lZCkgPyBjb25maWcudGV4dEFsaWduIDogKHRoaXMuY29uZmlnLmJvZHkudGV4dEFsaWduICE9PSB1bmRlZmluZWQpID8gdGhpcy5jb25maWcuYm9keS50ZXh0QWxpZ24gOiBcImxlZnRcIjtcclxuICAgICAgICBjb25zdCBmb250U2l6ZSA9IChjb25maWcuZm9udFNpemUgIT09IHVuZGVmaW5lZCkgPyBjb25maWcuZm9udFNpemUgOiAodGhpcy5jb25maWcuYm9keS5mb250U2l6ZSAhPT0gdW5kZWZpbmVkKSA/IHRoaXMuY29uZmlnLmJvZHkuZm9udFNpemUgOiAzMDtcclxuICAgICAgICBjb25zdCBmb250RmFtaWx5ID0gKGNvbmZpZy5mb250RmFtaWx5ICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmZvbnRGYW1pbHkgOiAodGhpcy5jb25maWcuYm9keS5mb250RmFtaWx5ICE9PSB1bmRlZmluZWQpID8gdGhpcy5jb25maWcuYm9keS5mb250RmFtaWx5IDogJ0FyaWFsJztcclxuICAgICAgICBjb25zdCBsZWFkaW5nID0gKGNvbmZpZy5sZWFkaW5nICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmxlYWRpbmcgOiAodGhpcy5jb25maWcuYm9keS5sZWFkaW5nICE9PSB1bmRlZmluZWQpID8gdGhpcy5jb25maWcuYm9keS5sZWFkaW5nIDogODtcclxuICAgICAgICBjb25zdCBsaW5lSGVpZ2h0ID0gZm9udFNpemUgKyBsZWFkaW5nO1xyXG5cclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xyXG5cclxuICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9IHRleHRBbGlnbjtcclxuXHJcbiAgICAgICAgY29udGV4dC5mb250ID0gYCR7Zm9udFNpemV9cHggJyR7Zm9udEZhbWlseX0nYDtcclxuXHJcbiAgICAgICAgd29yZHMuZm9yRWFjaChmdW5jdGlvbiAod29yZCkge1xyXG4gICAgICAgICAgICBsZXQgdGVzdExpbmUgPSAod29yZHMubGVuZ3RoID4gMSkgPyBgJHtsaW5lfSR7d29yZH0gYCA6IHdvcmQ7XHJcbiAgICAgICAgICAgIGxldCBtZXRyaWNzID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXN0TGluZSk7XHJcbiAgICAgICAgICAgIGlmIChtZXRyaWNzLndpZHRoID4gcmVjdC53aWR0aCAmJiB3b3JkLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA9PSAwICYmIG1ldHJpY3Mud2lkdGggPiByZWN0LndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy93b3JkIHRvbyBsb25nXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG1ldHJpY3Mud2lkdGggPiByZWN0LndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50KytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RMaW5lID0gd29yZC5zdWJzdHIoMCwgY291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGVzdExpbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChtZXRyaWNzLndpZHRoIDwgcmVjdC53aWR0aCAmJiBjb3VudCA8ICh3b3JkLmxlbmd0aCAtIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVzdExpbmUgPSB3b3JkLnN1YnN0cigwLCBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzLnB1c2godGVzdExpbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JkID0gd29yZC5zdWJzdHIoY291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPD0gMSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHdvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAod29yZCAhPSBcIlwiKSBsaW5lcy5wdXNoKHdvcmQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKGxpbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSBgJHt3b3JkfSBgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGluZSA9IHRlc3RMaW5lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChsaW5lICE9ICcnKSBsaW5lcy5wdXNoKGxpbmUpO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0SGVpZ2h0ID0gbGluZXMubGVuZ3RoICogbGluZUhlaWdodDtcclxuICAgICAgICBsZXQgc2Nyb2xsWSA9IDA7XHJcblxyXG4gICAgICAgIGlmICh0ZXh0SGVpZ2h0ID4gcmVjdC5oZWlnaHQgJiYgY29uZmlnLm92ZXJmbG93ID09PSAnc2Nyb2xsJykge1xyXG4gICAgICAgICAgICAvL1Nob3cgYSBzY3JvbGwgYmFyXHJcbiAgICAgICAgICAgIGlmIChjb25maWcuc2Nyb2xsWSA9PT0gdW5kZWZpbmVkKSBjb25maWcuc2Nyb2xsWSA9IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbnRDb2xvciA9IChjb25maWcuZm9udENvbG9yICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmZvbnRDb2xvciA6IHRoaXMuY29uZmlnLmJvZHkuZm9udENvbG9yO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiI2FhYVwiO1xyXG4gICAgICAgICAgICB0aGlzLmZpbGxSb3VuZGVkUmVjdChwb3MueCArIHdpZHRoIC0gMTIsIHBvcy55LCAxMiwgaGVpZ2h0LCA2KTtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiM2NjZcIjtcclxuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSByZWN0LmhlaWdodCAvIHRleHRIZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHRodW1iSGVpZ2h0ID0gc2NhbGUgKiBoZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHRodW1iWSA9IC1jb25maWcuc2Nyb2xsWSAqIHNjYWxlO1xyXG4gICAgICAgICAgICB0aGlzLmZpbGxSb3VuZGVkUmVjdChwb3MueCArIHdpZHRoIC0gMTIsIHBvcy55ICsgdGh1bWJZLCAxMiwgdGh1bWJIZWlnaHQsIDYpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZvbnRDb2xvcjtcclxuICAgICAgICAgICAgc2Nyb2xsWSA9IGNvbmZpZy5zY3JvbGxZO1xyXG4gICAgICAgICAgICBjb25maWcubWluU2Nyb2xsWSA9IHJlY3QuaGVpZ2h0IC0gdGV4dEhlaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB5ID0gc2Nyb2xsWSArIHJlY3QueSArIGZvbnRTaXplIC8gMjtcclxuICAgICAgICBsZXQgeDtcclxuXHJcbiAgICAgICAgc3dpdGNoICh0ZXh0QWxpZ24pIHtcclxuICAgICAgICAgICAgY2FzZSBcImNlbnRlclwiOlxyXG4gICAgICAgICAgICAgICAgeCA9IHJlY3QueCArIHJlY3Qud2lkdGggLyAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxyXG4gICAgICAgICAgICAgICAgeCA9IHJlY3QueCArIHJlY3Qud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHggPSByZWN0Lng7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbmVzLmZvckVhY2goKGxpbmUpID0+IHtcclxuICAgICAgICAgICAgaWYgKCh5ICsgbGluZUhlaWdodCkgPiAwKSBjb250ZXh0LmZpbGxUZXh0KGxpbmUsIHgsIHkpO1xyXG4gICAgICAgICAgICB5ICs9IGxpbmVIZWlnaHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IENhbnZhc1VJIH07XHJcbiIsICJpbXBvcnQge0NvbXBvbmVudCwgUHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IEhvd2xlckF1ZGlvU291cmNlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cyc7XHJcbmltcG9ydCB7IENhbnZhc1VJIH0gZnJvbSAnLi9DYW52YXNVSS5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVUlIYW5kbGVyMiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSBcInVpSGFuZGxlcjJcIjtcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0geyBcclxuICAgICAgICBwYW5lbDogUHJvcGVydHkuZW51bShbJ3NpbXBsZScsICdidXR0b25zJywgJ3Njcm9sbGluZycsICdpbWFnZXMnLCAnaW5wdXQtdGV4dCddLCAnc2ltcGxlJylcclxuICAgIH07XHJcbiAgICBcclxuICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSl7XHJcbiAgICAgICAgZW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50KCBIb3dsZXJBdWRpb1NvdXJjZSApO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2N1cnNvci10YXJnZXQnKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5hZGRIb3ZlckZ1bmN0aW9uKHRoaXMub25Ib3Zlci5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5hZGRVbkhvdmVyRnVuY3Rpb24odGhpcy5vblVuSG92ZXIuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkTW92ZUZ1bmN0aW9uKHRoaXMub25Nb3ZlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZERvd25GdW5jdGlvbih0aGlzLm9uRG93bi5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5hZGRVcEZ1bmN0aW9uKHRoaXMub25VcC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNvdW5kQ2xpY2sgPSB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQoSG93bGVyQXVkaW9Tb3VyY2UsIHtzcmM6ICdzZngvY2xpY2sud2F2Jywgc3BhdGlhbDogdHJ1ZX0pO1xyXG4gICAgICAgIHRoaXMuc291bmRVbkNsaWNrID0gdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KEhvd2xlckF1ZGlvU291cmNlLCB7c3JjOiAnc2Z4L3VuY2xpY2sud2F2Jywgc3BhdGlhbDogdHJ1ZX0pO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKCB0aGlzLnBhbmVsICl7XHJcbiAgICAgICAgICAgIGNhc2UgMDovL3NpbXBsZVxyXG4gICAgICAgICAgICB0aGlzLnNpbXBsZVBhbmVsKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6Ly9idXR0b25zXHJcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uc1BhbmVsKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6Ly9zY3JvbGxpbmdcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxQYW5lbCgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOi8vaW1hZ2VzXHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VQYW5lbCgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0Oi8vaW5wdXQtdGV4dFxyXG4gICAgICAgICAgICB0aGlzLmlucHV0VGV4dFBhbmVsKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaW1wbGVQYW5lbCgpe1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgaGVhZGVyOntcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246eyB0b3A6MCB9LFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogMzAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDcwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1haW46e1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjp7IHRvcDo3MCB9LFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAzNzIsIC8vIGRlZmF1bHQgaGVpZ2h0IGlzIDUxMiBzbyB0aGlzIGlzIDUxMiAtIGhlYWRlciBoZWlnaHQgKDcwKSAtIGZvb3RlciBoZWlnaHQgKDcwKVxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNiYmJcIixcclxuICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogXCIjMDAwXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZm9vdGVyOntcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246eyBib3R0b206MCB9LFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogMzAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDcwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IHtcclxuICAgICAgICAgICAgaGVhZGVyOiBcIkhlYWRlclwiLFxyXG4gICAgICAgICAgICBtYWluOiBcIlRoaXMgaXMgdGhlIG1haW4gdGV4dFwiLFxyXG4gICAgICAgICAgICBmb290ZXI6IFwiRm9vdGVyXCJcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy51aSA9IG5ldyBDYW52YXNVSSggY29udGVudCwgY29uZmlnLCB0aGlzLm9iamVjdCwgdGhpcy5lbmdpbmUgKTtcclxuICAgICAgICB0aGlzLnVpLnVwZGF0ZSgpO1xyXG4gICAgICAgIGxldCB1aSA9IHRoaXMudWk7XHJcbiAgICB9XHJcblxyXG4gICAgYnV0dG9uc1BhbmVsKCl7XHJcbiAgICAgICAgZnVuY3Rpb24gb25QcmV2KCl7XHJcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IFwiUHJldiBwcmVzc2VkXCI7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XHJcbiAgICAgICAgICAgIHVpLnVwZGF0ZUVsZW1lbnQoIFwiaW5mb1wiLCBtc2cgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgZnVuY3Rpb24gb25TdG9wKCl7XHJcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IFwiU3RvcCBwcmVzc2VkXCI7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XHJcbiAgICAgICAgICAgIHVpLnVwZGF0ZUVsZW1lbnQoIFwiaW5mb1wiLCBtc2cgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgZnVuY3Rpb24gb25OZXh0KCl7XHJcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IFwiTmV4dCBwcmVzc2VkXCI7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XHJcbiAgICAgICAgICAgIHVpLnVwZGF0ZUVsZW1lbnQoIFwiaW5mb1wiLCBtc2cgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgZnVuY3Rpb24gb25Db250aW51ZSgpe1xyXG4gICAgICAgICAgICBjb25zdCBtc2cgPSBcIkNvbnRpbnVlIHByZXNzZWRcIjtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cobXNnKTtcclxuICAgICAgICAgICAgdWkudXBkYXRlRWxlbWVudCggXCJpbmZvXCIsIG1zZyApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdzdGFydCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICAgIHBhbmVsU2l6ZToge1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDAuMjVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMjgsXHJcbiAgICAgICAgICAgIGluZm86IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246eyBsZWZ0OiA2LCB0b3A6IDYgfSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA1MDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDU4LFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNhYWFcIixcclxuICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogXCIjMDAwXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJldjoge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOnsgdG9wOiA2NCwgbGVmdDogMCB9LCBcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA2NCxcclxuICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogXCIjYmIwXCIsXHJcbiAgICAgICAgICAgICAgICBob3ZlcjogXCIjZmYwXCIsXHJcbiAgICAgICAgICAgICAgICBvblNlbGVjdDogb25QcmV2XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0b3A6IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjp7IHRvcDogNjQsIGxlZnQ6IDY0IH0sXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNjQsXHJcbiAgICAgICAgICAgICAgICBmb250Q29sb3I6IFwiI2JiMFwiLFxyXG4gICAgICAgICAgICAgICAgaG92ZXI6IFwiI2ZmMFwiLFxyXG4gICAgICAgICAgICAgICAgb25TZWxlY3Q6IG9uU3RvcFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBuZXh0OiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246eyB0b3A6IDY0LCBsZWZ0OiAxMjggfSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA2NCxcclxuICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogXCIjYmIwXCIsXHJcbiAgICAgICAgICAgICAgICBob3ZlcjogXCIjZmYwXCIsXHJcbiAgICAgICAgICAgICAgICBvblNlbGVjdDogb25OZXh0XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbnRpbnVlOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246eyB0b3A6IDcwLCByaWdodDogMTAgfSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDUyLFxyXG4gICAgICAgICAgICAgICAgZm9udENvbG9yOiBcIiNmZmZcIixcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMWJmXCIsXHJcbiAgICAgICAgICAgICAgICBob3ZlcjogXCIjM2RmXCIsXHJcbiAgICAgICAgICAgICAgICBvblNlbGVjdDogb25Db250aW51ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB7XHJcbiAgICAgICAgICAgIGluZm86IFwiXCIsXHJcbiAgICAgICAgICAgIHByZXY6IFwiPHBhdGg+TSAxMCAzMiBMIDU0IDEwIEwgNTQgNTQgWjwvcGF0aD5cIixcclxuICAgICAgICAgICAgc3RvcDogXCI8cGF0aD5NIDUwIDE1IEwgMTUgMTUgTCAxNSA1MCBMIDUwIDUwIFo8cGF0aD5cIixcclxuICAgICAgICAgICAgbmV4dDogXCI8cGF0aD5NIDU0IDMyIEwgMTAgMTAgTCAxMCA1NCBaPC9wYXRoPlwiLFxyXG4gICAgICAgICAgICBjb250aW51ZTogXCJDb250aW51ZVwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVpID0gbmV3IENhbnZhc1VJKCBjb250ZW50LCBjb25maWcsIHRoaXMub2JqZWN0LCB0aGlzLmVuZ2luZSApO1xyXG4gICAgICAgIHRoaXMudWkudXBkYXRlKCk7XHJcbiAgICAgICAgbGV0IHVpID0gdGhpcy51aTtcclxuICAgIH1cclxuXHJcbiAgICBzY3JvbGxQYW5lbCgpe1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM2NjZcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0eHQ6IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwic2Nyb2xsXCIsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyBsZWZ0OiAyMCwgdG9wOiAyMCB9LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDQ2MCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogNDAwLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZmZcIixcclxuICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogXCIjMDAwXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjb250ZW50ID0ge1xyXG4gICAgICAgICAgICB0eHQ6IFwiVGhpcyBpcyBhbiBleGFtcGxlIG9mIGEgc2Nyb2xsaW5nIHBhbmVsLiBTZWxlY3QgaXQgd2l0aCBhIGNvbnRyb2xsZXIgYW5kIG1vdmUgdGhlIGNvbnRyb2xsZXIgd2hpbGUga2VlcGluZyB0aGUgc2VsZWN0IGJ1dHRvbiBwcmVzc2VkLiBJbiBhbiBBUiBhcHAganVzdCBwcmVzcyBhbmQgZHJhZy4gSWYgYSBwYW5lbCBpcyBzZXQgdG8gc2Nyb2xsIGFuZCB0aGUgb3ZlcmZsb3cgc2V0dGluZyBpcyAnc2Nyb2xsJywgdGhlbiBhIHNjcm9sbCBiYXIgd2lsbCBhcHBlYXIgd2hlbiB0aGUgcGFuZWwgaXMgYWN0aXZlLiBCdXQgdG8gc2Nyb2xsIHlvdSBjYW4ganVzdCBkcmFnIGFueXdoZXJlIG9uIHRoZSBwYW5lbC4gVGhpcyBpcyBhbiBleGFtcGxlIG9mIGEgc2Nyb2xsaW5nIHBhbmVsLiBTZWxlY3QgaXQgd2l0aCBhIGNvbnRyb2xsZXIgYW5kIG1vdmUgdGhlIGNvbnRyb2xsZXIgd2hpbGUga2VlcGluZyB0aGUgc2VsZWN0IGJ1dHRvbiBwcmVzc2VkLiBJbiBhbiBBUiBhcHAganVzdCBwcmVzcyBhbmQgZHJhZy4gSWYgYSBwYW5lbCBpcyBzZXQgdG8gc2Nyb2xsIGFuZCB0aGUgb3ZlcmZsb3cgc2V0dGluZyBpcyAnc2Nyb2xsJywgdGhlbiBhIHNjcm9sbCBiYXIgd2lsbCBhcHBlYXIgd2hlbiB0aGUgcGFuZWwgaXMgYWN0aXZlLiBCdXQgdG8gc2Nyb2xsIHlvdSBjYW4ganVzdCBkcmFnIGFueXdoZXJlIG9uIHRoZSBwYW5lbC5cIlxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnVpID0gbmV3IENhbnZhc1VJKCBjb250ZW50LCBjb25maWcsIHRoaXMub2JqZWN0LCB0aGlzLmVuZ2luZSApO1xyXG4gICAgICAgIHRoaXMudWkudXBkYXRlKCk7XHJcbiAgICAgICAgbGV0IHVpID0gdGhpcy51aTtcclxuICAgIH1cclxuXHJcbiAgICBpbWFnZVBhbmVsKCl7XHJcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgICAgICBpbWFnZToge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJpbWdcIixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IGxlZnQ6IDIwLCB0b3A6IDIwIH0sXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNDcyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGluZm86IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgdG9wOiAzMDAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB7XHJcbiAgICAgICAgICAgIGltYWdlOiBcImltYWdlcy9wcm9tby5wbmdcIixcclxuICAgICAgICAgICAgaW5mbzogXCJUaGUgcHJvbW8gaW1hZ2UgZnJvbSB0aGUgY291cnNlOiBMZWFybiB0byBjcmVhdGUgV2ViWFIsIFZSIGFuZCBBUiwgZXhwZXJpZW5jZXMgdXNpbmcgV29uZGVybGFuZCBFbmdpbmVcIlxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnVpID0gbmV3IENhbnZhc1VJKCBjb250ZW50LCBjb25maWcsIHRoaXMub2JqZWN0LCB0aGlzLmVuZ2luZSApO1xyXG4gICAgICAgIHRoaXMudWkudXBkYXRlKCk7XHJcbiAgICAgICAgbGV0IHVpID0gdGhpcy51aTtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dFRleHRQYW5lbCgpe1xyXG4gICAgICAgIGZ1bmN0aW9uIG9uQ2hhbmdlZCggdHh0ICl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCBgbWVzc2FnZSBjaGFuZ2VkOiAke3R4dH1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgZnVuY3Rpb24gb25FbnRlciggdHh0ICl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBtZXNzYWdlIGVudGVyOiAke3R4dH1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgICAgICBwYW5lbFNpemU6IHsgd2lkdGg6IDEsIGhlaWdodDogMC4yNSB9LFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDEyOCxcclxuICAgICAgICAgICAgbWVzc2FnZToge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJpbnB1dC10ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyBsZWZ0OiAxMCwgdG9wOiA4IH0sXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDU2LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDQ5MixcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjY2NjXCIsXHJcbiAgICAgICAgICAgICAgICBmb250Q29sb3I6IFwiIzAwMFwiLFxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2VkLFxyXG4gICAgICAgICAgICAgICAgb25FbnRlclxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyB0b3A6IDY0IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjb250ZW50ID0ge1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBcIlwiLFxyXG4gICAgICAgICAgICBsYWJlbDogXCJTZWxlY3QgdGhlIHBhbmVsIGFib3ZlLlwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudWkgPSBuZXcgQ2FudmFzVUkoIGNvbnRlbnQsIGNvbmZpZywgdGhpcy5vYmplY3QsIHRoaXMuZW5naW5lICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMudWkua2V5Ym9hcmQub2JqZWN0LmdldENvbXBvbmVudCgnY3Vyc29yLXRhcmdldCcpO1xyXG4gICAgICAgIHRhcmdldC5hZGRIb3ZlckZ1bmN0aW9uKHRoaXMub25Ib3ZlcktleWJvYXJkLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRhcmdldC5hZGRVbkhvdmVyRnVuY3Rpb24odGhpcy5vblVuSG92ZXJLZXlib2FyZC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0YXJnZXQuYWRkTW92ZUZ1bmN0aW9uKHRoaXMub25Nb3ZlS2V5Ym9hcmQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGFyZ2V0LmFkZERvd25GdW5jdGlvbih0aGlzLm9uRG93bi5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0YXJnZXQuYWRkVXBGdW5jdGlvbih0aGlzLm9uVXBLZXlib2FyZC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy51aS51cGRhdGUoKTtcclxuICAgICAgICBsZXQgdWkgPSB0aGlzLnVpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uSG92ZXIoXywgY3Vyc29yKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnb25Ib3ZlcicpO1xyXG4gICAgICAgIGlmICh0aGlzLnVpKXtcclxuICAgICAgICAgICAgY29uc3QgeHkgPSB0aGlzLnVpLndvcmxkVG9DYW52YXMoY3Vyc29yLmN1cnNvclBvcyk7XHJcbiAgICAgICAgICAgIHRoaXMudWkuaG92ZXIoMCwgeHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoY3Vyc29yLnR5cGUgPT0gJ2Zpbmdlci1jdXJzb3InKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25Eb3duKF8sIGN1cnNvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNSwgNTApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTW92ZShfLCBjdXJzb3IpIHtcclxuICAgICAgICBpZiAodGhpcy51aSl7XHJcbiAgICAgICAgICAgIGNvbnN0IHh5ID0gdGhpcy51aS53b3JsZFRvQ2FudmFzKGN1cnNvci5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICB0aGlzLnVpLmhvdmVyKDAsIHh5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC41LCA1MCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Eb3duKF8sIGN1cnNvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdvbkRvd24nKTtcclxuICAgICAgICB0aGlzLnNvdW5kQ2xpY2sucGxheSgpO1xyXG5cclxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDEuMCwgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXAoXywgY3Vyc29yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ29uVXAnKTtcclxuICAgICAgICB0aGlzLnNvdW5kVW5DbGljay5wbGF5KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVpKSB0aGlzLnVpLnNlbGVjdCggMCwgdHJ1ZSApO1xyXG5cclxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNywgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVW5Ib3ZlcihfLCBjdXJzb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnb25VbkhvdmVyJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMudWkpIHRoaXMudWkuaG92ZXIoMCk7XHJcblxyXG4gICAgICAgIHRoaXMuaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC4zLCA1MCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Ib3ZlcktleWJvYXJkKF8sIGN1cnNvcikge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ29uSG92ZXInKTtcclxuICAgICAgICBpZiAoIXRoaXMudWkgfHwgIXRoaXMudWkua2V5Ym9hcmQgfHwgIXRoaXMudWkua2V5Ym9hcmQua2V5Ym9hcmQpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgdWkgPSB0aGlzLnVpLmtleWJvYXJkLmtleWJvYXJkO1xyXG4gICAgICAgIGNvbnN0IHh5ID0gdWkud29ybGRUb0NhbnZhcyhjdXJzb3IuY3Vyc29yUG9zKTtcclxuICAgICAgICB1aS5ob3ZlcigwLCB4eSk7XHJcblxyXG4gICAgICAgIGlmKGN1cnNvci50eXBlID09ICdmaW5nZXItY3Vyc29yJykge1xyXG4gICAgICAgICAgICB0aGlzLm9uRG93bihfLCBjdXJzb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5oYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjUsIDUwKTtcclxuICAgIH1cclxuXHJcbiAgICBvbk1vdmVLZXlib2FyZChfLCBjdXJzb3IpIHtcclxuICAgICAgICBpZiAoIXRoaXMudWkgfHwgIXRoaXMudWkua2V5Ym9hcmQgfHwgIXRoaXMudWkua2V5Ym9hcmQua2V5Ym9hcmQpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgdWkgPSB0aGlzLnVpLmtleWJvYXJkLmtleWJvYXJkO1xyXG4gICAgICAgIGNvbnN0IHh5ID0gdWkud29ybGRUb0NhbnZhcyhjdXJzb3IuY3Vyc29yUG9zKTtcclxuICAgICAgICB1aS5ob3ZlcigwLCB4eSk7XHJcblxyXG4gICAgICAgIHRoaXMuaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC41LCA1MCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcEtleWJvYXJkKF8sIGN1cnNvcikgIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnb25VcEtleWJvYXJkJyk7XHJcbiAgICAgICAgdGhpcy5zb3VuZFVuQ2xpY2sucGxheSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy51aSAmJiB0aGlzLnVpLmtleWJvYXJkICYmIHRoaXMudWkua2V5Ym9hcmQua2V5Ym9hcmQpIHRoaXMudWkua2V5Ym9hcmQua2V5Ym9hcmQuc2VsZWN0KDApO1xyXG5cclxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNywgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVW5Ib3ZlcktleWJvYXJkKF8sIGN1cnNvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdvblVuSG92ZXJLZXlib2FyZCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLnVpICYmIHRoaXMudWkua2V5Ym9hcmQgJiYgdGhpcy51aS5rZXlib2FyZC5rZXlib2FyZCkgdGhpcy51aS5rZXlib2FyZC5rZXlib2FyZC5ob3ZlcigwKTtcclxuXHJcbiAgICAgICAgdGhpcy5oYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjMsIDUwKTtcclxuICAgIH1cclxuXHJcbiAgICBoYXB0aWNGZWVkYmFjayhvYmplY3QsIHN0cmVuZ3RoLCBkdXJhdGlvbikge1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gb2JqZWN0LmdldENvbXBvbmVudCgnaW5wdXQnKTtcclxuICAgICAgICBpZihpbnB1dCAmJiBpbnB1dC54cklucHV0U291cmNlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdhbWVwYWQgPSBpbnB1dC54cklucHV0U291cmNlLmdhbWVwYWQ7XHJcbiAgICAgICAgICAgIGlmKGdhbWVwYWQgJiYgZ2FtZXBhZC5oYXB0aWNBY3R1YXRvcnMpIGdhbWVwYWQuaGFwdGljQWN0dWF0b3JzWzBdLnB1bHNlKHN0cmVuZ3RoLCBkdXJhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCd1cGRhdGUoKSB3aXRoIGRlbHRhIHRpbWUnLCBkdCk7XHJcbiAgICAgICAgaWYgKHRoaXMudWkpIHRoaXMudWkudXBkYXRlKCk7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wZXJ0eSwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7c3RhdGUgfSBmcm9tICcuL2dhbWUnO1xyXG4vKipcclxuICogRGF5TmlnaHRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBEYXlOaWdodCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnRGF5TmlnaHQnO1xyXG4gICAgLyogUHJvcGVydGllcyB0aGF0IGFyZSBjb25maWd1cmFibGUgaW4gdGhlIGVkaXRvciAqL1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgZGF5VGltZXI6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDMgfSxcclxuICAgICAgICBuaWdodFRpbWVyOiB7IHR5cGU6IFR5cGUuSW50LCBkZWZhdWx0OiAzIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdzdGFydCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMudGltZXIxID0gMDtcclxuICAgICAgICB0aGlzLnRpbWVyMiA9IDA7XHJcbiAgICAgICAgdGhpcy50ZW1wID0gMTsgXHJcbiAgICAgICAgdGhpcy5yID0gMTtcclxuICAgICAgICB0aGlzLmcgPSAxO1xyXG4gICAgICAgIHRoaXMuYiA9IDE7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICAvKnRoaXMudGltZXIgKz0gZHQ7XHJcbiAgICAgICAgbGV0IHggPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50aW1lciA+IHRoaXMuZW5kRGF5VGltZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5yIC09IC4wMDE7XHJcbiAgICAgICAgICAgIHRoaXMuZyAtPSAuMDAxO1xyXG4gICAgICAgICAgICB0aGlzLmIgLT0gLjAwMTtcclxuICAgICAgICAgICAgdGhpcy50ZW1wIC09IC4wMDE7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAodGhpcy50ZW1wIDwgLjIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuciA9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmcgPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iID0gMTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnIgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVtcCA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgeCA9IFt0aGlzLnIsIHRoaXMuZywgdGhpcy5iXTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdsaWdodCcpLnNldENvbG9yKHgpO1xyXG4gICAgICAgIH0qL1xyXG5cclxuICAgICAgICB0aGlzLnRpbWVyMSArPSBkdDtcclxuICAgICAgICBsZXQgeCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRpbWVyMSA+IHRoaXMuZGF5VGltZXIpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRlbXAgPiAuMikgeyAvLyBsaWdodCBvdXRcclxuICAgICAgICAgICAgICAgIHRoaXMuciAtPSAuMDAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nIC09IC4wMDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmIgLT0gLjAwMTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVtcCAtPSAuMDAxO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuZGF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLnBhdXNlQnVpbGRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLnBhdXNlRW5lbWllcyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7IFxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudGltZXIyICs9IGR0O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGltZXIyID4gdGhpcy5uaWdodFRpbWVyKSB7IC8vIGxpZ2h0IGJhY2sgdXBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnIgKz0gLjAwMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmcgKz0gLjAwMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmIgKz0gLjAwMTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5kYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wYXVzZUVuZW1pZXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wYXVzZUJ1aWxkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yID09IDEpIHsgLy8gbGlnaHQgb3V0IGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJsZXZlbHVwIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5sZXZlbFVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZW1wID0gMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVyMSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lcjIgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB4ID0gW3RoaXMuciwgdGhpcy5nLCB0aGlzLmJdO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2xpZ2h0Jykuc2V0Q29sb3IoeCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG4iLCAiLypcclxuICAgIENvcHlyaWdodCAyMDIxLiBGdXR1cmV3ZWkgVGVjaG5vbG9naWVzIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICAgIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAgICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAgICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICAgIGh0dHA6ICB3d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gICAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gICAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gICAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAgICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAgICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKi9cclxuXHJcbmltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcclxuaW1wb3J0IHsgdmVjMyB9IGZyb20gXCJnbC1tYXRyaXhcIjtcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcbi8qKlxyXG5AYnJpZWYgQ29udHJvbHMgdGhlIGJ1bGxldCB0cmFqZWN0b3J5XHJcblxyXG5EZWFjdGl2YXRlcyBidWxsZXQgdXBkYXRlcyB0byBwcmVzZXJ2ZSBwZXJmb3JtYW5jZS4gQnVsbGV0cyBjb2xsaXNpb24gaXMgYWxzb1xyXG5kZWFjdGl2YXRlZCB3aGVuIHRoZSBidWxsZXQgaXMgb24gdGhlIGdyb3VuZC4gVGhpcyBpcyBkb25lIHRvIHByZXZlbnQgdGhlIFxyXG5zY29yZS10cmlnZ2VyIGdvaW5nIG9mZiB3aGVuIHRoZSBtaWNlIHJ1biBvdmVyIHRoZSBidWxsZXRzLlxyXG5cclxuKi9cclxuXHJcbmxldCBuZXdEaXIgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1bGxldFBoeXNpY3MgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gXCJidWxsZXQtcGh5c2ljc1wiO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgc3BlZWQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMS4wIH0sXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmRpciA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IFswLCAwLCAwXTtcclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRQb3NpdGlvbldvcmxkKHRoaXMucG9zaXRpb24pO1xyXG4gICAgICAgIHRoaXMuY29ycmVjdGVkU3BlZWQgPSB0aGlzLnNwZWVkIC8gNjtcclxuXHJcbiAgICAgICAgdGhpcy5jb2xsaXNpb24gPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2NvbGxpc2lvbicsIDApO1xyXG4gICAgICAgIGlmICghdGhpcy5jb2xsaXNpb24pIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICAgICAgXCInYnVsbGV0LXBoeXNpY3MnIGNvbXBvbmVudCBvbiBvYmplY3RcIixcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICBcInJlcXVpcmVzIGEgY29sbGlzaW9uIGNvbXBvbmVudFwiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgLy91cGRhdGUgcG9zaXRpb25cclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRQb3NpdGlvbldvcmxkKHRoaXMucG9zaXRpb24pO1xyXG4gICAgICAgIC8vZGVhY3RpdmF0ZSBidWxsZXQgaWYgdGhyb3VnaCB0aGUgZmxvb3JcclxuICAgICAgICBpZiAodGhpcy5wb3NpdGlvblsxXSA8PSBzdGF0ZS5mbG9vckhlaWdodCArIHRoaXMuY29sbGlzaW9uLmV4dGVudHNbMF0pIHtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95QnVsbGV0KDApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vZGVhY3RpdmF0ZSBidWxsZXQgaWYgdHJhdmVsIGRpc3RhbmNlIHRvbyBmYXJcclxuICAgICAgICBpZiAodmVjMy5sZW5ndGgodGhpcy5wb3NpdGlvbikgPiAxNzUpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95QnVsbGV0KDApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuZXdEaXIuc2V0KHRoaXMuZGlyKTtcclxuICAgICAgICB2ZWMzLnNjYWxlKG5ld0RpciwgbmV3RGlyLCB0aGlzLmNvcnJlY3RlZFNwZWVkKTtcclxuICAgICAgICB2ZWMzLmFkZCh0aGlzLnBvc2l0aW9uLCB0aGlzLnBvc2l0aW9uLCBuZXdEaXIpO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LnNldFBvc2l0aW9uTG9jYWwodGhpcy5wb3NpdGlvbik7XHJcblxyXG4gICAgICAgIGxldCBvdmVybGFwcyA9IHRoaXMuY29sbGlzaW9uLnF1ZXJ5T3ZlcmxhcHMoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG92ZXJsYXBzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCB0ID0gb3ZlcmxhcHNbaV0ub2JqZWN0LmdldENvbXBvbmVudChcInNjb3JlLXRyaWdnZXJcIik7XHJcbiAgICAgICAgICAgIGlmICh0ICYmICF0aGlzLnNjb3JlZCkge1xyXG4gICAgICAgICAgICAgICAgdC5vbkhpdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95QnVsbGV0KDApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGVzdHJveUJ1bGxldCh0aW1lKSB7XHJcbiAgICAgICAgaWYgKHRpbWUgPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5kZXN0cm95KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5kZXN0cm95KClcclxuICAgICAgICAgICAgfSwgdGltZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4iLCAiLypcclxuICAgIENvcHlyaWdodCAyMDIxLiBGdXR1cmV3ZWkgVGVjaG5vbG9naWVzIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICAgIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAgICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAgICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICAgIGh0dHA6ICB3d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gICAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gICAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gICAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAgICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAgICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKi9cclxuaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaVwiO1xyXG5pbXBvcnQgeyBIb3dsZXJBdWRpb1NvdXJjZSB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzXCI7XHJcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSBcIi4vZ2FtZVwiO1xyXG5pbXBvcnQgeyBCdWxsZXRQaHlzaWNzIH0gZnJvbSBcIi4vYnVsbGV0LXBoeXNpY3NcIjtcclxuLyoqXHJcbkBicmllZiBTcGF3bnMgYSBuZXcgYnVsbGV0IG9iamVjdCB3aGVuIHRoZSBwbGF5ZXIgZGVwcmVzc2VzIHRoZSB0cmlnZ2VyLlxyXG4qL1xyXG5cclxuY29uc3QgdGVtcFF1YXQyID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdWxsZXRTcGF3bmVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9IFwiYnVsbGV0LXNwYXduZXJcIjtcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIGJ1bGxldE1lc2g6IHsgdHlwZTogVHlwZS5NZXNoIH0sXHJcbiAgICAgICAgYnVsbGV0TWF0ZXJpYWw6IHsgdHlwZTogVHlwZS5NYXRlcmlhbCB9LFxyXG4gICAgICAgIGJ1bGxldFNwZWVkOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDEuMCB9LFxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoQnVsbGV0UGh5c2ljcyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgc3RhdGUubGF1bmNoID0gZnVuY3Rpb24gKGRpcikge1xyXG4gICAgICAgICAgICBsZXQgYnVsbGV0ID0gdGhpcy5zcGF3bkJ1bGxldCgpO1xyXG4gICAgICAgICAgICBidWxsZXQub2JqZWN0LnNldFRyYW5zZm9ybUxvY2FsKHRoaXMub2JqZWN0LmdldFRyYW5zZm9ybVdvcmxkKHRlbXBRdWF0MikpO1xyXG4gICAgICAgICAgICBidWxsZXQub2JqZWN0LnNldERpcnR5KCk7XHJcbiAgICAgICAgICAgIGJ1bGxldC5waHlzaWNzLmRpci5zZXQoZGlyKTtcclxuICAgICAgICAgICAgYnVsbGV0LnBoeXNpY3Muc2NvcmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJ1bGxldC5waHlzaWNzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMueHJTZXNzaW9uU3RhcnQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5zdGFydCA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XHJcblxyXG4gICAgICAgIHRoaXMuYnVsbGV0cyA9IFtdO1xyXG4gICAgICAgIHRoaXMubmV4dEluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLmxhc3RTaG90VGltZSA9IDA7XHJcblxyXG4gICAgICAgIHN0YXRlLmJ1bGxldFNwYXduZXIgPSB0aGlzLm9iamVjdDtcclxuICAgICAgICB0aGlzLnNvdW5kQ2xpY2sgPSB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQoSG93bGVyQXVkaW9Tb3VyY2UsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Ub3VjaERvd24oZSkge1xyXG4gICAgICAgIC8qKiBQcmV2ZW50IGxlZnQgdHJpZ2dlciBmcm9tIGZpcmluZyAqL1xyXG4gICAgICAgIGlmIChlLmlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gXCJyaWdodFwiICkge1xyXG4gICAgICAgICAgICAvKiogTGltaXQgaG93IGZhc3QgcGxheWVyIGNhbiBzaG9vdCAqL1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICBsZXQgbGFzdFNob3RUaW1lR2FwID0gTWF0aC5hYnMoY3VycmVudFRpbWUgLSB0aGlzLmxhc3RTaG90VGltZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobGFzdFNob3RUaW1lR2FwID4gNTAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXIgPSBbMCwgMCwgMF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2N1cnNvcicpLmN1cnNvclJheU9iamVjdC5nZXRGb3J3YXJkKGRpcik7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhdGUubGF1bmNoKGRpcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTaG90VGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzcGF3bkJ1bGxldCgpIHtcclxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmVuZ2luZS5zY2VuZS5hZGRPYmplY3QoKTtcclxuICAgICAgICBvYmouc2NhbGVMb2NhbChbMC4wNSwgMC4wNSwgMC4wNV0pO1xyXG5cclxuICAgICAgICBvYmouYWRkQ29tcG9uZW50KFwibWVzaFwiLCB7XHJcbiAgICAgICAgICAgIG1lc2g6IHRoaXMuYnVsbGV0TWVzaC5tZXNoLFxyXG4gICAgICAgICAgICBtYXRlcmlhbDogdGhpcy5idWxsZXRNYXRlcmlhbC5tYXRlcmlhbCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBvYmouYWRkQ29tcG9uZW50KFwiY29sbGlzaW9uXCIsIHtcclxuICAgICAgICAgICAgc2hhcGU6IFdMLkNvbGxpZGVyLlNwaGVyZSxcclxuICAgICAgICAgICAgZXh0ZW50czogWzAuMDUsIDAsIDBdLFxyXG4gICAgICAgICAgICBncm91cDogMSA8PCAwLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBwaHlzaWNzID0gb2JqLmFkZENvbXBvbmVudChCdWxsZXRQaHlzaWNzLCB7XHJcbiAgICAgICAgICAgIHNwZWVkOiB0aGlzLmJ1bGxldFNwZWVkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBoeXNpY3MuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgb2JqZWN0OiBvYmosXHJcbiAgICAgICAgICAgIHBoeXNpY3M6IHBoeXNpY3NcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vdmlicmF0ZXMgY29udHJvbGxlciBmb3IgaGFwdGljIGZlZWRiYWNrXHJcblxyXG4gICAgb25BY3RpdmF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZW5naW5lLnhyKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICBcInNlbGVjdHN0YXJ0XCIsIHRoaXMub25Ub3VjaERvd24uYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgeHJTZXNzaW9uU3RhcnQoc2Vzc2lvbikge1xyXG4gICAgICAgIGlmICghdGhpcy5hY3RpdmUpIHJldHVybjtcclxuICAgICAgICBzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3RzdGFydFwiLCB0aGlzLm9uVG91Y2hEb3duLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxufTsiLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dENvbXBvbmVudCwgTWVzaENvbXBvbmVudCwgUHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBDdXJzb3JUYXJnZXQsIEhvd2xlckF1ZGlvU291cmNlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cyc7XHJcblxyXG4vKipcclxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHRyaWdnZXIgaGFwdGljIGZlZWRiYWNrIHB1bHNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IEFuIG9iamVjdCB3aXRoICdpbnB1dCcgY29tcG9uZW50IGF0dGFjaGVkXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCBTdHJlbmd0aCBmcm9tIDAuMCAtIDEuMFxyXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gRHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaGFwdGljRmVlZGJhY2sob2JqZWN0LCBzdHJlbmd0aCwgZHVyYXRpb24pIHtcclxuICAgIGNvbnN0IGlucHV0ID0gb2JqZWN0LmdldENvbXBvbmVudChJbnB1dENvbXBvbmVudCk7XHJcbiAgICBpZiAoaW5wdXQgJiYgaW5wdXQueHJJbnB1dFNvdXJjZSkge1xyXG4gICAgICAgIGNvbnN0IGdhbWVwYWQgPSBpbnB1dC54cklucHV0U291cmNlLmdhbWVwYWQ7XHJcbiAgICAgICAgaWYgKGdhbWVwYWQgJiYgZ2FtZXBhZC5oYXB0aWNBY3R1YXRvcnMpXHJcbiAgICAgICAgICAgIGdhbWVwYWQuaGFwdGljQWN0dWF0b3JzWzBdLnB1bHNlKHN0cmVuZ3RoLCBkdXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBCdXR0b24gY29tcG9uZW50LlxyXG4gKlxyXG4gKiBTaG93cyBhICdob3Zlck1hdGVyaWFsJyBvbiBjdXJzb3IgaG92ZXIsIG1vdmVzIGJhY2t3YXJkIG9uIGN1cnNvciBkb3duLFxyXG4gKiByZXR1cm5zIHRvIGl0cyBwb3NpdGlvbiBvbiBjdXJzb3IgdXAsIHBsYXlzIGNsaWNrL3VuY2xpY2sgc291bmRzIGFuZCBoYXB0aWNcclxuICogZmVlZGJhY2sgb24gaG92ZXIuXHJcbiAqXHJcbiAqIFVzZSBgdGFyZ2V0Lm9uQ2xpY2suYWRkKCgpID0+IHt9KWAgb24gdGhlIGBjdXJzb3ItdGFyZ2V0YCBjb21wb25lbnQgdXNlZFxyXG4gKiB3aXRoIHRoZSBidXR0b24gdG8gZGVmaW5lIHRoZSBidXR0b24ncyBhY3Rpb24uXHJcbiAqXHJcbiAqIFN1cHBvcnRzIGludGVyYWN0aW9uIHdpdGggYGZpbmdlci1jdXJzb3JgIGNvbXBvbmVudCBmb3IgaGFuZCB0cmFja2luZy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBCdXR0b25Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2J1dHRvbic7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogT2JqZWN0IHRoYXQgaGFzIHRoZSBidXR0b24ncyBtZXNoIGF0dGFjaGVkICovXHJcbiAgICAgICAgYnV0dG9uTWVzaE9iamVjdDogUHJvcGVydHkub2JqZWN0KCksXHJcbiAgICAgICAgLyoqIE1hdGVyaWFsIHRvIGFwcGx5IHdoZW4gdGhlIHVzZXIgaG92ZXJzIHRoZSBidXR0b24gKi9cclxuICAgICAgICBob3Zlck1hdGVyaWFsOiBQcm9wZXJ0eS5tYXRlcmlhbCgpLFxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoSG93bGVyQXVkaW9Tb3VyY2UpO1xyXG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChDdXJzb3JUYXJnZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFBvc2l0aW9uIHRvIHJldHVybiB0byB3aGVuIFwidW5wcmVzc2luZ1wiIHRoZSBidXR0b24gKi9cclxuICAgIHJldHVyblBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5tZXNoID0gdGhpcy5idXR0b25NZXNoT2JqZWN0LmdldENvbXBvbmVudChNZXNoQ29tcG9uZW50KTtcclxuICAgICAgICB0aGlzLmRlZmF1bHRNYXRlcmlhbCA9IHRoaXMubWVzaC5tYXRlcmlhbDtcclxuICAgICAgICB0aGlzLmJ1dHRvbk1lc2hPYmplY3QuZ2V0VHJhbnNsYXRpb25Mb2NhbCh0aGlzLnJldHVyblBvcyk7XHJcblxyXG4gICAgICAgIHRoaXMudGFyZ2V0ID1cclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KEN1cnNvclRhcmdldCkgfHxcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KEN1cnNvclRhcmdldCk7XHJcblxyXG4gICAgICAgIHRoaXMuc291bmRDbGljayA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSwge1xyXG4gICAgICAgICAgICBzcmM6ICdzZngvY2xpY2sud2F2JyxcclxuICAgICAgICAgICAgc3BhdGlhbDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNvdW5kVW5DbGljayA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSwge1xyXG4gICAgICAgICAgICBzcmM6ICdzZngvdW5jbGljay53YXYnLFxyXG4gICAgICAgICAgICBzcGF0aWFsOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQub25Ib3Zlci5hZGQodGhpcy5vbkhvdmVyKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5vblVuaG92ZXIuYWRkKHRoaXMub25VbmhvdmVyKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5vbkRvd24uYWRkKHRoaXMub25Eb3duKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5vblVwLmFkZCh0aGlzLm9uVXApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLnRhcmdldC5vbkhvdmVyLnJlbW92ZSh0aGlzLm9uSG92ZXIpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uVW5ob3Zlci5yZW1vdmUodGhpcy5vblVuaG92ZXIpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uRG93bi5yZW1vdmUodGhpcy5vbkRvd24pO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uVXAucmVtb3ZlKHRoaXMub25VcCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogQ2FsbGVkIGJ5ICdjdXJzb3ItdGFyZ2V0JyAqL1xyXG4gICAgb25Ib3ZlciA9IChfLCBjdXJzb3IpID0+IHtcclxuICAgICAgICB0aGlzLm1lc2gubWF0ZXJpYWwgPSB0aGlzLmhvdmVyTWF0ZXJpYWw7XHJcbiAgICAgICAgaWYgKGN1cnNvci50eXBlID09PSAnZmluZ2VyLWN1cnNvcicpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkRvd24oXywgY3Vyc29yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNSwgNTApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIENhbGxlZCBieSAnY3Vyc29yLXRhcmdldCcgKi9cclxuICAgIG9uRG93biA9IChfLCBjdXJzb3IpID0+IHtcclxuICAgICAgICB0aGlzLnNvdW5kQ2xpY2sucGxheSgpO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uTWVzaE9iamVjdC50cmFuc2xhdGUoWzAuMCwgLTAuMSwgMC4wXSk7XHJcbiAgICAgICAgaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMS4wLCAyMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogQ2FsbGVkIGJ5ICdjdXJzb3ItdGFyZ2V0JyAqL1xyXG4gICAgb25VcCA9IChfLCBjdXJzb3IpID0+IHtcclxuICAgICAgICB0aGlzLnNvdW5kVW5DbGljay5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5idXR0b25NZXNoT2JqZWN0LnNldFRyYW5zbGF0aW9uTG9jYWwodGhpcy5yZXR1cm5Qb3MpO1xyXG4gICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNywgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIENhbGxlZCBieSAnY3Vyc29yLXRhcmdldCcgKi9cclxuICAgIG9uVW5ob3ZlciA9IChfLCBjdXJzb3IpID0+IHtcclxuICAgICAgICB0aGlzLm1lc2gubWF0ZXJpYWwgPSB0aGlzLmRlZmF1bHRNYXRlcmlhbDtcclxuICAgICAgICBpZiAoY3Vyc29yLnR5cGUgPT09ICdmaW5nZXItY3Vyc29yJykge1xyXG4gICAgICAgICAgICB0aGlzLm9uVXAoXywgY3Vyc29yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuMywgNTApO1xyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcbmltcG9ydCB7IFdheXBvaW50TW92ZW1lbnQgfSBmcm9tIFwiLi93YXlwb2ludC1tb3ZlbWVudFwiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBlbmVteS1zcGF3bmVyXHJcbiAqL1xyXG5cclxuY29uc3QgdGVtcFF1YXQyID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcclxuZXhwb3J0IGNsYXNzIEVuZW15U3Bhd25lciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZW5lbXktc3Bhd25lcic7XHJcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBkZWZhdWx0TWVzaDogeyB0eXBlOiBUeXBlLk1lc2ggfSxcclxuICAgICAgICBkZWZhdWx0TWF0ZXJpYWw6IHsgdHlwZTogVHlwZS5NYXRlcmlhbCB9LFxyXG4gICAgICAgIHNwYXduVGltZXI6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDUgfSxcclxuICAgICAgICBkZWZhdWx0SGVhbHRoIDogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogNTB9LFxyXG4gICAgICAgIGRlZmF1bHRSZXdhcmQ6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDEwfSxcclxuICAgICAgICBzcGVjaWFsUmV3YXJkQ2hhbmNlOiB7IHR5cGU6IFR5cGUuSW50LCBkZWZhdWx0IDogMX0sXHJcbiAgICAgICAgZGVmYXVsdFNwZWVkOiB7dHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMy4wfSxcclxuICAgICAgICBkZWZhdWx0RGFtYWdlIDoge3R5cGUgOlR5cGUuSW50LCBkZWZhdWx0IDogNX1cclxuICAgIH07XHJcblxyXG4gICAgLy8gVGhlIGdhbWUgZmlsZSBjb250YWlucyB0aGUgc3RhdGUgb2JqZWN0LCB0aGUgaW5pdCBmdW5jdGlvbiBhZGRzIGEgZnVuY3Rpb25cclxuICAgIC8vIGNhbGxlZCBzcGF3biB0byB0aGUgc3RhdGUgZmlsZSwgYXNzaWducyB0aGUgY2FsbGluZyBvYmplY3QgYXMgdGhlIHNwYXducG9pbnQsXHJcbiAgICAvLyBhbmQgaW5zdGF0bmlhdGVzIHRoZSB0aW1lciBmb3Igc3Bhd24gZGVsYXlcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy50aW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5kcm9uZSA9IGZhbHNlO1xyXG4gICAgICAgIHN0YXRlLkVuZW15U3Bhd25lci5wdXNoKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwicGF1bFwiO1xyXG4gICAgICAgIHN0YXRlLnNwYXduID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICBsZXQgZW5lbXkgPSBvYmplY3Quc3Bhd25FbmVteSgpO1xyXG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50RW5lbWllcy5wdXNoKGVuZW15KTtcclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInN0YXJ0XCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMubmFtZSk7XHJcbiAgICB9XHJcbiAgICAvLyBOb3QgZXhhY3RseSBzdXJlIHdoeSB3ZSBuZWVkIHRoaXMgYnV0IHdlIGRvXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoV2F5cG9pbnRNb3ZlbWVudCk7XHJcbiAgICB9XHJcbiAgICAvLyBzcGF3bnMgYSBuZXcgZW5lbXkgZXZlcnkgNSBzZWNvbmRzIFxyXG4gICAgLy8gVE9ETyBhZGQgYSBzcGF3bnRpbWVyIGZ1bmN0aW9uIGFuZCB1c2UgdGhhdCBpbnN0ZWFkIG9mIGhhcmRjb2RpbmcgdGhlIHRpbWVcclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIHRoaXMudGltZXIgKz0gZHQ7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZXIgPiB0aGlzLnNwYXduVGltZXIgJiYgc3RhdGUucGF1c2VFbmVtaWVzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyID0gMDtcclxuICAgICAgICAgICAgc3RhdGUuc3Bhd24odGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gVE9ETyBhZGQgYSBvbkhJdCBmdW5jdGlvbiB0byB0aGUgb2JqZWN0IHRoYXQgaXMgc3Bhd25lZCBcclxuXHJcbiAgICBzcGF3bkVuZW15KCkge1xyXG4gICAgICAgIC8vIHRoaXMgY3JlYXRlcyBhbiBvYmplY3QgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgd29uZGVybGFuZCBzY2VuZVxyXG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuZW5naW5lLnNjZW5lLmFkZE9iamVjdCgpO1xyXG4gICAgICAgIC8vIFNldHMgdGhlIGxvY2F0aW9uIG9mIHRoZSBuZXcgb2JqZWN0IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBzcGF3biBwb2ludFxyXG4gICAgICAgIG9iai5zZXRUcmFuc2Zvcm1Mb2NhbCh0aGlzLm9iamVjdC5nZXRUcmFuc2Zvcm1Xb3JsZCh0ZW1wUXVhdDIpKTtcclxuICAgICAgICAvLyBhZGRzIG1lc2ggdG8gdGhlIG5ldyBvYmplY3QgcmVmZXJlbnZpbmcgdGhlIG1lc2ggZGVzaWduYXRlZCBieSB0aGVcclxuICAgICAgICAvL3NwYXduaW5nIG9iamVjdCBpbiB0aGUgZWRpdG9yXHJcbiAgICAgICAgY29uc3QgbWVzaCA9IG9iai5hZGRDb21wb25lbnQoJ21lc2gnKTtcclxuICAgICAgICBtZXNoLm1lc2ggPSB0aGlzLmRlZmF1bHRNZXNoO1xyXG4gICAgICAgIG1lc2gubWF0ZXJpYWwgPSB0aGlzLmRlZmF1bHRNYXRlcmlhbDtcclxuICAgICAgICBtZXNoLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgLy8gZ3JhbnRzIHRoZSBuZXcgZW5lbXkgb2JqZWN0IGEgY29sbGlzaW9uIGJveFxyXG5cclxuICAgICAgICBvYmouYWRkQ29tcG9uZW50KFwiY29sbGlzaW9uXCIsIHtcclxuICAgICAgICAgICAgc2hhcGU6IFdMLkNvbGxpZGVyLlNwaGVyZSxcclxuICAgICAgICAgICAgZXh0ZW50czogWzUsIDAsIDBdLFxyXG4gICAgICAgICAgICBncm91cDogMSA8PCA1LFxyXG4gICAgICAgICAgICBhY3RpdmU6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYob2JqLmRyb25lKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRmxvYXQzMkFycmF5KClcclxuICAgICAgICAgICAgb2JqLiBhZGRDb21wb25lbnQoV2F5cG9pbnRNb3ZlbWVudClcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcG90ZW50aWFsIGRpc3RhbmNlIHRyYXZlbGVkIGZvciBlbmVteSBzZWxlY3Rpb25cclxuICAgICAgICBvYmoud2Fsa2VkID0gMDtcclxuICAgICAgICBvYmouaGVhbHRoID0gdGhpcy5kZWZhdWx0SGVhbHRoO1xyXG4gICAgICAgIG9iai5kYW1hZ2UgPSB0aGlzLmRlZmF1bHREYW1hZ2U7XHJcbiAgICAgICAgb2JqLnZhbHVlID0gdGhpcy5kZWZhdWx0UmV3YXJkO1xyXG4gICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBvYmplY3QgdGhhdCBpcyBhIGNvcHQgb2YgdGhlIFdheXBvaW50IE1vdmVtZW50IG9iamVjdCBcclxuICAgICAgICAvLyBiZWxvbmdpbmcgdG8gdGhlIHNwYXduZXJcclxuICAgICAgICBsZXQgbyA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudChXYXlwb2ludE1vdmVtZW50KTtcclxuICAgICAgICBvLnNwZWVkID0gdGhpcy5kZWZhdWx0U3BlZWQ7XHJcblxyXG4gICAgICAgIC8vVGhpcyBjb2RlIGlzIG1lYW50IHRvIGJlIGhvdyB3ZSB0cmFjayB0aGUgaGVhbHRoIG9mIHRoZSBlbmVtaWVzLCBjdXJyZW50bHkgbm90IGRvaW5nIGFueXRoaW5nXHJcbiAgICAgICAgb2JqLmYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHN0YXRlLmhlYWx0aCAtPSBvYmouZGFtYWdlO1xyXG4gICAgICAgICAgICAvLyBpZiBzdGF0ZS5oZWFsdGggPD0gMCBzdGF0ZS5nYW1lT3ZlciA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc3RhdGUuY3VycmVudEVuZW1pZXMuaW5kZXhPZihvYmopO1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gc3RhdGUuY3VycmVudEVuZW1pZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgc3RhdGUubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBvYmouZGVzdHJveSgpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBjb3BpZWQgbW92ZW1lbnQgb2JqZWN0IHRvIHRoZSBuZXcgZW5lbXksIGluY2x1ZGluZ1xyXG4gICAgICAgIC8vIHRoZSBwYXRoT2JqZWN0IG9mIHRoZSBwYXJlbnQgc3BlY2lmaWVkIGluIHRoZSBlZGl0b3JcclxuXHJcbiAgICAgICAgb2JqLmFkZENvbXBvbmVudChXYXlwb2ludE1vdmVtZW50LCBvKTtcclxuICAgICAgICBvYmouc2V0U2NhbGluZ0xvY2FsKFsuMiwgLjIsIC4yXSk7XHJcbiAgICAgICAgb2JqLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgb2JqLm5hbWUgPSBcImRhdmVcIjtcclxuICAgICAgICBvYmouc2V0RGlydHkoKTtcclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyB2ZWMzIH0gZnJvbSAnZ2wtbWF0cml4JztcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICcuL2dhbWUnO1xyXG5cclxuLypcclxuT3JpZ2luYWwgYXV0aG9ycyBcdTIwMTQgY3JlZGl0IGlzIGFwcHJlY2lhdGVkIGJ1dCBub3QgcmVxdWlyZWQ6XHJcblxyXG4gICAgIDIwMjEgXHUyMDE0IEZsb3JpYW4gSXNpa2NpIDxmbG9yaWFuLmlzaWtjaUB2aGl0ZXJhYmJpdC5jb20+XHJcblxyXG4gVGhpcyBpcyBmcmVlIGFuZCB1bmVuY3VtYmVyZWQgc29mdHdhcmUgcmVsZWFzZWQgaW50byB0aGUgcHVibGljIGRvbWFpbi5cclxuIEFueW9uZSBpcyBmcmVlIHRvIGNvcHksIG1vZGlmeSwgcHVibGlzaCwgdXNlLCBjb21waWxlLCBzZWxsLCBvciBkaXN0cmlidXRlXHJcbiB0aGlzIHNvZnR3YXJlLCBlaXRoZXIgaW4gc291cmNlIGNvZGUgZm9ybSBvciBhcyBhIGNvbXBpbGVkIGJpbmFyeSwgZm9yIGFueVxyXG4gcHVycG9zZSwgY29tbWVyY2lhbCBvciBub24tY29tbWVyY2lhbCwgYW5kIGJ5IGFueSBtZWFucy5cclxuXHJcbiBJbiBqdXJpc2RpY3Rpb25zIHRoYXQgcmVjb2duaXplIGNvcHlyaWdodCBsYXdzLCB0aGUgYXV0aG9yIG9yIGF1dGhvcnMgb2ZcclxuIHRoaXMgc29mdHdhcmUgZGVkaWNhdGUgYW55IGFuZCBhbGwgY29weXJpZ2h0IGludGVyZXN0IGluIHRoZSBzb2Z0d2FyZSB0b1xyXG4gdGhlIHB1YmxpYyBkb21haW4uIFdlIG1ha2UgdGhpcyBkZWRpY2F0aW9uIGZvciB0aGUgYmVuZWZpdCBvZiB0aGUgcHVibGljXHJcbiBhdCBsYXJnZSBhbmQgdG8gdGhlIGRldHJpbWVudCBvZiBvdXIgaGVpcnMgYW5kIHN1Y2Nlc3NvcnMuIFdlIGludGVuZCB0aGlzXHJcbiBkZWRpY2F0aW9uIHRvIGJlIGFuIG92ZXJ0IGFjdCBvZiByZWxpbnF1aXNobWVudCBpbiBwZXJwZXR1aXR5IG9mIGFsbFxyXG4gcHJlc2VudCBhbmQgZnV0dXJlIHJpZ2h0cyB0byB0aGlzIHNvZnR3YXJlIHVuZGVyIGNvcHlyaWdodCBsYXcuXHJcblxyXG4gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTFxyXG4gVEhFIEFVVEhPUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSXHJcbiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxyXG4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cclxuICovXHJcblxyXG5leHBvcnQgY2xhc3MgV2F5cG9pbnRNb3ZlbWVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnd2F5cG9pbnQtbW92ZW1lbnQnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIFRoaXMgb2JqZWN0IGlzIHRoZSBjb250YWluZXIgb2YgdGhlIHdheXBvaW50cy4gSXQgc2hvdWxkIGNvbnRhaW4gY2hpbGRyZW5cclxuICAgIHdpdGggYW4gYWxwaGViZXRpY2FsbHkgYXNjZW5kaW5nIG5hbWluZyAoZS5nLiBBLCBCLCBDLCBELCBFLCBGKSAqL1xyXG4gICAgICAgIHBhdGhPYmplY3Q6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcclxuICAgICAgICAvKiogTW92ZW1lbnQgc3BlZWQgb2YgdGhlIG9iamVjdCAqL1xyXG4gICAgICAgIHNwZWVkOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDEuMCB9LFxyXG4gICAgICAgIC8qKiBEaXN0YW5jZSBpbiBub3JtYWwgc3BhY2UgWzAsIDAuNSkgYWZ0ZXIgd2hpY2ggdGhlIG9iamVjdHMgc3RhcnRzIG1vdmluZyBvbiBhIGN1cnZlICovXHJcbiAgICAgICAgY3VydmVEaXN0YW5jZTogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjEgfSxcclxuICAgIH07XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gdGhpcy5wYXRoT2JqZWN0LmNoaWxkcmVuLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbnMgPSBuZXcgQXJyYXkodGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uc1tpXSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLnBvc2l0aW9uc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLmxvb2tQb3NpdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5mcm9tUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uc1swXTtcclxuICAgICAgICB0aGlzLnRvUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uc1sxXTtcclxuICAgICAgICB2ZWMzLnN1Yih0aGlzLmN1cnJlbnRQb3NpdGlvbiwgdGhpcy50b1Bvc2l0aW9uLCB0aGlzLmZyb21Qb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5mcm9tVG9MZW5ndGggPSB2ZWMzLmxlbmd0aCh0aGlzLmN1cnJlbnRQb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50TGVuZ3RoID0gMDtcclxuICAgICAgICB0aGlzLnVwID0gWzAsIDEsIDBdO1xyXG4gICAgICAgIHRoaXMucXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XHJcbiAgICAgICAgbG9va0F0KHRoaXMucXVhdCwgdGhpcy5mcm9tUG9zaXRpb24sIHRoaXMudG9Qb3NpdGlvbiwgdGhpcy51cCk7XHJcbiAgICAgICAgdGhpcy5vYmplY3QucmVzZXRUcmFuc2xhdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5vYmplY3Qucm90YXRlKHRoaXMucXVhdCk7XHJcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLmZyb21Qb3NpdGlvbik7XHJcblxyXG4gICAgICAgIHRoaXMucDAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMucDEgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMucDIgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEN1cnZlSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuY3VydmVEaXN0YW5jZSA9IE1hdGgubWF4KDAuMCwgTWF0aC5taW4oMC40OTk5OSwgdGhpcy5jdXJ2ZURpc3RhbmNlKSk7XHJcbiAgICAgICAgdGhpcy5iZXpGYWN0b3JNdWx0aXBsaWNhdG9yID0gMSAvICgyICogdGhpcy5jdXJ2ZURpc3RhbmNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5vbkZpbmFsV2F5cG9pbnRSZWFjaGVkQ2FsbGJhY2tzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGEgZnVuY3Rpb24gdG8gYSBjYWxsYmFjayBhcnJheSB3aGljaCwgdGhlbiBjYWxscyB0aGUgZnVuY3Rpb24gYWZ0ZXIgdGhlIGZpbmFsIHdheXBvaW50IGhhcyBiZWVuIHJlYWNoZWQuXHJcbiAgICAgKiBAcGFyYW0gIHtmdW5jdGlvbn0gZiBGdW5jdGlvbiB0byBiZSBhZGRlZC5cclxuICAgICAqL1xyXG4gICAgYWRkT25GaW5hbFdheXBvaW50UmVhY2hlZENhbGxiYWNrKGYpIHtcclxuICAgICAgICB0aGlzLm9uRmluYWxXYXlwb2ludFJlYWNoZWRDYWxsYmFja3MucHVzaChmKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYSBmdW5jdGlvbiBmcm9tIHRoZSBjYWxsYmFjayBhcnJheSBmb3IgcmVhY2hpbmcgdGhlIGZpbmFsIHdheXBvaW50Li5cclxuICAgICAqIEBwYXJhbSAge2Z1bmN0aW9ufSBmIEZ1bmN0aW9uIHRvIGJlIHJlbW92ZWQuXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZU9uRmluYWxXYXlwb2ludFJlYWNoZWRDYWxsYmFjayhmKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKGYpO1xyXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25GaW5hbFdheXBvaW50UmVhY2hlZENhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHBvaW50cyBuZWVkZWQgZm9yIHRoZSBuZXh0IGN1cnZlXHJcbiAgICAgKi9cclxuICAgIF9zZXRDdXJ2ZVBvaW50cygpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIEdpdmVuIHBvaW50cyBBLCBCIGFuZCBDIGZvciBhIGN1cnZlLCBmb2xsb3dpbmcgcG9pbnRzIHAwLCBwMSBhbmQgcDIgYXJlIHNldCBmb3IgYSBiZXppZXIgY3VydmUgYXJvdW5kIHRoZSBjb3JuZXIgb2YgQi5cclxuICAgICAgICAgKiB3aGljaCBpcyBzZXQgZm9yIHNtb290aCBjb3JuZXIgbW92ZW1lbnQgYW5kIGRlcGVuZHMgb24gdGhlIGN1cnZlRGlzdGFuY2UoY0QpIGZyb20gQi5cclxuICAgICAgICAgKiBwMCA9IEIgKyBjRCAqIChBLUIpXHJcbiAgICAgICAgICogcDEgPSBCXHJcbiAgICAgICAgICogcDIgPSBCICsgY0QgKiAoQy1CKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHZlYzMuc3ViKFxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbixcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbnNbdGhpcy5jdXJyZW50Q3VydmVJbmRleF0sXHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25zW3RoaXMuY3VycmVudEN1cnZlSW5kZXggKyAxXVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdmVjMy5zY2FsZSh0aGlzLmN1cnJlbnRQb3NpdGlvbiwgdGhpcy5jdXJyZW50UG9zaXRpb24sIHRoaXMuY3VydmVEaXN0YW5jZSk7XHJcbiAgICAgICAgdmVjMy5hZGQodGhpcy5wMCwgdGhpcy5wb3NpdGlvbnNbdGhpcy5jdXJyZW50Q3VydmVJbmRleCArIDFdLCB0aGlzLmN1cnJlbnRQb3NpdGlvbik7XHJcblxyXG4gICAgICAgIHRoaXMucDEgPSB0aGlzLnBvc2l0aW9uc1t0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4ICsgMV07XHJcblxyXG4gICAgICAgIHZlYzMuc3ViKFxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbixcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbnNbdGhpcy5jdXJyZW50Q3VydmVJbmRleCArIDJdLFxyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uc1t0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4ICsgMV1cclxuICAgICAgICApO1xyXG4gICAgICAgIHZlYzMuc2NhbGUodGhpcy5jdXJyZW50UG9zaXRpb24sIHRoaXMuY3VycmVudFBvc2l0aW9uLCB0aGlzLmN1cnZlRGlzdGFuY2UpO1xyXG4gICAgICAgIHZlYzMuYWRkKHRoaXMucDIsIHRoaXMucG9zaXRpb25zW3RoaXMuY3VycmVudEN1cnZlSW5kZXggKyAxXSwgdGhpcy5jdXJyZW50UG9zaXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgb2JqZWN0J3MgcGF0aCBvYmplY3QgYW5kIGNvbmZpZ3VyZXMgaXQuXHJcbiAgICAgKiBAcGFyYW0gIHtXTC5PYmplY3R9IHBhdGhPYmplY3QgW09iamVjdCBjb250YWluaW5nIGFscGhlYmV0aWNhbGx5IG5hbWVkIGNoaWxkcmVuXVxyXG4gICAgICovXHJcbiAgICBzZXRQYXRoT2JqZWN0KHBhdGhPYmplY3QpIHtcclxuICAgICAgICB0aGlzLnBhdGhPYmplY3QgPSBwYXRoT2JqZWN0O1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSB0aGlzLnBhdGhPYmplY3QuY2hpbGRyZW4uc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9ucyA9IG5ldyBBcnJheSh0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25zW2ldID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMucG9zaXRpb25zW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb25JbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50Q3VydmVJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50TGVuZ3RoID0gMDtcclxuICAgICAgICB0aGlzLl9zZXRDdXJ2ZVBvaW50cygpO1xyXG5cclxuICAgICAgICB0aGlzLmZyb21Qb3NpdGlvbiA9IHRoaXMucG9zaXRpb25zWzBdO1xyXG4gICAgICAgIHRoaXMudG9Qb3NpdGlvbiA9IHRoaXMucG9zaXRpb25zWzFdO1xyXG4gICAgICAgIHZlYzMuc3ViKHRoaXMuY3VycmVudFBvc2l0aW9uLCB0aGlzLnRvUG9zaXRpb24sIHRoaXMuZnJvbVBvc2l0aW9uKTtcclxuICAgICAgICB0aGlzLmZyb21Ub0xlbmd0aCA9IHZlYzMubGVuZ3RoKHRoaXMuY3VycmVudFBvc2l0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRMZW5ndGggKz0gZHQgKiB0aGlzLnNwZWVkO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LndhbGtlZCArPSAxO1xyXG4gICAgICAgIC8vIGZhY3RvciBpbmRpY2F0ZXMgdGhlIHBlcmNlbnRhZ2Ugb2YgaG93IG11Y2ggb2YgYSBnaXZlbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMgaGFzIGFscmVhZHkgYmVlbiB0cmF2ZXJzZWRcclxuICAgICAgICBsZXQgZmFjdG9yID0gdGhpcy5jdXJyZW50TGVuZ3RoIC8gdGhpcy5mcm9tVG9MZW5ndGg7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQgaXMgdGhlIGN1cnZlIHBvaW50LCBpZiBpdCBpcywgZG9uJ3QgaW5jcmVtZW50IHRoZSBpbmRleCBvZiBjdXJ2ZXNcclxuICAgICAgICBpZiAoZmFjdG9yID4gMC41ICYmIHRoaXMuY3VycmVudFBvc2l0aW9uSW5kZXggIT0gdGhpcy5wb3NpdGlvbnMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmluY3JlbWVudEN1cnZlSW5kZXggPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBmb3Igd2V0aGVyIHRoZSBjdXJ2ZSBzaG91bGQgc3RhcnQgKGxpbWl0IHNldCBieSB0aGlzLmN1cnZlRGlzdGFuY2UpIG9yIGEgc3RyYWlnaHQgbGVycCBzaG91bGQgb2NjdXJcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIE1hdGguYWJzKGZhY3RvciAtIE1hdGgucm91bmQoZmFjdG9yKSkgPCB0aGlzLmN1cnZlRGlzdGFuY2UgJiZcclxuICAgICAgICAgICAgISh0aGlzLmN1cnJlbnRQb3NpdGlvbkluZGV4ID09IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMiAmJiBmYWN0b3IgPiAwLjUpICYmXHJcbiAgICAgICAgICAgICEodGhpcy5jdXJyZW50UG9zaXRpb25JbmRleCA9PSAwICYmIGZhY3RvciA8IDAuNSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lcyB0aGUgcG9zaXRpb24gb24gdGhlIGJlemllciBjdXJ2ZSBhcm91bmQgdGhlIGNvcm5lciBmcm9tIGZhY3Rvciwgd2hpY2ggbW92ZXMgZnJvbSAwLjkgdG8gMC4xIGFmdGVyIHBhc3NpbmcgdGhlIG1pZGRsZSBwb2ludFxyXG4gICAgICAgICAgICBsZXQgYmV6RmFjdG9yID1cclxuICAgICAgICAgICAgICAgIChmYWN0b3IgLSBNYXRoLnJvdW5kKGZhY3RvcikgKyB0aGlzLmN1cnZlRGlzdGFuY2UpICpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmV6RmFjdG9yTXVsdGlwbGljYXRvcjtcclxuICAgICAgICAgICAgdmVjMy5iZXppZXIoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbixcclxuICAgICAgICAgICAgICAgIHRoaXMucDAsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnAxLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wMSxcclxuICAgICAgICAgICAgICAgIHRoaXMucDIsXHJcbiAgICAgICAgICAgICAgICBiZXpGYWN0b3JcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgLy8gcG9zaXRpb24gYWhlYWQgb2YgdGhlIG9iamVjdCBvbiB0aGUgcGF0aCwgZGV0ZXJtaW5lcyB0aGUgbG9va2luZyBkaXJlY3Rpb25cclxuICAgICAgICAgICAgdmVjMy5iZXppZXIoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvb2tQb3NpdGlvbixcclxuICAgICAgICAgICAgICAgIHRoaXMucDAsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnAxLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wMSxcclxuICAgICAgICAgICAgICAgIHRoaXMucDIsXHJcbiAgICAgICAgICAgICAgICBiZXpGYWN0b3IgKyAwLjAxXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJ2ZUluZGV4ICYmXHJcbiAgICAgICAgICAgICAgICBmYWN0b3IgPCAwLjUgJiZcclxuICAgICAgICAgICAgICAgIGZhY3RvciA+IHRoaXMuY3VydmVEaXN0YW5jZSAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q3VydmVJbmRleCAhPSB0aGlzLnBvc2l0aW9ucy5sZW5ndGggLSAzXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q3VydmVJbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJ2ZUluZGV4ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmVjMy5sZXJwKHRoaXMuY3VycmVudFBvc2l0aW9uLCB0aGlzLmZyb21Qb3NpdGlvbiwgdGhpcy50b1Bvc2l0aW9uLCBmYWN0b3IpO1xyXG4gICAgICAgICAgICAvLyBwb3NpdGlvbiBhaGVhZCBvZiB0aGUgb2JqZWN0IG9uIHRoZSBwYXRoLCBkZXRlcm1pbmVzIHRoZSBsb29raW5nIGRpcmVjdGlvblxyXG4gICAgICAgICAgICB2ZWMzLmxlcnAodGhpcy5sb29rUG9zaXRpb24sIHRoaXMuZnJvbVBvc2l0aW9uLCB0aGlzLnRvUG9zaXRpb24sIGZhY3RvciArIDAuMDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW92ZW1lbnQgYW5kIHJvdGF0aW9uIHRvIGNhbGN1bGF0ZWQgcG9zaXRpb24vZGlyZWN0aW9uXHJcbiAgICAgICAgdGhpcy5vYmplY3QucmVzZXRUcmFuc2xhdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgbG9va0F0KHRoaXMucXVhdCwgdGhpcy5jdXJyZW50UG9zaXRpb24sIHRoaXMubG9va1Bvc2l0aW9uLCB0aGlzLnVwKTtcclxuICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGUodGhpcy5xdWF0KTtcclxuICAgICAgICB0aGlzLm9iamVjdC5zZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuY3VycmVudFBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2tzIHdldGhlciB0aGUgd2F5cG9pbnQgaGFzIGJlZW4gcGFzc2VkXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudExlbmd0aCA+IHRoaXMuZnJvbVRvTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb25JbmRleCsrO1xyXG4gICAgICAgICAgICAvLyBDaGVja3MgaWYgdGhlIGZpbmFsIHdheXBvaW50IGhhcyBiZWVuIHJlYWNoZWRcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBvc2l0aW9uSW5kZXggPT0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5mKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbkluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEN1cnZlSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJ2ZUluZGV4ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uRmluYWxXYXlwb2ludFJlYWNoZWRDYWxsYmFja3MuZm9yRWFjaCgoZikgPT4gZigpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmZyb21Qb3NpdGlvbiA9IHRoaXMucG9zaXRpb25zW3RoaXMuY3VycmVudFBvc2l0aW9uSW5kZXhdO1xyXG4gICAgICAgICAgICB0aGlzLnRvUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uc1t0aGlzLmN1cnJlbnRQb3NpdGlvbkluZGV4ICsgMV07XHJcbiAgICAgICAgICAgIHZlYzMuc3ViKHRoaXMuY3VycmVudFBvc2l0aW9uLCB0aGlzLnRvUG9zaXRpb24sIHRoaXMuZnJvbVBvc2l0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5mcm9tVG9MZW5ndGggPSB2ZWMzLmxlbmd0aCh0aGlzLmN1cnJlbnRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudExlbmd0aCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBsb29rQXQgZnVuY3Rpb24gd2lsbCBiZSByZXBsYWNlZCBieSBhbiBpbnRlcm5hbCBmdW5jdGlvbiBpbiB0aGUgZnV0dXJlLlxyXG5jb25zdCBsb29rQXQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGZvcndhcmRUZW1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGxldCB0ZW1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGxldCBkb3RUZW1wID0gMDtcclxuXHJcbiAgICBsZXQgdmVjdG9yID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGxldCB2ZWN0b3IyID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGxldCB2ZWN0b3IzID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHF1YXRlcm5pb24sIHNvdXJjZVBvaW50LCBkZXN0UG9pbnQsIHVwKSB7XHJcbiAgICAgICAgaWYgKCF1cCkge1xyXG4gICAgICAgICAgICB1cCA9IFswLCAxLCAwXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZlYzMuc3ViKGZvcndhcmRUZW1wLCBkZXN0UG9pbnQsIHNvdXJjZVBvaW50KTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShmb3J3YXJkVGVtcCwgZm9yd2FyZFRlbXApO1xyXG5cclxuICAgICAgICBkb3RUZW1wID0gdmVjMy5kb3QodXAsIGZvcndhcmRUZW1wKTtcclxuXHJcbiAgICAgICAgdmVjMy5zY2FsZSh0ZW1wLCBmb3J3YXJkVGVtcCwgZG90VGVtcCk7XHJcblxyXG4gICAgICAgIHZlYzMuc3ViKHVwLCB1cCwgdGVtcCk7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUodXAsIHVwKTtcclxuXHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUodmVjdG9yLCBmb3J3YXJkVGVtcCk7XHJcbiAgICAgICAgdmVjMy5jcm9zcyh2ZWN0b3IyLCB1cCwgdmVjdG9yKTtcclxuICAgICAgICB2ZWMzLmNyb3NzKHZlY3RvcjMsIHZlY3RvciwgdmVjdG9yMik7XHJcbiAgICAgICAgbGV0IG0wMCA9IHZlY3RvcjJbMF07XHJcbiAgICAgICAgbGV0IG0wMSA9IHZlY3RvcjJbMV07XHJcbiAgICAgICAgbGV0IG0wMiA9IHZlY3RvcjJbMl07XHJcbiAgICAgICAgbGV0IG0xMCA9IHZlY3RvcjNbMF07XHJcbiAgICAgICAgbGV0IG0xMSA9IHZlY3RvcjNbMV07XHJcbiAgICAgICAgbGV0IG0xMiA9IHZlY3RvcjNbMl07XHJcbiAgICAgICAgbGV0IG0yMCA9IHZlY3RvclswXTtcclxuICAgICAgICBsZXQgbTIxID0gdmVjdG9yWzFdO1xyXG4gICAgICAgIGxldCBtMjIgPSB2ZWN0b3JbMl07XHJcblxyXG4gICAgICAgIGxldCBudW04ID0gbTAwICsgbTExICsgbTIyO1xyXG4gICAgICAgIGlmIChudW04ID4gMC4wKSB7XHJcbiAgICAgICAgICAgIGxldCBudW0gPSBNYXRoLnNxcnQobnVtOCArIDEuMCk7XHJcbiAgICAgICAgICAgIHF1YXRlcm5pb25bM10gPSBudW0gKiAwLjU7XHJcbiAgICAgICAgICAgIG51bSA9IDAuNSAvIG51bTtcclxuICAgICAgICAgICAgcXVhdGVybmlvblswXSA9IChtMTIgLSBtMjEpICogbnVtO1xyXG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzFdID0gKG0yMCAtIG0wMikgKiBudW07XHJcbiAgICAgICAgICAgIHF1YXRlcm5pb25bMl0gPSAobTAxIC0gbTEwKSAqIG51bTtcclxuICAgICAgICAgICAgcmV0dXJuIHF1YXRlcm5pb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtMDAgPj0gbTExICYmIG0wMCA+PSBtMjIpIHtcclxuICAgICAgICAgICAgbGV0IG51bTcgPSBNYXRoLnNxcnQoMS4wICsgbTAwIC0gbTExIC0gbTIyKTtcclxuICAgICAgICAgICAgbGV0IG51bTQgPSAwLjUgLyBudW03O1xyXG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzBdID0gMC41ICogbnVtNztcclxuICAgICAgICAgICAgcXVhdGVybmlvblsxXSA9IChtMDEgKyBtMTApICogbnVtNDtcclxuICAgICAgICAgICAgcXVhdGVybmlvblsyXSA9IChtMDIgKyBtMjApICogbnVtNDtcclxuICAgICAgICAgICAgcXVhdGVybmlvblszXSA9IChtMTIgLSBtMjEpICogbnVtNDtcclxuICAgICAgICAgICAgcmV0dXJuIHF1YXRlcm5pb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtMTEgPiBtMjIpIHtcclxuICAgICAgICAgICAgbGV0IG51bTYgPSBNYXRoLnNxcnQoMS4wICsgbTExIC0gbTAwIC0gbTIyKTtcclxuICAgICAgICAgICAgbGV0IG51bTMgPSAwLjUgLyBudW02O1xyXG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzBdID0gKG0xMCArIG0wMSkgKiBudW0zO1xyXG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzFdID0gMC41ICogbnVtNjtcclxuICAgICAgICAgICAgcXVhdGVybmlvblsyXSA9IChtMjEgKyBtMTIpICogbnVtMztcclxuICAgICAgICAgICAgcXVhdGVybmlvblszXSA9IChtMjAgLSBtMDIpICogbnVtMztcclxuICAgICAgICAgICAgcmV0dXJuIHF1YXRlcm5pb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBudW01ID0gTWF0aC5zcXJ0KDEuMCArIG0yMiAtIG0wMCAtIG0xMSk7XHJcbiAgICAgICAgbGV0IG51bTIgPSAwLjUgLyBudW01O1xyXG4gICAgICAgIHF1YXRlcm5pb25bMF0gPSAobTIwICsgbTAyKSAqIG51bTI7XHJcbiAgICAgICAgcXVhdGVybmlvblsxXSA9IChtMjEgKyBtMTIpICogbnVtMjtcclxuICAgICAgICBxdWF0ZXJuaW9uWzJdID0gMC41ICogbnVtNTtcclxuICAgICAgICBxdWF0ZXJuaW9uWzNdID0gKG0wMSAtIG0xMCkgKiBudW0yO1xyXG5cclxuICAgICAgICByZXR1cm4gcXVhdGVybmlvbjtcclxuICAgIH07XHJcbn0pKCk7XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICcuL2dhbWUnO1xyXG4vKipcclxuICogbGV2ZWwtdHJhY2tlclxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExldmVsVHJhY2tlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbGV2ZWwtdHJhY2tlcic7XHJcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBsZXZlbDogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogMSB9LFxyXG4gICAgICAgIHRpbWVyOiB7IHR5cGU6IFR5cGUuSW50LCBkZWZhdWx0OiBzdGF0ZS50aW1lciB9LFxyXG4gICAgICAgIGRheTogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IHRydWUgfSxcclxuICAgIH07XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICBcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMudGltZXIgPSAwO1xyXG4gICAgICAgIHN0YXRlLmxldmVsVXAgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwibGV2ZWx1cCFcIik7XHJcbiAgICAgICAgdGhpcy5sZXZlbCArPTE7XHJcbiAgICAgICAgdGhpcy5tYXhFbmVtaWVzICs9IDEwO1xyXG4gICAgICAgIGxldCBzcGF3bmVyID0gc3RhdGUuRW5lbXlTcGF3bmVyO1xyXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgc3RhdGUuRW5lbXlTcGF3bmVyLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3Bhd25lcltpXS5kZWZhdWx0UmV3YXJkICs9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMubGV2ZWwgJSAyID09PSAwIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzdGF0ZS5FbmVteVNwYXduZXIubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgICAgICBzcGF3bmVyW2ldLmRlZmF1bHRIZWF0aCArPSAyNTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmxldmVsICUgMyA9PT0gMCl7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzdGF0ZS5FbmVteVNwYXduZXIubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNwYXduZXJbaV0uZGVmYXVsdERhbWFnZSArPSA1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMubGV2ZWwgJSA0ID09PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHN0YXRlLkVuZW15U3Bhd25lci5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3Bhd25lcltpXS5kZWZhdWx0U3BlZWQgKz0gLjE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5sZXZlbCAlIDUgPT09IDAgKVxyXG4gICAgICAgIHsgICBcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHN0YXRlLkVuZW15U3Bhd25lci5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3Bhd25lcltpXS5zcGF3blRpbWVyIC09IC4zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIiwgIi8qXHJcbiAgICBDb3B5cmlnaHQgMjAyMS4gRnV0dXJld2VpIFRlY2hub2xvZ2llcyBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gICAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gICAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAgICBodHRwOiAgd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICAgIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICAgIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICAgIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gICAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gICAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiovXHJcblxyXG5pbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpXCI7XHJcbmltcG9ydCB7IHZlYzMgfSBmcm9tIFwiZ2wtbWF0cml4XCI7XHJcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSBcIi4vZ2FtZVwiO1xyXG4vKipcclxuQGJyaWVmIENvbnRyb2xzIHRoZSBidWxsZXQgdHJhamVjdG9yeVxyXG5cclxuRGVhY3RpdmF0ZXMgYnVsbGV0IHVwZGF0ZXMgdG8gcHJlc2VydmUgcGVyZm9ybWFuY2UuIEJ1bGxldHMgY29sbGlzaW9uIGlzIGFsc29cclxuZGVhY3RpdmF0ZWQgd2hlbiB0aGUgYnVsbGV0IGlzIG9uIHRoZSBncm91bmQuIFRoaXMgaXMgZG9uZSB0byBwcmV2ZW50IHRoZSBcclxuc2NvcmUtdHJpZ2dlciBnb2luZyBvZmYgd2hlbiB0aGUgbWljZSBydW4gb3ZlciB0aGUgYnVsbGV0cy5cclxuKi9cclxuXHJcbmxldCBuZXdEaXIgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG5leHBvcnQgY2xhc3MgUHJvamVjdGlsZVBoeXNpY3MgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gXCJwcm9qZWN0aWxlLXBoeXNpY3NcIjtcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIHNwZWVkOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDkuMCB9LFxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgLy8gU2V0cyBwb3NpdGlvbiwgc2NhbGUsIHNwZWVkLCBhbmQgZ2V0cyB0aGUgY29sbGlzaW9uIGJveCBvZiB0aGUgb2JqZWN0XHJcbiAgICAgICAgdGhpcy5kaXIgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBbMCwgMCwgMF07XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZCh0aGlzLnBvc2l0aW9uKTtcclxuICAgICAgICB0aGlzLm9iamVjdC5zZXRTY2FsaW5nV29ybGQoWy4xLCAuMSwgLjFdKTtcclxuICAgICAgICB0aGlzLmNvcnJlY3RlZFNwZWVkID0gdGhpcy5zcGVlZCAqIDU7XHJcbiAgICAgICAgdGhpcy5jb2xsaXNpb24gPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2NvbGxpc2lvbicsIDApO1xyXG4gICAgICAgIGlmICghdGhpcy5jb2xsaXNpb24pIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICAgICAgXCJidWxsZXQtcGh5c2ljcycgY29tcG9uZW50IG9uIG9iamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QubmFtZSxcclxuICAgICAgICAgICAgICAgIFwicmVxdWlyZXMgYSBjb2xsaXNpb24gY29tcG9uZW50XCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBpZiAoaXNOYU4oZHQpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZHQgaXMgTmFOXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vdXBkYXRlIHBvc2l0aW9uXHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZCh0aGlzLnBvc2l0aW9uKTtcclxuICAgICAgICAvL2RlYWN0aXZhdGUgYnVsbGV0IGlmIHRocm91Z2ggdGhlIGZsb29yXHJcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb25bMV0gPD0gc3RhdGUuZmxvb3JIZWlnaHQgKyB0aGlzLmNvbGxpc2lvbi5leHRlbnRzWzBdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveUJ1bGxldCgwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2RlYWN0aXZhdGUgYnVsbGV0IGlmIHRyYXZlbCBkaXN0YW5jZSB0b28gZmFyXHJcbiAgICAgICAgaWYgKHZlYzMubGVuZ3RoKHRoaXMucG9zaXRpb24pID4gMTc1KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveUJ1bGxldCgwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbmV3RGlyLnNldCh0aGlzLmRpcik7XHJcbiAgICAgICAgdmVjMy5zY2FsZShuZXdEaXIsIG5ld0RpciwgdGhpcy5jb3JyZWN0ZWRTcGVlZCk7XHJcbiAgICAgICAgdmVjMy5hZGQodGhpcy5wb3NpdGlvbiwgdGhpcy5wb3NpdGlvbiwgbmV3RGlyKTtcclxuICAgICAgICB0aGlzLm9iamVjdC5zZXRQb3NpdGlvbkxvY2FsKHRoaXMucG9zaXRpb24pO1xyXG4gICAgICAgIGxldCBvdmVybGFwcyA9IHRoaXMuY29sbGlzaW9uLnF1ZXJ5T3ZlcmxhcHMoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG92ZXJsYXBzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveUJ1bGxldCgwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRlc3Ryb3lCdWxsZXQodGltZSkge1xyXG4gICAgICAgIGlmICh0aW1lID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuZGVzdHJveSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QuZGVzdHJveSgpXHJcbiAgICAgICAgICAgIH0sIHRpbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTsiLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wZXJ0eSwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IFByb2plY3RpbGVQaHlzaWNzIH0gZnJvbSAnLi9wcm9qZWN0aWxlLXBoeXNpY3MnO1xyXG5pbXBvcnQgeyBzdGF0ZSB9IGZyb20gJy4vZ2FtZSdcclxuLyoqXHJcbiAqIHByb2plY3RpbGUtc3Bhd25lclxyXG4gKi9cclxuY29uc3QgdGVtcHF1YXQyID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcclxuZXhwb3J0IGNsYXNzIFByb2plY3RpbGVTcGF3bmVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwcm9qZWN0aWxlLXNwYXduZXInO1xyXG5cclxuICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSkge1xyXG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChQcm9qZWN0aWxlUGh5c2ljcyk7XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG5cclxuICAgICAgICAvLyBncmFudHMgdGhlIHNob290IGZ1bmN0aW9uIHRvIHRoZSBPYmplY3QzRCB0aGF0IHByb2plY3RpbGVTcGF3bmVyIGlzIGF0dGF0Y2VoZCB0b1xyXG4gICAgICAgIC8vIGFsc28gc2V0cyB0aGUgcGh5c2ljcyBvYmplY3QgdGhhdCB3aWxsIGJlIGF0dGF0Y2hlZCB0byB0aGUgcHJvamVjdGlsZXMsIGFuZCB0aGUgZGlyZWN0aW9uIHRvIGJlIGxhdW5jaGVkXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJQcm9qZWN0aWxlIHNwYXduZXIgbmV3KyFcIik7XHJcbiAgICAgICAgdGhpcy50aW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5vYmplY3Quc2hvb3QgPSBmdW5jdGlvbiAoZGlyKSB7XHJcbiAgICAgICAgICAgIGxldCBwcm9qZWN0aWxlID0gdGhpcy5zcGF3bigpO1xyXG4gICAgICAgICAgICBwcm9qZWN0aWxlLnBoeXNpY3MuZGlyLnNldChkaXIpO1xyXG4gICAgICAgICAgICBwcm9qZWN0aWxlLm9iamVjdC5zZXREaXJ0eSgpO1xyXG4gICAgICAgICAgICBwcm9qZWN0aWxlLnBoeXNpY3MuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9O1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJwcm9qZWN0aWxlLXNwYXduZXJcIik7XHJcbiAgICB9XHJcbiAgICBzcGF3bigpIHtcclxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmVuZ2luZS5zY2VuZS5hZGRPYmplY3QoKTtcclxuICAgICAgICBsZXQgbWVzaCA9IG9iai5hZGRDb21wb25lbnQoJ21lc2gnLCB0aGlzLm9iamVjdC5idWxsZXRNZXNoKTtcclxuICAgICAgICBtZXNoLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgb2JqLmFkZENvbXBvbmVudCgnY29sbGlzaW9uJywgeyBzaGFwZTogV0wuQ29sbGlkZXIuU3BoZXJlLCBleHRlbnRzOiBbMC4wNSwgMCwgMF0sIGdyb3VwOiAxIDw8IDAgfSlcclxuICAgICAgICBvYmoubmFtZSA9IFwic3RldmVuXCI7XHJcbiAgICAgICAgb2JqLnNldFBvc2l0aW9uTG9jYWwodGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZCgpKTtcclxuICAgICAgICBjb25zdCBwaHlzaWNzID0gb2JqLmFkZENvbXBvbmVudChQcm9qZWN0aWxlUGh5c2ljcywgeyBzcGVlZDogLjIgfSk7XHJcbiAgICAgICAgcGh5c2ljcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybiB7IG9iamVjdDogb2JqLCBwaHlzaWNzOiBwaHlzaWNzIH07XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IFR5cGUsIENvbXBvbmVudCwgUHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBzdGF0ZSB9IGZyb20gXCIuL2dhbWVcIjtcclxuXHJcbi8qKlxyXG4gKiBzaGlwXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2hpcCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnc2hpcCc7XHJcbiAgICAvLy8gQ3VycmVuY3kgZWFybmVkIGZyb20gZGVmZWF0aW5nIG1vbnN0ZXJzIGNhbiBiZSBpbnZlc3RlZCBpbiB0aGUgc2hpcFxyXG4gICAgLy8vIHRoZXNlIHByb3BlcnRpZXMgZGVmaW5lIGNyaXRpY2FsIGFuZCBub24gY3JpdGljYWwgc3lzdGVtcyBuZWVkZWQgdG8gXHJcbiAgICAvLy8gcmVwYWlyIHRoZSBzaGlwIGFuZCBlc2NhcGUgdGhlIHBsYW5ldC4gd2hlbiByZWFjaGluZyBjZXJ0YWluIHZhbHVlc1xyXG4gICAgLy8vIHRoZXkgYWxzbyB1cGdyYWRlIHRoZSB1c2VycyB0dXJyZXRzLyBwZXJzb25hbCBzdGF0cyBcclxuXHJcblxyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLy8gZGVmYXVsdCBoZWFsdGggdmFsdWUgXHJcbiAgICAgICAgLy8gT3RoZXIgdmFsdWVzIGNhbiBvbmx5IGJlIHVwZ3JhZGVkIG9uY2UgaHVsbCB0aHJlc2hob2xkcyBhcmUgcmVhY2hlZFxyXG4gICAgICAgIC8vLyBJRSBIdWxsIG11c3QgYmUgbGV2ZWwgMiBiZWZvcmUgc2hpZWxkcyBjYW4gYmVjb21lIGxldmVsIDIgXHJcbiAgICAgICAgaHVsbDogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogMjAwIH0sXHJcbiAgICAgICAgLy8gcmVkdWNlcyB0aGUgYW1vdW50IG9mIGRhbWFnZSBkb25lIGJ5IGVuZW1pZXMgXHJcbiAgICAgICAgc2hpZWxkczogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogMCB9LFxyXG4gICAgICAgIC8vIGluY3JlYXNlcyB0aGUgYXR0YWNrIHJhbmdlIG9mIHR1cnJldHNcclxuICAgICAgICBzY2FubmVyczogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogMCB9LFxyXG4gICAgICAgIC8vLyBhbGxvd3MgZm9yIG1vcmUgKCBvciBtYXliZSBkaWZmZXJlbnQgKSB0dXJyZXRzXHJcbiAgICAgICAgYXV0b2ZhY3RvcmllczogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogMCB9LFxyXG4gICAgICAgIC8vLyBJbmNyZWFzZXMgYXR0YWNrIHNwZWVkIFxyXG4gICAgICAgIHRhcmdldHRpbmdTeXN0ZW1zOiB7IHR5cGU6IFR5cGUuSW50LCBkZWZhdWx0OiAwIH0sXHJcbiAgICAgICAgLy8vIGluY3JlYXNlcyB0aGUgYW1vdW50IG9mIG1vbmV5IGVhcm5lZCBmcm9tIGtpbGxpbmcgZW5lbWllc1xyXG4gICAgICAgIGhhcnZlc3RpbmdEcm9pZHM6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDAgfSxcclxuICAgICAgICAvLy8gUHJvdmlkZXMgbW9yZSBtYXRlcmlhbC8gY3VycmVuY3kgXHJcbiAgICAgICAgZnVlbEdlbmVyYXRvcnM6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDAgfSxcclxuICAgIH07XHJcblxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgc3RhdGUuc2hpcCA9IHRoaXM7XHJcbiAgICAgICAgc3RhdGUubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgIHN0YXRlLnNoaXBIaXQgPSBmdW5jdGlvbihkYW1hZ2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmh1bGwgLT0gZGFtYWdlO1xyXG4gICAgICAgICAgICBzdGF0ZS5oZWFsdGggPSB0aGlzLmdldEhlYWx0aCgpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKTtcclxuICAgICAgICBzdGF0ZS5wdXJjaGFzZSA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBhbW91bnQpXHJcbiAgICB7XHJcbiAgICAgICAgc3dpdGNoIChzZWxlY3RvcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbmN5IC09IGFtb3VudDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaHVsbCArPSBhbW91bnQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgc3RhdGUuY3VycmVuY3kgLT0gYW1vdW50O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaGllbGRzICs9IGFtb3VudDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW5jeSAtPSBhbW91bnQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjYW5uZXJzICs9IGFtb3VudDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW5jeSAtPSBhbW91bnQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dG9mYWN0b3JpZXMgKz0gYW1vdW50O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbmN5IC09IGFtb3VudDtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0dGluZ1N5c3RlbXMgKz0gYW1vdW50O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbmN5IC09IGFtb3VudDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFydmVzdGluZ0Ryb2lkcyArPSBhbW91bnQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICAgICAgc3RhdGUuY3VycmVuY3kgLT0gYW1vdW50O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mdWVsR2VuZXJhdG9ycyArPSBhbW91bnQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9LmJpbmQodGhpcyk7XHJcbn1cclxuICAgIHNldEhlYWx0aCgpIFxyXG4gICAge1xyXG4gICAgICAgIGxldCBoZWFsdGggPSAwO1xyXG4gICAgICAgIHJldHVybiBoZWFsdGg7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7Q29tcG9uZW50LCBUeXBlfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQge3ZlYzN9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbi8vLy8gVGhpcyBjb2RlIGlzIGFsbW9zdCBhbiBpZGVudGljYWwgY29weSBvZiB3YXlQb2ludCBtb3ZlciwgYnV0IGJlY2F1c2Ugd2UgXHJcbi8vLy8gaGFkIHRvIGNoYW5nZSB0aGF0IGNvZGUgdG8gZGVzcGF3biBvYmplY3RzIHVwb24gcmVhY2hpbmcgdGhlIGxhc3RcclxuLy8vLyB3YXlwb2ludCwgV2UganVzdCBtYWRlIGFub3RoZXIgY29weSBvZiB0aGUgb3JpZ2luYWwgY29kZSB0aGF0IHJlc2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIFxyXG4vLy8vIG9iamVjdC4gVGhlIHN1biBjcm9zc2luZyB0aGUgc2t5IHdpbGwgYmUgdGhlIHRyaWdnZXIgZm9yIGVuZGluZy8gc3RhcnRpbmcgYSBsZXZlbC4gXHJcblxyXG4vLy8vIFRPRE8gYWRkIGEgdGltZXIgZm9yIHJlc3Bhd25pbmcsIGFuZCBhIGJvb2xlYW4gY29uZGl0aW9uIHRoYXQgdGVtcG9yYXJpbHkgc3RvcHMgc3Bhd25lcnNcclxuLy8vLyBpZiBpdCBpcyBuaWdodHRpbWUgXHJcbi8qXHJcbk9yaWdpbmFsIGF1dGhvcnMgXHUyMDE0IGNyZWRpdCBpcyBhcHByZWNpYXRlZCBidXQgbm90IHJlcXVpcmVkOlxyXG5cclxuICAgICAyMDIxIFx1MjAxNCBGbG9yaWFuIElzaWtjaSA8Zmxvcmlhbi5pc2lrY2lAdmhpdGVyYWJiaXQuY29tPlxyXG5cclxuIFRoaXMgaXMgZnJlZSBhbmQgdW5lbmN1bWJlcmVkIHNvZnR3YXJlIHJlbGVhc2VkIGludG8gdGhlIHB1YmxpYyBkb21haW4uXHJcbiBBbnlvbmUgaXMgZnJlZSB0byBjb3B5LCBtb2RpZnksIHB1Ymxpc2gsIHVzZSwgY29tcGlsZSwgc2VsbCwgb3IgZGlzdHJpYnV0ZVxyXG4gdGhpcyBzb2Z0d2FyZSwgZWl0aGVyIGluIHNvdXJjZSBjb2RlIGZvcm0gb3IgYXMgYSBjb21waWxlZCBiaW5hcnksIGZvciBhbnlcclxuIHB1cnBvc2UsIGNvbW1lcmNpYWwgb3Igbm9uLWNvbW1lcmNpYWwsIGFuZCBieSBhbnkgbWVhbnMuXHJcblxyXG4gSW4ganVyaXNkaWN0aW9ucyB0aGF0IHJlY29nbml6ZSBjb3B5cmlnaHQgbGF3cywgdGhlIGF1dGhvciBvciBhdXRob3JzIG9mXHJcbiB0aGlzIHNvZnR3YXJlIGRlZGljYXRlIGFueSBhbmQgYWxsIGNvcHlyaWdodCBpbnRlcmVzdCBpbiB0aGUgc29mdHdhcmUgdG9cclxuIHRoZSBwdWJsaWMgZG9tYWluLiBXZSBtYWtlIHRoaXMgZGVkaWNhdGlvbiBmb3IgdGhlIGJlbmVmaXQgb2YgdGhlIHB1YmxpY1xyXG4gYXQgbGFyZ2UgYW5kIHRvIHRoZSBkZXRyaW1lbnQgb2Ygb3VyIGhlaXJzIGFuZCBzdWNjZXNzb3JzLiBXZSBpbnRlbmQgdGhpc1xyXG4gZGVkaWNhdGlvbiB0byBiZSBhbiBvdmVydCBhY3Qgb2YgcmVsaW5xdWlzaG1lbnQgaW4gcGVycGV0dWl0eSBvZiBhbGxcclxuIHByZXNlbnQgYW5kIGZ1dHVyZSByaWdodHMgdG8gdGhpcyBzb2Z0d2FyZSB1bmRlciBjb3B5cmlnaHQgbGF3LlxyXG5cclxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTExcclxuIFRIRSBBVVRIT1JTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUlxyXG4gSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU5cclxuIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGNsYXNzIFN1bk1vdmVtZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdzdW4tbW92ZW1lbnQnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIFRoaXMgb2JqZWN0IGlzIHRoZSBjb250YWluZXIgb2YgdGhlIHdheXBvaW50cy4gSXQgc2hvdWxkIGNvbnRhaW4gY2hpbGRyZW5cclxuICAgIHdpdGggYW4gYWxwaGViZXRpY2FsbHkgYXNjZW5kaW5nIG5hbWluZyAoZS5nLiBBLCBCLCBDLCBELCBFLCBGKSAqL1xyXG4gICAgICAgIHBhdGhPYmplY3Q6IHt0eXBlOiBUeXBlLk9iamVjdH0sXHJcbiAgICAgICAgLyoqIE1vdmVtZW50IHNwZWVkIG9mIHRoZSBvYmplY3QgKi9cclxuICAgICAgICBzcGVlZDoge3R5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDEuMH0sXHJcbiAgICAgICAgLyoqIERpc3RhbmNlIGluIG5vcm1hbCBzcGFjZSBbMCwgMC41KSBhZnRlciB3aGljaCB0aGUgb2JqZWN0cyBzdGFydHMgbW92aW5nIG9uIGEgY3VydmUgKi9cclxuICAgICAgICBjdXJ2ZURpc3RhbmNlOiB7dHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC4xfSxcclxuICAgIH07XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gdGhpcy5wYXRoT2JqZWN0LmNoaWxkcmVuLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbnMgPSBuZXcgQXJyYXkodGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uc1tpXSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLnBvc2l0aW9uc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLmxvb2tQb3NpdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5mcm9tUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uc1swXTtcclxuICAgICAgICB0aGlzLnRvUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uc1sxXTtcclxuICAgICAgICB2ZWMzLnN1Yih0aGlzLmN1cnJlbnRQb3NpdGlvbiwgdGhpcy50b1Bvc2l0aW9uLCB0aGlzLmZyb21Qb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5mcm9tVG9MZW5ndGggPSB2ZWMzLmxlbmd0aCh0aGlzLmN1cnJlbnRQb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50TGVuZ3RoID0gMDtcclxuICAgICAgICB0aGlzLnVwID0gWzAsIDEsIDBdO1xyXG4gICAgICAgIHRoaXMucXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XHJcbiAgICAgICAgbG9va0F0KHRoaXMucXVhdCwgdGhpcy5mcm9tUG9zaXRpb24sIHRoaXMudG9Qb3NpdGlvbiwgdGhpcy51cCk7XHJcbiAgICAgICAgdGhpcy5vYmplY3QucmVzZXRUcmFuc2xhdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5vYmplY3Qucm90YXRlKHRoaXMucXVhdCk7XHJcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLmZyb21Qb3NpdGlvbik7XHJcblxyXG4gICAgICAgIHRoaXMucDAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMucDEgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMucDIgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEN1cnZlSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuY3VydmVEaXN0YW5jZSA9IE1hdGgubWF4KDAuMCwgTWF0aC5taW4oMC40OTk5OSwgdGhpcy5jdXJ2ZURpc3RhbmNlKSk7XHJcbiAgICAgICAgdGhpcy5iZXpGYWN0b3JNdWx0aXBsaWNhdG9yID0gMSAvICgyICogdGhpcy5jdXJ2ZURpc3RhbmNlKTtcclxuICAgICAgICB0aGlzLl9zZXRDdXJ2ZVBvaW50cygpO1xyXG5cclxuICAgICAgICB0aGlzLm9uRmluYWxXYXlwb2ludFJlYWNoZWRDYWxsYmFja3MgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYSBmdW5jdGlvbiB0byBhIGNhbGxiYWNrIGFycmF5IHdoaWNoLCB0aGVuIGNhbGxzIHRoZSBmdW5jdGlvbiBhZnRlciB0aGUgZmluYWwgd2F5cG9pbnQgaGFzIGJlZW4gcmVhY2hlZC5cclxuICAgICAqIEBwYXJhbSAge2Z1bmN0aW9ufSBmIEZ1bmN0aW9uIHRvIGJlIGFkZGVkLlxyXG4gICAgICovXHJcbiAgICBhZGRPbkZpbmFsV2F5cG9pbnRSZWFjaGVkQ2FsbGJhY2soZikge1xyXG4gICAgICAgIHRoaXMub25GaW5hbFdheXBvaW50UmVhY2hlZENhbGxiYWNrcy5wdXNoKGYpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhIGZ1bmN0aW9uIGZyb20gdGhlIGNhbGxiYWNrIGFycmF5IGZvciByZWFjaGluZyB0aGUgZmluYWwgd2F5cG9pbnQuLlxyXG4gICAgICogQHBhcmFtICB7ZnVuY3Rpb259IGYgRnVuY3Rpb24gdG8gYmUgcmVtb3ZlZC5cclxuICAgICAqL1xyXG4gICAgcmVtb3ZlT25GaW5hbFdheXBvaW50UmVhY2hlZENhbGxiYWNrKGYpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IGFycmF5LmluZGV4T2YoZik7XHJcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkZpbmFsV2F5cG9pbnRSZWFjaGVkQ2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgcG9pbnRzIG5lZWRlZCBmb3IgdGhlIG5leHQgY3VydmVcclxuICAgICAqL1xyXG4gICAgX3NldEN1cnZlUG9pbnRzKCkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogR2l2ZW4gcG9pbnRzIEEsIEIgYW5kIEMgZm9yIGEgY3VydmUsIGZvbGxvd2luZyBwb2ludHMgcDAsIHAxIGFuZCBwMiBhcmUgc2V0IGZvciBhIGJlemllciBjdXJ2ZSBhcm91bmQgdGhlIGNvcm5lciBvZiBCLlxyXG4gICAgICAgICAqIHdoaWNoIGlzIHNldCBmb3Igc21vb3RoIGNvcm5lciBtb3ZlbWVudCBhbmQgZGVwZW5kcyBvbiB0aGUgY3VydmVEaXN0YW5jZShjRCkgZnJvbSBCLlxyXG4gICAgICAgICAqIHAwID0gQiArIGNEICogKEEtQilcclxuICAgICAgICAgKiBwMSA9IEJcclxuICAgICAgICAgKiBwMiA9IEIgKyBjRCAqIChDLUIpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmVjMy5zdWIoXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uLFxyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uc1t0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4XSxcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbnNbdGhpcy5jdXJyZW50Q3VydmVJbmRleCArIDFdXHJcbiAgICAgICAgKTtcclxuICAgICAgICB2ZWMzLnNjYWxlKHRoaXMuY3VycmVudFBvc2l0aW9uLCB0aGlzLmN1cnJlbnRQb3NpdGlvbiwgdGhpcy5jdXJ2ZURpc3RhbmNlKTtcclxuICAgICAgICB2ZWMzLmFkZCh0aGlzLnAwLCB0aGlzLnBvc2l0aW9uc1t0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4ICsgMV0sIHRoaXMuY3VycmVudFBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5wMSA9IHRoaXMucG9zaXRpb25zW3RoaXMuY3VycmVudEN1cnZlSW5kZXggKyAxXTtcclxuXHJcbiAgICAgICAgdmVjMy5zdWIoXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uLFxyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uc1t0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4ICsgMl0sXHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25zW3RoaXMuY3VycmVudEN1cnZlSW5kZXggKyAxXVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdmVjMy5zY2FsZSh0aGlzLmN1cnJlbnRQb3NpdGlvbiwgdGhpcy5jdXJyZW50UG9zaXRpb24sIHRoaXMuY3VydmVEaXN0YW5jZSk7XHJcbiAgICAgICAgdmVjMy5hZGQodGhpcy5wMiwgdGhpcy5wb3NpdGlvbnNbdGhpcy5jdXJyZW50Q3VydmVJbmRleCArIDFdLCB0aGlzLmN1cnJlbnRQb3NpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBvYmplY3QncyBwYXRoIG9iamVjdCBhbmQgY29uZmlndXJlcyBpdC5cclxuICAgICAqIEBwYXJhbSAge1dMLk9iamVjdH0gcGF0aE9iamVjdCBbT2JqZWN0IGNvbnRhaW5pbmcgYWxwaGViZXRpY2FsbHkgbmFtZWQgY2hpbGRyZW5dXHJcbiAgICAgKi9cclxuICAgIHNldFBhdGhPYmplY3QocGF0aE9iamVjdCkge1xyXG4gICAgICAgIHRoaXMucGF0aE9iamVjdCA9IHBhdGhPYmplY3Q7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IHRoaXMucGF0aE9iamVjdC5jaGlsZHJlbi5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25zID0gbmV3IEFycmF5KHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbnNbaV0gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5wb3NpdGlvbnNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbkluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLmN1cnJlbnRMZW5ndGggPSAwO1xyXG4gICAgICAgIHRoaXMuX3NldEN1cnZlUG9pbnRzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZnJvbVBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbnNbMF07XHJcbiAgICAgICAgdGhpcy50b1Bvc2l0aW9uID0gdGhpcy5wb3NpdGlvbnNbMV07XHJcbiAgICAgICAgdmVjMy5zdWIodGhpcy5jdXJyZW50UG9zaXRpb24sIHRoaXMudG9Qb3NpdGlvbiwgdGhpcy5mcm9tUG9zaXRpb24pO1xyXG4gICAgICAgIHRoaXMuZnJvbVRvTGVuZ3RoID0gdmVjMy5sZW5ndGgodGhpcy5jdXJyZW50UG9zaXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudExlbmd0aCArPSBkdCAqIHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgLy8gZmFjdG9yIGluZGljYXRlcyB0aGUgcGVyY2VudGFnZSBvZiBob3cgbXVjaCBvZiBhIGdpdmVuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cyBoYXMgYWxyZWFkeSBiZWVuIHRyYXZlcnNlZFxyXG4gICAgICAgIGxldCBmYWN0b3IgPSB0aGlzLmN1cnJlbnRMZW5ndGggLyB0aGlzLmZyb21Ub0xlbmd0aDtcclxuICAgICAgICAvLyBDaGVjayBpZiBpdCBpcyB0aGUgY3VydmUgcG9pbnQsIGlmIGl0IGlzLCBkb24ndCBpbmNyZW1lbnQgdGhlIGluZGV4IG9mIGN1cnZlc1xyXG4gICAgICAgIGlmIChmYWN0b3IgPiAwLjUgJiYgdGhpcy5jdXJyZW50UG9zaXRpb25JbmRleCAhPSB0aGlzLnBvc2l0aW9ucy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5jcmVtZW50Q3VydmVJbmRleCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENoZWNrIGZvciB3ZXRoZXIgdGhlIGN1cnZlIHNob3VsZCBzdGFydCAobGltaXQgc2V0IGJ5IHRoaXMuY3VydmVEaXN0YW5jZSkgb3IgYSBzdHJhaWdodCBsZXJwIHNob3VsZCBvY2N1clxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgTWF0aC5hYnMoZmFjdG9yIC0gTWF0aC5yb3VuZChmYWN0b3IpKSA8IHRoaXMuY3VydmVEaXN0YW5jZSAmJlxyXG4gICAgICAgICAgICAhKHRoaXMuY3VycmVudFBvc2l0aW9uSW5kZXggPT0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAyICYmIGZhY3RvciA+IDAuNSkgJiZcclxuICAgICAgICAgICAgISh0aGlzLmN1cnJlbnRQb3NpdGlvbkluZGV4ID09IDAgJiYgZmFjdG9yIDwgMC41KVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICAvLyBEZXRlcm1pbmVzIHRoZSBwb3NpdGlvbiBvbiB0aGUgYmV6aWVyIGN1cnZlIGFyb3VuZCB0aGUgY29ybmVyIGZyb20gZmFjdG9yLCB3aGljaCBtb3ZlcyBmcm9tIDAuOSB0byAwLjEgYWZ0ZXIgcGFzc2luZyB0aGUgbWlkZGxlIHBvaW50XHJcbiAgICAgICAgICAgIGxldCBiZXpGYWN0b3IgPVxyXG4gICAgICAgICAgICAgICAgKGZhY3RvciAtIE1hdGgucm91bmQoZmFjdG9yKSArIHRoaXMuY3VydmVEaXN0YW5jZSkgKlxyXG4gICAgICAgICAgICAgICAgdGhpcy5iZXpGYWN0b3JNdWx0aXBsaWNhdG9yO1xyXG4gICAgICAgICAgICB2ZWMzLmJlemllcihcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wMCxcclxuICAgICAgICAgICAgICAgIHRoaXMucDEsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnAxLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wMixcclxuICAgICAgICAgICAgICAgIGJlekZhY3RvclxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAvLyBwb3NpdGlvbiBhaGVhZCBvZiB0aGUgb2JqZWN0IG9uIHRoZSBwYXRoLCBkZXRlcm1pbmVzIHRoZSBsb29raW5nIGRpcmVjdGlvblxyXG4gICAgICAgICAgICB2ZWMzLmJlemllcihcclxuICAgICAgICAgICAgICAgIHRoaXMubG9va1Bvc2l0aW9uLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wMCxcclxuICAgICAgICAgICAgICAgIHRoaXMucDEsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnAxLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wMixcclxuICAgICAgICAgICAgICAgIGJlekZhY3RvciArIDAuMDFcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluY3JlbWVudEN1cnZlSW5kZXggJiZcclxuICAgICAgICAgICAgICAgIGZhY3RvciA8IDAuNSAmJlxyXG4gICAgICAgICAgICAgICAgZmFjdG9yID4gdGhpcy5jdXJ2ZURpc3RhbmNlICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4ICE9IHRoaXMucG9zaXRpb25zLmxlbmd0aCAtIDNcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluY3JlbWVudEN1cnZlSW5kZXggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NldEN1cnZlUG9pbnRzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmVjMy5sZXJwKHRoaXMuY3VycmVudFBvc2l0aW9uLCB0aGlzLmZyb21Qb3NpdGlvbiwgdGhpcy50b1Bvc2l0aW9uLCBmYWN0b3IpO1xyXG4gICAgICAgICAgICAvLyBwb3NpdGlvbiBhaGVhZCBvZiB0aGUgb2JqZWN0IG9uIHRoZSBwYXRoLCBkZXRlcm1pbmVzIHRoZSBsb29raW5nIGRpcmVjdGlvblxyXG4gICAgICAgICAgICB2ZWMzLmxlcnAodGhpcy5sb29rUG9zaXRpb24sIHRoaXMuZnJvbVBvc2l0aW9uLCB0aGlzLnRvUG9zaXRpb24sIGZhY3RvciArIDAuMDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW92ZW1lbnQgYW5kIHJvdGF0aW9uIHRvIGNhbGN1bGF0ZWQgcG9zaXRpb24vZGlyZWN0aW9uXHJcbiAgICAgICAgdGhpcy5vYmplY3QucmVzZXRUcmFuc2xhdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgbG9va0F0KHRoaXMucXVhdCwgdGhpcy5jdXJyZW50UG9zaXRpb24sIHRoaXMubG9va1Bvc2l0aW9uLCB0aGlzLnVwKTtcclxuICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGUodGhpcy5xdWF0KTtcclxuICAgICAgICB0aGlzLm9iamVjdC5zZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuY3VycmVudFBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2tzIHdldGhlciB0aGUgd2F5cG9pbnQgaGFzIGJlZW4gcGFzc2VkXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudExlbmd0aCA+IHRoaXMuZnJvbVRvTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb25JbmRleCsrO1xyXG4gICAgICAgICAgICAvLyBDaGVja3MgaWYgdGhlIGZpbmFsIHdheXBvaW50IGhhcyBiZWVuIHJlYWNoZWRcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBvc2l0aW9uSW5kZXggPT0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbkluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEN1cnZlSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q3VydmVQb2ludHMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5jcmVtZW50Q3VydmVJbmRleCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkZpbmFsV2F5cG9pbnRSZWFjaGVkQ2FsbGJhY2tzLmZvckVhY2goKGYpID0+IGYoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5mcm9tUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uc1t0aGlzLmN1cnJlbnRQb3NpdGlvbkluZGV4XTtcclxuICAgICAgICAgICAgdGhpcy50b1Bvc2l0aW9uID0gdGhpcy5wb3NpdGlvbnNbdGhpcy5jdXJyZW50UG9zaXRpb25JbmRleCArIDFdO1xyXG4gICAgICAgICAgICB2ZWMzLnN1Yih0aGlzLmN1cnJlbnRQb3NpdGlvbiwgdGhpcy50b1Bvc2l0aW9uLCB0aGlzLmZyb21Qb3NpdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuZnJvbVRvTGVuZ3RoID0gdmVjMy5sZW5ndGgodGhpcy5jdXJyZW50UG9zaXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMZW5ndGggPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLy8gbG9va0F0IGZ1bmN0aW9uIHdpbGwgYmUgcmVwbGFjZWQgYnkgYW4gaW50ZXJuYWwgZnVuY3Rpb24gaW4gdGhlIGZ1dHVyZS5cclxuY29uc3QgbG9va0F0ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBmb3J3YXJkVGVtcCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBsZXQgdGVtcCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBsZXQgZG90VGVtcCA9IDA7XHJcblxyXG4gICAgbGV0IHZlY3RvciA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBsZXQgdmVjdG9yMiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBsZXQgdmVjdG9yMyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChxdWF0ZXJuaW9uLCBzb3VyY2VQb2ludCwgZGVzdFBvaW50LCB1cCkge1xyXG4gICAgICAgIGlmICghdXApIHtcclxuICAgICAgICAgICAgdXAgPSBbMCwgMSwgMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2ZWMzLnN1Yihmb3J3YXJkVGVtcCwgZGVzdFBvaW50LCBzb3VyY2VQb2ludCk7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoZm9yd2FyZFRlbXAsIGZvcndhcmRUZW1wKTtcclxuXHJcbiAgICAgICAgZG90VGVtcCA9IHZlYzMuZG90KHVwLCBmb3J3YXJkVGVtcCk7XHJcblxyXG4gICAgICAgIHZlYzMuc2NhbGUodGVtcCwgZm9yd2FyZFRlbXAsIGRvdFRlbXApO1xyXG5cclxuICAgICAgICB2ZWMzLnN1Yih1cCwgdXAsIHRlbXApO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKHVwLCB1cCk7XHJcblxyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKHZlY3RvciwgZm9yd2FyZFRlbXApO1xyXG4gICAgICAgIHZlYzMuY3Jvc3ModmVjdG9yMiwgdXAsIHZlY3Rvcik7XHJcbiAgICAgICAgdmVjMy5jcm9zcyh2ZWN0b3IzLCB2ZWN0b3IsIHZlY3RvcjIpO1xyXG4gICAgICAgIGxldCBtMDAgPSB2ZWN0b3IyWzBdO1xyXG4gICAgICAgIGxldCBtMDEgPSB2ZWN0b3IyWzFdO1xyXG4gICAgICAgIGxldCBtMDIgPSB2ZWN0b3IyWzJdO1xyXG4gICAgICAgIGxldCBtMTAgPSB2ZWN0b3IzWzBdO1xyXG4gICAgICAgIGxldCBtMTEgPSB2ZWN0b3IzWzFdO1xyXG4gICAgICAgIGxldCBtMTIgPSB2ZWN0b3IzWzJdO1xyXG4gICAgICAgIGxldCBtMjAgPSB2ZWN0b3JbMF07XHJcbiAgICAgICAgbGV0IG0yMSA9IHZlY3RvclsxXTtcclxuICAgICAgICBsZXQgbTIyID0gdmVjdG9yWzJdO1xyXG5cclxuICAgICAgICBsZXQgbnVtOCA9IG0wMCArIG0xMSArIG0yMjtcclxuICAgICAgICBpZiAobnVtOCA+IDAuMCkge1xyXG4gICAgICAgICAgICBsZXQgbnVtID0gTWF0aC5zcXJ0KG51bTggKyAxLjApO1xyXG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzNdID0gbnVtICogMC41O1xyXG4gICAgICAgICAgICBudW0gPSAwLjUgLyBudW07XHJcbiAgICAgICAgICAgIHF1YXRlcm5pb25bMF0gPSAobTEyIC0gbTIxKSAqIG51bTtcclxuICAgICAgICAgICAgcXVhdGVybmlvblsxXSA9IChtMjAgLSBtMDIpICogbnVtO1xyXG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzJdID0gKG0wMSAtIG0xMCkgKiBudW07XHJcbiAgICAgICAgICAgIHJldHVybiBxdWF0ZXJuaW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobTAwID49IG0xMSAmJiBtMDAgPj0gbTIyKSB7XHJcbiAgICAgICAgICAgIGxldCBudW03ID0gTWF0aC5zcXJ0KDEuMCArIG0wMCAtIG0xMSAtIG0yMik7XHJcbiAgICAgICAgICAgIGxldCBudW00ID0gMC41IC8gbnVtNztcclxuICAgICAgICAgICAgcXVhdGVybmlvblswXSA9IDAuNSAqIG51bTc7XHJcbiAgICAgICAgICAgIHF1YXRlcm5pb25bMV0gPSAobTAxICsgbTEwKSAqIG51bTQ7XHJcbiAgICAgICAgICAgIHF1YXRlcm5pb25bMl0gPSAobTAyICsgbTIwKSAqIG51bTQ7XHJcbiAgICAgICAgICAgIHF1YXRlcm5pb25bM10gPSAobTEyIC0gbTIxKSAqIG51bTQ7XHJcbiAgICAgICAgICAgIHJldHVybiBxdWF0ZXJuaW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobTExID4gbTIyKSB7XHJcbiAgICAgICAgICAgIGxldCBudW02ID0gTWF0aC5zcXJ0KDEuMCArIG0xMSAtIG0wMCAtIG0yMik7XHJcbiAgICAgICAgICAgIGxldCBudW0zID0gMC41IC8gbnVtNjtcclxuICAgICAgICAgICAgcXVhdGVybmlvblswXSA9IChtMTAgKyBtMDEpICogbnVtMztcclxuICAgICAgICAgICAgcXVhdGVybmlvblsxXSA9IDAuNSAqIG51bTY7XHJcbiAgICAgICAgICAgIHF1YXRlcm5pb25bMl0gPSAobTIxICsgbTEyKSAqIG51bTM7XHJcbiAgICAgICAgICAgIHF1YXRlcm5pb25bM10gPSAobTIwIC0gbTAyKSAqIG51bTM7XHJcbiAgICAgICAgICAgIHJldHVybiBxdWF0ZXJuaW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbnVtNSA9IE1hdGguc3FydCgxLjAgKyBtMjIgLSBtMDAgLSBtMTEpO1xyXG4gICAgICAgIGxldCBudW0yID0gMC41IC8gbnVtNTtcclxuICAgICAgICBxdWF0ZXJuaW9uWzBdID0gKG0yMCArIG0wMikgKiBudW0yO1xyXG4gICAgICAgIHF1YXRlcm5pb25bMV0gPSAobTIxICsgbTEyKSAqIG51bTI7XHJcbiAgICAgICAgcXVhdGVybmlvblsyXSA9IDAuNSAqIG51bTU7XHJcbiAgICAgICAgcXVhdGVybmlvblszXSA9IChtMDEgLSBtMTApICogbnVtMjtcclxuXHJcbiAgICAgICAgcmV0dXJuIHF1YXRlcm5pb247XHJcbiAgICB9O1xyXG59KSgpO1xyXG4iLCAiaW1wb3J0IHsgQ29sbGlzaW9uRXZlbnRUeXBlLCBDb21wb25lbnQsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHtzdGF0ZX0gZnJvbSBcIi4vZ2FtZVwiO1xyXG5cclxuLyoqXHJcbiAqIFR1cnJldGFpbWVyXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgdHVycmV0QWltZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3R1cnJldC1haW1lcic7XHJcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgIH07XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3N0YXJ0KCkgd2l0aCBwYXJhbScsIHRoaXMucGFyYW0pO1xyXG4gICAgfVxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnRpbWVyID0gMDtcclxuICAgICAgICB0aGlzLmhpdHMgPSAwO1xyXG4gICAgfVxyXG4gICAgLyogVGhlIG9sZCBzZWVrIGNvZGUgdGhhdCB1c2VkIFJheUNzdGluZyBmb3IgYWltaW5nLCBub3QgaW4gdXNlIGJ1dCBrZWVwaW5nIGl0IGFyb3VuZCBqdXN0IGluIGNhc2VcclxuICAgIHNlZWsoKSB7XHJcbiAgICAgICAgbGV0IGcgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldEZvcndhcmRXb3JsZChnKTtcclxuICAgICAgICBsZXQgcmF5ID0gV0wuc2NlbmUucmF5Q2FzdCh0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKCksIGcsIDEgPDwgMSwgMSA8PCAyKTtcclxuICAgICAgICBsZXQgaGl0cyA9IHJheS5oaXRDb3VudDtcclxuICAgICAgICB0aGlzLmxvYyA9IHJheS5sb2NhdGlvbnM7XHJcbiAgICAgICAgdGhpcy5kaXMgPSByYXkuZGlzdGFuY2VzO1xyXG4gICAgICAgIGxldCBvYnMgPSByYXkub2JqZWN0cztcclxuICAgICAgICBpZiAoaGl0cyA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QudGFyZ2V0ID0gb2JzWzBdO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5sb29rQXQodGhpcy5vYmplY3QudGFyZ2V0LmdldFBvc2l0aW9uV29ybGQoKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdChbMCwgMSwgMF0sIDUpO1xyXG4gICAgICAgIH1cclxuICAgIH0qL1xyXG4gICAgXHJcbiAgICBzZWVrKCkge1xyXG4gICAgICAgIGNvbnN0IGNvbGxpc2lvbiA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnY29sbGlzaW9uJyk7XHJcbiAgICAgICAgY29uc3Qgb3ZlcmxhcHMgPSBjb2xsaXNpb24ucXVlcnlPdmVybGFwcygpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY29sbCBvZiBvdmVybGFwcykge1xyXG4gICAgICAgICAgICBpZiAoY29sbC5vYmplY3QubmFtZSA9PT0gXCJkYXZlXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9iamVjdC50YXJnZXQgPT09IG51bGwgfHwgdGhpcy5vYmplY3QudGFyZ2V0LndhbGtlZCA8IGNvbGwub2JqZWN0LndhbGtlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnRhcmdldCA9IGNvbGwub2JqZWN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7IHRoaXMub2JqZWN0LnRhcmdldCA9IG51bGw7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICB0aGlzLnRpbWVyICs9IGR0O1xyXG4gICAgICAgIGxldCBnID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICAvLyB0aGlzIGZ1bmN0aW9uIGNoZWNrcyB0byBzZWUgaWYgdGhlcmUgaXMgYW4gZW5lbXkgdGFyZ2V0IGluIGRlZmF1bHQgcmFuZ2VcclxuICAgICAgICBpZiAodGhpcy5vYmplY3QudGFyZ2V0ID09IG51bGwgfHwgdGhpcy5vYmplY3QudGFyZ2V0Lm9iamVjdElkIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlZWsoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSB0YXJnZXQgaW4gcmFuZ2UsIG1ha2VzIHRoZSB0dXJyZXQgbG9vayBhdCBhbmQgdGhlbiBmaXJlIGF0IHNhaWQgdGFyZ2V0LFxyXG4gICAgICAgIC8vIFRPRE8gZmluZCBzb21lIHdheSB0byBsb2NrIHRoZSBub24gWSBheGlzIHJvdGF0aW9uXHJcbiAgICAgICAgaWYgKHRoaXMub2JqZWN0LnRhcmdldCAmJiB0aGlzLm9iamVjdC50YXJnZXQuaXNEZXN0cm95ZWQgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgbGV0IGcgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgICAgICAvLyB0aGlzIHBhcnQgb2YgdGhlIGNvZGUgY2hlY2tzIHRvIG1ha2Ugc3VyZSB0aGUgdGFyZ2V0IGlzIHN0aWxsIGluIHJhbmdlLCBhbmQgdGhlbiBzaG9vdHNcclxuICAgICAgICAgICAgLy8gYXQgdGhlIHRhcmdldCBhbmQgZGVsZXRlcyBpdCBpZiB0aGUgdGFyZ2V0IGlzIGF0IGxlc3MgdGhhbiBvciBlcXVhbCB0byAwIGhwXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbiA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnY29sbGlzaW9uJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG92ZXJsYXBzID0gY29sbGlzaW9uLnF1ZXJ5T3ZlcmxhcHMoKTtcclxuICAgICAgICAgICAgbGV0IGZpcmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29sbCBvZiBvdmVybGFwcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpcmVkID09IGZhbHNlICYmIGNvbGwub2JqZWN0ID09PSB0aGlzLm9iamVjdC50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5sb29rQXQodGhpcy5vYmplY3QudGFyZ2V0LmdldFBvc2l0aW9uV29ybGQoKSwgWzAsIDEsIDBdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50aW1lciA+IHRoaXMub2JqZWN0LmNkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnNob290KHRoaXMub2JqZWN0LmdldEZvcndhcmRXb3JsZChnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnRhcmdldC5oZWFsdGggLT0gdGhpcy5vYmplY3QuZGFtYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVyID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub2JqZWN0LnRhcmdldC5oZWFsdGggPD0gMCkgeyBzdGF0ZS5jdXJyZW5jeSArPSB0aGlzLm9iamVjdC50YXJnZXQudmFsdWU7IHRoaXMub2JqZWN0LnRhcmdldC5kZXN0cm95KCk7ICBzdGF0ZS5uZWVkc1VwZGF0ZSA9IHRydWU7IHN0YXRlLmVuZW1pZXNEZXN0cm95ZWQrKzt9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWZpcmVkKSB7IHRoaXMub2JqZWN0LnRhcmdldCA9IG51bGwgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgUHJvcGVydHksIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyB0dXJyZXRBaW1lciB9IGZyb20gJy4vdHVycmV0LWFpbWVyJztcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICcuL2dhbWUnO1xyXG5pbXBvcnQgeyBQcm9qZWN0aWxlU3Bhd25lciB9IGZyb20gJy4vcHJvamVjdGlsZS1zcGF3bmVyJztcclxuXHJcbi8qKlxyXG4gKiB0dXJyZXQtc3Bhd25lclxyXG4gKiB0aGlzIGNvZGUgd2lsbCBhbGxvdyB0aGUgcGxheWVyIHRvIHNwYXduIHR1cnJldHMgaW4gdGhlIGxvY2F0aW9uXHJcbiAqIHRoZSBjdXJzb3IgaXMgcG9pbnRpbmcgICBcclxuICovXHJcbmNvbnN0IHRlbXBRdWF0MiA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XHJcbmV4cG9ydCBjbGFzcyBUdXJyZXRTcGF3bmVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0dXJyZXQtc3Bhd25lcic7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBkZWZhdWx0TWVzaDogeyB0eXBlOiBUeXBlLk1lc2ggfSxcclxuICAgICAgICBkZWZhdWx0TWF0ZXJpYWw6IHsgdHlwZTogVHlwZS5NYXRlcmlhbCB9LFxyXG4gICAgICAgIGJ1bGxldE1lc2g6IHsgdHlwZTogVHlwZS5NZXNoIH0sXHJcbiAgICAgICAgYnVsbGV0TWF0ZXJpYWw6IHsgdHlwZTogVHlwZS5NYXRlcmlhbCB9LFxyXG4gICAgICAgIHNob290aW5nQ0Q6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDEgfSxcclxuICAgICAgICBkYW1hZ2U6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDIwIH0sXHJcbiAgICAgICAgdHVycmV0Q29zdDogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogMjUgfSxcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vLyBkcm9uZSB0dXJyZXQ/XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICAvKiB0aGUgdGltZXIgaXMgdGVtcG9yYXJ5IGFuZCB1c2VkIHRvIHNwYXduIGEgdHVycmV0IGV2ZXJ5IDEwIHNlY29uZHMgZm9yIHRlc3RpbmcgcHVycG9zZXMqL1xyXG4gICAgICAgIHRoaXMudGltZXIgPSAwO1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdkYXZlJztcclxuICAgICAgICBzdGF0ZS50dXJyZXRTcGF3bmVyID0gdGhpcztcclxuICAgICAgICBzdGF0ZS5idWlsZFQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW5jeSA+PSB0aGlzLnR1cnJldENvc3QgJiYgc3RhdGUucGF1c2VCdWlsZGluZyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0dXJyZXQgPSB0aGlzLm1ha2VUdXJyZXQoKTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLnNwYXduZWRUdXJyZXRzICs9IDE7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS50dXJyZXRzLnB1c2godHVycmV0KTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbmN5IC09IHRoaXMudHVycmV0Q29zdDtcclxuICAgICAgICAgICAgICAgIC8vIHN0YXRlLm5lZWRzVXBkYXRlIGlzIGZvciB0aGUgSHVkIHVwZGF0ZSBmdW5jdGlvbiBzcGVjaWZpY2FsbHlcclxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBodWQganVzdCBjYWxsZXMgdXBkYXRlIGFzIGl0IHdhbnRzIGl0IGV2ZW50dWFsbHkgYnJlYWtzXHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQodHVycmV0QWltZXIpO1xyXG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChQcm9qZWN0aWxlU3Bhd25lcik7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnc3RhcnQgdHVycmV0IHNwYXduZXInKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICAvLyogZXZlbnR1YWx5IFRoaXMgY29kZSBzaG91bGQgdGFrZSBpbiBhIGxvY2F0aW9uIGZyb20gdGhlIHVzZXIgYW5kIGJ1aWxkIGEgdHVycmV0IHRoZXJlIG1heWJlIHVzaW5nIGEgYnVpbGQgcXVldWU/IFxyXG4gICAgfVxyXG5cclxuICAgIG1ha2VUdXJyZXQoKSB7XHJcbiAgICAgICAgLy8gYWRkcyB0aGUgb2JqZWN0IHRvIHRoZSBzY2VuZSwgYW5kIGFsbCBvZiB0aGUgY29tcG9uZW50cyBhbmQgbWVzaGVzXHJcbiAgICAgICAgLy8gYW5kIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB0dXJyZXQuIFxyXG4gICAgICAgIC8vICEhISEgSU1QT1JUQU5ULiBUaGUgdHVycmV0IG9iamVjdCBpdHNlbGYgaXMgZ3JhbnRlZCBvd25lcnNpcCBvZiBhbGwgb2YgdGhlIGZ1bmN0aW9ucyBcclxuICAgICAgICAvLyByZWxhdGVkIHRvIHR1cnJldCBvcGVyYXRpb24uIEFueSBhZGRpdGlvbmFsIGZ1bmN0aW9uYWxpdHkgc2hvdWxkIGZvbGxvdyB0aGlzIHN0YW5kYXJkXHJcbiAgICAgICAgLy8gVGhlIHR1cnJldCBvYmplY3QzRCBzaG91bGQgYmUgZ2l2ZW4gdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzIGFuZCBmdW5jdGlvbnMgdG8gcGFzcyBvbnRvIGNoaWxkcmVuXHJcbiAgICAgICAgLy8gVE9ETyBtYWtlIHRoZSB0b3dlcnMgc3Bhd24gYXQgZ3JvdW5kIGxldmVsIGluc3RlYWQgb2YgZmxvYXRpbmdcclxuXHJcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KCk7XHJcbiAgICAgICAgLy8gTlVMTCBvYmplY3RzIGZvciBmdW5jdGlvbi9wcm9wZXJ0eSBhbGxvY2F0aW9uIGZyb20gY2hpbGRyZW5cclxuICAgICAgICBvYmoudGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICBvYmouc2hvb3QgPSBudWxsO1xyXG4gICAgICAgIG9iai5jZCA9IHRoaXMuc2hvb3RpbmdDRDtcclxuICAgICAgICBvYmoubmFtZSA9IFwic2FtXCI7XHJcbiAgICAgICAgb2JqLmRhbWFnZSA9IHRoaXMuZGFtYWdlO1xyXG4gICAgICAgIGNvbnN0IG1lc2ggPSBvYmouYWRkQ29tcG9uZW50KCdtZXNoJyk7XHJcbiAgICAgICAgbWVzaC5tZXNoID0gdGhpcy5kZWZhdWx0TWVzaDtcclxuICAgICAgICBtZXNoLm1hdGVyaWFsID0gdGhpcy5kZWZhdWx0TWF0ZXJpYWw7XHJcbiAgICAgICAgb2JqLmJ1bGxldE1lc2ggPSB7XHJcbiAgICAgICAgICAgIG1lc2g6IHRoaXMuYnVsbGV0TWVzaCxcclxuICAgICAgICAgICAgbWF0ZXJpYWw6IHRoaXMuYnVsbGV0TWF0ZXJpYWxcclxuICAgICAgICB9XHJcbiAgICAgICAgb2JqLmFkZENvbXBvbmVudChcImNvbGxpc2lvblwiLCB7XHJcbiAgICAgICAgICAgIGNvbGxpZGVyOiBXTC5Db2xsaWRlci5TcGhlcmUsXHJcbiAgICAgICAgICAgIGV4dGVudHM6IFs1LCAwLCAwXSxcclxuICAgICAgICAgICAgZ3JvdXA6IDEgPDwgNSxcclxuICAgICAgICAgICAgLy8gdGhpcyBjb2RlIGlzIGEgdGVzdCB0byBzZWUgaG93IHRvIHRyaWdnZXIgQ29sbGlzaW9uIE9uaGl0IGFuZCBvbmxlYXZlIHRoYXQgaGFzXHJcbiAgICAgICAgICAgIC8vIHNvbWUgZG9jdW1lbnRhdGlvbiBvbiB3b25kZXJsYW5kLCBidXQgSSBjYW50IGZpZ3JlIG91dCBob3cgdG8gdXNlXHJcbiAgICAgICAgICAgIC8vIElGIHdlIGNhbiBnZXQgaXQgd29ya2luZyBpdCB3b3VsZCBtYWtlIGFpbWluZyBhbmQgc2hvb3Rpbmcgc2lnbmlmZmljYW50bHlcclxuICAgICAgICAgICAgLy8gICBtb3JlIGVmZmljaWVudFxyXG4gICAgICAgICAgICBDb2xsaXNpb25FdmVudFR5cGU6IDEsXHJcbiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbWVzaC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIC8vIGFpbWVyIGlzIGl0cyBvd24gbmFtZWQgb2JqZWN0IGJlY2F1c2Ugb2YgYSBwcmV2aW91cyB2ZXJzaW9uLCBpdCBzaG91bGQganVzdCBiZSBhZGRlZCBhc1xyXG4gICAgICAgIC8vIG9iai5hZGRDb21wb25lbnQodHVycmV0QWltZXIpIGJ1dCB0aGF0IGNycnJlbnRseSBnaXZlcyBlcnJvcnNcclxuICAgICAgICBjb25zdCBhaW1lciA9IG9iai5hZGRDb21wb25lbnQodHVycmV0QWltZXIpO1xyXG4gICAgICAgIG9iai5hZGRDb21wb25lbnQoUHJvamVjdGlsZVNwYXduZXIpO1xyXG5cclxuICAgICAgICAvLyBTZXRzIHRvd2VyIHBvc2l0aW9uLCBtYWtlcyBpdCBmbG9hdCBmbGF0IGluZGVwZW5kZW50IG9mIHNwYXduIGFuZ2xlLCBhbmQgc2NhbGVcclxuICAgICAgICBvYmouc2V0VHJhbnNmb3JtTG9jYWwodGhpcy5vYmplY3QuZ2V0VHJhbnNmb3JtV29ybGQodGVtcFF1YXQyKSk7XHJcbiAgICAgICAgY29uc3QgeCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgb2JqLnNldFNjYWxpbmdMb2NhbChbMC4yLCAwLjQsIDAuMl0pO1xyXG4gICAgICAgIG9iai5zZXRSb3RhdGlvbkxvY2FsKFswLCAwLCAwLCAxXSk7XHJcblxyXG4gICAgICAgIG9iai5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIC8vIHB1c2hlcyB0aGUgdHVycmV0cyB0byBhIHZlY3RvciBpbiBzdGF0ZVxyXG4gICAgICAgIC8vIHN0YXRlLnR1cnJldHMgY2FuIGJlIGNhbGxlZCBpbiBvdGhlciBjbGFzc2VzIGZvciBidWdmaXhpbmcuXHJcbiAgICAgICAgc3RhdGUudHVycmV0cy5wdXNoKG9iaik7XHJcbiAgICAgICAgb2JqLnNldERpcnR5KCk7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgSG93bGVyQXVkaW9Tb3VyY2UgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzJztcclxuaW1wb3J0IHsgQ2FudmFzVUkgfSBmcm9tICcuL0NhbnZhc1VJLmpzJztcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICcuL2dhbWUuanMnO1xyXG5cclxuLy8gVE9ETyBBZGQgb3RoZXIgSFVEIGZlYXR1cmVzIGZvciB0aGUgdXNlciB0byBpbnRlcmFjdCB3aXRoXHJcbmV4cG9ydCBjbGFzcyBVSUhhbmRsZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gXCJ1aUhhbmRsZXJcIjtcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIHBhbmVsOiBQcm9wZXJ0eS5lbnVtKFsnc2ltcGxlJywgJ2J1dHRvbnMnLCAnc2Nyb2xsaW5nJywgJ2ltYWdlcycsICdpbnB1dC10ZXh0J10sICdzaW1wbGUnKVxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoSG93bGVyQXVkaW9Tb3VyY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgLy8gdGhlc2UgZm5jdGlvbnMgYXJlIG1lbWJlcnMgb2Ygc3RhdGUsIGFuZCB1c2VkIHRvIGdldCB0aGUgZWxlbWVudHMgYXMgc3RyaW5nIG9iamVjdHNcclxuICAgICAgICAvLyBhcyBXb25kZXJsYW5kIHNlZW1zICB0byBub3QgbGlrZSBcIiR7IHN0YXRlLmhlYWx0aH1cIiBmb3IgcmVhc29ucyBJIGRvbid0IHVuZGVyc3RhbmRcclxuICAgICAgICB0aGlzLmhwID0gc3RhdGUuZ2V0SGVhbHRoKCk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW5jeSA9IHN0YXRlLmdldEN1cnJlbmN5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2N1cnNvci10YXJnZXQnKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5hZGRIb3ZlckZ1bmN0aW9uKHRoaXMub25Ib3Zlci5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5hZGRVbkhvdmVyRnVuY3Rpb24odGhpcy5vblVuSG92ZXIuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkTW92ZUZ1bmN0aW9uKHRoaXMub25Nb3ZlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZERvd25GdW5jdGlvbih0aGlzLm9uRG93bi5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5hZGRVcEZ1bmN0aW9uKHRoaXMub25VcC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy5zb3VuZENsaWNrID0gdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KEhvd2xlckF1ZGlvU291cmNlLCB7IHNyYzogJ3NmeC9jbGljay53YXYnLCBzcGF0aWFsOiB0cnVlIH0pO1xyXG4gICAgICAgIHRoaXMuc291bmRVbkNsaWNrID0gdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KEhvd2xlckF1ZGlvU291cmNlLCB7IHNyYzogJ3NmeC91bmNsaWNrLndhdicsIHNwYXRpYWw6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5wYW5lbCkge1xyXG4gICAgICAgICAgICBjYXNlIDA6Ly9zaW1wbGVcclxuICAgICAgICAgICAgICAgIHRoaXMuc2ltcGxlUGFuZWwoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6Ly9idXR0b25zXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbnNQYW5lbCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjovL3Njcm9sbGluZ1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxQYW5lbCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzovL2ltYWdlc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZVBhbmVsKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0Oi8vaW5wdXQtdGV4dFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dFRleHRQYW5lbCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHRoaXMgaXMgdGhlIGNvZGUgZm9yIHRoZSBIZWFsdGggYW5kIGN1cnJlbmN5IEhVRCBcclxuICAgIHNpbXBsZVBhbmVsKCkge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDUwLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyB0b3A6IDEwIH0sXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiA1MCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMjU2XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRPRE8gIGZpZ3VyZSBvdXQgd2h5IFxcbiBkb2VzbnQgd29yayBmb3IgbmV3bGluZSBmdW5jdGlvbnNcclxuICAgICAgICBjb25zdCBjb250ZW50ID0geyBib2R5OiBcIkhlYWx0aDogXCIgKyBzdGF0ZS5nZXRIZWFsdGgoKSArIFwiXFxyTW9uZXk6IFwiICsgc3RhdGUuZ2V0Q3VycmVuY3koKSB9O1xyXG4gICAgICAgIHRoaXMudWkgPSBuZXcgQ2FudmFzVUkoY29udGVudCwgY29uZmlnLCB0aGlzLm9iamVjdCwgdGhpcy5lbmdpbmUpO1xyXG4gICAgICAgIHRoaXMudWkudXBkYXRlQ29uZmlnKHRoaXMsIGNvbmZpZy5oZWlnaHQsIDEwMCk7XHJcbiAgICAgICAgbGV0IHVpID0gdGhpcy51aTtcclxuICAgIH1cclxuXHJcbiAgICBidXR0b25zUGFuZWwoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZGVmYXVsdFR1cnJldCgpIHtcclxuICAgICAgICAgICAgY29uc3QgbXNnID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XHJcbiAgICAgICAgICAgIHVpLnVwZGF0ZUVsZW1lbnQoXCJpbmZvXCIsIG1zZyk7XHJcbiAgICAgICAgICAgIHN0YXRlLnNlbGVjdGVkVHVycmV0ID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkcm9uZVR1cnJldCgpIHtcclxuICAgICAgICAgICAgY29uc3QgbXNnID0gXCJkcm9uZVwiO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xyXG4gICAgICAgICAgICB1aS51cGRhdGVFbGVtZW50KFwiaW5mb1wiLCBtc2cpO1xyXG4gICAgICAgICAgICBzdGF0ZS5zZWxlY3RlZFR1cnJldCA9IFwiZHJvbmVcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGxhc2VyKCkge1xyXG4gICAgICAgICAgICBjb25zdCBtc2cgPSBcImxhc2VyXCI7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XHJcbiAgICAgICAgICAgIHVpLnVwZGF0ZUVsZW1lbnQoXCJpbmZvXCIsIG1zZyk7XHJcbiAgICAgICAgICAgIHN0YXRlLnNlbGVjdGVkVHVycmV0ID0gXCJsYXNlclwiO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB7XHJcbiAgICAgICAgICAgIGluZm86IFwiXCIsXHJcbiAgICAgICAgICAgIGRlZmF1bHRUdXJyZXQ6IFwiPHBhdGg+TSAxMCAzMiBMIDU0IDEwIEwgNTQgNTQgWjwvcGF0aD5cIixcclxuICAgICAgICAgICAgZHJvbmVUdXJyZXQ6IFwiPHBhdGg+TSA1MCAxNSBMIDE1IDE1IEwgMTUgNTAgTCA1MCA1MCBaPHBhdGg+XCIsXHJcbiAgICAgICAgICAgIGxhc2VyOiBcIjxwYXRoPk0gNTQgMzIgTCAxMCAxMCBMIDEwIDU0IFo8L3BhdGg+XCIsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVpMiA9IG5ldyBDYW52YXNVSShjb250ZW50LCBjb25maWcsIHRoaXMub2JqZWN0LCB0aGlzLmVuZ2luZSk7XHJcbiAgICAgICAgdGhpcy51aTIudXBkYXRlKCk7XHJcbiAgICAgICAgbGV0IHVpMiA9IHRoaXMudWkyO1xyXG4gICAgfVxyXG5cclxuICAgIHNjcm9sbFBhbmVsKCkge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM2NjZcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0eHQ6IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwic2Nyb2xsXCIsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyBsZWZ0OiAyMCwgdG9wOiAyMCB9LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDQ2MCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogNDAwLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZmZcIixcclxuICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogXCIjMDAwXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IHtcclxuICAgICAgICAgICAgdHh0OiBcIlRoaXMgaXMgYW4gZXhhbXBsZSBvZiBhIHNjcm9sbGluZyBwYW5lbC4gU2VsZWN0IGl0IHdpdGggYSBjb250cm9sbGVyIGFuZCBtb3ZlIHRoZSBjb250cm9sbGVyIHdoaWxlIGtlZXBpbmcgdGhlIHNlbGVjdCBidXR0b24gcHJlc3NlZC4gSW4gYW4gQVIgYXBwIGp1c3QgcHJlc3MgYW5kIGRyYWcuIElmIGEgcGFuZWwgaXMgc2V0IHRvIHNjcm9sbCBhbmQgdGhlIG92ZXJmbG93IHNldHRpbmcgaXMgJ3Njcm9sbCcsIHRoZW4gYSBzY3JvbGwgYmFyIHdpbGwgYXBwZWFyIHdoZW4gdGhlIHBhbmVsIGlzIGFjdGl2ZS4gQnV0IHRvIHNjcm9sbCB5b3UgY2FuIGp1c3QgZHJhZyBhbnl3aGVyZSBvbiB0aGUgcGFuZWwuIFRoaXMgaXMgYW4gZXhhbXBsZSBvZiBhIHNjcm9sbGluZyBwYW5lbC4gU2VsZWN0IGl0IHdpdGggYSBjb250cm9sbGVyIGFuZCBtb3ZlIHRoZSBjb250cm9sbGVyIHdoaWxlIGtlZXBpbmcgdGhlIHNlbGVjdCBidXR0b24gcHJlc3NlZC4gSW4gYW4gQVIgYXBwIGp1c3QgcHJlc3MgYW5kIGRyYWcuIElmIGEgcGFuZWwgaXMgc2V0IHRvIHNjcm9sbCBhbmQgdGhlIG92ZXJmbG93IHNldHRpbmcgaXMgJ3Njcm9sbCcsIHRoZW4gYSBzY3JvbGwgYmFyIHdpbGwgYXBwZWFyIHdoZW4gdGhlIHBhbmVsIGlzIGFjdGl2ZS4gQnV0IHRvIHNjcm9sbCB5b3UgY2FuIGp1c3QgZHJhZyBhbnl3aGVyZSBvbiB0aGUgcGFuZWwuXCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudWkgPSBuZXcgQ2FudmFzVUkoY29udGVudCwgY29uZmlnLCB0aGlzLm9iamVjdCwgdGhpcy5lbmdpbmUpO1xyXG4gICAgICAgIHRoaXMudWkudXBkYXRlKCk7XHJcbiAgICAgICAgbGV0IHVpID0gdGhpcy51aTtcclxuICAgIH1cclxuXHJcbiAgICBpbWFnZVBhbmVsKCkge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgaW1hZ2U6IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiaW1nXCIsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyBsZWZ0OiAyMCwgdG9wOiAyMCB9LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDQ3MlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbmZvOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHRvcDogMzAwIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IHtcclxuICAgICAgICAgICAgaW1hZ2U6IFwiaW1hZ2VzL3Byb21vLnBuZ1wiLFxyXG4gICAgICAgICAgICBpbmZvOiBcIlRoZSBwcm9tbyBpbWFnZSBmcm9tIHRoZSBjb3Vyc2U6IExlYXJuIHRvIGNyZWF0ZSBXZWJYUiwgVlIgYW5kIEFSLCBleHBlcmllbmNlcyB1c2luZyBXb25kZXJsYW5kIEVuZ2luZVwiXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy51aSA9IG5ldyBDYW52YXNVSShjb250ZW50LCBjb25maWcsIHRoaXMub2JqZWN0LCB0aGlzLmVuZ2luZSk7XHJcbiAgICAgICAgdGhpcy51aS51cGRhdGUoKTtcclxuICAgICAgICBsZXQgdWkgPSB0aGlzLnVpO1xyXG4gICAgfVxyXG5cclxuICAgIGlucHV0VGV4dFBhbmVsKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIG9uQ2hhbmdlZCh0eHQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYG1lc3NhZ2UgY2hhbmdlZDogJHt0eHR9YCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBvbkVudGVyKHR4dCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgbWVzc2FnZSBlbnRlcjogJHt0eHR9YCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICAgIHBhbmVsU2l6ZTogeyB3aWR0aDogMSwgaGVpZ2h0OiAwLjI1IH0sXHJcbiAgICAgICAgICAgIGhlaWdodDogMTI4LFxyXG4gICAgICAgICAgICBtZXNzYWdlOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImlucHV0LXRleHRcIixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IGxlZnQ6IDEwLCB0b3A6IDggfSxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogNTYsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNDkyLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNjY2NcIixcclxuICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogXCIjMDAwXCIsXHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZWQsXHJcbiAgICAgICAgICAgICAgICBvbkVudGVyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxhYmVsOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHRvcDogNjQgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjb250ZW50ID0ge1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBcIlwiLFxyXG4gICAgICAgICAgICBsYWJlbDogXCJTZWxlY3QgdGhlIHBhbmVsIGFib3ZlLlwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVpID0gbmV3IENhbnZhc1VJKGNvbnRlbnQsIGNvbmZpZywgdGhpcy5vYmplY3QsIHRoaXMuZW5naW5lKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy51aS5rZXlib2FyZC5vYmplY3QuZ2V0Q29tcG9uZW50KCdjdXJzb3ItdGFyZ2V0Jyk7XHJcbiAgICAgICAgdGFyZ2V0LmFkZEhvdmVyRnVuY3Rpb24odGhpcy5vbkhvdmVyS2V5Ym9hcmQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGFyZ2V0LmFkZFVuSG92ZXJGdW5jdGlvbih0aGlzLm9uVW5Ib3ZlcktleWJvYXJkLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRhcmdldC5hZGRNb3ZlRnVuY3Rpb24odGhpcy5vbk1vdmVLZXlib2FyZC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0YXJnZXQuYWRkRG93bkZ1bmN0aW9uKHRoaXMub25Eb3duLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRhcmdldC5hZGRVcEZ1bmN0aW9uKHRoaXMub25VcEtleWJvYXJkLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLnVpLnVwZGF0ZSgpO1xyXG4gICAgICAgIGxldCB1aSA9IHRoaXMudWk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Ib3ZlcihfLCBjdXJzb3IpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdvbkhvdmVyJyk7XHJcbiAgICAgICAgaWYgKHRoaXMudWkpIHtcclxuICAgICAgICAgICAgY29uc3QgeHkgPSB0aGlzLnVpLndvcmxkVG9DYW52YXMoY3Vyc29yLmN1cnNvclBvcyk7XHJcbiAgICAgICAgICAgIHRoaXMudWkuaG92ZXIoMCwgeHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGN1cnNvci50eXBlID09ICdmaW5nZXItY3Vyc29yJykge1xyXG4gICAgICAgICAgICB0aGlzLm9uRG93bihfLCBjdXJzb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5oYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjUsIDUwKTtcclxuICAgIH1cclxuXHJcbiAgICBvbk1vdmUoXywgY3Vyc29yKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudWkpIHtcclxuICAgICAgICAgICAgY29uc3QgeHkgPSB0aGlzLnVpLndvcmxkVG9DYW52YXMoY3Vyc29yLmN1cnNvclBvcyk7XHJcbiAgICAgICAgICAgIHRoaXMudWkuaG92ZXIoMCwgeHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5oYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjUsIDUwKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRvd24oXywgY3Vyc29yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ29uRG93bicpO1xyXG4gICAgICAgIHRoaXMuc291bmRDbGljay5wbGF5KCk7XHJcblxyXG4gICAgICAgIHRoaXMuaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMS4wLCAyMCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcChfLCBjdXJzb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnb25VcCcpO1xyXG4gICAgICAgIHRoaXMuc291bmRVbkNsaWNrLnBsYXkoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudWkpIHRoaXMudWkuc2VsZWN0KDAsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNywgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVW5Ib3ZlcihfLCBjdXJzb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnb25VbkhvdmVyJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVpKSB0aGlzLnVpLmhvdmVyKDApO1xyXG5cclxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuMywgNTApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uSG92ZXJLZXlib2FyZChfLCBjdXJzb3IpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdvbkhvdmVyJyk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVpIHx8ICF0aGlzLnVpLmtleWJvYXJkIHx8ICF0aGlzLnVpLmtleWJvYXJkLmtleWJvYXJkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHVpID0gdGhpcy51aS5rZXlib2FyZC5rZXlib2FyZDtcclxuICAgICAgICBjb25zdCB4eSA9IHVpLndvcmxkVG9DYW52YXMoY3Vyc29yLmN1cnNvclBvcyk7XHJcbiAgICAgICAgdWkuaG92ZXIoMCwgeHkpO1xyXG5cclxuICAgICAgICBpZiAoY3Vyc29yLnR5cGUgPT0gJ2Zpbmdlci1jdXJzb3InKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25Eb3duKF8sIGN1cnNvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNSwgNTApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTW92ZUtleWJvYXJkKF8sIGN1cnNvcikge1xyXG4gICAgICAgIGlmICghdGhpcy51aSB8fCAhdGhpcy51aS5rZXlib2FyZCB8fCAhdGhpcy51aS5rZXlib2FyZC5rZXlib2FyZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCB1aSA9IHRoaXMudWkua2V5Ym9hcmQua2V5Ym9hcmQ7XHJcbiAgICAgICAgY29uc3QgeHkgPSB1aS53b3JsZFRvQ2FudmFzKGN1cnNvci5jdXJzb3JQb3MpO1xyXG4gICAgICAgIHVpLmhvdmVyKDAsIHh5KTtcclxuXHJcbiAgICAgICAgdGhpcy5oYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjUsIDUwKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwS2V5Ym9hcmQoXywgY3Vyc29yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ29uVXBLZXlib2FyZCcpO1xyXG4gICAgICAgIHRoaXMuc291bmRVbkNsaWNrLnBsYXkoKTtcclxuICAgICAgICBpZiAodGhpcy51aSAmJiB0aGlzLnVpLmtleWJvYXJkICYmIHRoaXMudWkua2V5Ym9hcmQua2V5Ym9hcmQpIHRoaXMudWkua2V5Ym9hcmQua2V5Ym9hcmQuc2VsZWN0KDApO1xyXG4gICAgICAgIHRoaXMuaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC43LCAyMCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VbkhvdmVyS2V5Ym9hcmQoXywgY3Vyc29yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ29uVW5Ib3ZlcktleWJvYXJkJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVpICYmIHRoaXMudWkua2V5Ym9hcmQgJiYgdGhpcy51aS5rZXlib2FyZC5rZXlib2FyZCkgdGhpcy51aS5rZXlib2FyZC5rZXlib2FyZC5ob3ZlcigwKTtcclxuXHJcbiAgICAgICAgdGhpcy5oYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjMsIDUwKTtcclxuICAgIH1cclxuXHJcbiAgICBoYXB0aWNGZWVkYmFjayhvYmplY3QsIHN0cmVuZ3RoLCBkdXJhdGlvbikge1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gb2JqZWN0LmdldENvbXBvbmVudCgnaW5wdXQnKTtcclxuICAgICAgICBpZiAoaW5wdXQgJiYgaW5wdXQueHJJbnB1dFNvdXJjZSkge1xyXG4gICAgICAgICAgICBjb25zdCBnYW1lcGFkID0gaW5wdXQueHJJbnB1dFNvdXJjZS5nYW1lcGFkO1xyXG4gICAgICAgICAgICBpZiAoZ2FtZXBhZCAmJiBnYW1lcGFkLmhhcHRpY0FjdHVhdG9ycykgZ2FtZXBhZC5oYXB0aWNBY3R1YXRvcnNbMF0ucHVsc2Uoc3RyZW5ndGgsIGR1cmF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaWYgbmVlZHNVcGRhdGUgaXMgY2FsbGVkIHdpbGwgbmlsbHkgdG8gdXBkYXRlIHRoZSBoZWFsdGggYW5kIGN1cnJlbmN5LCB0aGVuIFxyXG4gICAgLy8gZXZlbnR1YWxseSB0aGUgaHVkIGJyZWFrcyBzbyBub3cgYW55IGNoYW5nZXMgdG8gdGhlIGh1ZCBvbmx5IHVwZGF0ZSB3aGVuIFxyXG4gICAgLy8gY2hhbmdlZC4gXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBpZiAoc3RhdGUubmVlZHNVcGRhdGUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy51aS5jb250ZW50ID0geyBib2R5OiBcIkhlYWx0aDogXCIgKyBzdGF0ZS5nZXRIZWFsdGgoKSArIFwiXFxyXFxcXG5Nb25leTogXCIgKyBzdGF0ZS5nZXRDdXJyZW5jeSgpIH07XHJcbiAgICAgICAgICAgIHRoaXMudWkubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBzdGF0ZS5uZWVkc1VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy51aSkgdGhpcy51aS51cGRhdGUoKTtcclxuICAgICAgICBpZiggdGhpcy51aTIgKSB0aGlzLnVpMi51cGRhdGUoKTtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgVGV4dHVyZSwgT2JqZWN0M0QgfSBmcm9tIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpXCI7XHJcbmltcG9ydCB7IHZlYzMsIHF1YXQgfSBmcm9tIFwiZ2wtbWF0cml4XCI7XHJcblxyXG5jbGFzcyBDYW52YXNLZXlib2FyZHtcclxuICAgIGNvbnN0cnVjdG9yKCB3aWR0aCwgY2FudmFzdWksIGxhbmcgPSBcIkVOXCIgKXtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLmdldENvbmZpZyggbGFuZyApO1xyXG4gICAgICAgIGNvbmZpZy5wYW5lbFNpemUgPSB7IHdpZHRoLCBoZWlnaHQ6IHdpZHRoICogMC41IH07XHJcbiAgICAgICAgY29uZmlnLmhlaWdodCA9IDI1NjtcclxuICAgICAgICBjb25maWcuYm9keSA9IHsgYmFja2dyb3VuZENvbG9yOiBcIiM1NTVcIiB9O1xyXG5cclxuICAgICAgICBjb25zdCBvYmplY3QgPSBXTC5zY2VuZS5hZGRPYmplY3QoKTtcclxuICAgICAgICBvYmplY3QubmFtZSA9ICdrZXlib2FyZCc7XHJcbiAgICAgICAgY29uc3QgbWVzaCA9IG9iamVjdC5hZGRDb21wb25lbnQoJ21lc2gnKTtcclxuICAgICAgICBjb25zdCB1aW1lc2ggPSBjYW52YXN1aS5vYmplY3QuZ2V0Q29tcG9uZW50KCdtZXNoJyk7XHJcbiAgICAgICAgbWVzaC5tZXNoID0gdWltZXNoLm1lc2g7XHJcbiAgICAgICAgbWVzaC5tYXRlcmlhbCA9IHVpbWVzaC5tYXRlcmlhbC5jbG9uZSgpO1xyXG4gICAgICAgIG9iamVjdC5hZGRDb21wb25lbnQoJ2N1cnNvci10YXJnZXQnKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuZ2V0Q29udGVudChsYW5nKTtcclxuXHJcbiAgICAgICAgdGhpcy5rZXlib2FyZCA9IG5ldyBDYW52YXNVSSggY29udGVudCwgY29uZmlnLCBvYmplY3QsIGNhbnZhc3VpLmVuZ2luZSApO1xyXG5cclxuICAgICAgICB0aGlzLnRtcFZlYyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldCBvYmplY3QoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5rZXlib2FyZC5vYmplY3Q7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldENvbmZpZyggbGFuZyApe1xyXG4gICAgICAgIC8vRU5cclxuICAgICAgICAvL2tleXNcclxuICAgICAgICAvL3F3ZXJ0eXVpb3AgLSAxMCBzcXVhcmUgLSBidG4wLWJ0bjlcclxuICAgICAgICAvL2FzZGZnaGprbEAgLSAxMCBzcXVhcmUgYnV0dG9ucyAtIGJ0bjEwLWJ0bjE5XHJcbiAgICAgICAgLy9eenhjdmJubTwgLSAxLjUgc2hpZnQsNyBzcXVhcmUsMS41IGJhY2tzcGFjZSAtIGJ0bjIwLWJ0bjI4XHJcbiAgICAgICAgLy9bPzEyM10sc3BhY2UuW0VudGVyXSAtIDIsMSw0LDEsMiAtIGJ0bjMwLWJ0bjM0XHJcbiAgICAgICAgLy9rZXlzIHNoaWZ0ZWRcclxuICAgICAgICAvL1FXRVJUWVVJT1AgLSAxMCBzcXVhcmUgXHJcbiAgICAgICAgLy9BU0RGR0hKS0xAIC0gMTAgc3F1YXJlIGJ1dHRvbnNcclxuICAgICAgICAvL15aWENWQk5NPCAtIDEuNSBzaGlmdCw3IHNxdWFyZSwxLjUgYmFja3NwYWNlXHJcbiAgICAgICAgLy9bPzEyM10sc3BhY2UuW0VudGVyXSAtIDIsMSw0LDEsMlxyXG4gICAgICAgIC8vbnVtYmVyc1xyXG4gICAgICAgIC8vMTIzNDU2Nzg5MCAtIDEwIHNxdWFyZVxyXG4gICAgICAgIC8vQCMlJiovLSsoKSAtIDEwIHNxXHJcbiAgICAgICAgLy9ePyFcIidcXDo7PCAtIDEuNSBzaGlmdCw3IHNxdWFyZSwxLjUgYmFja3NwYWNlXHJcbiAgICAgICAgLy9bQUJDXSxzcGFjZS5bRW50ZXJdIC0gMiwxLDQsMSwyXHJcbiAgICAgICAgLy9udW1iZXJzIHNoaWZ0ZWRcclxuICAgICAgICAvLzEyMzQ1Njc4OTAgLSAxMCBzcXVhcmVcclxuICAgICAgICAvL1x1MDBFMlx1MjAxQVx1MDBBQ1x1MDBDMlx1MDBBMyRePXx7fVtdIC0gMTAgc3FcclxuICAgICAgICAvL148Pl9gfjo7PCAtIDEuNSBzaGlmdCw3IHNxdWFyZSwxLjUgYmFja3NwYWNlXHJcbiAgICAgICAgLy9bQUJDXSxzcGFjZS5bRW50ZXJdIC0gMiwxLDQsMSwyXHJcbiAgICAgICAgY29uc3QgY29uZmlnID0ge307XHJcbiAgICAgICAgbGV0IHBhZGRpbmcgPSAxMDtcclxuICAgICAgICBjb25zdCBwYWRkaW5nVG9wID0gMjA7XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSAoKDUxMiAtIDIgKiBwYWRkaW5nKSAvIDEwKSAtIHBhZGRpbmc7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gKCggMjU2IC0gMiAqIHBhZGRpbmcpIC8gNCkgLSBwYWRkaW5nO1xyXG4gICAgICAgIGNvbnN0IGhvdmVyID0gXCIjMzMzXCI7XHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZENvbG9yID0gXCIjMDAwXCI7XHJcbiAgICAgICAgLy9Ub3Agcm93XHJcbiAgICAgICAgbGV0IHkgPSBwYWRkaW5nO1xyXG4gICAgICAgIGxldCB4ID0gcGFkZGluZztcclxuICAgICAgICBmb3IgKGxldCBpPTA7IGk8MTA7IGkrKyl7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ0biA9IHsgdHlwZTogXCJidXR0b25cIiwgcG9zaXRpb246IHsgeCwgeSB9LCB3aWR0aCwgaGVpZ2h0LCBwYWRkaW5nLCBwYWRkaW5nVG9wLCBiYWNrZ3JvdW5kQ29sb3IsIGJvcmRlclJhZGl1czo2LCBob3Zlciwgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QuYmluZCggdGhpcywgaSApIH1cclxuICAgICAgICAgICAgY29uZmlnW2BidG4ke2l9YF0gPSBidG47XHJcbiAgICAgICAgICAgIHggKz0gKHdpZHRoICsgcGFkZGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vMm5kIHJvd1xyXG4gICAgICAgIHkgKz0gKGhlaWdodCArIHBhZGRpbmcpO1xyXG4gICAgICAgIHggPSBwYWRkaW5nO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTwxMDsgaSsrKXtcclxuICAgICAgICAgICAgY29uc3QgYnRuID0geyB0eXBlOiBcImJ1dHRvblwiLCBwb3NpdGlvbjogeyB4LCB5IH0sIHdpZHRoLCBoZWlnaHQsIHBhZGRpbmcsIHBhZGRpbmdUb3AsIGJhY2tncm91bmRDb2xvciwgYm9yZGVyUmFkaXVzOjYsIGhvdmVyLCBvblNlbGVjdDogdGhpcy5vblNlbGVjdC5iaW5kKCB0aGlzLCBpICsgMTAgKSB9XHJcbiAgICAgICAgICAgIGNvbmZpZ1tgYnRuJHtpKzEwfWBdID0gYnRuO1xyXG4gICAgICAgICAgICB4ICs9ICh3aWR0aCArIHBhZGRpbmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLzNyZCByb3dcclxuICAgICAgICB5ICs9IChoZWlnaHQgKyBwYWRkaW5nKTtcclxuICAgICAgICB4ID0gcGFkZGluZztcclxuICAgICAgICBmb3IgKGxldCBpPTA7IGk8OTsgaSsrKXtcclxuICAgICAgICAgICAgY29uc3QgdyA9IChpPT0wIHx8IGk9PTgpID8gKHdpZHRoICogMS41ICsgcGFkZGluZyAqIDAuNSkgOiB3aWR0aDtcclxuICAgICAgICAgICAgY29uc3QgYnRuID0geyB0eXBlOiBcImJ1dHRvblwiLCBwb3NpdGlvbjogeyB4LCB5IH0sIHdpZHRoOiB3LCBoZWlnaHQsIHBhZGRpbmcsIHBhZGRpbmdUb3AsIGJhY2tncm91bmRDb2xvciwgYm9yZGVyUmFkaXVzOjYsIGhvdmVyLCBvblNlbGVjdDogdGhpcy5vblNlbGVjdC5iaW5kKCB0aGlzLCBpICsgMjAgKSB9O1xyXG4gICAgICAgICAgICBjb25maWdbYGJ0biR7aSsyMH1gXSA9IGJ0bjtcclxuICAgICAgICAgICAgeCArPSAoIHcgKyBwYWRkaW5nICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vNHJkIHJvd1xyXG4gICAgICAgIHkgKz0gKGhlaWdodCArIHBhZGRpbmcpO1xyXG4gICAgICAgIHggPSBwYWRkaW5nO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTw1OyBpKyspe1xyXG4gICAgICAgICAgICBjb25zdCB3ID0gKGk9PTAgfHwgaT09NCkgPyAod2lkdGggKiAyICsgcGFkZGluZykgOiAoaT09MikgPyAod2lkdGggKiA0ICsgMyAqIHBhZGRpbmcpIDogd2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ0biA9IHsgdHlwZTogXCJidXR0b25cIiwgcG9zaXRpb246IHsgeCwgeSB9LCB3aWR0aDogdywgaGVpZ2h0LCBwYWRkaW5nLCBwYWRkaW5nVG9wLCBiYWNrZ3JvdW5kQ29sb3IsIGJvcmRlclJhZGl1czo2LCBob3Zlciwgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QuYmluZCggdGhpcywgaSArIDMwICkgfTtcclxuICAgICAgICAgICAgaWYgKGk9PTApIGJ0bi5mb250U2l6ZSA9IDIwO1xyXG4gICAgICAgICAgICBjb25maWdbYGJ0biR7aSszMH1gXSA9IGJ0bjtcclxuICAgICAgICAgICAgeCArPSAoIHcgKyBwYWRkaW5nICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldENvbnRlbnQoIGxhbmcsIGxheW91dEluZGV4PTAgKXtcclxuICAgICAgICBsZXQgY29udGVudCA9IHt9O1xyXG4gICAgICAgIGxldCBrZXlzO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5nO1xyXG4gICAgICAgIHRoaXMua2V5Ym9hcmRJbmRleCA9IGxheW91dEluZGV4O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHN3aXRjaChsYXlvdXRJbmRleCl7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIC8vRU5cclxuICAgICAgICAgICAgICAgIC8va2V5c1xyXG4gICAgICAgICAgICAgICAgLy9xd2VydHl1aW9wIC0gMTAgc3F1YXJlIC0gYnRuMC1idG45XHJcbiAgICAgICAgICAgICAgICAvL2FzZGZnaGprbEAgLSAxMCBzcXVhcmUgYnV0dG9ucyAtIGJ0bjEwLWJ0bjE5XHJcbiAgICAgICAgICAgICAgICAvL156eGN2Ym5tPCAtIDEuNSBzaGlmdCw3IHNxdWFyZSwxLjUgYmFja3NwYWNlIC0gYnRuMjAtYnRuMjhcclxuICAgICAgICAgICAgICAgIC8vWz8xMjNdLHNwYWNlLltFbnRlcl0gLSAxLjUsMSw0LDEsMS41IC0gYnRuMzAtYnRuMzRcclxuICAgICAgICAgICAgICAgIGtleXMgPSBbICdxJywgJ3cnLCAnZScsICdyJywgJ3QnLCAneScsICd1JywgJ2knLCAnbycsICdwJywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAnYScsICdzJywgJ2QnLCAnZicsICdnJywgJ2gnLCAnaicsICdrJywgJ2wnLCAnQCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAnXHUwMEUyXHUyMDIxXHUwMEE3JywgJ3onLCAneCcsICdjJywgJ3YnLCAnYicsICduJywgJ20nLCAnXHUwMEUyXHUyMDIxXHUwMEE2JywgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAnPzEyMycsICcsJywgJyAgICcsICcuJywgJ1x1MDBFMlx1MjAyMFx1MDBCMiddO1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8a2V5cy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IT09JycpIGNvbnRlbnRbYGJ0biR7aX1gXSA9IGtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAvL2tleXMgc2hpZnRlZFxyXG4gICAgICAgICAgICAgICAgLy9RV0VSVFlVSU9QIC0gMTAgc3F1YXJlIFxyXG4gICAgICAgICAgICAgICAgLy9BU0RGR0hKS0xAIC0gMTAgc3F1YXJlIGJ1dHRvbnNcclxuICAgICAgICAgICAgICAgIC8vXlpYQ1ZCTk08IC0gMS41IHNoaWZ0LDcgc3F1YXJlLDEuNSBiYWNrc3BhY2VcclxuICAgICAgICAgICAgICAgIC8vWz8xMjNdLHNwYWNlLltFbnRlcl0gLSAxLjUsMSw0LDEsMS41XHJcbiAgICAgICAgICAgICAgICBrZXlzID0gWyAnUScsICdXJywgJ0UnLCAnUicsICdUJywgJ1knLCAnVScsICdJJywgJ08nLCAnUCcsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ0EnLCAnUycsICdEJywgJ0YnLCAnRycsICdIJywgJ0onLCAnSycsICdMJywgJ0AnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ1x1MDBFMlx1MjAyMVx1MDBBNycsICdaJywgJ1gnLCAnQycsICdWJywgJ0InLCAnTicsICdNJywgJ1x1MDBFMlx1MjAyMVx1MDBBNicsICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgJz8xMjMnLCAnLCcsICcgICAnLCAnLicsICdcdTAwRTJcdTIwMjBcdTAwQjInXTtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSE9PScnKSBjb250ZW50W2BidG4ke2l9YF0gPSBrZXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgLy9udW1iZXJzXHJcbiAgICAgICAgICAgICAgICAvLzEyMzQ1Njc4OTAgLSAxMCBzcXVhcmVcclxuICAgICAgICAgICAgICAgIC8vQCMlJiovLSsoKSAtIDEwIHNxXHJcbiAgICAgICAgICAgICAgICAvL14/IVwiJ1xcOjs8IC0gMS41IHNoaWZ0LDcgc3F1YXJlLDEuNSBiYWNrc3BhY2VcclxuICAgICAgICAgICAgICAgIC8vW0FCQ10sc3BhY2UuW0VudGVyXSAtIDEuNSwxLDQsMSwxLjVcclxuICAgICAgICAgICAgICAgIGtleXMgPSBbICcxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcwJywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAnQCcsICcjJywgJyUnLCAnJicsICcqJywgJy8nLCAnLScsICcrJywgJygnLCAnKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAnXHUwMEUyXHUyMDIxXHUwMEE3JywgJz8nLCAnIScsICdcIicsICdcXCcnLCAnXFxcXCcsICc6JywgJzsnLCAnXHUwMEUyXHUyMDIxXHUwMEE2JywgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAnYWJjJywgJywnLCAnICAgJywgJy4nLCAnXHUwMEUyXHUyMDIwXHUwMEIyJ107XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkhPT0nJykgY29udGVudFtgYnRuJHtpfWBdID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIC8vbnVtYmVycyBzaGlmdGVkXHJcbiAgICAgICAgICAgICAgICAvLzEyMzQ1Njc4OTAgLSAxMCBzcXVhcmVcclxuICAgICAgICAgICAgICAgIC8vXHUwMEUyXHUyMDFBXHUwMEFDXHUwMEMyXHUwMEEzJF49fHt9W10gLSAxMCBzcVxyXG4gICAgICAgICAgICAgICAgLy9ePD5fYH46OzwgLSAxLjUgc2hpZnQsNyBzcXVhcmUsMS41IGJhY2tzcGFjZVxyXG4gICAgICAgICAgICAgICAgLy9bQUJDXSxzcGFjZS5bRW50ZXJdIC0gMS41LDEsNSwxLDEuNVxyXG4gICAgICAgICAgICAgICAga2V5cyA9IFsgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJzAnLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICdcdTAwRTJcdTIwMUFcdTAwQUMnLCAnXHUwMEMyXHUwMEEzJywgJyQnLCAnXicsICc9JywgJ3wnLCAneycsICd9JywgJ1snLCAnfScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAnXHUwMEUyXHUyMDIxXHUwMEE3JywgJzwnLCAnPicsICdfJywgJ2AnLCAnficsICc6JywgJzsnLCAnXHUwMEUyXHUyMDIxXHUwMEE2JywgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAnYWJjJywgJywnLCAnICAgJywgJy4nLCAnXHUwMEUyXHUyMDIwXHUwMEIyJ107XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkhPT0nJykgY29udGVudFtgYnRuJHtpfWBdID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXQgcG9zaXRpb24oKXtcclxuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLmtleWJvYXJkLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKCB0aGlzLnRtcFZlYyApO1xyXG4gICAgICAgIHJldHVybiBwb3M7ICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBwb3NpdGlvbkxvY2FsKCl7XHJcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5rZXlib2FyZC5vYmplY3QuZ2V0VHJhbnNsYXRpb25Mb2NhbCggdGhpcy50bXBWZWMgKTtcclxuICAgICAgICByZXR1cm4gcG9zOyAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0IHZpc2libGUoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldCB2aXNpYmxlKCB2YWx1ZSApe1xyXG4gICAgICAgIHRoaXMua2V5Ym9hcmQub2JqZWN0LmFjdGl2ZSA9IHZhbHVlOyAgXHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB2YWx1ZTsgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRLZXlib2FyZCggaW5kZXggKXtcclxuICAgICAgICB0aGlzLmtleWJvYXJkLmNvbnRlbnQgPSB0aGlzLmdldENvbnRlbnQoIHRoaXMubGFuZ3VhZ2UsIGluZGV4ICk7XHJcbiAgICAgICAgdGhpcy5rZXlib2FyZC5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uU2VsZWN0KCBpbmRleCApe1xyXG4gICAgICAgIGlmICggIXRoaXMudmlzaWJsZSApIHJldHVyblxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vY29uc29sZS5sb2coIGBDYW52YXNLZXlib2FyZCBvblNlbGVjdDoga2V5IGluZGV4ICR7aW5kZXh9YCk7XHJcbiAgICAgICAgbGV0IGNoYW5nZSA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHN3aXRjaChpbmRleCl7XHJcbiAgICAgICAgICAgIGNhc2UgMzQ6Ly9FbnRlclxyXG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHRoaXMubGlua2VkRWxlbWVudC5vbkVudGVyICkgdGhpcy5saW5rZWRFbGVtZW50Lm9uRW50ZXIoIHRoaXMubGlua2VkVGV4dCApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzI6Ly9zcGFjZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5saW5rZWRUZXh0ICs9ICcgJztcclxuICAgICAgICAgICAgICAgIGNoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzMDovL3N3aXRjaCBrZXlib2FyZFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaGlmdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmRJbmRleDwyKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEtleWJvYXJkKCAyICk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEtleWJvYXJkKCAwICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI4Oi8vYmFja3NwYWNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmtlZFRleHQgPSB0aGlzLmxpbmtlZFRleHQuc3Vic3RyaW5nKCAwLCB0aGlzLmxpbmtlZFRleHQubGVuZ3RoLTEgKTtcclxuICAgICAgICAgICAgICAgIGNoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyMDovL3NoaWZ0XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNoaWZ0ID0gIXRoaXMuc2hpZnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5rZXlib2FyZEluZGV4PT0wKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEtleWJvYXJkKCAxICk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAodGhpcy5rZXlib2FyZEluZGV4PT0xKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEtleWJvYXJkKCAwICk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAodGhpcy5rZXlib2FyZEluZGV4PT0yKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEtleWJvYXJkKCAzICk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAodGhpcy5rZXlib2FyZEluZGV4PT0zKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEtleWJvYXJkKCAyICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHR4dCA9IHRoaXMua2V5Ym9hcmQuY29udGVudFtgYnRuJHtpbmRleH1gXTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlua2VkVGV4dCArPSB0eHQ7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmRJbmRleD09MSkgdGhpcy5zZXRLZXlib2FyZCggMCApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICggY2hhbmdlICl7XHJcbiAgICAgICAgICAgIHRoaXMubGlua2VkVUkudXBkYXRlRWxlbWVudCggdGhpcy5saW5rZWROYW1lLCB0aGlzLmxpbmtlZFRleHQgKTtcclxuICAgICAgICAgICAgaWYgKCB0aGlzLmxpbmtlZEVsZW1lbnQub25DaGFuZ2VkKSB0aGlzLmxpbmtlZEVsZW1lbnQub25DaGFuZ2VkKCB0aGlzLmxpbmtlZFRleHQgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHVwZGF0ZSgpe1xyXG4gICAgICAgIGlmICh0aGlzLmtleWJvYXJkKXtcclxuICAgICAgICAgICAgdGhpcy5rZXlib2FyZC51cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKkFuIGVsZW1lbnQgaXMgZGVmaW5lZCBieSBcclxudHlwZTogdGV4dCB8IGJ1dHRvbiB8IGltYWdlIHwgc2hhcGVcclxuaG92ZXI6IGhleFxyXG5hY3RpdmU6IGhleFxyXG5wb3NpdGlvbjogeCwgeSwgbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tXHJcbndpZHRoOiBwaXhlbHMsIHdpbGwgaW5oZXJpdCBmcm9tIGJvZHkgaWYgbWlzc2luZ1xyXG5oZWlnaHQ6IHBpeGVscywgd2lsbCBpbmhlcml0IGZyb20gYm9keSBpZiBtaXNzaW5nXHJcbm92ZXJmbG93OiBmaXQgfCBzY3JvbGwgfCBoaWRkZW5cclxudGV4dEFsaWduOiBjZW50ZXIgfCBsZWZ0IHwgcmlnaHRcclxuZm9udFNpemU6IHBpeGVsc1xyXG5mb250Q29sb3I6IGhleFxyXG5mb250RmFtaWx5OiBzdHJpbmdcclxucGFkZGluZzogcGl4ZWxzXHJcbmJhY2tncm91bmRDb2xvcjogaGV4XHJcbmJvcmRlclJhZGl1czogcGl4ZWxzXHJcbmNsaXBQYXRoOiBzdmcgcGF0aFxyXG5ib3JkZXI6IHdpZHRoIGNvbG9yIHN0eWxlXHJcbiovXHJcbmNsYXNzIENhbnZhc1VJe1xyXG5cdGNvbnN0cnVjdG9yKGNvbnRlbnQsIGNvbmZpZywgb2JqZWN0LCBlbmdpbmUpe1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRjb25maWcgPSB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MTIsXHJcbiAgICAgICAgICAgIGhlaWdodDogNTEyLFxyXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjcsXHJcbiAgICAgICAgICAgIGJvZHk6e1xyXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTonQXJpYWwnLCBcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOjMwLCBcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6MjAsIFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMCcsIFxyXG4gICAgICAgICAgICAgICAgZm9udENvbG9yOicjZmZmJywgXHJcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHRcdHRoaXMuY29uZmlnID0gKGNvbmZpZz09PXVuZGVmaW5lZCkgPyBkZWZhdWx0Y29uZmlnIDogY29uZmlnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy53aWR0aCA9PT0gdW5kZWZpbmVkKSB0aGlzLmNvbmZpZy53aWR0aCA9IDUxMjtcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuaGVpZ2h0ID09PSB1bmRlZmluZWQpIHRoaXMuY29uZmlnLmhlaWdodCA9IDUxMjtcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuYm9keSA9PT0gdW5kZWZpbmVkKSB0aGlzLmNvbmZpZy5ib2R5ID0ge2ZvbnRGYW1pbHk6J0FyaWFsJywgc2l6ZTozMCwgcGFkZGluZzoyMCwgYmFja2dyb3VuZENvbG9yOiAnIzAwMCcsIGZvbnRDb2xvcjonI2ZmZicsIGJvcmRlclJhZGl1czogNn07XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmNvbGxpc2lvbkdyb3VwID09PSB1bmRlZmluZWQgKXtcclxuICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25Hcm91cCA9IDE7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuY29sbGlzaW9uR3JvdXAgPSAxPDx0aGlzLmNvbmZpZy5jb2xsaXNpb25Hcm91cDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLmNvbmZpZy5ib2R5O1xyXG4gICAgICAgIGlmIChib2R5LmJvcmRlclJhZGl1cyA9PT0gdW5kZWZpbmVkKSBib2R5LmJvcmRlclJhZGl1cyA9IDY7XHJcbiAgICAgICAgaWYgKGJvZHkuZm9udEZhbWlseSA9PT0gdW5kZWZpbmVkKSBib2R5LmZvbnRGYW1pbHkgPSBcIkFyaWFsXCI7XHJcbiAgICAgICAgaWYgKGJvZHkucGFkZGluZyA9PT0gdW5kZWZpbmVkKSBib2R5LnBhZGRpbmcgPSAyMDtcclxuICAgICAgICBpZiAoYm9keS5mb250U2l6ZSA9PT0gdW5kZWZpbmVkKSBib2R5LmZvbnRTaXplID0gMzA7XHJcbiAgICAgICAgaWYgKGJvZHkuYmFja2dyb3VuZENvbG9yID09PSB1bmRlZmluZWQpIGJvZHkuYmFja2dyb3VuZENvbG9yID0gJyMwMDAnO1xyXG4gICAgICAgIGlmIChib2R5LmZvbnRDb2xvciA9PT0gdW5kZWZpbmVkKSBib2R5LmZvbnRDb2xvciA9ICcjZmZmJztcclxuICAgICAgICBcclxuICAgICAgICBPYmplY3QuZW50cmllcyggdGhpcy5jb25maWcgKS5mb3JFYWNoKCAoIFsgbmFtZSwgdmFsdWVdKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICggdHlwZW9mKHZhbHVlKSA9PT0gJ29iamVjdCcgJiYgbmFtZSAhPT0gJ3BhbmVsU2l6ZScpey8vfSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgV2ViR0xSZW5kZXJlcikgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIFNjZW5lKSApe1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gKHZhbHVlLnBvc2l0aW9uIT09dW5kZWZpbmVkKSA/IHZhbHVlLnBvc2l0aW9uIDogeyB4OiAwLCB5OiAwIH07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChwb3MubGVmdCAhPT0gdW5kZWZpbmVkICYmIHBvcy54ID09PSB1bmRlZmluZWQgKSBwb3MueCA9IHBvcy5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvcy50b3AgIT09IHVuZGVmaW5lZCAmJiBwb3MueSA9PT0gdW5kZWZpbmVkICkgcG9zLnkgPSBwb3MudG9wO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gKHZhbHVlLndpZHRoIT09dW5kZWZpbmVkKSA/IHZhbHVlLndpZHRoIDogdGhpcy5jb25maWcud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSAodmFsdWUuaGVpZ2h0IT09dW5kZWZpbmVkKSA/IHZhbHVlLmhlaWdodCA6IHRoaXMuY29uZmlnLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocG9zLnJpZ2h0ICE9PSB1bmRlZmluZWQgJiYgcG9zLnggPT09IHVuZGVmaW5lZCApIHBvcy54ID0gdGhpcy5jb25maWcud2lkdGggLSBwb3MucmlnaHQgLSB3aWR0aDtcclxuICAgICAgICAgICAgICAgIGlmIChwb3MuYm90dG9tICE9PSB1bmRlZmluZWQgJiYgcG9zLnkgPT09IHVuZGVmaW5lZCApIHBvcy55ID0gdGhpcy5jb25maWcuaGVpZ2h0IC0gcG9zLmJvdHRvbSAtIGhlaWdodDtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHBvcy54ID09PSB1bmRlZmluZWQpIHBvcy54ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChwb3MueSA9PT0gdW5kZWZpbmVkKSBwb3MueSA9IDA7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHZhbHVlLnBvc2l0aW9uID0gcG9zO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudHlwZSA9PT0gdW5kZWZpbmVkKSB2YWx1ZS50eXBlID0gJ3RleHQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IHRoaXMuY3JlYXRlT2Zmc2NyZWVuQ2FudmFzKHRoaXMuY29uZmlnLndpZHRoLCB0aGlzLmNvbmZpZy5oZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnNhdmUoKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBvcGFjaXR5ID0gKCB0aGlzLmNvbmZpZy5vcGFjaXR5ICE9PSB1bmRlZmluZWQgKSA/IHRoaXMuY29uZmlnLm9wYWNpdHkgOiAwLjc7XHJcblx0XHRcclxuICAgICAgICBjb25zdCBtZXNoID0gb2JqZWN0LmdldENvbXBvbmVudCgnbWVzaCcpO1xyXG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsO1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhc1RleHR1cmUgPSBuZXcgVGV4dHVyZShlbmdpbmUsIHRoaXMuY2FudmFzKTtcclxuICAgICAgICB0aGlzLm1hdGVyaWFsLmZsYXRUZXh0dXJlID0gdGhpcy5jYW52YXNUZXh0dXJlO1xyXG5cclxuICAgICAgICBpZiAoY29uZmlnLnBhbmVsU2l6ZSl7XHJcbiAgICAgICAgICAgIG9iamVjdC5yZXNldFNjYWxpbmcoKTtcclxuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBbY29uZmlnLnBhbmVsU2l6ZS53aWR0aCwgY29uZmlnLnBhbmVsU2l6ZS5oZWlnaHQsIDAuMDFdO1xyXG4gICAgICAgICAgICBvYmplY3Quc2NhbGUoIHNjYWxlICk7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxTaXplID0gY29uZmlnLnBhbmVsU2l6ZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbFNpemUgPSB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xyXG4gICAgICAgIHRoaXMuZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgIHRoaXMudG1wVmVjID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLnRtcFZlYzEgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMudG1wUXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlucHV0cyA9IE9iamVjdC52YWx1ZXMoIHRoaXMuY29uZmlnICkuZmlsdGVyKCAoIHZhbHVlICk9PntcclxuICAgICAgICAgICAgcmV0dXJuICB2YWx1ZS50eXBlID09PSBcImlucHV0LXRleHRcIjtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIGlucHV0cy5sZW5ndGggPiAwICl7XHJcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gKGNvbmZpZy5wYW5lbFNpemUpID8gY29uZmlnLnBhbmVsU2l6ZS53aWR0aCA6IDE7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IChjb25maWcucGFuZWxTaXplKSA/IGNvbmZpZy5wYW5lbFNpemUuaGVpZ2h0IDogMTtcclxuICAgICAgICAgICAgbGV0IGhhbGZoZWlnaHQgPSBoZWlnaHQvMjtcclxuICAgICAgICAgICAgdGhpcy5rZXlib2FyZCA9IG5ldyBDYW52YXNLZXlib2FyZCh3aWR0aCwgdGhpcyApO1xyXG4gICAgICAgICAgICAvL0NhbGN1bGF0ZSBtYWluIHBhbmVsIG9mZnNldFxyXG4gICAgICAgICAgICB0aGlzLmdldEV1bGVyKCB0aGlzLnRtcFZlYywgdGhpcy5vYmplY3Qucm90YXRpb25Xb3JsZCApO1xyXG4gICAgICAgICAgICBsZXQgdGhldGEgPSB0aGlzLnRtcFZlY1sxXTtcclxuICAgICAgICAgICAgdGhpcy50bXBWZWNbMF0gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnRtcFZlY1syXSA9IC1NYXRoLmNvcyh0aGV0YSkvaGFsZmhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy50bXBWZWNbMV0gPSBNYXRoLnNpbih0aGV0YSkvaGFsZmhlaWdodDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYENhbnZhc1VJIGNyZWF0ZSBrZXlib2FyZCAxIHRoZXRhPSR7dGhldGEudG9GaXhlZCgyKX0gb2Zmc2V0PSR7dGhpcy52ZWNUb1N0cih0aGlzLnRtcFZlYyl9YCk7XHJcbiAgICAgICAgICAgIC8vQ2FsY3VsYXRlIGtleWJvYXJkIHBhbmVsIG9mZnNldFxyXG4gICAgICAgICAgICBoYWxmaGVpZ2h0ID0gd2lkdGgvNDtcclxuICAgICAgICAgICAgdGhpcy5nZXRFdWxlciggdGhpcy50bXBWZWMxLCB0aGlzLmtleWJvYXJkLmtleWJvYXJkLm9iamVjdC5yb3RhdGlvbldvcmxkICk7XHJcbiAgICAgICAgICAgIHRoZXRhICs9IC0xNSAqIE1hdGguUEkvMTgwO1xyXG4gICAgICAgICAgICB0aGlzLnRtcFZlYzFbMF0gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnRtcFZlYzFbMl0gPSAtTWF0aC5jb3ModGhldGEpL2hhbGZoZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMudG1wVmVjMVsxXSA9IE1hdGguc2luKHRoZXRhKS9oYWxmaGVpZ2h0OyAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDYW52YXNVSSBjcmVhdGUga2V5Ym9hcmQgMiB0aGV0YT0ke3RoZXRhLnRvRml4ZWQoMil9IG9mZnNldD0ke3RoaXMudmVjVG9TdHIodGhpcy50bXBWZWMxKX1gKTsgXHJcbiAgICAgICAgICAgIHZlYzMuYWRkKCB0aGlzLnRtcFZlYywgdGhpcy50bXBWZWMsIHRoaXMudG1wVmVjMSk7ICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2FudmFzVUkgY3JlYXRlIGtleWJvYXJkIDMgdGhldGE9JHt0aGV0YS50b0ZpeGVkKDIpfSBvZmZzZXQ9JHt0aGlzLnZlY1RvU3RyKHRoaXMudG1wVmVjKX1gKTsgXHJcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IHRoaXMua2V5Ym9hcmQub2JqZWN0O1xyXG4gICAgICAgICAgICBxdWF0LmZyb21FdWxlciggdGhpcy50bXBRdWF0LCAtMTUsIDAsIDAgKTtcclxuICAgICAgICAgICAgb2JqLnJvdGF0ZSggdGhpcy50bXBRdWF0ICk7XHJcbiAgICAgICAgICAgIG9iai50cmFuc2xhdGUoIHRoaXMudG1wVmVjICk7Ly9bMCwgLWhlaWdodCoxMiwgMTJdICk7XHJcbiAgICAgICAgICAgIHZlYzMuZGl2aWRlKHRoaXMudG1wVmVjLCBvYmouc2NhbGluZ0xvY2FsLCBvYmplY3Quc2NhbGluZ1dvcmxkKTtcclxuICAgICAgICAgICAgb2JqLnJlc2V0U2NhbGluZygpO1xyXG4gICAgICAgICAgICBvYmouc2NhbGUodGhpcy50bXBWZWMpO1xyXG4gICAgICAgICAgICBvYmoucGFyZW50ID0gb2JqZWN0O1xyXG4gICAgICAgICAgICBvYmouc2V0RGlydHkoKTtcclxuICAgICAgICAgICAgdGhpcy5rZXlib2FyZC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChjb250ZW50ID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSB7IGJvZHk6IFwiXCIgfTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWcuYm9keS50eXBlID0gXCJ0ZXh0XCI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ0bnMgPSBPYmplY3QudmFsdWVzKGNvbmZpZykuZmlsdGVyKCAodmFsdWUpID0+IHsgcmV0dXJuIHZhbHVlLnR5cGUgPT09IFwiYnV0dG9uXCIgfHwgdmFsdWUub3ZlcmZsb3cgPT09IFwic2Nyb2xsXCIgfHwgdmFsdWUudHlwZSA9PT0gXCJpbnB1dC10ZXh0XCIgfSk7XHJcbiAgICAgICAgICAgIGlmIChidG5zLmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMuaW5pdENvbnRyb2xsZXJzLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZW50cyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLmNvcHkoIGV4dGVudHMsIHRoaXMub2JqZWN0LnNjYWxpbmdXb3JsZCApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29sbGlzaW9uID0gdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KCAnY29sbGlzaW9uJywgeyBjb2xsaWRlcjogMiwgZXh0ZW50cywgZ3JvdXA6IHRoaXMuY29sbGlzaW9uR3JvdXAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEVsZW1lbnRzID0gWyB1bmRlZmluZWQsIHVuZGVmaW5lZCBdO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0UHJlc3NlZCA9IFsgZmFsc2UsIGZhbHNlIF07XHJcbiAgICAgICAgdGhpcy5zY3JvbGxEYXRhID0gWyB1bmRlZmluZWQsIHVuZGVmaW5lZCBdO1xyXG4gICAgICAgIHRoaXMuaW50ZXJzZWN0cyA9IFsgdW5kZWZpbmVkLCB1bmRlZmluZWQgXTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG5cdH1cclxuXHJcbiAgICB2ZWNUb1N0ciggdiwgcHJlY2lzaW9uPTIpe1xyXG4gICAgICAgIGxldCBzdHIgPSBcIlwiO1xyXG4gICAgICAgICBcclxuICAgICAgICBpZiAodil7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPHYubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IHZbaV0udG9GaXhlZChwcmVjaXNpb24pICsgJywgJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuXHRcclxuICAgIC8vcmV0dXJucyB5YXcsIHBpdGNoLCByb2xsXHJcbiAgICBnZXRFdWxlcihvdXQsIHF1YXQpIHtcclxuICAgICAgICBsZXQgeCA9IHF1YXRbMF0sXHJcbiAgICAgICAgICB5ID0gcXVhdFsxXSxcclxuICAgICAgICAgIHogPSBxdWF0WzJdLFxyXG4gICAgICAgICAgdyA9IHF1YXRbM10sXHJcbiAgICAgICAgICB4MiA9IHggKiB4LFxyXG4gICAgICAgICAgeTIgPSB5ICogeSxcclxuICAgICAgICAgIHoyID0geiAqIHosXHJcbiAgICAgICAgICB3MiA9IHcgKiB3O1xyXG4gICAgICAgIGxldCB1bml0ID0geDIgKyB5MiArIHoyICsgdzI7XHJcbiAgICAgICAgbGV0IHRlc3QgPSB4ICogdyAtIHkgKiB6O1xyXG4gICAgICAgIGlmICh0ZXN0ID4gMC40OTk5OTUgKiB1bml0KSB7IC8vVE9ETzogVXNlIGdsbWF0cml4LkVQU0lMT05cclxuICAgICAgICAgIC8vIHNpbmd1bGFyaXR5IGF0IHRoZSBub3J0aCBwb2xlXHJcbiAgICAgICAgICBvdXRbMF0gPSBNYXRoLlBJIC8gMjtcclxuICAgICAgICAgIG91dFsxXSA9IDIgKiBNYXRoLmF0YW4yKHksIHgpO1xyXG4gICAgICAgICAgb3V0WzJdID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRlc3QgPCAtMC40OTk5OTUgKiB1bml0KSB7IC8vVE9ETzogVXNlIGdsbWF0cml4LkVQU0lMT05cclxuICAgICAgICAgIC8vIHNpbmd1bGFyaXR5IGF0IHRoZSBzb3V0aCBwb2xlXHJcbiAgICAgICAgICBvdXRbMF0gPSAtTWF0aC5QSSAvIDI7XHJcbiAgICAgICAgICBvdXRbMV0gPSAyICogTWF0aC5hdGFuMih5LCB4KTtcclxuICAgICAgICAgIG91dFsyXSA9IDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG91dFswXSA9IE1hdGguYXNpbigyICogKHggKiB6IC0gdyAqIHkpKTtcclxuICAgICAgICAgIG91dFsxXSA9IE1hdGguYXRhbjIoMiAqICh4ICogdyArIHkgKiB6KSwgMSAtIDIgKiAoejIgKyB3MikpO1xyXG4gICAgICAgICAgb3V0WzJdID0gTWF0aC5hdGFuMigyICogKHggKiB5ICsgeiAqIHcpLCAxIC0gMiAqICh5MiArIHoyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRPRE86IFJldHVybiB0aGVtIGFzIGRlZ3JlZXMgYW5kIG5vdCBhcyByYWRpYW5zXHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgICAgfVxyXG5cclxuICAgIGdldEludGVyc2VjdFkoIGluZGV4ICl7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5jb25maWcuaGVpZ2h0IHx8IDUxMjtcclxuICAgICAgICBjb25zdCBpbnRlcnNlY3QgPSB0aGlzLmludGVyc2VjdHNbaW5kZXhdO1xyXG4gICAgICAgIGlmIChpbnRlcnNlY3QgPT09IHVuZGVmaW5lZCApIHJldHVybiAwO1xyXG4gICAgICAgIGlmICggaW50ZXJzZWN0Lnh5ID09PSB1bmRlZmluZWQgKSByZXR1cm4gMDtcclxuICAgICAgICByZXR1cm4gaW50ZXJzZWN0Lnh5WzFdO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXQgc2VsZWN0SXNQcmVzc2VkKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0UHJlc3NlZFswXSB8fCB0aGlzLnNlbGVjdFByZXNzZWRbMV07XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENvbnRyb2xsZXJzKHMpe1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHM7XHJcbiAgICAgICAgLy9HZXQgcmF5bGVmdCBhbmQgcmlnaHRcclxuICAgICAgICBjb25zdCByb290ID0gbmV3IE9iamVjdDNEKDApO1xyXG4gICAgICAgIHJvb3QuY2hpbGRyZW4uZm9yRWFjaCggY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQubmFtZSA9PSAnUGxheWVyJyl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcGFjZSA9IGNoaWxkLmNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICAgICAgc3BhY2UuY2hpbGRyZW4uZm9yRWFjaCggY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5uYW1lID09ICdDdXJzb3JMZWZ0JykgdGhpcy5yYXlMZWZ0ID0gY2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ0N1cnNvclJpZ2h0JykgdGhpcy5yYXlSaWdodCA9IGNoaWxkO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCEodGhpcy5yYXlMZWZ0ICYmIHRoaXMucmF5UmlnaHQpKSBjb25zb2xlLndhcm4oICdQbGF5ZXIgQ3Vyc29yTGVmdCBvciBQbGF5ZXIgQ3Vyc29yUmlnaHQgbm90IGZvdW5kJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZnVuY3Rpb24gb25TZWxlY3QoIGV2ZW50ICkgeyAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gKGV2ZW50LmlucHV0U291cmNlLmhhbmRlZG5lc3MgPT09ICdsZWZ0JykgPyAwIDogMTtcclxuICAgICAgICAgICAgY29uc3QgZWxtID0gdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XTtcclxuICAgICAgICAgICAgaWYgKCBlbG0gIT09IHVuZGVmaW5lZCApe1xyXG4gICAgICAgICAgICAgICAgaWYgKCBlbG0udHlwZSA9PSBcImJ1dHRvblwiKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdCggaW5kZXggKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmICggZWxtLnR5cGUgPT0gXCJpbnB1dC10ZXh0XCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggdGhpcy5rZXlib2FyZCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHRoaXMua2V5Ym9hcmQudmlzaWJsZSApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5saW5rZWRVSSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVGV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkRWxlbWVudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVUkgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyggdGhpcy5jb25maWcgKS5mb3JFYWNoKCAoW3Byb3AsIHZhbHVlXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdmFsdWUgPT0gZWxtICkgbmFtZSA9IHByb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSAoMC41LSgoZWxtLnBvc2l0aW9uLnkgKyBlbG0uaGVpZ2h0ICsgdGhpcy5jb25maWcuYm9keS5wYWRkaW5nICkvdGhpcy5jb25maWcuaGVpZ2h0KSkgKiB0aGlzLnBhbmVsU2l6ZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoID0gTWF0aC5tYXgoIHRoaXMucGFuZWxTaXplLndpZHRoLCB0aGlzLnBhbmVsU2l6ZS5oZWlnaHQgKS8yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmtleWJvYXJkLnBvc2l0aW9uLnNldCggWzAsIGgvMS41IC0geSwgLTAuMV0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVGV4dCA9IHRoaXMuY29udGVudFsgbmFtZSBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5saW5rZWROYW1lID0gbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkRWxlbWVudCA9IGVsbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIG9uU2VsZWN0U3RhcnQoIGV2ZW50ICl7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gKGV2ZW50LmlucHV0U291cmNlLmhhbmRlZG5lc3MgPT09ICdsZWZ0JykgPyAwIDogMTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RQcmVzc2VkW2luZGV4XSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICggdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0ub3ZlcmZsb3cgPT0gXCJzY3JvbGxcIil7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbG0gPSB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxEYXRhW2luZGV4XSA9IHsgc2Nyb2xsWTogZWxtLnNjcm9sbFksIHJheVk6IHRoaXMuZ2V0SW50ZXJzZWN0WShpbmRleCkgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBmdW5jdGlvbiBvblNlbGVjdEVuZCggZXZlbnQgKXtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSAoZXZlbnQuaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PT0gJ2xlZnQnKSA/IDAgOiAxO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdFByZXNzZWRbaW5kZXhdID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICggdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0ub3ZlcmZsb3cgPT0gXCJzY3JvbGxcIil7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbERhdGFbaW5kZXhdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignZW5kJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoICdzZWxlY3QnLCBvblNlbGVjdC5iaW5kKHRoaXMpICk7XHJcbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCAnc2VsZWN0c3RhcnQnLCBvblNlbGVjdFN0YXJ0LmJpbmQodGhpcykgKTtcclxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoICdzZWxlY3RlbmQnLCBvblNlbGVjdEVuZC5iaW5kKHRoaXMpICk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q2xpcCggZWxtICl7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcclxuICAgICAgICBcclxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZWxtLmNsaXBQYXRoICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gbmV3IFBhdGgyRCggZWxtLmNsaXBQYXRoICk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xpcCggcGF0aCApO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjb25zdCBwb3MgPSAoZWxtLnBvc2l0aW9uIT09dW5kZWZpbmVkKSA/IGVsbS5wb3NpdGlvbiA6IHsgeDowLCB5OiAwIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGJvcmRlclJhZGl1cyA9IGVsbS5ib3JkZXJSYWRpdXMgfHwgMDtcclxuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBlbG0ud2lkdGggfHwgdGhpcy5jb25maWcud2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGVsbS5oZWlnaHQgfHwgdGhpcy5jb25maWcuaGVpZ2h0O1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGJvcmRlclJhZGl1cyAhPT0gMCl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguUEkvMjtcclxuICAgICAgICAgICAgICAgIC8vc3RhcnQgdG9wIGxlZnRcclxuICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBvcy54ICsgYm9yZGVyUmFkaXVzLCBwb3MueSApO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoIHBvcy54ICsgYm9yZGVyUmFkaXVzLCBwb3MueSArIGJvcmRlclJhZGl1cywgYm9yZGVyUmFkaXVzLCBhbmdsZSwgYW5nbGUqMiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyggcG9zLngsIHBvcy55ICsgaGVpZ2h0IC0gYm9yZGVyUmFkaXVzICk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyggcG9zLnggKyBib3JkZXJSYWRpdXMsIHBvcy55ICsgaGVpZ2h0IC0gYm9yZGVyUmFkaXVzLCBib3JkZXJSYWRpdXMsIDAsIGFuZ2xlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKCBwb3MueCArIHdpZHRoIC0gYm9yZGVyUmFkaXVzLCBwb3MueSArIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyggcG9zLnggKyB3aWR0aCAtIGJvcmRlclJhZGl1cywgcG9zLnkgKyBoZWlnaHQgLSBib3JkZXJSYWRpdXMsIGJvcmRlclJhZGl1cywgYW5nbGUqMywgYW5nbGUqNCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyggcG9zLnggKyB3aWR0aCwgcG9zLnkgKyBib3JkZXJSYWRpdXMgKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKCBwb3MueCArIHdpZHRoIC0gYm9yZGVyUmFkaXVzLCBwb3MueSArIGJvcmRlclJhZGl1cywgYm9yZGVyUmFkaXVzLCBhbmdsZSoyLCBhbmdsZSozLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlY3QoIHBvcy54LCBwb3MueSwgd2lkdGgsIGhlaWdodCApO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5LCB6KXtcclxuICAgICAgICBpZiAodGhpcy5tZXNoID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgICAgICB0aGlzLm1lc2gucG9zaXRpb24uc2V0KHgsIHksIHopO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFJvdGF0aW9uKHgsIHksIHope1xyXG4gICAgICAgIGlmICh0aGlzLm1lc2ggPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMubWVzaC5yb3RhdGlvbi5zZXQoeCwgeSwgeik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRWxlbWVudCggbmFtZSwgY29udGVudCApe1xyXG4gICAgICAgIGxldCBlbG0gPSB0aGlzLmNvbnRlbnRbbmFtZV07XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGVsbT09PXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybiggYENhbnZhc1VJLnVwZGF0ZUVsZW1lbnQ6IE5vICR7bmFtZX0gZm91bmRgKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAodHlwZW9mIGVsbSA9PT0gJ29iamVjdCcpe1xyXG4gICAgICAgICAgICBlbG0uY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGVsbSA9IGNvbnRlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY29udGVudFtuYW1lXSA9IGVsbTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0IHBhbmVsKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzaDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFbGVtZW50QXRMb2NhdGlvbiggeCwgeSApe1xyXG4gICAgICAgIGNvbnN0IGVsbXMgPSBPYmplY3QuZW50cmllcyggdGhpcy5jb25maWcgKS5maWx0ZXIoIChbIG5hbWUsIGVsbSBdKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZWxtID09PSAnb2JqZWN0JyAmJiBuYW1lICE9PSAncGFuZWxTaXplJyAmJiBuYW1lICE9PSAnYm9keScpey8vICYmICEoZWxtIGluc3RhbmNlb2YgV2ViR0xSZW5kZXJlcikgJiYgIShlbG0gaW5zdGFuY2VvZiBTY2VuZSkpe1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gZWxtLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSAoZWxtLndpZHRoICE9PSB1bmRlZmluZWQpID8gZWxtLndpZHRoIDogdGhpcy5jb25maWcud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSAoZWxtLmhlaWdodCAhPT0gdW5kZWZpbmVkKSA/IGVsbS5oZWlnaHQgOiB0aGlzLmNvbmZpZy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHg+PXBvcy54ICYmIHg8KHBvcy54K3dpZHRoKSAmJiB5Pj1wb3MueSAmJiB5PChwb3MueSArIGhlaWdodCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgZWxtID0gKGVsbXMubGVuZ3RoPT0wKSA/IG51bGwgOiB0aGlzLmNvbmZpZ1tlbG1zWzBdWzBdXTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGBzZWxlY3RlZCA9ICR7ZWxtfWApO1xyXG4gICAgICAgIHJldHVybiBlbG07XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29uZmlnKCBuYW1lLCBwcm9wZXJ0eSwgdmFsdWUgKXsgIFxyXG4gICAgICAgIGxldCBlbG0gPSB0aGlzLmNvbmZpZ1tuYW1lXTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZWxtPT09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCBgQ2FudmFzVUkudXBkYXRlY29uZmlnOiBObyAke25hbWV9IGZvdW5kYCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgZWxtW3Byb3BlcnR5XSA9IHZhbHVlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGhvdmVyKCBpbmRleCA9IDAsIHh5ICl7XHJcbiAgICAgICAgaWYgKHh5ID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSAhPT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjb25zdCB4ID0geHlbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSB4eVsxXTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyggYGhvdmVyIHV2OiR7dXYueC50b0ZpeGVkKDIpfSwke3V2LnkudG9GaXhlZCgyKX0+PnRleHR1cmVQb3M6JHt4LnRvRml4ZWQoMCl9LCAke3kudG9GaXhlZCgwKX1gKTtcclxuICAgICAgICAgICAgY29uc3QgZWxtID0gdGhpcy5nZXRFbGVtZW50QXRMb2NhdGlvbiggeCwgeSApO1xyXG4gICAgICAgICAgICBpZiAoZWxtPT09bnVsbCl7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0gIT09IHVuZGVmaW5lZCApe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKCB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdICE9PSBlbG0gKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0gPSBlbG07XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNlbGVjdCggaW5kZXggPSAwLCBtb3VzZT1mYWxzZSApe1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBjb25zdCBlbG0gPSB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoZWxtLm9uU2VsZWN0KSBlbG0ub25TZWxlY3QoKTtcclxuICAgICAgICAgICAgaWYgKGVsbS50eXBlID09PSAnaW5wdXQtdGV4dCcpe1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vdXNlKXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIHRoaXMua2V5Ym9hcmQgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGlzLmtleWJvYXJkLnZpc2libGUgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVUkgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZFRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZEVsZW1lbnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZFVJID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoIHRoaXMuY29uZmlnICkuZm9yRWFjaCggKFtwcm9wLCB2YWx1ZV0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHZhbHVlID09IGVsbSApIG5hbWUgPSBwcm9wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gKDAuNS0oKGVsbS5wb3NpdGlvbi55ICsgZWxtLmhlaWdodCArIHRoaXMuY29uZmlnLmJvZHkucGFkZGluZyApL3RoaXMuY29uZmlnLmhlaWdodCkpICogdGhpcy5wYW5lbFNpemUuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaCA9IE1hdGgubWF4KCB0aGlzLnBhbmVsU2l6ZS53aWR0aCwgdGhpcy5wYW5lbFNpemUuaGVpZ2h0ICkvMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5rZXlib2FyZC5wb3NpdGlvbi5zZXQoIFswLCBoLzEuNSAtIHksIC0wLjFdICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZFRleHQgPSB0aGlzLmNvbnRlbnRbIG5hbWUgXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkTmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZEVsZW1lbnQgPSBlbG07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC52aXNpYmxlID0gKHRoaXMua2V5Ym9hcmQudmlzaWJsZSkgPyBmYWxzZSA6IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgc2Nyb2xsKCBpbmRleCApe1xyXG5cclxuICAgICAgICBpZiAoIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0gPT09IHVuZGVmaW5lZCApe1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnRlcnNlY3RNZXNoKSB0aGlzLmludGVyc2VjdE1lc2hbaW5kZXhdLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgaWYgKCB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdLm92ZXJmbG93ICE9PSAnc2Nyb2xsJykgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGVsbSA9IHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgaWYgKCB0aGlzLnNlbGVjdFByZXNzZWRbaW5kZXhdICl7IFxyXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxEYXRhID0gdGhpcy5zY3JvbGxEYXRhW2luZGV4XTtcclxuICAgICAgICAgICAgaWYgKHNjcm9sbERhdGEgIT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnRlcnNlY3RNZXNoKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyc2VjdE1lc2hbaW5kZXhdLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0TWVzaFtpbmRleF0ucG9zaXRpb24uY29weSggdGhpcy5pbnRlcnNlY3RzW2luZGV4XS5wb2ludCApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmF5WSA9IHRoaXMuZ2V0SW50ZXJzZWN0WSggaW5kZXggKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHJheVkgLSBzY3JvbGxEYXRhLnJheVk7XHJcbiAgICAgICAgICAgICAgICBlbG0uc2Nyb2xsWSA9IE1hdGgubWluKCBNYXRoLm1heCggZWxtLm1pblNjcm9sbFksIHNjcm9sbERhdGEuc2Nyb2xsWSArIG9mZnNldCksIDAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmludGVyc2VjdE1lc2gpIHRoaXMuaW50ZXJzZWN0TWVzaFtpbmRleF0udmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICAgICBcclxuICAgIHdvcmxkVG9DYW52YXMoIHBvcyApe1xyXG4gICAgICAgIHRoaXMub2JqZWN0LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKCB0aGlzLnRtcFZlYywgcG9zICk7XHJcbiAgICAgICAgdmVjMy5jb3B5KCB0aGlzLnRtcFZlYzEsIHRoaXMub2JqZWN0LnNjYWxpbmdXb3JsZCApO1xyXG4gICAgICAgIHZlYzMuZGl2KCB0aGlzLnRtcFZlYywgdGhpcy50bXBWZWMsIHRoaXMudG1wVmVjMSApO1xyXG4gICAgICAgIGNvbnN0IHh5ID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcclxuICAgICAgICB4eVswXSA9ICgodGhpcy50bXBWZWNbMF0rMSkvMikgKiB0aGlzLmNvbmZpZy53aWR0aDtcclxuICAgICAgICB4eVsxXSA9ICgxLSh0aGlzLnRtcFZlY1sxXSsxKS8yKSAqIHRoaXMuY29uZmlnLmhlaWdodDtcclxuICAgICAgICAvL29iajoke3RoaXMudG1wVmVjWzBdLnRvRml4ZWQoMil9LCR7dGhpcy50bXBWZWNbMl0udG9GaXhlZCgyKX1gO1xyXG4gICAgICAgIC8vY29uc3Qgc3RyID0gYHBvczoke3Bvc1swXS50b0ZpeGVkKDIpfSwke3Bvc1sxXS50b0ZpeGVkKDIpfSB4eToke3h5WzBdLnRvRml4ZWQoMil9LCR7eHlbMV0udG9GaXhlZCgyKX1gO1xyXG4gICAgICAgIC8vdGhpcy51cGRhdGVFbGVtZW50KCdpbmZvJywgc3RyKTtcclxuICAgICAgICAvL2lmICh0aGlzLnNlbGVjdElzUHJlc3NlZCkgY29uc29sZS5sb2coYENhbnZhc1VJLndvcmxkVG9DYW52YXMgJHtzdHJ9YCk7XHJcbiAgICAgICAgcmV0dXJuIHh5O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoYW5kbGVDb250cm9sbGVyKCBjb250cm9sbGVyLCBpbmRleCApe1xyXG4gICAgICAgIGlmIChjb250cm9sbGVyPT1udWxsKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnRyb2xsZXIuZ2V0VHJhbnNsYXRpb25Xb3JsZCggdGhpcy50bXBWZWMgKTtcclxuICAgICAgICBjb250cm9sbGVyLmdldEZvcndhcmQoIHRoaXMudG1wVmVjMSApO1xyXG5cclxuICAgICAgICBjb25zdCBpbnRlcnNlY3RzID0gV0wuc2NlbmUucmF5Q2FzdCggdGhpcy50bXBWZWMsIHRoaXMudG1wVmVjMSwgdGhpcy5jb2xsaXNpb25Hcm91cCwgMTAwICk7XHJcblxyXG4gICAgICAgIGlmIChpbnRlcnNlY3RzLmhpdENvdW50PjApe1xyXG4gICAgICAgICAgICBpbnRlcnNlY3RzLnh5ID0gdGhpcy53b3JsZFRvQ2FudmFzKCBpbnRlcnNlY3RzLmxvY2F0aW9uc1swXSApO1xyXG4gICAgICAgICAgICB0aGlzLmhvdmVyKCBpbmRleCwgaW50ZXJzZWN0cy54eSApO1xyXG4gICAgICAgICAgICB0aGlzLmludGVyc2VjdHNbaW5kZXhdID0gaW50ZXJzZWN0cztcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwoIGluZGV4ICk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuaG92ZXIoIGluZGV4ICk7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0c1tpbmRleF0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsKCBpbmRleCApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG5cdHVwZGF0ZSgpeyAgICAgICAgXHJcbiAgICAgICAgaWYgKCB0aGlzLnJheUxlZnQgKSB0aGlzLmhhbmRsZUNvbnRyb2xsZXIoIHRoaXMucmF5TGVmdCwgMCApO1xyXG4gICAgICAgIGlmICggdGhpcy5yYXlSaWdodCApIHRoaXMuaGFuZGxlQ29udHJvbGxlciggdGhpcy5yYXlSaWdodCwgMSApO1xyXG5cclxuICAgICAgICBpZiAoIHRoaXMua2V5Ym9hcmQgJiYgdGhpcy5rZXlib2FyZC52aXNpYmxlICkgdGhpcy5rZXlib2FyZC51cGRhdGUoKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoICF0aGlzLm5lZWRzVXBkYXRlICkgcmV0dXJuO1xyXG5cdFx0XHJcblx0XHRsZXQgY29udGV4dCA9IHRoaXMuY29udGV4dDtcclxuXHRcdFxyXG5cdFx0Y29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jb25maWcud2lkdGgsIHRoaXMuY29uZmlnLmhlaWdodCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgYmdDb2xvciA9ICggdGhpcy5jb25maWcuYm9keS5iYWNrZ3JvdW5kQ29sb3IgKSA/IHRoaXMuY29uZmlnLmJvZHkuYmFja2dyb3VuZENvbG9yIDogXCIjMDAwXCI7XHJcbiAgICAgICAgY29uc3QgZm9udEZhbWlseSA9ICggdGhpcy5jb25maWcuYm9keS5mb250RmFtaWx5ICkgPyB0aGlzLmNvbmZpZy5ib2R5LmZvbnRGYW1pbHkgOiBcIkFyaWFsXCI7XHJcbiAgICAgICAgY29uc3QgZm9udENvbG9yID0gKCB0aGlzLmNvbmZpZy5ib2R5LmZvbnRDb2xvciApID8gdGhpcy5jb25maWcuYm9keS5mb250Q29sb3IgOiBcIiNmZmZcIjtcclxuICAgICAgICBjb25zdCBmb250U2l6ZSA9ICggdGhpcy5jb25maWcuYm9keS5mb250U2l6ZSApID8gdGhpcy5jb25maWcuYm9keS5mb250U2l6ZSA6IDMwO1xyXG4gICAgICAgIHRoaXMuc2V0Q2xpcCh0aGlzLmNvbmZpZy5ib2R5KTtcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGJnQ29sb3I7XHJcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCggMCwgMCwgdGhpcy5jb25maWcud2lkdGgsIHRoaXMuY29uZmlnLmhlaWdodCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5jb250ZW50KS5mb3JFYWNoKCAoW25hbWUsIGNvbnRlbnRdKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9ICh0aGlzLmNvbmZpZ1tuYW1lXSE9PXVuZGVmaW5lZCkgPyB0aGlzLmNvbmZpZ1tuYW1lXSA6IHRoaXMuY29uZmlnLmJvZHk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3BsYXkgPSAoY29uZmlnLmRpc3BsYXkgIT09IHVuZGVmaW5lZCkgPyBjb25maWcuZGlzcGxheSA6ICdibG9jayc7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoZGlzcGxheSAhPT0gJ25vbmUnKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9IChjb25maWcucG9zaXRpb24hPT11bmRlZmluZWQpID8gY29uZmlnLnBvc2l0aW9uIDogeyB4OiAwLCB5OiAwIH07ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSAoY29uZmlnLndpZHRoIT09dW5kZWZpbmVkKSA/IGNvbmZpZy53aWR0aCA6IHRoaXMuY29uZmlnLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGNvbmZpZy5oZWlnaHQhPT11bmRlZmluZWQpID8gY29uZmlnLmhlaWdodCA6IHRoaXMuY29uZmlnLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLnR5cGUgPT0gXCJidXR0b25cIiAmJiAhY29udGVudC50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoXCI8cGF0aD5cIikpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggY29uZmlnLmJvcmRlclJhZGl1cyA9PT0gdW5kZWZpbmVkKSBjb25maWcuYm9yZGVyUmFkaXVzID0gNjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGNvbmZpZy50ZXh0QWxpZ24gPT09IHVuZGVmaW5lZCApIGNvbmZpZy50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENsaXAoIGNvbmZpZyApO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdmdQYXRoID0gY29udGVudC50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoXCI8cGF0aD5cIik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBob3ZlciA9ICgodGhpcy5zZWxlY3RlZEVsZW1lbnRzWzBdICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWxlY3RlZEVsZW1lbnRzWzBdID09PSBjb25maWcpfHwodGhpcy5zZWxlY3RlZEVsZW1lbnRzWzFdICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWxlY3RlZEVsZW1lbnRzWzFdID09PSBjb25maWcpKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKCBjb25maWcuYmFja2dyb3VuZENvbG9yICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChob3ZlciAmJiBjb25maWcudHlwZT09IFwiYnV0dG9uXCIgJiYgY29uZmlnLmhvdmVyICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbmZpZy5ob3ZlcjtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjb25maWcuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KCBwb3MueCwgcG9zLnksIHdpZHRoLCBoZWlnaHQgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLnR5cGUgPT0gXCJ0ZXh0XCIgfHwgY29uZmlnLnR5cGUgPT0gXCJidXR0b25cIiB8fCBjb25maWcudHlwZSA9PSBcImlucHV0LXRleHRcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0cm9rZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChob3Zlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3ZnUGF0aCAmJiBjb25maWcudHlwZSA9PSBcImJ1dHRvblwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gKGNvbmZpZy5mb250Q29sb3IgIT09IHVuZGVmaW5lZCkgPyBjb25maWcuZm9udENvbG9yIDogZm9udENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gKGNvbmZpZy5ob3ZlciAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5ob3ZlciA6ICggY29uZmlnLmZvbnRDb2xvciAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5mb250Q29sb3IgOiBmb250Q29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlID0gKGNvbmZpZy5ob3ZlciA9PT0gdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAoY29uZmlnLmZvbnRDb2xvciAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5mb250Q29sb3IgOiBmb250Q29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggc3ZnUGF0aCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2RlID0gY29udGVudC50b1VwcGVyQ2FzZSgpLnN1YnN0cmluZyg2LCBjb250ZW50Lmxlbmd0aCAtIDcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoIHBvcy54LCBwb3MueSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gbmV3IFBhdGgyRChjb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsKHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cmFwVGV4dCggbmFtZSwgY29udGVudCApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiI2ZmZlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdCggcG9zLngsIHBvcy55LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoY29uZmlnLnR5cGUgPT0gXCJpbWdcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5pbWcgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZEltYWdlKGNvbnRlbnQpLnRoZW4oaW1nID0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYHc6ICR7aW1nLndpZHRofSB8IGg6ICR7aW1nLmhlaWdodH1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5pbWcgPSBpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7ICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzcGVjdCA9IGNvbmZpZy5pbWcud2lkdGgvY29uZmlnLmltZy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGggPSB3aWR0aC9hc3BlY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKCBjb25maWcuaW1nLCBwb3MueCwgcG9zLnksIHdpZHRoLCBoICk7ICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cdFx0XHJcbiAgICAgICAgaWYgKHRoaXMuY2FudmFzVGV4dHVyZSkgdGhpcy5jYW52YXNUZXh0dXJlLnVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSBmYWxzZTtcclxuXHR9XHJcblx0XHJcbiAgICBsb2FkSW1hZ2Uoc3JjKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHJlc29sdmUoaW1nKSk7XHJcbiAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBlcnIgPT4gcmVqZWN0KGVycikpO1xyXG4gICAgICAgIGltZy5zcmMgPSBzcmM7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHRjcmVhdGVPZmZzY3JlZW5DYW52YXModywgaCkge1xyXG5cdFx0Y29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcblx0XHRjYW52YXMud2lkdGggPSB3O1xyXG5cdFx0Y2FudmFzLmhlaWdodCA9IGg7XHJcblx0XHRyZXR1cm4gY2FudmFzO1xyXG5cdH1cclxuXHRcclxuICAgIGZpbGxSb3VuZGVkUmVjdCggeCwgeSwgdywgaCwgcmFkaXVzICl7XHJcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKHggKyByYWRpdXMsIHkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIHcgLSByYWRpdXMsIHkpO1xyXG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3LCB5LCB4ICsgdywgeSArIHJhZGl1cyk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdywgeSArIGggLSByYWRpdXMpO1xyXG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3LCB5ICsgaCwgeCArIHcgLSByYWRpdXMsIHkgKyBoKTtcclxuICAgICAgICBjdHgubGluZVRvKHggKyByYWRpdXMsIHkgKyBoKTtcclxuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5ICsgaCwgeCwgeSArIGggLSByYWRpdXMpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCwgeSArIHJhZGl1cyk7XHJcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCwgeSwgeCArIHJhZGl1cywgeSk7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGxvb2tBdCggcG9zICl7XHJcbiAgICAgICAgaWYgKCB0aGlzLm1lc2ggPT09IHVuZGVmaW5lZCApIHJldHVybjtcclxuICAgICAgICBpZiAoICEocG9zIGluc3RhbmNlb2YgVmVjdG9yMykgKXtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvciggJ0NhbnZhc1VJIGxvb2tBdCBjYWxsZWQgcGFyYW1ldGVyIG5vdCBhIFRIUkVFLlZlY3RvcjMnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1lc2gubG9va0F0KCBwb3MgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0IHZpc2libGUoKXtcclxuICAgICAgICBpZiAodGhpcy5tZXNoID09PSB1bmRlZmluZWQgKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzaC5hY3RpdmU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldCB2aXNpYmxlKHZhbHVlKXtcclxuICAgICAgICBpZiAodGhpcy5tZXNoKXtcclxuICAgICAgICAgICAgdGhpcy5tZXNoLmFjdGl2ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0IHBvc2l0aW9uKCl7XHJcbiAgICAgICAgaWYgKHRoaXMub2JqZWN0ID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCggdGhpcy50bXBWZWMgKTtcclxuICAgICAgICByZXR1cm4gdGhpcy50bXBWZWM7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldCBwb3NpdGlvbih2YWx1ZSl7XHJcbiAgICAgICAgaWYgKHRoaXMub2JqZWN0ID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgICAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkgKXtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvciggJ0NhbnZhc1VJIHRyeWluZyB0byBzZXQgdGhlIG9iamVjdCBwb3NpdGlvbiB1c2luZyBhIHBhcmFtZXRlciB0aGF0IGlzIG5vdCBhIEZsb2F0MzJBcnJheScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub2JqZWN0LnNldFRyYW5zbGF0aW9uV29ybGQoIHZhbHVlICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldCBxdWF0ZXJuaW9uKCl7XHJcbiAgICAgICAgaWYgKHRoaXMub2JqZWN0ID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCggdGhpcy50bXBWZWMgKTtcclxuICAgICAgICByZXR1cm4gdGhpcy50bXBWZWM7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldCBxdWF0ZXJuaW9uKHZhbHVlKXtcclxuICAgICAgICBpZiAodGhpcy5tZXNoID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgICAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIFFVYXRlcm5pb24pICl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoICdDYW52YXNVSSB0cnlpbmcgdG8gc2V0IHRoZSBvYmplY3QgcXVhdGVybmlvbiB1c2luZyBhIHBhcmFtZXRlciB0aGF0IGlzIG5vdCBhIFRIUkVFLlF1YXRlcm5pb24nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1lc2gucXVhdGVybmlvbi5jb3B5KCB2YWx1ZSApO1xyXG4gICAgfVxyXG4gICAgXHJcblx0d3JhcFRleHQobmFtZSwgdHh0KXtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCBgd3JhcFRleHQ6ICR7bmFtZX06JHt0eHR9YCk7XHJcblx0XHRjb25zdCB3b3JkcyA9IHR4dC5zcGxpdCgnICcpO1xyXG4gICAgICAgIGxldCBsaW5lID0gJyc7XHJcblx0XHRjb25zdCBsaW5lcyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9ICh0aGlzLmNvbmZpZ1tuYW1lXSE9PXVuZGVmaW5lZCkgPyB0aGlzLmNvbmZpZ1tuYW1lXSA6IHRoaXMuY29uZmlnLmJvZHk7XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSAoY29uZmlnLndpZHRoIT09dW5kZWZpbmVkKSA/IGNvbmZpZy53aWR0aCA6IHRoaXMuY29uZmlnLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IChjb25maWcuaGVpZ2h0IT09dW5kZWZpbmVkKSA/IGNvbmZpZy5oZWlnaHQgOiB0aGlzLmNvbmZpZy5oZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgcG9zID0gKGNvbmZpZy5wb3NpdGlvbiE9PXVuZGVmaW5lZCkgPyBjb25maWcucG9zaXRpb24gOiB7IHg6MCwgeTowIH07XHJcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IChjb25maWcucGFkZGluZyE9PXVuZGVmaW5lZCkgPyBjb25maWcucGFkZGluZyA6ICh0aGlzLmNvbmZpZy5ib2R5LnBhZGRpbmchPT11bmRlZmluZWQpID8gdGhpcy5jb25maWcuYm9keS5wYWRkaW5nIDogMTA7XHJcbiAgICAgICAgY29uc3QgcGFkZGluZ1RvcCA9IChjb25maWcucGFkZGluZ1RvcCE9PXVuZGVmaW5lZCkgPyBjb25maWcucGFkZGluZ1RvcCA6IHBhZGRpbmc7XHJcbiAgICAgICAgY29uc3QgcGFkZGluZ0xlZnQgPSAoY29uZmlnLnBhZGRpbmdMZWZ0IT09dW5kZWZpbmVkKSA/IGNvbmZpZy5wYWRkaW5nTGVmdCA6IHBhZGRpbmc7XHJcbiAgICAgICAgY29uc3QgcGFkZGluZ0JvdHRvbSA9IChjb25maWcucGFkZGluZ0JvdHRvbSE9PXVuZGVmaW5lZCkgPyBjb25maWcucGFkZGluZ0JvdHRvbSA6IHBhZGRpbmc7XHJcbiAgICAgICAgY29uc3QgcGFkZGluZ1JpZ2h0ID0gKGNvbmZpZy5wYWRkaW5nUmlnaHQhPT11bmRlZmluZWQpID8gY29uZmlnLnBhZGRpbmdSaWdodCA6IHBhZGRpbmc7XHJcbiAgICAgICAgY29uc3QgcmVjdCA9IHsgeDpwb3MueCtwYWRkaW5nTGVmdCwgeTpwb3MueStwYWRkaW5nVG9wLCB3aWR0aDogd2lkdGggLSBwYWRkaW5nTGVmdCAtIHBhZGRpbmdSaWdodCwgaGVpZ2h0OiBoZWlnaHQgLSBwYWRkaW5nVG9wIC0gcGFkZGluZ0JvdHRvbSB9O1xyXG4gICAgICAgIGNvbnN0IHRleHRBbGlnbiA9IChjb25maWcudGV4dEFsaWduICE9PSB1bmRlZmluZWQpID8gY29uZmlnLnRleHRBbGlnbiA6ICh0aGlzLmNvbmZpZy5ib2R5LnRleHRBbGlnbiAhPT0gdW5kZWZpbmVkKSA/IHRoaXMuY29uZmlnLmJvZHkudGV4dEFsaWduIDogXCJsZWZ0XCI7XHJcbiAgICAgICAgY29uc3QgZm9udFNpemUgPSAoY29uZmlnLmZvbnRTaXplICE9PSB1bmRlZmluZWQgKSA/IGNvbmZpZy5mb250U2l6ZSA6ICggdGhpcy5jb25maWcuYm9keS5mb250U2l6ZSAhPT0gdW5kZWZpbmVkKSA/IHRoaXMuY29uZmlnLmJvZHkuZm9udFNpemUgOiAzMDtcclxuICAgICAgICBjb25zdCBmb250RmFtaWx5ID0gKGNvbmZpZy5mb250RmFtaWx5IT09dW5kZWZpbmVkKSA/IGNvbmZpZy5mb250RmFtaWx5IDogKHRoaXMuY29uZmlnLmJvZHkuZm9udEZhbWlseSE9PXVuZGVmaW5lZCkgPyB0aGlzLmNvbmZpZy5ib2R5LmZvbnRGYW1pbHkgOiAnQXJpYWwnO1xyXG4gICAgICAgIGNvbnN0IGxlYWRpbmcgPSAoY29uZmlnLmxlYWRpbmcgIT09IHVuZGVmaW5lZCkgPyBjb25maWcubGVhZGluZyA6ICh0aGlzLmNvbmZpZy5ib2R5LmxlYWRpbmcgIT09IHVuZGVmaW5lZCkgPyB0aGlzLmNvbmZpZy5ib2R5LmxlYWRpbmcgOiA4O1xyXG5cdFx0Y29uc3QgbGluZUhlaWdodCA9IGZvbnRTaXplICsgbGVhZGluZztcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gdGV4dEFsaWduO1xyXG4gICAgICAgIFxyXG5cdFx0Y29udGV4dC5mb250ID0gYCR7Zm9udFNpemV9cHggJyR7Zm9udEZhbWlseX0nYDtcclxuXHRcdFxyXG4gICAgICAgIHdvcmRzLmZvckVhY2goIGZ1bmN0aW9uKHdvcmQpe1xyXG5cdFx0XHRsZXQgdGVzdExpbmUgPSAod29yZHMubGVuZ3RoPjEpID8gYCR7bGluZX0ke3dvcmR9IGAgOiB3b3JkO1xyXG4gICAgICAgIFx0bGV0IG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRlc3RMaW5lKTtcclxuICAgICAgICBcdGlmIChtZXRyaWNzLndpZHRoID4gcmVjdC53aWR0aCAmJiB3b3JkLmxlbmd0aD4xKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGg9PTAgJiYgbWV0cmljcy53aWR0aCA+IHJlY3Qud2lkdGgpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vd29yZCB0b28gbG9uZ1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlKG1ldHJpY3Mud2lkdGggPiByZWN0LndpZHRoKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG97XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0TGluZSA9IHdvcmQuc3Vic3RyKDAsIGNvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRlc3RMaW5lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfXdoaWxlKG1ldHJpY3Mud2lkdGggPCByZWN0LndpZHRoICYmIGNvdW50IDwgKHdvcmQubGVuZ3RoLTEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVzdExpbmUgPSB3b3JkLnN1YnN0cigwLCBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goIHRlc3RMaW5lICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmQgPSB3b3JkLnN1YnN0cihjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudDw9MSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHdvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAod29yZCAhPSBcIlwiKSBsaW5lcy5wdXNoKHdvcmQpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcblx0XHRcdFx0ICAgIGxpbmVzLnB1c2gobGluZSk7XHJcblx0XHRcdFx0ICAgIGxpbmUgPSBgJHt3b3JkfSBgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cdFx0XHR9ZWxzZSB7XHJcblx0XHRcdFx0bGluZSA9IHRlc3RMaW5lO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0aWYgKGxpbmUgIT0gJycpIGxpbmVzLnB1c2gobGluZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgdGV4dEhlaWdodCA9IGxpbmVzLmxlbmd0aCAqIGxpbmVIZWlnaHQ7XHJcbiAgICAgICAgbGV0IHNjcm9sbFkgPSAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0ZXh0SGVpZ2h0PnJlY3QuaGVpZ2h0ICYmIGNvbmZpZy5vdmVyZmxvdyA9PT0gJ3Njcm9sbCcpe1xyXG4gICAgICAgICAgICAvL1Nob3cgYSBzY3JvbGwgYmFyXHJcbiAgICAgICAgICAgIGlmICggY29uZmlnLnNjcm9sbFkgPT09IHVuZGVmaW5lZCApIGNvbmZpZy5zY3JvbGxZID0gMDtcclxuICAgICAgICAgICAgY29uc3QgZm9udENvbG9yID0gKCBjb25maWcuZm9udENvbG9yICE9PSB1bmRlZmluZWQgKSA/IGNvbmZpZy5mb250Q29sb3IgOiB0aGlzLmNvbmZpZy5ib2R5LmZvbnRDb2xvcjtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiNhYWFcIjtcclxuICAgICAgICAgICAgdGhpcy5maWxsUm91bmRlZFJlY3QoIHBvcy54ICsgd2lkdGggLSAxMiwgcG9zLnksIDEyLCBoZWlnaHQsIDYgKTtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiM2NjZcIjtcclxuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSByZWN0LmhlaWdodCAvIHRleHRIZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHRodW1iSGVpZ2h0ID0gc2NhbGUgKiBoZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHRodW1iWSA9IC1jb25maWcuc2Nyb2xsWSAqIHNjYWxlO1xyXG4gICAgICAgICAgICB0aGlzLmZpbGxSb3VuZGVkUmVjdCggcG9zLnggKyB3aWR0aCAtIDEyLCBwb3MueSArIHRodW1iWSwgMTIsIHRodW1iSGVpZ2h0LCA2KTtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmb250Q29sb3I7XHJcbiAgICAgICAgICAgIHNjcm9sbFkgPSBjb25maWcuc2Nyb2xsWTtcclxuICAgICAgICAgICAgY29uZmlnLm1pblNjcm9sbFkgPSByZWN0LmhlaWdodCAtIHRleHRIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG5cdFx0XHJcblx0XHRsZXQgeSA9IHNjcm9sbFkgKyByZWN0LnkgKyBmb250U2l6ZS8yO1xyXG5cdFx0bGV0IHg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc3dpdGNoKCB0ZXh0QWxpZ24gKXtcclxuICAgICAgICAgICAgY2FzZSBcImNlbnRlclwiOlxyXG4gICAgICAgICAgICAgICAgeCA9IHJlY3QueCArIHJlY3Qud2lkdGgvMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgICAgICAgICAgIHggPSByZWN0LnggKyByZWN0LndpZHRoO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB4ID0gcmVjdC54O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cdFx0bGluZXMuZm9yRWFjaCggKGxpbmUpID0+IHtcclxuICAgICAgICAgICAgaWYgKCh5ICsgbGluZUhlaWdodCkgPiAwKSBjb250ZXh0LmZpbGxUZXh0KGxpbmUsIHgsIHkpO1xyXG5cdFx0XHR5ICs9IGxpbmVIZWlnaHQ7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCB7IENhbnZhc1VJIH07IiwgImltcG9ydCAqIGFzIF9fd29uZGVybGFuZGVuZ2luZV9jb21wb25lbnRzIGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9fd29uZGVybGFuZGVuZ2luZV9jb21wb25lbnRzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19DYW52YXNVSV9qcyBmcm9tICdEOi9HaXRIdWIvdG93ZXItZGVmZW5jZS9qcy9DYW52YXNVSS5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0RfX0dpdEh1Yl90b3dlcl9kZWZlbmNlX2pzX0NhbnZhc1VJX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19DYW52YXNVSTJfanMgZnJvbSAnRDovR2l0SHViL3Rvd2VyLWRlZmVuY2UvanMvQ2FudmFzVUkyLmpzJztcbl9yZWdpc3RlckVkaXRvcihfRF9fR2l0SHViX3Rvd2VyX2RlZmVuY2VfanNfQ2FudmFzVUkyX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19EYXlOaWdodF9qcyBmcm9tICdEOi9HaXRIdWIvdG93ZXItZGVmZW5jZS9qcy9EYXlOaWdodC5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0RfX0dpdEh1Yl90b3dlcl9kZWZlbmNlX2pzX0RheU5pZ2h0X2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19idWxsZXRfcGh5c2ljc19qcyBmcm9tICdEOi9HaXRIdWIvdG93ZXItZGVmZW5jZS9qcy9idWxsZXQtcGh5c2ljcy5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0RfX0dpdEh1Yl90b3dlcl9kZWZlbmNlX2pzX2J1bGxldF9waHlzaWNzX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19idWxsZXRfc3Bhd25lcl9qcyBmcm9tICdEOi9HaXRIdWIvdG93ZXItZGVmZW5jZS9qcy9idWxsZXQtc3Bhd25lci5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0RfX0dpdEh1Yl90b3dlcl9kZWZlbmNlX2pzX2J1bGxldF9zcGF3bmVyX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19idXR0b25fanMgZnJvbSAnRDovR2l0SHViL3Rvd2VyLWRlZmVuY2UvanMvYnV0dG9uLmpzJztcbl9yZWdpc3RlckVkaXRvcihfRF9fR2l0SHViX3Rvd2VyX2RlZmVuY2VfanNfYnV0dG9uX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19lbmVteV9zcGF3bmVyX2pzIGZyb20gJ0Q6L0dpdEh1Yi90b3dlci1kZWZlbmNlL2pzL2VuZW15LXNwYXduZXIuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19lbmVteV9zcGF3bmVyX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19nYW1lX2pzIGZyb20gJ0Q6L0dpdEh1Yi90b3dlci1kZWZlbmNlL2pzL2dhbWUuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19nYW1lX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19sZXZlbF90cmFja2VyX2pzIGZyb20gJ0Q6L0dpdEh1Yi90b3dlci1kZWZlbmNlL2pzL2xldmVsLXRyYWNrZXIuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19sZXZlbF90cmFja2VyX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19wcm9qZWN0aWxlX3BoeXNpY3NfanMgZnJvbSAnRDovR2l0SHViL3Rvd2VyLWRlZmVuY2UvanMvcHJvamVjdGlsZS1waHlzaWNzLmpzJztcbl9yZWdpc3RlckVkaXRvcihfRF9fR2l0SHViX3Rvd2VyX2RlZmVuY2VfanNfcHJvamVjdGlsZV9waHlzaWNzX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19wcm9qZWN0aWxlX3NwYXduZXJfanMgZnJvbSAnRDovR2l0SHViL3Rvd2VyLWRlZmVuY2UvanMvcHJvamVjdGlsZS1zcGF3bmVyLmpzJztcbl9yZWdpc3RlckVkaXRvcihfRF9fR2l0SHViX3Rvd2VyX2RlZmVuY2VfanNfcHJvamVjdGlsZV9zcGF3bmVyX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19zaGlwX2pzIGZyb20gJ0Q6L0dpdEh1Yi90b3dlci1kZWZlbmNlL2pzL3NoaXAuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19zaGlwX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc19zdW5fbW92ZW1lbnRfanMgZnJvbSAnRDovR2l0SHViL3Rvd2VyLWRlZmVuY2UvanMvc3VuLW1vdmVtZW50LmpzJztcbl9yZWdpc3RlckVkaXRvcihfRF9fR2l0SHViX3Rvd2VyX2RlZmVuY2VfanNfc3VuX21vdmVtZW50X2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc190dXJyZXRfYWltZXJfanMgZnJvbSAnRDovR2l0SHViL3Rvd2VyLWRlZmVuY2UvanMvdHVycmV0LWFpbWVyLmpzJztcbl9yZWdpc3RlckVkaXRvcihfRF9fR2l0SHViX3Rvd2VyX2RlZmVuY2VfanNfdHVycmV0X2FpbWVyX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc190dXJyZXRfc3Bhd25lcl9qcyBmcm9tICdEOi9HaXRIdWIvdG93ZXItZGVmZW5jZS9qcy90dXJyZXQtc3Bhd25lci5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0RfX0dpdEh1Yl90b3dlcl9kZWZlbmNlX2pzX3R1cnJldF9zcGF3bmVyX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc191aUhhbmRsZXJfanMgZnJvbSAnRDovR2l0SHViL3Rvd2VyLWRlZmVuY2UvanMvdWlIYW5kbGVyLmpzJztcbl9yZWdpc3RlckVkaXRvcihfRF9fR2l0SHViX3Rvd2VyX2RlZmVuY2VfanNfdWlIYW5kbGVyX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc191aUhhbmRsZXIyX2pzIGZyb20gJ0Q6L0dpdEh1Yi90b3dlci1kZWZlbmNlL2pzL3VpSGFuZGxlcjIuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc191aUhhbmRsZXIyX2pzKTtcbmltcG9ydCAqIGFzIF9EX19HaXRIdWJfdG93ZXJfZGVmZW5jZV9qc193YXlwb2ludF9tb3ZlbWVudF9qcyBmcm9tICdEOi9HaXRIdWIvdG93ZXItZGVmZW5jZS9qcy93YXlwb2ludC1tb3ZlbWVudC5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0RfX0dpdEh1Yl90b3dlcl9kZWZlbmNlX2pzX3dheXBvaW50X21vdmVtZW50X2pzKTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFVQSxPQUFDLFdBQVc7QUFFVjtBQVNBLFlBQUlBLGdCQUFlLFdBQVc7QUFDNUIsZUFBSyxLQUFLO0FBQUEsUUFDWjtBQUNBLFFBQUFBLGNBQWEsWUFBWTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsVUFLdkIsTUFBTSxXQUFXO0FBQ2YsZ0JBQUlDLFFBQU8sUUFBUUM7QUFHbkIsWUFBQUQsTUFBSyxXQUFXO0FBR2hCLFlBQUFBLE1BQUssa0JBQWtCLENBQUM7QUFDeEIsWUFBQUEsTUFBSyxnQkFBZ0I7QUFHckIsWUFBQUEsTUFBSyxVQUFVLENBQUM7QUFDaEIsWUFBQUEsTUFBSyxTQUFTLENBQUM7QUFDZixZQUFBQSxNQUFLLFNBQVM7QUFDZCxZQUFBQSxNQUFLLFVBQVU7QUFDZixZQUFBQSxNQUFLLGdCQUFnQjtBQUNyQixZQUFBQSxNQUFLLGFBQWMsT0FBTyxXQUFXLGVBQWUsT0FBTyxZQUFhLE9BQU8sWUFBWTtBQUczRixZQUFBQSxNQUFLLGFBQWE7QUFDbEIsWUFBQUEsTUFBSyxVQUFVO0FBQ2YsWUFBQUEsTUFBSyxnQkFBZ0I7QUFDckIsWUFBQUEsTUFBSyxjQUFjO0FBQ25CLFlBQUFBLE1BQUssTUFBTTtBQUdYLFlBQUFBLE1BQUssYUFBYTtBQUdsQixZQUFBQSxNQUFLLE9BQU87QUFFWixtQkFBT0E7QUFBQSxVQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFVBT0Es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QWtCO0FBQUEsWUFDNUU7QUFHQSxZQUFBQSxNQUFLLFlBQVk7QUFDakIsWUFBQUEsTUFBSyxTQUFTO0FBQ2QsWUFBQUEsTUFBSyxVQUFVLENBQUM7QUFDaEIsWUFBQUEsTUFBSyxhQUFhLENBQUM7QUFDbkIsWUFBQUEsTUFBSyxTQUFTLENBQUM7QUFDZixZQUFBQSxNQUFLLFlBQVk7QUFHakIsWUFBQUEsTUFBSyxTQUFTLEVBQUUsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLE1BQUssQ0FBQyxJQUFJLENBQUM7QUFDM0MsWUFBQUEsTUFBSyxVQUFVLEVBQUUsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLE9BQU0sQ0FBQyxJQUFJLENBQUM7QUFDOUMsWUFBQUEsTUFBSyxVQUFVLEVBQUUsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLE9BQU0sQ0FBQyxJQUFJLENBQUM7QUFDOUMsWUFBQUEsTUFBSyxlQUFlLEVBQUUsY0FBYyxDQUFDLEVBQUMsSUFBSSxFQUFFLFlBQVcsQ0FBQyxJQUFJLENBQUM7QUFDN0QsWUFBQUEsTUFBSyxlQUFlLEVBQUUsY0FBYyxDQUFDLEVBQUMsSUFBSSxFQUFFLFlBQVcsQ0FBQyxJQUFJLENBQUM7QUFDN0QsWUFBQUEsTUFBSyxXQUFXLEVBQUUsVUFBVSxDQUFDLEVBQUMsSUFBSSxFQUFFLFFBQU8sQ0FBQyxJQUFJLENBQUM7QUFDakQsWUFBQUEsTUFBSyxVQUFVLEVBQUUsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLE9BQU0sQ0FBQyxJQUFJLENBQUM7QUFDOUMsWUFBQUEsTUFBSyxVQUFVLEVBQUUsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLE9BQU0sQ0FBQyxJQUFJLENBQUM7QUFDOUMsWUFBQUEsTUFBSyxVQUFVLEVBQUUsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLE9BQU0sQ0FBQyxJQUFJLENBQUM7QUFDOUMsWUFBQUEsTUFBSyxZQUFZLEVBQUUsV0FBVyxDQUFDLEVBQUMsSUFBSSxFQUFFLFNBQVEsQ0FBQyxJQUFJLENBQUM7QUFDcEQsWUFBQUEsTUFBSyxVQUFV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QyxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVMsS0FBSyxLQUFLLEdBQUc7QUFDM0IsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsV0FBTztBQUFBLEVBQ1Q7QUF1Qk8sV0FBUyxXQUFXLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDekcsUUFBSSxNQUFNLElBQWEsV0FBVyxFQUFFO0FBQ3BDLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUF3Qk8sV0FBUyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUN2RyxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBUU8sV0FBUyxTQUFTLEtBQUs7QUFDNUIsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVMsVUFBVSxLQUFLLEdBQUc7QUFFaEMsUUFBSSxRQUFRLEdBQUc7QUFDYixVQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFVBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFVBQUksTUFBTSxFQUFFLEVBQUU7QUFDZCxVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDYixVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUNiLFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUk7QUFBQSxJQUNaLE9BQU87QUFDTCxVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDYixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDYixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFBQSxJQUNoQjtBQUVBLFdBQU87QUFBQSxFQUNUO0FBU08sV0FBUyxPQUFPLEtBQUssR0FBRztBQUM3QixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFFNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUU1RSxRQUFJLENBQUMsS0FBSztBQUNSLGFBQU87QUFBQSxJQUNUO0FBRUEsVUFBTSxJQUFNO0FBQ1osUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTLFFBQVEsS0FBSyxHQUFHO0FBQzlCLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLENBQUMsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsUUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDcEcsUUFBSSxDQUFDLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ2xHLFFBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLFFBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLFFBQUksQ0FBQyxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNsRyxRQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxRQUFJLENBQUMsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsUUFBSSxDQUFDLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ2xHLFFBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLFFBQUksRUFBRSxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNuRyxRQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNyRyxRQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNyRyxRQUFJLEVBQUUsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbkcsUUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDckcsUUFBSSxFQUFFLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFdBQU87QUFBQSxFQUNUO0FBUU8sV0FBUyxZQUFZLEdBQUc7QUFDN0IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBRTVCLFdBQU8sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQUEsRUFDM0U7QUFVTyxXQUFTLFNBQVMsS0FBSyxHQUFHLEdBQUc7QUFDbEMsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUVkLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLEVBQUU7QUFDVCxTQUFLLEVBQUUsRUFBRTtBQUNULFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsU0FBSyxFQUFFLEVBQUU7QUFDVCxTQUFLLEVBQUUsRUFBRTtBQUNULFNBQUssRUFBRSxFQUFFO0FBQ1QsU0FBSyxFQUFFLEVBQUU7QUFDVCxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsUUFBSSxFQUFFLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUNoRCxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBUyxVQUFVLEtBQUssR0FBRyxHQUFHO0FBQ25DLFFBQUksSUFBSSxFQUFFLENBQUMsR0FDUCxJQUFJLEVBQUUsQ0FBQyxHQUNQLElBQUksRUFBRSxDQUFDO0FBQ1gsUUFBSSxLQUFLLEtBQUssS0FBSztBQUNuQixRQUFJLEtBQUssS0FBSyxLQUFLO0FBQ25CLFFBQUksS0FBSyxLQUFLLEtBQUs7QUFFbkIsUUFBSSxNQUFNLEtBQUs7QUFDYixVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUU7QUFDL0MsVUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFO0FBQy9DLFVBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsSUFBSSxJQUFJLEVBQUUsRUFBRTtBQUNoRCxVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLElBQUksSUFBSSxFQUFFLEVBQUU7QUFBQSxJQUNsRCxPQUFPO0FBQ0wsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsRUFBRTtBQUNWLFlBQU0sRUFBRSxFQUFFO0FBQ1YsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksRUFBRSxFQUFFO0FBQzVDLFVBQUksRUFBRSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLEVBQUUsRUFBRTtBQUM1QyxVQUFJLEVBQUUsSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFLEVBQUU7QUFDNUMsVUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksRUFBRSxFQUFFO0FBQUEsSUFDOUM7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsTUFBTSxLQUFLLEdBQUcsR0FBRztBQUMvQixRQUFJLElBQUksRUFBRSxDQUFDLEdBQ1AsSUFBSSxFQUFFLENBQUMsR0FDUCxJQUFJLEVBQUUsQ0FBQztBQUNYLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJO0FBQ2xCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJO0FBQ2xCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFdBQU87QUFBQSxFQUNUO0FBV08sV0FBUyxPQUFPLEtBQUssR0FBRyxLQUFLLE1BQU07QUFDeEMsUUFBSSxJQUFJLEtBQUssQ0FBQyxHQUNWLElBQUksS0FBSyxDQUFDLEdBQ1YsSUFBSSxLQUFLLENBQUM7QUFDZCxRQUFJQyxPQUFNLEtBQUssTUFBTSxHQUFHLEdBQUcsQ0FBQztBQUM1QixRQUFJLEdBQUcsR0FBRztBQUNWLFFBQUksS0FBSyxLQUFLLEtBQUs7QUFDbkIsUUFBSSxLQUFLLEtBQUssS0FBSztBQUNuQixRQUFJLEtBQUssS0FBSyxLQUFLO0FBQ25CLFFBQUksS0FBSyxLQUFLO0FBQ2QsUUFBSSxLQUFLLEtBQUs7QUFDZCxRQUFJLEtBQUssS0FBSztBQUVkLFFBQUlBLE9BQWUsU0FBUztBQUMxQixhQUFPO0FBQUEsSUFDVDtBQUVBLElBQUFBLE9BQU0sSUFBSUE7QUFDVixTQUFLQTtBQUNMLFNBQUtBO0FBQ0wsU0FBS0E7QUFDTCxRQUFJLEtBQUssSUFBSSxHQUFHO0FBQ2hCLFFBQUksS0FBSyxJQUFJLEdBQUc7QUFDaEIsUUFBSSxJQUFJO0FBQ1IsVUFBTSxFQUFFLENBQUM7QUFDVCxVQUFNLEVBQUUsQ0FBQztBQUNULFVBQU0sRUFBRSxDQUFDO0FBQ1QsVUFBTSxFQUFFLENBQUM7QUFDVCxVQUFNLEVBQUUsQ0FBQztBQUNULFVBQU0sRUFBRSxDQUFDO0FBQ1QsVUFBTSxFQUFFLENBQUM7QUFDVCxVQUFNLEVBQUUsQ0FBQztBQUNULFVBQU0sRUFBRSxDQUFDO0FBQ1QsVUFBTSxFQUFFLENBQUM7QUFDVCxVQUFNLEVBQUUsRUFBRTtBQUNWLFVBQU0sRUFBRSxFQUFFO0FBRVYsVUFBTSxJQUFJLElBQUksSUFBSTtBQUNsQixVQUFNLElBQUksSUFBSSxJQUFJLElBQUk7QUFDdEIsVUFBTSxJQUFJLElBQUksSUFBSSxJQUFJO0FBQ3RCLFVBQU0sSUFBSSxJQUFJLElBQUksSUFBSTtBQUN0QixVQUFNLElBQUksSUFBSSxJQUFJO0FBQ2xCLFVBQU0sSUFBSSxJQUFJLElBQUksSUFBSTtBQUN0QixVQUFNLElBQUksSUFBSSxJQUFJLElBQUk7QUFDdEIsVUFBTSxJQUFJLElBQUksSUFBSSxJQUFJO0FBQ3RCLFVBQU0sSUFBSSxJQUFJLElBQUk7QUFFbEIsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ3ZDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUN2QyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDdkMsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ3ZDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUN2QyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDdkMsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ3ZDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUN2QyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDdkMsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ3ZDLFFBQUksRUFBRSxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUN4QyxRQUFJLEVBQUUsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFFeEMsUUFBSSxNQUFNLEtBQUs7QUFFYixVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFBQSxJQUNoQjtBQUVBLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBUyxRQUFRLEtBQUssR0FBRyxLQUFLO0FBQ25DLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUNwQixRQUFJLElBQUksS0FBSyxJQUFJLEdBQUc7QUFDcEIsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUU7QUFFZCxRQUFJLE1BQU0sS0FBSztBQUViLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUFBLElBQ2hCO0FBR0EsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLE1BQU07QUFDekIsUUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU07QUFDMUIsUUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU07QUFDMUIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLFFBQVEsS0FBSyxHQUFHLEtBQUs7QUFDbkMsUUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHO0FBQ3BCLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUNwQixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRTtBQUVkLFFBQUksTUFBTSxLQUFLO0FBRWIsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFF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LElBQUksSUFBSSxJQUFJO0FBQ3RCLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQWFPLFdBQVMsY0FBYyxLQUFLLEtBQUs7QUFDdEMsUUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHO0FBQ3BCLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUVwQixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSSxDQUFDO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFhTyxXQUFTLGNBQWMsS0FBSyxLQUFLO0FBQ3RDLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUNwQixRQUFJLElBQUksS0FBSyxJQUFJLEdBQUc7QUFFcEIsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLENBQUM7QUFDVixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElB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LElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBUyxTQUFTLEtBQUssR0FBRyxHQUFHO0FBQ2xDLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsZUFBZSxLQUFLLEdBQUcsR0FBRztBQUN4QyxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixXQUFPO0FBQUEsRUFDVDtBQVdPLFdBQVMscUJBQXFCLEtBQUssR0FBRyxHQUFHQyxRQUFPO0FBQ3JELFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVMsWUFBWSxHQUFHLEdBQUc7QUFDaEMsV0FBTyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUU7QUFBQSxFQUNoUztBQVNPLFdBQVMsT0FBTyxHQUFHLEdBQUc7QUFDM0IsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxXQUFPLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxNQUFNLEdBQUcsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEtBQUssSUFBSSxNQUFNLEdBQUcsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEtBQUssSUFBSSxNQUFNLEdBQUcsS0FBYyxVQUFVLEtBQUss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LEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHLEdBQ2pCLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDckIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxTQUFRLEtBQUssR0FBRyxLQUFLO0FBQ25DLFdBQU87QUFDUCxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHLEdBQ2pCLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDckIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxTQUFRLEtBQUssR0FBRyxLQUFLO0FBQ25DLFdBQU87QUFDUCxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHLEdBQ2pCLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDckIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FB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QUFBRyx5QkFBd0IsS0FBSyxPQUFPLENBQUM7QUFDckMsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTRyxNQUFLLEtBQUssR0FBRztBQUMzQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixXQUFPO0FBQUEsRUFDVDtBQVFPLFdBQVNDLFVBQVMsS0FBSztBQUM1QixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsV0FBTztBQUFBLEVBQ1Q7QUFpQk8sV0FBU0MsS0FBSSxLQUFLLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSTtBQUN2RCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsV0FBTztBQUFBLEVBQ1Q7QUFRTyxNQUFJLFVBQWVGO0FBUW5CLFdBQVMsUUFBUSxLQUFLLEdBQUc7QUFDOUIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElB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SyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBUyxvQkFBb0IsS0FBSyxHQUFHLEdBQUc7QUFDN0MsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsV0FBTztBQUFBLEVBQ1Q7QUFXTyxXQUFTLGlCQUFpQixLQUFLLEdBQUcsTUFBTSxLQUFLO0FBRWxELFFBQUksS0FBSyxJQUFJLEdBQUcsSUFBYSxTQUFTO0FBQ3BDLGFBQU9QLE1BQUssS0FBSyxDQUFDO0FBQUEsSUFDcEI7QUFFQSxRQUFJLGFBQWEsS0FBSyxNQUFNLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO0FBQ3JELFVBQU0sTUFBTTtBQUNaLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUNwQixRQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSTtBQUN2QixRQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSTtBQUN2QixRQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSTtBQUN2QixRQUFJLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDckIsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsV0FBTztBQUFBLEVBQ1Q7QUFXTyxXQUFTUSxLQUFJLEtBQUssR0FBRyxHQUFHO0FBQzdCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxVQUFTLEtBQUssR0FBRyxHQUFHO0FBQ2xDLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25ELFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDbkQsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRCxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25ELFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFdBQU87QUFBQSxFQUNUO0FBTU8sTUFBSUMsT0FBTUQ7QUFXVixXQUFTRSxPQUFNLEtBQUssR0FBRyxHQUFHO0FBQy9CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFdBQU87QUFBQSxFQUNUO0FBVU8sTUFBSUMsT0FBV0E7QUFZZixXQUFTQyxNQUFLLEtBQUssR0FBRyxHQUFHLEdBQUc7QUFDakMsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJRCxLQUFJLEdBQUcsQ0FBQyxJQUFJO0FBQUcsVUFBSSxDQUFDO0FBQ3hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUk7QUFDNUIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSTtBQUM1QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJO0FBQzVCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUk7QUFDNUIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSTtBQUM1QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJO0FBQzVCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUk7QUFDNUIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSTtBQUM1QixXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVNFLFFBQU8sS0FBSyxHQUFHO0FBQzdCLFFBQUksUUFBUUMsZUFBYyxDQUFDO0FBQzNCLFFBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUk7QUFDakIsUUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSTtBQUNqQixRQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJO0FBQ2pCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUk7QUFDakIsUUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSTtBQUNqQixRQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJO0FBQ2pCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBU0MsV0FBVSxLQUFLLEdBQUc7QUFDaEMsUUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQ2IsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQ2IsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osV0FBTztBQUFBLEVBQ1Q7QUFTTyxNQUFJQyxVQUFjQTtBQU1sQixNQUFJQyxPQUFNRDtBQVNWLE1BQUlGLGlCQUFxQkE7QUFNekIsTUFBSUksVUFBU0o7QUFVYixXQUFTSyxXQUFVLEtBQUssR0FBRztBQUNoQyxRQUFJLFlBQVlMLGVBQWMsQ0FBQztBQUUvQixRQUFJLFlBQVksR0FBRztBQUNqQixrQkFBWSxLQUFLLEtBQUssU0FBUztBQUMvQixVQUFJLEtBQUssRUFBRSxDQUFDLElBQUk7QUFDaEIsVUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFVBQUksS0FBSyxFQUFFLENBQUMsSUFBSTtBQUNoQixVQUFJLEtBQUssRUFBRSxDQUFDLElBQUk7QUFDaEIsVUFBSSxLQUFLLEVBQUUsQ0FBQztBQUNaLFVBQUksS0FBSyxFQUFFLENBQUM7QUFDWixVQUFJLEtBQUssRUFBRSxDQUFDO0FBQ1osVUFBSSxLQUFLLEVBQUUsQ0FBQztBQUNaLFVBQUksVUFBVSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQ2pELFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLLFdBQVc7QUFDL0IsVUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLLFdBQVc7QUFDL0IsVUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLLFdBQVc7QUFDL0IsVUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLLFdBQVc7QUFBQSxJQUNqQztBQUVBLFdBQU87QUFBQSxFQUNUO0FBUU8sV0FBU00sS0FBSSxHQUFHO0FBQ3JCLFdBQU8sV0FBVyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJO0FBQUEsRUFDN0g7QUFTTyxXQUFTQyxhQUFZLEdBQUcsR0FBRztBQUNoQyxXQUFPLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUFBLEVBQzVJO0FBU08sV0FBU0MsUUFBTyxHQUFHLEdBQUc7QUFDM0IsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osV0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUM7QUFBQSxFQUM1cUI7OztBQ2wwQkEsTUFBSUMsY0FBMEMsU0FBVSxZQUFZLFFBQVEsS0FBSyxNQUFNO0FBQ25GLFFBQUksSUFBSSxVQUFVLFFBQVEsSUFBSSxJQUFJLElBQUksU0FBUyxTQUFTLE9BQU8sT0FBTyxPQUFPLHlCQUF5QixRQUFRLEdBQUcsSUFBSSxNQUFNO0FBQzNILFFBQUksT0FBTyxZQUFZLFlBQVksT0FBTyxRQUFRLGFBQWE7QUFBWSxVQUFJLFFBQVEsU0FBUyxZQUFZLFFBQVEsS0FBSyxJQUFJO0FBQUE7QUFDeEgsZUFBUyxJQUFJLFdBQVcsU0FBUyxHQUFHLEtBQUssR0FBRztBQUFLLFlBQUksSUFBSSxXQUFXLENBQUM7QUFBRyxlQUFLLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLElBQUksRUFBRSxRQUFRLEtBQUssQ0FBQyxJQUFJLEVBQUUsUUFBUSxHQUFHLE1BQU07QUFDaEosV0FBTyxJQUFJLEtBQUssS0FBSyxPQUFPLGVBQWUsUUFBUSxLQUFLLENBQUMsR0FBRztBQUFBLEVBQ2hFO0FBWUEsTUFBTSxrQkFBTixjQUE4QixVQUFVO0FBQUEsSUFFcEMsY0FBYyxJQUFJLGFBQWEsQ0FBQztBQUFBLElBQ2hDLFVBQVU7QUFBQSxJQUNWLGtCQUFrQjtBQUFBO0FBQUEsSUFFbEIsbUJBQW1CO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUtuQixjQUFjO0FBQUE7QUFBQSxJQUVkLFlBQVksSUFBSSxRQUFRO0FBQUE7QUFBQSxJQUV4QixhQUFhLElBQUksUUFBUTtBQUFBLElBQ3pCLHlCQUF5QjtBQUFBLElBQ3pCLHVCQUF1QjtBQUFBLElBQ3ZCLFFBQVE7QUFDSixXQUFLLHlCQUF5QixLQUFLLGlCQUFpQixLQUFLLElBQUk7QUFDN0QsV0FBSyx1QkFBdUIsS0FBSyxlQUFlLEtBQUssSUFBSTtBQUN6RCxVQUFJLEtBQUssYUFBYTtBQUNsQixhQUFLLFlBQVksSUFBSSxLQUFLLE9BQU8sWUFBWTtBQUM3QyxhQUFLLE9BQU8sTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFDM0IsYUFBSyxVQUFVLElBQUksTUFBTTtBQUNyQixlQUFLLFlBQVksSUFBSSxLQUFLLE9BQU8sWUFBWTtBQUM3QyxlQUFLLE9BQU8sTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFBQSxRQUMvQixDQUFDO0FBQ0QsYUFBSyxXQUFXLElBQUksTUFBTTtBQUN0QixlQUFLLE9BQU8sYUFBYSxJQUFJLEtBQUssV0FBVztBQUM3QyxlQUFLLE9BQU8sU0FBUztBQUFBLFFBQ3pCLENBQUM7QUFBQSxNQUNMO0FBQUEsSUFDSjtBQUFBLElBQ0EsYUFBYTtBQUNULFdBQUssT0FBTyxpQkFBaUIsSUFBSSxLQUFLLHNCQUFzQjtBQUM1RCxXQUFLLE9BQU8sZUFBZSxJQUFJLEtBQUssb0JBQW9CO0FBQUEsSUFDNUQ7QUFBQSxJQUNBLGVBQWU7QUFDWCxXQUFLLE9BQU8saUJBQWlCLE9BQU8sS0FBSyxzQkFBc0I7QUFDL0QsV0FBSyxPQUFPLGVBQWUsT0FBTyxLQUFLLG9CQUFvQjtBQUFBLElBQy9EO0FBQUEsSUFDQSxTQUFTO0FBQ0wsWUFBTSxhQUFhLEtBQUs7QUFDeEIsVUFBSSxLQUFLLGlCQUFpQjtBQUN0QixjQUFNLFFBQVEsS0FBSyxPQUFPO0FBQzFCLFlBQUksQ0FBQztBQUNEO0FBQ0osWUFBSSxpQkFBaUIsTUFBTSxrQkFBa0IsS0FBSyxlQUFlO0FBQ2pFLFlBQUksZUFBZSxTQUFTLEdBQUc7QUFDM0IsY0FBSSxPQUFPLGVBQWUsQ0FBQyxFQUFFLFFBQVEsS0FBSyxPQUFPLEdBQUcscUJBQXFCO0FBQ3pFLGVBQUssVUFBVSxDQUFDLENBQUM7QUFDakIsY0FBSSxNQUFNO0FBQ04scUNBQXlCLEtBQUssUUFBUSxLQUFLLFNBQVM7QUFBQSxVQUN4RDtBQUFBLFFBQ0osT0FDSztBQUNELGVBQUssVUFBVTtBQUFBLFFBQ25CO0FBQUEsTUFDSjtBQUVBLFVBQUksS0FBSyxXQUFXLFlBQVk7QUFDNUIsU0FBQyxLQUFLLFVBQVUsS0FBSyxhQUFhLEtBQUssV0FBVyxPQUFPLElBQUk7QUFBQSxNQUNqRTtBQUFBLElBQ0o7QUFBQSxJQUNBLGtCQUFrQixRQUFRLEtBQUssT0FBTyxJQUFJLFNBQVMsTUFBTTtBQUNyRCxVQUFJLENBQUM7QUFDRCxlQUFPLENBQUM7QUFFWixVQUFJLENBQUMsS0FBSztBQUNOLGVBQU8sQ0FBQztBQUNaLGFBQU8sTUFBTSxrQkFBa0IsS0FBSyxlQUFlO0FBQUEsSUFDdkQ7QUFBQSxJQUNBLGlCQUFpQixTQUFTO0FBQ3RCLFVBQUksUUFBUSx5QkFBeUIsUUFBVztBQUM1QyxnQkFBUSxNQUFNLDRFQUE0RTtBQUMxRixhQUFLLFNBQVM7QUFDZDtBQUFBLE1BQ0o7QUFDQSxjQUNLLHFCQUFxQjtBQUFBLFFBQ3RCLE9BQU8sS0FBSyxvQkFDUixLQUFLLE9BQU8sR0FBRyxzQkFBc0IsUUFBUTtBQUFBLE1BQ3JELENBQUMsRUFDSSxLQUFLLENBQUMsa0JBQWtCO0FBQ3pCLGFBQUssa0JBQWtCO0FBQUEsTUFDM0IsQ0FBQyxFQUNJLE1BQU0sUUFBUSxLQUFLO0FBQUEsSUFDNUI7QUFBQSxJQUNBLGlCQUFpQjtBQUNiLFVBQUksQ0FBQyxLQUFLO0FBQ047QUFDSixXQUFLLGdCQUFnQixPQUFPO0FBQzVCLFdBQUssa0JBQWtCO0FBQUEsSUFDM0I7QUFBQSxFQUNKO0FBOUZJLGdCQURFLGlCQUNLLFlBQVc7QUErRnRCLEVBQUFBLFlBQVc7QUFBQSxJQUNQLFNBQVMsS0FBSyxJQUFJO0FBQUEsRUFDdEIsR0FBRyxnQkFBZ0IsV0FBVyxlQUFlLE1BQU07OztBQ25IbkQsTUFBSUMsY0FBMEMsU0FBVSxZQUFZLFFBQVEsS0FBSyxNQUFNO0FBQ25GLFFBQUksSUFBSSxVQUFVLFFBQVEsSUFBSSxJQUFJLElBQUksU0FBUyxTQUFTLE9BQU8sT0FBTyxPQUFPLHlCQUF5QixRQUFRLEdBQUcsSUFBSSxNQUFNO0FBQzNILFFBQUksT0FBTyxZQUFZLFlBQVksT0FBTyxRQUFRLGFBQWE7QUFBWSxVQUFJLFFBQVEsU0FBUyxZQUFZLFFBQVEsS0FBSyxJQUFJO0FBQUE7QUFDeEgsZUFBUyxJQUFJLFdBQVcsU0FBUyxHQUFHLEtBQUssR0FBRztBQUFLLFlBQUksSUFBSSxXQUFXLENBQUM7QUFBRyxlQUFLLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLElBQUksRUFBRSxRQUFRLEtBQUssQ0FBQyxJQUFJLEVBQUUsUUFBUSxHQUFHLE1BQU07QUFDaEosV0FBTyxJQUFJLEtBQUssS0FBSyxPQUFPLGVBQWUsUUFBUSxLQUFLLENBQUMsR0FBRztBQUFBLEVBQ2hFO0FBTUEsTUFBTUMsV0FBVSxJQUFJLGFBQWEsQ0FBQztBQUNsQyxNQUFNLE9BQU8sQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUVyQixNQUFNLHVCQUFOLE1BQTJCO0FBQUE7QUFBQSxJQUV2QixVQUFVLElBQUksUUFBUTtBQUFBO0FBQUEsSUFFdEIsWUFBWSxJQUFJLFFBQVE7QUFBQTtBQUFBLElBRXhCLFVBQVUsSUFBSSxRQUFRO0FBQUE7QUFBQSxJQUV0QixTQUFTLElBQUksUUFBUTtBQUFBO0FBQUEsSUFFckIsU0FBUyxJQUFJLFFBQVE7QUFBQTtBQUFBLElBRXJCLE9BQU8sSUFBSSxRQUFRO0FBQUEsRUFDdkI7QUFtQkEsTUFBTSxTQUFOLGNBQXFCLFVBQVU7QUFBQSxJQUszQixPQUFPLFdBQVcsUUFBUTtBQUN0QixhQUFPLGtCQUFrQixlQUFlO0FBQUEsSUFDNUM7QUFBQSxJQUNBLGlCQUFpQjtBQUFBLElBQ2pCLHlCQUF5QixDQUFDO0FBQUEsSUFDMUIsU0FBUztBQUFBLElBQ1QsVUFBVSxJQUFJLGFBQWEsQ0FBQztBQUFBLElBQzVCLGtCQUFrQixJQUFJLGFBQWEsQ0FBQztBQUFBLElBQ3BDLGFBQWEsSUFBSSxhQUFhLENBQUM7QUFBQSxJQUMvQixvQkFBb0IsSUFBSSxhQUFhLEVBQUU7QUFBQSxJQUN2QyxpQkFBaUI7QUFBQSxJQUNqQixVQUFVO0FBQUEsSUFDVixjQUFjO0FBQUEsSUFDZCxlQUFlO0FBQUEsSUFDZixrQkFBa0IsSUFBSSxhQUFhLENBQUM7QUFBQSxJQUNwQyx5QkFBeUIsSUFBSSxhQUFhLENBQUM7QUFBQSxJQUMzQyxtQkFBbUI7QUFBQSxJQUNuQixpQkFBaUI7QUFBQSxJQUNqQiwwQkFBMEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBSzFCLFVBQVU7QUFBQTtBQUFBLElBRVYsaUJBQWlCO0FBQUE7QUFBQSxJQUVqQix1QkFBdUI7QUFBQTtBQUFBLElBRXZCLGtCQUFrQjtBQUFBO0FBQUE7QUFBQTtBQUFBLElBSWxCLGVBQWUsSUFBSSxxQkFBcUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFZeEMsZ0JBQWdCLElBQUkscUJBQXFCO0FBQUE7QUFBQSxJQUV6QyxZQUFZLElBQUksYUFBYSxDQUFDO0FBQUE7QUFBQSxJQUU5QixpQkFBaUI7QUFBQTtBQUFBLElBRWpCLGtCQUFrQjtBQUFBO0FBQUEsSUFFbEIsdUJBQXVCO0FBQUE7QUFBQSxJQUV2QixlQUFlO0FBQUE7QUFBQSxJQUVmLGFBQWE7QUFBQTtBQUFBLElBRWIsY0FBYztBQUFBO0FBQUEsSUFFZCxjQUFjO0FBQUE7QUFBQSxJQUVkLGNBQWM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQU9kLGtCQUFrQjtBQUFBLElBQ2xCLG9CQUFvQixNQUFNO0FBQ3RCLFVBQUksQ0FBQyxLQUFLO0FBQ047QUFHSixtQkFBSyxPQUFPLEtBQUssbUJBQW1CLEtBQUssZUFBZSxnQkFBZ0I7QUFBQSxJQUM1RTtBQUFBLElBQ0EsUUFBUTtBQUNKLFdBQUssaUJBQWlCLEtBQUssS0FBSztBQUNoQyxVQUFJLEtBQUssY0FBYyxHQUFHO0FBQ3RCLGNBQU0sWUFBWSxLQUFLLE9BQU8sYUFBYSxPQUFPO0FBQ2xELFlBQUksQ0FBQyxXQUFXO0FBQ1osa0JBQVEsS0FBSyw4QkFBOEIsS0FBSyxPQUFPLE1BQU0sc0ZBQ3JCO0FBQUEsUUFDNUMsT0FDSztBQUNELGVBQUssYUFBYSxVQUFVLGNBQWM7QUFDMUMsZUFBSyxTQUFTO0FBQUEsUUFDbEI7QUFBQSxNQUNKLE9BQ0s7QUFDRCxhQUFLLGFBQWEsQ0FBQyxRQUFRLFNBQVMsTUFBTSxFQUFFLEtBQUssYUFBYSxDQUFDO0FBQUEsTUFDbkU7QUFDQSxXQUFLLGlCQUFpQixLQUFLLE9BQU8sYUFBYSxhQUFhO0FBQzVELFVBQUksS0FBSyxpQkFBaUI7QUFDdEIsYUFBSyxpQkFBaUIsS0FBSyxPQUFPLE1BQU0sVUFBVSxLQUFLLE1BQU07QUFDN0QsYUFBSyxtQkFDRCxLQUFLLGVBQWUsYUFBYSxpQkFBaUI7QUFBQSxVQUM5QyxhQUFhO0FBQUEsUUFDakIsQ0FBQyxLQUFLO0FBQUEsTUFDZDtBQUNBLFdBQUssMEJBQTBCLEtBQUssY0FBYyxLQUFLLElBQUk7QUFBQSxJQUMvRDtBQUFBLElBQ0EsYUFBYTtBQUNULFdBQUssT0FBTyxpQkFBaUIsSUFBSSxLQUFLLHVCQUF1QjtBQUM3RCxXQUFLLE9BQU8sU0FBUyxJQUFJLEtBQUssaUJBQWlCO0FBQy9DLFdBQUsscUJBQXFCLElBQUk7QUFHOUIsVUFBSSxLQUFLLGtCQUFrQixNQUFNO0FBQzdCLGNBQU1DLFVBQVMsS0FBSyxPQUFPO0FBQzNCLGNBQU0sVUFBVSxLQUFLLFFBQVEsS0FBSyxJQUFJO0FBQ3RDLGNBQU0sZ0JBQWdCLEtBQUssY0FBYyxLQUFLLElBQUk7QUFDbEQsY0FBTSxnQkFBZ0IsS0FBSyxjQUFjLEtBQUssSUFBSTtBQUNsRCxjQUFNLGNBQWMsS0FBSyxZQUFZLEtBQUssSUFBSTtBQUM5QyxRQUFBQSxRQUFPLGlCQUFpQixTQUFTLE9BQU87QUFDeEMsUUFBQUEsUUFBTyxpQkFBaUIsZUFBZSxhQUFhO0FBQ3BELFFBQUFBLFFBQU8saUJBQWlCLGVBQWUsYUFBYTtBQUNwRCxRQUFBQSxRQUFPLGlCQUFpQixhQUFhLFdBQVc7QUFDaEQsYUFBSyx1QkFBdUIsS0FBSyxNQUFNO0FBQ25DLFVBQUFBLFFBQU8sb0JBQW9CLFNBQVMsT0FBTztBQUMzQyxVQUFBQSxRQUFPLG9CQUFvQixlQUFlLGFBQWE7QUFDdkQsVUFBQUEsUUFBTyxvQkFBb0IsZUFBZSxhQUFhO0FBQ3ZELFVBQUFBLFFBQU8sb0JBQW9CLGFBQWEsV0FBVztBQUFBLFFBQ3ZELENBQUM7QUFBQSxNQUNMO0FBQ0EsV0FBSyxrQkFBa0I7QUFBQSxJQUMzQjtBQUFBLElBQ0EsdUJBQXVCLGFBQWE7QUFDaEMsVUFBSSxDQUFDLEtBQUs7QUFDTjtBQUNKLFlBQU1DLFFBQU8sYUFBSyxLQUFLLEtBQUssU0FBUyxXQUFXO0FBQ2hELFdBQUssZ0JBQWdCLGlCQUFpQixDQUFDLEdBQUssR0FBSyxDQUFDQSxRQUFPLENBQUMsQ0FBQztBQUMzRCxVQUFJLEtBQUssd0JBQXdCLEdBQUc7QUFFaEMsUUFBQUYsU0FBUSxLQUFLLENBQUM7QUFDZCxRQUFBQSxTQUFRLEtBQUssb0JBQW9CLElBQUlFLFFBQU87QUFDNUMsYUFBSyxnQkFBZ0IsZ0JBQWdCRixRQUFPO0FBQUEsTUFDaEQ7QUFBQSxJQUNKO0FBQUEsSUFDQSxxQkFBcUIsU0FBUztBQUMxQixVQUFJLEtBQUssV0FBVztBQUNoQjtBQUNKLFdBQUssVUFBVTtBQUNmLFVBQUksQ0FBQyxLQUFLO0FBQ047QUFDSixVQUFJLFNBQVM7QUFDVCxhQUFLLGFBQWEsZ0JBQWdCLEtBQUssZUFBZTtBQUFBLE1BQzFELE9BQ0s7QUFDRCxhQUFLLGFBQWEsZ0JBQWdCLEtBQUssZUFBZTtBQUN0RCxhQUFLLGFBQWEsV0FBVyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFBQSxNQUMxQztBQUFBLElBQ0o7QUFBQSxJQUNBLFNBQVM7QUFHTCxVQUFJLEtBQUssT0FBTyxNQUNaLEtBQUssZ0JBQ0wsS0FBSyxVQUNMLEtBQUssT0FBTyxHQUFHLFFBQVEsYUFBYSxDQUFDLEVBQUUsZUFBZSxVQUN0RCxLQUFLLE9BQU8sR0FBRyxRQUFRLGFBQWEsQ0FBQyxFQUFFLFNBQVM7QUFFaEQsY0FBTSxJQUFJLEtBQUssT0FBTyxHQUFHLFFBQVEsYUFBYSxDQUFDLEVBQUUsUUFBUTtBQUV6RCxhQUFLLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUN4QixhQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQ3pCLGFBQUssV0FBVyxDQUFDLElBQUk7QUFDckIsYUFBSyxrQ0FBa0M7QUFBQSxNQUMzQyxXQUNTLEtBQUssT0FBTyxNQUFNLEtBQUssVUFBVSxLQUFLLE9BQU8sZUFBZTtBQUVqRSxhQUFLLFdBQVcsQ0FBQyxJQUFJO0FBQ3JCLGFBQUssV0FBVyxDQUFDLElBQUk7QUFDckIsYUFBSyxXQUFXLENBQUMsSUFBSTtBQUNyQixhQUFLLDBCQUEwQjtBQUFBLE1BQ25DLFdBQ1MsS0FBSyxnQkFBZ0I7QUFHMUIsYUFBSyxnQkFBZ0I7QUFBQSxNQUN6QjtBQUNBLFdBQUssUUFBUSxNQUFNLEtBQUssT0FBTyxJQUFJLEtBQUs7QUFDeEMsVUFBSSxLQUFLLGNBQWM7QUFDbkIsWUFBSSxLQUFLLG1CQUNKLEtBQUssVUFBVSxDQUFDLEtBQUssS0FBSyxLQUFLLFVBQVUsQ0FBQyxLQUFLLEtBQUssS0FBSyxVQUFVLENBQUMsS0FBSyxJQUFJO0FBQzlFLGVBQUsscUJBQXFCLElBQUk7QUFDOUIsZUFBSyxhQUFhLGlCQUFpQixLQUFLLFNBQVM7QUFDakQsZUFBSyx1QkFBdUIsS0FBSyxTQUFTO0FBQUEsUUFDOUMsT0FDSztBQUNELGVBQUsscUJBQXFCLEtBQUs7QUFBQSxRQUNuQztBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUE7QUFBQSxJQUVBLE9BQU8sT0FBTyxlQUFlO0FBQ3pCLFlBQU0sU0FBUyxLQUFLO0FBQ3BCLFVBQUksUUFBUTtBQUNSLGNBQU0sZUFBZSxLQUFLO0FBQzFCLFlBQUk7QUFDQSx1QkFBYSxLQUFLLEVBQUUsT0FBTyxRQUFRLE1BQU0saUJBQWlCLE1BQVM7QUFDdkUsYUFBSyxhQUFhLEtBQUssRUFBRSxPQUFPLFFBQVEsTUFBTSxpQkFBaUIsTUFBUztBQUFBLE1BQzVFO0FBQUEsSUFDSjtBQUFBLElBQ0EsZUFBZSxRQUFRLGVBQWUsU0FBUyxlQUFlO0FBRTFELFlBQU0sTUFBTSxDQUFDLEtBQUssbUJBQW1CLE9BQU8sV0FBVyxJQUFJLE9BQU8sUUFBUSxDQUFDLElBQUk7QUFDL0UsVUFBSSxLQUFLO0FBQ0wsWUFBSSxDQUFDLEtBQUssa0JBQWtCLENBQUMsS0FBSyxlQUFlLE9BQU8sR0FBRyxHQUFHO0FBRTFELGNBQUksS0FBSyxnQkFBZ0I7QUFDckIsaUJBQUssT0FBTyxhQUFhLGFBQWE7QUFBQSxVQUMxQztBQUVBLGVBQUssaUJBQWlCO0FBQ3RCLGVBQUssdUJBQXVCLEtBQUssZUFBZSxhQUFhLFlBQVk7QUFDekUsY0FBSSxLQUFLO0FBQ0wsaUJBQUssT0FBTyxPQUFPLE1BQU0sU0FBUztBQUN0QyxlQUFLLE9BQU8sV0FBVyxhQUFhO0FBQUEsUUFDeEM7QUFBQSxNQUNKLFdBQ1MsS0FBSyxnQkFBZ0I7QUFFMUIsYUFBSyxPQUFPLGFBQWEsYUFBYTtBQUN0QyxhQUFLLGlCQUFpQjtBQUN0QixhQUFLLHVCQUF1QjtBQUM1QixZQUFJLEtBQUs7QUFDTCxlQUFLLE9BQU8sT0FBTyxNQUFNLFNBQVM7QUFBQSxNQUMxQztBQUNBLFVBQUksS0FBSyxnQkFBZ0I7QUFFckIsWUFBSSxLQUFLLFlBQVksS0FBSyxhQUFhO0FBQ25DLGVBQUssT0FBTyxLQUFLLFVBQVUsV0FBVyxRQUFRLGFBQWE7QUFBQSxRQUMvRDtBQUVBLFlBQUk7QUFDQSxlQUFLLE9BQU8sV0FBVyxhQUFhO0FBQUEsTUFDNUMsV0FDUyxLQUFLLGlCQUFpQjtBQUUzQixZQUFJLEtBQUssWUFBWSxLQUFLLGFBQWE7QUFDbkMsV0FBQyxLQUFLLFVBQVUsS0FBSyxjQUFjLFNBQVMsS0FBSyxjQUFjLE1BQU0sT0FBTyxlQUFlLE1BQU0saUJBQWlCLE1BQVM7QUFBQSxRQUMvSDtBQUVBLFlBQUk7QUFDQSxlQUFLLGNBQWMsUUFBUSxPQUFPLGVBQWUsTUFBTSxpQkFBaUIsTUFBUztBQUFBLE1BQ3pGO0FBRUEsVUFBSSxLQUFLO0FBQ0wsWUFBSSxLQUFLLGdCQUFnQjtBQUNyQixlQUFLLGVBQWUsMkJBQTJCQSxVQUFTLEtBQUssU0FBUztBQUFBLFFBQzFFLE9BQ0s7QUFDRCxVQUFBQSxTQUFRLElBQUksS0FBSyxTQUFTO0FBQUEsUUFDOUI7QUFDQSxZQUFJLENBQUMsYUFBSyxPQUFPLEtBQUssd0JBQXdCQSxRQUFPLEdBQUc7QUFDcEQsZUFBSyxPQUFPLFVBQVUsYUFBYTtBQUNuQyxlQUFLLHVCQUF1QixJQUFJQSxRQUFPO0FBQUEsUUFDM0M7QUFBQSxNQUNKLFdBQ1MsS0FBSyxpQkFBaUI7QUFDM0IsWUFBSSxDQUFDLGFBQUssT0FBTyxLQUFLLHdCQUF3QixLQUFLLFNBQVMsR0FBRztBQUMzRCxlQUFLLGNBQWMsT0FBTyxPQUFPLGVBQWUsTUFBTSxpQkFBaUIsTUFBUztBQUNoRixlQUFLLHVCQUF1QixJQUFJLEtBQUssU0FBUztBQUFBLFFBQ2xEO0FBQUEsTUFDSixPQUNLO0FBQ0QsYUFBSyx1QkFBdUIsSUFBSSxLQUFLLFNBQVM7QUFBQSxNQUNsRDtBQUNBLFdBQUssY0FBYyxLQUFLO0FBQUEsSUFDNUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQU9BLGNBQWMsR0FBRztBQUNiLFVBQUksQ0FBQztBQUNELGdCQUFRLE1BQU0sOENBQThDO0FBSWhFLFVBQUksQ0FBQyxLQUFLO0FBQ047QUFFSixZQUFNLFdBQVcsS0FBSyxTQUFTLEtBQUssSUFBSTtBQUN4QyxRQUFFLGlCQUFpQixVQUFVLFFBQVE7QUFDckMsWUFBTSxnQkFBZ0IsS0FBSyxjQUFjLEtBQUssSUFBSTtBQUNsRCxRQUFFLGlCQUFpQixlQUFlLGFBQWE7QUFDL0MsWUFBTSxjQUFjLEtBQUssWUFBWSxLQUFLLElBQUk7QUFDOUMsUUFBRSxpQkFBaUIsYUFBYSxXQUFXO0FBQzNDLFdBQUssdUJBQXVCLEtBQUssTUFBTTtBQUNuQyxZQUFJLENBQUMsS0FBSyxPQUFPO0FBQ2I7QUFDSixVQUFFLG9CQUFvQixVQUFVLFFBQVE7QUFDeEMsVUFBRSxvQkFBb0IsZUFBZSxhQUFhO0FBQ2xELFVBQUUsb0JBQW9CLGFBQWEsV0FBVztBQUFBLE1BQ2xELENBQUM7QUFFRCxXQUFLLGtCQUFrQjtBQUFBLElBQzNCO0FBQUEsSUFDQSxlQUFlO0FBQ1gsV0FBSyxPQUFPLGlCQUFpQixPQUFPLEtBQUssdUJBQXVCO0FBQ2hFLFdBQUssT0FBTyxTQUFTLE9BQU8sS0FBSyxpQkFBaUI7QUFDbEQsV0FBSyxxQkFBcUIsS0FBSztBQUMvQixVQUFJLEtBQUs7QUFDTCxhQUFLLE9BQU8sYUFBYSxJQUFJO0FBQ2pDLFVBQUksS0FBSztBQUNMLGFBQUssZ0JBQWdCLGdCQUFnQixJQUFJO0FBRTdDLGlCQUFXLEtBQUssS0FBSztBQUNqQixVQUFFO0FBQ04sV0FBSyx1QkFBdUIsU0FBUztBQUFBLElBQ3pDO0FBQUEsSUFDQSxZQUFZO0FBQ1IsV0FBSyxnQkFBZ0IsUUFBUTtBQUFBLElBQ2pDO0FBQUE7QUFBQSxJQUVBLFNBQVMsR0FBRztBQUNSLFVBQUksRUFBRSxZQUFZLGNBQWMsS0FBSztBQUNqQztBQUNKLFdBQUssUUFBUSxHQUFHLEVBQUUsT0FBTyxJQUFJO0FBQUEsSUFDakM7QUFBQTtBQUFBLElBRUEsY0FBYyxHQUFHO0FBQ2IsV0FBSyxlQUFlO0FBQ3BCLFVBQUksRUFBRSxZQUFZLGNBQWMsS0FBSyxZQUFZO0FBQzdDLGFBQUssVUFBVTtBQUNmLGFBQUssUUFBUSxHQUFHLEVBQUUsS0FBSztBQUFBLE1BQzNCO0FBQUEsSUFDSjtBQUFBO0FBQUEsSUFFQSxZQUFZLEdBQUc7QUFDWCxXQUFLLGVBQWU7QUFDcEIsVUFBSSxFQUFFLFlBQVksY0FBYyxLQUFLLFlBQVk7QUFDN0MsYUFBSyxVQUFVO0FBQ2YsYUFBSyxRQUFRLEdBQUcsRUFBRSxLQUFLO0FBQUEsTUFDM0I7QUFBQSxJQUNKO0FBQUE7QUFBQSxJQUVBLGNBQWMsR0FBRztBQUViLFVBQUksQ0FBQyxFQUFFO0FBQ0g7QUFDSixXQUFLLGVBQWUsQ0FBQztBQUNyQixXQUFLLFFBQVEsR0FBRyxJQUFJO0FBQUEsSUFDeEI7QUFBQTtBQUFBLElBRUEsUUFBUSxHQUFHO0FBQ1AsV0FBSyxlQUFlLENBQUM7QUFDckIsV0FBSyxRQUFRLEdBQUcsTUFBTSxJQUFJO0FBQUEsSUFDOUI7QUFBQTtBQUFBLElBRUEsY0FBYyxHQUFHO0FBRWIsVUFBSSxDQUFDLEVBQUUsYUFBYSxFQUFFLFdBQVc7QUFDN0I7QUFDSixXQUFLLGVBQWUsQ0FBQztBQUNyQixXQUFLLFVBQVU7QUFDZixXQUFLLFFBQVEsQ0FBQztBQUFBLElBQ2xCO0FBQUE7QUFBQSxJQUVBLFlBQVksR0FBRztBQUVYLFVBQUksQ0FBQyxFQUFFLGFBQWEsRUFBRSxXQUFXO0FBQzdCO0FBQ0osV0FBSyxlQUFlLENBQUM7QUFDckIsV0FBSyxVQUFVO0FBQ2YsV0FBSyxRQUFRLENBQUM7QUFBQSxJQUNsQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFLQSxlQUFlLEdBQUc7QUFDZCxXQUFLLGdCQUFnQixDQUFDLElBQUksRUFBRTtBQUM1QixXQUFLLGdCQUFnQixDQUFDLElBQUksRUFBRTtBQUM1QixXQUFLLGdCQUFnQjtBQUFBLElBQ3pCO0FBQUEsSUFDQSxrQkFBa0I7QUFDZCxZQUFNLFNBQVMsS0FBSyxPQUFPLE9BQU8sc0JBQXNCO0FBRXhELFlBQU0sT0FBTyxLQUFLLGdCQUFnQixDQUFDLElBQUksT0FBTztBQUM5QyxZQUFNLE1BQU0sS0FBSyxnQkFBZ0IsQ0FBQyxJQUFJLE9BQU87QUFDN0MsV0FBSyxXQUFXLENBQUMsSUFBSSxPQUFPLElBQUk7QUFDaEMsV0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSTtBQUNoQyxXQUFLLFdBQVcsQ0FBQyxJQUFJO0FBQ3JCLFdBQUssa0NBQWtDO0FBQUEsSUFDM0M7QUFBQSxJQUNBLG9DQUFvQztBQUVoQyxtQkFBSyxjQUFjLEtBQUssWUFBWSxLQUFLLFlBQVksS0FBSyxpQkFBaUI7QUFDM0UsbUJBQUssVUFBVSxLQUFLLFlBQVksS0FBSyxVQUFVO0FBQy9DLFdBQUssMEJBQTBCO0FBQUEsSUFDbkM7QUFBQSxJQUNBLDRCQUE0QjtBQUN4QixXQUFLLE9BQU8scUJBQXFCLEtBQUssWUFBWSxLQUFLLFVBQVU7QUFDakUsV0FBSyxPQUFPLGlCQUFpQixLQUFLLE9BQU87QUFBQSxJQUM3QztBQUFBLElBQ0EsUUFBUSxlQUFlLFFBQVEsTUFBTSxVQUFVLE9BQU87QUFDbEQsWUFBTSxTQUFTLEtBQUssZUFBZSxJQUM3QixLQUFLLE9BQU8sTUFBTSxRQUFRLEtBQUssU0FBUyxLQUFLLFlBQVksS0FBSyxjQUFjLElBQzVFLEtBQUssT0FBTyxRQUFRLFFBQVEsS0FBSyxTQUFTLEtBQUssWUFBWSxLQUFLLGdCQUFnQixLQUFLLFdBQVc7QUFDdEcsVUFBSSxvQkFBb0I7QUFDeEIsVUFBSSxnQkFBZ0I7QUFDcEIsVUFBSSxLQUFLLGtCQUFrQixTQUFTO0FBQ2hDLGFBQUssZUFBZSxpQkFBaUIsS0FBSyxTQUFTO0FBQ25ELDRCQUFvQixhQUFLLFNBQVMsS0FBSyxPQUFPLGlCQUFpQkEsUUFBTyxHQUFHLEtBQUssU0FBUztBQUN2Rix3QkFBZ0IsS0FBSyxrQkFBa0Isa0JBQWtCLEtBQUssRUFBRSxDQUFDO0FBQUEsTUFDckU7QUFDQSxVQUFJLGtCQUFrQjtBQUN0QixVQUFJLE9BQU8sV0FBVyxHQUFHO0FBQ3JCLGNBQU0sSUFBSSxPQUFPLFVBQVUsQ0FBQztBQUM1QixZQUFJLHFCQUFxQixHQUFHO0FBRXhCLGVBQUssVUFBVSxJQUFJLE9BQU8sVUFBVSxDQUFDLENBQUM7QUFBQSxRQUMxQyxPQUNLO0FBQ0QsNEJBQWtCO0FBQUEsUUFDdEI7QUFBQSxNQUNKLFdBQ1Msb0JBQW9CLFVBQVU7QUFBQSxNQUV2QyxPQUNLO0FBQ0QsYUFBSyxVQUFVLEtBQUssQ0FBQztBQUFBLE1BQ3pCO0FBQ0EsVUFBSSxtQkFBbUIsQ0FBQyxLQUFLLGlCQUFpQjtBQUMxQyxhQUFLLGNBQWMsUUFBUSxPQUFPLGVBQWUsSUFBSTtBQUFBLE1BQ3pELFdBQ1MsQ0FBQyxtQkFBbUIsS0FBSyxpQkFBaUI7QUFDL0MsYUFBSyxjQUFjLFVBQVUsT0FBTyxlQUFlLElBQUk7QUFBQSxNQUMzRDtBQUNBLFdBQUssa0JBQWtCO0FBQ3ZCLFdBQUssZUFBZSxRQUFRLGVBQWUsU0FBUyxhQUFhO0FBQ2pFLGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQTViSSxnQkFERSxRQUNLLFlBQVc7QUFHbEI7QUFBQTtBQUFBLGdCQUpFLFFBSUssZ0JBQWUsQ0FBQyxlQUFlO0FBMGIxQyxFQUFBRCxZQUFXO0FBQUEsSUFDUCxTQUFTLElBQUksQ0FBQztBQUFBLEVBQ2xCLEdBQUcsT0FBTyxXQUFXLGtCQUFrQixNQUFNO0FBQzdDLEVBQUFBLFlBQVc7QUFBQSxJQUNQLFNBQVMsT0FBTztBQUFBLEVBQ3BCLEdBQUcsT0FBTyxXQUFXLG1CQUFtQixNQUFNO0FBQzlDLEVBQUFBLFlBQVc7QUFBQSxJQUNQLFNBQVMsS0FBSyxDQUFDLEtBQUssS0FBSyxLQUFLLE1BQU0sR0FBRyxHQUFHO0FBQUEsRUFDOUMsR0FBRyxPQUFPLFdBQVcsd0JBQXdCLE1BQU07QUFDbkQsRUFBQUEsWUFBVztBQUFBLElBQ1AsU0FBUyxPQUFPO0FBQUEsRUFDcEIsR0FBRyxPQUFPLFdBQVcsZ0JBQWdCLE1BQU07QUFDM0MsRUFBQUEsWUFBVztBQUFBLElBQ1AsU0FBUyxLQUFLLENBQUMsbUJBQW1CLFFBQVEsU0FBUyxNQUFNLEdBQUcsaUJBQWlCO0FBQUEsRUFDakYsR0FBRyxPQUFPLFdBQVcsY0FBYyxNQUFNO0FBQ3pDLEVBQUFBLFlBQVc7QUFBQSxJQUNQLFNBQVMsS0FBSyxDQUFDLGFBQWEsT0FBTyxHQUFHLFdBQVc7QUFBQSxFQUNyRCxHQUFHLE9BQU8sV0FBVyxlQUFlLE1BQU07QUFDMUMsRUFBQUEsWUFBVztBQUFBLElBQ1AsU0FBUyxNQUFNLEdBQUc7QUFBQSxFQUN0QixHQUFHLE9BQU8sV0FBVyxlQUFlLE1BQU07QUFDMUMsRUFBQUEsWUFBVztBQUFBLElBQ1AsU0FBUyxLQUFLLElBQUk7QUFBQSxFQUN0QixHQUFHLE9BQU8sV0FBVyxlQUFlLE1BQU07QUFDMUMsRUFBQUEsWUFBVztBQUFBLElBQ1AsU0FBUyxLQUFLLEtBQUs7QUFBQSxFQUN2QixHQUFHLE9BQU8sV0FBVyxtQkFBbUIsTUFBTTs7O0FDdGdCOUMsTUFBSUksY0FBMEMsU0FBVSxZQUFZLFFBQVEsS0FBSyxNQUFNO0FBQ25GLFFBQUksSUFBSSxVQUFVLFFBQVEsSUFBSSxJQUFJLElBQUksU0FBUyxTQUFTLE9BQU8sT0FBTyxPQUFPLHlCQUF5QixRQUFRLEdBQUcsSUFBSSxNQUFNO0FBQzNILFFBQUksT0FBTyxZQUFZLFlBQVksT0FBTyxRQUFRLGFBQWE7QUFBWSxVQUFJLFFBQVEsU0FBUyxZQUFZLFFBQVEsS0FBSyxJQUFJO0FBQUE7QUFDeEgsZUFBUyxJQUFJLFdBQVcsU0FBUyxHQUFHLEtBQUssR0FBRztBQUFLLFlBQUksSUFBSSxXQUFXLENBQUM7QUFBRyxlQUFLLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLElBQUksRUFBRSxRQUFRLEtBQUssQ0FBQyxJQUFJLEVBQUUsUUFBUSxHQUFHLE1BQU07QUFDaEosV0FBTyxJQUFJLEtBQUssS0FBSyxPQUFPLGVBQWUsUUFBUSxLQUFLLENBQUMsR0FBRztBQUFBLEVBQ2hFO0FBWUEsTUFBTSxjQUFOLGNBQTBCLFVBQVU7QUFBQTtBQUFBLElBR2hDLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFDSixVQUFJLFNBQVMsSUFBSSxhQUFhLENBQUM7QUFDL0Isb0JBQU0sZUFBZSxRQUFRLEtBQUssT0FBTyxjQUFjO0FBQ3ZELGNBQVEsSUFBSSxpQkFBaUIsS0FBSyxPQUFPLElBQUk7QUFDN0MsY0FBUSxJQUFJLGlCQUFpQixLQUFLLEtBQUssSUFBSTtBQUMzQyxjQUFRLElBQUksZ0JBQWlCLE1BQU07QUFDbkMsY0FBUSxJQUFJLG1CQUFvQixLQUFLLE9BQU8sY0FBYztBQUMxRCxjQUFRLElBQUksbUJBQW9CLEtBQUssT0FBTyxjQUFjO0FBQUEsSUFDOUQ7QUFBQSxFQUNKO0FBWkksZ0JBREUsYUFDSyxZQUFXO0FBYXRCLEVBQUFBLFlBQVc7QUFBQSxJQUNQLFNBQVMsT0FBTztBQUFBLEVBQ3BCLEdBQUcsWUFBWSxXQUFXLE9BQU8sTUFBTTs7O0FDN0J2QyxXQUFTLGlCQUFpQixLQUFLLEdBQUcsR0FBRyxHQUFHO0FBQ3BDLFVBQU0sS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDO0FBQ3pCLFVBQU0sS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDO0FBQ3pCLFVBQU0sS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDO0FBQ3pCLFVBQU0sS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDO0FBQ3pCLFVBQU0sS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDO0FBQ3pCLFVBQU0sS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDO0FBQ3pCLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUNsQyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDbEMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQ2xDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUFBLEVBQ3RDO0FBT0EsTUFBTSx3QkFBTixjQUFvQyxVQUFVO0FBQUEsSUFHMUMsUUFBUTtBQUNKLFdBQUssWUFBWTtBQUNqQixXQUFLLFlBQVk7QUFDakIsV0FBSyxjQUFjO0FBQ25CLFdBQUssY0FBYztBQUFBLElBQ3ZCO0FBQUEsSUFDQSxPQUFPO0FBRUgsV0FBSyxvQkFBb0IsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO0FBQ3BDLFdBQUssb0JBQW9CLE9BQU8sY0FBYyxPQUFPLGFBQWEsSUFBSTtBQUN0RSxXQUFLLFVBQVUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUN2QixhQUFPLGlCQUFpQixxQkFBcUIsU0FBVSxHQUFHO0FBQ3RELFlBQUksUUFBUSxFQUFFLFNBQVM7QUFDdkIsWUFBSSxPQUFPLEVBQUUsUUFBUTtBQUNyQixZQUFJLFFBQVEsRUFBRSxTQUFTO0FBQ3ZCLGNBQU0sUUFBUSxLQUFLLEtBQUs7QUFDeEIseUJBQWlCLEtBQUssbUJBQW1CLE9BQU8sT0FBTyxRQUFRLE9BQU8sQ0FBQyxRQUFRLEtBQUs7QUFBQSxNQUN4RixFQUFFLEtBQUssSUFBSSxDQUFDO0FBQ1osYUFBTyxpQkFBaUIscUJBQXFCLFNBQVUsR0FBRztBQUN0RCxhQUFLLG9CQUFvQixPQUFPLGVBQWU7QUFBQSxNQUNuRCxFQUFFLEtBQUssSUFBSSxHQUFHLEtBQUs7QUFBQSxJQUN2QjtBQUFBLElBQ0EsU0FBUztBQUVMLFVBQUksS0FBSyxPQUFPO0FBQ1o7QUFDSixXQUFLLE9BQU8sb0JBQW9CLEtBQUssT0FBTztBQUM1QyxXQUFLLE9BQU8sZUFBZTtBQUMzQixVQUFJLEtBQUsscUJBQXFCLEdBQUc7QUFDN0IsYUFBSyxPQUFPLG1CQUFtQixDQUFDLEdBQUcsR0FBRyxFQUFFLEdBQUcsS0FBSyxpQkFBaUI7QUFBQSxNQUNyRTtBQUNBLFdBQUssT0FBTyxPQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxLQUFLLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDMUQsV0FBSyxPQUFPLE9BQU8sS0FBSyxpQkFBaUI7QUFDekMsV0FBSyxPQUFPLFVBQVUsS0FBSyxPQUFPO0FBQUEsSUFDdEM7QUFBQSxFQUNKO0FBckNJLGdCQURFLHVCQUNLLFlBQVc7QUFDbEIsZ0JBRkUsdUJBRUssY0FBYSxDQUFDOzs7QUNkekIsTUFBTSxlQUFOLGNBQTJCLFVBQVU7QUFBQSxJQUdqQyxPQUFPO0FBQ0gsV0FBSyxhQUFhO0FBQUEsSUFDdEI7QUFBQSxJQUNBLFFBQVE7QUFDSixXQUFLLE1BQU0sS0FBSyxPQUFPLGFBQWEsV0FBVztBQUFBLElBQ25EO0FBQUEsSUFDQSxTQUFTO0FBQ0wsWUFBTSxXQUFXLEtBQUssSUFBSSxjQUFjO0FBQ3hDLFVBQUksZUFBZTtBQUNuQixlQUFTLElBQUksR0FBRyxJQUFJLFNBQVMsUUFBUSxFQUFFLEdBQUc7QUFDdEMsY0FBTSxJQUFJLFNBQVMsQ0FBQyxFQUFFO0FBQ3RCLGNBQU0sU0FBUyxFQUFFLGFBQWEsZUFBZTtBQUM3QyxZQUFJLFFBQVE7QUFDUixjQUFJLENBQUMsT0FBTyxPQUFPLEtBQUssVUFBVSxHQUFHO0FBQ2pDLG1CQUFPLFFBQVEsR0FBRyxJQUFJO0FBQ3RCLG1CQUFPLFFBQVEsR0FBRyxJQUFJO0FBQUEsVUFDMUI7QUFDQSx5QkFBZTtBQUNmO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFDQSxVQUFJLENBQUMsY0FBYztBQUNmLFlBQUksS0FBSztBQUNMLGVBQUssV0FBVyxVQUFVLEtBQUssV0FBVyxRQUFRLElBQUk7QUFDMUQsYUFBSyxhQUFhO0FBQ2xCO0FBQUEsTUFDSixPQUNLO0FBQ0QsYUFBSyxhQUFhO0FBQUEsTUFDdEI7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQWpDSSxnQkFERSxjQUNLLFlBQVc7QUFDbEIsZ0JBRkUsY0FFSyxjQUFhLENBQUM7OztBQ0p6QixNQUFNLGlCQUFOLGNBQTZCLFVBQVU7QUFBQSxJQU1uQyxRQUFRO0FBQ0osV0FBSyx5QkFBeUIsS0FBSyxrQkFBa0IsS0FBSyxJQUFJO0FBQUEsSUFDbEU7QUFBQSxJQUNBLGFBQWE7QUFDVCxXQUFLLE9BQU8saUJBQWlCLElBQUksS0FBSyxzQkFBc0I7QUFBQSxJQUNoRTtBQUFBLElBQ0EsZUFBZTtBQUNYLFdBQUssT0FBTyxpQkFBaUIsT0FBTyxLQUFLLHNCQUFzQjtBQUFBLElBQ25FO0FBQUEsSUFDQSxvQkFBb0I7QUFDaEIsV0FBSyxPQUFPLEdBQUcsVUFBVSxpQkFBaUIsS0FBSztBQUFBLElBQ25EO0FBQUEsRUFDSjtBQWpCSSxnQkFERSxnQkFDSyxZQUFXO0FBQ2xCLGdCQUZFLGdCQUVLLGNBQWE7QUFBQTtBQUFBLElBRWhCLGdCQUFnQixFQUFFLE1BQU0sS0FBSyxPQUFPLFNBQVMsSUFBSTtBQUFBLEVBQ3JEOzs7QUNiSixNQUFJQyxjQUEwQyxTQUFVLFlBQVksUUFBUSxLQUFLLE1BQU07QUFDbkYsUUFBSSxJQUFJLFVBQVUsUUFBUSxJQUFJLElBQUksSUFBSSxTQUFTLFNBQVMsT0FBTyxPQUFPLE9BQU8seUJBQXlCLFFBQVEsR0FBRyxJQUFJLE1BQU07QUFDM0gsUUFBSSxPQUFPLFlBQVksWUFBWSxPQUFPLFFBQVEsYUFBYTtBQUFZLFVBQUksUUFBUSxTQUFTLFlBQVksUUFBUSxLQUFLLElBQUk7QUFBQTtBQUN4SCxlQUFTLElBQUksV0FBVyxTQUFTLEdBQUcsS0FBSyxHQUFHO0FBQUssWUFBSSxJQUFJLFdBQVcsQ0FBQztBQUFHLGVBQUssSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksSUFBSSxFQUFFLFFBQVEsS0FBSyxDQUFDLElBQUksRUFBRSxRQUFRLEdBQUcsTUFBTTtBQUNoSixXQUFPLElBQUksS0FBSyxLQUFLLE9BQU8sZUFBZSxRQUFRLEtBQUssQ0FBQyxHQUFHO0FBQUEsRUFDaEU7QUFLQSxNQUFNLGlCQUFpQjtBQUFBLElBQ25CO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsRUFDSjtBQUNBLE1BQU0saUJBQWlCLGFBQUssT0FBTztBQUNuQyxNQUFNLGNBQWMsYUFBSyxPQUFPO0FBQ2hDLE1BQU0sV0FBVyxhQUFLLE9BQU87QUFDN0IsTUFBTSxXQUFXLGFBQUssT0FBTztBQXdCN0IsTUFBTSxlQUFOLGNBQTJCLFVBQVU7QUFBQTtBQUFBLElBR2pDLGFBQWE7QUFBQTtBQUFBLElBRWIsWUFBWTtBQUFBO0FBQUEsSUFFWixnQkFBZ0I7QUFBQTtBQUFBO0FBQUEsSUFHaEIsV0FBVztBQUFBO0FBQUEsSUFFWCxnQ0FBZ0M7QUFBQTtBQUFBLElBRWhDLHlCQUF5QjtBQUFBLElBQ3pCLE9BQU87QUFDSCxXQUFLLGFBQWEsQ0FBQyxRQUFRLE9BQU8sRUFBRSxLQUFLLFVBQVU7QUFBQSxJQUN2RDtBQUFBLElBQ0EsU0FBUyxDQUFDO0FBQUEsSUFDVixVQUFVO0FBQUE7QUFBQSxJQUVWLFVBQVU7QUFBQSxJQUNWLGtCQUFrQjtBQUFBLElBQ2xCLFFBQVE7QUFDSixVQUFJLEVBQUUsWUFBWSxTQUFTO0FBQ3ZCLGdCQUFRLEtBQUssb0RBQW9EO0FBQ2pFLGFBQUssU0FBUztBQUNkO0FBQUEsTUFDSjtBQUNBLFVBQUksS0FBSyxVQUFVO0FBQ2YsY0FBTSxPQUFPLEtBQUs7QUFDbEIsY0FBTSxXQUFXLEtBQUs7QUFFdEIsYUFBSyxPQUFPLGVBQWUsQ0FBQyxDQUFDLElBQUksS0FBSyxPQUFPLFdBQVcsU0FBUyxDQUFDLENBQUM7QUFHbkUsaUJBQVMsSUFBSSxHQUFHLElBQUksU0FBUyxRQUFRLEVBQUUsR0FBRztBQUN0QyxnQkFBTSxRQUFRLEtBQUssT0FBTyxXQUFXLFNBQVMsQ0FBQyxDQUFDO0FBRWhELGVBQUssT0FBTyxNQUFNLElBQUksSUFBSTtBQUFBLFFBQzlCO0FBRUE7QUFBQSxNQUNKO0FBRUEsWUFBTSxlQUFlLEtBQUssT0FBTyxNQUFNLFdBQVcsZUFBZSxRQUFRLEtBQUssUUFBUSxlQUFlLE1BQU07QUFDM0csZUFBUyxJQUFJLEdBQUcsSUFBSSxlQUFlLFFBQVEsRUFBRSxHQUFHO0FBQzVDLGNBQU0sUUFBUSxhQUFhLENBQUM7QUFDNUIsY0FBTSxhQUFhLGVBQWU7QUFBQSxVQUM5QixNQUFNLEtBQUs7QUFBQSxVQUNYLFVBQVUsS0FBSztBQUFBLFFBQ25CLENBQUM7QUFDRCxhQUFLLE9BQU8sZUFBZSxDQUFDLENBQUMsSUFBSTtBQUNqQyxjQUFNLE9BQU8sZUFBZSxDQUFDO0FBQUEsTUFDakM7QUFBQSxJQUNKO0FBQUEsSUFDQSxPQUFPLElBQUk7QUFDUCxVQUFJLENBQUMsS0FBSyxPQUFPO0FBQ2I7QUFDSixXQUFLLFVBQVU7QUFDZixVQUFJLEtBQUssT0FBTyxHQUFHLFFBQVEsY0FBYztBQUNyQyxpQkFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLE9BQU8sR0FBRyxRQUFRLGFBQWEsUUFBUSxFQUFFLEdBQUc7QUFDakUsZ0JBQU0sY0FBYyxLQUFLLE9BQU8sR0FBRyxRQUFRLGFBQWEsQ0FBQztBQUN6RCxjQUFJLENBQUMsYUFBYSxRQUFRLGFBQWEsY0FBYyxLQUFLO0FBQ3REO0FBQ0osZ0JBQU0sYUFBYSxZQUFZLEtBQUssSUFBSSxPQUFPO0FBQy9DLGNBQUksWUFBWTtBQUNaLGtCQUFNLElBQUksS0FBSyxPQUFPLEdBQUcsTUFBTSxhQUFhLFlBQVksS0FBSyxPQUFPLEdBQUcscUJBQXFCO0FBQzVGLGdCQUFJLEdBQUc7QUFDSCx1Q0FBeUIsS0FBSyxRQUFRLEVBQUUsU0FBUztBQUFBLFlBQ3JEO0FBQUEsVUFDSjtBQUNBLGVBQUssT0FBTyxpQkFBaUIsV0FBVztBQUN4Qyx1QkFBSyxVQUFVLGFBQWEsV0FBVztBQUN2QyxlQUFLLE9BQU8saUJBQWlCLGNBQWM7QUFJM0MsZUFBSyxPQUFPLE9BQU8sRUFBRSxlQUFlO0FBRXBDLG1CQUFTLElBQUksR0FBRyxJQUFJLGVBQWUsUUFBUSxFQUFFLEdBQUc7QUFDNUMsa0JBQU0sWUFBWSxlQUFlLENBQUM7QUFDbEMsa0JBQU0sUUFBUSxLQUFLLE9BQU8sU0FBUztBQUNuQyxnQkFBSSxDQUFDO0FBQ0Q7QUFDSixnQkFBSSxZQUFZO0FBQ2hCLGtCQUFNLGFBQWEsWUFBWSxLQUFLLElBQUksU0FBUztBQUNqRCxnQkFBSSxZQUFZO0FBQ1osMEJBQVksS0FBSyxPQUFPLEdBQUcsTUFBTSxhQUFhLFlBQVksS0FBSyxPQUFPLEdBQUcscUJBQXFCO0FBQUEsWUFDbEc7QUFDQSxnQkFBSSxXQUFXO0FBQ1gsbUJBQUssVUFBVTtBQUNmLG9CQUFNLHNCQUFzQjtBQUM1QixvQkFBTSxlQUFlO0FBQUEsZ0JBQ2pCLFVBQVUsVUFBVSxTQUFTLElBQUksZUFBZSxDQUFDO0FBQUEsZ0JBQ2pELFVBQVUsVUFBVSxTQUFTLElBQUksZUFBZSxDQUFDO0FBQUEsZ0JBQ2pELFVBQVUsVUFBVSxTQUFTLElBQUksZUFBZSxDQUFDO0FBQUEsY0FDckQsQ0FBQztBQUNELG9CQUFNLFlBQVksV0FBVztBQUM3QixvQkFBTSxhQUFhO0FBQUEsZ0JBQ2YsVUFBVSxVQUFVLFlBQVk7QUFBQSxnQkFDaEMsVUFBVSxVQUFVLFlBQVk7QUFBQSxnQkFDaEMsVUFBVSxVQUFVLFlBQVk7QUFBQSxnQkFDaEMsVUFBVSxVQUFVLFlBQVk7QUFBQSxjQUNwQyxDQUFDO0FBQ0Qsa0JBQUksQ0FBQyxLQUFLLFVBQVU7QUFFaEIsc0JBQU0sSUFBSSxVQUFVLFVBQVU7QUFDOUIsc0JBQU0sZ0JBQWdCLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztBQUFBLGNBQ25DO0FBQUEsWUFDSjtBQUFBLFVBQ0o7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUNBLFVBQUksQ0FBQyxLQUFLLFdBQVcsS0FBSyxpQkFBaUI7QUFDdkMsYUFBSyxrQkFBa0I7QUFDdkIsWUFBSSxLQUFLLCtCQUErQjtBQUNwQyxlQUFLLGtCQUFrQixLQUFLO0FBQUEsUUFDaEM7QUFDQSxZQUFJLEtBQUssd0JBQXdCO0FBQzdCLGVBQUssdUJBQXVCLFNBQVM7QUFDckMsZUFBSyxrQkFBa0IsTUFBTSxLQUFLLHNCQUFzQjtBQUFBLFFBQzVEO0FBQUEsTUFDSixXQUNTLEtBQUssV0FBVyxDQUFDLEtBQUssaUJBQWlCO0FBQzVDLGFBQUssa0JBQWtCO0FBQ3ZCLFlBQUksS0FBSywrQkFBK0I7QUFDcEMsZUFBSyxrQkFBa0IsSUFBSTtBQUFBLFFBQy9CO0FBQ0EsWUFBSSxLQUFLLHdCQUF3QjtBQUM3QixlQUFLLHVCQUF1QixTQUFTO0FBQ3JDLGVBQUssa0JBQWtCLE9BQU8sS0FBSyxzQkFBc0I7QUFBQSxRQUM3RDtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFDQSxrQkFBa0IsUUFBUSxRQUFRO0FBQzlCLGVBQVMsVUFBVSxLQUFLO0FBQ3hCLFlBQU0sV0FBVyxPQUFPO0FBQ3hCLGlCQUFXLEtBQUssVUFBVTtBQUN0QixVQUFFLFNBQVM7QUFDWCxhQUFLLGtCQUFrQixRQUFRLENBQUM7QUFBQSxNQUNwQztBQUFBLElBQ0o7QUFBQSxJQUNBLGFBQWE7QUFDVCxXQUFLLE9BQU8sa0JBQWtCLEVBQUUsaUJBQWlCLFFBQVE7QUFDekQsV0FBSyxPQUFPLFdBQVcsRUFBRSxpQkFBaUIsUUFBUTtBQUNsRCxhQUFPLGFBQUssUUFBUSxVQUFVLFFBQVEsSUFBSTtBQUFBLElBQzlDO0FBQUEsRUFDSjtBQW5KSSxnQkFERSxjQUNLLFlBQVc7QUFvSnRCLEVBQUFBLFlBQVc7QUFBQSxJQUNQLFNBQVMsS0FBSyxDQUFDLFFBQVEsT0FBTyxDQUFDO0FBQUEsRUFDbkMsR0FBRyxhQUFhLFdBQVcsY0FBYyxNQUFNO0FBQy9DLEVBQUFBLFlBQVc7QUFBQSxJQUNQLFNBQVMsS0FBSztBQUFBLEVBQ2xCLEdBQUcsYUFBYSxXQUFXLGFBQWEsTUFBTTtBQUM5QyxFQUFBQSxZQUFXO0FBQUEsSUFDUCxTQUFTLFNBQVM7QUFBQSxFQUN0QixHQUFHLGFBQWEsV0FBVyxpQkFBaUIsTUFBTTtBQUNsRCxFQUFBQSxZQUFXO0FBQUEsSUFDUCxTQUFTLEtBQUs7QUFBQSxFQUNsQixHQUFHLGFBQWEsV0FBVyxZQUFZLE1BQU07QUFDN0MsRUFBQUEsWUFBVztBQUFBLElBQ1AsU0FBUyxLQUFLLElBQUk7QUFBQSxFQUN0QixHQUFHLGFBQWEsV0FBVyxpQ0FBaUMsTUFBTTtBQUNsRSxFQUFBQSxZQUFXO0FBQUEsSUFDUCxTQUFTLE9BQU87QUFBQSxFQUNwQixHQUFHLGFBQWEsV0FBVywwQkFBMEIsTUFBTTs7O0FDck8zRCxzQkFBTztBQVFQLE1BQU0sc0JBQU4sY0FBa0MsVUFBVTtBQUFBLElBTXhDLE9BQU87QUFDSCxXQUFLLFNBQVMsSUFBSSxhQUFhLENBQUM7QUFDaEMsV0FBSyxNQUFNLElBQUksYUFBYSxDQUFDO0FBQzdCLFdBQUssS0FBSyxJQUFJLGFBQWEsQ0FBQztBQUFBLElBQ2hDO0FBQUEsSUFDQSxTQUFTO0FBQ0wsVUFBSSxDQUFDLEtBQUs7QUFDTjtBQUNKLFdBQUssT0FBTyxvQkFBb0IsS0FBSyxNQUFNO0FBQzNDLFdBQUssT0FBTyxXQUFXLEtBQUssR0FBRztBQUMvQixXQUFLLE9BQU8sTUFBTSxLQUFLLEVBQUU7QUFDekIsYUFBTyxJQUFJLEtBQUssT0FBTyxDQUFDLEdBQUcsS0FBSyxPQUFPLENBQUMsR0FBRyxLQUFLLE9BQU8sQ0FBQyxDQUFDO0FBQ3pELGFBQU8sWUFBWSxLQUFLLElBQUksQ0FBQyxHQUFHLEtBQUssSUFBSSxDQUFDLEdBQUcsS0FBSyxJQUFJLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQztBQUFBLElBQ2hHO0FBQUEsRUFDSjtBQW5CSSxnQkFERSxxQkFDSyxZQUFXO0FBQ2xCLGdCQUZFLHFCQUVLLGNBQWE7QUFBQTtBQUFBLElBRWhCLFNBQVMsRUFBRSxNQUFNLEtBQUssTUFBTSxTQUFTLEtBQUs7QUFBQSxFQUM5Qzs7O0FDYkosTUFBQUMsaUJBQU87QUFZUCxNQUFNLG9CQUFOLGNBQWdDLFVBQVU7QUFBQSxJQWN0QyxRQUFRO0FBQ0osV0FBSyxRQUFRLElBQUksS0FBSztBQUFBLFFBQ2xCLEtBQUssQ0FBQyxLQUFLLEdBQUc7QUFBQSxRQUNkLE1BQU0sS0FBSztBQUFBLFFBQ1gsUUFBUSxLQUFLO0FBQUEsUUFDYixVQUFVLEtBQUs7QUFBQSxNQUNuQixDQUFDO0FBQ0QsV0FBSyxvQkFBb0I7QUFDekIsV0FBSyxTQUFTLElBQUksYUFBYSxDQUFDO0FBQ2hDLFdBQUssYUFBYSxJQUFJLGFBQWEsQ0FBQztBQUNwQyxVQUFJLEtBQUssV0FBVyxLQUFLLFVBQVU7QUFDL0IsYUFBSyxlQUFlO0FBQ3BCLGFBQUssS0FBSztBQUFBLE1BQ2Q7QUFBQSxJQUNKO0FBQUEsSUFDQSxTQUFTO0FBQ0wsVUFBSSxDQUFDLEtBQUssV0FBVyxDQUFDLEtBQUs7QUFDdkI7QUFDSixXQUFLLE9BQU8sb0JBQW9CLEtBQUssTUFBTTtBQUszQyxVQUFJLEtBQUssSUFBSSxLQUFLLFdBQVcsQ0FBQyxJQUFJLEtBQUssT0FBTyxDQUFDLENBQUMsSUFBSSxRQUNoRCxLQUFLLElBQUksS0FBSyxXQUFXLENBQUMsSUFBSSxLQUFLLE9BQU8sQ0FBQyxDQUFDLElBQUksUUFDaEQsS0FBSyxJQUFJLEtBQUssV0FBVyxDQUFDLElBQUksS0FBSyxPQUFPLENBQUMsQ0FBQyxJQUFJLE1BQU87QUFDdkQsYUFBSyxlQUFlO0FBQUEsTUFDeEI7QUFBQSxJQUNKO0FBQUEsSUFDQSxpQkFBaUI7QUFDYixXQUFLLE1BQU0sSUFBSSxLQUFLLE9BQU8sQ0FBQyxHQUFHLEtBQUssT0FBTyxDQUFDLEdBQUcsS0FBSyxPQUFPLENBQUMsR0FBRyxLQUFLLGlCQUFpQjtBQUNyRixXQUFLLFdBQVcsSUFBSSxLQUFLLE1BQU07QUFBQSxJQUNuQztBQUFBLElBQ0EsT0FBTztBQUNILFVBQUksS0FBSztBQUNMLGFBQUssTUFBTSxLQUFLLEtBQUssaUJBQWlCO0FBQzFDLFdBQUssb0JBQW9CLEtBQUssTUFBTSxLQUFLO0FBQ3pDLFVBQUksS0FBSztBQUNMLGFBQUssZUFBZTtBQUFBLElBQzVCO0FBQUEsSUFDQSxPQUFPO0FBQ0gsVUFBSSxDQUFDLEtBQUs7QUFDTjtBQUNKLFdBQUssTUFBTSxLQUFLLEtBQUssaUJBQWlCO0FBQ3RDLFdBQUssb0JBQW9CO0FBQUEsSUFDN0I7QUFBQSxJQUNBLGVBQWU7QUFHWCxXQUFLLEtBQUs7QUFBQSxJQUNkO0FBQUEsRUFDSjtBQWhFSSxnQkFERSxtQkFDSyxZQUFXO0FBQ2xCLGdCQUZFLG1CQUVLLGNBQWE7QUFBQTtBQUFBLElBRWhCLFFBQVEsRUFBRSxNQUFNLEtBQUssT0FBTyxTQUFTLEVBQUk7QUFBQTtBQUFBLElBRXpDLFNBQVMsRUFBRSxNQUFNLEtBQUssTUFBTSxTQUFTLEtBQUs7QUFBQTtBQUFBLElBRTFDLE1BQU0sRUFBRSxNQUFNLEtBQUssTUFBTSxTQUFTLE1BQU07QUFBQTtBQUFBLElBRXhDLFVBQVUsRUFBRSxNQUFNLEtBQUssTUFBTSxTQUFTLE1BQU07QUFBQTtBQUFBLElBRTVDLEtBQUssRUFBRSxNQUFNLEtBQUssUUFBUSxTQUFTLEdBQUc7QUFBQSxFQUMxQzs7O0FDakJHLFdBQVMsd0JBQXdCLEtBQUssU0FBUyx1QkFBdUI7QUFDekUsUUFBSSwwQkFBMEIsUUFBUTtBQUVsQyxVQUFJLHFCQUFxQixJQUFJO0FBQzdCLGFBQU87QUFBQSxJQUNYO0FBQ0EsVUFBTSxTQUFTLElBQUk7QUFDbkIsUUFBSSxXQUFXLHdCQUF3QjtBQUVuQyxVQUFJLGNBQWM7QUFDbEIsYUFBTztBQUFBLElBQ1gsV0FDUyxXQUFXLDJCQUNoQixXQUFXLGFBQ1gsV0FBVyx3QkFDWCxXQUFXLHFCQUFxQjtBQUVoQyxVQUFJLGlCQUFpQjtBQUNyQixhQUFPO0FBQUEsSUFDWCxXQUNTLFdBQVcsWUFBWTtBQUU1QixVQUFJLGNBQWM7QUFDbEIsYUFBTztBQUFBLElBQ1gsV0FDUyxXQUFXLHVCQUF1QjtBQUV2QyxVQUFJLGdCQUFnQjtBQUNwQixhQUFPO0FBQUEsSUFDWCxXQUNTLFdBQVcsZ0JBQWdCLFdBQVcsT0FBTztBQUVsRCxVQUFJLFVBQVU7QUFDZCxhQUFPO0FBQUEsSUFDWCxXQUNTLFdBQVcsNEJBQTRCO0FBRTVDLFVBQUksZ0JBQWdCO0FBQ3BCLGFBQU87QUFBQSxJQUNYO0FBQ0EsV0FBTztBQUFBLEVBQ1g7OztBQ3JDQSxNQUFNLGVBQU4sY0FBMkIsVUFBVTtBQUFBLElBVWpDLFFBQVE7QUFDSixVQUFJLENBQUMsS0FBSyxVQUFVO0FBQ2hCLGNBQU0sTUFBTSwwQ0FBMEM7QUFBQSxNQUMxRDtBQUNBLFdBQUssT0FBTyxTQUNQLEtBQUssS0FBSyxLQUFLLFdBQVcsRUFDMUIsS0FBSyxDQUFDLFlBQVk7QUFDbkIsY0FBTSxNQUFNLEtBQUs7QUFDakIsWUFBSSxDQUFDLHdCQUF3QixLQUFLLFNBQVMsS0FBSyxlQUFlLEdBQUc7QUFDOUQsa0JBQVEsTUFBTSxVQUFVLElBQUksUUFBUSxnQ0FBZ0M7QUFBQSxRQUN4RTtBQUFBLE1BQ0osQ0FBQyxFQUNJLE1BQU0sUUFBUSxHQUFHO0FBQUEsSUFDMUI7QUFBQSxFQUNKO0FBdkJJLGdCQURFLGNBQ0ssWUFBVztBQUNsQixnQkFGRSxjQUVLLGNBQWE7QUFBQTtBQUFBLElBRWhCLEtBQUssU0FBUyxPQUFPO0FBQUE7QUFBQSxJQUVyQixVQUFVLFNBQVMsU0FBUztBQUFBO0FBQUEsSUFFNUIsaUJBQWlCLFNBQVMsT0FBTyxNQUFNO0FBQUEsRUFDM0M7OztBQ3RCSixNQUFJQyxjQUEwQyxTQUFVLFlBQVksUUFBUSxLQUFLLE1BQU07QUFDbkYsUUFBSSxJQUFJLFVBQVUsUUFBUSxJQUFJLElBQUksSUFBSSxTQUFTLFNBQVMsT0FBTyxPQUFPLE9BQU8seUJBQXlCLFFBQVEsR0FBRyxJQUFJLE1BQU07QUFDM0gsUUFBSSxPQUFPLFlBQVksWUFBWSxPQUFPLFFBQVEsYUFBYTtBQUFZLFVBQUksUUFBUSxTQUFTLFlBQVksUUFBUSxLQUFLLElBQUk7QUFBQTtBQUN4SCxlQUFTLElBQUksV0FBVyxTQUFTLEdBQUcsS0FBSyxHQUFHO0FBQUssWUFBSSxJQUFJLFdBQVcsQ0FBQztBQUFHLGVBQUssSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksSUFBSSxFQUFFLFFBQVEsS0FBSyxDQUFDLElBQUksRUFBRSxRQUFRLEdBQUcsTUFBTTtBQUNoSixXQUFPLElBQUksS0FBSyxLQUFLLE9BQU8sZUFBZSxRQUFRLEtBQUssQ0FBQyxHQUFHO0FBQUEsRUFDaEU7QUFJQSxNQUFNLGlCQUFpQixDQUFDLE1BQU07QUFBRSxNQUFFLGVBQWU7QUFBQSxFQUFHO0FBT3BELE1BQU0scUJBQU4sY0FBaUMsVUFBVTtBQUFBO0FBQUEsSUFHdkMsWUFBWTtBQUFBO0FBQUE7QUFBQSxJQUdaLG1CQUFtQjtBQUFBO0FBQUE7QUFBQSxJQUduQixtQkFBbUI7QUFBQTtBQUFBLElBRW5CLHFCQUFxQjtBQUFBLElBQ3JCLG1CQUFtQjtBQUFBLElBQ25CLG1CQUFtQjtBQUFBLElBQ25CLFNBQVMsSUFBSSxhQUFhLENBQUM7QUFBQSxJQUMzQixlQUFlLElBQUksYUFBYSxDQUFDO0FBQUEsSUFDakMsWUFBWTtBQUFBLElBQ1osWUFBWTtBQUFBLElBQ1osWUFBWTtBQUFBLElBQ1osYUFBYTtBQUNULGVBQVMsaUJBQWlCLGFBQWEsS0FBSyxXQUFXO0FBQ3ZELFlBQU1DLFVBQVMsS0FBSyxPQUFPO0FBQzNCLFVBQUksS0FBSyxvQkFBb0I7QUFDekIsUUFBQUEsUUFBTyxpQkFBaUIsYUFBYSxLQUFLLGtCQUFrQjtBQUFBLE1BQ2hFO0FBQ0EsVUFBSSxLQUFLLGtCQUFrQjtBQUN2QixZQUFJLEtBQUsscUJBQXFCLEdBQUc7QUFDN0IsVUFBQUEsUUFBTyxpQkFBaUIsZUFBZSxnQkFBZ0IsS0FBSztBQUFBLFFBQ2hFO0FBQ0EsUUFBQUEsUUFBTyxpQkFBaUIsYUFBYSxLQUFLLFdBQVc7QUFDckQsUUFBQUEsUUFBTyxpQkFBaUIsV0FBVyxLQUFLLFNBQVM7QUFBQSxNQUNyRDtBQUFBLElBQ0o7QUFBQSxJQUNBLGVBQWU7QUFDWCxlQUFTLG9CQUFvQixhQUFhLEtBQUssV0FBVztBQUMxRCxZQUFNQSxVQUFTLEtBQUssT0FBTztBQUMzQixVQUFJLEtBQUssb0JBQW9CO0FBQ3pCLFFBQUFBLFFBQU8sb0JBQW9CLGFBQWEsS0FBSyxrQkFBa0I7QUFBQSxNQUNuRTtBQUNBLFVBQUksS0FBSyxrQkFBa0I7QUFDdkIsWUFBSSxLQUFLLHFCQUFxQixHQUFHO0FBQzdCLFVBQUFBLFFBQU8sb0JBQW9CLGVBQWUsZ0JBQWdCLEtBQUs7QUFBQSxRQUNuRTtBQUNBLFFBQUFBLFFBQU8sb0JBQW9CLGFBQWEsS0FBSyxXQUFXO0FBQ3hELFFBQUFBLFFBQU8sb0JBQW9CLFdBQVcsS0FBSyxTQUFTO0FBQUEsTUFDeEQ7QUFBQSxJQUNKO0FBQUEsSUFDQSxxQkFBcUIsTUFBTTtBQUN2QixZQUFNQSxVQUFTLEtBQUssT0FBTztBQUMzQixNQUFBQSxRQUFPLHFCQUNIQSxRQUFPLHNCQUNIQSxRQUFPLHlCQUNQQSxRQUFPO0FBQ2YsTUFBQUEsUUFBTyxtQkFBbUI7QUFBQSxJQUM5QjtBQUFBLElBQ0EsY0FBYyxDQUFDLE1BQU07QUFDakIsVUFBSSxFQUFFLFdBQVcsS0FBSyxrQkFBa0I7QUFDcEMsYUFBSyxZQUFZO0FBQ2pCLGlCQUFTLEtBQUssTUFBTSxTQUFTO0FBQzdCLFlBQUksRUFBRSxXQUFXLEdBQUc7QUFDaEIsWUFBRSxlQUFlO0FBRWpCLGlCQUFPO0FBQUEsUUFDWDtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFDQSxZQUFZLENBQUMsTUFBTTtBQUNmLFVBQUksRUFBRSxXQUFXLEtBQUssa0JBQWtCO0FBQ3BDLGFBQUssWUFBWTtBQUNqQixpQkFBUyxLQUFLLE1BQU0sU0FBUztBQUFBLE1BQ2pDO0FBQUEsSUFDSjtBQUFBLElBQ0EsY0FBYyxDQUFDLE1BQU07QUFDakIsVUFBSSxLQUFLLFdBQVcsS0FBSyxhQUFhLENBQUMsS0FBSyxtQkFBbUI7QUFDM0QsYUFBSyxZQUFhLENBQUMsS0FBSyxZQUFZLEVBQUUsWUFBYTtBQUNuRCxhQUFLLFlBQWEsQ0FBQyxLQUFLLFlBQVksRUFBRSxZQUFhO0FBQ25ELGFBQUssb0JBQW9CLEtBQUs7QUFDOUIsYUFBSyxvQkFBb0IsS0FBSztBQUU5QixhQUFLLG1CQUFtQixLQUFLLElBQUksT0FBTyxLQUFLLGdCQUFnQjtBQUM3RCxhQUFLLG1CQUFtQixLQUFLLElBQUksUUFBUSxLQUFLLGdCQUFnQjtBQUM5RCxhQUFLLE9BQU8saUJBQWlCLEtBQUssTUFBTTtBQUN4QyxjQUFNLFNBQVMsS0FBSyxPQUFPO0FBQzNCLFlBQUksUUFBUTtBQUNSLGlCQUFPLGlCQUFpQixLQUFLLFlBQVk7QUFDekMsdUJBQUssSUFBSSxLQUFLLFFBQVEsS0FBSyxRQUFRLEtBQUssWUFBWTtBQUFBLFFBQ3hEO0FBQ0EsYUFBSyxPQUFPLHNCQUFzQjtBQUNsQyxhQUFLLE9BQU8sd0JBQXdCLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxLQUFLLGdCQUFnQjtBQUNwRSxhQUFLLE9BQU8sd0JBQXdCLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxLQUFLLGdCQUFnQjtBQUNwRSxhQUFLLE9BQU8sZUFBZSxLQUFLLE1BQU07QUFBQSxNQUMxQztBQUFBLElBQ0o7QUFBQSxFQUNKO0FBNUZJLGdCQURFLG9CQUNLLFlBQVc7QUE2RnRCLEVBQUFELFlBQVc7QUFBQSxJQUNQLFNBQVMsTUFBTSxJQUFJO0FBQUEsRUFDdkIsR0FBRyxtQkFBbUIsV0FBVyxhQUFhLE1BQU07QUFDcEQsRUFBQUEsWUFBVztBQUFBLElBQ1AsU0FBUyxLQUFLLElBQUk7QUFBQSxFQUN0QixHQUFHLG1CQUFtQixXQUFXLG9CQUFvQixNQUFNO0FBQzNELEVBQUFBLFlBQVc7QUFBQSxJQUNQLFNBQVMsSUFBSTtBQUFBLEVBQ2pCLEdBQUcsbUJBQW1CLFdBQVcsb0JBQW9CLE1BQU07QUFDM0QsRUFBQUEsWUFBVztBQUFBLElBQ1AsU0FBUyxLQUFLLEtBQUs7QUFBQSxFQUN2QixHQUFHLG1CQUFtQixXQUFXLHNCQUFzQixNQUFNOzs7QUN6SDdELE1BQUlFLGNBQTBDLFNBQVUsWUFBWSxRQUFRLEtBQUssTUFBTTtBQUNuRixRQUFJLElBQUksVUFBVSxRQUFRLElBQUksSUFBSSxJQUFJLFNBQVMsU0FBUyxPQUFPLE9BQU8sT0FBTyx5QkFBeUIsUUFBUSxHQUFHLElBQUksTUFBTTtBQUMzSCxRQUFJLE9BQU8sWUFBWSxZQUFZLE9BQU8sUUFBUSxhQUFhO0FBQVksVUFBSSxRQUFRLFNBQVMsWUFBWSxRQUFRLEtBQUssSUFBSTtBQUFBO0FBQ3hILGVBQVMsSUFBSSxXQUFXLFNBQVMsR0FBRyxLQUFLLEdBQUc7QUFBSyxZQUFJLElBQUksV0FBVyxDQUFDO0FBQUcsZUFBSyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxJQUFJLEVBQUUsUUFBUSxLQUFLLENBQUMsSUFBSSxFQUFFLFFBQVEsR0FBRyxNQUFNO0FBQ2hKLFdBQU8sSUFBSSxLQUFLLEtBQUssT0FBTyxlQUFlLFFBQVEsS0FBSyxDQUFDLEdBQUc7QUFBQSxFQUNoRTtBQU9BLE1BQU0sZUFBTixjQUEyQixVQUFVO0FBQUEsSUFFakMsU0FBUztBQUFBLElBQ1Q7QUFBQSxJQUNBO0FBQUEsSUFDQSxRQUFRO0FBQ0osV0FBSyxPQUFPLHNCQUFzQjtBQUNsQyxXQUFLLE9BQU8sZUFBZSxDQUFDLEdBQUssS0FBSyxRQUFRLENBQUcsQ0FBQztBQUNsRCxXQUFLLHlCQUF5QixLQUFLLGlCQUFpQixLQUFLLElBQUk7QUFDN0QsV0FBSyx1QkFBdUIsS0FBSyxlQUFlLEtBQUssSUFBSTtBQUFBLElBQzdEO0FBQUEsSUFDQSxhQUFhO0FBQ1QsV0FBSyxPQUFPLGlCQUFpQixJQUFJLEtBQUssc0JBQXNCO0FBQzVELFdBQUssT0FBTyxlQUFlLElBQUksS0FBSyxvQkFBb0I7QUFBQSxJQUM1RDtBQUFBLElBQ0EsZUFBZTtBQUNYLFdBQUssT0FBTyxpQkFBaUIsT0FBTyxLQUFLLHNCQUFzQjtBQUMvRCxXQUFLLE9BQU8sZUFBZSxPQUFPLEtBQUssb0JBQW9CO0FBQUEsSUFDL0Q7QUFBQSxJQUNBLG1CQUFtQjtBQUNmLFlBQU0sT0FBTyxLQUFLLE9BQU8sSUFBSTtBQUM3QixVQUFJLFNBQVMsV0FBVyxTQUFTLFVBQVU7QUFDdkMsYUFBSyxPQUFPLHNCQUFzQjtBQUFBLE1BQ3RDO0FBQUEsSUFDSjtBQUFBLElBQ0EsaUJBQWlCO0FBQ2IsWUFBTSxPQUFPLEtBQUssT0FBTyxJQUFJO0FBQzdCLFVBQUksU0FBUyxXQUFXLFNBQVMsVUFBVTtBQUN2QyxhQUFLLE9BQU8sc0JBQXNCO0FBQ2xDLGFBQUssT0FBTyxlQUFlLENBQUMsR0FBSyxLQUFLLFFBQVEsQ0FBRyxDQUFDO0FBQUEsTUFDdEQ7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQS9CSSxnQkFERSxjQUNLLFlBQVc7QUFnQ3RCLEVBQUFBLFlBQVc7QUFBQSxJQUNQLFNBQVMsTUFBTSxJQUFJO0FBQUEsRUFDdkIsR0FBRyxhQUFhLFdBQVcsVUFBVSxNQUFNOzs7QUM5QjNDLE1BQU0sa0JBQU4sY0FBOEIsVUFBVTtBQUFBLElBS3BDLFFBQVE7QUFDSixXQUFLLHlCQUF5QixLQUFLLG1CQUFtQixLQUFLLElBQUk7QUFBQSxJQUNuRTtBQUFBLElBQ0EsYUFBYTtBQUNULFdBQUssT0FBTyxpQkFBaUIsSUFBSSxLQUFLLHNCQUFzQjtBQUFBLElBQ2hFO0FBQUEsSUFDQSxlQUFlO0FBQ1gsV0FBSyxPQUFPLGlCQUFpQixPQUFPLEtBQUssc0JBQXNCO0FBQUEsSUFDbkU7QUFBQSxJQUNBLG1CQUFtQixHQUFHO0FBQ2xCLFVBQUksRUFBRSx1QkFBdUIsRUFBRSx1QkFBdUI7QUFDbEQsY0FBTSxJQUFJLEtBQUssT0FBTyxHQUFHLFFBQVE7QUFDakMsVUFBRSxLQUFLLENBQUNDLElBQUcsTUFBTSxLQUFLLElBQUlBLEtBQUksS0FBSyxTQUFTLElBQUksS0FBSyxJQUFJLElBQUksS0FBSyxTQUFTLENBQUM7QUFDNUUsYUFBSyxPQUFPLEdBQUcsUUFBUSxzQkFBc0IsRUFBRSxDQUFDLENBQUM7QUFBQSxNQUNyRDtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBcEJJLGdCQURFLGlCQUNLLFlBQVc7QUFDbEIsZ0JBRkUsaUJBRUssY0FBYTtBQUFBLElBQ2hCLFdBQVcsRUFBRSxNQUFNLEtBQUssT0FBTyxTQUFTLEdBQUs7QUFBQSxFQUNqRDs7O0FDZEosTUFBTSxvQkFBTixjQUFnQyxVQUFVO0FBQUEsSUFvQ3RDLE9BQU87QUFDSCxXQUFLLHNCQUFzQixJQUFJLGFBQWEsQ0FBQztBQUM3QyxXQUFLLFdBQVcsSUFBSSxhQUFhLENBQUM7QUFDbEMsV0FBSyxZQUFZLElBQUksYUFBYSxDQUFDO0FBQ25DLFdBQUssNEJBQTRCO0FBQ2pDLFdBQUssUUFBUSxLQUFLLE9BQU8sYUFBYSxPQUFPO0FBQzdDLFVBQUksQ0FBQyxLQUFLLE9BQU87QUFDYixnQkFBUSxNQUFNLEtBQUssT0FBTyxNQUFNLDBFQUEwRTtBQUMxRztBQUFBLE1BQ0o7QUFDQSxVQUFJLENBQUMsS0FBSyw2QkFBNkI7QUFDbkMsZ0JBQVEsTUFBTSxLQUFLLE9BQU8sTUFBTSxtRUFBbUU7QUFDbkc7QUFBQSxNQUNKO0FBQ0EsVUFBSSxDQUFDLEtBQUssU0FBUztBQUNmLGdCQUFRLE1BQU0sS0FBSyxPQUFPLE1BQU0sZ0RBQWdEO0FBQ2hGO0FBQUEsTUFDSjtBQUNBLFdBQUssZUFBZTtBQUNwQixXQUFLLGtCQUFrQjtBQUN2QixXQUFLLFVBQVUsSUFBSSxhQUFhLENBQUM7QUFDakMsV0FBSyxVQUFVO0FBQ2YsV0FBSyxpQkFBaUI7QUFDdEIsV0FBSyxvQkFBb0IsSUFBSSxhQUFhLENBQUM7QUFBQSxJQUMvQztBQUFBLElBQ0EsUUFBUTtBQUNKLFVBQUksS0FBSyxLQUFLO0FBQ1YsYUFBSyxvQkFBb0I7QUFDekIsZUFBTyxpQkFBaUIsYUFBYSxLQUFLLFlBQVksS0FBSyxJQUFJLENBQUM7QUFDaEUsZUFBTyxpQkFBaUIsV0FBVyxLQUFLLFVBQVUsS0FBSyxJQUFJLENBQUM7QUFBQSxNQUNoRTtBQUNBLFVBQUksS0FBSyxjQUFjLEdBQUc7QUFDdEIsY0FBTSxZQUFZLEtBQUssT0FBTyxhQUFhLE9BQU87QUFDbEQsWUFBSSxDQUFDLFdBQVc7QUFDWixrQkFBUSxLQUFLLGdDQUFnQyxLQUFLLE9BQU8sTUFBTSxzRkFDdkI7QUFBQSxRQUM1QyxPQUNLO0FBQ0QsZUFBSyxhQUFhLFVBQVU7QUFDNUIsZUFBSyxRQUFRO0FBQUEsUUFDakI7QUFBQSxNQUNKLE9BQ0s7QUFDRCxhQUFLLGFBQWEsQ0FBQyxRQUFRLE9BQU8sRUFBRSxLQUFLLGFBQWEsQ0FBQztBQUFBLE1BQzNEO0FBQ0EsV0FBSyx5QkFBeUIsS0FBSyxjQUFjLEtBQUssSUFBSTtBQUMxRCxXQUFLLDRCQUE0QixTQUFTO0FBQUEsSUFDOUM7QUFBQSxJQUNBLGFBQWE7QUFDVCxXQUFLLE9BQU8saUJBQWlCLElBQUksS0FBSyxzQkFBc0I7QUFBQSxJQUNoRTtBQUFBLElBQ0EsZUFBZTtBQUNYLFdBQUssT0FBTyxpQkFBaUIsT0FBTyxLQUFLLHNCQUFzQjtBQUFBLElBQ25FO0FBQUE7QUFBQSxJQUVBLGtCQUFrQjtBQUNkLFdBQUssUUFBUSxXQUFXLEtBQUssUUFBUTtBQUNyQyxXQUFLLFNBQVMsQ0FBQyxJQUFJO0FBQ25CLG1CQUFLLFVBQVUsS0FBSyxVQUFVLEtBQUssUUFBUTtBQUMzQyxhQUFPLEtBQUssTUFBTSxLQUFLLFNBQVMsQ0FBQyxHQUFHLEtBQUssU0FBUyxDQUFDLENBQUM7QUFBQSxJQUN4RDtBQUFBLElBQ0EsU0FBUztBQUNMLFVBQUksY0FBYztBQUNsQixVQUFJLEtBQUssV0FBVyxLQUFLLFFBQVEsTUFBTTtBQUNuQyxhQUFLLGtCQUFrQixDQUFDLElBQUksS0FBSyxRQUFRLEtBQUssQ0FBQztBQUMvQyxhQUFLLGtCQUFrQixDQUFDLElBQUksS0FBSyxRQUFRLEtBQUssQ0FBQztBQUMvQyxzQkFDSSxLQUFLLElBQUksS0FBSyxrQkFBa0IsQ0FBQyxDQUFDLElBQUksS0FBSyxJQUFJLEtBQUssa0JBQWtCLENBQUMsQ0FBQztBQUFBLE1BQ2hGO0FBQ0EsVUFBSSxDQUFDLEtBQUssZ0JBQ04sS0FBSyxvQkFBb0IsQ0FBQyxLQUFLLEtBQUssa0NBQ3BDLEtBQUssa0JBQWtCLENBQUMsSUFBSSxLQUFLLGdDQUFnQztBQUNqRSxhQUFLLGVBQWU7QUFBQSxNQUN4QixXQUNTLEtBQUssZ0JBQ1YsY0FBYyxLQUFLLGtDQUFrQztBQUNyRCxhQUFLLGVBQWU7QUFDcEIsYUFBSyw0QkFBNEIsU0FBUztBQUMxQyxZQUFJLEtBQUssU0FBUztBQUNkLGVBQUssZ0JBQWdCLEtBQUssU0FBUyxLQUFLLGNBQWM7QUFBQSxRQUMxRDtBQUFBLE1BQ0o7QUFDQSxVQUFJLEtBQUssZ0JBQWdCLEtBQUssK0JBQStCLEtBQUssT0FBTztBQUNyRSxjQUFNLFNBQVMsS0FBSztBQUNwQixhQUFLLE9BQU8saUJBQWlCLE1BQU07QUFDbkMsY0FBTUMsYUFBWSxLQUFLLE9BQU8sZ0JBQWdCLEtBQUssUUFBUTtBQUMzRCxZQUFJLFNBQVUsS0FBSyxTQUNmLEtBQUssZUFBZSxJQUNkLEtBQUssT0FBTyxNQUFNLFFBQVEsUUFBUUEsWUFBVyxLQUFLLEtBQUssVUFBVSxJQUNqRSxLQUFLLE9BQU8sUUFBUSxRQUFRLFFBQVFBLFlBQVcsS0FBSyxLQUFLLFlBQVksS0FBSyxXQUFXO0FBQy9GLFlBQUksT0FBTyxXQUFXLEdBQUc7QUFDckIsZUFBSyxrQkFBa0I7QUFDdkIsZUFBSyxpQkFDRCxLQUFLLEtBQ0QsS0FBSyxNQUFNLEtBQUssa0JBQWtCLENBQUMsR0FBRyxLQUFLLGtCQUFrQixDQUFDLENBQUM7QUFDdkUsZUFBSyw0QkFDRCxLQUFLLGdCQUFnQixLQUFLLEtBQUssaUJBQWlCLEtBQUs7QUFDekQsZUFBSyw0QkFBNEIsc0JBQXNCO0FBQ3ZELGVBQUssNEJBQTRCLG1CQUFtQixDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsS0FBSyx5QkFBeUI7QUFDN0YsZUFBSyw0QkFBNEIsVUFBVSxPQUFPLFVBQVUsQ0FBQyxDQUFDO0FBQzlELGVBQUssNEJBQTRCLFVBQVU7QUFBQSxZQUN2QztBQUFBLFlBQ0EsS0FBSztBQUFBLFlBQ0w7QUFBQSxVQUNKLENBQUM7QUFDRCxlQUFLLDRCQUE0QixTQUFTO0FBQzFDLGVBQUssUUFBUSxJQUFJLE9BQU8sVUFBVSxDQUFDLENBQUM7QUFDcEMsZUFBSyxVQUFVO0FBQUEsUUFDbkIsT0FDSztBQUNELGNBQUksQ0FBQyxLQUFLLGlCQUFpQjtBQUN2QixpQkFBSyw0QkFBNEIsU0FBUztBQUMxQyxpQkFBSyxrQkFBa0I7QUFBQSxVQUMzQjtBQUNBLGVBQUssVUFBVTtBQUFBLFFBQ25CO0FBQUEsTUFDSixXQUNTLEtBQUssK0JBQStCLEtBQUssbUJBQW1CO0FBQ2pFLGFBQUssZUFBZTtBQUFBLE1BQ3hCO0FBQ0EsV0FBSyxvQkFBb0IsSUFBSSxLQUFLLGlCQUFpQjtBQUFBLElBQ3ZEO0FBQUEsSUFDQSxjQUFjLEdBQUc7QUFFYixXQUFLLFVBQVU7QUFDZixRQUFFLGlCQUFpQixPQUFPLFdBQVk7QUFHbEMsYUFBSyxVQUFVO0FBQ2YsYUFBSyxVQUFVO0FBQUEsTUFDbkIsRUFBRSxLQUFLLElBQUksQ0FBQztBQUNaLFVBQUksRUFBRSxnQkFBZ0IsRUFBRSxhQUFhLFFBQVE7QUFDekMsaUJBQVMsSUFBSSxHQUFHLElBQUksRUFBRSxhQUFhLFFBQVEsS0FBSztBQUM1QyxjQUFJLGNBQWMsRUFBRSxhQUFhLENBQUM7QUFDbEMsY0FBSSxZQUFZLGNBQWMsS0FBSyxZQUFZO0FBQzNDLGlCQUFLLFVBQVUsWUFBWTtBQUFBLFVBQy9CO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFDQSxRQUFFLGlCQUFpQixzQkFBc0IsU0FBVSxHQUFHO0FBQ2xELFlBQUksRUFBRSxTQUFTLEVBQUUsTUFBTSxRQUFRO0FBQzNCLG1CQUFTLElBQUksR0FBRyxJQUFJLEVBQUUsTUFBTSxRQUFRLEtBQUs7QUFDckMsZ0JBQUksY0FBYyxFQUFFLE1BQU0sQ0FBQztBQUMzQixnQkFBSSxZQUFZLGNBQWMsS0FBSyxZQUFZO0FBQzNDLG1CQUFLLFVBQVUsWUFBWTtBQUFBLFlBQy9CO0FBQUEsVUFDSjtBQUFBLFFBQ0o7QUFBQSxNQUNKLEVBQUUsS0FBSyxJQUFJLENBQUM7QUFBQSxJQUNoQjtBQUFBLElBQ0EsY0FBYztBQUNWLFdBQUssb0JBQW9CO0FBQUEsSUFDN0I7QUFBQSxJQUNBLFlBQVk7QUFDUixXQUFLLG9CQUFvQjtBQUN6QixXQUFLLDRCQUE0QixTQUFTO0FBQzFDLFVBQUksS0FBSyxTQUFTO0FBQ2QsYUFBSyxnQkFBZ0IsS0FBSyxTQUFTLENBQUc7QUFBQSxNQUMxQztBQUFBLElBQ0o7QUFBQSxJQUNBLGlCQUFpQjtBQUNiLFVBQUksU0FBUyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQ3JCLFdBQUssSUFBSSxpQkFBaUIsTUFBTTtBQUNoQyxZQUFNQSxhQUFZLEtBQUssSUFBSSxXQUFXLEtBQUssUUFBUTtBQUNuRCxVQUFJLFNBQVUsS0FBSyxTQUNmLEtBQUssZUFBZSxJQUNkLEtBQUssT0FBTyxNQUFNLFFBQVEsUUFBUUEsWUFBVyxLQUFLLEtBQUssVUFBVSxJQUNqRSxLQUFLLE9BQU8sUUFBUSxRQUFRLFFBQVFBLFlBQVcsS0FBSyxLQUFLLFlBQVksS0FBSyxXQUFXO0FBQy9GLFVBQUksT0FBTyxXQUFXLEdBQUc7QUFDckIsYUFBSyxrQkFBa0I7QUFDdkIsUUFBQUEsV0FBVSxDQUFDLElBQUk7QUFDZixxQkFBSyxVQUFVQSxZQUFXQSxVQUFTO0FBQ25DLGFBQUssNEJBQ0QsQ0FBQyxLQUFLLEtBQUtBLFdBQVUsQ0FBQyxDQUFDLElBQUksS0FBSyxLQUFLQSxXQUFVLENBQUMsQ0FBQyxJQUFJLEtBQUssS0FBSztBQUNuRSxhQUFLLDRCQUE0QixzQkFBc0I7QUFDdkQsYUFBSyw0QkFBNEIsbUJBQW1CLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxLQUFLLHlCQUF5QjtBQUM3RixhQUFLLDRCQUE0QixVQUFVLE9BQU8sVUFBVSxDQUFDLENBQUM7QUFDOUQsYUFBSyw0QkFBNEIsU0FBUztBQUMxQyxhQUFLLFVBQVUsT0FBTyxVQUFVLENBQUM7QUFDakMsYUFBSyxVQUFVO0FBQUEsTUFDbkIsT0FDSztBQUNELFlBQUksQ0FBQyxLQUFLLGlCQUFpQjtBQUN2QixlQUFLLDRCQUE0QixTQUFTO0FBQzFDLGVBQUssa0JBQWtCO0FBQUEsUUFDM0I7QUFDQSxhQUFLLFVBQVU7QUFBQSxNQUNuQjtBQUFBLElBQ0o7QUFBQSxJQUNBLGdCQUFnQixhQUFhLGVBQWU7QUFDeEMsV0FBSyxRQUFRLG1CQUFtQixDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsYUFBYTtBQUN4RCxZQUFNLElBQUksS0FBSztBQUNmLFlBQU0sS0FBSyxLQUFLO0FBQ2hCLFVBQUksS0FBSyxTQUFTO0FBQ2QsYUFBSyxRQUFRLGlCQUFpQixDQUFDO0FBQy9CLGFBQUssU0FBUyxpQkFBaUIsRUFBRTtBQUNqQyxxQkFBSyxJQUFJLEdBQUcsR0FBRyxFQUFFO0FBQ2pCLHFCQUFLLE1BQU0sR0FBRyxHQUFHLEdBQUc7QUFBQSxNQUN4QixPQUNLO0FBQ0QsYUFBSyxJQUFJLGlCQUFpQixDQUFDO0FBQUEsTUFDL0I7QUFDQSxXQUFLLFFBQVEsaUJBQWlCLEVBQUU7QUFDaEMsbUJBQUssSUFBSSxHQUFHLElBQUksQ0FBQztBQUNqQixRQUFFLENBQUMsS0FBSyxZQUFZLENBQUM7QUFDckIsUUFBRSxDQUFDLElBQUksWUFBWSxDQUFDO0FBQ3BCLFFBQUUsQ0FBQyxLQUFLLFlBQVksQ0FBQztBQUNyQixXQUFLLFFBQVEsaUJBQWlCLENBQUM7QUFBQSxJQUNuQztBQUFBLEVBQ0o7QUFwUEksZ0JBREUsbUJBQ0ssWUFBVztBQUNsQixnQkFGRSxtQkFFSyxjQUFhO0FBQUE7QUFBQSxJQUVoQiw2QkFBNkIsRUFBRSxNQUFNLEtBQUssT0FBTztBQUFBO0FBQUEsSUFFakQsU0FBUyxFQUFFLE1BQU0sS0FBSyxPQUFPO0FBQUE7QUFBQSxJQUU3QixLQUFLLEVBQUUsTUFBTSxLQUFLLE9BQU87QUFBQTtBQUFBLElBRXpCLFNBQVMsRUFBRSxNQUFNLEtBQUssT0FBTztBQUFBO0FBQUEsSUFFN0IsVUFBVSxFQUFFLE1BQU0sS0FBSyxPQUFPO0FBQUE7QUFBQSxJQUU5QixZQUFZO0FBQUEsTUFDUixNQUFNLEtBQUs7QUFBQSxNQUNYLFFBQVEsQ0FBQyxtQkFBbUIsUUFBUSxTQUFTLE1BQU07QUFBQSxNQUNuRCxTQUFTO0FBQUEsSUFDYjtBQUFBO0FBQUEsSUFFQSxZQUFZLEVBQUUsTUFBTSxLQUFLLEtBQUssU0FBUyxFQUFFO0FBQUE7QUFBQSxJQUV6QyxnQ0FBZ0MsRUFBRSxNQUFNLEtBQUssT0FBTyxTQUFTLEtBQUs7QUFBQTtBQUFBLElBRWxFLGtDQUFrQyxFQUFFLE1BQU0sS0FBSyxPQUFPLFNBQVMsSUFBSTtBQUFBO0FBQUEsSUFFbkUsa0JBQWtCLEVBQUUsTUFBTSxLQUFLLE9BQU8sU0FBUyxLQUFLO0FBQUE7QUFBQSxJQUVwRCxhQUFhO0FBQUEsTUFDVCxNQUFNLEtBQUs7QUFBQSxNQUNYLFFBQVEsQ0FBQyxhQUFhLE9BQU87QUFBQSxNQUM3QixTQUFTO0FBQUEsSUFDYjtBQUFBO0FBQUEsSUFFQSxhQUFhLEVBQUUsTUFBTSxLQUFLLE9BQU8sU0FBUyxJQUFNO0FBQUEsRUFDcEQ7OztBQ3hDSixNQUFNLFlBQVksYUFBSyxPQUFPO0FBQzlCLE1BQU0sU0FBUyxhQUFLLE9BQU87QUFDM0IsTUFBTSxTQUFTLGFBQUssT0FBTztBQVczQixNQUFNLFFBQU4sY0FBb0IsVUFBVTtBQUFBLElBb0IxQixPQUFPO0FBQ0gsV0FBSyxTQUFTLElBQUksTUFBTSxLQUFLLFdBQVcsQ0FBQztBQUN6QyxlQUFTLElBQUksR0FBRyxJQUFJLEtBQUssT0FBTyxRQUFRLEVBQUUsR0FBRztBQUN6QyxhQUFLLE9BQU8sQ0FBQyxJQUFJLGFBQUssT0FBTztBQUFBLE1BQ2pDO0FBRUEsV0FBSyxxQkFBcUI7QUFDMUIsV0FBSyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDbEIsV0FBSyxlQUFlLEtBQUs7QUFBQSxJQUM3QjtBQUFBLElBQ0EsUUFBUTtBQUNKLFdBQUssaUJBQWlCLEtBQUssT0FBTyxNQUFNLFVBQVU7QUFDbEQsV0FBSyxXQUFXLEtBQUssZUFBZSxhQUFhLE1BQU07QUFDdkQsV0FBSyxTQUFTLFdBQVcsS0FBSztBQUU5QixZQUFNLGNBQWMsSUFBSSxLQUFLLE9BQU87QUFFcEMsV0FBSyxZQUFZLElBQUksWUFBWSxJQUFJLEtBQUssUUFBUTtBQUNsRCxlQUFTLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxjQUFjLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRztBQUN4RCxhQUFLLFVBQ0EsU0FBUyxHQUFHLElBQUksQ0FBQyxFQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQztBQUFBLE1BQ3ZEO0FBQ0EsV0FBSyxPQUFPLElBQUksS0FBSyxLQUFLLFFBQVE7QUFBQSxRQUM5QjtBQUFBLFFBQ0EsV0FBVyxLQUFLO0FBQUEsUUFDaEIsV0FBVyxjQUFjO0FBQUEsTUFDN0IsQ0FBQztBQUNELFdBQUssU0FBUyxPQUFPLEtBQUs7QUFBQSxJQUM5QjtBQUFBLElBQ0EsaUJBQWlCO0FBQ2IsWUFBTSxZQUFZLEtBQUssS0FBSyxVQUFVLGNBQWMsUUFBUTtBQUM1RCxZQUFNLFlBQVksS0FBSyxLQUFLLFVBQVUsY0FBYyxpQkFBaUI7QUFDckUsWUFBTSxVQUFVLEtBQUssS0FBSyxVQUFVLGNBQWMsTUFBTTtBQUN4RCxtQkFBSyxJQUFJLFdBQVcsR0FBRyxHQUFHLENBQUM7QUFDM0IsZUFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLE9BQU8sUUFBUSxFQUFFLEdBQUc7QUFDekMsY0FBTSxPQUFPLEtBQUssUUFBUSxLQUFLLG9CQUFvQixJQUFJLEtBQUssS0FBSyxPQUFPLE1BQU07QUFDOUUsY0FBTSxPQUFPLEtBQUssUUFBUSxLQUFLLG9CQUFvQixJQUFJLEtBQUssS0FBSyxPQUFPLE1BQU07QUFFOUUsWUFBSSxNQUFNLEtBQUssT0FBTyxTQUFTLEdBQUc7QUFDOUIsdUJBQUssSUFBSSxXQUFXLE1BQU0sSUFBSTtBQUFBLFFBQ2xDO0FBQ0EscUJBQUssTUFBTSxRQUFRLEtBQUssSUFBSSxTQUFTO0FBQ3JDLHFCQUFLLFVBQVUsUUFBUSxNQUFNO0FBQzdCLGNBQU0sZUFBZSxJQUFNLEtBQUssZUFBZSxLQUFLO0FBQ3BELGNBQU0sWUFBWSxJQUFJLGdCQUFnQixLQUFLO0FBQzNDLHFCQUFLLE1BQU0sUUFBUSxTQUFVLEtBQUssUUFBUSxXQUFXLEtBQU8sS0FBSyxRQUFTLENBQUc7QUFDN0Usa0JBQVUsSUFBSSxJQUFJLEdBQUc7QUFBQSxVQUNqQixLQUFLLENBQUMsSUFBSSxPQUFPLENBQUM7QUFBQSxVQUNsQixLQUFLLENBQUMsSUFBSSxPQUFPLENBQUM7QUFBQSxVQUNsQixLQUFLLENBQUMsSUFBSSxPQUFPLENBQUM7QUFBQSxRQUN0QixDQUFDO0FBQ0Qsa0JBQVUsSUFBSSxJQUFJLElBQUksR0FBRztBQUFBLFVBQ3JCLEtBQUssQ0FBQyxJQUFJLE9BQU8sQ0FBQztBQUFBLFVBQ2xCLEtBQUssQ0FBQyxJQUFJLE9BQU8sQ0FBQztBQUFBLFVBQ2xCLEtBQUssQ0FBQyxJQUFJLE9BQU8sQ0FBQztBQUFBLFFBQ3RCLENBQUM7QUFDRCxZQUFJLFNBQVM7QUFDVCx1QkFBSyxNQUFNLFFBQVEsV0FBVyxNQUFNO0FBQ3BDLHVCQUFLLFVBQVUsUUFBUSxNQUFNO0FBQzdCLGtCQUFRLElBQUksSUFBSSxHQUFHLE1BQU07QUFDekIsa0JBQVEsSUFBSSxJQUFJLElBQUksR0FBRyxNQUFNO0FBQUEsUUFDakM7QUFDQSxZQUFJLFdBQVc7QUFDWCxvQkFBVSxJQUFJLElBQUksR0FBRyxDQUFDLEdBQUcsUUFBUSxDQUFDO0FBQ2xDLG9CQUFVLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxHQUFHLFFBQVEsQ0FBQztBQUFBLFFBQzFDO0FBQUEsTUFDSjtBQUVBLFdBQUssS0FBSyxPQUFPO0FBQUEsSUFDckI7QUFBQSxJQUNBLGFBQWE7QUFDVCxXQUFLLE9BQU8sb0JBQW9CLEtBQUssT0FBTyxDQUFDLENBQUM7QUFDOUMsZUFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLE9BQU8sUUFBUSxFQUFFLEdBQUc7QUFDekMscUJBQUssS0FBSyxLQUFLLE9BQU8sQ0FBQyxHQUFHLEtBQUssT0FBTyxDQUFDLENBQUM7QUFBQSxNQUM1QztBQUNBLFdBQUssb0JBQW9CO0FBQ3pCLFdBQUssZUFBZSxLQUFLO0FBQUEsSUFDN0I7QUFBQSxJQUNBLE9BQU8sSUFBSTtBQUNQLFdBQUssZ0JBQWdCO0FBQ3JCLFVBQUksS0FBSyxLQUFLLGdCQUFnQjtBQUMxQixhQUFLLFdBQVc7QUFBQSxNQUNwQjtBQUNBLFVBQUksS0FBSyxlQUFlLEdBQUc7QUFDdkIsYUFBSyxxQkFBcUIsS0FBSyxvQkFBb0IsS0FBSyxLQUFLLE9BQU87QUFDcEUsYUFBSyxlQUFnQixLQUFLLGVBQWUsS0FBSyxXQUFZLEtBQUs7QUFBQSxNQUNuRTtBQUNBLFdBQUssT0FBTyxvQkFBb0IsS0FBSyxPQUFPLEtBQUssaUJBQWlCLENBQUM7QUFDbkUsV0FBSyxlQUFlO0FBQUEsSUFDeEI7QUFBQSxJQUNBLGFBQWE7QUFDVCxXQUFLLFdBQVc7QUFBQSxJQUNwQjtBQUFBLElBQ0EsWUFBWTtBQUNSLFdBQUssZUFBZSxRQUFRO0FBQzVCLFdBQUssS0FBSyxRQUFRO0FBQUEsSUFDdEI7QUFBQSxFQUNKO0FBckhJLGdCQURFLE9BQ0ssWUFBVztBQUNsQixnQkFGRSxPQUVLLGNBQWE7QUFBQTtBQUFBLElBRWhCLFVBQVUsRUFBRSxNQUFNLEtBQUssU0FBUztBQUFBO0FBQUEsSUFFaEMsVUFBVSxFQUFFLE1BQU0sS0FBSyxLQUFLLFNBQVMsR0FBRztBQUFBO0FBQUEsSUFFeEMsVUFBVSxFQUFFLE1BQU0sS0FBSyxPQUFPLFNBQVMsSUFBSTtBQUFBO0FBQUEsSUFFM0MsT0FBTyxFQUFFLE1BQU0sS0FBSyxPQUFPLFNBQVMsRUFBSTtBQUFBO0FBQUEsSUFFeEMsT0FBTyxFQUFFLE1BQU0sS0FBSyxNQUFNLFNBQVMsS0FBSztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQU14QyxnQkFBZ0IsRUFBRSxNQUFNLEtBQUssT0FBTyxTQUFTLElBQUk7QUFBQSxFQUNyRDs7O0FDaENKLFdBQVNDLE9BQU0sR0FBRyxHQUFHLEdBQUc7QUFDcEIsV0FBTyxLQUFLLElBQUksR0FBRyxLQUFLLElBQUksR0FBRyxDQUFDLENBQUM7QUFBQSxFQUNyQztBQUNBLE1BQU0sY0FBYyxJQUFJLGFBQWEsQ0FBQztBQUN0QyxNQUFNQyxZQUFXLElBQUksYUFBYSxDQUFDO0FBQ25DLE1BQU0sWUFBWSxJQUFJLGFBQWEsQ0FBQztBQUNwQyxNQUFNLFNBQVMsSUFBSSxhQUFhLENBQUM7QUFDakMsTUFBTSxZQUFZLElBQUksYUFBYSxDQUFDO0FBQ3BDLE1BQU0sWUFBWSxJQUFJLGFBQWEsQ0FBQztBQUNwQyxNQUFNLGdCQUFnQixJQUFJLGFBQWEsQ0FBQztBQUN4QyxNQUFNLGtCQUFrQixJQUFJLGFBQWEsQ0FBQztBQUMxQyxNQUFNLGVBQWUsSUFBSSxhQUFhLENBQUM7QUFNdkMsTUFBTSxhQUFjLFdBQVk7QUFDNUIsVUFBTSxLQUFLLElBQUksYUFBYSxDQUFDO0FBQzdCLFVBQU0sS0FBSyxJQUFJLGFBQWEsQ0FBQztBQUM3QixVQUFNLEtBQUssSUFBSSxhQUFhLENBQUM7QUFDN0IsVUFBTSxLQUFLLElBQUksYUFBYSxDQUFDO0FBQzdCLFVBQU0sS0FBSyxJQUFJLGFBQWEsQ0FBQztBQUM3QixVQUFNLFFBQVEsSUFBSSxhQUFhLENBQUM7QUFDaEMsVUFBTSxRQUFRLElBQUksYUFBYSxDQUFDO0FBQ2hDLFVBQU0sT0FBTyxJQUFJLGFBQWEsQ0FBQztBQUMvQixXQUFPLFNBQVUsTUFBTSxRQUFRLEdBQUcsR0FBR0MsWUFBVyxLQUFLLFFBQVE7QUFFekQsU0FBRyxJQUFJLENBQUM7QUFDUixZQUFNLE1BQU0sYUFBSyxPQUFPLEVBQUU7QUFDMUIsbUJBQUssSUFBSSxJQUFJLEdBQUcsQ0FBQztBQUNqQixZQUFNLE1BQU0sYUFBSyxPQUFPLEVBQUU7QUFDMUIsU0FBRyxJQUFJQSxVQUFTO0FBQ2hCLFlBQU0sTUFBTUYsT0FBTSxhQUFLLE9BQU8sRUFBRSxHQUFHLEtBQUssTUFBTSxNQUFNLEdBQUc7QUFDdkQsU0FBRyxJQUFJLENBQUM7QUFDUixtQkFBSyxNQUFNLElBQUksR0FBRyxFQUFFO0FBQ3BCLG1CQUFLLElBQUksSUFBSSxHQUFHLENBQUM7QUFDakIsbUJBQUssVUFBVSxJQUFJLEVBQUU7QUFDckIsbUJBQUssVUFBVSxJQUFJLEVBQUU7QUFDckIsbUJBQUssVUFBVSxJQUFJLEVBQUU7QUFDckIsbUJBQUssVUFBVSxJQUFJLEVBQUU7QUFDckIsbUJBQUssVUFBVSxJQUFJLEVBQUU7QUFFckIsWUFBTSxVQUFVLEtBQUssS0FBS0EsT0FBTSxhQUFLLElBQUksSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDeEQsWUFBTSxVQUFVLEtBQUssS0FBS0EsT0FBTSxhQUFLLElBQUksSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDeEQsWUFBTSxVQUFVLEtBQUssS0FBS0EsT0FBTSxhQUFLLElBQUksSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDeEQsWUFBTSxVQUFVLEtBQUssS0FBS0EsUUFBTyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sUUFBUSxLQUFLLE1BQU0sTUFBTSxJQUFJLENBQUMsQ0FBQztBQUM5RixZQUFNLFVBQVUsS0FBSyxLQUFLQSxRQUFPLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxRQUFRLEtBQUssTUFBTSxNQUFNLElBQUksQ0FBQyxDQUFDO0FBQzlGLFVBQUksUUFBUTtBQUNSLHFCQUFLLElBQUksSUFBSSxRQUFRLENBQUM7QUFDdEIscUJBQUssVUFBVSxJQUFJLEVBQUU7QUFBQSxNQUN6QjtBQUNBLG1CQUFLLE1BQU0sT0FBTyxJQUFJLEVBQUU7QUFDeEIsbUJBQUssVUFBVSxPQUFPLEtBQUs7QUFDM0IsbUJBQUssTUFBTSxPQUFPLEdBQUdFLFVBQVM7QUFDOUIsbUJBQUssVUFBVSxPQUFPLEtBQUs7QUFDM0IsYUFBTyw0QkFBNEIsTUFBTSxLQUFLO0FBQzlDLFdBQUsseUJBQXlCLE9BQU8sT0FBTztBQUM1QyxXQUFLLHlCQUF5QixPQUFPLFVBQVUsT0FBTztBQUN0RCxhQUFPLHlCQUF5QixPQUFPLFVBQVUsT0FBTztBQUFBLElBQzVEO0FBQUEsRUFDSixFQUFHO0FBSUgsTUFBTSxtQkFBTixjQUErQixVQUFVO0FBQUEsSUFnQnJDLE9BQU87QUFBQSxJQUNQLFFBQVE7QUFDSixXQUFLLEtBQUssa0JBQWtCLGFBQWE7QUFDekMsV0FBSyxPQUFPLGtCQUFrQixlQUFlO0FBQzdDLFdBQUssSUFBSSxrQkFBa0IsWUFBWTtBQUFBLElBQzNDO0FBQUEsSUFDQSxPQUFPLElBQUk7QUFDUCxXQUFLLFFBQVE7QUFFYixXQUFLLEtBQUssa0JBQWtCLGFBQWE7QUFDekMsV0FBSyxPQUFPLGtCQUFrQixlQUFlO0FBQzdDLFdBQUssSUFBSSxrQkFBa0IsWUFBWTtBQUN2QyxXQUFLLEtBQUssZ0JBQWdCLFdBQVc7QUFFckMsV0FBSyxPQUFPLGlCQUFpQixTQUFTO0FBQ3RDLFdBQUssSUFBSSxpQkFBaUIsTUFBTTtBQUNoQyxXQUFLLE9BQU8sb0JBQW9CLFFBQVEsTUFBTTtBQUM5QyxVQUFJLEtBQUssUUFBUTtBQUViLGFBQUssT0FBTyxpQkFBaUIsU0FBUztBQUN0QyxhQUFLLEtBQUssMkJBQTJCLFdBQVcsU0FBUztBQUN6RCxxQkFBSyxJQUFJLFdBQVcsV0FBVyxXQUFXO0FBQUEsTUFDOUM7QUFFQSxXQUFLLE9BQU8saUJBQWlCLFNBQVM7QUFDdEMsV0FBSyxLQUFLLDJCQUEyQixXQUFXLFNBQVM7QUFDekQsbUJBQUssSUFBSSxXQUFXLFdBQVcsV0FBVztBQUMxQyxpQkFBVyxLQUFLLE1BQU0sS0FBSyxRQUFRLFdBQVcsUUFBUSxXQUFXLE1BQU0sS0FBSyxTQUFTLFlBQVksTUFBTSxLQUFLLElBQUk7QUFDaEgsVUFBSSxLQUFLLG9CQUFvQjtBQUN6QixhQUFLLElBQUksaUJBQWlCLEtBQUssT0FBTyxpQkFBaUJELFNBQVEsQ0FBQztBQUFBLE1BQ3BFO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUEvQ0ksZ0JBREUsa0JBQ0ssWUFBVztBQUNsQixnQkFGRSxrQkFFSyxjQUFhO0FBQUE7QUFBQSxJQUVoQixNQUFNLFNBQVMsT0FBTztBQUFBO0FBQUEsSUFFdEIsUUFBUSxTQUFTLE9BQU87QUFBQTtBQUFBLElBRXhCLEtBQUssU0FBUyxPQUFPO0FBQUE7QUFBQSxJQUVyQixRQUFRLFNBQVMsT0FBTztBQUFBO0FBQUEsSUFFeEIsb0JBQW9CLFNBQVMsS0FBSyxJQUFJO0FBQUE7QUFBQSxJQUV0QyxRQUFRLFNBQVMsT0FBTztBQUFBLEVBQzVCOzs7QUN0REosTUFBTSxlQUFOLGNBQTJCLFVBQVU7QUFBQSxJQWdCakMsT0FBTztBQUNILFVBQUksQ0FBQyxLQUFLLFVBQVU7QUFDaEIsY0FBTSxNQUFNLDBDQUEwQztBQUFBLE1BQzFEO0FBQ0EsV0FBSyxTQUFTO0FBQ2QsV0FBSyx1QkFBdUI7QUFBQSxJQUNoQztBQUFBLElBQ0EsUUFBUTtBQUNKLFdBQUssUUFBUSxTQUFTLGNBQWMsT0FBTztBQUMzQyxXQUFLLE1BQU0sTUFBTSxLQUFLO0FBQ3RCLFdBQUssTUFBTSxjQUFjO0FBQ3pCLFdBQUssTUFBTSxjQUFjO0FBQ3pCLFdBQUssTUFBTSxPQUFPLEtBQUs7QUFDdkIsV0FBSyxNQUFNLFFBQVEsS0FBSztBQUN4QixXQUFLLE1BQU0saUJBQWlCLFdBQVcsTUFBTTtBQUN6QyxhQUFLLFNBQVM7QUFBQSxNQUNsQixDQUFDO0FBQ0QsVUFBSSxLQUFLLFVBQVU7QUFDZixjQUFNLHVCQUF1QixNQUFNO0FBQy9CLGVBQUssTUFBTSxLQUFLO0FBQ2hCLGlCQUFPLG9CQUFvQixTQUFTLG9CQUFvQjtBQUN4RCxpQkFBTyxvQkFBb0IsY0FBYyxvQkFBb0I7QUFBQSxRQUNqRTtBQUNBLGVBQU8saUJBQWlCLFNBQVMsb0JBQW9CO0FBQ3JELGVBQU8saUJBQWlCLGNBQWMsb0JBQW9CO0FBQUEsTUFDOUQ7QUFBQSxJQUNKO0FBQUEsSUFDQSxlQUFlO0FBQ1gsWUFBTSxNQUFNLEtBQUs7QUFDakIsWUFBTSxTQUFTLElBQUk7QUFDbkIsWUFBTSxVQUFXLEtBQUssVUFBVSxJQUFJLFFBQVEsS0FBSyxRQUFRLEtBQUssS0FBSztBQUNuRSxVQUFJLENBQUMsd0JBQXdCLEtBQUssU0FBUyxLQUFLLGVBQWUsR0FBRztBQUM5RCxnQkFBUSxNQUFNLFVBQVUsUUFBUSxnQ0FBZ0M7QUFBQSxNQUNwRTtBQUNBLFVBQUksK0JBQStCLEtBQUssT0FBTztBQUMzQyxhQUFLLE1BQU0sMEJBQTBCLEtBQUssWUFBWSxLQUFLLElBQUksQ0FBQztBQUFBLE1BQ3BFLE9BQ0s7QUFDRCxhQUFLLE1BQU0saUJBQWlCLGNBQWMsTUFBTTtBQUM1QyxlQUFLLHVCQUF1QjtBQUFBLFFBQ2hDLENBQUM7QUFBQSxNQUNMO0FBQUEsSUFDSjtBQUFBLElBQ0EsT0FBTyxJQUFJO0FBQ1AsVUFBSSxLQUFLLFVBQVUsS0FBSyxzQkFBc0I7QUFDMUMsWUFBSSxLQUFLLFNBQVM7QUFDZCxlQUFLLFFBQVEsT0FBTztBQUFBLFFBQ3hCLE9BQ0s7QUFFRCxlQUFLLGFBQWE7QUFBQSxRQUN0QjtBQUNBLGFBQUssdUJBQXVCO0FBQUEsTUFDaEM7QUFBQSxJQUNKO0FBQUEsSUFDQSxjQUFjO0FBQ1YsV0FBSyx1QkFBdUI7QUFDNUIsV0FBSyxNQUFNLDBCQUEwQixLQUFLLFlBQVksS0FBSyxJQUFJLENBQUM7QUFBQSxJQUNwRTtBQUFBLEVBQ0o7QUExRUksZ0JBREUsY0FDSyxZQUFXO0FBQ2xCLGdCQUZFLGNBRUssY0FBYTtBQUFBO0FBQUEsSUFFaEIsS0FBSyxTQUFTLE9BQU87QUFBQTtBQUFBLElBRXJCLFVBQVUsU0FBUyxTQUFTO0FBQUE7QUFBQSxJQUU1QixNQUFNLFNBQVMsS0FBSyxJQUFJO0FBQUE7QUFBQSxJQUV4QixVQUFVLFNBQVMsS0FBSyxJQUFJO0FBQUE7QUFBQSxJQUU1QixPQUFPLFNBQVMsS0FBSyxJQUFJO0FBQUE7QUFBQSxJQUV6QixpQkFBaUIsU0FBUyxPQUFPLE1BQU07QUFBQSxFQUMzQzs7O0FDcENKLE1BQU0scUJBQU4sY0FBaUMsVUFBVTtBQUFBLElBWXZDLFFBQVE7QUFDSixXQUFLLGFBQWEsQ0FBQztBQUNuQixXQUFLLGNBQWMsS0FBSyxNQUFNO0FBRTlCLFdBQUssZUFBZTtBQUNwQixXQUFLLHlCQUF5QixLQUFLLGlCQUFpQixLQUFLLElBQUk7QUFDN0QsV0FBSyx1QkFBdUIsS0FBSyxlQUFlLEtBQUssSUFBSTtBQUFBLElBQzdEO0FBQUEsSUFDQSxhQUFhO0FBQ1QsV0FBSyxPQUFPLGlCQUFpQixJQUFJLEtBQUssc0JBQXNCO0FBQzVELFdBQUssT0FBTyxlQUFlLElBQUksS0FBSyxvQkFBb0I7QUFBQSxJQUM1RDtBQUFBLElBQ0EsZUFBZTtBQUNYLFdBQUssT0FBTyxpQkFBaUIsT0FBTyxLQUFLLHNCQUFzQjtBQUMvRCxXQUFLLE9BQU8sZUFBZSxPQUFPLEtBQUssb0JBQW9CO0FBQUEsSUFDL0Q7QUFBQSxJQUNBLGNBQWMsS0FBSztBQUNmLFlBQU0sUUFBUSxJQUFJLGNBQWMsRUFBRSxPQUFPLENBQUMsTUFBTSxFQUFFLFNBQVMsdUJBQXVCO0FBQ2xGLFdBQUssYUFBYSxLQUFLLFdBQVcsT0FBTyxLQUFLO0FBQzlDLFVBQUksS0FBSyxnQkFBZ0I7QUFDckIsWUFBSSxXQUFXLElBQUk7QUFDbkIsaUJBQVMsSUFBSSxHQUFHLElBQUksU0FBUyxRQUFRLEVBQUUsR0FBRztBQUN0QyxlQUFLLGNBQWMsU0FBUyxDQUFDLENBQUM7QUFBQSxRQUNsQztBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFDQSxvQkFBb0IsUUFBUTtBQUN4QixZQUFNLFFBQVEsS0FBSztBQUNuQixlQUFTLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxFQUFFLEdBQUc7QUFDbkMsY0FBTSxDQUFDLEVBQUUsU0FBUztBQUFBLE1BQ3RCO0FBQUEsSUFDSjtBQUFBLElBQ0EsbUJBQW1CO0FBQ2YsV0FBSyxvQkFBb0IsS0FBSyxzQkFBc0IsQ0FBQztBQUFBLElBQ3pEO0FBQUEsSUFDQSxpQkFBaUI7QUFDYixXQUFLLG9CQUFvQixLQUFLLHNCQUFzQixDQUFDO0FBQUEsSUFDekQ7QUFBQSxFQUNKO0FBakRJLGdCQURFLG9CQUNLLFlBQVc7QUFDbEIsZ0JBRkUsb0JBRUssY0FBYTtBQUFBO0FBQUEsSUFFaEIsb0JBQW9CO0FBQUEsTUFDaEIsTUFBTSxLQUFLO0FBQUEsTUFDWCxRQUFRLENBQUMsU0FBUyxXQUFXO0FBQUEsTUFDN0IsU0FBUztBQUFBLElBQ2I7QUFBQTtBQUFBLElBRUEsZ0JBQWdCLEVBQUUsTUFBTSxLQUFLLE1BQU0sU0FBUyxLQUFLO0FBQUEsRUFDckQ7OztBQ1JKLHNCQUFtQjtBQVZuQixNQUFJRSxjQUEwQyxTQUFVLFlBQVksUUFBUSxLQUFLLE1BQU07QUFDbkYsUUFBSSxJQUFJLFVBQVUsUUFBUSxJQUFJLElBQUksSUFBSSxTQUFTLFNBQVMsT0FBTyxPQUFPLE9BQU8seUJBQXlCLFFBQVEsR0FBRyxJQUFJLE1BQU07QUFDM0gsUUFBSSxPQUFPLFlBQVksWUFBWSxPQUFPLFFBQVEsYUFBYTtBQUFZLFVBQUksUUFBUSxTQUFTLFlBQVksUUFBUSxLQUFLLElBQUk7QUFBQTtBQUN4SCxlQUFTLElBQUksV0FBVyxTQUFTLEdBQUcsS0FBSyxHQUFHO0FBQUssWUFBSSxJQUFJLFdBQVcsQ0FBQztBQUFHLGVBQUssSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksSUFBSSxFQUFFLFFBQVEsS0FBSyxDQUFDLElBQUksRUFBRSxRQUFRLEdBQUcsTUFBTTtBQUNoSixXQUFPLElBQUksS0FBSyxLQUFLLE9BQU8sZUFBZSxRQUFRLEtBQUssQ0FBQyxHQUFHO0FBQUEsRUFDaEU7QUFNQSxNQUFNQyxZQUFXLElBQUksYUFBYSxDQUFDO0FBRW5DLFdBQVMsbUJBQW1CLEtBQUssUUFBUTtBQUNyQyxRQUFJLE9BQU8sVUFBVTtBQUNqQixhQUFPO0FBQ1gsUUFBSSxVQUFVLEtBQUssSUFBSSxPQUFPLENBQUMsRUFBRSxDQUFDO0FBQ2xDLFFBQUksVUFBVSxLQUFLLElBQUksT0FBTyxDQUFDLEVBQUUsQ0FBQztBQUNsQyxhQUFTLElBQUksR0FBRyxJQUFJLE9BQU8sUUFBUSxFQUFFLEdBQUc7QUFDcEMsZ0JBQVUsS0FBSyxJQUFJLFNBQVMsS0FBSyxJQUFJLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNqRCxnQkFBVSxLQUFLLElBQUksU0FBUyxLQUFLLElBQUksT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQUEsSUFDckQ7QUFDQSxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFBQSxFQUNiO0FBRUEsV0FBUyxPQUFPLEdBQUcsR0FBRyxHQUFHO0FBQ3JCLFFBQUksSUFBSTtBQUNKLGFBQU8sSUFBSSxLQUFLLElBQUk7QUFDeEIsV0FBTyxJQUFJLEtBQUssSUFBSTtBQUFBLEVBQ3hCO0FBU08sV0FBUyw2QkFBNkIsR0FBRyxPQUFPO0FBQ25ELFVBQU0sU0FBUyxNQUFNO0FBQ3JCLFFBQUksT0FBTyxTQUFTO0FBQ2hCLGFBQU87QUFFWCxVQUFNLEtBQUssRUFBRSxDQUFDO0FBQ2QsVUFBTSxLQUFLLEVBQUUsQ0FBQztBQUNkLFFBQUksZ0JBQWdCO0FBQ3BCLGFBQVMsSUFBSSxHQUFHLElBQUksT0FBTyxTQUFTLEdBQUcsSUFBSSxPQUFPLFFBQVEsRUFBRSxHQUFHO0FBQzNELFlBQU0sS0FBSyxPQUFPLENBQUMsRUFBRTtBQUNyQixZQUFNLEtBQUssT0FBTyxDQUFDLEVBQUU7QUFDckIsWUFBTSxLQUFLLE9BQU8sQ0FBQyxFQUFFLElBQUksT0FBTyxPQUFPLENBQUMsRUFBRSxJQUFJO0FBQzlDLFlBQU0sSUFBSSxLQUFLLEtBQUssS0FBSyxNQUFNLENBQUM7QUFDaEMsVUFBSSxLQUFLLEtBQU8sS0FBSyxLQUFPLE9BQU8sSUFBSSxJQUFJLElBQUksT0FBTyxDQUFDLEVBQUUsQ0FBQztBQUN0RCxVQUFFO0FBQ04sVUFBSTtBQUFBLElBQ1I7QUFDQSxZQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEM7QUFTTyxXQUFTLDZCQUE2QixRQUFRLEdBQUcsT0FBTztBQUMzRCxRQUFJLE1BQU0sUUFBUSxTQUFTO0FBQ3ZCLGFBQU87QUFDWCxpQ0FBNkIsT0FBTywyQkFBMkJBLFdBQVUsQ0FBQyxHQUFHLEtBQUs7QUFBQSxFQUN0RjtBQVFBLFdBQVMscUJBQXFCLFFBQVEsUUFBUSxlQUFlLE1BQU07QUFDL0QsVUFBTSxjQUFjLE9BQU87QUFDM0IsVUFBTSxXQUFXLElBQUksYUFBYSxjQUFjLENBQUM7QUFDakQsYUFBUyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksYUFBYSxFQUFFLEdBQUcsS0FBSyxHQUFHO0FBQ2pELGVBQVMsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxFQUFFO0FBQ3hCLGVBQVMsSUFBSSxDQUFDLElBQUksT0FBTyxDQUFDLEVBQUU7QUFBQSxJQUNoQztBQUNBLFVBQU0sZ0JBQVksY0FBQUMsU0FBTyxRQUFRO0FBQ2pDLFVBQU0sT0FBTyxnQkFDVCxJQUFJLEtBQUssUUFBUTtBQUFBLE1BQ2I7QUFBQTtBQUFBO0FBQUEsTUFHQSxXQUFXLGNBQWM7QUFBQSxNQUN6QixXQUFXO0FBQUEsSUFDZixDQUFDO0FBQ0wsUUFBSSxLQUFLLGdCQUFnQixhQUFhO0FBQ2xDLGNBQVEsS0FBSyxnRUFBZ0U7QUFDN0UsYUFBTztBQUFBLElBQ1g7QUFDQSxVQUFNLFlBQVksS0FBSyxVQUFVLGNBQWMsUUFBUTtBQUN2RCxVQUFNLGdCQUFnQixLQUFLLFVBQVUsY0FBYyxpQkFBaUI7QUFDcEUsVUFBTSxVQUFVLEtBQUssVUFBVSxjQUFjLE1BQU07QUFDbkQsSUFBQUQsVUFBUyxDQUFDLElBQUk7QUFDZCxhQUFTLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxhQUFhLEVBQUUsR0FBRyxLQUFLLEdBQUc7QUFDakQsTUFBQUEsVUFBUyxDQUFDLElBQUksU0FBUyxDQUFDO0FBQ3hCLE1BQUFBLFVBQVMsQ0FBQyxJQUFJLFNBQVMsSUFBSSxDQUFDO0FBQzVCLGdCQUFVLElBQUksR0FBR0EsU0FBUTtBQUFBLElBQzdCO0FBQ0EsbUJBQWUsSUFBSSxHQUFHLFFBQVE7QUFDOUIsUUFBSSxTQUFTO0FBQ1QsTUFBQUEsVUFBUyxDQUFDLElBQUk7QUFDZCxNQUFBQSxVQUFTLENBQUMsSUFBSTtBQUNkLE1BQUFBLFVBQVMsQ0FBQyxJQUFJO0FBQ2QsZUFBUyxJQUFJLEdBQUcsSUFBSSxhQUFhLEVBQUUsR0FBRztBQUNsQyxnQkFBUSxJQUFJLEdBQUdBLFNBQVE7QUFBQSxNQUMzQjtBQUFBLElBQ0o7QUFDQSxRQUFJO0FBQ0EsV0FBSyxPQUFPO0FBQ2hCLFdBQU87QUFBQSxFQUNYO0FBeEhBO0FBNEhBLE1BQU0saUJBQU4sY0FBNkIsVUFBVTtBQUFBLElBQXZDO0FBQUE7QUErQ0k7QUFRQTtBQXFCQTtBQU9BO0FBOUVBO0FBQUE7QUFBQTtBQUFBLDJDQUFnQjtBQUtoQjtBQUFBO0FBQUE7QUFBQTtBQUFBLDJDQUFnQjtBQUVoQjtBQUFBLG9DQUFTLG9CQUFJLElBQUk7QUFFakI7QUFBQSwwQ0FBZSxvQkFBSSxJQUFJO0FBRXZCO0FBQUEsMENBQWUsSUFBSSxRQUFRO0FBRTNCO0FBQUEseUNBQWMsSUFBSSxRQUFRO0FBQUE7QUFBQSxJQUMxQixTQUFTO0FBQ0wsVUFBSSxDQUFDLEtBQUssT0FBTyxJQUFJO0FBQ2pCO0FBRUosVUFBSSxLQUFLLE9BQU8sR0FBRyxNQUFNLG1CQUFtQixRQUFXO0FBQ25ELGdCQUFRLE1BQU0sK0NBQStDO0FBQzdELGFBQUssU0FBUztBQUNkO0FBQUEsTUFDSjtBQUVBLFlBQU0saUJBQWlCLEtBQUssT0FBTyxHQUFHLE1BQU07QUFDNUMsaUJBQVcsQ0FBQyxPQUFPLENBQUMsS0FBSyxLQUFLLFFBQVE7QUFDbEMsWUFBSSxDQUFDLGVBQWUsSUFBSSxLQUFLLEdBQUc7QUFDNUIsZ0NBQUssMEJBQUwsV0FBZ0I7QUFBQSxRQUNwQjtBQUFBLE1BQ0o7QUFDQSxxQkFBZSxRQUFRLENBQUMsVUFBVTtBQUM5QixZQUFJLEtBQUssT0FBTyxJQUFJLEtBQUssR0FBRztBQUN4QixjQUFJLE1BQU0sa0JBQWtCLEtBQUssT0FBTyxJQUFJLEtBQUssR0FBRztBQUNoRCxrQ0FBSyw4QkFBTCxXQUFrQjtBQUFBLFVBQ3RCO0FBQUEsUUFDSixPQUNLO0FBQ0QsZ0NBQUssNEJBQUwsV0FBaUI7QUFBQSxRQUNyQjtBQUNBLDhCQUFLLHNDQUFMLFdBQXNCO0FBQUEsTUFDMUIsQ0FBQztBQUFBLElBQ0w7QUFBQSxFQThDSjtBQTdDSTtBQUFBLGlCQUFVLFNBQUMsT0FBTztBQUNkLFNBQUssT0FBTyxPQUFPLEtBQUs7QUFDeEIsVUFBTSxJQUFJLEtBQUssYUFBYSxJQUFJLEtBQUs7QUFDckMsU0FBSyxZQUFZLE9BQU8sT0FBTyxDQUFDO0FBRWhDLFFBQUksRUFBRSxXQUFXO0FBQ2IsUUFBRSxRQUFRO0FBQUEsRUFDbEI7QUFDQTtBQUFBLGtCQUFXLFNBQUMsT0FBTztBQUNmLFNBQUssT0FBTyxJQUFJLE9BQU8sTUFBTSxlQUFlO0FBQzVDLFVBQU0sSUFBSSxLQUFLLE9BQU8sTUFBTSxVQUFVLEtBQUssTUFBTTtBQUNqRCxTQUFLLGFBQWEsSUFBSSxPQUFPLENBQUM7QUFDOUIsUUFBSSxLQUFLLGVBQWU7QUFDcEIsUUFBRSxhQUFhLGVBQWU7QUFBQSxRQUMxQixNQUFNLHFCQUFxQixLQUFLLFFBQVEsTUFBTSxPQUFPO0FBQUEsUUFDckQsVUFBVSxLQUFLO0FBQUEsTUFDbkIsQ0FBQztBQUFBLElBQ0w7QUFDQSxRQUFJLEtBQUssaUJBQWlCLEdBQUc7QUFDekIseUJBQW1CQSxXQUFVLE1BQU0sT0FBTztBQUMxQyxNQUFBQSxVQUFTLENBQUMsSUFBSTtBQUNkLFFBQUUsYUFBYSxvQkFBb0I7QUFBQSxRQUMvQixPQUFPLEtBQUs7QUFBQSxRQUNaLFVBQVUsU0FBUztBQUFBLFFBQ25CLFNBQVNBO0FBQUEsTUFDYixDQUFDO0FBQUEsSUFDTDtBQUNBLFNBQUssYUFBYSxPQUFPLE9BQU8sQ0FBQztBQUFBLEVBQ3JDO0FBQ0E7QUFBQSxtQkFBWSxTQUFDLE9BQU87QUFDaEIsU0FBSyxPQUFPLElBQUksT0FBTyxNQUFNLGVBQWU7QUFDNUMsVUFBTSxZQUFZLEtBQUssYUFBYSxJQUFJLEtBQUssRUFBRSxhQUFhLGFBQWE7QUFDekUsUUFBSSxDQUFDO0FBQ0Q7QUFDSix5QkFBcUIsS0FBSyxRQUFRLE1BQU0sU0FBUyxVQUFVLElBQUk7QUFBQSxFQUNuRTtBQUNBO0FBQUEsdUJBQWdCLFNBQUMsT0FBTztBQUNwQixVQUFNLElBQUksS0FBSyxhQUFhLElBQUksS0FBSztBQUNyQyxVQUFNLE9BQU8sS0FBSyxPQUFPLEdBQUcsTUFBTSxRQUFRLE1BQU0sWUFBWSxLQUFLLE9BQU8sR0FBRyxxQkFBcUI7QUFDaEcsUUFBSSxDQUFDLE1BQU07QUFDUCxRQUFFLFNBQVM7QUFDWDtBQUFBLElBQ0o7QUFDQSw2QkFBeUIsR0FBRyxLQUFLLFNBQVM7QUFBQSxFQUM5QztBQTFGQSxnQkFERSxnQkFDSyxZQUFXO0FBNEZ0QixFQUFBRCxZQUFXO0FBQUEsSUFDUCxTQUFTLFNBQVM7QUFBQSxFQUN0QixHQUFHLGVBQWUsV0FBVyxpQkFBaUIsTUFBTTtBQUNwRCxFQUFBQSxZQUFXO0FBQUEsSUFDUCxTQUFTLElBQUk7QUFBQSxFQUNqQixHQUFHLGVBQWUsV0FBVyxpQkFBaUIsTUFBTTs7O0FDNU5wRCxNQUFNLGdCQUFnQjtBQUFBLElBQ2xCLEdBQUcsQ0FBQyxHQUFLLEdBQUssQ0FBRztBQUFBLElBQ2pCLEdBQUcsQ0FBQyxHQUFLLEdBQUssQ0FBRztBQUFBLElBQ2pCLEdBQUcsQ0FBQyxHQUFLLEdBQUssQ0FBRztBQUFBLEVBQ3JCO0FBQ0EsTUFBTSxlQUFlO0FBQUEsSUFDakIsV0FBVyxDQUFDLEdBQUssR0FBSyxDQUFHO0FBQUEsSUFDekIsV0FBVyxDQUFDLElBQU0sR0FBSyxDQUFHO0FBQUEsSUFDMUIsV0FBVyxDQUFDLEdBQUssR0FBSyxDQUFHO0FBQUEsSUFDekIsV0FBVyxDQUFDLEdBQUssSUFBTSxDQUFHO0FBQUEsSUFDMUIsV0FBVyxDQUFDLEdBQUssR0FBSyxDQUFHO0FBQUEsSUFDekIsV0FBVyxDQUFDLEdBQUssR0FBSyxFQUFJO0FBQUEsRUFDOUI7QUF5QkEsTUFBTSxNQUFOLGNBQWtCLFVBQVU7QUFBQTtBQUFBLElBU3hCLE9BQU87QUFBQTtBQUFBLElBRVAsUUFBUTtBQUFBO0FBQUEsTUFFSixNQUFNO0FBQUEsTUFDTixPQUFPO0FBQUEsTUFDUCxPQUFPO0FBQUEsTUFDUCxZQUFZO0FBQUEsTUFDWixNQUFNO0FBQUE7QUFBQSxNQUVOLE1BQU07QUFBQSxNQUNOLFNBQVM7QUFBQSxNQUNULFVBQVU7QUFBQSxNQUNWLEtBQUs7QUFBQTtBQUFBLE1BRUwsY0FBYztBQUFBLE1BQ2QsY0FBYztBQUFBLE1BQ2QsVUFBVTtBQUFBLE1BQ1YsVUFBVTtBQUFBLE1BQ1YsZUFBZTtBQUFBLE1BQ2YsZUFBZTtBQUFBLE1BQ2YsV0FBVztBQUFBLE1BQ1gsV0FBVztBQUFBO0FBQUEsTUFFWCxjQUFjO0FBQUEsTUFDZCxjQUFjO0FBQUEsTUFDZCxjQUFjO0FBQUEsTUFDZCxVQUFVO0FBQUEsTUFDVixlQUFlO0FBQUEsTUFDZixlQUFlO0FBQUEsTUFDZixlQUFlO0FBQUEsTUFDZixXQUFXO0FBQUE7QUFBQSxNQUVYLHFCQUFxQjtBQUFBLE1BQ3JCLG1CQUFtQjtBQUFBLE1BQ25CLGlCQUFpQjtBQUFBLE1BQ2pCLG1CQUFtQjtBQUFBLE1BQ25CLHVCQUF1QjtBQUFBLE1BQ3ZCLGlCQUFpQjtBQUFBLE1BQ2pCLG9CQUFvQjtBQUFBLE1BQ3BCLHdCQUF3QjtBQUFBLE1BQ3hCLGtCQUFrQjtBQUFBLE1BQ2xCLGtCQUFrQjtBQUFBLE1BQ2xCLHNCQUFzQjtBQUFBLE1BQ3RCLGdCQUFnQjtBQUFBLE1BQ2hCLG9CQUFvQjtBQUFBLE1BQ3BCLHdCQUF3QjtBQUFBLE1BQ3hCLGtCQUFrQjtBQUFBLE1BQ2xCLHNCQUFzQjtBQUFBLE1BQ3RCLG9CQUFvQjtBQUFBLE1BQ3BCLGtCQUFrQjtBQUFBLE1BQ2xCLG9CQUFvQjtBQUFBLE1BQ3BCLHdCQUF3QjtBQUFBLE1BQ3hCLGtCQUFrQjtBQUFBLE1BQ2xCLHFCQUFxQjtBQUFBLE1BQ3JCLHlCQUF5QjtBQUFBLE1BQ3pCLG1CQUFtQjtBQUFBLE1BQ25CLG1CQUFtQjtBQUFBLE1BQ25CLHVCQUF1QjtBQUFBLE1BQ3ZCLGlCQUFpQjtBQUFBLE1BQ2pCLHFCQUFxQjtBQUFBLE1BQ3JCLHlCQUF5QjtBQUFBLE1BQ3pCLG1CQUFtQjtBQUFBLElBQ3ZCO0FBQUE7QUFBQSxJQUVBLFdBQVcsQ0FBQztBQUFBO0FBQUEsSUFFWixtQkFBbUIsQ0FBQztBQUFBO0FBQUEsSUFFcEIsZ0JBQWdCLENBQUM7QUFBQTtBQUFBLElBRWpCLG1CQUFtQixDQUFDO0FBQUE7QUFBQSxJQUVwQixvQkFBb0IsQ0FBQztBQUFBO0FBQUEsSUFFckIsMEJBQTBCLENBQUM7QUFBQTtBQUFBLElBRTNCLFVBQVU7QUFBQTtBQUFBLElBRVYsZUFBZTtBQUFBLElBQ2YsT0FBTztBQUNILFdBQUssVUFBVSxhQUFLLE9BQU87QUFDM0IsV0FBSyxXQUFXLGFBQUssT0FBTztBQUM1QixXQUFLLFdBQVcsYUFBSyxPQUFPO0FBQzVCLFdBQUssWUFBWSxhQUFLLE9BQU87QUFDN0IsV0FBSyxhQUFhLGFBQUssT0FBTztBQUM5QixXQUFLLGFBQWEsYUFBSyxPQUFPO0FBQzlCLFdBQUssYUFBYSxhQUFLLE9BQU87QUFDOUIsV0FBSyxhQUFhLGNBQU0sT0FBTztBQUMvQixXQUFLLGVBQWUsYUFBSyxPQUFPO0FBQ2hDLFdBQUssY0FBYyxhQUFLLE9BQU87QUFDL0IsV0FBSyxXQUFXLGFBQUssT0FBTztBQUM1QixXQUFLLGFBQWEsYUFBSyxPQUFPO0FBQzlCLFdBQUssWUFBWSxhQUFLLE9BQU87QUFDN0IsV0FBSyxlQUFlLGFBQUssSUFBSSxhQUFLLE9BQU8sR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUNuRCxXQUFLLFlBQVksYUFBSyxJQUFJLGFBQUssT0FBTyxHQUFHLEdBQUcsR0FBRyxDQUFDO0FBQ2hELFdBQUssaUJBQWlCLGFBQUssSUFBSSxhQUFLLE9BQU8sR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUNyRCxXQUFLLGdCQUFnQixhQUFLLFNBQVMsYUFBSyxPQUFPLENBQUM7QUFDaEQsV0FBSyxXQUFXLE1BQVEsS0FBSztBQUFBLElBQ2pDO0FBQUEsSUFDQSxRQUFRO0FBQ0osVUFBSSxDQUFDLEtBQUssS0FBSztBQUNYLGdCQUFRLE1BQU0sMkJBQTJCO0FBQ3pDO0FBQUEsTUFDSjtBQUNBLFdBQUssT0FBTyxNQUNQLE9BQU8sS0FBSyxLQUFLLEVBQUUsb0JBQW9CLEtBQUssQ0FBQyxFQUM3QyxLQUFLLENBQUMsRUFBRSxNQUFNLFdBQVcsTUFBTTtBQUNoQyxhQUFLLFNBQVMsUUFBUSxDQUFDLFVBQVcsTUFBTSxTQUFTLEtBQUssTUFBTztBQUM3RCxhQUFLLGVBQWUsVUFBVTtBQUM5QixhQUFLLFFBQVE7QUFBQSxNQUNqQixDQUFDO0FBQUEsSUFDTDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFLQSxlQUFlLFlBQVk7QUFDdkIsVUFBSSxLQUFLLGNBQWM7QUFDbkIsY0FBTSxNQUFNLDRDQUE0QztBQUFBLE1BQzVEO0FBQ0EsWUFBTSxXQUFXLFdBQVcsS0FBSyxVQUFVO0FBQzNDLFVBQUksQ0FBQyxVQUFVO0FBQ1gsY0FBTSxNQUFNLHdCQUF3QjtBQUFBLE1BQ3hDO0FBQ0EsVUFBSSxTQUFTLGdCQUFnQixPQUFPO0FBQ2hDLGNBQU0sTUFBTSxvRUFBb0UsU0FBUyxjQUFjO0FBQUEsTUFDM0c7QUFDQSxXQUFLLE9BQU8sU0FBUztBQUNyQixXQUFLLGVBQWUsU0FBUyxVQUFVLFVBQVU7QUFDakQsVUFBSSxTQUFTLGFBQWE7QUFDdEIsYUFBSyxrQkFBa0IsU0FBUyxhQUFhLFVBQVU7QUFBQSxNQUMzRDtBQUNBLFVBQUksU0FBUyxRQUFRO0FBQ2pCLGFBQUssYUFBYSxTQUFTLE1BQU07QUFBQSxNQUNyQztBQUNBLFdBQUssNkJBQTZCLFVBQVU7QUFDNUMsWUFBTSxhQUFhLFdBQVcsS0FBSyxpQkFBaUI7QUFDcEQsVUFBSSxZQUFZO0FBQ1osYUFBSywrQkFBK0IsWUFBWSxVQUFVO0FBQUEsTUFDOUQ7QUFDQSxXQUFLLGVBQWU7QUFBQSxJQUN4QjtBQUFBLElBQ0EsZUFBZSxVQUFVLFlBQVk7QUFDakMsaUJBQVcsWUFBWSxTQUFTLFlBQVk7QUFDeEMsWUFBSSxFQUFFLFlBQVksS0FBSyxRQUFRO0FBQzNCLGtCQUFRLEtBQUssc0JBQXNCLFdBQVc7QUFDOUM7QUFBQSxRQUNKO0FBQ0EsY0FBTSxPQUFPLFNBQVMsV0FBVyxRQUFRLEVBQUU7QUFDM0MsY0FBTSxXQUFXLFdBQVcsVUFBVSxJQUFJO0FBQzFDLGFBQUssTUFBTSxRQUFRLElBQUksS0FBSyxPQUFPLFdBQVcsUUFBUTtBQUN0RCxhQUFLLFNBQVMsUUFBUSxJQUFJLGFBQUssS0FBSyxhQUFLLE9BQU8sR0FBRyxLQUFLLE1BQU0sUUFBUSxFQUFFLGFBQWE7QUFBQSxNQUN6RjtBQUFBLElBQ0o7QUFBQSxJQUNBLGtCQUFrQixhQUFhLFlBQVk7QUFDdkMsaUJBQVcsa0JBQWtCLFlBQVksaUJBQWlCO0FBQ3RELGNBQU0sYUFBYTtBQUFBLFVBQ2YsTUFBTSxLQUFLLE9BQU8sV0FBVyxXQUFXLFVBQVUsZUFBZSxJQUFJLENBQUM7QUFBQSxVQUN0RSxhQUFhO0FBQUEsVUFDYixhQUFhO0FBQUEsUUFDakI7QUFDQSxnQkFBUSxlQUFlLE1BQU07QUFBQSxVQUN6QixLQUFLO0FBQ0QsdUJBQVcsY0FBYztBQUN6QjtBQUFBLFVBQ0osS0FBSztBQUNELHVCQUFXLGNBQWM7QUFDekI7QUFBQSxVQUNKLEtBQUs7QUFDRDtBQUFBLFVBQ0osS0FBSztBQUNELG9CQUFRLEtBQUssZ0ZBQWdGO0FBQzdGO0FBQUEsVUFDSjtBQUNJLG9CQUFRLE1BQU0saUNBQWlDLGVBQWUsT0FBTztBQUNyRTtBQUFBLFFBQ1I7QUFDQSxhQUFLLHdCQUF3QixLQUFLLFVBQVU7QUFBQSxNQUNoRDtBQUFBLElBQ0o7QUFBQSxJQUNBLGFBQWFHLFNBQVE7QUFDakIsVUFBSUEsUUFBTyxTQUFTLFFBQVE7QUFDeEIsZ0JBQVEsS0FBSyw0QkFBNEJBLFFBQU8saUNBQWlDO0FBQ2pGO0FBQUEsTUFDSjtBQUNBLFlBQU0sZ0JBQWdCLENBQUMsYUFBYTtBQUNoQyxlQUFPO0FBQUEsVUFDSCxlQUFlLFNBQVM7QUFBQSxVQUN4QixhQUFhLFNBQVM7QUFBQSxRQUMxQjtBQUFBLE1BQ0o7QUFDQSxXQUFLLFVBQVU7QUFBQSxRQUNYLG9CQUFvQkEsUUFBTyxzQkFBc0IsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUFBLFFBQ3pELGlCQUFpQixjQUFjQSxRQUFPLHVCQUF1QjtBQUFBLFFBQzdELGlCQUFpQixjQUFjQSxRQUFPLHVCQUF1QjtBQUFBLFFBQzdELGNBQWMsY0FBY0EsUUFBTyxvQkFBb0I7QUFBQSxRQUN2RCxZQUFZLGNBQWNBLFFBQU8sa0JBQWtCO0FBQUEsTUFDdkQ7QUFBQSxJQUNKO0FBQUEsSUFDQSw2QkFBNkIsWUFBWTtBQUNyQyxZQUFNLFdBQVcsQ0FBQyxXQUFXO0FBQ3pCLGNBQU0saUJBQWlCLFdBQVcsS0FBSyxPQUFPLFFBQVE7QUFDdEQsWUFBSSxrQkFBa0IsMEJBQTBCLGdCQUFnQjtBQUM1RCxnQkFBTSwwQkFBMEIsZUFBZSxzQkFBc0I7QUFDckUsZ0JBQU0sYUFBYSx3QkFBd0I7QUFDM0MsY0FBSSxNQUFNO0FBQ1YsY0FBSSxVQUFVLFlBQVk7QUFDdEIsbUJBQU87QUFDUCxtQkFBTyxjQUFjLFdBQVcsS0FBSyxRQUFRO0FBQUEsVUFDakQsV0FDUyxTQUFTLFlBQVk7QUFDMUIsbUJBQU87QUFDUCxtQkFBTyxhQUFhLFdBQVcsSUFBSSxPQUFPO0FBQUEsVUFDOUMsV0FDUyxjQUFjLFlBQVk7QUFDL0IsbUJBQU87QUFBQSxVQUNYO0FBQ0EsY0FBSSxNQUFNO0FBQ04sa0JBQU0sU0FBUyxLQUFLLE9BQU8sV0FBVyxXQUFXLFVBQVUsV0FBVyxJQUFJLEVBQUUsTUFBTSxDQUFDO0FBQ25GLGlCQUFLLGlCQUFpQixLQUFLO0FBQUEsY0FDdkI7QUFBQSxjQUNBO0FBQUEsY0FDQSxhQUFhO0FBQUEsY0FDYjtBQUFBLGNBQ0EsUUFBUSxXQUFXLElBQUksRUFBRTtBQUFBO0FBQUEsY0FFekIsOEJBQThCLGFBQUssS0FBSyxhQUFLLE9BQU8sR0FBRyxPQUFPLGFBQWE7QUFBQSxjQUMzRSx5QkFBeUIsYUFBSyxLQUFLLGFBQUssT0FBTyxHQUFHLE9BQU8sYUFBYTtBQUFBLGNBQ3RFLDRCQUE0QixhQUFLLE9BQU8sYUFBSyxPQUFPLEdBQUcsT0FBTyxhQUFhO0FBQUEsWUFDL0UsQ0FBQztBQUFBLFVBQ0wsT0FDSztBQUNELG9CQUFRLEtBQUssMkRBQTJEO0FBQUEsVUFDNUU7QUFBQSxRQUNKO0FBQ0EsbUJBQVcsU0FBUyxPQUFPLFVBQVU7QUFDakMsbUJBQVMsS0FBSztBQUFBLFFBQ2xCO0FBQUEsTUFDSjtBQUNBLGVBQVMsS0FBSyxNQUFNO0FBQUEsSUFDeEI7QUFBQSxJQUNBLCtCQUErQixZQUFZLFlBQVk7QUFDbkQsWUFBTSxhQUFhLFdBQVcsYUFBYSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsTUFBTTtBQUNoRSxjQUFNLFlBQVksYUFBYSxTQUFTLFFBQVEsWUFBWTtBQUM1RCxlQUFPO0FBQUEsVUFDSCxJQUFJO0FBQUEsVUFDSixRQUFRLEtBQUssT0FBTyxXQUFXLFdBQVcsVUFBVSxTQUFTLElBQUksQ0FBQztBQUFBLFVBQ2xFLE9BQU87QUFBQSxZQUNILFdBQVcsY0FBYztBQUFBLFlBQ3pCLFFBQVEsU0FBUyxNQUFNLFNBQVMsRUFBRTtBQUFBLFlBQ2xDLFFBQVEsU0FBUyxNQUFNLFNBQVMsRUFBRTtBQUFBLFlBQ2xDLE1BQU0sU0FBUyxNQUFNLFNBQVMsRUFBRTtBQUFBLFVBQ3BDO0FBQUEsVUFDQSxPQUFPO0FBQUEsWUFDSCxNQUFNLGFBQUssT0FBTztBQUFBLFlBQ2xCLE1BQU0sYUFBSyxPQUFPO0FBQUEsVUFDdEI7QUFBQSxRQUNKO0FBQUEsTUFDSixDQUFDO0FBQ0QsV0FBSyxtQkFBbUIsVUFBVSxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTSxTQUFTO0FBQ2xFLFdBQUssb0JBQW9CLFVBQVUsT0FBTyxDQUFDLE1BQU0sRUFBRSxNQUFNLFNBQVM7QUFDbEUsWUFBTSxrQkFBa0IsV0FBVyxrQkFBa0IsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXO0FBQUEsUUFDckUsTUFBTSxNQUFNO0FBQUEsUUFDWixXQUFXLE1BQU0sVUFBVSxJQUFJLENBQUMsTUFBTSxVQUFVLENBQUMsQ0FBQztBQUFBLE1BQ3RELEVBQUU7QUFDRixpQkFBVyxVQUFVLFdBQVcsU0FBUztBQUNyQyxjQUFNLFNBQVMsQ0FBQztBQUNoQixtQkFBVyxTQUFTLE9BQU8sUUFBUTtBQUMvQixnQkFBTSxjQUFjO0FBQUEsWUFDaEIsV0FBVztBQUFBLFlBQ1gsV0FBVztBQUFBLFlBQ1gsY0FBYztBQUFBLFlBQ2QsWUFBWSxDQUFDLEdBQUssSUFBTSxDQUFHO0FBQUEsWUFDM0IsV0FBVztBQUFBLFlBQ1gsTUFBTTtBQUFBLFlBQ04sT0FBTztBQUFBLFVBQ1g7QUFDQSxpQkFBTyxPQUFPLGFBQWEsS0FBSztBQUNoQyxzQkFBWSxPQUFPLEtBQUssT0FBTyxXQUFXLFdBQVcsVUFBVSxZQUFZLElBQUksQ0FBQztBQUNoRixpQkFBTyxLQUFLLFdBQVc7QUFBQSxRQUMzQjtBQUNBLGNBQU0sd0JBQXdCLE9BQU8sa0JBQWtCLENBQUMsR0FBRyxRQUFRLENBQUMsT0FBTyxlQUFlLEVBQUUsRUFBRSxTQUFTO0FBQ3ZHLGFBQUssY0FBYyxLQUFLO0FBQUEsVUFDcEIsTUFBTSxPQUFPO0FBQUEsVUFDYixRQUFRLE9BQU8sU0FDVCxLQUFLLE9BQU8sV0FBVyxXQUFXLFVBQVUsT0FBTyxNQUFNLENBQUMsSUFDMUQ7QUFBQSxVQUNOO0FBQUEsVUFDQSxpQkFBaUIscUJBQXFCLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxNQUFNLFNBQVM7QUFBQSxVQUN0RSxrQkFBa0IscUJBQXFCLE9BQU8sQ0FBQyxNQUFNLEVBQUUsTUFBTSxTQUFTO0FBQUEsUUFDMUUsQ0FBQztBQUFBLE1BQ0w7QUFFQSxpQkFBVyxlQUFlLEtBQUssZUFBZTtBQUMxQyxpQkFBUyxJQUFJLEdBQUcsSUFBSSxZQUFZLE9BQU8sU0FBUyxHQUFHLEVBQUUsR0FBRztBQUNwRCxnQkFBTSxrQkFBa0IsWUFBWSxPQUFPLENBQUM7QUFDNUMsZ0JBQU0sdUJBQXVCLFlBQVksT0FBTyxJQUFJLENBQUM7QUFDckQsZ0JBQU0scUJBQXFCLGdCQUFnQixLQUFLLG9CQUFvQixhQUFLLE9BQU8sQ0FBQztBQUNqRixnQkFBTSwwQkFBMEIscUJBQXFCLEtBQUssb0JBQW9CLGFBQUssT0FBTyxDQUFDO0FBQzNGLGdCQUFNLGdCQUFnQixhQUFLLFNBQVMsS0FBSyxVQUFVLG9CQUFvQix1QkFBdUI7QUFDOUYsZ0JBQU1DLFNBQVE7QUFBQSxZQUNWLFVBQVU7QUFBQSxZQUNWLGFBQWEsYUFBSyxLQUFLLGFBQUssT0FBTyxHQUFHLHVCQUF1QjtBQUFBLFlBQzdELHNCQUFzQixhQUFLLEtBQUssYUFBSyxPQUFPLEdBQUcsZ0JBQWdCLEtBQUssYUFBYTtBQUFBLFlBQ2pGLDZCQUE2QixjQUFNLE9BQU8sY0FBTSxPQUFPLEdBQUcsZ0JBQWdCLEtBQUssY0FBYztBQUFBLFlBQzdGLFVBQVUsYUFBSyxVQUFVLGFBQUssT0FBTyxHQUFHLHFCQUFxQixLQUFLLG9CQUFvQixLQUFLLE9BQU8sQ0FBQztBQUFBO0FBQUEsWUFFbkcsWUFBWSxLQUFLLElBQUksTUFBTSxhQUFLLE9BQU8sYUFBYSxDQUFDO0FBQUE7QUFBQSxZQUVyRCxnQkFBZ0I7QUFBQSxZQUNoQixtQkFBbUI7QUFBQSxVQUN2QjtBQUNBLGNBQUksWUFBWSxRQUFRO0FBQ3BCLFlBQUFBLE9BQU0saUJBQWlCLFlBQVksT0FBTywyQkFBMkIsYUFBSyxPQUFPLEdBQUcsdUJBQXVCO0FBQzNHLFlBQUFBLE9BQU0sb0JBQW9CLGFBQUssS0FBSyxhQUFLLE9BQU8sR0FBRyx1QkFBdUI7QUFBQSxVQUM5RTtBQUNBLDBCQUFnQixRQUFRQTtBQUFBLFFBQzVCO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxJQUNBLE9BQU8sSUFBSTtBQUNQLFVBQUksQ0FBQyxLQUFLLGNBQWM7QUFDcEI7QUFBQSxNQUNKO0FBR0EsV0FBSyxlQUFlO0FBSXBCLFdBQUssb0JBQW9CO0FBRXpCLFdBQUssbUJBQW1CLEVBQUU7QUFBQSxJQUM5QjtBQUFBLElBQ0EsVUFBVSxVQUFVLE9BQU87QUFDdkIsWUFBTSxXQUFXLFNBQVM7QUFDMUIsWUFBTSxjQUFjLFNBQVM7QUFDN0IsYUFBUSxLQUFLLElBQUksT0FBTyxRQUFRLElBQUksV0FBWTtBQUFBLElBQ3BEO0FBQUEsSUFDQSxpQkFBaUI7QUFDYixVQUFJLENBQUMsS0FBSyxXQUFXLENBQUMsS0FBSyxjQUFjO0FBQ3JDO0FBQUEsTUFDSjtBQUNBLFlBQU0sZUFBZSxLQUFLLE1BQU0sS0FBSyxvQkFBb0IsS0FBSyxVQUFVLEtBQUssUUFBUSxrQkFBa0I7QUFDdkcsWUFBTSxlQUFlLEtBQUssYUFBYSxvQkFBb0IsS0FBSyxRQUFRO0FBQ3hFLFlBQU0sa0JBQWtCLGFBQUssSUFBSSxLQUFLLFVBQVUsY0FBYyxZQUFZO0FBQzFFLG1CQUFLLFVBQVUsaUJBQWlCLGVBQWU7QUFFL0MsV0FBSyxNQUFNLEtBQUssT0FBTyw0QkFBNEIsZUFBZTtBQUNsRSxZQUFNLElBQUksYUFBSyxJQUFJLGlCQUFpQixLQUFLLGNBQWM7QUFDdkQsWUFBTSxJQUFJLGFBQUssSUFBSSxpQkFBaUIsS0FBSyxZQUFZO0FBQ3JELFlBQU0sTUFBTSxLQUFLLE1BQU0sR0FBRyxDQUFDLElBQUksS0FBSztBQUNwQyxZQUFNLEtBQUssS0FBSyxLQUFLLElBQUksSUFBSSxJQUFJLENBQUM7QUFDbEMsWUFBTSxJQUFJLGFBQUssSUFBSSxpQkFBaUIsS0FBSyxTQUFTO0FBQ2xELFVBQUksUUFBUSxLQUFLLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxLQUFLO0FBRXRDLFVBQUksUUFBUSxHQUFHO0FBQ1gsZ0JBQVEsS0FBSyxVQUFVLEtBQUssUUFBUSxjQUFjLEtBQUs7QUFBQSxNQUMzRCxPQUNLO0FBQ0QsZ0JBQVEsQ0FBQyxLQUFLLFVBQVUsS0FBSyxRQUFRLFlBQVksQ0FBQyxLQUFLO0FBQUEsTUFDM0Q7QUFFQSxVQUFJLEtBQUssTUFBTSxTQUFTO0FBQ3BCLFlBQUksVUFBVTtBQUNkLFlBQUksVUFBVSxHQUFHO0FBQ2Isb0JBQVUsS0FBSyxVQUFVLEtBQUssUUFBUSxpQkFBaUIsT0FBTztBQUFBLFFBQ2xFLE9BQ0s7QUFDRCxvQkFBVSxDQUFDLEtBQUssVUFBVSxLQUFLLFFBQVEsaUJBQWlCLENBQUMsT0FBTztBQUFBLFFBQ3BFO0FBQ0EsY0FBTSxjQUFjLGFBQUssVUFBVSxLQUFLLFlBQVksT0FBTyxTQUFTLENBQUM7QUFDckUsYUFBSyxNQUFNLFFBQVEsZ0JBQWdCLGFBQUssU0FBUyxhQUFhLEtBQUssU0FBUyxTQUFTLFdBQVc7QUFBQSxNQUNwRztBQUVBLFVBQUksS0FBSyxNQUFNLFVBQVU7QUFDckIsWUFBSSxXQUFXO0FBQ2YsWUFBSSxXQUFXLEdBQUc7QUFDZCxxQkFBVyxLQUFLLFVBQVUsS0FBSyxRQUFRLGlCQUFpQixRQUFRO0FBQUEsUUFDcEUsT0FDSztBQUNELHFCQUFXLENBQUMsS0FBSyxVQUFVLEtBQUssUUFBUSxpQkFBaUIsQ0FBQyxRQUFRO0FBQUEsUUFDdEU7QUFDQSxjQUFNLGNBQWMsYUFBSyxVQUFVLEtBQUssWUFBWSxPQUFPLFVBQVUsQ0FBQztBQUN0RSxhQUFLLE1BQU0sU0FBUyxnQkFBZ0IsYUFBSyxTQUFTLGFBQWEsS0FBSyxTQUFTLFVBQVUsV0FBVztBQUFBLE1BQ3RHO0FBQUEsSUFDSjtBQUFBLElBQ0Esc0JBQXNCO0FBQ2xCLGlCQUFXLGtCQUFrQixLQUFLLGtCQUFrQjtBQUNoRCxhQUFLLG1CQUFtQixjQUFjO0FBQUEsTUFDMUM7QUFBQSxJQUNKO0FBQUEsSUFDQSxtQkFBbUIsZ0JBQWdCO0FBQy9CLFlBQU0sY0FBYyxlQUFlO0FBQ25DLFlBQU0saUJBQWlCLGVBQWU7QUFDdEMsWUFBTSxhQUFhLGFBQUssU0FBUyxLQUFLLFVBQVU7QUFDaEQsY0FBUSxlQUFlLE1BQU07QUFBQSxRQUN6QixLQUFLO0FBQ0Q7QUFDSSxrQkFBTSxlQUFlLGFBQUssU0FBUyxLQUFLLFlBQVksZ0JBQWdCLGVBQWUsT0FBTyxhQUFhO0FBRXZHLGtCQUFNLHVCQUF1QixhQUFLLFNBQVMsS0FBSyxZQUFZLGVBQWUseUJBQXlCLFlBQVk7QUFDaEgseUJBQUssSUFBSSxzQkFBc0Isc0JBQXNCLGNBQWM7QUFFbkUsa0JBQU0saUJBQWlCLGFBQUssT0FBTyxLQUFLLFlBQVksV0FBVztBQUMvRCxrQkFBTSxvQkFBb0IsYUFBSyxTQUFTLEtBQUssWUFBWSxnQkFBZ0Isb0JBQW9CO0FBQzdGLHlCQUFLLFNBQVMsbUJBQW1CLG1CQUFtQixXQUFXO0FBQy9ELGtCQUFNLFFBQVEsYUFBSyxjQUFjLEtBQUssVUFBVSxlQUFlLE1BQU0saUJBQWlCO0FBQ3RGLGtCQUFNLGFBQWEsYUFBSyxXQUFXLEtBQUssWUFBWSxlQUFlLE1BQU0sS0FBSztBQUM5RSx5QkFBSyxJQUFJLFlBQVksYUFBYSxhQUFLLE9BQU8sS0FBSyxXQUFXLFVBQVUsQ0FBQztBQUN6RSx5QkFBSyxJQUFJLFlBQVksWUFBWSxpQkFBaUI7QUFBQSxVQUN0RDtBQUNBO0FBQUEsUUFDSixLQUFLO0FBQ0Q7QUFDSSxrQkFBTSxxQkFBcUIsZUFBZSxZQUFZLE9BQU87QUFFN0Qsa0JBQU0sVUFBVSxhQUFLLGNBQWMsS0FBSyxVQUFVLGVBQWUsTUFBTSxXQUFXO0FBQ2xGLHlCQUFLLGNBQWMsU0FBUyxTQUFTLGtCQUFrQjtBQUV2RCxrQkFBTSxRQUFRLGVBQWUsT0FBTyxvQkFBb0IsS0FBSyxRQUFRO0FBQ3JFLHlCQUFLLElBQUksT0FBTyxPQUFPLGVBQWUsWUFBWSxvQkFBb0IsS0FBSyxPQUFPLENBQUM7QUFDbkYseUJBQUssVUFBVSxPQUFPLEtBQUs7QUFFM0Isa0JBQU0sYUFBYSxhQUFLLFdBQVcsS0FBSyxZQUFZLFNBQVMsS0FBSztBQUNsRSx5QkFBSyxJQUFJLFlBQVksYUFBSyxPQUFPLEtBQUssV0FBVyxrQkFBa0IsR0FBRyxVQUFVO0FBQ2hGLHlCQUFLLElBQUksWUFBWSxZQUFZLGtCQUFrQjtBQUNuRCx5QkFBSyxJQUFJLFlBQVksWUFBWSxXQUFXO0FBQUEsVUFDaEQ7QUFDQTtBQUFBLFFBQ0osS0FBSztBQUNEO0FBQ0ksa0JBQU0sZUFBZSxhQUFLLElBQUksWUFBWSxnQkFBZ0IsZUFBZSxPQUFPLGFBQWE7QUFDN0YseUJBQUssSUFBSSxZQUFZLGFBQWEsWUFBWTtBQUFBLFVBQ2xEO0FBQ0E7QUFBQSxNQUNSO0FBRUEsbUJBQUssTUFBTSxZQUFZLGFBQWEsWUFBWSxlQUFlLE1BQU07QUFDckUscUJBQWUsWUFBWSxnQkFBZ0I7QUFBQSxJQUMvQztBQUFBLElBQ0EsbUJBQW1CLElBQUk7QUFFbkIsV0FBSyxpQkFBaUIsUUFBUSxDQUFDLEVBQUUsUUFBUSxPQUFPLE1BQU0sTUFBTTtBQUN4RCxjQUFNQyxVQUFTLGFBQUssS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ2pELGVBQU8scUJBQXFCQSxPQUFNO0FBQ2xDLHFCQUFLLElBQUksTUFBTSxNQUFNLE9BQU8sb0JBQW9CLEtBQUssT0FBTyxHQUFHQSxPQUFNO0FBQUEsTUFDekUsQ0FBQztBQUNELFdBQUssa0JBQWtCLFFBQVEsQ0FBQyxFQUFFLFFBQVEsT0FBTyxNQUFNLE1BQU07QUFDekQsY0FBTSxjQUFjLE9BQU8sb0JBQW9CLEtBQUssUUFBUTtBQUM1RCxjQUFNLGFBQWEsYUFBSyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDckQsZUFBTyxxQkFBcUIsVUFBVTtBQUN0QyxxQkFBSyxJQUFJLE1BQU0sTUFBTSxhQUFhLFVBQVU7QUFDNUMsY0FBTSxhQUFhLGFBQUssS0FBSyxNQUFNLE1BQU0sTUFBTSxJQUFJO0FBQ25ELGVBQU8scUJBQXFCLFVBQVU7QUFDdEMscUJBQUssSUFBSSxNQUFNLE1BQU0sYUFBYSxVQUFVO0FBQUEsTUFDaEQsQ0FBQztBQUVELFdBQUssY0FBYyxRQUFRLENBQUMsZ0JBQWdCO0FBQ3hDLGlCQUFTLElBQUksR0FBRyxJQUFJLFlBQVksT0FBTyxTQUFTLEdBQUcsRUFBRSxHQUFHO0FBQ3BELGdCQUFNLFFBQVEsWUFBWSxPQUFPLENBQUM7QUFDbEMsZ0JBQU0sc0JBQXNCLE1BQU0sS0FBSyxTQUNqQyxNQUFNLEtBQUssT0FBTyxnQkFDbEIsS0FBSztBQUdYLGdCQUFNLFVBQVUsS0FBSztBQUNyQixjQUFJLFlBQVksUUFBUTtBQUNwQix5QkFBSyxJQUFJLFNBQVMsTUFBTSxNQUFNLG1CQUFtQixNQUFNLE1BQU0sY0FBYztBQUMzRSx3QkFBWSxPQUFPLHFCQUFxQixPQUFPO0FBQUEsVUFDbkQsT0FDSztBQUNELHlCQUFLLElBQUksU0FBUyxNQUFNLE1BQU0sYUFBYSxNQUFNLE1BQU0sUUFBUTtBQUFBLFVBQ25FO0FBQ0EsdUJBQUssTUFBTSxTQUFTLFNBQVMsSUFBTSxNQUFNLFNBQVM7QUFFbEQsZ0JBQU0sWUFBWSxhQUFLLEtBQUssS0FBSyxZQUFZLE1BQU0sTUFBTSxRQUFRO0FBQ2pFLHVCQUFLLGNBQWMsV0FBVyxXQUFXLE1BQU0sTUFBTSxvQkFBb0I7QUFDekUsdUJBQUssY0FBYyxXQUFXLFdBQVcsbUJBQW1CO0FBQzVELHVCQUFLLE1BQU0sV0FBVyxXQUFXLEtBQUssTUFBTSxTQUFTO0FBRXJELGdCQUFNLFdBQVcsYUFBSyxNQUFNLEtBQUssV0FBVyxNQUFNLFlBQVksS0FBSyxNQUFNLFlBQVk7QUFFckYsZ0JBQU0sV0FBVyxhQUFLLEtBQUssS0FBSyxVQUFVLE1BQU0sTUFBTSxXQUFXO0FBQ2pFLHVCQUFLLElBQUksVUFBVSxVQUFVLE9BQU87QUFDcEMsdUJBQUssSUFBSSxVQUFVLFVBQVUsU0FBUztBQUN0Qyx1QkFBSyxJQUFJLFVBQVUsVUFBVSxRQUFRO0FBR3JDLGdCQUFNLGdCQUFnQixNQUFNLEtBQUssb0JBQW9CLEtBQUssUUFBUTtBQUNsRSx1QkFBSyxJQUFJLFVBQVUsVUFBVSxhQUFhO0FBQzFDLHVCQUFLLFVBQVUsVUFBVSxRQUFRO0FBQ2pDLHVCQUFLLFlBQVksVUFBVSxlQUFlLFVBQVUsTUFBTSxNQUFNLFVBQVU7QUFHMUUscUJBQVcsRUFBRSxPQUFPLE1BQU0sS0FBSyxZQUFZLGlCQUFpQjtBQUN4RCxnQkFBSSxjQUFjLEtBQUs7QUFDdkIsa0JBQU0sZUFBZSxNQUFNO0FBQzNCLDBCQUFjLGFBQUssSUFBSSxhQUFhLFVBQVUsWUFBWTtBQUMxRCxrQkFBTSxTQUFTLE1BQU0sU0FBUyxNQUFNO0FBQ3BDLGtCQUFNQyxRQUFPLGFBQUssT0FBTyxXQUFXLElBQUk7QUFDeEMsZ0JBQUlBLFFBQU8sR0FBSztBQUNaLDJCQUFLLFVBQVUsYUFBYSxXQUFXO0FBQ3ZDLDJCQUFLLFlBQVksVUFBVSxVQUFVLGFBQWEsQ0FBQ0EsS0FBSTtBQUV2RCwyQkFBSyxJQUFJLFVBQVUsVUFBVSxhQUFhO0FBQzFDLDJCQUFLLFVBQVUsVUFBVSxRQUFRO0FBQ2pDLDJCQUFLLFlBQVksVUFBVSxlQUFlLFVBQVUsTUFBTSxNQUFNLFVBQVU7QUFBQSxZQUM5RTtBQUFBLFVBQ0o7QUFFQSxxQkFBVyxFQUFFLE9BQU8sTUFBTSxLQUFLLFlBQVksa0JBQWtCO0FBQ3pELGdCQUFJLGNBQWMsS0FBSztBQUN2QixrQkFBTSxPQUFPLE1BQU07QUFDbkIsa0JBQU0sT0FBTyxNQUFNO0FBRW5CLDBCQUFjLGFBQUssSUFBSSxhQUFhLFVBQVUsSUFBSTtBQUNsRCxrQkFBTSxhQUFhLGFBQUssSUFBSSxLQUFLLGFBQWEsTUFBTSxJQUFJO0FBQ3hELGtCQUFNQyxPQUFNLGFBQUssSUFBSSxZQUFZLFdBQVc7QUFDNUMsZ0JBQUksYUFBSyxjQUFjLFVBQVUsS0FBS0EsTUFBSztBQUV2QywyQkFBSyxJQUFJLGFBQWEsVUFBVSxJQUFJO0FBQUEsWUFDeEMsV0FDU0EsT0FBTSxHQUFLO0FBRWhCLDJCQUFLLE1BQU0sWUFBWSxZQUFZQSxPQUFNLGFBQUssY0FBYyxVQUFVLENBQUM7QUFDdkUsMkJBQUssSUFBSSxhQUFhLGFBQWEsVUFBVTtBQUFBLFlBQ2pEO0FBQ0Esa0JBQU0sU0FBUyxNQUFNLFNBQVMsTUFBTTtBQUNwQyxrQkFBTUQsUUFBTyxhQUFLLE9BQU8sV0FBVyxJQUFJO0FBQ3hDLGdCQUFJQSxRQUFPLEdBQUs7QUFDWiwyQkFBSyxVQUFVLGFBQWEsV0FBVztBQUN2QywyQkFBSyxZQUFZLFVBQVUsVUFBVSxhQUFhLENBQUNBLEtBQUk7QUFFdkQsMkJBQUssSUFBSSxVQUFVLFVBQVUsYUFBYTtBQUMxQywyQkFBSyxVQUFVLFVBQVUsUUFBUTtBQUNqQywyQkFBSyxZQUFZLFVBQVUsZUFBZSxVQUFVLE1BQU0sTUFBTSxVQUFVO0FBQUEsWUFDOUU7QUFBQSxVQUNKO0FBRUEsdUJBQUssS0FBSyxNQUFNLE1BQU0sVUFBVSxNQUFNLE1BQU0sV0FBVztBQUN2RCx1QkFBSyxLQUFLLE1BQU0sTUFBTSxhQUFhLFFBQVE7QUFDM0MsY0FBSSxZQUFZLFFBQVE7QUFDcEIseUJBQUssS0FBSyxNQUFNLE1BQU0sZ0JBQWdCLE1BQU0sTUFBTSxpQkFBaUI7QUFDbkUseUJBQUssS0FBSyxNQUFNLE1BQU0sbUJBQW1CLFFBQVE7QUFDakQsd0JBQVksT0FBTywyQkFBMkIsTUFBTSxNQUFNLGlCQUFpQjtBQUFBLFVBQy9FO0FBRUEsZ0JBQU0sS0FBSyxPQUFPLDJCQUEyQixRQUFRO0FBQ3JELGdCQUFNLG1CQUFtQixjQUFNLGdCQUFnQixLQUFLLFlBQVksUUFBUTtBQUN4RSx3QkFBTSxTQUFTLGtCQUFrQixNQUFNLE1BQU0sNkJBQTZCLGdCQUFnQjtBQUMxRix3QkFBTSxlQUFlLFVBQVUsZ0JBQWdCO0FBQy9DLHVCQUFLLFVBQVUsVUFBVSxRQUFRO0FBRWpDLGdCQUFNLGdCQUFnQixhQUFLLFdBQVcsS0FBSyxZQUFZLE1BQU0sTUFBTSxVQUFVLFFBQVE7QUFDckYsZ0JBQU0sS0FBSyxnQkFBZ0IsYUFBSyxJQUFJLEtBQUssWUFBWSxNQUFNLE1BQU0sc0JBQXNCLGFBQWE7QUFBQSxRQUN4RztBQUFBLE1BQ0osQ0FBQztBQUFBLElBQ0w7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUlBLElBQUksWUFBWSxhQUFhO0FBQ3pCLFdBQUssd0JBQXdCLFFBQVEsQ0FBQyxlQUFlO0FBQ2pELGNBQU0sVUFBVSxlQUFlLFdBQVcsZUFDdEMsZUFBZSxXQUFXO0FBQzlCLG1CQUFXLEtBQUssY0FBYyxNQUFNLEVBQUUsUUFBUSxDQUFDLFNBQVM7QUFDcEQsZUFBSyxTQUFTO0FBQUEsUUFDbEIsQ0FBQztBQUFBLE1BQ0wsQ0FBQztBQUFBLElBQ0w7QUFBQSxFQUNKO0FBcGtCSSxnQkFERSxLQUNLLFlBQVc7QUFDbEIsZ0JBRkUsS0FFSyxjQUFhO0FBQUE7QUFBQSxJQUVoQixLQUFLLEVBQUUsTUFBTSxLQUFLLE9BQU87QUFBQTtBQUFBLElBRXpCLGNBQWMsRUFBRSxNQUFNLEtBQUssT0FBTztBQUFBLEVBQ3RDOzs7QUM5Q0o7QUFBQTtBQUFBO0FBQUE7QUFzQk8sTUFBTSxRQUFRO0FBQUEsSUFDakIsY0FBYyxDQUFDO0FBQUE7QUFBQSxJQUVmLE9BQU87QUFBQSxJQUNQLGdCQUFnQjtBQUFBLElBQ2hCLGdCQUFnQixDQUFDO0FBQUEsSUFDakIsWUFBWTtBQUFBLElBQ1osa0JBQWtCO0FBQUEsSUFDbEI7QUFBQSxJQUdBLFFBQVE7QUFBQSxJQUNSLFdBQVcsV0FBWTtBQUFFLGFBQU8sS0FBSyxPQUFPLFNBQVM7QUFBQSxJQUFFO0FBQUEsSUFDdkQsYUFBYSxXQUFZO0FBQUUsYUFBTyxLQUFLLFNBQVMsU0FBUztBQUFBLElBQUU7QUFBQSxJQUUzRCxlQUFlLENBQUM7QUFBQSxJQUNoQixTQUFTLENBQUM7QUFBQSxJQUNWLFFBQVE7QUFBQSxJQUNSLGdCQUFnQjtBQUFBLElBQ2hCLFlBQVk7QUFBQSxJQUNaLFVBQVU7QUFBQSxJQUVWLGFBQWE7QUFBQSxJQUNiLFVBQVU7QUFBQSxJQUNWLGdCQUFpQjtBQUFBLElBQ2pCLE1BQU07QUFBQSxJQUNOLFNBQVE7QUFBQSxJQUNSLFdBQVk7QUFBQSxJQUVaLFNBQVU7QUFBQSxJQUNWLEtBQUs7QUFBQSxJQUNMLGNBQWM7QUFBQSxJQUNkLGVBQWU7QUFBQSxFQUVuQjs7O0FDckRBLE1BQU0sYUFBYSxJQUFJLGFBQWEsQ0FBQztBQUlyQyxNQUFNLHdCQUFOLGNBQW9DLFVBQVU7QUFBQSxJQVUxQyxPQUFPO0FBQ0gsV0FBSyxLQUFLO0FBQ1YsV0FBSyxRQUFRO0FBQ2IsV0FBSyxPQUFPO0FBQ1osV0FBSyxPQUFPO0FBQ1osV0FBSyxRQUFRO0FBQ2IsYUFBTyxpQkFBaUIsV0FBVyxLQUFLLE1BQU0sS0FBSyxJQUFJLENBQUM7QUFDeEQsYUFBTyxpQkFBaUIsU0FBUyxLQUFLLFFBQVEsS0FBSyxJQUFJLENBQUM7QUFBQSxJQUM1RDtBQUFBLElBQ0EsUUFBUTtBQUNKLFdBQUssYUFBYSxLQUFLLGNBQWMsS0FBSztBQUFBLElBQzlDO0FBQUEsSUFDQSxTQUFTO0FBQ0wsbUJBQUssS0FBSyxVQUFVO0FBQ3BCLFVBQUksS0FBSztBQUNMLG1CQUFXLENBQUMsS0FBSztBQUNyQixVQUFJLEtBQUs7QUFDTCxtQkFBVyxDQUFDLEtBQUs7QUFDckIsVUFBSSxLQUFLO0FBQ0wsbUJBQVcsQ0FBQyxLQUFLO0FBQ3JCLFVBQUksS0FBSztBQUNMLG1CQUFXLENBQUMsS0FBSztBQUNyQixtQkFBSyxVQUFVLFlBQVksVUFBVTtBQUNyQyxpQkFBVyxDQUFDLEtBQUssS0FBSztBQUN0QixpQkFBVyxDQUFDLEtBQUssS0FBSztBQUN0QixtQkFBSyxjQUFjLFlBQVksWUFBWSxLQUFLLFdBQVcsY0FBYztBQUN6RSxVQUFJLEtBQUssT0FBTztBQUNaLG1CQUFXLENBQUMsSUFBSTtBQUNoQixxQkFBSyxVQUFVLFlBQVksVUFBVTtBQUNyQyxxQkFBSyxNQUFNLFlBQVksWUFBWSxLQUFLLEtBQUs7QUFBQSxNQUNqRDtBQUNBLFdBQUssT0FBTyxlQUFlLFVBQVU7QUFBQSxJQUN6QztBQUFBLElBQ0EsTUFBTSxHQUFHO0FBQ0wsVUFBSSxFQUFFLFlBQVksTUFDZCxFQUFFLFlBQVksTUFDZCxFQUFFLFlBQVksSUFBWTtBQUMxQixhQUFLLEtBQUs7QUFBQSxNQUNkLFdBQ1MsRUFBRSxZQUFZLE1BQWtCLEVBQUUsWUFBWSxJQUFZO0FBQy9ELGFBQUssUUFBUTtBQUFBLE1BQ2pCLFdBQ1MsRUFBRSxZQUFZLE1BQWlCLEVBQUUsWUFBWSxJQUFZO0FBQzlELGFBQUssT0FBTztBQUFBLE1BQ2hCLFdBQ1MsRUFBRSxZQUFZLE1BQ25CLEVBQUUsWUFBWSxNQUNkLEVBQUUsWUFBWSxJQUFZO0FBQzFCLGFBQUssT0FBTztBQUFBLE1BQ2hCLFdBQ1MsRUFBRSxZQUFZLElBQ3ZCO0FBQ0ksY0FBTSxPQUFPO0FBQUEsTUFDakI7QUFBQSxJQUNKO0FBQUEsSUFDQSxRQUFRLEdBQUc7QUFDUCxVQUFJLEVBQUUsWUFBWSxNQUNkLEVBQUUsWUFBWSxNQUNkLEVBQUUsWUFBWSxJQUFZO0FBQzFCLGFBQUssS0FBSztBQUFBLE1BQ2QsV0FDUyxFQUFFLFlBQVksTUFBa0IsRUFBRSxZQUFZLElBQVk7QUFDL0QsYUFBSyxRQUFRO0FBQUEsTUFDakIsV0FDUyxFQUFFLFlBQVksTUFBaUIsRUFBRSxZQUFZLElBQVk7QUFDOUQsYUFBSyxPQUFPO0FBQUEsTUFDaEIsV0FDUyxFQUFFLFlBQVksTUFDbkIsRUFBRSxZQUFZLE1BQ2QsRUFBRSxZQUFZLElBQVk7QUFDMUIsYUFBSyxPQUFPO0FBQUEsTUFDaEI7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQWxGSSxnQkFERSx1QkFDSyxZQUFXO0FBQ2xCLGdCQUZFLHVCQUVLLGNBQWE7QUFBQTtBQUFBLElBRWhCLE9BQU8sRUFBRSxNQUFNLEtBQUssT0FBTyxTQUFTLElBQUk7QUFBQTtBQUFBLElBRXhDLE9BQU8sRUFBRSxNQUFNLEtBQUssTUFBTSxTQUFTLE1BQU07QUFBQTtBQUFBLElBRXpDLFlBQVksRUFBRSxNQUFNLEtBQUssT0FBTztBQUFBLEVBQ3BDOzs7QUNoQko7QUFBQTtBQUFBO0FBQUE7QUFTQSxNQUFNLGlCQUFOLE1BQXFCO0FBQUEsSUFDakIsWUFBWSxPQUFPLFVBQVUsT0FBTyxNQUFNO0FBQ3RDLFlBQU1FLFVBQVMsS0FBSyxVQUFVLElBQUk7QUFDbEMsTUFBQUEsUUFBTyxZQUFZLEVBQUUsT0FBTyxRQUFRLFFBQVEsSUFBSTtBQUNoRCxNQUFBQSxRQUFPLFNBQVM7QUFDaEIsTUFBQUEsUUFBTyxPQUFPLEVBQUUsaUJBQWlCLE9BQU87QUFDeEMsWUFBTSxTQUFTLEdBQUcsTUFBTSxVQUFVO0FBQ2xDLGFBQU8sT0FBTztBQUNkLFlBQU0sT0FBTyxPQUFPLGFBQWEsTUFBTTtBQUN2QyxZQUFNLFNBQVMsU0FBUyxPQUFPLGFBQWEsTUFBTTtBQUNsRCxXQUFLLE9BQU8sT0FBTztBQUNuQixXQUFLLFdBQVcsT0FBTyxTQUFTLE1BQU07QUFDdEMsYUFBTyxhQUFhLGVBQWU7QUFDbkMsWUFBTSxVQUFVLEtBQUssV0FBVyxJQUFJO0FBQ3BDLFdBQUssV0FBVyxJQUFJLFNBQVMsU0FBU0EsU0FBUSxRQUFRLFNBQVMsTUFBTTtBQUNyRSxXQUFLLFNBQVMsSUFBSSxhQUFhLENBQUM7QUFDaEMsV0FBSyxLQUFLLE1BQU0sS0FBSztBQUFBLElBQ3pCO0FBQUEsSUFFQSxJQUFJLFNBQVM7QUFDVCxhQUFPLEtBQUssU0FBUztBQUFBLElBQ3pCO0FBQUEsSUFFQSxVQUFVLE1BQU07QUFzQlosWUFBTUEsVUFBUyxDQUFDO0FBQ2hCLFVBQUksVUFBVTtBQUNkLFlBQU0sYUFBYTtBQUNuQixZQUFNLFNBQVUsTUFBTSxJQUFJLFdBQVcsS0FBTTtBQUMzQyxZQUFNLFVBQVcsTUFBTSxJQUFJLFdBQVcsSUFBSztBQUMzQyxZQUFNLFFBQVE7QUFDZCxZQUFNLGtCQUFrQjtBQUV4QixVQUFJLElBQUk7QUFDUixVQUFJLElBQUk7QUFDUixlQUFTLElBQUksR0FBRyxJQUFJLElBQUksS0FBSztBQUN6QixjQUFNLE1BQU0sRUFBRSxNQUFNLFVBQVUsVUFBVSxFQUFFLEdBQUcsRUFBRSxHQUFHLE9BQU8sUUFBUSxTQUFTLFlBQVksaUJBQWlCLGNBQWMsR0FBRyxPQUFPLFVBQVUsS0FBSyxTQUFTLEtBQUssTUFBTSxDQUFDLEVBQUU7QUFDckssUUFBQUEsUUFBTyxNQUFNLEdBQUcsSUFBSTtBQUNwQixhQUFNLFFBQVE7QUFBQSxNQUNsQjtBQUVBLFdBQU0sU0FBUztBQUNmLFVBQUk7QUFDSixlQUFTLElBQUksR0FBRyxJQUFJLElBQUksS0FBSztBQUN6QixjQUFNLE1BQU0sRUFBRSxNQUFNLFVBQVUsVUFBVSxFQUFFLEdBQUcsRUFBRSxHQUFHLE9BQU8sUUFBUSxTQUFTLFlBQVksaUJBQWlCLGNBQWMsR0FBRyxPQUFPLFVBQVUsS0FBSyxTQUFTLEtBQUssTUFBTSxJQUFJLEVBQUUsRUFBRTtBQUMxSyxRQUFBQSxRQUFPLE1BQU0sSUFBSSxJQUFJLElBQUk7QUFDekIsYUFBTSxRQUFRO0FBQUEsTUFDbEI7QUFFQSxXQUFNLFNBQVM7QUFDZixVQUFJO0FBQ0osZUFBUyxJQUFJLEdBQUcsSUFBSSxHQUFHLEtBQUs7QUFDeEIsY0FBTSxJQUFLLEtBQUssS0FBSyxLQUFLLElBQU0sUUFBUSxNQUFNLFVBQVUsTUFBTztBQUMvRCxjQUFNLE1BQU0sRUFBRSxNQUFNLFVBQVUsVUFBVSxFQUFFLEdBQUcsRUFBRSxHQUFHLE9BQU8sR0FBRyxRQUFRLFNBQVMsWUFBWSxpQkFBaUIsY0FBYyxHQUFHLE9BQU8sVUFBVSxLQUFLLFNBQVMsS0FBSyxNQUFNLElBQUksRUFBRSxFQUFFO0FBQzdLLFFBQUFBLFFBQU8sTUFBTSxJQUFJLElBQUksSUFBSTtBQUN6QixhQUFNLElBQUk7QUFBQSxNQUNkO0FBRUEsV0FBTSxTQUFTO0FBQ2YsVUFBSTtBQUNKLGVBQVMsSUFBSSxHQUFHLElBQUksR0FBRyxLQUFLO0FBQ3hCLGNBQU0sSUFBSyxLQUFLLEtBQUssS0FBSyxJQUFNLFFBQVEsSUFBSSxVQUFZLEtBQUssSUFBTSxRQUFRLElBQUksSUFBSSxVQUFXO0FBQzlGLGNBQU0sTUFBTSxFQUFFLE1BQU0sVUFBVSxVQUFVLEVBQUUsR0FBRyxFQUFFLEdBQUcsT0FBTyxHQUFHLFFBQVEsU0FBUyxZQUFZLGlCQUFpQixjQUFjLEdBQUcsT0FBTyxVQUFVLEtBQUssU0FBUyxLQUFLLE1BQU0sSUFBSSxFQUFFLEVBQUU7QUFDN0ssWUFBSSxLQUFLO0FBQUcsY0FBSSxXQUFXO0FBQzNCLFFBQUFBLFFBQU8sTUFBTSxJQUFJLElBQUksSUFBSTtBQUN6QixhQUFNLElBQUk7QUFBQSxNQUNkO0FBQ0EsYUFBT0E7QUFBQSxJQUNYO0FBQUEsSUFFQSxXQUFXLE1BQU0sY0FBYyxHQUFHO0FBQzlCLFVBQUksVUFBVSxDQUFDO0FBQ2YsVUFBSTtBQUVKLFdBQUssV0FBVztBQUNoQixXQUFLLGdCQUFnQjtBQUVyQixjQUFRLGFBQWE7QUFBQSxRQUNqQixLQUFLO0FBT0QsaUJBQU87QUFBQSxZQUFDO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFDakQ7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUM3QztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQzdDO0FBQUEsWUFBUTtBQUFBLFlBQUs7QUFBQSxZQUFPO0FBQUEsWUFBSztBQUFBLFVBQUc7QUFDaEMsbUJBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxRQUFRLEtBQUs7QUFDbEMsa0JBQU0sTUFBTSxLQUFLLENBQUM7QUFDbEIsZ0JBQUksUUFBUTtBQUFJLHNCQUFRLE1BQU0sR0FBRyxJQUFJO0FBQUEsVUFDekM7QUFDQTtBQUFBLFFBQ0osS0FBSztBQU1ELGlCQUFPO0FBQUEsWUFBQztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQ2pEO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFDN0M7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUM3QztBQUFBLFlBQVE7QUFBQSxZQUFLO0FBQUEsWUFBTztBQUFBLFlBQUs7QUFBQSxVQUFHO0FBQ2hDLG1CQUFTLElBQUksR0FBRyxJQUFJLEtBQUssUUFBUSxLQUFLO0FBQ2xDLGtCQUFNLE1BQU0sS0FBSyxDQUFDO0FBQ2xCLGdCQUFJLFFBQVE7QUFBSSxzQkFBUSxNQUFNLEdBQUcsSUFBSTtBQUFBLFVBQ3pDO0FBQ0E7QUFBQSxRQUNKLEtBQUs7QUFNRCxpQkFBTztBQUFBLFlBQUM7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUNqRDtBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQzdDO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQU07QUFBQSxZQUFNO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFDL0M7QUFBQSxZQUFPO0FBQUEsWUFBSztBQUFBLFlBQU87QUFBQSxZQUFLO0FBQUEsVUFBRztBQUMvQixtQkFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLFFBQVEsS0FBSztBQUNsQyxrQkFBTSxNQUFNLEtBQUssQ0FBQztBQUNsQixnQkFBSSxRQUFRO0FBQUksc0JBQVEsTUFBTSxHQUFHLElBQUk7QUFBQSxVQUN6QztBQUNBO0FBQUEsUUFDSixLQUFLO0FBTUQsaUJBQU87QUFBQSxZQUFDO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFDakQ7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUM3QztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQzdDO0FBQUEsWUFBTztBQUFBLFlBQUs7QUFBQSxZQUFPO0FBQUEsWUFBSztBQUFBLFVBQUc7QUFDL0IsbUJBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxRQUFRLEtBQUs7QUFDbEMsa0JBQU0sTUFBTSxLQUFLLENBQUM7QUFDbEIsZ0JBQUksUUFBUTtBQUFJLHNCQUFRLE1BQU0sR0FBRyxJQUFJO0FBQUEsVUFDekM7QUFDQTtBQUFBLE1BQ1I7QUFFQSxhQUFPO0FBQUEsSUFDWDtBQUFBLElBRUEsSUFBSSxXQUFXO0FBQ1gsWUFBTSxNQUFNLEtBQUssU0FBUyxPQUFPLG9CQUFvQixLQUFLLE1BQU07QUFDaEUsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUVBLElBQUksZ0JBQWdCO0FBQ2hCLFlBQU0sTUFBTSxLQUFLLFNBQVMsT0FBTyxvQkFBb0IsS0FBSyxNQUFNO0FBQ2hFLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFFQSxJQUFJLFVBQVU7QUFDVixhQUFPLEtBQUs7QUFBQSxJQUNoQjtBQUFBLElBRUEsSUFBSSxRQUFRLE9BQU87QUFDZixXQUFLLFNBQVMsT0FBTyxTQUFTO0FBQzlCLFdBQUssU0FBUztBQUFBLElBQ2xCO0FBQUEsSUFFQSxZQUFZLE9BQU87QUFDZixXQUFLLFNBQVMsVUFBVSxLQUFLLFdBQVcsS0FBSyxVQUFVLEtBQUs7QUFDNUQsV0FBSyxTQUFTLGNBQWM7QUFBQSxJQUNoQztBQUFBLElBRUEsU0FBUyxPQUFPO0FBQ1osVUFBSSxDQUFDLEtBQUs7QUFBUztBQUduQixVQUFJLFNBQVM7QUFFYixjQUFRLE9BQU87QUFBQSxRQUNYLEtBQUs7QUFDRCxlQUFLLFVBQVU7QUFDZixjQUFJLEtBQUssY0FBYztBQUFTLGlCQUFLLGNBQWMsUUFBUSxLQUFLLFVBQVU7QUFDMUU7QUFBQSxRQUNKLEtBQUs7QUFDRCxlQUFLLGNBQWM7QUFDbkIsbUJBQVM7QUFDVDtBQUFBLFFBQ0osS0FBSztBQUNELGVBQUssUUFBUTtBQUNiLGNBQUksS0FBSyxnQkFBZ0IsR0FBRztBQUN4QixpQkFBSyxZQUFZLENBQUM7QUFBQSxVQUN0QixPQUFPO0FBQ0gsaUJBQUssWUFBWSxDQUFDO0FBQUEsVUFDdEI7QUFDQSxlQUFLLFNBQVMsY0FBYztBQUM1QjtBQUFBLFFBQ0osS0FBSztBQUNELGVBQUssYUFBYSxLQUFLLFdBQVcsVUFBVSxHQUFHLEtBQUssV0FBVyxTQUFTLENBQUM7QUFDekUsbUJBQVM7QUFDVDtBQUFBLFFBQ0osS0FBSztBQUNELGVBQUssUUFBUSxDQUFDLEtBQUs7QUFDbkIsY0FBSSxLQUFLLGlCQUFpQixHQUFHO0FBQ3pCLGlCQUFLLFlBQVksQ0FBQztBQUFBLFVBQ3RCLFdBQVcsS0FBSyxpQkFBaUIsR0FBRztBQUNoQyxpQkFBSyxZQUFZLENBQUM7QUFBQSxVQUN0QixXQUFXLEtBQUssaUJBQWlCLEdBQUc7QUFDaEMsaUJBQUssWUFBWSxDQUFDO0FBQUEsVUFDdEIsV0FBVyxLQUFLLGlCQUFpQixHQUFHO0FBQ2hDLGlCQUFLLFlBQVksQ0FBQztBQUFBLFVBQ3RCO0FBQ0E7QUFBQSxRQUNKO0FBQ0ksZ0JBQU0sTUFBTSxLQUFLLFNBQVMsUUFBUSxNQUFNLE9BQU87QUFDL0MsZUFBSyxjQUFjO0FBQ25CLG1CQUFTO0FBQ1QsY0FBSSxLQUFLLGlCQUFpQjtBQUFHLGlCQUFLLFlBQVksQ0FBQztBQUMvQztBQUFBLE1BQ1I7QUFFQSxVQUFJLFFBQVE7QUFDUixhQUFLLFNBQVMsY0FBYyxLQUFLLFlBQVksS0FBSyxVQUFVO0FBQzVELFlBQUksS0FBSyxjQUFjO0FBQVcsZUFBSyxjQUFjLFVBQVUsS0FBSyxVQUFVO0FBQUEsTUFDbEY7QUFBQSxJQUNKO0FBQUEsSUFFQSxTQUFTO0FBQ0wsVUFBSSxLQUFLLFVBQVU7QUFDZixhQUFLLFNBQVMsT0FBTztBQUFBLE1BQ3pCO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFxQkEsTUFBTSxXQUFOLE1BQWU7QUFBQSxJQUNYLFlBQVksU0FBU0EsU0FBUSxRQUFRLFFBQVE7QUFDekMsWUFBTSxnQkFBZ0I7QUFBQSxRQUNsQixPQUFPO0FBQUEsUUFDUCxRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxNQUFNO0FBQUEsVUFDRixZQUFZO0FBQUEsVUFDWixVQUFVO0FBQUEsVUFDVixTQUFTO0FBQUEsVUFDVCxpQkFBaUI7QUFBQSxVQUNqQixXQUFXO0FBQUEsVUFDWCxjQUFjO0FBQUEsUUFDbEI7QUFBQSxNQUNKO0FBQ0EsV0FBSyxTQUFVQSxZQUFXLFNBQWEsZ0JBQWdCQTtBQUV2RCxVQUFJLEtBQUssT0FBTyxVQUFVO0FBQVcsYUFBSyxPQUFPLFFBQVE7QUFDekQsVUFBSSxLQUFLLE9BQU8sV0FBVztBQUFXLGFBQUssT0FBTyxTQUFTO0FBQzNELFVBQUksS0FBSyxPQUFPLFNBQVM7QUFBVyxhQUFLLE9BQU8sT0FBTyxFQUFFLFlBQVksU0FBUyxNQUFNLElBQUksU0FBUyxJQUFJLGlCQUFpQixRQUFRLFdBQVcsUUFBUSxjQUFjLEVBQUU7QUFDakssVUFBSSxLQUFLLE9BQU8sbUJBQW1CLFFBQVc7QUFDMUMsYUFBSyxpQkFBaUI7QUFBQSxNQUMxQixPQUFPO0FBQ0gsYUFBSyxpQkFBaUIsS0FBSyxLQUFLLE9BQU87QUFBQSxNQUMzQztBQUVBLFlBQU0sT0FBTyxLQUFLLE9BQU87QUFDekIsVUFBSSxLQUFLLGlCQUFpQjtBQUFXLGFBQUssZUFBZTtBQUN6RCxVQUFJLEtBQUssZUFBZTtBQUFXLGFBQUssYUFBYTtBQUNyRCxVQUFJLEtBQUssWUFBWTtBQUFXLGFBQUssVUFBVTtBQUMvQyxVQUFJLEtBQUssYUFBYTtBQUFXLGFBQUssV0FBVztBQUNqRCxVQUFJLEtBQUssb0JBQW9CO0FBQVcsYUFBSyxrQkFBa0I7QUFDL0QsVUFBSSxLQUFLLGNBQWM7QUFBVyxhQUFLLFlBQVk7QUFFbkQsYUFBTyxRQUFRLEtBQUssTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDLE1BQU0sS0FBSyxNQUFNO0FBQ25ELFlBQUksT0FBUSxVQUFXLFlBQVksU0FBUyxhQUFhO0FBQ3JELGdCQUFNLE1BQU8sTUFBTSxhQUFhLFNBQWEsTUFBTSxXQUFXLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRTtBQUUzRSxjQUFJLElBQUksU0FBUyxVQUFhLElBQUksTUFBTTtBQUFXLGdCQUFJLElBQUksSUFBSTtBQUMvRCxjQUFJLElBQUksUUFBUSxVQUFhLElBQUksTUFBTTtBQUFXLGdCQUFJLElBQUksSUFBSTtBQUU5RCxnQkFBTSxRQUFTLE1BQU0sVUFBVSxTQUFhLE1BQU0sUUFBUSxLQUFLLE9BQU87QUFDdEUsZ0JBQU0sU0FBVSxNQUFNLFdBQVcsU0FBYSxNQUFNLFNBQVMsS0FBSyxPQUFPO0FBRXpFLGNBQUksSUFBSSxVQUFVLFVBQWEsSUFBSSxNQUFNO0FBQVcsZ0JBQUksSUFBSSxLQUFLLE9BQU8sUUFBUSxJQUFJLFFBQVE7QUFDNUYsY0FBSSxJQUFJLFdBQVcsVUFBYSxJQUFJLE1BQU07QUFBVyxnQkFBSSxJQUFJLEtBQUssT0FBTyxTQUFTLElBQUksU0FBUztBQUUvRixjQUFJLElBQUksTUFBTTtBQUFXLGdCQUFJLElBQUk7QUFDakMsY0FBSSxJQUFJLE1BQU07QUFBVyxnQkFBSSxJQUFJO0FBRWpDLGdCQUFNLFdBQVc7QUFFakIsY0FBSSxNQUFNLFNBQVM7QUFBVyxrQkFBTSxPQUFPO0FBQUEsUUFDL0M7QUFBQSxNQUNKLENBQUM7QUFHRCxXQUFLLFNBQVMsS0FBSyxzQkFBc0IsS0FBSyxPQUFPLE9BQU8sS0FBSyxPQUFPLE1BQU07QUFDOUUsV0FBSyxVQUFVLEtBQUssT0FBTyxXQUFXLElBQUk7QUFDMUMsV0FBSyxRQUFRLEtBQUs7QUFFbEIsWUFBTSxVQUFXLEtBQUssT0FBTyxZQUFZLFNBQWEsS0FBSyxPQUFPLFVBQVU7QUFFNUUsWUFBTSxPQUFPLE9BQU8sYUFBYSxNQUFNO0FBQ3ZDLFdBQUssV0FBVyxLQUFLO0FBRXJCLFdBQUssZ0JBQWdCLElBQUksUUFBUSxRQUFRLEtBQUssTUFBTTtBQUNwRCxXQUFLLFNBQVMsY0FBYyxLQUFLO0FBRWpDLFVBQUlBLFFBQU8sV0FBVztBQUNsQixlQUFPLGFBQWE7QUFDcEIsY0FBTUMsU0FBUSxDQUFDRCxRQUFPLFVBQVUsT0FBT0EsUUFBTyxVQUFVLFFBQVEsSUFBSTtBQUNwRSxlQUFPLE1BQU1DLE1BQUs7QUFDbEIsYUFBSyxZQUFZRCxRQUFPO0FBQUEsTUFDNUIsT0FBTztBQUNILGFBQUssWUFBWSxFQUFFLE9BQU8sR0FBRyxRQUFRLEVBQUU7QUFBQSxNQUMzQztBQUVBLFdBQUssU0FBUztBQUNkLFdBQUssU0FBUztBQUNkLFdBQUssU0FBUyxJQUFJLGFBQWEsQ0FBQztBQUNoQyxXQUFLLFVBQVUsSUFBSSxhQUFhLENBQUM7QUFDakMsV0FBSyxVQUFVLElBQUksYUFBYSxDQUFDO0FBRWpDLFlBQU0sU0FBUyxPQUFPLE9BQU8sS0FBSyxNQUFNLEVBQUUsT0FBTyxDQUFDLFVBQVU7QUFDeEQsZUFBTyxNQUFNLFNBQVM7QUFBQSxNQUMxQixDQUFDO0FBQ0QsVUFBSSxPQUFPLFNBQVMsR0FBRztBQUNuQixjQUFNLFFBQVNBLFFBQU8sWUFBYUEsUUFBTyxVQUFVLFFBQVE7QUFDNUQsY0FBTSxTQUFVQSxRQUFPLFlBQWFBLFFBQU8sVUFBVSxTQUFTO0FBQzlELFlBQUksYUFBYSxTQUFTO0FBQzFCLGFBQUssV0FBVyxJQUFJLGVBQWUsT0FBTyxJQUFJO0FBRTlDLGFBQUssU0FBUyxLQUFLLFFBQVEsS0FBSyxPQUFPLGFBQWE7QUFDcEQsWUFBSSxRQUFRLEtBQUssT0FBTyxDQUFDO0FBQ3pCLGFBQUssT0FBTyxDQUFDLElBQUk7QUFDakIsYUFBSyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLElBQUk7QUFDcEMsYUFBSyxPQUFPLENBQUMsSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJO0FBQ25DLGdCQUFRLElBQUksb0NBQW9DLE1BQU0sUUFBUSxDQUFDLFlBQVksS0FBSyxTQUFTLEtBQUssTUFBTSxHQUFHO0FBRXZHLHFCQUFhLFFBQVE7QUFDckIsYUFBSyxTQUFTLEtBQUssU0FBUyxLQUFLLFNBQVMsU0FBUyxPQUFPLGFBQWE7QUFDdkUsaUJBQVMsTUFBTSxLQUFLLEtBQUs7QUFDekIsYUFBSyxRQUFRLENBQUMsSUFBSTtBQUNsQixhQUFLLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLEtBQUssSUFBSTtBQUNyQyxhQUFLLFFBQVEsQ0FBQyxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUk7QUFDcEMsZ0JBQVEsSUFBSSxvQ0FBb0MsTUFBTSxRQUFRLENBQUMsWUFBWSxLQUFLLFNBQVMsS0FBSyxPQUFPLEdBQUc7QUFDeEcscUJBQUssSUFBSSxLQUFLLFFBQVEsS0FBSyxRQUFRLEtBQUssT0FBTztBQUMvQyxnQkFBUSxJQUFJLG9DQUFvQyxNQUFNLFFBQVEsQ0FBQyxZQUFZLEtBQUssU0FBUyxLQUFLLE1BQU0sR0FBRztBQUN2RyxjQUFNLE1BQU0sS0FBSyxTQUFTO0FBQzFCLHFCQUFLLFVBQVUsS0FBSyxTQUFTLEtBQUssR0FBRyxDQUFDO0FBQ3RDLFlBQUksT0FBTyxLQUFLLE9BQU87QUFDdkIsWUFBSSxVQUFVLEtBQUssTUFBTTtBQUN6QixxQkFBSyxPQUFPLEtBQUssUUFBUSxJQUFJLGNBQWMsT0FBTyxZQUFZO0FBQzlELFlBQUksYUFBYTtBQUNqQixZQUFJLE1BQU0sS0FBSyxNQUFNO0FBQ3JCLFlBQUksU0FBUztBQUNiLFlBQUksU0FBUztBQUNiLGFBQUssU0FBUyxVQUFVO0FBQUEsTUFDNUI7QUFFQSxVQUFJLFlBQVksUUFBVztBQUN2QixhQUFLLFVBQVUsRUFBRSxNQUFNLEdBQUc7QUFDMUIsYUFBSyxPQUFPLEtBQUssT0FBTztBQUFBLE1BQzVCLE9BQU87QUFDSCxhQUFLLFVBQVU7QUFDZixjQUFNLE9BQU8sT0FBTyxPQUFPQSxPQUFNLEVBQUUsT0FBTyxDQUFDLFVBQVU7QUFBRSxpQkFBTyxNQUFNLFNBQVMsWUFBWSxNQUFNLGFBQWEsWUFBWSxNQUFNLFNBQVM7QUFBQSxRQUFhLENBQUM7QUFDckosWUFBSSxLQUFLLFNBQVMsR0FBRztBQUNqQixlQUFLLE9BQU8saUJBQWlCLElBQUksS0FBSyxnQkFBZ0IsS0FBSyxJQUFJLENBQUM7QUFDaEUsZ0JBQU0sVUFBVSxJQUFJLGFBQWEsQ0FBQztBQUNsQyx1QkFBSyxLQUFLLFNBQVMsS0FBSyxPQUFPLFlBQVk7QUFDM0MsZ0JBQU0sWUFBWSxLQUFLLE9BQU8sYUFBYSxhQUFhLEVBQUUsVUFBVSxHQUFHLFNBQVMsT0FBTyxLQUFLLGVBQWUsQ0FBQztBQUFBLFFBQ2hIO0FBQUEsTUFDSjtBQUVBLFdBQUssbUJBQW1CLENBQUMsUUFBVyxNQUFTO0FBQzdDLFdBQUssZ0JBQWdCLENBQUMsT0FBTyxLQUFLO0FBQ2xDLFdBQUssYUFBYSxDQUFDLFFBQVcsTUFBUztBQUN2QyxXQUFLLGFBQWEsQ0FBQyxRQUFXLE1BQVM7QUFFdkMsV0FBSyxjQUFjO0FBRW5CLFdBQUssT0FBTztBQUFBLElBQ2hCO0FBQUEsSUFFQSxTQUFTLEdBQUcsWUFBWSxHQUFHO0FBQ3ZCLFVBQUlFLE9BQU07QUFFVixVQUFJLEdBQUc7QUFDSCxpQkFBUyxJQUFJLEdBQUcsSUFBSSxFQUFFLFFBQVEsS0FBSztBQUMvQixVQUFBQSxRQUFPLEVBQUUsQ0FBQyxFQUFFLFFBQVEsU0FBUyxJQUFJO0FBQUEsUUFDckM7QUFBQSxNQUNKO0FBRUEsYUFBT0E7QUFBQSxJQUNYO0FBQUE7QUFBQSxJQUdBLFNBQVMsS0FBSyxNQUFNO0FBQ2hCLFVBQUksSUFBSSxLQUFLLENBQUMsR0FDVixJQUFJLEtBQUssQ0FBQyxHQUNWLElBQUksS0FBSyxDQUFDLEdBQ1YsSUFBSSxLQUFLLENBQUMsR0FDVixLQUFLLElBQUksR0FDVCxLQUFLLElBQUksR0FDVCxLQUFLLElBQUksR0FDVCxLQUFLLElBQUk7QUFDYixVQUFJLE9BQU8sS0FBSyxLQUFLLEtBQUs7QUFDMUIsVUFBSSxPQUFPLElBQUksSUFBSSxJQUFJO0FBQ3ZCLFVBQUksT0FBTyxXQUFXLE1BQU07QUFFeEIsWUFBSSxDQUFDLElBQUksS0FBSyxLQUFLO0FBQ25CLFlBQUksQ0FBQyxJQUFJLElBQUksS0FBSyxNQUFNLEdBQUcsQ0FBQztBQUM1QixZQUFJLENBQUMsSUFBSTtBQUFBLE1BQ2IsV0FBVyxPQUFPLFlBQVksTUFBTTtBQUVoQyxZQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSztBQUNwQixZQUFJLENBQUMsSUFBSSxJQUFJLEtBQUssTUFBTSxHQUFHLENBQUM7QUFDNUIsWUFBSSxDQUFDLElBQUk7QUFBQSxNQUNiLE9BQU87QUFDSCxZQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxJQUFJLElBQUksSUFBSSxFQUFFO0FBQ3RDLFlBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxLQUFLLEtBQUssR0FBRztBQUMxRCxZQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksS0FBSyxLQUFLLEdBQUc7QUFBQSxNQUM5RDtBQUVBLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFFQSxjQUFjLE9BQU87QUFDakIsWUFBTSxTQUFTLEtBQUssT0FBTyxVQUFVO0FBQ3JDLFlBQU0sWUFBWSxLQUFLLFdBQVcsS0FBSztBQUN2QyxVQUFJLGNBQWM7QUFBVyxlQUFPO0FBQ3BDLFVBQUksVUFBVSxPQUFPO0FBQVcsZUFBTztBQUN2QyxhQUFPLFVBQVUsR0FBRyxDQUFDO0FBQUEsSUFDekI7QUFBQSxJQUVBLElBQUksa0JBQWtCO0FBQ2xCLGFBQU8sS0FBSyxjQUFjLENBQUMsS0FBSyxLQUFLLGNBQWMsQ0FBQztBQUFBLElBQ3hEO0FBQUEsSUFFQSxnQkFBZ0IsR0FBRztBQUNmLFdBQUssVUFBVTtBQUVmLFlBQU0sT0FBTyxJQUFJLFNBQVMsQ0FBQztBQUMzQixXQUFLLFNBQVMsUUFBUSxXQUFTO0FBQzNCLFlBQUksTUFBTSxRQUFRLFVBQVU7QUFDeEIsZ0JBQU0sUUFBUSxNQUFNLFNBQVMsQ0FBQztBQUM5QixnQkFBTSxTQUFTLFFBQVEsQ0FBQUMsV0FBUztBQUM1QixnQkFBSUEsT0FBTSxRQUFRO0FBQWMsbUJBQUssVUFBVUE7QUFDL0MsZ0JBQUlBLE9BQU0sUUFBUTtBQUFlLG1CQUFLLFdBQVdBO0FBQUEsVUFDckQsQ0FBQztBQUFBLFFBQ0w7QUFBQSxNQUNKLENBQUM7QUFFRCxVQUFJLEVBQUUsS0FBSyxXQUFXLEtBQUs7QUFBVyxnQkFBUSxLQUFLLG1EQUFtRDtBQUV0RyxlQUFTLFNBQVMsT0FBTztBQUNyQixjQUFNLFFBQVMsTUFBTSxZQUFZLGVBQWUsU0FBVSxJQUFJO0FBQzlELGNBQU0sTUFBTSxLQUFLLGlCQUFpQixLQUFLO0FBQ3ZDLFlBQUksUUFBUSxRQUFXO0FBQ25CLGNBQUksSUFBSSxRQUFRLFVBQVU7QUFDdEIsaUJBQUssT0FBTyxLQUFLO0FBQUEsVUFDckIsV0FBVyxJQUFJLFFBQVEsY0FBYztBQUNqQyxnQkFBSSxLQUFLLFVBQVU7QUFDZixrQkFBSSxLQUFLLFNBQVMsU0FBUztBQUN2QixxQkFBSyxTQUFTLFdBQVc7QUFDekIscUJBQUssU0FBUyxhQUFhO0FBQzNCLHFCQUFLLFNBQVMsZ0JBQWdCO0FBQzlCLHFCQUFLLFNBQVMsVUFBVTtBQUFBLGNBQzVCLE9BQU87QUFDSCxxQkFBSyxTQUFTLFdBQVc7QUFDekIsb0JBQUk7QUFDSix1QkFBTyxRQUFRLEtBQUssTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDLE1BQU0sS0FBSyxNQUFNO0FBQ25ELHNCQUFJLFNBQVM7QUFBSywyQkFBTztBQUFBLGdCQUM3QixDQUFDO0FBQ0Qsc0JBQU0sS0FBSyxPQUFRLElBQUksU0FBUyxJQUFJLElBQUksU0FBUyxLQUFLLE9BQU8sS0FBSyxXQUFXLEtBQUssT0FBTyxVQUFXLEtBQUssVUFBVTtBQUNuSCxzQkFBTSxJQUFJLEtBQUssSUFBSSxLQUFLLFVBQVUsT0FBTyxLQUFLLFVBQVUsTUFBTSxJQUFJO0FBRWxFLHFCQUFLLFNBQVMsYUFBYSxLQUFLLFFBQVEsSUFBSTtBQUM1QyxxQkFBSyxTQUFTLGFBQWE7QUFDM0IscUJBQUssU0FBUyxnQkFBZ0I7QUFDOUIscUJBQUssU0FBUyxVQUFVO0FBQUEsY0FDNUI7QUFBQSxZQUNKO0FBQUEsVUFDSjtBQUFBLFFBQ0o7QUFBQSxNQUNKO0FBQUM7QUFFRCxlQUFTLGNBQWMsT0FBTztBQUMxQixjQUFNLFFBQVMsTUFBTSxZQUFZLGVBQWUsU0FBVSxJQUFJO0FBQzlELGFBQUssY0FBYyxLQUFLLElBQUk7QUFDNUIsWUFBSSxLQUFLLGlCQUFpQixLQUFLLE1BQU0sVUFBYSxLQUFLLGlCQUFpQixLQUFLLEVBQUUsWUFBWSxVQUFVO0FBQ2pHLGdCQUFNLE1BQU0sS0FBSyxpQkFBaUIsS0FBSztBQUN2QyxlQUFLLFdBQVcsS0FBSyxJQUFJLEVBQUUsU0FBUyxJQUFJLFNBQVMsTUFBTSxLQUFLLGNBQWMsS0FBSyxFQUFFO0FBQUEsUUFDckY7QUFBQSxNQUNKO0FBRUEsZUFBUyxZQUFZLE9BQU87QUFDeEIsY0FBTSxRQUFTLE1BQU0sWUFBWSxlQUFlLFNBQVUsSUFBSTtBQUM5RCxhQUFLLGNBQWMsS0FBSyxJQUFJO0FBQzVCLFlBQUksS0FBSyxpQkFBaUIsS0FBSyxNQUFNLFVBQWEsS0FBSyxpQkFBaUIsS0FBSyxFQUFFLFlBQVksVUFBVTtBQUNqRyxlQUFLLFdBQVcsS0FBSyxJQUFJO0FBQUEsUUFDN0I7QUFBQSxNQUNKO0FBRUEsUUFBRSxpQkFBaUIsT0FBTyxXQUFZO0FBQ2xDLGFBQUssVUFBVTtBQUFBLE1BQ25CLEVBQUUsS0FBSyxJQUFJLENBQUM7QUFDWixRQUFFLGlCQUFpQixVQUFVLFNBQVMsS0FBSyxJQUFJLENBQUM7QUFDaEQsUUFBRSxpQkFBaUIsZUFBZSxjQUFjLEtBQUssSUFBSSxDQUFDO0FBQzFELFFBQUUsaUJBQWlCLGFBQWEsWUFBWSxLQUFLLElBQUksQ0FBQztBQUFBLElBRTFEO0FBQUEsSUFFQSxRQUFRLEtBQUs7QUFDVCxZQUFNLFVBQVUsS0FBSztBQUVyQixjQUFRLFFBQVE7QUFDaEIsY0FBUSxLQUFLO0FBRWIsVUFBSSxJQUFJLGFBQWEsUUFBVztBQUM1QixjQUFNLE9BQU8sSUFBSSxPQUFPLElBQUksUUFBUTtBQUNwQyxnQkFBUSxLQUFLLElBQUk7QUFBQSxNQUNyQixPQUFPO0FBQ0gsY0FBTSxNQUFPLElBQUksYUFBYSxTQUFhLElBQUksV0FBVyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUU7QUFDdkUsY0FBTSxlQUFlLElBQUksZ0JBQWdCO0FBQ3pDLGNBQU0sUUFBUSxJQUFJLFNBQVMsS0FBSyxPQUFPO0FBQ3ZDLGNBQU0sU0FBUyxJQUFJLFVBQVUsS0FBSyxPQUFPO0FBRXpDLGdCQUFRLFVBQVU7QUFFbEIsWUFBSSxpQkFBaUIsR0FBRztBQUNwQixnQkFBTUMsU0FBUSxLQUFLLEtBQUs7QUFFeEIsa0JBQVEsT0FBTyxJQUFJLElBQUksY0FBYyxJQUFJLENBQUM7QUFDMUMsa0JBQVEsSUFBSSxJQUFJLElBQUksY0FBYyxJQUFJLElBQUksY0FBYyxjQUFjQSxRQUFPQSxTQUFRLEdBQUcsSUFBSTtBQUM1RixrQkFBUSxPQUFPLElBQUksR0FBRyxJQUFJLElBQUksU0FBUyxZQUFZO0FBQ25ELGtCQUFRLElBQUksSUFBSSxJQUFJLGNBQWMsSUFBSSxJQUFJLFNBQVMsY0FBYyxjQUFjLEdBQUdBLFFBQU8sSUFBSTtBQUM3RixrQkFBUSxPQUFPLElBQUksSUFBSSxRQUFRLGNBQWMsSUFBSSxJQUFJLE1BQU07QUFDM0Qsa0JBQVEsSUFBSSxJQUFJLElBQUksUUFBUSxjQUFjLElBQUksSUFBSSxTQUFTLGNBQWMsY0FBY0EsU0FBUSxHQUFHQSxTQUFRLEdBQUcsSUFBSTtBQUNqSCxrQkFBUSxPQUFPLElBQUksSUFBSSxPQUFPLElBQUksSUFBSSxZQUFZO0FBQ2xELGtCQUFRLElBQUksSUFBSSxJQUFJLFFBQVEsY0FBYyxJQUFJLElBQUksY0FBYyxjQUFjQSxTQUFRLEdBQUdBLFNBQVEsR0FBRyxJQUFJO0FBQ3hHLGtCQUFRLFVBQVU7QUFDbEIsa0JBQVEsS0FBSztBQUFBLFFBQ2pCLE9BQU87QUFDSCxrQkFBUSxLQUFLLElBQUksR0FBRyxJQUFJLEdBQUcsT0FBTyxNQUFNO0FBQ3hDLGtCQUFRLEtBQUs7QUFBQSxRQUNqQjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFFQSxZQUFZLEdBQUcsR0FBRyxHQUFHO0FBQ2pCLFVBQUksS0FBSyxTQUFTO0FBQVc7QUFDN0IsV0FBSyxLQUFLLFNBQVMsSUFBSSxHQUFHLEdBQUcsQ0FBQztBQUFBLElBQ2xDO0FBQUEsSUFFQSxZQUFZLEdBQUcsR0FBRyxHQUFHO0FBQ2pCLFVBQUksS0FBSyxTQUFTO0FBQVc7QUFDN0IsV0FBSyxLQUFLLFNBQVMsSUFBSSxHQUFHLEdBQUcsQ0FBQztBQUFBLElBQ2xDO0FBQUEsSUFFQSxjQUFjLE1BQU0sU0FBUztBQUN6QixVQUFJLE1BQU0sS0FBSyxRQUFRLElBQUk7QUFFM0IsVUFBSSxRQUFRLFFBQVc7QUFDbkIsZ0JBQVEsS0FBSyw4QkFBOEIsWUFBWTtBQUN2RDtBQUFBLE1BQ0o7QUFFQSxVQUFJLE9BQU8sUUFBUSxVQUFVO0FBQ3pCLFlBQUksVUFBVTtBQUFBLE1BQ2xCLE9BQU87QUFDSCxjQUFNO0FBQUEsTUFDVjtBQUVBLFdBQUssUUFBUSxJQUFJLElBQUk7QUFFckIsV0FBSyxjQUFjO0FBQUEsSUFDdkI7QUFBQSxJQUVBLElBQUksUUFBUTtBQUNSLGFBQU8sS0FBSztBQUFBLElBQ2hCO0FBQUEsSUFFQSxxQkFBcUIsR0FBRyxHQUFHO0FBQ3ZCLFlBQU0sT0FBTyxPQUFPLFFBQVEsS0FBSyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsTUFBTUMsSUFBRyxNQUFNO0FBQzdELFlBQUksT0FBT0EsU0FBUSxZQUFZLFNBQVMsZUFBZSxTQUFTLFFBQVE7QUFDcEUsZ0JBQU0sTUFBTUEsS0FBSTtBQUNoQixnQkFBTSxRQUFTQSxLQUFJLFVBQVUsU0FBYUEsS0FBSSxRQUFRLEtBQUssT0FBTztBQUNsRSxnQkFBTSxTQUFVQSxLQUFJLFdBQVcsU0FBYUEsS0FBSSxTQUFTLEtBQUssT0FBTztBQUNyRSxpQkFBUSxLQUFLLElBQUksS0FBSyxJQUFLLElBQUksSUFBSSxTQUFVLEtBQUssSUFBSSxLQUFLLElBQUssSUFBSSxJQUFJO0FBQUEsUUFDNUU7QUFBQSxNQUNKLENBQUM7QUFDRCxZQUFNLE1BQU8sS0FBSyxVQUFVLElBQUssT0FBTyxLQUFLLE9BQU8sS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBRTlELGFBQU87QUFBQSxJQUNYO0FBQUEsSUFFQSxhQUFhLE1BQU1DLFdBQVUsT0FBTztBQUNoQyxVQUFJLE1BQU0sS0FBSyxPQUFPLElBQUk7QUFFMUIsVUFBSSxRQUFRLFFBQVc7QUFDbkIsZ0JBQVEsS0FBSyw2QkFBNkIsWUFBWTtBQUN0RDtBQUFBLE1BQ0o7QUFFQSxVQUFJQSxTQUFRLElBQUk7QUFFaEIsV0FBSyxjQUFjO0FBQUEsSUFDdkI7QUFBQSxJQUVBLE1BQU0sUUFBUSxHQUFHLElBQUk7QUFDakIsVUFBSSxPQUFPLFFBQVc7QUFDbEIsWUFBSSxLQUFLLGlCQUFpQixLQUFLLE1BQU0sUUFBVztBQUM1QyxlQUFLLGlCQUFpQixLQUFLLElBQUk7QUFDL0IsZUFBSyxjQUFjO0FBQUEsUUFDdkI7QUFBQSxNQUNKLE9BQU87QUFDSCxjQUFNLElBQUksR0FBRyxDQUFDO0FBQ2QsY0FBTSxJQUFJLEdBQUcsQ0FBQztBQUVkLGNBQU0sTUFBTSxLQUFLLHFCQUFxQixHQUFHLENBQUM7QUFDMUMsWUFBSSxRQUFRLE1BQU07QUFDZCxjQUFJLEtBQUssaUJBQWlCLEtBQUssTUFBTSxRQUFXO0FBQzVDLGlCQUFLLGlCQUFpQixLQUFLLElBQUk7QUFDL0IsaUJBQUssY0FBYztBQUFBLFVBQ3ZCO0FBQUEsUUFDSixXQUFXLEtBQUssaUJBQWlCLEtBQUssTUFBTSxLQUFLO0FBQzdDLGVBQUssaUJBQWlCLEtBQUssSUFBSTtBQUMvQixlQUFLLGNBQWM7QUFBQSxRQUN2QjtBQUFBLE1BQ0o7QUFBQSxJQUVKO0FBQUEsSUFFQSxPQUFPLFFBQVEsR0FBRyxRQUFRLE9BQU87QUFDN0IsVUFBSSxLQUFLLGlCQUFpQixLQUFLLE1BQU0sUUFBVztBQUM1QyxjQUFNLE1BQU0sS0FBSyxpQkFBaUIsS0FBSztBQUN2QyxZQUFJLElBQUk7QUFBVSxjQUFJLFNBQVM7QUFDL0IsWUFBSSxJQUFJLFNBQVMsY0FBYztBQUMzQixjQUFJLE9BQU87QUFDUCxnQkFBSSxLQUFLLFVBQVU7QUFDZixrQkFBSSxLQUFLLFNBQVMsU0FBUztBQUN2QixxQkFBSyxTQUFTLFdBQVc7QUFDekIscUJBQUssU0FBUyxhQUFhO0FBQzNCLHFCQUFLLFNBQVMsZ0JBQWdCO0FBQzlCLHFCQUFLLFNBQVMsVUFBVTtBQUFBLGNBQzVCLE9BQU87QUFDSCxxQkFBSyxTQUFTLFdBQVc7QUFDekIsb0JBQUk7QUFDSix1QkFBTyxRQUFRLEtBQUssTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDLE1BQU0sS0FBSyxNQUFNO0FBQ25ELHNCQUFJLFNBQVM7QUFBSywyQkFBTztBQUFBLGdCQUM3QixDQUFDO0FBQ0Qsc0JBQU0sS0FBSyxPQUFRLElBQUksU0FBUyxJQUFJLElBQUksU0FBUyxLQUFLLE9BQU8sS0FBSyxXQUFXLEtBQUssT0FBTyxVQUFXLEtBQUssVUFBVTtBQUNuSCxzQkFBTSxJQUFJLEtBQUssSUFBSSxLQUFLLFVBQVUsT0FBTyxLQUFLLFVBQVUsTUFBTSxJQUFJO0FBRWxFLHFCQUFLLFNBQVMsYUFBYSxLQUFLLFFBQVEsSUFBSTtBQUM1QyxxQkFBSyxTQUFTLGFBQWE7QUFDM0IscUJBQUssU0FBUyxnQkFBZ0I7QUFDOUIscUJBQUssU0FBUyxVQUFVO0FBQUEsY0FDNUI7QUFBQSxZQUNKO0FBQUEsVUFDSixPQUFPO0FBQ0gsaUJBQUssU0FBUyxVQUFXLEtBQUssU0FBUyxVQUFXLFFBQVE7QUFBQSxVQUM5RDtBQUFBLFFBQ0osT0FBTztBQUNILGVBQUssaUJBQWlCLEtBQUssSUFBSTtBQUFBLFFBQ25DO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxJQUVBLE9BQU8sT0FBTztBQUVWLFVBQUksS0FBSyxpQkFBaUIsS0FBSyxNQUFNLFFBQVc7QUFDNUMsWUFBSSxLQUFLO0FBQWUsZUFBSyxjQUFjLEtBQUssRUFBRSxVQUFVO0FBQzVEO0FBQUEsTUFDSjtBQUNBLFVBQUksS0FBSyxpQkFBaUIsS0FBSyxFQUFFLGFBQWE7QUFBVTtBQUN4RCxZQUFNLE1BQU0sS0FBSyxpQkFBaUIsS0FBSztBQUN2QyxVQUFJLEtBQUssY0FBYyxLQUFLLEdBQUc7QUFDM0IsY0FBTSxhQUFhLEtBQUssV0FBVyxLQUFLO0FBQ3hDLFlBQUksZUFBZSxRQUFXO0FBQzFCLGNBQUksS0FBSyxlQUFlO0FBQ3BCLGlCQUFLLGNBQWMsS0FBSyxFQUFFLFVBQVU7QUFDcEMsaUJBQUssY0FBYyxLQUFLLEVBQUUsU0FBUyxLQUFLLEtBQUssV0FBVyxLQUFLLEVBQUUsS0FBSztBQUFBLFVBQ3hFO0FBQ0EsZ0JBQU0sT0FBTyxLQUFLLGNBQWMsS0FBSztBQUNyQyxnQkFBTUMsVUFBUyxPQUFPLFdBQVc7QUFDakMsY0FBSSxVQUFVLEtBQUssSUFBSSxLQUFLLElBQUksSUFBSSxZQUFZLFdBQVcsVUFBVUEsT0FBTSxHQUFHLENBQUM7QUFDL0UsZUFBSyxjQUFjO0FBQUEsUUFDdkI7QUFBQSxNQUNKLE9BQU87QUFDSCxZQUFJLEtBQUs7QUFBZSxlQUFLLGNBQWMsS0FBSyxFQUFFLFVBQVU7QUFBQSxNQUNoRTtBQUFBLElBQ0o7QUFBQSxJQUVBLGNBQWMsS0FBSztBQUNmLFdBQUssT0FBTywyQkFBMkIsS0FBSyxRQUFRLEdBQUc7QUFDdkQsbUJBQUssS0FBSyxLQUFLLFNBQVMsS0FBSyxPQUFPLFlBQVk7QUFDaEQsbUJBQUssSUFBSSxLQUFLLFFBQVEsS0FBSyxRQUFRLEtBQUssT0FBTztBQUMvQyxZQUFNLEtBQUssSUFBSSxhQUFhLENBQUM7QUFDN0IsU0FBRyxDQUFDLEtBQU0sS0FBSyxPQUFPLENBQUMsSUFBSSxLQUFLLElBQUssS0FBSyxPQUFPO0FBQ2pELFNBQUcsQ0FBQyxLQUFLLEtBQUssS0FBSyxPQUFPLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxPQUFPO0FBS3JELGFBQU87QUFBQSxJQUNYO0FBQUEsSUFFQSxpQkFBaUIsWUFBWSxPQUFPO0FBQ2hDLFVBQUksY0FBYztBQUFNO0FBRXhCLGlCQUFXLG9CQUFvQixLQUFLLE1BQU07QUFDMUMsaUJBQVcsV0FBVyxLQUFLLE9BQU87QUFFbEMsWUFBTSxhQUFhLEdBQUcsTUFBTSxRQUFRLEtBQUssUUFBUSxLQUFLLFNBQVMsS0FBSyxnQkFBZ0IsR0FBRztBQUV2RixVQUFJLFdBQVcsV0FBVyxHQUFHO0FBQ3pCLG1CQUFXLEtBQUssS0FBSyxjQUFjLFdBQVcsVUFBVSxDQUFDLENBQUM7QUFDMUQsYUFBSyxNQUFNLE9BQU8sV0FBVyxFQUFFO0FBQy9CLGFBQUssV0FBVyxLQUFLLElBQUk7QUFDekIsYUFBSyxPQUFPLEtBQUs7QUFBQSxNQUNyQixPQUFPO0FBQ0gsYUFBSyxNQUFNLEtBQUs7QUFDaEIsYUFBSyxXQUFXLEtBQUssSUFBSTtBQUN6QixhQUFLLE9BQU8sS0FBSztBQUFBLE1BQ3JCO0FBQUEsSUFDSjtBQUFBLElBRUEsU0FBUztBQUNMLFVBQUksS0FBSztBQUFTLGFBQUssaUJBQWlCLEtBQUssU0FBUyxDQUFDO0FBQ3ZELFVBQUksS0FBSztBQUFVLGFBQUssaUJBQWlCLEtBQUssVUFBVSxDQUFDO0FBRXpELFVBQUksS0FBSyxZQUFZLEtBQUssU0FBUztBQUFTLGFBQUssU0FBUyxPQUFPO0FBRWpFLFVBQUksQ0FBQyxLQUFLO0FBQWE7QUFFdkIsVUFBSSxVQUFVLEtBQUs7QUFFbkIsY0FBUSxVQUFVLEdBQUcsR0FBRyxLQUFLLE9BQU8sT0FBTyxLQUFLLE9BQU8sTUFBTTtBQUU3RCxZQUFNLFVBQVcsS0FBSyxPQUFPLEtBQUssa0JBQW1CLEtBQUssT0FBTyxLQUFLLGtCQUFrQjtBQUN4RixZQUFNLGFBQWMsS0FBSyxPQUFPLEtBQUssYUFBYyxLQUFLLE9BQU8sS0FBSyxhQUFhO0FBQ2pGLFlBQU0sWUFBYSxLQUFLLE9BQU8sS0FBSyxZQUFhLEtBQUssT0FBTyxLQUFLLFlBQVk7QUFDOUUsWUFBTSxXQUFZLEtBQUssT0FBTyxLQUFLLFdBQVksS0FBSyxPQUFPLEtBQUssV0FBVztBQUMzRSxXQUFLLFFBQVEsS0FBSyxPQUFPLElBQUk7QUFDN0IsY0FBUSxZQUFZO0FBQ3BCLGNBQVEsU0FBUyxHQUFHLEdBQUcsS0FBSyxPQUFPLE9BQU8sS0FBSyxPQUFPLE1BQU07QUFFNUQsYUFBTyxRQUFRLEtBQUssT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDLE1BQU0sT0FBTyxNQUFNO0FBQ3RELGNBQU1QLFVBQVUsS0FBSyxPQUFPLElBQUksTUFBTSxTQUFhLEtBQUssT0FBTyxJQUFJLElBQUksS0FBSyxPQUFPO0FBQ25GLGNBQU0sVUFBV0EsUUFBTyxZQUFZLFNBQWFBLFFBQU8sVUFBVTtBQUVsRSxZQUFJLFlBQVksUUFBUTtBQUNwQixnQkFBTSxNQUFPQSxRQUFPLGFBQWEsU0FBYUEsUUFBTyxXQUFXLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRTtBQUM3RSxnQkFBTSxRQUFTQSxRQUFPLFVBQVUsU0FBYUEsUUFBTyxRQUFRLEtBQUssT0FBTztBQUN4RSxnQkFBTSxTQUFVQSxRQUFPLFdBQVcsU0FBYUEsUUFBTyxTQUFTLEtBQUssT0FBTztBQUUzRSxjQUFJQSxRQUFPLFFBQVEsWUFBWSxDQUFDLFFBQVEsWUFBWSxFQUFFLFdBQVcsUUFBUSxHQUFHO0FBQ3hFLGdCQUFJQSxRQUFPLGlCQUFpQjtBQUFXLGNBQUFBLFFBQU8sZUFBZTtBQUM3RCxnQkFBSUEsUUFBTyxjQUFjO0FBQVcsY0FBQUEsUUFBTyxZQUFZO0FBQUEsVUFDM0Q7QUFFQSxlQUFLLFFBQVFBLE9BQU07QUFFbkIsZ0JBQU0sVUFBVSxRQUFRLFlBQVksRUFBRSxXQUFXLFFBQVE7QUFDekQsZ0JBQU0sUUFBVSxLQUFLLGlCQUFpQixDQUFDLE1BQU0sVUFBYSxLQUFLLGlCQUFpQixDQUFDLE1BQU1BLFdBQVksS0FBSyxpQkFBaUIsQ0FBQyxNQUFNLFVBQWEsS0FBSyxpQkFBaUIsQ0FBQyxNQUFNQTtBQUUxSyxjQUFJQSxRQUFPLG9CQUFvQixRQUFXO0FBQ3RDLGdCQUFJLFNBQVNBLFFBQU8sUUFBUSxZQUFZQSxRQUFPLFVBQVUsUUFBVztBQUNoRSxzQkFBUSxZQUFZQSxRQUFPO0FBQUEsWUFDL0IsT0FBTztBQUNILHNCQUFRLFlBQVlBLFFBQU87QUFBQSxZQUMvQjtBQUNBLG9CQUFRLFNBQVMsSUFBSSxHQUFHLElBQUksR0FBRyxPQUFPLE1BQU07QUFBQSxVQUNoRDtBQUVBLGNBQUlBLFFBQU8sUUFBUSxVQUFVQSxRQUFPLFFBQVEsWUFBWUEsUUFBTyxRQUFRLGNBQWM7QUFDakYsZ0JBQUksU0FBUztBQUNiLGdCQUFJLE9BQU87QUFDUCxrQkFBSSxDQUFDLFdBQVdBLFFBQU8sUUFBUSxVQUFVO0FBQ3JDLHdCQUFRLFlBQWFBLFFBQU8sY0FBYyxTQUFhQSxRQUFPLFlBQVk7QUFBQSxjQUM5RSxPQUFPO0FBQ0gsd0JBQVEsWUFBYUEsUUFBTyxVQUFVLFNBQWFBLFFBQU8sUUFBU0EsUUFBTyxjQUFjLFNBQWFBLFFBQU8sWUFBWTtBQUFBLGNBQzVIO0FBQ0EsdUJBQVVBLFFBQU8sVUFBVTtBQUFBLFlBQy9CLE9BQU87QUFDSCxzQkFBUSxZQUFhQSxRQUFPLGNBQWMsU0FBYUEsUUFBTyxZQUFZO0FBQUEsWUFDOUU7QUFFQSxnQkFBSSxTQUFTO0FBQ1Qsb0JBQU0sT0FBTyxRQUFRLFlBQVksRUFBRSxVQUFVLEdBQUcsUUFBUSxTQUFTLENBQUM7QUFDbEUsc0JBQVEsS0FBSztBQUNiLHNCQUFRLFVBQVUsSUFBSSxHQUFHLElBQUksQ0FBQztBQUM5QixvQkFBTSxPQUFPLElBQUksT0FBTyxJQUFJO0FBQzVCLHNCQUFRLEtBQUssSUFBSTtBQUNqQixzQkFBUSxRQUFRO0FBQUEsWUFDcEIsT0FBTztBQUNILG1CQUFLLFNBQVMsTUFBTSxPQUFPO0FBQUEsWUFDL0I7QUFFQSxnQkFBSSxRQUFRO0FBQ1Isc0JBQVEsVUFBVTtBQUNsQixzQkFBUSxjQUFjO0FBQ3RCLHNCQUFRLFlBQVk7QUFDcEIsc0JBQVEsS0FBSyxJQUFJLEdBQUcsSUFBSSxHQUFHLE9BQU8sTUFBTTtBQUN4QyxzQkFBUSxPQUFPO0FBQUEsWUFDbkI7QUFBQSxVQUNKLFdBQVdBLFFBQU8sUUFBUSxPQUFPO0FBQzdCLGdCQUFJQSxRQUFPLFFBQVEsUUFBVztBQUMxQixtQkFBSyxVQUFVLE9BQU8sRUFBRSxLQUFLLFNBQU87QUFDaEMsd0JBQVEsSUFBSSxNQUFNLElBQUksY0FBYyxJQUFJLFFBQVE7QUFDaEQsZ0JBQUFBLFFBQU8sTUFBTTtBQUNiLHFCQUFLLGNBQWM7QUFDbkIscUJBQUssT0FBTztBQUFBLGNBQ2hCLENBQUMsRUFBRSxNQUFNLFNBQU8sUUFBUSxNQUFNLEdBQUcsQ0FBQztBQUFBLFlBQ3RDLE9BQU87QUFDSCxvQkFBTSxTQUFTQSxRQUFPLElBQUksUUFBUUEsUUFBTyxJQUFJO0FBQzdDLG9CQUFNLElBQUksUUFBUTtBQUNsQixzQkFBUSxVQUFVQSxRQUFPLEtBQUssSUFBSSxHQUFHLElBQUksR0FBRyxPQUFPLENBQUM7QUFBQSxZQUN4RDtBQUFBLFVBQ0o7QUFBQSxRQUNKO0FBQUEsTUFDSixDQUFDO0FBRUQsVUFBSSxLQUFLO0FBQWUsYUFBSyxjQUFjLE9BQU87QUFDbEQsV0FBSyxjQUFjO0FBQUEsSUFDdkI7QUFBQSxJQUVBLFVBQVUsS0FBSztBQUNYLGFBQU8sSUFBSSxRQUFRLENBQUMsU0FBUyxXQUFXO0FBQ3BDLGNBQU0sTUFBTSxJQUFJLE1BQU07QUFDdEIsWUFBSSxpQkFBaUIsUUFBUSxNQUFNLFFBQVEsR0FBRyxDQUFDO0FBQy9DLFlBQUksaUJBQWlCLFNBQVMsU0FBTyxPQUFPLEdBQUcsQ0FBQztBQUNoRCxZQUFJLE1BQU07QUFBQSxNQUNkLENBQUM7QUFBQSxJQUNMO0FBQUEsSUFFQSxzQkFBc0IsR0FBRyxHQUFHO0FBQ3hCLFlBQU1RLFVBQVMsU0FBUyxjQUFjLFFBQVE7QUFDOUMsTUFBQUEsUUFBTyxRQUFRO0FBQ2YsTUFBQUEsUUFBTyxTQUFTO0FBQ2hCLGFBQU9BO0FBQUEsSUFDWDtBQUFBLElBRUEsZ0JBQWdCLEdBQUcsR0FBRyxHQUFHLEdBQUcsUUFBUTtBQUNoQyxZQUFNLE1BQU0sS0FBSztBQUNqQixVQUFJLFVBQVU7QUFDZCxVQUFJLE9BQU8sSUFBSSxRQUFRLENBQUM7QUFDeEIsVUFBSSxPQUFPLElBQUksSUFBSSxRQUFRLENBQUM7QUFDNUIsVUFBSSxpQkFBaUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxHQUFHLElBQUksTUFBTTtBQUNoRCxVQUFJLE9BQU8sSUFBSSxHQUFHLElBQUksSUFBSSxNQUFNO0FBQ2hDLFVBQUksaUJBQWlCLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxJQUFJLFFBQVEsSUFBSSxDQUFDO0FBQ3hELFVBQUksT0FBTyxJQUFJLFFBQVEsSUFBSSxDQUFDO0FBQzVCLFVBQUksaUJBQWlCLEdBQUcsSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLE1BQU07QUFDaEQsVUFBSSxPQUFPLEdBQUcsSUFBSSxNQUFNO0FBQ3hCLFVBQUksaUJBQWlCLEdBQUcsR0FBRyxJQUFJLFFBQVEsQ0FBQztBQUN4QyxVQUFJLFVBQVU7QUFDZCxVQUFJLEtBQUs7QUFBQSxJQUNiO0FBQUEsSUFFQSxPQUFPLEtBQUs7QUFDUixVQUFJLEtBQUssU0FBUztBQUFXO0FBQzdCLFVBQUksRUFBRSxlQUFlLFVBQVU7QUFDM0IsZ0JBQVEsTUFBTSxzREFBc0Q7QUFDcEU7QUFBQSxNQUNKO0FBQ0EsV0FBSyxLQUFLLE9BQU8sR0FBRztBQUFBLElBQ3hCO0FBQUEsSUFFQSxJQUFJLFVBQVU7QUFDVixVQUFJLEtBQUssU0FBUztBQUFXLGVBQU87QUFDcEMsYUFBTyxLQUFLLEtBQUs7QUFBQSxJQUNyQjtBQUFBLElBRUEsSUFBSSxRQUFRLE9BQU87QUFDZixVQUFJLEtBQUssTUFBTTtBQUNYLGFBQUssS0FBSyxTQUFTO0FBQUEsTUFDdkI7QUFBQSxJQUNKO0FBQUEsSUFFQSxJQUFJLFdBQVc7QUFDWCxVQUFJLEtBQUssV0FBVztBQUFXLGVBQU87QUFDdEMsV0FBSyxPQUFPLG9CQUFvQixLQUFLLE1BQU07QUFDM0MsYUFBTyxLQUFLO0FBQUEsSUFDaEI7QUFBQSxJQUVBLElBQUksU0FBUyxPQUFPO0FBQ2hCLFVBQUksS0FBSyxXQUFXO0FBQVc7QUFDL0IsVUFBSSxFQUFFLGlCQUFpQixlQUFlO0FBQ2xDLGdCQUFRLE1BQU0seUZBQXlGO0FBQ3ZHO0FBQUEsTUFDSjtBQUNBLFdBQUssT0FBTyxvQkFBb0IsS0FBSztBQUFBLElBQ3pDO0FBQUEsSUFFQSxJQUFJLGFBQWE7QUFDYixVQUFJLEtBQUssV0FBVztBQUFXLGVBQU87QUFDdEMsV0FBSyxPQUFPLG9CQUFvQixLQUFLLE1BQU07QUFDM0MsYUFBTyxLQUFLO0FBQUEsSUFDaEI7QUFBQSxJQUVBLElBQUksV0FBVyxPQUFPO0FBQ2xCLFVBQUksS0FBSyxTQUFTO0FBQVc7QUFDN0IsVUFBSSxFQUFFLGlCQUFpQixhQUFhO0FBQ2hDLGdCQUFRLE1BQU0sK0ZBQStGO0FBQzdHO0FBQUEsTUFDSjtBQUNBLFdBQUssS0FBSyxXQUFXLEtBQUssS0FBSztBQUFBLElBQ25DO0FBQUEsSUFFQSxTQUFTLE1BQU0sS0FBSztBQUVoQixZQUFNLFFBQVEsSUFBSSxNQUFNLEdBQUc7QUFDM0IsVUFBSSxPQUFPO0FBQ1gsWUFBTSxRQUFRLENBQUM7QUFDZixZQUFNUixVQUFVLEtBQUssT0FBTyxJQUFJLE1BQU0sU0FBYSxLQUFLLE9BQU8sSUFBSSxJQUFJLEtBQUssT0FBTztBQUNuRixZQUFNLFFBQVNBLFFBQU8sVUFBVSxTQUFhQSxRQUFPLFFBQVEsS0FBSyxPQUFPO0FBQ3hFLFlBQU0sU0FBVUEsUUFBTyxXQUFXLFNBQWFBLFFBQU8sU0FBUyxLQUFLLE9BQU87QUFDM0UsWUFBTSxNQUFPQSxRQUFPLGFBQWEsU0FBYUEsUUFBTyxXQUFXLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRTtBQUM3RSxZQUFNLFVBQVdBLFFBQU8sWUFBWSxTQUFhQSxRQUFPLFVBQVcsS0FBSyxPQUFPLEtBQUssWUFBWSxTQUFhLEtBQUssT0FBTyxLQUFLLFVBQVU7QUFDeEksWUFBTSxhQUFjQSxRQUFPLGVBQWUsU0FBYUEsUUFBTyxhQUFhO0FBQzNFLFlBQU0sY0FBZUEsUUFBTyxnQkFBZ0IsU0FBYUEsUUFBTyxjQUFjO0FBQzlFLFlBQU0sZ0JBQWlCQSxRQUFPLGtCQUFrQixTQUFhQSxRQUFPLGdCQUFnQjtBQUNwRixZQUFNLGVBQWdCQSxRQUFPLGlCQUFpQixTQUFhQSxRQUFPLGVBQWU7QUFDakYsWUFBTSxPQUFPLEVBQUUsR0FBRyxJQUFJLElBQUksYUFBYSxHQUFHLElBQUksSUFBSSxZQUFZLE9BQU8sUUFBUSxjQUFjLGNBQWMsUUFBUSxTQUFTLGFBQWEsY0FBYztBQUNySixZQUFNLFlBQWFBLFFBQU8sY0FBYyxTQUFhQSxRQUFPLFlBQWEsS0FBSyxPQUFPLEtBQUssY0FBYyxTQUFhLEtBQUssT0FBTyxLQUFLLFlBQVk7QUFDbEosWUFBTSxXQUFZQSxRQUFPLGFBQWEsU0FBYUEsUUFBTyxXQUFZLEtBQUssT0FBTyxLQUFLLGFBQWEsU0FBYSxLQUFLLE9BQU8sS0FBSyxXQUFXO0FBQzdJLFlBQU0sYUFBY0EsUUFBTyxlQUFlLFNBQWFBLFFBQU8sYUFBYyxLQUFLLE9BQU8sS0FBSyxlQUFlLFNBQWEsS0FBSyxPQUFPLEtBQUssYUFBYTtBQUN2SixZQUFNLFVBQVdBLFFBQU8sWUFBWSxTQUFhQSxRQUFPLFVBQVcsS0FBSyxPQUFPLEtBQUssWUFBWSxTQUFhLEtBQUssT0FBTyxLQUFLLFVBQVU7QUFDeEksWUFBTSxhQUFhLFdBQVc7QUFFOUIsWUFBTSxVQUFVLEtBQUs7QUFFckIsY0FBUSxZQUFZO0FBRXBCLGNBQVEsT0FBTyxHQUFHLGVBQWU7QUFFakMsWUFBTSxRQUFRLFNBQVUsTUFBTTtBQUMxQixZQUFJLFdBQVksTUFBTSxTQUFTLElBQUssR0FBRyxPQUFPLFVBQVU7QUFDeEQsWUFBSSxVQUFVLFFBQVEsWUFBWSxRQUFRO0FBQzFDLFlBQUksUUFBUSxRQUFRLEtBQUssU0FBUyxLQUFLLFNBQVMsR0FBRztBQUMvQyxjQUFJLEtBQUssVUFBVSxLQUFLLFFBQVEsUUFBUSxLQUFLLE9BQU87QUFFaEQsbUJBQU8sUUFBUSxRQUFRLEtBQUssT0FBTztBQUMvQixrQkFBSSxRQUFRO0FBQ1osaUJBQUc7QUFDQztBQUNBLDJCQUFXLEtBQUssT0FBTyxHQUFHLEtBQUs7QUFDL0IsMEJBQVUsUUFBUSxZQUFZLFFBQVE7QUFBQSxjQUMxQyxTQUFTLFFBQVEsUUFBUSxLQUFLLFNBQVMsUUFBUyxLQUFLLFNBQVM7QUFDOUQ7QUFDQSx5QkFBVyxLQUFLLE9BQU8sR0FBRyxLQUFLO0FBQy9CLG9CQUFNLEtBQUssUUFBUTtBQUNuQixxQkFBTyxLQUFLLE9BQU8sS0FBSztBQUN4QixrQkFBSSxTQUFTO0FBQUc7QUFDaEIsd0JBQVUsUUFBUSxZQUFZLElBQUk7QUFBQSxZQUN0QztBQUNBLGdCQUFJLFFBQVE7QUFBSSxvQkFBTSxLQUFLLElBQUk7QUFBQSxVQUNuQyxPQUFPO0FBQ0gsa0JBQU0sS0FBSyxJQUFJO0FBQ2YsbUJBQU8sR0FBRztBQUFBLFVBQ2Q7QUFBQSxRQUNKLE9BQU87QUFDSCxpQkFBTztBQUFBLFFBQ1g7QUFBQSxNQUNKLENBQUM7QUFFRCxVQUFJLFFBQVE7QUFBSSxjQUFNLEtBQUssSUFBSTtBQUUvQixZQUFNLGFBQWEsTUFBTSxTQUFTO0FBQ2xDLFVBQUksVUFBVTtBQUVkLFVBQUksYUFBYSxLQUFLLFVBQVVBLFFBQU8sYUFBYSxVQUFVO0FBRTFELFlBQUlBLFFBQU8sWUFBWTtBQUFXLFVBQUFBLFFBQU8sVUFBVTtBQUNuRCxjQUFNLFlBQWFBLFFBQU8sY0FBYyxTQUFhQSxRQUFPLFlBQVksS0FBSyxPQUFPLEtBQUs7QUFDekYsZ0JBQVEsWUFBWTtBQUNwQixhQUFLLGdCQUFnQixJQUFJLElBQUksUUFBUSxJQUFJLElBQUksR0FBRyxJQUFJLFFBQVEsQ0FBQztBQUM3RCxnQkFBUSxZQUFZO0FBQ3BCLGNBQU1DLFNBQVEsS0FBSyxTQUFTO0FBQzVCLGNBQU0sY0FBY0EsU0FBUTtBQUM1QixjQUFNLFNBQVMsQ0FBQ0QsUUFBTyxVQUFVQztBQUNqQyxhQUFLLGdCQUFnQixJQUFJLElBQUksUUFBUSxJQUFJLElBQUksSUFBSSxRQUFRLElBQUksYUFBYSxDQUFDO0FBQzNFLGdCQUFRLFlBQVk7QUFDcEIsa0JBQVVELFFBQU87QUFDakIsUUFBQUEsUUFBTyxhQUFhLEtBQUssU0FBUztBQUFBLE1BQ3RDO0FBRUEsVUFBSSxJQUFJLFVBQVUsS0FBSyxJQUFJLFdBQVc7QUFDdEMsVUFBSTtBQUVKLGNBQVEsV0FBVztBQUFBLFFBQ2YsS0FBSztBQUNELGNBQUksS0FBSyxJQUFJLEtBQUssUUFBUTtBQUMxQjtBQUFBLFFBQ0osS0FBSztBQUNELGNBQUksS0FBSyxJQUFJLEtBQUs7QUFDbEI7QUFBQSxRQUNKO0FBQ0ksY0FBSSxLQUFLO0FBQ1Q7QUFBQSxNQUNSO0FBRUEsWUFBTSxRQUFRLENBQUNTLFVBQVM7QUFDcEIsWUFBSyxJQUFJLGFBQWM7QUFBRyxrQkFBUSxTQUFTQSxPQUFNLEdBQUcsQ0FBQztBQUNyRCxhQUFLO0FBQUEsTUFDVCxDQUFDO0FBQUEsSUFDTDtBQUFBLEVBQ0o7OztBQ3ZoQ0E7QUFBQTtBQUFBO0FBQUE7QUFJTyxNQUFNLGFBQU4sY0FBeUIsVUFBVTtBQUFBLElBTXRDLE9BQU8sV0FBVyxRQUFPO0FBQ3JCLGFBQU8sa0JBQW1CLGlCQUFrQjtBQUFBLElBQ2hEO0FBQUEsSUFFQSxPQUFPO0FBQUEsSUFDUDtBQUFBLElBRUEsUUFBUTtBQUNKLFdBQUssU0FBUyxLQUFLLE9BQU8sYUFBYSxlQUFlO0FBQ3RELFdBQUssT0FBTyxpQkFBaUIsS0FBSyxRQUFRLEtBQUssSUFBSSxDQUFDO0FBQ3BELFdBQUssT0FBTyxtQkFBbUIsS0FBSyxVQUFVLEtBQUssSUFBSSxDQUFDO0FBQ3hELFdBQUssT0FBTyxnQkFBZ0IsS0FBSyxPQUFPLEtBQUssSUFBSSxDQUFDO0FBQ2xELFdBQUssT0FBTyxnQkFBZ0IsS0FBSyxPQUFPLEtBQUssSUFBSSxDQUFDO0FBQ2xELFdBQUssT0FBTyxjQUFjLEtBQUssS0FBSyxLQUFLLElBQUksQ0FBQztBQUU5QyxXQUFLLGFBQWEsS0FBSyxPQUFPLGFBQWEsbUJBQW1CLEVBQUMsS0FBSyxpQkFBaUIsU0FBUyxLQUFJLENBQUM7QUFDbkcsV0FBSyxlQUFlLEtBQUssT0FBTyxhQUFhLG1CQUFtQixFQUFDLEtBQUssbUJBQW1CLFNBQVMsS0FBSSxDQUFDO0FBRXZHLGNBQVMsS0FBSyxPQUFPO0FBQUEsUUFDakIsS0FBSztBQUNMLGVBQUssWUFBWTtBQUNqQjtBQUFBLFFBQ0EsS0FBSztBQUNMLGVBQUssYUFBYTtBQUNsQjtBQUFBLFFBQ0EsS0FBSztBQUNMLGVBQUssWUFBWTtBQUNqQjtBQUFBLFFBQ0EsS0FBSztBQUNMLGVBQUssV0FBVztBQUNoQjtBQUFBLFFBQ0EsS0FBSztBQUNMLGVBQUssZUFBZTtBQUNwQjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFFQSxjQUFhO0FBQ1QsWUFBTUMsVUFBUztBQUFBLFFBQ1gsUUFBTztBQUFBLFVBQ0gsTUFBTTtBQUFBLFVBQ04sVUFBUyxFQUFFLEtBQUksRUFBRTtBQUFBLFVBQ2pCLFlBQVk7QUFBQSxVQUNaLFFBQVE7QUFBQSxRQUNaO0FBQUEsUUFDQSxNQUFLO0FBQUEsVUFDRCxNQUFNO0FBQUEsVUFDTixVQUFTLEVBQUUsS0FBSSxHQUFHO0FBQUEsVUFDbEIsUUFBUTtBQUFBO0FBQUEsVUFDUixpQkFBaUI7QUFBQSxVQUNqQixXQUFXO0FBQUEsUUFDZjtBQUFBLFFBQ0EsUUFBTztBQUFBLFVBQ0gsTUFBTTtBQUFBLFVBQ04sVUFBUyxFQUFFLFFBQU8sRUFBRTtBQUFBLFVBQ3BCLFlBQVk7QUFBQSxVQUNaLFFBQVE7QUFBQSxRQUNaO0FBQUEsTUFDSjtBQUVBLFlBQU0sVUFBVTtBQUFBLFFBQ1osUUFBUTtBQUFBLFFBQ1IsTUFBTTtBQUFBLFFBQ04sUUFBUTtBQUFBLE1BQ1o7QUFFQSxXQUFLLEtBQUssSUFBSSxTQUFVLFNBQVNBLFNBQVEsS0FBSyxRQUFRLEtBQUssTUFBTztBQUNsRSxXQUFLLEdBQUcsT0FBTztBQUNmLFVBQUlDLE1BQUssS0FBSztBQUFBLElBQ2xCO0FBQUEsSUFFQSxlQUFjO0FBQ1YsZUFBUyxTQUFRO0FBQ2IsY0FBTSxNQUFNO0FBQ1osZ0JBQVEsSUFBSSxHQUFHO0FBQ2YsUUFBQUEsSUFBRyxjQUFlLFFBQVEsR0FBSTtBQUFBLE1BQ2xDO0FBRUEsZUFBUyxTQUFRO0FBQ2IsY0FBTSxNQUFNO0FBQ1osZ0JBQVEsSUFBSSxHQUFHO0FBQ2YsUUFBQUEsSUFBRyxjQUFlLFFBQVEsR0FBSTtBQUFBLE1BQ2xDO0FBRUEsZUFBUyxTQUFRO0FBQ2IsY0FBTSxNQUFNO0FBQ1osZ0JBQVEsSUFBSSxHQUFHO0FBQ2YsUUFBQUEsSUFBRyxjQUFlLFFBQVEsR0FBSTtBQUFBLE1BQ2xDO0FBRUEsZUFBUyxhQUFZO0FBQ2pCLGNBQU0sTUFBTTtBQUNaLGdCQUFRLElBQUksR0FBRztBQUNmLFFBQUFBLElBQUcsY0FBZSxRQUFRLEdBQUk7QUFBQSxNQUNsQztBQUVBLFlBQU1ELFVBQVM7QUFBQSxRQUNYLFdBQVc7QUFBQSxVQUNQLE9BQU87QUFBQSxVQUNQLFFBQVE7QUFBQSxRQUNaO0FBQUEsUUFDQSxRQUFRO0FBQUEsUUFDUixNQUFNO0FBQUEsVUFDRixNQUFNO0FBQUEsVUFDTixVQUFTLEVBQUUsTUFBTSxHQUFHLEtBQUssRUFBRTtBQUFBLFVBQzNCLE9BQU87QUFBQSxVQUNQLFFBQVE7QUFBQSxVQUNSLGlCQUFpQjtBQUFBLFVBQ2pCLFdBQVc7QUFBQSxRQUNmO0FBQUEsUUFDQSxNQUFNO0FBQUEsVUFDRixNQUFNO0FBQUEsVUFDTixVQUFTLEVBQUUsS0FBSyxJQUFJLE1BQU0sRUFBRTtBQUFBLFVBQzVCLE9BQU87QUFBQSxVQUNQLFdBQVc7QUFBQSxVQUNYLE9BQU87QUFBQSxVQUNQLFVBQVU7QUFBQSxRQUNkO0FBQUEsUUFDQSxNQUFNO0FBQUEsVUFDRixNQUFNO0FBQUEsVUFDTixVQUFTLEVBQUUsS0FBSyxJQUFJLE1BQU0sR0FBRztBQUFBLFVBQzdCLE9BQU87QUFBQSxVQUNQLFdBQVc7QUFBQSxVQUNYLE9BQU87QUFBQSxVQUNQLFVBQVU7QUFBQSxRQUNkO0FBQUEsUUFDQSxNQUFNO0FBQUEsVUFDRixNQUFNO0FBQUEsVUFDTixVQUFTLEVBQUUsS0FBSyxJQUFJLE1BQU0sSUFBSTtBQUFBLFVBQzlCLE9BQU87QUFBQSxVQUNQLFdBQVc7QUFBQSxVQUNYLE9BQU87QUFBQSxVQUNQLFVBQVU7QUFBQSxRQUNkO0FBQUEsUUFDQSxVQUFVO0FBQUEsVUFDTixNQUFNO0FBQUEsVUFDTixVQUFTLEVBQUUsS0FBSyxJQUFJLE9BQU8sR0FBRztBQUFBLFVBQzlCLE9BQU87QUFBQSxVQUNQLFFBQVE7QUFBQSxVQUNSLFdBQVc7QUFBQSxVQUNYLGlCQUFpQjtBQUFBLFVBQ2pCLE9BQU87QUFBQSxVQUNQLFVBQVU7QUFBQSxRQUNkO0FBQUEsTUFDSjtBQUVBLFlBQU0sVUFBVTtBQUFBLFFBQ1osTUFBTTtBQUFBLFFBQ04sTUFBTTtBQUFBLFFBQ04sTUFBTTtBQUFBLFFBQ04sTUFBTTtBQUFBLFFBQ04sVUFBVTtBQUFBLE1BQ2Q7QUFFQSxXQUFLLEtBQUssSUFBSSxTQUFVLFNBQVNBLFNBQVEsS0FBSyxRQUFRLEtBQUssTUFBTztBQUNsRSxXQUFLLEdBQUcsT0FBTztBQUNmLFVBQUlDLE1BQUssS0FBSztBQUFBLElBQ2xCO0FBQUEsSUFFQSxjQUFhO0FBQ1QsWUFBTUQsVUFBUztBQUFBLFFBQ1gsTUFBTTtBQUFBLFVBQ0YsaUJBQWlCO0FBQUEsUUFDckI7QUFBQSxRQUNBLEtBQUs7QUFBQSxVQUNELE1BQU07QUFBQSxVQUNOLFVBQVU7QUFBQSxVQUNWLFVBQVUsRUFBRSxNQUFNLElBQUksS0FBSyxHQUFHO0FBQUEsVUFDOUIsT0FBTztBQUFBLFVBQ1AsUUFBUTtBQUFBLFVBQ1IsaUJBQWlCO0FBQUEsVUFDakIsV0FBVztBQUFBLFFBQ2Y7QUFBQSxNQUNKO0FBRUEsWUFBTSxVQUFVO0FBQUEsUUFDWixLQUFLO0FBQUEsTUFDVDtBQUVBLFdBQUssS0FBSyxJQUFJLFNBQVUsU0FBU0EsU0FBUSxLQUFLLFFBQVEsS0FBSyxNQUFPO0FBQ2xFLFdBQUssR0FBRyxPQUFPO0FBQ2YsVUFBSUMsTUFBSyxLQUFLO0FBQUEsSUFDbEI7QUFBQSxJQUVBLGFBQVk7QUFDUixZQUFNRCxVQUFTO0FBQUEsUUFDWCxPQUFPO0FBQUEsVUFDSCxNQUFNO0FBQUEsVUFDTixVQUFVLEVBQUUsTUFBTSxJQUFJLEtBQUssR0FBRztBQUFBLFVBQzlCLE9BQU87QUFBQSxRQUNYO0FBQUEsUUFDQSxNQUFNO0FBQUEsVUFDRixNQUFNO0FBQUEsVUFDTixVQUFVLEVBQUUsS0FBSyxJQUFJO0FBQUEsUUFDekI7QUFBQSxNQUNKO0FBRUEsWUFBTSxVQUFVO0FBQUEsUUFDWixPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsTUFDVjtBQUdBLFdBQUssS0FBSyxJQUFJLFNBQVUsU0FBU0EsU0FBUSxLQUFLLFFBQVEsS0FBSyxNQUFPO0FBQ2xFLFdBQUssR0FBRyxPQUFPO0FBQ2YsVUFBSUMsTUFBSyxLQUFLO0FBQUEsSUFDbEI7QUFBQSxJQUVBLGlCQUFnQjtBQUNaLGVBQVMsVUFBVyxLQUFLO0FBQ3JCLGdCQUFRLElBQUssb0JBQW9CLEtBQUs7QUFBQSxNQUMxQztBQUVBLGVBQVMsUUFBUyxLQUFLO0FBQ25CLGdCQUFRLElBQUksa0JBQWtCLEtBQUs7QUFBQSxNQUN2QztBQUVBLFlBQU1ELFVBQVM7QUFBQSxRQUNYLFdBQVcsRUFBRSxPQUFPLEdBQUcsUUFBUSxLQUFLO0FBQUEsUUFDcEMsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFVBQ0wsTUFBTTtBQUFBLFVBQ04sVUFBVSxFQUFFLE1BQU0sSUFBSSxLQUFLLEVBQUU7QUFBQSxVQUM3QixRQUFRO0FBQUEsVUFDUixPQUFPO0FBQUEsVUFDUCxpQkFBaUI7QUFBQSxVQUNqQixXQUFXO0FBQUEsVUFDWDtBQUFBLFVBQ0E7QUFBQSxRQUNKO0FBQUEsUUFDQSxPQUFPO0FBQUEsVUFDSCxNQUFNO0FBQUEsVUFDTixVQUFVLEVBQUUsS0FBSyxHQUFHO0FBQUEsUUFDeEI7QUFBQSxNQUNKO0FBRUEsWUFBTSxVQUFVO0FBQUEsUUFDWixTQUFTO0FBQUEsUUFDVCxPQUFPO0FBQUEsTUFDWDtBQUVBLFdBQUssS0FBSyxJQUFJLFNBQVUsU0FBU0EsU0FBUSxLQUFLLFFBQVEsS0FBSyxNQUFPO0FBRWxFLFlBQU0sU0FBUyxLQUFLLEdBQUcsU0FBUyxPQUFPLGFBQWEsZUFBZTtBQUNuRSxhQUFPLGlCQUFpQixLQUFLLGdCQUFnQixLQUFLLElBQUksQ0FBQztBQUN2RCxhQUFPLG1CQUFtQixLQUFLLGtCQUFrQixLQUFLLElBQUksQ0FBQztBQUMzRCxhQUFPLGdCQUFnQixLQUFLLGVBQWUsS0FBSyxJQUFJLENBQUM7QUFDckQsYUFBTyxnQkFBZ0IsS0FBSyxPQUFPLEtBQUssSUFBSSxDQUFDO0FBQzdDLGFBQU8sY0FBYyxLQUFLLGFBQWEsS0FBSyxJQUFJLENBQUM7QUFFakQsV0FBSyxHQUFHLE9BQU87QUFDZixVQUFJQyxNQUFLLEtBQUs7QUFBQSxJQUNsQjtBQUFBLElBRUEsUUFBUSxHQUFHLFFBQVE7QUFFZixVQUFJLEtBQUssSUFBRztBQUNSLGNBQU0sS0FBSyxLQUFLLEdBQUcsY0FBYyxPQUFPLFNBQVM7QUFDakQsYUFBSyxHQUFHLE1BQU0sR0FBRyxFQUFFO0FBQUEsTUFDdkI7QUFFQSxVQUFHLE9BQU8sUUFBUSxpQkFBaUI7QUFDL0IsYUFBSyxPQUFPLEdBQUcsTUFBTTtBQUFBLE1BQ3pCO0FBRUEsV0FBSyxlQUFlLE9BQU8sUUFBUSxLQUFLLEVBQUU7QUFBQSxJQUM5QztBQUFBLElBRUEsT0FBTyxHQUFHLFFBQVE7QUFDZCxVQUFJLEtBQUssSUFBRztBQUNSLGNBQU0sS0FBSyxLQUFLLEdBQUcsY0FBYyxPQUFPLFNBQVM7QUFDakQsYUFBSyxHQUFHLE1BQU0sR0FBRyxFQUFFO0FBQUEsTUFDdkI7QUFFQSxXQUFLLGVBQWUsT0FBTyxRQUFRLEtBQUssRUFBRTtBQUFBLElBQzlDO0FBQUEsSUFFQSxPQUFPLEdBQUcsUUFBUTtBQUNkLGNBQVEsSUFBSSxRQUFRO0FBQ3BCLFdBQUssV0FBVyxLQUFLO0FBRXJCLFdBQUssZUFBZSxPQUFPLFFBQVEsR0FBSyxFQUFFO0FBQUEsSUFDOUM7QUFBQSxJQUVBLEtBQUssR0FBRyxRQUFRO0FBQ1osY0FBUSxJQUFJLE1BQU07QUFDbEIsV0FBSyxhQUFhLEtBQUs7QUFFdkIsVUFBSSxLQUFLO0FBQUksYUFBSyxHQUFHLE9BQVEsR0FBRyxJQUFLO0FBRXJDLFdBQUssZUFBZSxPQUFPLFFBQVEsS0FBSyxFQUFFO0FBQUEsSUFDOUM7QUFBQSxJQUVBLFVBQVUsR0FBRyxRQUFRO0FBQ2pCLGNBQVEsSUFBSSxXQUFXO0FBRXZCLFVBQUksS0FBSztBQUFJLGFBQUssR0FBRyxNQUFNLENBQUM7QUFFNUIsV0FBSyxlQUFlLE9BQU8sUUFBUSxLQUFLLEVBQUU7QUFBQSxJQUM5QztBQUFBLElBRUEsZ0JBQWdCLEdBQUcsUUFBUTtBQUV2QixVQUFJLENBQUMsS0FBSyxNQUFNLENBQUMsS0FBSyxHQUFHLFlBQVksQ0FBQyxLQUFLLEdBQUcsU0FBUztBQUFVO0FBRWpFLFlBQU1BLE1BQUssS0FBSyxHQUFHLFNBQVM7QUFDNUIsWUFBTSxLQUFLQSxJQUFHLGNBQWMsT0FBTyxTQUFTO0FBQzVDLE1BQUFBLElBQUcsTUFBTSxHQUFHLEVBQUU7QUFFZCxVQUFHLE9BQU8sUUFBUSxpQkFBaUI7QUFDL0IsYUFBSyxPQUFPLEdBQUcsTUFBTTtBQUFBLE1BQ3pCO0FBRUEsV0FBSyxlQUFlLE9BQU8sUUFBUSxLQUFLLEVBQUU7QUFBQSxJQUM5QztBQUFBLElBRUEsZUFBZSxHQUFHLFFBQVE7QUFDdEIsVUFBSSxDQUFDLEtBQUssTUFBTSxDQUFDLEtBQUssR0FBRyxZQUFZLENBQUMsS0FBSyxHQUFHLFNBQVM7QUFBVTtBQUVqRSxZQUFNQSxNQUFLLEtBQUssR0FBRyxTQUFTO0FBQzVCLFlBQU0sS0FBS0EsSUFBRyxjQUFjLE9BQU8sU0FBUztBQUM1QyxNQUFBQSxJQUFHLE1BQU0sR0FBRyxFQUFFO0FBRWQsV0FBSyxlQUFlLE9BQU8sUUFBUSxLQUFLLEVBQUU7QUFBQSxJQUM5QztBQUFBLElBRUEsYUFBYSxHQUFHLFFBQVM7QUFDckIsY0FBUSxJQUFJLGNBQWM7QUFDMUIsV0FBSyxhQUFhLEtBQUs7QUFFdkIsVUFBSSxLQUFLLE1BQU0sS0FBSyxHQUFHLFlBQVksS0FBSyxHQUFHLFNBQVM7QUFBVSxhQUFLLEdBQUcsU0FBUyxTQUFTLE9BQU8sQ0FBQztBQUVoRyxXQUFLLGVBQWUsT0FBTyxRQUFRLEtBQUssRUFBRTtBQUFBLElBQzlDO0FBQUEsSUFFQSxrQkFBa0IsR0FBRyxRQUFRO0FBQ3pCLGNBQVEsSUFBSSxtQkFBbUI7QUFFL0IsVUFBSSxLQUFLLE1BQU0sS0FBSyxHQUFHLFlBQVksS0FBSyxHQUFHLFNBQVM7QUFBVSxhQUFLLEdBQUcsU0FBUyxTQUFTLE1BQU0sQ0FBQztBQUUvRixXQUFLLGVBQWUsT0FBTyxRQUFRLEtBQUssRUFBRTtBQUFBLElBQzlDO0FBQUEsSUFFQSxlQUFlLFFBQVEsVUFBVSxVQUFVO0FBQ3ZDLFlBQU0sUUFBUSxPQUFPLGFBQWEsT0FBTztBQUN6QyxVQUFHLFNBQVMsTUFBTSxlQUFlO0FBQzdCLGNBQU0sVUFBVSxNQUFNLGNBQWM7QUFDcEMsWUFBRyxXQUFXLFFBQVE7QUFBaUIsa0JBQVEsZ0JBQWdCLENBQUMsRUFBRSxNQUFNLFVBQVUsUUFBUTtBQUFBLE1BQzlGO0FBQUEsSUFDSjtBQUFBLElBRUEsT0FBTyxJQUFJO0FBRVAsVUFBSSxLQUFLO0FBQUksYUFBSyxHQUFHLE9BQU87QUFBQSxJQUNoQztBQUFBLEVBQ0o7QUF4V0ksZ0JBRFMsWUFDRixZQUFXO0FBQ2xCLGdCQUZTLFlBRUYsY0FBYTtBQUFBLElBQ2hCLE9BQU8sU0FBUyxLQUFLLENBQUMsVUFBVSxXQUFXLGFBQWEsVUFBVSxZQUFZLEdBQUcsUUFBUTtBQUFBLEVBQzdGOzs7QUNSSjtBQUFBO0FBQUE7QUFBQTtBQUtPLE1BQU0sV0FBTixjQUF1QixVQUFVO0FBQUEsSUFRcEMsUUFBUTtBQUNKLGNBQVEsSUFBSSxzQkFBc0IsS0FBSyxLQUFLO0FBQUEsSUFDaEQ7QUFBQSxJQUVBLE9BQU87QUFDSCxXQUFLLFNBQVM7QUFDZCxXQUFLLFNBQVM7QUFDZCxXQUFLLE9BQU87QUFDWixXQUFLLElBQUk7QUFDVCxXQUFLLElBQUk7QUFDVCxXQUFLLElBQUk7QUFBQSxJQUNiO0FBQUEsSUFJQSxPQUFPLElBQUk7QUF1QlAsV0FBSyxVQUFVO0FBQ2YsVUFBSSxJQUFJLElBQUksYUFBYSxDQUFDO0FBRTFCLFVBQUksS0FBSyxTQUFTLEtBQUssVUFBVTtBQUU3QixZQUFJLEtBQUssT0FBTyxLQUFJO0FBQ2hCLGVBQUssS0FBSztBQUNWLGVBQUssS0FBSztBQUNWLGVBQUssS0FBSztBQUNWLGVBQUssUUFBUTtBQUNiLGdCQUFNLE1BQU07QUFDWixnQkFBTSxnQkFBZ0I7QUFDdEIsZ0JBQU0sZUFBZTtBQUFBLFFBQ3pCLE9BQ0s7QUFFRCxlQUFLLFVBQVU7QUFDZixjQUFJLEtBQUssU0FBUyxLQUFLLFlBQVk7QUFDL0IsaUJBQUssS0FBSztBQUNWLGlCQUFLLEtBQUs7QUFDVixpQkFBSyxLQUFLO0FBQ1Ysa0JBQU0sTUFBTTtBQUNaLGtCQUFNLGVBQWU7QUFDckIsa0JBQU0sZ0JBQWdCO0FBQUEsVUFDMUI7QUFFQSxjQUFJLEtBQUssS0FBSyxHQUFHO0FBQ2Isb0JBQVEsSUFBSSxVQUFVO0FBQ3RCLGtCQUFNLFFBQVE7QUFDZCxpQkFBSyxPQUFPO0FBQ1osaUJBQUssU0FBUztBQUNkLGlCQUFLLFNBQVM7QUFBQSxVQUNsQjtBQUFBLFFBQ0o7QUFFQSxZQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDM0IsYUFBSyxPQUFPLGFBQWEsT0FBTyxFQUFFLFNBQVMsQ0FBQztBQUFBLE1BQ2hEO0FBQUEsSUFFSjtBQUFBLEVBQ0o7QUFyRkksZ0JBRFMsVUFDRixZQUFXO0FBRWxCO0FBQUEsZ0JBSFMsVUFHRixjQUFhO0FBQUEsSUFDaEIsVUFBVSxFQUFFLE1BQU0sS0FBSyxLQUFLLFNBQVMsRUFBRTtBQUFBLElBQ3ZDLFlBQVksRUFBRSxNQUFNLEtBQUssS0FBSyxTQUFTLEVBQUU7QUFBQSxFQUM3Qzs7O0FDWEo7QUFBQTtBQUFBO0FBQUE7QUF5QkEsTUFBSSxTQUFTLElBQUksYUFBYSxDQUFDO0FBRXhCLE1BQU0sZ0JBQU4sY0FBNEIsVUFBVTtBQUFBLElBTXpDLE9BQU87QUFDSCxXQUFLLE1BQU0sSUFBSSxhQUFhLENBQUM7QUFDN0IsV0FBSyxXQUFXLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDeEIsV0FBSyxPQUFPLGlCQUFpQixLQUFLLFFBQVE7QUFDMUMsV0FBSyxpQkFBaUIsS0FBSyxRQUFRO0FBRW5DLFdBQUssWUFBWSxLQUFLLE9BQU8sYUFBYSxhQUFhLENBQUM7QUFDeEQsVUFBSSxDQUFDLEtBQUssV0FBVztBQUNqQixnQkFBUTtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssT0FBTztBQUFBLFVBQ1o7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxJQUNBLE9BQU8sSUFBSTtBQUVQLFdBQUssT0FBTyxpQkFBaUIsS0FBSyxRQUFRO0FBRTFDLFVBQUksS0FBSyxTQUFTLENBQUMsS0FBSyxNQUFNLGNBQWMsS0FBSyxVQUFVLFFBQVEsQ0FBQyxHQUFHO0FBQ25FLGFBQUssY0FBYyxDQUFDO0FBQ3BCO0FBQUEsTUFDSjtBQUVBLFVBQUksYUFBSyxPQUFPLEtBQUssUUFBUSxJQUFJLEtBQUs7QUFDbEMsYUFBSyxjQUFjLENBQUM7QUFDcEI7QUFBQSxNQUNKO0FBRUEsYUFBTyxJQUFJLEtBQUssR0FBRztBQUNuQixtQkFBSyxNQUFNLFFBQVEsUUFBUSxLQUFLLGNBQWM7QUFDOUMsbUJBQUssSUFBSSxLQUFLLFVBQVUsS0FBSyxVQUFVLE1BQU07QUFDN0MsV0FBSyxPQUFPLGlCQUFpQixLQUFLLFFBQVE7QUFFMUMsVUFBSSxXQUFXLEtBQUssVUFBVSxjQUFjO0FBQzVDLGVBQVMsSUFBSSxHQUFHLElBQUksU0FBUyxRQUFRLEVBQUUsR0FBRztBQUN0QyxZQUFJLElBQUksU0FBUyxDQUFDLEVBQUUsT0FBTyxhQUFhLGVBQWU7QUFDdkQsWUFBSSxLQUFLLENBQUMsS0FBSyxRQUFRO0FBQ25CLFlBQUUsTUFBTTtBQUNSLGVBQUssY0FBYyxDQUFDO0FBQ3BCO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFDQSxjQUFjLE1BQU07QUFDaEIsVUFBSSxRQUFRLEdBQUc7QUFDWCxhQUFLLE9BQU8sUUFBUTtBQUFBLE1BQ3hCLE9BQU87QUFDSCxtQkFBVyxNQUFNO0FBQ2IsZUFBSyxPQUFPLFFBQVE7QUFBQSxRQUN4QixHQUFHLElBQUk7QUFBQSxNQUNYO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUExREksZ0JBRFMsZUFDRixZQUFXO0FBQ2xCLGdCQUZTLGVBRUYsY0FBYTtBQUFBLElBQ2hCLE9BQU8sRUFBRSxNQUFNLEtBQUssT0FBTyxTQUFTLEVBQUk7QUFBQSxFQUM1Qzs7O0FDL0JKO0FBQUE7QUFBQTtBQUFBO0FBb0JBLE1BQU1DLGFBQVksSUFBSSxhQUFhLENBQUM7QUFFN0IsTUFBTSxnQkFBTixjQUE0QixVQUFVO0FBQUEsSUFRekMsT0FBTyxXQUFXLFFBQVE7QUFDdEIsYUFBTyxrQkFBa0IsYUFBYTtBQUFBLElBRTFDO0FBQUEsSUFFQSxPQUFPO0FBQ0gsWUFBTSxTQUFTLFNBQVUsS0FBSztBQUMxQixZQUFJLFNBQVMsS0FBSyxZQUFZO0FBQzlCLGVBQU8sT0FBTyxrQkFBa0IsS0FBSyxPQUFPLGtCQUFrQkEsVUFBUyxDQUFDO0FBQ3hFLGVBQU8sT0FBTyxTQUFTO0FBQ3ZCLGVBQU8sUUFBUSxJQUFJLElBQUksR0FBRztBQUMxQixlQUFPLFFBQVEsU0FBUztBQUN4QixlQUFPLFFBQVEsU0FBUztBQUFBLE1BQzVCLEVBQUUsS0FBSyxJQUFJO0FBQUEsSUFDZjtBQUFBLElBRUEsUUFBUTtBQUNKLFdBQUssT0FBTyxpQkFBaUIsSUFBSSxLQUFLLGVBQWUsS0FBSyxJQUFJLENBQUM7QUFDL0QsV0FBSyxRQUFRLElBQUksYUFBYSxDQUFDO0FBRS9CLFdBQUssVUFBVSxDQUFDO0FBQ2hCLFdBQUssWUFBWTtBQUNqQixXQUFLLGVBQWU7QUFFcEIsWUFBTSxnQkFBZ0IsS0FBSztBQUMzQixXQUFLLGFBQWEsS0FBSyxPQUFPLGFBQWEsbUJBQW1CO0FBQUEsUUFDMUQsUUFBUTtBQUFBLE1BQ1osQ0FBQztBQUFBLElBQ0w7QUFBQSxJQUVBLFlBQVksR0FBRztBQUVYLFVBQUksRUFBRSxZQUFZLGNBQWMsU0FBVTtBQUV0QyxZQUFJLGNBQWMsS0FBSyxJQUFJO0FBQzNCLFlBQUksa0JBQWtCLEtBQUssSUFBSSxjQUFjLEtBQUssWUFBWTtBQUU5RCxZQUFJLGtCQUFrQixLQUFLO0FBQ3ZCLGdCQUFNLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUNwQixlQUFLLE9BQU8sYUFBYSxRQUFRLEVBQUUsZ0JBQWdCLFdBQVcsR0FBRztBQUVqRSxnQkFBTSxPQUFPLEdBQUc7QUFDaEIsZUFBSyxlQUFlO0FBQUEsUUFDeEI7QUFBQSxNQUNKO0FBQUEsSUFFSjtBQUFBLElBRUEsY0FBYztBQUNWLFlBQU0sTUFBTSxLQUFLLE9BQU8sTUFBTSxVQUFVO0FBQ3hDLFVBQUksV0FBVyxDQUFDLE1BQU0sTUFBTSxJQUFJLENBQUM7QUFFakMsVUFBSSxhQUFhLFFBQVE7QUFBQSxRQUNyQixNQUFNLEtBQUssV0FBVztBQUFBLFFBQ3RCLFVBQVUsS0FBSyxlQUFlO0FBQUEsTUFDbEMsQ0FBQztBQUNELFVBQUksYUFBYSxhQUFhO0FBQUEsUUFDMUIsT0FBTyxHQUFHLFNBQVM7QUFBQSxRQUNuQixTQUFTLENBQUMsTUFBTSxHQUFHLENBQUM7QUFBQSxRQUNwQixPQUFPLEtBQUs7QUFBQSxNQUNoQixDQUFDO0FBRUQsWUFBTSxVQUFVLElBQUksYUFBYSxlQUFlO0FBQUEsUUFDNUMsT0FBTyxLQUFLO0FBQUEsTUFDaEIsQ0FBQztBQUNELGNBQVEsU0FBUztBQUVqQixhQUFPO0FBQUEsUUFDSCxRQUFRO0FBQUEsUUFDUjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUE7QUFBQSxJQUlBLGFBQWE7QUFDVCxVQUFJLENBQUMsS0FBSyxPQUFPO0FBQUk7QUFDckIsV0FBSyxPQUFPLEdBQUcsUUFBUTtBQUFBLFFBQ25CO0FBQUEsUUFBZSxLQUFLLFlBQVksS0FBSyxJQUFJO0FBQUEsTUFBQztBQUFBLElBQ2xEO0FBQUEsSUFFQSxlQUFlLFNBQVM7QUFDcEIsVUFBSSxDQUFDLEtBQUs7QUFBUTtBQUNsQixjQUFRLGlCQUFpQixlQUFlLEtBQUssWUFBWSxLQUFLLElBQUksQ0FBQztBQUFBLElBQ3ZFO0FBQUEsRUFFSjtBQTdGSSxnQkFEUyxlQUNGLFlBQVc7QUFDbEIsZ0JBRlMsZUFFRixjQUFhO0FBQUEsSUFDaEIsWUFBWSxFQUFFLE1BQU0sS0FBSyxLQUFLO0FBQUEsSUFDOUIsZ0JBQWdCLEVBQUUsTUFBTSxLQUFLLFNBQVM7QUFBQSxJQUN0QyxhQUFhLEVBQUUsTUFBTSxLQUFLLE9BQU8sU0FBUyxFQUFJO0FBQUEsRUFDbEQ7OztBQzVCSjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVU8sV0FBUyxlQUFlLFFBQVEsVUFBVSxVQUFVO0FBQ3ZELFVBQU0sUUFBUSxPQUFPLGFBQWEsY0FBYztBQUNoRCxRQUFJLFNBQVMsTUFBTSxlQUFlO0FBQzlCLFlBQU0sVUFBVSxNQUFNLGNBQWM7QUFDcEMsVUFBSSxXQUFXLFFBQVE7QUFDbkIsZ0JBQVEsZ0JBQWdCLENBQUMsRUFBRSxNQUFNLFVBQVUsUUFBUTtBQUFBLElBQzNEO0FBQUEsRUFDSjtBQWNPLE1BQU0sa0JBQU4sY0FBOEIsVUFBVTtBQUFBLElBUzNDLE9BQU8sV0FBVyxRQUFRO0FBQ3RCLGFBQU8sa0JBQWtCLGlCQUFpQjtBQUMxQyxhQUFPLGtCQUFrQixZQUFZO0FBQUEsSUFDekM7QUFBQTtBQUFBLElBR0EsWUFBWSxJQUFJLGFBQWEsQ0FBQztBQUFBLElBRTlCLFFBQVE7QUFDSixXQUFLLE9BQU8sS0FBSyxpQkFBaUIsYUFBYSxhQUFhO0FBQzVELFdBQUssa0JBQWtCLEtBQUssS0FBSztBQUNqQyxXQUFLLGlCQUFpQixvQkFBb0IsS0FBSyxTQUFTO0FBRXhELFdBQUssU0FDRCxLQUFLLE9BQU8sYUFBYSxZQUFZLEtBQ3JDLEtBQUssT0FBTyxhQUFhLFlBQVk7QUFFekMsV0FBSyxhQUFhLEtBQUssT0FBTyxhQUFhLG1CQUFtQjtBQUFBLFFBQzFELEtBQUs7QUFBQSxRQUNMLFNBQVM7QUFBQSxNQUNiLENBQUM7QUFDRCxXQUFLLGVBQWUsS0FBSyxPQUFPLGFBQWEsbUJBQW1CO0FBQUEsUUFDNUQsS0FBSztBQUFBLFFBQ0wsU0FBUztBQUFBLE1BQ2IsQ0FBQztBQUFBLElBQ0w7QUFBQSxJQUVBLGFBQWE7QUFDVCxXQUFLLE9BQU8sUUFBUSxJQUFJLEtBQUssT0FBTztBQUNwQyxXQUFLLE9BQU8sVUFBVSxJQUFJLEtBQUssU0FBUztBQUN4QyxXQUFLLE9BQU8sT0FBTyxJQUFJLEtBQUssTUFBTTtBQUNsQyxXQUFLLE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSTtBQUFBLElBQ2xDO0FBQUEsSUFFQSxlQUFlO0FBQ1gsV0FBSyxPQUFPLFFBQVEsT0FBTyxLQUFLLE9BQU87QUFDdkMsV0FBSyxPQUFPLFVBQVUsT0FBTyxLQUFLLFNBQVM7QUFDM0MsV0FBSyxPQUFPLE9BQU8sT0FBTyxLQUFLLE1BQU07QUFDckMsV0FBSyxPQUFPLEtBQUssT0FBTyxLQUFLLElBQUk7QUFBQSxJQUNyQztBQUFBO0FBQUEsSUFHQSxVQUFVLENBQUMsR0FBRyxXQUFXO0FBQ3JCLFdBQUssS0FBSyxXQUFXLEtBQUs7QUFDMUIsVUFBSSxPQUFPLFNBQVMsaUJBQWlCO0FBQ2pDLGFBQUssT0FBTyxHQUFHLE1BQU07QUFBQSxNQUN6QjtBQUVBLHFCQUFlLE9BQU8sUUFBUSxLQUFLLEVBQUU7QUFBQSxJQUN6QztBQUFBO0FBQUEsSUFHQSxTQUFTLENBQUMsR0FBRyxXQUFXO0FBQ3BCLFdBQUssV0FBVyxLQUFLO0FBQ3JCLFdBQUssaUJBQWlCLFVBQVUsQ0FBQyxHQUFLLE1BQU0sQ0FBRyxDQUFDO0FBQ2hELHFCQUFlLE9BQU8sUUFBUSxHQUFLLEVBQUU7QUFBQSxJQUN6QztBQUFBO0FBQUEsSUFHQSxPQUFPLENBQUMsR0FBRyxXQUFXO0FBQ2xCLFdBQUssYUFBYSxLQUFLO0FBQ3ZCLFdBQUssaUJBQWlCLG9CQUFvQixLQUFLLFNBQVM7QUFDeEQscUJBQWUsT0FBTyxRQUFRLEtBQUssRUFBRTtBQUFBLElBQ3pDO0FBQUE7QUFBQSxJQUdBLFlBQVksQ0FBQyxHQUFHLFdBQVc7QUFDdkIsV0FBSyxLQUFLLFdBQVcsS0FBSztBQUMxQixVQUFJLE9BQU8sU0FBUyxpQkFBaUI7QUFDakMsYUFBSyxLQUFLLEdBQUcsTUFBTTtBQUFBLE1BQ3ZCO0FBRUEscUJBQWUsT0FBTyxRQUFRLEtBQUssRUFBRTtBQUFBLElBQ3pDO0FBQUEsRUFDSjtBQWxGSSxnQkFEUyxpQkFDRixZQUFXO0FBQ2xCLGdCQUZTLGlCQUVGLGNBQWE7QUFBQTtBQUFBLElBRWhCLGtCQUFrQixTQUFTLE9BQU87QUFBQTtBQUFBLElBRWxDLGVBQWUsU0FBUyxTQUFTO0FBQUEsRUFDckM7OztBQ3RDSjtBQUFBO0FBQUE7QUFBQTs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUE2Qk8sTUFBTSxtQkFBTixjQUErQixVQUFVO0FBQUEsSUFZNUMsT0FBTztBQUNILFdBQUssV0FBVyxLQUFLLFdBQVcsU0FBUyxLQUFLLFNBQVUsR0FBRyxHQUFHO0FBQzFELGVBQU8sRUFBRSxLQUFLLGNBQWMsRUFBRSxJQUFJO0FBQUEsTUFDdEMsQ0FBQztBQUNELFdBQUssWUFBWSxJQUFJLE1BQU0sS0FBSyxTQUFTLE1BQU07QUFDL0MsZUFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLFNBQVMsUUFBUSxLQUFLO0FBQzNDLGFBQUssVUFBVSxDQUFDLElBQUksSUFBSSxhQUFhLENBQUM7QUFDdEMsYUFBSyxTQUFTLENBQUMsRUFBRSxvQkFBb0IsS0FBSyxVQUFVLENBQUMsQ0FBQztBQUFBLE1BQzFEO0FBQ0EsV0FBSyx1QkFBdUI7QUFDNUIsV0FBSyxrQkFBa0IsSUFBSSxhQUFhLENBQUM7QUFDekMsV0FBSyxlQUFlLElBQUksYUFBYSxDQUFDO0FBQ3RDLFdBQUssZUFBZSxLQUFLLFVBQVUsQ0FBQztBQUNwQyxXQUFLLGFBQWEsS0FBSyxVQUFVLENBQUM7QUFDbEMsbUJBQUssSUFBSSxLQUFLLGlCQUFpQixLQUFLLFlBQVksS0FBSyxZQUFZO0FBQ2pFLFdBQUssZUFBZSxhQUFLLE9BQU8sS0FBSyxlQUFlO0FBQ3BELFdBQUssZ0JBQWdCO0FBQ3JCLFdBQUssS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQ2xCLFdBQUssT0FBTyxJQUFJLGFBQWEsQ0FBQztBQUM5QixNQUFBQyxRQUFPLEtBQUssTUFBTSxLQUFLLGNBQWMsS0FBSyxZQUFZLEtBQUssRUFBRTtBQUM3RCxXQUFLLE9BQU8seUJBQXlCO0FBQ3JDLFdBQUssT0FBTyxPQUFPLEtBQUssSUFBSTtBQUM1QixXQUFLLE9BQU8sb0JBQW9CLEtBQUssWUFBWTtBQUVqRCxXQUFLLEtBQUssSUFBSSxhQUFhLENBQUM7QUFDNUIsV0FBSyxLQUFLLElBQUksYUFBYSxDQUFDO0FBQzVCLFdBQUssS0FBSyxJQUFJLGFBQWEsQ0FBQztBQUM1QixXQUFLLG9CQUFvQjtBQUN6QixXQUFLLGdCQUFnQixLQUFLLElBQUksR0FBSyxLQUFLLElBQUksU0FBUyxLQUFLLGFBQWEsQ0FBQztBQUN4RSxXQUFLLHlCQUF5QixLQUFLLElBQUksS0FBSztBQUU1QyxXQUFLLGtDQUFrQyxDQUFDO0FBQUEsSUFDNUM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBTUEsa0NBQWtDLEdBQUc7QUFDakMsV0FBSyxnQ0FBZ0MsS0FBSyxDQUFDO0FBQUEsSUFDL0M7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBTUEscUNBQXFDLEdBQUc7QUFDcEMsWUFBTSxRQUFRLE1BQU0sUUFBUSxDQUFDO0FBQzdCLFVBQUksUUFBUSxJQUFJO0FBQ1osYUFBSyxnQ0FBZ0MsT0FBTyxPQUFPLENBQUM7QUFBQSxNQUN4RDtBQUFBLElBQ0o7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUtBLGtCQUFrQjtBQVFkLG1CQUFLO0FBQUEsUUFDRCxLQUFLO0FBQUEsUUFDTCxLQUFLLFVBQVUsS0FBSyxpQkFBaUI7QUFBQSxRQUNyQyxLQUFLLFVBQVUsS0FBSyxvQkFBb0IsQ0FBQztBQUFBLE1BQzdDO0FBQ0EsbUJBQUssTUFBTSxLQUFLLGlCQUFpQixLQUFLLGlCQUFpQixLQUFLLGFBQWE7QUFDekUsbUJBQUssSUFBSSxLQUFLLElBQUksS0FBSyxVQUFVLEtBQUssb0JBQW9CLENBQUMsR0FBRyxLQUFLLGVBQWU7QUFFbEYsV0FBSyxLQUFLLEtBQUssVUFBVSxLQUFLLG9CQUFvQixDQUFDO0FBRW5ELG1CQUFLO0FBQUEsUUFDRCxLQUFLO0FBQUEsUUFDTCxLQUFLLFVBQVUsS0FBSyxvQkFBb0IsQ0FBQztBQUFBLFFBQ3pDLEtBQUssVUFBVSxLQUFLLG9CQUFvQixDQUFDO0FBQUEsTUFDN0M7QUFDQSxtQkFBSyxNQUFNLEtBQUssaUJBQWlCLEtBQUssaUJBQWlCLEtBQUssYUFBYTtBQUN6RSxtQkFBSyxJQUFJLEtBQUssSUFBSSxLQUFLLFVBQVUsS0FBSyxvQkFBb0IsQ0FBQyxHQUFHLEtBQUssZUFBZTtBQUFBLElBQ3RGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQU1BLGNBQWMsWUFBWTtBQUN0QixXQUFLLGFBQWE7QUFDbEIsV0FBSyxXQUFXLEtBQUssV0FBVyxTQUFTLEtBQUssU0FBVSxHQUFHLEdBQUc7QUFDMUQsZUFBTyxFQUFFLEtBQUssY0FBYyxFQUFFLElBQUk7QUFBQSxNQUN0QyxDQUFDO0FBQ0QsV0FBSyxZQUFZLElBQUksTUFBTSxLQUFLLFNBQVMsTUFBTTtBQUMvQyxlQUFTLElBQUksR0FBRyxJQUFJLEtBQUssU0FBUyxRQUFRLEtBQUs7QUFDM0MsYUFBSyxVQUFVLENBQUMsSUFBSSxJQUFJLGFBQWEsQ0FBQztBQUN0QyxhQUFLLFNBQVMsQ0FBQyxFQUFFLG9CQUFvQixLQUFLLFVBQVUsQ0FBQyxDQUFDO0FBQUEsTUFDMUQ7QUFDQSxXQUFLLHVCQUF1QjtBQUM1QixXQUFLLG9CQUFvQjtBQUN6QixXQUFLLGdCQUFnQjtBQUNyQixXQUFLLGdCQUFnQjtBQUVyQixXQUFLLGVBQWUsS0FBSyxVQUFVLENBQUM7QUFDcEMsV0FBSyxhQUFhLEtBQUssVUFBVSxDQUFDO0FBQ2xDLG1CQUFLLElBQUksS0FBSyxpQkFBaUIsS0FBSyxZQUFZLEtBQUssWUFBWTtBQUNqRSxXQUFLLGVBQWUsYUFBSyxPQUFPLEtBQUssZUFBZTtBQUFBLElBQ3hEO0FBQUEsSUFFQSxPQUFPLElBQUk7QUFDUCxXQUFLLGlCQUFpQixLQUFLLEtBQUs7QUFDaEMsV0FBSyxPQUFPLFVBQVU7QUFFdEIsVUFBSSxTQUFTLEtBQUssZ0JBQWdCLEtBQUs7QUFFdkMsVUFBSSxTQUFTLE9BQU8sS0FBSyx3QkFBd0IsS0FBSyxVQUFVLFNBQVMsR0FBRztBQUN4RSxhQUFLLHNCQUFzQjtBQUFBLE1BQy9CO0FBRUEsVUFDSSxLQUFLLElBQUksU0FBUyxLQUFLLE1BQU0sTUFBTSxDQUFDLElBQUksS0FBSyxpQkFDN0MsRUFBRSxLQUFLLHdCQUF3QixLQUFLLFNBQVMsU0FBUyxLQUFLLFNBQVMsUUFDcEUsRUFBRSxLQUFLLHdCQUF3QixLQUFLLFNBQVMsTUFDL0M7QUFFRSxZQUFJLGFBQ0MsU0FBUyxLQUFLLE1BQU0sTUFBTSxJQUFJLEtBQUssaUJBQ3BDLEtBQUs7QUFDVCxxQkFBSztBQUFBLFVBQ0QsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0w7QUFBQSxRQUNKO0FBRUEscUJBQUs7QUFBQSxVQUNELEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLFlBQVk7QUFBQSxRQUNoQjtBQUFBLE1BQ0osT0FBTztBQUNILFlBQ0ksS0FBSyx1QkFDTCxTQUFTLE9BQ1QsU0FBUyxLQUFLLGlCQUNkLEtBQUsscUJBQXFCLEtBQUssVUFBVSxTQUFTLEdBQ3BEO0FBQ0UsZUFBSztBQUNMLGVBQUssc0JBQXNCO0FBQUEsUUFDL0I7QUFDQSxxQkFBSyxLQUFLLEtBQUssaUJBQWlCLEtBQUssY0FBYyxLQUFLLFlBQVksTUFBTTtBQUUxRSxxQkFBSyxLQUFLLEtBQUssY0FBYyxLQUFLLGNBQWMsS0FBSyxZQUFZLFNBQVMsSUFBSTtBQUFBLE1BQ2xGO0FBR0EsV0FBSyxPQUFPLHlCQUF5QjtBQUNyQyxNQUFBQSxRQUFPLEtBQUssTUFBTSxLQUFLLGlCQUFpQixLQUFLLGNBQWMsS0FBSyxFQUFFO0FBQ2xFLFdBQUssT0FBTyxPQUFPLEtBQUssSUFBSTtBQUM1QixXQUFLLE9BQU8sb0JBQW9CLEtBQUssZUFBZTtBQUdwRCxVQUFJLEtBQUssZ0JBQWdCLEtBQUssY0FBYztBQUN4QyxhQUFLLFFBQVE7QUFDYixhQUFLO0FBRUwsWUFBSSxLQUFLLHdCQUF3QixLQUFLLFNBQVMsU0FBUyxHQUFHO0FBQ3ZELGVBQUssT0FBTyxFQUFFO0FBQ2QsZUFBSyx1QkFBdUI7QUFDNUIsZUFBSyxvQkFBb0I7QUFDekIsZUFBSyxzQkFBc0I7QUFDM0IsZUFBSyxnQ0FBZ0MsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQUEsUUFDM0Q7QUFDQSxhQUFLLGVBQWUsS0FBSyxVQUFVLEtBQUssb0JBQW9CO0FBQzVELGFBQUssYUFBYSxLQUFLLFVBQVUsS0FBSyx1QkFBdUIsQ0FBQztBQUM5RCxxQkFBSyxJQUFJLEtBQUssaUJBQWlCLEtBQUssWUFBWSxLQUFLLFlBQVk7QUFDakUsYUFBSyxlQUFlLGFBQUssT0FBTyxLQUFLLGVBQWU7QUFDcEQsYUFBSyxnQkFBZ0I7QUFBQSxNQUN6QjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBbk1JLGdCQURTLGtCQUNGLFlBQVc7QUFDbEIsZ0JBRlMsa0JBRUYsY0FBYTtBQUFBO0FBQUE7QUFBQSxJQUdoQixZQUFZLEVBQUUsTUFBTSxLQUFLLE9BQU87QUFBQTtBQUFBLElBRWhDLE9BQU8sRUFBRSxNQUFNLEtBQUssT0FBTyxTQUFTLEVBQUk7QUFBQTtBQUFBLElBRXhDLGVBQWUsRUFBRSxNQUFNLEtBQUssT0FBTyxTQUFTLElBQUk7QUFBQSxFQUNwRDtBQTZMSixNQUFNQSxVQUFVLFdBQVk7QUFDeEIsUUFBSSxjQUFjLElBQUksYUFBYSxDQUFDO0FBQ3BDLFFBQUksT0FBTyxJQUFJLGFBQWEsQ0FBQztBQUM3QixRQUFJLFVBQVU7QUFFZCxRQUFJLFNBQVMsSUFBSSxhQUFhLENBQUM7QUFDL0IsUUFBSSxVQUFVLElBQUksYUFBYSxDQUFDO0FBQ2hDLFFBQUksVUFBVSxJQUFJLGFBQWEsQ0FBQztBQUVoQyxXQUFPLFNBQVUsWUFBWSxhQUFhLFdBQVcsSUFBSTtBQUNyRCxVQUFJLENBQUMsSUFBSTtBQUNMLGFBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUFBLE1BQ2pCO0FBRUEsbUJBQUssSUFBSSxhQUFhLFdBQVcsV0FBVztBQUM1QyxtQkFBSyxVQUFVLGFBQWEsV0FBVztBQUV2QyxnQkFBVSxhQUFLLElBQUksSUFBSSxXQUFXO0FBRWxDLG1CQUFLLE1BQU0sTUFBTSxhQUFhLE9BQU87QUFFckMsbUJBQUssSUFBSSxJQUFJLElBQUksSUFBSTtBQUNyQixtQkFBSyxVQUFVLElBQUksRUFBRTtBQUVyQixtQkFBSyxVQUFVLFFBQVEsV0FBVztBQUNsQyxtQkFBSyxNQUFNLFNBQVMsSUFBSSxNQUFNO0FBQzlCLG1CQUFLLE1BQU0sU0FBUyxRQUFRLE9BQU87QUFDbkMsVUFBSSxNQUFNLFFBQVEsQ0FBQztBQUNuQixVQUFJLE1BQU0sUUFBUSxDQUFDO0FBQ25CLFVBQUksTUFBTSxRQUFRLENBQUM7QUFDbkIsVUFBSSxNQUFNLFFBQVEsQ0FBQztBQUNuQixVQUFJLE1BQU0sUUFBUSxDQUFDO0FBQ25CLFVBQUksTUFBTSxRQUFRLENBQUM7QUFDbkIsVUFBSSxNQUFNLE9BQU8sQ0FBQztBQUNsQixVQUFJLE1BQU0sT0FBTyxDQUFDO0FBQ2xCLFVBQUksTUFBTSxPQUFPLENBQUM7QUFFbEIsVUFBSSxPQUFPLE1BQU0sTUFBTTtBQUN2QixVQUFJLE9BQU8sR0FBSztBQUNaLFlBQUksTUFBTSxLQUFLLEtBQUssT0FBTyxDQUFHO0FBQzlCLG1CQUFXLENBQUMsSUFBSSxNQUFNO0FBQ3RCLGNBQU0sTUFBTTtBQUNaLG1CQUFXLENBQUMsS0FBSyxNQUFNLE9BQU87QUFDOUIsbUJBQVcsQ0FBQyxLQUFLLE1BQU0sT0FBTztBQUM5QixtQkFBVyxDQUFDLEtBQUssTUFBTSxPQUFPO0FBQzlCLGVBQU87QUFBQSxNQUNYO0FBQ0EsVUFBSSxPQUFPLE9BQU8sT0FBTyxLQUFLO0FBQzFCLFlBQUksT0FBTyxLQUFLLEtBQUssSUFBTSxNQUFNLE1BQU0sR0FBRztBQUMxQyxZQUFJLE9BQU8sTUFBTTtBQUNqQixtQkFBVyxDQUFDLElBQUksTUFBTTtBQUN0QixtQkFBVyxDQUFDLEtBQUssTUFBTSxPQUFPO0FBQzlCLG1CQUFXLENBQUMsS0FBSyxNQUFNLE9BQU87QUFDOUIsbUJBQVcsQ0FBQyxLQUFLLE1BQU0sT0FBTztBQUM5QixlQUFPO0FBQUEsTUFDWDtBQUNBLFVBQUksTUFBTSxLQUFLO0FBQ1gsWUFBSSxPQUFPLEtBQUssS0FBSyxJQUFNLE1BQU0sTUFBTSxHQUFHO0FBQzFDLFlBQUksT0FBTyxNQUFNO0FBQ2pCLG1CQUFXLENBQUMsS0FBSyxNQUFNLE9BQU87QUFDOUIsbUJBQVcsQ0FBQyxJQUFJLE1BQU07QUFDdEIsbUJBQVcsQ0FBQyxLQUFLLE1BQU0sT0FBTztBQUM5QixtQkFBVyxDQUFDLEtBQUssTUFBTSxPQUFPO0FBQzlCLGVBQU87QUFBQSxNQUNYO0FBQ0EsVUFBSSxPQUFPLEtBQUssS0FBSyxJQUFNLE1BQU0sTUFBTSxHQUFHO0FBQzFDLFVBQUksT0FBTyxNQUFNO0FBQ2pCLGlCQUFXLENBQUMsS0FBSyxNQUFNLE9BQU87QUFDOUIsaUJBQVcsQ0FBQyxLQUFLLE1BQU0sT0FBTztBQUM5QixpQkFBVyxDQUFDLElBQUksTUFBTTtBQUN0QixpQkFBVyxDQUFDLEtBQUssTUFBTSxPQUFPO0FBRTlCLGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSixFQUFHOzs7QURyU0gsTUFBTUMsYUFBWSxJQUFJLGFBQWEsQ0FBQztBQUM3QixNQUFNLGVBQU4sY0FBMkIsVUFBVTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBaUJ4QyxPQUFPO0FBQ0gsV0FBSyxRQUFRO0FBQ2IsV0FBSyxRQUFRO0FBQ2IsWUFBTSxhQUFhLEtBQUssSUFBSTtBQUM1QixXQUFLLE9BQU87QUFDWixZQUFNLFFBQVEsU0FBVSxRQUFRO0FBQzVCLFlBQUksUUFBUSxPQUFPLFdBQVc7QUFDOUIsY0FBTSxlQUFlLEtBQUssS0FBSztBQUFBLE1BQ25DLEVBQUUsS0FBSyxJQUFJO0FBQUEsSUFDZjtBQUFBLElBQ0EsUUFBUTtBQUNKLGNBQVEsSUFBSSxPQUFPO0FBQ25CLGNBQVEsSUFBSSxLQUFLLElBQUk7QUFBQSxJQUN6QjtBQUFBO0FBQUEsSUFFQSxPQUFPLFdBQVcsUUFBUTtBQUN0QixhQUFPLGtCQUFrQixnQkFBZ0I7QUFBQSxJQUM3QztBQUFBO0FBQUE7QUFBQSxJQUdBLE9BQU8sSUFBSTtBQUNQLFdBQUssU0FBUztBQUNkLFVBQUksS0FBSyxRQUFRLEtBQUssY0FBYyxNQUFNLGlCQUFpQixPQUFPO0FBQzlELGFBQUssUUFBUTtBQUNiLGNBQU0sTUFBTSxJQUFJO0FBQUEsTUFDcEI7QUFBQSxJQUNKO0FBQUE7QUFBQSxJQUdBLGFBQWE7QUFFVCxZQUFNLE1BQU0sS0FBSyxPQUFPLE1BQU0sVUFBVTtBQUV4QyxVQUFJLGtCQUFrQixLQUFLLE9BQU8sa0JBQWtCQSxVQUFTLENBQUM7QUFHOUQsWUFBTSxPQUFPLElBQUksYUFBYSxNQUFNO0FBQ3BDLFdBQUssT0FBTyxLQUFLO0FBQ2pCLFdBQUssV0FBVyxLQUFLO0FBQ3JCLFdBQUssU0FBUztBQUdkLFVBQUksYUFBYSxhQUFhO0FBQUEsUUFDMUIsT0FBTyxHQUFHLFNBQVM7QUFBQSxRQUNuQixTQUFTLENBQUMsR0FBRyxHQUFHLENBQUM7QUFBQSxRQUNqQixPQUFPLEtBQUs7QUFBQSxRQUNaLFFBQVE7QUFBQSxNQUNaLENBQUM7QUFDRCxVQUFHLElBQUksT0FDUDtBQUNJLHFCQUFhO0FBQ2IsWUFBSyxhQUFhLGdCQUFnQjtBQUFBLE1BQ3RDO0FBRUEsVUFBSSxTQUFTO0FBQ2IsVUFBSSxTQUFTLEtBQUs7QUFDbEIsVUFBSSxTQUFTLEtBQUs7QUFDbEIsVUFBSSxRQUFRLEtBQUs7QUFHakIsVUFBSSxJQUFJLEtBQUssT0FBTyxhQUFhLGdCQUFnQjtBQUNqRCxRQUFFLFFBQVEsS0FBSztBQUdmLFVBQUksSUFBSSxXQUFZO0FBQ2hCLGNBQU0sVUFBVSxJQUFJO0FBRXBCLGNBQU0sUUFBUSxNQUFNLGVBQWUsUUFBUSxHQUFHO0FBQzlDLGNBQU0sSUFBSSxNQUFNLGVBQWUsT0FBTyxPQUFPLENBQUM7QUFDOUMsY0FBTSxjQUFjO0FBQ3BCLFlBQUksUUFBUTtBQUFBLE1BQ2hCO0FBS0EsVUFBSSxhQUFhLGtCQUFrQixDQUFDO0FBQ3BDLFVBQUksZ0JBQWdCLENBQUMsS0FBSSxLQUFJLEdBQUUsQ0FBQztBQUNoQyxVQUFJLFNBQVM7QUFDYixVQUFJLE9BQU87QUFDWCxVQUFJLFNBQVM7QUFBQSxJQUNqQjtBQUFBLEVBQ0o7QUFsR0ksZ0JBRFMsY0FDRixZQUFXO0FBRWxCO0FBQUEsZ0JBSFMsY0FHRixjQUFhO0FBQUEsSUFDaEIsYUFBYSxFQUFFLE1BQU0sS0FBSyxLQUFLO0FBQUEsSUFDL0IsaUJBQWlCLEVBQUUsTUFBTSxLQUFLLFNBQVM7QUFBQSxJQUN2QyxZQUFZLEVBQUUsTUFBTSxLQUFLLEtBQUssU0FBUyxFQUFFO0FBQUEsSUFDekMsZUFBZ0IsRUFBRSxNQUFNLEtBQUssS0FBSyxTQUFTLEdBQUU7QUFBQSxJQUM3QyxlQUFlLEVBQUUsTUFBTSxLQUFLLEtBQUssU0FBUyxHQUFFO0FBQUEsSUFDNUMscUJBQXFCLEVBQUUsTUFBTSxLQUFLLEtBQUssU0FBVSxFQUFDO0FBQUEsSUFDbEQsY0FBYyxFQUFDLE1BQU0sS0FBSyxPQUFPLFNBQVMsRUFBRztBQUFBLElBQzdDLGVBQWdCLEVBQUMsTUFBTSxLQUFLLEtBQUssU0FBVSxFQUFDO0FBQUEsRUFDaEQ7OztBRXRCSjtBQUFBO0FBQUE7QUFBQTtBQUtPLE1BQU0sZUFBTixjQUEyQixVQUFVO0FBQUEsSUFTeEMsT0FBTztBQUFBLElBRVA7QUFBQSxJQUNBLFFBQVE7QUFDSixXQUFLLFFBQVE7QUFDYixZQUFNLFVBQVUsV0FBWTtBQUU1QixnQkFBUSxJQUFJLFVBQVU7QUFDdEIsYUFBSyxTQUFRO0FBQ2IsYUFBSyxjQUFjO0FBQ25CLFlBQUksVUFBVSxNQUFNO0FBQ2hCLGlCQUFRLElBQUksR0FBRyxJQUFJLE1BQU0sYUFBYSxRQUFRLEtBQ2xEO0FBQ0ksa0JBQVEsQ0FBQyxFQUFFLGlCQUFpQjtBQUFBLFFBQ2hDO0FBQ0EsWUFBRyxLQUFLLFFBQVEsTUFBTSxHQUN0QjtBQUNJLG1CQUFRLElBQUksR0FBRyxJQUFJLE1BQU0sYUFBYSxRQUFRLEtBQzlDO0FBRUksb0JBQVEsQ0FBQyxFQUFFLGdCQUFnQjtBQUFBLFVBQy9CO0FBQUEsUUFDSjtBQUNBLFlBQUcsS0FBSyxRQUFRLE1BQU0sR0FBRTtBQUNwQixtQkFBUSxJQUFJLEdBQUcsSUFBSSxNQUFNLGFBQWEsUUFBUSxLQUM5QztBQUNJLG9CQUFRLENBQUMsRUFBRSxpQkFBaUI7QUFBQSxVQUNoQztBQUFBLFFBQ0o7QUFDQSxZQUFHLEtBQUssUUFBUSxNQUFNLEdBQ3RCO0FBQ0ksbUJBQVEsSUFBSSxHQUFHLElBQUksTUFBTSxhQUFhLFFBQVEsS0FDOUM7QUFDSSxvQkFBUSxDQUFDLEVBQUUsZ0JBQWdCO0FBQUEsVUFDL0I7QUFBQSxRQUNKO0FBQ0EsWUFBRyxLQUFLLFFBQVEsTUFBTSxHQUN0QjtBQUNJLG1CQUFRLElBQUksR0FBRyxJQUFJLE1BQU0sYUFBYSxRQUFRLEtBQzlDO0FBQ0ksb0JBQVEsQ0FBQyxFQUFFLGNBQWM7QUFBQSxVQUM3QjtBQUFBLFFBQ0o7QUFBQSxNQUNKLEVBQUUsS0FBSyxJQUFJO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFyREksZ0JBRFMsY0FDRixZQUFXO0FBRWxCO0FBQUEsZ0JBSFMsY0FHRixjQUFhO0FBQUEsSUFDaEIsT0FBTyxFQUFFLE1BQU0sS0FBSyxLQUFLLFNBQVMsRUFBRTtBQUFBLElBQ3BDLE9BQU8sRUFBRSxNQUFNLEtBQUssS0FBSyxTQUFTLE1BQU0sTUFBTTtBQUFBLElBQzlDLEtBQUssRUFBRSxNQUFNLEtBQUssTUFBTSxTQUFTLEtBQUs7QUFBQSxFQUMxQzs7O0FDWko7QUFBQTtBQUFBO0FBQUE7QUF3QkEsTUFBSUMsVUFBUyxJQUFJLGFBQWEsQ0FBQztBQUN4QixNQUFNLG9CQUFOLGNBQWdDLFVBQVU7QUFBQSxJQU03QyxPQUFPO0FBRUgsV0FBSyxNQUFNLElBQUksYUFBYSxDQUFDO0FBQzdCLFdBQUssV0FBVyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQ3hCLFdBQUssT0FBTyxpQkFBaUIsS0FBSyxRQUFRO0FBQzFDLFdBQUssT0FBTyxnQkFBZ0IsQ0FBQyxLQUFJLEtBQUksR0FBRSxDQUFDO0FBQ3hDLFdBQUssaUJBQWlCLEtBQUssUUFBUTtBQUNuQyxXQUFLLFlBQVksS0FBSyxPQUFPLGFBQWEsYUFBYSxDQUFDO0FBQ3hELFVBQUksQ0FBQyxLQUFLLFdBQVc7QUFDakIsZ0JBQVE7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLE9BQU87QUFBQSxVQUNaO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFDQSxPQUFPLElBQUk7QUFDUCxVQUFJLE1BQU0sRUFBRSxHQUFHO0FBQ1gsZ0JBQVEsSUFBSSxXQUFXO0FBQ3ZCO0FBQUEsTUFDSjtBQUVBLFdBQUssT0FBTyxpQkFBaUIsS0FBSyxRQUFRO0FBRTFDLFVBQUksS0FBSyxTQUFTLENBQUMsS0FBSyxNQUFNLGNBQWMsS0FBSyxVQUFVLFFBQVEsQ0FBQyxHQUFHO0FBQ25FLGFBQUssY0FBYyxDQUFDO0FBQ3BCO0FBQUEsTUFDSjtBQUVBLFVBQUksYUFBSyxPQUFPLEtBQUssUUFBUSxJQUFJLEtBQUs7QUFDbEMsYUFBSyxjQUFjLENBQUM7QUFDcEI7QUFBQSxNQUNKO0FBRUEsTUFBQUEsUUFBTyxJQUFJLEtBQUssR0FBRztBQUNuQixtQkFBSyxNQUFNQSxTQUFRQSxTQUFRLEtBQUssY0FBYztBQUM5QyxtQkFBSyxJQUFJLEtBQUssVUFBVSxLQUFLLFVBQVVBLE9BQU07QUFDN0MsV0FBSyxPQUFPLGlCQUFpQixLQUFLLFFBQVE7QUFDMUMsVUFBSSxXQUFXLEtBQUssVUFBVSxjQUFjO0FBQzVDLGVBQVMsSUFBSSxHQUFHLElBQUksU0FBUyxRQUFRLEVBQUUsR0FBRztBQUN0QyxhQUFLLGNBQWMsQ0FBQztBQUNwQjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFDQSxjQUFjLE1BQU07QUFDaEIsVUFBSSxRQUFRLEdBQUc7QUFDWCxhQUFLLE9BQU8sUUFBUTtBQUFBLE1BQ3hCLE9BQU87QUFDSCxtQkFBVyxNQUFNO0FBQ2IsZUFBSyxPQUFPLFFBQVE7QUFBQSxRQUN4QixHQUFHLElBQUk7QUFBQSxNQUNYO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUExREksZ0JBRFMsbUJBQ0YsWUFBVztBQUNsQixnQkFGUyxtQkFFRixjQUFhO0FBQUEsSUFDaEIsT0FBTyxFQUFFLE1BQU0sS0FBSyxPQUFPLFNBQVMsRUFBSTtBQUFBLEVBQzVDOzs7QUM3Qko7QUFBQTtBQUFBO0FBQUE7QUFNQSxNQUFNLFlBQVksSUFBSSxhQUFhLENBQUM7QUFDN0IsTUFBTSxvQkFBTixjQUFnQyxVQUFVO0FBQUEsSUFHN0MsT0FBTyxXQUFXLFFBQVE7QUFDdEIsYUFBTyxrQkFBa0IsaUJBQWlCO0FBQUEsSUFDOUM7QUFBQSxJQUNBLE9BQU87QUFJSCxjQUFRLElBQUksMEJBQTBCO0FBQ3RDLFdBQUssUUFBUTtBQUNiLFdBQUssT0FBTyxRQUFRLFNBQVUsS0FBSztBQUMvQixZQUFJLGFBQWEsS0FBSyxNQUFNO0FBQzVCLG1CQUFXLFFBQVEsSUFBSSxJQUFJLEdBQUc7QUFDOUIsbUJBQVcsT0FBTyxTQUFTO0FBQzNCLG1CQUFXLFFBQVEsU0FBUztBQUFBLE1BQ2hDLEVBQUUsS0FBSyxJQUFJO0FBQUEsSUFDZjtBQUFBLElBQ0EsUUFBUTtBQUNKLGNBQVEsSUFBSSxvQkFBb0I7QUFBQSxJQUNwQztBQUFBLElBQ0EsUUFBUTtBQUNKLFlBQU0sTUFBTSxLQUFLLE9BQU8sTUFBTSxVQUFVO0FBQ3hDLFVBQUksT0FBTyxJQUFJLGFBQWEsUUFBUSxLQUFLLE9BQU8sVUFBVTtBQUMxRCxXQUFLLFNBQVM7QUFDZCxVQUFJLGFBQWEsYUFBYSxFQUFFLE9BQU8sR0FBRyxTQUFTLFFBQVEsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsT0FBTyxLQUFLLEVBQUUsQ0FBQztBQUNqRyxVQUFJLE9BQU87QUFDWCxVQUFJLGlCQUFpQixLQUFLLE9BQU8saUJBQWlCLENBQUM7QUFDbkQsWUFBTSxVQUFVLElBQUksYUFBYSxtQkFBbUIsRUFBRSxPQUFPLElBQUcsQ0FBQztBQUNqRSxjQUFRLFNBQVM7QUFDakIsYUFBTyxFQUFFLFFBQVEsS0FBSyxRQUFpQjtBQUFBLElBQzNDO0FBQUEsRUFDSjtBQWhDSSxnQkFEUyxtQkFDRixZQUFXOzs7QUNSdEI7QUFBQTtBQUFBO0FBQUE7QUFNTyxNQUFNLE9BQU4sY0FBbUIsVUFBVTtBQUFBLElBNEJoQyxPQUFPO0FBQ0gsWUFBTSxPQUFPO0FBQ2IsWUFBTSxjQUFjO0FBQ3BCLFlBQU0sVUFBVSxTQUFTLFFBQ3pCO0FBQ0ksYUFBSyxRQUFRO0FBQ2IsY0FBTSxTQUFTLEtBQUssVUFBVTtBQUFBLE1BQ2xDLEVBQUUsS0FBSyxJQUFJO0FBQ1gsWUFBTSxXQUFXLFNBQVMsVUFBVSxRQUN4QztBQUNJLGdCQUFRLFVBQ1I7QUFBQSxVQUNJLEtBQUs7QUFDRCxrQkFBTSxZQUFZO0FBQ2xCLGlCQUFLLFFBQVE7QUFDYjtBQUFBLFVBQ0osS0FBSztBQUNELGtCQUFNLFlBQVk7QUFDbEIsaUJBQUssV0FBVztBQUNoQjtBQUFBLFVBQ0osS0FBSztBQUNELGtCQUFNLFlBQVk7QUFDbEIsaUJBQUssWUFBWTtBQUNqQjtBQUFBLFVBQ0osS0FBSztBQUNELGtCQUFNLFlBQVk7QUFDbEIsaUJBQUssaUJBQWlCO0FBQ3RCO0FBQUEsVUFDSixLQUFLO0FBQ0Qsa0JBQU0sWUFBWTtBQUNsQixpQkFBSyxxQkFBcUI7QUFDMUI7QUFBQSxVQUNKLEtBQUs7QUFDRCxrQkFBTSxZQUFZO0FBQ2xCLGlCQUFLLG9CQUFvQjtBQUN6QjtBQUFBLFVBQ0osS0FBSztBQUNELGtCQUFNLFlBQVk7QUFDbEIsaUJBQUssa0JBQWtCO0FBQ3ZCO0FBQUEsUUFDUjtBQUFBLE1BQ0osRUFBRSxLQUFLLElBQUk7QUFBQSxJQUNmO0FBQUEsSUFDSSxZQUNBO0FBQ0ksVUFBSSxTQUFTO0FBQ2IsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBM0VJLGdCQURTLE1BQ0YsWUFBVztBQU9sQjtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQVJTLE1BUUYsY0FBYTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBSWhCLE1BQU0sRUFBRSxNQUFNLEtBQUssS0FBSyxTQUFTLElBQUk7QUFBQTtBQUFBLElBRXJDLFNBQVMsRUFBRSxNQUFNLEtBQUssS0FBSyxTQUFTLEVBQUU7QUFBQTtBQUFBLElBRXRDLFVBQVUsRUFBRSxNQUFNLEtBQUssS0FBSyxTQUFTLEVBQUU7QUFBQTtBQUFBLElBRXZDLGVBQWUsRUFBRSxNQUFNLEtBQUssS0FBSyxTQUFTLEVBQUU7QUFBQTtBQUFBLElBRTVDLG1CQUFtQixFQUFFLE1BQU0sS0FBSyxLQUFLLFNBQVMsRUFBRTtBQUFBO0FBQUEsSUFFaEQsa0JBQWtCLEVBQUUsTUFBTSxLQUFLLEtBQUssU0FBUyxFQUFFO0FBQUE7QUFBQSxJQUUvQyxnQkFBZ0IsRUFBRSxNQUFNLEtBQUssS0FBSyxTQUFTLEVBQUU7QUFBQSxFQUNqRDs7O0FDL0JKO0FBQUE7QUFBQTtBQUFBO0FBa0NPLE1BQU0sY0FBTixjQUEwQixVQUFVO0FBQUEsSUFZdkMsT0FBTztBQUNILFdBQUssV0FBVyxLQUFLLFdBQVcsU0FBUyxLQUFLLFNBQVUsR0FBRyxHQUFHO0FBQzFELGVBQU8sRUFBRSxLQUFLLGNBQWMsRUFBRSxJQUFJO0FBQUEsTUFDdEMsQ0FBQztBQUNELFdBQUssWUFBWSxJQUFJLE1BQU0sS0FBSyxTQUFTLE1BQU07QUFDL0MsZUFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLFNBQVMsUUFBUSxLQUFLO0FBQzNDLGFBQUssVUFBVSxDQUFDLElBQUksSUFBSSxhQUFhLENBQUM7QUFDdEMsYUFBSyxTQUFTLENBQUMsRUFBRSxvQkFBb0IsS0FBSyxVQUFVLENBQUMsQ0FBQztBQUFBLE1BQzFEO0FBQ0EsV0FBSyx1QkFBdUI7QUFDNUIsV0FBSyxrQkFBa0IsSUFBSSxhQUFhLENBQUM7QUFDekMsV0FBSyxlQUFlLElBQUksYUFBYSxDQUFDO0FBQ3RDLFdBQUssZUFBZSxLQUFLLFVBQVUsQ0FBQztBQUNwQyxXQUFLLGFBQWEsS0FBSyxVQUFVLENBQUM7QUFDbEMsbUJBQUssSUFBSSxLQUFLLGlCQUFpQixLQUFLLFlBQVksS0FBSyxZQUFZO0FBQ2pFLFdBQUssZUFBZSxhQUFLLE9BQU8sS0FBSyxlQUFlO0FBQ3BELFdBQUssZ0JBQWdCO0FBQ3JCLFdBQUssS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQ2xCLFdBQUssT0FBTyxJQUFJLGFBQWEsQ0FBQztBQUM5QixNQUFBQyxRQUFPLEtBQUssTUFBTSxLQUFLLGNBQWMsS0FBSyxZQUFZLEtBQUssRUFBRTtBQUM3RCxXQUFLLE9BQU8seUJBQXlCO0FBQ3JDLFdBQUssT0FBTyxPQUFPLEtBQUssSUFBSTtBQUM1QixXQUFLLE9BQU8sb0JBQW9CLEtBQUssWUFBWTtBQUVqRCxXQUFLLEtBQUssSUFBSSxhQUFhLENBQUM7QUFDNUIsV0FBSyxLQUFLLElBQUksYUFBYSxDQUFDO0FBQzVCLFdBQUssS0FBSyxJQUFJLGFBQWEsQ0FBQztBQUM1QixXQUFLLG9CQUFvQjtBQUN6QixXQUFLLGdCQUFnQixLQUFLLElBQUksR0FBSyxLQUFLLElBQUksU0FBUyxLQUFLLGFBQWEsQ0FBQztBQUN4RSxXQUFLLHlCQUF5QixLQUFLLElBQUksS0FBSztBQUM1QyxXQUFLLGdCQUFnQjtBQUVyQixXQUFLLGtDQUFrQyxDQUFDO0FBQUEsSUFDNUM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBTUEsa0NBQWtDLEdBQUc7QUFDakMsV0FBSyxnQ0FBZ0MsS0FBSyxDQUFDO0FBQUEsSUFDL0M7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBTUEscUNBQXFDLEdBQUc7QUFDcEMsWUFBTSxRQUFRLE1BQU0sUUFBUSxDQUFDO0FBQzdCLFVBQUksUUFBUSxJQUFJO0FBQ1osYUFBSyxnQ0FBZ0MsT0FBTyxPQUFPLENBQUM7QUFBQSxNQUN4RDtBQUFBLElBQ0o7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUtBLGtCQUFrQjtBQVFkLG1CQUFLO0FBQUEsUUFDRCxLQUFLO0FBQUEsUUFDTCxLQUFLLFVBQVUsS0FBSyxpQkFBaUI7QUFBQSxRQUNyQyxLQUFLLFVBQVUsS0FBSyxvQkFBb0IsQ0FBQztBQUFBLE1BQzdDO0FBQ0EsbUJBQUssTUFBTSxLQUFLLGlCQUFpQixLQUFLLGlCQUFpQixLQUFLLGFBQWE7QUFDekUsbUJBQUssSUFBSSxLQUFLLElBQUksS0FBSyxVQUFVLEtBQUssb0JBQW9CLENBQUMsR0FBRyxLQUFLLGVBQWU7QUFFbEYsV0FBSyxLQUFLLEtBQUssVUFBVSxLQUFLLG9CQUFvQixDQUFDO0FBRW5ELG1CQUFLO0FBQUEsUUFDRCxLQUFLO0FBQUEsUUFDTCxLQUFLLFVBQVUsS0FBSyxvQkFBb0IsQ0FBQztBQUFBLFFBQ3pDLEtBQUssVUFBVSxLQUFLLG9CQUFvQixDQUFDO0FBQUEsTUFDN0M7QUFDQSxtQkFBSyxNQUFNLEtBQUssaUJBQWlCLEtBQUssaUJBQWlCLEtBQUssYUFBYTtBQUN6RSxtQkFBSyxJQUFJLEtBQUssSUFBSSxLQUFLLFVBQVUsS0FBSyxvQkFBb0IsQ0FBQyxHQUFHLEtBQUssZUFBZTtBQUFBLElBQ3RGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQU1BLGNBQWMsWUFBWTtBQUN0QixXQUFLLGFBQWE7QUFDbEIsV0FBSyxXQUFXLEtBQUssV0FBVyxTQUFTLEtBQUssU0FBVSxHQUFHLEdBQUc7QUFDMUQsZUFBTyxFQUFFLEtBQUssY0FBYyxFQUFFLElBQUk7QUFBQSxNQUN0QyxDQUFDO0FBQ0QsV0FBSyxZQUFZLElBQUksTUFBTSxLQUFLLFNBQVMsTUFBTTtBQUMvQyxlQUFTLElBQUksR0FBRyxJQUFJLEtBQUssU0FBUyxRQUFRLEtBQUs7QUFDM0MsYUFBSyxVQUFVLENBQUMsSUFBSSxJQUFJLGFBQWEsQ0FBQztBQUN0QyxhQUFLLFNBQVMsQ0FBQyxFQUFFLG9CQUFvQixLQUFLLFVBQVUsQ0FBQyxDQUFDO0FBQUEsTUFDMUQ7QUFDQSxXQUFLLHVCQUF1QjtBQUM1QixXQUFLLG9CQUFvQjtBQUN6QixXQUFLLGdCQUFnQjtBQUNyQixXQUFLLGdCQUFnQjtBQUVyQixXQUFLLGVBQWUsS0FBSyxVQUFVLENBQUM7QUFDcEMsV0FBSyxhQUFhLEtBQUssVUFBVSxDQUFDO0FBQ2xDLG1CQUFLLElBQUksS0FBSyxpQkFBaUIsS0FBSyxZQUFZLEtBQUssWUFBWTtBQUNqRSxXQUFLLGVBQWUsYUFBSyxPQUFPLEtBQUssZUFBZTtBQUFBLElBQ3hEO0FBQUEsSUFFQSxPQUFPLElBQUk7QUFDUCxXQUFLLGlCQUFpQixLQUFLLEtBQUs7QUFFaEMsVUFBSSxTQUFTLEtBQUssZ0JBQWdCLEtBQUs7QUFFdkMsVUFBSSxTQUFTLE9BQU8sS0FBSyx3QkFBd0IsS0FBSyxVQUFVLFNBQVMsR0FBRztBQUN4RSxhQUFLLHNCQUFzQjtBQUFBLE1BQy9CO0FBRUEsVUFDSSxLQUFLLElBQUksU0FBUyxLQUFLLE1BQU0sTUFBTSxDQUFDLElBQUksS0FBSyxpQkFDN0MsRUFBRSxLQUFLLHdCQUF3QixLQUFLLFNBQVMsU0FBUyxLQUFLLFNBQVMsUUFDcEUsRUFBRSxLQUFLLHdCQUF3QixLQUFLLFNBQVMsTUFDL0M7QUFFRSxZQUFJLGFBQ0MsU0FBUyxLQUFLLE1BQU0sTUFBTSxJQUFJLEtBQUssaUJBQ3BDLEtBQUs7QUFDVCxxQkFBSztBQUFBLFVBQ0QsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0w7QUFBQSxRQUNKO0FBRUEscUJBQUs7QUFBQSxVQUNELEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLFlBQVk7QUFBQSxRQUNoQjtBQUFBLE1BQ0osT0FBTztBQUNILFlBQ0ksS0FBSyx1QkFDTCxTQUFTLE9BQ1QsU0FBUyxLQUFLLGlCQUNkLEtBQUsscUJBQXFCLEtBQUssVUFBVSxTQUFTLEdBQ3BEO0FBQ0UsZUFBSztBQUNMLGVBQUssc0JBQXNCO0FBQzNCLGVBQUssZ0JBQWdCO0FBQUEsUUFDekI7QUFDQSxxQkFBSyxLQUFLLEtBQUssaUJBQWlCLEtBQUssY0FBYyxLQUFLLFlBQVksTUFBTTtBQUUxRSxxQkFBSyxLQUFLLEtBQUssY0FBYyxLQUFLLGNBQWMsS0FBSyxZQUFZLFNBQVMsSUFBSTtBQUFBLE1BQ2xGO0FBR0EsV0FBSyxPQUFPLHlCQUF5QjtBQUNyQyxNQUFBQSxRQUFPLEtBQUssTUFBTSxLQUFLLGlCQUFpQixLQUFLLGNBQWMsS0FBSyxFQUFFO0FBQ2xFLFdBQUssT0FBTyxPQUFPLEtBQUssSUFBSTtBQUM1QixXQUFLLE9BQU8sb0JBQW9CLEtBQUssZUFBZTtBQUdwRCxVQUFJLEtBQUssZ0JBQWdCLEtBQUssY0FBYztBQUN4QyxhQUFLLFFBQVE7QUFDYixhQUFLO0FBRUwsWUFBSSxLQUFLLHdCQUF3QixLQUFLLFNBQVMsU0FBUyxHQUFHO0FBQ3ZELGVBQUssdUJBQXVCO0FBQzVCLGVBQUssb0JBQW9CO0FBQ3pCLGVBQUssZ0JBQWdCO0FBQ3JCLGVBQUssc0JBQXNCO0FBQzNCLGVBQUssZ0NBQWdDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUFBLFFBQzNEO0FBQ0EsYUFBSyxlQUFlLEtBQUssVUFBVSxLQUFLLG9CQUFvQjtBQUM1RCxhQUFLLGFBQWEsS0FBSyxVQUFVLEtBQUssdUJBQXVCLENBQUM7QUFDOUQscUJBQUssSUFBSSxLQUFLLGlCQUFpQixLQUFLLFlBQVksS0FBSyxZQUFZO0FBQ2pFLGFBQUssZUFBZSxhQUFLLE9BQU8sS0FBSyxlQUFlO0FBQ3BELGFBQUssZ0JBQWdCO0FBQUEsTUFDekI7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQXBNSSxnQkFEUyxhQUNGLFlBQVc7QUFDbEIsZ0JBRlMsYUFFRixjQUFhO0FBQUE7QUFBQTtBQUFBLElBR2hCLFlBQVksRUFBQyxNQUFNLEtBQUssT0FBTTtBQUFBO0FBQUEsSUFFOUIsT0FBTyxFQUFDLE1BQU0sS0FBSyxPQUFPLFNBQVMsRUFBRztBQUFBO0FBQUEsSUFFdEMsZUFBZSxFQUFDLE1BQU0sS0FBSyxPQUFPLFNBQVMsSUFBRztBQUFBLEVBQ2xEO0FBOExKLE1BQU1BLFVBQVUsV0FBWTtBQUN4QixRQUFJLGNBQWMsSUFBSSxhQUFhLENBQUM7QUFDcEMsUUFBSSxPQUFPLElBQUksYUFBYSxDQUFDO0FBQzdCLFFBQUksVUFBVTtBQUVkLFFBQUksU0FBUyxJQUFJLGFBQWEsQ0FBQztBQUMvQixRQUFJLFVBQVUsSUFBSSxhQUFhLENBQUM7QUFDaEMsUUFBSSxVQUFVLElBQUksYUFBYSxDQUFDO0FBRWhDLFdBQU8sU0FBVSxZQUFZLGFBQWEsV0FBVyxJQUFJO0FBQ3JELFVBQUksQ0FBQyxJQUFJO0FBQ0wsYUFBSyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQUEsTUFDakI7QUFFQSxtQkFBSyxJQUFJLGFBQWEsV0FBVyxXQUFXO0FBQzVDLG1CQUFLLFVBQVUsYUFBYSxXQUFXO0FBRXZDLGdCQUFVLGFBQUssSUFBSSxJQUFJLFdBQVc7QUFFbEMsbUJBQUssTUFBTSxNQUFNLGFBQWEsT0FBTztBQUVyQyxtQkFBSyxJQUFJLElBQUksSUFBSSxJQUFJO0FBQ3JCLG1CQUFLLFVBQVUsSUFBSSxFQUFFO0FBRXJCLG1CQUFLLFVBQVUsUUFBUSxXQUFXO0FBQ2xDLG1CQUFLLE1BQU0sU0FBUyxJQUFJLE1BQU07QUFDOUIsbUJBQUssTUFBTSxTQUFTLFFBQVEsT0FBTztBQUNuQyxVQUFJLE1BQU0sUUFBUSxDQUFDO0FBQ25CLFVBQUksTUFBTSxRQUFRLENBQUM7QUFDbkIsVUFBSSxNQUFNLFFBQVEsQ0FBQztBQUNuQixVQUFJLE1BQU0sUUFBUSxDQUFDO0FBQ25CLFVBQUksTUFBTSxRQUFRLENBQUM7QUFDbkIsVUFBSSxNQUFNLFFBQVEsQ0FBQztBQUNuQixVQUFJLE1BQU0sT0FBTyxDQUFDO0FBQ2xCLFVBQUksTUFBTSxPQUFPLENBQUM7QUFDbEIsVUFBSSxNQUFNLE9BQU8sQ0FBQztBQUVsQixVQUFJLE9BQU8sTUFBTSxNQUFNO0FBQ3ZCLFVBQUksT0FBTyxHQUFLO0FBQ1osWUFBSSxNQUFNLEtBQUssS0FBSyxPQUFPLENBQUc7QUFDOUIsbUJBQVcsQ0FBQyxJQUFJLE1BQU07QUFDdEIsY0FBTSxNQUFNO0FBQ1osbUJBQVcsQ0FBQyxLQUFLLE1BQU0sT0FBTztBQUM5QixtQkFBVyxDQUFDLEtBQUssTUFBTSxPQUFPO0FBQzlCLG1CQUFXLENBQUMsS0FBSyxNQUFNLE9BQU87QUFDOUIsZUFBTztBQUFBLE1BQ1g7QUFDQSxVQUFJLE9BQU8sT0FBTyxPQUFPLEtBQUs7QUFDMUIsWUFBSSxPQUFPLEtBQUssS0FBSyxJQUFNLE1BQU0sTUFBTSxHQUFHO0FBQzFDLFlBQUksT0FBTyxNQUFNO0FBQ2pCLG1CQUFXLENBQUMsSUFBSSxNQUFNO0FBQ3RCLG1CQUFXLENBQUMsS0FBSyxNQUFNLE9BQU87QUFDOUIsbUJBQVcsQ0FBQyxLQUFLLE1BQU0sT0FBTztBQUM5QixtQkFBVyxDQUFDLEtBQUssTUFBTSxPQUFPO0FBQzlCLGVBQU87QUFBQSxNQUNYO0FBQ0EsVUFBSSxNQUFNLEtBQUs7QUFDWCxZQUFJLE9BQU8sS0FBSyxLQUFLLElBQU0sTUFBTSxNQUFNLEdBQUc7QUFDMUMsWUFBSSxPQUFPLE1BQU07QUFDakIsbUJBQVcsQ0FBQyxLQUFLLE1BQU0sT0FBTztBQUM5QixtQkFBVyxDQUFDLElBQUksTUFBTTtBQUN0QixtQkFBVyxDQUFDLEtBQUssTUFBTSxPQUFPO0FBQzlCLG1CQUFXLENBQUMsS0FBSyxNQUFNLE9BQU87QUFDOUIsZUFBTztBQUFBLE1BQ1g7QUFDQSxVQUFJLE9BQU8sS0FBSyxLQUFLLElBQU0sTUFBTSxNQUFNLEdBQUc7QUFDMUMsVUFBSSxPQUFPLE1BQU07QUFDakIsaUJBQVcsQ0FBQyxLQUFLLE1BQU0sT0FBTztBQUM5QixpQkFBVyxDQUFDLEtBQUssTUFBTSxPQUFPO0FBQzlCLGlCQUFXLENBQUMsSUFBSSxNQUFNO0FBQ3RCLGlCQUFXLENBQUMsS0FBSyxNQUFNLE9BQU87QUFFOUIsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKLEVBQUc7OztBQ3BUSDtBQUFBO0FBQUE7QUFBQTtBQU1PLE1BQU0sY0FBTixjQUEwQixVQUFVO0FBQUEsSUFNdkMsUUFBUTtBQUNKLGNBQVEsSUFBSSxzQkFBc0IsS0FBSyxLQUFLO0FBQUEsSUFDaEQ7QUFBQSxJQUNBLE9BQU87QUFDSCxXQUFLLFFBQVE7QUFDYixXQUFLLE9BQU87QUFBQSxJQUNoQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQW1CQSxPQUFPO0FBQ0gsWUFBTSxZQUFZLEtBQUssT0FBTyxhQUFhLFdBQVc7QUFDdEQsWUFBTSxXQUFXLFVBQVUsY0FBYztBQUN6QyxpQkFBVyxRQUFRLFVBQVU7QUFDekIsWUFBSSxLQUFLLE9BQU8sU0FBUyxRQUFRO0FBQzdCLGNBQUksS0FBSyxPQUFPLFdBQVcsUUFBUSxLQUFLLE9BQU8sT0FBTyxTQUFTLEtBQUssT0FBTyxRQUFRO0FBQy9FLGlCQUFLLE9BQU8sU0FBUyxLQUFLO0FBQUEsVUFDOUIsT0FDSztBQUFFLGlCQUFLLE9BQU8sU0FBUztBQUFBLFVBQU07QUFBQSxRQUN0QztBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFFQSxPQUFPLElBQUk7QUFDUCxXQUFLLFNBQVM7QUFDZCxVQUFJLElBQUksSUFBSSxhQUFhLENBQUM7QUFFMUIsVUFBSSxLQUFLLE9BQU8sVUFBVSxRQUFRLEtBQUssT0FBTyxPQUFPLFdBQVcsR0FBRztBQUMvRCxhQUFLLEtBQUs7QUFBQSxNQUNkO0FBR0EsVUFBSSxLQUFLLE9BQU8sVUFBVSxLQUFLLE9BQU8sT0FBTyxlQUFlLE9BQU87QUFDL0QsWUFBSUMsS0FBSSxJQUFJLGFBQWEsQ0FBQztBQUcxQixjQUFNLFlBQVksS0FBSyxPQUFPLGFBQWEsV0FBVztBQUN0RCxjQUFNLFdBQVcsVUFBVSxjQUFjO0FBQ3pDLFlBQUksUUFBUTtBQUNaLG1CQUFXLFFBQVEsVUFBVTtBQUN6QixjQUFJLFNBQVMsU0FBUyxLQUFLLFdBQVcsS0FBSyxPQUFPLFFBQVE7QUFDdEQsaUJBQUssT0FBTyxPQUFPLEtBQUssT0FBTyxPQUFPLGlCQUFpQixHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztBQUNuRSxnQkFBSSxLQUFLLFFBQVEsS0FBSyxPQUFPLElBQUk7QUFDN0IsbUJBQUssT0FBTyxNQUFNLEtBQUssT0FBTyxnQkFBZ0JBLEVBQUMsQ0FBQztBQUNoRCxtQkFBSyxPQUFPLE9BQU8sVUFBVSxLQUFLLE9BQU87QUFDekMsbUJBQUssUUFBUTtBQUNiLGtCQUFJLEtBQUssT0FBTyxPQUFPLFVBQVUsR0FBRztBQUFFLHNCQUFNLFlBQVksS0FBSyxPQUFPLE9BQU87QUFBTyxxQkFBSyxPQUFPLE9BQU8sUUFBUTtBQUFJLHNCQUFNLGNBQWM7QUFBTSxzQkFBTTtBQUFBLGNBQW1CO0FBQUEsWUFDeEs7QUFDQSxvQkFBUTtBQUFBLFVBQ1o7QUFBQSxRQUNKO0FBQ0EsWUFBSSxDQUFDLE9BQU87QUFBRSxlQUFLLE9BQU8sU0FBUztBQUFBLFFBQUs7QUFBQztBQUFBLE1BQzdDO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUExRUksZ0JBRFMsYUFDRixZQUFXO0FBRWxCO0FBQUEsZ0JBSFMsYUFHRixjQUFhLENBQ3BCOzs7QUNWSjtBQUFBO0FBQUE7QUFBQTtBQVVBLE1BQU1DLGFBQVksSUFBSSxhQUFhLENBQUM7QUFDN0IsTUFBTSxnQkFBTixjQUE0QixVQUFVO0FBQUE7QUFBQSxJQWV6QyxPQUFPO0FBRUgsV0FBSyxRQUFRO0FBQ2IsV0FBSyxPQUFPO0FBQ1osWUFBTSxnQkFBZ0I7QUFDdEIsWUFBTSxTQUFTLFdBQVk7QUFDdkIsWUFBSSxNQUFNLFlBQVksS0FBSyxjQUFjLE1BQU0sa0JBQWtCLE9BQU87QUFDcEUsY0FBSSxTQUFTLEtBQUssV0FBVztBQUM3QixnQkFBTSxrQkFBa0I7QUFDeEIsZ0JBQU0sUUFBUSxLQUFLLE1BQU07QUFDekIsZ0JBQU0sWUFBWSxLQUFLO0FBR3ZCLGdCQUFNLGNBQWM7QUFBQSxRQUN4QjtBQUFBLE1BQ0osRUFBRSxLQUFLLElBQUk7QUFBQSxJQUNmO0FBQUEsSUFDQSxPQUFPLFdBQVcsUUFBUTtBQUN0QixhQUFPLGtCQUFrQixXQUFXO0FBQ3BDLGFBQU8sa0JBQWtCLGlCQUFpQjtBQUFBLElBQzlDO0FBQUEsSUFDQSxRQUFRO0FBQ0osY0FBUSxJQUFJLHNCQUFzQjtBQUFBLElBQ3RDO0FBQUEsSUFFQSxPQUFPLElBQUk7QUFBQSxJQUVYO0FBQUEsSUFFQSxhQUFhO0FBUVQsWUFBTSxNQUFNLEtBQUssT0FBTyxNQUFNLFVBQVU7QUFFeEMsVUFBSSxTQUFTO0FBQ2IsVUFBSSxRQUFRO0FBQ1osVUFBSSxLQUFLLEtBQUs7QUFDZCxVQUFJLE9BQU87QUFDWCxVQUFJLFNBQVMsS0FBSztBQUNsQixZQUFNLE9BQU8sSUFBSSxhQUFhLE1BQU07QUFDcEMsV0FBSyxPQUFPLEtBQUs7QUFDakIsV0FBSyxXQUFXLEtBQUs7QUFDckIsVUFBSSxhQUFhO0FBQUEsUUFDYixNQUFNLEtBQUs7QUFBQSxRQUNYLFVBQVUsS0FBSztBQUFBLE1BQ25CO0FBQ0EsVUFBSSxhQUFhLGFBQWE7QUFBQSxRQUMxQixVQUFVLEdBQUcsU0FBUztBQUFBLFFBQ3RCLFNBQVMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUFBLFFBQ2pCLE9BQU8sS0FBSztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsUUFLWixvQkFBb0I7QUFBQSxRQUNwQixRQUFRO0FBQUEsTUFDWixDQUFDO0FBRUQsV0FBSyxTQUFTO0FBR2QsWUFBTSxRQUFRLElBQUksYUFBYSxXQUFXO0FBQzFDLFVBQUksYUFBYSxpQkFBaUI7QUFHbEMsVUFBSSxrQkFBa0IsS0FBSyxPQUFPLGtCQUFrQkEsVUFBUyxDQUFDO0FBQzlELFlBQU0sSUFBSSxJQUFJLGFBQWEsQ0FBQztBQUM1QixVQUFJLGdCQUFnQixDQUFDLEtBQUssS0FBSyxHQUFHLENBQUM7QUFDbkMsVUFBSSxpQkFBaUIsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFFakMsVUFBSSxTQUFTO0FBR2IsWUFBTSxRQUFRLEtBQUssR0FBRztBQUN0QixVQUFJLFNBQVM7QUFBQSxJQUNqQjtBQUFBLEVBRUo7QUFoR0ksZ0JBRFMsZUFDRixZQUFXO0FBQ2xCLGdCQUZTLGVBRUYsY0FBYTtBQUFBLElBQ2hCLGFBQWEsRUFBRSxNQUFNLEtBQUssS0FBSztBQUFBLElBQy9CLGlCQUFpQixFQUFFLE1BQU0sS0FBSyxTQUFTO0FBQUEsSUFDdkMsWUFBWSxFQUFFLE1BQU0sS0FBSyxLQUFLO0FBQUEsSUFDOUIsZ0JBQWdCLEVBQUUsTUFBTSxLQUFLLFNBQVM7QUFBQSxJQUN0QyxZQUFZLEVBQUUsTUFBTSxLQUFLLEtBQUssU0FBUyxFQUFFO0FBQUEsSUFDekMsUUFBUSxFQUFFLE1BQU0sS0FBSyxLQUFLLFNBQVMsR0FBRztBQUFBLElBQ3RDLFlBQVksRUFBRSxNQUFNLEtBQUssS0FBSyxTQUFTLEdBQUc7QUFBQSxFQUM5Qzs7O0FDckJKO0FBQUE7QUFBQTtBQUFBO0FBTU8sTUFBTSxZQUFOLGNBQXdCLFVBQVU7QUFBQSxJQU1yQyxPQUFPLFdBQVcsUUFBUTtBQUN0QixhQUFPLGtCQUFrQixpQkFBaUI7QUFBQSxJQUM5QztBQUFBLElBRUEsT0FBTztBQUdILFdBQUssS0FBSyxNQUFNLFVBQVU7QUFDMUIsV0FBSyxXQUFXLE1BQU0sWUFBWTtBQUFBLElBQ3RDO0FBQUEsSUFFQSxRQUFRO0FBQ0osV0FBSyxTQUFTLEtBQUssT0FBTyxhQUFhLGVBQWU7QUFDdEQsV0FBSyxPQUFPLGlCQUFpQixLQUFLLFFBQVEsS0FBSyxJQUFJLENBQUM7QUFDcEQsV0FBSyxPQUFPLG1CQUFtQixLQUFLLFVBQVUsS0FBSyxJQUFJLENBQUM7QUFDeEQsV0FBSyxPQUFPLGdCQUFnQixLQUFLLE9BQU8sS0FBSyxJQUFJLENBQUM7QUFDbEQsV0FBSyxPQUFPLGdCQUFnQixLQUFLLE9BQU8sS0FBSyxJQUFJLENBQUM7QUFDbEQsV0FBSyxPQUFPLGNBQWMsS0FBSyxLQUFLLEtBQUssSUFBSSxDQUFDO0FBRTlDLFdBQUssYUFBYSxLQUFLLE9BQU8sYUFBYSxtQkFBbUIsRUFBRSxLQUFLLGlCQUFpQixTQUFTLEtBQUssQ0FBQztBQUNyRyxXQUFLLGVBQWUsS0FBSyxPQUFPLGFBQWEsbUJBQW1CLEVBQUUsS0FBSyxtQkFBbUIsU0FBUyxLQUFLLENBQUM7QUFFekcsY0FBUSxLQUFLLE9BQU87QUFBQSxRQUNoQixLQUFLO0FBQ0QsZUFBSyxZQUFZO0FBQ2pCO0FBQUEsUUFDSixLQUFLO0FBQ0QsZUFBSyxhQUFhO0FBQ2xCO0FBQUEsUUFDSixLQUFLO0FBQ0QsZUFBSyxZQUFZO0FBQ2pCO0FBQUEsUUFDSixLQUFLO0FBQ0QsZUFBSyxXQUFXO0FBQ2hCO0FBQUEsUUFDSixLQUFLO0FBQ0QsZUFBSyxlQUFlO0FBQ3BCO0FBQUEsTUFDUjtBQUFBLElBQ0o7QUFBQTtBQUFBLElBR0EsY0FBYztBQUNWLFlBQU1DLFVBQVM7QUFBQSxRQUNYLE1BQU07QUFBQSxVQUNGLFVBQVU7QUFBQSxVQUNWLE1BQU07QUFBQSxVQUNOLFVBQVUsRUFBRSxLQUFLLEdBQUc7QUFBQSxVQUNwQixZQUFZO0FBQUEsVUFDWixRQUFRO0FBQUEsUUFDWjtBQUFBLE1BQ0o7QUFFQSxZQUFNLFVBQVUsRUFBRSxNQUFNLGFBQWEsTUFBTSxVQUFVLElBQUksY0FBYyxNQUFNLFlBQVksRUFBRTtBQUMzRixXQUFLLEtBQUssSUFBSSxTQUFTLFNBQVNBLFNBQVEsS0FBSyxRQUFRLEtBQUssTUFBTTtBQUNoRSxXQUFLLEdBQUcsYUFBYSxNQUFNQSxRQUFPLFFBQVEsR0FBRztBQUM3QyxVQUFJQyxNQUFLLEtBQUs7QUFBQSxJQUNsQjtBQUFBLElBRUEsZUFBZTtBQUNYLGVBQVMsZ0JBQWdCO0FBQ3JCLGNBQU0sTUFBTTtBQUNaLGdCQUFRLElBQUksR0FBRztBQUNmLFdBQUcsY0FBYyxRQUFRLEdBQUc7QUFDNUIsY0FBTSxpQkFBaUI7QUFBQSxNQUMzQjtBQUVBLGVBQVMsY0FBYztBQUNuQixjQUFNLE1BQU07QUFDWixnQkFBUSxJQUFJLEdBQUc7QUFDZixXQUFHLGNBQWMsUUFBUSxHQUFHO0FBQzVCLGNBQU0saUJBQWlCO0FBQUEsTUFDM0I7QUFFQSxlQUFTLFFBQVE7QUFDYixjQUFNLE1BQU07QUFDWixnQkFBUSxJQUFJLEdBQUc7QUFDZixXQUFHLGNBQWMsUUFBUSxHQUFHO0FBQzVCLGNBQU0saUJBQWlCO0FBQUEsTUFDM0I7QUFHQSxZQUFNLFVBQVU7QUFBQSxRQUNaLE1BQU07QUFBQSxRQUNOLGVBQWU7QUFBQSxRQUNmLGFBQWE7QUFBQSxRQUNiLE9BQU87QUFBQSxNQUNYO0FBRUEsV0FBSyxNQUFNLElBQUksU0FBUyxTQUFTLFFBQVEsS0FBSyxRQUFRLEtBQUssTUFBTTtBQUNqRSxXQUFLLElBQUksT0FBTztBQUNoQixVQUFJLE1BQU0sS0FBSztBQUFBLElBQ25CO0FBQUEsSUFFQSxjQUFjO0FBQ1YsWUFBTUQsVUFBUztBQUFBLFFBQ1gsTUFBTTtBQUFBLFVBQ0YsaUJBQWlCO0FBQUEsUUFDckI7QUFBQSxRQUNBLEtBQUs7QUFBQSxVQUNELE1BQU07QUFBQSxVQUNOLFVBQVU7QUFBQSxVQUNWLFVBQVUsRUFBRSxNQUFNLElBQUksS0FBSyxHQUFHO0FBQUEsVUFDOUIsT0FBTztBQUFBLFVBQ1AsUUFBUTtBQUFBLFVBQ1IsaUJBQWlCO0FBQUEsVUFDakIsV0FBVztBQUFBLFFBQ2Y7QUFBQSxNQUNKO0FBRUEsWUFBTSxVQUFVO0FBQUEsUUFDWixLQUFLO0FBQUEsTUFDVDtBQUVBLFdBQUssS0FBSyxJQUFJLFNBQVMsU0FBU0EsU0FBUSxLQUFLLFFBQVEsS0FBSyxNQUFNO0FBQ2hFLFdBQUssR0FBRyxPQUFPO0FBQ2YsVUFBSUMsTUFBSyxLQUFLO0FBQUEsSUFDbEI7QUFBQSxJQUVBLGFBQWE7QUFDVCxZQUFNRCxVQUFTO0FBQUEsUUFDWCxPQUFPO0FBQUEsVUFDSCxNQUFNO0FBQUEsVUFDTixVQUFVLEVBQUUsTUFBTSxJQUFJLEtBQUssR0FBRztBQUFBLFVBQzlCLE9BQU87QUFBQSxRQUNYO0FBQUEsUUFDQSxNQUFNO0FBQUEsVUFDRixNQUFNO0FBQUEsVUFDTixVQUFVLEVBQUUsS0FBSyxJQUFJO0FBQUEsUUFDekI7QUFBQSxNQUNKO0FBRUEsWUFBTSxVQUFVO0FBQUEsUUFDWixPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsTUFDVjtBQUdBLFdBQUssS0FBSyxJQUFJLFNBQVMsU0FBU0EsU0FBUSxLQUFLLFFBQVEsS0FBSyxNQUFNO0FBQ2hFLFdBQUssR0FBRyxPQUFPO0FBQ2YsVUFBSUMsTUFBSyxLQUFLO0FBQUEsSUFDbEI7QUFBQSxJQUVBLGlCQUFpQjtBQUNiLGVBQVMsVUFBVSxLQUFLO0FBQ3BCLGdCQUFRLElBQUksb0JBQW9CLEtBQUs7QUFBQSxNQUN6QztBQUVBLGVBQVMsUUFBUSxLQUFLO0FBQ2xCLGdCQUFRLElBQUksa0JBQWtCLEtBQUs7QUFBQSxNQUN2QztBQUVBLFlBQU1ELFVBQVM7QUFBQSxRQUNYLFdBQVcsRUFBRSxPQUFPLEdBQUcsUUFBUSxLQUFLO0FBQUEsUUFDcEMsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFVBQ0wsTUFBTTtBQUFBLFVBQ04sVUFBVSxFQUFFLE1BQU0sSUFBSSxLQUFLLEVBQUU7QUFBQSxVQUM3QixRQUFRO0FBQUEsVUFDUixPQUFPO0FBQUEsVUFDUCxpQkFBaUI7QUFBQSxVQUNqQixXQUFXO0FBQUEsVUFDWDtBQUFBLFVBQ0E7QUFBQSxRQUNKO0FBQUEsUUFDQSxPQUFPO0FBQUEsVUFDSCxNQUFNO0FBQUEsVUFDTixVQUFVLEVBQUUsS0FBSyxHQUFHO0FBQUEsUUFDeEI7QUFBQSxNQUNKO0FBRUEsWUFBTSxVQUFVO0FBQUEsUUFDWixTQUFTO0FBQUEsUUFDVCxPQUFPO0FBQUEsTUFDWDtBQUVBLFdBQUssS0FBSyxJQUFJLFNBQVMsU0FBU0EsU0FBUSxLQUFLLFFBQVEsS0FBSyxNQUFNO0FBRWhFLFlBQU0sU0FBUyxLQUFLLEdBQUcsU0FBUyxPQUFPLGFBQWEsZUFBZTtBQUNuRSxhQUFPLGlCQUFpQixLQUFLLGdCQUFnQixLQUFLLElBQUksQ0FBQztBQUN2RCxhQUFPLG1CQUFtQixLQUFLLGtCQUFrQixLQUFLLElBQUksQ0FBQztBQUMzRCxhQUFPLGdCQUFnQixLQUFLLGVBQWUsS0FBSyxJQUFJLENBQUM7QUFDckQsYUFBTyxnQkFBZ0IsS0FBSyxPQUFPLEtBQUssSUFBSSxDQUFDO0FBQzdDLGFBQU8sY0FBYyxLQUFLLGFBQWEsS0FBSyxJQUFJLENBQUM7QUFFakQsV0FBSyxHQUFHLE9BQU87QUFDZixVQUFJQyxNQUFLLEtBQUs7QUFBQSxJQUNsQjtBQUFBLElBRUEsUUFBUSxHQUFHLFFBQVE7QUFFZixVQUFJLEtBQUssSUFBSTtBQUNULGNBQU0sS0FBSyxLQUFLLEdBQUcsY0FBYyxPQUFPLFNBQVM7QUFDakQsYUFBSyxHQUFHLE1BQU0sR0FBRyxFQUFFO0FBQUEsTUFDdkI7QUFFQSxVQUFJLE9BQU8sUUFBUSxpQkFBaUI7QUFDaEMsYUFBSyxPQUFPLEdBQUcsTUFBTTtBQUFBLE1BQ3pCO0FBRUEsV0FBSyxlQUFlLE9BQU8sUUFBUSxLQUFLLEVBQUU7QUFBQSxJQUM5QztBQUFBLElBRUEsT0FBTyxHQUFHLFFBQVE7QUFDZCxVQUFJLEtBQUssSUFBSTtBQUNULGNBQU0sS0FBSyxLQUFLLEdBQUcsY0FBYyxPQUFPLFNBQVM7QUFDakQsYUFBSyxHQUFHLE1BQU0sR0FBRyxFQUFFO0FBQUEsTUFDdkI7QUFFQSxXQUFLLGVBQWUsT0FBTyxRQUFRLEtBQUssRUFBRTtBQUFBLElBQzlDO0FBQUEsSUFFQSxPQUFPLEdBQUcsUUFBUTtBQUNkLGNBQVEsSUFBSSxRQUFRO0FBQ3BCLFdBQUssV0FBVyxLQUFLO0FBRXJCLFdBQUssZUFBZSxPQUFPLFFBQVEsR0FBSyxFQUFFO0FBQUEsSUFDOUM7QUFBQSxJQUVBLEtBQUssR0FBRyxRQUFRO0FBQ1osY0FBUSxJQUFJLE1BQU07QUFDbEIsV0FBSyxhQUFhLEtBQUs7QUFFdkIsVUFBSSxLQUFLO0FBQUksYUFBSyxHQUFHLE9BQU8sR0FBRyxJQUFJO0FBRW5DLFdBQUssZUFBZSxPQUFPLFFBQVEsS0FBSyxFQUFFO0FBQUEsSUFDOUM7QUFBQSxJQUVBLFVBQVUsR0FBRyxRQUFRO0FBQ2pCLGNBQVEsSUFBSSxXQUFXO0FBRXZCLFVBQUksS0FBSztBQUFJLGFBQUssR0FBRyxNQUFNLENBQUM7QUFFNUIsV0FBSyxlQUFlLE9BQU8sUUFBUSxLQUFLLEVBQUU7QUFBQSxJQUM5QztBQUFBLElBRUEsZ0JBQWdCLEdBQUcsUUFBUTtBQUV2QixVQUFJLENBQUMsS0FBSyxNQUFNLENBQUMsS0FBSyxHQUFHLFlBQVksQ0FBQyxLQUFLLEdBQUcsU0FBUztBQUFVO0FBRWpFLFlBQU1BLE1BQUssS0FBSyxHQUFHLFNBQVM7QUFDNUIsWUFBTSxLQUFLQSxJQUFHLGNBQWMsT0FBTyxTQUFTO0FBQzVDLE1BQUFBLElBQUcsTUFBTSxHQUFHLEVBQUU7QUFFZCxVQUFJLE9BQU8sUUFBUSxpQkFBaUI7QUFDaEMsYUFBSyxPQUFPLEdBQUcsTUFBTTtBQUFBLE1BQ3pCO0FBRUEsV0FBSyxlQUFlLE9BQU8sUUFBUSxLQUFLLEVBQUU7QUFBQSxJQUM5QztBQUFBLElBRUEsZUFBZSxHQUFHLFFBQVE7QUFDdEIsVUFBSSxDQUFDLEtBQUssTUFBTSxDQUFDLEtBQUssR0FBRyxZQUFZLENBQUMsS0FBSyxHQUFHLFNBQVM7QUFBVTtBQUVqRSxZQUFNQSxNQUFLLEtBQUssR0FBRyxTQUFTO0FBQzVCLFlBQU0sS0FBS0EsSUFBRyxjQUFjLE9BQU8sU0FBUztBQUM1QyxNQUFBQSxJQUFHLE1BQU0sR0FBRyxFQUFFO0FBRWQsV0FBSyxlQUFlLE9BQU8sUUFBUSxLQUFLLEVBQUU7QUFBQSxJQUM5QztBQUFBLElBRUEsYUFBYSxHQUFHLFFBQVE7QUFDcEIsY0FBUSxJQUFJLGNBQWM7QUFDMUIsV0FBSyxhQUFhLEtBQUs7QUFDdkIsVUFBSSxLQUFLLE1BQU0sS0FBSyxHQUFHLFlBQVksS0FBSyxHQUFHLFNBQVM7QUFBVSxhQUFLLEdBQUcsU0FBUyxTQUFTLE9BQU8sQ0FBQztBQUNoRyxXQUFLLGVBQWUsT0FBTyxRQUFRLEtBQUssRUFBRTtBQUFBLElBQzlDO0FBQUEsSUFFQSxrQkFBa0IsR0FBRyxRQUFRO0FBQ3pCLGNBQVEsSUFBSSxtQkFBbUI7QUFFL0IsVUFBSSxLQUFLLE1BQU0sS0FBSyxHQUFHLFlBQVksS0FBSyxHQUFHLFNBQVM7QUFBVSxhQUFLLEdBQUcsU0FBUyxTQUFTLE1BQU0sQ0FBQztBQUUvRixXQUFLLGVBQWUsT0FBTyxRQUFRLEtBQUssRUFBRTtBQUFBLElBQzlDO0FBQUEsSUFFQSxlQUFlLFFBQVEsVUFBVSxVQUFVO0FBQ3ZDLFlBQU0sUUFBUSxPQUFPLGFBQWEsT0FBTztBQUN6QyxVQUFJLFNBQVMsTUFBTSxlQUFlO0FBQzlCLGNBQU0sVUFBVSxNQUFNLGNBQWM7QUFDcEMsWUFBSSxXQUFXLFFBQVE7QUFBaUIsa0JBQVEsZ0JBQWdCLENBQUMsRUFBRSxNQUFNLFVBQVUsUUFBUTtBQUFBLE1BQy9GO0FBQUEsSUFDSjtBQUFBO0FBQUE7QUFBQTtBQUFBLElBS0EsT0FBTyxJQUFJO0FBQ1AsVUFBSSxNQUFNLGdCQUFnQixNQUFNO0FBQzVCLGFBQUssR0FBRyxVQUFVLEVBQUUsTUFBTSxhQUFhLE1BQU0sVUFBVSxJQUFJLGlCQUFpQixNQUFNLFlBQVksRUFBRTtBQUNoRyxhQUFLLEdBQUcsY0FBYztBQUN0QixjQUFNLGNBQWM7QUFBQSxNQUN4QjtBQUNBLFVBQUksS0FBSztBQUFJLGFBQUssR0FBRyxPQUFPO0FBQzVCLFVBQUksS0FBSztBQUFNLGFBQUssSUFBSSxPQUFPO0FBQUEsSUFDbkM7QUFBQSxFQUNKO0FBN1NJLGdCQURTLFdBQ0YsWUFBVztBQUNsQixnQkFGUyxXQUVGLGNBQWE7QUFBQSxJQUNoQixPQUFPLFNBQVMsS0FBSyxDQUFDLFVBQVUsV0FBVyxhQUFhLFVBQVUsWUFBWSxHQUFHLFFBQVE7QUFBQSxFQUM3Rjs7O0FDVko7QUFBQTtBQUFBLG9CQUFBQztBQUFBO0FBR0EsTUFBTUMsa0JBQU4sTUFBb0I7QUFBQSxJQUNoQixZQUFhLE9BQU8sVUFBVSxPQUFPLE1BQU07QUFDdkMsWUFBTUMsVUFBUyxLQUFLLFVBQVcsSUFBSztBQUNwQyxNQUFBQSxRQUFPLFlBQVksRUFBRSxPQUFPLFFBQVEsUUFBUSxJQUFJO0FBQ2hELE1BQUFBLFFBQU8sU0FBUztBQUNoQixNQUFBQSxRQUFPLE9BQU8sRUFBRSxpQkFBaUIsT0FBTztBQUV4QyxZQUFNLFNBQVMsR0FBRyxNQUFNLFVBQVU7QUFDbEMsYUFBTyxPQUFPO0FBQ2QsWUFBTSxPQUFPLE9BQU8sYUFBYSxNQUFNO0FBQ3ZDLFlBQU0sU0FBUyxTQUFTLE9BQU8sYUFBYSxNQUFNO0FBQ2xELFdBQUssT0FBTyxPQUFPO0FBQ25CLFdBQUssV0FBVyxPQUFPLFNBQVMsTUFBTTtBQUN0QyxhQUFPLGFBQWEsZUFBZTtBQUVuQyxZQUFNLFVBQVUsS0FBSyxXQUFXLElBQUk7QUFFcEMsV0FBSyxXQUFXLElBQUlDLFVBQVUsU0FBU0QsU0FBUSxRQUFRLFNBQVMsTUFBTztBQUV2RSxXQUFLLFNBQVMsSUFBSSxhQUFhLENBQUM7QUFBQSxJQUNwQztBQUFBLElBRUEsSUFBSSxTQUFRO0FBQ1IsYUFBTyxLQUFLLFNBQVM7QUFBQSxJQUN6QjtBQUFBLElBRUEsVUFBVyxNQUFNO0FBc0JiLFlBQU1BLFVBQVMsQ0FBQztBQUNoQixVQUFJLFVBQVU7QUFDZCxZQUFNLGFBQWE7QUFDbkIsWUFBTSxTQUFVLE1BQU0sSUFBSSxXQUFXLEtBQU07QUFDM0MsWUFBTSxVQUFZLE1BQU0sSUFBSSxXQUFXLElBQUs7QUFDNUMsWUFBTSxRQUFRO0FBQ2QsWUFBTSxrQkFBa0I7QUFFeEIsVUFBSSxJQUFJO0FBQ1IsVUFBSSxJQUFJO0FBQ1IsZUFBUyxJQUFFLEdBQUcsSUFBRSxJQUFJLEtBQUk7QUFDcEIsY0FBTSxNQUFNLEVBQUUsTUFBTSxVQUFVLFVBQVUsRUFBRSxHQUFHLEVBQUUsR0FBRyxPQUFPLFFBQVEsU0FBUyxZQUFZLGlCQUFpQixjQUFhLEdBQUcsT0FBTyxVQUFVLEtBQUssU0FBUyxLQUFNLE1BQU0sQ0FBRSxFQUFFO0FBQ3RLLFFBQUFBLFFBQU8sTUFBTSxHQUFHLElBQUk7QUFDcEIsYUFBTSxRQUFRO0FBQUEsTUFDbEI7QUFFQSxXQUFNLFNBQVM7QUFDZixVQUFJO0FBQ0osZUFBUyxJQUFFLEdBQUcsSUFBRSxJQUFJLEtBQUk7QUFDcEIsY0FBTSxNQUFNLEVBQUUsTUFBTSxVQUFVLFVBQVUsRUFBRSxHQUFHLEVBQUUsR0FBRyxPQUFPLFFBQVEsU0FBUyxZQUFZLGlCQUFpQixjQUFhLEdBQUcsT0FBTyxVQUFVLEtBQUssU0FBUyxLQUFNLE1BQU0sSUFBSSxFQUFHLEVBQUU7QUFDM0ssUUFBQUEsUUFBTyxNQUFNLElBQUUsSUFBSSxJQUFJO0FBQ3ZCLGFBQU0sUUFBUTtBQUFBLE1BQ2xCO0FBRUEsV0FBTSxTQUFTO0FBQ2YsVUFBSTtBQUNKLGVBQVMsSUFBRSxHQUFHLElBQUUsR0FBRyxLQUFJO0FBQ25CLGNBQU0sSUFBSyxLQUFHLEtBQUssS0FBRyxJQUFNLFFBQVEsTUFBTSxVQUFVLE1BQU87QUFDM0QsY0FBTSxNQUFNLEVBQUUsTUFBTSxVQUFVLFVBQVUsRUFBRSxHQUFHLEVBQUUsR0FBRyxPQUFPLEdBQUcsUUFBUSxTQUFTLFlBQVksaUJBQWlCLGNBQWEsR0FBRyxPQUFPLFVBQVUsS0FBSyxTQUFTLEtBQU0sTUFBTSxJQUFJLEVBQUcsRUFBRTtBQUM5SyxRQUFBQSxRQUFPLE1BQU0sSUFBRSxJQUFJLElBQUk7QUFDdkIsYUFBTyxJQUFJO0FBQUEsTUFDZjtBQUVBLFdBQU0sU0FBUztBQUNmLFVBQUk7QUFDSixlQUFTLElBQUUsR0FBRyxJQUFFLEdBQUcsS0FBSTtBQUNuQixjQUFNLElBQUssS0FBRyxLQUFLLEtBQUcsSUFBTSxRQUFRLElBQUksVUFBWSxLQUFHLElBQU0sUUFBUSxJQUFJLElBQUksVUFBVztBQUN4RixjQUFNLE1BQU0sRUFBRSxNQUFNLFVBQVUsVUFBVSxFQUFFLEdBQUcsRUFBRSxHQUFHLE9BQU8sR0FBRyxRQUFRLFNBQVMsWUFBWSxpQkFBaUIsY0FBYSxHQUFHLE9BQU8sVUFBVSxLQUFLLFNBQVMsS0FBTSxNQUFNLElBQUksRUFBRyxFQUFFO0FBQzlLLFlBQUksS0FBRztBQUFHLGNBQUksV0FBVztBQUN6QixRQUFBQSxRQUFPLE1BQU0sSUFBRSxJQUFJLElBQUk7QUFDdkIsYUFBTyxJQUFJO0FBQUEsTUFDZjtBQUNBLGFBQU9BO0FBQUEsSUFDWDtBQUFBLElBRUEsV0FBWSxNQUFNLGNBQVksR0FBRztBQUM3QixVQUFJLFVBQVUsQ0FBQztBQUNmLFVBQUk7QUFFSixXQUFLLFdBQVc7QUFDaEIsV0FBSyxnQkFBZ0I7QUFFckIsY0FBTyxhQUFZO0FBQUEsUUFDZixLQUFLO0FBT0QsaUJBQU87QUFBQSxZQUFFO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFDN0M7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUM3QztBQUFBLFlBQU87QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBTztBQUFBLFlBQ2pEO0FBQUEsWUFBUTtBQUFBLFlBQUs7QUFBQSxZQUFPO0FBQUEsWUFBSztBQUFBLFVBQUs7QUFDdkMsbUJBQVEsSUFBRSxHQUFHLElBQUUsS0FBSyxRQUFRLEtBQUk7QUFDNUIsa0JBQU0sTUFBTSxLQUFLLENBQUM7QUFDbEIsZ0JBQUksUUFBTTtBQUFJLHNCQUFRLE1BQU0sR0FBRyxJQUFJO0FBQUEsVUFDdkM7QUFDQTtBQUFBLFFBQ0osS0FBSztBQU1ELGlCQUFPO0FBQUEsWUFBRTtBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQzdDO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFDN0M7QUFBQSxZQUFPO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQU87QUFBQSxZQUNqRDtBQUFBLFlBQVE7QUFBQSxZQUFLO0FBQUEsWUFBTztBQUFBLFlBQUs7QUFBQSxVQUFLO0FBQ3ZDLG1CQUFRLElBQUUsR0FBRyxJQUFFLEtBQUssUUFBUSxLQUFJO0FBQzVCLGtCQUFNLE1BQU0sS0FBSyxDQUFDO0FBQ2xCLGdCQUFJLFFBQU07QUFBSSxzQkFBUSxNQUFNLEdBQUcsSUFBSTtBQUFBLFVBQ3ZDO0FBQ0E7QUFBQSxRQUNKLEtBQUs7QUFNRCxpQkFBTztBQUFBLFlBQUU7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUM3QztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQzdDO0FBQUEsWUFBTztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQU07QUFBQSxZQUFNO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFPO0FBQUEsWUFDbkQ7QUFBQSxZQUFPO0FBQUEsWUFBSztBQUFBLFlBQU87QUFBQSxZQUFLO0FBQUEsVUFBSztBQUN0QyxtQkFBUSxJQUFFLEdBQUcsSUFBRSxLQUFLLFFBQVEsS0FBSTtBQUM1QixrQkFBTSxNQUFNLEtBQUssQ0FBQztBQUNsQixnQkFBSSxRQUFNO0FBQUksc0JBQVEsTUFBTSxHQUFHLElBQUk7QUFBQSxVQUN2QztBQUNBO0FBQUEsUUFDSixLQUFLO0FBTUQsaUJBQU87QUFBQSxZQUFFO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFDN0M7QUFBQSxZQUFPO0FBQUEsWUFBTTtBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUNoRDtBQUFBLFlBQU87QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQUs7QUFBQSxZQUFLO0FBQUEsWUFBTztBQUFBLFlBQ2pEO0FBQUEsWUFBTztBQUFBLFlBQUs7QUFBQSxZQUFPO0FBQUEsWUFBSztBQUFBLFVBQUs7QUFDdEMsbUJBQVEsSUFBRSxHQUFHLElBQUUsS0FBSyxRQUFRLEtBQUk7QUFDNUIsa0JBQU0sTUFBTSxLQUFLLENBQUM7QUFDbEIsZ0JBQUksUUFBTTtBQUFJLHNCQUFRLE1BQU0sR0FBRyxJQUFJO0FBQUEsVUFDdkM7QUFDQTtBQUFBLE1BQ1I7QUFFQSxhQUFPO0FBQUEsSUFDWDtBQUFBLElBRUEsSUFBSSxXQUFVO0FBQ1YsWUFBTSxNQUFNLEtBQUssU0FBUyxPQUFPLG9CQUFxQixLQUFLLE1BQU87QUFDbEUsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUVBLElBQUksZ0JBQWU7QUFDZixZQUFNLE1BQU0sS0FBSyxTQUFTLE9BQU8sb0JBQXFCLEtBQUssTUFBTztBQUNsRSxhQUFPO0FBQUEsSUFDWDtBQUFBLElBRUEsSUFBSSxVQUFTO0FBQ1QsYUFBTyxLQUFLO0FBQUEsSUFDaEI7QUFBQSxJQUVBLElBQUksUUFBUyxPQUFPO0FBQ2hCLFdBQUssU0FBUyxPQUFPLFNBQVM7QUFDOUIsV0FBSyxTQUFTO0FBQUEsSUFDbEI7QUFBQSxJQUVBLFlBQWEsT0FBTztBQUNoQixXQUFLLFNBQVMsVUFBVSxLQUFLLFdBQVksS0FBSyxVQUFVLEtBQU07QUFDOUQsV0FBSyxTQUFTLGNBQWM7QUFBQSxJQUNoQztBQUFBLElBRUEsU0FBVSxPQUFPO0FBQ2IsVUFBSyxDQUFDLEtBQUs7QUFBVTtBQUdyQixVQUFJLFNBQVM7QUFFYixjQUFPLE9BQU07QUFBQSxRQUNULEtBQUs7QUFDRCxlQUFLLFVBQVU7QUFDZixjQUFLLEtBQUssY0FBYztBQUFVLGlCQUFLLGNBQWMsUUFBUyxLQUFLLFVBQVc7QUFDOUU7QUFBQSxRQUNKLEtBQUs7QUFDRCxlQUFLLGNBQWM7QUFDbkIsbUJBQVM7QUFDVDtBQUFBLFFBQ0osS0FBSztBQUNELGVBQUssUUFBUTtBQUNiLGNBQUksS0FBSyxnQkFBYyxHQUFFO0FBQ3JCLGlCQUFLLFlBQWEsQ0FBRTtBQUFBLFVBQ3hCLE9BQUs7QUFDRCxpQkFBSyxZQUFhLENBQUU7QUFBQSxVQUN4QjtBQUNBLGVBQUssU0FBUyxjQUFjO0FBQzVCO0FBQUEsUUFDSixLQUFLO0FBQ0QsZUFBSyxhQUFhLEtBQUssV0FBVyxVQUFXLEdBQUcsS0FBSyxXQUFXLFNBQU8sQ0FBRTtBQUN6RSxtQkFBUztBQUNUO0FBQUEsUUFDSixLQUFLO0FBQ0QsZUFBSyxRQUFRLENBQUMsS0FBSztBQUNuQixjQUFJLEtBQUssaUJBQWUsR0FBRTtBQUN0QixpQkFBSyxZQUFhLENBQUU7QUFBQSxVQUN4QixXQUFVLEtBQUssaUJBQWUsR0FBRTtBQUM1QixpQkFBSyxZQUFhLENBQUU7QUFBQSxVQUN4QixXQUFVLEtBQUssaUJBQWUsR0FBRTtBQUM1QixpQkFBSyxZQUFhLENBQUU7QUFBQSxVQUN4QixXQUFVLEtBQUssaUJBQWUsR0FBRTtBQUM1QixpQkFBSyxZQUFhLENBQUU7QUFBQSxVQUN4QjtBQUNBO0FBQUEsUUFDSjtBQUNJLGdCQUFNLE1BQU0sS0FBSyxTQUFTLFFBQVEsTUFBTSxPQUFPO0FBQy9DLGVBQUssY0FBYztBQUNuQixtQkFBUztBQUNULGNBQUksS0FBSyxpQkFBZTtBQUFHLGlCQUFLLFlBQWEsQ0FBRTtBQUMvQztBQUFBLE1BQ1I7QUFFQSxVQUFLLFFBQVE7QUFDVCxhQUFLLFNBQVMsY0FBZSxLQUFLLFlBQVksS0FBSyxVQUFXO0FBQzlELFlBQUssS0FBSyxjQUFjO0FBQVcsZUFBSyxjQUFjLFVBQVcsS0FBSyxVQUFXO0FBQUEsTUFDckY7QUFBQSxJQUNKO0FBQUEsSUFFQSxTQUFRO0FBQ0osVUFBSSxLQUFLLFVBQVM7QUFDZCxhQUFLLFNBQVMsT0FBTztBQUFBLE1BQ3pCO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFxQkEsTUFBTUMsWUFBTixNQUFjO0FBQUEsSUFDYixZQUFZLFNBQVNELFNBQVEsUUFBUSxRQUFPO0FBQ3JDLFlBQU0sZ0JBQWdCO0FBQUEsUUFDbEIsT0FBTztBQUFBLFFBQ1AsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsTUFBSztBQUFBLFVBQ0QsWUFBVztBQUFBLFVBQ1gsVUFBUztBQUFBLFVBQ1QsU0FBUTtBQUFBLFVBQ1IsaUJBQWlCO0FBQUEsVUFDakIsV0FBVTtBQUFBLFVBQ1YsY0FBYztBQUFBLFFBQ2xCO0FBQUEsTUFDSjtBQUNOLFdBQUssU0FBVUEsWUFBUyxTQUFhLGdCQUFnQkE7QUFFL0MsVUFBSSxLQUFLLE9BQU8sVUFBVTtBQUFXLGFBQUssT0FBTyxRQUFRO0FBQ3pELFVBQUksS0FBSyxPQUFPLFdBQVc7QUFBVyxhQUFLLE9BQU8sU0FBUztBQUMzRCxVQUFJLEtBQUssT0FBTyxTQUFTO0FBQVcsYUFBSyxPQUFPLE9BQU8sRUFBQyxZQUFXLFNBQVMsTUFBSyxJQUFJLFNBQVEsSUFBSSxpQkFBaUIsUUFBUSxXQUFVLFFBQVEsY0FBYyxFQUFDO0FBQzNKLFVBQUksS0FBSyxPQUFPLG1CQUFtQixRQUFXO0FBQzFDLGFBQUssaUJBQWlCO0FBQUEsTUFDMUIsT0FBSztBQUNELGFBQUssaUJBQWlCLEtBQUcsS0FBSyxPQUFPO0FBQUEsTUFDekM7QUFFQSxZQUFNLE9BQU8sS0FBSyxPQUFPO0FBQ3pCLFVBQUksS0FBSyxpQkFBaUI7QUFBVyxhQUFLLGVBQWU7QUFDekQsVUFBSSxLQUFLLGVBQWU7QUFBVyxhQUFLLGFBQWE7QUFDckQsVUFBSSxLQUFLLFlBQVk7QUFBVyxhQUFLLFVBQVU7QUFDL0MsVUFBSSxLQUFLLGFBQWE7QUFBVyxhQUFLLFdBQVc7QUFDakQsVUFBSSxLQUFLLG9CQUFvQjtBQUFXLGFBQUssa0JBQWtCO0FBQy9ELFVBQUksS0FBSyxjQUFjO0FBQVcsYUFBSyxZQUFZO0FBRW5ELGFBQU8sUUFBUyxLQUFLLE1BQU8sRUFBRSxRQUFTLENBQUUsQ0FBRSxNQUFNLEtBQUssTUFBTTtBQUN4RCxZQUFLLE9BQU8sVUFBVyxZQUFZLFNBQVMsYUFBWTtBQUNwRCxnQkFBTSxNQUFPLE1BQU0sYUFBVyxTQUFhLE1BQU0sV0FBVyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUU7QUFFekUsY0FBSSxJQUFJLFNBQVMsVUFBYSxJQUFJLE1BQU07QUFBWSxnQkFBSSxJQUFJLElBQUk7QUFDaEUsY0FBSSxJQUFJLFFBQVEsVUFBYSxJQUFJLE1BQU07QUFBWSxnQkFBSSxJQUFJLElBQUk7QUFFL0QsZ0JBQU0sUUFBUyxNQUFNLFVBQVEsU0FBYSxNQUFNLFFBQVEsS0FBSyxPQUFPO0FBQ3BFLGdCQUFNLFNBQVUsTUFBTSxXQUFTLFNBQWEsTUFBTSxTQUFTLEtBQUssT0FBTztBQUV2RSxjQUFJLElBQUksVUFBVSxVQUFhLElBQUksTUFBTTtBQUFZLGdCQUFJLElBQUksS0FBSyxPQUFPLFFBQVEsSUFBSSxRQUFRO0FBQzdGLGNBQUksSUFBSSxXQUFXLFVBQWEsSUFBSSxNQUFNO0FBQVksZ0JBQUksSUFBSSxLQUFLLE9BQU8sU0FBUyxJQUFJLFNBQVM7QUFFaEcsY0FBSSxJQUFJLE1BQU07QUFBVyxnQkFBSSxJQUFJO0FBQ2pDLGNBQUksSUFBSSxNQUFNO0FBQVcsZ0JBQUksSUFBSTtBQUVqQyxnQkFBTSxXQUFXO0FBRWpCLGNBQUksTUFBTSxTQUFTO0FBQVcsa0JBQU0sT0FBTztBQUFBLFFBQy9DO0FBQUEsTUFDSixDQUFDO0FBR0QsV0FBSyxTQUFTLEtBQUssc0JBQXNCLEtBQUssT0FBTyxPQUFPLEtBQUssT0FBTyxNQUFNO0FBQzlFLFdBQUssVUFBVSxLQUFLLE9BQU8sV0FBVyxJQUFJO0FBQzFDLFdBQUssUUFBUSxLQUFLO0FBRWxCLFlBQU0sVUFBWSxLQUFLLE9BQU8sWUFBWSxTQUFjLEtBQUssT0FBTyxVQUFVO0FBRTlFLFlBQU0sT0FBTyxPQUFPLGFBQWEsTUFBTTtBQUN2QyxXQUFLLFdBQVcsS0FBSztBQUVyQixXQUFLLGdCQUFnQixJQUFJLFFBQVEsUUFBUSxLQUFLLE1BQU07QUFDcEQsV0FBSyxTQUFTLGNBQWMsS0FBSztBQUVqQyxVQUFJQSxRQUFPLFdBQVU7QUFDakIsZUFBTyxhQUFhO0FBQ3BCLGNBQU1FLFNBQVEsQ0FBQ0YsUUFBTyxVQUFVLE9BQU9BLFFBQU8sVUFBVSxRQUFRLElBQUk7QUFDcEUsZUFBTyxNQUFPRSxNQUFNO0FBQ3BCLGFBQUssWUFBWUYsUUFBTztBQUFBLE1BQzVCLE9BQUs7QUFDRCxhQUFLLFlBQVksRUFBRSxPQUFPLEdBQUcsUUFBUSxFQUFFO0FBQUEsTUFDM0M7QUFFQSxXQUFLLFNBQVM7QUFDZCxXQUFLLFNBQVM7QUFDZCxXQUFLLFNBQVMsSUFBSSxhQUFhLENBQUM7QUFDaEMsV0FBSyxVQUFVLElBQUksYUFBYSxDQUFDO0FBQ2pDLFdBQUssVUFBVSxJQUFJLGFBQWEsQ0FBQztBQUVqQyxZQUFNLFNBQVMsT0FBTyxPQUFRLEtBQUssTUFBTyxFQUFFLE9BQVEsQ0FBRSxVQUFTO0FBQzNELGVBQVEsTUFBTSxTQUFTO0FBQUEsTUFDM0IsQ0FBQztBQUNELFVBQUssT0FBTyxTQUFTLEdBQUc7QUFDcEIsY0FBTSxRQUFTQSxRQUFPLFlBQWFBLFFBQU8sVUFBVSxRQUFRO0FBQzVELGNBQU0sU0FBVUEsUUFBTyxZQUFhQSxRQUFPLFVBQVUsU0FBUztBQUM5RCxZQUFJLGFBQWEsU0FBTztBQUN4QixhQUFLLFdBQVcsSUFBSUQsZ0JBQWUsT0FBTyxJQUFLO0FBRS9DLGFBQUssU0FBVSxLQUFLLFFBQVEsS0FBSyxPQUFPLGFBQWM7QUFDdEQsWUFBSSxRQUFRLEtBQUssT0FBTyxDQUFDO0FBQ3pCLGFBQUssT0FBTyxDQUFDLElBQUk7QUFDakIsYUFBSyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLElBQUU7QUFDbEMsYUFBSyxPQUFPLENBQUMsSUFBSSxLQUFLLElBQUksS0FBSyxJQUFFO0FBQ2pDLGdCQUFRLElBQUksb0NBQW9DLE1BQU0sUUFBUSxDQUFDLFlBQVksS0FBSyxTQUFTLEtBQUssTUFBTSxHQUFHO0FBRXZHLHFCQUFhLFFBQU07QUFDbkIsYUFBSyxTQUFVLEtBQUssU0FBUyxLQUFLLFNBQVMsU0FBUyxPQUFPLGFBQWM7QUFDekUsaUJBQVMsTUFBTSxLQUFLLEtBQUc7QUFDdkIsYUFBSyxRQUFRLENBQUMsSUFBSTtBQUNsQixhQUFLLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLEtBQUssSUFBRTtBQUNuQyxhQUFLLFFBQVEsQ0FBQyxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUU7QUFDbEMsZ0JBQVEsSUFBSSxvQ0FBb0MsTUFBTSxRQUFRLENBQUMsWUFBWSxLQUFLLFNBQVMsS0FBSyxPQUFPLEdBQUc7QUFDeEcscUJBQUssSUFBSyxLQUFLLFFBQVEsS0FBSyxRQUFRLEtBQUssT0FBTztBQUNoRCxnQkFBUSxJQUFJLG9DQUFvQyxNQUFNLFFBQVEsQ0FBQyxZQUFZLEtBQUssU0FBUyxLQUFLLE1BQU0sR0FBRztBQUN2RyxjQUFNLE1BQU0sS0FBSyxTQUFTO0FBQzFCLHFCQUFLLFVBQVcsS0FBSyxTQUFTLEtBQUssR0FBRyxDQUFFO0FBQ3hDLFlBQUksT0FBUSxLQUFLLE9BQVE7QUFDekIsWUFBSSxVQUFXLEtBQUssTUFBTztBQUMzQixxQkFBSyxPQUFPLEtBQUssUUFBUSxJQUFJLGNBQWMsT0FBTyxZQUFZO0FBQzlELFlBQUksYUFBYTtBQUNqQixZQUFJLE1BQU0sS0FBSyxNQUFNO0FBQ3JCLFlBQUksU0FBUztBQUNiLFlBQUksU0FBUztBQUNiLGFBQUssU0FBUyxVQUFVO0FBQUEsTUFDNUI7QUFFQSxVQUFJLFlBQVksUUFBVTtBQUN0QixhQUFLLFVBQVUsRUFBRSxNQUFNLEdBQUc7QUFDMUIsYUFBSyxPQUFPLEtBQUssT0FBTztBQUFBLE1BQzVCLE9BQUs7QUFDRCxhQUFLLFVBQVU7QUFDZixjQUFNLE9BQU8sT0FBTyxPQUFPQyxPQUFNLEVBQUUsT0FBUSxDQUFDLFVBQVU7QUFBRSxpQkFBTyxNQUFNLFNBQVMsWUFBWSxNQUFNLGFBQWEsWUFBWSxNQUFNLFNBQVM7QUFBQSxRQUFhLENBQUM7QUFDdEosWUFBSSxLQUFLLFNBQU8sR0FBRTtBQUNkLGVBQUssT0FBTyxpQkFBaUIsSUFBSSxLQUFLLGdCQUFnQixLQUFLLElBQUksQ0FBQztBQUNoRSxnQkFBTSxVQUFVLElBQUksYUFBYSxDQUFDO0FBQ2xDLHVCQUFLLEtBQU0sU0FBUyxLQUFLLE9BQU8sWUFBYTtBQUM3QyxnQkFBTSxZQUFZLEtBQUssT0FBTyxhQUFjLGFBQWEsRUFBRSxVQUFVLEdBQUcsU0FBUyxPQUFPLEtBQUssZUFBZSxDQUFDO0FBQUEsUUFDakg7QUFBQSxNQUNKO0FBRUEsV0FBSyxtQkFBbUIsQ0FBRSxRQUFXLE1BQVU7QUFDL0MsV0FBSyxnQkFBZ0IsQ0FBRSxPQUFPLEtBQU07QUFDcEMsV0FBSyxhQUFhLENBQUUsUUFBVyxNQUFVO0FBQ3pDLFdBQUssYUFBYSxDQUFFLFFBQVcsTUFBVTtBQUV6QyxXQUFLLGNBQWM7QUFFbkIsV0FBSyxPQUFPO0FBQUEsSUFDbkI7QUFBQSxJQUVHLFNBQVUsR0FBRyxZQUFVLEdBQUU7QUFDckIsVUFBSUcsT0FBTTtBQUVWLFVBQUksR0FBRTtBQUNGLGlCQUFRLElBQUUsR0FBRyxJQUFFLEVBQUUsUUFBUSxLQUFJO0FBQ3pCLFVBQUFBLFFBQU8sRUFBRSxDQUFDLEVBQUUsUUFBUSxTQUFTLElBQUk7QUFBQSxRQUNyQztBQUFBLE1BQ0o7QUFFQSxhQUFPQTtBQUFBLElBQ1g7QUFBQTtBQUFBLElBR0EsU0FBUyxLQUFLLE1BQU07QUFDaEIsVUFBSSxJQUFJLEtBQUssQ0FBQyxHQUNaLElBQUksS0FBSyxDQUFDLEdBQ1YsSUFBSSxLQUFLLENBQUMsR0FDVixJQUFJLEtBQUssQ0FBQyxHQUNWLEtBQUssSUFBSSxHQUNULEtBQUssSUFBSSxHQUNULEtBQUssSUFBSSxHQUNULEtBQUssSUFBSTtBQUNYLFVBQUksT0FBTyxLQUFLLEtBQUssS0FBSztBQUMxQixVQUFJLE9BQU8sSUFBSSxJQUFJLElBQUk7QUFDdkIsVUFBSSxPQUFPLFdBQVcsTUFBTTtBQUUxQixZQUFJLENBQUMsSUFBSSxLQUFLLEtBQUs7QUFDbkIsWUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLE1BQU0sR0FBRyxDQUFDO0FBQzVCLFlBQUksQ0FBQyxJQUFJO0FBQUEsTUFDWCxXQUFXLE9BQU8sWUFBWSxNQUFNO0FBRWxDLFlBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLO0FBQ3BCLFlBQUksQ0FBQyxJQUFJLElBQUksS0FBSyxNQUFNLEdBQUcsQ0FBQztBQUM1QixZQUFJLENBQUMsSUFBSTtBQUFBLE1BQ1gsT0FBTztBQUNMLFlBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLElBQUksSUFBSSxJQUFJLEVBQUU7QUFDdEMsWUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLEtBQUssS0FBSyxHQUFHO0FBQzFELFlBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxLQUFLLEtBQUssR0FBRztBQUFBLE1BQzVEO0FBRUEsYUFBTztBQUFBLElBQ1Q7QUFBQSxJQUVGLGNBQWUsT0FBTztBQUNsQixZQUFNLFNBQVMsS0FBSyxPQUFPLFVBQVU7QUFDckMsWUFBTSxZQUFZLEtBQUssV0FBVyxLQUFLO0FBQ3ZDLFVBQUksY0FBYztBQUFZLGVBQU87QUFDckMsVUFBSyxVQUFVLE9BQU87QUFBWSxlQUFPO0FBQ3pDLGFBQU8sVUFBVSxHQUFHLENBQUM7QUFBQSxJQUN6QjtBQUFBLElBRUEsSUFBSSxrQkFBaUI7QUFDakIsYUFBTyxLQUFLLGNBQWMsQ0FBQyxLQUFLLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDeEQ7QUFBQSxJQUVBLGdCQUFnQixHQUFFO0FBQ2QsV0FBSyxVQUFVO0FBRWYsWUFBTSxPQUFPLElBQUksU0FBUyxDQUFDO0FBQzNCLFdBQUssU0FBUyxRQUFTLFdBQVM7QUFDNUIsWUFBSSxNQUFNLFFBQVEsVUFBUztBQUN2QixnQkFBTSxRQUFRLE1BQU0sU0FBUyxDQUFDO0FBQzlCLGdCQUFNLFNBQVMsUUFBUyxDQUFBQyxXQUFTO0FBQzdCLGdCQUFJQSxPQUFNLFFBQVE7QUFBYyxtQkFBSyxVQUFVQTtBQUMvQyxnQkFBSUEsT0FBTSxRQUFRO0FBQWUsbUJBQUssV0FBV0E7QUFBQSxVQUNyRCxDQUFDO0FBQUEsUUFDTDtBQUFBLE1BQ0osQ0FBQztBQUVELFVBQUksRUFBRSxLQUFLLFdBQVcsS0FBSztBQUFXLGdCQUFRLEtBQU0sbURBQW1EO0FBRXZHLGVBQVMsU0FBVSxPQUFRO0FBQ3ZCLGNBQU0sUUFBUyxNQUFNLFlBQVksZUFBZSxTQUFVLElBQUk7QUFDOUQsY0FBTSxNQUFNLEtBQUssaUJBQWlCLEtBQUs7QUFDdkMsWUFBSyxRQUFRLFFBQVc7QUFDcEIsY0FBSyxJQUFJLFFBQVEsVUFBUztBQUN0QixpQkFBSyxPQUFRLEtBQU07QUFBQSxVQUN2QixXQUFXLElBQUksUUFBUSxjQUFhO0FBQ2hDLGdCQUFLLEtBQUssVUFBVTtBQUNoQixrQkFBSyxLQUFLLFNBQVMsU0FBUztBQUN4QixxQkFBSyxTQUFTLFdBQVc7QUFDekIscUJBQUssU0FBUyxhQUFhO0FBQzNCLHFCQUFLLFNBQVMsZ0JBQWdCO0FBQzlCLHFCQUFLLFNBQVMsVUFBVTtBQUFBLGNBQzVCLE9BQUs7QUFDRCxxQkFBSyxTQUFTLFdBQVc7QUFDekIsb0JBQUk7QUFDSix1QkFBTyxRQUFTLEtBQUssTUFBTyxFQUFFLFFBQVMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxNQUFNO0FBQ3RELHNCQUFLLFNBQVM7QUFBTSwyQkFBTztBQUFBLGdCQUMvQixDQUFDO0FBQ0Qsc0JBQU0sS0FBSyxPQUFNLElBQUksU0FBUyxJQUFJLElBQUksU0FBUyxLQUFLLE9BQU8sS0FBSyxXQUFVLEtBQUssT0FBTyxVQUFXLEtBQUssVUFBVTtBQUNoSCxzQkFBTSxJQUFJLEtBQUssSUFBSyxLQUFLLFVBQVUsT0FBTyxLQUFLLFVBQVUsTUFBTyxJQUFFO0FBRWxFLHFCQUFLLFNBQVMsYUFBYSxLQUFLLFFBQVMsSUFBSztBQUM5QyxxQkFBSyxTQUFTLGFBQWE7QUFDM0IscUJBQUssU0FBUyxnQkFBZ0I7QUFDOUIscUJBQUssU0FBUyxVQUFVO0FBQUEsY0FDNUI7QUFBQSxZQUNKO0FBQUEsVUFDSjtBQUFBLFFBQ0o7QUFBQSxNQUNKO0FBQUM7QUFFRCxlQUFTLGNBQWUsT0FBTztBQUMzQixjQUFNLFFBQVMsTUFBTSxZQUFZLGVBQWUsU0FBVSxJQUFJO0FBQzlELGFBQUssY0FBYyxLQUFLLElBQUk7QUFDNUIsWUFBSyxLQUFLLGlCQUFpQixLQUFLLE1BQU0sVUFBYSxLQUFLLGlCQUFpQixLQUFLLEVBQUUsWUFBWSxVQUFTO0FBQ2pHLGdCQUFNLE1BQU0sS0FBSyxpQkFBaUIsS0FBSztBQUN2QyxlQUFLLFdBQVcsS0FBSyxJQUFJLEVBQUUsU0FBUyxJQUFJLFNBQVMsTUFBTSxLQUFLLGNBQWMsS0FBSyxFQUFFO0FBQUEsUUFDckY7QUFBQSxNQUNKO0FBRUEsZUFBUyxZQUFhLE9BQU87QUFDekIsY0FBTSxRQUFTLE1BQU0sWUFBWSxlQUFlLFNBQVUsSUFBSTtBQUM5RCxhQUFLLGNBQWMsS0FBSyxJQUFJO0FBQzVCLFlBQUssS0FBSyxpQkFBaUIsS0FBSyxNQUFNLFVBQWEsS0FBSyxpQkFBaUIsS0FBSyxFQUFFLFlBQVksVUFBUztBQUNqRyxlQUFLLFdBQVcsS0FBSyxJQUFJO0FBQUEsUUFDN0I7QUFBQSxNQUNKO0FBRUEsUUFBRSxpQkFBaUIsT0FBTyxXQUFXO0FBQ2pDLGFBQUssVUFBVTtBQUFBLE1BQ25CLEVBQUUsS0FBSyxJQUFJLENBQUM7QUFDWixRQUFFLGlCQUFrQixVQUFVLFNBQVMsS0FBSyxJQUFJLENBQUU7QUFDbEQsUUFBRSxpQkFBa0IsZUFBZSxjQUFjLEtBQUssSUFBSSxDQUFFO0FBQzVELFFBQUUsaUJBQWtCLGFBQWEsWUFBWSxLQUFLLElBQUksQ0FBRTtBQUFBLElBRTVEO0FBQUEsSUFFQSxRQUFTLEtBQUs7QUFDVixZQUFNLFVBQVUsS0FBSztBQUVyQixjQUFRLFFBQVE7QUFDaEIsY0FBUSxLQUFLO0FBRWIsVUFBSSxJQUFJLGFBQWEsUUFBVTtBQUMzQixjQUFNLE9BQU8sSUFBSSxPQUFRLElBQUksUUFBUztBQUN0QyxnQkFBUSxLQUFNLElBQUs7QUFBQSxNQUN2QixPQUFLO0FBQ0QsY0FBTSxNQUFPLElBQUksYUFBVyxTQUFhLElBQUksV0FBVyxFQUFFLEdBQUUsR0FBRyxHQUFHLEVBQUU7QUFDcEUsY0FBTSxlQUFlLElBQUksZ0JBQWdCO0FBQ3pDLGNBQU0sUUFBUSxJQUFJLFNBQVMsS0FBSyxPQUFPO0FBQ3ZDLGNBQU0sU0FBUyxJQUFJLFVBQVUsS0FBSyxPQUFPO0FBRXpDLGdCQUFRLFVBQVU7QUFFbEIsWUFBSSxpQkFBaUIsR0FBRTtBQUNuQixnQkFBTUMsU0FBUSxLQUFLLEtBQUc7QUFFdEIsa0JBQVEsT0FBTyxJQUFJLElBQUksY0FBYyxJQUFJLENBQUU7QUFDM0Msa0JBQVEsSUFBSyxJQUFJLElBQUksY0FBYyxJQUFJLElBQUksY0FBYyxjQUFjQSxRQUFPQSxTQUFNLEdBQUcsSUFBSTtBQUMzRixrQkFBUSxPQUFRLElBQUksR0FBRyxJQUFJLElBQUksU0FBUyxZQUFhO0FBQ3JELGtCQUFRLElBQUssSUFBSSxJQUFJLGNBQWMsSUFBSSxJQUFJLFNBQVMsY0FBYyxjQUFjLEdBQUdBLFFBQU8sSUFBSTtBQUM5RixrQkFBUSxPQUFRLElBQUksSUFBSSxRQUFRLGNBQWMsSUFBSSxJQUFJLE1BQU07QUFDNUQsa0JBQVEsSUFBSyxJQUFJLElBQUksUUFBUSxjQUFjLElBQUksSUFBSSxTQUFTLGNBQWMsY0FBY0EsU0FBTSxHQUFHQSxTQUFNLEdBQUcsSUFBSTtBQUM5RyxrQkFBUSxPQUFRLElBQUksSUFBSSxPQUFPLElBQUksSUFBSSxZQUFhO0FBQ3BELGtCQUFRLElBQUssSUFBSSxJQUFJLFFBQVEsY0FBYyxJQUFJLElBQUksY0FBYyxjQUFjQSxTQUFNLEdBQUdBLFNBQU0sR0FBRyxJQUFJO0FBQ3JHLGtCQUFRLFVBQVU7QUFDbEIsa0JBQVEsS0FBSztBQUFBLFFBQ2pCLE9BQUs7QUFDRCxrQkFBUSxLQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsT0FBTyxNQUFPO0FBQzFDLGtCQUFRLEtBQUs7QUFBQSxRQUNqQjtBQUFBLE1BR0o7QUFBQSxJQUVKO0FBQUEsSUFFQSxZQUFZLEdBQUcsR0FBRyxHQUFFO0FBQ2hCLFVBQUksS0FBSyxTQUFTO0FBQVc7QUFDN0IsV0FBSyxLQUFLLFNBQVMsSUFBSSxHQUFHLEdBQUcsQ0FBQztBQUFBLElBQ2xDO0FBQUEsSUFFQSxZQUFZLEdBQUcsR0FBRyxHQUFFO0FBQ2hCLFVBQUksS0FBSyxTQUFTO0FBQVc7QUFDN0IsV0FBSyxLQUFLLFNBQVMsSUFBSSxHQUFHLEdBQUcsQ0FBQztBQUFBLElBQ2xDO0FBQUEsSUFFQSxjQUFlLE1BQU0sU0FBUztBQUMxQixVQUFJLE1BQU0sS0FBSyxRQUFRLElBQUk7QUFFM0IsVUFBSSxRQUFNLFFBQVU7QUFDaEIsZ0JBQVEsS0FBTSw4QkFBOEIsWUFBWTtBQUN4RDtBQUFBLE1BQ0o7QUFFQSxVQUFJLE9BQU8sUUFBUSxVQUFTO0FBQ3hCLFlBQUksVUFBVTtBQUFBLE1BQ2xCLE9BQUs7QUFDRCxjQUFNO0FBQUEsTUFDVjtBQUVBLFdBQUssUUFBUSxJQUFJLElBQUk7QUFFckIsV0FBSyxjQUFjO0FBQUEsSUFDdkI7QUFBQSxJQUVBLElBQUksUUFBTztBQUNQLGFBQU8sS0FBSztBQUFBLElBQ2hCO0FBQUEsSUFFQSxxQkFBc0IsR0FBRyxHQUFHO0FBQ3hCLFlBQU0sT0FBTyxPQUFPLFFBQVMsS0FBSyxNQUFPLEVBQUUsT0FBUSxDQUFDLENBQUUsTUFBTUMsSUFBSSxNQUFNO0FBQ2xFLFlBQUksT0FBT0EsU0FBUSxZQUFZLFNBQVMsZUFBZSxTQUFTLFFBQU87QUFDbkUsZ0JBQU0sTUFBTUEsS0FBSTtBQUNoQixnQkFBTSxRQUFTQSxLQUFJLFVBQVUsU0FBYUEsS0FBSSxRQUFRLEtBQUssT0FBTztBQUNsRSxnQkFBTSxTQUFVQSxLQUFJLFdBQVcsU0FBYUEsS0FBSSxTQUFTLEtBQUssT0FBTztBQUNyRSxpQkFBUSxLQUFHLElBQUksS0FBSyxJQUFHLElBQUksSUFBRSxTQUFVLEtBQUcsSUFBSSxLQUFLLElBQUcsSUFBSSxJQUFJO0FBQUEsUUFDbEU7QUFBQSxNQUNKLENBQUM7QUFDRCxZQUFNLE1BQU8sS0FBSyxVQUFRLElBQUssT0FBTyxLQUFLLE9BQU8sS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBRTVELGFBQU87QUFBQSxJQUNYO0FBQUEsSUFFQSxhQUFjLE1BQU1DLFdBQVUsT0FBTztBQUNqQyxVQUFJLE1BQU0sS0FBSyxPQUFPLElBQUk7QUFFMUIsVUFBSSxRQUFNLFFBQVU7QUFDaEIsZ0JBQVEsS0FBTSw2QkFBNkIsWUFBWTtBQUN2RDtBQUFBLE1BQ0o7QUFFQSxVQUFJQSxTQUFRLElBQUk7QUFFaEIsV0FBSyxjQUFjO0FBQUEsSUFDdkI7QUFBQSxJQUVBLE1BQU8sUUFBUSxHQUFHLElBQUk7QUFDbEIsVUFBSSxPQUFPLFFBQVU7QUFDakIsWUFBSSxLQUFLLGlCQUFpQixLQUFLLE1BQU0sUUFBVTtBQUMzQyxlQUFLLGlCQUFpQixLQUFLLElBQUk7QUFDL0IsZUFBSyxjQUFjO0FBQUEsUUFDdkI7QUFBQSxNQUNKLE9BQUs7QUFDRCxjQUFNLElBQUksR0FBRyxDQUFDO0FBQ2QsY0FBTSxJQUFJLEdBQUcsQ0FBQztBQUVkLGNBQU0sTUFBTSxLQUFLLHFCQUFzQixHQUFHLENBQUU7QUFDNUMsWUFBSSxRQUFNLE1BQUs7QUFDWCxjQUFLLEtBQUssaUJBQWlCLEtBQUssTUFBTSxRQUFXO0FBQzdDLGlCQUFLLGlCQUFpQixLQUFLLElBQUk7QUFDL0IsaUJBQUssY0FBYztBQUFBLFVBQ3ZCO0FBQUEsUUFDSixXQUFVLEtBQUssaUJBQWlCLEtBQUssTUFBTSxLQUFLO0FBQzVDLGVBQUssaUJBQWlCLEtBQUssSUFBSTtBQUMvQixlQUFLLGNBQWM7QUFBQSxRQUN2QjtBQUFBLE1BQ0o7QUFBQSxJQUVKO0FBQUEsSUFFQSxPQUFRLFFBQVEsR0FBRyxRQUFNLE9BQU87QUFDNUIsVUFBSSxLQUFLLGlCQUFpQixLQUFLLE1BQU0sUUFBVTtBQUMzQyxjQUFNLE1BQU0sS0FBSyxpQkFBaUIsS0FBSztBQUN2QyxZQUFJLElBQUk7QUFBVSxjQUFJLFNBQVM7QUFDL0IsWUFBSSxJQUFJLFNBQVMsY0FBYTtBQUMxQixjQUFJLE9BQU07QUFDTixnQkFBSyxLQUFLLFVBQVU7QUFDaEIsa0JBQUssS0FBSyxTQUFTLFNBQVM7QUFDeEIscUJBQUssU0FBUyxXQUFXO0FBQ3pCLHFCQUFLLFNBQVMsYUFBYTtBQUMzQixxQkFBSyxTQUFTLGdCQUFnQjtBQUM5QixxQkFBSyxTQUFTLFVBQVU7QUFBQSxjQUM1QixPQUFLO0FBQ0QscUJBQUssU0FBUyxXQUFXO0FBQ3pCLG9CQUFJO0FBQ0osdUJBQU8sUUFBUyxLQUFLLE1BQU8sRUFBRSxRQUFTLENBQUMsQ0FBQyxNQUFNLEtBQUssTUFBTTtBQUN0RCxzQkFBSyxTQUFTO0FBQU0sMkJBQU87QUFBQSxnQkFDL0IsQ0FBQztBQUNELHNCQUFNLEtBQUssT0FBTSxJQUFJLFNBQVMsSUFBSSxJQUFJLFNBQVMsS0FBSyxPQUFPLEtBQUssV0FBVSxLQUFLLE9BQU8sVUFBVyxLQUFLLFVBQVU7QUFDaEgsc0JBQU0sSUFBSSxLQUFLLElBQUssS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLE1BQU8sSUFBRTtBQUVsRSxxQkFBSyxTQUFTLGFBQWEsS0FBSyxRQUFTLElBQUs7QUFDOUMscUJBQUssU0FBUyxhQUFhO0FBQzNCLHFCQUFLLFNBQVMsZ0JBQWdCO0FBQzlCLHFCQUFLLFNBQVMsVUFBVTtBQUFBLGNBQzVCO0FBQUEsWUFDSjtBQUFBLFVBQ0osT0FBSztBQUNELGlCQUFLLFNBQVMsVUFBVyxLQUFLLFNBQVMsVUFBVyxRQUFRO0FBQUEsVUFDOUQ7QUFBQSxRQUNKLE9BQUs7QUFDRCxlQUFLLGlCQUFpQixLQUFLLElBQUk7QUFBQSxRQUNuQztBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFFQSxPQUFRLE9BQU87QUFFWCxVQUFLLEtBQUssaUJBQWlCLEtBQUssTUFBTSxRQUFXO0FBQzdDLFlBQUksS0FBSztBQUFlLGVBQUssY0FBYyxLQUFLLEVBQUUsVUFBVTtBQUM1RDtBQUFBLE1BQ0o7QUFDQSxVQUFLLEtBQUssaUJBQWlCLEtBQUssRUFBRSxhQUFhO0FBQVU7QUFDekQsWUFBTSxNQUFNLEtBQUssaUJBQWlCLEtBQUs7QUFDdkMsVUFBSyxLQUFLLGNBQWMsS0FBSyxHQUFHO0FBQzVCLGNBQU0sYUFBYSxLQUFLLFdBQVcsS0FBSztBQUN4QyxZQUFJLGVBQWUsUUFBVTtBQUN6QixjQUFJLEtBQUssZUFBYztBQUNuQixpQkFBSyxjQUFjLEtBQUssRUFBRSxVQUFVO0FBQ3BDLGlCQUFLLGNBQWMsS0FBSyxFQUFFLFNBQVMsS0FBTSxLQUFLLFdBQVcsS0FBSyxFQUFFLEtBQU07QUFBQSxVQUMxRTtBQUNBLGdCQUFNLE9BQU8sS0FBSyxjQUFlLEtBQU07QUFDdkMsZ0JBQU1DLFVBQVMsT0FBTyxXQUFXO0FBQ2pDLGNBQUksVUFBVSxLQUFLLElBQUssS0FBSyxJQUFLLElBQUksWUFBWSxXQUFXLFVBQVVBLE9BQU0sR0FBRyxDQUFFO0FBQ2xGLGVBQUssY0FBYztBQUFBLFFBQ3ZCO0FBQUEsTUFDSixPQUFLO0FBQ0QsWUFBSSxLQUFLO0FBQWUsZUFBSyxjQUFjLEtBQUssRUFBRSxVQUFVO0FBQUEsTUFDaEU7QUFBQSxJQUNKO0FBQUEsSUFFQSxjQUFlLEtBQUs7QUFDaEIsV0FBSyxPQUFPLDJCQUE0QixLQUFLLFFBQVEsR0FBSTtBQUN6RCxtQkFBSyxLQUFNLEtBQUssU0FBUyxLQUFLLE9BQU8sWUFBYTtBQUNsRCxtQkFBSyxJQUFLLEtBQUssUUFBUSxLQUFLLFFBQVEsS0FBSyxPQUFRO0FBQ2pELFlBQU0sS0FBSyxJQUFJLGFBQWEsQ0FBQztBQUM3QixTQUFHLENBQUMsS0FBTSxLQUFLLE9BQU8sQ0FBQyxJQUFFLEtBQUcsSUFBSyxLQUFLLE9BQU87QUFDN0MsU0FBRyxDQUFDLEtBQUssS0FBRyxLQUFLLE9BQU8sQ0FBQyxJQUFFLEtBQUcsS0FBSyxLQUFLLE9BQU87QUFLL0MsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUVBLGlCQUFrQixZQUFZLE9BQU87QUFDakMsVUFBSSxjQUFZO0FBQU07QUFFdEIsaUJBQVcsb0JBQXFCLEtBQUssTUFBTztBQUM1QyxpQkFBVyxXQUFZLEtBQUssT0FBUTtBQUVwQyxZQUFNLGFBQWEsR0FBRyxNQUFNLFFBQVMsS0FBSyxRQUFRLEtBQUssU0FBUyxLQUFLLGdCQUFnQixHQUFJO0FBRXpGLFVBQUksV0FBVyxXQUFTLEdBQUU7QUFDdEIsbUJBQVcsS0FBSyxLQUFLLGNBQWUsV0FBVyxVQUFVLENBQUMsQ0FBRTtBQUM1RCxhQUFLLE1BQU8sT0FBTyxXQUFXLEVBQUc7QUFDakMsYUFBSyxXQUFXLEtBQUssSUFBSTtBQUN6QixhQUFLLE9BQVEsS0FBTTtBQUFBLE1BQ3ZCLE9BQUs7QUFDRCxhQUFLLE1BQU8sS0FBTTtBQUNsQixhQUFLLFdBQVcsS0FBSyxJQUFJO0FBQ3pCLGFBQUssT0FBUSxLQUFNO0FBQUEsTUFDdkI7QUFBQSxJQUNKO0FBQUEsSUFFSCxTQUFRO0FBQ0QsVUFBSyxLQUFLO0FBQVUsYUFBSyxpQkFBa0IsS0FBSyxTQUFTLENBQUU7QUFDM0QsVUFBSyxLQUFLO0FBQVcsYUFBSyxpQkFBa0IsS0FBSyxVQUFVLENBQUU7QUFFN0QsVUFBSyxLQUFLLFlBQVksS0FBSyxTQUFTO0FBQVUsYUFBSyxTQUFTLE9BQU87QUFFbkUsVUFBSyxDQUFDLEtBQUs7QUFBYztBQUUvQixVQUFJLFVBQVUsS0FBSztBQUVuQixjQUFRLFVBQVUsR0FBRyxHQUFHLEtBQUssT0FBTyxPQUFPLEtBQUssT0FBTyxNQUFNO0FBRXZELFlBQU0sVUFBWSxLQUFLLE9BQU8sS0FBSyxrQkFBb0IsS0FBSyxPQUFPLEtBQUssa0JBQWtCO0FBQzFGLFlBQU0sYUFBZSxLQUFLLE9BQU8sS0FBSyxhQUFlLEtBQUssT0FBTyxLQUFLLGFBQWE7QUFDbkYsWUFBTSxZQUFjLEtBQUssT0FBTyxLQUFLLFlBQWMsS0FBSyxPQUFPLEtBQUssWUFBWTtBQUNoRixZQUFNLFdBQWEsS0FBSyxPQUFPLEtBQUssV0FBYSxLQUFLLE9BQU8sS0FBSyxXQUFXO0FBQzdFLFdBQUssUUFBUSxLQUFLLE9BQU8sSUFBSTtBQUM3QixjQUFRLFlBQVk7QUFDcEIsY0FBUSxTQUFVLEdBQUcsR0FBRyxLQUFLLE9BQU8sT0FBTyxLQUFLLE9BQU8sTUFBTTtBQUU3RCxhQUFPLFFBQVEsS0FBSyxPQUFPLEVBQUUsUUFBUyxDQUFDLENBQUMsTUFBTSxPQUFPLE1BQU07QUFDdkQsY0FBTVIsVUFBVSxLQUFLLE9BQU8sSUFBSSxNQUFJLFNBQWEsS0FBSyxPQUFPLElBQUksSUFBSSxLQUFLLE9BQU87QUFDakYsY0FBTSxVQUFXQSxRQUFPLFlBQVksU0FBYUEsUUFBTyxVQUFVO0FBRWxFLFlBQUksWUFBWSxRQUFPO0FBQ25CLGdCQUFNLE1BQU9BLFFBQU8sYUFBVyxTQUFhQSxRQUFPLFdBQVcsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFO0FBQzNFLGdCQUFNLFFBQVNBLFFBQU8sVUFBUSxTQUFhQSxRQUFPLFFBQVEsS0FBSyxPQUFPO0FBQ3RFLGdCQUFNLFNBQVVBLFFBQU8sV0FBUyxTQUFhQSxRQUFPLFNBQVMsS0FBSyxPQUFPO0FBRXpFLGNBQUlBLFFBQU8sUUFBUSxZQUFZLENBQUMsUUFBUSxZQUFZLEVBQUUsV0FBVyxRQUFRLEdBQUU7QUFDdkUsZ0JBQUtBLFFBQU8saUJBQWlCO0FBQVcsY0FBQUEsUUFBTyxlQUFlO0FBQzlELGdCQUFLQSxRQUFPLGNBQWM7QUFBWSxjQUFBQSxRQUFPLFlBQVk7QUFBQSxVQUM3RDtBQUVBLGVBQUssUUFBU0EsT0FBTztBQUVyQixnQkFBTSxVQUFVLFFBQVEsWUFBWSxFQUFFLFdBQVcsUUFBUTtBQUN6RCxnQkFBTSxRQUFVLEtBQUssaUJBQWlCLENBQUMsTUFBTSxVQUFhLEtBQUssaUJBQWlCLENBQUMsTUFBTUEsV0FBVSxLQUFLLGlCQUFpQixDQUFDLE1BQU0sVUFBYSxLQUFLLGlCQUFpQixDQUFDLE1BQU1BO0FBRXhLLGNBQUtBLFFBQU8sb0JBQW9CLFFBQVU7QUFDdEMsZ0JBQUksU0FBU0EsUUFBTyxRQUFPLFlBQVlBLFFBQU8sVUFBVSxRQUFVO0FBQzlELHNCQUFRLFlBQVlBLFFBQU87QUFBQSxZQUMvQixPQUFLO0FBQ0Qsc0JBQVEsWUFBWUEsUUFBTztBQUFBLFlBQy9CO0FBQ0Esb0JBQVEsU0FBVSxJQUFJLEdBQUcsSUFBSSxHQUFHLE9BQU8sTUFBTztBQUFBLFVBQ2xEO0FBRUEsY0FBSUEsUUFBTyxRQUFRLFVBQVVBLFFBQU8sUUFBUSxZQUFZQSxRQUFPLFFBQVEsY0FBYTtBQUNoRixnQkFBSSxTQUFTO0FBQ2IsZ0JBQUksT0FBTTtBQUNOLGtCQUFJLENBQUMsV0FBV0EsUUFBTyxRQUFRLFVBQVM7QUFDcEMsd0JBQVEsWUFBYUEsUUFBTyxjQUFjLFNBQWFBLFFBQU8sWUFBWTtBQUFBLGNBQzlFLE9BQUs7QUFDRCx3QkFBUSxZQUFhQSxRQUFPLFVBQVUsU0FBYUEsUUFBTyxRQUFVQSxRQUFPLGNBQWMsU0FBYUEsUUFBTyxZQUFZO0FBQUEsY0FDN0g7QUFDQSx1QkFBVUEsUUFBTyxVQUFVO0FBQUEsWUFDL0IsT0FBSztBQUNELHNCQUFRLFlBQWFBLFFBQU8sY0FBYyxTQUFhQSxRQUFPLFlBQVk7QUFBQSxZQUM5RTtBQUVBLGdCQUFLLFNBQVM7QUFDVixvQkFBTSxPQUFPLFFBQVEsWUFBWSxFQUFFLFVBQVUsR0FBRyxRQUFRLFNBQVMsQ0FBQztBQUNsRSxzQkFBUSxLQUFLO0FBQ2Isc0JBQVEsVUFBVyxJQUFJLEdBQUcsSUFBSSxDQUFFO0FBQ2hDLG9CQUFNLE9BQU8sSUFBSSxPQUFPLElBQUk7QUFDNUIsc0JBQVEsS0FBSyxJQUFJO0FBQ2pCLHNCQUFRLFFBQVE7QUFBQSxZQUNwQixPQUFLO0FBQ0QsbUJBQUssU0FBVSxNQUFNLE9BQVE7QUFBQSxZQUNqQztBQUVBLGdCQUFJLFFBQU87QUFDUCxzQkFBUSxVQUFVO0FBQ2xCLHNCQUFRLGNBQWM7QUFDdEIsc0JBQVEsWUFBWTtBQUNwQixzQkFBUSxLQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsT0FBTyxNQUFNO0FBQ3pDLHNCQUFRLE9BQU87QUFBQSxZQUNuQjtBQUFBLFVBQ0osV0FBVUEsUUFBTyxRQUFRLE9BQU07QUFDM0IsZ0JBQUlBLFFBQU8sUUFBUSxRQUFVO0FBQ3pCLG1CQUFLLFVBQVUsT0FBTyxFQUFFLEtBQUssU0FBTTtBQUMvQix3QkFBUSxJQUFJLE1BQU0sSUFBSSxjQUFjLElBQUksUUFBUTtBQUNoRCxnQkFBQUEsUUFBTyxNQUFNO0FBQ2IscUJBQUssY0FBYztBQUNuQixxQkFBSyxPQUFPO0FBQUEsY0FDaEIsQ0FBQyxFQUFFLE1BQU0sU0FBTyxRQUFRLE1BQU0sR0FBRyxDQUFDO0FBQUEsWUFDdEMsT0FBSztBQUNELG9CQUFNLFNBQVNBLFFBQU8sSUFBSSxRQUFNQSxRQUFPLElBQUk7QUFDM0Msb0JBQU0sSUFBSSxRQUFNO0FBQ2hCLHNCQUFRLFVBQVdBLFFBQU8sS0FBSyxJQUFJLEdBQUcsSUFBSSxHQUFHLE9BQU8sQ0FBRTtBQUFBLFlBQzFEO0FBQUEsVUFDSjtBQUFBLFFBQ0o7QUFBQSxNQUNKLENBQUM7QUFFRCxVQUFJLEtBQUs7QUFBZSxhQUFLLGNBQWMsT0FBTztBQUNsRCxXQUFLLGNBQWM7QUFBQSxJQUMxQjtBQUFBLElBRUcsVUFBVSxLQUFLO0FBQ2IsYUFBTyxJQUFJLFFBQVEsQ0FBQyxTQUFTLFdBQVc7QUFDdEMsY0FBTSxNQUFNLElBQUksTUFBTTtBQUN0QixZQUFJLGlCQUFpQixRQUFRLE1BQU0sUUFBUSxHQUFHLENBQUM7QUFDL0MsWUFBSSxpQkFBaUIsU0FBUyxTQUFPLE9BQU8sR0FBRyxDQUFDO0FBQ2hELFlBQUksTUFBTTtBQUFBLE1BQ1osQ0FBQztBQUFBLElBQ0g7QUFBQSxJQUVILHNCQUFzQixHQUFHLEdBQUc7QUFDM0IsWUFBTVMsVUFBUyxTQUFTLGNBQWMsUUFBUTtBQUM5QyxNQUFBQSxRQUFPLFFBQVE7QUFDZixNQUFBQSxRQUFPLFNBQVM7QUFDaEIsYUFBT0E7QUFBQSxJQUNSO0FBQUEsSUFFRyxnQkFBaUIsR0FBRyxHQUFHLEdBQUcsR0FBRyxRQUFRO0FBQ2pDLFlBQU0sTUFBTSxLQUFLO0FBQ2pCLFVBQUksVUFBVTtBQUNkLFVBQUksT0FBTyxJQUFJLFFBQVEsQ0FBQztBQUN4QixVQUFJLE9BQU8sSUFBSSxJQUFJLFFBQVEsQ0FBQztBQUM1QixVQUFJLGlCQUFpQixJQUFJLEdBQUcsR0FBRyxJQUFJLEdBQUcsSUFBSSxNQUFNO0FBQ2hELFVBQUksT0FBTyxJQUFJLEdBQUcsSUFBSSxJQUFJLE1BQU07QUFDaEMsVUFBSSxpQkFBaUIsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLElBQUksUUFBUSxJQUFJLENBQUM7QUFDeEQsVUFBSSxPQUFPLElBQUksUUFBUSxJQUFJLENBQUM7QUFDNUIsVUFBSSxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksTUFBTTtBQUNoRCxVQUFJLE9BQU8sR0FBRyxJQUFJLE1BQU07QUFDeEIsVUFBSSxpQkFBaUIsR0FBRyxHQUFHLElBQUksUUFBUSxDQUFDO0FBQ3hDLFVBQUksVUFBVTtBQUNkLFVBQUksS0FBSztBQUFBLElBQ2I7QUFBQSxJQUVBLE9BQVEsS0FBSztBQUNULFVBQUssS0FBSyxTQUFTO0FBQVk7QUFDL0IsVUFBSyxFQUFFLGVBQWUsVUFBVTtBQUM1QixnQkFBUSxNQUFPLHNEQUFzRDtBQUNyRTtBQUFBLE1BQ0o7QUFDQSxXQUFLLEtBQUssT0FBUSxHQUFJO0FBQUEsSUFDMUI7QUFBQSxJQUVBLElBQUksVUFBUztBQUNULFVBQUksS0FBSyxTQUFTO0FBQVksZUFBTztBQUNyQyxhQUFPLEtBQUssS0FBSztBQUFBLElBQ3JCO0FBQUEsSUFFQSxJQUFJLFFBQVEsT0FBTTtBQUNkLFVBQUksS0FBSyxNQUFLO0FBQ1YsYUFBSyxLQUFLLFNBQVM7QUFBQSxNQUN2QjtBQUFBLElBQ0o7QUFBQSxJQUVBLElBQUksV0FBVTtBQUNWLFVBQUksS0FBSyxXQUFXO0FBQVcsZUFBTztBQUN0QyxXQUFLLE9BQU8sb0JBQXFCLEtBQUssTUFBTztBQUM3QyxhQUFPLEtBQUs7QUFBQSxJQUNoQjtBQUFBLElBRUEsSUFBSSxTQUFTLE9BQU07QUFDZixVQUFJLEtBQUssV0FBVztBQUFXO0FBQy9CLFVBQUksRUFBRSxpQkFBaUIsZUFBZTtBQUNsQyxnQkFBUSxNQUFPLHlGQUF5RjtBQUN4RztBQUFBLE1BQ0o7QUFDQSxXQUFLLE9BQU8sb0JBQXFCLEtBQU07QUFBQSxJQUMzQztBQUFBLElBRUEsSUFBSSxhQUFZO0FBQ1osVUFBSSxLQUFLLFdBQVc7QUFBVyxlQUFPO0FBQ3RDLFdBQUssT0FBTyxvQkFBcUIsS0FBSyxNQUFPO0FBQzdDLGFBQU8sS0FBSztBQUFBLElBQ2hCO0FBQUEsSUFFQSxJQUFJLFdBQVcsT0FBTTtBQUNqQixVQUFJLEtBQUssU0FBUztBQUFXO0FBQzdCLFVBQUksRUFBRSxpQkFBaUIsYUFBYTtBQUNoQyxnQkFBUSxNQUFPLCtGQUErRjtBQUM5RztBQUFBLE1BQ0o7QUFDQSxXQUFLLEtBQUssV0FBVyxLQUFNLEtBQU07QUFBQSxJQUNyQztBQUFBLElBRUgsU0FBUyxNQUFNLEtBQUk7QUFFbEIsWUFBTSxRQUFRLElBQUksTUFBTSxHQUFHO0FBQ3JCLFVBQUksT0FBTztBQUNqQixZQUFNLFFBQVEsQ0FBQztBQUNULFlBQU1ULFVBQVUsS0FBSyxPQUFPLElBQUksTUFBSSxTQUFhLEtBQUssT0FBTyxJQUFJLElBQUksS0FBSyxPQUFPO0FBQ2pGLFlBQU0sUUFBU0EsUUFBTyxVQUFRLFNBQWFBLFFBQU8sUUFBUSxLQUFLLE9BQU87QUFDdEUsWUFBTSxTQUFVQSxRQUFPLFdBQVMsU0FBYUEsUUFBTyxTQUFTLEtBQUssT0FBTztBQUN6RSxZQUFNLE1BQU9BLFFBQU8sYUFBVyxTQUFhQSxRQUFPLFdBQVcsRUFBRSxHQUFFLEdBQUcsR0FBRSxFQUFFO0FBQ3pFLFlBQU0sVUFBV0EsUUFBTyxZQUFVLFNBQWFBLFFBQU8sVUFBVyxLQUFLLE9BQU8sS0FBSyxZQUFVLFNBQWEsS0FBSyxPQUFPLEtBQUssVUFBVTtBQUNwSSxZQUFNLGFBQWNBLFFBQU8sZUFBYSxTQUFhQSxRQUFPLGFBQWE7QUFDekUsWUFBTSxjQUFlQSxRQUFPLGdCQUFjLFNBQWFBLFFBQU8sY0FBYztBQUM1RSxZQUFNLGdCQUFpQkEsUUFBTyxrQkFBZ0IsU0FBYUEsUUFBTyxnQkFBZ0I7QUFDbEYsWUFBTSxlQUFnQkEsUUFBTyxpQkFBZSxTQUFhQSxRQUFPLGVBQWU7QUFDL0UsWUFBTSxPQUFPLEVBQUUsR0FBRSxJQUFJLElBQUUsYUFBYSxHQUFFLElBQUksSUFBRSxZQUFZLE9BQU8sUUFBUSxjQUFjLGNBQWMsUUFBUSxTQUFTLGFBQWEsY0FBYztBQUMvSSxZQUFNLFlBQWFBLFFBQU8sY0FBYyxTQUFhQSxRQUFPLFlBQWEsS0FBSyxPQUFPLEtBQUssY0FBYyxTQUFhLEtBQUssT0FBTyxLQUFLLFlBQVk7QUFDbEosWUFBTSxXQUFZQSxRQUFPLGFBQWEsU0FBY0EsUUFBTyxXQUFhLEtBQUssT0FBTyxLQUFLLGFBQWEsU0FBYSxLQUFLLE9BQU8sS0FBSyxXQUFXO0FBQy9JLFlBQU0sYUFBY0EsUUFBTyxlQUFhLFNBQWFBLFFBQU8sYUFBYyxLQUFLLE9BQU8sS0FBSyxlQUFhLFNBQWEsS0FBSyxPQUFPLEtBQUssYUFBYTtBQUNuSixZQUFNLFVBQVdBLFFBQU8sWUFBWSxTQUFhQSxRQUFPLFVBQVcsS0FBSyxPQUFPLEtBQUssWUFBWSxTQUFhLEtBQUssT0FBTyxLQUFLLFVBQVU7QUFDOUksWUFBTSxhQUFhLFdBQVc7QUFFeEIsWUFBTSxVQUFVLEtBQUs7QUFFckIsY0FBUSxZQUFZO0FBRTFCLGNBQVEsT0FBTyxHQUFHLGVBQWU7QUFFM0IsWUFBTSxRQUFTLFNBQVMsTUFBSztBQUNsQyxZQUFJLFdBQVksTUFBTSxTQUFPLElBQUssR0FBRyxPQUFPLFVBQVU7QUFDaEQsWUFBSSxVQUFVLFFBQVEsWUFBWSxRQUFRO0FBQzFDLFlBQUksUUFBUSxRQUFRLEtBQUssU0FBUyxLQUFLLFNBQU8sR0FBRztBQUMxQyxjQUFJLEtBQUssVUFBUSxLQUFLLFFBQVEsUUFBUSxLQUFLLE9BQU07QUFFN0MsbUJBQU0sUUFBUSxRQUFRLEtBQUssT0FBTTtBQUM3QixrQkFBSSxRQUFRO0FBQ1osaUJBQUU7QUFDRTtBQUNBLDJCQUFXLEtBQUssT0FBTyxHQUFHLEtBQUs7QUFDL0IsMEJBQVUsUUFBUSxZQUFZLFFBQVE7QUFBQSxjQUMxQyxTQUFPLFFBQVEsUUFBUSxLQUFLLFNBQVMsUUFBUyxLQUFLLFNBQU87QUFDMUQ7QUFDQSx5QkFBVyxLQUFLLE9BQU8sR0FBRyxLQUFLO0FBQy9CLG9CQUFNLEtBQU0sUUFBUztBQUNyQixxQkFBTyxLQUFLLE9BQU8sS0FBSztBQUN4QixrQkFBSSxTQUFPO0FBQUc7QUFDZCx3QkFBVSxRQUFRLFlBQVksSUFBSTtBQUFBLFlBQ3RDO0FBQ0EsZ0JBQUksUUFBUTtBQUFJLG9CQUFNLEtBQUssSUFBSTtBQUFBLFVBQ25DLE9BQUs7QUFDYixrQkFBTSxLQUFLLElBQUk7QUFDZixtQkFBTyxHQUFHO0FBQUEsVUFDRjtBQUFBLFFBQ2IsT0FBTTtBQUNMLGlCQUFPO0FBQUEsUUFDUjtBQUFBLE1BQ0QsQ0FBQztBQUVELFVBQUksUUFBUTtBQUFJLGNBQU0sS0FBSyxJQUFJO0FBRXpCLFlBQU0sYUFBYSxNQUFNLFNBQVM7QUFDbEMsVUFBSSxVQUFVO0FBRWQsVUFBSSxhQUFXLEtBQUssVUFBVUEsUUFBTyxhQUFhLFVBQVM7QUFFdkQsWUFBS0EsUUFBTyxZQUFZO0FBQVksVUFBQUEsUUFBTyxVQUFVO0FBQ3JELGNBQU0sWUFBY0EsUUFBTyxjQUFjLFNBQWNBLFFBQU8sWUFBWSxLQUFLLE9BQU8sS0FBSztBQUMzRixnQkFBUSxZQUFZO0FBQ3BCLGFBQUssZ0JBQWlCLElBQUksSUFBSSxRQUFRLElBQUksSUFBSSxHQUFHLElBQUksUUFBUSxDQUFFO0FBQy9ELGdCQUFRLFlBQVk7QUFDcEIsY0FBTUUsU0FBUSxLQUFLLFNBQVM7QUFDNUIsY0FBTSxjQUFjQSxTQUFRO0FBQzVCLGNBQU0sU0FBUyxDQUFDRixRQUFPLFVBQVVFO0FBQ2pDLGFBQUssZ0JBQWlCLElBQUksSUFBSSxRQUFRLElBQUksSUFBSSxJQUFJLFFBQVEsSUFBSSxhQUFhLENBQUM7QUFDNUUsZ0JBQVEsWUFBWTtBQUNwQixrQkFBVUYsUUFBTztBQUNqQixRQUFBQSxRQUFPLGFBQWEsS0FBSyxTQUFTO0FBQUEsTUFDdEM7QUFFTixVQUFJLElBQUksVUFBVSxLQUFLLElBQUksV0FBUztBQUNwQyxVQUFJO0FBRUUsY0FBUSxXQUFXO0FBQUEsUUFDZixLQUFLO0FBQ0QsY0FBSSxLQUFLLElBQUksS0FBSyxRQUFNO0FBQ3hCO0FBQUEsUUFDSixLQUFLO0FBQ0QsY0FBSSxLQUFLLElBQUksS0FBSztBQUNsQjtBQUFBLFFBQ0o7QUFDSSxjQUFJLEtBQUs7QUFDVDtBQUFBLE1BQ1I7QUFFTixZQUFNLFFBQVMsQ0FBQ1UsVUFBUztBQUNmLFlBQUssSUFBSSxhQUFjO0FBQUcsa0JBQVEsU0FBU0EsT0FBTSxHQUFHLENBQUM7QUFDOUQsYUFBSztBQUFBLE1BQ04sQ0FBQztBQUFBLElBQ0Y7QUFBQSxFQUNEOzs7QUN0aENBLGtCQUFnQixZQUE2QjtBQUU3QyxrQkFBZ0IsZ0JBQXVDO0FBRXZELGtCQUFnQixpQkFBd0M7QUFFeEQsa0JBQWdCLGdCQUF1QztBQUV2RCxrQkFBZ0Isc0JBQTZDO0FBRTdELGtCQUFnQixzQkFBNkM7QUFFN0Qsa0JBQWdCLGNBQXFDO0FBRXJELGtCQUFnQixxQkFBNEM7QUFFNUQsa0JBQWdCLFlBQW1DO0FBRW5ELGtCQUFnQixxQkFBNEM7QUFFNUQsa0JBQWdCLDBCQUFpRDtBQUVqRSxrQkFBZ0IsMEJBQWlEO0FBRWpFLGtCQUFnQixZQUFtQztBQUVuRCxrQkFBZ0Isb0JBQTJDO0FBRTNELGtCQUFnQixvQkFBMkM7QUFFM0Qsa0JBQWdCLHNCQUE2QztBQUU3RCxrQkFBZ0IsaUJBQXdDO0FBRXhELGtCQUFnQixrQkFBeUM7QUFFekQsa0JBQWdCLHlCQUFnRDsiLAogICJuYW1lcyI6IFsiSG93bGVyR2xvYmFsIiwgInNlbGYiLCAiSG93bGVyIiwgImUiLCAiaSIsICJIb3dsIiwgInN0ciIsICJTb3VuZCIsICJ0aW1lb3V0IiwgImxlbiIsICJlYXJjdXQiLCAiZXF1YWxzIiwgImxlbiIsICJUeXBlIiwgIlRyYW5zYWN0aW9uVHlwZSIsICJMb2dUYWciLCAiQ29sbGlkZXIiLCAiQWxpZ25tZW50IiwgIkp1c3RpZmljYXRpb24iLCAiVGV4dEVmZmVjdCIsICJJbnB1dFR5cGUiLCAiTGlnaHRUeXBlIiwgIkFuaW1hdGlvblN0YXRlIiwgIkZvcmNlTW9kZSIsICJDb2xsaXNpb25FdmVudFR5cGUiLCAiU2hhcGUiLCAiTWVzaEF0dHJpYnV0ZSIsICJNYXRlcmlhbFBhcmFtVHlwZSIsICJsZW5ndGgiLCAiYW5nbGUiLCAiTG9ja0F4aXMiLCAib2Zmc2V0IiwgIk1lc2hJbmRleFR5cGUiLCAiTWVzaFNraW5uaW5nVHlwZSIsICJjYW52YXMiLCAiYW5pbUlkIiwgIm9mZnNldCIsICJMb2dMZXZlbCIsICJ0aHJlYWRzIiwgInN0ciIsICJjb25maWciLCAiX19kZWNvcmF0ZSIsICJ0ZW1wUXVhdCIsICJjcmVhdGUiLCAiY3JlYXRlIiwgImxlbiIsICJzY2FsZSIsICJhZGQiLCAiY2xvbmUiLCAiY29weSIsICJjcmVhdGUiLCAiZG90IiwgImVxdWFscyIsICJleGFjdEVxdWFscyIsICJmcm9tVmFsdWVzIiwgImlkZW50aXR5IiwgImludmVydCIsICJsZW4iLCAibGVuZ3RoIiwgImxlcnAiLCAibXVsIiwgIm11bHRpcGx5IiwgIm5vcm1hbGl6ZSIsICJyYW5kb20iLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic2NhbGUiLCAic2V0IiwgInNxckxlbiIsICJzcXVhcmVkTGVuZ3RoIiwgInN0ciIsICJhZGQiLCAiY2xvbmUiLCAiY29weSIsICJjcmVhdGUiLCAiZXF1YWxzIiwgImV4YWN0RXF1YWxzIiwgImZyb21WYWx1ZXMiLCAibXVsIiwgIm11bHRpcGx5IiwgInJhbmRvbSIsICJyb3RhdGVYIiwgInJvdGF0ZVkiLCAicm90YXRlWiIsICJzY2FsZSIsICJzZXQiLCAic3RyIiwgInN1YiIsICJzdWJ0cmFjdCIsICJjcmVhdGUiLCAiY2xvbmUiLCAiZnJvbVZhbHVlcyIsICJjb3B5IiwgInNldCIsICJhZGQiLCAic3VidHJhY3QiLCAibXVsdGlwbHkiLCAic2NhbGUiLCAibGVuIiwgInJhbmRvbSIsICJyb3RhdGVYIiwgInJvdGF0ZVkiLCAicm90YXRlWiIsICJzdHIiLCAiZXhhY3RFcXVhbHMiLCAiZXF1YWxzIiwgInN1YiIsICJtdWwiLCAib2Zmc2V0IiwgImNyZWF0ZSIsICJjbG9uZSIsICJmcm9tVmFsdWVzIiwgImNvcHkiLCAic2V0IiwgImFkZCIsICJzY2FsZSIsICJsZW5ndGgiLCAic3F1YXJlZExlbmd0aCIsICJub3JtYWxpemUiLCAibGVuIiwgImRvdCIsICJsZXJwIiwgImV4YWN0RXF1YWxzIiwgImVxdWFscyIsICJmb3JFYWNoIiwgImNyZWF0ZSIsICJvZmZzZXQiLCAiY3JlYXRlIiwgImlkZW50aXR5IiwgImRvdCIsICJtdWx0aXBseSIsICJyb3RhdGVYIiwgInJvdGF0ZVkiLCAicm90YXRlWiIsICJzY2FsZSIsICJyYW5kb20iLCAiaW52ZXJ0IiwgInN0ciIsICJjbG9uZSIsICJmcm9tVmFsdWVzIiwgImNvcHkiLCAic2V0IiwgImFkZCIsICJtdWwiLCAibGVycCIsICJsZW5ndGgiLCAibGVuIiwgInNxdWFyZWRMZW5ndGgiLCAic3FyTGVuIiwgIm5vcm1hbGl6ZSIsICJleGFjdEVxdWFscyIsICJlcXVhbHMiLCAiYWRkIiwgImNsb25lIiwgImNvbmp1Z2F0ZSIsICJjb3B5IiwgImNyZWF0ZSIsICJkb3QiLCAiZXF1YWxzIiwgImV4YWN0RXF1YWxzIiwgImZyb21Sb3RhdGlvbiIsICJmcm9tUm90YXRpb25UcmFuc2xhdGlvbiIsICJmcm9tVHJhbnNsYXRpb24iLCAiZnJvbVZhbHVlcyIsICJnZXRUcmFuc2xhdGlvbiIsICJpZGVudGl0eSIsICJpbnZlcnQiLCAibGVuIiwgImxlbmd0aCIsICJsZXJwIiwgIm11bCIsICJtdWx0aXBseSIsICJub3JtYWxpemUiLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic2NhbGUiLCAic2V0IiwgInNxckxlbiIsICJzcXVhcmVkTGVuZ3RoIiwgInN0ciIsICJ0cmFuc2xhdGUiLCAiY3JlYXRlIiwgImNsb25lIiwgImZyb21WYWx1ZXMiLCAiZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24iLCAiZnJvbVRyYW5zbGF0aW9uIiwgImZyb21Sb3RhdGlvbiIsICJjb3B5IiwgImlkZW50aXR5IiwgInNldCIsICJnZXRUcmFuc2xhdGlvbiIsICJ0cmFuc2xhdGUiLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAiYWRkIiwgIm11bHRpcGx5IiwgIm11bCIsICJzY2FsZSIsICJkb3QiLCAibGVycCIsICJpbnZlcnQiLCAic3F1YXJlZExlbmd0aCIsICJjb25qdWdhdGUiLCAibGVuZ3RoIiwgImxlbiIsICJzcXJMZW4iLCAibm9ybWFsaXplIiwgInN0ciIsICJleGFjdEVxdWFscyIsICJlcXVhbHMiLCAiX19kZWNvcmF0ZSIsICJfX2RlY29yYXRlIiwgInRlbXBWZWMiLCAiY2FudmFzIiwgImRpc3QiLCAiX19kZWNvcmF0ZSIsICJfX2RlY29yYXRlIiwgImltcG9ydF9ob3dsZXIiLCAiX19kZWNvcmF0ZSIsICJjYW52YXMiLCAiX19kZWNvcmF0ZSIsICJhIiwgImRpcmVjdGlvbiIsICJjbGFtcCIsICJ0ZW1wUXVhdCIsICJ0YXJnZXRQb3MiLCAiX19kZWNvcmF0ZSIsICJ0ZW1wVmVjMyIsICJlYXJjdXQiLCAibG9va0F0IiwgInN0YXRlIiwgIm9mZnNldCIsICJkaXN0IiwgImRvdCIsICJjb25maWciLCAic2NhbGUiLCAic3RyIiwgImNoaWxkIiwgImFuZ2xlIiwgImVsbSIsICJwcm9wZXJ0eSIsICJvZmZzZXQiLCAiY2FudmFzIiwgImxpbmUiLCAiY29uZmlnIiwgInVpIiwgInRlbXBRdWF0MiIsICJsb29rQXQiLCAidGVtcFF1YXQyIiwgIm5ld0RpciIsICJsb29rQXQiLCAiZyIsICJ0ZW1wUXVhdDIiLCAiY29uZmlnIiwgInVpIiwgIkNhbnZhc1VJIiwgIkNhbnZhc0tleWJvYXJkIiwgImNvbmZpZyIsICJDYW52YXNVSSIsICJzY2FsZSIsICJzdHIiLCAiY2hpbGQiLCAiYW5nbGUiLCAiZWxtIiwgInByb3BlcnR5IiwgIm9mZnNldCIsICJjYW52YXMiLCAibGluZSJdCn0K
