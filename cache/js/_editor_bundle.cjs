(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, { get: all[name], enumerable: true });
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));
  var __publicField = (obj, key, value) => {
    __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
    return value;
  };
  var __accessCheck = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet = (obj, member, getter) => {
    __accessCheck(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateMethod = (obj, member, method) => {
    __accessCheck(obj, member, "access private method");
    return method;
  };

  // node_modules/howler/dist/howler.js
  var require_howler = __commonJS({
    "node_modules/howler/dist/howler.js"(exports) {
      (function() {
        "use strict";
        var HowlerGlobal2 = function() {
          this.init();
        };
        HowlerGlobal2.prototype = {
          /**
           * Initialize the global Howler object.
           * @return {Howler}
           */
          init: function() {
            var self2 = this || Howler2;
            self2._counter = 1e3;
            self2._html5AudioPool = [];
            self2.html5PoolSize = 10;
            self2._codecs = {};
            self2._howls = [];
            self2._muted = false;
            self2._volume = 1;
            self2._canPlayEvent = "canplaythrough";
            self2._navigator = typeof window !== "undefined" && window.navigator ? window.navigator : null;
            self2.masterGain = null;
            self2.noAudio = false;
            self2.usingWebAudio = true;
            self2.autoSuspend = true;
            self2.ctx = null;
            self2.autoUnlock = true;
            self2._setup();
            return self2;
          },
          /**
           * Get/set the global volume for all sounds.
           * @param  {Float} vol Volume from 0.0 to 1.0.
           * @return {Howler/Float}     Returns self or current volume.
           */
          volume: function(vol) {
            var self2 = this || Howler2;
            vol = parseFloat(vol);
            if (!self2.ctx) {
              setupAudioContext();
            }
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              self2._volume = vol;
              if (self2._muted) {
                return self2;
              }
              if (self2.usingWebAudio) {
                self2.masterGain.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node) {
                      sound._node.volume = sound._volume * vol;
                    }
                  }
                }
              }
              return self2;
            }
            return self2._volume;
          },
          /**
           * Handle muting and unmuting globally.
           * @param  {Boolean} muted Is muted or not.
           */
          mute: function(muted) {
            var self2 = this || Howler2;
            if (!self2.ctx) {
              setupAudioContext();
            }
            self2._muted = muted;
            if (self2.usingWebAudio) {
              self2.masterGain.gain.setValueAtTime(muted ? 0 : self2._volume, Howler2.ctx.currentTime);
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (!self2._howls[i]._webAudio) {
                var ids = self2._howls[i]._getSoundIds();
                for (var j = 0; j < ids.length; j++) {
                  var sound = self2._howls[i]._soundById(ids[j]);
                  if (sound && sound._node) {
                    sound._node.muted = muted ? true : sound._muted;
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Handle stopping all sounds globally.
           */
          stop: function() {
            var self2 = this || Howler2;
            for (var i = 0; i < self2._howls.length; i++) {
              self2._howls[i].stop();
            }
            return self2;
          },
          /**
           * Unload and destroy all currently loaded Howl objects.
           * @return {Howler}
           */
          unload: function() {
            var self2 = this || Howler2;
            for (var i = self2._howls.length - 1; i >= 0; i--) {
              self2._howls[i].unload();
            }
            if (self2.usingWebAudio && self2.ctx && typeof self2.ctx.close !== "undefined") {
              self2.ctx.close();
              self2.ctx = null;
              setupAudioContext();
            }
            return self2;
          },
          /**
           * Check for codec support of specific extension.
           * @param  {String} ext Audio file extention.
           * @return {Boolean}
           */
          codecs: function(ext) {
            return (this || Howler2)._codecs[ext.replace(/^x-/, "")];
          },
          /**
           * Setup various state values for global tracking.
           * @return {Howler}
           */
          _setup: function() {
            var self2 = this || Howler2;
            self2.state = self2.ctx ? self2.ctx.state || "suspended" : "suspended";
            self2._autoSuspend();
            if (!self2.usingWebAudio) {
              if (typeof Audio !== "undefined") {
                try {
                  var test = new Audio();
                  if (typeof test.oncanplaythrough === "undefined") {
                    self2._canPlayEvent = "canplay";
                  }
                } catch (e) {
                  self2.noAudio = true;
                }
              } else {
                self2.noAudio = true;
              }
            }
            try {
              var test = new Audio();
              if (test.muted) {
                self2.noAudio = true;
              }
            } catch (e) {
            }
            if (!self2.noAudio) {
              self2._setupCodecs();
            }
            return self2;
          },
          /**
           * Check for browser support for various codecs and cache the results.
           * @return {Howler}
           */
          _setupCodecs: function() {
            var self2 = this || Howler2;
            var audioTest = null;
            try {
              audioTest = typeof Audio !== "undefined" ? new Audio() : null;
            } catch (err) {
              return self2;
            }
            if (!audioTest || typeof audioTest.canPlayType !== "function") {
              return self2;
            }
            var mpegTest = audioTest.canPlayType("audio/mpeg;").replace(/^no$/, "");
            var ua = self2._navigator ? self2._navigator.userAgent : "";
            var checkOpera = ua.match(/OPR\/(\d+)/g);
            var isOldOpera = checkOpera && parseInt(checkOpera[0].split("/")[1], 10) < 33;
            var checkSafari = ua.indexOf("Safari") !== -1 && ua.indexOf("Chrome") === -1;
            var safariVersion = ua.match(/Version\/(.*?) /);
            var isOldSafari = checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15;
            self2._codecs = {
              mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType("audio/mp3;").replace(/^no$/, ""))),
              mpeg: !!mpegTest,
              opus: !!audioTest.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
              ogg: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              oga: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              wav: !!(audioTest.canPlayType('audio/wav; codecs="1"') || audioTest.canPlayType("audio/wav")).replace(/^no$/, ""),
              aac: !!audioTest.canPlayType("audio/aac;").replace(/^no$/, ""),
              caf: !!audioTest.canPlayType("audio/x-caf;").replace(/^no$/, ""),
              m4a: !!(audioTest.canPlayType("audio/x-m4a;") || audioTest.canPlayType("audio/m4a;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              m4b: !!(audioTest.canPlayType("audio/x-m4b;") || audioTest.canPlayType("audio/m4b;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              mp4: !!(audioTest.canPlayType("audio/x-mp4;") || audioTest.canPlayType("audio/mp4;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              dolby: !!audioTest.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
              flac: !!(audioTest.canPlayType("audio/x-flac;") || audioTest.canPlayType("audio/flac;")).replace(/^no$/, "")
            };
            return self2;
          },
          /**
           * Some browsers/devices will only allow audio to be played after a user interaction.
           * Attempt to automatically unlock audio on the first user interaction.
           * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/
           * @return {Howler}
           */
          _unlockAudio: function() {
            var self2 = this || Howler2;
            if (self2._audioUnlocked || !self2.ctx) {
              return;
            }
            self2._audioUnlocked = false;
            self2.autoUnlock = false;
            if (!self2._mobileUnloaded && self2.ctx.sampleRate !== 44100) {
              self2._mobileUnloaded = true;
              self2.unload();
            }
            self2._scratchBuffer = self2.ctx.createBuffer(1, 1, 22050);
            var unlock = function(e) {
              while (self2._html5AudioPool.length < self2.html5PoolSize) {
                try {
                  var audioNode = new Audio();
                  audioNode._unlocked = true;
                  self2._releaseHtml5Audio(audioNode);
                } catch (e2) {
                  self2.noAudio = true;
                  break;
                }
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node && !sound._node._unlocked) {
                      sound._node._unlocked = true;
                      sound._node.load();
                    }
                  }
                }
              }
              self2._autoResume();
              var source = self2.ctx.createBufferSource();
              source.buffer = self2._scratchBuffer;
              source.connect(self2.ctx.destination);
              if (typeof source.start === "undefined") {
                source.noteOn(0);
              } else {
                source.start(0);
              }
              if (typeof self2.ctx.resume === "function") {
                self2.ctx.resume();
              }
              source.onended = function() {
                source.disconnect(0);
                self2._audioUnlocked = true;
                document.removeEventListener("touchstart", unlock, true);
                document.removeEventListener("touchend", unlock, true);
                document.removeEventListener("click", unlock, true);
                document.removeEventListener("keydown", unlock, true);
                for (var i2 = 0; i2 < self2._howls.length; i2++) {
                  self2._howls[i2]._emit("unlock");
                }
              };
            };
            document.addEventListener("touchstart", unlock, true);
            document.addEventListener("touchend", unlock, true);
            document.addEventListener("click", unlock, true);
            document.addEventListener("keydown", unlock, true);
            return self2;
          },
          /**
           * Get an unlocked HTML5 Audio object from the pool. If none are left,
           * return a new Audio object and throw a warning.
           * @return {Audio} HTML5 Audio object.
           */
          _obtainHtml5Audio: function() {
            var self2 = this || Howler2;
            if (self2._html5AudioPool.length) {
              return self2._html5AudioPool.pop();
            }
            var testPlay = new Audio().play();
            if (testPlay && typeof Promise !== "undefined" && (testPlay instanceof Promise || typeof testPlay.then === "function")) {
              testPlay.catch(function() {
                console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.");
              });
            }
            return new Audio();
          },
          /**
           * Return an activated HTML5 Audio object to the pool.
           * @return {Howler}
           */
          _releaseHtml5Audio: function(audio) {
            var self2 = this || Howler2;
            if (audio._unlocked) {
              self2._html5AudioPool.push(audio);
            }
            return self2;
          },
          /**
           * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.
           * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.
           * @return {Howler}
           */
          _autoSuspend: function() {
            var self2 = this;
            if (!self2.autoSuspend || !self2.ctx || typeof self2.ctx.suspend === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (self2._howls[i]._webAudio) {
                for (var j = 0; j < self2._howls[i]._sounds.length; j++) {
                  if (!self2._howls[i]._sounds[j]._paused) {
                    return self2;
                  }
                }
              }
            }
            if (self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
            }
            self2._suspendTimer = setTimeout(function() {
              if (!self2.autoSuspend) {
                return;
              }
              self2._suspendTimer = null;
              self2.state = "suspending";
              var handleSuspension = function() {
                self2.state = "suspended";
                if (self2._resumeAfterSuspend) {
                  delete self2._resumeAfterSuspend;
                  self2._autoResume();
                }
              };
              self2.ctx.suspend().then(handleSuspension, handleSuspension);
            }, 3e4);
            return self2;
          },
          /**
           * Automatically resume the Web Audio AudioContext when a new sound is played.
           * @return {Howler}
           */
          _autoResume: function() {
            var self2 = this;
            if (!self2.ctx || typeof self2.ctx.resume === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            if (self2.state === "running" && self2.ctx.state !== "interrupted" && self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
              self2._suspendTimer = null;
            } else if (self2.state === "suspended" || self2.state === "running" && self2.ctx.state === "interrupted") {
              self2.ctx.resume().then(function() {
                self2.state = "running";
                for (var i = 0; i < self2._howls.length; i++) {
                  self2._howls[i]._emit("resume");
                }
              });
              if (self2._suspendTimer) {
                clearTimeout(self2._suspendTimer);
                self2._suspendTimer = null;
              }
            } else if (self2.state === "suspending") {
              self2._resumeAfterSuspend = true;
            }
            return self2;
          }
        };
        var Howler2 = new HowlerGlobal2();
        var Howl2 = function(o) {
          var self2 = this;
          if (!o.src || o.src.length === 0) {
            console.error("An array of source files must be passed with any new Howl.");
            return;
          }
          self2.init(o);
        };
        Howl2.prototype = {
          /**
           * Initialize a new Howl group object.
           * @param  {Object} o Passed in properties for this group.
           * @return {Howl}
           */
          init: function(o) {
            var self2 = this;
            if (!Howler2.ctx) {
              setupAudioContext();
            }
            self2._autoplay = o.autoplay || false;
            self2._format = typeof o.format !== "string" ? o.format : [o.format];
            self2._html5 = o.html5 || false;
            self2._muted = o.mute || false;
            self2._loop = o.loop || false;
            self2._pool = o.pool || 5;
            self2._preload = typeof o.preload === "boolean" || o.preload === "metadata" ? o.preload : true;
            self2._rate = o.rate || 1;
            self2._sprite = o.sprite || {};
            self2._src = typeof o.src !== "string" ? o.src : [o.src];
            self2._volume = o.volume !== void 0 ? o.volume : 1;
            self2._xhr = {
              method: o.xhr && o.xhr.method ? o.xhr.method : "GET",
              headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,
              withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false
            };
            self2._duration = 0;
            self2._state = "unloaded";
            self2._sounds = [];
            self2._endTimers = {};
            self2._queue = [];
            self2._playLock = false;
            self2._onend = o.onend ? [{ fn: o.onend }] : [];
            self2._onfade = o.onfade ? [{ fn: o.onfade }] : [];
            self2._onload = o.onload ? [{ fn: o.onload }] : [];
            self2._onloaderror = o.onloaderror ? [{ fn: o.onloaderror }] : [];
            self2._onplayerror = o.onplayerror ? [{ fn: o.onplayerror }] : [];
            self2._onpause = o.onpause ? [{ fn: o.onpause }] : [];
            self2._onplay = o.onplay ? [{ fn: o.onplay }] : [];
            self2._onstop = o.onstop ? [{ fn: o.onstop }] : [];
            self2._onmute = o.onmute ? [{ fn: o.onmute }] : [];
            self2._onvolume = o.onvolume ? [{ fn: o.onvolume }] : [];
            self2._onrate = o.onrate ? [{ fn: o.onrate }] : [];
            self2._onseek = o.onseek ? [{ fn: o.onseek }] : [];
            self2._onunlock = o.onunlock ? [{ fn: o.onunlock }] : [];
            self2._onresume = [];
            self2._webAudio = Howler2.usingWebAudio && !self2._html5;
            if (typeof Howler2.ctx !== "undefined" && Howler2.ctx && Howler2.autoUnlock) {
              Howler2._unlockAudio();
            }
            Howler2._howls.push(self2);
            if (self2._autoplay) {
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play();
                }
              });
            }
            if (self2._preload && self2._preload !== "none") {
              self2.load();
            }
            return self2;
          },
          /**
           * Load the audio file.
           * @return {Howler}
           */
          load: function() {
            var self2 = this;
            var url = null;
            if (Howler2.noAudio) {
              self2._emit("loaderror", null, "No audio support.");
              return;
            }
            if (typeof self2._src === "string") {
              self2._src = [self2._src];
            }
            for (var i = 0; i < self2._src.length; i++) {
              var ext, str5;
              if (self2._format && self2._format[i]) {
                ext = self2._format[i];
              } else {
                str5 = self2._src[i];
                if (typeof str5 !== "string") {
                  self2._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                  continue;
                }
                ext = /^data:audio\/([^;,]+);/i.exec(str5);
                if (!ext) {
                  ext = /\.([^.]+)$/.exec(str5.split("?", 1)[0]);
                }
                if (ext) {
                  ext = ext[1].toLowerCase();
                }
              }
              if (!ext) {
                console.warn('No file extension was found. Consider using the "format" property or specify an extension.');
              }
              if (ext && Howler2.codecs(ext)) {
                url = self2._src[i];
                break;
              }
            }
            if (!url) {
              self2._emit("loaderror", null, "No codec support for selected audio sources.");
              return;
            }
            self2._src = url;
            self2._state = "loading";
            if (window.location.protocol === "https:" && url.slice(0, 5) === "http:") {
              self2._html5 = true;
              self2._webAudio = false;
            }
            new Sound2(self2);
            if (self2._webAudio) {
              loadBuffer(self2);
            }
            return self2;
          },
          /**
           * Play a sound or resume previous playback.
           * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Number}          Sound ID.
           */
          play: function(sprite, internal) {
            var self2 = this;
            var id = null;
            if (typeof sprite === "number") {
              id = sprite;
              sprite = null;
            } else if (typeof sprite === "string" && self2._state === "loaded" && !self2._sprite[sprite]) {
              return null;
            } else if (typeof sprite === "undefined") {
              sprite = "__default";
              if (!self2._playLock) {
                var num = 0;
                for (var i = 0; i < self2._sounds.length; i++) {
                  if (self2._sounds[i]._paused && !self2._sounds[i]._ended) {
                    num++;
                    id = self2._sounds[i]._id;
                  }
                }
                if (num === 1) {
                  sprite = null;
                } else {
                  id = null;
                }
              }
            }
            var sound = id ? self2._soundById(id) : self2._inactiveSound();
            if (!sound) {
              return null;
            }
            if (id && !sprite) {
              sprite = sound._sprite || "__default";
            }
            if (self2._state !== "loaded") {
              sound._sprite = sprite;
              sound._ended = false;
              var soundId = sound._id;
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play(soundId);
                }
              });
              return soundId;
            }
            if (id && !sound._paused) {
              if (!internal) {
                self2._loadQueue("play");
              }
              return sound._id;
            }
            if (self2._webAudio) {
              Howler2._autoResume();
            }
            var seek = Math.max(0, sound._seek > 0 ? sound._seek : self2._sprite[sprite][0] / 1e3);
            var duration = Math.max(0, (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3 - seek);
            var timeout2 = duration * 1e3 / Math.abs(sound._rate);
            var start = self2._sprite[sprite][0] / 1e3;
            var stop = (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3;
            sound._sprite = sprite;
            sound._ended = false;
            var setParams = function() {
              sound._paused = false;
              sound._seek = seek;
              sound._start = start;
              sound._stop = stop;
              sound._loop = !!(sound._loop || self2._sprite[sprite][2]);
            };
            if (seek >= stop) {
              self2._ended(sound);
              return;
            }
            var node = sound._node;
            if (self2._webAudio) {
              var playWebAudio = function() {
                self2._playLock = false;
                setParams();
                self2._refreshBuffer(sound);
                var vol = sound._muted || self2._muted ? 0 : sound._volume;
                node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                sound._playStart = Howler2.ctx.currentTime;
                if (typeof node.bufferSource.start === "undefined") {
                  sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);
                } else {
                  sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);
                }
                if (timeout2 !== Infinity) {
                  self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                }
                if (!internal) {
                  setTimeout(function() {
                    self2._emit("play", sound._id);
                    self2._loadQueue();
                  }, 0);
                }
              };
              if (Howler2.state === "running" && Howler2.ctx.state !== "interrupted") {
                playWebAudio();
              } else {
                self2._playLock = true;
                self2.once("resume", playWebAudio);
                self2._clearTimer(sound._id);
              }
            } else {
              var playHtml5 = function() {
                node.currentTime = seek;
                node.muted = sound._muted || self2._muted || Howler2._muted || node.muted;
                node.volume = sound._volume * Howler2.volume();
                node.playbackRate = sound._rate;
                try {
                  var play = node.play();
                  if (play && typeof Promise !== "undefined" && (play instanceof Promise || typeof play.then === "function")) {
                    self2._playLock = true;
                    setParams();
                    play.then(function() {
                      self2._playLock = false;
                      node._unlocked = true;
                      if (!internal) {
                        self2._emit("play", sound._id);
                      } else {
                        self2._loadQueue();
                      }
                    }).catch(function() {
                      self2._playLock = false;
                      self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                      sound._ended = true;
                      sound._paused = true;
                    });
                  } else if (!internal) {
                    self2._playLock = false;
                    setParams();
                    self2._emit("play", sound._id);
                  }
                  node.playbackRate = sound._rate;
                  if (node.paused) {
                    self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                    return;
                  }
                  if (sprite !== "__default" || sound._loop) {
                    self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                  } else {
                    self2._endTimers[sound._id] = function() {
                      self2._ended(sound);
                      node.removeEventListener("ended", self2._endTimers[sound._id], false);
                    };
                    node.addEventListener("ended", self2._endTimers[sound._id], false);
                  }
                } catch (err) {
                  self2._emit("playerror", sound._id, err);
                }
              };
              if (node.src === "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA") {
                node.src = self2._src;
                node.load();
              }
              var loadedNoReadyState = window && window.ejecta || !node.readyState && Howler2._navigator.isCocoonJS;
              if (node.readyState >= 3 || loadedNoReadyState) {
                playHtml5();
              } else {
                self2._playLock = true;
                self2._state = "loading";
                var listener = function() {
                  self2._state = "loaded";
                  playHtml5();
                  node.removeEventListener(Howler2._canPlayEvent, listener, false);
                };
                node.addEventListener(Howler2._canPlayEvent, listener, false);
                self2._clearTimer(sound._id);
              }
            }
            return sound._id;
          },
          /**
           * Pause playback and save current position.
           * @param  {Number} id The sound ID (empty to pause all in group).
           * @return {Howl}
           */
          pause: function(id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "pause",
                action: function() {
                  self2.pause(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound && !sound._paused) {
                sound._seek = self2.seek(ids[i]);
                sound._rateSeek = 0;
                sound._paused = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (!sound._node.bufferSource) {
                      continue;
                    }
                    if (typeof sound._node.bufferSource.stop === "undefined") {
                      sound._node.bufferSource.noteOff(0);
                    } else {
                      sound._node.bufferSource.stop(0);
                    }
                    self2._cleanBuffer(sound._node);
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.pause();
                  }
                }
              }
              if (!arguments[1]) {
                self2._emit("pause", sound ? sound._id : null);
              }
            }
            return self2;
          },
          /**
           * Stop playback and reset to start.
           * @param  {Number} id The sound ID (empty to stop all in group).
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Howl}
           */
          stop: function(id, internal) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "stop",
                action: function() {
                  self2.stop(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._seek = sound._start || 0;
                sound._rateSeek = 0;
                sound._paused = true;
                sound._ended = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (sound._node.bufferSource) {
                      if (typeof sound._node.bufferSource.stop === "undefined") {
                        sound._node.bufferSource.noteOff(0);
                      } else {
                        sound._node.bufferSource.stop(0);
                      }
                      self2._cleanBuffer(sound._node);
                    }
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.currentTime = sound._start || 0;
                    sound._node.pause();
                    if (sound._node.duration === Infinity) {
                      self2._clearSound(sound._node);
                    }
                  }
                }
                if (!internal) {
                  self2._emit("stop", sound._id);
                }
              }
            }
            return self2;
          },
          /**
           * Mute/unmute a single sound or all sounds in this Howl group.
           * @param  {Boolean} muted Set to true to mute and false to unmute.
           * @param  {Number} id    The sound ID to update (omit to mute/unmute all).
           * @return {Howl}
           */
          mute: function(muted, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "mute",
                action: function() {
                  self2.mute(muted, id);
                }
              });
              return self2;
            }
            if (typeof id === "undefined") {
              if (typeof muted === "boolean") {
                self2._muted = muted;
              } else {
                return self2._muted;
              }
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._muted = muted;
                if (sound._interval) {
                  self2._stopFade(sound._id);
                }
                if (self2._webAudio && sound._node) {
                  sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler2.ctx.currentTime);
                } else if (sound._node) {
                  sound._node.muted = Howler2._muted ? true : muted;
                }
                self2._emit("mute", sound._id);
              }
            }
            return self2;
          },
          /**
           * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.
           *   volume() -> Returns the group's volume value.
           *   volume(id) -> Returns the sound id's current volume.
           *   volume(vol) -> Sets the volume of all sounds in this Howl group.
           *   volume(vol, id) -> Sets the volume of passed sound id.
           * @return {Howl/Number} Returns self or current volume.
           */
          volume: function() {
            var self2 = this;
            var args = arguments;
            var vol, id;
            if (args.length === 0) {
              return self2._volume;
            } else if (args.length === 1 || args.length === 2 && typeof args[1] === "undefined") {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                vol = parseFloat(args[0]);
              }
            } else if (args.length >= 2) {
              vol = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "volume",
                  action: function() {
                    self2.volume.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._volume = vol;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  sound._volume = vol;
                  if (!args[2]) {
                    self2._stopFade(id[i]);
                  }
                  if (self2._webAudio && sound._node && !sound._muted) {
                    sound._node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                  } else if (sound._node && !sound._muted) {
                    sound._node.volume = vol * Howler2.volume();
                  }
                  self2._emit("volume", sound._id);
                }
              }
            } else {
              sound = id ? self2._soundById(id) : self2._sounds[0];
              return sound ? sound._volume : 0;
            }
            return self2;
          },
          /**
           * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id (omit to fade all sounds).
           * @return {Howl}
           */
          fade: function(from, to, len4, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "fade",
                action: function() {
                  self2.fade(from, to, len4, id);
                }
              });
              return self2;
            }
            from = Math.min(Math.max(0, parseFloat(from)), 1);
            to = Math.min(Math.max(0, parseFloat(to)), 1);
            len4 = parseFloat(len4);
            self2.volume(from, id);
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                if (!id) {
                  self2._stopFade(ids[i]);
                }
                if (self2._webAudio && !sound._muted) {
                  var currentTime = Howler2.ctx.currentTime;
                  var end = currentTime + len4 / 1e3;
                  sound._volume = from;
                  sound._node.gain.setValueAtTime(from, currentTime);
                  sound._node.gain.linearRampToValueAtTime(to, end);
                }
                self2._startFadeInterval(sound, from, to, len4, ids[i], typeof id === "undefined");
              }
            }
            return self2;
          },
          /**
           * Starts the internal interval to fade a sound.
           * @param  {Object} sound Reference to sound to fade.
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id to fade.
           * @param  {Boolean} isGroup   If true, set the volume on the group.
           */
          _startFadeInterval: function(sound, from, to, len4, id, isGroup) {
            var self2 = this;
            var vol = from;
            var diff = to - from;
            var steps = Math.abs(diff / 0.01);
            var stepLen = Math.max(4, steps > 0 ? len4 / steps : len4);
            var lastTick = Date.now();
            sound._fadeTo = to;
            sound._interval = setInterval(function() {
              var tick = (Date.now() - lastTick) / len4;
              lastTick = Date.now();
              vol += diff * tick;
              vol = Math.round(vol * 100) / 100;
              if (diff < 0) {
                vol = Math.max(to, vol);
              } else {
                vol = Math.min(to, vol);
              }
              if (self2._webAudio) {
                sound._volume = vol;
              } else {
                self2.volume(vol, sound._id, true);
              }
              if (isGroup) {
                self2._volume = vol;
              }
              if (to < from && vol <= to || to > from && vol >= to) {
                clearInterval(sound._interval);
                sound._interval = null;
                sound._fadeTo = null;
                self2.volume(to, sound._id);
                self2._emit("fade", sound._id);
              }
            }, stepLen);
          },
          /**
           * Internal method that stops the currently playing fade when
           * a new fade starts, volume is changed or the sound is stopped.
           * @param  {Number} id The sound id.
           * @return {Howl}
           */
          _stopFade: function(id) {
            var self2 = this;
            var sound = self2._soundById(id);
            if (sound && sound._interval) {
              if (self2._webAudio) {
                sound._node.gain.cancelScheduledValues(Howler2.ctx.currentTime);
              }
              clearInterval(sound._interval);
              sound._interval = null;
              self2.volume(sound._fadeTo, id);
              sound._fadeTo = null;
              self2._emit("fade", id);
            }
            return self2;
          },
          /**
           * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.
           *   loop() -> Returns the group's loop value.
           *   loop(id) -> Returns the sound id's loop value.
           *   loop(loop) -> Sets the loop value for all sounds in this Howl group.
           *   loop(loop, id) -> Sets the loop value of passed sound id.
           * @return {Howl/Boolean} Returns self or current loop value.
           */
          loop: function() {
            var self2 = this;
            var args = arguments;
            var loop, id, sound;
            if (args.length === 0) {
              return self2._loop;
            } else if (args.length === 1) {
              if (typeof args[0] === "boolean") {
                loop = args[0];
                self2._loop = loop;
              } else {
                sound = self2._soundById(parseInt(args[0], 10));
                return sound ? sound._loop : false;
              }
            } else if (args.length === 2) {
              loop = args[0];
              id = parseInt(args[1], 10);
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              sound = self2._soundById(ids[i]);
              if (sound) {
                sound._loop = loop;
                if (self2._webAudio && sound._node && sound._node.bufferSource) {
                  sound._node.bufferSource.loop = loop;
                  if (loop) {
                    sound._node.bufferSource.loopStart = sound._start || 0;
                    sound._node.bufferSource.loopEnd = sound._stop;
                    if (self2.playing(ids[i])) {
                      self2.pause(ids[i], true);
                      self2.play(ids[i], true);
                    }
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   rate() -> Returns the first sound node's current playback rate.
           *   rate(id) -> Returns the sound id's current playback rate.
           *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.
           *   rate(rate, id) -> Sets the playback rate of passed sound id.
           * @return {Howl/Number} Returns self or the current playback rate.
           */
          rate: function() {
            var self2 = this;
            var args = arguments;
            var rate, id;
            if (args.length === 0) {
              id = self2._sounds[0]._id;
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                rate = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              rate = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof rate === "number") {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "rate",
                  action: function() {
                    self2.rate.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._rate = rate;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  if (self2.playing(id[i])) {
                    sound._rateSeek = self2.seek(id[i]);
                    sound._playStart = self2._webAudio ? Howler2.ctx.currentTime : sound._playStart;
                  }
                  sound._rate = rate;
                  if (self2._webAudio && sound._node && sound._node.bufferSource) {
                    sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler2.ctx.currentTime);
                  } else if (sound._node) {
                    sound._node.playbackRate = rate;
                  }
                  var seek = self2.seek(id[i]);
                  var duration = (self2._sprite[sound._sprite][0] + self2._sprite[sound._sprite][1]) / 1e3 - seek;
                  var timeout2 = duration * 1e3 / Math.abs(sound._rate);
                  if (self2._endTimers[id[i]] || !sound._paused) {
                    self2._clearTimer(id[i]);
                    self2._endTimers[id[i]] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                  }
                  self2._emit("rate", sound._id);
                }
              }
            } else {
              sound = self2._soundById(id);
              return sound ? sound._rate : self2._rate;
            }
            return self2;
          },
          /**
           * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   seek() -> Returns the first sound node's current seek position.
           *   seek(id) -> Returns the sound id's current seek position.
           *   seek(seek) -> Sets the seek position of the first sound node.
           *   seek(seek, id) -> Sets the seek position of passed sound id.
           * @return {Howl/Number} Returns self or the current seek position.
           */
          seek: function() {
            var self2 = this;
            var args = arguments;
            var seek, id;
            if (args.length === 0) {
              if (self2._sounds.length) {
                id = self2._sounds[0]._id;
              }
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else if (self2._sounds.length) {
                id = self2._sounds[0]._id;
                seek = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              seek = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            if (typeof id === "undefined") {
              return 0;
            }
            if (typeof seek === "number" && (self2._state !== "loaded" || self2._playLock)) {
              self2._queue.push({
                event: "seek",
                action: function() {
                  self2.seek.apply(self2, args);
                }
              });
              return self2;
            }
            var sound = self2._soundById(id);
            if (sound) {
              if (typeof seek === "number" && seek >= 0) {
                var playing = self2.playing(id);
                if (playing) {
                  self2.pause(id, true);
                }
                sound._seek = seek;
                sound._ended = false;
                self2._clearTimer(id);
                if (!self2._webAudio && sound._node && !isNaN(sound._node.duration)) {
                  sound._node.currentTime = seek;
                }
                var seekAndEmit = function() {
                  if (playing) {
                    self2.play(id, true);
                  }
                  self2._emit("seek", id);
                };
                if (playing && !self2._webAudio) {
                  var emitSeek = function() {
                    if (!self2._playLock) {
                      seekAndEmit();
                    } else {
                      setTimeout(emitSeek, 0);
                    }
                  };
                  setTimeout(emitSeek, 0);
                } else {
                  seekAndEmit();
                }
              } else {
                if (self2._webAudio) {
                  var realTime = self2.playing(id) ? Howler2.ctx.currentTime - sound._playStart : 0;
                  var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;
                  return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));
                } else {
                  return sound._node.currentTime;
                }
              }
            }
            return self2;
          },
          /**
           * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.
           * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.
           * @return {Boolean} True if playing and false if not.
           */
          playing: function(id) {
            var self2 = this;
            if (typeof id === "number") {
              var sound = self2._soundById(id);
              return sound ? !sound._paused : false;
            }
            for (var i = 0; i < self2._sounds.length; i++) {
              if (!self2._sounds[i]._paused) {
                return true;
              }
            }
            return false;
          },
          /**
           * Get the duration of this sound. Passing a sound id will return the sprite duration.
           * @param  {Number} id The sound id to check. If none is passed, return full source duration.
           * @return {Number} Audio duration in seconds.
           */
          duration: function(id) {
            var self2 = this;
            var duration = self2._duration;
            var sound = self2._soundById(id);
            if (sound) {
              duration = self2._sprite[sound._sprite][1] / 1e3;
            }
            return duration;
          },
          /**
           * Returns the current loaded state of this Howl.
           * @return {String} 'unloaded', 'loading', 'loaded'
           */
          state: function() {
            return this._state;
          },
          /**
           * Unload and destroy the current Howl object.
           * This will immediately stop all sound instances attached to this group.
           */
          unload: function() {
            var self2 = this;
            var sounds = self2._sounds;
            for (var i = 0; i < sounds.length; i++) {
              if (!sounds[i]._paused) {
                self2.stop(sounds[i]._id);
              }
              if (!self2._webAudio) {
                self2._clearSound(sounds[i]._node);
                sounds[i]._node.removeEventListener("error", sounds[i]._errorFn, false);
                sounds[i]._node.removeEventListener(Howler2._canPlayEvent, sounds[i]._loadFn, false);
                sounds[i]._node.removeEventListener("ended", sounds[i]._endFn, false);
                Howler2._releaseHtml5Audio(sounds[i]._node);
              }
              delete sounds[i]._node;
              self2._clearTimer(sounds[i]._id);
            }
            var index = Howler2._howls.indexOf(self2);
            if (index >= 0) {
              Howler2._howls.splice(index, 1);
            }
            var remCache = true;
            for (i = 0; i < Howler2._howls.length; i++) {
              if (Howler2._howls[i]._src === self2._src || self2._src.indexOf(Howler2._howls[i]._src) >= 0) {
                remCache = false;
                break;
              }
            }
            if (cache && remCache) {
              delete cache[self2._src];
            }
            Howler2.noAudio = false;
            self2._state = "unloaded";
            self2._sounds = [];
            self2 = null;
            return null;
          },
          /**
           * Listen to a custom event.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @param  {Number}   once  (INTERNAL) Marks event to fire only once.
           * @return {Howl}
           */
          on: function(event, fn, id, once) {
            var self2 = this;
            var events = self2["_on" + event];
            if (typeof fn === "function") {
              events.push(once ? { id, fn, once } : { id, fn });
            }
            return self2;
          },
          /**
           * Remove a custom event. Call without parameters to remove all events.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to remove. Leave empty to remove all.
           * @param  {Number}   id    (optional) Only remove events for this sound.
           * @return {Howl}
           */
          off: function(event, fn, id) {
            var self2 = this;
            var events = self2["_on" + event];
            var i = 0;
            if (typeof fn === "number") {
              id = fn;
              fn = null;
            }
            if (fn || id) {
              for (i = 0; i < events.length; i++) {
                var isId = id === events[i].id;
                if (fn === events[i].fn && isId || !fn && isId) {
                  events.splice(i, 1);
                  break;
                }
              }
            } else if (event) {
              self2["_on" + event] = [];
            } else {
              var keys = Object.keys(self2);
              for (i = 0; i < keys.length; i++) {
                if (keys[i].indexOf("_on") === 0 && Array.isArray(self2[keys[i]])) {
                  self2[keys[i]] = [];
                }
              }
            }
            return self2;
          },
          /**
           * Listen to a custom event and remove it once fired.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @return {Howl}
           */
          once: function(event, fn, id) {
            var self2 = this;
            self2.on(event, fn, id, 1);
            return self2;
          },
          /**
           * Emit all events of a specific type and pass the sound id.
           * @param  {String} event Event name.
           * @param  {Number} id    Sound ID.
           * @param  {Number} msg   Message to go with event.
           * @return {Howl}
           */
          _emit: function(event, id, msg) {
            var self2 = this;
            var events = self2["_on" + event];
            for (var i = events.length - 1; i >= 0; i--) {
              if (!events[i].id || events[i].id === id || event === "load") {
                setTimeout(function(fn) {
                  fn.call(this, id, msg);
                }.bind(self2, events[i].fn), 0);
                if (events[i].once) {
                  self2.off(event, events[i].fn, events[i].id);
                }
              }
            }
            self2._loadQueue(event);
            return self2;
          },
          /**
           * Queue of actions initiated before the sound has loaded.
           * These will be called in sequence, with the next only firing
           * after the previous has finished executing (even if async like play).
           * @return {Howl}
           */
          _loadQueue: function(event) {
            var self2 = this;
            if (self2._queue.length > 0) {
              var task = self2._queue[0];
              if (task.event === event) {
                self2._queue.shift();
                self2._loadQueue();
              }
              if (!event) {
                task.action();
              }
            }
            return self2;
          },
          /**
           * Fired when playback ends at the end of the duration.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _ended: function(sound) {
            var self2 = this;
            var sprite = sound._sprite;
            if (!self2._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {
              setTimeout(self2._ended.bind(self2, sound), 100);
              return self2;
            }
            var loop = !!(sound._loop || self2._sprite[sprite][2]);
            self2._emit("end", sound._id);
            if (!self2._webAudio && loop) {
              self2.stop(sound._id, true).play(sound._id);
            }
            if (self2._webAudio && loop) {
              self2._emit("play", sound._id);
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              sound._playStart = Howler2.ctx.currentTime;
              var timeout2 = (sound._stop - sound._start) * 1e3 / Math.abs(sound._rate);
              self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
            }
            if (self2._webAudio && !loop) {
              sound._paused = true;
              sound._ended = true;
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              self2._clearTimer(sound._id);
              self2._cleanBuffer(sound._node);
              Howler2._autoSuspend();
            }
            if (!self2._webAudio && !loop) {
              self2.stop(sound._id, true);
            }
            return self2;
          },
          /**
           * Clear the end timer for a sound playback.
           * @param  {Number} id The sound ID.
           * @return {Howl}
           */
          _clearTimer: function(id) {
            var self2 = this;
            if (self2._endTimers[id]) {
              if (typeof self2._endTimers[id] !== "function") {
                clearTimeout(self2._endTimers[id]);
              } else {
                var sound = self2._soundById(id);
                if (sound && sound._node) {
                  sound._node.removeEventListener("ended", self2._endTimers[id], false);
                }
              }
              delete self2._endTimers[id];
            }
            return self2;
          },
          /**
           * Return the sound identified by this ID, or return null.
           * @param  {Number} id Sound ID
           * @return {Object}    Sound object or null.
           */
          _soundById: function(id) {
            var self2 = this;
            for (var i = 0; i < self2._sounds.length; i++) {
              if (id === self2._sounds[i]._id) {
                return self2._sounds[i];
              }
            }
            return null;
          },
          /**
           * Return an inactive sound from the pool or create a new one.
           * @return {Sound} Sound playback object.
           */
          _inactiveSound: function() {
            var self2 = this;
            self2._drain();
            for (var i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                return self2._sounds[i].reset();
              }
            }
            return new Sound2(self2);
          },
          /**
           * Drain excess inactive sounds from the pool.
           */
          _drain: function() {
            var self2 = this;
            var limit = self2._pool;
            var cnt = 0;
            var i = 0;
            if (self2._sounds.length < limit) {
              return;
            }
            for (i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                cnt++;
              }
            }
            for (i = self2._sounds.length - 1; i >= 0; i--) {
              if (cnt <= limit) {
                return;
              }
              if (self2._sounds[i]._ended) {
                if (self2._webAudio && self2._sounds[i]._node) {
                  self2._sounds[i]._node.disconnect(0);
                }
                self2._sounds.splice(i, 1);
                cnt--;
              }
            }
          },
          /**
           * Get all ID's from the sounds pool.
           * @param  {Number} id Only return one ID if one is passed.
           * @return {Array}    Array of IDs.
           */
          _getSoundIds: function(id) {
            var self2 = this;
            if (typeof id === "undefined") {
              var ids = [];
              for (var i = 0; i < self2._sounds.length; i++) {
                ids.push(self2._sounds[i]._id);
              }
              return ids;
            } else {
              return [id];
            }
          },
          /**
           * Load the sound back into the buffer source.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _refreshBuffer: function(sound) {
            var self2 = this;
            sound._node.bufferSource = Howler2.ctx.createBufferSource();
            sound._node.bufferSource.buffer = cache[self2._src];
            if (sound._panner) {
              sound._node.bufferSource.connect(sound._panner);
            } else {
              sound._node.bufferSource.connect(sound._node);
            }
            sound._node.bufferSource.loop = sound._loop;
            if (sound._loop) {
              sound._node.bufferSource.loopStart = sound._start || 0;
              sound._node.bufferSource.loopEnd = sound._stop || 0;
            }
            sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler2.ctx.currentTime);
            return self2;
          },
          /**
           * Prevent memory leaks by cleaning up the buffer source after playback.
           * @param  {Object} node Sound's audio node containing the buffer source.
           * @return {Howl}
           */
          _cleanBuffer: function(node) {
            var self2 = this;
            var isIOS = Howler2._navigator && Howler2._navigator.vendor.indexOf("Apple") >= 0;
            if (!node.bufferSource) {
              return self2;
            }
            if (Howler2._scratchBuffer && node.bufferSource) {
              node.bufferSource.onended = null;
              node.bufferSource.disconnect(0);
              if (isIOS) {
                try {
                  node.bufferSource.buffer = Howler2._scratchBuffer;
                } catch (e) {
                }
              }
            }
            node.bufferSource = null;
            return self2;
          },
          /**
           * Set the source to a 0-second silence to stop any downloading (except in IE).
           * @param  {Object} node Audio node to clear.
           */
          _clearSound: function(node) {
            var checkIE = /MSIE |Trident\//.test(Howler2._navigator && Howler2._navigator.userAgent);
            if (!checkIE) {
              node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA";
            }
          }
        };
        var Sound2 = function(howl) {
          this._parent = howl;
          this.init();
        };
        Sound2.prototype = {
          /**
           * Initialize a new Sound object.
           * @return {Sound}
           */
          init: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            parent._sounds.push(self2);
            self2.create();
            return self2;
          },
          /**
           * Create and setup a new sound object, whether HTML5 Audio or Web Audio.
           * @return {Sound}
           */
          create: function() {
            var self2 = this;
            var parent = self2._parent;
            var volume = Howler2._muted || self2._muted || self2._parent._muted ? 0 : self2._volume;
            if (parent._webAudio) {
              self2._node = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
              self2._node.gain.setValueAtTime(volume, Howler2.ctx.currentTime);
              self2._node.paused = true;
              self2._node.connect(Howler2.masterGain);
            } else if (!Howler2.noAudio) {
              self2._node = Howler2._obtainHtml5Audio();
              self2._errorFn = self2._errorListener.bind(self2);
              self2._node.addEventListener("error", self2._errorFn, false);
              self2._loadFn = self2._loadListener.bind(self2);
              self2._node.addEventListener(Howler2._canPlayEvent, self2._loadFn, false);
              self2._endFn = self2._endListener.bind(self2);
              self2._node.addEventListener("ended", self2._endFn, false);
              self2._node.src = parent._src;
              self2._node.preload = parent._preload === true ? "auto" : parent._preload;
              self2._node.volume = volume * Howler2.volume();
              self2._node.load();
            }
            return self2;
          },
          /**
           * Reset the parameters of this sound to the original state (for recycle).
           * @return {Sound}
           */
          reset: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._rateSeek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            return self2;
          },
          /**
           * HTML5 Audio error listener callback.
           */
          _errorListener: function() {
            var self2 = this;
            self2._parent._emit("loaderror", self2._id, self2._node.error ? self2._node.error.code : 0);
            self2._node.removeEventListener("error", self2._errorFn, false);
          },
          /**
           * HTML5 Audio canplaythrough listener callback.
           */
          _loadListener: function() {
            var self2 = this;
            var parent = self2._parent;
            parent._duration = Math.ceil(self2._node.duration * 10) / 10;
            if (Object.keys(parent._sprite).length === 0) {
              parent._sprite = { __default: [0, parent._duration * 1e3] };
            }
            if (parent._state !== "loaded") {
              parent._state = "loaded";
              parent._emit("load");
              parent._loadQueue();
            }
            self2._node.removeEventListener(Howler2._canPlayEvent, self2._loadFn, false);
          },
          /**
           * HTML5 Audio ended listener callback.
           */
          _endListener: function() {
            var self2 = this;
            var parent = self2._parent;
            if (parent._duration === Infinity) {
              parent._duration = Math.ceil(self2._node.duration * 10) / 10;
              if (parent._sprite.__default[1] === Infinity) {
                parent._sprite.__default[1] = parent._duration * 1e3;
              }
              parent._ended(self2);
            }
            self2._node.removeEventListener("ended", self2._endFn, false);
          }
        };
        var cache = {};
        var loadBuffer = function(self2) {
          var url = self2._src;
          if (cache[url]) {
            self2._duration = cache[url].duration;
            loadSound(self2);
            return;
          }
          if (/^data:[^;]+;base64,/.test(url)) {
            var data = atob(url.split(",")[1]);
            var dataView = new Uint8Array(data.length);
            for (var i = 0; i < data.length; ++i) {
              dataView[i] = data.charCodeAt(i);
            }
            decodeAudioData(dataView.buffer, self2);
          } else {
            var xhr = new XMLHttpRequest();
            xhr.open(self2._xhr.method, url, true);
            xhr.withCredentials = self2._xhr.withCredentials;
            xhr.responseType = "arraybuffer";
            if (self2._xhr.headers) {
              Object.keys(self2._xhr.headers).forEach(function(key) {
                xhr.setRequestHeader(key, self2._xhr.headers[key]);
              });
            }
            xhr.onload = function() {
              var code = (xhr.status + "")[0];
              if (code !== "0" && code !== "2" && code !== "3") {
                self2._emit("loaderror", null, "Failed loading audio file with status: " + xhr.status + ".");
                return;
              }
              decodeAudioData(xhr.response, self2);
            };
            xhr.onerror = function() {
              if (self2._webAudio) {
                self2._html5 = true;
                self2._webAudio = false;
                self2._sounds = [];
                delete cache[url];
                self2.load();
              }
            };
            safeXhrSend(xhr);
          }
        };
        var safeXhrSend = function(xhr) {
          try {
            xhr.send();
          } catch (e) {
            xhr.onerror();
          }
        };
        var decodeAudioData = function(arraybuffer, self2) {
          var error = function() {
            self2._emit("loaderror", null, "Decoding audio data failed.");
          };
          var success = function(buffer) {
            if (buffer && self2._sounds.length > 0) {
              cache[self2._src] = buffer;
              loadSound(self2, buffer);
            } else {
              error();
            }
          };
          if (typeof Promise !== "undefined" && Howler2.ctx.decodeAudioData.length === 1) {
            Howler2.ctx.decodeAudioData(arraybuffer).then(success).catch(error);
          } else {
            Howler2.ctx.decodeAudioData(arraybuffer, success, error);
          }
        };
        var loadSound = function(self2, buffer) {
          if (buffer && !self2._duration) {
            self2._duration = buffer.duration;
          }
          if (Object.keys(self2._sprite).length === 0) {
            self2._sprite = { __default: [0, self2._duration * 1e3] };
          }
          if (self2._state !== "loaded") {
            self2._state = "loaded";
            self2._emit("load");
            self2._loadQueue();
          }
        };
        var setupAudioContext = function() {
          if (!Howler2.usingWebAudio) {
            return;
          }
          try {
            if (typeof AudioContext !== "undefined") {
              Howler2.ctx = new AudioContext();
            } else if (typeof webkitAudioContext !== "undefined") {
              Howler2.ctx = new webkitAudioContext();
            } else {
              Howler2.usingWebAudio = false;
            }
          } catch (e) {
            Howler2.usingWebAudio = false;
          }
          if (!Howler2.ctx) {
            Howler2.usingWebAudio = false;
          }
          var iOS = /iP(hone|od|ad)/.test(Howler2._navigator && Howler2._navigator.platform);
          var appVersion = Howler2._navigator && Howler2._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
          var version = appVersion ? parseInt(appVersion[1], 10) : null;
          if (iOS && version && version < 9) {
            var safari = /safari/.test(Howler2._navigator && Howler2._navigator.userAgent.toLowerCase());
            if (Howler2._navigator && !safari) {
              Howler2.usingWebAudio = false;
            }
          }
          if (Howler2.usingWebAudio) {
            Howler2.masterGain = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
            Howler2.masterGain.gain.setValueAtTime(Howler2._muted ? 0 : Howler2._volume, Howler2.ctx.currentTime);
            Howler2.masterGain.connect(Howler2.ctx.destination);
          }
          Howler2._setup();
        };
        if (typeof define === "function" && define.amd) {
          define([], function() {
            return {
              Howler: Howler2,
              Howl: Howl2
            };
          });
        }
        if (typeof exports !== "undefined") {
          exports.Howler = Howler2;
          exports.Howl = Howl2;
        }
        if (typeof global !== "undefined") {
          global.HowlerGlobal = HowlerGlobal2;
          global.Howler = Howler2;
          global.Howl = Howl2;
          global.Sound = Sound2;
        } else if (typeof window !== "undefined") {
          window.HowlerGlobal = HowlerGlobal2;
          window.Howler = Howler2;
          window.Howl = Howl2;
          window.Sound = Sound2;
        }
      })();
      (function() {
        "use strict";
        HowlerGlobal.prototype._pos = [0, 0, 0];
        HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];
        HowlerGlobal.prototype.stereo = function(pan) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          for (var i = self2._howls.length - 1; i >= 0; i--) {
            self2._howls[i].stereo(pan);
          }
          return self2;
        };
        HowlerGlobal.prototype.pos = function(x, y, z) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          y = typeof y !== "number" ? self2._pos[1] : y;
          z = typeof z !== "number" ? self2._pos[2] : z;
          if (typeof x === "number") {
            self2._pos = [x, y, z];
            if (typeof self2.ctx.listener.positionX !== "undefined") {
              self2.ctx.listener.positionX.setTargetAtTime(self2._pos[0], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionY.setTargetAtTime(self2._pos[1], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionZ.setTargetAtTime(self2._pos[2], Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setPosition(self2._pos[0], self2._pos[1], self2._pos[2]);
            }
          } else {
            return self2._pos;
          }
          return self2;
        };
        HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          var or = self2._orientation;
          y = typeof y !== "number" ? or[1] : y;
          z = typeof z !== "number" ? or[2] : z;
          xUp = typeof xUp !== "number" ? or[3] : xUp;
          yUp = typeof yUp !== "number" ? or[4] : yUp;
          zUp = typeof zUp !== "number" ? or[5] : zUp;
          if (typeof x === "number") {
            self2._orientation = [x, y, z, xUp, yUp, zUp];
            if (typeof self2.ctx.listener.forwardX !== "undefined") {
              self2.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);
            }
          } else {
            return or;
          }
          return self2;
        };
        Howl.prototype.init = function(_super) {
          return function(o) {
            var self2 = this;
            self2._orientation = o.orientation || [1, 0, 0];
            self2._stereo = o.stereo || null;
            self2._pos = o.pos || null;
            self2._pannerAttr = {
              coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : 360,
              coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : 360,
              coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : 0,
              distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : "inverse",
              maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : 1e4,
              panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : "HRTF",
              refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : 1,
              rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : 1
            };
            self2._onstereo = o.onstereo ? [{ fn: o.onstereo }] : [];
            self2._onpos = o.onpos ? [{ fn: o.onpos }] : [];
            self2._onorientation = o.onorientation ? [{ fn: o.onorientation }] : [];
            return _super.call(this, o);
          };
        }(Howl.prototype.init);
        Howl.prototype.stereo = function(pan, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "stereo",
              action: function() {
                self2.stereo(pan, id);
              }
            });
            return self2;
          }
          var pannerType = typeof Howler.ctx.createStereoPanner === "undefined" ? "spatial" : "stereo";
          if (typeof id === "undefined") {
            if (typeof pan === "number") {
              self2._stereo = pan;
              self2._pos = [pan, 0, 0];
            } else {
              return self2._stereo;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof pan === "number") {
                sound._stereo = pan;
                sound._pos = [pan, 0, 0];
                if (sound._node) {
                  sound._pannerAttr.panningModel = "equalpower";
                  if (!sound._panner || !sound._panner.pan) {
                    setupPanner(sound, pannerType);
                  }
                  if (pannerType === "spatial") {
                    if (typeof sound._panner.positionX !== "undefined") {
                      sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);
                      sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);
                      sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);
                    } else {
                      sound._panner.setPosition(pan, 0, 0);
                    }
                  } else {
                    sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);
                  }
                }
                self2._emit("stereo", sound._id);
              } else {
                return sound._stereo;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pos = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "pos",
              action: function() {
                self2.pos(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? 0 : y;
          z = typeof z !== "number" ? -0.5 : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._pos = [x, y, z];
            } else {
              return self2._pos;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._pos = [x, y, z];
                if (sound._node) {
                  if (!sound._panner || sound._panner.pan) {
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.positionX !== "undefined") {
                    sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setPosition(x, y, z);
                  }
                }
                self2._emit("pos", sound._id);
              } else {
                return sound._pos;
              }
            }
          }
          return self2;
        };
        Howl.prototype.orientation = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "orientation",
              action: function() {
                self2.orientation(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? self2._orientation[1] : y;
          z = typeof z !== "number" ? self2._orientation[2] : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._orientation = [x, y, z];
            } else {
              return self2._orientation;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._orientation = [x, y, z];
                if (sound._node) {
                  if (!sound._panner) {
                    if (!sound._pos) {
                      sound._pos = self2._pos || [0, 0, -0.5];
                    }
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.orientationX !== "undefined") {
                    sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setOrientation(x, y, z);
                  }
                }
                self2._emit("orientation", sound._id);
              } else {
                return sound._orientation;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pannerAttr = function() {
          var self2 = this;
          var args = arguments;
          var o, id, sound;
          if (!self2._webAudio) {
            return self2;
          }
          if (args.length === 0) {
            return self2._pannerAttr;
          } else if (args.length === 1) {
            if (typeof args[0] === "object") {
              o = args[0];
              if (typeof id === "undefined") {
                if (!o.pannerAttr) {
                  o.pannerAttr = {
                    coneInnerAngle: o.coneInnerAngle,
                    coneOuterAngle: o.coneOuterAngle,
                    coneOuterGain: o.coneOuterGain,
                    distanceModel: o.distanceModel,
                    maxDistance: o.maxDistance,
                    refDistance: o.refDistance,
                    rolloffFactor: o.rolloffFactor,
                    panningModel: o.panningModel
                  };
                }
                self2._pannerAttr = {
                  coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== "undefined" ? o.pannerAttr.coneInnerAngle : self2._coneInnerAngle,
                  coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== "undefined" ? o.pannerAttr.coneOuterAngle : self2._coneOuterAngle,
                  coneOuterGain: typeof o.pannerAttr.coneOuterGain !== "undefined" ? o.pannerAttr.coneOuterGain : self2._coneOuterGain,
                  distanceModel: typeof o.pannerAttr.distanceModel !== "undefined" ? o.pannerAttr.distanceModel : self2._distanceModel,
                  maxDistance: typeof o.pannerAttr.maxDistance !== "undefined" ? o.pannerAttr.maxDistance : self2._maxDistance,
                  refDistance: typeof o.pannerAttr.refDistance !== "undefined" ? o.pannerAttr.refDistance : self2._refDistance,
                  rolloffFactor: typeof o.pannerAttr.rolloffFactor !== "undefined" ? o.pannerAttr.rolloffFactor : self2._rolloffFactor,
                  panningModel: typeof o.pannerAttr.panningModel !== "undefined" ? o.pannerAttr.panningModel : self2._panningModel
                };
              }
            } else {
              sound = self2._soundById(parseInt(args[0], 10));
              return sound ? sound._pannerAttr : self2._pannerAttr;
            }
          } else if (args.length === 2) {
            o = args[0];
            id = parseInt(args[1], 10);
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            sound = self2._soundById(ids[i]);
            if (sound) {
              var pa = sound._pannerAttr;
              pa = {
                coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : pa.coneInnerAngle,
                coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : pa.coneOuterAngle,
                coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : pa.coneOuterGain,
                distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : pa.distanceModel,
                maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : pa.maxDistance,
                refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : pa.refDistance,
                rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : pa.rolloffFactor,
                panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : pa.panningModel
              };
              var panner = sound._panner;
              if (!panner) {
                if (!sound._pos) {
                  sound._pos = self2._pos || [0, 0, -0.5];
                }
                setupPanner(sound, "spatial");
                panner = sound._panner;
              }
              panner.coneInnerAngle = pa.coneInnerAngle;
              panner.coneOuterAngle = pa.coneOuterAngle;
              panner.coneOuterGain = pa.coneOuterGain;
              panner.distanceModel = pa.distanceModel;
              panner.maxDistance = pa.maxDistance;
              panner.refDistance = pa.refDistance;
              panner.rolloffFactor = pa.rolloffFactor;
              panner.panningModel = pa.panningModel;
            }
          }
          return self2;
        };
        Sound.prototype.init = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            _super.call(this);
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            }
          };
        }(Sound.prototype.init);
        Sound.prototype.reset = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            } else if (self2._panner) {
              self2._panner.disconnect(0);
              self2._panner = void 0;
              parent._refreshBuffer(self2);
            }
            return _super.call(this);
          };
        }(Sound.prototype.reset);
        var setupPanner = function(sound, type) {
          type = type || "spatial";
          if (type === "spatial") {
            sound._panner = Howler.ctx.createPanner();
            sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;
            sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;
            sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;
            sound._panner.distanceModel = sound._pannerAttr.distanceModel;
            sound._panner.maxDistance = sound._pannerAttr.maxDistance;
            sound._panner.refDistance = sound._pannerAttr.refDistance;
            sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;
            sound._panner.panningModel = sound._pannerAttr.panningModel;
            if (typeof sound._panner.positionX !== "undefined") {
              sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);
              sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);
              sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);
            }
            if (typeof sound._panner.orientationX !== "undefined") {
              sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);
              sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);
              sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);
            }
          } else {
            sound._panner = Howler.ctx.createStereoPanner();
            sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);
          }
          sound._panner.connect(sound._node);
          if (!sound._paused) {
            sound._parent.pause(sound._id, true).play(sound._id, true);
          }
        };
      })();
    }
  });

  // node_modules/earcut/src/earcut.js
  var require_earcut = __commonJS({
    "node_modules/earcut/src/earcut.js"(exports, module) {
      "use strict";
      module.exports = earcut2;
      module.exports.default = earcut2;
      function earcut2(data, holeIndices, dim) {
        dim = dim || 2;
        var hasHoles = holeIndices && holeIndices.length, outerLen = hasHoles ? holeIndices[0] * dim : data.length, outerNode = linkedList(data, 0, outerLen, dim, true), triangles = [];
        if (!outerNode || outerNode.next === outerNode.prev)
          return triangles;
        var minX, minY, maxX, maxY, x, y, invSize;
        if (hasHoles)
          outerNode = eliminateHoles(data, holeIndices, outerNode, dim);
        if (data.length > 80 * dim) {
          minX = maxX = data[0];
          minY = maxY = data[1];
          for (var i = dim; i < outerLen; i += dim) {
            x = data[i];
            y = data[i + 1];
            if (x < minX)
              minX = x;
            if (y < minY)
              minY = y;
            if (x > maxX)
              maxX = x;
            if (y > maxY)
              maxY = y;
          }
          invSize = Math.max(maxX - minX, maxY - minY);
          invSize = invSize !== 0 ? 32767 / invSize : 0;
        }
        earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);
        return triangles;
      }
      function linkedList(data, start, end, dim, clockwise) {
        var i, last;
        if (clockwise === signedArea(data, start, end, dim) > 0) {
          for (i = start; i < end; i += dim)
            last = insertNode(i, data[i], data[i + 1], last);
        } else {
          for (i = end - dim; i >= start; i -= dim)
            last = insertNode(i, data[i], data[i + 1], last);
        }
        if (last && equals6(last, last.next)) {
          removeNode(last);
          last = last.next;
        }
        return last;
      }
      function filterPoints(start, end) {
        if (!start)
          return start;
        if (!end)
          end = start;
        var p = start, again;
        do {
          again = false;
          if (!p.steiner && (equals6(p, p.next) || area(p.prev, p, p.next) === 0)) {
            removeNode(p);
            p = end = p.prev;
            if (p === p.next)
              break;
            again = true;
          } else {
            p = p.next;
          }
        } while (again || p !== end);
        return end;
      }
      function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {
        if (!ear)
          return;
        if (!pass && invSize)
          indexCurve(ear, minX, minY, invSize);
        var stop = ear, prev, next;
        while (ear.prev !== ear.next) {
          prev = ear.prev;
          next = ear.next;
          if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {
            triangles.push(prev.i / dim | 0);
            triangles.push(ear.i / dim | 0);
            triangles.push(next.i / dim | 0);
            removeNode(ear);
            ear = next.next;
            stop = next.next;
            continue;
          }
          ear = next;
          if (ear === stop) {
            if (!pass) {
              earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);
            } else if (pass === 1) {
              ear = cureLocalIntersections(filterPoints(ear), triangles, dim);
              earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);
            } else if (pass === 2) {
              splitEarcut(ear, triangles, dim, minX, minY, invSize);
            }
            break;
          }
        }
      }
      function isEar(ear) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var p = c.next;
        while (p !== a) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.next;
        }
        return true;
      }
      function isEarHashed(ear, minX, minY, invSize) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var minZ = zOrder(x0, y0, minX, minY, invSize), maxZ = zOrder(x1, y1, minX, minY, invSize);
        var p = ear.prevZ, n = ear.nextZ;
        while (p && p.z >= minZ && n && n.z <= maxZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        while (p && p.z >= minZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
        }
        while (n && n.z <= maxZ) {
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        return true;
      }
      function cureLocalIntersections(start, triangles, dim) {
        var p = start;
        do {
          var a = p.prev, b = p.next.next;
          if (!equals6(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {
            triangles.push(a.i / dim | 0);
            triangles.push(p.i / dim | 0);
            triangles.push(b.i / dim | 0);
            removeNode(p);
            removeNode(p.next);
            p = start = b;
          }
          p = p.next;
        } while (p !== start);
        return filterPoints(p);
      }
      function splitEarcut(start, triangles, dim, minX, minY, invSize) {
        var a = start;
        do {
          var b = a.next.next;
          while (b !== a.prev) {
            if (a.i !== b.i && isValidDiagonal(a, b)) {
              var c = splitPolygon(a, b);
              a = filterPoints(a, a.next);
              c = filterPoints(c, c.next);
              earcutLinked(a, triangles, dim, minX, minY, invSize, 0);
              earcutLinked(c, triangles, dim, minX, minY, invSize, 0);
              return;
            }
            b = b.next;
          }
          a = a.next;
        } while (a !== start);
      }
      function eliminateHoles(data, holeIndices, outerNode, dim) {
        var queue = [], i, len4, start, end, list;
        for (i = 0, len4 = holeIndices.length; i < len4; i++) {
          start = holeIndices[i] * dim;
          end = i < len4 - 1 ? holeIndices[i + 1] * dim : data.length;
          list = linkedList(data, start, end, dim, false);
          if (list === list.next)
            list.steiner = true;
          queue.push(getLeftmost(list));
        }
        queue.sort(compareX);
        for (i = 0; i < queue.length; i++) {
          outerNode = eliminateHole(queue[i], outerNode);
        }
        return outerNode;
      }
      function compareX(a, b) {
        return a.x - b.x;
      }
      function eliminateHole(hole, outerNode) {
        var bridge = findHoleBridge(hole, outerNode);
        if (!bridge) {
          return outerNode;
        }
        var bridgeReverse = splitPolygon(bridge, hole);
        filterPoints(bridgeReverse, bridgeReverse.next);
        return filterPoints(bridge, bridge.next);
      }
      function findHoleBridge(hole, outerNode) {
        var p = outerNode, hx = hole.x, hy = hole.y, qx = -Infinity, m;
        do {
          if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {
            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);
            if (x <= hx && x > qx) {
              qx = x;
              m = p.x < p.next.x ? p : p.next;
              if (x === hx)
                return m;
            }
          }
          p = p.next;
        } while (p !== outerNode);
        if (!m)
          return null;
        var stop = m, mx = m.x, my = m.y, tanMin = Infinity, tan;
        p = m;
        do {
          if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {
            tan = Math.abs(hy - p.y) / (hx - p.x);
            if (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {
              m = p;
              tanMin = tan;
            }
          }
          p = p.next;
        } while (p !== stop);
        return m;
      }
      function sectorContainsSector(m, p) {
        return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;
      }
      function indexCurve(start, minX, minY, invSize) {
        var p = start;
        do {
          if (p.z === 0)
            p.z = zOrder(p.x, p.y, minX, minY, invSize);
          p.prevZ = p.prev;
          p.nextZ = p.next;
          p = p.next;
        } while (p !== start);
        p.prevZ.nextZ = null;
        p.prevZ = null;
        sortLinked(p);
      }
      function sortLinked(list) {
        var i, p, q, e, tail, numMerges, pSize, qSize, inSize = 1;
        do {
          p = list;
          list = null;
          tail = null;
          numMerges = 0;
          while (p) {
            numMerges++;
            q = p;
            pSize = 0;
            for (i = 0; i < inSize; i++) {
              pSize++;
              q = q.nextZ;
              if (!q)
                break;
            }
            qSize = inSize;
            while (pSize > 0 || qSize > 0 && q) {
              if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {
                e = p;
                p = p.nextZ;
                pSize--;
              } else {
                e = q;
                q = q.nextZ;
                qSize--;
              }
              if (tail)
                tail.nextZ = e;
              else
                list = e;
              e.prevZ = tail;
              tail = e;
            }
            p = q;
          }
          tail.nextZ = null;
          inSize *= 2;
        } while (numMerges > 1);
        return list;
      }
      function zOrder(x, y, minX, minY, invSize) {
        x = (x - minX) * invSize | 0;
        y = (y - minY) * invSize | 0;
        x = (x | x << 8) & 16711935;
        x = (x | x << 4) & 252645135;
        x = (x | x << 2) & 858993459;
        x = (x | x << 1) & 1431655765;
        y = (y | y << 8) & 16711935;
        y = (y | y << 4) & 252645135;
        y = (y | y << 2) & 858993459;
        y = (y | y << 1) & 1431655765;
        return x | y << 1;
      }
      function getLeftmost(start) {
        var p = start, leftmost = start;
        do {
          if (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y)
            leftmost = p;
          p = p.next;
        } while (p !== start);
        return leftmost;
      }
      function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {
        return (cx - px) * (ay - py) >= (ax - px) * (cy - py) && (ax - px) * (by - py) >= (bx - px) * (ay - py) && (bx - px) * (cy - py) >= (cx - px) * (by - py);
      }
      function isValidDiagonal(a, b) {
        return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges
        (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible
        (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors
        equals6(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0);
      }
      function area(p, q, r) {
        return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);
      }
      function equals6(p1, p2) {
        return p1.x === p2.x && p1.y === p2.y;
      }
      function intersects(p1, q1, p2, q2) {
        var o1 = sign(area(p1, q1, p2));
        var o2 = sign(area(p1, q1, q2));
        var o3 = sign(area(p2, q2, p1));
        var o4 = sign(area(p2, q2, q1));
        if (o1 !== o2 && o3 !== o4)
          return true;
        if (o1 === 0 && onSegment(p1, p2, q1))
          return true;
        if (o2 === 0 && onSegment(p1, q2, q1))
          return true;
        if (o3 === 0 && onSegment(p2, p1, q2))
          return true;
        if (o4 === 0 && onSegment(p2, q1, q2))
          return true;
        return false;
      }
      function onSegment(p, q, r) {
        return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);
      }
      function sign(num) {
        return num > 0 ? 1 : num < 0 ? -1 : 0;
      }
      function intersectsPolygon(a, b) {
        var p = a;
        do {
          if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b))
            return true;
          p = p.next;
        } while (p !== a);
        return false;
      }
      function locallyInside(a, b) {
        return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;
      }
      function middleInside(a, b) {
        var p = a, inside = false, px = (a.x + b.x) / 2, py = (a.y + b.y) / 2;
        do {
          if (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x)
            inside = !inside;
          p = p.next;
        } while (p !== a);
        return inside;
      }
      function splitPolygon(a, b) {
        var a2 = new Node(a.i, a.x, a.y), b2 = new Node(b.i, b.x, b.y), an = a.next, bp = b.prev;
        a.next = b;
        b.prev = a;
        a2.next = an;
        an.prev = a2;
        b2.next = a2;
        a2.prev = b2;
        bp.next = b2;
        b2.prev = bp;
        return b2;
      }
      function insertNode(i, x, y, last) {
        var p = new Node(i, x, y);
        if (!last) {
          p.prev = p;
          p.next = p;
        } else {
          p.next = last.next;
          p.prev = last;
          last.next.prev = p;
          last.next = p;
        }
        return p;
      }
      function removeNode(p) {
        p.next.prev = p.prev;
        p.prev.next = p.next;
        if (p.prevZ)
          p.prevZ.nextZ = p.nextZ;
        if (p.nextZ)
          p.nextZ.prevZ = p.prevZ;
      }
      function Node(i, x, y) {
        this.i = i;
        this.x = x;
        this.y = y;
        this.prev = null;
        this.next = null;
        this.z = 0;
        this.prevZ = null;
        this.nextZ = null;
        this.steiner = false;
      }
      earcut2.deviation = function(data, holeIndices, dim, triangles) {
        var hasHoles = holeIndices && holeIndices.length;
        var outerLen = hasHoles ? holeIndices[0] * dim : data.length;
        var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));
        if (hasHoles) {
          for (var i = 0, len4 = holeIndices.length; i < len4; i++) {
            var start = holeIndices[i] * dim;
            var end = i < len4 - 1 ? holeIndices[i + 1] * dim : data.length;
            polygonArea -= Math.abs(signedArea(data, start, end, dim));
          }
        }
        var trianglesArea = 0;
        for (i = 0; i < triangles.length; i += 3) {
          var a = triangles[i] * dim;
          var b = triangles[i + 1] * dim;
          var c = triangles[i + 2] * dim;
          trianglesArea += Math.abs(
            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) - (data[a] - data[b]) * (data[c + 1] - data[a + 1])
          );
        }
        return polygonArea === 0 && trianglesArea === 0 ? 0 : Math.abs((trianglesArea - polygonArea) / polygonArea);
      };
      function signedArea(data, start, end, dim) {
        var sum = 0;
        for (var i = start, j = end - dim; i < end; i += dim) {
          sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
          j = i;
        }
        return sum;
      }
      earcut2.flatten = function(data) {
        var dim = data[0][0].length, result = { vertices: [], holes: [], dimensions: dim }, holeIndex = 0;
        for (var i = 0; i < data.length; i++) {
          for (var j = 0; j < data[i].length; j++) {
            for (var d = 0; d < dim; d++)
              result.vertices.push(data[i][j][d]);
          }
          if (i > 0) {
            holeIndex += data[i - 1].length;
            result.holes.push(holeIndex);
          }
        }
        return result;
      };
    }
  });

  // node_modules/@wonderlandengine/components/dist/index.js
  var dist_exports = {};
  __export(dist_exports, {
    ARCamera8thwall: () => ARCamera8thwall,
    Anchor: () => Anchor,
    Cursor: () => Cursor,
    CursorTarget: () => CursorTarget,
    DebugObject: () => DebugObject,
    DeviceOrientationLook: () => DeviceOrientationLook,
    FingerCursor: () => FingerCursor,
    FixedFoveation: () => FixedFoveation,
    HandTracking: () => HandTracking,
    HitTestLocation: () => HitTestLocation,
    HowlerAudioListener: () => HowlerAudioListener,
    HowlerAudioSource: () => HowlerAudioSource,
    ImageTexture: () => ImageTexture,
    MouseLookComponent: () => MouseLookComponent,
    PlaneDetection: () => PlaneDetection,
    PlayerHeight: () => PlayerHeight,
    TargetFramerate: () => TargetFramerate,
    TeleportComponent: () => TeleportComponent,
    Trail: () => Trail,
    TwoJointIkSolver: () => TwoJointIkSolver,
    VideoTexture: () => VideoTexture,
    VrModeActiveSwitch: () => VrModeActiveSwitch,
    Vrm: () => Vrm,
    WasdControlsComponent: () => WasdControlsComponent,
    isPointLocalOnXRPlanePolygon: () => isPointLocalOnXRPlanePolygon,
    isPointWorldOnXRPlanePolygon: () => isPointWorldOnXRPlanePolygon
  });

  // node_modules/@wonderlandengine/api/dist/property.js
  var Type;
  (function(Type2) {
    Type2[Type2["Native"] = 1] = "Native";
    Type2[Type2["Bool"] = 2] = "Bool";
    Type2[Type2["Int"] = 4] = "Int";
    Type2[Type2["Float"] = 8] = "Float";
    Type2[Type2["String"] = 16] = "String";
    Type2[Type2["Enum"] = 32] = "Enum";
    Type2[Type2["Object"] = 64] = "Object";
    Type2[Type2["Mesh"] = 128] = "Mesh";
    Type2[Type2["Texture"] = 256] = "Texture";
    Type2[Type2["Material"] = 512] = "Material";
    Type2[Type2["Animation"] = 1024] = "Animation";
    Type2[Type2["Skin"] = 2048] = "Skin";
    Type2[Type2["Color"] = 4096] = "Color";
  })(Type || (Type = {}));
  var Property = {
    /**
     * Create an boolean property.
     *
     * @param defaultValue The default value. If not provided, defaults to `false`.
     */
    bool(defaultValue = false) {
      return { type: Type.Bool, default: defaultValue };
    },
    /**
     * Create an integer property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0`.
     */
    int(defaultValue = 0) {
      return { type: Type.Int, default: defaultValue };
    },
    /**
     * Create an float property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0.0`.
     */
    float(defaultValue = 0) {
      return { type: Type.Float, default: defaultValue };
    },
    /**
     * Create an string property.
     *
     * @param defaultValue The default value. If not provided, defaults to `''`.
     */
    string(defaultValue = "") {
      return { type: Type.String, default: defaultValue };
    },
    /**
     * Create an enumeration property.
     *
     * @param values The list of values.
     * @param defaultValue The default value. Can be a string or an index into
     *     `values`. If not provided, defaults to the first element.
     */
    enum(values, defaultValue) {
      return { type: Type.Enum, values, default: defaultValue };
    },
    /** Create an {@link Object3D} reference property. */
    object(opts) {
      return { type: Type.Object, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Mesh} reference property. */
    mesh(opts) {
      return { type: Type.Mesh, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Texture} reference property. */
    texture(opts) {
      return { type: Type.Texture, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Material} reference property. */
    material(opts) {
      return { type: Type.Material, default: null, required: opts?.required ?? false };
    },
    /** Create an {@link Animation} reference property. */
    animation(opts) {
      return { type: Type.Animation, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Skin} reference property. */
    skin(opts) {
      return { type: Type.Skin, default: null, required: opts?.required ?? false };
    },
    /**
     * Create a color property.
     *
     * @param r The red component, in the range [0; 1].
     * @param g The green component, in the range [0; 1].
     * @param b The blue component, in the range [0; 1].
     * @param a The alpha component, in the range [0; 1].
     */
    color(r = 0, g = 0, b = 0, a = 1) {
      return { type: Type.Color, default: [r, g, b, a] };
    }
  };

  // node_modules/@wonderlandengine/api/dist/decorators.js
  function propertyDecorator(data) {
    return function(target, propertyKey) {
      const ctor = target.constructor;
      ctor.Properties = ctor.hasOwnProperty("Properties") ? ctor.Properties : {};
      ctor.Properties[propertyKey] = data;
    };
  }
  function enumerable() {
    return function(_, __, descriptor) {
      descriptor.enumerable = true;
    };
  }
  function nativeProperty() {
    return function(target, propertyKey, descriptor) {
      enumerable()(target, propertyKey, descriptor);
      propertyDecorator({ type: Type.Native })(target, propertyKey);
    };
  }
  var property = {};
  for (const name in Property) {
    property[name] = (...args) => {
      const functor = Property[name];
      return propertyDecorator(functor(...args));
    };
  }

  // node_modules/@wonderlandengine/api/dist/utils/object.js
  function isString(value) {
    if (value === "")
      return true;
    return value && (typeof value === "string" || value.constructor === String);
  }
  function isNumber(value) {
    if (value === null || value === void 0)
      return false;
    return typeof value === "number" || value.constructor === Number;
  }

  // node_modules/@wonderlandengine/api/dist/utils/event.js
  var TransactionType;
  (function(TransactionType2) {
    TransactionType2[TransactionType2["Addition"] = 1] = "Addition";
    TransactionType2[TransactionType2["Removal"] = 2] = "Removal";
  })(TransactionType || (TransactionType = {}));
  var Emitter = class {
    /**
     * List of listeners to trigger when `notify` is called.
     *
     * @hidden
     */
    _listeners = [];
    /**
     * `true` if the emitter is currently notifying listeners. This
     * is used to defer addition and removal.
     *
     * @hidden
     */
    _notifying = false;
    /**
     * Pending additions / removals, performed during a notification.
     *
     * @hidden
     */
    _transactions = [];
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Basic usage:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * });
     * ```
     *
     * Automatically remove the listener when an event is received:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * }, {once: true});
     * ```
     *
     * @param listener The callback to register.
     * @param opts The listener options. For more information, please have a look
     *     at the {@link ListenerOptions} interface.
     *
     * @returns Reference to self (for method chaining)
     */
    add(listener, opts = {}) {
      const { once = false, id = void 0 } = opts;
      const data = { id, once, callback: listener };
      if (this._notifying) {
        this._transactions.push({ type: TransactionType.Addition, data });
        return this;
      }
      this._listeners.push(data);
      return this;
    }
    /**
     * Equivalent to {@link Emitter.add}.
     *
     * @param listeners The callback(s) to register.
     * @returns Reference to self (for method chaining).
     *
     * @deprecated Please use {@link Emitter.add} instead.
     */
    push(...listeners) {
      for (const cb of listeners)
        this.add(cb);
      return this;
    }
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Once notified, the listener will be automatically removed.
     *
     * The method is equivalent to calling {@link Emitter.add} with:
     *
     * ```js
     * emitter.add(listener, {once: true});
     * ```
     *
     * @param listener The callback to register.
     *
     * @returns Reference to self (for method chaining).
     */
    once(listener) {
      return this.add(listener, { once: true });
    }
    /**
     * Remove a registered listener.
     *
     * Usage with a callback:
     *
     * ```js
     * const listener = (data) => console.log(data);
     * emitter.add(listener);
     *
     * // Remove using the callback reference:
     * emitter.remove(listener);
     * ```
     *
     * Usage with an id:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'my-callback'});
     *
     * // Remove using the id:
     * emitter.remove('my-callback');
     * ```
     *
     * Using identifiers, you will need to ensure your value is unique to avoid
     * removing listeners from other libraries, e.g.,:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'non-unique'});
     * // This second listener could be added by a third-party library.
     * emitter.add((data) => console.log('Hello From Library!'), {id: 'non-unique'});
     *
     * // Ho Snap! This also removed the library listener!
     * emitter.remove('non-unique');
     * ```
     *
     * The identifier can be any type. However, remember that the comparison will be
     * by-value for primitive types (string, number), but by reference for objects.
     *
     * Example:
     *
     * ```js
     * emitter.add(() => console.log('Hello'), {id: {value: 42}});
     * emitter.add(() => console.log('World!'), {id: {value: 42}});
     * emitter.remove({value: 42}); // None of the above listeners match!
     * emitter.notify(); // Prints 'Hello' and 'World!'.
     * ```
     *
     * Here, both emitters have id `{value: 42}`, but the comparison is made by reference. Thus,
     * the `remove()` call has no effect. We can make it work by doing:
     *
     * ```js
     * const id = {value: 42};
     * emitter.add(() => console.log('Hello'), {id});
     * emitter.add(() => console.log('World!'), {id});
     * emitter.remove(id); // Same reference, it works!
     * emitter.notify(); // Doesn't print.
     * ```
     *
     * @param listener The registered callback or a value representing the `id`.
     *
     * @returns Reference to self (for method chaining)
     */
    remove(listener) {
      if (this._notifying) {
        this._transactions.push({ type: TransactionType.Removal, data: listener });
        return this;
      }
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener) {
          listeners.splice(i--, 1);
        }
      }
      return this;
    }
    /**
     * Check whether the listener is registered.
     *
     * @note This method performs a linear search.
     *
     * * @note Doesn't account for pending listeners, i.e.,
     * listeners added / removed during a notification.
     *
     * @param listener The registered callback or a value representing the `id`.
     * @returns `true` if the handle is found, `false` otherwise.
     */
    has(listener) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener)
          return true;
      }
      return false;
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note This method ensures all listeners are called even if
     * an exception is thrown. For (possibly) faster notification,
     * please use {@link Emitter.notifyUnsafe}.
     *
     * @param data The data to pass to listener when invoked.
     */
    notify(...data) {
      const listeners = this._listeners;
      this._notifying = true;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        try {
          listener.callback(...data);
        } catch (e) {
          console.error(e);
        }
      }
      this._notifying = false;
      this._flushTransactions();
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note Because this method doesn't catch exceptions, some listeners
     * will be skipped on a throw. Please use {@link Emitter.notify} for safe
     * notification.
     *
     * @param data The data to pass to listener when invoked.
     */
    notifyUnsafe(...data) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        listener.callback(...data);
      }
      this._flushTransactions();
    }
    /**
     * Return a promise that will resolve on the next event.
     *
     * @note The promise might never resolve if no event is sent.
     *
     * @returns A promise that resolves with the data passed to
     *     {@link Emitter.notify}.
     */
    promise() {
      return new Promise((res, _) => {
        this.once((...args) => {
          if (args.length > 1) {
            res(args);
          } else {
            res(args[0]);
          }
        });
      });
    }
    /**
     * Number of listeners.
     *
     * @note Doesn't account for pending listeners, i.e.,
     * listeners added / removed during a notification.
     */
    get listenerCount() {
      return this._listeners.length;
    }
    /** `true` if it has no listeners, `false` otherwise. */
    get isEmpty() {
      return this.listenerCount === 0;
    }
    /**
     * Flush all pending transactions.
     *
     * @hidden
     */
    _flushTransactions() {
      const listeners = this._listeners;
      for (const transaction of this._transactions) {
        if (transaction.type === TransactionType.Addition) {
          listeners.push(transaction.data);
        } else {
          this.remove(transaction.data);
        }
      }
      this._transactions.length = 0;
    }
  };
  var RetainEmitterUndefined = {};
  var RetainEmitter = class extends Emitter {
    /** Pre-resolved data. @hidden */
    _event = RetainEmitterUndefined;
    /**
     * Emitter target used to reset the state of this emitter.
     *
     * @hidden
     */
    _reset;
    /** @override */
    add(listener, opts) {
      const immediate = opts?.immediate ?? true;
      if (this._event !== RetainEmitterUndefined && immediate) {
        listener(...this._event);
      }
      super.add(listener, opts);
      return this;
    }
    /**
     * @override
     *
     * @param listener The callback to register.
     * @param immediate If `true`, directly resolves if the emitter retains a value.
     *
     * @returns Reference to self (for method chaining).
     */
    once(listener, immediate) {
      return this.add(listener, { once: true, immediate });
    }
    /** @override */
    notify(...data) {
      this._event = data;
      super.notify(...data);
    }
    /** @override */
    notifyUnsafe(...data) {
      this._event = data;
      super.notifyUnsafe(...data);
    }
    /**
     * Reset the state of the emitter.
     *
     * Further call to {@link Emitter.add} will not automatically resolve,
     * until a new call to {@link Emitter.notify} is performed.
     *
     * @returns Reference to self (for method chaining)
     */
    reset() {
      this._event = RetainEmitterUndefined;
      return this;
    }
    /** Returns the retained data, or `undefined` if no data was retained. */
    get data() {
      return this.isDataRetained ? this._event : void 0;
    }
    /** `true` if data is retained from the last event, `false` otherwise. */
    get isDataRetained() {
      return this._event !== RetainEmitterUndefined;
    }
  };

  // node_modules/@wonderlandengine/api/dist/wonderland.js
  var __decorate = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var LogTag;
  (function(LogTag2) {
    LogTag2[LogTag2["Engine"] = 0] = "Engine";
    LogTag2[LogTag2["Scene"] = 1] = "Scene";
    LogTag2[LogTag2["Component"] = 2] = "Component";
  })(LogTag || (LogTag = {}));
  var Collider;
  (function(Collider2) {
    Collider2[Collider2["Sphere"] = 0] = "Sphere";
    Collider2[Collider2["AxisAlignedBox"] = 1] = "AxisAlignedBox";
    Collider2[Collider2["Box"] = 2] = "Box";
  })(Collider || (Collider = {}));
  var Alignment;
  (function(Alignment2) {
    Alignment2[Alignment2["Left"] = 0] = "Left";
    Alignment2[Alignment2["Center"] = 1] = "Center";
    Alignment2[Alignment2["Right"] = 2] = "Right";
  })(Alignment || (Alignment = {}));
  var Justification;
  (function(Justification2) {
    Justification2[Justification2["Line"] = 0] = "Line";
    Justification2[Justification2["Middle"] = 1] = "Middle";
    Justification2[Justification2["Top"] = 2] = "Top";
    Justification2[Justification2["Bottom"] = 3] = "Bottom";
  })(Justification || (Justification = {}));
  var TextEffect;
  (function(TextEffect2) {
    TextEffect2[TextEffect2["None"] = 0] = "None";
    TextEffect2[TextEffect2["Outline"] = 1] = "Outline";
  })(TextEffect || (TextEffect = {}));
  var InputType;
  (function(InputType2) {
    InputType2[InputType2["Head"] = 0] = "Head";
    InputType2[InputType2["EyeLeft"] = 1] = "EyeLeft";
    InputType2[InputType2["EyeRight"] = 2] = "EyeRight";
    InputType2[InputType2["ControllerLeft"] = 3] = "ControllerLeft";
    InputType2[InputType2["ControllerRight"] = 4] = "ControllerRight";
    InputType2[InputType2["RayLeft"] = 5] = "RayLeft";
    InputType2[InputType2["RayRight"] = 6] = "RayRight";
  })(InputType || (InputType = {}));
  var LightType;
  (function(LightType2) {
    LightType2[LightType2["Point"] = 0] = "Point";
    LightType2[LightType2["Spot"] = 1] = "Spot";
    LightType2[LightType2["Sun"] = 2] = "Sun";
  })(LightType || (LightType = {}));
  var AnimationState;
  (function(AnimationState2) {
    AnimationState2[AnimationState2["Playing"] = 0] = "Playing";
    AnimationState2[AnimationState2["Paused"] = 1] = "Paused";
    AnimationState2[AnimationState2["Stopped"] = 2] = "Stopped";
  })(AnimationState || (AnimationState = {}));
  var ForceMode;
  (function(ForceMode2) {
    ForceMode2[ForceMode2["Force"] = 0] = "Force";
    ForceMode2[ForceMode2["Impulse"] = 1] = "Impulse";
    ForceMode2[ForceMode2["VelocityChange"] = 2] = "VelocityChange";
    ForceMode2[ForceMode2["Acceleration"] = 3] = "Acceleration";
  })(ForceMode || (ForceMode = {}));
  var CollisionEventType;
  (function(CollisionEventType2) {
    CollisionEventType2[CollisionEventType2["Touch"] = 0] = "Touch";
    CollisionEventType2[CollisionEventType2["TouchLost"] = 1] = "TouchLost";
    CollisionEventType2[CollisionEventType2["TriggerTouch"] = 2] = "TriggerTouch";
    CollisionEventType2[CollisionEventType2["TriggerTouchLost"] = 3] = "TriggerTouchLost";
  })(CollisionEventType || (CollisionEventType = {}));
  var Shape;
  (function(Shape2) {
    Shape2[Shape2["None"] = 0] = "None";
    Shape2[Shape2["Sphere"] = 1] = "Sphere";
    Shape2[Shape2["Capsule"] = 2] = "Capsule";
    Shape2[Shape2["Box"] = 3] = "Box";
    Shape2[Shape2["Plane"] = 4] = "Plane";
    Shape2[Shape2["ConvexMesh"] = 5] = "ConvexMesh";
    Shape2[Shape2["TriangleMesh"] = 6] = "TriangleMesh";
  })(Shape || (Shape = {}));
  var MeshAttribute;
  (function(MeshAttribute2) {
    MeshAttribute2[MeshAttribute2["Position"] = 0] = "Position";
    MeshAttribute2[MeshAttribute2["Tangent"] = 1] = "Tangent";
    MeshAttribute2[MeshAttribute2["Normal"] = 2] = "Normal";
    MeshAttribute2[MeshAttribute2["TextureCoordinate"] = 3] = "TextureCoordinate";
    MeshAttribute2[MeshAttribute2["Color"] = 4] = "Color";
    MeshAttribute2[MeshAttribute2["JointId"] = 5] = "JointId";
    MeshAttribute2[MeshAttribute2["JointWeight"] = 6] = "JointWeight";
  })(MeshAttribute || (MeshAttribute = {}));
  var MaterialParamType;
  (function(MaterialParamType2) {
    MaterialParamType2[MaterialParamType2["UnsignedInt"] = 0] = "UnsignedInt";
    MaterialParamType2[MaterialParamType2["Int"] = 1] = "Int";
    MaterialParamType2[MaterialParamType2["Float"] = 2] = "Float";
    MaterialParamType2[MaterialParamType2["Sampler"] = 3] = "Sampler";
    MaterialParamType2[MaterialParamType2["Font"] = 4] = "Font";
  })(MaterialParamType || (MaterialParamType = {}));
  function createDestroyedProxy(type) {
    return new Proxy({}, {
      get(_, param) {
        if (param === "isDestroyed")
          return true;
        throw new Error(`Canno't read '${param}' of destroyed ${type}`);
      },
      set(_, param) {
        throw new Error(`Canno't write '${param}' of destroyed ${type}`);
      }
    });
  }
  var DestroyedObjectInstance = createDestroyedProxy("object");
  var DestroyedComponentInstance = createDestroyedProxy("component");
  var DestroyedTextureInstance = createDestroyedProxy("texture");
  function isMeshShape(shape) {
    return shape === Shape.ConvexMesh || shape === Shape.TriangleMesh;
  }
  function isBaseComponentClass(value) {
    return !!value && value.hasOwnProperty("_isBaseComponent") && value._isBaseComponent;
  }
  var UP_VECTOR = [0, 1, 0];
  var SQRT_3 = Math.sqrt(3);
  var Component = class {
    /**
     * Allows to inherit properties directly inside the editor.
     *
     * @note Do not use directly, prefer using {@link inheritProperties}.
     *
     * @hidden
     */
    static _inheritProperties() {
      inheritProperties(this);
    }
    /** Manager index. @hidden */
    _manager;
    /** Instance index. @hidden */
    _id;
    /**
     * Object containing this object.
     *
     * **Note**: This is cached for faster retrieval.
     *
     * @hidden
     */
    _object;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance
     *
     * @param engine The engine instance.
     * @param manager Index of the manager.
     * @param id WASM component instance index.
     *
     * @hidden
     */
    constructor(engine, manager = -1, id = -1) {
      this._engine = engine;
      this._manager = manager;
      this._id = id;
      this._object = null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /** The name of this component's type */
    get type() {
      const ctor = this.constructor;
      return ctor.TypeName ?? this._engine.wasm._typeNameFor(this._manager);
    }
    /** The object this component is attached to. */
    get object() {
      if (!this._object) {
        const objectId = this._engine.wasm._wl_component_get_object(this._manager, this._id);
        this._object = this._engine.wrapObject(objectId);
      }
      return this._object;
    }
    /**
     * Set whether this component is active.
     *
     * Activating/deactivating a component comes at a small cost of reordering
     * components in the respective component manager. This function therefore
     * is not a trivial assignment.
     *
     * Does nothing if the component is already activated/deactivated.
     *
     * @param active New active state.
     */
    set active(active) {
      this._engine.wasm._wl_component_setActive(this._manager, this._id, active);
    }
    /**
     * Whether this component is active
     */
    get active() {
      return this._engine.wasm._wl_component_isActive(this._manager, this._id) != 0;
    }
    /**
     * Copy all the properties from `src` into this instance.
     *
     * @note Only properties are copied. If a component needs to
     * copy extra data, it needs to override this method.
     *
     * #### Example
     *
     * ```js
     * class MyComponent extends Component {
     *     nonPropertyData = 'Hello World';
     *
     *     copy(src) {
     *         super.copy(src);
     *         this.nonPropertyData = src.nonPropertyData;
     *         return this;
     *     }
     * }
     * ```
     *
     * @note This method is called by {@link Object3D.clone}. Do not attempt to:
     *     - Create new component
     *     - Read references to other objects
     *
     * When cloning via {@link Object3D.clone}, this method will be called before
     * {@link Component.start}.
     *
     * @note JavaScript component properties aren't retargeted. Thus, references
     * inside the source object will not be retargeted to the destination object,
     * at the exception of the skin data on {@link MeshComponent} and {@link AnimationComponent}.
     *
     * @param src The source component to copy from.
     *
     * @returns Reference to self (for method chaining).
     */
    copy(src) {
      const ctor = this.constructor;
      for (const name in ctor.Properties) {
        const value = src[name];
        if (value !== void 0) {
          this[name] = value;
        }
      }
      return this;
    }
    /**
     * Remove this component from its objects and destroy it.
     *
     * It is best practice to set the component to `null` after,
     * to ensure it does not get used later.
     *
     * ```js
     *    c.destroy();
     *    c = null;
     * ```
     * @since 0.9.0
     */
    destroy() {
      const manager = this._manager;
      if (manager < 0 || this._id < 0)
        return;
      const jsManager = this.engine.wasm._jsManagerIndex;
      this._engine.wasm._wl_component_remove(manager, this._id);
      if (manager !== jsManager)
        this._triggerOnDestroy();
    }
    /**
     * Checks equality by comparing whether the wrapped native component ids
     * and component manager types are equal.
     *
     * @param otherComponent Component to check equality with.
     * @returns Whether this component equals the given component.
     */
    equals(otherComponent) {
      if (!otherComponent)
        return false;
      return this._manager == otherComponent._manager && this._id == otherComponent._id;
    }
    /**
     * Reset the component properties to default.
     *
     * @note This is automatically called during the component instantiation.
     *
     * @returns Reference to self (for method chaining).
     */
    resetProperties() {
      const ctor = this.constructor;
      const properties = ctor.Properties;
      if (!properties)
        return this;
      for (const name in properties) {
        this[name] = properties[name].default;
      }
      return this;
    }
    /** @deprecated Use {@link Component.resetProperties} instead. */
    reset() {
      return this.resetProperties();
    }
    /**
     * Validate the properties on this instance.
     *
     * @throws If any of the required properties isn't initialized
     * on this instance.
     */
    validateProperties() {
      const ctor = this.constructor;
      if (!ctor.Properties)
        return;
      for (const name in ctor.Properties) {
        if (!ctor.Properties[name].required)
          continue;
        if (!this[name]) {
          throw new Error(`Property '${name}' is required but was not initialized`);
        }
      }
    }
    /**
     * `true` if the component is destroyed, `false` otherwise.
     *
     * If {@link WonderlandEngine.erasePrototypeOnDestroy} is `true`,
     * reading a custom property will not work:
     *
     * ```js
     * engine.erasePrototypeOnDestroy = true;
     *
     * const comp = obj.addComponent('mesh');
     * comp.customParam = 'Hello World!';
     *
     * console.log(comp.isDestroyed); // Prints `false`
     * comp.destroy();
     * console.log(comp.isDestroyed); // Prints `true`
     * console.log(comp.customParam); // Throws an error
     * ```
     *
     * @since 1.1.1
     */
    get isDestroyed() {
      return this._id < 0;
    }
    /**
     * Trigger the component {@link Component.init} method.
     *
     * @note Use this method instead of directly calling {@link Component.init},
     * because this method creates an handler for the {@link Component.start}.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerInit() {
      if (this.init) {
        try {
          this.init();
        } catch (e) {
          this.engine.log.error(LogTag.Component, `Exception during ${this.type} init() on object ${this.object.name}`);
          this.engine.log.error(LogTag.Component, e);
        }
      }
      const oldActivate = this.onActivate;
      this.onActivate = function() {
        this.onActivate = oldActivate;
        let failed = false;
        try {
          this.validateProperties();
        } catch (e) {
          this.engine.log.error(LogTag.Component, `Exception during ${this.type} validateProperties() on object ${this.object.name}`);
          this.engine.log.error(LogTag.Component, e);
          failed = true;
        }
        try {
          this.start?.();
        } catch (e) {
          this.engine.log.error(LogTag.Component, `Exception during ${this.type} start() on object ${this.object.name}`);
          this.engine.log.error(LogTag.Component, e);
          failed = true;
        }
        if (failed) {
          this.active = false;
          return;
        }
        if (!this.onActivate)
          return;
        try {
          this.onActivate();
        } catch (e) {
          this.engine.log.error(LogTag.Component, `Exception during ${this.type} onActivate() on object ${this.object.name}`);
          this.engine.log.error(LogTag.Component, e);
        }
      };
    }
    /**
     * Trigger the component {@link Component.update} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerUpdate(dt) {
      if (!this.update)
        return;
      try {
        this.update(dt);
      } catch (e) {
        this.engine.log.error(LogTag.Component, `Exception during ${this.type} update() on object ${this.object.name}`);
        this.engine.log.error(LogTag.Component, e);
        if (this._engine.wasm._deactivate_component_on_error) {
          this.active = false;
        }
      }
    }
    /**
     * Trigger the component {@link Component.onActivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnActivate() {
      if (!this.onActivate)
        return;
      try {
        this.onActivate();
      } catch (e) {
        this.engine.log.error(LogTag.Component, `Exception during ${this.type} onActivate() on object ${this.object.name}`);
        this.engine.log.error(LogTag.Component, e);
      }
    }
    /**
     * Trigger the component {@link Component.onDeactivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDeactivate() {
      if (!this.onDeactivate)
        return;
      try {
        this.onDeactivate();
      } catch (e) {
        this.engine.log.error(LogTag.Component, `Exception during ${this.type} onDeactivate() on object ${this.object.name}`);
        this.engine.log.error(LogTag.Component, e);
      }
    }
    /**
     * Trigger the component {@link Component.onDestroy} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDestroy() {
      try {
        if (this.onDestroy)
          this.onDestroy();
      } catch (e) {
        this.engine.log.error(LogTag.Component, `Exception during ${this.type} onDestroy() on object ${this.object.name}`);
        this.engine.log.error(LogTag.Component, e);
      }
      this._engine._destroyComponent(this);
    }
  };
  /**
   * `true` for every class inheriting from this class.
   *
   * @note This is a workaround for `instanceof` to prevent issues
   * that could arise when an application ends up using multiple API versions.
   *
   * @hidden
   */
  __publicField(Component, "_isBaseComponent", true);
  /**
   * Unique identifier for this component class.
   *
   * This is used to register, add, and retrieve components of a given type.
   */
  __publicField(Component, "TypeName");
  /**
   * Properties of this component class.
   *
   * Properties are public attributes that can be configured via the
   * Wonderland Editor.
   *
   * Example:
   *
   * ```js
   * import { Component, Type } from '@wonderlandengine/api';
   * class MyComponent extends Component {
   *     static TypeName = 'my-component';
   *     static Properties = {
   *         myBoolean: { type: Type.Boolean, default: false },
   *         myFloat: { type: Type.Float, default: false },
   *         myTexture: { type: Type.Texture, default: null },
   *     };
   * }
   * ```
   *
   * Properties are automatically added to each component instance, and are
   * accessible like any JS attribute:
   *
   * ```js
   * // Creates a new component and set each properties value:
   * const myComponent = object.addComponent(MyComponent, {
   *     myBoolean: true,
   *     myFloat: 42.0,
   *     myTexture: null
   * });
   *
   * // You can also override the properties on the instance:
   * myComponent.myBoolean = false;
   * myComponent.myFloat = -42.0;
   * ```
   *
   * #### References
   *
   * Reference types (i.e., mesh, object, etc...) can also be listed as **required**:
   *
   * ```js
   * import {Component, Property} from '@wonderlandengine/api';
   *
   * class MyComponent extends Component {
   *     static Properties = {
   *         myObject: Property.object({required: true}),
   *         myAnimation: Property.animation({required: true}),
   *         myTexture: Property.texture({required: true}),
   *         myMesh: Property.mesh({required: true}),
   *     }
   * }
   * ```
   *
   * Please note that references are validated **once** before the call to {@link Component.start} only,
   * via the {@link Component.validateProperties} method.
   */
  __publicField(Component, "Properties");
  /**
   * When set to `true`, the child class inherits from the parent
   * properties, as shown in the following example:
   *
   * ```js
   * import {Component, Property} from '@wonderlandengine/api';
   *
   * class Parent extends Component {
   *     static TypeName = 'parent';
   *     static Properties = {parentName: Property.string('parent')}
   * }
   *
   * class Child extends Parent {
   *     static TypeName = 'child';
   *     static Properties = {name: Property.string('child')}
   *     static InheritProperties = true;
   *
   *     start() {
   *         // Works because `InheritProperties` is `true`.
   *         console.log(`${this.name} inherits from ${this.parentName}`);
   *     }
   * }
   * ```
   *
   * @note Properties defined in descendant classes will override properties
   * with the same name defined in ancestor classes.
   *
   * Defaults to `true`.
   */
  __publicField(Component, "InheritProperties");
  /**
   * Called when this component class is registered.
   *
   * @example
   *
   * This callback can be used to register dependencies of a component,
   * e.g., component classes that need to be registered in order to add
   * them at runtime with {@link Object3D.addComponent}, independent of whether
   * they are used in the editor.
   *
   * ```js
   * class Spawner extends Component {
   *     static TypeName = 'spawner';
   *
   *     static onRegister(engine) {
   *         engine.registerComponent(SpawnedComponent);
   *     }
   *
   *     // You can now use addComponent with SpawnedComponent
   * }
   * ```
   *
   * @example
   *
   * This callback can be used to register different implementations of a
   * component depending on client features or API versions.
   *
   * ```js
   * // Properties need to be the same for all implementations!
   * const SharedProperties = {};
   *
   * class Anchor extends Component {
   *     static TypeName = 'spawner';
   *     static Properties = SharedProperties;
   *
   *     static onRegister(engine) {
   *         if(navigator.xr === undefined) {
   *             /* WebXR unsupported, keep this dummy component *\/
   *             return;
   *         }
   *         /* WebXR supported! Override already registered dummy implementation
   *          * with one depending on hit-test API support *\/
   *         engine.registerComponent(window.HitTestSource === undefined ?
   *             AnchorWithoutHitTest : AnchorWithHitTest);
   *     }
   *
   *     // This one implements no functions
   * }
   * ```
   */
  __publicField(Component, "onRegister");
  var BrokenComponent = class extends Component {
  };
  __publicField(BrokenComponent, "TypeName", "__broken-component__");
  function inheritProperties(target) {
    if (!target.TypeName)
      return;
    const chain = [];
    let curr = target;
    while (curr && !isBaseComponentClass(curr)) {
      const comp = curr;
      const needsMerge = comp.hasOwnProperty("InheritProperties") ? comp.InheritProperties : true;
      if (!needsMerge)
        break;
      if (comp.TypeName && comp.hasOwnProperty("Properties")) {
        chain.push(comp.Properties);
      }
      curr = Object.getPrototypeOf(curr);
    }
    if (chain.length <= 1)
      return;
    const merged = {};
    for (let i = chain.length - 1; i >= 0; --i) {
      Object.assign(merged, chain[i]);
    }
    target.Properties = merged;
  }
  var _CollisionComponent = class extends Component {
    /** Collision component collider */
    get collider() {
      return this._engine.wasm._wl_collision_component_get_collider(this._id);
    }
    /**
     * Set collision component collider.
     *
     * @param collider Collider of the collision component.
     */
    set collider(collider) {
      this._engine.wasm._wl_collision_component_set_collider(this._id, collider);
    }
    /**
     * Collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the returned vector is used.
     */
    get extents() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);
    }
    /**
     * Set collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the passed vector is used.
     *
     * Example:
     *
     * ```js
     * // Spans 1 unit on the x-axis, 2 on the y-axis, 3 on the z-axis.
     * collision.extent = [1, 2, 3];
     * ```
     *
     * @param extents Extents of the collision component, expects a
     *      3 component array.
     */
    set extents(extents) {
      this.extents.set(extents);
    }
    /**
     * Get collision component radius.
     *
     * @note If {@link collider} is not {@link Collider.Sphere}, the returned value
     * corresponds to the radius of a sphere enclosing the shape.
     *
     * Example:
     *
     * ```js
     * sphere.radius = 3.0;
     * console.log(sphere.radius); // 3.0
     *
     * box.extents = [2.0, 2.0, 2.0];
     * console.log(box.radius); // 1.732...
     * ```
     *
     */
    get radius() {
      const wasm = this._engine.wasm;
      if (this.collider === Collider.Sphere)
        return wasm.HEAPF32[wasm._wl_collision_component_get_extents(this._id) >> 2];
      const extents = new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);
      const x2 = extents[0] * extents[0];
      const y2 = extents[1] * extents[1];
      const z2 = extents[2] * extents[2];
      return Math.sqrt(x2 + y2 + z2) / 2;
    }
    /**
     * Set collision component radius.
     *
     * @param radius Radius of the collision component
     *
     * @note If {@link collider} is not {@link Collider.Sphere},
     * the extents are set to form a square that fits a sphere with the provided radius.
     *
     * Example:
     *
     * ```js
     * aabbCollision.radius = 2.0; // AABB fits a sphere of radius 2.0
     * boxCollision.radius = 3.0; // Box now fits a sphere of radius 3.0, keeping orientation
     * ```
     *
     */
    set radius(radius) {
      const length5 = this.collider === Collider.Sphere ? radius : 2 * radius / SQRT_3;
      this.extents.set([length5, length5, length5]);
    }
    /**
     * Collision component group.
     *
     * The groups is a bitmask that is compared to other components in {@link CollisionComponent#queryOverlaps}
     * or the group in {@link Scene#rayCast}.
     *
     * Colliders that have no common groups will not overlap with each other. If a collider
     * has none of the groups set for {@link Scene#rayCast}, the ray will not hit it.
     *
     * Each bit represents belonging to a group, see example.
     *
     * ```js
     *    // c belongs to group 2
     *    c.group = (1 << 2);
     *
     *    // c belongs to group 0
     *    c.group = (1 << 0);
     *
     *    // c belongs to group 0 *and* 2
     *    c.group = (1 << 0) | (1 << 2);
     *
     *    (c.group & (1 << 2)) != 0; // true
     *    (c.group & (1 << 7)) != 0; // false
     * ```
     */
    get group() {
      return this._engine.wasm._wl_collision_component_get_group(this._id);
    }
    /**
     * Set collision component group.
     *
     * @param group Group mask of the collision component.
     */
    set group(group) {
      this._engine.wasm._wl_collision_component_set_group(this._id, group);
    }
    /**
     * Query overlapping objects.
     *
     * Usage:
     *
     * ```js
     * const collision = object.getComponent('collision');
     * const overlaps = collision.queryOverlaps();
     * for(const otherCollision of overlaps) {
     *     const otherObject = otherCollision.object;
     *     console.log(`Collision with object ${otherObject.objectId}`);
     * }
     * ```
     *
     * @returns Collision components overlapping this collider.
     */
    queryOverlaps() {
      const count = this._engine.wasm._wl_collision_component_query_overlaps(this._id, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);
      const overlaps = new Array(count);
      for (let i = 0; i < count; ++i) {
        overlaps[i] = new _CollisionComponent(this._engine, this._manager, this._engine.wasm._tempMemUint16[i]);
      }
      return overlaps;
    }
  };
  var CollisionComponent = _CollisionComponent;
  /** @override */
  __publicField(CollisionComponent, "TypeName", "collision");
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "collider", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "group", null);
  var TextComponent = class extends Component {
    /** Text component alignment. */
    get alignment() {
      return this._engine.wasm._wl_text_component_get_horizontal_alignment(this._id);
    }
    /**
     * Set text component alignment.
     *
     * @param alignment Alignment for the text component.
     */
    set alignment(alignment) {
      this._engine.wasm._wl_text_component_set_horizontal_alignment(this._id, alignment);
    }
    /** Text component justification. */
    get justification() {
      return this._engine.wasm._wl_text_component_get_vertical_alignment(this._id);
    }
    /**
     * Set text component justification.
     *
     * @param justification Justification for the text component.
     */
    set justification(justification) {
      this._engine.wasm._wl_text_component_set_vertical_alignment(this._id, justification);
    }
    /** Text component character spacing. */
    get characterSpacing() {
      return this._engine.wasm._wl_text_component_get_character_spacing(this._id);
    }
    /**
     * Set text component character spacing.
     *
     * @param spacing Character spacing for the text component.
     */
    set characterSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_character_spacing(this._id, spacing);
    }
    /** Text component line spacing. */
    get lineSpacing() {
      return this._engine.wasm._wl_text_component_get_line_spacing(this._id);
    }
    /**
     * Set text component line spacing
     *
     * @param spacing Line spacing for the text component
     */
    set lineSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_line_spacing(this._id, spacing);
    }
    /** Text component effect. */
    get effect() {
      return this._engine.wasm._wl_text_component_get_effect(this._id);
    }
    /**
     * Set text component effect
     *
     * @param effect Effect for the text component
     */
    set effect(effect) {
      this._engine.wasm._wl_text_component_set_effect(this._id, effect);
    }
    /** Text component text. */
    get text() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_text_component_get_text(this._id);
      return wasm.UTF8ToString(ptr);
    }
    /**
     * Set text component text.
     *
     * @param text Text of the text component.
     */
    set text(text) {
      const wasm = this._engine.wasm;
      wasm._wl_text_component_set_text(this._id, wasm.tempUTF8(text.toString()));
    }
    /**
     * Set material to render the text with.
     *
     * @param material New material.
     */
    set material(material) {
      const matIndex = material ? material._index : 0;
      this._engine.wasm._wl_text_component_set_material(this._id, matIndex);
    }
    /** Material used to render the text. */
    get material() {
      const id = this._engine.wasm._wl_text_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
  };
  /** @override */
  __publicField(TextComponent, "TypeName", "text");
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "alignment", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "justification", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "characterSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "lineSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "effect", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "text", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "material", null);
  var ViewComponent = class extends Component {
    /** Projection matrix. */
    get projectionMatrix() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_view_component_get_projection_matrix(this._id), 16);
    }
    /** ViewComponent near clipping plane value. */
    get near() {
      return this._engine.wasm._wl_view_component_get_near(this._id);
    }
    /**
     * Set near clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param near Near depth value.
     */
    set near(near) {
      this._engine.wasm._wl_view_component_set_near(this._id, near);
    }
    /** Far clipping plane value. */
    get far() {
      return this._engine.wasm._wl_view_component_get_far(this._id);
    }
    /**
     * Set far clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param far Near depth value.
     */
    set far(far) {
      this._engine.wasm._wl_view_component_set_far(this._id, far);
    }
    /**
     * Get the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, this returns the field of view reported by
     * the device, regardless of the fov that was set.
     */
    get fov() {
      return this._engine.wasm._wl_view_component_get_fov(this._id);
    }
    /**
     * Set the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, the field of view reported by the device is
     * used and this value is ignored. After the XR session ends, the new value
     * is applied.
     *
     * @param fov Horizontal field of view, **in degrees**.
     */
    set fov(fov) {
      this._engine.wasm._wl_view_component_set_fov(this._id, fov);
    }
  };
  /** @override */
  __publicField(ViewComponent, "TypeName", "view");
  __decorate([
    enumerable()
  ], ViewComponent.prototype, "projectionMatrix", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "near", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "far", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "fov", null);
  var InputComponent = class extends Component {
    /** Input component type */
    get inputType() {
      return this._engine.wasm._wl_input_component_get_type(this._id);
    }
    /**
     * Set input component type.
     *
     * @params New input component type.
     */
    set inputType(type) {
      this._engine.wasm._wl_input_component_set_type(this._id, type);
    }
    /**
     * WebXR Device API input source associated with this input component,
     * if type {@link InputType.ControllerLeft} or {@link InputType.ControllerRight}.
     */
    get xrInputSource() {
      const xr = this._engine.xr;
      if (!xr)
        return null;
      for (let inputSource of xr.session.inputSources) {
        if (inputSource.handedness == this.handedness) {
          return inputSource;
        }
      }
      return null;
    }
    /**
     * 'left', 'right' or `null` depending on the {@link InputComponent#inputType}.
     */
    get handedness() {
      const inputType = this.inputType;
      if (inputType == InputType.ControllerRight || inputType == InputType.RayRight || inputType == InputType.EyeRight)
        return "right";
      if (inputType == InputType.ControllerLeft || inputType == InputType.RayLeft || inputType == InputType.EyeLeft)
        return "left";
      return null;
    }
  };
  /** @override */
  __publicField(InputComponent, "TypeName", "input");
  __decorate([
    nativeProperty()
  ], InputComponent.prototype, "inputType", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "xrInputSource", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "handedness", null);
  var LightComponent = class extends Component {
    getColor(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set light color.
     *
     * @param c New color array/vector, expected to have at least 3 elements.
     * @since 1.0.0
     */
    setColor(c) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      wasm.HEAPF32[ptr] = c[0];
      wasm.HEAPF32[ptr + 1] = c[1];
      wasm.HEAPF32[ptr + 2] = c[2];
    }
    /**
     * View on the light color.
     *
     * @note Prefer to use {@link getColor} in performance-critical code.
     */
    get color() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_light_component_get_color(this._id), 3);
    }
    /**
     * Set light color.
     *
     * @param c Color of the light component.
     *
     * @note Prefer to use {@link setColor} in performance-critical code.
     */
    set color(c) {
      this.color.set(c);
    }
    /** Light type. */
    get lightType() {
      return this._engine.wasm._wl_light_component_get_type(this._id);
    }
    /**
     * Set light type.
     *
     * @param lightType Type of the light component.
     */
    set lightType(t) {
      this._engine.wasm._wl_light_component_set_type(this._id, t);
    }
    /**
     * Light intensity.
     * @since 1.0.0
     */
    get intensity() {
      return this._engine.wasm._wl_light_component_get_intensity(this._id);
    }
    /**
     * Set light intensity.
     *
     * @param intensity Intensity of the light component.
     * @since 1.0.0
     */
    set intensity(intensity) {
      this._engine.wasm._wl_light_component_set_intensity(this._id, intensity);
    }
    /**
     * Outer angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get outerAngle() {
      return this._engine.wasm._wl_light_component_get_outerAngle(this._id);
    }
    /**
     * Set outer angle for spot lights.
     *
     * @param angle Outer angle, in degrees.
     * @since 1.0.0
     */
    set outerAngle(angle2) {
      this._engine.wasm._wl_light_component_set_outerAngle(this._id, angle2);
    }
    /**
     * Inner angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get innerAngle() {
      return this._engine.wasm._wl_light_component_get_innerAngle(this._id);
    }
    /**
     * Set inner angle for spot lights.
     *
     * @param angle Inner angle, in degrees.
     * @since 1.0.0
     */
    set innerAngle(angle2) {
      this._engine.wasm._wl_light_component_set_innerAngle(this._id, angle2);
    }
    /**
     * Whether the light casts shadows.
     * @since 1.0.0
     */
    get shadows() {
      return !!this._engine.wasm._wl_light_component_get_shadows(this._id);
    }
    /**
     * Set whether the light casts shadows.
     *
     * @param b Whether the light casts shadows.
     * @since 1.0.0
     */
    set shadows(b) {
      this._engine.wasm._wl_light_component_set_shadows(this._id, b);
    }
    /**
     * Range for shadows.
     * @since 1.0.0
     */
    get shadowRange() {
      return this._engine.wasm._wl_light_component_get_shadowRange(this._id);
    }
    /**
     * Set range for shadows.
     *
     * @param range Range for shadows.
     * @since 1.0.0
     */
    set shadowRange(range) {
      this._engine.wasm._wl_light_component_set_shadowRange(this._id, range);
    }
    /**
     * Bias value for shadows.
     * @since 1.0.0
     */
    get shadowBias() {
      return this._engine.wasm._wl_light_component_get_shadowBias(this._id);
    }
    /**
     * Set bias value for shadows.
     *
     * @param bias Bias for shadows.
     * @since 1.0.0
     */
    set shadowBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowBias(this._id, bias);
    }
    /**
     * Normal bias value for shadows.
     * @since 1.0.0
     */
    get shadowNormalBias() {
      return this._engine.wasm._wl_light_component_get_shadowNormalBias(this._id);
    }
    /**
     * Set normal bias value for shadows.
     *
     * @param bias Normal bias for shadows.
     * @since 1.0.0
     */
    set shadowNormalBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowNormalBias(this._id, bias);
    }
    /**
     * Texel size for shadows.
     * @since 1.0.0
     */
    get shadowTexelSize() {
      return this._engine.wasm._wl_light_component_get_shadowTexelSize(this._id);
    }
    /**
     * Set texel size for shadows.
     *
     * @param size Texel size for shadows.
     * @since 1.0.0
     */
    set shadowTexelSize(size) {
      this._engine.wasm._wl_light_component_set_shadowTexelSize(this._id, size);
    }
    /**
     * Cascade count for {@link LightType.Sun} shadows.
     * @since 1.0.0
     */
    get cascadeCount() {
      return this._engine.wasm._wl_light_component_get_cascadeCount(this._id);
    }
    /**
     * Set cascade count for {@link LightType.Sun} shadows.
     *
     * @param count Cascade count.
     * @since 1.0.0
     */
    set cascadeCount(count) {
      this._engine.wasm._wl_light_component_set_cascadeCount(this._id, count);
    }
  };
  /** @override */
  __publicField(LightComponent, "TypeName", "light");
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "color", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "lightType", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "intensity", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "outerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "innerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadows", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowRange", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowNormalBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowTexelSize", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "cascadeCount", null);
  var AnimationComponent = class extends Component {
    /**
     * Set animation to play.
     *
     * Make sure to {@link Animation#retarget} the animation to affect the
     * right objects.
     *
     * @param anim Animation to play.
     */
    set animation(anim) {
      this._engine.wasm._wl_animation_component_set_animation(this._id, anim ? anim._index : 0);
    }
    /** Animation set for this component */
    get animation() {
      const id = this._engine.wasm._wl_animation_component_get_animation(this._id);
      return id > 0 ? new Animation(this._engine, id) : null;
    }
    /**
     * Set play count. Set to `0` to loop indefinitely.
     *
     * @param playCount Number of times to repeat the animation.
     */
    set playCount(playCount) {
      this._engine.wasm._wl_animation_component_set_playCount(this._id, playCount);
    }
    /** Number of times the animation is played. */
    get playCount() {
      return this._engine.wasm._wl_animation_component_get_playCount(this._id);
    }
    /**
     * Set speed. Set to negative values to run the animation backwards.
     *
     * Setting speed has an immediate effect for the current frame's update
     * and will continue with the speed from the current point in the animation.
     *
     * @param speed New speed at which to play the animation.
     * @since 0.8.10
     */
    set speed(speed) {
      this._engine.wasm._wl_animation_component_set_speed(this._id, speed);
    }
    /**
     * Speed factor at which the animation is played.
     *
     * @since 0.8.10
     */
    get speed() {
      return this._engine.wasm._wl_animation_component_get_speed(this._id);
    }
    /** Current playing state of the animation */
    get state() {
      return this._engine.wasm._wl_animation_component_state(this._id);
    }
    /**
     * Play animation.
     *
     * If the animation is currently paused, resumes from that position. If the
     * animation is already playing, does nothing.
     *
     * To restart the animation, {@link AnimationComponent#stop} it first.
     */
    play() {
      this._engine.wasm._wl_animation_component_play(this._id);
    }
    /** Stop animation. */
    stop() {
      this._engine.wasm._wl_animation_component_stop(this._id);
    }
    /** Pause animation. */
    pause() {
      this._engine.wasm._wl_animation_component_pause(this._id);
    }
  };
  /** @override */
  __publicField(AnimationComponent, "TypeName", "animation");
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "animation", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "playCount", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "speed", null);
  __decorate([
    enumerable()
  ], AnimationComponent.prototype, "state", null);
  var MeshComponent = class extends Component {
    /**
     * Set material to render the mesh with.
     *
     * @param material Material to render the mesh with.
     */
    set material(material) {
      this._engine.wasm._wl_mesh_component_set_material(this._id, material ? material._index : 0);
    }
    /** Material used to render the mesh. */
    get material() {
      const id = this._engine.wasm._wl_mesh_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /** Mesh rendered by this component. */
    get mesh() {
      const id = this._engine.wasm._wl_mesh_component_get_mesh(this._id);
      return id > 0 ? new Mesh(this._engine, id) : null;
    }
    /**
     * Set mesh to rendered with this component.
     *
     * @param mesh Mesh rendered by this component.
     */
    set mesh(mesh) {
      this._engine.wasm._wl_mesh_component_set_mesh(this._id, mesh ? mesh._index : 0);
    }
    /** Skin for this mesh component. */
    get skin() {
      const id = this._engine.wasm._wl_mesh_component_get_skin(this._id);
      return id > 0 ? new Skin(this._engine, id) : null;
    }
    /**
     * Set skin to transform this mesh component.
     *
     * @param skin Skin to use for rendering skinned meshes.
     */
    set skin(skin) {
      this._engine.wasm._wl_mesh_component_set_skin(this._id, skin ? skin._index : 0);
    }
  };
  /** @override */
  __publicField(MeshComponent, "TypeName", "mesh");
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "material", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "mesh", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "skin", null);
  var LockAxis;
  (function(LockAxis2) {
    LockAxis2[LockAxis2["None"] = 0] = "None";
    LockAxis2[LockAxis2["X"] = 1] = "X";
    LockAxis2[LockAxis2["Y"] = 2] = "Y";
    LockAxis2[LockAxis2["Z"] = 4] = "Z";
  })(LockAxis || (LockAxis = {}));
  var PhysXComponent = class extends Component {
    getTranslationOffset(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_offsetTranslation(this._id, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    getRotationOffset(out = new Float32Array(4)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_physx_component_get_offsetTransform(this._id) >> 2;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      return out;
    }
    /**
     * Set whether this rigid body is static.
     *
     * Setting this property only takes effect once the component
     * switches from inactive to active.
     *
     * @param b Whether the rigid body should be static.
     */
    set static(b) {
      this._engine.wasm._wl_physx_component_set_static(this._id, b);
    }
    /**
     * Whether this rigid body is static.
     *
     * This property returns whether the rigid body is *effectively*
     * static. If static property was set while the rigid body was
     * active, it will not take effect until the rigid body is set
     * inactive and active again. Until the component is set inactive,
     * this getter will return whether the rigid body is actually
     * static.
     */
    get static() {
      return !!this._engine.wasm._wl_physx_component_get_static(this._id);
    }
    /**
     * Equivalent to {@link PhysXComponent.getTranslationOffset}.
     *
     * Gives a quick view of the offset in a debugger.
     *
     * @note Prefer to use {@link PhysXComponent.getTranslationOffset} for performance.
     *
     * @since 1.1.1
     */
    get translationOffset() {
      return this.getTranslationOffset();
    }
    /**
     * Set the offset translation.
     *
     * The array must be a vector of at least **3** elements.
     *
     * @note The component must be re-activated to apply the change.
     *
     * @since 1.1.1
     */
    set translationOffset(offset2) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_set_offsetTranslation(this._id, offset2[0], offset2[1], offset2[2]);
    }
    /**
     * Equivalent to {@link PhysXComponent.getRotationOffset}.
     *
     * Gives a quick view of the offset in a debugger.
     *
     * @note Prefer to use {@link PhysXComponent.getRotationOffset} for performance.
     *
     * @since 1.1.1
     */
    get rotationOffset() {
      return this.getRotationOffset();
    }
    /**
     * Set the offset rotation.
     *
     * The array must be a quaternion of at least **4** elements.
     *
     * @note The component must be re-activated to apply the change.
     *
     * @since 1.1.1
     */
    set rotationOffset(offset2) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_set_offsetRotation(this._id, offset2[0], offset2[1], offset2[2], offset2[3]);
    }
    /**
     * Set whether this rigid body is kinematic.
     *
     * @param b Whether the rigid body should be kinematic.
     */
    set kinematic(b) {
      this._engine.wasm._wl_physx_component_set_kinematic(this._id, b);
    }
    /**
     * Whether this rigid body is kinematic.
     */
    get kinematic() {
      return !!this._engine.wasm._wl_physx_component_get_kinematic(this._id);
    }
    /**
     * Set whether this rigid body's gravity is enabled.
     *
     * @param b Whether the rigid body's gravity should be enabled.
     */
    set gravity(b) {
      this._engine.wasm._wl_physx_component_set_gravity(this._id, b);
    }
    /**
     * Whether this rigid body's gravity flag is enabled.
     */
    get gravity() {
      return !!this._engine.wasm._wl_physx_component_get_gravity(this._id);
    }
    /**
     * Set whether this rigid body's simulate flag is enabled.
     *
     * @param b Whether the rigid body's simulate flag should be enabled.
     */
    set simulate(b) {
      this._engine.wasm._wl_physx_component_set_simulate(this._id, b);
    }
    /**
     * Whether this rigid body's simulate flag is enabled.
     */
    get simulate() {
      return !!this._engine.wasm._wl_physx_component_get_simulate(this._id);
    }
    /**
     * Set whether to allow simulation of this rigid body.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling {@link allowSimulation} while {@link trigger} is enabled
     * will disable {@link trigger}.
     *
     * @param b Whether to allow simulation of this rigid body.
     */
    set allowSimulation(b) {
      this._engine.wasm._wl_physx_component_set_allowSimulation(this._id, b);
    }
    /**
     * Whether to allow simulation of this rigid body.
     */
    get allowSimulation() {
      return !!this._engine.wasm._wl_physx_component_get_allowSimulation(this._id);
    }
    /**
     * Set whether this rigid body may be queried in ray casts.
     *
     * @param b Whether this rigid body may be queried in ray casts.
     */
    set allowQuery(b) {
      this._engine.wasm._wl_physx_component_set_allowQuery(this._id, b);
    }
    /**
     * Whether this rigid body may be queried in ray casts.
     */
    get allowQuery() {
      return !!this._engine.wasm._wl_physx_component_get_allowQuery(this._id);
    }
    /**
     * Set whether this physics body is a trigger.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling trigger while {@link allowSimulation} is enabled,
     * will disable {@link allowSimulation}.
     *
     * @param b Whether this physics body is a trigger.
     */
    set trigger(b) {
      this._engine.wasm._wl_physx_component_set_trigger(this._id, b);
    }
    /**
     * Whether this physics body is a trigger.
     */
    get trigger() {
      return !!this._engine.wasm._wl_physx_component_get_trigger(this._id);
    }
    /**
     * Set the shape for collision detection.
     *
     * @param s New shape.
     * @since 0.8.5
     */
    set shape(s) {
      this._engine.wasm._wl_physx_component_set_shape(this._id, s);
    }
    /** The shape for collision detection. */
    get shape() {
      return this._engine.wasm._wl_physx_component_get_shape(this._id);
    }
    /**
     * Set additional data for the shape.
     *
     * Retrieved only from {@link PhysXComponent#shapeData}.
     * @since 0.8.10
     */
    set shapeData(d) {
      if (d == null || !isMeshShape(this.shape))
        return;
      this._engine.wasm._wl_physx_component_set_shape_data(this._id, d.index);
    }
    /**
     * Additional data for the shape.
     *
     * `null` for {@link Shape} values: `None`, `Sphere`, `Capsule`, `Box`, `Plane`.
     * `{index: n}` for `TriangleMesh` and `ConvexHull`.
     *
     * This data is currently only for passing onto or creating other {@link PhysXComponent}.
     * @since 0.8.10
     */
    get shapeData() {
      if (!isMeshShape(this.shape))
        return null;
      return {
        index: this._engine.wasm._wl_physx_component_get_shape_data(this._id)
      };
    }
    /**
     * Set the shape extents for collision detection.
     *
     * @param e New extents for the shape.
     * @since 0.8.5
     */
    set extents(e) {
      this.extents.set(e);
    }
    /**
     * The shape extents for collision detection.
     */
    get extents() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_physx_component_get_extents(this._id);
      return new Float32Array(wasm.HEAPF32.buffer, ptr, 3);
    }
    /**
     * Get staticFriction.
     */
    get staticFriction() {
      return this._engine.wasm._wl_physx_component_get_staticFriction(this._id);
    }
    /**
     * Set staticFriction.
     * @param v New staticFriction.
     */
    set staticFriction(v) {
      this._engine.wasm._wl_physx_component_set_staticFriction(this._id, v);
    }
    /**
     * Get dynamicFriction.
     */
    get dynamicFriction() {
      return this._engine.wasm._wl_physx_component_get_dynamicFriction(this._id);
    }
    /**
     * Set dynamicFriction
     * @param v New dynamicDamping.
     */
    set dynamicFriction(v) {
      this._engine.wasm._wl_physx_component_set_dynamicFriction(this._id, v);
    }
    /**
     * Get bounciness.
     * @since 0.9.0
     */
    get bounciness() {
      return this._engine.wasm._wl_physx_component_get_bounciness(this._id);
    }
    /**
     * Set bounciness.
     * @param v New bounciness.
     * @since 0.9.0
     */
    set bounciness(v) {
      this._engine.wasm._wl_physx_component_set_bounciness(this._id, v);
    }
    /**
     * Get linearDamping/
     */
    get linearDamping() {
      return this._engine.wasm._wl_physx_component_get_linearDamping(this._id);
    }
    /**
     * Set linearDamping.
     * @param v New linearDamping.
     */
    set linearDamping(v) {
      this._engine.wasm._wl_physx_component_set_linearDamping(this._id, v);
    }
    /** Get angularDamping. */
    get angularDamping() {
      return this._engine.wasm._wl_physx_component_get_angularDamping(this._id);
    }
    /**
     * Set angularDamping.
     * @param v New angularDamping.
     */
    set angularDamping(v) {
      this._engine.wasm._wl_physx_component_set_angularDamping(this._id, v);
    }
    /**
     * Set linear velocity.
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New linear velocity.
     */
    set linearVelocity(v) {
      this._engine.wasm._wl_physx_component_set_linearVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Linear velocity or `[0, 0, 0]` if the component is not active. */
    get linearVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_linearVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set angular velocity
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New angular velocity
     */
    set angularVelocity(v) {
      this._engine.wasm._wl_physx_component_set_angularVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Angular velocity or `[0, 0, 0]` if the component is not active. */
    get angularVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_angularVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set the components groups mask.
     *
     * @param flags New flags that need to be set.
     */
    set groupsMask(flags) {
      this._engine.wasm._wl_physx_component_set_groupsMask(this._id, flags);
    }
    /**
     * Get the components groups mask flags.
     *
     * Each bit represents membership to group, see example.
     *
     * ```js
     * // Assign c to group 2
     * c.groupsMask = (1 << 2);
     *
     * // Assign c to group 0
     * c.groupsMask  = (1 << 0);
     *
     * // Assign c to group 0 and 2
     * c.groupsMask = (1 << 0) | (1 << 2);
     *
     * (c.groupsMask & (1 << 2)) != 0; // true
     * (c.groupsMask & (1 << 7)) != 0; // false
     * ```
     */
    get groupsMask() {
      return this._engine.wasm._wl_physx_component_get_groupsMask(this._id);
    }
    /**
     * Set the components blocks mask.
     *
     * @param flags New flags that need to be set.
     */
    set blocksMask(flags) {
      this._engine.wasm._wl_physx_component_set_blocksMask(this._id, flags);
    }
    /**
     * Get the components blocks mask flags.
     *
     * Each bit represents membership to the block, see example.
     *
     * ```js
     * // Block overlap with any objects in group 2
     * c.blocksMask = (1 << 2);
     *
     * // Block overlap with any objects in group 0
     * c.blocksMask  = (1 << 0)
     *
     * // Block overlap with any objects in group 0 and 2
     * c.blocksMask = (1 << 0) | (1 << 2);
     *
     * (c.blocksMask & (1 << 2)) != 0; // true
     * (c.blocksMask & (1 << 7)) != 0; // false
     * ```
     */
    get blocksMask() {
      return this._engine.wasm._wl_physx_component_get_blocksMask(this._id);
    }
    /**
     * Set axes to lock for linear velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * Combine flags with Bitwise OR:
     *
     * ```js
     * body.linearLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.linearLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set linearLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_linearLockAxis(this._id, lock);
    }
    /**
     * Get the linear lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.
     *
     * ```js
     * if(body.linearLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for linear movement.
     */
    get linearLockAxis() {
      return this._engine.wasm._wl_physx_component_get_linearLockAxis(this._id);
    }
    /**
     * Set axes to lock for angular velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * ```js
     * body.angularLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.angularLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set angularLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_angularLockAxis(this._id, lock);
    }
    /**
     * Get the angular lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed:
     *
     * ```js
     * if(body.angularLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for angular movement.
     */
    get angularLockAxis() {
      return this._engine.wasm._wl_physx_component_get_angularLockAxis(this._id);
    }
    /**
     * Set mass.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * @param m New mass.
     */
    set mass(m) {
      this._engine.wasm._wl_physx_component_set_mass(this._id, m);
    }
    /** Mass */
    get mass() {
      return this._engine.wasm._wl_physx_component_get_mass(this._id);
    }
    /**
     * Set mass space interia tensor.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New mass space interatia tensor.
     */
    set massSpaceInteriaTensor(v) {
      this._engine.wasm._wl_physx_component_set_massSpaceInertiaTensor(this._id, v[0], v[1], v[2]);
    }
    /**
     * Set the rigid body to sleep upon activation.
     *
     * When asleep, the rigid body will not be simulated until the next contact.
     *
     * @param flag `true` to sleep upon activation.
     *
     * @since 1.1.5
     */
    set sleepOnActivate(flag) {
      this._engine.wasm._wl_physx_component_set_sleepOnActivate(this._id, flag);
    }
    /**
     * `true` if the rigid body is set to sleep upon activation, `false` otherwise.
     *
     * @since 1.1.5
     */
    get sleepOnActivate() {
      return !!this._engine.wasm._wl_physx_component_get_sleepOnActivate(this._id);
    }
    /**
     * Apply a force.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     * @param localForce Whether the force vector is in local space, default `false`.
     * @param p Position to apply force at, default is center of mass.
     * @param local Whether position is in local space, default `false`.
     */
    addForce(f, m = ForceMode.Force, localForce = false, p, local = false) {
      const wasm = this._engine.wasm;
      if (!p) {
        wasm._wl_physx_component_addForce(this._id, f[0], f[1], f[2], m, localForce);
        return;
      }
      wasm._wl_physx_component_addForceAt(this._id, f[0], f[1], f[2], m, localForce, p[0], p[1], p[2], local);
    }
    /**
     * Apply torque.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     */
    addTorque(f, m = ForceMode.Force) {
      this._engine.wasm._wl_physx_component_addTorque(this._id, f[0], f[1], f[2], m);
    }
    /**
     * Add on collision callback.
     *
     * @param callback Function to call when this rigid body (un)collides with any other.
     *
     * ```js
     *  let rigidBody = this.object.getComponent('physx');
     *  rigidBody.onCollision(function(type, other) {
     *      // Ignore uncollides
     *      if(type == CollisionEventType.TouchLost) return;
     *
     *      // Take damage on collision with enemies
     *      if(other.object.name.startsWith("enemy-")) {
     *          this.applyDamage(10);
     *      }
     *  }.bind(this));
     * ```
     *
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollision(callback) {
      return this.onCollisionWith(this, callback);
    }
    /**
     * Add filtered on collision callback.
     *
     * @param otherComp Component for which callbacks will
     *        be triggered. If you pass this component, the method is equivalent to.
     *        {@link PhysXComponent#onCollision}.
     * @param callback Function to call when this rigid body
     *        (un)collides with `otherComp`.
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollisionWith(otherComp, callback) {
      const physics = this._engine.physics;
      physics._callbacks[this._id] = physics._callbacks[this._id] || [];
      physics._callbacks[this._id].push(callback);
      return this._engine.wasm._wl_physx_component_addCallback(this._id, otherComp._id || this._id);
    }
    /**
     * Remove a collision callback added with {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     *
     * @param callbackId Callback id as returned by {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     * @throws When the callback does not belong to the component.
     * @throws When the callback does not exist.
     */
    removeCollisionCallback(callbackId) {
      const physics = this._engine.physics;
      const r = this._engine.wasm._wl_physx_component_removeCallback(this._id, callbackId);
      if (r)
        physics._callbacks[this._id].splice(-r);
    }
  };
  /** @override */
  __publicField(PhysXComponent, "TypeName", "physx");
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "static", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "translationOffset", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "rotationOffset", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "kinematic", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "gravity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "simulate", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowSimulation", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowQuery", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "trigger", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shape", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shapeData", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "staticFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "dynamicFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "bounciness", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "groupsMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "blocksMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "mass", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "sleepOnActivate", null);
  var MeshIndexType;
  (function(MeshIndexType2) {
    MeshIndexType2[MeshIndexType2["UnsignedByte"] = 1] = "UnsignedByte";
    MeshIndexType2[MeshIndexType2["UnsignedShort"] = 2] = "UnsignedShort";
    MeshIndexType2[MeshIndexType2["UnsignedInt"] = 4] = "UnsignedInt";
  })(MeshIndexType || (MeshIndexType = {}));
  var MeshSkinningType;
  (function(MeshSkinningType2) {
    MeshSkinningType2[MeshSkinningType2["None"] = 0] = "None";
    MeshSkinningType2[MeshSkinningType2["FourJoints"] = 1] = "FourJoints";
    MeshSkinningType2[MeshSkinningType2["EightJoints"] = 2] = "EightJoints";
  })(MeshSkinningType || (MeshSkinningType = {}));
  var Mesh = class {
    /**
     * Index of the mesh in the manager.
     *
     * @hidden
     */
    _index = -1;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance.
     *
     * @param params Either a mesh index to wrap or set of parameters to create a new mesh.
     *    For more information, please have a look at the {@link MeshParameters} interface.
     */
    constructor(engine, params) {
      this._engine = engine ?? WL;
      this._index = -1;
      if (isNumber(params)) {
        this._index = params;
        return;
      }
      if (!params.vertexCount)
        throw new Error("Missing parameter 'vertexCount'");
      const wasm = this._engine.wasm;
      let indexData = 0;
      let indexType = 0;
      let indexDataSize = 0;
      if (params.indexData) {
        indexType = params.indexType || MeshIndexType.UnsignedShort;
        indexDataSize = params.indexData.length * indexType;
        indexData = wasm._malloc(indexDataSize);
        switch (indexType) {
          case MeshIndexType.UnsignedByte:
            wasm.HEAPU8.set(params.indexData, indexData);
            break;
          case MeshIndexType.UnsignedShort:
            wasm.HEAPU16.set(params.indexData, indexData >> 1);
            break;
          case MeshIndexType.UnsignedInt:
            wasm.HEAPU32.set(params.indexData, indexData >> 2);
            break;
        }
      }
      const { skinningType = MeshSkinningType.None } = params;
      this._index = wasm._wl_mesh_create(indexData, indexDataSize, indexType, params.vertexCount, skinningType);
    }
    /** Number of vertices in this mesh. */
    get vertexCount() {
      return this._engine.wasm._wl_mesh_get_vertexCount(this._index);
    }
    /** Index data (read-only) or `null` if the mesh is not indexed. */
    get indexData() {
      const wasm = this._engine.wasm;
      const tempMem = wasm._tempMem;
      const ptr = wasm._wl_mesh_get_indexData(this._index, tempMem, tempMem + 4);
      if (ptr === null)
        return null;
      const indexCount = wasm.HEAPU32[tempMem / 4];
      const indexSize = wasm.HEAPU32[tempMem / 4 + 1];
      switch (indexSize) {
        case MeshIndexType.UnsignedByte:
          return new Uint8Array(wasm.HEAPU8.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedShort:
          return new Uint16Array(wasm.HEAPU16.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedInt:
          return new Uint32Array(wasm.HEAPU32.buffer, ptr, indexCount);
      }
      return null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Apply changes to {@link attribute | vertex attributes}.
     *
     * Uploads the updated vertex attributes to the GPU and updates the bounding
     * sphere to match the new vertex positions.
     *
     * Since this is an expensive operation, call it only once you have performed
     * all modifications on a mesh and avoid calling if you did not perform any
     * modifications at all.
     */
    update() {
      this._engine.wasm._wl_mesh_update(this._index);
    }
    getBoundingSphere(out = new Float32Array(4)) {
      const tempMemFloat = this._engine.wasm._tempMemFloat;
      this._engine.wasm._wl_mesh_get_boundingSphere(this._index, this._engine.wasm._tempMem);
      out[0] = tempMemFloat[0];
      out[1] = tempMemFloat[1];
      out[2] = tempMemFloat[2];
      out[3] = tempMemFloat[3];
      return out;
    }
    attribute(attr) {
      if (typeof attr != "number")
        throw new TypeError("Expected number, but got " + typeof attr);
      const tempMemUint32 = this._engine.wasm._tempMemUint32;
      this._engine.wasm._wl_mesh_get_attribute(this._index, attr, this._engine.wasm._tempMem);
      if (tempMemUint32[0] == 255)
        return null;
      const arraySize = tempMemUint32[5];
      return new MeshAttributeAccessor(this._engine, {
        attribute: tempMemUint32[0],
        offset: tempMemUint32[1],
        stride: tempMemUint32[2],
        formatSize: tempMemUint32[3],
        componentCount: tempMemUint32[4],
        /* The WASM API returns `0` for a scalar value. We clamp it to 1 as we strictly use it as a multiplier for get/set operations */
        arraySize: arraySize ? arraySize : 1,
        length: this.vertexCount,
        bufferType: attr !== MeshAttribute.JointId ? Float32Array : Uint16Array
      });
    }
    /**
     * Destroy and free the meshes memory.
     *
     * It is best practice to set the mesh variable to `null` after calling
     * destroy to prevent accidental use:
     *
     * ```js
     *   mesh.destroy();
     *   mesh = null;
     * ```
     *
     * Accessing the mesh after destruction behaves like accessing an empty
     * mesh.
     *
     * @since 0.9.0
     */
    destroy() {
      this._engine.wasm._wl_mesh_destroy(this._index);
    }
    /**
     * Checks equality by comparing whether the wrapped native mesh ids are
     * equal.
     *
     * @param otherMesh Mesh to check equality with.
     * @returns Whether this mesh equals the given mesh.
     *
     * @since 1.0.0
     */
    equals(otherMesh) {
      if (!otherMesh)
        return false;
      return this._index === otherMesh._index;
    }
  };
  var MeshAttributeAccessor = class {
    /** Max number of elements. */
    length = 0;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Attribute index. @hidden */
    _attribute = -1;
    /** Attribute offset. @hidden */
    _offset = 0;
    /** Attribute stride. @hidden */
    _stride = 0;
    /** Format size native enum. @hidden */
    _formatSize = 0;
    /** Number of components per vertex. @hidden */
    _componentCount = 0;
    /** Number of values per vertex. @hidden */
    _arraySize = 1;
    /**
     * Class to instantiate an ArrayBuffer to get/set values.
     */
    _bufferType;
    /**
     * Function to allocate temporary WASM memory. It is cached in the accessor to avoid
     * conditionals during get/set.
     */
    _tempBufferGetter;
    /**
     * Create a new instance.
     *
     * @note Please use {@link Mesh.attribute} to create a new instance.
     *
     * @param options Contains information about how to read the data.
     * @note Do not use this constructor. Instead, please use the {@link Mesh.attribute} method.
     *
     * @hidden
     */
    constructor(engine, options) {
      this._engine = engine;
      const wasm = this._engine.wasm;
      this._attribute = options.attribute;
      this._offset = options.offset;
      this._stride = options.stride;
      this._formatSize = options.formatSize;
      this._componentCount = options.componentCount;
      this._arraySize = options.arraySize;
      this._bufferType = options.bufferType;
      this.length = options.length;
      this._tempBufferGetter = this._bufferType === Float32Array ? wasm.getTempBufferF32.bind(wasm) : wasm.getTempBufferU16.bind(wasm);
    }
    /**
     * Create a new TypedArray to hold this attribute's values.
     *
     * This method is useful to create a view to hold the data to
     * pass to {@link get} and {@link set}
     *
     * Example:
     *
     * ```js
     * const vertexCount = 4;
     * const positionAttribute = mesh.attribute(MeshAttribute.Position);
     *
     * // A position has 3 floats per vertex. Thus, positions has length 3 * 4.
     * const positions = positionAttribute.createArray(vertexCount);
     * ```
     *
     * @param count The number of **vertices** expected.
     * @returns A TypedArray with the appropriate format to access the data
     */
    createArray(count = 1) {
      count = count > this.length ? this.length : count;
      return new this._bufferType(count * this._componentCount * this._arraySize);
    }
    get(index, out = this.createArray()) {
      if (out.length % this._componentCount !== 0) {
        throw new Error(`out.length, ${out.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      }
      const dest = this._tempBufferGetter(out.length);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const destSize = elementSize * out.length;
      const srcFormatSize = this._formatSize * this._arraySize;
      const destFormatSize = this._componentCount * elementSize * this._arraySize;
      this._engine.wasm._wl_mesh_get_attribute_values(this._attribute, srcFormatSize, this._offset + index * this._stride, this._stride, destFormatSize, dest.byteOffset, destSize);
      for (let i = 0; i < out.length; ++i)
        out[i] = dest[i];
      return out;
    }
    /**
     * Set attribute element.
     *
     * @param i Index
     * @param v Value to set the element to
     *
     * `v.length` needs to be a multiple of the attributes component count, see
     * {@link MeshAttribute}. If `v.length` is more than one multiple, it will be
     * filled with the next n attribute elements, which can reduce overhead
     * of this call.
     *
     * @returns Reference to self (for method chaining)
     */
    set(i, v) {
      if (v.length % this._componentCount !== 0)
        throw new Error(`out.length, ${v.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const srcSize = elementSize * v.length;
      const srcFormatSize = this._componentCount * elementSize * this._arraySize;
      const destFormatSize = this._formatSize * this._arraySize;
      const wasm = this._engine.wasm;
      if (v.buffer != wasm.HEAPU8.buffer) {
        const dest = this._tempBufferGetter(v.length);
        dest.set(v);
        v = dest;
      }
      wasm._wl_mesh_set_attribute_values(this._attribute, srcFormatSize, v.byteOffset, srcSize, destFormatSize, this._offset + i * this._stride, this._stride);
      return this;
    }
  };
  var Material = class {
    /**
     * Index of this material in the manager.
     *
     * @hidden
     */
    _index;
    /**
     * Material definition index in the scene.
     *
     * @hidden
     */
    _definition;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new Material.
     *
     * @note Creating material is expensive. Please use {@link Material#clone} to clone a material.
     * @note Do not use this constructor directly with an index, this is reserved for internal purposes.
     */
    constructor(engine, params) {
      this._engine = engine;
      if (typeof params !== "number") {
        if (!params?.pipeline)
          throw new Error("Missing parameter 'pipeline'");
        const wasm = this._engine.wasm;
        const pipeline = params.pipeline;
        this._index = wasm._wl_material_create(wasm.tempUTF8(pipeline));
        if (this._index < 0)
          throw new Error(`No such pipeline '${pipeline}'`);
      } else {
        this._index = params;
      }
      this._definition = this._engine.wasm._wl_material_get_definition(this._index);
      if (!this._engine.wasm._materialDefinitions[this._definition])
        throw new Error(`Material Definition ${this._definition} not found for material with index ${this._index}`);
      return new Proxy(this, {
        get(target, prop) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param)
            return target[prop];
          if (wasm._wl_material_get_param_value(target._index, param.index, wasm._tempMem)) {
            const type = param.type;
            switch (type.type) {
              case MaterialParamType.UnsignedInt:
                return type.componentCount == 1 ? wasm._tempMemUint32[0] : new Uint32Array(wasm.HEAPU32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Int:
                return type.componentCount == 1 ? wasm._tempMemInt[0] : new Int32Array(wasm.HEAP32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Float:
                return type.componentCount == 1 ? wasm._tempMemFloat[0] : new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Sampler:
                return engine.textures.wrap(wasm._tempMemInt[0]);
              default:
                throw new Error(`Invalid type ${type.type} on parameter ${param.index} for material ${target._index}`);
            }
          }
        },
        set(target, prop, value) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param) {
            target[prop] = value;
            return true;
          }
          const type = param.type;
          switch (type.type) {
            case MaterialParamType.UnsignedInt:
            case MaterialParamType.Int:
            case MaterialParamType.Sampler:
              const v = value.id ?? value;
              wasm._wl_material_set_param_value_uint(target._index, param.index, v);
              break;
            case MaterialParamType.Float:
              let count = 1;
              if (typeof value === "number") {
                wasm._tempMemFloat[0] = value;
              } else {
                count = value.length;
                for (let i = 0; i < count; ++i)
                  wasm._tempMemFloat[i] = value[i];
              }
              wasm._wl_material_set_param_value_float(target._index, param.index, wasm._tempMem, count);
              break;
            case MaterialParamType.Font:
              throw new Error("Setting font properties is currently unsupported.");
          }
          return true;
        }
      });
    }
    /** @deprecated Use {@link #pipeline} instead. */
    get shader() {
      return this.pipeline;
    }
    /** Name of the pipeline used by this material. */
    get pipeline() {
      const wasm = this._engine.wasm;
      return wasm.UTF8ToString(wasm._wl_material_get_pipeline(this._index));
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Create a copy of the underlying native material.
     *
     * @returns Material clone.
     */
    clone() {
      const id = this._engine.wasm._wl_material_clone(this._index);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /**
     * Checks equality by comparing whether the wrapped native material ids are
     * equal.
     *
     * @param otherMaterial Material to check equality with.
     * @returns Whether this material equals the given material.
     *
     * @since 1.0.0
     */
    equals(otherMaterial) {
      if (!otherMaterial)
        return false;
      return this._index === otherMaterial._index;
    }
    /**
     * Wrap a native material index.
     *
     * @param engine Engine instance.
     * @param index The index.
     * @returns Material instance or `null` if index <= 0.
     *
     * @deprecated Please use `new Material()` instead.
     */
    static wrap(engine, index) {
      return index > 0 ? new Material(engine, index) : null;
    }
  };
  var temp2d = null;
  var Texture = class {
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Index in the manager. @hidden */
    _id = 0;
    /** HTML image index. @hidden */
    _imageIndex = null;
    /**
     * @param engine The engine instance
     * @param param HTML media element to create texture from or texture id to wrap.
     */
    constructor(engine, param) {
      this._engine = engine ?? WL;
      const wasm = engine.wasm;
      if (param instanceof HTMLImageElement || param instanceof HTMLVideoElement || param instanceof HTMLCanvasElement) {
        const index = wasm._images.length;
        wasm._images.push(param);
        this._imageIndex = index;
        this._id = this._engine.wasm._wl_renderer_addImage(index);
      } else {
        this._id = param;
      }
      this._engine.textures._set(this);
    }
    /** Whether this texture is valid. */
    get valid() {
      return this._id >= 0;
    }
    /** Index in this manager. */
    get id() {
      return this._id;
    }
    /** Update the texture to match the HTML element (e.g. reflect the current frame of a video). */
    update() {
      if (!this.valid || this._imageIndex === null)
        return;
      this._engine.wasm._wl_renderer_updateImage(this._id, this._imageIndex);
    }
    /** Width of the texture. */
    get width() {
      return this._engine.wasm._wl_texture_width(this._id);
    }
    /** Height of the texture. */
    get height() {
      return this._engine.wasm._wl_texture_height(this._id);
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Update a subrange on the texture to match the HTML element (e.g. reflect the current frame of a video).
     *
     * Usage:
     *
     * ```js
     * // Copies rectangle of pixel starting from (10, 20)
     * texture.updateSubImage(10, 20, 600, 400);
     * ```
     *
     * @param x x offset
     * @param y y offset
     * @param w width
     * @param h height
     */
    updateSubImage(x, y, w, h) {
      if (!this.valid || this._imageIndex === null)
        return;
      if (!temp2d) {
        const canvas2 = document.createElement("canvas");
        const ctx = canvas2.getContext("2d");
        if (!ctx) {
          throw new Error("Texture.updateSubImage(): Failed to obtain CanvasRenderingContext2D.");
        }
        temp2d = {
          canvas: canvas2,
          ctx
        };
      }
      const wasm = this._engine.wasm;
      const img = wasm._images[this._imageIndex];
      if (!img)
        return;
      temp2d.canvas.width = w;
      temp2d.canvas.height = h;
      temp2d.ctx.drawImage(img, x, y, w, h, 0, 0, w, h);
      const yOffset = (img.videoHeight ?? img.height) - y - h;
      wasm._images[this._imageIndex] = temp2d.canvas;
      wasm._wl_renderer_updateImage(this._id, this._imageIndex, x, yOffset);
      wasm._images[this._imageIndex] = img;
    }
    /**
     * Destroy and free the texture's texture altas space and memory.
     *
     * It is best practice to set the texture variable to `null` after calling
     * destroy to prevent accidental use of the invalid texture:
     *
     * ```js
     *   texture.destroy();
     *   texture = null;
     * ```
     *
     * @since 0.9.0
     */
    destroy() {
      this.engine._destroyTexture(this);
      this._id = -1;
      this._imageIndex = null;
    }
    /**
     * Checks equality by comparing whether the wrapped native texture ids are
     * equal.
     *
     * @param otherTexture Texture to check equality with.
     * @returns Whether this texture equals the given texture.
     *
     * @since 1.0.0
     */
    equals(otherTexture) {
      if (!otherTexture)
        return false;
      return this._id === otherTexture._id;
    }
  };
  var Animation = class {
    /** Index of the mesh in the manager. @hidden */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * @param index Index in the manager
     */
    constructor(engine = WL, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Duration of this animation. */
    get duration() {
      return this._engine.wasm._wl_animation_get_duration(this._index);
    }
    /** Number of tracks in this animation. */
    get trackCount() {
      return this._engine.wasm._wl_animation_get_trackCount(this._index);
    }
    /**
     * Clone this animation retargeted to a new set of objects.
     *
     * The clone shares most of the data with the original and is therefore
     * light-weight.
     *
     * **Experimental:** This API might change in upcoming versions.
     *
     * If retargeting to {@link Skin}, the join names will be used to determine a mapping
     * from the previous skin to the new skin. The source skin will be retrieved from
     * the first track in the animation that targets a joint.
     *
     * @param newTargets New targets per track. Expected to have
     *      {@link Animation#trackCount} elements or to be a {@link Skin}.
     * @returns The retargeted clone of this animation.
     */
    retarget(newTargets) {
      const wasm = this._engine.wasm;
      if (newTargets instanceof Skin) {
        const animId2 = wasm._wl_animation_retargetToSkin(this._index, newTargets._index);
        return new Animation(this._engine, animId2);
      }
      if (newTargets.length != this.trackCount) {
        throw Error("Expected " + this.trackCount.toString() + " targets, but got " + newTargets.length.toString());
      }
      const ptr = wasm._malloc(2 * newTargets.length);
      for (let i = 0; i < newTargets.length; ++i) {
        wasm.HEAPU16[ptr >> 1 + i] = newTargets[i].objectId;
      }
      const animId = wasm._wl_animation_retarget(this._index, ptr);
      wasm._free(ptr);
      return new Animation(this._engine, animId);
    }
    /**
     * Checks equality by comparing whether the wrapped native animation ids
     * are equal.
     *
     * @param otherAnimation Animation to check equality with.
     * @returns Whether this animation equals the given animation.
     *
     * @since 1.0.0
     */
    equals(otherAnimation) {
      if (!otherAnimation)
        return false;
      return this._index === otherAnimation._index;
    }
  };
  var Object3D = class {
    /**
     * Object index in the manager.
     *
     * @hidden
     */
    _objectId = -1;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * @param o Object id to wrap
     *
     * For performance reasons, please use {@link WonderlandEngine.wrapObject}
     */
    constructor(engine, o) {
      this._objectId = o;
      this._engine = engine;
    }
    /**
     * Name of the object.
     *
     * Useful for identifying objects during debugging.
     */
    get name() {
      const wasm = this._engine.wasm;
      return wasm.UTF8ToString(wasm._wl_object_name(this.objectId));
    }
    /**
     * Set the object's name.
     *
     * @param newName The new name to set.
     */
    set name(newName) {
      const wasm = this._engine.wasm;
      wasm._wl_object_set_name(this.objectId, wasm.tempUTF8(newName));
    }
    /**
     * Parent of this object or `null` if parented to root.
     */
    get parent() {
      const p = this._engine.wasm._wl_object_parent(this.objectId);
      return p === 0 ? null : this._engine.wrapObject(p);
    }
    /**
     * Children of this object.
     *
     * @note Child order is **undefined**. No assumptions should be made
     * about the index of a specific object.
     *
     * If you need to access a specific child of this object, you can
     * use {@link Object3D.findByName}.
     *
     * When the object exists in the scene at editor time, prefer passing it as
     * a component property.
     */
    get children() {
      const childrenCount = this._engine.wasm._wl_object_get_children_count(this.objectId);
      if (childrenCount === 0)
        return [];
      const wasm = this._engine.wasm;
      wasm.requireTempMem(childrenCount * 2);
      this._engine.wasm._wl_object_get_children(this.objectId, wasm._tempMem, wasm._tempMemSize >> 1);
      const children = new Array(childrenCount);
      for (let i = 0; i < childrenCount; ++i) {
        children[i] = this._engine.wrapObject(wasm._tempMemUint16[i]);
      }
      return children;
    }
    /**
     * Reparent object to given object.
     *
     * @note Reparenting is not trivial and might have a noticeable performance impact.
     *
     * @param newParent New parent or `null` to parent to root
     */
    set parent(newParent) {
      this._engine.wasm._wl_object_set_parent(this.objectId, newParent == null ? 0 : newParent.objectId);
    }
    /** Object index in the manager. */
    get objectId() {
      return this._objectId;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Clone this hierarchy into a new one.
     *
     * Cloning copies the hierarchy structure, object names,
     * as well as components.
     *
     * JavaScript components are cloned using {@link Component.copy}. You can
     * override this method in your components.
     *
     * @param parent The parent for the cloned hierarchy or `null` to clone
     *     into the scene root. Defaults to `null`.
     *
     * @returns The clone of this object.
     */
    clone(parent = null) {
      const engine = this._engine;
      const id = engine.wasm._wl_object_clone(this._objectId, parent ? parent._objectId : 0);
      return engine.wrapObject(id);
    }
    /**
     * Reset local transformation (translation, rotation and scaling) to identity.
     *
     * @returns Reference to self (for method chaining).
     */
    resetTransform() {
      this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);
      this._engine.wasm._wl_object_reset_scaling(this.objectId);
      return this;
    }
    /**
     * Reset local position and rotation to identity.
     *
     * @returns Reference to self (for method chaining).
     */
    resetPositionRotation() {
      this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);
      return this;
    }
    /** @deprecated Please use {@link Object3D.resetPositionRotation} instead. */
    resetTranslationRotation() {
      return this.resetPositionRotation();
    }
    /**
     * Reset local rotation, keep translation.
     *
     * @note To reset both rotation and translation, prefer
     *       {@link resetTranslationRotation}.
     *
     * @returns Reference to self (for method chaining).
     */
    resetRotation() {
      this._engine.wasm._wl_object_reset_rotation(this.objectId);
      return this;
    }
    /**
     * Reset local translation, keep rotation.
     *
     * @note To reset both rotation and translation, prefer
     *       {@link resetTranslationRotation}.
     *
     * @returns Reference to self (for method chaining).
     */
    resetPosition() {
      this._engine.wasm._wl_object_reset_translation(this.objectId);
      return this;
    }
    /** @deprecated Please use {@link Object3D.resetPosition} instead. */
    resetTranslation() {
      return this.resetPosition();
    }
    /**
     * Reset local scaling to identity (``[1.0, 1.0, 1.0]``).
     *
     * @returns Reference to self (for method chaining).
     */
    resetScaling() {
      this._engine.wasm._wl_object_reset_scaling(this.objectId);
      return this;
    }
    /** @deprecated Please use {@link Object3D.translateLocal} instead. */
    translate(v) {
      return this.translateLocal(v);
    }
    /**
     * Translate object by a vector in the parent's space.
     *
     * @param v Vector to translate by.
     *
     * @returns Reference to self (for method chaining).
     */
    translateLocal(v) {
      this._engine.wasm._wl_object_translate(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /**
     * Translate object by a vector in object space.
     *
     * @param v Vector to translate by.
     *
     * @returns Reference to self (for method chaining).
     */
    translateObject(v) {
      this._engine.wasm._wl_object_translate_obj(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /**
     * Translate object by a vector in world space.
     *
     * @param v Vector to translate by.
     *
     * @returns Reference to self (for method chaining).
     */
    translateWorld(v) {
      this._engine.wasm._wl_object_translate_world(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.rotateAxisAngleDegLocal} instead. */
    rotateAxisAngleDeg(a, d) {
      this.rotateAxisAngleDegLocal(a, d);
      return this;
    }
    /**
     * Rotate around given axis by given angle (degrees) in local space.
     *
     * @param a Vector representing the rotation axis.
     * @param d Angle in degrees.
     *
     * @note If the object is translated the rotation will be around
     *     the parent. To rotate around the object origin, use
     *     {@link rotateAxisAngleDegObject}
     *
     * @see {@link rotateAxisAngleRad}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleDegLocal(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /** @deprecated Please use {@link Object3D.rotateAxisAngleRadLocal} instead. */
    rotateAxisAngleRad(a, d) {
      return this.rotateAxisAngleRadLocal(a, d);
    }
    /**
     * Rotate around given axis by given angle (radians) in local space.
     *
     * @param a Vector representing the rotation axis.
     * @param d Angle in radians.
     *
     * @note If the object is translated the rotation will be around
     *     the parent. To rotate around the object origin, use
     *     {@link rotateAxisAngleDegObject}
     *
     * @see {@link rotateAxisAngleDeg}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleRadLocal(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle_rad(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /**
     * Rotate around given axis by given angle (degrees) in object space.
     *
     * @param a Vector representing the rotation axis.
     * @param d Angle in degrees.
     *
     * Equivalent to prepending a rotation quaternion to the object's
     * local transformation.
     *
     * @see {@link rotateAxisAngleRadObject}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleDegObject(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle_obj(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /**
     * Rotate around given axis by given angle (radians) in object space
     * Equivalent to prepending a rotation quaternion to the object's
     * local transformation.
     *
     * @param a Vector representing the rotation axis
     * @param d Angle in degrees
     *
     * @see {@link rotateAxisAngleDegObject}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleRadObject(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle_rad_obj(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /** @deprecated Please use {@link Object3D.rotateLocal} instead. */
    rotate(q) {
      this.rotateLocal(q);
      return this;
    }
    /**
     * Rotate by a quaternion.
     *
     * @param q the Quaternion to rotate by.
     *
     * @returns Reference to self (for method chaining).
     */
    rotateLocal(q) {
      this._engine.wasm._wl_object_rotate_quat(this.objectId, q[0], q[1], q[2], q[3]);
      return this;
    }
    /**
     * Rotate by a quaternion in object space.
     *
     * Equivalent to prepending a rotation quaternion to the object's
     * local transformation.
     *
     * @param q the Quaternion to rotate by.
     *
     * @returns Reference to self (for method chaining).
     */
    rotateObject(q) {
      this._engine.wasm._wl_object_rotate_quat_obj(this.objectId, q[0], q[1], q[2], q[3]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.scaleLocal} instead. */
    scale(v) {
      this.scaleLocal(v);
      return this;
    }
    /**
     * Scale object by a vector in object space.
     *
     * @param v Vector to scale by.
     *
     * @returns Reference to self (for method chaining).
     */
    scaleLocal(v) {
      this._engine.wasm._wl_object_scale(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    getPositionLocal(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      wasm._wl_object_get_translation_local(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    getTranslationLocal(out = new Float32Array(3)) {
      return this.getPositionLocal(out);
    }
    getPositionWorld(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      wasm._wl_object_get_translation_world(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    getTranslationWorld(out = new Float32Array(3)) {
      return this.getPositionWorld(out);
    }
    /**
     * Set local / object space position.
     *
     * Concatenates a new translation dual quaternion onto the existing rotation.
     *
     * @param v New local position array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setPositionLocal(v) {
      this._engine.wasm._wl_object_set_translation_local(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.setPositionLocal} instead. */
    setTranslationLocal(v) {
      return this.setPositionLocal(v);
    }
    /**
     * Set world space position.
     *
     * Applies the inverse parent transform with a new translation dual quaternion
     * which is concatenated onto the existing rotation.
     *
     * @param v New world position array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setPositionWorld(v) {
      this._engine.wasm._wl_object_set_translation_world(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.setPositionWorld} instead. */
    setTranslationWorld(v) {
      return this.setPositionWorld(v);
    }
    getScalingLocal(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_scaling_local(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set local / object space scaling.
     *
     * @param v New local scaling array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setScalingLocal(v) {
      this._engine.wasm._wl_object_set_scaling_local(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    getScalingWorld(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_scaling_world(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set World space scaling.
     *
     * @param v New world scaling array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setScalingWorld(v) {
      this._engine.wasm._wl_object_set_scaling_world(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    getRotationLocal(out = new Float32Array(4)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_local(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      return out;
    }
    /**
     * Set local space rotation.
     *
     * @param v New world rotation array/vector, expected to have at least 4 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setRotationLocal(v) {
      this._engine.wasm._wl_object_set_rotation_local(this.objectId, v[0], v[1], v[2], v[3]);
      return this;
    }
    getRotationWorld(out = new Float32Array(4)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_world(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      return out;
    }
    /**
     * Set local space rotation.
     *
     * @param v New world rotation array/vector, expected to have at least 4 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setRotationWorld(v) {
      this._engine.wasm._wl_object_set_rotation_world(this.objectId, v[0], v[1], v[2], v[3]);
      return this;
    }
    getTransformLocal(out = new Float32Array(8)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_local(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      out[4] = wasm.HEAPF32[ptr + 4];
      out[5] = wasm.HEAPF32[ptr + 5];
      out[6] = wasm.HEAPF32[ptr + 6];
      out[7] = wasm.HEAPF32[ptr + 7];
      return out;
    }
    /**
     * Set local space rotation.
     *
     * @param v New local transform array, expected to have at least 8 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setTransformLocal(v) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_local(this.objectId) / 4;
      wasm.HEAPF32[ptr] = v[0];
      wasm.HEAPF32[ptr + 1] = v[1];
      wasm.HEAPF32[ptr + 2] = v[2];
      wasm.HEAPF32[ptr + 3] = v[3];
      wasm.HEAPF32[ptr + 4] = v[4];
      wasm.HEAPF32[ptr + 5] = v[5];
      wasm.HEAPF32[ptr + 6] = v[6];
      wasm.HEAPF32[ptr + 7] = v[7];
      this.setDirty();
      return this;
    }
    getTransformWorld(out = new Float32Array(8)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_world(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      out[4] = wasm.HEAPF32[ptr + 4];
      out[5] = wasm.HEAPF32[ptr + 5];
      out[6] = wasm.HEAPF32[ptr + 6];
      out[7] = wasm.HEAPF32[ptr + 7];
      return out;
    }
    /**
     * Set world space rotation.
     *
     * @param v New world transform array, expected to have at least 8 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setTransformWorld(v) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_world(this.objectId) / 4;
      wasm.HEAPF32[ptr] = v[0];
      wasm.HEAPF32[ptr + 1] = v[1];
      wasm.HEAPF32[ptr + 2] = v[2];
      wasm.HEAPF32[ptr + 3] = v[3];
      wasm.HEAPF32[ptr + 4] = v[4];
      wasm.HEAPF32[ptr + 5] = v[5];
      wasm.HEAPF32[ptr + 6] = v[6];
      wasm.HEAPF32[ptr + 7] = v[7];
      this._engine.wasm._wl_object_trans_world_to_local(this.objectId);
      return this;
    }
    /**
     * Local space transformation.
     *
     * @deprecated Please use {@link Object3D.setTransformLocal} and
     * {@link Object3D.getTransformLocal} instead.
     */
    get transformLocal() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_local(this.objectId), 8);
    }
    /**
     * Set local transform.
     *
     * @param t Local space transformation.
     *
     * @since 0.8.5
     *
     * @deprecated Please use {@link Object3D.setTransformLocal} and
     * {@link Object3D.getTransformLocal} instead.
     */
    set transformLocal(t) {
      this.transformLocal.set(t);
      this.setDirty();
    }
    /**
     * Global / world space transformation.
     *
     * May recompute transformations of the hierarchy of this object,
     * if they were changed by JavaScript components this frame.
     *
     * @deprecated Please use {@link Object3D.setTransformWorld} and
     * {@link Object3D.getTransformWorld} instead.
     */
    get transformWorld() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_world(this.objectId), 8);
    }
    /**
     * Set world transform.
     *
     * @param t Global / world space transformation.
     *
     * @since 0.8.5
     *
     * @deprecated Please use {@link Object3D.setTransformWorld} and
     * {@link Object3D.getTransformWorld} instead.
     */
    set transformWorld(t) {
      this.transformWorld.set(t);
      this._engine.wasm._wl_object_trans_world_to_local(this.objectId);
    }
    /**
     * Local / object space scaling.
     *
     * @deprecated Please use {@link Object3D.setScalingLocal} and
     * {@link Object3D.getScalingLocal} instead.
     */
    get scalingLocal() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_local(this.objectId), 3);
    }
    /**
     * Set local space scaling.
     *
     * @param s Local space scaling.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.setScalingLocal} and
     * {@link Object3D.getScalingLocal} instead.
     */
    set scalingLocal(s) {
      this.scalingLocal.set(s);
      this.setDirty();
    }
    /**
     * Global / world space scaling.
     *
     * May recompute transformations of the hierarchy of this object,
     * if they were changed by JavaScript components this frame.
     *
     * @deprecated Please use {@link Object3D.setScalingWorld} and
     * {@link Object3D.getScalingWorld} instead.
     */
    get scalingWorld() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_world(this.objectId), 3);
    }
    /**
     * Set world space scaling.
     *
     * @param t World space scaling.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.setScalingWorld} and
     * {@link Object3D.getScalingWorld} instead.
     */
    set scalingWorld(s) {
      this.scalingWorld.set(s);
      this._engine.wasm._wl_object_scaling_world_to_local(this.objectId);
    }
    /**
     * Local space rotation.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationLocal} and
     * {@link Object3D.setRotationLocal} instead.
     */
    get rotationLocal() {
      return this.transformLocal.subarray(0, 4);
    }
    /**
     * Global / world space rotation
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationWorld} and
     * {@link Object3D.setRotationWorld} instead.
     */
    get rotationWorld() {
      return this.transformWorld.subarray(0, 4);
    }
    /**
     * Set local space rotation.
     *
     * @param r Local space rotation
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationLocal} and
     * {@link Object3D.setRotationLocal} instead.
     */
    set rotationLocal(r) {
      this._engine.wasm._wl_object_set_rotation_local(this.objectId, r[0], r[1], r[2], r[3]);
    }
    /**
     * Set world space rotation.
     *
     * @param r Global / world space rotation.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationWorld} and
     * {@link Object3D.setRotationWorld} instead.
     */
    set rotationWorld(r) {
      this._engine.wasm._wl_object_set_rotation_world(this.objectId, r[0], r[1], r[2], r[3]);
    }
    /** @deprecated Please use {@link Object3D.getForwardWorld} instead. */
    getForward(out) {
      return this.getForwardWorld(out);
    }
    /**
     * Compute the object's forward facing world space vector.
     *
     * The forward vector in object space is along the negative z-axis, i.e.,
     * `[0, 0, -1]`.
     *
     * @param out Destination array/vector, expected to have at least 3 elements.
     * @return The `out` parameter.
     */
    getForwardWorld(out) {
      out[0] = 0;
      out[1] = 0;
      out[2] = -1;
      this.transformVectorWorld(out);
      return out;
    }
    /** @deprecated Please use {@link Object3D.getUpWorld} instead. */
    getUp(out) {
      return this.getUpWorld(out);
    }
    /**
     * Compute the object's up facing world space vector.
     *
     * @param out Destination array/vector, expected to have at least 3 elements.
     * @return The `out` parameter.
     */
    getUpWorld(out) {
      out[0] = 0;
      out[1] = 1;
      out[2] = 0;
      this.transformVectorWorld(out);
      return out;
    }
    /** @deprecated Please use {@link Object3D.getRightWorld} instead. */
    getRight(out) {
      return this.getRightWorld(out);
    }
    /**
     * Compute the object's right facing world space vector.
     *
     * @param out Destination array/vector, expected to have at least 3 elements.
     * @return The `out` parameter.
     */
    getRightWorld(out) {
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      this.transformVectorWorld(out);
      return out;
    }
    /**
     * Transform a vector by this object's world transform.
     *
     * @param out Out vector
     * @param v Vector to transform, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorWorld(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a vector by this object's local transform.
     *
     * @param out Out vector
     * @param v Vector to transform, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorLocal(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's world transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointWorld(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = p[0];
      wasm._tempMemFloat[1] = p[1];
      wasm._tempMemFloat[2] = p[2];
      wasm._wl_object_transformPointWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's local transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointLocal(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = p[0];
      wasm._tempMemFloat[1] = p[1];
      wasm._tempMemFloat[2] = p[2];
      wasm._wl_object_transformPointLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a vector by this object's inverse world transform.
     *
     * @param out Out vector.
     * @param v Vector to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorInverseWorld(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorInverseWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a vector by this object's inverse local transform.
     *
     * @param out Out vector
     * @param v Vector to transform, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorInverseLocal(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorInverseLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's inverse world transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointInverseWorld(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = p[0];
      wasm._tempMemFloat[1] = p[1];
      wasm._tempMemFloat[2] = p[2];
      wasm._wl_object_transformPointInverseWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's inverse local transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointInverseLocal(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat.set(p);
      wasm._wl_object_transformPointInverseLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform an object space dual quaternion into world space.
     *
     * @param out Out transformation.
     * @param q Local space transformation, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    toWorldSpaceTransform(out, q = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat.set(q);
      wasm._wl_object_toWorldSpaceTransform(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      out[3] = wasm._tempMemFloat[3];
      out[4] = wasm._tempMemFloat[4];
      out[5] = wasm._tempMemFloat[5];
      out[6] = wasm._tempMemFloat[6];
      out[7] = wasm._tempMemFloat[7];
      return out;
    }
    /**
     * Transform a world space dual quaternion into local space.
     *
     * @param out Out transformation
     * @param q World space transformation, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    toLocalSpaceTransform(out, q = out) {
      const p = this.parent;
      if (p) {
        p.toObjectSpaceTransform(out, q);
        return out;
      }
      if (out !== q) {
        out[0] = q[0];
        out[1] = q[1];
        out[2] = q[2];
        out[3] = q[3];
        out[4] = q[4];
        out[5] = q[5];
        out[6] = q[6];
        out[7] = q[7];
      }
      return out;
    }
    /**
     * Transform a world space dual quaternion into object space.
     *
     * @param out Out transformation.
     * @param q World space transformation, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    toObjectSpaceTransform(out, q = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat.set(q);
      wasm._wl_object_toObjectSpaceTransform(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      out[3] = wasm._tempMemFloat[3];
      out[4] = wasm._tempMemFloat[4];
      out[5] = wasm._tempMemFloat[5];
      out[6] = wasm._tempMemFloat[6];
      out[7] = wasm._tempMemFloat[7];
      return out;
    }
    /**
     * Turn towards / look at target.
     *
     * Rotates the object so that its forward vector faces towards the target
     * position. The `up` vector acts as a hint to uniquely orient the object's
     * up direction. When orienting a view component, the projected `up` vector
     * faces upwards on the viewing plane.
     *
     * @param p Target position to turn towards, in world space.
     * @param up Up vector to align object with, in world space. Default is `[0, 1, 0]`.
     *
     * @returns Reference to self (for method chaining).
     */
    lookAt(p, up = UP_VECTOR) {
      this._engine.wasm._wl_object_lookAt(this.objectId, p[0], p[1], p[2], up[0], up[1], up[2]);
      return this;
    }
    /** Destroy the object with all of its components and remove it from the scene */
    destroy() {
      if (this._objectId < 0)
        return;
      this.engine.wasm._wl_scene_remove_object(this._objectId);
      this.engine._destroyObject(this);
    }
    /**
     * Mark transformation dirty.
     *
     * Causes an eventual recalculation of {@link transformWorld}, either
     * on next {@link getTranslationWorld}, {@link transformWorld} or
     * {@link scalingWorld} or the beginning of next frame, whichever
     * happens first.
     */
    setDirty() {
      this._engine.wasm._wl_object_set_dirty(this.objectId);
    }
    /**
     * Disable/enable all components of this object.
     *
     * @param b New state for the components.
     *
     * @since 0.8.5
     */
    set active(b) {
      const comps = this.getComponents();
      for (let c of comps) {
        c.active = b;
      }
    }
    getComponent(typeOrClass, index = 0) {
      const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;
      const wasm = this._engine.wasm;
      const componentType = wasm._wl_get_component_manager_index(wasm.tempUTF8(type));
      if (componentType < 0) {
        const typeIndex = wasm._componentTypeIndices[type];
        if (typeIndex === void 0)
          return null;
        const jsIndex = wasm._wl_get_js_component_index(this.objectId, typeIndex, index);
        if (jsIndex < 0)
          return null;
        const component = this._engine.wasm._components[jsIndex];
        return component.constructor !== BrokenComponent ? component : null;
      }
      const componentId = this._engine.wasm._wl_get_component_id(this.objectId, componentType, index);
      return this._engine._wrapComponent(type, componentType, componentId);
    }
    getComponents(typeOrClass) {
      const wasm = this._engine.wasm;
      let componentType = null;
      let type = null;
      if (typeOrClass) {
        type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;
        componentType = wasm._typeIndexFor(type);
      }
      const components = [];
      const maxComps = Math.floor(wasm._tempMemSize / 3 * 2);
      const componentsCount = wasm._wl_object_get_components(this.objectId, wasm._tempMem, maxComps);
      const offset2 = 2 * componentsCount;
      wasm._wl_object_get_component_types(this.objectId, wasm._tempMem + offset2, maxComps);
      const jsManagerIndex = wasm._jsManagerIndex;
      for (let i = 0; i < componentsCount; ++i) {
        const t = wasm._tempMemUint8[i + offset2];
        const componentId = wasm._tempMemUint16[i];
        if (t == jsManagerIndex) {
          const typeIndex = wasm._wl_get_js_component_index_for_id(componentId);
          const comp = wasm._components[typeIndex];
          const matches = componentType === null || comp.type == type;
          if (comp.constructor !== BrokenComponent && matches) {
            components.push(comp);
          }
          continue;
        }
        if (componentType === null) {
          const managerName = wasm._typeNameFor(t);
          components.push(this._engine._wrapComponent(managerName, t, componentId));
        } else if (t == componentType) {
          components.push(this._engine._wrapComponent(type, componentType, componentId));
        }
      }
      return components;
    }
    addComponent(typeOrClass, params) {
      const wasm = this._engine.wasm;
      const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;
      const componentType = wasm._typeIndexFor(type);
      let component = null;
      let componentIndex = null;
      if (componentType < 0) {
        if (!(type in wasm._componentTypeIndices)) {
          throw new TypeError("Unknown component type '" + type + "'");
        }
        const componentId = wasm._wl_object_add_js_component(this.objectId, wasm._componentTypeIndices[type]);
        componentIndex = wasm._wl_get_js_component_index_for_id(componentId);
        component = wasm._components[componentIndex];
      } else {
        const componentId = wasm._wl_object_add_component(this.objectId, componentType);
        component = this._engine._wrapComponent(type, componentType, componentId);
      }
      if (params !== void 0)
        component.copy(params);
      if (componentType < 0) {
        wasm._wljs_component_init(componentIndex);
      }
      if (!params || !("active" in params && !params.active)) {
        component.active = true;
      }
      return component;
    }
    /**
     * Search for descendants matching the name.
     *
     * This method is a wrapper around {@link Object3D.findByNameDirect} and
     * {@link Object3D.findByNameRecursive}.
     *
     * @param name The name to search for.
     * @param recursive If `true`, the method will look at all the descendants of this object.
     *     If `false`, this method will only perform the search in direct children.
     * @returns An array of {@link Object3D} matching the name.
     *
     * @since 1.1.0
     */
    findByName(name, recursive = false) {
      return recursive ? this.findByNameRecursive(name) : this.findByNameDirect(name);
    }
    /**
     * Search for all **direct** children matching the name.
     *
     * @note Even though this method is heavily optimized, it does perform
     * a linear search to find the objects. Do not use in a hot path.
     *
     * @param name The name to search for.
     * @returns An array of {@link Object3D} matching the name.
     *
     * @since 1.1.0
     */
    findByNameDirect(name) {
      const wasm = this._engine.wasm;
      const id = this._objectId;
      const tempSizeU16 = wasm._tempMemSize >> 2;
      const maxCount = tempSizeU16 - 2;
      const buffer = wasm._tempMemUint16;
      buffer[maxCount] = 0;
      buffer[maxCount + 1] = 0;
      const bufferPtr = wasm._tempMem;
      const indexPtr = bufferPtr + maxCount * 2;
      const childCountPtr = bufferPtr + maxCount * 2 + 2;
      const namePtr = wasm.tempUTF8(name, (maxCount + 2) * 2);
      const result = [];
      let read = 0;
      while (read = wasm._wl_object_findByName(id, namePtr, indexPtr, childCountPtr, bufferPtr, maxCount)) {
        for (let i = 0; i < read; ++i)
          result.push(this.engine.wrapObject(buffer[i]));
      }
      return result;
    }
    /**
     * Search for **all descendants** matching the name.
     *
     * @note Even though this method is heavily optimized, it does perform
     * a linear search to find the objects. Do not use in a hot path.
     *
     * @param name The name to search for.
     * @returns An array of {@link Object3D} matching the name.
     *
     * @since 1.1.0
     */
    findByNameRecursive(name) {
      const wasm = this._engine.wasm;
      const id = this._objectId;
      const tempSizeU16 = wasm._tempMemSize >> 2;
      const maxCount = tempSizeU16 - 1;
      const buffer = wasm._tempMemUint16;
      buffer[maxCount] = 0;
      const bufferPtr = wasm._tempMem;
      const indexPtr = bufferPtr + maxCount * 2;
      const namePtr = wasm.tempUTF8(name, (maxCount + 1) * 2);
      let read = 0;
      const result = [];
      while (read = wasm._wl_object_findByNameRecursive(id, namePtr, indexPtr, bufferPtr, maxCount)) {
        for (let i = 0; i < read; ++i)
          result.push(this.engine.wrapObject(buffer[i]));
      }
      return result;
    }
    /**
     * Whether given object's transformation has changed.
     */
    get changed() {
      return !!this._engine.wasm._wl_object_is_changed(this.objectId);
    }
    /**
     * `true` if the object is destroyed, `false` otherwise.
     *
     * If {@link WonderlandEngine.erasePrototypeOnDestroy} is `true`,
     * reading a custom property will not work:
     *
     * ```js
     * engine.erasePrototypeOnDestroy = true;
     *
     * const obj = scene.addObject();
     * obj.customParam = 'Hello World!';
     *
     * console.log(obj.isDestroyed); // Prints `false`
     * obj.destroy();
     * console.log(obj.isDestroyed); // Prints `true`
     * console.log(obj.customParam); // Throws an error
     * ```
     *
     * @since 1.1.1
     */
    get isDestroyed() {
      return this._objectId < 0;
    }
    /**
     * Checks equality by comparing whether the wrapped native object ids are
     * equal.
     *
     * @param otherObject Object to check equality with.
     * @returns Whether this object equals the given object.
     */
    equals(otherObject) {
      if (!otherObject)
        return false;
      return this.objectId == otherObject.objectId;
    }
  };
  var Skin = class {
    /**
     * Index of the skin in the manager.
     * @hidden
     */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    constructor(engine, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Amount of joints in this skin. */
    get jointCount() {
      return this._engine.wasm._wl_skin_get_joint_count(this._index);
    }
    /** Joints object ids for this skin */
    get jointIds() {
      const wasm = this._engine.wasm;
      return new Uint16Array(wasm.HEAPU16.buffer, wasm._wl_skin_joint_ids(this._index), this.jointCount);
    }
    /**
     * Dual quaternions in a flat array of size 8 times {@link jointCount}.
     *
     * Inverse bind transforms of the skin.
     */
    get inverseBindTransforms() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_transforms(this._index), 8 * this.jointCount);
    }
    /**
     * Vectors in a flat array of size 3 times {@link jointCount}.
     *
     * Inverse bind scalings of the skin.
     */
    get inverseBindScalings() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_scalings(this._index), 3 * this.jointCount);
    }
    /**
     * Checks equality by comparing whether the wrapped native skin ids are
     * equal.
     *
     * @param otherSkin Skin to check equality with.
     * @returns Whether this skin equals the given skin.
     *
     * @since 1.0.0
     */
    equals(otherSkin) {
      if (!otherSkin)
        return false;
      return this._index === otherSkin._index;
    }
  };
  var XR = class {
    /** Wonderland WASM bridge. @hidden */
    #wasm;
    #mode;
    constructor(wasm, mode) {
      this.#wasm = wasm;
      this.#mode = mode;
    }
    /** Current WebXR session mode */
    get sessionMode() {
      return this.#mode;
    }
    /** Current WebXR session */
    get session() {
      return this.#wasm.webxr_session;
    }
    /** Current WebXR frame */
    get frame() {
      return this.#wasm.webxr_frame;
    }
    referenceSpaceForType(type) {
      return this.#wasm.webxr_refSpaces[type] ?? null;
    }
    /** Set current reference space type used for retrieving eye, head, hand and joint poses */
    set currentReferenceSpace(refSpace) {
      this.#wasm.webxr_refSpace = refSpace;
      this.#wasm.webxr_refSpaceType = null;
      for (const type of Object.keys(this.#wasm.webxr_refSpaces)) {
        if (this.#wasm.webxr_refSpaces[type] === refSpace) {
          this.#wasm.webxr_refSpaceType = type;
        }
      }
    }
    /** Current reference space type used for retrieving eye, head, hand and joint poses */
    get currentReferenceSpace() {
      return this.#wasm.webxr_refSpace;
    }
    /** Current WebXR reference space type or `null` if not a default reference space */
    get currentReferenceSpaceType() {
      return this.#wasm.webxr_refSpaceType;
    }
    /** Current WebXR base layer  */
    get baseLayer() {
      return this.#wasm.webxr_baseLayer;
    }
    /** Current WebXR framebuffer */
    get framebuffers() {
      if (!Array.isArray(this.#wasm.webxr_fbo)) {
        return [this.#wasm.GL.framebuffers[this.#wasm.webxr_fbo]];
      }
      return this.#wasm.webxr_fbo.map((id) => this.#wasm.GL.framebuffers[id]);
    }
  };

  // node_modules/@wonderlandengine/api/dist/utils/bitset.js
  function assert(bit) {
    if (bit >= 32) {
      throw new Error(`BitSet.enable(): Value ${bit} is over 31`);
    }
  }
  var BitSet = class {
    /** Enabled bits. @hidden */
    _bits = 0;
    /**
     * Enable the bit at the given index.
     *
     * @param bits A spread of all the bits to enable.
     * @returns Reference to self (for method chaining).
     */
    enable(...bits) {
      for (const bit of bits) {
        assert(bit);
        this._bits |= 1 << bit >>> 0;
      }
      return this;
    }
    /**
     * Enable all bits.
     *
     * @returns Reference to self (for method chaining).
     */
    enableAll() {
      this._bits = ~0;
      return this;
    }
    /**
     * Disable the bit at the given index.
     *
     * @param bits A spread of all the bits to disable.
     * @returns Reference to self (for method chaining).
     */
    disable(...bits) {
      for (const bit of bits) {
        assert(bit);
        this._bits &= ~(1 << bit >>> 0);
      }
      return this;
    }
    /**
     * Disable all bits.
     *
     * @returns Reference to self (for method chaining).
     */
    disableAll() {
      this._bits = 0;
      return this;
    }
    /**
     * Checker whether the bit is set or not.
     *
     * @param bit The bit to check.
     * @returns `true` if it's enabled, `false` otherwise.
     */
    enabled(bit) {
      return !!(this._bits & 1 << bit >>> 0);
    }
  };

  // node_modules/@wonderlandengine/api/dist/utils/logger.js
  var LogLevel;
  (function(LogLevel2) {
    LogLevel2[LogLevel2["Info"] = 0] = "Info";
    LogLevel2[LogLevel2["Warn"] = 1] = "Warn";
    LogLevel2[LogLevel2["Error"] = 2] = "Error";
  })(LogLevel || (LogLevel = {}));
  var Logger = class {
    /**
     * Bitset of enabled levels.
     *
     * @hidden
     */
    levels = new BitSet();
    /**
     * Bitset of enabled tags.
     *
     * @hidden
     */
    tags = new BitSet().enableAll();
    /**
     * Create a new logger instance.
     *
     * @param levels Default set of levels to enable.
     */
    constructor(...levels) {
      this.levels.enable(...levels);
    }
    /**
     * Log the message(s) using `console.log`.
     *
     * @param tag Tag represented by a positive integer.
     * @param msg A spread of message to log.
     * @returns Reference to self (for method chaining).
     */
    info(tag, ...msg) {
      if (this.levels.enabled(LogLevel.Info) && this.tags.enabled(tag)) {
        console.log(...msg);
      }
      return this;
    }
    /**
     * Log the message(s) using `console.warn`.
     *
     * @param tag Tag represented by a positive integer.
     * @param msg A spread of message to log.
     * @returns Reference to self (for method chaining).
     */
    warn(tag, ...msg) {
      if (this.levels.enabled(LogLevel.Warn) && this.tags.enabled(tag)) {
        console.warn(...msg);
      }
      return this;
    }
    /**
     * Log the message(s) using `console.error`.
     *
     * @param tag Tag represented by a positive integer.
     * @param msg A spread of message to log.
     * @returns Reference to self (for method chaining).
     */
    error(tag, ...msg) {
      if (this.levels.enabled(LogLevel.Error) && this.tags.enabled(tag)) {
        console.error(...msg);
      }
      return this;
    }
  };

  // node_modules/@wonderlandengine/api/dist/wasm.js
  var _componentDefaults = /* @__PURE__ */ new Map([
    [Type.Bool, false],
    [Type.Int, 0],
    [Type.Float, 0],
    [Type.String, ""],
    [Type.Enum, void 0],
    [Type.Object, null],
    [Type.Mesh, null],
    [Type.Texture, null],
    [Type.Material, null],
    [Type.Animation, null],
    [Type.Skin, null],
    [Type.Color, [0, 0, 0, 1]]
  ]);
  function _setupDefaults(ctor) {
    for (const name in ctor.Properties) {
      const p = ctor.Properties[name];
      if (p.type === Type.Enum) {
        if (p.values?.length) {
          if (typeof p.default !== "number") {
            p.default = p.values.indexOf(p.default);
          }
          if (p.default < 0 || p.default >= p.values.length) {
            p.default = 0;
          }
        } else {
          p.default = void 0;
        }
      } else {
        p.default = p.default ?? _componentDefaults.get(p.type);
      }
      ctor.prototype[name] = p.default;
    }
  }
  var WASM = class {
    /**
     * Emscripten worker field.
     *
     * @note This api is meant to be used internally.
     */
    worker = "";
    /**
     * Emscripten wasm field.
     *
     * @note This api is meant to be used internally.
     */
    wasm = null;
    /**
     * Emscripten canvas.
     *
     * @note This api is meant to be used internally.
     */
    canvas = null;
    /** Current WebXR  */
    /**
     * Emscripten WebXR session.
     *
     * @note This api is meant to be used internally.
     */
    webxr_session = null;
    /**
     * Emscripten WebXR request session callback.
     *
     * @note This api is meant to be used internally.
     */
    webxr_requestSession = null;
    /**
     * Emscripten WebXR offer session callback.
     *
     * @note This api is meant to be used internally.
     */
    webxr_offerSession = null;
    /**
     * Emscripten WebXR frame.
     *
     * @note This api is meant to be used internally.
     */
    webxr_frame = null;
    /**
     * Emscripten current WebXR reference space.
     *
     * @note This api is meant to be used internally.
     */
    webxr_refSpace = null;
    /**
     * Emscripten WebXR reference spaces.
     *
     * @note This api is meant to be used internally.
     */
    webxr_refSpaces = null;
    /**
     * Emscripten WebXR current reference space type.
     *
     * @note This api is meant to be used internally.
     */
    webxr_refSpaceType = null;
    /**
     * Emscripten WebXR GL projection layer.
     *
     * @note This api is meant to be used internally.
     */
    webxr_baseLayer = null;
    /**
     * Emscripten WebXR framebuffer scale factor.
     *
     * @note This api is meant to be used internally.
     */
    webxr_framebufferScaleFactor = 1;
    /**
     * Emscripten WebXR framebuffer(s).
     *
     * @note This api is meant to be used internally.
     */
    /* webxr_fbo will not get overwritten if we are rendering to the
     * default framebuffer, e.g., when using WebXR emulator. */
    webxr_fbo = 0;
    /**
     * Convert a WASM memory view to a JavaScript string.
     *
     * @param ptr Pointer start
     * @param ptrEnd Pointer end
     * @returns JavaScript string
     */
    UTF8ViewToString;
    /** Logger instance. */
    _log = new Logger();
    /** If `true`, logs will not spam the console on error. */
    _deactivate_component_on_error = false;
    /** Temporary memory pointer. */
    _tempMem = null;
    /** Temporary memory size. */
    _tempMemSize = 0;
    /** Temporary float memory view. */
    _tempMemFloat = null;
    /** Temporary int memory view. */
    _tempMemInt = null;
    /** Temporary uint8 memory view. */
    _tempMemUint8 = null;
    /** Temporary uint32 memory view. */
    _tempMemUint32 = null;
    /** Temporary uint16 memory view. */
    _tempMemUint16 = null;
    /** Loading screen .bin file data */
    _loadingScreen = null;
    /** List of callbacks triggered when the scene is loaded. */
    _sceneLoadedCallback = [];
    /**
     * Material definition cache. Each pipeline has its own
     * associated material definition.
     */
    _materialDefinitions = [];
    /** Image cache. */
    _images = [];
    /** Component instances. */
    _components = [];
    /** Component Type info. */
    _componentTypes = [];
    /** Index per component type name. */
    _componentTypeIndices = {};
    /** Wonderland engine instance. */
    _engine = null;
    /**
     * `true` if this runtime is using physx.
     *
     * @note This api is meant to be used internally.
     */
    _withPhysX = false;
    /** Decoder for UTF8 `ArrayBuffer` to JavaScript string. */
    _utf8Decoder = new TextDecoder("utf8");
    /** JavaScript manager index. */
    _jsManagerIndexCached = null;
    /**
     * Registration index of {@link BrokenComponent}.
     *
     * This is used to return dummy instances when a component
     * isn't registered.
     *
     * @hidden
     */
    _brokenComponentIndex = 0;
    /**
     * Create a new instance of the WebAssembly <> API bridge.
     *
     * @param threads `true` if the runtime used has threads support
     */
    constructor(threads2) {
      if (threads2) {
        this.UTF8ViewToString = (s, e) => {
          if (!s)
            return "";
          return this._utf8Decoder.decode(this.HEAPU8.slice(s, e));
        };
        return;
      }
      this.UTF8ViewToString = (s, e) => {
        if (!s)
          return "";
        return this._utf8Decoder.decode(this.HEAPU8.subarray(s, e));
      };
      this._brokenComponentIndex = this._registerComponent(BrokenComponent);
    }
    /**
     * Reset the cache of the library.
     *
     * @note Should only be called when tearing down the runtime.
     */
    reset() {
      for (const img of this._images) {
        if (!img || !img.src)
          continue;
        img.src = "";
        img.onload = null;
        img.onerror = null;
      }
      this._images = [];
      this.allocateTempMemory(1024);
      this._materialDefinitions = [];
      this._components = [];
      this._componentTypes = [];
      this._componentTypeIndices = {};
      this._jsManagerIndexCached = null;
      this._brokenComponentIndex = this._registerComponent(BrokenComponent);
    }
    /**
     * Checks whether the given component is registered or not.
     *
     * @param ctor  A string representing the component typename (e.g., `'cursor-component'`).
     * @returns `true` if the component is registered, `false` otherwise.
     */
    isRegistered(type) {
      return type in this._componentTypeIndices;
    }
    /**
     * Register a legacy component in this Emscripten instance.
     *
     * @note This api is meant to be used internally.
     *
     * @param typeName The name of the component.
     * @param params An object containing the parameters (properties).
     * @param object The object's prototype.
     * @returns The registration index
     */
    _registerComponentLegacy(typeName, params, object) {
      const ctor = class CustomComponent extends Component {
      };
      ctor.TypeName = typeName;
      ctor.Properties = params;
      Object.assign(ctor.prototype, object);
      return this._registerComponent(ctor);
    }
    /**
     * Register a class component in this Emscripten instance.
     *
     * @note This api is meant to be used internally.
     *
     * @param ctor The class to register.
     * @returns The registration index.
     */
    _registerComponent(ctor) {
      if (!ctor.TypeName)
        throw new Error("no name provided for component.");
      if (!ctor.prototype._triggerInit) {
        throw new Error(`registerComponent(): Component ${ctor.TypeName} must extend Component`);
      }
      inheritProperties(ctor);
      _setupDefaults(ctor);
      const typeIndex = ctor.TypeName in this._componentTypeIndices ? this._componentTypeIndices[ctor.TypeName] : this._componentTypes.length;
      this._componentTypes[typeIndex] = ctor;
      this._componentTypeIndices[ctor.TypeName] = typeIndex;
      if (ctor === BrokenComponent)
        return typeIndex;
      this._log.info(LogTag.Engine, "Registered component", ctor.TypeName, `(class ${ctor.name})`, "with index", typeIndex);
      if (ctor.onRegister)
        ctor.onRegister(this._engine);
      return typeIndex;
    }
    /**
     * Allocate the requested amount of temporary memory
     * in this WASM instance.
     *
     * @param size The number of bytes to allocate
     */
    allocateTempMemory(size) {
      this._log.info(LogTag.Engine, "Allocating temp mem:", size);
      this._tempMemSize = size;
      if (this._tempMem)
        this._free(this._tempMem);
      this._tempMem = this._malloc(this._tempMemSize);
      this.updateTempMemory();
    }
    /**
     * @todo: Delete this and only keep `allocateTempMemory`
     *
     * @param size Number of bytes to allocate
     */
    requireTempMem(size) {
      if (this._tempMemSize >= size)
        return;
      this.allocateTempMemory(Math.ceil(size / 1024) * 1024);
    }
    /**
     * Update the temporary memory views. This must be called whenever the
     * temporary memory address changes.
     *
     * @note This api is meant to be used internally.
     */
    updateTempMemory() {
      this._tempMemFloat = new Float32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);
      this._tempMemInt = new Int32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);
      this._tempMemUint32 = new Uint32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);
      this._tempMemUint16 = new Uint16Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 1);
      this._tempMemUint8 = new Uint8Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize);
    }
    /**
     * Returns a uint8 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required
     * @returns A {@link TypedArray} over the WASM memory
     */
    getTempBufferU8(count) {
      this.requireTempMem(count);
      return this._tempMemUint8;
    }
    /**
     * Returns a uint16 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required
     * @returns A {@link TypedArray} over the WASM memory
     */
    getTempBufferU16(count) {
      this.requireTempMem(count * 2);
      return this._tempMemUint16;
    }
    /**
     * Returns a uint32 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required.
     * @returns A {@link TypedArray} over the WASM memory.
     */
    getTempBufferU32(count) {
      this.requireTempMem(count * 4);
      return this._tempMemUint32;
    }
    /**
     * Returns a int32 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required.
     * @returns A {@link TypedArray} over the WASM memory.
     */
    getTempBufferI32(count) {
      this.requireTempMem(count * 4);
      return this._tempMemInt;
    }
    /**
     * Returns a float32 buffer view on temporary WASM memory.
     *
     * **Note**: this method might allocate if the requested memory is bigger
     * than the current temporary memory allocated.
     *
     * @param count The number of **elements** required.
     * @returns A {@link TypedArray} over the WASM memory.
     */
    getTempBufferF32(count) {
      this.requireTempMem(count * 4);
      return this._tempMemFloat;
    }
    /**
     * Copy the string into temporary WASM memory and retrieve the pointer.
     *
     * @note This method will compute the strlen and append a `\0`.
     *
     * @note The result should be used **directly** otherwise it might get
     * overridden by any next call modifying the temporary memory.
     *
     * @param str The string to write to temporary memory
     * @param byteOffset The starting byte offset in the temporary memory at which
     *     the string should be written. This is useful when using multiple temporaries.
     * @return The temporary pointer onto the WASM memory
     */
    tempUTF8(str5, byteOffset = 0) {
      const strLen = this.lengthBytesUTF8(str5) + 1;
      this.requireTempMem(strLen + byteOffset);
      const ptr = this._tempMem + byteOffset;
      this.stringToUTF8(str5, ptr, strLen);
      return ptr;
    }
    /**
     * Return the index of the component type.
     *
     * @note This method uses malloc and copies the string
     * to avoid overwriting caller's temporary data.
     *
     * @param type The type
     * @return The component type index
     */
    _typeIndexFor(type) {
      const lengthBytes = this.lengthBytesUTF8(type) + 1;
      const mem = this._malloc(lengthBytes);
      this.stringToUTF8(type, mem, lengthBytes);
      const componentType = this._wl_get_component_manager_index(mem);
      this._free(mem);
      return componentType;
    }
    /**
     * Return the name of component type stored at the given index.
     *
     * @param typeIndex The type index
     * @return The name as a string
     */
    _typeNameFor(typeIndex) {
      return this.UTF8ToString(this._wl_component_manager_name(typeIndex));
    }
    /**
     * Returns `true` if the runtime supports physx or not.
     */
    get withPhysX() {
      return this._withPhysX;
    }
    /** JavaScript manager index. */
    get _jsManagerIndex() {
      if (this._jsManagerIndexCached === null) {
        this._jsManagerIndexCached = this._typeIndexFor("js");
      }
      return this._jsManagerIndexCached;
    }
    /**
     * Set the engine instance holding this bridge.
     *
     * @note This api is meant to be used internally.
     *
     * @param engine The engine instance.
     */
    _setEngine(engine) {
      this._engine = engine;
    }
    /* WebAssembly to JS call bridge. */
    _wljs_xr_session_start(mode) {
      if (this._engine.xr === null) {
        this._engine.xr = new XR(this, mode);
        this._engine.onXRSessionStart.notify(this.webxr_session, mode);
      }
    }
    _wljs_xr_session_end() {
      const startEmitter = this._engine.onXRSessionStart;
      if (startEmitter instanceof RetainEmitter)
        startEmitter.reset();
      this._engine.onXRSessionEnd.notify();
      this._engine.xr = null;
    }
    _wljs_xr_disable() {
      this._engine.arSupported = false;
      this._engine.vrSupported = false;
    }
    _wljs_allocate(numComponents) {
      this._components = new Array(numComponents);
    }
    _wljs_init(withPhysX) {
      this._withPhysX = withPhysX;
      this.allocateTempMemory(1024);
    }
    _wljs_reallocate(numComponents) {
      if (numComponents > this._components.length) {
        this._components.length = numComponents;
      }
    }
    _wljs_scene_add_material_definition(definitionId) {
      const definition = /* @__PURE__ */ new Map();
      const nbParams = this._wl_material_definition_get_count(definitionId);
      for (let i = 0; i < nbParams; ++i) {
        const name = this.UTF8ToString(this._wl_material_definition_get_param_name(definitionId, i));
        const t = this._wl_material_definition_get_param_type(definitionId, i);
        definition.set(name, {
          index: i,
          type: {
            type: t & 255,
            componentCount: t >> 8 & 255,
            metaType: t >> 16 & 255
          }
        });
      }
      this._materialDefinitions[definitionId] = definition;
    }
    _wljs_set_component_param_bool(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v !== 0;
    }
    _wljs_set_component_param_int(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v;
    }
    _wljs_set_component_param_float(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v;
    }
    _wljs_set_component_param_string(c, p, pe, v, ve) {
      const param = this.UTF8ViewToString(p, pe);
      const value = this.UTF8ViewToString(v, ve);
      this._components[c][param] = value;
    }
    _wljs_set_component_param_color(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = new Float32Array([0, 8, 16, 24].map((s) => (v >>> s & 255) / 255));
    }
    _wljs_set_component_param_object(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? this._engine.wrapObject(v) : null;
    }
    _wljs_set_component_param_mesh(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? new Mesh(this._engine, v) : null;
    }
    _wljs_set_component_param_texture(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? this._engine.textures.wrap(v) : null;
    }
    _wljs_set_component_param_material(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? new Material(this._engine, v) : null;
    }
    _wljs_set_component_param_animation(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? new Animation(this._engine, v) : null;
    }
    _wljs_set_component_param_skin(c, p, pe, v) {
      const param = this.UTF8ViewToString(p, pe);
      this._components[c][param] = v > 0 ? new Skin(this._engine, v) : null;
    }
    _wljs_get_component_type_index(namePtr, nameEndPtr) {
      const typename = this.UTF8ViewToString(namePtr, nameEndPtr);
      const index = this._componentTypeIndices[typename];
      if (index === void 0) {
        return this._brokenComponentIndex;
      }
      return index;
    }
    _wljs_component_create(jsManagerIndex, index, id, type, object) {
      const ctor = this._componentTypes[type];
      if (!ctor) {
        throw new Error(`Type index ${type} isn't registered`);
      }
      let component = null;
      try {
        component = new ctor();
      } catch (e) {
        this._log.error(LogTag.Component, `Exception during instantiation of component ${ctor.TypeName}`);
        this._log.error(LogTag.Component, e);
        component = new BrokenComponent(this._engine);
      }
      component._engine = this._engine;
      component._manager = jsManagerIndex;
      component._id = id;
      component._object = this._engine.wrapObject(object);
      try {
        component.resetProperties();
      } catch (e) {
        this._log.error(LogTag.Component, `Exception during ${component.type} resetProperties() on object ${component.object.name}`);
        this._log.error(LogTag.Component, e);
      }
      this._components[index] = component;
      return component;
    }
    _wljs_component_init(component) {
      const c = this._components[component];
      c._triggerInit();
    }
    _wljs_component_update(component, dt) {
      const c = this._components[component];
      c._triggerUpdate(dt);
    }
    _wljs_component_onActivate(component) {
      const c = this._components[component];
      if (c)
        c._triggerOnActivate();
    }
    _wljs_component_onDeactivate(component) {
      const c = this._components[component];
      c._triggerOnDeactivate();
    }
    _wljs_component_onDestroy(component) {
      const c = this._components[component];
      c._triggerOnDestroy();
    }
    _wljs_swap(a, b) {
      const componentA = this._components[a];
      this._components[a] = this._components[b];
      this._components[b] = componentA;
    }
    _wljs_copy(src, dst) {
      const destComp = this._components[dst];
      try {
        destComp.copy(this._components[src]);
      } catch (e) {
        this._log.error(LogTag.Component, `Exception during ${destComp.type} copy() on object ${destComp.object.name}`);
        this._log.error(LogTag.Component, e);
      }
    }
  };
  function throwInvalidRuntime(version) {
    return function() {
      throw new Error(`Feature added in version ${version}.
	\u2192 Please use a Wonderland Engine editor version >= ${version}`);
    };
  }
  var requireRuntime1_1_1 = throwInvalidRuntime("1.1.1");
  var requireRuntime1_1_5 = throwInvalidRuntime("1.1.5");
  WASM.prototype._wl_physx_component_get_offsetTranslation = requireRuntime1_1_1;
  WASM.prototype._wl_physx_component_set_offsetTranslation = requireRuntime1_1_1;
  WASM.prototype._wl_physx_component_get_offsetTransform = requireRuntime1_1_1;
  WASM.prototype._wl_physx_component_set_offsetRotation = requireRuntime1_1_1;
  WASM.prototype._wl_object_clone = requireRuntime1_1_1;
  WASM.prototype._wl_physx_component_set_sleepOnActivate = requireRuntime1_1_5;
  WASM.prototype._wl_physx_component_get_sleepOnActivate = requireRuntime1_1_5;
  WASM.prototype.webxr_offerSession = requireRuntime1_1_5;

  // node_modules/@wonderlandengine/components/dist/8thwall-camera.js
  var ARCamera8thwall = class extends Component {
    /* 8thwall camera pipeline module name */
    name = "wonderland-engine-8thwall-camera";
    started = false;
    view = null;
    // cache camera
    position = [0, 0, 0];
    // cache 8thwall cam position
    rotation = [0, 0, 0, -1];
    // cache 8thwall cam rotation
    glTextureRenderer = null;
    // cache XR8.GlTextureRenderer.pipelineModule
    promptForDeviceMotion() {
      return new Promise(async (resolve, reject) => {
        window.dispatchEvent(new Event("8thwall-request-user-interaction"));
        window.addEventListener("8thwall-safe-to-request-permissions", async () => {
          try {
            const motionEvent = await DeviceMotionEvent.requestPermission();
            resolve(motionEvent);
          } catch (exception) {
            reject(exception);
          }
        });
      });
    }
    async getPermissions() {
      if (DeviceMotionEvent && DeviceMotionEvent.requestPermission) {
        try {
          const result = await DeviceMotionEvent.requestPermission();
          if (result !== "granted") {
            throw new Error("MotionEvent");
          }
        } catch (exception) {
          if (exception.name === "NotAllowedError") {
            const motionEvent = await this.promptForDeviceMotion();
            if (motionEvent !== "granted") {
              throw new Error("MotionEvent");
            }
          } else {
            throw new Error("MotionEvent");
          }
        }
      }
      try {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: true,
          audio: true
        });
        stream.getTracks().forEach((track) => {
          track.stop();
        });
      } catch (exception) {
        throw new Error("Camera");
      }
    }
    init() {
      this.view = this.object.getComponent("view");
      this.onUpdate = this.onUpdate.bind(this);
      this.onAttach = this.onAttach.bind(this);
      this.onException = this.onException.bind(this);
      this.onCameraStatusChange = this.onCameraStatusChange.bind(this);
    }
    async start() {
      this.view = this.object.getComponent("view");
      if (!this.useCustomUIOverlays) {
        OverlaysHandler.init();
      }
      try {
        await this.getPermissions();
      } catch (error) {
        window.dispatchEvent(new CustomEvent("8thwall-permission-fail", { detail: error }));
        return;
      }
      await this.waitForXR8();
      XR8.XrController.configure({
        disableWorldTracking: false
      });
      this.glTextureRenderer = XR8.GlTextureRenderer.pipelineModule();
      XR8.addCameraPipelineModules([
        this.glTextureRenderer,
        XR8.XrController.pipelineModule(),
        this
      ]);
      const config2 = {
        cameraConfig: {
          direction: XR8.XrConfig.camera().BACK
        },
        canvas: Module.canvas,
        allowedDevices: XR8.XrConfig.device().ANY,
        ownRunLoop: false
      };
      XR8.run(config2);
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onAttach(params) {
      this.started = true;
      this.engine.scene.colorClearEnabled = false;
      const gl = Module.ctx;
      const rot = this.object.rotationWorld;
      const pos = this.object.getTranslationWorld([]);
      this.position = Array.from(pos);
      this.rotation = Array.from(rot);
      XR8.XrController.updateCameraProjectionMatrix({
        origin: { x: pos[0], y: pos[1], z: pos[2] },
        facing: { x: rot[0], y: rot[1], z: rot[2], w: rot[3] },
        cam: {
          pixelRectWidth: Module.canvas.width,
          pixelRectHeight: Module.canvas.height,
          nearClipPlane: this.view.near,
          farClipPlane: this.view.far
        }
      });
      this.engine.scene.onPreRender.push(() => {
        gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);
        XR8.runPreRender(Date.now());
        XR8.runRender();
      });
      this.engine.scene.onPostRender.push(() => {
        XR8.runPostRender(Date.now());
      });
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onCameraStatusChange(e) {
      if (e && e.status === "failed") {
        this.onException(new Error(`Camera failed with status: ${e.status}`));
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onUpdate(e) {
      if (!e.processCpuResult.reality)
        return;
      const { rotation, position, intrinsics } = e.processCpuResult.reality;
      this.rotation[0] = rotation.x;
      this.rotation[1] = rotation.y;
      this.rotation[2] = rotation.z;
      this.rotation[3] = rotation.w;
      this.position[0] = position.x;
      this.position[1] = position.y;
      this.position[2] = position.z;
      if (intrinsics) {
        const projectionMatrix = this.view.projectionMatrix;
        for (let i = 0; i < 16; i++) {
          if (Number.isFinite(intrinsics[i])) {
            projectionMatrix[i] = intrinsics[i];
          }
        }
      }
      if (position && rotation) {
        this.object.rotationWorld = this.rotation;
        this.object.setTranslationWorld(this.position);
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onException(error) {
      console.error("8thwall exception:", error);
      window.dispatchEvent(new CustomEvent("8thwall-error", { detail: error }));
    }
    waitForXR8() {
      return new Promise((resolve, _rej) => {
        if (window.XR8) {
          resolve();
        } else {
          window.addEventListener("xrloaded", () => resolve());
        }
      });
    }
  };
  __publicField(ARCamera8thwall, "TypeName", "8thwall-camera");
  __publicField(ARCamera8thwall, "Properties", {
    /** Override the WL html overlays for handling camera/motion permissions and error handling */
    useCustomUIOverlays: { type: Type.Bool, default: false }
  });
  var OverlaysHandler = {
    init: function() {
      this.handleRequestUserInteraction = this.handleRequestUserInteraction.bind(this);
      this.handlePermissionFail = this.handlePermissionFail.bind(this);
      this.handleError = this.handleError.bind(this);
      window.addEventListener("8thwall-request-user-interaction", this.handleRequestUserInteraction);
      window.addEventListener("8thwall-permission-fail", this.handlePermissionFail);
      window.addEventListener("8thwall-error", this.handleError);
    },
    handleRequestUserInteraction: function() {
      const overlay = this.showOverlay(requestPermissionOverlay);
      window.addEventListener("8thwall-safe-to-request-permissions", () => {
        overlay.remove();
      });
    },
    handlePermissionFail: function(_reason) {
      this.showOverlay(failedPermissionOverlay);
    },
    handleError: function(_error) {
      this.showOverlay(runtimeErrorOverlay);
    },
    showOverlay: function(htmlContent) {
      const overlay = document.createElement("div");
      overlay.innerHTML = htmlContent;
      document.body.appendChild(overlay);
      return overlay;
    }
  };
  var requestPermissionOverlay = `
<style>
  #request-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .request-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .request-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="request-permission-overlay">
  <div class="request-permission-overlay_title">This app requires to use your camera and motion sensors</div>

  <button class="request-permission-overlay_button" onclick="window.dispatchEvent(new Event('8thwall-safe-to-request-permissions'))">OK</button>
</div>`;
  var failedPermissionOverlay = `
<style>
  #failed-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .failed-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .failed-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="failed-permission-overlay">
  <div class="failed-permission-overlay_title">Failed to grant permissions. Reset the the permissions and refresh the page.</div>

  <button class="failed-permission-overlay_button" onclick="window.location.reload()">Refresh the page</button>
</div>`;
  var runtimeErrorOverlay = `
<style>
  #wall-error-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .wall-error-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .wall-error-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="wall-error-overlay">
  <div class="wall-error-overlay_title">Error has occurred. Please reload the page</div>

  <button class="wall-error-overlay_button" onclick="window.location.reload()">Reload</button>
</div>`;

  // node_modules/@wonderlandengine/components/dist/utils/webxr.js
  var tempVec = new Float32Array(3);
  var tempQuat = new Float32Array(4);
  function setXRRigidTransformLocal(o, transform) {
    const r = transform.orientation;
    tempQuat[0] = r.x;
    tempQuat[1] = r.y;
    tempQuat[2] = r.z;
    tempQuat[3] = r.w;
    const t = transform.position;
    tempVec[0] = t.x;
    tempVec[1] = t.y;
    tempVec[2] = t.z;
    o.resetPositionRotation();
    o.setRotationLocal(tempQuat);
    o.translateLocal(tempVec);
  }

  // node_modules/@wonderlandengine/components/dist/anchor.js
  var __decorate2 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec3 = new Float32Array(3);
  var tempQuat2 = new Float32Array(4);
  var _anchors, _addAnchor, addAnchor_fn, _removeAnchor, removeAnchor_fn, _getFrame, getFrame_fn, _createAnchor, createAnchor_fn, _onAddAnchor, onAddAnchor_fn, _onRestoreAnchor, onRestoreAnchor_fn, _onCreate, onCreate_fn;
  var _Anchor = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _getFrame);
      __privateAdd(this, _createAnchor);
      __privateAdd(this, _onAddAnchor);
      __privateAdd(this, _onRestoreAnchor);
      __privateAdd(this, _onCreate);
      __publicField(this, "persist", false);
      /** Unique identifier to load a persistent anchor from, or empty/null if unknown */
      __publicField(this, "uuid", null);
      /** The xrAnchor, if created */
      __publicField(this, "xrAnchor", null);
      /** Emits events when the anchor is created either by being restored or newly created */
      __publicField(this, "onCreate", new Emitter());
      /** Whether the anchor is currently being tracked */
      __publicField(this, "visible", false);
      /** Emits an event when this anchor starts tracking */
      __publicField(this, "onTrackingFound", new Emitter());
      /** Emits an event when this anchor stops tracking */
      __publicField(this, "onTrackingLost", new Emitter());
      /** XRFrame to use for creating the anchor */
      __publicField(this, "xrFrame", null);
      /** XRHitTestResult to use for creating the anchor */
      __publicField(this, "xrHitResult", null);
    }
    /** Retrieve all anchors of the current scene */
    static getAllAnchors() {
      return __privateGet(_Anchor, _anchors);
    }
    /**
     * Create a new anchor
     *
     * @param o Object to attach the component to
     * @param params Parameters for the anchor component
     * @param frame XRFrame to use for anchor cration, if null, will use the current frame if available
     * @param hitResult Optional hit-test result to create the anchor with
     * @returns Promise for the newly created anchor component
     */
    static create(o, params, frame, hitResult) {
      const a = o.addComponent(_Anchor, { ...params, active: false });
      if (a === null)
        return null;
      a.xrHitResult = hitResult ?? null;
      a.xrFrame = frame ?? null;
      a.onCreate.once(() => (a.xrFrame = null, a.xrHitResult = null));
      a.active = true;
      return a.onCreate.promise();
    }
    start() {
      if (this.uuid && this.engine.xr) {
        this.persist = true;
        if (this.engine.xr.session.restorePersistentAnchor === void 0) {
          console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
        }
        this.engine.xr.session.restorePersistentAnchor(this.uuid).then(__privateMethod(this, _onRestoreAnchor, onRestoreAnchor_fn).bind(this));
      } else if (__privateMethod(this, _getFrame, getFrame_fn).call(this)) {
        __privateMethod(this, _createAnchor, createAnchor_fn).call(this).then(__privateMethod(this, _onAddAnchor, onAddAnchor_fn).bind(this));
      } else {
        throw new Error("Anchors can only be created during the XR frame in an active XR session");
      }
    }
    update() {
      if (!this.xrAnchor || !this.engine.xr)
        return;
      const pose = this.engine.xr.frame.getPose(this.xrAnchor.anchorSpace, this.engine.xr.currentReferenceSpace);
      const visible = !!pose;
      if (visible != this.visible) {
        this.visible = visible;
        (visible ? this.onTrackingFound : this.onTrackingLost).notify(this);
      }
      if (pose) {
        setXRRigidTransformLocal(this.object, pose.transform);
      }
    }
    onDestroy() {
      var _a;
      __privateMethod(_a = _Anchor, _removeAnchor, removeAnchor_fn).call(_a, this);
    }
  };
  var Anchor = _Anchor;
  _anchors = new WeakMap();
  _addAnchor = new WeakSet();
  addAnchor_fn = function(anchor) {
    __privateGet(_Anchor, _anchors).push(anchor);
  };
  _removeAnchor = new WeakSet();
  removeAnchor_fn = function(anchor) {
    const index = __privateGet(_Anchor, _anchors).indexOf(anchor);
    if (index < 0)
      return;
    __privateGet(_Anchor, _anchors).splice(index, 1);
  };
  _getFrame = new WeakSet();
  getFrame_fn = function() {
    return this.xrFrame || this.engine.xr.frame;
  };
  _createAnchor = new WeakSet();
  createAnchor_fn = async function() {
    if (!__privateMethod(this, _getFrame, getFrame_fn).call(this).createAnchor) {
      throw new Error("Cannot create anchor - anchors not supported, did you enable the 'anchors' WebXR feature?");
    }
    if (this.xrHitResult) {
      if (this.xrHitResult.createAnchor === void 0) {
        throw new Error("Requested anchor on XRHitTestResult, but WebXR hit-test feature is not available.");
      }
      return this.xrHitResult.createAnchor();
    } else {
      this.object.getTranslationWorld(tempVec3);
      tempQuat2.set(this.object.rotationWorld);
      const rotation = tempQuat2;
      const anchorPose = new XRRigidTransform({ x: tempVec3[0], y: tempVec3[1], z: tempVec3[2] }, { x: rotation[0], y: rotation[1], z: rotation[2], w: rotation[3] });
      return __privateMethod(this, _getFrame, getFrame_fn).call(this)?.createAnchor(anchorPose, this.engine.xr.currentReferenceSpace);
    }
  };
  _onAddAnchor = new WeakSet();
  onAddAnchor_fn = function(anchor) {
    if (!anchor)
      return;
    if (this.persist) {
      if (anchor.requestPersistentHandle !== void 0) {
        anchor.requestPersistentHandle().then((uuid) => {
          var _a;
          this.uuid = uuid;
          __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
          __privateMethod(_a = _Anchor, _addAnchor, addAnchor_fn).call(_a, this);
        });
        return;
      } else {
        console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
      }
    }
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onRestoreAnchor = new WeakSet();
  onRestoreAnchor_fn = function(anchor) {
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onCreate = new WeakSet();
  onCreate_fn = function(anchor) {
    this.xrAnchor = anchor;
    this.onCreate.notify(this);
  };
  __privateAdd(Anchor, _addAnchor);
  __privateAdd(Anchor, _removeAnchor);
  __publicField(Anchor, "TypeName", "anchor");
  /* Static management of all anchors */
  __privateAdd(Anchor, _anchors, []);
  __decorate2([
    property.bool(false)
  ], Anchor.prototype, "persist", void 0);
  __decorate2([
    property.string()
  ], Anchor.prototype, "uuid", void 0);

  // node_modules/@wonderlandengine/components/dist/cursor-target.js
  var CursorTarget = class extends Component {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.add(f);
     */
    addHoverFunction(f) {
      this.onHover.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.remove(f);
     */
    removeHoverFunction(f) {
      this.onHover.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.add(f);
     */
    addUnHoverFunction(f) {
      this.onUnhover.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.remove(f);
     */
    removeUnHoverFunction(f) {
      this.onUnhover.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onClick.add(f);
     */
    addClickFunction(f) {
      this.onClick.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onClick.remove(f);
     */
    removeClickFunction(f) {
      this.onClick.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.add(f);
     */
    addMoveFunction(f) {
      this.onMove.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.remove(f);
     */
    removeMoveFunction(f) {
      this.onMove.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.add(f);
     */
    addDownFunction(f) {
      this.onDown.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.remove(f);
     */
    removeDownFunction(f) {
      this.onDown.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.add(f);
     */
    addUpFunction(f) {
      this.onUp.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.remove(f);
     */
    removeUpFunction(f) {
      this.onUp.remove(f);
    }
  };
  __publicField(CursorTarget, "TypeName", "cursor-target");
  __publicField(CursorTarget, "Properties", {});

  // node_modules/gl-matrix/esm/common.js
  var EPSILON = 1e-6;
  var ARRAY_TYPE = typeof Float32Array !== "undefined" ? Float32Array : Array;
  var RANDOM = Math.random;
  var degree = Math.PI / 180;
  if (!Math.hypot)
    Math.hypot = function() {
      var y = 0, i = arguments.length;
      while (i--) {
        y += arguments[i] * arguments[i];
      }
      return Math.sqrt(y);
    };

  // node_modules/gl-matrix/esm/mat3.js
  function create() {
    var out = new ARRAY_TYPE(9);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[5] = 0;
      out[6] = 0;
      out[7] = 0;
    }
    out[0] = 1;
    out[4] = 1;
    out[8] = 1;
    return out;
  }

  // node_modules/gl-matrix/esm/mat4.js
  var mat4_exports = {};
  __export(mat4_exports, {
    add: () => add,
    adjoint: () => adjoint,
    clone: () => clone,
    copy: () => copy,
    create: () => create2,
    determinant: () => determinant,
    equals: () => equals,
    exactEquals: () => exactEquals,
    frob: () => frob,
    fromQuat: () => fromQuat,
    fromQuat2: () => fromQuat2,
    fromRotation: () => fromRotation,
    fromRotationTranslation: () => fromRotationTranslation,
    fromRotationTranslationScale: () => fromRotationTranslationScale,
    fromRotationTranslationScaleOrigin: () => fromRotationTranslationScaleOrigin,
    fromScaling: () => fromScaling,
    fromTranslation: () => fromTranslation,
    fromValues: () => fromValues,
    fromXRotation: () => fromXRotation,
    fromYRotation: () => fromYRotation,
    fromZRotation: () => fromZRotation,
    frustum: () => frustum,
    getRotation: () => getRotation,
    getScaling: () => getScaling,
    getTranslation: () => getTranslation,
    identity: () => identity,
    invert: () => invert,
    lookAt: () => lookAt,
    mul: () => mul,
    multiply: () => multiply,
    multiplyScalar: () => multiplyScalar,
    multiplyScalarAndAdd: () => multiplyScalarAndAdd,
    ortho: () => ortho,
    orthoNO: () => orthoNO,
    orthoZO: () => orthoZO,
    perspective: () => perspective,
    perspectiveFromFieldOfView: () => perspectiveFromFieldOfView,
    perspectiveNO: () => perspectiveNO,
    perspectiveZO: () => perspectiveZO,
    rotate: () => rotate,
    rotateX: () => rotateX,
    rotateY: () => rotateY,
    rotateZ: () => rotateZ,
    scale: () => scale,
    set: () => set,
    str: () => str,
    sub: () => sub,
    subtract: () => subtract,
    targetTo: () => targetTo,
    translate: () => translate,
    transpose: () => transpose
  });
  function create2() {
    var out = new ARRAY_TYPE(16);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
    }
    out[0] = 1;
    out[5] = 1;
    out[10] = 1;
    out[15] = 1;
    return out;
  }
  function clone(a) {
    var out = new ARRAY_TYPE(16);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function copy(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    var out = new ARRAY_TYPE(16);
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function identity(out) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function transpose(out, a) {
    if (out === a) {
      var a01 = a[1], a02 = a[2], a03 = a[3];
      var a12 = a[6], a13 = a[7];
      var a23 = a[11];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a01;
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a02;
      out[9] = a12;
      out[11] = a[14];
      out[12] = a03;
      out[13] = a13;
      out[14] = a23;
    } else {
      out[0] = a[0];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a[1];
      out[5] = a[5];
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a[2];
      out[9] = a[6];
      out[10] = a[10];
      out[11] = a[14];
      out[12] = a[3];
      out[13] = a[7];
      out[14] = a[11];
      out[15] = a[15];
    }
    return out;
  }
  function invert(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
    if (!det) {
      return null;
    }
    det = 1 / det;
    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;
    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;
    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;
    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;
    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;
    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;
    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;
    return out;
  }
  function adjoint(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);
    out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));
    out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);
    out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));
    out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));
    out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);
    out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));
    out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);
    out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);
    out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));
    out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);
    out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));
    out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));
    out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);
    out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));
    out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);
    return out;
  }
  function determinant(a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
  }
  function multiply(out, a, b) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[4];
    b1 = b[5];
    b2 = b[6];
    b3 = b[7];
    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[8];
    b1 = b[9];
    b2 = b[10];
    b3 = b[11];
    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[12];
    b1 = b[13];
    b2 = b[14];
    b3 = b[15];
    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    return out;
  }
  function translate(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    if (a === out) {
      out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];
      out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];
      out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];
      out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];
    } else {
      a00 = a[0];
      a01 = a[1];
      a02 = a[2];
      a03 = a[3];
      a10 = a[4];
      a11 = a[5];
      a12 = a[6];
      a13 = a[7];
      a20 = a[8];
      a21 = a[9];
      a22 = a[10];
      a23 = a[11];
      out[0] = a00;
      out[1] = a01;
      out[2] = a02;
      out[3] = a03;
      out[4] = a10;
      out[5] = a11;
      out[6] = a12;
      out[7] = a13;
      out[8] = a20;
      out[9] = a21;
      out[10] = a22;
      out[11] = a23;
      out[12] = a00 * x + a10 * y + a20 * z + a[12];
      out[13] = a01 * x + a11 * y + a21 * z + a[13];
      out[14] = a02 * x + a12 * y + a22 * z + a[14];
      out[15] = a03 * x + a13 * y + a23 * z + a[15];
    }
    return out;
  }
  function scale(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    out[0] = a[0] * x;
    out[1] = a[1] * x;
    out[2] = a[2] * x;
    out[3] = a[3] * x;
    out[4] = a[4] * y;
    out[5] = a[5] * y;
    out[6] = a[6] * y;
    out[7] = a[7] * y;
    out[8] = a[8] * z;
    out[9] = a[9] * z;
    out[10] = a[10] * z;
    out[11] = a[11] * z;
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function rotate(out, a, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len4 = Math.hypot(x, y, z);
    var s, c, t;
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    var b00, b01, b02;
    var b10, b11, b12;
    var b20, b21, b22;
    if (len4 < EPSILON) {
      return null;
    }
    len4 = 1 / len4;
    x *= len4;
    y *= len4;
    z *= len4;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    a00 = a[0];
    a01 = a[1];
    a02 = a[2];
    a03 = a[3];
    a10 = a[4];
    a11 = a[5];
    a12 = a[6];
    a13 = a[7];
    a20 = a[8];
    a21 = a[9];
    a22 = a[10];
    a23 = a[11];
    b00 = x * x * t + c;
    b01 = y * x * t + z * s;
    b02 = z * x * t - y * s;
    b10 = x * y * t - z * s;
    b11 = y * y * t + c;
    b12 = z * y * t + x * s;
    b20 = x * z * t + y * s;
    b21 = y * z * t - x * s;
    b22 = z * z * t + c;
    out[0] = a00 * b00 + a10 * b01 + a20 * b02;
    out[1] = a01 * b00 + a11 * b01 + a21 * b02;
    out[2] = a02 * b00 + a12 * b01 + a22 * b02;
    out[3] = a03 * b00 + a13 * b01 + a23 * b02;
    out[4] = a00 * b10 + a10 * b11 + a20 * b12;
    out[5] = a01 * b10 + a11 * b11 + a21 * b12;
    out[6] = a02 * b10 + a12 * b11 + a22 * b12;
    out[7] = a03 * b10 + a13 * b11 + a23 * b12;
    out[8] = a00 * b20 + a10 * b21 + a20 * b22;
    out[9] = a01 * b20 + a11 * b21 + a21 * b22;
    out[10] = a02 * b20 + a12 * b21 + a22 * b22;
    out[11] = a03 * b20 + a13 * b21 + a23 * b22;
    if (a !== out) {
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    return out;
  }
  function rotateX(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[4] = a10 * c + a20 * s;
    out[5] = a11 * c + a21 * s;
    out[6] = a12 * c + a22 * s;
    out[7] = a13 * c + a23 * s;
    out[8] = a20 * c - a10 * s;
    out[9] = a21 * c - a11 * s;
    out[10] = a22 * c - a12 * s;
    out[11] = a23 * c - a13 * s;
    return out;
  }
  function rotateY(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[4] = a[4];
      out[5] = a[5];
      out[6] = a[6];
      out[7] = a[7];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c - a20 * s;
    out[1] = a01 * c - a21 * s;
    out[2] = a02 * c - a22 * s;
    out[3] = a03 * c - a23 * s;
    out[8] = a00 * s + a20 * c;
    out[9] = a01 * s + a21 * c;
    out[10] = a02 * s + a22 * c;
    out[11] = a03 * s + a23 * c;
    return out;
  }
  function rotateZ(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    if (a !== out) {
      out[8] = a[8];
      out[9] = a[9];
      out[10] = a[10];
      out[11] = a[11];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c + a10 * s;
    out[1] = a01 * c + a11 * s;
    out[2] = a02 * c + a12 * s;
    out[3] = a03 * c + a13 * s;
    out[4] = a10 * c - a00 * s;
    out[5] = a11 * c - a01 * s;
    out[6] = a12 * c - a02 * s;
    out[7] = a13 * c - a03 * s;
    return out;
  }
  function fromTranslation(out, v) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromScaling(out, v) {
    out[0] = v[0];
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = v[1];
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = v[2];
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotation(out, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len4 = Math.hypot(x, y, z);
    var s, c, t;
    if (len4 < EPSILON) {
      return null;
    }
    len4 = 1 / len4;
    x *= len4;
    y *= len4;
    z *= len4;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    out[0] = x * x * t + c;
    out[1] = y * x * t + z * s;
    out[2] = z * x * t - y * s;
    out[3] = 0;
    out[4] = x * y * t - z * s;
    out[5] = y * y * t + c;
    out[6] = z * y * t + x * s;
    out[7] = 0;
    out[8] = x * z * t + y * s;
    out[9] = y * z * t - x * s;
    out[10] = z * z * t + c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromXRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = c;
    out[6] = s;
    out[7] = 0;
    out[8] = 0;
    out[9] = -s;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromYRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = 0;
    out[2] = -s;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = s;
    out[9] = 0;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromZRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = s;
    out[2] = 0;
    out[3] = 0;
    out[4] = -s;
    out[5] = c;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotationTranslation(out, q, v) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - (yy + zz);
    out[1] = xy + wz;
    out[2] = xz - wy;
    out[3] = 0;
    out[4] = xy - wz;
    out[5] = 1 - (xx + zz);
    out[6] = yz + wx;
    out[7] = 0;
    out[8] = xz + wy;
    out[9] = yz - wx;
    out[10] = 1 - (xx + yy);
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromQuat2(out, a) {
    var translation = new ARRAY_TYPE(3);
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7];
    var magnitude = bx * bx + by * by + bz * bz + bw * bw;
    if (magnitude > 0) {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;
    } else {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    }
    fromRotationTranslation(out, a, translation);
    return out;
  }
  function getTranslation(out, mat) {
    out[0] = mat[12];
    out[1] = mat[13];
    out[2] = mat[14];
    return out;
  }
  function getScaling(out, mat) {
    var m11 = mat[0];
    var m12 = mat[1];
    var m13 = mat[2];
    var m21 = mat[4];
    var m22 = mat[5];
    var m23 = mat[6];
    var m31 = mat[8];
    var m32 = mat[9];
    var m33 = mat[10];
    out[0] = Math.hypot(m11, m12, m13);
    out[1] = Math.hypot(m21, m22, m23);
    out[2] = Math.hypot(m31, m32, m33);
    return out;
  }
  function getRotation(out, mat) {
    var scaling = new ARRAY_TYPE(3);
    getScaling(scaling, mat);
    var is1 = 1 / scaling[0];
    var is2 = 1 / scaling[1];
    var is3 = 1 / scaling[2];
    var sm11 = mat[0] * is1;
    var sm12 = mat[1] * is2;
    var sm13 = mat[2] * is3;
    var sm21 = mat[4] * is1;
    var sm22 = mat[5] * is2;
    var sm23 = mat[6] * is3;
    var sm31 = mat[8] * is1;
    var sm32 = mat[9] * is2;
    var sm33 = mat[10] * is3;
    var trace = sm11 + sm22 + sm33;
    var S = 0;
    if (trace > 0) {
      S = Math.sqrt(trace + 1) * 2;
      out[3] = 0.25 * S;
      out[0] = (sm23 - sm32) / S;
      out[1] = (sm31 - sm13) / S;
      out[2] = (sm12 - sm21) / S;
    } else if (sm11 > sm22 && sm11 > sm33) {
      S = Math.sqrt(1 + sm11 - sm22 - sm33) * 2;
      out[3] = (sm23 - sm32) / S;
      out[0] = 0.25 * S;
      out[1] = (sm12 + sm21) / S;
      out[2] = (sm31 + sm13) / S;
    } else if (sm22 > sm33) {
      S = Math.sqrt(1 + sm22 - sm11 - sm33) * 2;
      out[3] = (sm31 - sm13) / S;
      out[0] = (sm12 + sm21) / S;
      out[1] = 0.25 * S;
      out[2] = (sm23 + sm32) / S;
    } else {
      S = Math.sqrt(1 + sm33 - sm11 - sm22) * 2;
      out[3] = (sm12 - sm21) / S;
      out[0] = (sm31 + sm13) / S;
      out[1] = (sm23 + sm32) / S;
      out[2] = 0.25 * S;
    }
    return out;
  }
  function fromRotationTranslationScale(out, q, v, s) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    out[0] = (1 - (yy + zz)) * sx;
    out[1] = (xy + wz) * sx;
    out[2] = (xz - wy) * sx;
    out[3] = 0;
    out[4] = (xy - wz) * sy;
    out[5] = (1 - (xx + zz)) * sy;
    out[6] = (yz + wx) * sy;
    out[7] = 0;
    out[8] = (xz + wy) * sz;
    out[9] = (yz - wx) * sz;
    out[10] = (1 - (xx + yy)) * sz;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromRotationTranslationScaleOrigin(out, q, v, s, o) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    var ox = o[0];
    var oy = o[1];
    var oz = o[2];
    var out0 = (1 - (yy + zz)) * sx;
    var out1 = (xy + wz) * sx;
    var out2 = (xz - wy) * sx;
    var out4 = (xy - wz) * sy;
    var out5 = (1 - (xx + zz)) * sy;
    var out6 = (yz + wx) * sy;
    var out8 = (xz + wy) * sz;
    var out9 = (yz - wx) * sz;
    var out10 = (1 - (xx + yy)) * sz;
    out[0] = out0;
    out[1] = out1;
    out[2] = out2;
    out[3] = 0;
    out[4] = out4;
    out[5] = out5;
    out[6] = out6;
    out[7] = 0;
    out[8] = out8;
    out[9] = out9;
    out[10] = out10;
    out[11] = 0;
    out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);
    out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);
    out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);
    out[15] = 1;
    return out;
  }
  function fromQuat(out, q) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var yx = y * x2;
    var yy = y * y2;
    var zx = z * x2;
    var zy = z * y2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - yy - zz;
    out[1] = yx + wz;
    out[2] = zx - wy;
    out[3] = 0;
    out[4] = yx - wz;
    out[5] = 1 - xx - zz;
    out[6] = zy + wx;
    out[7] = 0;
    out[8] = zx + wy;
    out[9] = zy - wx;
    out[10] = 1 - xx - yy;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function frustum(out, left, right, bottom, top, near, far) {
    var rl = 1 / (right - left);
    var tb = 1 / (top - bottom);
    var nf = 1 / (near - far);
    out[0] = near * 2 * rl;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = near * 2 * tb;
    out[6] = 0;
    out[7] = 0;
    out[8] = (right + left) * rl;
    out[9] = (top + bottom) * tb;
    out[10] = (far + near) * nf;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near * 2 * nf;
    out[15] = 0;
    return out;
  }
  function perspectiveNO(out, fovy, aspect, near, far) {
    var f = 1 / Math.tan(fovy / 2), nf;
    out[0] = f / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = (far + near) * nf;
      out[14] = 2 * far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -2 * near;
    }
    return out;
  }
  var perspective = perspectiveNO;
  function perspectiveZO(out, fovy, aspect, near, far) {
    var f = 1 / Math.tan(fovy / 2), nf;
    out[0] = f / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = far * nf;
      out[14] = far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -near;
    }
    return out;
  }
  function perspectiveFromFieldOfView(out, fov, near, far) {
    var upTan = Math.tan(fov.upDegrees * Math.PI / 180);
    var downTan = Math.tan(fov.downDegrees * Math.PI / 180);
    var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180);
    var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180);
    var xScale = 2 / (leftTan + rightTan);
    var yScale = 2 / (upTan + downTan);
    out[0] = xScale;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = yScale;
    out[6] = 0;
    out[7] = 0;
    out[8] = -((leftTan - rightTan) * xScale * 0.5);
    out[9] = (upTan - downTan) * yScale * 0.5;
    out[10] = far / (near - far);
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near / (near - far);
    out[15] = 0;
    return out;
  }
  function orthoNO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 2 * nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = (far + near) * nf;
    out[15] = 1;
    return out;
  }
  var ortho = orthoNO;
  function orthoZO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = near * nf;
    out[15] = 1;
    return out;
  }
  function lookAt(out, eye, center, up) {
    var x0, x1, x2, y0, y1, y2, z0, z1, z2, len4;
    var eyex = eye[0];
    var eyey = eye[1];
    var eyez = eye[2];
    var upx = up[0];
    var upy = up[1];
    var upz = up[2];
    var centerx = center[0];
    var centery = center[1];
    var centerz = center[2];
    if (Math.abs(eyex - centerx) < EPSILON && Math.abs(eyey - centery) < EPSILON && Math.abs(eyez - centerz) < EPSILON) {
      return identity(out);
    }
    z0 = eyex - centerx;
    z1 = eyey - centery;
    z2 = eyez - centerz;
    len4 = 1 / Math.hypot(z0, z1, z2);
    z0 *= len4;
    z1 *= len4;
    z2 *= len4;
    x0 = upy * z2 - upz * z1;
    x1 = upz * z0 - upx * z2;
    x2 = upx * z1 - upy * z0;
    len4 = Math.hypot(x0, x1, x2);
    if (!len4) {
      x0 = 0;
      x1 = 0;
      x2 = 0;
    } else {
      len4 = 1 / len4;
      x0 *= len4;
      x1 *= len4;
      x2 *= len4;
    }
    y0 = z1 * x2 - z2 * x1;
    y1 = z2 * x0 - z0 * x2;
    y2 = z0 * x1 - z1 * x0;
    len4 = Math.hypot(y0, y1, y2);
    if (!len4) {
      y0 = 0;
      y1 = 0;
      y2 = 0;
    } else {
      len4 = 1 / len4;
      y0 *= len4;
      y1 *= len4;
      y2 *= len4;
    }
    out[0] = x0;
    out[1] = y0;
    out[2] = z0;
    out[3] = 0;
    out[4] = x1;
    out[5] = y1;
    out[6] = z1;
    out[7] = 0;
    out[8] = x2;
    out[9] = y2;
    out[10] = z2;
    out[11] = 0;
    out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
    out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
    out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
    out[15] = 1;
    return out;
  }
  function targetTo(out, eye, target, up) {
    var eyex = eye[0], eyey = eye[1], eyez = eye[2], upx = up[0], upy = up[1], upz = up[2];
    var z0 = eyex - target[0], z1 = eyey - target[1], z2 = eyez - target[2];
    var len4 = z0 * z0 + z1 * z1 + z2 * z2;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
      z0 *= len4;
      z1 *= len4;
      z2 *= len4;
    }
    var x0 = upy * z2 - upz * z1, x1 = upz * z0 - upx * z2, x2 = upx * z1 - upy * z0;
    len4 = x0 * x0 + x1 * x1 + x2 * x2;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
      x0 *= len4;
      x1 *= len4;
      x2 *= len4;
    }
    out[0] = x0;
    out[1] = x1;
    out[2] = x2;
    out[3] = 0;
    out[4] = z1 * x2 - z2 * x1;
    out[5] = z2 * x0 - z0 * x2;
    out[6] = z0 * x1 - z1 * x0;
    out[7] = 0;
    out[8] = z0;
    out[9] = z1;
    out[10] = z2;
    out[11] = 0;
    out[12] = eyex;
    out[13] = eyey;
    out[14] = eyez;
    out[15] = 1;
    return out;
  }
  function str(a) {
    return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";
  }
  function frob(a) {
    return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);
  }
  function add(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    out[8] = a[8] + b[8];
    out[9] = a[9] + b[9];
    out[10] = a[10] + b[10];
    out[11] = a[11] + b[11];
    out[12] = a[12] + b[12];
    out[13] = a[13] + b[13];
    out[14] = a[14] + b[14];
    out[15] = a[15] + b[15];
    return out;
  }
  function subtract(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    out[3] = a[3] - b[3];
    out[4] = a[4] - b[4];
    out[5] = a[5] - b[5];
    out[6] = a[6] - b[6];
    out[7] = a[7] - b[7];
    out[8] = a[8] - b[8];
    out[9] = a[9] - b[9];
    out[10] = a[10] - b[10];
    out[11] = a[11] - b[11];
    out[12] = a[12] - b[12];
    out[13] = a[13] - b[13];
    out[14] = a[14] - b[14];
    out[15] = a[15] - b[15];
    return out;
  }
  function multiplyScalar(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    out[8] = a[8] * b;
    out[9] = a[9] * b;
    out[10] = a[10] * b;
    out[11] = a[11] * b;
    out[12] = a[12] * b;
    out[13] = a[13] * b;
    out[14] = a[14] * b;
    out[15] = a[15] * b;
    return out;
  }
  function multiplyScalarAndAdd(out, a, b, scale6) {
    out[0] = a[0] + b[0] * scale6;
    out[1] = a[1] + b[1] * scale6;
    out[2] = a[2] + b[2] * scale6;
    out[3] = a[3] + b[3] * scale6;
    out[4] = a[4] + b[4] * scale6;
    out[5] = a[5] + b[5] * scale6;
    out[6] = a[6] + b[6] * scale6;
    out[7] = a[7] + b[7] * scale6;
    out[8] = a[8] + b[8] * scale6;
    out[9] = a[9] + b[9] * scale6;
    out[10] = a[10] + b[10] * scale6;
    out[11] = a[11] + b[11] * scale6;
    out[12] = a[12] + b[12] * scale6;
    out[13] = a[13] + b[13] * scale6;
    out[14] = a[14] + b[14] * scale6;
    out[15] = a[15] + b[15] * scale6;
    return out;
  }
  function exactEquals(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];
  }
  function equals(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var a8 = a[8], a9 = a[9], a10 = a[10], a11 = a[11];
    var a12 = a[12], a13 = a[13], a14 = a[14], a15 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    var b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    var b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11];
    var b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= EPSILON * Math.max(1, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= EPSILON * Math.max(1, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= EPSILON * Math.max(1, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= EPSILON * Math.max(1, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= EPSILON * Math.max(1, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= EPSILON * Math.max(1, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= EPSILON * Math.max(1, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= EPSILON * Math.max(1, Math.abs(a15), Math.abs(b15));
  }
  var mul = multiply;
  var sub = subtract;

  // node_modules/gl-matrix/esm/quat.js
  var quat_exports = {};
  __export(quat_exports, {
    add: () => add4,
    calculateW: () => calculateW,
    clone: () => clone4,
    conjugate: () => conjugate,
    copy: () => copy4,
    create: () => create5,
    dot: () => dot3,
    equals: () => equals4,
    exactEquals: () => exactEquals4,
    exp: () => exp,
    fromEuler: () => fromEuler,
    fromMat3: () => fromMat3,
    fromValues: () => fromValues4,
    getAngle: () => getAngle,
    getAxisAngle: () => getAxisAngle,
    identity: () => identity2,
    invert: () => invert2,
    len: () => len2,
    length: () => length3,
    lerp: () => lerp3,
    ln: () => ln,
    mul: () => mul3,
    multiply: () => multiply3,
    normalize: () => normalize3,
    pow: () => pow,
    random: () => random2,
    rotateX: () => rotateX3,
    rotateY: () => rotateY3,
    rotateZ: () => rotateZ3,
    rotationTo: () => rotationTo,
    scale: () => scale4,
    set: () => set4,
    setAxes: () => setAxes,
    setAxisAngle: () => setAxisAngle,
    slerp: () => slerp,
    sqlerp: () => sqlerp,
    sqrLen: () => sqrLen2,
    squaredLength: () => squaredLength3,
    str: () => str3
  });

  // node_modules/gl-matrix/esm/vec3.js
  var vec3_exports = {};
  __export(vec3_exports, {
    add: () => add2,
    angle: () => angle,
    bezier: () => bezier,
    ceil: () => ceil,
    clone: () => clone2,
    copy: () => copy2,
    create: () => create3,
    cross: () => cross,
    dist: () => dist,
    distance: () => distance,
    div: () => div,
    divide: () => divide,
    dot: () => dot,
    equals: () => equals2,
    exactEquals: () => exactEquals2,
    floor: () => floor,
    forEach: () => forEach,
    fromValues: () => fromValues2,
    hermite: () => hermite,
    inverse: () => inverse,
    len: () => len,
    length: () => length,
    lerp: () => lerp,
    max: () => max,
    min: () => min,
    mul: () => mul2,
    multiply: () => multiply2,
    negate: () => negate,
    normalize: () => normalize,
    random: () => random,
    rotateX: () => rotateX2,
    rotateY: () => rotateY2,
    rotateZ: () => rotateZ2,
    round: () => round,
    scale: () => scale2,
    scaleAndAdd: () => scaleAndAdd,
    set: () => set2,
    sqrDist: () => sqrDist,
    sqrLen: () => sqrLen,
    squaredDistance: () => squaredDistance,
    squaredLength: () => squaredLength,
    str: () => str2,
    sub: () => sub2,
    subtract: () => subtract2,
    transformMat3: () => transformMat3,
    transformMat4: () => transformMat4,
    transformQuat: () => transformQuat,
    zero: () => zero
  });
  function create3() {
    var out = new ARRAY_TYPE(3);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    return out;
  }
  function clone2(a) {
    var out = new ARRAY_TYPE(3);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function length(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return Math.hypot(x, y, z);
  }
  function fromValues2(x, y, z) {
    var out = new ARRAY_TYPE(3);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function copy2(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function set2(out, x, y, z) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function add2(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    return out;
  }
  function subtract2(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    return out;
  }
  function multiply2(out, a, b) {
    out[0] = a[0] * b[0];
    out[1] = a[1] * b[1];
    out[2] = a[2] * b[2];
    return out;
  }
  function divide(out, a, b) {
    out[0] = a[0] / b[0];
    out[1] = a[1] / b[1];
    out[2] = a[2] / b[2];
    return out;
  }
  function ceil(out, a) {
    out[0] = Math.ceil(a[0]);
    out[1] = Math.ceil(a[1]);
    out[2] = Math.ceil(a[2]);
    return out;
  }
  function floor(out, a) {
    out[0] = Math.floor(a[0]);
    out[1] = Math.floor(a[1]);
    out[2] = Math.floor(a[2]);
    return out;
  }
  function min(out, a, b) {
    out[0] = Math.min(a[0], b[0]);
    out[1] = Math.min(a[1], b[1]);
    out[2] = Math.min(a[2], b[2]);
    return out;
  }
  function max(out, a, b) {
    out[0] = Math.max(a[0], b[0]);
    out[1] = Math.max(a[1], b[1]);
    out[2] = Math.max(a[2], b[2]);
    return out;
  }
  function round(out, a) {
    out[0] = Math.round(a[0]);
    out[1] = Math.round(a[1]);
    out[2] = Math.round(a[2]);
    return out;
  }
  function scale2(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    return out;
  }
  function scaleAndAdd(out, a, b, scale6) {
    out[0] = a[0] + b[0] * scale6;
    out[1] = a[1] + b[1] * scale6;
    out[2] = a[2] + b[2] * scale6;
    return out;
  }
  function distance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return Math.hypot(x, y, z);
  }
  function squaredDistance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return x * x + y * y + z * z;
  }
  function squaredLength(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return x * x + y * y + z * z;
  }
  function negate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    return out;
  }
  function inverse(out, a) {
    out[0] = 1 / a[0];
    out[1] = 1 / a[1];
    out[2] = 1 / a[2];
    return out;
  }
  function normalize(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var len4 = x * x + y * y + z * z;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
    }
    out[0] = a[0] * len4;
    out[1] = a[1] * len4;
    out[2] = a[2] * len4;
    return out;
  }
  function dot(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
  }
  function cross(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2];
    var bx = b[0], by = b[1], bz = b[2];
    out[0] = ay * bz - az * by;
    out[1] = az * bx - ax * bz;
    out[2] = ax * by - ay * bx;
    return out;
  }
  function lerp(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    return out;
  }
  function hermite(out, a, b, c, d, t) {
    var factorTimes2 = t * t;
    var factor1 = factorTimes2 * (2 * t - 3) + 1;
    var factor2 = factorTimes2 * (t - 2) + t;
    var factor3 = factorTimes2 * (t - 1);
    var factor4 = factorTimes2 * (3 - 2 * t);
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function bezier(out, a, b, c, d, t) {
    var inverseFactor = 1 - t;
    var inverseFactorTimesTwo = inverseFactor * inverseFactor;
    var factorTimes2 = t * t;
    var factor1 = inverseFactorTimesTwo * inverseFactor;
    var factor2 = 3 * t * inverseFactorTimesTwo;
    var factor3 = 3 * factorTimes2 * inverseFactor;
    var factor4 = factorTimes2 * t;
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function random(out, scale6) {
    scale6 = scale6 || 1;
    var r = RANDOM() * 2 * Math.PI;
    var z = RANDOM() * 2 - 1;
    var zScale = Math.sqrt(1 - z * z) * scale6;
    out[0] = Math.cos(r) * zScale;
    out[1] = Math.sin(r) * zScale;
    out[2] = z * scale6;
    return out;
  }
  function transformMat4(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    var w = m[3] * x + m[7] * y + m[11] * z + m[15];
    w = w || 1;
    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;
    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;
    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;
    return out;
  }
  function transformMat3(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x * m[0] + y * m[3] + z * m[6];
    out[1] = x * m[1] + y * m[4] + z * m[7];
    out[2] = x * m[2] + y * m[5] + z * m[8];
    return out;
  }
  function transformQuat(out, a, q) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3];
    var x = a[0], y = a[1], z = a[2];
    var uvx = qy * z - qz * y, uvy = qz * x - qx * z, uvz = qx * y - qy * x;
    var uuvx = qy * uvz - qz * uvy, uuvy = qz * uvx - qx * uvz, uuvz = qx * uvy - qy * uvx;
    var w2 = qw * 2;
    uvx *= w2;
    uvy *= w2;
    uvz *= w2;
    uuvx *= 2;
    uuvy *= 2;
    uuvz *= 2;
    out[0] = x + uvx + uuvx;
    out[1] = y + uvy + uuvy;
    out[2] = z + uvz + uuvz;
    return out;
  }
  function rotateX2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0];
    r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);
    r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateY2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);
    r[1] = p[1];
    r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateZ2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);
    r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);
    r[2] = p[2];
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function angle(a, b) {
    var ax = a[0], ay = a[1], az = a[2], bx = b[0], by = b[1], bz = b[2], mag1 = Math.sqrt(ax * ax + ay * ay + az * az), mag2 = Math.sqrt(bx * bx + by * by + bz * bz), mag = mag1 * mag2, cosine = mag && dot(a, b) / mag;
    return Math.acos(Math.min(Math.max(cosine, -1), 1));
  }
  function zero(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    return out;
  }
  function str2(a) {
    return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";
  }
  function exactEquals2(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
  }
  function equals2(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2];
    var b0 = b[0], b1 = b[1], b2 = b[2];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2));
  }
  var sub2 = subtract2;
  var mul2 = multiply2;
  var div = divide;
  var dist = distance;
  var sqrDist = squaredDistance;
  var len = length;
  var sqrLen = squaredLength;
  var forEach = function() {
    var vec = create3();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l;
      if (!stride) {
        stride = 3;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l = Math.min(count * stride + offset2, a.length);
      } else {
        l = a.length;
      }
      for (i = offset2; i < l; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
      }
      return a;
    };
  }();

  // node_modules/gl-matrix/esm/vec4.js
  function create4() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
    }
    return out;
  }
  function clone3(a) {
    var out = new ARRAY_TYPE(4);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function fromValues3(x, y, z, w) {
    var out = new ARRAY_TYPE(4);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function copy3(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function set3(out, x, y, z, w) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function add3(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    return out;
  }
  function scale3(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    return out;
  }
  function length2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return Math.hypot(x, y, z, w);
  }
  function squaredLength2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return x * x + y * y + z * z + w * w;
  }
  function normalize2(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    var len4 = x * x + y * y + z * z + w * w;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
    }
    out[0] = x * len4;
    out[1] = y * len4;
    out[2] = z * len4;
    out[3] = w * len4;
    return out;
  }
  function dot2(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];
  }
  function lerp2(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    var aw = a[3];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    out[3] = aw + t * (b[3] - aw);
    return out;
  }
  function exactEquals3(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];
  }
  function equals3(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3));
  }
  var forEach2 = function() {
    var vec = create4();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l;
      if (!stride) {
        stride = 4;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l = Math.min(count * stride + offset2, a.length);
      } else {
        l = a.length;
      }
      for (i = offset2; i < l; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        vec[3] = a[i + 3];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
        a[i + 3] = vec[3];
      }
      return a;
    };
  }();

  // node_modules/gl-matrix/esm/quat.js
  function create5() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    out[3] = 1;
    return out;
  }
  function identity2(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    return out;
  }
  function setAxisAngle(out, axis, rad) {
    rad = rad * 0.5;
    var s = Math.sin(rad);
    out[0] = s * axis[0];
    out[1] = s * axis[1];
    out[2] = s * axis[2];
    out[3] = Math.cos(rad);
    return out;
  }
  function getAxisAngle(out_axis, q) {
    var rad = Math.acos(q[3]) * 2;
    var s = Math.sin(rad / 2);
    if (s > EPSILON) {
      out_axis[0] = q[0] / s;
      out_axis[1] = q[1] / s;
      out_axis[2] = q[2] / s;
    } else {
      out_axis[0] = 1;
      out_axis[1] = 0;
      out_axis[2] = 0;
    }
    return rad;
  }
  function getAngle(a, b) {
    var dotproduct = dot3(a, b);
    return Math.acos(2 * dotproduct * dotproduct - 1);
  }
  function multiply3(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    out[0] = ax * bw + aw * bx + ay * bz - az * by;
    out[1] = ay * bw + aw * by + az * bx - ax * bz;
    out[2] = az * bw + aw * bz + ax * by - ay * bx;
    out[3] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function rotateX3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + aw * bx;
    out[1] = ay * bw + az * bx;
    out[2] = az * bw - ay * bx;
    out[3] = aw * bw - ax * bx;
    return out;
  }
  function rotateY3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var by = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw - az * by;
    out[1] = ay * bw + aw * by;
    out[2] = az * bw + ax * by;
    out[3] = aw * bw - ay * by;
    return out;
  }
  function rotateZ3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bz = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + ay * bz;
    out[1] = ay * bw - ax * bz;
    out[2] = az * bw + aw * bz;
    out[3] = aw * bw - az * bz;
    return out;
  }
  function calculateW(out, a) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = Math.sqrt(Math.abs(1 - x * x - y * y - z * z));
    return out;
  }
  function exp(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var et = Math.exp(w);
    var s = r > 0 ? et * Math.sin(r) / r : 0;
    out[0] = x * s;
    out[1] = y * s;
    out[2] = z * s;
    out[3] = et * Math.cos(r);
    return out;
  }
  function ln(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var t = r > 0 ? Math.atan2(r, w) / r : 0;
    out[0] = x * t;
    out[1] = y * t;
    out[2] = z * t;
    out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);
    return out;
  }
  function pow(out, a, b) {
    ln(out, a);
    scale4(out, out, b);
    exp(out, out);
    return out;
  }
  function slerp(out, a, b, t) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    var omega, cosom, sinom, scale0, scale1;
    cosom = ax * bx + ay * by + az * bz + aw * bw;
    if (cosom < 0) {
      cosom = -cosom;
      bx = -bx;
      by = -by;
      bz = -bz;
      bw = -bw;
    }
    if (1 - cosom > EPSILON) {
      omega = Math.acos(cosom);
      sinom = Math.sin(omega);
      scale0 = Math.sin((1 - t) * omega) / sinom;
      scale1 = Math.sin(t * omega) / sinom;
    } else {
      scale0 = 1 - t;
      scale1 = t;
    }
    out[0] = scale0 * ax + scale1 * bx;
    out[1] = scale0 * ay + scale1 * by;
    out[2] = scale0 * az + scale1 * bz;
    out[3] = scale0 * aw + scale1 * bw;
    return out;
  }
  function random2(out) {
    var u1 = RANDOM();
    var u2 = RANDOM();
    var u3 = RANDOM();
    var sqrt1MinusU1 = Math.sqrt(1 - u1);
    var sqrtU1 = Math.sqrt(u1);
    out[0] = sqrt1MinusU1 * Math.sin(2 * Math.PI * u2);
    out[1] = sqrt1MinusU1 * Math.cos(2 * Math.PI * u2);
    out[2] = sqrtU1 * Math.sin(2 * Math.PI * u3);
    out[3] = sqrtU1 * Math.cos(2 * Math.PI * u3);
    return out;
  }
  function invert2(out, a) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var dot5 = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;
    var invDot = dot5 ? 1 / dot5 : 0;
    out[0] = -a0 * invDot;
    out[1] = -a1 * invDot;
    out[2] = -a2 * invDot;
    out[3] = a3 * invDot;
    return out;
  }
  function conjugate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    return out;
  }
  function fromMat3(out, m) {
    var fTrace = m[0] + m[4] + m[8];
    var fRoot;
    if (fTrace > 0) {
      fRoot = Math.sqrt(fTrace + 1);
      out[3] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[0] = (m[5] - m[7]) * fRoot;
      out[1] = (m[6] - m[2]) * fRoot;
      out[2] = (m[1] - m[3]) * fRoot;
    } else {
      var i = 0;
      if (m[4] > m[0])
        i = 1;
      if (m[8] > m[i * 3 + i])
        i = 2;
      var j = (i + 1) % 3;
      var k = (i + 2) % 3;
      fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1);
      out[i] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;
      out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;
      out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;
    }
    return out;
  }
  function fromEuler(out, x, y, z) {
    var halfToRad = 0.5 * Math.PI / 180;
    x *= halfToRad;
    y *= halfToRad;
    z *= halfToRad;
    var sx = Math.sin(x);
    var cx = Math.cos(x);
    var sy = Math.sin(y);
    var cy = Math.cos(y);
    var sz = Math.sin(z);
    var cz = Math.cos(z);
    out[0] = sx * cy * cz - cx * sy * sz;
    out[1] = cx * sy * cz + sx * cy * sz;
    out[2] = cx * cy * sz - sx * sy * cz;
    out[3] = cx * cy * cz + sx * sy * sz;
    return out;
  }
  function str3(a) {
    return "quat(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ")";
  }
  var clone4 = clone3;
  var fromValues4 = fromValues3;
  var copy4 = copy3;
  var set4 = set3;
  var add4 = add3;
  var mul3 = multiply3;
  var scale4 = scale3;
  var dot3 = dot2;
  var lerp3 = lerp2;
  var length3 = length2;
  var len2 = length3;
  var squaredLength3 = squaredLength2;
  var sqrLen2 = squaredLength3;
  var normalize3 = normalize2;
  var exactEquals4 = exactEquals3;
  var equals4 = equals3;
  var rotationTo = function() {
    var tmpvec3 = create3();
    var xUnitVec3 = fromValues2(1, 0, 0);
    var yUnitVec3 = fromValues2(0, 1, 0);
    return function(out, a, b) {
      var dot5 = dot(a, b);
      if (dot5 < -0.999999) {
        cross(tmpvec3, xUnitVec3, a);
        if (len(tmpvec3) < 1e-6)
          cross(tmpvec3, yUnitVec3, a);
        normalize(tmpvec3, tmpvec3);
        setAxisAngle(out, tmpvec3, Math.PI);
        return out;
      } else if (dot5 > 0.999999) {
        out[0] = 0;
        out[1] = 0;
        out[2] = 0;
        out[3] = 1;
        return out;
      } else {
        cross(tmpvec3, a, b);
        out[0] = tmpvec3[0];
        out[1] = tmpvec3[1];
        out[2] = tmpvec3[2];
        out[3] = 1 + dot5;
        return normalize3(out, out);
      }
    };
  }();
  var sqlerp = function() {
    var temp1 = create5();
    var temp2 = create5();
    return function(out, a, b, c, d, t) {
      slerp(temp1, a, d, t);
      slerp(temp2, b, c, t);
      slerp(out, temp1, temp2, 2 * t * (1 - t));
      return out;
    };
  }();
  var setAxes = function() {
    var matr = create();
    return function(out, view, right, up) {
      matr[0] = right[0];
      matr[3] = right[1];
      matr[6] = right[2];
      matr[1] = up[0];
      matr[4] = up[1];
      matr[7] = up[2];
      matr[2] = -view[0];
      matr[5] = -view[1];
      matr[8] = -view[2];
      return normalize3(out, fromMat3(out, matr));
    };
  }();

  // node_modules/gl-matrix/esm/quat2.js
  var quat2_exports = {};
  __export(quat2_exports, {
    add: () => add5,
    clone: () => clone5,
    conjugate: () => conjugate2,
    copy: () => copy5,
    create: () => create6,
    dot: () => dot4,
    equals: () => equals5,
    exactEquals: () => exactEquals5,
    fromMat4: () => fromMat4,
    fromRotation: () => fromRotation2,
    fromRotationTranslation: () => fromRotationTranslation2,
    fromRotationTranslationValues: () => fromRotationTranslationValues,
    fromTranslation: () => fromTranslation2,
    fromValues: () => fromValues5,
    getDual: () => getDual,
    getReal: () => getReal,
    getTranslation: () => getTranslation2,
    identity: () => identity3,
    invert: () => invert3,
    len: () => len3,
    length: () => length4,
    lerp: () => lerp4,
    mul: () => mul4,
    multiply: () => multiply4,
    normalize: () => normalize4,
    rotateAroundAxis: () => rotateAroundAxis,
    rotateByQuatAppend: () => rotateByQuatAppend,
    rotateByQuatPrepend: () => rotateByQuatPrepend,
    rotateX: () => rotateX4,
    rotateY: () => rotateY4,
    rotateZ: () => rotateZ4,
    scale: () => scale5,
    set: () => set5,
    setDual: () => setDual,
    setReal: () => setReal,
    sqrLen: () => sqrLen3,
    squaredLength: () => squaredLength4,
    str: () => str4,
    translate: () => translate2
  });
  function create6() {
    var dq = new ARRAY_TYPE(8);
    if (ARRAY_TYPE != Float32Array) {
      dq[0] = 0;
      dq[1] = 0;
      dq[2] = 0;
      dq[4] = 0;
      dq[5] = 0;
      dq[6] = 0;
      dq[7] = 0;
    }
    dq[3] = 1;
    return dq;
  }
  function clone5(a) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = a[0];
    dq[1] = a[1];
    dq[2] = a[2];
    dq[3] = a[3];
    dq[4] = a[4];
    dq[5] = a[5];
    dq[6] = a[6];
    dq[7] = a[7];
    return dq;
  }
  function fromValues5(x1, y1, z1, w1, x2, y2, z2, w2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    dq[4] = x2;
    dq[5] = y2;
    dq[6] = z2;
    dq[7] = w2;
    return dq;
  }
  function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    var ax = x2 * 0.5, ay = y2 * 0.5, az = z2 * 0.5;
    dq[4] = ax * w1 + ay * z1 - az * y1;
    dq[5] = ay * w1 + az * x1 - ax * z1;
    dq[6] = az * w1 + ax * y1 - ay * x1;
    dq[7] = -ax * x1 - ay * y1 - az * z1;
    return dq;
  }
  function fromRotationTranslation2(out, q, t) {
    var ax = t[0] * 0.5, ay = t[1] * 0.5, az = t[2] * 0.5, bx = q[0], by = q[1], bz = q[2], bw = q[3];
    out[0] = bx;
    out[1] = by;
    out[2] = bz;
    out[3] = bw;
    out[4] = ax * bw + ay * bz - az * by;
    out[5] = ay * bw + az * bx - ax * bz;
    out[6] = az * bw + ax * by - ay * bx;
    out[7] = -ax * bx - ay * by - az * bz;
    return out;
  }
  function fromTranslation2(out, t) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = t[0] * 0.5;
    out[5] = t[1] * 0.5;
    out[6] = t[2] * 0.5;
    out[7] = 0;
    return out;
  }
  function fromRotation2(out, q) {
    out[0] = q[0];
    out[1] = q[1];
    out[2] = q[2];
    out[3] = q[3];
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function fromMat4(out, a) {
    var outer = create5();
    getRotation(outer, a);
    var t = new ARRAY_TYPE(3);
    getTranslation(t, a);
    fromRotationTranslation2(out, outer, t);
    return out;
  }
  function copy5(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    return out;
  }
  function identity3(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function set5(out, x1, y1, z1, w1, x2, y2, z2, w2) {
    out[0] = x1;
    out[1] = y1;
    out[2] = z1;
    out[3] = w1;
    out[4] = x2;
    out[5] = y2;
    out[6] = z2;
    out[7] = w2;
    return out;
  }
  var getReal = copy4;
  function getDual(out, a) {
    out[0] = a[4];
    out[1] = a[5];
    out[2] = a[6];
    out[3] = a[7];
    return out;
  }
  var setReal = copy4;
  function setDual(out, q) {
    out[4] = q[0];
    out[5] = q[1];
    out[6] = q[2];
    out[7] = q[3];
    return out;
  }
  function getTranslation2(out, a) {
    var ax = a[4], ay = a[5], az = a[6], aw = a[7], bx = -a[0], by = -a[1], bz = -a[2], bw = a[3];
    out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
    out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
    out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    return out;
  }
  function translate2(out, a, v) {
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3], bx1 = v[0] * 0.5, by1 = v[1] * 0.5, bz1 = v[2] * 0.5, ax2 = a[4], ay2 = a[5], az2 = a[6], aw2 = a[7];
    out[0] = ax1;
    out[1] = ay1;
    out[2] = az1;
    out[3] = aw1;
    out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;
    out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;
    out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;
    out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;
    return out;
  }
  function rotateX4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateX3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateY4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateY3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateZ4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateZ3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateByQuatAppend(out, a, q) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3], ax = a[0], ay = a[1], az = a[2], aw = a[3];
    out[0] = ax * qw + aw * qx + ay * qz - az * qy;
    out[1] = ay * qw + aw * qy + az * qx - ax * qz;
    out[2] = az * qw + aw * qz + ax * qy - ay * qx;
    out[3] = aw * qw - ax * qx - ay * qy - az * qz;
    ax = a[4];
    ay = a[5];
    az = a[6];
    aw = a[7];
    out[4] = ax * qw + aw * qx + ay * qz - az * qy;
    out[5] = ay * qw + aw * qy + az * qx - ax * qz;
    out[6] = az * qw + aw * qz + ax * qy - ay * qx;
    out[7] = aw * qw - ax * qx - ay * qy - az * qz;
    return out;
  }
  function rotateByQuatPrepend(out, q, a) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3], bx = a[0], by = a[1], bz = a[2], bw = a[3];
    out[0] = qx * bw + qw * bx + qy * bz - qz * by;
    out[1] = qy * bw + qw * by + qz * bx - qx * bz;
    out[2] = qz * bw + qw * bz + qx * by - qy * bx;
    out[3] = qw * bw - qx * bx - qy * by - qz * bz;
    bx = a[4];
    by = a[5];
    bz = a[6];
    bw = a[7];
    out[4] = qx * bw + qw * bx + qy * bz - qz * by;
    out[5] = qy * bw + qw * by + qz * bx - qx * bz;
    out[6] = qz * bw + qw * bz + qx * by - qy * bx;
    out[7] = qw * bw - qx * bx - qy * by - qz * bz;
    return out;
  }
  function rotateAroundAxis(out, a, axis, rad) {
    if (Math.abs(rad) < EPSILON) {
      return copy5(out, a);
    }
    var axisLength = Math.hypot(axis[0], axis[1], axis[2]);
    rad = rad * 0.5;
    var s = Math.sin(rad);
    var bx = s * axis[0] / axisLength;
    var by = s * axis[1] / axisLength;
    var bz = s * axis[2] / axisLength;
    var bw = Math.cos(rad);
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3];
    out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    var ax = a[4], ay = a[5], az = a[6], aw = a[7];
    out[4] = ax * bw + aw * bx + ay * bz - az * by;
    out[5] = ay * bw + aw * by + az * bx - ax * bz;
    out[6] = az * bw + aw * bz + ax * by - ay * bx;
    out[7] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function add5(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    return out;
  }
  function multiply4(out, a, b) {
    var ax0 = a[0], ay0 = a[1], az0 = a[2], aw0 = a[3], bx1 = b[4], by1 = b[5], bz1 = b[6], bw1 = b[7], ax1 = a[4], ay1 = a[5], az1 = a[6], aw1 = a[7], bx0 = b[0], by0 = b[1], bz0 = b[2], bw0 = b[3];
    out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;
    out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;
    out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;
    out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;
    out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;
    out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;
    out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;
    out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;
    return out;
  }
  var mul4 = multiply4;
  function scale5(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    return out;
  }
  var dot4 = dot3;
  function lerp4(out, a, b, t) {
    var mt = 1 - t;
    if (dot4(a, b) < 0)
      t = -t;
    out[0] = a[0] * mt + b[0] * t;
    out[1] = a[1] * mt + b[1] * t;
    out[2] = a[2] * mt + b[2] * t;
    out[3] = a[3] * mt + b[3] * t;
    out[4] = a[4] * mt + b[4] * t;
    out[5] = a[5] * mt + b[5] * t;
    out[6] = a[6] * mt + b[6] * t;
    out[7] = a[7] * mt + b[7] * t;
    return out;
  }
  function invert3(out, a) {
    var sqlen = squaredLength4(a);
    out[0] = -a[0] / sqlen;
    out[1] = -a[1] / sqlen;
    out[2] = -a[2] / sqlen;
    out[3] = a[3] / sqlen;
    out[4] = -a[4] / sqlen;
    out[5] = -a[5] / sqlen;
    out[6] = -a[6] / sqlen;
    out[7] = a[7] / sqlen;
    return out;
  }
  function conjugate2(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    out[4] = -a[4];
    out[5] = -a[5];
    out[6] = -a[6];
    out[7] = a[7];
    return out;
  }
  var length4 = length3;
  var len3 = length4;
  var squaredLength4 = squaredLength3;
  var sqrLen3 = squaredLength4;
  function normalize4(out, a) {
    var magnitude = squaredLength4(a);
    if (magnitude > 0) {
      magnitude = Math.sqrt(magnitude);
      var a0 = a[0] / magnitude;
      var a1 = a[1] / magnitude;
      var a2 = a[2] / magnitude;
      var a3 = a[3] / magnitude;
      var b0 = a[4];
      var b1 = a[5];
      var b2 = a[6];
      var b3 = a[7];
      var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;
      out[0] = a0;
      out[1] = a1;
      out[2] = a2;
      out[3] = a3;
      out[4] = (b0 - a0 * a_dot_b) / magnitude;
      out[5] = (b1 - a1 * a_dot_b) / magnitude;
      out[6] = (b2 - a2 * a_dot_b) / magnitude;
      out[7] = (b3 - a3 * a_dot_b) / magnitude;
    }
    return out;
  }
  function str4(a) {
    return "quat2(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ")";
  }
  function exactEquals5(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];
  }
  function equals5(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7));
  }

  // node_modules/@wonderlandengine/components/dist/hit-test-location.js
  var __decorate3 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var HitTestLocation = class extends Component {
    tempScaling = new Float32Array(3);
    visible = false;
    xrHitTestSource = null;
    /** Reference space for creating the hit test when the session starts */
    xrReferenceSpace = null;
    /**
     * For maintaining backwards compatibility: Whether to scale the object to 0 and back.
     * @deprecated Use onHitLost and onHitFound instead.
     */
    scaleObject = true;
    /** Emits an event when the hit test switches from visible to invisible */
    onHitLost = new Emitter();
    /** Emits an event when the hit test switches from invisible to visible */
    onHitFound = new Emitter();
    onSessionStartCallback = null;
    onSessionEndCallback = null;
    start() {
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
      if (this.scaleObject) {
        this.tempScaling.set(this.object.scalingLocal);
        this.object.scale([0, 0, 0]);
        this.onHitLost.add(() => {
          this.tempScaling.set(this.object.scalingLocal);
          this.object.scale([0, 0, 0]);
        });
        this.onHitFound.add(() => {
          this.object.scalingLocal.set(this.tempScaling);
          this.object.setDirty();
        });
      }
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    update() {
      const wasVisible = this.visible;
      if (this.xrHitTestSource) {
        const frame = this.engine.xrFrame;
        if (!frame)
          return;
        let hitTestResults = frame.getHitTestResults(this.xrHitTestSource);
        if (hitTestResults.length > 0) {
          let pose = hitTestResults[0].getPose(this.engine.xr.currentReferenceSpace);
          this.visible = !!pose;
          if (pose) {
            setXRRigidTransformLocal(this.object, pose.transform);
          }
        } else {
          this.visible = false;
        }
      }
      if (this.visible != wasVisible) {
        (this.visible ? this.onHitFound : this.onHitLost).notify(this);
      }
    }
    getHitTestResults(frame = this.engine.xr?.frame ?? null) {
      if (!frame)
        return [];
      if (!this.xrHitTestSource)
        return [];
      return frame.getHitTestResults(this.xrHitTestSource);
    }
    onXRSessionStart(session) {
      if (session.requestHitTestSource === void 0) {
        console.error("hit-test-location: hit test feature not available. Deactivating component.");
        this.active = false;
        return;
      }
      session.requestHitTestSource({
        space: this.xrReferenceSpace ?? this.engine.xr.referenceSpaceForType("viewer")
      }).then((hitTestSource) => {
        this.xrHitTestSource = hitTestSource;
      }).catch(console.error);
    }
    onXRSessionEnd() {
      if (!this.xrHitTestSource)
        return;
      this.xrHitTestSource.cancel();
      this.xrHitTestSource = null;
    }
  };
  __publicField(HitTestLocation, "TypeName", "hit-test-location");
  __decorate3([
    property.bool(true)
  ], HitTestLocation.prototype, "scaleObject", void 0);

  // node_modules/@wonderlandengine/components/dist/cursor.js
  var __decorate4 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec2 = new Float32Array(3);
  var ZERO = [0, 0, 0];
  var CursorTargetEmitters = class {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
  };
  var Cursor = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HitTestLocation);
    }
    _collisionMask = 0;
    _onDeactivateCallbacks = [];
    _input = null;
    _origin = new Float32Array(3);
    _cursorObjScale = new Float32Array(3);
    _direction = new Float32Array(3);
    _projectionMatrix = new Float32Array(16);
    _viewComponent = null;
    _isDown = false;
    _lastIsDown = false;
    _arTouchDown = false;
    _lastPointerPos = new Float32Array(2);
    _lastCursorPosOnTarget = new Float32Array(3);
    _hitTestLocation = null;
    _hitTestObject = null;
    _onSessionStartCallback = null;
    /**
     * Whether the cursor (and cursorObject) is visible, i.e. pointing at an object
     * that matches the collision group
     */
    visible = true;
    /** Currently hovered object */
    hoveringObject = null;
    /** CursorTarget component of the currently hovered object */
    hoveringObjectTarget = null;
    /** Whether the cursor is hovering reality via hit-test */
    hoveringReality = false;
    /**
     * Global target lets you receive global cursor events on any object.
     */
    globalTarget = new CursorTargetEmitters();
    /**
     * Hit test target lets you receive cursor events for "reality", if
     * `useWebXRHitTest` is set to `true`.
     *
     * @example
     * ```js
     * cursor.hitTestTarget.onClick.add((hit, cursor) => {
     *     // User clicked on reality
     * });
     * ```
     */
    hitTestTarget = new CursorTargetEmitters();
    /** World position of the cursor */
    cursorPos = new Float32Array(3);
    /** Collision group for the ray cast. Only objects in this group will be affected by this cursor. */
    collisionGroup = 1;
    /** (optional) Object that visualizes the cursor's ray. */
    cursorRayObject = null;
    /** Axis along which to scale the `cursorRayObject`. */
    cursorRayScalingAxis = 2;
    /** (optional) Object that visualizes the cursor's hit location. */
    cursorObject = null;
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness = 0;
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode = 0;
    /** Maximum distance for the cursor's ray cast. */
    maxDistance = 100;
    /** Whether to set the CSS style of the mouse cursor on desktop */
    styleCursor = true;
    /**
     * Use WebXR hit-test if available.
     *
     * Attaches a hit-test-location component to the cursorObject, which will be used
     * by the cursor to send events to the hitTestTarget with HitTestResult.
     */
    useWebXRHitTest = false;
    _onViewportResize = () => {
      if (!this._viewComponent)
        return;
      mat4_exports.invert(this._projectionMatrix, this._viewComponent.projectionMatrix);
    };
    start() {
      this._collisionMask = 1 << this.collisionGroup;
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("cursor component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness || "none";
          this._input = inputComp;
        }
      } else {
        this.handedness = ["left", "right", "none"][this.handedness - 1];
      }
      this._viewComponent = this.object.getComponent(ViewComponent);
      if (this.useWebXRHitTest) {
        this._hitTestObject = this.engine.scene.addObject(this.object);
        this._hitTestLocation = this._hitTestObject.addComponent(HitTestLocation, {
          scaleObject: false
        }) ?? null;
      }
      this._onSessionStartCallback = this.setupVREvents.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this._onSessionStartCallback);
      this.engine.onResize.add(this._onViewportResize);
      this._setCursorVisibility(true);
      if (this._viewComponent != null) {
        const canvas2 = this.engine.canvas;
        const onClick = this.onClick.bind(this);
        const onPointerMove = this.onPointerMove.bind(this);
        const onPointerDown = this.onPointerDown.bind(this);
        const onPointerUp = this.onPointerUp.bind(this);
        canvas2.addEventListener("click", onClick);
        canvas2.addEventListener("pointermove", onPointerMove);
        canvas2.addEventListener("pointerdown", onPointerDown);
        canvas2.addEventListener("pointerup", onPointerUp);
        this._onDeactivateCallbacks.push(() => {
          canvas2.removeEventListener("click", onClick);
          canvas2.removeEventListener("pointermove", onPointerMove);
          canvas2.removeEventListener("pointerdown", onPointerDown);
          canvas2.removeEventListener("pointerup", onPointerUp);
        });
      }
      this._onViewportResize();
    }
    _setCursorRayTransform(hitPosition) {
      if (!this.cursorRayObject)
        return;
      const dist2 = vec3_exports.dist(this._origin, hitPosition);
      this.cursorRayObject.setPositionLocal([0, 0, -dist2 / 2]);
      if (this.cursorRayScalingAxis != 4) {
        tempVec2.fill(1);
        tempVec2[this.cursorRayScalingAxis] = dist2 / 2;
        this.cursorRayObject.setScalingLocal(tempVec2);
      }
    }
    _setCursorVisibility(visible) {
      if (this.visible == visible)
        return;
      this.visible = visible;
      if (!this.cursorObject)
        return;
      if (visible) {
        this.cursorObject.setScalingWorld(this._cursorObjScale);
      } else {
        this.cursorObject.getScalingWorld(this._cursorObjScale);
        this.cursorObject.scaleLocal([0, 0, 0]);
      }
    }
    update() {
      if (this.engine.xr && this._arTouchDown && this._input && this.engine.xr.session.inputSources[0].handedness === "none" && this.engine.xr.session.inputSources[0].gamepad) {
        const p = this.engine.xr.session.inputSources[0].gamepad.axes;
        this._direction[0] = p[0];
        this._direction[1] = -p[1];
        this._direction[2] = -1;
        this.applyTransformAndProjectDirection();
      } else if (this.engine.xr && this._input && this._input.xrInputSource) {
        this._direction[0] = 0;
        this._direction[1] = 0;
        this._direction[2] = -1;
        this.applyTransformToDirection();
      } else if (this._viewComponent) {
        this.updateDirection();
      }
      this.rayCast(null, this.engine.xr?.frame);
      if (this.cursorObject) {
        if (this.hoveringObject && (this.cursorPos[0] != 0 || this.cursorPos[1] != 0 || this.cursorPos[2] != 0)) {
          this._setCursorVisibility(true);
          this.cursorObject.setPositionWorld(this.cursorPos);
          this._setCursorRayTransform(this.cursorPos);
        } else {
          this._setCursorVisibility(false);
        }
      }
    }
    /* Returns the hovered cursor target, if available */
    notify(event, originalEvent) {
      const target = this.hoveringObject;
      if (target) {
        const cursorTarget = this.hoveringObjectTarget;
        if (cursorTarget)
          cursorTarget[event].notify(target, this, originalEvent ?? void 0);
        this.globalTarget[event].notify(target, this, originalEvent ?? void 0);
      }
    }
    hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent) {
      const hit = !this.hoveringReality && rayHit.hitCount > 0 ? rayHit.objects[0] : null;
      if (hit) {
        if (!this.hoveringObject || !this.hoveringObject.equals(hit)) {
          if (this.hoveringObject) {
            this.notify("onUnhover", originalEvent);
          }
          this.hoveringObject = hit;
          this.hoveringObjectTarget = this.hoveringObject.getComponent(CursorTarget);
          if (this.styleCursor)
            this.engine.canvas.style.cursor = "pointer";
          this.notify("onHover", originalEvent);
        }
      } else if (this.hoveringObject) {
        this.notify("onUnhover", originalEvent);
        this.hoveringObject = null;
        this.hoveringObjectTarget = null;
        if (this.styleCursor)
          this.engine.canvas.style.cursor = "default";
      }
      if (this.hoveringObject) {
        if (this._isDown !== this._lastIsDown) {
          this.notify(this._isDown ? "onDown" : "onUp", originalEvent);
        }
        if (doClick)
          this.notify("onClick", originalEvent);
      } else if (this.hoveringReality) {
        if (this._isDown !== this._lastIsDown) {
          (this._isDown ? this.hitTestTarget.onDown : this.hitTestTarget.onUp).notify(hitTestResult, this, originalEvent ?? void 0);
        }
        if (doClick)
          this.hitTestTarget.onClick.notify(hitTestResult, this, originalEvent ?? void 0);
      }
      if (hit) {
        if (this.hoveringObject) {
          this.hoveringObject.transformPointInverseWorld(tempVec2, this.cursorPos);
        } else {
          tempVec2.set(this.cursorPos);
        }
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, tempVec2)) {
          this.notify("onMove", originalEvent);
          this._lastCursorPosOnTarget.set(tempVec2);
        }
      } else if (this.hoveringReality) {
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, this.cursorPos)) {
          this.hitTestTarget.onMove.notify(hitTestResult, this, originalEvent ?? void 0);
          this._lastCursorPosOnTarget.set(this.cursorPos);
        }
      } else {
        this._lastCursorPosOnTarget.set(this.cursorPos);
      }
      this._lastIsDown = this._isDown;
    }
    /**
     * Setup event listeners on session object
     * @param s WebXR session
     *
     * Sets up 'select' and 'end' events.
     */
    setupVREvents(s) {
      if (!s)
        console.error("setupVREvents called without a valid session");
      if (!this.active)
        return;
      const onSelect = this.onSelect.bind(this);
      s.addEventListener("select", onSelect);
      const onSelectStart = this.onSelectStart.bind(this);
      s.addEventListener("selectstart", onSelectStart);
      const onSelectEnd = this.onSelectEnd.bind(this);
      s.addEventListener("selectend", onSelectEnd);
      this._onDeactivateCallbacks.push(() => {
        if (!this.engine.xr)
          return;
        s.removeEventListener("select", onSelect);
        s.removeEventListener("selectstart", onSelectStart);
        s.removeEventListener("selectend", onSelectEnd);
      });
      this._onViewportResize();
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this._onSessionStartCallback);
      this.engine.onResize.remove(this._onViewportResize);
      this._setCursorVisibility(false);
      if (this.hoveringObject)
        this.notify("onUnhover", null);
      if (this.cursorRayObject)
        this.cursorRayObject.setScalingLocal(ZERO);
      for (const f of this._onDeactivateCallbacks)
        f();
      this._onDeactivateCallbacks.length = 0;
    }
    onDestroy() {
      this._hitTestObject?.destroy();
    }
    /** 'select' event listener */
    onSelect(e) {
      if (e.inputSource.handedness != this.handedness)
        return;
      this.rayCast(e, e.frame, true);
    }
    /** 'selectstart' event listener */
    onSelectStart(e) {
      this._arTouchDown = true;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = true;
        this.rayCast(e, e.frame);
      }
    }
    /** 'selectend' event listener */
    onSelectEnd(e) {
      this._arTouchDown = false;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = false;
        this.rayCast(e, e.frame);
      }
    }
    /** 'pointermove' event listener */
    onPointerMove(e) {
      if (!e.isPrimary)
        return;
      this.updateMousePos(e);
      this.rayCast(e, null);
    }
    /** 'click' event listener */
    onClick(e) {
      this.updateMousePos(e);
      this.rayCast(e, null, true);
    }
    /** 'pointerdown' event listener */
    onPointerDown(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = true;
      this.rayCast(e);
    }
    /** 'pointerup' event listener */
    onPointerUp(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = false;
      this.rayCast(e);
    }
    /**
     * Update mouse position in non-VR mode and raycast for new position
     * @returns @ref WL.RayHit for new position.
     */
    updateMousePos(e) {
      this._lastPointerPos[0] = e.clientX;
      this._lastPointerPos[1] = e.clientY;
      this.updateDirection();
    }
    updateDirection() {
      const bounds = this.engine.canvas.getBoundingClientRect();
      const left = this._lastPointerPos[0] / bounds.width;
      const top = this._lastPointerPos[1] / bounds.height;
      this._direction[0] = left * 2 - 1;
      this._direction[1] = -top * 2 + 1;
      this._direction[2] = -1;
      this.applyTransformAndProjectDirection();
    }
    applyTransformAndProjectDirection() {
      vec3_exports.transformMat4(this._direction, this._direction, this._projectionMatrix);
      vec3_exports.normalize(this._direction, this._direction);
      this.applyTransformToDirection();
    }
    applyTransformToDirection() {
      this.object.transformVectorWorld(this._direction, this._direction);
      this.object.getPositionWorld(this._origin);
    }
    rayCast(originalEvent, frame = null, doClick = false) {
      const rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(this._origin, this._direction, this._collisionMask) : this.engine.physics.rayCast(this._origin, this._direction, this._collisionMask, this.maxDistance);
      let hitResultDistance = Infinity;
      let hitTestResult = null;
      if (this._hitTestLocation?.visible) {
        this._hitTestObject.getPositionWorld(this.cursorPos);
        hitResultDistance = vec3_exports.distance(this.object.getPositionWorld(tempVec2), this.cursorPos);
        hitTestResult = this._hitTestLocation?.getHitTestResults(frame)[0];
      }
      let hoveringReality = false;
      if (rayHit.hitCount > 0) {
        const d = rayHit.distances[0];
        if (hitResultDistance >= d) {
          this.cursorPos.set(rayHit.locations[0]);
        } else {
          hoveringReality = true;
        }
      } else if (hitResultDistance < Infinity) {
      } else {
        this.cursorPos.fill(0);
      }
      if (hoveringReality && !this.hoveringReality) {
        this.hitTestTarget.onHover.notify(hitTestResult, this);
      } else if (!hoveringReality && this.hoveringReality) {
        this.hitTestTarget.onUnhover.notify(hitTestResult, this);
      }
      this.hoveringReality = hoveringReality;
      this.hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent);
      return rayHit;
    }
  };
  __publicField(Cursor, "TypeName", "cursor");
  /* Dependencies is deprecated, but we keep it here for compatibility
   * with 1.0.0-rc2 until 1.0.0 is released */
  __publicField(Cursor, "Dependencies", [HitTestLocation]);
  __decorate4([
    property.int(1)
  ], Cursor.prototype, "collisionGroup", void 0);
  __decorate4([
    property.object()
  ], Cursor.prototype, "cursorRayObject", void 0);
  __decorate4([
    property.enum(["x", "y", "z", "none"], "z")
  ], Cursor.prototype, "cursorRayScalingAxis", void 0);
  __decorate4([
    property.object()
  ], Cursor.prototype, "cursorObject", void 0);
  __decorate4([
    property.enum(["input component", "left", "right", "none"], "input component")
  ], Cursor.prototype, "handedness", void 0);
  __decorate4([
    property.enum(["collision", "physx"], "collision")
  ], Cursor.prototype, "rayCastMode", void 0);
  __decorate4([
    property.float(100)
  ], Cursor.prototype, "maxDistance", void 0);
  __decorate4([
    property.bool(true)
  ], Cursor.prototype, "styleCursor", void 0);
  __decorate4([
    property.bool(false)
  ], Cursor.prototype, "useWebXRHitTest", void 0);

  // node_modules/@wonderlandengine/components/dist/debug-object.js
  var __decorate5 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var DebugObject = class extends Component {
    /** A second object to print the name of */
    obj = null;
    start() {
      let origin = new Float32Array(3);
      quat2_exports.getTranslation(origin, this.object.transformWorld);
      console.log("Debug object:", this.object.name);
      console.log("Other object:", this.obj?.name);
      console.log("	translation", origin);
      console.log("	transformWorld", this.object.transformWorld);
      console.log("	transformLocal", this.object.transformLocal);
    }
  };
  __publicField(DebugObject, "TypeName", "debug-object");
  __decorate5([
    property.object()
  ], DebugObject.prototype, "obj", void 0);

  // node_modules/@wonderlandengine/components/dist/device-orientation-look.js
  function quatFromEulerYXZ(out, x, y, z) {
    const c1 = Math.cos(x / 2);
    const c2 = Math.cos(y / 2);
    const c3 = Math.cos(z / 2);
    const s1 = Math.sin(x / 2);
    const s2 = Math.sin(y / 2);
    const s3 = Math.sin(z / 2);
    out[0] = s1 * c2 * c3 + c1 * s2 * s3;
    out[1] = c1 * s2 * c3 - s1 * c2 * s3;
    out[2] = c1 * c2 * s3 - s1 * s2 * c3;
    out[3] = c1 * c2 * c3 + s1 * s2 * s3;
  }
  var DeviceOrientationLook = class extends Component {
    start() {
      this.rotationX = 0;
      this.rotationY = 0;
      this.lastClientX = -1;
      this.lastClientY = -1;
    }
    init() {
      this.deviceOrientation = [0, 0, 0, 1];
      this.screenOrientation = window.innerHeight > window.innerWidth ? 0 : 90;
      this._origin = [0, 0, 0];
      window.addEventListener("deviceorientation", function(e) {
        let alpha = e.alpha || 0;
        let beta = e.beta || 0;
        let gamma = e.gamma || 0;
        const toRad = Math.PI / 180;
        quatFromEulerYXZ(this.deviceOrientation, beta * toRad, alpha * toRad, -gamma * toRad);
      }.bind(this));
      window.addEventListener("orientationchange", function(e) {
        this.screenOrientation = window.orientation || 0;
      }.bind(this), false);
    }
    update() {
      if (this.engine.xr)
        return;
      this.object.getTranslationLocal(this._origin);
      this.object.resetTransform();
      if (this.screenOrientation != 0) {
        this.object.rotateAxisAngleDeg([0, 0, -1], this.screenOrientation);
      }
      this.object.rotate([-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)]);
      this.object.rotate(this.deviceOrientation);
      this.object.translate(this._origin);
    }
  };
  __publicField(DeviceOrientationLook, "TypeName", "device-orientation-look");
  __publicField(DeviceOrientationLook, "Properties", {});

  // node_modules/@wonderlandengine/components/dist/finger-cursor.js
  var FingerCursor = class extends Component {
    init() {
      this.lastTarget = null;
    }
    start() {
      this.tip = this.object.getComponent("collision");
    }
    update() {
      const overlaps = this.tip.queryOverlaps();
      let overlapFound = null;
      for (let i = 0; i < overlaps.length; ++i) {
        const o = overlaps[i].object;
        const target = o.getComponent("cursor-target");
        if (target) {
          if (!target.equals(this.lastTarget)) {
            target.onHover(o, this);
            target.onClick(o, this);
          }
          overlapFound = target;
          break;
        }
      }
      if (!overlapFound) {
        if (this.lastTarget)
          this.lastTarget.onUnhover(this.lastTarget.object, this);
        this.lastTarget = null;
        return;
      } else {
        this.lastTarget = overlapFound;
      }
    }
  };
  __publicField(FingerCursor, "TypeName", "finger-cursor");
  __publicField(FingerCursor, "Properties", {});

  // node_modules/@wonderlandengine/components/dist/fixed-foveation.js
  var FixedFoveation = class extends Component {
    start() {
      this.onSessionStartCallback = this.setFixedFoveation.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setFixedFoveation() {
      this.engine.xr.baseLayer.fixedFoveation = this.fixedFoveation;
    }
  };
  __publicField(FixedFoveation, "TypeName", "fixed-foveation");
  __publicField(FixedFoveation, "Properties", {
    /** Amount to apply from 0 (none) to 1 (full) */
    fixedFoveation: { type: Type.Float, default: 0.5 }
  });

  // node_modules/@wonderlandengine/components/dist/hand-tracking.js
  var __decorate6 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var ORDERED_JOINTS = [
    "wrist",
    "thumb-metacarpal",
    "thumb-phalanx-proximal",
    "thumb-phalanx-distal",
    "thumb-tip",
    "index-finger-metacarpal",
    "index-finger-phalanx-proximal",
    "index-finger-phalanx-intermediate",
    "index-finger-phalanx-distal",
    "index-finger-tip",
    "middle-finger-metacarpal",
    "middle-finger-phalanx-proximal",
    "middle-finger-phalanx-intermediate",
    "middle-finger-phalanx-distal",
    "middle-finger-tip",
    "ring-finger-metacarpal",
    "ring-finger-phalanx-proximal",
    "ring-finger-phalanx-intermediate",
    "ring-finger-phalanx-distal",
    "ring-finger-tip",
    "pinky-finger-metacarpal",
    "pinky-finger-phalanx-proximal",
    "pinky-finger-phalanx-intermediate",
    "pinky-finger-phalanx-distal",
    "pinky-finger-tip"
  ];
  var invTranslation = vec3_exports.create();
  var invRotation = quat_exports.create();
  var tempVec0 = vec3_exports.create();
  var tempVec1 = vec3_exports.create();
  var HandTracking = class extends Component {
    /** Handedness determining whether to receive tracking input from right or left hand */
    handedness = 0;
    /** (optional) Mesh to use to visualize joints */
    jointMesh = null;
    /** Material to use for display. Applied to either the spawned skinned mesh or the joint spheres. */
    jointMaterial = null;
    /** (optional) Skin to apply tracked joint poses to. If not present,
     * joint spheres will be used for display instead. */
    handSkin = null;
    /** Deactivate children if no pose was tracked */
    deactivateChildrenWithoutPose = true;
    /** Controller objects to activate including children if no pose is available */
    controllerToDeactivate = null;
    init() {
      this.handedness = ["left", "right"][this.handedness];
    }
    joints = {};
    session = null;
    /* Whether last update had a hand pose */
    hasPose = false;
    _childrenActive = true;
    start() {
      if (!("XRHand" in window)) {
        console.warn("WebXR Hand Tracking not supported by this browser.");
        this.active = false;
        return;
      }
      if (this.handSkin) {
        const skin = this.handSkin;
        const jointIds = skin.jointIds;
        this.joints[ORDERED_JOINTS[0]] = this.engine.wrapObject(jointIds[0]);
        for (let j = 0; j < jointIds.length; ++j) {
          const joint = this.engine.wrapObject(jointIds[j]);
          this.joints[joint.name] = joint;
        }
        return;
      }
      const jointObjects = this.engine.scene.addObjects(ORDERED_JOINTS.length, this.object, ORDERED_JOINTS.length);
      for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
        const joint = jointObjects[j];
        joint.addComponent(MeshComponent, {
          mesh: this.jointMesh,
          material: this.jointMaterial
        });
        this.joints[ORDERED_JOINTS[j]] = joint;
        joint.name = ORDERED_JOINTS[j];
      }
    }
    update(dt) {
      if (!this.engine.xr)
        return;
      this.hasPose = false;
      if (this.engine.xr.session.inputSources) {
        for (let i = 0; i < this.engine.xr.session.inputSources.length; ++i) {
          const inputSource = this.engine.xr.session.inputSources[i];
          if (!inputSource?.hand || inputSource?.handedness != this.handedness)
            continue;
          const wristSpace = inputSource.hand.get("wrist");
          if (wristSpace) {
            const p = this.engine.xr.frame.getJointPose(wristSpace, this.engine.xr.currentReferenceSpace);
            if (p) {
              setXRRigidTransformLocal(this.object, p.transform);
            }
          }
          this.object.getRotationLocal(invRotation);
          quat_exports.conjugate(invRotation, invRotation);
          this.object.getPositionLocal(invTranslation);
          this.joints["wrist"].resetTransform();
          for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
            const jointName = ORDERED_JOINTS[j];
            const joint = this.joints[jointName];
            if (!joint)
              continue;
            let jointPose = null;
            const jointSpace = inputSource.hand.get(jointName);
            if (jointSpace) {
              jointPose = this.engine.xr.frame.getJointPose(jointSpace, this.engine.xr.currentReferenceSpace);
            }
            if (jointPose) {
              this.hasPose = true;
              joint.resetPositionRotation();
              joint.translateLocal([
                jointPose.transform.position.x - invTranslation[0],
                jointPose.transform.position.y - invTranslation[1],
                jointPose.transform.position.z - invTranslation[2]
              ]);
              joint.rotateLocal(invRotation);
              joint.rotateObject([
                jointPose.transform.orientation.x,
                jointPose.transform.orientation.y,
                jointPose.transform.orientation.z,
                jointPose.transform.orientation.w
              ]);
              if (!this.handSkin) {
                const r = jointPose.radius || 7e-3;
                joint.setScalingLocal([r, r, r]);
              }
            }
          }
        }
      }
      if (!this.hasPose && this._childrenActive) {
        this._childrenActive = false;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(false);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = true;
          this.setChildrenActive(true, this.controllerToDeactivate);
        }
      } else if (this.hasPose && !this._childrenActive) {
        this._childrenActive = true;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(true);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = false;
          this.setChildrenActive(false, this.controllerToDeactivate);
        }
      }
    }
    setChildrenActive(active, object) {
      object = object || this.object;
      const children = object.children;
      for (const o of children) {
        o.active = active;
        this.setChildrenActive(active, o);
      }
    }
    isGrabbing() {
      this.joints["index-finger-tip"].getPositionLocal(tempVec0);
      this.joints["thumb-tip"].getPositionLocal(tempVec1);
      return vec3_exports.sqrDist(tempVec0, tempVec1) < 1e-3;
    }
  };
  __publicField(HandTracking, "TypeName", "hand-tracking");
  __decorate6([
    property.enum(["left", "right"])
  ], HandTracking.prototype, "handedness", void 0);
  __decorate6([
    property.mesh()
  ], HandTracking.prototype, "jointMesh", void 0);
  __decorate6([
    property.material()
  ], HandTracking.prototype, "jointMaterial", void 0);
  __decorate6([
    property.skin()
  ], HandTracking.prototype, "handSkin", void 0);
  __decorate6([
    property.bool(true)
  ], HandTracking.prototype, "deactivateChildrenWithoutPose", void 0);
  __decorate6([
    property.object()
  ], HandTracking.prototype, "controllerToDeactivate", void 0);

  // node_modules/@wonderlandengine/components/dist/howler-audio-listener.js
  var import_howler = __toESM(require_howler(), 1);
  var HowlerAudioListener = class extends Component {
    init() {
      this.origin = new Float32Array(3);
      this.fwd = new Float32Array(3);
      this.up = new Float32Array(3);
    }
    update() {
      if (!this.spatial)
        return;
      this.object.getTranslationWorld(this.origin);
      this.object.getForward(this.fwd);
      this.object.getUp(this.up);
      Howler.pos(this.origin[0], this.origin[1], this.origin[2]);
      Howler.orientation(this.fwd[0], this.fwd[1], this.fwd[2], this.up[0], this.up[1], this.up[2]);
    }
  };
  __publicField(HowlerAudioListener, "TypeName", "howler-audio-listener");
  __publicField(HowlerAudioListener, "Properties", {
    /** Whether audio should be spatialized/positional. */
    spatial: { type: Type.Bool, default: true }
  });

  // node_modules/@wonderlandengine/components/dist/howler-audio-source.js
  var import_howler2 = __toESM(require_howler(), 1);
  var HowlerAudioSource = class extends Component {
    start() {
      this.audio = new Howl({
        src: [this.src],
        loop: this.loop,
        volume: this.volume,
        autoplay: this.autoplay
      });
      this.lastPlayedAudioId = null;
      this.origin = new Float32Array(3);
      this.lastOrigin = new Float32Array(3);
      if (this.spatial && this.autoplay) {
        this.updatePosition();
        this.play();
      }
    }
    update() {
      if (!this.spatial || !this.lastPlayedAudioId)
        return;
      this.object.getTranslationWorld(this.origin);
      if (Math.abs(this.lastOrigin[0] - this.origin[0]) > 5e-3 || Math.abs(this.lastOrigin[1] - this.origin[1]) > 5e-3 || Math.abs(this.lastOrigin[2] - this.origin[2]) > 5e-3) {
        this.updatePosition();
      }
    }
    updatePosition() {
      this.audio.pos(this.origin[0], this.origin[1], this.origin[2], this.lastPlayedAudioId);
      this.lastOrigin.set(this.origin);
    }
    play() {
      if (this.lastPlayedAudioId)
        this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = this.audio.play();
      if (this.spatial)
        this.updatePosition();
    }
    stop() {
      if (!this.lastPlayedAudioId)
        return;
      this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = null;
    }
    onDeactivate() {
      this.stop();
    }
  };
  __publicField(HowlerAudioSource, "TypeName", "howler-audio-source");
  __publicField(HowlerAudioSource, "Properties", {
    /** Volume */
    volume: { type: Type.Float, default: 1 },
    /** Whether audio should be spatialized/positional */
    spatial: { type: Type.Bool, default: true },
    /** Whether to loop the sound */
    loop: { type: Type.Bool, default: false },
    /** Whether to start playing automatically */
    autoplay: { type: Type.Bool, default: false },
    /** URL to a sound file to play */
    src: { type: Type.String, default: "" }
  });

  // node_modules/@wonderlandengine/components/dist/utils/utils.js
  function setFirstMaterialTexture(mat, texture, customTextureProperty) {
    if (customTextureProperty !== "auto") {
      mat[customTextureProperty] = texture;
      return true;
    }
    const shader = mat.shader;
    if (shader === "Flat Opaque Textured") {
      mat.flatTexture = texture;
      return true;
    } else if (shader === "Phong Opaque Textured" || shader === "Foliage" || shader === "Phong Normalmapped" || shader === "Phong Lightmapped") {
      mat.diffuseTexture = texture;
      return true;
    } else if (shader === "Particle") {
      mat.mainTexture = texture;
      return true;
    } else if (shader === "DistanceFieldVector") {
      mat.vectorTexture = texture;
      return true;
    } else if (shader === "Background" || shader === "Sky") {
      mat.texture = texture;
      return true;
    } else if (shader === "Physical Opaque Textured") {
      mat.albedoTexture = texture;
      return true;
    }
    return false;
  }

  // node_modules/@wonderlandengine/components/dist/image-texture.js
  var ImageTexture = class extends Component {
    start() {
      if (!this.material) {
        throw Error("image-texture: material property not set");
      }
      this.engine.textures.load(this.url, "anonymous").then((texture) => {
        const mat = this.material;
        if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
          console.error("Shader", mat.shader, "not supported by image-texture");
        }
      }).catch(console.err);
    }
  };
  __publicField(ImageTexture, "TypeName", "image-texture");
  __publicField(ImageTexture, "Properties", {
    /** URL to download the image from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // node_modules/@wonderlandengine/components/dist/mouse-look.js
  var __decorate7 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var preventDefault = (e) => {
    e.preventDefault();
  };
  var MouseLookComponent = class extends Component {
    /** Mouse look sensitivity */
    sensitity = 0.25;
    /** Require a mouse button to be pressed to control view.
     * Otherwise view will allways follow mouse movement */
    requireMouseDown = true;
    /** If "moveOnClick" is enabled, mouse button which should
     * be held down to control view */
    mouseButtonIndex = 0;
    /** Enables pointer lock on "mousedown" event on canvas */
    pointerLockOnClick = false;
    currentRotationY = 0;
    currentRotationX = 0;
    origin = new Float32Array(3);
    parentOrigin = new Float32Array(3);
    rotationX = 0;
    rotationY = 0;
    mouseDown = false;
    onActivate() {
      document.addEventListener("mousemove", this.onMouseMove);
      const canvas2 = this.engine.canvas;
      if (this.pointerLockOnClick) {
        canvas2.addEventListener("mousedown", this.requestPointerLock);
      }
      if (this.requireMouseDown) {
        if (this.mouseButtonIndex === 2) {
          canvas2.addEventListener("contextmenu", preventDefault, false);
        }
        canvas2.addEventListener("mousedown", this.onMouseDown);
        canvas2.addEventListener("mouseup", this.onMouseUp);
      }
    }
    onDeactivate() {
      document.removeEventListener("mousemove", this.onMouseMove);
      const canvas2 = this.engine.canvas;
      if (this.pointerLockOnClick) {
        canvas2.removeEventListener("mousedown", this.requestPointerLock);
      }
      if (this.requireMouseDown) {
        if (this.mouseButtonIndex === 2) {
          canvas2.removeEventListener("contextmenu", preventDefault, false);
        }
        canvas2.removeEventListener("mousedown", this.onMouseDown);
        canvas2.removeEventListener("mouseup", this.onMouseUp);
      }
    }
    requestPointerLock = () => {
      const canvas2 = this.engine.canvas;
      canvas2.requestPointerLock = canvas2.requestPointerLock || canvas2.mozRequestPointerLock || canvas2.webkitRequestPointerLock;
      canvas2.requestPointerLock();
    };
    onMouseDown = (e) => {
      if (e.button === this.mouseButtonIndex) {
        this.mouseDown = true;
        document.body.style.cursor = "grabbing";
        if (e.button === 1) {
          e.preventDefault();
          return false;
        }
      }
    };
    onMouseUp = (e) => {
      if (e.button === this.mouseButtonIndex) {
        this.mouseDown = false;
        document.body.style.cursor = "initial";
      }
    };
    onMouseMove = (e) => {
      if (this.active && (this.mouseDown || !this.requireMouseDown)) {
        this.rotationY = -this.sensitity * e.movementX / 100;
        this.rotationX = -this.sensitity * e.movementY / 100;
        this.currentRotationX += this.rotationX;
        this.currentRotationY += this.rotationY;
        this.currentRotationX = Math.min(1.507, this.currentRotationX);
        this.currentRotationX = Math.max(-1.507, this.currentRotationX);
        this.object.getPositionWorld(this.origin);
        const parent = this.object.parent;
        if (parent) {
          parent.getPositionWorld(this.parentOrigin);
          vec3_exports.sub(this.origin, this.origin, this.parentOrigin);
        }
        this.object.resetPositionRotation();
        this.object.rotateAxisAngleRadLocal([1, 0, 0], this.currentRotationX);
        this.object.rotateAxisAngleRadLocal([0, 1, 0], this.currentRotationY);
        this.object.translateLocal(this.origin);
      }
    };
  };
  __publicField(MouseLookComponent, "TypeName", "mouse-look");
  __decorate7([
    property.float(0.25)
  ], MouseLookComponent.prototype, "sensitity", void 0);
  __decorate7([
    property.bool(true)
  ], MouseLookComponent.prototype, "requireMouseDown", void 0);
  __decorate7([
    property.int()
  ], MouseLookComponent.prototype, "mouseButtonIndex", void 0);
  __decorate7([
    property.bool(false)
  ], MouseLookComponent.prototype, "pointerLockOnClick", void 0);

  // node_modules/@wonderlandengine/components/dist/player-height.js
  var __decorate8 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var PlayerHeight = class extends Component {
    height = 1.75;
    onSessionStartCallback;
    onSessionEndCallback;
    start() {
      this.object.resetPositionRotation();
      this.object.translateLocal([0, this.height, 0]);
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    onXRSessionStart() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
      }
    }
    onXRSessionEnd() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
        this.object.translateLocal([0, this.height, 0]);
      }
    }
  };
  __publicField(PlayerHeight, "TypeName", "player-height");
  __decorate8([
    property.float(1.75)
  ], PlayerHeight.prototype, "height", void 0);

  // node_modules/@wonderlandengine/components/dist/target-framerate.js
  var TargetFramerate = class extends Component {
    start() {
      this.onSessionStartCallback = this.setTargetFramerate.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setTargetFramerate(s) {
      if (s.supportedFrameRates && s.updateTargetFrameRate) {
        const a = this.engine.xr.session.supportedFrameRates;
        a.sort((a2, b) => Math.abs(a2 - this.framerate) - Math.abs(b - this.framerate));
        this.engine.xr.session.updateTargetFrameRate(a[0]);
      }
    }
  };
  __publicField(TargetFramerate, "TypeName", "target-framerate");
  __publicField(TargetFramerate, "Properties", {
    framerate: { type: Type.Float, default: 90 }
  });

  // node_modules/@wonderlandengine/components/dist/teleport.js
  var TeleportComponent = class extends Component {
    init() {
      this._prevThumbstickAxis = new Float32Array(2);
      this._tempVec = new Float32Array(3);
      this._tempVec0 = new Float32Array(3);
      this._currentIndicatorRotation = 0;
      this.input = this.object.getComponent("input");
      if (!this.input) {
        console.error(this.object.name, "generic-teleport-component.js: input component is required on the object");
        return;
      }
      if (!this.teleportIndicatorMeshObject) {
        console.error(this.object.name, "generic-teleport-component.js: Teleport indicator mesh is missing");
        return;
      }
      if (!this.camRoot) {
        console.error(this.object.name, "generic-teleport-component.js: camRoot not set");
        return;
      }
      this.isIndicating = false;
      this.indicatorHidden = true;
      this.hitSpot = new Float32Array(3);
      this._hasHit = false;
      this._extraRotation = 0;
      this._currentStickAxes = new Float32Array(2);
    }
    start() {
      if (this.cam) {
        this.isMouseIndicating = false;
        canvas.addEventListener("mousedown", this.onMouseDown.bind(this));
        canvas.addEventListener("mouseup", this.onMouseUp.bind(this));
      }
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("teleport component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness;
          this.input = inputComp;
        }
      } else {
        this.handedness = ["left", "right"][this.handedness - 1];
      }
      this.onSessionStartCallback = this.setupVREvents.bind(this);
      this.teleportIndicatorMeshObject.active = false;
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    /* Get current camera Y rotation */
    _getCamRotation() {
      this.eyeLeft.getForward(this._tempVec);
      this._tempVec[1] = 0;
      vec3_exports.normalize(this._tempVec, this._tempVec);
      return Math.atan2(this._tempVec[0], this._tempVec[2]);
    }
    update() {
      let inputLength = 0;
      if (this.gamepad && this.gamepad.axes) {
        this._currentStickAxes[0] = this.gamepad.axes[2];
        this._currentStickAxes[1] = this.gamepad.axes[3];
        inputLength = Math.abs(this._currentStickAxes[0]) + Math.abs(this._currentStickAxes[1]);
      }
      if (!this.isIndicating && this._prevThumbstickAxis[1] >= this.thumbstickActivationThreshhold && this._currentStickAxes[1] < this.thumbstickActivationThreshhold) {
        this.isIndicating = true;
      } else if (this.isIndicating && inputLength < this.thumbstickDeactivationThreshhold) {
        this.isIndicating = false;
        this.teleportIndicatorMeshObject.active = false;
        if (this._hasHit) {
          this._teleportPlayer(this.hitSpot, this._extraRotation);
        }
      }
      if (this.isIndicating && this.teleportIndicatorMeshObject && this.input) {
        const origin = this._tempVec0;
        this.object.getPositionWorld(origin);
        const direction2 = this.object.getForwardWorld(this._tempVec);
        let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
        if (rayHit.hitCount > 0) {
          this.indicatorHidden = false;
          this._extraRotation = Math.PI + Math.atan2(this._currentStickAxes[0], this._currentStickAxes[1]);
          this._currentIndicatorRotation = this._getCamRotation() + (this._extraRotation - Math.PI);
          this.teleportIndicatorMeshObject.resetPositionRotation();
          this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
          this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
          this.teleportIndicatorMeshObject.translate([
            0,
            this.indicatorYOffset,
            0
          ]);
          this.teleportIndicatorMeshObject.active = true;
          this.hitSpot.set(rayHit.locations[0]);
          this._hasHit = true;
        } else {
          if (!this.indicatorHidden) {
            this.teleportIndicatorMeshObject.active = false;
            this.indicatorHidden = true;
          }
          this._hasHit = false;
        }
      } else if (this.teleportIndicatorMeshObject && this.isMouseIndicating) {
        this.onMousePressed();
      }
      this._prevThumbstickAxis.set(this._currentStickAxes);
    }
    setupVREvents(s) {
      this.session = s;
      s.addEventListener("end", function() {
        this.gamepad = null;
        this.session = null;
      }.bind(this));
      if (s.inputSources && s.inputSources.length) {
        for (let i = 0; i < s.inputSources.length; i++) {
          let inputSource = s.inputSources[i];
          if (inputSource.handedness == this.handedness) {
            this.gamepad = inputSource.gamepad;
          }
        }
      }
      s.addEventListener("inputsourceschange", function(e) {
        if (e.added && e.added.length) {
          for (let i = 0; i < e.added.length; i++) {
            let inputSource = e.added[i];
            if (inputSource.handedness == this.handedness) {
              this.gamepad = inputSource.gamepad;
            }
          }
        }
      }.bind(this));
    }
    onMouseDown() {
      this.isMouseIndicating = true;
    }
    onMouseUp() {
      this.isMouseIndicating = false;
      this.teleportIndicatorMeshObject.active = false;
      if (this._hasHit) {
        this._teleportPlayer(this.hitSpot, 0);
      }
    }
    onMousePressed() {
      let origin = [0, 0, 0];
      this.cam.getPositionWorld(origin);
      const direction2 = this.cam.getForward(this._tempVec);
      let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
      if (rayHit.hitCount > 0) {
        this.indicatorHidden = false;
        direction2[1] = 0;
        vec3_exports.normalize(direction2, direction2);
        this._currentIndicatorRotation = -Math.sign(direction2[2]) * Math.acos(direction2[0]) - Math.PI * 0.5;
        this.teleportIndicatorMeshObject.resetPositionRotation();
        this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
        this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
        this.teleportIndicatorMeshObject.active = true;
        this.hitSpot = rayHit.locations[0];
        this._hasHit = true;
      } else {
        if (!this.indicatorHidden) {
          this.teleportIndicatorMeshObject.active = false;
          this.indicatorHidden = true;
        }
        this._hasHit = false;
      }
    }
    _teleportPlayer(newPosition, rotationToAdd) {
      this.camRoot.rotateAxisAngleRad([0, 1, 0], rotationToAdd);
      const p = this._tempVec;
      const p1 = this._tempVec0;
      if (this.session) {
        this.eyeLeft.getPositionWorld(p);
        this.eyeRight.getPositionWorld(p1);
        vec3_exports.add(p, p, p1);
        vec3_exports.scale(p, p, 0.5);
      } else {
        this.cam.getPositionWorld(p);
      }
      this.camRoot.getPositionWorld(p1);
      vec3_exports.sub(p, p1, p);
      p[0] += newPosition[0];
      p[1] = newPosition[1];
      p[2] += newPosition[2];
      this.camRoot.setPositionWorld(p);
    }
  };
  __publicField(TeleportComponent, "TypeName", "teleport");
  __publicField(TeleportComponent, "Properties", {
    /** Object that will be placed as indiciation forwhere the player will teleport to. */
    teleportIndicatorMeshObject: { type: Type.Object },
    /** Root of the player, the object that will be positioned on teleportation. */
    camRoot: { type: Type.Object },
    /** Non-vr camera for use outside of VR */
    cam: { type: Type.Object },
    /** Left eye for use in VR*/
    eyeLeft: { type: Type.Object },
    /** Right eye for use in VR*/
    eyeRight: { type: Type.Object },
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness: {
      type: Type.Enum,
      values: ["input component", "left", "right", "none"],
      default: "input component"
    },
    /** Collision group of valid "floor" objects that can be teleported on */
    floorGroup: { type: Type.Int, default: 1 },
    /** How far the thumbstick needs to be pushed to have the teleport target indicator show up */
    thumbstickActivationThreshhold: { type: Type.Float, default: -0.7 },
    /** How far the thumbstick needs to be released to execute the teleport */
    thumbstickDeactivationThreshhold: { type: Type.Float, default: 0.3 },
    /** Offset to apply to the indicator object, e.g. to avoid it from Z-fighting with the floor */
    indicatorYOffset: { type: Type.Float, default: 0.01 },
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode: {
      type: Type.Enum,
      values: ["collision", "physx"],
      default: "collision"
    },
    /** Max distance for PhysX raycast */
    maxDistance: { type: Type.Float, default: 100 }
  });

  // node_modules/@wonderlandengine/components/dist/trail.js
  var direction = vec3_exports.create();
  var offset = vec3_exports.create();
  var normal = vec3_exports.create();
  var Trail = class extends Component {
    init() {
      this.points = new Array(this.segments + 1);
      for (let i = 0; i < this.points.length; ++i) {
        this.points[i] = vec3_exports.create();
      }
      this.currentPointOffset = 0;
      this.up = [0, 1, 0];
      this.timeTillNext = this.interval;
    }
    start() {
      this.trailContainer = this.engine.scene.addObject();
      this.meshComp = this.trailContainer.addComponent("mesh");
      this.meshComp.material = this.material;
      const vertexCount = 2 * this.points.length;
      this.indexData = new Uint32Array(6 * this.segments);
      for (let i = 0, v = 0; i < vertexCount - 2; i += 2, v += 6) {
        this.indexData.subarray(v, v + 6).set([i + 1, i + 0, i + 2, i + 2, i + 3, i + 1]);
      }
      this.mesh = new Mesh(this.engine, {
        vertexCount,
        indexData: this.indexData,
        indexType: MeshIndexType.UnsignedInt
      });
      this.meshComp.mesh = this.mesh;
    }
    updateVertices() {
      const positions = this.mesh.attribute(MeshAttribute.Position);
      const texCoords = this.mesh.attribute(MeshAttribute.TextureCoordinate);
      const normals = this.mesh.attribute(MeshAttribute.Normal);
      vec3_exports.set(direction, 0, 0, 0);
      for (let i = 0; i < this.points.length; ++i) {
        const curr = this.points[(this.currentPointIndex + i + 1) % this.points.length];
        const next = this.points[(this.currentPointIndex + i + 2) % this.points.length];
        if (i !== this.points.length - 1) {
          vec3_exports.sub(direction, next, curr);
        }
        vec3_exports.cross(offset, this.up, direction);
        vec3_exports.normalize(offset, offset);
        const timeFraction = 1 - this.timeTillNext / this.interval;
        const fraction = (i - timeFraction) / this.segments;
        vec3_exports.scale(offset, offset, (this.taper ? fraction : 1) * this.width / 2);
        positions.set(i * 2, [
          curr[0] - offset[0],
          curr[1] - offset[1],
          curr[2] - offset[2]
        ]);
        positions.set(i * 2 + 1, [
          curr[0] + offset[0],
          curr[1] + offset[1],
          curr[2] + offset[2]
        ]);
        if (normals) {
          vec3_exports.cross(normal, direction, offset);
          vec3_exports.normalize(normal, normal);
          normals.set(i * 2, normal);
          normals.set(i * 2 + 1, normal);
        }
        if (texCoords) {
          texCoords.set(i * 2, [0, fraction]);
          texCoords.set(i * 2 + 1, [1, fraction]);
        }
      }
      this.mesh.update();
    }
    resetTrail() {
      this.object.getTranslationWorld(this.points[0]);
      for (let i = 1; i < this.points.length; ++i) {
        vec3_exports.copy(this.points[i], this.points[0]);
      }
      this.currentPointIndex = 0;
      this.timeTillNext = this.interval;
    }
    update(dt) {
      this.timeTillNext -= dt;
      if (dt > this.resetThreshold) {
        this.resetTrail();
      }
      if (this.timeTillNext < 0) {
        this.currentPointIndex = (this.currentPointIndex + 1) % this.points.length;
        this.timeTillNext = this.timeTillNext % this.interval + this.interval;
      }
      this.object.getTranslationWorld(this.points[this.currentPointIndex]);
      this.updateVertices();
    }
    onActivate() {
      this.resetTrail();
    }
    onDestroy() {
      this.trailContainer.destroy();
      this.mesh.destroy();
    }
  };
  __publicField(Trail, "TypeName", "trail");
  __publicField(Trail, "Properties", {
    /** The material to apply to the trail mesh */
    material: { type: Type.Material },
    /** The number of segments in the trail mesh */
    segments: { type: Type.Int, default: 50 },
    /** The time interval before recording a new point */
    interval: { type: Type.Float, default: 0.1 },
    /** The width of the trail (in world space) */
    width: { type: Type.Float, default: 1 },
    /** Whether or not the trail should taper off */
    taper: { type: Type.Bool, default: true },
    /**
     * The maximum delta time in seconds, above which the trail resets.
     * This prevents the trail from jumping around when updates happen
     * infrequently (e.g. when the tab doesn't have focus).
     */
    resetThreshold: { type: Type.Float, default: 0.5 }
  });

  // node_modules/@wonderlandengine/components/dist/two-joint-ik-solver.js
  function clamp2(v, a, b) {
    return Math.max(a, Math.min(v, b));
  }
  var rootScaling = new Float32Array(3);
  var tempQuat3 = new Float32Array(4);
  var middlePos = new Float32Array(3);
  var endPos = new Float32Array(3);
  var targetPos = new Float32Array(3);
  var helperPos = new Float32Array(3);
  var rootTransform = new Float32Array(8);
  var middleTransform = new Float32Array(8);
  var endTransform = new Float32Array(8);
  var twoJointIK = function() {
    const ta = new Float32Array(3);
    const ca = new Float32Array(3);
    const ba = new Float32Array(3);
    const ab = new Float32Array(3);
    const cb = new Float32Array(3);
    const axis0 = new Float32Array(3);
    const axis1 = new Float32Array(3);
    const temp = new Float32Array(3);
    return function(root, middle, b, c, targetPos2, eps, helper) {
      ba.set(b);
      const lab = vec3_exports.length(ba);
      vec3_exports.sub(ta, b, c);
      const lcb = vec3_exports.length(ta);
      ta.set(targetPos2);
      const lat = clamp2(vec3_exports.length(ta), eps, lab + lcb - eps);
      ca.set(c);
      vec3_exports.scale(ab, b, -1);
      vec3_exports.sub(cb, c, b);
      vec3_exports.normalize(ca, ca);
      vec3_exports.normalize(ba, ba);
      vec3_exports.normalize(ab, ab);
      vec3_exports.normalize(cb, cb);
      vec3_exports.normalize(ta, ta);
      const ac_ab_0 = Math.acos(clamp2(vec3_exports.dot(ca, ba), -1, 1));
      const ba_bc_0 = Math.acos(clamp2(vec3_exports.dot(ab, cb), -1, 1));
      const ac_at_0 = Math.acos(clamp2(vec3_exports.dot(ca, ta), -1, 1));
      const ac_ab_1 = Math.acos(clamp2((lcb * lcb - lab * lab - lat * lat) / (-2 * lab * lat), -1, 1));
      const ba_bc_1 = Math.acos(clamp2((lat * lat - lab * lab - lcb * lcb) / (-2 * lab * lcb), -1, 1));
      if (helper) {
        vec3_exports.sub(ba, helper, b);
        vec3_exports.normalize(ba, ba);
      }
      vec3_exports.cross(axis0, ca, ba);
      vec3_exports.normalize(axis0, axis0);
      vec3_exports.cross(axis1, c, targetPos2);
      vec3_exports.normalize(axis1, axis1);
      middle.transformVectorInverseLocal(temp, axis0);
      root.rotateAxisAngleRadObject(axis1, ac_at_0);
      root.rotateAxisAngleRadObject(axis0, ac_ab_1 - ac_ab_0);
      middle.rotateAxisAngleRadObject(axis0, ba_bc_1 - ba_bc_0);
    };
  }();
  var TwoJointIkSolver = class extends Component {
    time = 0;
    start() {
      this.root.getTransformLocal(rootTransform);
      this.middle.getTransformLocal(middleTransform);
      this.end.getTransformLocal(endTransform);
    }
    update(dt) {
      this.time += dt;
      this.root.setTransformLocal(rootTransform);
      this.middle.setTransformLocal(middleTransform);
      this.end.setTransformLocal(endTransform);
      this.root.getScalingWorld(rootScaling);
      this.middle.getPositionLocal(middlePos);
      this.end.getPositionLocal(endPos);
      this.middle.transformPointLocal(endPos, endPos);
      if (this.helper) {
        this.helper.getPositionWorld(helperPos);
        this.root.transformPointInverseWorld(helperPos, helperPos);
        vec3_exports.div(helperPos, helperPos, rootScaling);
      }
      this.target.getPositionWorld(targetPos);
      this.root.transformPointInverseWorld(targetPos, targetPos);
      vec3_exports.div(targetPos, targetPos, rootScaling);
      twoJointIK(this.root, this.middle, middlePos, endPos, targetPos, 0.01, this.helper ? helperPos : null, this.time);
      if (this.copyTargetRotation) {
        this.end.setRotationWorld(this.target.getRotationWorld(tempQuat3));
      }
    }
  };
  __publicField(TwoJointIkSolver, "TypeName", "two-joint-ik-solver");
  __publicField(TwoJointIkSolver, "Properties", {
    /** Root bone, never moves */
    root: Property.object(),
    /** Bone attached to the root */
    middle: Property.object(),
    /** Bone attached to the middle */
    end: Property.object(),
    /** Target the joins should reach for */
    target: Property.object(),
    /** Flag for copying rotation from target to end */
    copyTargetRotation: Property.bool(true),
    /** Helper object to use to determine joint rotation axis */
    helper: Property.object()
  });

  // node_modules/@wonderlandengine/components/dist/video-texture.js
  var VideoTexture = class extends Component {
    init() {
      if (!this.material) {
        throw Error("video-texture: material property not set");
      }
      this.loaded = false;
      this.frameUpdateRequested = true;
    }
    start() {
      this.video = document.createElement("video");
      this.video.src = this.url;
      this.video.crossOrigin = "anonymous";
      this.video.playsInline = true;
      this.video.loop = this.loop;
      this.video.muted = this.muted;
      this.video.addEventListener("playing", () => {
        this.loaded = true;
      });
      if (this.autoplay) {
        const playAfterUserGesture = () => {
          this.video.play();
          window.removeEventListener("click", playAfterUserGesture);
          window.removeEventListener("touchstart", playAfterUserGesture);
        };
        window.addEventListener("click", playAfterUserGesture);
        window.addEventListener("touchstart", playAfterUserGesture);
      }
    }
    applyTexture() {
      const mat = this.material;
      const shader = mat.shader;
      const texture = this.texture = new Texture(this.engine, this.video);
      if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
        console.error("Shader", shader, "not supported by video-texture");
      }
      if ("requestVideoFrameCallback" in this.video) {
        this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
      } else {
        this.video.addEventListener("timeupdate", () => {
          this.frameUpdateRequested = true;
        });
      }
    }
    update(dt) {
      if (this.loaded && this.frameUpdateRequested) {
        if (this.texture) {
          this.texture.update();
        } else {
          this.applyTexture();
        }
        this.frameUpdateRequested = false;
      }
    }
    updateVideo() {
      this.frameUpdateRequested = true;
      this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
    }
  };
  __publicField(VideoTexture, "TypeName", "video-texture");
  __publicField(VideoTexture, "Properties", {
    /** URL to download video from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Whether to loop the video */
    loop: Property.bool(true),
    /** Whether to automatically start playing the video */
    autoplay: Property.bool(true),
    /** Whether to mute sound */
    muted: Property.bool(true),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // node_modules/@wonderlandengine/components/dist/vr-mode-active-switch.js
  var VrModeActiveSwitch = class extends Component {
    start() {
      this.components = [];
      this.getComponents(this.object);
      this.onXRSessionEnd();
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    getComponents(obj) {
      const comps = obj.getComponents().filter((c) => c.type !== "vr-mode-active-switch");
      this.components = this.components.concat(comps);
      if (this.affectChildren) {
        let children = obj.children;
        for (let i = 0; i < children.length; ++i) {
          this.getComponents(children[i]);
        }
      }
    }
    setComponentsActive(active) {
      const comps = this.components;
      for (let i = 0; i < comps.length; ++i) {
        comps[i].active = active;
      }
    }
    onXRSessionStart() {
      this.setComponentsActive(this.activateComponents == 0);
    }
    onXRSessionEnd() {
      this.setComponentsActive(this.activateComponents != 0);
    }
  };
  __publicField(VrModeActiveSwitch, "TypeName", "vr-mode-active-switch");
  __publicField(VrModeActiveSwitch, "Properties", {
    /** When components should be active: In VR or when not in VR */
    activateComponents: {
      type: Type.Enum,
      values: ["in VR", "in non-VR"],
      default: "in VR"
    },
    /** Whether child object's components should be affected */
    affectChildren: { type: Type.Bool, default: true }
  });

  // node_modules/@wonderlandengine/components/dist/plane-detection.js
  var import_earcut = __toESM(require_earcut(), 1);
  var __decorate9 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec32 = new Float32Array(3);
  function extentsFromContour(out, points) {
    if (points.length == 0)
      return out;
    let absMaxX = Math.abs(points[0].x);
    let absMaxZ = Math.abs(points[0].z);
    for (let i = 1; i < points.length; ++i) {
      absMaxX = Math.max(absMaxX, Math.abs(points[i].x));
      absMaxZ = Math.max(absMaxZ, Math.abs(points[i].z));
    }
    out[0] = absMaxX;
    out[1] = 0;
    out[2] = absMaxZ;
  }
  function within(x, a, b) {
    if (a > b)
      return x < a && x > b;
    return x > a && x < b;
  }
  function isPointLocalOnXRPlanePolygon(p, plane) {
    const points = plane.polygon;
    if (points.length < 3)
      return false;
    const pX = p[0];
    const pZ = p[2];
    let intersections = 0;
    for (let n = 0, l = points.length - 1; n < points.length; ++n) {
      const aX = points[l].x;
      const aZ = points[l].z;
      const s = (points[n].z - aZ) / (points[n].x - aX);
      const x = Math.abs((pZ - aZ) / s);
      if (x >= 0 && x <= 1 && within(x + pX, aX, points[n].x))
        ++intersections;
      l = n;
    }
    return (intersections & 1) == 0;
  }
  function isPointWorldOnXRPlanePolygon(object, p, plane) {
    if (plane.polygon.length < 3)
      return false;
    isPointLocalOnXRPlanePolygon(object.transformPointInverseWorld(tempVec32, p), plane);
  }
  function planeMeshFromContour(engine, points, meshToUpdate = null) {
    const vertexCount = points.length;
    const vertices = new Float32Array(vertexCount * 2);
    for (let i = 0, d = 0; i < vertexCount; ++i, d += 2) {
      vertices[d] = points[i].x;
      vertices[d + 1] = points[i].z;
    }
    const triangles = (0, import_earcut.default)(vertices);
    const mesh = meshToUpdate || new Mesh(engine, {
      vertexCount,
      /* Assumption here that we will never have more than 256 points
       * in the detected plane meshes! */
      indexType: MeshIndexType.UnsignedByte,
      indexData: triangles
    });
    if (mesh.vertexCount !== vertexCount) {
      console.warn("vertexCount of meshToUpdate did not match required vertexCount");
      return mesh;
    }
    const positions = mesh.attribute(MeshAttribute.Position);
    const textureCoords = mesh.attribute(MeshAttribute.TextureCoordinate);
    const normals = mesh.attribute(MeshAttribute.Normal);
    tempVec32[1] = 0;
    for (let i = 0, s = 0; i < vertexCount; ++i, s += 2) {
      tempVec32[0] = vertices[s];
      tempVec32[2] = vertices[s + 1];
      positions.set(i, tempVec32);
    }
    textureCoords?.set(0, vertices);
    if (normals) {
      tempVec32[0] = 0;
      tempVec32[1] = 1;
      tempVec32[2] = 0;
      for (let i = 0; i < vertexCount; ++i) {
        normals.set(i, tempVec32);
      }
    }
    if (meshToUpdate)
      mesh.update();
    return mesh;
  }
  var _planeLost, planeLost_fn, _planeFound, planeFound_fn, _planeUpdate, planeUpdate_fn, _planeUpdatePose, planeUpdatePose_fn;
  var PlaneDetection = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _planeLost);
      __privateAdd(this, _planeFound);
      __privateAdd(this, _planeUpdate);
      __privateAdd(this, _planeUpdatePose);
      /**
       * Material to assign to created plane meshes or `null` if meshes should not be created.
       */
      __publicField(this, "planeMaterial", null);
      /**
       * Collision mask to assign to newly created collision components or a negative value if
       * collision components should not be created.
       */
      __publicField(this, "collisionMask", -1);
      /** Map of all planes and their last updated timestamps */
      __publicField(this, "planes", /* @__PURE__ */ new Map());
      /** Objects generated for each XRPlane */
      __publicField(this, "planeObjects", /* @__PURE__ */ new Map());
      /** Called when a plane starts tracking */
      __publicField(this, "onPlaneFound", new Emitter());
      /** Called when a plane stops tracking */
      __publicField(this, "onPlaneLost", new Emitter());
    }
    update() {
      if (!this.engine.xr?.frame)
        return;
      if (this.engine.xr.frame.detectedPlanes === void 0) {
        console.error("plane-detection: WebXR feature not available.");
        this.active = false;
        return;
      }
      const detectedPlanes = this.engine.xr.frame.detectedPlanes;
      for (const [plane, _] of this.planes) {
        if (!detectedPlanes.has(plane)) {
          __privateMethod(this, _planeLost, planeLost_fn).call(this, plane);
        }
      }
      detectedPlanes.forEach((plane) => {
        if (this.planes.has(plane)) {
          if (plane.lastChangedTime > this.planes.get(plane)) {
            __privateMethod(this, _planeUpdate, planeUpdate_fn).call(this, plane);
          }
        } else {
          __privateMethod(this, _planeFound, planeFound_fn).call(this, plane);
        }
        __privateMethod(this, _planeUpdatePose, planeUpdatePose_fn).call(this, plane);
      });
    }
  };
  _planeLost = new WeakSet();
  planeLost_fn = function(plane) {
    this.planes.delete(plane);
    const o = this.planeObjects.get(plane);
    this.onPlaneLost.notify(plane, o);
    if (o.objectId > 0)
      o.destroy();
  };
  _planeFound = new WeakSet();
  planeFound_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const o = this.engine.scene.addObject(this.object);
    this.planeObjects.set(plane, o);
    if (this.planeMaterial) {
      o.addComponent(MeshComponent, {
        mesh: planeMeshFromContour(this.engine, plane.polygon),
        material: this.planeMaterial
      });
    }
    if (this.collisionMask >= 0) {
      extentsFromContour(tempVec32, plane.polygon);
      tempVec32[1] = 0.025;
      o.addComponent(CollisionComponent, {
        group: this.collisionMask,
        collider: Collider.Box,
        extents: tempVec32
      });
    }
    this.onPlaneFound.notify(plane, o);
  };
  _planeUpdate = new WeakSet();
  planeUpdate_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const planeMesh = this.planeObjects.get(plane).getComponent(MeshComponent);
    if (!planeMesh)
      return;
    planeMeshFromContour(this.engine, plane.polygon, planeMesh.mesh);
  };
  _planeUpdatePose = new WeakSet();
  planeUpdatePose_fn = function(plane) {
    const o = this.planeObjects.get(plane);
    const pose = this.engine.xr.frame.getPose(plane.planeSpace, this.engine.xr.currentReferenceSpace);
    if (!pose) {
      o.active = false;
      return;
    }
    setXRRigidTransformLocal(o, pose.transform);
  };
  __publicField(PlaneDetection, "TypeName", "plane-detection");
  __decorate9([
    property.material()
  ], PlaneDetection.prototype, "planeMaterial", void 0);
  __decorate9([
    property.int()
  ], PlaneDetection.prototype, "collisionMask", void 0);

  // node_modules/@wonderlandengine/components/dist/vrm.js
  var VRM_ROLL_AXES = {
    X: [1, 0, 0],
    Y: [0, 1, 0],
    Z: [0, 0, 1]
  };
  var VRM_AIM_AXES = {
    PositiveX: [1, 0, 0],
    NegativeX: [-1, 0, 0],
    PositiveY: [0, 1, 0],
    NegativeY: [0, -1, 0],
    PositiveZ: [0, 0, 1],
    NegativeZ: [0, 0, -1]
  };
  var Vrm = class extends Component {
    /** Meta information about the VRM model */
    meta = null;
    /** The humanoid bones of the VRM model */
    bones = {
      /* Torso */
      hips: null,
      spine: null,
      chest: null,
      upperChest: null,
      neck: null,
      /* Head */
      head: null,
      leftEye: null,
      rightEye: null,
      jaw: null,
      /* Legs */
      leftUpperLeg: null,
      leftLowerLeg: null,
      leftFoot: null,
      leftToes: null,
      rightUpperLeg: null,
      rightLowerLeg: null,
      rightFoot: null,
      rightToes: null,
      /* Arms */
      leftShoulder: null,
      leftUpperArm: null,
      leftLowerArm: null,
      leftHand: null,
      rightShoulder: null,
      rightUpperArm: null,
      rightLowerArm: null,
      rightHand: null,
      /* Fingers */
      leftThumbMetacarpal: null,
      leftThumbProximal: null,
      leftThumbDistal: null,
      leftIndexProximal: null,
      leftIndexIntermediate: null,
      leftIndexDistal: null,
      leftMiddleProximal: null,
      leftMiddleIntermediate: null,
      leftMiddleDistal: null,
      leftRingProximal: null,
      leftRingIntermediate: null,
      leftRingDistal: null,
      leftLittleProximal: null,
      leftLittleIntermediate: null,
      leftLittleDistal: null,
      rightThumbMetacarpal: null,
      rightThumbProximal: null,
      rightThumbDistal: null,
      rightIndexProximal: null,
      rightIndexIntermediate: null,
      rightIndexDistal: null,
      rightMiddleProximal: null,
      rightMiddleIntermediate: null,
      rightMiddleDistal: null,
      rightRingProximal: null,
      rightRingIntermediate: null,
      rightRingDistal: null,
      rightLittleProximal: null,
      rightLittleIntermediate: null,
      rightLittleDistal: null
    };
    /** Rotations of the bones in the rest pose (T-pose) */
    restPose = {};
    /* All node constraints, ordered to deal with dependencies */
    _nodeConstraints = [];
    /* VRMC_springBone chains */
    _springChains = [];
    /* Spherical colliders for spring bones */
    _sphereColliders = [];
    /* Capsule shaped colliders for spring bones */
    _capsuleColliders = [];
    /* Indicates which meshes are rendered in first/third person views */
    _firstPersonAnnotations = [];
    /* Contains details for (bone type) lookAt behaviour */
    _lookAt = null;
    /* Whether or not the VRM component has been initialized with `initializeVrm` */
    _initialized = false;
    init() {
      this._tempV3 = vec3_exports.create();
      this._tempV3A = vec3_exports.create();
      this._tempV3B = vec3_exports.create();
      this._tempQuat = quat_exports.create();
      this._tempQuatA = quat_exports.create();
      this._tempQuatB = quat_exports.create();
      this._tempMat4A = mat4_exports.create();
      this._tempQuat2 = quat2_exports.create();
      this._tailToShape = vec3_exports.create();
      this._headToTail = vec3_exports.create();
      this._inertia = vec3_exports.create();
      this._stiffness = vec3_exports.create();
      this._external = vec3_exports.create();
      this._rightVector = vec3_exports.set(vec3_exports.create(), 1, 0, 0);
      this._upVector = vec3_exports.set(vec3_exports.create(), 0, 1, 0);
      this._forwardVector = vec3_exports.set(vec3_exports.create(), 0, 0, 1);
      this._identityQuat = quat_exports.identity(quat_exports.create());
      this._rad2deg = 180 / Math.PI;
    }
    start() {
      if (!this.src) {
        console.error("vrm: src property not set");
        return;
      }
      this.engine.scene.append(this.src, { loadGltfExtensions: true }).then(({ root, extensions }) => {
        root.children.forEach((child) => child.parent = this.object);
        this._initializeVrm(extensions);
        root.destroy();
      });
    }
    /**
     * Parses the VRM glTF extensions and initializes the vrm component.
     * @param {GLTFExtensions} extensions The glTF extensions for the VRM model
     */
    _initializeVrm(extensions) {
      if (this._initialized) {
        throw Error("VRM component has already been initialized");
      }
      const VRMC_vrm = extensions.root["VRMC_vrm"];
      if (!VRMC_vrm) {
        throw Error("Missing VRM extensions");
      }
      if (VRMC_vrm.specVersion !== "1.0") {
        throw Error(`Unsupported VRM version, only 1.0 is supported, but encountered '${VRMC_vrm.specVersion}'`);
      }
      this.meta = VRMC_vrm.meta;
      this._parseHumanoid(VRMC_vrm.humanoid, extensions);
      if (VRMC_vrm.firstPerson) {
        this._parseFirstPerson(VRMC_vrm.firstPerson, extensions);
      }
      if (VRMC_vrm.lookAt) {
        this._parseLookAt(VRMC_vrm.lookAt);
      }
      this._findAndParseNodeConstraints(extensions);
      const springBone = extensions.root["VRMC_springBone"];
      if (springBone) {
        this._parseAndInitializeSpringBones(springBone, extensions);
      }
      this._initialized = true;
    }
    _parseHumanoid(humanoid, extensions) {
      for (const boneName in humanoid.humanBones) {
        if (!(boneName in this.bones)) {
          console.warn(`Unrecognized bone '${boneName}'`);
          continue;
        }
        const node = humanoid.humanBones[boneName].node;
        const objectId = extensions.idMapping[node];
        this.bones[boneName] = this.engine.wrapObject(objectId);
        this.restPose[boneName] = quat_exports.copy(quat_exports.create(), this.bones[boneName].rotationLocal);
      }
    }
    _parseFirstPerson(firstPerson, extensions) {
      for (const meshAnnotation of firstPerson.meshAnnotations) {
        const annotation = {
          node: this.engine.wrapObject(extensions.idMapping[meshAnnotation.node]),
          firstPerson: true,
          thirdPerson: true
        };
        switch (meshAnnotation.type) {
          case "firstPersonOnly":
            annotation.thirdPerson = false;
            break;
          case "thirdPersonOnly":
            annotation.firstPerson = false;
            break;
          case "both":
            break;
          case "auto":
            console.warn("First person mesh annotation type 'auto' is not supported, treating as 'both'!");
            break;
          default:
            console.error(`Invalid mesh annotation type '${meshAnnotation.type}'`);
            break;
        }
        this._firstPersonAnnotations.push(annotation);
      }
    }
    _parseLookAt(lookAt3) {
      if (lookAt3.type !== "bone") {
        console.warn(`Unsupported lookAt type '${lookAt3.type}', only 'bone' is supported`);
        return;
      }
      const parseRangeMap = (rangeMap) => {
        return {
          inputMaxValue: rangeMap.inputMaxValue,
          outputScale: rangeMap.outputScale
        };
      };
      this._lookAt = {
        offsetFromHeadBone: lookAt3.offsetFromHeadBone || [0, 0, 0],
        horizontalInner: parseRangeMap(lookAt3.rangeMapHorizontalInner),
        horizontalOuter: parseRangeMap(lookAt3.rangeMapHorizontalOuter),
        verticalDown: parseRangeMap(lookAt3.rangeMapVerticalDown),
        verticalUp: parseRangeMap(lookAt3.rangeMapVerticalUp)
      };
    }
    _findAndParseNodeConstraints(extensions) {
      const traverse = (object) => {
        const nodeExtensions = extensions.node[object.objectId];
        if (nodeExtensions && "VRMC_node_constraint" in nodeExtensions) {
          const nodeConstraintExtension = nodeExtensions["VRMC_node_constraint"];
          const constraint = nodeConstraintExtension.constraint;
          let type, axis;
          if ("roll" in constraint) {
            type = "roll";
            axis = VRM_ROLL_AXES[constraint.roll.rollAxis];
          } else if ("aim" in constraint) {
            type = "aim";
            axis = VRM_AIM_AXES[constraint.aim.aimAxis];
          } else if ("rotation" in constraint) {
            type = "rotation";
          }
          if (type) {
            const source = this.engine.wrapObject(extensions.idMapping[constraint[type].source]);
            this._nodeConstraints.push({
              type,
              source,
              destination: object,
              axis,
              weight: constraint[type].weight,
              /* Rest pose */
              destinationRestLocalRotation: quat_exports.copy(quat_exports.create(), object.rotationLocal),
              sourceRestLocalRotation: quat_exports.copy(quat_exports.create(), source.rotationLocal),
              sourceRestLocalRotationInv: quat_exports.invert(quat_exports.create(), source.rotationLocal)
            });
          } else {
            console.warn("Unrecognized or invalid VRMC_node_constraint, ignoring it");
          }
        }
        for (const child of object.children) {
          traverse(child);
        }
      };
      traverse(this.object);
    }
    _parseAndInitializeSpringBones(springBone, extensions) {
      const colliders = (springBone.colliders || []).map((collider, i) => {
        const shapeType = "capsule" in collider.shape ? "capsule" : "sphere";
        return {
          id: i,
          object: this.engine.wrapObject(extensions.idMapping[collider.node]),
          shape: {
            isCapsule: shapeType === "capsule",
            radius: collider.shape[shapeType].radius,
            offset: collider.shape[shapeType].offset,
            tail: collider.shape[shapeType].tail
          },
          cache: {
            head: vec3_exports.create(),
            tail: vec3_exports.create()
          }
        };
      });
      this._sphereColliders = colliders.filter((c) => !c.shape.isCapsule);
      this._capsuleColliders = colliders.filter((c) => c.shape.isCapsule);
      const colliderGroups = (springBone.colliderGroups || []).map((group) => ({
        name: group.name,
        colliders: group.colliders.map((c) => colliders[c])
      }));
      for (const spring of springBone.springs) {
        const joints = [];
        for (const joint of spring.joints) {
          const springJoint = {
            hitRadius: 0,
            stiffness: 1,
            gravityPower: 0,
            gravityDir: [0, -1, 0],
            dragForce: 0.5,
            node: null,
            state: null
          };
          Object.assign(springJoint, joint);
          springJoint.node = this.engine.wrapObject(extensions.idMapping[springJoint.node]);
          joints.push(springJoint);
        }
        const springChainColliders = (spring.colliderGroups || []).flatMap((cg) => colliderGroups[cg].colliders);
        this._springChains.push({
          name: spring.name,
          center: spring.center ? this.engine.wrapObject(extensions.idMapping[spring.center]) : null,
          joints,
          sphereColliders: springChainColliders.filter((c) => !c.shape.isCapsule),
          capsuleColliders: springChainColliders.filter((c) => c.shape.isCapsule)
        });
      }
      for (const springChain of this._springChains) {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const springBoneJoint = springChain.joints[i];
          const childSpringBoneJoint = springChain.joints[i + 1];
          const springBonePosition = springBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const childSpringBonePosition = childSpringBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const boneDirection = vec3_exports.subtract(this._tempV3A, springBonePosition, childSpringBonePosition);
          const state2 = {
            prevTail: childSpringBonePosition,
            currentTail: vec3_exports.copy(vec3_exports.create(), childSpringBonePosition),
            initialLocalRotation: quat_exports.copy(quat_exports.create(), springBoneJoint.node.rotationLocal),
            initialLocalTransformInvert: quat2_exports.invert(quat2_exports.create(), springBoneJoint.node.transformLocal),
            boneAxis: vec3_exports.normalize(vec3_exports.create(), childSpringBoneJoint.node.getTranslationLocal(this._tempV3)),
            /* Ensure bone length is at least 1cm to avoid jittery behaviour from zero-length bones */
            boneLength: Math.max(0.01, vec3_exports.length(boneDirection)),
            /* Tail positions in center space, if needed */
            prevTailCenter: null,
            currentTailCenter: null
          };
          if (springChain.center) {
            state2.prevTailCenter = springChain.center.transformPointInverseWorld(vec3_exports.create(), childSpringBonePosition);
            state2.currentTailCenter = vec3_exports.copy(vec3_exports.create(), childSpringBonePosition);
          }
          springBoneJoint.state = state2;
        }
      }
    }
    update(dt) {
      if (!this._initialized) {
        return;
      }
      this._resolveLookAt();
      this._resolveConstraints();
      this._updateSpringBones(dt);
    }
    _rangeMap(rangeMap, input) {
      const maxValue = rangeMap.inputMaxValue;
      const outputScale = rangeMap.outputScale;
      return Math.min(input, maxValue) / maxValue * outputScale;
    }
    _resolveLookAt() {
      if (!this._lookAt || !this.lookAtTarget) {
        return;
      }
      const lookAtSource = this.bones.head.transformPointWorld(this._tempV3A, this._lookAt.offsetFromHeadBone);
      const lookAtTarget = this.lookAtTarget.getTranslationWorld(this._tempV3B);
      const lookAtDirection = vec3_exports.sub(this._tempV3A, lookAtTarget, lookAtSource);
      vec3_exports.normalize(lookAtDirection, lookAtDirection);
      this.bones.head.parent.transformVectorInverseWorld(lookAtDirection);
      const z = vec3_exports.dot(lookAtDirection, this._forwardVector);
      const x = vec3_exports.dot(lookAtDirection, this._rightVector);
      const yaw = Math.atan2(x, z) * this._rad2deg;
      const xz = Math.sqrt(x * x + z * z);
      const y = vec3_exports.dot(lookAtDirection, this._upVector);
      let pitch = Math.atan2(-y, xz) * this._rad2deg;
      if (pitch > 0) {
        pitch = this._rangeMap(this._lookAt.verticalDown, pitch);
      } else {
        pitch = -this._rangeMap(this._lookAt.verticalUp, -pitch);
      }
      if (this.bones.leftEye) {
        let yawLeft = yaw;
        if (yawLeft > 0) {
          yawLeft = this._rangeMap(this._lookAt.horizontalInner, yawLeft);
        } else {
          yawLeft = -this._rangeMap(this._lookAt.horizontalOuter, -yawLeft);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawLeft, 0);
        this.bones.leftEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.leftEye, eyeRotation);
      }
      if (this.bones.rightEye) {
        let yawRight = yaw;
        if (yawRight > 0) {
          yawRight = this._rangeMap(this._lookAt.horizontalOuter, yawRight);
        } else {
          yawRight = -this._rangeMap(this._lookAt.horizontalInner, -yawRight);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawRight, 0);
        this.bones.rightEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.rightEye, eyeRotation);
      }
    }
    _resolveConstraints() {
      for (const nodeConstraint of this._nodeConstraints) {
        this._resolveConstraint(nodeConstraint);
      }
    }
    _resolveConstraint(nodeConstraint) {
      const dstRestQuat = nodeConstraint.destinationRestLocalRotation;
      const srcRestQuatInv = nodeConstraint.sourceRestLocalRotationInv;
      const targetQuat = quat_exports.identity(this._tempQuatA);
      switch (nodeConstraint.type) {
        case "roll":
          {
            const deltaSrcQuat = quat_exports.multiply(this._tempQuatA, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            const deltaSrcQuatInParent = quat_exports.multiply(this._tempQuatA, nodeConstraint.sourceRestLocalRotation, deltaSrcQuat);
            quat_exports.mul(deltaSrcQuatInParent, deltaSrcQuatInParent, srcRestQuatInv);
            const dstRestQuatInv = quat_exports.invert(this._tempQuatB, dstRestQuat);
            const deltaSrcQuatInDst = quat_exports.multiply(this._tempQuatB, dstRestQuatInv, deltaSrcQuatInParent);
            quat_exports.multiply(deltaSrcQuatInDst, deltaSrcQuatInDst, dstRestQuat);
            const toVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, deltaSrcQuatInDst);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, nodeConstraint.axis, toVec);
            quat_exports.mul(targetQuat, dstRestQuat, quat_exports.invert(this._tempQuat, fromToQuat));
            quat_exports.mul(targetQuat, targetQuat, deltaSrcQuatInDst);
          }
          break;
        case "aim":
          {
            const dstParentWorldQuat = nodeConstraint.destination.parent.rotationWorld;
            const fromVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, dstRestQuat);
            vec3_exports.transformQuat(fromVec, fromVec, dstParentWorldQuat);
            const toVec = nodeConstraint.source.getTranslationWorld(this._tempV3B);
            vec3_exports.sub(toVec, toVec, nodeConstraint.destination.getTranslationWorld(this._tempV3));
            vec3_exports.normalize(toVec, toVec);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, fromVec, toVec);
            quat_exports.mul(targetQuat, quat_exports.invert(this._tempQuat, dstParentWorldQuat), fromToQuat);
            quat_exports.mul(targetQuat, targetQuat, dstParentWorldQuat);
            quat_exports.mul(targetQuat, targetQuat, dstRestQuat);
          }
          break;
        case "rotation":
          {
            const srcDeltaQuat = quat_exports.mul(targetQuat, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            quat_exports.mul(targetQuat, dstRestQuat, srcDeltaQuat);
          }
          break;
      }
      quat_exports.slerp(targetQuat, dstRestQuat, targetQuat, nodeConstraint.weight);
      nodeConstraint.destination.rotationLocal = targetQuat;
    }
    _updateSpringBones(dt) {
      this._sphereColliders.forEach(({ object, shape, cache }) => {
        const offset2 = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(offset2);
        vec3_exports.add(cache.head, object.getTranslationWorld(this._tempV3), offset2);
      });
      this._capsuleColliders.forEach(({ object, shape, cache }) => {
        const shapeCenter = object.getTranslationWorld(this._tempV3A);
        const headOffset = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(headOffset);
        vec3_exports.add(cache.head, shapeCenter, headOffset);
        const tailOffset = vec3_exports.copy(cache.tail, shape.tail);
        object.transformVectorWorld(tailOffset);
        vec3_exports.add(cache.tail, shapeCenter, tailOffset);
      });
      this._springChains.forEach((springChain) => {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const joint = springChain.joints[i];
          const parentWorldRotation = joint.node.parent ? joint.node.parent.rotationWorld : this._identityQuat;
          const inertia = this._inertia;
          if (springChain.center) {
            vec3_exports.sub(inertia, joint.state.currentTailCenter, joint.state.prevTailCenter);
            springChain.center.transformVectorWorld(inertia);
          } else {
            vec3_exports.sub(inertia, joint.state.currentTail, joint.state.prevTail);
          }
          vec3_exports.scale(inertia, inertia, 1 - joint.dragForce);
          const stiffness = vec3_exports.copy(this._stiffness, joint.state.boneAxis);
          vec3_exports.transformQuat(stiffness, stiffness, joint.state.initialLocalRotation);
          vec3_exports.transformQuat(stiffness, stiffness, parentWorldRotation);
          vec3_exports.scale(stiffness, stiffness, dt * joint.stiffness);
          const external = vec3_exports.scale(this._external, joint.gravityDir, dt * joint.gravityPower);
          const nextTail = vec3_exports.copy(this._tempV3A, joint.state.currentTail);
          vec3_exports.add(nextTail, nextTail, inertia);
          vec3_exports.add(nextTail, nextTail, stiffness);
          vec3_exports.add(nextTail, nextTail, external);
          const worldPosition = joint.node.getTranslationWorld(this._tempV3B);
          vec3_exports.sub(nextTail, nextTail, worldPosition);
          vec3_exports.normalize(nextTail, nextTail);
          vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
          for (const { shape, cache } of springChain.sphereColliders) {
            let tailToShape = this._tailToShape;
            const sphereCenter = cache.head;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, sphereCenter);
            const radius = shape.radius + joint.hitRadius;
            const dist2 = vec3_exports.length(tailToShape) - radius;
            if (dist2 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist2);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          for (const { shape, cache } of springChain.capsuleColliders) {
            let tailToShape = this._tailToShape;
            const head = cache.head;
            const tail = cache.tail;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, head);
            const headToTail = vec3_exports.sub(this._headToTail, tail, head);
            const dot5 = vec3_exports.dot(headToTail, tailToShape);
            if (vec3_exports.squaredLength(headToTail) <= dot5) {
              vec3_exports.sub(tailToShape, nextTail, tail);
            } else if (dot5 > 0) {
              vec3_exports.scale(headToTail, headToTail, dot5 / vec3_exports.squaredLength(headToTail));
              vec3_exports.sub(tailToShape, tailToShape, headToTail);
            }
            const radius = shape.radius + joint.hitRadius;
            const dist2 = vec3_exports.length(tailToShape) - radius;
            if (dist2 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist2);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          vec3_exports.copy(joint.state.prevTail, joint.state.currentTail);
          vec3_exports.copy(joint.state.currentTail, nextTail);
          if (springChain.center) {
            vec3_exports.copy(joint.state.prevTailCenter, joint.state.currentTailCenter);
            vec3_exports.copy(joint.state.currentTailCenter, nextTail);
            springChain.center.transformPointInverseWorld(joint.state.currentTailCenter);
          }
          joint.node.parent.transformPointInverseWorld(nextTail);
          const nextTailDualQuat = quat2_exports.fromTranslation(this._tempQuat2, nextTail);
          quat2_exports.multiply(nextTailDualQuat, joint.state.initialLocalTransformInvert, nextTailDualQuat);
          quat2_exports.getTranslation(nextTail, nextTailDualQuat);
          vec3_exports.normalize(nextTail, nextTail);
          const jointRotation = quat_exports.rotationTo(this._tempQuatA, joint.state.boneAxis, nextTail);
          joint.node.rotationLocal = quat_exports.mul(this._tempQuatA, joint.state.initialLocalRotation, jointRotation);
        }
      });
    }
    /**
     * @param {boolean} firstPerson Whether the model should render for first person or third person views
     */
    set firstPerson(firstPerson) {
      this._firstPersonAnnotations.forEach((annotation) => {
        const visible = firstPerson == annotation.firstPerson || firstPerson != annotation.thirdPerson;
        annotation.node.getComponents("mesh").forEach((mesh) => {
          mesh.active = visible;
        });
      });
    }
  };
  __publicField(Vrm, "TypeName", "vrm");
  __publicField(Vrm, "Properties", {
    /** URL to a VRM file to load */
    src: { type: Type.String },
    /** Object the VRM is looking at */
    lookAtTarget: { type: Type.Object }
  });

  // js/game.js
  var game_exports = {};
  __export(game_exports, {
    state: () => state
  });

  // js/button-functions.js
  var button_functions_exports = {};
  __export(button_functions_exports, {
    ButtonFunctions: () => ButtonFunctions
  });
  var ButtonFunctions = class extends Component {
    start() {
      state.buttonFunctions.push(function() {
        state.damage += 50, state.currency -= 10, state.log("damage increased by 50");
        state.needsUpdate = true;
      });
      console.log(state.buttonFunctions);
    }
    update(dt) {
    }
  };
  __publicField(ButtonFunctions, "TypeName", "button-functions");
  /* Properties that are configurable in the editor */
  __publicField(ButtonFunctions, "Properties", {
    param: Property.float(1)
  });

  // js/game.js
  var state = {
    EnemySpawner: [],
    //this is the function that spawns enemeies
    spawn: null,
    spawnedEnemies: 0,
    currentEnemies: [],
    maxEnemies: 15,
    enemiesDestroyed: 0,
    health: 100,
    getHealth: function() {
      return this.health.toString();
    },
    getCurrency: function() {
      return this.currency.toString();
    },
    turretSpawner: [],
    turrets: [],
    buildT: null,
    spawnedTurrets: 0,
    maxTurrets: 10,
    currency: 50,
    needsUpdate: false,
    gameOver: false,
    selectedTurret: "poison",
    shipHit: null,
    buildTime: 15,
    levelUp: null,
    day: true,
    pauseEnemies: true,
    pauseBuilding: false,
    buttonFunctions: [
      function() {
        state.currency -= state.attackDamagecost;
        state.attackDamagecost += 50;
        state.attackDamage += 10;
        state.needsUpdate = true;
        return "ATTACK DAMAGE UPGRADE\n" + state.attackDamagecost.toString();
      },
      function() {
        return "TURRET RANGE UPGRADE\n" + state.attackRangeCost.toString();
      },
      function() {
        return "ATTACK SPEED UPGRADE\n" + state.attackSpeedCost();
      },
      function() {
        return "PROFIT UPGRADE\n" + state.profitUpCost.toString();
      },
      function() {
        return "SHIP HEALTH UPGRADE\n" + state.healthUpCost.toString();
      }
    ],
    attackDamagecost: 50,
    attackRangeCost: 50,
    attackSpeedCost: 50,
    profitUpCost: 50,
    healthUpCost: 50,
    attackDamage: 10,
    attackRange: 10,
    attackSpeed: 10,
    profitUp: 10,
    healthUp: 10,
    defaultTurret3D: null,
    poisonTurret3D: null
  };

  // node_modules/@wonderlandengine/components/dist/wasd-controls.js
  var _direction = new Float32Array(3);
  var WasdControlsComponent = class extends Component {
    init() {
      this.up = false;
      this.right = false;
      this.down = false;
      this.left = false;
      this.spawm = false;
      window.addEventListener("keydown", this.press.bind(this));
      window.addEventListener("keyup", this.release.bind(this));
    }
    start() {
      this.headObject = this.headObject || this.object;
    }
    update() {
      vec3_exports.zero(_direction);
      if (this.up)
        _direction[2] -= 1;
      if (this.down)
        _direction[2] += 1;
      if (this.left)
        _direction[0] -= 1;
      if (this.right)
        _direction[0] += 1;
      vec3_exports.normalize(_direction, _direction);
      _direction[0] *= this.speed;
      _direction[2] *= this.speed;
      vec3_exports.transformQuat(_direction, _direction, this.headObject.transformWorld);
      if (this.lockY) {
        _direction[1] = 0;
        vec3_exports.normalize(_direction, _direction);
        vec3_exports.scale(_direction, _direction, this.speed);
      }
      this.object.translateLocal(_direction);
    }
    press(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = true;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = true;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = true;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = true;
      } else if (e.keyCode === 69) {
        state.buildT();
      } else if (e.keyCode === 49) {
        state.selectedTurret = "default";
      } else if (e.keyCode === 50) {
        state.selectedTurret = "poison";
      }
    }
    release(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = false;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = false;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = false;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = false;
      }
    }
  };
  __publicField(WasdControlsComponent, "TypeName", "wasd-controls");
  __publicField(WasdControlsComponent, "Properties", {
    /** Movement speed in m/s. */
    speed: { type: Type.Float, default: 0.1 },
    /** Flag for only moving the object on the global x & z planes */
    lockY: { type: Type.Bool, default: false },
    /** Object of which the orientation is used to determine forward direction */
    headObject: { type: Type.Object }
  });

  // js/CanvasUI.js
  var CanvasUI_exports = {};
  __export(CanvasUI_exports, {
    CanvasUI: () => CanvasUI
  });
  var CanvasKeyboard = class {
    constructor(width, canvasui, lang = "EN") {
      const config2 = this.getConfig(lang);
      config2.panelSize = { width, height: width * 0.5 };
      config2.height = 256;
      config2.body = { backgroundColor: "#555" };
      const object = WL.scene.addObject();
      object.name = "keyboard";
      const mesh = object.addComponent("mesh");
      const uimesh = canvasui.object.getComponent("mesh");
      mesh.mesh = uimesh.mesh;
      mesh.material = uimesh.material.clone();
      object.addComponent("cursor-target");
      const content = this.getContent(lang);
      this.keyboard = new CanvasUI(content, config2, object, canvasui.engine);
      this.tmpVec = new Float32Array(3);
      this.hp = state.test();
    }
    get object() {
      return this.keyboard.object;
    }
    getConfig(lang) {
      const config2 = {};
      let padding = 10;
      const paddingTop = 20;
      const width = (512 - 2 * padding) / 10 - padding;
      const height = (256 - 2 * padding) / 4 - padding;
      const hover = "#333";
      const backgroundColor = "#000";
      let y = padding;
      let x = padding;
      for (let i = 0; i < 10; i++) {
        const btn = { type: "button", position: { x, y }, width, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i) };
        config2[`btn${i}`] = btn;
        x += width + padding;
      }
      y += height + padding;
      x = padding;
      for (let i = 0; i < 10; i++) {
        const btn = { type: "button", position: { x, y }, width, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i + 10) };
        config2[`btn${i + 10}`] = btn;
        x += width + padding;
      }
      y += height + padding;
      x = padding;
      for (let i = 0; i < 9; i++) {
        const w = i == 0 || i == 8 ? width * 1.5 + padding * 0.5 : width;
        const btn = { type: "button", position: { x, y }, width: w, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i + 20) };
        config2[`btn${i + 20}`] = btn;
        x += w + padding;
      }
      y += height + padding;
      x = padding;
      for (let i = 0; i < 5; i++) {
        const w = i == 0 || i == 4 ? width * 2 + padding : i == 2 ? width * 4 + 3 * padding : width;
        const btn = { type: "button", position: { x, y }, width: w, height, padding, paddingTop, backgroundColor, borderRadius: 6, hover, onSelect: this.onSelect.bind(this, i + 30) };
        if (i == 0)
          btn.fontSize = 20;
        config2[`btn${i + 30}`] = btn;
        x += w + padding;
      }
      return config2;
    }
    getContent(lang, layoutIndex = 0) {
      let content = {};
      let keys;
      this.language = lang;
      this.keyboardIndex = layoutIndex;
      switch (layoutIndex) {
        case 0:
          keys = [
            "q",
            "w",
            "e",
            "r",
            "t",
            "y",
            "u",
            "i",
            "o",
            "p",
            "a",
            "s",
            "d",
            "f",
            "g",
            "h",
            "j",
            "k",
            "l",
            "@",
            "\u21E7",
            "z",
            "x",
            "c",
            "v",
            "b",
            "n",
            "m",
            "\u21E6",
            "",
            "?123",
            ",",
            "   ",
            ".",
            "\u21B2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
        case 1:
          keys = [
            "Q",
            "W",
            "E",
            "R",
            "T",
            "Y",
            "U",
            "I",
            "O",
            "P",
            "A",
            "S",
            "D",
            "F",
            "G",
            "H",
            "J",
            "K",
            "L",
            "@",
            "\u21E7",
            "Z",
            "X",
            "C",
            "V",
            "B",
            "N",
            "M",
            "\u21E6",
            "",
            "?123",
            ",",
            "   ",
            ".",
            "\u21B2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
        case 2:
          keys = [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "0",
            "@",
            "#",
            "%",
            "&",
            "*",
            "/",
            "-",
            "+",
            "(",
            ")",
            "\u21E7",
            "?",
            "!",
            '"',
            "'",
            "\\",
            ":",
            ";",
            "\u21E6",
            "",
            "abc",
            ",",
            "   ",
            ".",
            "\u21B2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
        case 3:
          keys = [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "0",
            "\u20AC",
            "\xA3",
            "$",
            "^",
            "=",
            "|",
            "{",
            "}",
            "[",
            "}",
            "\u21E7",
            "<",
            ">",
            "_",
            "`",
            "~",
            ":",
            ";",
            "\u21E6",
            "",
            "abc",
            ",",
            "   ",
            ".",
            "\u21B2"
          ];
          for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            if (key !== "")
              content[`btn${i}`] = key;
          }
          break;
      }
      return content;
    }
    get position() {
      const pos = this.keyboard.object.getTranslationWorld(this.tmpVec);
      return pos;
    }
    get positionLocal() {
      const pos = this.keyboard.object.getTranslationLocal(this.tmpVec);
      return pos;
    }
    get visible() {
      return this.active;
    }
    set visible(value) {
      this.keyboard.object.active = value;
      this.active = value;
    }
    setKeyboard(index) {
      this.keyboard.content = this.getContent(this.language, index);
      this.keyboard.needsUpdate = true;
    }
    onSelect(index) {
      if (!this.visible)
        return;
      let change = false;
      switch (index) {
        case 34:
          this.visible = false;
          if (this.linkedElement.onEnter)
            this.linkedElement.onEnter(this.linkedText);
          break;
        case 32:
          this.linkedText += " ";
          change = true;
          break;
        case 30:
          this.shift = false;
          if (this.keyboardIndex < 2) {
            this.setKeyboard(2);
          } else {
            this.setKeyboard(0);
          }
          this.keyboard.needsUpdate = true;
          break;
        case 28:
          this.linkedText = this.linkedText.substring(0, this.linkedText.length - 1);
          change = true;
          break;
        case 20:
          this.shift = !this.shift;
          if (this.keyboardIndex == 0) {
            this.setKeyboard(1);
          } else if (this.keyboardIndex == 1) {
            this.setKeyboard(0);
          } else if (this.keyboardIndex == 2) {
            this.setKeyboard(3);
          } else if (this.keyboardIndex == 3) {
            this.setKeyboard(2);
          }
          break;
        default:
          const txt = this.keyboard.content[`btn${index}`];
          this.linkedText += txt;
          change = true;
          if (this.keyboardIndex == 1)
            this.setKeyboard(0);
          break;
      }
      if (change) {
        this.linkedUI.updateElement(this.linkedName, this.linkedText);
        if (this.linkedElement.onChanged)
          this.linkedElement.onChanged(this.linkedText);
      }
    }
    update() {
      if (this.keyboard) {
        this.keyboard.update();
      }
    }
  };
  var CanvasUI = class {
    constructor(content, config2, object, engine) {
      const defaultconfig = {
        width: 512,
        height: 512,
        opacity: 0.7,
        body: {
          fontFamily: "Arial",
          fontSize: 100,
          padding: 20,
          backgroundColor: "#000",
          fontColor: "#fff",
          borderRadius: 6
        }
      };
      this.config = config2 === void 0 ? defaultconfig : config2;
      if (this.config.width === void 0)
        this.config.width = 512;
      if (this.config.height === void 0)
        this.config.height = 512;
      if (this.config.body === void 0)
        this.config.body = { fontFamily: "Arial", size: 30, padding: 20, backgroundColor: "#000", fontColor: "#fff", borderRadius: 6 };
      if (this.config.collisionGroup === void 0) {
        this.collisionGroup = 1;
      } else {
        this.collisionGroup = 1 << this.config.collisionGroup;
      }
      const body = this.config.body;
      if (body.borderRadius === void 0)
        body.borderRadius = 6;
      if (body.fontFamily === void 0)
        body.fontFamily = "Arial";
      if (body.padding === void 0)
        body.padding = 20;
      if (body.fontSize === void 0)
        body.fontSize = 100;
      if (body.backgroundColor === void 0)
        body.backgroundColor = "#000";
      if (body.fontColor === void 0)
        body.fontColor = "#fff";
      Object.entries(this.config).forEach(([name, value]) => {
        if (typeof value === "object" && name !== "panelSize") {
          const pos = value.position !== void 0 ? value.position : { x: 0, y: 0 };
          if (pos.left !== void 0 && pos.x === void 0)
            pos.x = pos.left;
          if (pos.top !== void 0 && pos.y === void 0)
            pos.y = pos.top;
          const width = value.width !== void 0 ? value.width : this.config.width;
          const height = value.height !== void 0 ? value.height : this.config.height;
          if (pos.right !== void 0 && pos.x === void 0)
            pos.x = this.config.width - pos.right - width;
          if (pos.bottom !== void 0 && pos.y === void 0)
            pos.y = this.config.height - pos.bottom - height;
          if (pos.x === void 0)
            pos.x = 0;
          if (pos.y === void 0)
            pos.y = 0;
          value.position = pos;
          if (value.type === void 0)
            value.type = "text";
        }
      });
      this.canvas = this.createOffscreenCanvas(this.config.width, this.config.height);
      this.context = this.canvas.getContext("2d");
      this.context.save();
      const opacity = this.config.opacity !== void 0 ? this.config.opacity : 0.7;
      const mesh = object.getComponent("mesh");
      this.material = mesh.material;
      this.canvasTexture = new Texture(engine, this.canvas);
      this.material.flatTexture = this.canvasTexture;
      if (config2.panelSize) {
        object.resetScaling();
        const scale6 = [config2.panelSize.width, config2.panelSize.height, 0.01];
        object.scale(scale6);
        this.panelSize = config2.panelSize;
      } else {
        this.panelSize = { width: 1, height: 1 };
      }
      this.object = object;
      this.engine = engine;
      this.tmpVec = new Float32Array(3);
      this.tmpVec1 = new Float32Array(3);
      this.tmpQuat = new Float32Array(4);
      const inputs = Object.values(this.config).filter((value) => {
        return value.type === "input-text";
      });
      if (inputs.length > 0) {
        const width = config2.panelSize ? config2.panelSize.width : 1;
        const height = config2.panelSize ? config2.panelSize.height : 1;
        let halfheight = height / 2;
        this.keyboard = new CanvasKeyboard(width, this);
        this.getEuler(this.tmpVec, this.object.rotationWorld);
        let theta = this.tmpVec[1];
        this.tmpVec[0] = 0;
        this.tmpVec[2] = -Math.cos(theta) / halfheight;
        this.tmpVec[1] = Math.sin(theta) / halfheight;
        console.log(`CanvasUI create keyboard 1 theta=${theta.toFixed(2)} offset=${this.vecToStr(this.tmpVec)}`);
        halfheight = width / 4;
        this.getEuler(this.tmpVec1, this.keyboard.keyboard.object.rotationWorld);
        theta += -15 * Math.PI / 180;
        this.tmpVec1[0] = 0;
        this.tmpVec1[2] = -Math.cos(theta) / halfheight;
        this.tmpVec1[1] = Math.sin(theta) / halfheight;
        console.log(`CanvasUI create keyboard 2 theta=${theta.toFixed(2)} offset=${this.vecToStr(this.tmpVec1)}`);
        vec3_exports.add(this.tmpVec, this.tmpVec, this.tmpVec1);
        console.log(`CanvasUI create keyboard 3 theta=${theta.toFixed(2)} offset=${this.vecToStr(this.tmpVec)}`);
        const obj = this.keyboard.object;
        quat_exports.fromEuler(this.tmpQuat, -15, 0, 0);
        obj.rotate(this.tmpQuat);
        obj.translate(this.tmpVec);
        vec3_exports.divide(this.tmpVec, obj.scalingLocal, object.scalingWorld);
        obj.resetScaling();
        obj.scale(this.tmpVec);
        obj.parent = object;
        obj.setDirty();
        this.keyboard.visible = false;
      }
      if (content === void 0) {
        this.content = { body: "" };
        this.config.body.type = "text";
      } else {
        this.content = content;
        const btns = Object.values(config2).filter((value) => {
          return value.type === "button" || value.overflow === "scroll" || value.type === "input-text";
        });
        if (btns.length > 0) {
          this.engine.onXRSessionStart.add(this.initControllers.bind(this));
          const extents = new Float32Array(3);
          vec3_exports.copy(extents, this.object.scalingWorld);
          const collision = this.object.addComponent("collision", { collider: 2, extents, group: this.collisionGroup });
        }
      }
      this.selectedElements = [void 0, void 0];
      this.selectPressed = [false, false];
      this.scrollData = [void 0, void 0];
      this.intersects = [void 0, void 0];
      this.needsUpdate = true;
      this.update();
    }
    vecToStr(v, precision = 2) {
      let str5 = "";
      if (v) {
        for (let i = 0; i < v.length; i++) {
          str5 += v[i].toFixed(precision) + ", ";
        }
      }
      return str5;
    }
    //returns yaw, pitch, roll
    getEuler(out, quat) {
      let x = quat[0], y = quat[1], z = quat[2], w = quat[3], x2 = x * x, y2 = y * y, z2 = z * z, w2 = w * w;
      let unit = x2 + y2 + z2 + w2;
      let test = x * w - y * z;
      if (test > 0.499995 * unit) {
        out[0] = Math.PI / 2;
        out[1] = 2 * Math.atan2(y, x);
        out[2] = 0;
      } else if (test < -0.499995 * unit) {
        out[0] = -Math.PI / 2;
        out[1] = 2 * Math.atan2(y, x);
        out[2] = 0;
      } else {
        out[0] = Math.asin(2 * (x * z - w * y));
        out[1] = Math.atan2(2 * (x * w + y * z), 1 - 2 * (z2 + w2));
        out[2] = Math.atan2(2 * (x * y + z * w), 1 - 2 * (y2 + z2));
      }
      return out;
    }
    getIntersectY(index) {
      const height = this.config.height || 512;
      const intersect = this.intersects[index];
      if (intersect === void 0)
        return 0;
      if (intersect.xy === void 0)
        return 0;
      return intersect.xy[1];
    }
    get selectIsPressed() {
      return this.selectPressed[0] || this.selectPressed[1];
    }
    initControllers(s) {
      this.session = s;
      const root = new Object3D(0);
      root.children.forEach((child) => {
        if (child.name == "Player") {
          const space = child.children[0];
          space.children.forEach((child2) => {
            if (child2.name == "CursorLeft")
              this.rayLeft = child2;
            if (child2.name == "CursorRight")
              this.rayRight = child2;
          });
        }
      });
      if (!(this.rayLeft && this.rayRight))
        console.warn("Player CursorLeft or Player CursorRight not found");
      function onSelect(event) {
        const index = event.inputSource.handedness === "left" ? 0 : 1;
        const elm = this.selectedElements[index];
        if (elm !== void 0) {
          if (elm.type == "button") {
            this.select(index);
          } else if (elm.type == "input-text") {
            if (this.keyboard) {
              if (this.keyboard.visible) {
                this.keyboard.linkedUI = void 0;
                this.keyboard.linkedText = void 0;
                this.keyboard.linkedElement = void 0;
                this.keyboard.visible = false;
              } else {
                this.keyboard.linkedUI = this;
                let name;
                Object.entries(this.config).forEach(([prop, value]) => {
                  if (value == elm)
                    name = prop;
                });
                const y = (0.5 - (elm.position.y + elm.height + this.config.body.padding) / this.config.height) * this.panelSize.height;
                const h = Math.max(this.panelSize.width, this.panelSize.height) / 2;
                this.keyboard.linkedText = this.content[name];
                this.keyboard.linkedName = name;
                this.keyboard.linkedElement = elm;
                this.keyboard.visible = true;
              }
            }
          }
        }
      }
      ;
      function onSelectStart(event) {
        const index = event.inputSource.handedness === "left" ? 0 : 1;
        this.selectPressed[index] = true;
        if (this.selectedElements[index] !== void 0 && this.selectedElements[index].overflow == "scroll") {
          const elm = this.selectedElements[index];
          this.scrollData[index] = { scrollY: elm.scrollY, rayY: this.getIntersectY(index) };
        }
      }
      function onSelectEnd(event) {
        const index = event.inputSource.handedness === "left" ? 0 : 1;
        this.selectPressed[index] = false;
        if (this.selectedElements[index] !== void 0 && this.selectedElements[index].overflow == "scroll") {
          this.scrollData[index] = void 0;
        }
      }
      s.addEventListener("end", function() {
        this.session = null;
      }.bind(this));
      s.addEventListener("select", onSelect.bind(this));
      s.addEventListener("selectstart", onSelectStart.bind(this));
      s.addEventListener("selectend", onSelectEnd.bind(this));
    }
    setClip(elm) {
      const context = this.context;
      context.restore();
      context.save();
      if (elm.clipPath !== void 0) {
        const path = new Path2D(elm.clipPath);
        context.clip(path);
      } else {
        const pos = elm.position !== void 0 ? elm.position : { x: 0, y: 0 };
        const borderRadius = elm.borderRadius || 0;
        const width = elm.width || this.config.width;
        const height = elm.height || this.config.height;
        context.beginPath();
        if (borderRadius !== 0) {
          const angle2 = Math.PI / 2;
          context.moveTo(pos.x + borderRadius, pos.y);
          context.arc(pos.x + borderRadius, pos.y + borderRadius, borderRadius, angle2, angle2 * 2, true);
          context.lineTo(pos.x, pos.y + height - borderRadius);
          context.arc(pos.x + borderRadius, pos.y + height - borderRadius, borderRadius, 0, angle2, true);
          context.lineTo(pos.x + width - borderRadius, pos.y + height);
          context.arc(pos.x + width - borderRadius, pos.y + height - borderRadius, borderRadius, angle2 * 3, angle2 * 4, true);
          context.lineTo(pos.x + width, pos.y + borderRadius);
          context.arc(pos.x + width - borderRadius, pos.y + borderRadius, borderRadius, angle2 * 2, angle2 * 3, true);
          context.closePath();
          context.clip();
        } else {
          context.rect(pos.x, pos.y, width, height);
          context.clip();
        }
      }
    }
    setPosition(x, y, z) {
      if (this.mesh === void 0)
        return;
      this.mesh.position.set(x, y, z);
    }
    setRotation(x, y, z) {
      if (this.mesh === void 0)
        return;
      this.mesh.rotation.set(x, y, z);
    }
    updateElement(name, content) {
      let elm = this.content[name];
      if (elm === void 0) {
        console.warn(`CanvasUI.updateElement: No ${name} found`);
        return;
      }
      if (typeof elm === "object") {
        elm.content = content;
      } else {
        elm = content;
      }
      this.content[name] = elm;
      this.needsUpdate = true;
    }
    get panel() {
      return this.mesh;
    }
    getElementAtLocation(x, y) {
      const elms = Object.entries(this.config).filter(([name, elm2]) => {
        if (typeof elm2 === "object" && name !== "panelSize" && name !== "body") {
          const pos = elm2.position;
          const width = elm2.width !== void 0 ? elm2.width : this.config.width;
          const height = elm2.height !== void 0 ? elm2.height : this.config.height;
          return x >= pos.x && x < pos.x + width && y >= pos.y && y < pos.y + height;
        }
      });
      const elm = elms.length == 0 ? null : this.config[elms[0][0]];
      return elm;
    }
    updateConfig(name, property2, value) {
      let elm = this.config[name];
      if (elm === void 0) {
        console.warn(`CanvasUI.updateconfig: No ${name} found`);
        return;
      }
      elm[property2] = value;
      this.needsUpdate = true;
    }
    hover(index = 0, xy) {
      if (xy === void 0) {
        if (this.selectedElements[index] !== void 0) {
          this.selectedElements[index] = void 0;
          this.needsUpdate = true;
        }
      } else {
        const x = xy[0];
        const y = xy[1];
        const elm = this.getElementAtLocation(x, y);
        if (elm === null) {
          if (this.selectedElements[index] !== void 0) {
            this.selectedElements[index] = void 0;
            this.needsUpdate = true;
          }
        } else if (this.selectedElements[index] !== elm) {
          this.selectedElements[index] = elm;
          this.needsUpdate = true;
        }
      }
    }
    select(index = 0, mouse = false) {
      if (this.selectedElements[index] !== void 0) {
        const elm = this.selectedElements[index];
        if (elm.onSelect)
          elm.onSelect();
        if (elm.type === "input-text") {
          if (mouse) {
            if (this.keyboard) {
              if (this.keyboard.visible) {
                this.keyboard.linkedUI = void 0;
                this.keyboard.linkedText = void 0;
                this.keyboard.linkedElement = void 0;
                this.keyboard.visible = false;
              } else {
                this.keyboard.linkedUI = this;
                let name;
                Object.entries(this.config).forEach(([prop, value]) => {
                  if (value == elm)
                    name = prop;
                });
                const y = (0.5 - (elm.position.y + elm.height + this.config.body.padding) / this.config.height) * this.panelSize.height;
                const h = Math.max(this.panelSize.width, this.panelSize.height) / 2;
                this.keyboard.linkedText = this.content[name];
                this.keyboard.linkedName = name;
                this.keyboard.linkedElement = elm;
                this.keyboard.visible = true;
              }
            }
          } else {
            this.keyboard.visible = this.keyboard.visible ? false : true;
          }
        } else {
          this.selectedElements[index] = void 0;
        }
      }
    }
    scroll(index) {
      if (this.selectedElements[index] === void 0) {
        if (this.intersectMesh)
          this.intersectMesh[index].visible = false;
        return;
      }
      if (this.selectedElements[index].overflow !== "scroll")
        return;
      const elm = this.selectedElements[index];
      if (this.selectPressed[index]) {
        const scrollData = this.scrollData[index];
        if (scrollData !== void 0) {
          if (this.intersectMesh) {
            this.intersectMesh[index].visible = true;
            this.intersectMesh[index].position.copy(this.intersects[index].point);
          }
          const rayY = this.getIntersectY(index);
          const offset2 = rayY - scrollData.rayY;
          elm.scrollY = Math.min(Math.max(elm.minScrollY, scrollData.scrollY + offset2), 0);
          this.needsUpdate = true;
        }
      } else {
        if (this.intersectMesh)
          this.intersectMesh[index].visible = false;
      }
    }
    worldToCanvas(pos) {
      this.object.transformPointInverseWorld(this.tmpVec, pos);
      vec3_exports.copy(this.tmpVec1, this.object.scalingWorld);
      vec3_exports.div(this.tmpVec, this.tmpVec, this.tmpVec1);
      const xy = new Float32Array(2);
      xy[0] = (this.tmpVec[0] + 1) / 2 * this.config.width;
      xy[1] = (1 - (this.tmpVec[1] + 1) / 2) * this.config.height;
      return xy;
    }
    handleController(controller, index) {
      if (controller == null)
        return;
      controller.getTranslationWorld(this.tmpVec);
      controller.getForward(this.tmpVec1);
      const intersects = WL.scene.rayCast(this.tmpVec, this.tmpVec1, this.collisionGroup, 100);
      if (intersects.hitCount > 0) {
        intersects.xy = this.worldToCanvas(intersects.locations[0]);
        this.hover(index, intersects.xy);
        this.intersects[index] = intersects;
        this.scroll(index);
      } else {
        this.hover(index);
        this.intersects[index] = void 0;
        this.scroll(index);
      }
    }
    update() {
      if (this.rayLeft)
        this.handleController(this.rayLeft, 0);
      if (this.rayRight)
        this.handleController(this.rayRight, 1);
      if (this.keyboard && this.keyboard.visible)
        this.keyboard.update();
      if (!this.needsUpdate)
        return;
      let context = this.context;
      context.clearRect(0, 0, this.config.width, this.config.height);
      const bgColor = this.config.body.backgroundColor ? this.config.body.backgroundColor : "#000";
      const fontFamily = this.config.body.fontFamily ? this.config.body.fontFamily : "Arial";
      const fontColor = this.config.body.fontColor ? this.config.body.fontColor : "#fff";
      const fontSize = this.config.body.fontSize ? this.config.body.fontSize : 30;
      this.setClip(this.config.body);
      context.fillStyle = bgColor;
      context.fillRect(0, 0, this.config.width, this.config.height);
      Object.entries(this.content).forEach(([name, content]) => {
        const config2 = this.config[name] !== void 0 ? this.config[name] : this.config.body;
        const display = config2.display !== void 0 ? config2.display : "block";
        if (display !== "none") {
          const pos = config2.position !== void 0 ? config2.position : { x: 0, y: 0 };
          const width = config2.width !== void 0 ? config2.width : this.config.width;
          const height = config2.height !== void 0 ? config2.height : this.config.height;
          if (config2.type == "button" && !content.toLowerCase().startsWith("<path>")) {
            if (config2.borderRadius === void 0)
              config2.borderRadius = 6;
            if (config2.textAlign === void 0)
              config2.textAlign = "center";
          }
          this.setClip(config2);
          const svgPath = content.toLowerCase().startsWith("<path>");
          const hover = this.selectedElements[0] !== void 0 && this.selectedElements[0] === config2 || this.selectedElements[1] !== void 0 && this.selectedElements[1] === config2;
          if (config2.backgroundColor !== void 0) {
            if (hover && config2.type == "button" && config2.hover !== void 0) {
              context.fillStyle = config2.hover;
            } else {
              context.fillStyle = config2.backgroundColor;
            }
            context.fillRect(pos.x, pos.y, width, height);
          }
          if (config2.type == "text" || config2.type == "button" || config2.type == "input-text") {
            let stroke = false;
            if (hover) {
              if (!svgPath && config2.type == "button") {
                context.fillStyle = config2.fontColor !== void 0 ? config2.fontColor : fontColor;
              } else {
                context.fillStyle = config2.hover !== void 0 ? config2.hover : config2.fontColor !== void 0 ? config2.fontColor : fontColor;
              }
              stroke = config2.hover === void 0;
            } else {
              context.fillStyle = config2.fontColor !== void 0 ? config2.fontColor : fontColor;
            }
            if (svgPath) {
              const code = content.toUpperCase().substring(6, content.length - 7);
              context.save();
              context.translate(pos.x, pos.y);
              const path = new Path2D(code);
              context.fill(path);
              context.restore();
            } else {
              this.wrapText(name, content);
            }
            if (stroke) {
              context.beginPath();
              context.strokeStyle = "#fff";
              context.lineWidth = 2;
              context.rect(pos.x, pos.y, width, height);
              context.stroke();
            }
          } else if (config2.type == "img") {
            if (config2.img === void 0) {
              this.loadImage(content).then((img) => {
                console.log(`w: ${img.width} | h: ${img.height}`);
                config2.img = img;
                this.needsUpdate = true;
                this.update();
              }).catch((err) => console.error(err));
            } else {
              const aspect = config2.img.width / config2.img.height;
              const h = width / aspect;
              context.drawImage(config2.img, pos.x, pos.y, width, h);
            }
          }
        }
      });
      if (this.canvasTexture)
        this.canvasTexture.update();
      this.needsUpdate = false;
    }
    loadImage(src) {
      return new Promise((resolve, reject) => {
        const img = new Image();
        img.addEventListener("load", () => resolve(img));
        img.addEventListener("error", (err) => reject(err));
        img.src = src;
      });
    }
    createOffscreenCanvas(w, h) {
      const canvas2 = document.createElement("canvas");
      canvas2.width = w;
      canvas2.height = h;
      return canvas2;
    }
    fillRoundedRect(x, y, w, h, radius) {
      const ctx = this.context;
      ctx.beginPath();
      ctx.moveTo(x + radius, y);
      ctx.lineTo(x + w - radius, y);
      ctx.quadraticCurveTo(x + w, y, x + w, y + radius);
      ctx.lineTo(x + w, y + h - radius);
      ctx.quadraticCurveTo(x + w, y + h, x + w - radius, y + h);
      ctx.lineTo(x + radius, y + h);
      ctx.quadraticCurveTo(x, y + h, x, y + h - radius);
      ctx.lineTo(x, y + radius);
      ctx.quadraticCurveTo(x, y, x + radius, y);
      ctx.closePath();
      ctx.fill();
    }
    lookAt(pos) {
      if (this.mesh === void 0)
        return;
      if (!(pos instanceof Vector3)) {
        console.error("CanvasUI lookAt called parameter not a THREE.Vector3");
        return;
      }
      this.mesh.lookAt(pos);
    }
    get visible() {
      if (this.mesh === void 0)
        return false;
      return this.mesh.active;
    }
    set visible(value) {
      if (this.mesh) {
        this.mesh.active = value;
      }
    }
    get position() {
      if (this.object === void 0)
        return void 0;
      this.object.getTranslationWorld(this.tmpVec);
      return this.tmpVec;
    }
    set position(value) {
      if (this.object === void 0)
        return;
      if (!(value instanceof Float32Array)) {
        console.error("CanvasUI trying to set the object position using a parameter that is not a Float32Array");
        return;
      }
      this.object.setTranslationWorld(value);
    }
    get quaternion() {
      if (this.object === void 0)
        return void 0;
      this.object.getTranslationWorld(this.tmpVec);
      return this.tmpVec;
    }
    set quaternion(value) {
      if (this.mesh === void 0)
        return;
      if (!(value instanceof QUaternion)) {
        console.error("CanvasUI trying to set the object quaternion using a parameter that is not a THREE.Quaternion");
        return;
      }
      this.mesh.quaternion.copy(value);
    }
    wrapText(name, txt) {
      const words = txt.split(" ");
      let line = "";
      const lines = [];
      const config2 = this.config[name] !== void 0 ? this.config[name] : this.config.body;
      const width = config2.width !== void 0 ? config2.width : this.config.width;
      const height = config2.height !== void 0 ? config2.height : this.config.height;
      const pos = config2.position !== void 0 ? config2.position : { x: 0, y: 0 };
      const padding = config2.padding !== void 0 ? config2.padding : this.config.body.padding !== void 0 ? this.config.body.padding : 10;
      const paddingTop = config2.paddingTop !== void 0 ? config2.paddingTop : padding;
      const paddingLeft = config2.paddingLeft !== void 0 ? config2.paddingLeft : padding;
      const paddingBottom = config2.paddingBottom !== void 0 ? config2.paddingBottom : padding;
      const paddingRight = config2.paddingRight !== void 0 ? config2.paddingRight : padding;
      const rect = { x: pos.x + paddingLeft, y: pos.y + paddingTop, width: width - paddingLeft - paddingRight, height: height - paddingTop - paddingBottom };
      const textAlign = config2.textAlign !== void 0 ? config2.textAlign : this.config.body.textAlign !== void 0 ? this.config.body.textAlign : "left";
      const fontSize = config2.fontSize !== void 0 ? config2.fontSize : this.config.body.fontSize !== void 0 ? this.config.body.fontSize : 30;
      const fontFamily = config2.fontFamily !== void 0 ? config2.fontFamily : this.config.body.fontFamily !== void 0 ? this.config.body.fontFamily : "Arial";
      const leading = config2.leading !== void 0 ? config2.leading : this.config.body.leading !== void 0 ? this.config.body.leading : 8;
      const lineHeight = fontSize + leading;
      const context = this.context;
      context.textAlign = textAlign;
      context.font = `${fontSize}px '${fontFamily}'`;
      words.forEach(function(word) {
        let testLine = words.length > 1 ? `${line}${word} ` : word;
        let metrics = context.measureText(testLine);
        if (metrics.width > rect.width && word.length > 1) {
          if (line.length == 0 && metrics.width > rect.width) {
            while (metrics.width > rect.width) {
              let count = 0;
              do {
                count++;
                testLine = word.substr(0, count);
                metrics = context.measureText(testLine);
              } while (metrics.width < rect.width && count < word.length - 1);
              count--;
              testLine = word.substr(0, count);
              lines.push(testLine);
              word = word.substr(count);
              if (count <= 1)
                break;
              metrics = context.measureText(word);
            }
            if (word != "")
              lines.push(word);
          } else {
            lines.push(line);
            line = `${word} `;
          }
        } else {
          line = testLine;
        }
      });
      if (line != "")
        lines.push(line);
      const textHeight = lines.length * lineHeight;
      let scrollY = 0;
      if (textHeight > rect.height && config2.overflow === "scroll") {
        if (config2.scrollY === void 0)
          config2.scrollY = 0;
        const fontColor = config2.fontColor !== void 0 ? config2.fontColor : this.config.body.fontColor;
        context.fillStyle = "#aaa";
        this.fillRoundedRect(pos.x + width - 12, pos.y, 12, height, 6);
        context.fillStyle = "#666";
        const scale6 = rect.height / textHeight;
        const thumbHeight = scale6 * height;
        const thumbY = -config2.scrollY * scale6;
        this.fillRoundedRect(pos.x + width - 12, pos.y + thumbY, 12, thumbHeight, 6);
        context.fillStyle = fontColor;
        scrollY = config2.scrollY;
        config2.minScrollY = rect.height - textHeight;
      }
      let y = scrollY + rect.y + fontSize / 2;
      let x;
      switch (textAlign) {
        case "center":
          x = rect.x + rect.width / 2;
          break;
        case "right":
          x = rect.x + rect.width;
          break;
        default:
          x = rect.x;
          break;
      }
      lines.forEach((line2) => {
        if (y + lineHeight > 0)
          context.fillText(line2, x, y);
        y += lineHeight;
      });
    }
  };

  // js/DayNight.js
  var DayNight_exports = {};
  __export(DayNight_exports, {
    DayNight: () => DayNight
  });
  var DayNight = class extends Component {
    start() {
      console.log("start() with param", this.param);
    }
    init() {
      this.timer1 = 0;
      this.r = 0.5;
      this.g = 0.5;
      this.b = 0.5;
      this.mod = 5e-3;
    }
    update(dt) {
      this.timer1 += dt;
      let x = new Float32Array(3);
      if (this.timer1 > 0.125) {
        this.r += this.mod;
        this.g += this.mod;
        this.b += this.mod;
        this.timer1 = 0;
        if (this.r > 1 || this.r < 0.2) {
          state.day = !state.day;
          state.pauseEnemies = !state.pauseEnemies;
          state.pauseBuilding = !state.pauseBuilding;
          this.mod *= -1;
          this.r += this.mod * 3;
          this.g += this.mod * 3;
          this.b += this.mod * 3;
          state.levelUp();
        }
        x = [this.r, this.g, this.b];
        this.object.getComponent("light").setColor(x);
      }
    }
  };
  __publicField(DayNight, "TypeName", "DayNight");
  /* Properties that are configurable in the editor */
  __publicField(DayNight, "Properties", {
    dayTimer: { type: Type.Int, default: 2 }
  });

  // js/bullet-physics.js
  var bullet_physics_exports = {};
  __export(bullet_physics_exports, {
    BulletPhysics: () => BulletPhysics
  });
  var newDir = new Float32Array(3);
  var BulletPhysics = class extends Component {
    init() {
      this.dir = new Float32Array(3);
      this.position = [0, 0, 0];
      this.object.getPositionWorld(this.position);
      this.correctedSpeed = this.speed / 6;
      this.collision = this.object.getComponent("collision", 0);
      if (!this.collision) {
        console.warn(
          "'bullet-physics' component on object",
          this.object.name,
          "requires a collision component"
        );
      }
    }
    update(dt) {
      this.object.getPositionWorld(this.position);
      if (this.position[1] <= state.floorHeight + this.collision.extents[0]) {
        this.destroyBullet(0);
        return;
      }
      if (vec3_exports.length(this.position) > 175) {
        this.destroyBullet(0);
        return;
      }
      newDir.set(this.dir);
      vec3_exports.scale(newDir, newDir, this.correctedSpeed);
      vec3_exports.add(this.position, this.position, newDir);
      this.object.setPositionLocal(this.position);
      let overlaps = this.collision.queryOverlaps();
      for (let i = 0; i < overlaps.length; ++i) {
        let t = overlaps[i].object.getComponent("score-trigger");
        if (t && !this.scored) {
          t.onHit();
          this.destroyBullet(0);
          return;
        }
      }
    }
    destroyBullet(time) {
      if (time == 0) {
        this.object.destroy();
      } else {
        setTimeout(() => {
          this.object.destroy();
        }, time);
      }
    }
  };
  __publicField(BulletPhysics, "TypeName", "bullet-physics");
  __publicField(BulletPhysics, "Properties", {
    speed: { type: Type.Float, default: 1 }
  });

  // js/bullet-spawner.js
  var bullet_spawner_exports = {};
  __export(bullet_spawner_exports, {
    BulletSpawner: () => BulletSpawner
  });
  var tempQuat22 = new Float32Array(8);
  var BulletSpawner = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(BulletPhysics);
    }
    init() {
      state.launch = function(dir) {
        let bullet = this.spawnBullet();
        bullet.object.setTransformLocal(this.object.getTransformWorld(tempQuat22));
        bullet.object.setDirty();
        bullet.physics.dir.set(dir);
        bullet.physics.scored = false;
        bullet.physics.active = true;
      }.bind(this);
    }
    start() {
      this.engine.onXRSessionStart.add(this.xrSessionStart.bind(this));
      this.start = new Float32Array(2);
      this.bullets = [];
      this.nextIndex = 0;
      this.lastShotTime = 0;
      state.bulletSpawner = this.object;
      this.soundClick = this.object.addComponent(HowlerAudioSource, {
        volume: 0.5
      });
    }
    onTouchDown(e) {
      if (e.inputSource.handedness == "right") {
        let currentTime = Date.now();
        let lastShotTimeGap = Math.abs(currentTime - this.lastShotTime);
        if (lastShotTimeGap > 500) {
          const dir = [0, 0, 0];
          this.object.getComponent("cursor").cursorRayObject.getForward(dir);
          state.launch(dir);
          this.lastShotTime = currentTime;
        }
      }
    }
    spawnBullet() {
      const obj = this.engine.scene.addObject();
      obj.scaleLocal([0.05, 0.05, 0.05]);
      obj.addComponent("mesh", {
        mesh: this.bulletMesh.mesh,
        material: this.bulletMaterial.material
      });
      obj.addComponent("collision", {
        shape: WL.Collider.Sphere,
        extents: [0.05, 0, 0],
        group: 1 << 0
      });
      const physics = obj.addComponent(BulletPhysics, {
        speed: this.bulletSpeed
      });
      physics.active = true;
      return {
        object: obj,
        physics
      };
    }
    //vibrates controller for haptic feedback
    onActivate() {
      if (!this.engine.xr)
        return;
      this.engine.xr.session.addEventListener(
        "selectstart",
        this.onTouchDown.bind(this)
      );
    }
    xrSessionStart(session) {
      if (!this.active)
        return;
      session.addEventListener("selectstart", this.onTouchDown.bind(this));
    }
  };
  __publicField(BulletSpawner, "TypeName", "bullet-spawner");
  __publicField(BulletSpawner, "Properties", {
    bulletMesh: { type: Type.Mesh },
    bulletMaterial: { type: Type.Material },
    bulletSpeed: { type: Type.Float, default: 1 }
  });

  // js/button.js
  var button_exports = {};
  __export(button_exports, {
    ButtonComponent: () => ButtonComponent,
    hapticFeedback: () => hapticFeedback
  });
  function hapticFeedback(object, strength, duration) {
    const input = object.getComponent(InputComponent);
    if (input && input.xrInputSource) {
      const gamepad = input.xrInputSource.gamepad;
      if (gamepad && gamepad.hapticActuators)
        gamepad.hapticActuators[0].pulse(strength, duration);
    }
  }
  var ButtonComponent = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HowlerAudioSource);
      engine.registerComponent(CursorTarget);
    }
    /* Position to return to when "unpressing" the button */
    returnPos = new Float32Array(3);
    start() {
      this.mesh = this.buttonMeshObject.getComponent(MeshComponent);
      this.defaultMaterial = this.mesh.material;
      this.buttonMeshObject.getTranslationLocal(this.returnPos);
      this.target = this.object.getComponent(CursorTarget) || this.object.addComponent(CursorTarget);
      this.soundClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/click.wav",
        spatial: true
      });
      this.soundUnClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/unclick.wav",
        spatial: true
      });
    }
    onActivate() {
      this.target.onHover.add(this.onHover);
      this.target.onUnhover.add(this.onUnhover);
      this.target.onDown.add(this.onDown);
      this.target.onUp.add(this.onUp);
    }
    onDeactivate() {
      this.target.onHover.remove(this.onHover);
      this.target.onUnhover.remove(this.onUnhover);
      this.target.onDown.remove(this.onDown);
      this.target.onUp.remove(this.onUp);
    }
    /* Called by 'cursor-target' */
    onHover = (_, cursor) => {
      this.mesh.material = this.hoverMaterial;
      if (cursor.type === "finger-cursor") {
        this.onDown(_, cursor);
      }
      hapticFeedback(cursor.object, 0.5, 50);
    };
    /* Called by 'cursor-target' */
    onDown = (_, cursor) => {
      this.buttonMeshObject.translate([0, -0.05, 0]);
      hapticFeedback(cursor.object, 1, 20);
      this.buttonMeshObject.children[0].getComponent("text").text = state.buttonFunctions[this.buttonFunction](this);
    };
    /* Called by 'cursor-target' */
    onUp = (_, cursor) => {
      this.soundUnClick.play();
      this.buttonMeshObject.setTranslationLocal(this.returnPos);
      hapticFeedback(cursor.object, 0.7, 20);
    };
    /* Called by 'cursor-target' */
    onUnhover = (_, cursor) => {
      this.mesh.material = this.defaultMaterial;
      if (cursor.type === "finger-cursor") {
        this.onUp(_, cursor);
      }
      hapticFeedback(cursor.object, 0.3, 50);
    };
  };
  __publicField(ButtonComponent, "TypeName", "button");
  __publicField(ButtonComponent, "Properties", {
    /** Object that has the button's mesh attached */
    buttonMeshObject: Property.object(),
    /** Material to apply when the user hovers the button */
    hoverMaterial: Property.material(),
    buttonFunction: Property.enum([
      "attack-damage-up",
      "attack-range-up",
      "speed-up",
      "profit-up",
      "heal-ship"
    ])
  });

  // js/celestial-rotation.js
  var celestial_rotation_exports = {};
  __export(celestial_rotation_exports, {
    CelestialRotation: () => CelestialRotation
  });
  var CelestialRotation = class extends Component {
    update(dt) {
      this.object.rotateAxisAngleDegObject([1, 0, 0], 0.055555);
    }
  };
  __publicField(CelestialRotation, "TypeName", "celestial-rotation");
  /* Properties that are configurable in the editor */
  __publicField(CelestialRotation, "Properties", {
    param: Property.float(1)
  });

  // js/default.js
  var default_exports = {};
  __export(default_exports, {
    Default: () => Default
  });

  // js/turret-aimer.js
  var turret_aimer_exports = {};
  __export(turret_aimer_exports, {
    TurretAimer: () => TurretAimer
  });
  var TurretAimer = class extends Component {
    start() {
      console.log("start() with param", this.param);
    }
    init() {
      this.timer = 0;
      this.hits = 0;
    }
    seek() {
      const collision = this.object.getComponent("collision");
      const overlaps = collision.queryOverlaps();
      for (const coll of overlaps) {
        if (coll.object.name === "dave") {
          if (this.object.target === null || this.object.target.walked < coll.object.walked) {
            this.object.target = coll.object;
          } else {
            this.object.target = null;
          }
        }
      }
    }
    checkStatus() {
      if (this.object.status != null) {
        this.object.target.poisoned = true;
        this.object.target.poisonStack += 1;
      }
    }
    checkDead() {
      if (this.object.target.health <= 0) {
        state.currency += this.object.target.value;
        this.object.target.destroy();
        state.needsUpdate = true;
        state.enemiesDestroyed++;
      }
    }
    fire() {
      let g = new Float32Array(3);
      const collision = this.object.getComponent("collision");
      const overlaps = collision.queryOverlaps();
      let fired = false;
      for (const coll of overlaps) {
        if (fired == false && coll.object === this.object.target) {
          this.object.turret.lookAt(this.object.target.getPositionWorld(), [0, 1, 0]);
          if (this.timer > this.object.cd) {
            this.object.shoot(this.object.turret.getForwardWorld(g));
            this.object.target.health -= this.object.damage;
            this.checkStatus();
            this.timer = 0;
            this.checkDead();
          }
          fired = true;
        }
      }
      if (!fired) {
        this.object.target = null;
      }
      ;
    }
    update(dt) {
      this.timer += dt;
      if (this.object.target == null || this.object.target.objectId < 0) {
        this.seek();
      }
      if (this.object.target && this.object.target.isDestroyed == false) {
        this.fire();
      }
    }
  };
  __publicField(TurretAimer, "TypeName", "turret-aimer");
  /* Properties that are configurable in the editor */
  __publicField(TurretAimer, "Properties", {});

  // js/projectile-spawner.js
  var projectile_spawner_exports = {};
  __export(projectile_spawner_exports, {
    ProjectileSpawner: () => ProjectileSpawner
  });

  // js/projectile-physics.js
  var projectile_physics_exports = {};
  __export(projectile_physics_exports, {
    ProjectilePhysics: () => ProjectilePhysics
  });
  var newDir2 = new Float32Array(3);
  var ProjectilePhysics = class extends Component {
    init() {
      this.dir = new Float32Array(3);
      this.position = [0, 0, 0];
      this.object.getPositionWorld(this.position);
      this.object.setScalingWorld([0.1, 0.1, 0.1]);
      this.correctedSpeed = this.speed * 5;
      this.collision = this.object.getComponent("collision", 0);
      if (!this.collision) {
        console.warn(
          "bullet-physics' component on object",
          this.object.name,
          "requires a collision component"
        );
      }
    }
    update(dt) {
      if (isNaN(dt)) {
        console.log("dt is NaN");
        return;
      }
      this.object.getPositionWorld(this.position);
      if (this.position[1] <= state.floorHeight + this.collision.extents[0]) {
        this.destroyBullet(0);
        return;
      }
      if (vec3_exports.length(this.position) > 175) {
        this.destroyBullet(0);
        return;
      }
      newDir2.set(this.dir);
      vec3_exports.scale(newDir2, newDir2, this.correctedSpeed);
      vec3_exports.add(this.position, this.position, newDir2);
      this.object.setPositionLocal(this.position);
      let overlaps = this.collision.queryOverlaps();
      for (let i = 0; i < overlaps.length; ++i) {
        this.destroyBullet(0);
        return;
      }
    }
    destroyBullet(time) {
      if (time == 0) {
        this.object.destroy();
      } else {
        setTimeout(() => {
          this.object.destroy();
        }, time);
      }
    }
  };
  __publicField(ProjectilePhysics, "TypeName", "projectile-physics");
  __publicField(ProjectilePhysics, "Properties", {
    speed: { type: Type.Float, default: 9 }
  });

  // js/projectile-spawner.js
  var ProjectileSpawner = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(ProjectilePhysics);
    }
    init() {
      console.log("Projectile spawner new+!");
      this.timer = 0;
      this.object.shoot = function(dir) {
        let projectile = this.spawn();
        projectile.physics.dir.set(dir);
        projectile.object.setDirty();
        projectile.physics.active = true;
      }.bind(this);
    }
    spawn() {
      const obj = this.engine.scene.addObject();
      let mesh = obj.addComponent("mesh", this.object.bulletMesh);
      mesh.active = true;
      obj.addComponent("collision", { shape: WL.Collider.Sphere, extents: [0.05, 0, 0], group: 1 << 0 });
      obj.name = "steven";
      obj.setPositionLocal(this.object.turret.children[3].getPositionWorld());
      const physics = obj.addComponent(ProjectilePhysics, { speed: 0.2 });
      physics.active = true;
      return { object: obj, physics };
    }
  };
  __publicField(ProjectileSpawner, "TypeName", "projectile-spawner");

  // js/default_turret_3D.js
  var default_turret_3D_exports = {};
  __export(default_turret_3D_exports, {
    DefaultTurret3D: () => DefaultTurret3D
  });
  var DefaultTurret3D = class extends Component {
    start() {
      state.defaultTurret3D = this;
    }
  };
  __publicField(DefaultTurret3D, "TypeName", "default_turret_3D");
  /* Properties that are configurable in the editor */
  __publicField(DefaultTurret3D, "Properties", {
    turret: { type: Type.Object },
    base: { type: Type.Object },
    bulletMesh: { type: Type.Mesh },
    bulletMaterial: { type: Type.Material }
  });

  // js/default.js
  var tempQuat23 = new Float32Array(8);
  var Default = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(TurretAimer);
      engine.registerComponent(ProjectileSpawner);
      engine.registerComponent(DefaultTurret3D);
    }
    makeTurret(x) {
      const obj = x.engine.scene.addObject();
      obj.turret = state.defaultTurret3D.turret.clone(obj);
      obj.base = state.defaultTurret3D.base.clone(obj);
      obj.target = null;
      obj.shoot = null;
      obj.cd = x.shootingCD;
      obj.name = "sam";
      obj.status = null;
      obj.damage = x.damage;
      obj.bulletMesh = {
        mesh: state.defaultTurret3D.bulletMesh,
        material: state.defaultTurret3D.bulletMaterial
      };
      obj.addComponent("collision", {
        collider: WL.Collider.Sphere,
        extents: [5, 0, 0],
        group: 1 << 5,
        // this code is a test to see how to trigger Collision Onhit and onleave that has
        // some documentation on wonderland, but I cant figre out how to use
        // IF we can get it working it would make aiming and shooting signifficantly
        //   more efficient
        CollisionEventType: 1,
        active: true
      });
      obj.addComponent(TurretAimer);
      obj.addComponent(ProjectileSpawner);
      obj.setTransformLocal(x.object.getTransformWorld(tempQuat23));
      obj.setScalingLocal([0.2, 0.4, 0.2]);
      obj.setRotationLocal([0, 0, 0, 1]);
      obj.active = true;
      state.turrets.push(obj);
      obj.setDirty();
    }
  };
  __publicField(Default, "TypeName", "default");
  /* Properties that are configurable in the editor */
  __publicField(Default, "Properties", {
    param: Property.float(1)
  });

  // js/enemy-spawner.js
  var enemy_spawner_exports = {};
  __export(enemy_spawner_exports, {
    EnemySpawner: () => EnemySpawner
  });

  // js/waypoint-movement.js
  var waypoint_movement_exports = {};
  __export(waypoint_movement_exports, {
    WaypointMovement: () => WaypointMovement
  });
  var WaypointMovement = class extends Component {
    init() {
      this.children = this.pathObject.children.sort(function(a, b) {
        return a.name.localeCompare(b.name);
      });
      this.positions = new Array(this.children.length);
      for (let i = 0; i < this.children.length; i++) {
        this.positions[i] = new Float32Array(3);
        this.children[i].getTranslationWorld(this.positions[i]);
      }
      this.currentPositionIndex = 0;
      this.currentPosition = new Float32Array(3);
      this.lookPosition = new Float32Array(3);
      this.fromPosition = this.positions[0];
      this.toPosition = this.positions[1];
      vec3_exports.sub(this.currentPosition, this.toPosition, this.fromPosition);
      this.fromToLength = vec3_exports.length(this.currentPosition);
      this.currentLength = 0;
      this.up = [0, 1, 0];
      this.quat = new Float32Array(4);
      lookAt2(this.quat, this.fromPosition, this.toPosition, this.up);
      this.object.resetTranslationRotation();
      this.object.rotate(this.quat);
      this.object.setTranslationWorld(this.fromPosition);
      this.p0 = new Float32Array(3);
      this.p1 = new Float32Array(3);
      this.p2 = new Float32Array(3);
      this.currentCurveIndex = 0;
      this.curveDistance = Math.max(0, Math.min(0.49999, this.curveDistance));
      this.bezFactorMultiplicator = 1 / (2 * this.curveDistance);
      this.onFinalWaypointReachedCallbacks = [];
    }
    /**
     * Adds a function to a callback array which, then calls the function after the final waypoint has been reached.
     * @param  {function} f Function to be added.
     */
    addOnFinalWaypointReachedCallback(f) {
      this.onFinalWaypointReachedCallbacks.push(f);
    }
    /**
     * Removes a function from the callback array for reaching the final waypoint..
     * @param  {function} f Function to be removed.
     */
    removeOnFinalWaypointReachedCallback(f) {
      const index = array.indexOf(f);
      if (index > -1) {
        this.onFinalWaypointReachedCallbacks.splice(index, 1);
      }
    }
    /**
     * Sets the points needed for the next curve
     */
    _setCurvePoints() {
      vec3_exports.sub(
        this.currentPosition,
        this.positions[this.currentCurveIndex],
        this.positions[this.currentCurveIndex + 1]
      );
      vec3_exports.scale(this.currentPosition, this.currentPosition, this.curveDistance);
      vec3_exports.add(this.p0, this.positions[this.currentCurveIndex + 1], this.currentPosition);
      this.p1 = this.positions[this.currentCurveIndex + 1];
      vec3_exports.sub(
        this.currentPosition,
        this.positions[this.currentCurveIndex + 2],
        this.positions[this.currentCurveIndex + 1]
      );
      vec3_exports.scale(this.currentPosition, this.currentPosition, this.curveDistance);
      vec3_exports.add(this.p2, this.positions[this.currentCurveIndex + 1], this.currentPosition);
    }
    /**
     * Sets the object's path object and configures it.
     * @param  {WL.Object} pathObject [Object containing alphebetically named children]
     */
    setPathObject(pathObject) {
      this.pathObject = pathObject;
      this.children = this.pathObject.children.sort(function(a, b) {
        return a.name.localeCompare(b.name);
      });
      this.positions = new Array(this.children.length);
      for (let i = 0; i < this.children.length; i++) {
        this.positions[i] = new Float32Array(3);
        this.children[i].getTranslationWorld(this.positions[i]);
      }
      this.currentPositionIndex = 0;
      this.currentCurveIndex = 0;
      this.currentLength = 0;
      this._setCurvePoints();
      this.fromPosition = this.positions[0];
      this.toPosition = this.positions[1];
      vec3_exports.sub(this.currentPosition, this.toPosition, this.fromPosition);
      this.fromToLength = vec3_exports.length(this.currentPosition);
    }
    update(dt) {
      this.object.timer += dt;
      if (this.object.timer > 1 && this.object.poisoned === true) {
        this.object.health -= this.object.poisonStack;
        this.object.poisonStack -= 1;
        if (this.object.health < 0) {
          this.object.destroy();
          state.currency += this.object.value;
          state.needsUpdate = true;
        }
        console.log(this.object.health);
        this.object.timer = 0;
        if (this.object.poisonStack < 1) {
          this.object.poisoned = false;
        }
      }
      this.currentLength += dt * this.speed;
      this.object.walked += 1;
      this.object.enem.lookAt(this.toPosition);
      let factor = this.currentLength / this.fromToLength;
      if (factor > 0.5 && this.currentPositionIndex != this.positions.length - 1) {
        this.incrementCurveIndex = true;
      }
      if (Math.abs(factor - Math.round(factor)) < this.curveDistance && !(this.currentPositionIndex == this.children.length - 2 && factor > 0.5) && !(this.currentPositionIndex == 0 && factor < 0.5)) {
        let bezFactor = (factor - Math.round(factor) + this.curveDistance) * this.bezFactorMultiplicator;
        vec3_exports.bezier(
          this.currentPosition,
          this.p0,
          this.p1,
          this.p1,
          this.p2,
          bezFactor
        );
        vec3_exports.bezier(
          this.lookPosition,
          this.p0,
          this.p1,
          this.p1,
          this.p2,
          bezFactor + 0.01
        );
      } else {
        if (this.incrementCurveIndex && factor < 0.5 && factor > this.curveDistance && this.currentCurveIndex != this.positions.length - 3) {
          this.currentCurveIndex++;
          this.incrementCurveIndex = false;
        }
        vec3_exports.lerp(this.currentPosition, this.fromPosition, this.toPosition, factor);
        vec3_exports.lerp(this.lookPosition, this.fromPosition, this.toPosition, factor + 0.01);
      }
      this.object.resetTranslationRotation();
      lookAt2(this.quat, this.currentPosition, this.lookPosition, this.up);
      this.object.rotate(this.quat);
      this.object.setTranslationWorld(this.currentPosition);
      if (this.currentLength > this.fromToLength) {
        this.start = false;
        this.currentPositionIndex++;
        if (this.currentPositionIndex == this.children.length - 1) {
          this.object.f();
          this.currentPositionIndex = 0;
          this.currentCurveIndex = 0;
          this.incrementCurveIndex = false;
          this.onFinalWaypointReachedCallbacks.forEach((f) => f());
        }
        this.fromPosition = this.positions[this.currentPositionIndex];
        this.toPosition = this.positions[this.currentPositionIndex + 1];
        vec3_exports.sub(this.currentPosition, this.toPosition, this.fromPosition);
        this.fromToLength = vec3_exports.length(this.currentPosition);
        this.currentLength = 0;
      }
    }
  };
  __publicField(WaypointMovement, "TypeName", "waypoint-movement");
  __publicField(WaypointMovement, "Properties", {
    /** This object is the container of the waypoints. It should contain children
    with an alphebetically ascending naming (e.g. A, B, C, D, E, F) */
    pathObject: { type: Type.Object },
    /** Movement speed of the object */
    speed: { type: Type.Float, default: 1 },
    /** Distance in normal space [0, 0.5) after which the objects starts moving on a curve */
    curveDistance: { type: Type.Float, default: 0.1 }
  });
  var lookAt2 = function() {
    let forwardTemp = new Float32Array(3);
    let temp = new Float32Array(3);
    let dotTemp = 0;
    let vector = new Float32Array(3);
    let vector2 = new Float32Array(3);
    let vector3 = new Float32Array(3);
    return function(quaternion, sourcePoint, destPoint, up) {
      if (!up) {
        up = [0, 1, 0];
      }
      vec3_exports.sub(forwardTemp, destPoint, sourcePoint);
      vec3_exports.normalize(forwardTemp, forwardTemp);
      dotTemp = vec3_exports.dot(up, forwardTemp);
      vec3_exports.scale(temp, forwardTemp, dotTemp);
      vec3_exports.sub(up, up, temp);
      vec3_exports.normalize(up, up);
      vec3_exports.normalize(vector, forwardTemp);
      vec3_exports.cross(vector2, up, vector);
      vec3_exports.cross(vector3, vector, vector2);
      let m00 = vector2[0];
      let m01 = vector2[1];
      let m02 = vector2[2];
      let m10 = vector3[0];
      let m11 = vector3[1];
      let m12 = vector3[2];
      let m20 = vector[0];
      let m21 = vector[1];
      let m22 = vector[2];
      let num8 = m00 + m11 + m22;
      if (num8 > 0) {
        let num = Math.sqrt(num8 + 1);
        quaternion[3] = num * 0.5;
        num = 0.5 / num;
        quaternion[0] = (m12 - m21) * num;
        quaternion[1] = (m20 - m02) * num;
        quaternion[2] = (m01 - m10) * num;
        return quaternion;
      }
      if (m00 >= m11 && m00 >= m22) {
        let num7 = Math.sqrt(1 + m00 - m11 - m22);
        let num4 = 0.5 / num7;
        quaternion[0] = 0.5 * num7;
        quaternion[1] = (m01 + m10) * num4;
        quaternion[2] = (m02 + m20) * num4;
        quaternion[3] = (m12 - m21) * num4;
        return quaternion;
      }
      if (m11 > m22) {
        let num6 = Math.sqrt(1 + m11 - m00 - m22);
        let num3 = 0.5 / num6;
        quaternion[0] = (m10 + m01) * num3;
        quaternion[1] = 0.5 * num6;
        quaternion[2] = (m21 + m12) * num3;
        quaternion[3] = (m20 - m02) * num3;
        return quaternion;
      }
      let num5 = Math.sqrt(1 + m22 - m00 - m11);
      let num2 = 0.5 / num5;
      quaternion[0] = (m20 + m02) * num2;
      quaternion[1] = (m21 + m12) * num2;
      quaternion[2] = 0.5 * num5;
      quaternion[3] = (m01 - m10) * num2;
      return quaternion;
    };
  }();

  // js/enemy-spawner.js
  var tempQuat24 = new Float32Array(8);
  var EnemySpawner = class extends Component {
    // The game file contains the state object, the init function adds a function
    // called spawn to the state file, assigns the calling object as the spawnpoint,
    // and instatniates the timer for spawn delay
    init() {
      this.timer = 0;
      this.drone = false;
      state.EnemySpawner.push(this);
      this.name = "paul";
      state.spawn = function(object) {
        let enemy = object.spawnEnemy();
        state.currentEnemies.push(enemy);
      }.bind(this);
    }
    start() {
      console.log("start");
      console.log(this.name);
    }
    // Not exactly sure why we need this but we do
    static onRegister(engine) {
      engine.registerComponent(WaypointMovement);
    }
    // spawns a new enemy every 5 seconds 
    // TODO add a spawntimer function and use that instead of hardcoding the time
    update(dt) {
      this.timer += dt;
      if (this.timer > this.spawnTimer && state.pauseEnemies === false) {
        this.timer = 0;
        state.spawn(this);
      }
    }
    // TODO add a onHIt function to the object that is spawned 
    spawnEnemy() {
      const obj = this.engine.scene.addObject();
      obj.enem = this.defaultEnemy.clone(obj);
      obj.enem.setScalingLocal([3, 3, 3]);
      obj.setTransformLocal(this.object.getTransformWorld(tempQuat24));
      obj.poisoned = false;
      obj.addComponent("collision", {
        shape: WL.Collider.Sphere,
        extents: [5, 0, 0],
        group: 1 << 5,
        active: true
      });
      obj.walked = 0;
      obj.timer = 0;
      obj.poisonStack = 0;
      obj.health = this.defaultHealth;
      obj.damage = this.defaultDamage;
      obj.value = this.defaultReward;
      let o = this.object.getComponent(WaypointMovement);
      o.speed = this.defaultSpeed;
      obj.f = function() {
        state.health -= obj.damage;
        const index = state.currentEnemies.indexOf(obj);
        const x = state.currentEnemies.splice(index, 1);
        state.needsUpdate = true;
        obj.destroy();
      };
      obj.addComponent(WaypointMovement, o);
      obj.setScalingLocal([0.2, 0.2, 0.2]);
      obj.active = true;
      obj.name = "dave";
      obj.setDirty();
    }
  };
  __publicField(EnemySpawner, "TypeName", "enemy-spawner");
  /* Properties that are configurable in the editor */
  __publicField(EnemySpawner, "Properties", {
    defaultEnemy: { type: Type.Object },
    defaultMesh: { type: Type.Mesh },
    defaultMaterial: { type: Type.Material },
    spawnTimer: { type: Type.Float, default: 3 },
    defaultHealth: { type: Type.Int, default: 50 },
    defaultReward: { type: Type.Int, default: 10 },
    specialRewardChance: { type: Type.Int, default: 1 },
    defaultSpeed: { type: Type.Float, default: 3 },
    defaultDamage: { type: Type.Int, default: 5 },
    poisoned: { type: Type.Bool, default: false }
  });

  // js/level-tracker.js
  var level_tracker_exports = {};
  __export(level_tracker_exports, {
    LevelTracker: () => LevelTracker
  });
  var LevelTracker = class extends Component {
    start() {
      state.levelUp = function() {
        this.level += 1;
        this.maxEnemies += 10;
        let spawner = state.EnemySpawner;
        console.log("level up: ", this.level);
        console.log("reward Up ");
        for (let i = 0; i < state.EnemySpawner.length; i++) {
          spawner[i].defaultReward += 1;
        }
        if (this.level % 2 === 0) {
          for (let i = 0; i < state.EnemySpawner.length; i++) {
            spawner[i].defaultHeath += 25;
          }
        }
        if (this.level % 3 === 0) {
          for (let i = 0; i < state.EnemySpawner.length; i++) {
            spawner[i].defaultDamage += 5;
          }
        }
        if (this.level % 4 === 0) {
          for (let i = 0; i < state.EnemySpawner.length; i++) {
            spawner[i].defaultSpeed += 0.1;
          }
        }
        if (this.level % 5 === 0) {
          for (let i = 0; i < state.EnemySpawner.length; i++) {
            spawner[i].spawnTimer -= 0.3;
          }
        }
      }.bind(this);
    }
  };
  __publicField(LevelTracker, "TypeName", "level-tracker");
  /* Properties that are configurable in the editor */
  __publicField(LevelTracker, "Properties", {
    level: { type: Type.Int, default: 1 },
    timer: { type: Type.Int, default: state.timer },
    day: { type: Type.Bool, default: true }
  });

  // js/poison.js
  var poison_exports = {};
  __export(poison_exports, {
    Poison: () => Poison
  });

  // js/poison_turret_3D.js
  var poison_turret_3D_exports = {};
  __export(poison_turret_3D_exports, {
    PoisonTurret3D: () => PoisonTurret3D
  });
  var PoisonTurret3D = class extends Component {
    start() {
      state.poisonTurret3D = this;
    }
  };
  __publicField(PoisonTurret3D, "TypeName", "poison_turret_3D");
  /* Properties that are configurable in the editor */
  __publicField(PoisonTurret3D, "Properties", {
    turret: { type: Type.Object },
    base: { type: Type.Object },
    bulletMesh: { type: Type.Mesh },
    bulletMaterial: { type: Type.Material }
  });

  // js/poison.js
  var tempQuat25 = new Float32Array(8);
  var Poison = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(TurretAimer);
      engine.registerComponent(ProjectileSpawner);
      engine.registerComponent(PoisonTurret3D);
    }
    makeTurret(x) {
      const obj = x.engine.scene.addObject();
      obj.turret = state.poisonTurret3D.turret.clone(obj);
      obj.base = state.poisonTurret3D.base.clone(obj);
      console.log(obj);
      obj.target = null;
      obj.shoot = null;
      obj.cd = x.shootingCD;
      obj.name = "sam";
      obj.status = "poisonTower";
      obj.damage = x.damage;
      obj.bulletMesh = {
        mesh: state.poisonTurret3D.bulletMesh,
        material: state.poisonTurret3D.bulletMaterial
      };
      obj.addComponent("collision", {
        collider: WL.Collider.Sphere,
        extents: [5, 0, 0],
        group: 1 << 5,
        // this code is a test to see how to trigger Collision Onhit and onleave that has
        // some documentation on wonderland, but I cant figre out how to use
        // IF we can get it working it would make aiming and shooting signifficantly
        //   more efficient
        CollisionEventType: 1,
        active: true
      });
      obj.addComponent(TurretAimer);
      obj.addComponent(ProjectileSpawner);
      obj.setTransformLocal(x.object.getTransformWorld(tempQuat25));
      obj.resetRotation();
      obj.setScalingLocal([0.2, 0.4, 0.2]);
      obj.active = true;
      state.turrets.push(obj);
      obj.setDirty();
    }
  };
  __publicField(Poison, "TypeName", "poison");
  /* Properties that are configurable in the editor */
  __publicField(Poison, "Properties", {
    param: Property.float(1)
  });

  // js/turret-spawner.js
  var turret_spawner_exports = {};
  __export(turret_spawner_exports, {
    TurretSpawner: () => TurretSpawner
  });
  var TurretSpawner = class extends Component {
    /// poison turret?
    init() {
      this.timer = 0;
      this.name = "dave";
      this.makeTurret = null;
      state.turretSpawner = this;
      state.defaultMesh = new Component("Object", { mesh: this.defaultMesh, material: this.defaultMaterial });
      state.poisonMesh = new Component("mesh", { mesh: this.poisonMesh, material: this.poisonMaterial });
      state.buildT = function() {
        if (state.currency >= this.turretCost && state.pauseBuilding === false) {
          let tempTurret = null;
          console.log(state.selectedTurret);
          if (state.selectedTurret === "default") {
            tempTurret = new Default();
            let turret = tempTurret.makeTurret(this);
            state.spawnedTurrets += 1;
            state.currency -= this.turretCost;
            state.needsUpdate = true;
          }
          if (state.selectedTurret === "poison") {
            tempTurret = new Poison();
            let turret = tempTurret.makeTurret(this);
            state.spawnedTurrets += 1;
            state.currency -= this.turretCost;
            state.needsUpdate = true;
          }
        }
      }.bind(this);
    }
    static onRegister(engine) {
      engine.registerComponent(TurretAimer);
      engine.registerComponent(ProjectileSpawner);
    }
    start() {
      console.log("start turret spawner");
    }
  };
  __publicField(TurretSpawner, "TypeName", "turret-spawner");
  __publicField(TurretSpawner, "Properties", {
    defaultMesh: { type: Type.Mesh },
    defaultMaterial: { type: Type.Material },
    poisonMesh: { type: Type.Mesh },
    poisonMaterial: { type: Type.Material },
    shootingCD: { type: Type.Int, default: 1 },
    damage: { type: Type.Int, default: 20 },
    turretCost: { type: Type.Int, default: 25 },
    defaultTurret: { type: Type.Object },
    defaultBase: { type: Type.Object }
  });

  // js/uiHandler.js
  var uiHandler_exports = {};
  __export(uiHandler_exports, {
    UIHandler: () => UIHandler
  });
  var UIHandler = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HowlerAudioSource);
    }
    init() {
      this.hp = state.getHealth();
      this.currency = state.getCurrency();
    }
    start() {
      this.target = this.object.getComponent("cursor-target");
      this.target.addHoverFunction(this.onHover.bind(this));
      this.target.addUnHoverFunction(this.onUnHover.bind(this));
      this.target.addMoveFunction(this.onMove.bind(this));
      this.target.addDownFunction(this.onDown.bind(this));
      this.target.addUpFunction(this.onUp.bind(this));
      this.soundClick = this.object.addComponent(HowlerAudioSource, { src: "sfx/click.wav", spatial: true });
      this.soundUnClick = this.object.addComponent(HowlerAudioSource, { src: "sfx/unclick.wav", spatial: true });
      switch (this.panel) {
        case 0:
          this.simplePanel();
          break;
        case 1:
          this.buttonsPanel();
          break;
        case 2:
          this.scrollPanel();
          break;
        case 3:
          this.imagePanel();
          break;
        case 4:
          this.inputTextPanel();
          break;
      }
    }
    // this is the code for the Health and currency HUD 
    simplePanel() {
      const config2 = {
        body: {
          fontSize: 50,
          type: "text",
          position: { top: 10 },
          paddingTop: 50,
          height: 256
        }
      };
      const content = { body: "Health: " + state.getHealth() + "\rMoney: " + state.getCurrency() };
      this.ui = new CanvasUI(content, config2, this.object, this.engine);
      this.ui.updateConfig(this, config2.height, 100);
      let ui2 = this.ui;
    }
    buttonsPanel() {
      function defaultTurret() {
        const msg = "default";
        console.log(msg);
        ui.updateElement("info", msg);
        state.selectedTurret = "default";
      }
      function droneTurret() {
        const msg = "drone";
        console.log(msg);
        ui.updateElement("info", msg);
        state.selectedTurret = "drone";
      }
      function laser() {
        const msg = "laser";
        console.log(msg);
        ui.updateElement("info", msg);
        state.selectedTurret = "laser";
      }
      const content = {
        info: "",
        defaultTurret: "<path>M 10 32 L 54 10 L 54 54 Z</path>",
        droneTurret: "<path>M 50 15 L 15 15 L 15 50 L 50 50 Z<path>",
        laser: "<path>M 54 32 L 10 10 L 10 54 Z</path>"
      };
      this.ui2 = new CanvasUI(content, config, this.object, this.engine);
      this.ui2.update();
      let ui2 = this.ui2;
    }
    scrollPanel() {
      const config2 = {
        body: {
          backgroundColor: "#666"
        },
        txt: {
          type: "text",
          overflow: "scroll",
          position: { left: 20, top: 20 },
          width: 460,
          height: 400,
          backgroundColor: "#fff",
          fontColor: "#000"
        }
      };
      const content = {
        txt: "This is an example of a scrolling panel. Select it with a controller and move the controller while keeping the select button pressed. In an AR app just press and drag. If a panel is set to scroll and the overflow setting is 'scroll', then a scroll bar will appear when the panel is active. But to scroll you can just drag anywhere on the panel. This is an example of a scrolling panel. Select it with a controller and move the controller while keeping the select button pressed. In an AR app just press and drag. If a panel is set to scroll and the overflow setting is 'scroll', then a scroll bar will appear when the panel is active. But to scroll you can just drag anywhere on the panel."
      };
      this.ui = new CanvasUI(content, config2, this.object, this.engine);
      this.ui.update();
      let ui2 = this.ui;
    }
    imagePanel() {
      const config2 = {
        image: {
          type: "img",
          position: { left: 20, top: 20 },
          width: 472
        },
        info: {
          type: "text",
          position: { top: 300 }
        }
      };
      const content = {
        image: "images/promo.png",
        info: "The promo image from the course: Learn to create WebXR, VR and AR, experiences using Wonderland Engine"
      };
      this.ui = new CanvasUI(content, config2, this.object, this.engine);
      this.ui.update();
      let ui2 = this.ui;
    }
    inputTextPanel() {
      function onChanged(txt) {
        console.log(`message changed: ${txt}`);
      }
      function onEnter(txt) {
        console.log(`message enter: ${txt}`);
      }
      const config2 = {
        panelSize: { width: 1, height: 0.25 },
        height: 128,
        message: {
          type: "input-text",
          position: { left: 10, top: 8 },
          height: 56,
          width: 492,
          backgroundColor: "#ccc",
          fontColor: "#000",
          onChanged,
          onEnter
        },
        label: {
          type: "text",
          position: { top: 64 }
        }
      };
      const content = {
        message: "",
        label: "Select the panel above."
      };
      this.ui = new CanvasUI(content, config2, this.object, this.engine);
      const target = this.ui.keyboard.object.getComponent("cursor-target");
      target.addHoverFunction(this.onHoverKeyboard.bind(this));
      target.addUnHoverFunction(this.onUnHoverKeyboard.bind(this));
      target.addMoveFunction(this.onMoveKeyboard.bind(this));
      target.addDownFunction(this.onDown.bind(this));
      target.addUpFunction(this.onUpKeyboard.bind(this));
      this.ui.update();
      let ui2 = this.ui;
    }
    onHover(_, cursor) {
      if (this.ui) {
        const xy = this.ui.worldToCanvas(cursor.cursorPos);
        this.ui.hover(0, xy);
      }
      if (cursor.type == "finger-cursor") {
        this.onDown(_, cursor);
      }
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onMove(_, cursor) {
      if (this.ui) {
        const xy = this.ui.worldToCanvas(cursor.cursorPos);
        this.ui.hover(0, xy);
      }
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onDown(_, cursor) {
      console.log("onDown");
      this.soundClick.play();
      this.hapticFeedback(cursor.object, 1, 20);
    }
    onUp(_, cursor) {
      console.log("onUp");
      this.soundUnClick.play();
      if (this.ui)
        this.ui.select(0, true);
      this.hapticFeedback(cursor.object, 0.7, 20);
    }
    onUnHover(_, cursor) {
      console.log("onUnHover");
      if (this.ui)
        this.ui.hover(0);
      this.hapticFeedback(cursor.object, 0.3, 50);
    }
    onHoverKeyboard(_, cursor) {
      if (!this.ui || !this.ui.keyboard || !this.ui.keyboard.keyboard)
        return;
      const ui2 = this.ui.keyboard.keyboard;
      const xy = ui2.worldToCanvas(cursor.cursorPos);
      ui2.hover(0, xy);
      if (cursor.type == "finger-cursor") {
        this.onDown(_, cursor);
      }
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onMoveKeyboard(_, cursor) {
      if (!this.ui || !this.ui.keyboard || !this.ui.keyboard.keyboard)
        return;
      const ui2 = this.ui.keyboard.keyboard;
      const xy = ui2.worldToCanvas(cursor.cursorPos);
      ui2.hover(0, xy);
      this.hapticFeedback(cursor.object, 0.5, 50);
    }
    onUpKeyboard(_, cursor) {
      console.log("onUpKeyboard");
      this.soundUnClick.play();
      if (this.ui && this.ui.keyboard && this.ui.keyboard.keyboard)
        this.ui.keyboard.keyboard.select(0);
      this.hapticFeedback(cursor.object, 0.7, 20);
    }
    onUnHoverKeyboard(_, cursor) {
      console.log("onUnHoverKeyboard");
      if (this.ui && this.ui.keyboard && this.ui.keyboard.keyboard)
        this.ui.keyboard.keyboard.hover(0);
      this.hapticFeedback(cursor.object, 0.3, 50);
    }
    hapticFeedback(object, strength, duration) {
      const input = object.getComponent("input");
      if (input && input.xrInputSource) {
        const gamepad = input.xrInputSource.gamepad;
        if (gamepad && gamepad.hapticActuators)
          gamepad.hapticActuators[0].pulse(strength, duration);
      }
    }
    // if needsUpdate is called will nilly to update the health and currency, then 
    // eventually the hud breaks so now any changes to the hud only update when 
    // changed. 
    update(dt) {
      if (state.needsUpdate === true) {
        this.ui.content = { body: "Health: " + state.getHealth() + "\r\\nMoney: " + state.getCurrency() };
        this.ui.needsUpdate = true;
        state.needsUpdate = false;
      }
      if (this.ui)
        this.ui.update();
      if (this.ui2)
        this.ui2.update();
    }
  };
  __publicField(UIHandler, "TypeName", "uiHandler");
  __publicField(UIHandler, "Properties", {
    panel: Property.enum(["simple", "buttons", "scrolling", "images", "input-text"], "simple")
  });

  // cache/js/_editor_index.js
  _registerEditor(dist_exports);
  _registerEditor(CanvasUI_exports);
  _registerEditor(DayNight_exports);
  _registerEditor(bullet_physics_exports);
  _registerEditor(bullet_spawner_exports);
  _registerEditor(button_functions_exports);
  _registerEditor(button_exports);
  _registerEditor(celestial_rotation_exports);
  _registerEditor(default_exports);
  _registerEditor(default_turret_3D_exports);
  _registerEditor(enemy_spawner_exports);
  _registerEditor(game_exports);
  _registerEditor(level_tracker_exports);
  _registerEditor(poison_exports);
  _registerEditor(poison_turret_3D_exports);
  _registerEditor(projectile_physics_exports);
  _registerEditor(projectile_spawner_exports);
  _registerEditor(turret_aimer_exports);
  _registerEditor(turret_spawner_exports);
  _registerEditor(uiHandler_exports);
  _registerEditor(waypoint_movement_exports);
})();
/*! Bundled license information:

howler/dist/howler.js:
  (*!
   *  howler.js v2.2.4
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
  (*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.2.4
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2hvd2xlci9kaXN0L2hvd2xlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvcHJvcGVydHkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L2RlY29yYXRvcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3V0aWxzL29iamVjdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvdXRpbHMvZXZlbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3dvbmRlcmxhbmQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3V0aWxzL2JpdHNldC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvdXRpbHMvbG9nZ2VyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9hcGkvZGlzdC93YXNtLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvOHRod2FsbC1jYW1lcmEuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC91dGlscy93ZWJ4ci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2FuY2hvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2N1cnNvci10YXJnZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vY29tbW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0NC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9xdWF0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vdmVjNC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9xdWF0Mi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2hpdC10ZXN0LWxvY2F0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvY3Vyc29yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvZGVidWctb2JqZWN0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvZGV2aWNlLW9yaWVudGF0aW9uLWxvb2suanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9maW5nZXItY3Vyc29yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvZml4ZWQtZm92ZWF0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaGFuZC10cmFja2luZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2hvd2xlci1hdWRpby1saXN0ZW5lci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2hvd2xlci1hdWRpby1zb3VyY2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC91dGlscy91dGlscy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2ltYWdlLXRleHR1cmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9tb3VzZS1sb29rLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvcGxheWVyLWhlaWdodC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3RhcmdldC1mcmFtZXJhdGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC90ZWxlcG9ydC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3RyYWlsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvdHdvLWpvaW50LWlrLXNvbHZlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3ZpZGVvLXRleHR1cmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC92ci1tb2RlLWFjdGl2ZS1zd2l0Y2guanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9wbGFuZS1kZXRlY3Rpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC92cm0uanMiLCAiLi4vLi4vanMvZ2FtZS5qcyIsICIuLi8uLi9qcy9idXR0b24tZnVuY3Rpb25zLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3Qvd2FzZC1jb250cm9scy5qcyIsICIuLi8uLi9qcy9DYW52YXNVSS5qcyIsICIuLi8uLi9qcy9EYXlOaWdodC5qcyIsICIuLi8uLi9qcy9idWxsZXQtcGh5c2ljcy5qcyIsICIuLi8uLi9qcy9idWxsZXQtc3Bhd25lci5qcyIsICIuLi8uLi9qcy9idXR0b24uanMiLCAiLi4vLi4vanMvY2VsZXN0aWFsLXJvdGF0aW9uLmpzIiwgIi4uLy4uL2pzL2RlZmF1bHQuanMiLCAiLi4vLi4vanMvdHVycmV0LWFpbWVyLmpzIiwgIi4uLy4uL2pzL3Byb2plY3RpbGUtc3Bhd25lci5qcyIsICIuLi8uLi9qcy9wcm9qZWN0aWxlLXBoeXNpY3MuanMiLCAiLi4vLi4vanMvZGVmYXVsdF90dXJyZXRfM0QuanMiLCAiLi4vLi4vanMvZW5lbXktc3Bhd25lci5qcyIsICIuLi8uLi9qcy93YXlwb2ludC1tb3ZlbWVudC5qcyIsICIuLi8uLi9qcy9sZXZlbC10cmFja2VyLmpzIiwgIi4uLy4uL2pzL3BvaXNvbi5qcyIsICIuLi8uLi9qcy9wb2lzb25fdHVycmV0XzNELmpzIiwgIi4uLy4uL2pzL3R1cnJldC1zcGF3bmVyLmpzIiwgIi4uLy4uL2pzL3VpSGFuZGxlci5qcyIsICJfZWRpdG9yX2luZGV4LmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKiFcclxuICogIGhvd2xlci5qcyB2Mi4yLjRcclxuICogIGhvd2xlcmpzLmNvbVxyXG4gKlxyXG4gKiAgKGMpIDIwMTMtMjAyMCwgSmFtZXMgU2ltcHNvbiBvZiBHb2xkRmlyZSBTdHVkaW9zXHJcbiAqICBnb2xkZmlyZXN0dWRpb3MuY29tXHJcbiAqXHJcbiAqICBNSVQgTGljZW5zZVxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAvKiogR2xvYmFsIE1ldGhvZHMgKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIHRoZSBnbG9iYWwgY29udHJvbGxlci4gQWxsIGNvbnRhaW5lZCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFwcGx5XHJcbiAgICogdG8gYWxsIHNvdW5kcyB0aGF0IGFyZSBjdXJyZW50bHkgcGxheWluZyBvciB3aWxsIGJlIGluIHRoZSBmdXR1cmUuXHJcbiAgICovXHJcbiAgdmFyIEhvd2xlckdsb2JhbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfTtcclxuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIHRoZSBnbG9iYWwgSG93bGVyIG9iamVjdC5cclxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgYSBnbG9iYWwgSUQgY291bnRlci5cclxuICAgICAgc2VsZi5fY291bnRlciA9IDEwMDA7XHJcblxyXG4gICAgICAvLyBQb29sIG9mIHVubG9ja2VkIEhUTUw1IEF1ZGlvIG9iamVjdHMuXHJcbiAgICAgIHNlbGYuX2h0bWw1QXVkaW9Qb29sID0gW107XHJcbiAgICAgIHNlbGYuaHRtbDVQb29sU2l6ZSA9IDEwO1xyXG5cclxuICAgICAgLy8gSW50ZXJuYWwgcHJvcGVydGllcy5cclxuICAgICAgc2VsZi5fY29kZWNzID0ge307XHJcbiAgICAgIHNlbGYuX2hvd2xzID0gW107XHJcbiAgICAgIHNlbGYuX211dGVkID0gZmFsc2U7XHJcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IDE7XHJcbiAgICAgIHNlbGYuX2NhblBsYXlFdmVudCA9ICdjYW5wbGF5dGhyb3VnaCc7XHJcbiAgICAgIHNlbGYuX25hdmlnYXRvciA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yKSA/IHdpbmRvdy5uYXZpZ2F0b3IgOiBudWxsO1xyXG5cclxuICAgICAgLy8gUHVibGljIHByb3BlcnRpZXMuXHJcbiAgICAgIHNlbGYubWFzdGVyR2FpbiA9IG51bGw7XHJcbiAgICAgIHNlbGYubm9BdWRpbyA9IGZhbHNlO1xyXG4gICAgICBzZWxmLnVzaW5nV2ViQXVkaW8gPSB0cnVlO1xyXG4gICAgICBzZWxmLmF1dG9TdXNwZW5kID0gdHJ1ZTtcclxuICAgICAgc2VsZi5jdHggPSBudWxsO1xyXG5cclxuICAgICAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhlIGF1dG8gYXVkaW8gdW5sb2NrZXIuXHJcbiAgICAgIHNlbGYuYXV0b1VubG9jayA9IHRydWU7XHJcblxyXG4gICAgICAvLyBTZXR1cCB0aGUgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cclxuICAgICAgc2VsZi5fc2V0dXAoKTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldC9zZXQgdGhlIGdsb2JhbCB2b2x1bWUgZm9yIGFsbCBzb3VuZHMuXHJcbiAgICAgKiBAcGFyYW0gIHtGbG9hdH0gdm9sIFZvbHVtZSBmcm9tIDAuMCB0byAxLjAuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsZXIvRmxvYXR9ICAgICBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXHJcbiAgICAgKi9cclxuICAgIHZvbHVtZTogZnVuY3Rpb24odm9sKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XHJcbiAgICAgIHZvbCA9IHBhcnNlRmxvYXQodm9sKTtcclxuXHJcbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxyXG4gICAgICBpZiAoIXNlbGYuY3R4KSB7XHJcbiAgICAgICAgc2V0dXBBdWRpb0NvbnRleHQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHR5cGVvZiB2b2wgIT09ICd1bmRlZmluZWQnICYmIHZvbCA+PSAwICYmIHZvbCA8PSAxKSB7XHJcbiAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xyXG5cclxuICAgICAgICAvLyBEb24ndCB1cGRhdGUgYW55IG9mIHRoZSBub2RlcyBpZiB3ZSBhcmUgbXV0ZWQuXHJcbiAgICAgICAgaWYgKHNlbGYuX211dGVkKSB7XHJcbiAgICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdoZW4gdXNpbmcgV2ViIEF1ZGlvLCB3ZSBqdXN0IG5lZWQgdG8gYWRqdXN0IHRoZSBtYXN0ZXIgZ2Fpbi5cclxuICAgICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFuZCBjaGFuZ2Ugdm9sdW1lIGZvciBhbGwgSFRNTDUgYXVkaW8gbm9kZXMuXHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoIXNlbGYuX2hvd2xzW2ldLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxyXG4gICAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgY2hhbmdlIHRoZSB2b2x1bWVzLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5faG93bHNbaV0uX3NvdW5kQnlJZChpZHNbal0pO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnZvbHVtZSA9IHNvdW5kLl92b2x1bWUgKiB2b2w7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGYuX3ZvbHVtZTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgbXV0aW5nIGFuZCB1bm11dGluZyBnbG9iYWxseS5cclxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IG11dGVkIElzIG11dGVkIG9yIG5vdC5cclxuICAgICAqL1xyXG4gICAgbXV0ZTogZnVuY3Rpb24obXV0ZWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuXHJcbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxyXG4gICAgICBpZiAoIXNlbGYuY3R4KSB7XHJcbiAgICAgICAgc2V0dXBBdWRpb0NvbnRleHQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZi5fbXV0ZWQgPSBtdXRlZDtcclxuXHJcbiAgICAgIC8vIFdpdGggV2ViIEF1ZGlvLCB3ZSBqdXN0IG5lZWQgdG8gbXV0ZSB0aGUgbWFzdGVyIGdhaW4uXHJcbiAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8pIHtcclxuICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzZWxmLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMb29wIHRocm91Z2ggYW5kIG11dGUgYWxsIEhUTUw1IEF1ZGlvIG5vZGVzLlxyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoIXNlbGYuX2hvd2xzW2ldLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cclxuICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcclxuXHJcbiAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgbWFyayB0aGUgYXVkaW8gbm9kZSBhcyBtdXRlZC5cclxuICAgICAgICAgIGZvciAodmFyIGo9MDsgajxpZHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5faG93bHNbaV0uX3NvdW5kQnlJZChpZHNbal0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUubXV0ZWQgPSAobXV0ZWQpID8gdHJ1ZSA6IHNvdW5kLl9tdXRlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIHN0b3BwaW5nIGFsbCBzb3VuZHMgZ2xvYmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG5cclxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBIb3dscyBhbmQgc3RvcCB0aGVtLlxyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBzZWxmLl9ob3dsc1tpXS5zdG9wKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVubG9hZCBhbmQgZGVzdHJveSBhbGwgY3VycmVudGx5IGxvYWRlZCBIb3dsIG9iamVjdHMuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XHJcbiAgICAgKi9cclxuICAgIHVubG9hZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XHJcblxyXG4gICAgICBmb3IgKHZhciBpPXNlbGYuX2hvd2xzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcclxuICAgICAgICBzZWxmLl9ob3dsc1tpXS51bmxvYWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IEF1ZGlvQ29udGV4dCB0byBtYWtlIHN1cmUgaXQgaXMgZnVsbHkgcmVzZXQuXHJcbiAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8gJiYgc2VsZi5jdHggJiYgdHlwZW9mIHNlbGYuY3R4LmNsb3NlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHNlbGYuY3R4LmNsb3NlKCk7XHJcbiAgICAgICAgc2VsZi5jdHggPSBudWxsO1xyXG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGZvciBjb2RlYyBzdXBwb3J0IG9mIHNwZWNpZmljIGV4dGVuc2lvbi5cclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXh0IEF1ZGlvIGZpbGUgZXh0ZW50aW9uLlxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgY29kZWNzOiBmdW5jdGlvbihleHQpIHtcclxuICAgICAgcmV0dXJuICh0aGlzIHx8IEhvd2xlcikuX2NvZGVjc1tleHQucmVwbGFjZSgvXngtLywgJycpXTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXR1cCB2YXJpb3VzIHN0YXRlIHZhbHVlcyBmb3IgZ2xvYmFsIHRyYWNraW5nLlxyXG4gICAgICogQHJldHVybiB7SG93bGVyfVxyXG4gICAgICovXHJcbiAgICBfc2V0dXA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG5cclxuICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIHN1c3BlbmQvcmVzdW1lIHN0YXRlIG9mIHRoZSBBdWRpb0NvbnRleHQuXHJcbiAgICAgIHNlbGYuc3RhdGUgPSBzZWxmLmN0eCA/IHNlbGYuY3R4LnN0YXRlIHx8ICdzdXNwZW5kZWQnIDogJ3N1c3BlbmRlZCc7XHJcblxyXG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IGJlZ2luIHRoZSAzMC1zZWNvbmQgc3VzcGVuZCBwcm9jZXNzXHJcbiAgICAgIHNlbGYuX2F1dG9TdXNwZW5kKCk7XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiBhdWRpbyBpcyBhdmFpbGFibGUuXHJcbiAgICAgIGlmICghc2VsZi51c2luZ1dlYkF1ZGlvKSB7XHJcbiAgICAgICAgLy8gTm8gYXVkaW8gaXMgYXZhaWxhYmxlIG9uIHRoaXMgc3lzdGVtIGlmIG5vQXVkaW8gaXMgc2V0IHRvIHRydWUuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBBdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXN0ID0gbmV3IEF1ZGlvKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FucGxheXRocm91Z2ggZXZlbnQgaXMgYXZhaWxhYmxlLlxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlc3Qub25jYW5wbGF5dGhyb3VnaCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICBzZWxmLl9jYW5QbGF5RXZlbnQgPSAnY2FucGxheSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVGVzdCB0byBtYWtlIHN1cmUgYXVkaW8gaXNuJ3QgZGlzYWJsZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIHRlc3QgPSBuZXcgQXVkaW8oKTtcclxuICAgICAgICBpZiAodGVzdC5tdXRlZCkge1xyXG4gICAgICAgICAgc2VsZi5ub0F1ZGlvID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcblxyXG4gICAgICAvLyBDaGVjayBmb3Igc3VwcG9ydGVkIGNvZGVjcy5cclxuICAgICAgaWYgKCFzZWxmLm5vQXVkaW8pIHtcclxuICAgICAgICBzZWxmLl9zZXR1cENvZGVjcygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBmb3IgYnJvd3NlciBzdXBwb3J0IGZvciB2YXJpb3VzIGNvZGVjcyBhbmQgY2FjaGUgdGhlIHJlc3VsdHMuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XHJcbiAgICAgKi9cclxuICAgIF9zZXR1cENvZGVjczogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XHJcbiAgICAgIHZhciBhdWRpb1Rlc3QgPSBudWxsO1xyXG5cclxuICAgICAgLy8gTXVzdCB3cmFwIGluIGEgdHJ5L2NhdGNoIGJlY2F1c2UgSUUxMSBpbiBzZXJ2ZXIgbW9kZSB0aHJvd3MgYW4gZXJyb3IuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXVkaW9UZXN0ID0gKHR5cGVvZiBBdWRpbyAhPT0gJ3VuZGVmaW5lZCcpID8gbmV3IEF1ZGlvKCkgOiBudWxsO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFhdWRpb1Rlc3QgfHwgdHlwZW9mIGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgbXBlZ1Rlc3QgPSBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wZWc7JykucmVwbGFjZSgvXm5vJC8sICcnKTtcclxuXHJcbiAgICAgIC8vIE9wZXJhIHZlcnNpb24gPDMzIGhhcyBtaXhlZCBNUDMgc3VwcG9ydCwgc28gd2UgbmVlZCB0byBjaGVjayBmb3IgYW5kIGJsb2NrIGl0LlxyXG4gICAgICB2YXIgdWEgPSBzZWxmLl9uYXZpZ2F0b3IgPyBzZWxmLl9uYXZpZ2F0b3IudXNlckFnZW50IDogJyc7XHJcbiAgICAgIHZhciBjaGVja09wZXJhID0gdWEubWF0Y2goL09QUlxcLyhcXGQrKS9nKTtcclxuICAgICAgdmFyIGlzT2xkT3BlcmEgPSAoY2hlY2tPcGVyYSAmJiBwYXJzZUludChjaGVja09wZXJhWzBdLnNwbGl0KCcvJylbMV0sIDEwKSA8IDMzKTtcclxuICAgICAgdmFyIGNoZWNrU2FmYXJpID0gdWEuaW5kZXhPZignU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMTtcclxuICAgICAgdmFyIHNhZmFyaVZlcnNpb24gPSB1YS5tYXRjaCgvVmVyc2lvblxcLyguKj8pIC8pO1xyXG4gICAgICB2YXIgaXNPbGRTYWZhcmkgPSAoY2hlY2tTYWZhcmkgJiYgc2FmYXJpVmVyc2lvbiAmJiBwYXJzZUludChzYWZhcmlWZXJzaW9uWzFdLCAxMCkgPCAxNSk7XHJcblxyXG4gICAgICBzZWxmLl9jb2RlY3MgPSB7XHJcbiAgICAgICAgbXAzOiAhISghaXNPbGRPcGVyYSAmJiAobXBlZ1Rlc3QgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDM7JykucmVwbGFjZSgvXm5vJC8sICcnKSkpLFxyXG4gICAgICAgIG1wZWc6ICEhbXBlZ1Rlc3QsXHJcbiAgICAgICAgb3B1czogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL29nZzsgY29kZWNzPVwib3B1c1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICBvZ2c6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICBvZ2E6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICB3YXY6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2OyBjb2RlY3M9XCIxXCInKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3dhdicpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxyXG4gICAgICAgIGFhYzogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKS5yZXBsYWNlKC9ebm8kLywgJycpLFxyXG4gICAgICAgIGNhZjogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtY2FmOycpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgbTRhOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbTRhOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbTRhOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxyXG4gICAgICAgIG00YjogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LW00YjsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL200YjsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICBtcDQ6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1tcDQ7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDQ7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgd2ViYTogISEoIWlzT2xkU2FmYXJpICYmIGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2VibTsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpKSxcclxuICAgICAgICB3ZWJtOiAhISghaXNPbGRTYWZhcmkgJiYgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJykpLFxyXG4gICAgICAgIGRvbGJ5OiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OyBjb2RlY3M9XCJlYy0zXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxyXG4gICAgICAgIGZsYWM6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1mbGFjOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vZmxhYzsnKSkucmVwbGFjZSgvXm5vJC8sICcnKVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU29tZSBicm93c2Vycy9kZXZpY2VzIHdpbGwgb25seSBhbGxvdyBhdWRpbyB0byBiZSBwbGF5ZWQgYWZ0ZXIgYSB1c2VyIGludGVyYWN0aW9uLlxyXG4gICAgICogQXR0ZW1wdCB0byBhdXRvbWF0aWNhbGx5IHVubG9jayBhdWRpbyBvbiB0aGUgZmlyc3QgdXNlciBpbnRlcmFjdGlvbi5cclxuICAgICAqIENvbmNlcHQgZnJvbTogaHR0cDovL3BhdWxiYWthdXMuY29tL3R1dG9yaWFscy9odG1sNS93ZWItYXVkaW8tb24taW9zL1xyXG4gICAgICogQHJldHVybiB7SG93bGVyfVxyXG4gICAgICovXHJcbiAgICBfdW5sb2NrQXVkaW86IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG5cclxuICAgICAgLy8gT25seSBydW4gdGhpcyBpZiBXZWIgQXVkaW8gaXMgc3VwcG9ydGVkIGFuZCBpdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIHVubG9ja2VkLlxyXG4gICAgICBpZiAoc2VsZi5fYXVkaW9VbmxvY2tlZCB8fCAhc2VsZi5jdHgpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGYuX2F1ZGlvVW5sb2NrZWQgPSBmYWxzZTtcclxuICAgICAgc2VsZi5hdXRvVW5sb2NrID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyBTb21lIG1vYmlsZSBkZXZpY2VzL3BsYXRmb3JtcyBoYXZlIGRpc3RvcnRpb24gaXNzdWVzIHdoZW4gb3BlbmluZy9jbG9zaW5nIHRhYnMgYW5kL29yIHdlYiB2aWV3cy5cclxuICAgICAgLy8gQnVncyBpbiB0aGUgYnJvd3NlciAoZXNwZWNpYWxseSBNb2JpbGUgU2FmYXJpKSBjYW4gY2F1c2UgdGhlIHNhbXBsZVJhdGUgdG8gY2hhbmdlIGZyb20gNDQxMDAgdG8gNDgwMDAuXHJcbiAgICAgIC8vIEJ5IGNhbGxpbmcgSG93bGVyLnVubG9hZCgpLCB3ZSBjcmVhdGUgYSBuZXcgQXVkaW9Db250ZXh0IHdpdGggdGhlIGNvcnJlY3Qgc2FtcGxlUmF0ZS5cclxuICAgICAgaWYgKCFzZWxmLl9tb2JpbGVVbmxvYWRlZCAmJiBzZWxmLmN0eC5zYW1wbGVSYXRlICE9PSA0NDEwMCkge1xyXG4gICAgICAgIHNlbGYuX21vYmlsZVVubG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICBzZWxmLnVubG9hZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTY3JhdGNoIGJ1ZmZlciBmb3IgZW5hYmxpbmcgaU9TIHRvIGRpc3Bvc2Ugb2Ygd2ViIGF1ZGlvIGJ1ZmZlcnMgY29ycmVjdGx5LCBhcyBwZXI6XHJcbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQxMTk2ODRcclxuICAgICAgc2VsZi5fc2NyYXRjaEJ1ZmZlciA9IHNlbGYuY3R4LmNyZWF0ZUJ1ZmZlcigxLCAxLCAyMjA1MCk7XHJcblxyXG4gICAgICAvLyBDYWxsIHRoaXMgbWV0aG9kIG9uIHRvdWNoIHN0YXJ0IHRvIGNyZWF0ZSBhbmQgcGxheSBhIGJ1ZmZlcixcclxuICAgICAgLy8gdGhlbiBjaGVjayBpZiB0aGUgYXVkaW8gYWN0dWFsbHkgcGxheWVkIHRvIGRldGVybWluZSBpZlxyXG4gICAgICAvLyBhdWRpbyBoYXMgbm93IGJlZW4gdW5sb2NrZWQgb24gaU9TLCBBbmRyb2lkLCBldGMuXHJcbiAgICAgIHZhciB1bmxvY2sgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgcG9vbCBvZiB1bmxvY2tlZCBIVE1MNSBBdWRpbyBvYmplY3RzIHRoYXQgY2FuXHJcbiAgICAgICAgLy8gYmUgdXNlZCBmb3IgcGxheWluZyBzb3VuZHMgd2l0aG91dCB1c2VyIGludGVyYWN0aW9uLiBIVE1MNVxyXG4gICAgICAgIC8vIEF1ZGlvIG9iamVjdHMgbXVzdCBiZSBpbmRpdmlkdWFsbHkgdW5sb2NrZWQsIGFzIG9wcG9zZWRcclxuICAgICAgICAvLyB0byB0aGUgV2ViQXVkaW8gQVBJIHdoaWNoIG9ubHkgbmVlZHMgYSBzaW5nbGUgYWN0aXZhdGlvbi5cclxuICAgICAgICAvLyBUaGlzIG11c3Qgb2NjdXIgYmVmb3JlIFdlYkF1ZGlvIHNldHVwIG9yIHRoZSBzb3VyY2Uub25lbmRlZFxyXG4gICAgICAgIC8vIGV2ZW50IHdpbGwgbm90IGZpcmUuXHJcbiAgICAgICAgd2hpbGUgKHNlbGYuX2h0bWw1QXVkaW9Qb29sLmxlbmd0aCA8IHNlbGYuaHRtbDVQb29sU2l6ZSkge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGF1ZGlvTm9kZSA9IG5ldyBBdWRpbygpO1xyXG5cclxuICAgICAgICAgICAgLy8gTWFyayB0aGlzIEF1ZGlvIG9iamVjdCBhcyB1bmxvY2tlZCB0byBlbnN1cmUgaXQgY2FuIGdldCByZXR1cm5lZFxyXG4gICAgICAgICAgICAvLyB0byB0aGUgdW5sb2NrZWQgcG9vbCB3aGVuIHJlbGVhc2VkLlxyXG4gICAgICAgICAgICBhdWRpb05vZGUuX3VubG9ja2VkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgYXVkaW8gbm9kZSB0byB0aGUgcG9vbC5cclxuICAgICAgICAgICAgc2VsZi5fcmVsZWFzZUh0bWw1QXVkaW8oYXVkaW9Ob2RlKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgc2VsZi5ub0F1ZGlvID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMb29wIHRocm91Z2ggYW55IGFzc2lnbmVkIGF1ZGlvIG5vZGVzIGFuZCB1bmxvY2sgdGhlbS5cclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICAgIC8vIEdldCBhbGwgb2YgdGhlIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXHJcbiAgICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCB1bmxvY2sgdGhlIGF1ZGlvIG5vZGVzLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5faG93bHNbaV0uX3NvdW5kQnlJZChpZHNbal0pO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUgJiYgIXNvdW5kLl9ub2RlLl91bmxvY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUuX3VubG9ja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmxvYWQoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZpeCBBbmRyb2lkIGNhbiBub3QgcGxheSBpbiBzdXNwZW5kIHN0YXRlLlxyXG4gICAgICAgIHNlbGYuX2F1dG9SZXN1bWUoKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGFuIGVtcHR5IGJ1ZmZlci5cclxuICAgICAgICB2YXIgc291cmNlID0gc2VsZi5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XHJcbiAgICAgICAgc291cmNlLmJ1ZmZlciA9IHNlbGYuX3NjcmF0Y2hCdWZmZXI7XHJcbiAgICAgICAgc291cmNlLmNvbm5lY3Qoc2VsZi5jdHguZGVzdGluYXRpb24pO1xyXG5cclxuICAgICAgICAvLyBQbGF5IHRoZSBlbXB0eSBidWZmZXIuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICBzb3VyY2Uubm90ZU9uKDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHJlc3VtZSgpIG9uIGEgc3RhY2sgaW5pdGlhdGVkIGJ5IHVzZXIgZ2VzdHVyZSBpcyB3aGF0IGFjdHVhbGx5IHVubG9ja3MgdGhlIGF1ZGlvIG9uIEFuZHJvaWQgQ2hyb21lID49IDU1LlxyXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgucmVzdW1lID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICBzZWxmLmN0eC5yZXN1bWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldHVwIGEgdGltZW91dCB0byBjaGVjayB0aGF0IHdlIGFyZSB1bmxvY2tlZCBvbiB0aGUgbmV4dCBldmVudCBsb29wLlxyXG4gICAgICAgIHNvdXJjZS5vbmVuZGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzb3VyY2UuZGlzY29ubmVjdCgwKTtcclxuXHJcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHVubG9ja2VkIHN0YXRlIGFuZCBwcmV2ZW50IHRoaXMgY2hlY2sgZnJvbSBoYXBwZW5pbmcgYWdhaW4uXHJcbiAgICAgICAgICBzZWxmLl9hdWRpb1VubG9ja2VkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAvLyBSZW1vdmUgdGhlIHRvdWNoIHN0YXJ0IGxpc3RlbmVyLlxyXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHVubG9jaywgdHJ1ZSk7XHJcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHVubG9jaywgdHJ1ZSk7XHJcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHVubG9jaywgdHJ1ZSk7XHJcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdW5sb2NrLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAvLyBMZXQgYWxsIHNvdW5kcyBrbm93IHRoYXQgYXVkaW8gaGFzIGJlZW4gdW5sb2NrZWQuXHJcbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc2VsZi5faG93bHNbaV0uX2VtaXQoJ3VubG9jaycpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBTZXR1cCBhIHRvdWNoIHN0YXJ0IGxpc3RlbmVyIHRvIGF0dGVtcHQgYW4gdW5sb2NrIGluLlxyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdW5sb2NrLCB0cnVlKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVubG9jaywgdHJ1ZSk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB1bmxvY2ssIHRydWUpO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFuIHVubG9ja2VkIEhUTUw1IEF1ZGlvIG9iamVjdCBmcm9tIHRoZSBwb29sLiBJZiBub25lIGFyZSBsZWZ0LFxyXG4gICAgICogcmV0dXJuIGEgbmV3IEF1ZGlvIG9iamVjdCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxyXG4gICAgICogQHJldHVybiB7QXVkaW99IEhUTUw1IEF1ZGlvIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgX29idGFpbkh0bWw1QXVkaW86IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG5cclxuICAgICAgLy8gUmV0dXJuIHRoZSBuZXh0IG9iamVjdCBmcm9tIHRoZSBwb29sIGlmIG9uZSBleGlzdHMuXHJcbiAgICAgIGlmIChzZWxmLl9odG1sNUF1ZGlvUG9vbC5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gc2VsZi5faHRtbDVBdWRpb1Bvb2wucG9wKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vLkNoZWNrIGlmIHRoZSBhdWRpbyBpcyBsb2NrZWQgYW5kIHRocm93IGEgd2FybmluZy5cclxuICAgICAgdmFyIHRlc3RQbGF5ID0gbmV3IEF1ZGlvKCkucGxheSgpO1xyXG4gICAgICBpZiAodGVzdFBsYXkgJiYgdHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmICh0ZXN0UGxheSBpbnN0YW5jZW9mIFByb21pc2UgfHwgdHlwZW9mIHRlc3RQbGF5LnRoZW4gPT09ICdmdW5jdGlvbicpKSB7XHJcbiAgICAgICAgdGVzdFBsYXkuY2F0Y2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0hUTUw1IEF1ZGlvIHBvb2wgZXhoYXVzdGVkLCByZXR1cm5pbmcgcG90ZW50aWFsbHkgbG9ja2VkIGF1ZGlvIG9iamVjdC4nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG5ldyBBdWRpbygpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBhbiBhY3RpdmF0ZWQgSFRNTDUgQXVkaW8gb2JqZWN0IHRvIHRoZSBwb29sLlxyXG4gICAgICogQHJldHVybiB7SG93bGVyfVxyXG4gICAgICovXHJcbiAgICBfcmVsZWFzZUh0bWw1QXVkaW86IGZ1bmN0aW9uKGF1ZGlvKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XHJcblxyXG4gICAgICAvLyBEb24ndCBhZGQgYXVkaW8gdG8gdGhlIHBvb2wgaWYgd2UgZG9uJ3Qga25vdyBpZiBpdCBoYXMgYmVlbiB1bmxvY2tlZC5cclxuICAgICAgaWYgKGF1ZGlvLl91bmxvY2tlZCkge1xyXG4gICAgICAgIHNlbGYuX2h0bWw1QXVkaW9Qb29sLnB1c2goYXVkaW8pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHN1c3BlbmQgdGhlIFdlYiBBdWRpbyBBdWRpb0NvbnRleHQgYWZ0ZXIgbm8gc291bmQgaGFzIHBsYXllZCBmb3IgMzAgc2Vjb25kcy5cclxuICAgICAqIFRoaXMgc2F2ZXMgcHJvY2Vzc2luZy9lbmVyZ3kgYW5kIGZpeGVzIHZhcmlvdXMgYnJvd3Nlci1zcGVjaWZpYyBidWdzIHdpdGggYXVkaW8gZ2V0dGluZyBzdHVjay5cclxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cclxuICAgICAqL1xyXG4gICAgX2F1dG9TdXNwZW5kOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKCFzZWxmLmF1dG9TdXNwZW5kIHx8ICFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHguc3VzcGVuZCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiBhbnkgc291bmRzIGFyZSBwbGF5aW5nLlxyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8c2VsZi5faG93bHNbaV0uX3NvdW5kcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAoIXNlbGYuX2hvd2xzW2ldLl9zb3VuZHNbal0uX3BhdXNlZCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3N1c3BlbmRUaW1lcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIG5vIHNvdW5kIGhhcyBwbGF5ZWQgYWZ0ZXIgMzAgc2Vjb25kcywgc3VzcGVuZCB0aGUgY29udGV4dC5cclxuICAgICAgc2VsZi5fc3VzcGVuZFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXNlbGYuYXV0b1N1c3BlbmQpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYuX3N1c3BlbmRUaW1lciA9IG51bGw7XHJcbiAgICAgICAgc2VsZi5zdGF0ZSA9ICdzdXNwZW5kaW5nJztcclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIHVwZGF0aW5nIHRoZSBzdGF0ZSBvZiB0aGUgYXVkaW8gY29udGV4dCBhZnRlciBzdXNwZW5kaW5nLlxyXG4gICAgICAgIHZhciBoYW5kbGVTdXNwZW5zaW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRlZCc7XHJcblxyXG4gICAgICAgICAgaWYgKHNlbGYuX3Jlc3VtZUFmdGVyU3VzcGVuZCkge1xyXG4gICAgICAgICAgICBkZWxldGUgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kO1xyXG4gICAgICAgICAgICBzZWxmLl9hdXRvUmVzdW1lKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gRWl0aGVyIHRoZSBzdGF0ZSBnZXRzIHN1c3BlbmRlZCBvciBpdCBpcyBpbnRlcnJ1cHRlZC5cclxuICAgICAgICAvLyBFaXRoZXIgd2F5LCB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgc3RhdGUgdG8gc3VzcGVuZGVkLlxyXG4gICAgICAgIHNlbGYuY3R4LnN1c3BlbmQoKS50aGVuKGhhbmRsZVN1c3BlbnNpb24sIGhhbmRsZVN1c3BlbnNpb24pO1xyXG4gICAgICB9LCAzMDAwMCk7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHJlc3VtZSB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCB3aGVuIGEgbmV3IHNvdW5kIGlzIHBsYXllZC5cclxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cclxuICAgICAqL1xyXG4gICAgX2F1dG9SZXN1bWU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAoIXNlbGYuY3R4IHx8IHR5cGVvZiBzZWxmLmN0eC5yZXN1bWUgPT09ICd1bmRlZmluZWQnIHx8ICFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHNlbGYuc3RhdGUgPT09ICdydW5uaW5nJyAmJiBzZWxmLmN0eC5zdGF0ZSAhPT0gJ2ludGVycnVwdGVkJyAmJiBzZWxmLl9zdXNwZW5kVGltZXIpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fc3VzcGVuZFRpbWVyKTtcclxuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xyXG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kZWQnIHx8IHNlbGYuc3RhdGUgPT09ICdydW5uaW5nJyAmJiBzZWxmLmN0eC5zdGF0ZSA9PT0gJ2ludGVycnVwdGVkJykge1xyXG4gICAgICAgIHNlbGYuY3R4LnJlc3VtZSgpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3J1bm5pbmcnO1xyXG5cclxuICAgICAgICAgIC8vIEVtaXQgdG8gYWxsIEhvd2xzIHRoYXQgdGhlIGF1ZGlvIGhhcyByZXN1bWVkLlxyXG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCdyZXN1bWUnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHNlbGYuX3N1c3BlbmRUaW1lcikge1xyXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3N1c3BlbmRUaW1lcik7XHJcbiAgICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChzZWxmLnN0YXRlID09PSAnc3VzcGVuZGluZycpIHtcclxuICAgICAgICBzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBTZXR1cCB0aGUgZ2xvYmFsIGF1ZGlvIGNvbnRyb2xsZXIuXHJcbiAgdmFyIEhvd2xlciA9IG5ldyBIb3dsZXJHbG9iYWwoKTtcclxuXHJcbiAgLyoqIEdyb3VwIE1ldGhvZHMgKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGFuIGF1ZGlvIGdyb3VwIGNvbnRyb2xsZXIuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG8gUGFzc2VkIGluIHByb3BlcnRpZXMgZm9yIHRoaXMgZ3JvdXAuXHJcbiAgICovXHJcbiAgdmFyIEhvd2wgPSBmdW5jdGlvbihvKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgbm8gc291cmNlIGlzIHByb3ZpZGVkLlxyXG4gICAgaWYgKCFvLnNyYyB8fCBvLnNyYy5sZW5ndGggPT09IDApIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQW4gYXJyYXkgb2Ygc291cmNlIGZpbGVzIG11c3QgYmUgcGFzc2VkIHdpdGggYW55IG5ldyBIb3dsLicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZi5pbml0KG8pO1xyXG4gIH07XHJcbiAgSG93bC5wcm90b3R5cGUgPSB7XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgSG93bCBncm91cCBvYmplY3QuXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG8gUGFzc2VkIGluIHByb3BlcnRpZXMgZm9yIHRoaXMgZ3JvdXAuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbihvKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxyXG4gICAgICBpZiAoIUhvd2xlci5jdHgpIHtcclxuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxyXG4gICAgICBzZWxmLl9hdXRvcGxheSA9IG8uYXV0b3BsYXkgfHwgZmFsc2U7XHJcbiAgICAgIHNlbGYuX2Zvcm1hdCA9ICh0eXBlb2Ygby5mb3JtYXQgIT09ICdzdHJpbmcnKSA/IG8uZm9ybWF0IDogW28uZm9ybWF0XTtcclxuICAgICAgc2VsZi5faHRtbDUgPSBvLmh0bWw1IHx8IGZhbHNlO1xyXG4gICAgICBzZWxmLl9tdXRlZCA9IG8ubXV0ZSB8fCBmYWxzZTtcclxuICAgICAgc2VsZi5fbG9vcCA9IG8ubG9vcCB8fCBmYWxzZTtcclxuICAgICAgc2VsZi5fcG9vbCA9IG8ucG9vbCB8fCA1O1xyXG4gICAgICBzZWxmLl9wcmVsb2FkID0gKHR5cGVvZiBvLnByZWxvYWQgPT09ICdib29sZWFuJyB8fCBvLnByZWxvYWQgPT09ICdtZXRhZGF0YScpID8gby5wcmVsb2FkIDogdHJ1ZTtcclxuICAgICAgc2VsZi5fcmF0ZSA9IG8ucmF0ZSB8fCAxO1xyXG4gICAgICBzZWxmLl9zcHJpdGUgPSBvLnNwcml0ZSB8fCB7fTtcclxuICAgICAgc2VsZi5fc3JjID0gKHR5cGVvZiBvLnNyYyAhPT0gJ3N0cmluZycpID8gby5zcmMgOiBbby5zcmNdO1xyXG4gICAgICBzZWxmLl92b2x1bWUgPSBvLnZvbHVtZSAhPT0gdW5kZWZpbmVkID8gby52b2x1bWUgOiAxO1xyXG4gICAgICBzZWxmLl94aHIgPSB7XHJcbiAgICAgICAgbWV0aG9kOiBvLnhociAmJiBvLnhoci5tZXRob2QgPyBvLnhoci5tZXRob2QgOiAnR0VUJyxcclxuICAgICAgICBoZWFkZXJzOiBvLnhociAmJiBvLnhoci5oZWFkZXJzID8gby54aHIuaGVhZGVycyA6IG51bGwsXHJcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBvLnhociAmJiBvLnhoci53aXRoQ3JlZGVudGlhbHMgPyBvLnhoci53aXRoQ3JlZGVudGlhbHMgOiBmYWxzZSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFNldHVwIGFsbCBvdGhlciBkZWZhdWx0IHByb3BlcnRpZXMuXHJcbiAgICAgIHNlbGYuX2R1cmF0aW9uID0gMDtcclxuICAgICAgc2VsZi5fc3RhdGUgPSAndW5sb2FkZWQnO1xyXG4gICAgICBzZWxmLl9zb3VuZHMgPSBbXTtcclxuICAgICAgc2VsZi5fZW5kVGltZXJzID0ge307XHJcbiAgICAgIHNlbGYuX3F1ZXVlID0gW107XHJcbiAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyBTZXR1cCBldmVudCBsaXN0ZW5lcnMuXHJcbiAgICAgIHNlbGYuX29uZW5kID0gby5vbmVuZCA/IFt7Zm46IG8ub25lbmR9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbmZhZGUgPSBvLm9uZmFkZSA/IFt7Zm46IG8ub25mYWRlfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25sb2FkID0gby5vbmxvYWQgPyBbe2ZuOiBvLm9ubG9hZH1dIDogW107XHJcbiAgICAgIHNlbGYuX29ubG9hZGVycm9yID0gby5vbmxvYWRlcnJvciA/IFt7Zm46IG8ub25sb2FkZXJyb3J9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnBsYXllcnJvciA9IG8ub25wbGF5ZXJyb3IgPyBbe2ZuOiBvLm9ucGxheWVycm9yfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25wYXVzZSA9IG8ub25wYXVzZSA/IFt7Zm46IG8ub25wYXVzZX1dIDogW107XHJcbiAgICAgIHNlbGYuX29ucGxheSA9IG8ub25wbGF5ID8gW3tmbjogby5vbnBsYXl9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnN0b3AgPSBvLm9uc3RvcCA/IFt7Zm46IG8ub25zdG9wfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25tdXRlID0gby5vbm11dGUgPyBbe2ZuOiBvLm9ubXV0ZX1dIDogW107XHJcbiAgICAgIHNlbGYuX29udm9sdW1lID0gby5vbnZvbHVtZSA/IFt7Zm46IG8ub252b2x1bWV9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnJhdGUgPSBvLm9ucmF0ZSA/IFt7Zm46IG8ub25yYXRlfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25zZWVrID0gby5vbnNlZWsgPyBbe2ZuOiBvLm9uc2Vla31dIDogW107XHJcbiAgICAgIHNlbGYuX29udW5sb2NrID0gby5vbnVubG9jayA/IFt7Zm46IG8ub251bmxvY2t9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnJlc3VtZSA9IFtdO1xyXG5cclxuICAgICAgLy8gV2ViIEF1ZGlvIG9yIEhUTUw1IEF1ZGlvP1xyXG4gICAgICBzZWxmLl93ZWJBdWRpbyA9IEhvd2xlci51c2luZ1dlYkF1ZGlvICYmICFzZWxmLl9odG1sNTtcclxuXHJcbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgdHJ5IHRvIGVuYWJsZSBhdWRpby5cclxuICAgICAgaWYgKHR5cGVvZiBIb3dsZXIuY3R4ICE9PSAndW5kZWZpbmVkJyAmJiBIb3dsZXIuY3R4ICYmIEhvd2xlci5hdXRvVW5sb2NrKSB7XHJcbiAgICAgICAgSG93bGVyLl91bmxvY2tBdWRpbygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBLZWVwIHRyYWNrIG9mIHRoaXMgSG93bCBncm91cCBpbiB0aGUgZ2xvYmFsIGNvbnRyb2xsZXIuXHJcbiAgICAgIEhvd2xlci5faG93bHMucHVzaChzZWxmKTtcclxuXHJcbiAgICAgIC8vIElmIHRoZXkgc2VsZWN0ZWQgYXV0b3BsYXksIGFkZCBhIHBsYXkgZXZlbnQgdG8gdGhlIGxvYWQgcXVldWUuXHJcbiAgICAgIGlmIChzZWxmLl9hdXRvcGxheSkge1xyXG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcclxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYucGxheSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMb2FkIHRoZSBzb3VyY2UgZmlsZSB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cclxuICAgICAgaWYgKHNlbGYuX3ByZWxvYWQgJiYgc2VsZi5fcHJlbG9hZCAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgc2VsZi5sb2FkKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgdGhlIGF1ZGlvIGZpbGUuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XHJcbiAgICAgKi9cclxuICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciB1cmwgPSBudWxsO1xyXG5cclxuICAgICAgLy8gSWYgbm8gYXVkaW8gaXMgYXZhaWxhYmxlLCBxdWl0IGltbWVkaWF0ZWx5LlxyXG4gICAgICBpZiAoSG93bGVyLm5vQXVkaW8pIHtcclxuICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm8gYXVkaW8gc3VwcG9ydC4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE1ha2Ugc3VyZSBvdXIgc291cmNlIGlzIGluIGFuIGFycmF5LlxyXG4gICAgICBpZiAodHlwZW9mIHNlbGYuX3NyYyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBzZWxmLl9zcmMgPSBbc2VsZi5fc3JjXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBzb3VyY2VzIGFuZCBwaWNrIHRoZSBmaXJzdCBvbmUgdGhhdCBpcyBjb21wYXRpYmxlLlxyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc3JjLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGV4dCwgc3RyO1xyXG5cclxuICAgICAgICBpZiAoc2VsZi5fZm9ybWF0ICYmIHNlbGYuX2Zvcm1hdFtpXSkge1xyXG4gICAgICAgICAgLy8gSWYgYW4gZXh0ZW5zaW9uIHdhcyBzcGVjaWZpZWQsIHVzZSB0aGF0IGluc3RlYWQuXHJcbiAgICAgICAgICBleHQgPSBzZWxmLl9mb3JtYXRbaV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc291cmNlIGlzIGEgc3RyaW5nLlxyXG4gICAgICAgICAgc3RyID0gc2VsZi5fc3JjW2ldO1xyXG4gICAgICAgICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdOb24tc3RyaW5nIGZvdW5kIGluIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMgLSBpZ25vcmluZy4nKTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gRXh0cmFjdCB0aGUgZmlsZSBleHRlbnNpb24gZnJvbSB0aGUgVVJMIG9yIGJhc2U2NCBkYXRhIFVSSS5cclxuICAgICAgICAgIGV4dCA9IC9eZGF0YTphdWRpb1xcLyhbXjssXSspOy9pLmV4ZWMoc3RyKTtcclxuICAgICAgICAgIGlmICghZXh0KSB7XHJcbiAgICAgICAgICAgIGV4dCA9IC9cXC4oW14uXSspJC8uZXhlYyhzdHIuc3BsaXQoJz8nLCAxKVswXSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGV4dCkge1xyXG4gICAgICAgICAgICBleHQgPSBleHRbMV0udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIExvZyBhIHdhcm5pbmcgaWYgbm8gZXh0ZW5zaW9uIHdhcyBmb3VuZC5cclxuICAgICAgICBpZiAoIWV4dCkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdObyBmaWxlIGV4dGVuc2lvbiB3YXMgZm91bmQuIENvbnNpZGVyIHVzaW5nIHRoZSBcImZvcm1hdFwiIHByb3BlcnR5IG9yIHNwZWNpZnkgYW4gZXh0ZW5zaW9uLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBleHRlbnNpb24gaXMgYXZhaWxhYmxlLlxyXG4gICAgICAgIGlmIChleHQgJiYgSG93bGVyLmNvZGVjcyhleHQpKSB7XHJcbiAgICAgICAgICB1cmwgPSBzZWxmLl9zcmNbaV07XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdXJsKSB7XHJcbiAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vIGNvZGVjIHN1cHBvcnQgZm9yIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMuJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxmLl9zcmMgPSB1cmw7XHJcbiAgICAgIHNlbGYuX3N0YXRlID0gJ2xvYWRpbmcnO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIGhvc3RpbmcgcGFnZSBpcyBIVFRQUyBhbmQgdGhlIHNvdXJjZSBpc24ndCxcclxuICAgICAgLy8gZHJvcCBkb3duIHRvIEhUTUw1IEF1ZGlvIHRvIGF2b2lkIE1peGVkIENvbnRlbnQgZXJyb3JzLlxyXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyAmJiB1cmwuc2xpY2UoMCwgNSkgPT09ICdodHRwOicpIHtcclxuICAgICAgICBzZWxmLl9odG1sNSA9IHRydWU7XHJcbiAgICAgICAgc2VsZi5fd2ViQXVkaW8gPSBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IHNvdW5kIG9iamVjdCBhbmQgYWRkIGl0IHRvIHRoZSBwb29sLlxyXG4gICAgICBuZXcgU291bmQoc2VsZik7XHJcblxyXG4gICAgICAvLyBMb2FkIGFuZCBkZWNvZGUgdGhlIGF1ZGlvIGRhdGEgZm9yIHBsYXliYWNrLlxyXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgICBsb2FkQnVmZmVyKHNlbGYpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQbGF5IGEgc291bmQgb3IgcmVzdW1lIHByZXZpb3VzIHBsYXliYWNrLlxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nL051bWJlcn0gc3ByaXRlICAgU3ByaXRlIG5hbWUgZm9yIHNwcml0ZSBwbGF5YmFjayBvciBzb3VuZCBpZCB0byBjb250aW51ZSBwcmV2aW91cy5cclxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGludGVybmFsIEludGVybmFsIFVzZTogdHJ1ZSBwcmV2ZW50cyBldmVudCBmaXJpbmcuXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICAgICAgIFNvdW5kIElELlxyXG4gICAgICovXHJcbiAgICBwbGF5OiBmdW5jdGlvbihzcHJpdGUsIGludGVybmFsKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGlkID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIERldGVybWluZSBpZiBhIHNwcml0ZSwgc291bmQgaWQgb3Igbm90aGluZyB3YXMgcGFzc2VkXHJcbiAgICAgIGlmICh0eXBlb2Ygc3ByaXRlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIGlkID0gc3ByaXRlO1xyXG4gICAgICAgIHNwcml0ZSA9IG51bGw7XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3N0cmluZycgJiYgc2VsZi5fc3RhdGUgPT09ICdsb2FkZWQnICYmICFzZWxmLl9zcHJpdGVbc3ByaXRlXSkge1xyXG4gICAgICAgIC8vIElmIHRoZSBwYXNzZWQgc3ByaXRlIGRvZXNuJ3QgZXhpc3QsIGRvIG5vdGhpbmcuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBVc2UgdGhlIGRlZmF1bHQgc291bmQgc3ByaXRlIChwbGF5cyB0aGUgZnVsbCBhdWRpbyBsZW5ndGgpLlxyXG4gICAgICAgIHNwcml0ZSA9ICdfX2RlZmF1bHQnO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHNpbmdsZSBwYXVzZWQgc291bmQgdGhhdCBpc24ndCBlbmRlZC5cclxuICAgICAgICAvLyBJZiB0aGVyZSBpcywgcGxheSB0aGF0IHNvdW5kLiBJZiBub3QsIGNvbnRpbnVlIGFzIHVzdWFsLlxyXG4gICAgICAgIGlmICghc2VsZi5fcGxheUxvY2spIHtcclxuICAgICAgICAgIHZhciBudW0gPSAwO1xyXG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9wYXVzZWQgJiYgIXNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcclxuICAgICAgICAgICAgICBudW0rKztcclxuICAgICAgICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1tpXS5faWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAobnVtID09PSAxKSB7XHJcbiAgICAgICAgICAgIHNwcml0ZSA9IG51bGw7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZCA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIHNlbGVjdGVkIG5vZGUsIG9yIGdldCBvbmUgZnJvbSB0aGUgcG9vbC5cclxuICAgICAgdmFyIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5faW5hY3RpdmVTb3VuZCgpO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGRvZXNuJ3QgZXhpc3QsIGRvIG5vdGhpbmcuXHJcbiAgICAgIGlmICghc291bmQpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2VsZWN0IHRoZSBzcHJpdGUgZGVmaW5pdGlvbi5cclxuICAgICAgaWYgKGlkICYmICFzcHJpdGUpIHtcclxuICAgICAgICBzcHJpdGUgPSBzb3VuZC5fc3ByaXRlIHx8ICdfX2RlZmF1bHQnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgd2UgbXVzdCB3YWl0IHRvIGdldCB0aGUgYXVkaW8ncyBkdXJhdGlvbi5cclxuICAgICAgLy8gV2UgYWxzbyBuZWVkIHRvIHdhaXQgdG8gbWFrZSBzdXJlIHdlIGRvbid0IHJ1biBpbnRvIHJhY2UgY29uZGl0aW9ucyB3aXRoXHJcbiAgICAgIC8vIHRoZSBvcmRlciBvZiBmdW5jdGlvbiBjYWxscy5cclxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xyXG4gICAgICAgIC8vIFNldCB0aGUgc3ByaXRlIHZhbHVlIG9uIHRoaXMgc291bmQuXHJcbiAgICAgICAgc291bmQuX3Nwcml0ZSA9IHNwcml0ZTtcclxuXHJcbiAgICAgICAgLy8gTWFyayB0aGlzIHNvdW5kIGFzIG5vdCBlbmRlZCBpbiBjYXNlIGFub3RoZXIgc291bmQgaXMgcGxheWVkIGJlZm9yZSB0aGlzIG9uZSBsb2Fkcy5cclxuICAgICAgICBzb3VuZC5fZW5kZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBzb3VuZCB0byB0aGUgcXVldWUgdG8gYmUgcGxheWVkIG9uIGxvYWQuXHJcbiAgICAgICAgdmFyIHNvdW5kSWQgPSBzb3VuZC5faWQ7XHJcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgICBldmVudDogJ3BsYXknLFxyXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5wbGF5KHNvdW5kSWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gc291bmRJZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRG9uJ3QgcGxheSB0aGUgc291bmQgaWYgYW4gaWQgd2FzIHBhc3NlZCBhbmQgaXQgaXMgYWxyZWFkeSBwbGF5aW5nLlxyXG4gICAgICBpZiAoaWQgJiYgIXNvdW5kLl9wYXVzZWQpIHtcclxuICAgICAgICAvLyBUcmlnZ2VyIHRoZSBwbGF5IGV2ZW50LCBpbiBvcmRlciB0byBrZWVwIGl0ZXJhdGluZyB0aHJvdWdoIHF1ZXVlLlxyXG4gICAgICAgIGlmICghaW50ZXJuYWwpIHtcclxuICAgICAgICAgIHNlbGYuX2xvYWRRdWV1ZSgncGxheScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHNvdW5kLl9pZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTWFrZSBzdXJlIHRoZSBBdWRpb0NvbnRleHQgaXNuJ3Qgc3VzcGVuZGVkLCBhbmQgcmVzdW1lIGl0IGlmIGl0IGlzLlxyXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgICBIb3dsZXIuX2F1dG9SZXN1bWUoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIGhvdyBsb25nIHRvIHBsYXkgZm9yIGFuZCB3aGVyZSB0byBzdGFydCBwbGF5aW5nLlxyXG4gICAgICB2YXIgc2VlayA9IE1hdGgubWF4KDAsIHNvdW5kLl9zZWVrID4gMCA/IHNvdW5kLl9zZWVrIDogc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gLyAxMDAwKTtcclxuICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5tYXgoMCwgKChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDApIC0gc2Vlayk7XHJcbiAgICAgIHZhciB0aW1lb3V0ID0gKGR1cmF0aW9uICogMTAwMCkgLyBNYXRoLmFicyhzb3VuZC5fcmF0ZSk7XHJcbiAgICAgIHZhciBzdGFydCA9IHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzBdIC8gMTAwMDtcclxuICAgICAgdmFyIHN0b3AgPSAoc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc3ByaXRlXVsxXSkgLyAxMDAwO1xyXG4gICAgICBzb3VuZC5fc3ByaXRlID0gc3ByaXRlO1xyXG5cclxuICAgICAgLy8gTWFyayB0aGUgc291bmQgYXMgZW5kZWQgaW5zdGFudGx5IHNvIHRoYXQgdGhpcyBhc3luYyBwbGF5YmFja1xyXG4gICAgICAvLyBkb2Vzbid0IGdldCBncmFiYmVkIGJ5IGFub3RoZXIgY2FsbCB0byBwbGF5IHdoaWxlIHRoaXMgb25lIHdhaXRzIHRvIHN0YXJ0LlxyXG4gICAgICBzb3VuZC5fZW5kZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgIC8vIFVwZGF0ZSB0aGUgcGFyYW1ldGVycyBvZiB0aGUgc291bmQuXHJcbiAgICAgIHZhciBzZXRQYXJhbXMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzb3VuZC5fcGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgc291bmQuX3NlZWsgPSBzZWVrO1xyXG4gICAgICAgIHNvdW5kLl9zdGFydCA9IHN0YXJ0O1xyXG4gICAgICAgIHNvdW5kLl9zdG9wID0gc3RvcDtcclxuICAgICAgICBzb3VuZC5fbG9vcCA9ICEhKHNvdW5kLl9sb29wIHx8IHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzJdKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIEVuZCB0aGUgc291bmQgaW5zdGFudGx5IGlmIHNlZWsgaXMgYXQgdGhlIGVuZC5cclxuICAgICAgaWYgKHNlZWsgPj0gc3RvcCkge1xyXG4gICAgICAgIHNlbGYuX2VuZGVkKHNvdW5kKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEJlZ2luIHRoZSBhY3R1YWwgcGxheWJhY2suXHJcbiAgICAgIHZhciBub2RlID0gc291bmQuX25vZGU7XHJcbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgIC8vIEZpcmUgdGhpcyB3aGVuIHRoZSBzb3VuZCBpcyByZWFkeSB0byBwbGF5IHRvIGJlZ2luIFdlYiBBdWRpbyBwbGF5YmFjay5cclxuICAgICAgICB2YXIgcGxheVdlYkF1ZGlvID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgc2V0UGFyYW1zKCk7XHJcbiAgICAgICAgICBzZWxmLl9yZWZyZXNoQnVmZmVyKHNvdW5kKTtcclxuXHJcbiAgICAgICAgICAvLyBTZXR1cCB0aGUgcGxheWJhY2sgcGFyYW1zLlxyXG4gICAgICAgICAgdmFyIHZvbCA9IChzb3VuZC5fbXV0ZWQgfHwgc2VsZi5fbXV0ZWQpID8gMCA6IHNvdW5kLl92b2x1bWU7XHJcbiAgICAgICAgICBub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xyXG5cclxuICAgICAgICAgIC8vIFBsYXkgdGhlIHNvdW5kIHVzaW5nIHRoZSBzdXBwb3J0ZWQgbWV0aG9kLlxyXG4gICAgICAgICAgaWYgKHR5cGVvZiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgc291bmQuX2xvb3AgPyBub2RlLmJ1ZmZlclNvdXJjZS5ub3RlR3JhaW5PbigwLCBzZWVrLCA4NjQwMCkgOiBub2RlLmJ1ZmZlclNvdXJjZS5ub3RlR3JhaW5PbigwLCBzZWVrLCBkdXJhdGlvbik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzb3VuZC5fbG9vcCA/IG5vZGUuYnVmZmVyU291cmNlLnN0YXJ0KDAsIHNlZWssIDg2NDAwKSA6IG5vZGUuYnVmZmVyU291cmNlLnN0YXJ0KDAsIHNlZWssIGR1cmF0aW9uKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBTdGFydCBhIG5ldyB0aW1lciBpZiBub25lIGlzIHByZXNlbnQuXHJcbiAgICAgICAgICBpZiAodGltZW91dCAhPT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheScsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmIChIb3dsZXIuc3RhdGUgPT09ICdydW5uaW5nJyAmJiBIb3dsZXIuY3R4LnN0YXRlICE9PSAnaW50ZXJydXB0ZWQnKSB7XHJcbiAgICAgICAgICBwbGF5V2ViQXVkaW8oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSB0cnVlO1xyXG5cclxuICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBhdWRpbyBjb250ZXh0IHRvIHJlc3VtZSBiZWZvcmUgcGxheWluZy5cclxuICAgICAgICAgIHNlbGYub25jZSgncmVzdW1lJywgcGxheVdlYkF1ZGlvKTtcclxuXHJcbiAgICAgICAgICAvLyBDYW5jZWwgdGhlIGVuZCB0aW1lci5cclxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gRmlyZSB0aGlzIHdoZW4gdGhlIHNvdW5kIGlzIHJlYWR5IHRvIHBsYXkgdG8gYmVnaW4gSFRNTDUgQXVkaW8gcGxheWJhY2suXHJcbiAgICAgICAgdmFyIHBsYXlIdG1sNSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgbm9kZS5jdXJyZW50VGltZSA9IHNlZWs7XHJcbiAgICAgICAgICBub2RlLm11dGVkID0gc291bmQuX211dGVkIHx8IHNlbGYuX211dGVkIHx8IEhvd2xlci5fbXV0ZWQgfHwgbm9kZS5tdXRlZDtcclxuICAgICAgICAgIG5vZGUudm9sdW1lID0gc291bmQuX3ZvbHVtZSAqIEhvd2xlci52b2x1bWUoKTtcclxuICAgICAgICAgIG5vZGUucGxheWJhY2tSYXRlID0gc291bmQuX3JhdGU7XHJcblxyXG4gICAgICAgICAgLy8gU29tZSBicm93c2VycyB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoaXMgaXMgY2FsbGVkIHdpdGhvdXQgdXNlciBpbnRlcmFjdGlvbi5cclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBwbGF5ID0gbm9kZS5wbGF5KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTdXBwb3J0IG9sZGVyIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBwcm9taXNlcywgYW5kIHRodXMgZG9uJ3QgaGF2ZSB0aGlzIGlzc3VlLlxyXG4gICAgICAgICAgICBpZiAocGxheSAmJiB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgKHBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiBwbGF5LnRoZW4gPT09ICdmdW5jdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgLy8gSW1wbGVtZW50cyBhIGxvY2sgdG8gcHJldmVudCBET01FeGNlcHRpb246IFRoZSBwbGF5KCkgcmVxdWVzdCB3YXMgaW50ZXJydXB0ZWQgYnkgYSBjYWxsIHRvIHBhdXNlKCkuXHJcbiAgICAgICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAvLyBTZXQgcGFyYW0gdmFsdWVzIGltbWVkaWF0ZWx5LlxyXG4gICAgICAgICAgICAgIHNldFBhcmFtcygpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBSZWxlYXNlcyB0aGUgbG9jayBhbmQgZXhlY3V0ZXMgcXVldWVkIGFjdGlvbnMuXHJcbiAgICAgICAgICAgICAgcGxheVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgIG5vZGUuX3VubG9ja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2xvYWRRdWV1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5ZXJyb3InLCBzb3VuZC5faWQsICdQbGF5YmFjayB3YXMgdW5hYmxlIHRvIHN0YXJ0LiBUaGlzIGlzIG1vc3QgY29tbW9ubHkgYW4gaXNzdWUgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ29uIG1vYmlsZSBkZXZpY2VzIGFuZCBDaHJvbWUgd2hlcmUgcGxheWJhY2sgd2FzIG5vdCB3aXRoaW4gYSB1c2VyIGludGVyYWN0aW9uLicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgdGhlIGVuZGVkIGFuZCBwYXVzZWQgdmFsdWVzLlxyXG4gICAgICAgICAgICAgICAgICBzb3VuZC5fZW5kZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpbnRlcm5hbCkge1xyXG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgc2V0UGFyYW1zKCk7XHJcbiAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheScsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNldHRpbmcgcmF0ZSBiZWZvcmUgcGxheWluZyB3b24ndCB3b3JrIGluIElFLCBzbyB3ZSBzZXQgaXQgYWdhaW4gaGVyZS5cclxuICAgICAgICAgICAgbm9kZS5wbGF5YmFja1JhdGUgPSBzb3VuZC5fcmF0ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBub2RlIGlzIHN0aWxsIHBhdXNlZCwgdGhlbiB3ZSBjYW4gYXNzdW1lIHRoZXJlIHdhcyBhIHBsYXliYWNrIGlzc3VlLlxyXG4gICAgICAgICAgICBpZiAobm9kZS5wYXVzZWQpIHtcclxuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5ZXJyb3InLCBzb3VuZC5faWQsICdQbGF5YmFjayB3YXMgdW5hYmxlIHRvIHN0YXJ0LiBUaGlzIGlzIG1vc3QgY29tbW9ubHkgYW4gaXNzdWUgJyArXHJcbiAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTZXR1cCB0aGUgZW5kIHRpbWVyIG9uIHNwcml0ZXMgb3IgbGlzdGVuIGZvciB0aGUgZW5kZWQgZXZlbnQuXHJcbiAgICAgICAgICAgIGlmIChzcHJpdGUgIT09ICdfX2RlZmF1bHQnIHx8IHNvdW5kLl9sb29wKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gRmlyZSBlbmRlZCBvbiB0aGlzIGF1ZGlvIG5vZGUuXHJcbiAgICAgICAgICAgICAgICBzZWxmLl9lbmRlZChzb3VuZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhpcyBsaXN0ZW5lci5cclxuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5ZXJyb3InLCBzb3VuZC5faWQsIGVycik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBzdHJlYW1pbmcgYXVkaW8sIG1ha2Ugc3VyZSB0aGUgc3JjIGlzIHNldCBhbmQgbG9hZCBhZ2Fpbi5cclxuICAgICAgICBpZiAobm9kZS5zcmMgPT09ICdkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsVWtsR1JpZ0FBQUJYUVZaRlptMTBJQklBQUFBQkFBRUFSS3dBQUloWUFRQUNBQkFBQUFCa1lYUmhBZ0FBQUFFQScpIHtcclxuICAgICAgICAgIG5vZGUuc3JjID0gc2VsZi5fc3JjO1xyXG4gICAgICAgICAgbm9kZS5sb2FkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQbGF5IGltbWVkaWF0ZWx5IGlmIHJlYWR5LCBvciB3YWl0IGZvciB0aGUgJ2NhbnBsYXl0aHJvdWdoJ2UgdmVudC5cclxuICAgICAgICB2YXIgbG9hZGVkTm9SZWFkeVN0YXRlID0gKHdpbmRvdyAmJiB3aW5kb3cuZWplY3RhKSB8fCAoIW5vZGUucmVhZHlTdGF0ZSAmJiBIb3dsZXIuX25hdmlnYXRvci5pc0NvY29vbkpTKTtcclxuICAgICAgICBpZiAobm9kZS5yZWFkeVN0YXRlID49IDMgfHwgbG9hZGVkTm9SZWFkeVN0YXRlKSB7XHJcbiAgICAgICAgICBwbGF5SHRtbDUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSB0cnVlO1xyXG4gICAgICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XHJcblxyXG4gICAgICAgICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3N0YXRlID0gJ2xvYWRlZCc7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBCZWdpbiBwbGF5YmFjay5cclxuICAgICAgICAgICAgcGxheUh0bWw1KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDbGVhciB0aGlzIGxpc3RlbmVyLlxyXG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgIC8vIENhbmNlbCB0aGUgZW5kIHRpbWVyLlxyXG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNvdW5kLl9pZDtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXVzZSBwbGF5YmFjayBhbmQgc2F2ZSBjdXJyZW50IHBvc2l0aW9uLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgSUQgKGVtcHR5IHRvIHBhdXNlIGFsbCBpbiBncm91cCkuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBwYXVzZTogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQgb3IgYSBwbGF5KCkgcHJvbWlzZSBpcyBwZW5kaW5nLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gcGF1c2Ugd2hlbiBjYXBhYmxlLlxyXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XHJcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgICBldmVudDogJ3BhdXNlJyxcclxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYucGF1c2UoaWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgcGF1c2VkLlxyXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xyXG5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIENsZWFyIHRoZSBlbmQgdGltZXIuXHJcbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZHNbaV0pO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xyXG5cclxuICAgICAgICBpZiAoc291bmQgJiYgIXNvdW5kLl9wYXVzZWQpIHtcclxuICAgICAgICAgIC8vIFJlc2V0IHRoZSBzZWVrIHBvc2l0aW9uLlxyXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzZWxmLnNlZWsoaWRzW2ldKTtcclxuICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XHJcbiAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxyXG4gICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRzW2ldKTtcclxuXHJcbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VuZCBoYXMgYmVlbiBjcmVhdGVkLlxyXG4gICAgICAgICAgICAgIGlmICghc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AoMCk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBDbGVhbiB1cCB0aGUgYnVmZmVyIHNvdXJjZS5cclxuICAgICAgICAgICAgICBzZWxmLl9jbGVhbkJ1ZmZlcihzb3VuZC5fbm9kZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSB8fCBzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGaXJlIHRoZSBwYXVzZSBldmVudCwgdW5sZXNzIGB0cnVlYCBpcyBwYXNzZWQgYXMgdGhlIDJuZCBhcmd1bWVudC5cclxuICAgICAgICBpZiAoIWFyZ3VtZW50c1sxXSkge1xyXG4gICAgICAgICAgc2VsZi5fZW1pdCgncGF1c2UnLCBzb3VuZCA/IHNvdW5kLl9pZCA6IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcCBwbGF5YmFjayBhbmQgcmVzZXQgdG8gc3RhcnQuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRCAoZW1wdHkgdG8gc3RvcCBhbGwgaW4gZ3JvdXApLlxyXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaW50ZXJuYWwgSW50ZXJuYWwgVXNlOiB0cnVlIHByZXZlbnRzIGV2ZW50IGZpcmluZy5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIHN0b3A6IGZ1bmN0aW9uKGlkLCBpbnRlcm5hbCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHN0b3Agd2hlbiBjYXBhYmxlLlxyXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XHJcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgICBldmVudDogJ3N0b3AnLFxyXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5zdG9wKGlkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIHN0b3BwZWQuXHJcbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XHJcblxyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gQ2xlYXIgdGhlIGVuZCB0aW1lci5cclxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkc1tpXSk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XHJcblxyXG4gICAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHNlZWsgcG9zaXRpb24uXHJcbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xyXG4gICAgICAgICAgc291bmQuX3JhdGVTZWVrID0gMDtcclxuICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxyXG4gICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRzW2ldKTtcclxuXHJcbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VuZCdzIEF1ZGlvQnVmZmVyU291cmNlTm9kZSBoYXMgYmVlbiBjcmVhdGVkLlxyXG4gICAgICAgICAgICAgIGlmIChzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5ub3RlT2ZmKDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AoMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXHJcbiAgICAgICAgICAgICAgICBzZWxmLl9jbGVhbkJ1ZmZlcihzb3VuZC5fbm9kZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikgfHwgc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuY3VycmVudFRpbWUgPSBzb3VuZC5fc3RhcnQgfHwgMDtcclxuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wYXVzZSgpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgbGl2ZSBzdHJlYW0sIHN0b3AgZG93bmxvYWQgb25jZSB0aGUgYXVkaW8gaXMgc3RvcHBlZC5cclxuICAgICAgICAgICAgICBpZiAoc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLl9jbGVhclNvdW5kKHNvdW5kLl9ub2RlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0b3AnLCBzb3VuZC5faWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTXV0ZS91bm11dGUgYSBzaW5nbGUgc291bmQgb3IgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXHJcbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBtdXRlZCBTZXQgdG8gdHJ1ZSB0byBtdXRlIGFuZCBmYWxzZSB0byB1bm11dGUuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFRoZSBzb3VuZCBJRCB0byB1cGRhdGUgKG9taXQgdG8gbXV0ZS91bm11dGUgYWxsKS5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIG11dGU6IGZ1bmN0aW9uKG11dGVkLCBpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIG11dGUgd2hlbiBjYXBhYmxlLlxyXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnfHwgc2VsZi5fcGxheUxvY2spIHtcclxuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICAgIGV2ZW50OiAnbXV0ZScsXHJcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLm11dGUobXV0ZWQsIGlkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIGFwcGx5aW5nIG11dGUvdW5tdXRlIHRvIGFsbCBzb3VuZHMsIHVwZGF0ZSB0aGUgZ3JvdXAncyB2YWx1ZS5cclxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG11dGVkID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgIHNlbGYuX211dGVkID0gbXV0ZWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBzZWxmLl9tdXRlZDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIG11dGVkLlxyXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xyXG5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XHJcblxyXG4gICAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgICAgc291bmQuX211dGVkID0gbXV0ZWQ7XHJcblxyXG4gICAgICAgICAgLy8gQ2FuY2VsIGFjdGl2ZSBmYWRlIGFuZCBzZXQgdGhlIHZvbHVtZSB0byB0aGUgZW5kIHZhbHVlLlxyXG4gICAgICAgICAgaWYgKHNvdW5kLl9pbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShzb3VuZC5faWQpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSkge1xyXG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKG11dGVkID8gMCA6IHNvdW5kLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSkge1xyXG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5tdXRlZCA9IEhvd2xlci5fbXV0ZWQgPyB0cnVlIDogbXV0ZWQ7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2VsZi5fZW1pdCgnbXV0ZScsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQvc2V0IHRoZSB2b2x1bWUgb2YgdGhpcyBzb3VuZCBvciBvZiB0aGUgSG93bCBncm91cC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxyXG4gICAgICogICB2b2x1bWUoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIHZvbHVtZSB2YWx1ZS5cclxuICAgICAqICAgdm9sdW1lKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgdm9sdW1lLlxyXG4gICAgICogICB2b2x1bWUodm9sKSAtPiBTZXRzIHRoZSB2b2x1bWUgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXHJcbiAgICAgKiAgIHZvbHVtZSh2b2wsIGlkKSAtPiBTZXRzIHRoZSB2b2x1bWUgb2YgcGFzc2VkIHNvdW5kIGlkLlxyXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHZvbHVtZS5cclxuICAgICAqL1xyXG4gICAgdm9sdW1lOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgdmFyIHZvbCwgaWQ7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXHJcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIC8vIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGdyb3Vwcycgdm9sdW1lLlxyXG4gICAgICAgIHJldHVybiBzZWxmLl92b2x1bWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEgfHwgYXJncy5sZW5ndGggPT09IDIgJiYgdHlwZW9mIGFyZ3NbMV0gPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHZvbHVtZS5cclxuICAgICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoKTtcclxuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcclxuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzBdLCAxMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZvbCA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID49IDIpIHtcclxuICAgICAgICB2b2wgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xyXG4gICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBVcGRhdGUgdGhlIHZvbHVtZSBvciByZXR1cm4gdGhlIGN1cnJlbnQgdm9sdW1lLlxyXG4gICAgICB2YXIgc291bmQ7XHJcbiAgICAgIGlmICh0eXBlb2Ygdm9sICE9PSAndW5kZWZpbmVkJyAmJiB2b2wgPj0gMCAmJiB2b2wgPD0gMSkge1xyXG4gICAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHZvbHVtZSB3aGVuIGNhcGFibGUuXHJcbiAgICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJ3x8IHNlbGYuX3BsYXlMb2NrKSB7XHJcbiAgICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICAgICAgZXZlbnQ6ICd2b2x1bWUnLFxyXG4gICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHNlbGYudm9sdW1lLmFwcGx5KHNlbGYsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdXAgdm9sdW1lLlxyXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICBzZWxmLl92b2x1bWUgPSB2b2w7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVcGRhdGUgb25lIG9yIGFsbCB2b2x1bWVzLlxyXG4gICAgICAgIGlkID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxpZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cclxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkW2ldKTtcclxuXHJcbiAgICAgICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IHZvbDtcclxuXHJcbiAgICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXHJcbiAgICAgICAgICAgIGlmICghYXJnc1syXSkge1xyXG4gICAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkW2ldKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbXV0ZWQpIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKHZvbCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc291bmQuX25vZGUgJiYgIXNvdW5kLl9tdXRlZCkge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnZvbHVtZSA9IHZvbCAqIEhvd2xlci52b2x1bWUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2VsZi5fZW1pdCgndm9sdW1lJywgc291bmQuX2lkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc291bmQgPSBpZCA/IHNlbGYuX3NvdW5kQnlJZChpZCkgOiBzZWxmLl9zb3VuZHNbMF07XHJcbiAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX3ZvbHVtZSA6IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZhZGUgYSBjdXJyZW50bHkgcGxheWluZyBzb3VuZCBiZXR3ZWVuIHR3byB2b2x1bWVzIChpZiBubyBpZCBpcyBwYXNzZWQsIGFsbCBzb3VuZHMgd2lsbCBmYWRlKS5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gZnJvbSBUaGUgdmFsdWUgdG8gZmFkZSBmcm9tICgwLjAgdG8gMS4wKS5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdG8gICBUaGUgdm9sdW1lIHRvIGZhZGUgdG8gKDAuMCB0byAxLjApLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBsZW4gIFRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIGZhZGUuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgVGhlIHNvdW5kIGlkIChvbWl0IHRvIGZhZGUgYWxsIHNvdW5kcykuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBmYWRlOiBmdW5jdGlvbihmcm9tLCB0bywgbGVuLCBpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGZhZGUgd2hlbiBjYXBhYmxlLlxyXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XHJcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgICBldmVudDogJ2ZhZGUnLFxyXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5mYWRlKGZyb20sIHRvLCBsZW4sIGlkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdG8vZnJvbS9sZW4gdmFsdWVzIGFyZSBudW1iZXJzLlxyXG4gICAgICBmcm9tID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgcGFyc2VGbG9hdChmcm9tKSksIDEpO1xyXG4gICAgICB0byA9IE1hdGgubWluKE1hdGgubWF4KDAsIHBhcnNlRmxvYXQodG8pKSwgMSk7XHJcbiAgICAgIGxlbiA9IHBhcnNlRmxvYXQobGVuKTtcclxuXHJcbiAgICAgIC8vIFNldCB0aGUgdm9sdW1lIHRvIHRoZSBzdGFydCBwb3NpdGlvbi5cclxuICAgICAgc2VsZi52b2x1bWUoZnJvbSwgaWQpO1xyXG5cclxuICAgICAgLy8gRmFkZSB0aGUgdm9sdW1lIG9mIG9uZSBvciBhbGwgc291bmRzLlxyXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cclxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgbGluZWFyIGZhZGUgb3IgZmFsbCBiYWNrIHRvIHRpbWVvdXRzIHdpdGggSFRNTDUgQXVkaW8uXHJcbiAgICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgICAvLyBTdG9wIHRoZSBwcmV2aW91cyBmYWRlIGlmIG5vIHNwcml0ZSBpcyBiZWluZyB1c2VkIChvdGhlcndpc2UsIHZvbHVtZSBoYW5kbGVzIHRoaXMpLlxyXG4gICAgICAgICAgaWYgKCFpZCkge1xyXG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8sIGxldCB0aGUgbmF0aXZlIG1ldGhvZHMgZG8gdGhlIGFjdHVhbCBmYWRlLlxyXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmICFzb3VuZC5fbXV0ZWQpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcclxuICAgICAgICAgICAgdmFyIGVuZCA9IGN1cnJlbnRUaW1lICsgKGxlbiAvIDEwMDApO1xyXG4gICAgICAgICAgICBzb3VuZC5fdm9sdW1lID0gZnJvbTtcclxuICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShmcm9tLCBjdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodG8sIGVuZCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2VsZi5fc3RhcnRGYWRlSW50ZXJ2YWwoc291bmQsIGZyb20sIHRvLCBsZW4sIGlkc1tpXSwgdHlwZW9mIGlkID09PSAndW5kZWZpbmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydHMgdGhlIGludGVybmFsIGludGVydmFsIHRvIGZhZGUgYSBzb3VuZC5cclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gc291bmQgUmVmZXJlbmNlIHRvIHNvdW5kIHRvIGZhZGUuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGZyb20gVGhlIHZhbHVlIHRvIGZhZGUgZnJvbSAoMC4wIHRvIDEuMCkuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRvICAgVGhlIHZvbHVtZSB0byBmYWRlIHRvICgwLjAgdG8gMS4wKS5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAgIFRoZSBzb3VuZCBpZCB0byBmYWRlLlxyXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaXNHcm91cCAgIElmIHRydWUsIHNldCB0aGUgdm9sdW1lIG9uIHRoZSBncm91cC5cclxuICAgICAqL1xyXG4gICAgX3N0YXJ0RmFkZUludGVydmFsOiBmdW5jdGlvbihzb3VuZCwgZnJvbSwgdG8sIGxlbiwgaWQsIGlzR3JvdXApIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgdm9sID0gZnJvbTtcclxuICAgICAgdmFyIGRpZmYgPSB0byAtIGZyb207XHJcbiAgICAgIHZhciBzdGVwcyA9IE1hdGguYWJzKGRpZmYgLyAwLjAxKTtcclxuICAgICAgdmFyIHN0ZXBMZW4gPSBNYXRoLm1heCg0LCAoc3RlcHMgPiAwKSA/IGxlbiAvIHN0ZXBzIDogbGVuKTtcclxuICAgICAgdmFyIGxhc3RUaWNrID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgIC8vIFN0b3JlIHRoZSB2YWx1ZSBiZWluZyBmYWRlZCB0by5cclxuICAgICAgc291bmQuX2ZhZGVUbyA9IHRvO1xyXG5cclxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgdmFsdWUgb24gZWFjaCBpbnRlcnZhbCB0aWNrLlxyXG4gICAgICBzb3VuZC5faW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIHZvbHVtZSBiYXNlZCBvbiB0aGUgdGltZSBzaW5jZSB0aGUgbGFzdCB0aWNrLlxyXG4gICAgICAgIHZhciB0aWNrID0gKERhdGUubm93KCkgLSBsYXN0VGljaykgLyBsZW47XHJcbiAgICAgICAgbGFzdFRpY2sgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHZvbCArPSBkaWZmICogdGljaztcclxuXHJcbiAgICAgICAgLy8gUm91bmQgdG8gd2l0aGluIDIgZGVjaW1hbCBwb2ludHMuXHJcbiAgICAgICAgdm9sID0gTWF0aC5yb3VuZCh2b2wgKiAxMDApIC8gMTAwO1xyXG5cclxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHZvbHVtZSBpcyBpbiB0aGUgcmlnaHQgYm91bmRzLlxyXG4gICAgICAgIGlmIChkaWZmIDwgMCkge1xyXG4gICAgICAgICAgdm9sID0gTWF0aC5tYXgodG8sIHZvbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZvbCA9IE1hdGgubWluKHRvLCB2b2wpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hhbmdlIHRoZSB2b2x1bWUuXHJcbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICBzb3VuZC5fdm9sdW1lID0gdm9sO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxmLnZvbHVtZSh2b2wsIHNvdW5kLl9pZCwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwJ3Mgdm9sdW1lLlxyXG4gICAgICAgIGlmIChpc0dyb3VwKSB7XHJcbiAgICAgICAgICBzZWxmLl92b2x1bWUgPSB2b2w7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBXaGVuIHRoZSBmYWRlIGlzIGNvbXBsZXRlLCBzdG9wIGl0IGFuZCBmaXJlIGV2ZW50LlxyXG4gICAgICAgIGlmICgodG8gPCBmcm9tICYmIHZvbCA8PSB0bykgfHwgKHRvID4gZnJvbSAmJiB2b2wgPj0gdG8pKSB7XHJcbiAgICAgICAgICBjbGVhckludGVydmFsKHNvdW5kLl9pbnRlcnZhbCk7XHJcbiAgICAgICAgICBzb3VuZC5faW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgICAgICAgc291bmQuX2ZhZGVUbyA9IG51bGw7XHJcbiAgICAgICAgICBzZWxmLnZvbHVtZSh0bywgc291bmQuX2lkKTtcclxuICAgICAgICAgIHNlbGYuX2VtaXQoJ2ZhZGUnLCBzb3VuZC5faWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgc3RlcExlbik7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgbWV0aG9kIHRoYXQgc3RvcHMgdGhlIGN1cnJlbnRseSBwbGF5aW5nIGZhZGUgd2hlblxyXG4gICAgICogYSBuZXcgZmFkZSBzdGFydHMsIHZvbHVtZSBpcyBjaGFuZ2VkIG9yIHRoZSBzb3VuZCBpcyBzdG9wcGVkLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgaWQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBfc3RvcEZhZGU6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcclxuXHJcbiAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5faW50ZXJ2YWwpIHtcclxuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChzb3VuZC5faW50ZXJ2YWwpO1xyXG4gICAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IG51bGw7XHJcbiAgICAgICAgc2VsZi52b2x1bWUoc291bmQuX2ZhZGVUbywgaWQpO1xyXG4gICAgICAgIHNvdW5kLl9mYWRlVG8gPSBudWxsO1xyXG4gICAgICAgIHNlbGYuX2VtaXQoJ2ZhZGUnLCBpZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldC9zZXQgdGhlIGxvb3AgcGFyYW1ldGVyIG9uIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cclxuICAgICAqICAgbG9vcCgpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3MgbG9vcCB2YWx1ZS5cclxuICAgICAqICAgbG9vcChpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBsb29wIHZhbHVlLlxyXG4gICAgICogICBsb29wKGxvb3ApIC0+IFNldHMgdGhlIGxvb3AgdmFsdWUgZm9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxyXG4gICAgICogICBsb29wKGxvb3AsIGlkKSAtPiBTZXRzIHRoZSBsb29wIHZhbHVlIG9mIHBhc3NlZCBzb3VuZCBpZC5cclxuICAgICAqIEByZXR1cm4ge0hvd2wvQm9vbGVhbn0gUmV0dXJucyBzZWxmIG9yIGN1cnJlbnQgbG9vcCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgbG9vcDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgIHZhciBsb29wLCBpZCwgc291bmQ7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBmb3IgbG9vcCBhbmQgaWQuXHJcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIC8vIFJldHVybiB0aGUgZ3JvdSdzIGxvb3AgdmFsdWUuXHJcbiAgICAgICAgcmV0dXJuIHNlbGYuX2xvb3A7XHJcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgbG9vcCA9IGFyZ3NbMF07XHJcbiAgICAgICAgICBzZWxmLl9sb29wID0gbG9vcDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gUmV0dXJuIHRoaXMgc291bmQncyBsb29wIHZhbHVlLlxyXG4gICAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQocGFyc2VJbnQoYXJnc1swXSwgMTApKTtcclxuICAgICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl9sb29wIDogZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgbG9vcCA9IGFyZ3NbMF07XHJcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIGxvb3BlZC5cclxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XHJcblxyXG4gICAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgICAgc291bmQuX2xvb3AgPSBsb29wO1xyXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xyXG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcCA9IGxvb3A7XHJcbiAgICAgICAgICAgIGlmIChsb29wKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BTdGFydCA9IHNvdW5kLl9zdGFydCB8fCAwO1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wRW5kID0gc291bmQuX3N0b3A7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIHBsYXlpbmcsIHJlc3RhcnQgcGxheWJhY2sgdG8gZW5zdXJlIGxvb3BpbmcgdXBkYXRlcy5cclxuICAgICAgICAgICAgICBpZiAoc2VsZi5wbGF5aW5nKGlkc1tpXSkpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYucGF1c2UoaWRzW2ldLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHNlbGYucGxheShpZHNbaV0sIHRydWUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0L3NldCB0aGUgcGxheWJhY2sgcmF0ZSBvZiBhIHNvdW5kLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXHJcbiAgICAgKiAgIHJhdGUoKSAtPiBSZXR1cm5zIHRoZSBmaXJzdCBzb3VuZCBub2RlJ3MgY3VycmVudCBwbGF5YmFjayByYXRlLlxyXG4gICAgICogICByYXRlKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cclxuICAgICAqICAgcmF0ZShyYXRlKSAtPiBTZXRzIHRoZSBwbGF5YmFjayByYXRlIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxyXG4gICAgICogICByYXRlKHJhdGUsIGlkKSAtPiBTZXRzIHRoZSBwbGF5YmFjayByYXRlIG9mIHBhc3NlZCBzb3VuZCBpZC5cclxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cclxuICAgICAqL1xyXG4gICAgcmF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgIHZhciByYXRlLCBpZDtcclxuXHJcbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cclxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgLy8gV2Ugd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IHJhdGUgb2YgdGhlIGZpcnN0IG5vZGUuXHJcbiAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xyXG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHJhdGUgdmFsdWUuXHJcbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gaWRzLmluZGV4T2YoYXJnc1swXSk7XHJcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcclxuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByYXRlID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICByYXRlID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcclxuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVXBkYXRlIHRoZSBwbGF5YmFjayByYXRlIG9yIHJldHVybiB0aGUgY3VycmVudCB2YWx1ZS5cclxuICAgICAgdmFyIHNvdW5kO1xyXG4gICAgICBpZiAodHlwZW9mIHJhdGUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2UgcGxheWJhY2sgcmF0ZSB3aGVuIGNhcGFibGUuXHJcbiAgICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xyXG4gICAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgICAgIGV2ZW50OiAncmF0ZScsXHJcbiAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5yYXRlLmFwcGx5KHNlbGYsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdXAgcmF0ZS5cclxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgc2VsZi5fcmF0ZSA9IHJhdGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVcGRhdGUgb25lIG9yIGFsbCB2b2x1bWVzLlxyXG4gICAgICAgIGlkID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxpZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cclxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkW2ldKTtcclxuXHJcbiAgICAgICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiBvdXIgcG9zaXRpb24gd2hlbiB0aGUgcmF0ZSBjaGFuZ2VkIGFuZCB1cGRhdGUgdGhlIHBsYXliYWNrXHJcbiAgICAgICAgICAgIC8vIHN0YXJ0IHBvc2l0aW9uIHNvIHdlIGNhbiBwcm9wZXJseSBhZGp1c3QgdGhlIHNlZWsgcG9zaXRpb24gZm9yIHRpbWUgZWxhcHNlZC5cclxuICAgICAgICAgICAgaWYgKHNlbGYucGxheWluZyhpZFtpXSkpIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSBzZWxmLnNlZWsoaWRbaV0pO1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBzZWxmLl93ZWJBdWRpbyA/IEhvd2xlci5jdHguY3VycmVudFRpbWUgOiBzb3VuZC5fcGxheVN0YXJ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNvdW5kLl9yYXRlID0gcmF0ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoYW5nZSB0aGUgcGxheWJhY2sgcmF0ZS5cclxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5wbGF5YmFja1JhdGUuc2V0VmFsdWVBdFRpbWUocmF0ZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wbGF5YmFja1JhdGUgPSByYXRlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgdGltZXJzLlxyXG4gICAgICAgICAgICB2YXIgc2VlayA9IHNlbGYuc2VlayhpZFtpXSk7XHJcbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9ICgoc2VsZi5fc3ByaXRlW3NvdW5kLl9zcHJpdGVdWzBdICsgc2VsZi5fc3ByaXRlW3NvdW5kLl9zcHJpdGVdWzFdKSAvIDEwMDApIC0gc2VlaztcclxuICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSAoZHVyYXRpb24gKiAxMDAwKSAvIE1hdGguYWJzKHNvdW5kLl9yYXRlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFN0YXJ0IGEgbmV3IGVuZCB0aW1lciBpZiBzb3VuZCBpcyBhbHJlYWR5IHBsYXlpbmcuXHJcbiAgICAgICAgICAgIGlmIChzZWxmLl9lbmRUaW1lcnNbaWRbaV1dIHx8ICFzb3VuZC5fcGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZFtpXSk7XHJcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW2lkW2ldXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdyYXRlJywgc291bmQuX2lkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xyXG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl9yYXRlIDogc2VsZi5fcmF0ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0L3NldCB0aGUgc2VlayBwb3NpdGlvbiBvZiBhIHNvdW5kLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXHJcbiAgICAgKiAgIHNlZWsoKSAtPiBSZXR1cm5zIHRoZSBmaXJzdCBzb3VuZCBub2RlJ3MgY3VycmVudCBzZWVrIHBvc2l0aW9uLlxyXG4gICAgICogICBzZWVrKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgc2VlayBwb3NpdGlvbi5cclxuICAgICAqICAgc2VlayhzZWVrKSAtPiBTZXRzIHRoZSBzZWVrIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBzb3VuZCBub2RlLlxyXG4gICAgICogICBzZWVrKHNlZWssIGlkKSAtPiBTZXRzIHRoZSBzZWVrIHBvc2l0aW9uIG9mIHBhc3NlZCBzb3VuZCBpZC5cclxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgc2VlayBwb3NpdGlvbi5cclxuICAgICAqL1xyXG4gICAgc2VlazogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgIHZhciBzZWVrLCBpZDtcclxuXHJcbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cclxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgLy8gV2Ugd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBub2RlLlxyXG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1swXS5faWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHNlZWsgcG9zaXRpb24uXHJcbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gaWRzLmluZGV4T2YoYXJnc1swXSk7XHJcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcclxuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5fc291bmRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xyXG4gICAgICAgICAgc2VlayA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgc2VlayA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XHJcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIHRoZXJlIGlzIG5vIElELCBiYWlsIG91dC5cclxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBzZWVrIHdoZW4gY2FwYWJsZS5cclxuICAgICAgaWYgKHR5cGVvZiBzZWVrID09PSAnbnVtYmVyJyAmJiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSkge1xyXG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgZXZlbnQ6ICdzZWVrJyxcclxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2Vlay5hcHBseShzZWxmLCBhcmdzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XHJcblxyXG4gICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHNlZWsgPT09ICdudW1iZXInICYmIHNlZWsgPj0gMCkge1xyXG4gICAgICAgICAgLy8gUGF1c2UgdGhlIHNvdW5kIGFuZCB1cGRhdGUgcG9zaXRpb24gZm9yIHJlc3RhcnRpbmcgcGxheWJhY2suXHJcbiAgICAgICAgICB2YXIgcGxheWluZyA9IHNlbGYucGxheWluZyhpZCk7XHJcbiAgICAgICAgICBpZiAocGxheWluZykge1xyXG4gICAgICAgICAgICBzZWxmLnBhdXNlKGlkLCB0cnVlKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBNb3ZlIHRoZSBwb3NpdGlvbiBvZiB0aGUgdHJhY2sgYW5kIGNhbmNlbCB0aW1lci5cclxuICAgICAgICAgIHNvdW5kLl9zZWVrID0gc2VlaztcclxuICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZCk7XHJcblxyXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBzZWVrIHBvc2l0aW9uIGZvciBIVE1MNSBBdWRpby5cclxuICAgICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSkge1xyXG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA9IHNlZWs7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gU2VlayBhbmQgZW1pdCB3aGVuIHJlYWR5LlxyXG4gICAgICAgICAgdmFyIHNlZWtBbmRFbWl0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIFJlc3RhcnQgdGhlIHBsYXliYWNrIGlmIHRoZSBzb3VuZCB3YXMgcGxheWluZy5cclxuICAgICAgICAgICAgaWYgKHBsYXlpbmcpIHtcclxuICAgICAgICAgICAgICBzZWxmLnBsYXkoaWQsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdzZWVrJywgaWQpO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgcGxheSBsb2NrIHRvIGJlIHVuc2V0IGJlZm9yZSBlbWl0dGluZyAoSFRNTDUgQXVkaW8pLlxyXG4gICAgICAgICAgaWYgKHBsYXlpbmcgJiYgIXNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICAgIHZhciBlbWl0U2VlayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGlmICghc2VsZi5fcGxheUxvY2spIHtcclxuICAgICAgICAgICAgICAgIHNlZWtBbmRFbWl0KCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZW1pdFNlZWssIDApO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChlbWl0U2VlaywgMCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWVrQW5kRW1pdCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgICAgdmFyIHJlYWxUaW1lID0gc2VsZi5wbGF5aW5nKGlkKSA/IEhvd2xlci5jdHguY3VycmVudFRpbWUgLSBzb3VuZC5fcGxheVN0YXJ0IDogMDtcclxuICAgICAgICAgICAgdmFyIHJhdGVTZWVrID0gc291bmQuX3JhdGVTZWVrID8gc291bmQuX3JhdGVTZWVrIC0gc291bmQuX3NlZWsgOiAwO1xyXG4gICAgICAgICAgICByZXR1cm4gc291bmQuX3NlZWsgKyAocmF0ZVNlZWsgKyByZWFsVGltZSAqIE1hdGguYWJzKHNvdW5kLl9yYXRlKSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gc291bmQuX25vZGUuY3VycmVudFRpbWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHNwZWNpZmljIHNvdW5kIGlzIGN1cnJlbnRseSBwbGF5aW5nIG9yIG5vdCAoaWYgaWQgaXMgcHJvdmlkZWQpLCBvciBjaGVjayBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIHNvdW5kcyBpbiB0aGUgZ3JvdXAgaXMgcGxheWluZyBvciBub3QuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBpZCBUaGUgc291bmQgaWQgdG8gY2hlY2suIElmIG5vbmUgaXMgcGFzc2VkLCB0aGUgd2hvbGUgc291bmQgZ3JvdXAgaXMgY2hlY2tlZC5cclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgcGxheWluZyBhbmQgZmFsc2UgaWYgbm90LlxyXG4gICAgICovXHJcbiAgICBwbGF5aW5nOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBDaGVjayB0aGUgcGFzc2VkIHNvdW5kIElEIChpZiBhbnkpLlxyXG4gICAgICBpZiAodHlwZW9mIGlkID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XHJcbiAgICAgICAgcmV0dXJuIHNvdW5kID8gIXNvdW5kLl9wYXVzZWQgOiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gT3RoZXJ3aXNlLCBsb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgY2hlY2sgaWYgYW55IGFyZSBwbGF5aW5nLlxyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKCFzZWxmLl9zb3VuZHNbaV0uX3BhdXNlZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBkdXJhdGlvbiBvZiB0aGlzIHNvdW5kLiBQYXNzaW5nIGEgc291bmQgaWQgd2lsbCByZXR1cm4gdGhlIHNwcml0ZSBkdXJhdGlvbi5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIGlkIHRvIGNoZWNrLiBJZiBub25lIGlzIHBhc3NlZCwgcmV0dXJuIGZ1bGwgc291cmNlIGR1cmF0aW9uLlxyXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBBdWRpbyBkdXJhdGlvbiBpbiBzZWNvbmRzLlxyXG4gICAgICovXHJcbiAgICBkdXJhdGlvbjogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZHVyYXRpb24gPSBzZWxmLl9kdXJhdGlvbjtcclxuXHJcbiAgICAgIC8vIElmIHdlIHBhc3MgYW4gSUQsIGdldCB0aGUgc291bmQgYW5kIHJldHVybiB0aGUgc3ByaXRlIGxlbmd0aC5cclxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcclxuICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgZHVyYXRpb24gPSBzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMV0gLyAxMDAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZHVyYXRpb247XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBsb2FkZWQgc3RhdGUgb2YgdGhpcyBIb3dsLlxyXG4gICAgICogQHJldHVybiB7U3RyaW5nfSAndW5sb2FkZWQnLCAnbG9hZGluZycsICdsb2FkZWQnXHJcbiAgICAgKi9cclxuICAgIHN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVubG9hZCBhbmQgZGVzdHJveSB0aGUgY3VycmVudCBIb3dsIG9iamVjdC5cclxuICAgICAqIFRoaXMgd2lsbCBpbW1lZGlhdGVseSBzdG9wIGFsbCBzb3VuZCBpbnN0YW5jZXMgYXR0YWNoZWQgdG8gdGhpcyBncm91cC5cclxuICAgICAqL1xyXG4gICAgdW5sb2FkOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gU3RvcCBwbGF5aW5nIGFueSBhY3RpdmUgc291bmRzLlxyXG4gICAgICB2YXIgc291bmRzID0gc2VsZi5fc291bmRzO1xyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gU3RvcCB0aGUgc291bmQgaWYgaXQgaXMgY3VycmVudGx5IHBsYXlpbmcuXHJcbiAgICAgICAgaWYgKCFzb3VuZHNbaV0uX3BhdXNlZCkge1xyXG4gICAgICAgICAgc2VsZi5zdG9wKHNvdW5kc1tpXS5faWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBzb3VyY2Ugb3IgZGlzY29ubmVjdC5cclxuICAgICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICAvLyBTZXQgdGhlIHNvdXJjZSB0byAwLXNlY29uZCBzaWxlbmNlIHRvIHN0b3AgYW55IGRvd25sb2FkaW5nIChleGNlcHQgaW4gSUUpLlxyXG4gICAgICAgICAgc2VsZi5fY2xlYXJTb3VuZChzb3VuZHNbaV0uX25vZGUpO1xyXG5cclxuICAgICAgICAgIC8vIFJlbW92ZSBhbnkgZXZlbnQgbGlzdGVuZXJzLlxyXG4gICAgICAgICAgc291bmRzW2ldLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc291bmRzW2ldLl9lcnJvckZuLCBmYWxzZSk7XHJcbiAgICAgICAgICBzb3VuZHNbaV0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc291bmRzW2ldLl9sb2FkRm4sIGZhbHNlKTtcclxuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNvdW5kc1tpXS5fZW5kRm4sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAvLyBSZWxlYXNlIHRoZSBBdWRpbyBvYmplY3QgYmFjayB0byB0aGUgcG9vbC5cclxuICAgICAgICAgIEhvd2xlci5fcmVsZWFzZUh0bWw1QXVkaW8oc291bmRzW2ldLl9ub2RlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEVtcHR5IG91dCBhbGwgb2YgdGhlIG5vZGVzLlxyXG4gICAgICAgIGRlbGV0ZSBzb3VuZHNbaV0uX25vZGU7XHJcblxyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBhbGwgdGltZXJzIGFyZSBjbGVhcmVkIG91dC5cclxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kc1tpXS5faWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZW1vdmUgdGhlIHJlZmVyZW5jZXMgaW4gdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxyXG4gICAgICB2YXIgaW5kZXggPSBIb3dsZXIuX2hvd2xzLmluZGV4T2Yoc2VsZik7XHJcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgSG93bGVyLl9ob3dscy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEZWxldGUgdGhpcyBzb3VuZCBmcm9tIHRoZSBjYWNoZSAoaWYgbm8gb3RoZXIgSG93bCBpcyB1c2luZyBpdCkuXHJcbiAgICAgIHZhciByZW1DYWNoZSA9IHRydWU7XHJcbiAgICAgIGZvciAoaT0wOyBpPEhvd2xlci5faG93bHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoSG93bGVyLl9ob3dsc1tpXS5fc3JjID09PSBzZWxmLl9zcmMgfHwgc2VsZi5fc3JjLmluZGV4T2YoSG93bGVyLl9ob3dsc1tpXS5fc3JjKSA+PSAwKSB7XHJcbiAgICAgICAgICByZW1DYWNoZSA9IGZhbHNlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY2FjaGUgJiYgcmVtQ2FjaGUpIHtcclxuICAgICAgICBkZWxldGUgY2FjaGVbc2VsZi5fc3JjXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2xlYXIgZ2xvYmFsIGVycm9ycy5cclxuICAgICAgSG93bGVyLm5vQXVkaW8gPSBmYWxzZTtcclxuXHJcbiAgICAgIC8vIENsZWFyIG91dCBgc2VsZmAuXHJcbiAgICAgIHNlbGYuX3N0YXRlID0gJ3VubG9hZGVkJztcclxuICAgICAgc2VsZi5fc291bmRzID0gW107XHJcbiAgICAgIHNlbGYgPSBudWxsO1xyXG5cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTGlzdGVuIHRvIGEgY3VzdG9tIGV2ZW50LlxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gICAgTGlzdGVuZXIgdG8gY2FsbC5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpZCAgICAob3B0aW9uYWwpIE9ubHkgbGlzdGVuIHRvIGV2ZW50cyBmb3IgdGhpcyBzb3VuZC5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBvbmNlICAoSU5URVJOQUwpIE1hcmtzIGV2ZW50IHRvIGZpcmUgb25seSBvbmNlLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQsIG9uY2UpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBldmVudHMucHVzaChvbmNlID8ge2lkOiBpZCwgZm46IGZuLCBvbmNlOiBvbmNlfSA6IHtpZDogaWQsIGZuOiBmbn0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYSBjdXN0b20gZXZlbnQuIENhbGwgd2l0aG91dCBwYXJhbWV0ZXJzIHRvIHJlbW92ZSBhbGwgZXZlbnRzLlxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gICAgTGlzdGVuZXIgdG8gcmVtb3ZlLiBMZWF2ZSBlbXB0eSB0byByZW1vdmUgYWxsLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSByZW1vdmUgZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudCwgZm4sIGlkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGV2ZW50cyA9IHNlbGZbJ19vbicgKyBldmVudF07XHJcbiAgICAgIHZhciBpID0gMDtcclxuXHJcbiAgICAgIC8vIEFsbG93IHBhc3NpbmcganVzdCBhbiBldmVudCBhbmQgSUQuXHJcbiAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgaWQgPSBmbjtcclxuICAgICAgICBmbiA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChmbiB8fCBpZCkge1xyXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBldmVudCBzdG9yZSBhbmQgcmVtb3ZlIHRoZSBwYXNzZWQgZnVuY3Rpb24uXHJcbiAgICAgICAgZm9yIChpPTA7IGk8ZXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB2YXIgaXNJZCA9IChpZCA9PT0gZXZlbnRzW2ldLmlkKTtcclxuICAgICAgICAgIGlmIChmbiA9PT0gZXZlbnRzW2ldLmZuICYmIGlzSWQgfHwgIWZuICYmIGlzSWQpIHtcclxuICAgICAgICAgICAgZXZlbnRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50KSB7XHJcbiAgICAgICAgLy8gQ2xlYXIgb3V0IGFsbCBldmVudHMgb2YgdGhpcyB0eXBlLlxyXG4gICAgICAgIHNlbGZbJ19vbicgKyBldmVudF0gPSBbXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBDbGVhciBvdXQgYWxsIGV2ZW50cyBvZiBldmVyeSB0eXBlLlxyXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc2VsZik7XHJcbiAgICAgICAgZm9yIChpPTA7IGk8a2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKChrZXlzW2ldLmluZGV4T2YoJ19vbicpID09PSAwKSAmJiBBcnJheS5pc0FycmF5KHNlbGZba2V5c1tpXV0pKSB7XHJcbiAgICAgICAgICAgIHNlbGZba2V5c1tpXV0gPSBbXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIExpc3RlbiB0byBhIGN1c3RvbSBldmVudCBhbmQgcmVtb3ZlIGl0IG9uY2UgZmlyZWQuXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgZXZlbnQgRXZlbnQgbmFtZS5cclxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byBjYWxsLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSBsaXN0ZW4gdG8gZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgb25jZTogZnVuY3Rpb24oZXZlbnQsIGZuLCBpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBTZXR1cCB0aGUgZXZlbnQgbGlzdGVuZXIuXHJcbiAgICAgIHNlbGYub24oZXZlbnQsIGZuLCBpZCwgMSk7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbWl0IGFsbCBldmVudHMgb2YgYSBzcGVjaWZpYyB0eXBlIGFuZCBwYXNzIHRoZSBzb3VuZCBpZC5cclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQgRXZlbnQgbmFtZS5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICAgU291bmQgSUQuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1zZyAgIE1lc3NhZ2UgdG8gZ28gd2l0aCBldmVudC5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIF9lbWl0OiBmdW5jdGlvbihldmVudCwgaWQsIG1zZykge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xyXG5cclxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZW50IHN0b3JlIGFuZCBmaXJlIGFsbCBmdW5jdGlvbnMuXHJcbiAgICAgIGZvciAodmFyIGk9ZXZlbnRzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcclxuICAgICAgICAvLyBPbmx5IGZpcmUgdGhlIGxpc3RlbmVyIGlmIHRoZSBjb3JyZWN0IElEIGlzIHVzZWQuXHJcbiAgICAgICAgaWYgKCFldmVudHNbaV0uaWQgfHwgZXZlbnRzW2ldLmlkID09PSBpZCB8fCBldmVudCA9PT0gJ2xvYWQnKSB7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgaWQsIG1zZyk7XHJcbiAgICAgICAgICB9LmJpbmQoc2VsZiwgZXZlbnRzW2ldLmZuKSwgMCk7XHJcblxyXG4gICAgICAgICAgLy8gSWYgdGhpcyBldmVudCB3YXMgc2V0dXAgd2l0aCBgb25jZWAsIHJlbW92ZSBpdC5cclxuICAgICAgICAgIGlmIChldmVudHNbaV0ub25jZSkge1xyXG4gICAgICAgICAgICBzZWxmLm9mZihldmVudCwgZXZlbnRzW2ldLmZuLCBldmVudHNbaV0uaWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUGFzcyB0aGUgZXZlbnQgdHlwZSBpbnRvIGxvYWQgcXVldWUgc28gdGhhdCBpdCBjYW4gY29udGludWUgc3RlcHBpbmcuXHJcbiAgICAgIHNlbGYuX2xvYWRRdWV1ZShldmVudCk7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBRdWV1ZSBvZiBhY3Rpb25zIGluaXRpYXRlZCBiZWZvcmUgdGhlIHNvdW5kIGhhcyBsb2FkZWQuXHJcbiAgICAgKiBUaGVzZSB3aWxsIGJlIGNhbGxlZCBpbiBzZXF1ZW5jZSwgd2l0aCB0aGUgbmV4dCBvbmx5IGZpcmluZ1xyXG4gICAgICogYWZ0ZXIgdGhlIHByZXZpb3VzIGhhcyBmaW5pc2hlZCBleGVjdXRpbmcgKGV2ZW4gaWYgYXN5bmMgbGlrZSBwbGF5KS5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIF9sb2FkUXVldWU6IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIGlmIChzZWxmLl9xdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdmFyIHRhc2sgPSBzZWxmLl9xdWV1ZVswXTtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHRoaXMgdGFzayBpZiBhIG1hdGNoaW5nIGV2ZW50IHdhcyBwYXNzZWQuXHJcbiAgICAgICAgaWYgKHRhc2suZXZlbnQgPT09IGV2ZW50KSB7XHJcbiAgICAgICAgICBzZWxmLl9xdWV1ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSdW4gdGhlIHRhc2sgaWYgbm8gZXZlbnQgdHlwZSBpcyBwYXNzZWQuXHJcbiAgICAgICAgaWYgKCFldmVudCkge1xyXG4gICAgICAgICAgdGFzay5hY3Rpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpcmVkIHdoZW4gcGxheWJhY2sgZW5kcyBhdCB0aGUgZW5kIG9mIHRoZSBkdXJhdGlvbi5cclxuICAgICAqIEBwYXJhbSAge1NvdW5kfSBzb3VuZCBUaGUgc291bmQgb2JqZWN0IHRvIHdvcmsgd2l0aC5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIF9lbmRlZDogZnVuY3Rpb24oc291bmQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgc3ByaXRlID0gc291bmQuX3Nwcml0ZTtcclxuXHJcbiAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBJRSBhbmQgdGhlcmUgd2FzIG5ldHdvcmsgbGF0ZW5jeSB3ZSBtYXkgYmUgY2xpcHBpbmdcclxuICAgICAgLy8gYXVkaW8gYmVmb3JlIGl0IGNvbXBsZXRlcyBwbGF5aW5nLiBMZXRzIGNoZWNrIHRoZSBub2RlIHRvIG1ha2Ugc3VyZSBpdFxyXG4gICAgICAvLyBiZWxpZXZlcyBpdCBoYXMgY29tcGxldGVkLCBiZWZvcmUgZW5kaW5nIHRoZSBwbGF5YmFjay5cclxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiAhc291bmQuX25vZGUucGF1c2VkICYmICFzb3VuZC5fbm9kZS5lbmRlZCAmJiBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA8IHNvdW5kLl9zdG9wKSB7XHJcbiAgICAgICAgc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgMTAwKTtcclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2hvdWxkIHRoaXMgc291bmQgbG9vcD9cclxuICAgICAgdmFyIGxvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XHJcblxyXG4gICAgICAvLyBGaXJlIHRoZSBlbmRlZCBldmVudC5cclxuICAgICAgc2VsZi5fZW1pdCgnZW5kJywgc291bmQuX2lkKTtcclxuXHJcbiAgICAgIC8vIFJlc3RhcnQgdGhlIHBsYXliYWNrIGZvciBIVE1MNSBBdWRpbyBsb29wLlxyXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIGxvb3ApIHtcclxuICAgICAgICBzZWxmLnN0b3Aoc291bmQuX2lkLCB0cnVlKS5wbGF5KHNvdW5kLl9pZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlc3RhcnQgdGhpcyB0aW1lciBpZiBvbiBhIFdlYiBBdWRpbyBsb29wLlxyXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgbG9vcCkge1xyXG4gICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xyXG4gICAgICAgIHNvdW5kLl9zZWVrID0gc291bmQuX3N0YXJ0IHx8IDA7XHJcbiAgICAgICAgc291bmQuX3JhdGVTZWVrID0gMDtcclxuICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcclxuXHJcbiAgICAgICAgdmFyIHRpbWVvdXQgPSAoKHNvdW5kLl9zdG9wIC0gc291bmQuX3N0YXJ0KSAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xyXG4gICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE1hcmsgdGhlIG5vZGUgYXMgcGF1c2VkLlxyXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgIWxvb3ApIHtcclxuICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICBzb3VuZC5fZW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIHNvdW5kLl9zZWVrID0gc291bmQuX3N0YXJ0IHx8IDA7XHJcbiAgICAgICAgc291bmQuX3JhdGVTZWVrID0gMDtcclxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XHJcblxyXG4gICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxyXG4gICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcclxuXHJcbiAgICAgICAgLy8gQXR0ZW1wdCB0byBhdXRvLXN1c3BlbmQgQXVkaW9Db250ZXh0IGlmIG5vIHNvdW5kcyBhcmUgc3RpbGwgcGxheWluZy5cclxuICAgICAgICBIb3dsZXIuX2F1dG9TdXNwZW5kKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFdoZW4gdXNpbmcgYSBzcHJpdGUsIGVuZCB0aGUgdHJhY2suXHJcbiAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgIWxvb3ApIHtcclxuICAgICAgICBzZWxmLnN0b3Aoc291bmQuX2lkLCB0cnVlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXIgdGhlIGVuZCB0aW1lciBmb3IgYSBzb3VuZCBwbGF5YmFjay5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElELlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgX2NsZWFyVGltZXI6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIGlmIChzZWxmLl9lbmRUaW1lcnNbaWRdKSB7XHJcbiAgICAgICAgLy8gQ2xlYXIgdGhlIHRpbWVvdXQgb3IgcmVtb3ZlIHRoZSBlbmRlZCBsaXN0ZW5lci5cclxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuX2VuZFRpbWVyc1tpZF0gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9lbmRUaW1lcnNbaWRdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcclxuICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xyXG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNlbGYuX2VuZFRpbWVyc1tpZF0sIGZhbHNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlbGV0ZSBzZWxmLl9lbmRUaW1lcnNbaWRdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gdGhlIHNvdW5kIGlkZW50aWZpZWQgYnkgdGhpcyBJRCwgb3IgcmV0dXJuIG51bGwuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFNvdW5kIElEXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgIFNvdW5kIG9iamVjdCBvciBudWxsLlxyXG4gICAgICovXHJcbiAgICBfc291bmRCeUlkOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgZmluZCB0aGUgb25lIHdpdGggdGhpcyBJRC5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChpZCA9PT0gc2VsZi5fc291bmRzW2ldLl9pZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3NvdW5kc1tpXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBhbiBpbmFjdGl2ZSBzb3VuZCBmcm9tIHRoZSBwb29sIG9yIGNyZWF0ZSBhIG5ldyBvbmUuXHJcbiAgICAgKiBAcmV0dXJuIHtTb3VuZH0gU291bmQgcGxheWJhY2sgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBfaW5hY3RpdmVTb3VuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIHNlbGYuX2RyYWluKCk7XHJcblxyXG4gICAgICAvLyBGaW5kIHRoZSBmaXJzdCBpbmFjdGl2ZSBub2RlIHRvIHJlY3ljbGUuXHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3NvdW5kc1tpXS5yZXNldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgbm8gaW5hY3RpdmUgbm9kZSB3YXMgZm91bmQsIGNyZWF0ZSBhIG5ldyBvbmUuXHJcbiAgICAgIHJldHVybiBuZXcgU291bmQoc2VsZik7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhaW4gZXhjZXNzIGluYWN0aXZlIHNvdW5kcyBmcm9tIHRoZSBwb29sLlxyXG4gICAgICovXHJcbiAgICBfZHJhaW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBsaW1pdCA9IHNlbGYuX3Bvb2w7XHJcbiAgICAgIHZhciBjbnQgPSAwO1xyXG4gICAgICB2YXIgaSA9IDA7XHJcblxyXG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbGVzcyBzb3VuZHMgdGhhbiB0aGUgbWF4IHBvb2wgc2l6ZSwgd2UgYXJlIGRvbmUuXHJcbiAgICAgIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoIDwgbGltaXQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2YgaW5hY3RpdmUgc291bmRzLlxyXG4gICAgICBmb3IgKGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xyXG4gICAgICAgICAgY250Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZW1vdmUgZXhjZXNzIGluYWN0aXZlIHNvdW5kcywgZ29pbmcgaW4gcmV2ZXJzZSBvcmRlci5cclxuICAgICAgZm9yIChpPXNlbGYuX3NvdW5kcy5sZW5ndGggLSAxOyBpPj0wOyBpLS0pIHtcclxuICAgICAgICBpZiAoY250IDw9IGxpbWl0KSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xyXG4gICAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgYXVkaW8gc291cmNlIHdoZW4gdXNpbmcgV2ViIEF1ZGlvLlxyXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNlbGYuX3NvdW5kc1tpXS5fbm9kZSkge1xyXG4gICAgICAgICAgICBzZWxmLl9zb3VuZHNbaV0uX25vZGUuZGlzY29ubmVjdCgwKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBSZW1vdmUgc291bmRzIHVudGlsIHdlIGhhdmUgdGhlIHBvb2wgc2l6ZS5cclxuICAgICAgICAgIHNlbGYuX3NvdW5kcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICBjbnQtLTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYWxsIElEJ3MgZnJvbSB0aGUgc291bmRzIHBvb2wuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIE9ubHkgcmV0dXJuIG9uZSBJRCBpZiBvbmUgaXMgcGFzc2VkLlxyXG4gICAgICogQHJldHVybiB7QXJyYXl9ICAgIEFycmF5IG9mIElEcy5cclxuICAgICAqL1xyXG4gICAgX2dldFNvdW5kSWRzOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHZhciBpZHMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZHMucHVzaChzZWxmLl9zb3VuZHNbaV0uX2lkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpZHM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIFtpZF07XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIHRoZSBzb3VuZCBiYWNrIGludG8gdGhlIGJ1ZmZlciBzb3VyY2UuXHJcbiAgICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgVGhlIHNvdW5kIG9iamVjdCB0byB3b3JrIHdpdGguXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBfcmVmcmVzaEJ1ZmZlcjogZnVuY3Rpb24oc291bmQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gU2V0dXAgdGhlIGJ1ZmZlciBzb3VyY2UgZm9yIHBsYXliYWNrLlxyXG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UgPSBIb3dsZXIuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xyXG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuYnVmZmVyID0gY2FjaGVbc2VsZi5fc3JjXTtcclxuXHJcbiAgICAgIC8vIENvbm5lY3QgdG8gdGhlIGNvcnJlY3Qgbm9kZS5cclxuICAgICAgaWYgKHNvdW5kLl9wYW5uZXIpIHtcclxuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuY29ubmVjdChzb3VuZC5fcGFubmVyKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuY29ubmVjdChzb3VuZC5fbm9kZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNldHVwIGxvb3BpbmcgYW5kIHBsYXliYWNrIHJhdGUuXHJcbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wID0gc291bmQuX2xvb3A7XHJcbiAgICAgIGlmIChzb3VuZC5fbG9vcCkge1xyXG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcclxuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcEVuZCA9IHNvdW5kLl9zdG9wIHx8IDA7XHJcbiAgICAgIH1cclxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcmF0ZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmV2ZW50IG1lbW9yeSBsZWFrcyBieSBjbGVhbmluZyB1cCB0aGUgYnVmZmVyIHNvdXJjZSBhZnRlciBwbGF5YmFjay5cclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gbm9kZSBTb3VuZCdzIGF1ZGlvIG5vZGUgY29udGFpbmluZyB0aGUgYnVmZmVyIHNvdXJjZS5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIF9jbGVhbkJ1ZmZlcjogZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBpc0lPUyA9IEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCdBcHBsZScpID49IDA7XHJcblxyXG4gICAgICBpZiAoIW5vZGUuYnVmZmVyU291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChIb3dsZXIuX3NjcmF0Y2hCdWZmZXIgJiYgbm9kZS5idWZmZXJTb3VyY2UpIHtcclxuICAgICAgICBub2RlLmJ1ZmZlclNvdXJjZS5vbmVuZGVkID0gbnVsbDtcclxuICAgICAgICBub2RlLmJ1ZmZlclNvdXJjZS5kaXNjb25uZWN0KDApO1xyXG4gICAgICAgIGlmIChpc0lPUykge1xyXG4gICAgICAgICAgdHJ5IHsgbm9kZS5idWZmZXJTb3VyY2UuYnVmZmVyID0gSG93bGVyLl9zY3JhdGNoQnVmZmVyOyB9IGNhdGNoKGUpIHt9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIG5vZGUuYnVmZmVyU291cmNlID0gbnVsbDtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgc291cmNlIHRvIGEgMC1zZWNvbmQgc2lsZW5jZSB0byBzdG9wIGFueSBkb3dubG9hZGluZyAoZXhjZXB0IGluIElFKS5cclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gbm9kZSBBdWRpbyBub2RlIHRvIGNsZWFyLlxyXG4gICAgICovXHJcbiAgICBfY2xlYXJTb3VuZDogZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICB2YXIgY2hlY2tJRSA9IC9NU0lFIHxUcmlkZW50XFwvLy50ZXN0KEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbiAgICAgIGlmICghY2hlY2tJRSkge1xyXG4gICAgICAgIG5vZGUuc3JjID0gJ2RhdGE6YXVkaW8vd2F2O2Jhc2U2NCxVa2xHUmlnQUFBQlhRVlpGWm0xMElCSUFBQUFCQUFFQVJLd0FBSWhZQVFBQ0FCQUFBQUJrWVhSaEFnQUFBQUVBJztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAvKipcclxuICAgKiBTZXR1cCB0aGUgc291bmQgb2JqZWN0LCB3aGljaCBlYWNoIG5vZGUgYXR0YWNoZWQgdG8gYSBIb3dsIGdyb3VwIGlzIGNvbnRhaW5lZCBpbi5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gaG93bCBUaGUgSG93bCBwYXJlbnQgZ3JvdXAuXHJcbiAgICovXHJcbiAgdmFyIFNvdW5kID0gZnVuY3Rpb24oaG93bCkge1xyXG4gICAgdGhpcy5fcGFyZW50ID0gaG93bDtcclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH07XHJcbiAgU291bmQucHJvdG90eXBlID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IFNvdW5kIG9iamVjdC5cclxuICAgICAqIEByZXR1cm4ge1NvdW5kfVxyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xyXG5cclxuICAgICAgLy8gU2V0dXAgdGhlIGRlZmF1bHQgcGFyYW1ldGVycy5cclxuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xyXG4gICAgICBzZWxmLl9sb29wID0gcGFyZW50Ll9sb29wO1xyXG4gICAgICBzZWxmLl92b2x1bWUgPSBwYXJlbnQuX3ZvbHVtZTtcclxuICAgICAgc2VsZi5fcmF0ZSA9IHBhcmVudC5fcmF0ZTtcclxuICAgICAgc2VsZi5fc2VlayA9IDA7XHJcbiAgICAgIHNlbGYuX3BhdXNlZCA9IHRydWU7XHJcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcclxuICAgICAgc2VsZi5fc3ByaXRlID0gJ19fZGVmYXVsdCc7XHJcblxyXG4gICAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhpcyBzb3VuZC5cclxuICAgICAgc2VsZi5faWQgPSArK0hvd2xlci5fY291bnRlcjtcclxuXHJcbiAgICAgIC8vIEFkZCBpdHNlbGYgdG8gdGhlIHBhcmVudCdzIHBvb2wuXHJcbiAgICAgIHBhcmVudC5fc291bmRzLnB1c2goc2VsZik7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgdGhlIG5ldyBub2RlLlxyXG4gICAgICBzZWxmLmNyZWF0ZSgpO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuZCBzZXR1cCBhIG5ldyBzb3VuZCBvYmplY3QsIHdoZXRoZXIgSFRNTDUgQXVkaW8gb3IgV2ViIEF1ZGlvLlxyXG4gICAgICogQHJldHVybiB7U291bmR9XHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcclxuICAgICAgdmFyIHZvbHVtZSA9IChIb3dsZXIuX211dGVkIHx8IHNlbGYuX211dGVkIHx8IHNlbGYuX3BhcmVudC5fbXV0ZWQpID8gMCA6IHNlbGYuX3ZvbHVtZTtcclxuXHJcbiAgICAgIGlmIChwYXJlbnQuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBnYWluIG5vZGUgZm9yIGNvbnRyb2xsaW5nIHZvbHVtZSAodGhlIHNvdXJjZSB3aWxsIGNvbm5lY3QgdG8gdGhpcykuXHJcbiAgICAgICAgc2VsZi5fbm9kZSA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVHYWluID09PSAndW5kZWZpbmVkJykgPyBIb3dsZXIuY3R4LmNyZWF0ZUdhaW5Ob2RlKCkgOiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4oKTtcclxuICAgICAgICBzZWxmLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICBzZWxmLl9ub2RlLnBhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgc2VsZi5fbm9kZS5jb25uZWN0KEhvd2xlci5tYXN0ZXJHYWluKTtcclxuICAgICAgfSBlbHNlIGlmICghSG93bGVyLm5vQXVkaW8pIHtcclxuICAgICAgICAvLyBHZXQgYW4gdW5sb2NrZWQgQXVkaW8gb2JqZWN0IGZyb20gdGhlIHBvb2wuXHJcbiAgICAgICAgc2VsZi5fbm9kZSA9IEhvd2xlci5fb2J0YWluSHRtbDVBdWRpbygpO1xyXG5cclxuICAgICAgICAvLyBMaXN0ZW4gZm9yIGVycm9ycyAoaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy1hdXRob3Itdmlldy9zcGVjLmh0bWwjbWVkaWFlcnJvcikuXHJcbiAgICAgICAgc2VsZi5fZXJyb3JGbiA9IHNlbGYuX2Vycm9yTGlzdGVuZXIuYmluZChzZWxmKTtcclxuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc2VsZi5fZXJyb3JGbiwgZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyBMaXN0ZW4gZm9yICdjYW5wbGF5dGhyb3VnaCcgZXZlbnQgdG8gbGV0IHVzIGtub3cgdGhlIHNvdW5kIGlzIHJlYWR5LlxyXG4gICAgICAgIHNlbGYuX2xvYWRGbiA9IHNlbGYuX2xvYWRMaXN0ZW5lci5iaW5kKHNlbGYpO1xyXG4gICAgICAgIHNlbGYuX25vZGUuYWRkRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc2VsZi5fbG9hZEZuLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbiBmb3IgdGhlICdlbmRlZCcgZXZlbnQgb24gdGhlIHNvdW5kIHRvIGFjY291bnQgZm9yIGVkZ2UtY2FzZSB3aGVyZVxyXG4gICAgICAgIC8vIGEgZmluaXRlIHNvdW5kIGhhcyBhIGR1cmF0aW9uIG9mIEluZmluaXR5LlxyXG4gICAgICAgIHNlbGYuX2VuZEZuID0gc2VsZi5fZW5kTGlzdGVuZXIuYmluZChzZWxmKTtcclxuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kRm4sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gU2V0dXAgdGhlIG5ldyBhdWRpbyBub2RlLlxyXG4gICAgICAgIHNlbGYuX25vZGUuc3JjID0gcGFyZW50Ll9zcmM7XHJcbiAgICAgICAgc2VsZi5fbm9kZS5wcmVsb2FkID0gcGFyZW50Ll9wcmVsb2FkID09PSB0cnVlID8gJ2F1dG8nIDogcGFyZW50Ll9wcmVsb2FkO1xyXG4gICAgICAgIHNlbGYuX25vZGUudm9sdW1lID0gdm9sdW1lICogSG93bGVyLnZvbHVtZSgpO1xyXG5cclxuICAgICAgICAvLyBCZWdpbiBsb2FkaW5nIHRoZSBzb3VyY2UuXHJcbiAgICAgICAgc2VsZi5fbm9kZS5sb2FkKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQgdG8gdGhlIG9yaWdpbmFsIHN0YXRlIChmb3IgcmVjeWNsZSkuXHJcbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cclxuICAgICAqL1xyXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XHJcblxyXG4gICAgICAvLyBSZXNldCBhbGwgb2YgdGhlIHBhcmFtZXRlcnMgb2YgdGhpcyBzb3VuZC5cclxuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xyXG4gICAgICBzZWxmLl9sb29wID0gcGFyZW50Ll9sb29wO1xyXG4gICAgICBzZWxmLl92b2x1bWUgPSBwYXJlbnQuX3ZvbHVtZTtcclxuICAgICAgc2VsZi5fcmF0ZSA9IHBhcmVudC5fcmF0ZTtcclxuICAgICAgc2VsZi5fc2VlayA9IDA7XHJcbiAgICAgIHNlbGYuX3JhdGVTZWVrID0gMDtcclxuICAgICAgc2VsZi5fcGF1c2VkID0gdHJ1ZTtcclxuICAgICAgc2VsZi5fZW5kZWQgPSB0cnVlO1xyXG4gICAgICBzZWxmLl9zcHJpdGUgPSAnX19kZWZhdWx0JztcclxuXHJcbiAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IElEIHNvIHRoYXQgaXQgaXNuJ3QgY29uZnVzZWQgd2l0aCB0aGUgcHJldmlvdXMgc291bmQuXHJcbiAgICAgIHNlbGYuX2lkID0gKytIb3dsZXIuX2NvdW50ZXI7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIVE1MNSBBdWRpbyBlcnJvciBsaXN0ZW5lciBjYWxsYmFjay5cclxuICAgICAqL1xyXG4gICAgX2Vycm9yTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBGaXJlIGFuIGVycm9yIGV2ZW50IGFuZCBwYXNzIGJhY2sgdGhlIGNvZGUuXHJcbiAgICAgIHNlbGYuX3BhcmVudC5fZW1pdCgnbG9hZGVycm9yJywgc2VsZi5faWQsIHNlbGYuX25vZGUuZXJyb3IgPyBzZWxmLl9ub2RlLmVycm9yLmNvZGUgOiAwKTtcclxuXHJcbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cclxuICAgICAgc2VsZi5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNlbGYuX2Vycm9yRm4sIGZhbHNlKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIVE1MNSBBdWRpbyBjYW5wbGF5dGhyb3VnaCBsaXN0ZW5lciBjYWxsYmFjay5cclxuICAgICAqL1xyXG4gICAgX2xvYWRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcclxuXHJcbiAgICAgIC8vIFJvdW5kIHVwIHRoZSBkdXJhdGlvbiB0byBhY2NvdW50IGZvciB0aGUgbG93ZXIgcHJlY2lzaW9uIGluIEhUTUw1IEF1ZGlvLlxyXG4gICAgICBwYXJlbnQuX2R1cmF0aW9uID0gTWF0aC5jZWlsKHNlbGYuX25vZGUuZHVyYXRpb24gKiAxMCkgLyAxMDtcclxuXHJcbiAgICAgIC8vIFNldHVwIGEgc3ByaXRlIGlmIG5vbmUgaXMgZGVmaW5lZC5cclxuICAgICAgaWYgKE9iamVjdC5rZXlzKHBhcmVudC5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBwYXJlbnQuX3Nwcml0ZSA9IHtfX2RlZmF1bHQ6IFswLCBwYXJlbnQuX2R1cmF0aW9uICogMTAwMF19O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocGFyZW50Ll9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcclxuICAgICAgICBwYXJlbnQuX3N0YXRlID0gJ2xvYWRlZCc7XHJcbiAgICAgICAgcGFyZW50Ll9lbWl0KCdsb2FkJyk7XHJcbiAgICAgICAgcGFyZW50Ll9sb2FkUXVldWUoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2xlYXIgdGhlIGV2ZW50IGxpc3RlbmVyLlxyXG4gICAgICBzZWxmLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNlbGYuX2xvYWRGbiwgZmFsc2UpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhUTUw1IEF1ZGlvIGVuZGVkIGxpc3RlbmVyIGNhbGxiYWNrLlxyXG4gICAgICovXHJcbiAgICBfZW5kTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XHJcblxyXG4gICAgICAvLyBPbmx5IGhhbmRsZSB0aGUgYGVuZGVkYGAgZXZlbnQgaWYgdGhlIGR1cmF0aW9uIGlzIEluZmluaXR5LlxyXG4gICAgICBpZiAocGFyZW50Ll9kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIHBhcmVudCBkdXJhdGlvbiB0byBtYXRjaCB0aGUgcmVhbCBhdWRpbyBkdXJhdGlvbi5cclxuICAgICAgICAvLyBSb3VuZCB1cCB0aGUgZHVyYXRpb24gdG8gYWNjb3VudCBmb3IgdGhlIGxvd2VyIHByZWNpc2lvbiBpbiBIVE1MNSBBdWRpby5cclxuICAgICAgICBwYXJlbnQuX2R1cmF0aW9uID0gTWF0aC5jZWlsKHNlbGYuX25vZGUuZHVyYXRpb24gKiAxMCkgLyAxMDtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzcHJpdGUgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgcmVhbCBkdXJhdGlvbi5cclxuICAgICAgICBpZiAocGFyZW50Ll9zcHJpdGUuX19kZWZhdWx0WzFdID09PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgcGFyZW50Ll9zcHJpdGUuX19kZWZhdWx0WzFdID0gcGFyZW50Ll9kdXJhdGlvbiAqIDEwMDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSdW4gdGhlIHJlZ3VsYXIgZW5kZWQgbWV0aG9kLlxyXG4gICAgICAgIHBhcmVudC5fZW5kZWQoc2VsZik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lciBzaW5jZSB0aGUgZHVyYXRpb24gaXMgbm93IGNvcnJlY3QuXHJcbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRGbiwgZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKiBIZWxwZXIgTWV0aG9kcyAqKi9cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICB2YXIgY2FjaGUgPSB7fTtcclxuXHJcbiAgLyoqXHJcbiAgICogQnVmZmVyIGEgc291bmQgZnJvbSBVUkwsIERhdGEgVVJJIG9yIGNhY2hlIGFuZCBkZWNvZGUgdG8gYXVkaW8gc291cmNlIChXZWIgQXVkaW8gQVBJKS5cclxuICAgKiBAcGFyYW0gIHtIb3dsfSBzZWxmXHJcbiAgICovXHJcbiAgdmFyIGxvYWRCdWZmZXIgPSBmdW5jdGlvbihzZWxmKSB7XHJcbiAgICB2YXIgdXJsID0gc2VsZi5fc3JjO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSBidWZmZXIgaGFzIGFscmVhZHkgYmVlbiBjYWNoZWQgYW5kIHVzZSBpdCBpbnN0ZWFkLlxyXG4gICAgaWYgKGNhY2hlW3VybF0pIHtcclxuICAgICAgLy8gU2V0IHRoZSBkdXJhdGlvbiBmcm9tIHRoZSBjYWNoZS5cclxuICAgICAgc2VsZi5fZHVyYXRpb24gPSBjYWNoZVt1cmxdLmR1cmF0aW9uO1xyXG5cclxuICAgICAgLy8gTG9hZCB0aGUgc291bmQgaW50byB0aGlzIEhvd2wuXHJcbiAgICAgIGxvYWRTb3VuZChzZWxmKTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoL15kYXRhOlteO10rO2Jhc2U2NCwvLnRlc3QodXJsKSkge1xyXG4gICAgICAvLyBEZWNvZGUgdGhlIGJhc2U2NCBkYXRhIFVSSSB3aXRob3V0IFhIUiwgc2luY2Ugc29tZSBicm93c2VycyBkb24ndCBzdXBwb3J0IGl0LlxyXG4gICAgICB2YXIgZGF0YSA9IGF0b2IodXJsLnNwbGl0KCcsJylbMV0pO1xyXG4gICAgICB2YXIgZGF0YVZpZXcgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCk7XHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxkYXRhLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgZGF0YVZpZXdbaV0gPSBkYXRhLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRlY29kZUF1ZGlvRGF0YShkYXRhVmlldy5idWZmZXIsIHNlbGYpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gTG9hZCB0aGUgYnVmZmVyIGZyb20gdGhlIFVSTC5cclxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICB4aHIub3BlbihzZWxmLl94aHIubWV0aG9kLCB1cmwsIHRydWUpO1xyXG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gc2VsZi5feGhyLndpdGhDcmVkZW50aWFscztcclxuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XHJcblxyXG4gICAgICAvLyBBcHBseSBhbnkgY3VzdG9tIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3QuXHJcbiAgICAgIGlmIChzZWxmLl94aHIuaGVhZGVycykge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHNlbGYuX3hoci5oZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBzZWxmLl94aHIuaGVhZGVyc1trZXldKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBnZXQgYSBzdWNjZXNzZnVsIHJlc3BvbnNlIGJhY2suXHJcbiAgICAgICAgdmFyIGNvZGUgPSAoeGhyLnN0YXR1cyArICcnKVswXTtcclxuICAgICAgICBpZiAoY29kZSAhPT0gJzAnICYmIGNvZGUgIT09ICcyJyAmJiBjb2RlICE9PSAnMycpIHtcclxuICAgICAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdGYWlsZWQgbG9hZGluZyBhdWRpbyBmaWxlIHdpdGggc3RhdHVzOiAnICsgeGhyLnN0YXR1cyArICcuJyk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkZWNvZGVBdWRpb0RhdGEoeGhyLnJlc3BvbnNlLCBzZWxmKTtcclxuICAgICAgfTtcclxuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbiBlcnJvciwgc3dpdGNoIHRvIEhUTUw1IEF1ZGlvLlxyXG4gICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xyXG4gICAgICAgICAgc2VsZi5fd2ViQXVkaW8gPSBmYWxzZTtcclxuICAgICAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xyXG4gICAgICAgICAgZGVsZXRlIGNhY2hlW3VybF07XHJcbiAgICAgICAgICBzZWxmLmxvYWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIHNhZmVYaHJTZW5kKHhocik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU2VuZCB0aGUgWEhSIHJlcXVlc3Qgd3JhcHBlZCBpbiBhIHRyeS9jYXRjaC5cclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHhociBYSFIgdG8gc2VuZC5cclxuICAgKi9cclxuICB2YXIgc2FmZVhoclNlbmQgPSBmdW5jdGlvbih4aHIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHhoci5zZW5kKCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHhoci5vbmVycm9yKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogRGVjb2RlIGF1ZGlvIGRhdGEgZnJvbSBhbiBhcnJheSBidWZmZXIuXHJcbiAgICogQHBhcmFtICB7QXJyYXlCdWZmZXJ9IGFycmF5YnVmZmVyIFRoZSBhdWRpbyBkYXRhLlxyXG4gICAqIEBwYXJhbSAge0hvd2x9ICAgICAgICBzZWxmXHJcbiAgICovXHJcbiAgdmFyIGRlY29kZUF1ZGlvRGF0YSA9IGZ1bmN0aW9uKGFycmF5YnVmZmVyLCBzZWxmKSB7XHJcbiAgICAvLyBGaXJlIGEgbG9hZCBlcnJvciBpZiBzb21ldGhpbmcgYnJva2UuXHJcbiAgICB2YXIgZXJyb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ0RlY29kaW5nIGF1ZGlvIGRhdGEgZmFpbGVkLicpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBMb2FkIHRoZSBzb3VuZCBvbiBzdWNjZXNzLlxyXG4gICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbihidWZmZXIpIHtcclxuICAgICAgaWYgKGJ1ZmZlciAmJiBzZWxmLl9zb3VuZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNhY2hlW3NlbGYuX3NyY10gPSBidWZmZXI7XHJcbiAgICAgICAgbG9hZFNvdW5kKHNlbGYsIGJ1ZmZlcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXJyb3IoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBEZWNvZGUgdGhlIGJ1ZmZlciBpbnRvIGFuIGF1ZGlvIHNvdXJjZS5cclxuICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgSG93bGVyLmN0eC5kZWNvZGVBdWRpb0RhdGEubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhKGFycmF5YnVmZmVyKS50aGVuKHN1Y2Nlc3MpLmNhdGNoKGVycm9yKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhKGFycmF5YnVmZmVyLCBzdWNjZXNzLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTb3VuZCBpcyBub3cgbG9hZGVkLCBzbyBmaW5pc2ggc2V0dGluZyBldmVyeXRoaW5nIHVwIGFuZCBmaXJlIHRoZSBsb2FkZWQgZXZlbnQuXHJcbiAgICogQHBhcmFtICB7SG93bH0gc2VsZlxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gYnVmZmVyIFRoZSBkZWNvZGVkIGJ1ZmZlciBzb3VuZCBzb3VyY2UuXHJcbiAgICovXHJcbiAgdmFyIGxvYWRTb3VuZCA9IGZ1bmN0aW9uKHNlbGYsIGJ1ZmZlcikge1xyXG4gICAgLy8gU2V0IHRoZSBkdXJhdGlvbi5cclxuICAgIGlmIChidWZmZXIgJiYgIXNlbGYuX2R1cmF0aW9uKSB7XHJcbiAgICAgIHNlbGYuX2R1cmF0aW9uID0gYnVmZmVyLmR1cmF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldHVwIGEgc3ByaXRlIGlmIG5vbmUgaXMgZGVmaW5lZC5cclxuICAgIGlmIChPYmplY3Qua2V5cyhzZWxmLl9zcHJpdGUpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBzZWxmLl9zcHJpdGUgPSB7X19kZWZhdWx0OiBbMCwgc2VsZi5fZHVyYXRpb24gKiAxMDAwXX07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmlyZSB0aGUgbG9hZGVkIGV2ZW50LlxyXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xyXG4gICAgICBzZWxmLl9zdGF0ZSA9ICdsb2FkZWQnO1xyXG4gICAgICBzZWxmLl9lbWl0KCdsb2FkJyk7XHJcbiAgICAgIHNlbGYuX2xvYWRRdWV1ZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHVwIHRoZSBhdWRpbyBjb250ZXh0IHdoZW4gYXZhaWxhYmxlLCBvciBzd2l0Y2ggdG8gSFRNTDUgQXVkaW8gbW9kZS5cclxuICAgKi9cclxuICB2YXIgc2V0dXBBdWRpb0NvbnRleHQgPSBmdW5jdGlvbigpIHtcclxuICAgIC8vIElmIHdlIGhhdmUgYWxyZWFkeSBkZXRlY3RlZCB0aGF0IFdlYiBBdWRpbyBpc24ndCBzdXBwb3J0ZWQsIGRvbid0IHJ1biB0aGlzIHN0ZXAgYWdhaW4uXHJcbiAgICBpZiAoIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiB3ZSBhcmUgdXNpbmcgV2ViIEF1ZGlvIGFuZCBzZXR1cCB0aGUgQXVkaW9Db250ZXh0IGlmIHdlIGFyZS5cclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICh0eXBlb2YgQXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIEhvd2xlci5jdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdlYmtpdEF1ZGlvQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBIb3dsZXIuY3R4ID0gbmV3IHdlYmtpdEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHRoZSBhdWRpbyBjb250ZXh0IGNyZWF0aW9uIHN0aWxsIGZhaWxlZCwgc2V0IHVzaW5nIHdlYiBhdWRpbyB0byBmYWxzZS5cclxuICAgIGlmICghSG93bGVyLmN0eCkge1xyXG4gICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGlmIGEgd2VidmlldyBpcyBiZWluZyB1c2VkIG9uIGlPUzggb3IgZWFybGllciAocmF0aGVyIHRoYW4gdGhlIGJyb3dzZXIpLlxyXG4gICAgLy8gSWYgaXQgaXMsIGRpc2FibGUgV2ViIEF1ZGlvIGFzIGl0IGNhdXNlcyBjcmFzaGluZy5cclxuICAgIHZhciBpT1MgPSAoL2lQKGhvbmV8b2R8YWQpLy50ZXN0KEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnBsYXRmb3JtKSk7XHJcbiAgICB2YXIgYXBwVmVyc2lvbiA9IEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL09TIChcXGQrKV8oXFxkKylfPyhcXGQrKT8vKTtcclxuICAgIHZhciB2ZXJzaW9uID0gYXBwVmVyc2lvbiA/IHBhcnNlSW50KGFwcFZlcnNpb25bMV0sIDEwKSA6IG51bGw7XHJcbiAgICBpZiAoaU9TICYmIHZlcnNpb24gJiYgdmVyc2lvbiA8IDkpIHtcclxuICAgICAgdmFyIHNhZmFyaSA9IC9zYWZhcmkvLnRlc3QoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICBpZiAoSG93bGVyLl9uYXZpZ2F0b3IgJiYgIXNhZmFyaSkge1xyXG4gICAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgYW5kIGV4cG9zZSB0aGUgbWFzdGVyIEdhaW5Ob2RlIHdoZW4gdXNpbmcgV2ViIEF1ZGlvICh1c2VmdWwgZm9yIHBsdWdpbnMgb3IgYWR2YW5jZWQgdXNhZ2UpLlxyXG4gICAgaWYgKEhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XHJcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4gPT09ICd1bmRlZmluZWQnKSA/IEhvd2xlci5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IEhvd2xlci5jdHguY3JlYXRlR2FpbigpO1xyXG4gICAgICBIb3dsZXIubWFzdGVyR2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKEhvd2xlci5fbXV0ZWQgPyAwIDogSG93bGVyLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICBIb3dsZXIubWFzdGVyR2Fpbi5jb25uZWN0KEhvd2xlci5jdHguZGVzdGluYXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlLXJ1biB0aGUgc2V0dXAgb24gSG93bGVyLlxyXG4gICAgSG93bGVyLl9zZXR1cCgpO1xyXG4gIH07XHJcblxyXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBBTUQgKEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbikgbGlicmFyaWVzIHN1Y2ggYXMgcmVxdWlyZS5qcy5cclxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIEhvd2xlcjogSG93bGVyLFxyXG4gICAgICAgIEhvd2w6IEhvd2xcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gQWRkIHN1cHBvcnQgZm9yIENvbW1vbkpTIGxpYnJhcmllcyBzdWNoIGFzIGJyb3dzZXJpZnkuXHJcbiAgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgZXhwb3J0cy5Ib3dsZXIgPSBIb3dsZXI7XHJcbiAgICBleHBvcnRzLkhvd2wgPSBIb3dsO1xyXG4gIH1cclxuXHJcbiAgLy8gQWRkIHRvIGdsb2JhbCBpbiBOb2RlLmpzIChmb3IgdGVzdGluZywgZXRjKS5cclxuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIGdsb2JhbC5Ib3dsZXJHbG9iYWwgPSBIb3dsZXJHbG9iYWw7XHJcbiAgICBnbG9iYWwuSG93bGVyID0gSG93bGVyO1xyXG4gICAgZ2xvYmFsLkhvd2wgPSBIb3dsO1xyXG4gICAgZ2xvYmFsLlNvdW5kID0gU291bmQ7XHJcbiAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgeyAgLy8gRGVmaW5lIGdsb2JhbGx5IGluIGNhc2UgQU1EIGlzIG5vdCBhdmFpbGFibGUgb3IgdW51c2VkLlxyXG4gICAgd2luZG93Lkhvd2xlckdsb2JhbCA9IEhvd2xlckdsb2JhbDtcclxuICAgIHdpbmRvdy5Ib3dsZXIgPSBIb3dsZXI7XHJcbiAgICB3aW5kb3cuSG93bCA9IEhvd2w7XHJcbiAgICB3aW5kb3cuU291bmQgPSBTb3VuZDtcclxuICB9XHJcbn0pKCk7XHJcblxyXG5cclxuLyohXHJcbiAqICBTcGF0aWFsIFBsdWdpbiAtIEFkZHMgc3VwcG9ydCBmb3Igc3RlcmVvIGFuZCAzRCBhdWRpbyB3aGVyZSBXZWIgQXVkaW8gaXMgc3VwcG9ydGVkLlxyXG4gKiAgXHJcbiAqICBob3dsZXIuanMgdjIuMi40XHJcbiAqICBob3dsZXJqcy5jb21cclxuICpcclxuICogIChjKSAyMDEzLTIwMjAsIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xyXG4gKiAgZ29sZGZpcmVzdHVkaW9zLmNvbVxyXG4gKlxyXG4gKiAgTUlUIExpY2Vuc2VcclxuICovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcblxyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLy8gU2V0dXAgZGVmYXVsdCBwcm9wZXJ0aWVzLlxyXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuX3BvcyA9IFswLCAwLCAwXTtcclxuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9vcmllbnRhdGlvbiA9IFswLCAwLCAtMSwgMCwgMSwgMF07XHJcblxyXG4gIC8qKiBHbG9iYWwgTWV0aG9kcyAqKi9cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAvKipcclxuICAgKiBIZWxwZXIgbWV0aG9kIHRvIHVwZGF0ZSB0aGUgc3RlcmVvIHBhbm5pbmcgcG9zaXRpb24gb2YgYWxsIGN1cnJlbnQgSG93bHMuXHJcbiAgICogRnV0dXJlIEhvd2xzIHdpbGwgbm90IHVzZSB0aGlzIHZhbHVlIHVubGVzcyBleHBsaWNpdGx5IHNldC5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHBhbiBBIHZhbHVlIG9mIC0xLjAgaXMgYWxsIHRoZSB3YXkgbGVmdCBhbmQgMS4wIGlzIGFsbCB0aGUgd2F5IHJpZ2h0LlxyXG4gICAqIEByZXR1cm4ge0hvd2xlci9OdW1iZXJ9ICAgICBTZWxmIG9yIGN1cnJlbnQgc3RlcmVvIHBhbm5pbmcgdmFsdWUuXHJcbiAgICovXHJcbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5zdGVyZW8gPSBmdW5jdGlvbihwYW4pIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cclxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgSG93bHMgYW5kIHVwZGF0ZSB0aGVpciBzdGVyZW8gcGFubmluZy5cclxuICAgIGZvciAodmFyIGk9c2VsZi5faG93bHMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xyXG4gICAgICBzZWxmLl9ob3dsc1tpXS5zdGVyZW8ocGFuKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBHZXQvc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIgaW4gM0QgY2FydGVzaWFuIHNwYWNlLiBTb3VuZHMgdXNpbmdcclxuICAgKiAzRCBwb3NpdGlvbiB3aWxsIGJlIHJlbGF0aXZlIHRvIHRoZSBsaXN0ZW5lcidzIHBvc2l0aW9uLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geCBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB5IFRoZSB5LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogVGhlIHotcG9zaXRpb24gb2YgdGhlIGxpc3RlbmVyLlxyXG4gICAqIEByZXR1cm4ge0hvd2xlci9BcnJheX0gICBTZWxmIG9yIGN1cnJlbnQgbGlzdGVuZXIgcG9zaXRpb24uXHJcbiAgICovXHJcbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5wb3MgPSBmdW5jdGlvbih4LCB5LCB6KSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXHJcbiAgICBpZiAoIXNlbGYuY3R4IHx8ICFzZWxmLmN0eC5saXN0ZW5lcikge1xyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXHJcbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9wb3NbMV0gOiB5O1xyXG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gc2VsZi5fcG9zWzJdIDogejtcclxuXHJcbiAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XHJcbiAgICAgIHNlbGYuX3BvcyA9IFt4LCB5LCB6XTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25YICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWC5zZXRUYXJnZXRBdFRpbWUoc2VsZi5fcG9zWzBdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xyXG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWS5zZXRUYXJnZXRBdFRpbWUoc2VsZi5fcG9zWzFdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xyXG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWi5zZXRUYXJnZXRBdFRpbWUoc2VsZi5fcG9zWzJdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnNldFBvc2l0aW9uKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gc2VsZi5fcG9zO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWxmO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldC9zZXQgdGhlIGRpcmVjdGlvbiB0aGUgbGlzdGVuZXIgaXMgcG9pbnRpbmcgaW4gdGhlIDNEIGNhcnRlc2lhbiBzcGFjZS5cclxuICAgKiBBIGZyb250IGFuZCB1cCB2ZWN0b3IgbXVzdCBiZSBwcm92aWRlZC4gVGhlIGZyb250IGlzIHRoZSBkaXJlY3Rpb24gdGhlXHJcbiAgICogZmFjZSBvZiB0aGUgbGlzdGVuZXIgaXMgcG9pbnRpbmcsIGFuZCB1cCBpcyB0aGUgZGlyZWN0aW9uIHRoZSB0b3Agb2YgdGhlXHJcbiAgICogbGlzdGVuZXIgaXMgcG9pbnRpbmcuIFRodXMsIHRoZXNlIHZhbHVlcyBhcmUgZXhwZWN0ZWQgdG8gYmUgYXQgcmlnaHQgYW5nbGVzXHJcbiAgICogZnJvbSBlYWNoIG90aGVyLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgICBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB6ICAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geFVwIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geVVwIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gelVwIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxyXG4gICAqIEByZXR1cm4ge0hvd2xlci9BcnJheX0gICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBvcmllbnRhdGlvbiB2ZWN0b3JzLlxyXG4gICAqL1xyXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUub3JpZW50YXRpb24gPSBmdW5jdGlvbih4LCB5LCB6LCB4VXAsIHlVcCwgelVwKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXHJcbiAgICBpZiAoIXNlbGYuY3R4IHx8ICFzZWxmLmN0eC5saXN0ZW5lcikge1xyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXHJcbiAgICB2YXIgb3IgPSBzZWxmLl9vcmllbnRhdGlvbjtcclxuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IG9yWzFdIDogeTtcclxuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IG9yWzJdIDogejtcclxuICAgIHhVcCA9ICh0eXBlb2YgeFVwICE9PSAnbnVtYmVyJykgPyBvclszXSA6IHhVcDtcclxuICAgIHlVcCA9ICh0eXBlb2YgeVVwICE9PSAnbnVtYmVyJykgPyBvcls0XSA6IHlVcDtcclxuICAgIHpVcCA9ICh0eXBlb2YgelVwICE9PSAnbnVtYmVyJykgPyBvcls1XSA6IHpVcDtcclxuXHJcbiAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XHJcbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gW3gsIHksIHosIHhVcCwgeVVwLCB6VXBdO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWC5zZXRUYXJnZXRBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWS5zZXRUYXJnZXRBdFRpbWUoeSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWi5zZXRUYXJnZXRBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci51cFguc2V0VGFyZ2V0QXRUaW1lKHhVcCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci51cFkuc2V0VGFyZ2V0QXRUaW1lKHlVcCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci51cFouc2V0VGFyZ2V0QXRUaW1lKHpVcCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5zZXRPcmllbnRhdGlvbih4LCB5LCB6LCB4VXAsIHlVcCwgelVwKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWxmO1xyXG4gIH07XHJcblxyXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBuZXcgcHJvcGVydGllcyB0byB0aGUgY29yZSBpbml0LlxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgQ29yZSBpbml0IG1ldGhvZC5cclxuICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAqL1xyXG4gIEhvd2wucHJvdG90eXBlLmluaXQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24obykge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxyXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IG8ub3JpZW50YXRpb24gfHwgWzEsIDAsIDBdO1xyXG4gICAgICBzZWxmLl9zdGVyZW8gPSBvLnN0ZXJlbyB8fCBudWxsO1xyXG4gICAgICBzZWxmLl9wb3MgPSBvLnBvcyB8fCBudWxsO1xyXG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0ge1xyXG4gICAgICAgIGNvbmVJbm5lckFuZ2xlOiB0eXBlb2Ygby5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVJbm5lckFuZ2xlIDogMzYwLFxyXG4gICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckFuZ2xlIDogMzYwLFxyXG4gICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLmNvbmVPdXRlckdhaW4gIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJHYWluIDogMCxcclxuICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8uZGlzdGFuY2VNb2RlbCA6ICdpbnZlcnNlJyxcclxuICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5tYXhEaXN0YW5jZSA6IDEwMDAwLFxyXG4gICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmluZ01vZGVsIDogJ0hSVEYnLFxyXG4gICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5yZWZEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJlZkRpc3RhbmNlIDogMSxcclxuICAgICAgICByb2xsb2ZmRmFjdG9yOiB0eXBlb2Ygby5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucm9sbG9mZkZhY3RvciA6IDFcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFNldHVwIGV2ZW50IGxpc3RlbmVycy5cclxuICAgICAgc2VsZi5fb25zdGVyZW8gPSBvLm9uc3RlcmVvID8gW3tmbjogby5vbnN0ZXJlb31dIDogW107XHJcbiAgICAgIHNlbGYuX29ucG9zID0gby5vbnBvcyA/IFt7Zm46IG8ub25wb3N9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbm9yaWVudGF0aW9uID0gby5vbm9yaWVudGF0aW9uID8gW3tmbjogby5vbm9yaWVudGF0aW9ufV0gOiBbXTtcclxuXHJcbiAgICAgIC8vIENvbXBsZXRlIGluaXRpbGl6YXRpb24gd2l0aCBob3dsZXIuanMgY29yZSdzIGluaXQgZnVuY3Rpb24uXHJcbiAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvKTtcclxuICAgIH07XHJcbiAgfSkoSG93bC5wcm90b3R5cGUuaW5pdCk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldC9zZXQgdGhlIHN0ZXJlbyBwYW5uaW5nIG9mIHRoZSBhdWRpbyBzb3VyY2UgZm9yIHRoaXMgc291bmQgb3IgYWxsIGluIHRoZSBncm91cC5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHBhbiAgQSB2YWx1ZSBvZiAtMS4wIGlzIGFsbCB0aGUgd2F5IGxlZnQgYW5kIDEuMCBpcyBhbGwgdGhlIHdheSByaWdodC5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIChvcHRpb25hbCkgVGhlIHNvdW5kIElELiBJZiBub25lIGlzIHBhc3NlZCwgYWxsIGluIGdyb3VwIHdpbGwgYmUgdXBkYXRlZC5cclxuICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHN0ZXJlbyBwYW5uaW5nIHZhbHVlLlxyXG4gICAqL1xyXG4gIEhvd2wucHJvdG90eXBlLnN0ZXJlbyA9IGZ1bmN0aW9uKHBhbiwgaWQpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cclxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugc3RlcmVvIHBhbiB3aGVuIGNhcGFibGUuXHJcbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XHJcbiAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgIGV2ZW50OiAnc3RlcmVvJyxcclxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5zdGVyZW8ocGFuLCBpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGZvciBQYW5uZXJTdGVyZW9Ob2RlIHN1cHBvcnQgYW5kIGZhbGxiYWNrIHRvIFBhbm5lck5vZGUgaWYgaXQgZG9lc24ndCBleGlzdC5cclxuICAgIHZhciBwYW5uZXJUeXBlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZVN0ZXJlb1Bhbm5lciA9PT0gJ3VuZGVmaW5lZCcpID8gJ3NwYXRpYWwnIDogJ3N0ZXJlbyc7XHJcblxyXG4gICAgLy8gU2V0dXAgdGhlIGdyb3VwJ3Mgc3RlcmVvIHBhbm5pbmcgaWYgbm8gSUQgaXMgcGFzc2VkLlxyXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHN0ZXJlbyBwYW5uaW5nIGlmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZC5cclxuICAgICAgaWYgKHR5cGVvZiBwYW4gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgc2VsZi5fc3RlcmVvID0gcGFuO1xyXG4gICAgICAgIHNlbGYuX3BvcyA9IFtwYW4sIDAsIDBdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBzZWxmLl9zdGVyZW87XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGFuZ2UgdGhlIHN0cmVvIHBhbm5pbmcgb2Ygb25lIG9yIGFsbCBzb3VuZHMgaW4gZ3JvdXAuXHJcbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xyXG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcclxuXHJcbiAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgcGFuID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgc291bmQuX3N0ZXJlbyA9IHBhbjtcclxuICAgICAgICAgIHNvdW5kLl9wb3MgPSBbcGFuLCAwLCAwXTtcclxuXHJcbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIGZhbGxpbmcgYmFjaywgbWFrZSBzdXJlIHRoZSBwYW5uaW5nTW9kZWwgaXMgZXF1YWxwb3dlci5cclxuICAgICAgICAgICAgc291bmQuX3Bhbm5lckF0dHIucGFubmluZ01vZGVsID0gJ2VxdWFscG93ZXInO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBwYW5uZXIgc2V0dXAgYW5kIGNyZWF0ZSBhIG5ldyBvbmUgaWYgbm90LlxyXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIgfHwgIXNvdW5kLl9wYW5uZXIucGFuKSB7XHJcbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsIHBhbm5lclR5cGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocGFubmVyVHlwZSA9PT0gJ3NwYXRpYWwnKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHBhbiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZSgwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25aLnNldFZhbHVlQXRUaW1lKDAsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHBhbiwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucGFuLnNldFZhbHVlQXRUaW1lKHBhbiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzZWxmLl9lbWl0KCdzdGVyZW8nLCBzb3VuZC5faWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gc291bmQuX3N0ZXJlbztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBHZXQvc2V0IHRoZSAzRCBzcGF0aWFsIHBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UgZm9yIHRoaXMgc291bmQgb3IgZ3JvdXAgcmVsYXRpdmUgdG8gdGhlIGdsb2JhbCBsaXN0ZW5lci5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggIFRoZSB4LXBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICBUaGUgeS1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgVGhlIHotcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZS5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIChvcHRpb25hbCkgVGhlIHNvdW5kIElELiBJZiBub25lIGlzIHBhc3NlZCwgYWxsIGluIGdyb3VwIHdpbGwgYmUgdXBkYXRlZC5cclxuICAgKiBAcmV0dXJuIHtIb3dsL0FycmF5fSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgM0Qgc3BhdGlhbCBwb3NpdGlvbjogW3gsIHksIHpdLlxyXG4gICAqL1xyXG4gIEhvd2wucHJvdG90eXBlLnBvcyA9IGZ1bmN0aW9uKHgsIHksIHosIGlkKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXHJcbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHBvc2l0aW9uIHdoZW4gY2FwYWJsZS5cclxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcclxuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgZXZlbnQ6ICdwb3MnLFxyXG4gICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZWxmLnBvcyh4LCB5LCB6LCBpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cclxuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IDAgOiB5O1xyXG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gLTAuNSA6IHo7XHJcblxyXG4gICAgLy8gU2V0dXAgdGhlIGdyb3VwJ3Mgc3BhdGlhbCBwb3NpdGlvbiBpZiBubyBJRCBpcyBwYXNzZWQuXHJcbiAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3BhdGlhbCBwb3NpdGlvbiBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXHJcbiAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBzZWxmLl9wb3MgPSBbeCwgeSwgel07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuX3BvcztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENoYW5nZSB0aGUgc3BhdGlhbCBwb3NpdGlvbiBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cclxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XHJcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xyXG5cclxuICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgc291bmQuX3BvcyA9IFt4LCB5LCB6XTtcclxuXHJcbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBwYW5uZXIgc2V0dXAgYW5kIGNyZWF0ZSBhIG5ldyBvbmUgaWYgbm90LlxyXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIgfHwgc291bmQuX3Bhbm5lci5wYW4pIHtcclxuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWC5zZXRWYWx1ZUF0VGltZSh4LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSh6LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHgsIHksIHopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2VsZi5fZW1pdCgncG9zJywgc291bmQuX2lkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9wb3M7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0L3NldCB0aGUgZGlyZWN0aW9uIHRoZSBhdWRpbyBzb3VyY2UgaXMgcG9pbnRpbmcgaW4gdGhlIDNEIGNhcnRlc2lhbiBjb29yZGluYXRlXHJcbiAgICogc3BhY2UuIERlcGVuZGluZyBvbiBob3cgZGlyZWN0aW9uIHRoZSBzb3VuZCBpcywgYmFzZWQgb24gdGhlIGBjb25lYCBhdHRyaWJ1dGVzLFxyXG4gICAqIGEgc291bmQgcG9pbnRpbmcgYXdheSBmcm9tIHRoZSBsaXN0ZW5lciBjYW4gYmUgcXVpZXQgb3Igc2lsZW50LlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgVGhlIHgtb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB6ICBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxyXG4gICAqIEByZXR1cm4ge0hvd2wvQXJyYXl9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCAzRCBzcGF0aWFsIG9yaWVudGF0aW9uOiBbeCwgeSwgel0uXHJcbiAgICovXHJcbiAgSG93bC5wcm90b3R5cGUub3JpZW50YXRpb24gPSBmdW5jdGlvbih4LCB5LCB6LCBpZCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxyXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBvcmllbnRhdGlvbiB3aGVuIGNhcGFibGUuXHJcbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XHJcbiAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgIGV2ZW50OiAnb3JpZW50YXRpb24nLFxyXG4gICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZWxmLm9yaWVudGF0aW9uKHgsIHksIHosIGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxyXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gc2VsZi5fb3JpZW50YXRpb25bMV0gOiB5O1xyXG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gc2VsZi5fb3JpZW50YXRpb25bMl0gOiB6O1xyXG5cclxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHNwYXRpYWwgb3JpZW50YXRpb24gaWYgbm8gSUQgaXMgcGFzc2VkLlxyXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHNwYXRpYWwgb3JpZW50YXRpb24gaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxyXG4gICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBbeCwgeSwgel07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuX29yaWVudGF0aW9uO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hhbmdlIHRoZSBzcGF0aWFsIG9yaWVudGF0aW9uIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxyXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cclxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XHJcblxyXG4gICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICBzb3VuZC5fb3JpZW50YXRpb24gPSBbeCwgeSwgel07XHJcblxyXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cclxuICAgICAgICAgICAgaWYgKCFzb3VuZC5fcGFubmVyKSB7XHJcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBwb3NpdGlvbiB0byBzZXR1cCB0aGUgbm9kZSB3aXRoLlxyXG4gICAgICAgICAgICAgIGlmICghc291bmQuX3Bvcykge1xyXG4gICAgICAgICAgICAgICAgc291bmQuX3BvcyA9IHNlbGYuX3BvcyB8fCBbMCwgMCwgLTAuNV07XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWC5zZXRWYWx1ZUF0VGltZSh4LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWi5zZXRWYWx1ZUF0VGltZSh6LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldE9yaWVudGF0aW9uKHgsIHksIHopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2VsZi5fZW1pdCgnb3JpZW50YXRpb24nLCBzb3VuZC5faWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gc291bmQuX29yaWVudGF0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWxmO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldC9zZXQgdGhlIHBhbm5lciBub2RlJ3MgYXR0cmlidXRlcyBmb3IgYSBzb3VuZCBvciBncm91cCBvZiBzb3VuZHMuXHJcbiAgICogVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbCB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXHJcbiAgICogICBwYW5uZXJBdHRyKCkgLT4gUmV0dXJucyB0aGUgZ3JvdXAncyB2YWx1ZXMuXHJcbiAgICogICBwYW5uZXJBdHRyKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIHZhbHVlcy5cclxuICAgKiAgIHBhbm5lckF0dHIobykgLT4gU2V0J3MgdGhlIHZhbHVlcyBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cclxuICAgKiAgIHBhbm5lckF0dHIobywgaWQpIC0+IFNldCdzIHRoZSB2YWx1ZXMgb2YgcGFzc2VkIHNvdW5kIGlkLlxyXG4gICAqXHJcbiAgICogICBBdHRyaWJ1dGVzOlxyXG4gICAqICAgICBjb25lSW5uZXJBbmdsZSAtICgzNjAgYnkgZGVmYXVsdCkgQSBwYXJhbWV0ZXIgZm9yIGRpcmVjdGlvbmFsIGF1ZGlvIHNvdXJjZXMsIHRoaXMgaXMgYW4gYW5nbGUsIGluIGRlZ3JlZXMsXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgaW5zaWRlIG9mIHdoaWNoIHRoZXJlIHdpbGwgYmUgbm8gdm9sdW1lIHJlZHVjdGlvbi5cclxuICAgKiAgICAgY29uZU91dGVyQW5nbGUgLSAoMzYwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIGFuIGFuZ2xlLCBpbiBkZWdyZWVzLFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgIG91dHNpZGUgb2Ygd2hpY2ggdGhlIHZvbHVtZSB3aWxsIGJlIHJlZHVjZWQgdG8gYSBjb25zdGFudCB2YWx1ZSBvZiBgY29uZU91dGVyR2FpbmAuXHJcbiAgICogICAgIGNvbmVPdXRlckdhaW4gLSAoMCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyB0aGUgZ2FpbiBvdXRzaWRlIG9mIHRoZVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgYGNvbmVPdXRlckFuZ2xlYC4gSXQgaXMgYSBsaW5lYXIgdmFsdWUgaW4gdGhlIHJhbmdlIGBbMCwgMV1gLlxyXG4gICAqICAgICBkaXN0YW5jZU1vZGVsIC0gKCdpbnZlcnNlJyBieSBkZWZhdWx0KSBEZXRlcm1pbmVzIGFsZ29yaXRobSB1c2VkIHRvIHJlZHVjZSB2b2x1bWUgYXMgYXVkaW8gbW92ZXMgYXdheSBmcm9tXHJcbiAgICogICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci4gQ2FuIGJlIGBsaW5lYXJgLCBgaW52ZXJzZWAgb3IgYGV4cG9uZW50aWFsLlxyXG4gICAqICAgICBtYXhEaXN0YW5jZSAtICgxMDAwMCBieSBkZWZhdWx0KSBUaGUgbWF4aW11bSBkaXN0YW5jZSBiZXR3ZWVuIHNvdXJjZSBhbmQgbGlzdGVuZXIsIGFmdGVyIHdoaWNoIHRoZSB2b2x1bWVcclxuICAgKiAgICAgICAgICAgICAgICAgICB3aWxsIG5vdCBiZSByZWR1Y2VkIGFueSBmdXJ0aGVyLlxyXG4gICAqICAgICByZWZEaXN0YW5jZSAtICgxIGJ5IGRlZmF1bHQpIEEgcmVmZXJlbmNlIGRpc3RhbmNlIGZvciByZWR1Y2luZyB2b2x1bWUgYXMgc291cmNlIG1vdmVzIGZ1cnRoZXIgZnJvbSB0aGUgbGlzdGVuZXIuXHJcbiAgICogICAgICAgICAgICAgICAgICAgVGhpcyBpcyBzaW1wbHkgYSB2YXJpYWJsZSBvZiB0aGUgZGlzdGFuY2UgbW9kZWwgYW5kIGhhcyBhIGRpZmZlcmVudCBlZmZlY3QgZGVwZW5kaW5nIG9uIHdoaWNoIG1vZGVsXHJcbiAgICogICAgICAgICAgICAgICAgICAgaXMgdXNlZCBhbmQgdGhlIHNjYWxlIG9mIHlvdXIgY29vcmRpbmF0ZXMuIEdlbmVyYWxseSwgdm9sdW1lIHdpbGwgYmUgZXF1YWwgdG8gMSBhdCB0aGlzIGRpc3RhbmNlLlxyXG4gICAqICAgICByb2xsb2ZmRmFjdG9yIC0gKDEgYnkgZGVmYXVsdCkgSG93IHF1aWNrbHkgdGhlIHZvbHVtZSByZWR1Y2VzIGFzIHNvdXJjZSBtb3ZlcyBmcm9tIGxpc3RlbmVyLiBUaGlzIGlzIHNpbXBseSBhXHJcbiAgICogICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZSBvZiB0aGUgZGlzdGFuY2UgbW9kZWwgYW5kIGNhbiBiZSBpbiB0aGUgcmFuZ2Ugb2YgYFswLCAxXWAgd2l0aCBgbGluZWFyYCBhbmQgYFswLCBcdTIyMUVdYFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgd2l0aCBgaW52ZXJzZWAgYW5kIGBleHBvbmVudGlhbGAuXHJcbiAgICogICAgIHBhbm5pbmdNb2RlbCAtICgnSFJURicgYnkgZGVmYXVsdCkgRGV0ZXJtaW5lcyB3aGljaCBzcGF0aWFsaXphdGlvbiBhbGdvcml0aG0gaXMgdXNlZCB0byBwb3NpdGlvbiBhdWRpby5cclxuICAgKiAgICAgICAgICAgICAgICAgICAgIENhbiBiZSBgSFJURmAgb3IgYGVxdWFscG93ZXJgLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7SG93bC9PYmplY3R9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHBhbm5lciBhdHRyaWJ1dGVzLlxyXG4gICAqL1xyXG4gIEhvd2wucHJvdG90eXBlLnBhbm5lckF0dHIgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgdmFyIG8sIGlkLCBzb3VuZDtcclxuXHJcbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cclxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxyXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBwYW5uZXIgYXR0cmlidXRlIHZhbHVlcy5cclxuICAgICAgcmV0dXJuIHNlbGYuX3Bhbm5lckF0dHI7XHJcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBvID0gYXJnc1swXTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBncm91J3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIGlmICghby5wYW5uZXJBdHRyKSB7XHJcbiAgICAgICAgICAgIG8ucGFubmVyQXR0ciA9IHtcclxuICAgICAgICAgICAgICBjb25lSW5uZXJBbmdsZTogby5jb25lSW5uZXJBbmdsZSxcclxuICAgICAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogby5jb25lT3V0ZXJBbmdsZSxcclxuICAgICAgICAgICAgICBjb25lT3V0ZXJHYWluOiBvLmNvbmVPdXRlckdhaW4sXHJcbiAgICAgICAgICAgICAgZGlzdGFuY2VNb2RlbDogby5kaXN0YW5jZU1vZGVsLFxyXG4gICAgICAgICAgICAgIG1heERpc3RhbmNlOiBvLm1heERpc3RhbmNlLFxyXG4gICAgICAgICAgICAgIHJlZkRpc3RhbmNlOiBvLnJlZkRpc3RhbmNlLFxyXG4gICAgICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IG8ucm9sbG9mZkZhY3RvcixcclxuICAgICAgICAgICAgICBwYW5uaW5nTW9kZWw6IG8ucGFubmluZ01vZGVsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHtcclxuICAgICAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLnBhbm5lckF0dHIuY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlIDogc2VsZi5fY29uZUlubmVyQW5nbGUsXHJcbiAgICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZSA6IHNlbGYuX2NvbmVPdXRlckFuZ2xlLFxyXG4gICAgICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmNvbmVPdXRlckdhaW4gIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmNvbmVPdXRlckdhaW4gOiBzZWxmLl9jb25lT3V0ZXJHYWluLFxyXG4gICAgICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWwgOiBzZWxmLl9kaXN0YW5jZU1vZGVsLFxyXG4gICAgICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ucGFubmVyQXR0ci5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIubWF4RGlzdGFuY2UgOiBzZWxmLl9tYXhEaXN0YW5jZSxcclxuICAgICAgICAgICAgcmVmRGlzdGFuY2U6IHR5cGVvZiBvLnBhbm5lckF0dHIucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLnJlZkRpc3RhbmNlIDogc2VsZi5fcmVmRGlzdGFuY2UsXHJcbiAgICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnBhbm5lckF0dHIucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIucm9sbG9mZkZhY3RvciA6IHNlbGYuX3JvbGxvZmZGYWN0b3IsXHJcbiAgICAgICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbCA6IHNlbGYuX3Bhbm5pbmdNb2RlbFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gUmV0dXJuIHRoaXMgc291bmQncyBwYW5uZXIgYXR0cmlidXRlIHZhbHVlcy5cclxuICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChwYXJzZUludChhcmdzWzBdLCAxMCkpO1xyXG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl9wYW5uZXJBdHRyIDogc2VsZi5fcGFubmVyQXR0cjtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICBvID0gYXJnc1swXTtcclxuICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSB2YWx1ZXMgb2YgdGhlIHNwZWNpZmllZCBzb3VuZHMuXHJcbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xyXG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xyXG5cclxuICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgLy8gTWVyZ2UgdGhlIG5ldyB2YWx1ZXMgaW50byB0aGUgc291bmQuXHJcbiAgICAgICAgdmFyIHBhID0gc291bmQuX3Bhbm5lckF0dHI7XHJcbiAgICAgICAgcGEgPSB7XHJcbiAgICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8uY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lSW5uZXJBbmdsZSA6IHBhLmNvbmVJbm5lckFuZ2xlLFxyXG4gICAgICAgICAgY29uZU91dGVyQW5nbGU6IHR5cGVvZiBvLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyQW5nbGUgOiBwYS5jb25lT3V0ZXJBbmdsZSxcclxuICAgICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLmNvbmVPdXRlckdhaW4gIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJHYWluIDogcGEuY29uZU91dGVyR2FpbixcclxuICAgICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5kaXN0YW5jZU1vZGVsIDogcGEuZGlzdGFuY2VNb2RlbCxcclxuICAgICAgICAgIG1heERpc3RhbmNlOiB0eXBlb2Ygby5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLm1heERpc3RhbmNlIDogcGEubWF4RGlzdGFuY2UsXHJcbiAgICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5yZWZEaXN0YW5jZSA6IHBhLnJlZkRpc3RhbmNlLFxyXG4gICAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJvbGxvZmZGYWN0b3IgOiBwYS5yb2xsb2ZmRmFjdG9yLFxyXG4gICAgICAgICAgcGFubmluZ01vZGVsOiB0eXBlb2Ygby5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uaW5nTW9kZWwgOiBwYS5wYW5uaW5nTW9kZWxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUgaWYgb25lIGRvZXNuJ3QgYWxyZWFkeSBleGlzdC5cclxuICAgICAgICB2YXIgcGFubmVyID0gc291bmQuX3Bhbm5lcjtcclxuICAgICAgICBpZiAoIXBhbm5lcikge1xyXG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBwb3NpdGlvbiB0byBzZXR1cCB0aGUgbm9kZSB3aXRoLlxyXG4gICAgICAgICAgaWYgKCFzb3VuZC5fcG9zKSB7XHJcbiAgICAgICAgICAgIHNvdW5kLl9wb3MgPSBzZWxmLl9wb3MgfHwgWzAsIDAsIC0wLjVdO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYW5uZXIgbm9kZS5cclxuICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCAnc3BhdGlhbCcpO1xyXG4gICAgICAgICAgcGFubmVyID0gc291bmQuX3Bhbm5lclxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBwYW5uZXIgdmFsdWVzIG9yIGNyZWF0ZSBhIG5ldyBwYW5uZXIgaWYgbm9uZSBleGlzdHMuXHJcbiAgICAgICAgcGFubmVyLmNvbmVJbm5lckFuZ2xlID0gcGEuY29uZUlubmVyQW5nbGU7XHJcbiAgICAgICAgcGFubmVyLmNvbmVPdXRlckFuZ2xlID0gcGEuY29uZU91dGVyQW5nbGU7XHJcbiAgICAgICAgcGFubmVyLmNvbmVPdXRlckdhaW4gPSBwYS5jb25lT3V0ZXJHYWluO1xyXG4gICAgICAgIHBhbm5lci5kaXN0YW5jZU1vZGVsID0gcGEuZGlzdGFuY2VNb2RlbDtcclxuICAgICAgICBwYW5uZXIubWF4RGlzdGFuY2UgPSBwYS5tYXhEaXN0YW5jZTtcclxuICAgICAgICBwYW5uZXIucmVmRGlzdGFuY2UgPSBwYS5yZWZEaXN0YW5jZTtcclxuICAgICAgICBwYW5uZXIucm9sbG9mZkZhY3RvciA9IHBhLnJvbGxvZmZGYWN0b3I7XHJcbiAgICAgICAgcGFubmVyLnBhbm5pbmdNb2RlbCA9IHBhLnBhbm5pbmdNb2RlbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWxmO1xyXG4gIH07XHJcblxyXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAvKipcclxuICAgKiBBZGQgbmV3IHByb3BlcnRpZXMgdG8gdGhlIGNvcmUgU291bmQgaW5pdC5cclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIENvcmUgU291bmQgaW5pdCBtZXRob2QuXHJcbiAgICogQHJldHVybiB7U291bmR9XHJcbiAgICovXHJcbiAgU291bmQucHJvdG90eXBlLmluaXQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcclxuXHJcbiAgICAgIC8vIFNldHVwIHVzZXItZGVmaW5lZCBkZWZhdWx0IHByb3BlcnRpZXMuXHJcbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gcGFyZW50Ll9vcmllbnRhdGlvbjtcclxuICAgICAgc2VsZi5fc3RlcmVvID0gcGFyZW50Ll9zdGVyZW87XHJcbiAgICAgIHNlbGYuX3BvcyA9IHBhcmVudC5fcG9zO1xyXG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0gcGFyZW50Ll9wYW5uZXJBdHRyO1xyXG5cclxuICAgICAgLy8gQ29tcGxldGUgaW5pdGlsaXphdGlvbiB3aXRoIGhvd2xlci5qcyBjb3JlIFNvdW5kJ3MgaW5pdCBmdW5jdGlvbi5cclxuICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XHJcblxyXG4gICAgICAvLyBJZiBhIHN0ZXJlbyBvciBwb3NpdGlvbiB3YXMgc3BlY2lmaWVkLCBzZXQgaXQgdXAuXHJcbiAgICAgIGlmIChzZWxmLl9zdGVyZW8pIHtcclxuICAgICAgICBwYXJlbnQuc3RlcmVvKHNlbGYuX3N0ZXJlbyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcG9zKSB7XHJcbiAgICAgICAgcGFyZW50LnBvcyhzZWxmLl9wb3NbMF0sIHNlbGYuX3Bvc1sxXSwgc2VsZi5fcG9zWzJdLCBzZWxmLl9pZCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSkoU291bmQucHJvdG90eXBlLmluaXQpO1xyXG5cclxuICAvKipcclxuICAgKiBPdmVycmlkZSB0aGUgU291bmQucmVzZXQgbWV0aG9kIHRvIGNsZWFuIHVwIHByb3BlcnRpZXMgZnJvbSB0aGUgc3BhdGlhbCBwbHVnaW4uXHJcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBTb3VuZCByZXNldCBtZXRob2QuXHJcbiAgICogQHJldHVybiB7U291bmR9XHJcbiAgICovXHJcbiAgU291bmQucHJvdG90eXBlLnJlc2V0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XHJcblxyXG4gICAgICAvLyBSZXNldCBhbGwgc3BhdGlhbCBwbHVnaW4gcHJvcGVydGllcyBvbiB0aGlzIHNvdW5kLlxyXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IHBhcmVudC5fb3JpZW50YXRpb247XHJcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhcmVudC5fc3RlcmVvO1xyXG4gICAgICBzZWxmLl9wb3MgPSBwYXJlbnQuX3BvcztcclxuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHBhcmVudC5fcGFubmVyQXR0cjtcclxuXHJcbiAgICAgIC8vIElmIGEgc3RlcmVvIG9yIHBvc2l0aW9uIHdhcyBzcGVjaWZpZWQsIHNldCBpdCB1cC5cclxuICAgICAgaWYgKHNlbGYuX3N0ZXJlbykge1xyXG4gICAgICAgIHBhcmVudC5zdGVyZW8oc2VsZi5fc3RlcmVvKTtcclxuICAgICAgfSBlbHNlIGlmIChzZWxmLl9wb3MpIHtcclxuICAgICAgICBwYXJlbnQucG9zKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0sIHNlbGYuX2lkKTtcclxuICAgICAgfSBlbHNlIGlmIChzZWxmLl9wYW5uZXIpIHtcclxuICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSBwYW5uZXIuXHJcbiAgICAgICAgc2VsZi5fcGFubmVyLmRpc2Nvbm5lY3QoMCk7XHJcbiAgICAgICAgc2VsZi5fcGFubmVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHBhcmVudC5fcmVmcmVzaEJ1ZmZlcihzZWxmKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29tcGxldGUgcmVzZXR0aW5nIG9mIHRoZSBzb3VuZC5cclxuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpO1xyXG4gICAgfTtcclxuICB9KShTb3VuZC5wcm90b3R5cGUucmVzZXQpO1xyXG5cclxuICAvKiogSGVscGVyIE1ldGhvZHMgKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgbmV3IHBhbm5lciBub2RlIGFuZCBzYXZlIGl0IG9uIHRoZSBzb3VuZC5cclxuICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgU3BlY2lmaWMgc291bmQgdG8gc2V0dXAgcGFubmluZyBvbi5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUeXBlIG9mIHBhbm5lciB0byBjcmVhdGU6ICdzdGVyZW8nIG9yICdzcGF0aWFsJy5cclxuICAgKi9cclxuICB2YXIgc2V0dXBQYW5uZXIgPSBmdW5jdGlvbihzb3VuZCwgdHlwZSkge1xyXG4gICAgdHlwZSA9IHR5cGUgfHwgJ3NwYXRpYWwnO1xyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgbmV3IHBhbm5lciBub2RlLlxyXG4gICAgaWYgKHR5cGUgPT09ICdzcGF0aWFsJykge1xyXG4gICAgICBzb3VuZC5fcGFubmVyID0gSG93bGVyLmN0eC5jcmVhdGVQYW5uZXIoKTtcclxuICAgICAgc291bmQuX3Bhbm5lci5jb25lSW5uZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlO1xyXG4gICAgICBzb3VuZC5fcGFubmVyLmNvbmVPdXRlckFuZ2xlID0gc291bmQuX3Bhbm5lckF0dHIuY29uZU91dGVyQW5nbGU7XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIuY29uZU91dGVyR2FpbiA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVPdXRlckdhaW47XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWw7XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIubWF4RGlzdGFuY2UgPSBzb3VuZC5fcGFubmVyQXR0ci5tYXhEaXN0YW5jZTtcclxuICAgICAgc291bmQuX3Bhbm5lci5yZWZEaXN0YW5jZSA9IHNvdW5kLl9wYW5uZXJBdHRyLnJlZkRpc3RhbmNlO1xyXG4gICAgICBzb3VuZC5fcGFubmVyLnJvbGxvZmZGYWN0b3IgPSBzb3VuZC5fcGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yO1xyXG4gICAgICBzb3VuZC5fcGFubmVyLnBhbm5pbmdNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbDtcclxuXHJcbiAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUoc291bmQuX3Bvc1swXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblkuc2V0VmFsdWVBdFRpbWUoc291bmQuX3Bvc1sxXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoc291bmQuX3Bvc1syXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbihzb3VuZC5fcG9zWzBdLCBzb3VuZC5fcG9zWzFdLCBzb3VuZC5fcG9zWzJdKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWC5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25ZLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9vcmllbnRhdGlvblsxXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblouc2V0VmFsdWVBdFRpbWUoc291bmQuX29yaWVudGF0aW9uWzJdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzb3VuZC5fcGFubmVyLnNldE9yaWVudGF0aW9uKHNvdW5kLl9vcmllbnRhdGlvblswXSwgc291bmQuX29yaWVudGF0aW9uWzFdLCBzb3VuZC5fb3JpZW50YXRpb25bMl0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzb3VuZC5fcGFubmVyID0gSG93bGVyLmN0eC5jcmVhdGVTdGVyZW9QYW5uZXIoKTtcclxuICAgICAgc291bmQuX3Bhbm5lci5wYW4uc2V0VmFsdWVBdFRpbWUoc291bmQuX3N0ZXJlbywgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc291bmQuX3Bhbm5lci5jb25uZWN0KHNvdW5kLl9ub2RlKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIGNvbm5lY3Rpb25zLlxyXG4gICAgaWYgKCFzb3VuZC5fcGF1c2VkKSB7XHJcbiAgICAgIHNvdW5kLl9wYXJlbnQucGF1c2Uoc291bmQuX2lkLCB0cnVlKS5wbGF5KHNvdW5kLl9pZCwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgfTtcclxufSkoKTtcclxuIiwgIid1c2Ugc3RyaWN0JztcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZWFyY3V0O1xyXG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZWFyY3V0O1xyXG5cclxuZnVuY3Rpb24gZWFyY3V0KGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0pIHtcclxuXHJcbiAgICBkaW0gPSBkaW0gfHwgMjtcclxuXHJcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGgsXHJcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXHJcbiAgICAgICAgb3V0ZXJOb2RlID0gbGlua2VkTGlzdChkYXRhLCAwLCBvdXRlckxlbiwgZGltLCB0cnVlKSxcclxuICAgICAgICB0cmlhbmdsZXMgPSBbXTtcclxuXHJcbiAgICBpZiAoIW91dGVyTm9kZSB8fCBvdXRlck5vZGUubmV4dCA9PT0gb3V0ZXJOb2RlLnByZXYpIHJldHVybiB0cmlhbmdsZXM7XHJcblxyXG4gICAgdmFyIG1pblgsIG1pblksIG1heFgsIG1heFksIHgsIHksIGludlNpemU7XHJcblxyXG4gICAgaWYgKGhhc0hvbGVzKSBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pO1xyXG5cclxuICAgIC8vIGlmIHRoZSBzaGFwZSBpcyBub3QgdG9vIHNpbXBsZSwgd2UnbGwgdXNlIHotb3JkZXIgY3VydmUgaGFzaCBsYXRlcjsgY2FsY3VsYXRlIHBvbHlnb24gYmJveFxyXG4gICAgaWYgKGRhdGEubGVuZ3RoID4gODAgKiBkaW0pIHtcclxuICAgICAgICBtaW5YID0gbWF4WCA9IGRhdGFbMF07XHJcbiAgICAgICAgbWluWSA9IG1heFkgPSBkYXRhWzFdO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gZGltOyBpIDwgb3V0ZXJMZW47IGkgKz0gZGltKSB7XHJcbiAgICAgICAgICAgIHggPSBkYXRhW2ldO1xyXG4gICAgICAgICAgICB5ID0gZGF0YVtpICsgMV07XHJcbiAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XHJcbiAgICAgICAgICAgIGlmICh5IDwgbWluWSkgbWluWSA9IHk7XHJcbiAgICAgICAgICAgIGlmICh4ID4gbWF4WCkgbWF4WCA9IHg7XHJcbiAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvblxyXG4gICAgICAgIGludlNpemUgPSBNYXRoLm1heChtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xyXG4gICAgICAgIGludlNpemUgPSBpbnZTaXplICE9PSAwID8gMzI3NjcgLyBpbnZTaXplIDogMDtcclxuICAgIH1cclxuXHJcbiAgICBlYXJjdXRMaW5rZWQob3V0ZXJOb2RlLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMCk7XHJcblxyXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcclxufVxyXG5cclxuLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXHJcbmZ1bmN0aW9uIGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBjbG9ja3dpc2UpIHtcclxuICAgIHZhciBpLCBsYXN0O1xyXG5cclxuICAgIGlmIChjbG9ja3dpc2UgPT09IChzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkgPiAwKSkge1xyXG4gICAgICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmb3IgKGkgPSBlbmQgLSBkaW07IGkgPj0gc3RhcnQ7IGkgLT0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGxhc3QgJiYgZXF1YWxzKGxhc3QsIGxhc3QubmV4dCkpIHtcclxuICAgICAgICByZW1vdmVOb2RlKGxhc3QpO1xyXG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxhc3Q7XHJcbn1cclxuXHJcbi8vIGVsaW1pbmF0ZSBjb2xpbmVhciBvciBkdXBsaWNhdGUgcG9pbnRzXHJcbmZ1bmN0aW9uIGZpbHRlclBvaW50cyhzdGFydCwgZW5kKSB7XHJcbiAgICBpZiAoIXN0YXJ0KSByZXR1cm4gc3RhcnQ7XHJcbiAgICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7XHJcblxyXG4gICAgdmFyIHAgPSBzdGFydCxcclxuICAgICAgICBhZ2FpbjtcclxuICAgIGRvIHtcclxuICAgICAgICBhZ2FpbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoIXAuc3RlaW5lciAmJiAoZXF1YWxzKHAsIHAubmV4dCkgfHwgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPT09IDApKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XHJcbiAgICAgICAgICAgIHAgPSBlbmQgPSBwLnByZXY7XHJcbiAgICAgICAgICAgIGlmIChwID09PSBwLm5leHQpIGJyZWFrO1xyXG4gICAgICAgICAgICBhZ2FpbiA9IHRydWU7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHAgPSBwLm5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSB3aGlsZSAoYWdhaW4gfHwgcCAhPT0gZW5kKTtcclxuXHJcbiAgICByZXR1cm4gZW5kO1xyXG59XHJcblxyXG4vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcclxuZnVuY3Rpb24gZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIHBhc3MpIHtcclxuICAgIGlmICghZWFyKSByZXR1cm47XHJcblxyXG4gICAgLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxyXG4gICAgaWYgKCFwYXNzICYmIGludlNpemUpIGluZGV4Q3VydmUoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcclxuXHJcbiAgICB2YXIgc3RvcCA9IGVhcixcclxuICAgICAgICBwcmV2LCBuZXh0O1xyXG5cclxuICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBlYXJzLCBzbGljaW5nIHRoZW0gb25lIGJ5IG9uZVxyXG4gICAgd2hpbGUgKGVhci5wcmV2ICE9PSBlYXIubmV4dCkge1xyXG4gICAgICAgIHByZXYgPSBlYXIucHJldjtcclxuICAgICAgICBuZXh0ID0gZWFyLm5leHQ7XHJcblxyXG4gICAgICAgIGlmIChpbnZTaXplID8gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSA6IGlzRWFyKGVhcikpIHtcclxuICAgICAgICAgICAgLy8gY3V0IG9mZiB0aGUgdHJpYW5nbGVcclxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocHJldi5pIC8gZGltIHwgMCk7XHJcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGVhci5pIC8gZGltIHwgMCk7XHJcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKG5leHQuaSAvIGRpbSB8IDApO1xyXG5cclxuICAgICAgICAgICAgcmVtb3ZlTm9kZShlYXIpO1xyXG5cclxuICAgICAgICAgICAgLy8gc2tpcHBpbmcgdGhlIG5leHQgdmVydGV4IGxlYWRzIHRvIGxlc3Mgc2xpdmVyIHRyaWFuZ2xlc1xyXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XHJcbiAgICAgICAgICAgIHN0b3AgPSBuZXh0Lm5leHQ7XHJcblxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVhciA9IG5leHQ7XHJcblxyXG4gICAgICAgIC8vIGlmIHdlIGxvb3BlZCB0aHJvdWdoIHRoZSB3aG9sZSByZW1haW5pbmcgcG9seWdvbiBhbmQgY2FuJ3QgZmluZCBhbnkgbW9yZSBlYXJzXHJcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xyXG4gICAgICAgICAgICAvLyB0cnkgZmlsdGVyaW5nIHBvaW50cyBhbmQgc2xpY2luZyBhZ2FpblxyXG4gICAgICAgICAgICBpZiAoIXBhc3MpIHtcclxuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgdGhpcyBkaWRuJ3Qgd29yaywgdHJ5IGN1cmluZyBhbGwgc21hbGwgc2VsZi1pbnRlcnNlY3Rpb25zIGxvY2FsbHlcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBlYXIgPSBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKGZpbHRlclBvaW50cyhlYXIpLCB0cmlhbmdsZXMsIGRpbSk7XHJcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7XHJcblxyXG4gICAgICAgICAgICAvLyBhcyBhIGxhc3QgcmVzb3J0LCB0cnkgc3BsaXR0aW5nIHRoZSByZW1haW5pbmcgcG9seWdvbiBpbnRvIHR3b1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHNwbGl0RWFyY3V0KGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xyXG5mdW5jdGlvbiBpc0VhcihlYXIpIHtcclxuICAgIHZhciBhID0gZWFyLnByZXYsXHJcbiAgICAgICAgYiA9IGVhcixcclxuICAgICAgICBjID0gZWFyLm5leHQ7XHJcblxyXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxyXG5cclxuICAgIC8vIG5vdyBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBvdGhlciBwb2ludHMgaW5zaWRlIHRoZSBwb3RlbnRpYWwgZWFyXHJcbiAgICB2YXIgYXggPSBhLngsIGJ4ID0gYi54LCBjeCA9IGMueCwgYXkgPSBhLnksIGJ5ID0gYi55LCBjeSA9IGMueTtcclxuXHJcbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxyXG4gICAgdmFyIHgwID0gYXggPCBieCA/IChheCA8IGN4ID8gYXggOiBjeCkgOiAoYnggPCBjeCA/IGJ4IDogY3gpLFxyXG4gICAgICAgIHkwID0gYXkgPCBieSA/IChheSA8IGN5ID8gYXkgOiBjeSkgOiAoYnkgPCBjeSA/IGJ5IDogY3kpLFxyXG4gICAgICAgIHgxID0gYXggPiBieCA/IChheCA+IGN4ID8gYXggOiBjeCkgOiAoYnggPiBjeCA/IGJ4IDogY3gpLFxyXG4gICAgICAgIHkxID0gYXkgPiBieSA/IChheSA+IGN5ID8gYXkgOiBjeSkgOiAoYnkgPiBjeSA/IGJ5IDogY3kpO1xyXG5cclxuICAgIHZhciBwID0gYy5uZXh0O1xyXG4gICAgd2hpbGUgKHAgIT09IGEpIHtcclxuICAgICAgICBpZiAocC54ID49IHgwICYmIHAueCA8PSB4MSAmJiBwLnkgPj0geTAgJiYgcC55IDw9IHkxICYmXHJcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBwLngsIHAueSkgJiZcclxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHAgPSBwLm5leHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xyXG4gICAgdmFyIGEgPSBlYXIucHJldixcclxuICAgICAgICBiID0gZWFyLFxyXG4gICAgICAgIGMgPSBlYXIubmV4dDtcclxuXHJcbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXHJcblxyXG4gICAgdmFyIGF4ID0gYS54LCBieCA9IGIueCwgY3ggPSBjLngsIGF5ID0gYS55LCBieSA9IGIueSwgY3kgPSBjLnk7XHJcblxyXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcclxuICAgIHZhciB4MCA9IGF4IDwgYnggPyAoYXggPCBjeCA/IGF4IDogY3gpIDogKGJ4IDwgY3ggPyBieCA6IGN4KSxcclxuICAgICAgICB5MCA9IGF5IDwgYnkgPyAoYXkgPCBjeSA/IGF5IDogY3kpIDogKGJ5IDwgY3kgPyBieSA6IGN5KSxcclxuICAgICAgICB4MSA9IGF4ID4gYnggPyAoYXggPiBjeCA/IGF4IDogY3gpIDogKGJ4ID4gY3ggPyBieCA6IGN4KSxcclxuICAgICAgICB5MSA9IGF5ID4gYnkgPyAoYXkgPiBjeSA/IGF5IDogY3kpIDogKGJ5ID4gY3kgPyBieSA6IGN5KTtcclxuXHJcbiAgICAvLyB6LW9yZGVyIHJhbmdlIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZSBiYm94O1xyXG4gICAgdmFyIG1pblogPSB6T3JkZXIoeDAsIHkwLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSxcclxuICAgICAgICBtYXhaID0gek9yZGVyKHgxLCB5MSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XHJcblxyXG4gICAgdmFyIHAgPSBlYXIucHJldlosXHJcbiAgICAgICAgbiA9IGVhci5uZXh0WjtcclxuXHJcbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBpbiBib3RoIGRpcmVjdGlvbnNcclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aICYmIG4gJiYgbi56IDw9IG1heFopIHtcclxuICAgICAgICBpZiAocC54ID49IHgwICYmIHAueCA8PSB4MSAmJiBwLnkgPj0geTAgJiYgcC55IDw9IHkxICYmIHAgIT09IGEgJiYgcCAhPT0gYyAmJlxyXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcC54LCBwLnkpICYmIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICBwID0gcC5wcmV2WjtcclxuXHJcbiAgICAgICAgaWYgKG4ueCA+PSB4MCAmJiBuLnggPD0geDEgJiYgbi55ID49IHkwICYmIG4ueSA8PSB5MSAmJiBuICE9PSBhICYmIG4gIT09IGMgJiZcclxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIG4ueCwgbi55KSAmJiBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgbiA9IG4ubmV4dFo7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBkZWNyZWFzaW5nIHotb3JkZXJcclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XHJcbiAgICAgICAgaWYgKHAueCA+PSB4MCAmJiBwLnggPD0geDEgJiYgcC55ID49IHkwICYmIHAueSA8PSB5MSAmJiBwICE9PSBhICYmIHAgIT09IGMgJiZcclxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHAueCwgcC55KSAmJiBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcCA9IHAucHJldlo7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBpbmNyZWFzaW5nIHotb3JkZXJcclxuICAgIHdoaWxlIChuICYmIG4ueiA8PSBtYXhaKSB7XHJcbiAgICAgICAgaWYgKG4ueCA+PSB4MCAmJiBuLnggPD0geDEgJiYgbi55ID49IHkwICYmIG4ueSA8PSB5MSAmJiBuICE9PSBhICYmIG4gIT09IGMgJiZcclxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIG4ueCwgbi55KSAmJiBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgbiA9IG4ubmV4dFo7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8vIGdvIHRocm91Z2ggYWxsIHBvbHlnb24gbm9kZXMgYW5kIGN1cmUgc21hbGwgbG9jYWwgc2VsZi1pbnRlcnNlY3Rpb25zXHJcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XHJcbiAgICB2YXIgcCA9IHN0YXJ0O1xyXG4gICAgZG8ge1xyXG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxyXG4gICAgICAgICAgICBiID0gcC5uZXh0Lm5leHQ7XHJcblxyXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcclxuXHJcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGEuaSAvIGRpbSB8IDApO1xyXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwLmkgLyBkaW0gfCAwKTtcclxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYi5pIC8gZGltIHwgMCk7XHJcblxyXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocC5uZXh0KTtcclxuXHJcbiAgICAgICAgICAgIHAgPSBzdGFydCA9IGI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHAgPSBwLm5leHQ7XHJcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XHJcblxyXG4gICAgcmV0dXJuIGZpbHRlclBvaW50cyhwKTtcclxufVxyXG5cclxuLy8gdHJ5IHNwbGl0dGluZyBwb2x5Z29uIGludG8gdHdvIGFuZCB0cmlhbmd1bGF0ZSB0aGVtIGluZGVwZW5kZW50bHlcclxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XHJcbiAgICAvLyBsb29rIGZvciBhIHZhbGlkIGRpYWdvbmFsIHRoYXQgZGl2aWRlcyB0aGUgcG9seWdvbiBpbnRvIHR3b1xyXG4gICAgdmFyIGEgPSBzdGFydDtcclxuICAgIGRvIHtcclxuICAgICAgICB2YXIgYiA9IGEubmV4dC5uZXh0O1xyXG4gICAgICAgIHdoaWxlIChiICE9PSBhLnByZXYpIHtcclxuICAgICAgICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gc3BsaXQgdGhlIHBvbHlnb24gaW4gdHdvIGJ5IHRoZSBkaWFnb25hbFxyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBzcGxpdFBvbHlnb24oYSwgYik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyIGNvbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcclxuICAgICAgICAgICAgICAgIGEgPSBmaWx0ZXJQb2ludHMoYSwgYS5uZXh0KTtcclxuICAgICAgICAgICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBydW4gZWFyY3V0IG9uIGVhY2ggaGFsZlxyXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAwKTtcclxuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChjLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYiA9IGIubmV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgYSA9IGEubmV4dDtcclxuICAgIH0gd2hpbGUgKGEgIT09IHN0YXJ0KTtcclxufVxyXG5cclxuLy8gbGluayBldmVyeSBob2xlIGludG8gdGhlIG91dGVyIGxvb3AsIHByb2R1Y2luZyBhIHNpbmdsZS1yaW5nIHBvbHlnb24gd2l0aG91dCBob2xlc1xyXG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pIHtcclxuICAgIHZhciBxdWV1ZSA9IFtdLFxyXG4gICAgICAgIGksIGxlbiwgc3RhcnQsIGVuZCwgbGlzdDtcclxuXHJcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XHJcbiAgICAgICAgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcclxuICAgICAgICBsaXN0ID0gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGZhbHNlKTtcclxuICAgICAgICBpZiAobGlzdCA9PT0gbGlzdC5uZXh0KSBsaXN0LnN0ZWluZXIgPSB0cnVlO1xyXG4gICAgICAgIHF1ZXVlLnB1c2goZ2V0TGVmdG1vc3QobGlzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHF1ZXVlLnNvcnQoY29tcGFyZVgpO1xyXG5cclxuICAgIC8vIHByb2Nlc3MgaG9sZXMgZnJvbSBsZWZ0IHRvIHJpZ2h0XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvdXRlck5vZGU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXBhcmVYKGEsIGIpIHtcclxuICAgIHJldHVybiBhLnggLSBiLng7XHJcbn1cclxuXHJcbi8vIGZpbmQgYSBicmlkZ2UgYmV0d2VlbiB2ZXJ0aWNlcyB0aGF0IGNvbm5lY3RzIGhvbGUgd2l0aCBhbiBvdXRlciByaW5nIGFuZCBhbmQgbGluayBpdFxyXG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlKGhvbGUsIG91dGVyTm9kZSkge1xyXG4gICAgdmFyIGJyaWRnZSA9IGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSk7XHJcbiAgICBpZiAoIWJyaWRnZSkge1xyXG4gICAgICAgIHJldHVybiBvdXRlck5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGJyaWRnZVJldmVyc2UgPSBzcGxpdFBvbHlnb24oYnJpZGdlLCBob2xlKTtcclxuXHJcbiAgICAvLyBmaWx0ZXIgY29sbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcclxuICAgIGZpbHRlclBvaW50cyhicmlkZ2VSZXZlcnNlLCBicmlkZ2VSZXZlcnNlLm5leHQpO1xyXG4gICAgcmV0dXJuIGZpbHRlclBvaW50cyhicmlkZ2UsIGJyaWRnZS5uZXh0KTtcclxufVxyXG5cclxuLy8gRGF2aWQgRWJlcmx5J3MgYWxnb3JpdGhtIGZvciBmaW5kaW5nIGEgYnJpZGdlIGJldHdlZW4gaG9sZSBhbmQgb3V0ZXIgcG9seWdvblxyXG5mdW5jdGlvbiBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpIHtcclxuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxyXG4gICAgICAgIGh4ID0gaG9sZS54LFxyXG4gICAgICAgIGh5ID0gaG9sZS55LFxyXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxyXG4gICAgICAgIG07XHJcblxyXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xyXG4gICAgLy8gc2VnbWVudCdzIGVuZHBvaW50IHdpdGggbGVzc2VyIHggd2lsbCBiZSBwb3RlbnRpYWwgY29ubmVjdGlvbiBwb2ludFxyXG4gICAgZG8ge1xyXG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xyXG4gICAgICAgICAgICB2YXIgeCA9IHAueCArIChoeSAtIHAueSkgKiAocC5uZXh0LnggLSBwLngpIC8gKHAubmV4dC55IC0gcC55KTtcclxuICAgICAgICAgICAgaWYgKHggPD0gaHggJiYgeCA+IHF4KSB7XHJcbiAgICAgICAgICAgICAgICBxeCA9IHg7XHJcbiAgICAgICAgICAgICAgICBtID0gcC54IDwgcC5uZXh0LnggPyBwIDogcC5uZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSByZXR1cm4gbTsgLy8gaG9sZSB0b3VjaGVzIG91dGVyIHNlZ21lbnQ7IHBpY2sgbGVmdG1vc3QgZW5kcG9pbnRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgfSB3aGlsZSAocCAhPT0gb3V0ZXJOb2RlKTtcclxuXHJcbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xyXG5cclxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcclxuICAgIC8vIGlmIHRoZXJlIGFyZSBubyBwb2ludHMgZm91bmQsIHdlIGhhdmUgYSB2YWxpZCBjb25uZWN0aW9uO1xyXG4gICAgLy8gb3RoZXJ3aXNlIGNob29zZSB0aGUgcG9pbnQgb2YgdGhlIG1pbmltdW0gYW5nbGUgd2l0aCB0aGUgcmF5IGFzIGNvbm5lY3Rpb24gcG9pbnRcclxuXHJcbiAgICB2YXIgc3RvcCA9IG0sXHJcbiAgICAgICAgbXggPSBtLngsXHJcbiAgICAgICAgbXkgPSBtLnksXHJcbiAgICAgICAgdGFuTWluID0gSW5maW5pdHksXHJcbiAgICAgICAgdGFuO1xyXG5cclxuICAgIHAgPSBtO1xyXG5cclxuICAgIGRvIHtcclxuICAgICAgICBpZiAoaHggPj0gcC54ICYmIHAueCA+PSBteCAmJiBoeCAhPT0gcC54ICYmXHJcbiAgICAgICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoaHkgPCBteSA/IGh4IDogcXgsIGh5LCBteCwgbXksIGh5IDwgbXkgPyBxeCA6IGh4LCBoeSwgcC54LCBwLnkpKSB7XHJcblxyXG4gICAgICAgICAgICB0YW4gPSBNYXRoLmFicyhoeSAtIHAueSkgLyAoaHggLSBwLngpOyAvLyB0YW5nZW50aWFsXHJcblxyXG4gICAgICAgICAgICBpZiAobG9jYWxseUluc2lkZShwLCBob2xlKSAmJlxyXG4gICAgICAgICAgICAgICAgKHRhbiA8IHRhbk1pbiB8fCAodGFuID09PSB0YW5NaW4gJiYgKHAueCA+IG0ueCB8fCAocC54ID09PSBtLnggJiYgc2VjdG9yQ29udGFpbnNTZWN0b3IobSwgcCkpKSkpKSB7XHJcbiAgICAgICAgICAgICAgICBtID0gcDtcclxuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcCA9IHAubmV4dDtcclxuICAgIH0gd2hpbGUgKHAgIT09IHN0b3ApO1xyXG5cclxuICAgIHJldHVybiBtO1xyXG59XHJcblxyXG4vLyB3aGV0aGVyIHNlY3RvciBpbiB2ZXJ0ZXggbSBjb250YWlucyBzZWN0b3IgaW4gdmVydGV4IHAgaW4gdGhlIHNhbWUgY29vcmRpbmF0ZXNcclxuZnVuY3Rpb24gc2VjdG9yQ29udGFpbnNTZWN0b3IobSwgcCkge1xyXG4gICAgcmV0dXJuIGFyZWEobS5wcmV2LCBtLCBwLnByZXYpIDwgMCAmJiBhcmVhKHAubmV4dCwgbSwgbS5uZXh0KSA8IDA7XHJcbn1cclxuXHJcbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcclxuZnVuY3Rpb24gaW5kZXhDdXJ2ZShzdGFydCwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xyXG4gICAgdmFyIHAgPSBzdGFydDtcclxuICAgIGRvIHtcclxuICAgICAgICBpZiAocC56ID09PSAwKSBwLnogPSB6T3JkZXIocC54LCBwLnksIG1pblgsIG1pblksIGludlNpemUpO1xyXG4gICAgICAgIHAucHJldlogPSBwLnByZXY7XHJcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcclxuICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xyXG5cclxuICAgIHAucHJldloubmV4dFogPSBudWxsO1xyXG4gICAgcC5wcmV2WiA9IG51bGw7XHJcblxyXG4gICAgc29ydExpbmtlZChwKTtcclxufVxyXG5cclxuLy8gU2ltb24gVGF0aGFtJ3MgbGlua2VkIGxpc3QgbWVyZ2Ugc29ydCBhbGdvcml0aG1cclxuLy8gaHR0cDovL3d3dy5jaGlhcmsuZ3JlZW5lbmQub3JnLnVrL35zZ3RhdGhhbS9hbGdvcml0aG1zL2xpc3Rzb3J0Lmh0bWxcclxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XHJcbiAgICB2YXIgaSwgcCwgcSwgZSwgdGFpbCwgbnVtTWVyZ2VzLCBwU2l6ZSwgcVNpemUsXHJcbiAgICAgICAgaW5TaXplID0gMTtcclxuXHJcbiAgICBkbyB7XHJcbiAgICAgICAgcCA9IGxpc3Q7XHJcbiAgICAgICAgbGlzdCA9IG51bGw7XHJcbiAgICAgICAgdGFpbCA9IG51bGw7XHJcbiAgICAgICAgbnVtTWVyZ2VzID0gMDtcclxuXHJcbiAgICAgICAgd2hpbGUgKHApIHtcclxuICAgICAgICAgICAgbnVtTWVyZ2VzKys7XHJcbiAgICAgICAgICAgIHEgPSBwO1xyXG4gICAgICAgICAgICBwU2l6ZSA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpblNpemU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcFNpemUrKztcclxuICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFxKSBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBxU2l6ZSA9IGluU2l6ZTtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwU2l6ZSAhPT0gMCAmJiAocVNpemUgPT09IDAgfHwgIXEgfHwgcC56IDw9IHEueikpIHtcclxuICAgICAgICAgICAgICAgICAgICBlID0gcDtcclxuICAgICAgICAgICAgICAgICAgICBwID0gcC5uZXh0WjtcclxuICAgICAgICAgICAgICAgICAgICBwU2l6ZS0tO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlID0gcTtcclxuICAgICAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcclxuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcclxuICAgICAgICAgICAgICAgIGVsc2UgbGlzdCA9IGU7XHJcblxyXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XHJcbiAgICAgICAgICAgICAgICB0YWlsID0gZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcCA9IHE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0YWlsLm5leHRaID0gbnVsbDtcclxuICAgICAgICBpblNpemUgKj0gMjtcclxuXHJcbiAgICB9IHdoaWxlIChudW1NZXJnZXMgPiAxKTtcclxuXHJcbiAgICByZXR1cm4gbGlzdDtcclxufVxyXG5cclxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XHJcbmZ1bmN0aW9uIHpPcmRlcih4LCB5LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XHJcbiAgICAvLyBjb29yZHMgYXJlIHRyYW5zZm9ybWVkIGludG8gbm9uLW5lZ2F0aXZlIDE1LWJpdCBpbnRlZ2VyIHJhbmdlXHJcbiAgICB4ID0gKHggLSBtaW5YKSAqIGludlNpemUgfCAwO1xyXG4gICAgeSA9ICh5IC0gbWluWSkgKiBpbnZTaXplIHwgMDtcclxuXHJcbiAgICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xyXG4gICAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcclxuICAgIHggPSAoeCB8ICh4IDw8IDIpKSAmIDB4MzMzMzMzMzM7XHJcbiAgICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xyXG5cclxuICAgIHkgPSAoeSB8ICh5IDw8IDgpKSAmIDB4MDBGRjAwRkY7XHJcbiAgICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xyXG4gICAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcclxuICAgIHkgPSAoeSB8ICh5IDw8IDEpKSAmIDB4NTU1NTU1NTU7XHJcblxyXG4gICAgcmV0dXJuIHggfCAoeSA8PCAxKTtcclxufVxyXG5cclxuLy8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZ1xyXG5mdW5jdGlvbiBnZXRMZWZ0bW9zdChzdGFydCkge1xyXG4gICAgdmFyIHAgPSBzdGFydCxcclxuICAgICAgICBsZWZ0bW9zdCA9IHN0YXJ0O1xyXG4gICAgZG8ge1xyXG4gICAgICAgIGlmIChwLnggPCBsZWZ0bW9zdC54IHx8IChwLnggPT09IGxlZnRtb3N0LnggJiYgcC55IDwgbGVmdG1vc3QueSkpIGxlZnRtb3N0ID0gcDtcclxuICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xyXG5cclxuICAgIHJldHVybiBsZWZ0bW9zdDtcclxufVxyXG5cclxuLy8gY2hlY2sgaWYgYSBwb2ludCBsaWVzIHdpdGhpbiBhIGNvbnZleCB0cmlhbmdsZVxyXG5mdW5jdGlvbiBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcHgsIHB5KSB7XHJcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpID49IChheCAtIHB4KSAqIChjeSAtIHB5KSAmJlxyXG4gICAgICAgICAgIChheCAtIHB4KSAqIChieSAtIHB5KSA+PSAoYnggLSBweCkgKiAoYXkgLSBweSkgJiZcclxuICAgICAgICAgICAoYnggLSBweCkgKiAoY3kgLSBweSkgPj0gKGN4IC0gcHgpICogKGJ5IC0gcHkpO1xyXG59XHJcblxyXG4vLyBjaGVjayBpZiBhIGRpYWdvbmFsIGJldHdlZW4gdHdvIHBvbHlnb24gbm9kZXMgaXMgdmFsaWQgKGxpZXMgaW4gcG9seWdvbiBpbnRlcmlvcilcclxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcclxuICAgIHJldHVybiBhLm5leHQuaSAhPT0gYi5pICYmIGEucHJldi5pICE9PSBiLmkgJiYgIWludGVyc2VjdHNQb2x5Z29uKGEsIGIpICYmIC8vIGRvbmVzJ3QgaW50ZXJzZWN0IG90aGVyIGVkZ2VzXHJcbiAgICAgICAgICAgKGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSAmJiBtaWRkbGVJbnNpZGUoYSwgYikgJiYgLy8gbG9jYWxseSB2aXNpYmxlXHJcbiAgICAgICAgICAgIChhcmVhKGEucHJldiwgYSwgYi5wcmV2KSB8fCBhcmVhKGEsIGIucHJldiwgYikpIHx8IC8vIGRvZXMgbm90IGNyZWF0ZSBvcHBvc2l0ZS1mYWNpbmcgc2VjdG9yc1xyXG4gICAgICAgICAgICBlcXVhbHMoYSwgYikgJiYgYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPiAwICYmIGFyZWEoYi5wcmV2LCBiLCBiLm5leHQpID4gMCk7IC8vIHNwZWNpYWwgemVyby1sZW5ndGggY2FzZVxyXG59XHJcblxyXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXHJcbmZ1bmN0aW9uIGFyZWEocCwgcSwgcikge1xyXG4gICAgcmV0dXJuIChxLnkgLSBwLnkpICogKHIueCAtIHEueCkgLSAocS54IC0gcC54KSAqIChyLnkgLSBxLnkpO1xyXG59XHJcblxyXG4vLyBjaGVjayBpZiB0d28gcG9pbnRzIGFyZSBlcXVhbFxyXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XHJcbiAgICByZXR1cm4gcDEueCA9PT0gcDIueCAmJiBwMS55ID09PSBwMi55O1xyXG59XHJcblxyXG4vLyBjaGVjayBpZiB0d28gc2VnbWVudHMgaW50ZXJzZWN0XHJcbmZ1bmN0aW9uIGludGVyc2VjdHMocDEsIHExLCBwMiwgcTIpIHtcclxuICAgIHZhciBvMSA9IHNpZ24oYXJlYShwMSwgcTEsIHAyKSk7XHJcbiAgICB2YXIgbzIgPSBzaWduKGFyZWEocDEsIHExLCBxMikpO1xyXG4gICAgdmFyIG8zID0gc2lnbihhcmVhKHAyLCBxMiwgcDEpKTtcclxuICAgIHZhciBvNCA9IHNpZ24oYXJlYShwMiwgcTIsIHExKSk7XHJcblxyXG4gICAgaWYgKG8xICE9PSBvMiAmJiBvMyAhPT0gbzQpIHJldHVybiB0cnVlOyAvLyBnZW5lcmFsIGNhc2VcclxuXHJcbiAgICBpZiAobzEgPT09IDAgJiYgb25TZWdtZW50KHAxLCBwMiwgcTEpKSByZXR1cm4gdHJ1ZTsgLy8gcDEsIHExIGFuZCBwMiBhcmUgY29sbGluZWFyIGFuZCBwMiBsaWVzIG9uIHAxcTFcclxuICAgIGlmIChvMiA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHEyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHEyIGFyZSBjb2xsaW5lYXIgYW5kIHEyIGxpZXMgb24gcDFxMVxyXG4gICAgaWYgKG8zID09PSAwICYmIG9uU2VnbWVudChwMiwgcDEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcDEgYXJlIGNvbGxpbmVhciBhbmQgcDEgbGllcyBvbiBwMnEyXHJcbiAgICBpZiAobzQgPT09IDAgJiYgb25TZWdtZW50KHAyLCBxMSwgcTIpKSByZXR1cm4gdHJ1ZTsgLy8gcDIsIHEyIGFuZCBxMSBhcmUgY29sbGluZWFyIGFuZCBxMSBsaWVzIG9uIHAycTJcclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8vIGZvciBjb2xsaW5lYXIgcG9pbnRzIHAsIHEsIHIsIGNoZWNrIGlmIHBvaW50IHEgbGllcyBvbiBzZWdtZW50IHByXHJcbmZ1bmN0aW9uIG9uU2VnbWVudChwLCBxLCByKSB7XHJcbiAgICByZXR1cm4gcS54IDw9IE1hdGgubWF4KHAueCwgci54KSAmJiBxLnggPj0gTWF0aC5taW4ocC54LCByLngpICYmIHEueSA8PSBNYXRoLm1heChwLnksIHIueSkgJiYgcS55ID49IE1hdGgubWluKHAueSwgci55KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2lnbihudW0pIHtcclxuICAgIHJldHVybiBudW0gPiAwID8gMSA6IG51bSA8IDAgPyAtMSA6IDA7XHJcbn1cclxuXHJcbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpbnRlcnNlY3RzIGFueSBwb2x5Z29uIHNlZ21lbnRzXHJcbmZ1bmN0aW9uIGludGVyc2VjdHNQb2x5Z29uKGEsIGIpIHtcclxuICAgIHZhciBwID0gYTtcclxuICAgIGRvIHtcclxuICAgICAgICBpZiAocC5pICE9PSBhLmkgJiYgcC5uZXh0LmkgIT09IGEuaSAmJiBwLmkgIT09IGIuaSAmJiBwLm5leHQuaSAhPT0gYi5pICYmXHJcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xyXG4gICAgICAgIHAgPSBwLm5leHQ7XHJcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpcyBsb2NhbGx5IGluc2lkZSB0aGUgcG9seWdvblxyXG5mdW5jdGlvbiBsb2NhbGx5SW5zaWRlKGEsIGIpIHtcclxuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xyXG4gICAgICAgIGFyZWEoYSwgYiwgYS5uZXh0KSA+PSAwICYmIGFyZWEoYSwgYS5wcmV2LCBiKSA+PSAwIDpcclxuICAgICAgICBhcmVhKGEsIGIsIGEucHJldikgPCAwIHx8IGFyZWEoYSwgYS5uZXh0LCBiKSA8IDA7XHJcbn1cclxuXHJcbi8vIGNoZWNrIGlmIHRoZSBtaWRkbGUgcG9pbnQgb2YgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGluc2lkZSB0aGUgcG9seWdvblxyXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xyXG4gICAgdmFyIHAgPSBhLFxyXG4gICAgICAgIGluc2lkZSA9IGZhbHNlLFxyXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxyXG4gICAgICAgIHB5ID0gKGEueSArIGIueSkgLyAyO1xyXG4gICAgZG8ge1xyXG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXHJcbiAgICAgICAgICAgICAgICAocHggPCAocC5uZXh0LnggLSBwLngpICogKHB5IC0gcC55KSAvIChwLm5leHQueSAtIHAueSkgKyBwLngpKVxyXG4gICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xyXG4gICAgICAgIHAgPSBwLm5leHQ7XHJcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcclxuXHJcbiAgICByZXR1cm4gaW5zaWRlO1xyXG59XHJcblxyXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XHJcbi8vIGlmIG9uZSBiZWxvbmdzIHRvIHRoZSBvdXRlciByaW5nIGFuZCBhbm90aGVyIHRvIGEgaG9sZSwgaXQgbWVyZ2VzIGl0IGludG8gYSBzaW5nbGUgcmluZ1xyXG5mdW5jdGlvbiBzcGxpdFBvbHlnb24oYSwgYikge1xyXG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXHJcbiAgICAgICAgYjIgPSBuZXcgTm9kZShiLmksIGIueCwgYi55KSxcclxuICAgICAgICBhbiA9IGEubmV4dCxcclxuICAgICAgICBicCA9IGIucHJldjtcclxuXHJcbiAgICBhLm5leHQgPSBiO1xyXG4gICAgYi5wcmV2ID0gYTtcclxuXHJcbiAgICBhMi5uZXh0ID0gYW47XHJcbiAgICBhbi5wcmV2ID0gYTI7XHJcblxyXG4gICAgYjIubmV4dCA9IGEyO1xyXG4gICAgYTIucHJldiA9IGIyO1xyXG5cclxuICAgIGJwLm5leHQgPSBiMjtcclxuICAgIGIyLnByZXYgPSBicDtcclxuXHJcbiAgICByZXR1cm4gYjI7XHJcbn1cclxuXHJcbi8vIGNyZWF0ZSBhIG5vZGUgYW5kIG9wdGlvbmFsbHkgbGluayBpdCB3aXRoIHByZXZpb3VzIG9uZSAoaW4gYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QpXHJcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xyXG4gICAgdmFyIHAgPSBuZXcgTm9kZShpLCB4LCB5KTtcclxuXHJcbiAgICBpZiAoIWxhc3QpIHtcclxuICAgICAgICBwLnByZXYgPSBwO1xyXG4gICAgICAgIHAubmV4dCA9IHA7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwLm5leHQgPSBsYXN0Lm5leHQ7XHJcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcclxuICAgICAgICBsYXN0Lm5leHQucHJldiA9IHA7XHJcbiAgICAgICAgbGFzdC5uZXh0ID0gcDtcclxuICAgIH1cclxuICAgIHJldHVybiBwO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVOb2RlKHApIHtcclxuICAgIHAubmV4dC5wcmV2ID0gcC5wcmV2O1xyXG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XHJcblxyXG4gICAgaWYgKHAucHJldlopIHAucHJldloubmV4dFogPSBwLm5leHRaO1xyXG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xyXG59XHJcblxyXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcclxuICAgIC8vIHZlcnRleCBpbmRleCBpbiBjb29yZGluYXRlcyBhcnJheVxyXG4gICAgdGhpcy5pID0gaTtcclxuXHJcbiAgICAvLyB2ZXJ0ZXggY29vcmRpbmF0ZXNcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG5cclxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IHZlcnRleCBub2RlcyBpbiBhIHBvbHlnb24gcmluZ1xyXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcclxuICAgIHRoaXMubmV4dCA9IG51bGw7XHJcblxyXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxyXG4gICAgdGhpcy56ID0gMDtcclxuXHJcbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXHJcbiAgICB0aGlzLnByZXZaID0gbnVsbDtcclxuICAgIHRoaXMubmV4dFogPSBudWxsO1xyXG5cclxuICAgIC8vIGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYSBzdGVpbmVyIHBvaW50XHJcbiAgICB0aGlzLnN0ZWluZXIgPSBmYWxzZTtcclxufVxyXG5cclxuLy8gcmV0dXJuIGEgcGVyY2VudGFnZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHBvbHlnb24gYXJlYSBhbmQgaXRzIHRyaWFuZ3VsYXRpb24gYXJlYTtcclxuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxyXG5lYXJjdXQuZGV2aWF0aW9uID0gZnVuY3Rpb24gKGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0sIHRyaWFuZ2xlcykge1xyXG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoO1xyXG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xyXG5cclxuICAgIHZhciBwb2x5Z29uQXJlYSA9IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSkpO1xyXG4gICAgaWYgKGhhc0hvbGVzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xyXG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgcG9seWdvbkFyZWEgLT0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRyaWFuZ2xlc0FyZWEgPSAwO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xyXG4gICAgICAgIHZhciBhID0gdHJpYW5nbGVzW2ldICogZGltO1xyXG4gICAgICAgIHZhciBiID0gdHJpYW5nbGVzW2kgKyAxXSAqIGRpbTtcclxuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XHJcbiAgICAgICAgdHJpYW5nbGVzQXJlYSArPSBNYXRoLmFicyhcclxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2NdKSAqIChkYXRhW2IgKyAxXSAtIGRhdGFbYSArIDFdKSAtXHJcbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XHJcbiAgICAgICAgTWF0aC5hYnMoKHRyaWFuZ2xlc0FyZWEgLSBwb2x5Z29uQXJlYSkgLyBwb2x5Z29uQXJlYSk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkge1xyXG4gICAgdmFyIHN1bSA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XHJcbiAgICAgICAgc3VtICs9IChkYXRhW2pdIC0gZGF0YVtpXSkgKiAoZGF0YVtpICsgMV0gKyBkYXRhW2ogKyAxXSk7XHJcbiAgICAgICAgaiA9IGk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3VtO1xyXG59XHJcblxyXG4vLyB0dXJuIGEgcG9seWdvbiBpbiBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IGZvcm0gKGUuZy4gYXMgaW4gR2VvSlNPTikgaW50byBhIGZvcm0gRWFyY3V0IGFjY2VwdHNcclxuZWFyY3V0LmZsYXR0ZW4gPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxyXG4gICAgICAgIHJlc3VsdCA9IHt2ZXJ0aWNlczogW10sIGhvbGVzOiBbXSwgZGltZW5zaW9uczogZGltfSxcclxuICAgICAgICBob2xlSW5kZXggPSAwO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YVtpXS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHJlc3VsdC5ob2xlcy5wdXNoKGhvbGVJbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuIiwgImV4cG9ydCAqIGZyb20gJy4vOHRod2FsbC1jYW1lcmEuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2FuY2hvci5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vY3Vyc29yLXRhcmdldC5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vY3Vyc29yLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9kZWJ1Zy1vYmplY3QuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2RldmljZS1vcmllbnRhdGlvbi1sb29rLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9maW5nZXItY3Vyc29yLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9maXhlZC1mb3ZlYXRpb24uanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2hhbmQtdHJhY2tpbmcuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2hpdC10ZXN0LWxvY2F0aW9uLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9ob3dsZXItYXVkaW8tbGlzdGVuZXIuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2hvd2xlci1hdWRpby1zb3VyY2UuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2ltYWdlLXRleHR1cmUuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL21vdXNlLWxvb2suanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3BsYXllci1oZWlnaHQuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3RhcmdldC1mcmFtZXJhdGUuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3RlbGVwb3J0LmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi90cmFpbC5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdHdvLWpvaW50LWlrLXNvbHZlci5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdmlkZW8tdGV4dHVyZS5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdnItbW9kZS1hY3RpdmUtc3dpdGNoLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9wbGFuZS1kZXRlY3Rpb24uanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3ZybS5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vd2FzZC1jb250cm9scy5qcyc7XHJcbiIsICIvKipcclxuICogQ29tcG9uZW50IHByb3BlcnR5IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgdmFyIFR5cGU7XHJcbihmdW5jdGlvbiAoVHlwZSkge1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKk5hdGl2ZSoqXHJcbiAgICAgKlxyXG4gICAgICogUHJvcGVydHkgb2YgYSBuYXRpdmUgY29tcG9uZW50LiBNdXN0IG5vdCBiZSB1c2VkIGluIGN1c3RvbSBjb21wb25lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiTmF0aXZlXCJdID0gMV0gPSBcIk5hdGl2ZVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKkJvb2wqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBjaGVja2JveC5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBmYWxzZWAsIHVubGVzcyBvdmVycmlkZGVuIGJ5IHRoZSBgZGVmYXVsdGAgcHJvcGVydHkuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIkJvb2xcIl0gPSAyXSA9IFwiQm9vbFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKkludCoqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhbiBpbnRlZ2VyIGlucHV0IGZpZWxkLlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYDBgLCB1bmxlc3Mgb3ZlcnJpZGRlbiBieSB0aGUgYGRlZmF1bHRgIHByb3BlcnR5LlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJJbnRcIl0gPSA0XSA9IFwiSW50XCI7XHJcbiAgICAvKipcclxuICAgICAqICoqRmxvYXQqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBmbG9hdGluZyBwb2ludCBpbnB1dCBmaWVsZC5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGAwLjBgLCB1bmxlc3Mgb3ZlcnJpZGRlbiBieSB0aGUgYGRlZmF1bHRgIHByb3BlcnR5LlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJGbG9hdFwiXSA9IDhdID0gXCJGbG9hdFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKlN0cmluZyAvIFRleHQqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBzaW5nbGUtbGluZSB0ZXh0IGlucHV0IGZpZWxkLlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYW4gZW1wdHkgc3RyaW5nLCB1bmxlc3Mgb3ZlcnJpZGRlbiBieSB0aGUgYGRlZmF1bHRgXHJcbiAgICAgKiBwcm9wZXJ0eS5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiU3RyaW5nXCJdID0gMTZdID0gXCJTdHJpbmdcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipFbnVtZXJhdGlvbioqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIGRyb3Bkb3duIHdpdGggZ2l2ZW4gdmFsdWVzLiBUaGUgYWRkaXRpb25hbFxyXG4gICAgICogYHZhbHVlc2AgcGFyYW1ldGVyIHdpdGggc2VsZWN0aW9uIG9wdGlvbnMgaXMgbWFuZGF0b3J5LlxyXG4gICAgICpcclxuICAgICAqIFRoZSBwcm9wZXJ0eSB2YWx1ZSBpcyByZXNvbHZlZCB0byBhbiAqKmluZGV4KiogaW50byB0aGUgYHZhbHVlc2AgYXJyYXkuXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyB0aGUgZmlyc3QgZWxlbWVudCBpbiBgdmFsdWVzYCwgdW5sZXNzIG92ZXJyaWRkZW4gYnlcclxuICAgICAqIHRoZSBgZGVmYXVsdGAgcHJvcGVydHkuIFRoZSBgZGVmYXVsdGAgdmFsdWUgY2FuIGJlIGEgc3RyaW5nIG9yIGFuIGluZGV4XHJcbiAgICAgKiBpbnRvIGB2YWx1ZXNgLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqICAgICBjYW1lcmE6IHt0eXBlOiBUeXBlLkVudW0sIHZhbHVlczogWydhdXRvJywgJ2JhY2snLCAnZnJvbnQnXSwgZGVmYXVsdDogJ2F1dG8nfSxcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJFbnVtXCJdID0gMzJdID0gXCJFbnVtXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqT2JqZWN0IHJlZmVyZW5jZSoqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhbiBvYmplY3QgcmVzb3VyY2Ugc2VsZWN0aW9uIGRyb3Bkb3duXHJcbiAgICAgKiB3aXRoIG9iamVjdCBwaWNrZXIuXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIk9iamVjdFwiXSA9IDY0XSA9IFwiT2JqZWN0XCI7XHJcbiAgICAvKipcclxuICAgICAqICoqTWVzaCByZWZlcmVuY2UqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBtZXNoIHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93bi5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBudWxsYC5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiTWVzaFwiXSA9IDEyOF0gPSBcIk1lc2hcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipUZXh0dXJlIHJlZmVyZW5jZSoqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIHRleHR1cmUgcmVzb3VyY2Ugc2VsZWN0aW9uIGRyb3Bkb3duLlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJUZXh0dXJlXCJdID0gMjU2XSA9IFwiVGV4dHVyZVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKk1hdGVyaWFsIHJlZmVyZW5jZSoqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIG1hdGVyaWFsIHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93bi5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBudWxsYC5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiTWF0ZXJpYWxcIl0gPSA1MTJdID0gXCJNYXRlcmlhbFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKkFuaW1hdGlvbiByZWZlcmVuY2UqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYW4gYW5pbWF0aW9uIHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93bi5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBudWxsYC5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiQW5pbWF0aW9uXCJdID0gMTAyNF0gPSBcIkFuaW1hdGlvblwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKlNraW4gcmVmZXJlbmNlKio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgc2tpbiByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd24uXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIlNraW5cIl0gPSAyMDQ4XSA9IFwiU2tpblwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKkNvbG9yKio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgY29sb3Igd2lkZ2V0LlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYFswLjAsIDAuMCwgMC4wLCAxLjBdYCwgdW5sZXNzIG92ZXJyaWRkZW4gYnkgdGhlXHJcbiAgICAgKiBgZGVmYXVsdGAgcHJvcGVydHkuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIkNvbG9yXCJdID0gNDA5Nl0gPSBcIkNvbG9yXCI7XHJcbn0pKFR5cGUgfHwgKFR5cGUgPSB7fSkpO1xyXG4vKipcclxuICogQ29tcG9uZW50IHByb3BlcnR5IG5hbWVzcGFjZS5cclxuICpcclxuICogVXNhZ2U6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuICpcclxuICogY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAqICAgICAgICAgbXlCb29sOiBQcm9wZXJ0eS5ib29sKHRydWUpLFxyXG4gKiAgICAgICAgIG15SW50OiBQcm9wZXJ0eS5pbnQoNDIpLFxyXG4gKiAgICAgICAgIG15U3RyaW5nOiBQcm9wZXJ0eS5zdHJpbmcoJ0hlbGxvIFdvcmxkIScpLFxyXG4gKiAgICAgICAgIG15TWVzaDogUHJvcGVydHkubWVzaCgpLFxyXG4gKiAgICAgfVxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBGb3IgVHlwZVNjcmlwdCB1c2VycywgeW91IGNhbiB1c2UgdGhlIGRlY29yYXRvcnMgaW5zdGVhZC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBQcm9wZXJ0eSA9IHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIGJvb2xlYW4gcHJvcGVydHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byBgZmFsc2VgLlxyXG4gICAgICovXHJcbiAgICBib29sKGRlZmF1bHRWYWx1ZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbiBpbnRlZ2VyIHByb3BlcnR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdHMgdG8gYDBgLlxyXG4gICAgICovXHJcbiAgICBpbnQoZGVmYXVsdFZhbHVlID0gMCkge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuSW50LCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbiBmbG9hdCBwcm9wZXJ0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIGAwLjBgLlxyXG4gICAgICovXHJcbiAgICBmbG9hdChkZWZhdWx0VmFsdWUgPSAwLjApIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbiBzdHJpbmcgcHJvcGVydHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byBgJydgLlxyXG4gICAgICovXHJcbiAgICBzdHJpbmcoZGVmYXVsdFZhbHVlID0gJycpIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLlN0cmluZywgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gZW51bWVyYXRpb24gcHJvcGVydHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlcyBUaGUgbGlzdCBvZiB2YWx1ZXMuXHJcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLiBDYW4gYmUgYSBzdHJpbmcgb3IgYW4gaW5kZXggaW50b1xyXG4gICAgICogICAgIGB2YWx1ZXNgLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIHRoZSBmaXJzdCBlbGVtZW50LlxyXG4gICAgICovXHJcbiAgICBlbnVtKHZhbHVlcywgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5FbnVtLCB2YWx1ZXMsIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSB9O1xyXG4gICAgfSxcclxuICAgIC8qKiBDcmVhdGUgYW4ge0BsaW5rIE9iamVjdDNEfSByZWZlcmVuY2UgcHJvcGVydHkuICovXHJcbiAgICBvYmplY3Qob3B0cykge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuT2JqZWN0LCBkZWZhdWx0OiBudWxsLCByZXF1aXJlZDogb3B0cz8ucmVxdWlyZWQgPz8gZmFsc2UgfTtcclxuICAgIH0sXHJcbiAgICAvKiogQ3JlYXRlIGEge0BsaW5rIE1lc2h9IHJlZmVyZW5jZSBwcm9wZXJ0eS4gKi9cclxuICAgIG1lc2gob3B0cykge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuTWVzaCwgZGVmYXVsdDogbnVsbCwgcmVxdWlyZWQ6IG9wdHM/LnJlcXVpcmVkID8/IGZhbHNlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqIENyZWF0ZSBhIHtAbGluayBUZXh0dXJlfSByZWZlcmVuY2UgcHJvcGVydHkuICovXHJcbiAgICB0ZXh0dXJlKG9wdHMpIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLlRleHR1cmUsIGRlZmF1bHQ6IG51bGwsIHJlcXVpcmVkOiBvcHRzPy5yZXF1aXJlZCA/PyBmYWxzZSB9O1xyXG4gICAgfSxcclxuICAgIC8qKiBDcmVhdGUgYSB7QGxpbmsgTWF0ZXJpYWx9IHJlZmVyZW5jZSBwcm9wZXJ0eS4gKi9cclxuICAgIG1hdGVyaWFsKG9wdHMpIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLk1hdGVyaWFsLCBkZWZhdWx0OiBudWxsLCByZXF1aXJlZDogb3B0cz8ucmVxdWlyZWQgPz8gZmFsc2UgfTtcclxuICAgIH0sXHJcbiAgICAvKiogQ3JlYXRlIGFuIHtAbGluayBBbmltYXRpb259IHJlZmVyZW5jZSBwcm9wZXJ0eS4gKi9cclxuICAgIGFuaW1hdGlvbihvcHRzKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5BbmltYXRpb24sIGRlZmF1bHQ6IG51bGwsIHJlcXVpcmVkOiBvcHRzPy5yZXF1aXJlZCA/PyBmYWxzZSB9O1xyXG4gICAgfSxcclxuICAgIC8qKiBDcmVhdGUgYSB7QGxpbmsgU2tpbn0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xyXG4gICAgc2tpbihvcHRzKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5Ta2luLCBkZWZhdWx0OiBudWxsLCByZXF1aXJlZDogb3B0cz8ucmVxdWlyZWQgPz8gZmFsc2UgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIGNvbG9yIHByb3BlcnR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByIFRoZSByZWQgY29tcG9uZW50LCBpbiB0aGUgcmFuZ2UgWzA7IDFdLlxyXG4gICAgICogQHBhcmFtIGcgVGhlIGdyZWVuIGNvbXBvbmVudCwgaW4gdGhlIHJhbmdlIFswOyAxXS5cclxuICAgICAqIEBwYXJhbSBiIFRoZSBibHVlIGNvbXBvbmVudCwgaW4gdGhlIHJhbmdlIFswOyAxXS5cclxuICAgICAqIEBwYXJhbSBhIFRoZSBhbHBoYSBjb21wb25lbnQsIGluIHRoZSByYW5nZSBbMDsgMV0uXHJcbiAgICAgKi9cclxuICAgIGNvbG9yKHIgPSAwLjAsIGcgPSAwLjAsIGIgPSAwLjAsIGEgPSAxLjApIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkNvbG9yLCBkZWZhdWx0OiBbciwgZywgYiwgYV0gfTtcclxuICAgIH0sXHJcbn07XHJcbiIsICJpbXBvcnQgeyBQcm9wZXJ0eSwgVHlwZSB9IGZyb20gJy4vcHJvcGVydHkuanMnO1xyXG4vKipcclxuICogRGVjb3JhdG9yIGZvciBKUyBjb21wb25lbnQgcHJvcGVydGllcy5cclxuICpcclxuICogQHBhcmFtIGRhdGEgVGhlIHByb3BlcnR5IGRlc2NyaXB0aW9uIGFzIGFuIG9iamVjdCBsaXRlcmFsXHJcbiAqIEByZXR1cm5zIEEgZGVjb3JhdG9yIGZ1bmN0aW9uIG1vZGlmeWluZyB0aGUgYFByb3BlcnRpZXNgIHN0YXRpY1xyXG4gKiAgICAgYXR0cmlidXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBwcm9wZXJ0eURlY29yYXRvcihkYXRhKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcclxuICAgICAgICBjb25zdCBjdG9yID0gdGFyZ2V0LmNvbnN0cnVjdG9yO1xyXG4gICAgICAgIGN0b3IuUHJvcGVydGllcyA9IGN0b3IuaGFzT3duUHJvcGVydHkoJ1Byb3BlcnRpZXMnKSA/IGN0b3IuUHJvcGVydGllcyA6IHt9O1xyXG4gICAgICAgIGN0b3IuUHJvcGVydGllc1twcm9wZXJ0eUtleV0gPSBkYXRhO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogRGVjb3JhdG9yIGZvciBtYWtpbmcgYSBnZXR0ZXIgZW51bWVyYWJsZS5cclxuICpcclxuICogVXNhZ2U6XHJcbiAqXHJcbiAqIGBgYHRzXHJcbiAqIGNsYXNzIE15Q2xhc3Mge1xyXG4gKiAgICAgQGVudW1lcmFibGUoKVxyXG4gKiAgICAgZ2V0IHByb2plY3Rpb25NYXRyaXgoKTogRmxvYXQzMkFycmF5IHsgLi4uIH1cclxuICogfVxyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBlbnVtZXJhYmxlKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChfLCBfXywgZGVzY3JpcHRvcikge1xyXG4gICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IHRydWU7XHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBEZWNvcmF0b3IgZm9yIG5hdGl2ZSBwcm9wZXJ0aWVzLlxyXG4gKlxyXG4gKiBVc2FnZTpcclxuICpcclxuICogYGBgdHNcclxuICogY2xhc3MgTXlDbGFzcyB7XHJcbiAqICAgICBAbmF0aXZlUHJvcGVydHkoKVxyXG4gKiAgICAgZ2V0IHByb2plY3Rpb25NYXRyaXgoKTogRmxvYXQzMkFycmF5IHsgLi4uIH1cclxuICogfVxyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBuYXRpdmVQcm9wZXJ0eSgpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xyXG4gICAgICAgIGVudW1lcmFibGUoKSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcclxuICAgICAgICBwcm9wZXJ0eURlY29yYXRvcih7IHR5cGU6IFR5cGUuTmF0aXZlIH0pKHRhcmdldCwgcHJvcGVydHlLZXkpO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogUHJvcGVydHkgZGVjb3JhdG9ycyBuYW1lc3BhY2UuXHJcbiAqXHJcbiAqIFlvdSBjYW4gdXNlIHRoZSBkZWNvcmF0b3JzIHRvIG1hcmsgYSBjbGFzcyBhdHRyaWJ1dGUgYXNcclxuICogYSBXb25kZXJsYW5kIEVuZ2luZSBwcm9wZXJ0eS5cclxuICpcclxuICogVXNhZ2U6XHJcbiAqXHJcbiAqIGBgYHRzXHJcbiAqIGltcG9ydCB7TWVzaH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuICogaW1wb3J0IHtwcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xyXG4gKlxyXG4gKiBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAqICAgICBAcHJvcGVydHkuYm9vbCh0cnVlKVxyXG4gKiAgICAgbXlCb29sITogYm9vbGVhbjtcclxuICpcclxuICogICAgIEBwcm9wZXJ0eS5pbnQoNDIpXHJcbiAqICAgICBteUludCE6IG51bWJlcjtcclxuICpcclxuICogICAgIEBwcm9wZXJ0eS5zdHJpbmcoJ0hlbGxvIFdvcmxkIScpXHJcbiAqICAgICBteVN0cmluZyE6IHN0cmluZztcclxuICpcclxuICogICAgIEBwcm9wZXJ0eS5tZXNoKClcclxuICogICAgIG15TWVzaCE6IE1lc2g7XHJcbiAqIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIEZvciBKYXZhU2NyaXB0IHVzZXJzLCBwbGVhc2UgZGVjbGFyZSB0aGUgcHJvcGVydGllcyBzdGF0aWNhbGx5LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHByb3BlcnR5ID0ge307XHJcbmZvciAoY29uc3QgbmFtZSBpbiBQcm9wZXJ0eSkge1xyXG4gICAgLyogQXNzaWduIGVhY2ggcHJvcGVydHkgZnVuY3RvciB0byBhIFR5cGVTY3JpcHQgZGVjb3JhdG9yLlxyXG4gICAgICogVGhpcyBjb2RlIGV4dHJhY3RzIHBhcmFtZXRlcnMgYW5kIHJldHVybiB0eXBlIHRvIHByb3ZpZGUgcHJvcGVyXHJcbiAgICAgKiB0eXBpbmdzIHRvIHRoZSB1c2VyLiAqL1xyXG4gICAgcHJvcGVydHlbbmFtZV0gPSAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZ1bmN0b3IgPSBQcm9wZXJ0eVtuYW1lXTtcclxuICAgICAgICByZXR1cm4gcHJvcGVydHlEZWNvcmF0b3IoZnVuY3RvciguLi5hcmdzKSk7XHJcbiAgICB9O1xyXG59XHJcbiIsICIvKipcclxuICogQ2hlY2sgaWYgYSBnaXZlbiB2YWx1ZSBpcyBhIG5hdGl2ZSBzdHJpbmcgb3IgYSBgU3RyaW5nYCBpbnN0YW5jZS5cclxuICpcclxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cclxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGhhcyB0eXBlIHN0cmluZyBsaXRlcmFsIG9yIGBTdHJpbmdgLCBgZmFsc2VgIG90aGVyd2lzZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlID09PSAnJylcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIHJldHVybiB2YWx1ZSAmJiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nKTtcclxufVxyXG4vKipcclxuICogQ2hlY2sgaWYgYSBnaXZlbiB2YWx1ZSBpcyBhIG5hdGl2ZSBudW1iZXIgb3IgYSBgTnVtYmVyYCBpbnN0YW5jZS5cclxuICpcclxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cclxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGhhcyB0eXBlIG51bWJlciBsaXRlcmFsIG9yIGBOdW1iZXJgLCBgZmFsc2VgIG90aGVyd2lzZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdmFsdWUuY29uc3RydWN0b3IgPT09IE51bWJlcjtcclxufVxyXG4iLCAiLyoqIEludGVybmFsIHR5cGUgZm9yIHRyYW5zYWN0aW9uLiAqL1xyXG52YXIgVHJhbnNhY3Rpb25UeXBlO1xyXG4oZnVuY3Rpb24gKFRyYW5zYWN0aW9uVHlwZSkge1xyXG4gICAgVHJhbnNhY3Rpb25UeXBlW1RyYW5zYWN0aW9uVHlwZVtcIkFkZGl0aW9uXCJdID0gMV0gPSBcIkFkZGl0aW9uXCI7XHJcbiAgICBUcmFuc2FjdGlvblR5cGVbVHJhbnNhY3Rpb25UeXBlW1wiUmVtb3ZhbFwiXSA9IDJdID0gXCJSZW1vdmFsXCI7XHJcbn0pKFRyYW5zYWN0aW9uVHlwZSB8fCAoVHJhbnNhY3Rpb25UeXBlID0ge30pKTtcclxuLyoqXHJcbiAqIEV2ZW50IGVtaXR0ZXIuXHJcbiAqXHJcbiAqIFRoaXMgY2xhc3MgYWxsb3dzIHRvIHJlZ2lzdGVyIGxpc3RlbmVycyB0aGF0IHdpbGwgZ2V0IG5vdGlmaWVkIGJ5IHRoZSBlbWl0dGVyLlxyXG4gKlxyXG4gKiBVc2FnZSBleGFtcGxlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAvLyBgb25QcmVSZW5kZXJgIGlzIGFuIGBFbWl0dGVyYCBpbnN0YW5jZS5cclxuICogc2NlbmUub25QcmVSZW5kZXIuYWRkKCgpID0+IGNvbnNvbGUubG9nKCdiZWZvcmUgcmVuZGVyaW5nJykpO1xyXG4gKiAvLyBgb25Qb3N0UmVuZGVyYCBpcyBhbiBgRW1pdHRlcmAgaW5zdGFuY2UuXHJcbiAqIHNjZW5lLm9uUG9zdFJlbmRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ2FmdGVyIHJlbmRlcmluZycpKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFlvdSBjYW4gY3JlYXRlIHlvdXIgb3duIGVtaXR0ZXJzOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQge0VtaXR0ZXJ9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqXHJcbiAqIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpO1xyXG4gKiBgYGBcclxuICpcclxuICogWW91IGNhbiBub3RpZnkgbGlzdGVuZXJzIGluIHRvIHlvdXIgZW1pdHRlciB1c2luZyB7QGxpbmsgRW1pdHRlci5ub3RpZnl9OlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAvLyBOb3RpZmllcyBhbGwgdGhlIGxpc3RlbmVycy5cclxuICogZW1pdHRlci5ub3RpZnkoKTtcclxuICogLy8gTm90aWZpZXMgYWxsIHRoZSBsaXN0ZW5lcnMgd2l0aCBzb21lIGRhdGEuXHJcbiAqIGVtaXR0ZXIubm90aWZ5KHsgbXlJbnQ6IDQyLCBteVN0cjogJ0hlbGxvIFdvcmxkIScgfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgZXZlbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbWl0dGVyIHtcclxuICAgIC8qKlxyXG4gICAgICogTGlzdCBvZiBsaXN0ZW5lcnMgdG8gdHJpZ2dlciB3aGVuIGBub3RpZnlgIGlzIGNhbGxlZC5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9saXN0ZW5lcnMgPSBbXTtcclxuICAgIC8qKlxyXG4gICAgICogYHRydWVgIGlmIHRoZSBlbWl0dGVyIGlzIGN1cnJlbnRseSBub3RpZnlpbmcgbGlzdGVuZXJzLiBUaGlzXHJcbiAgICAgKiBpcyB1c2VkIHRvIGRlZmVyIGFkZGl0aW9uIGFuZCByZW1vdmFsLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX25vdGlmeWluZyA9IGZhbHNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBQZW5kaW5nIGFkZGl0aW9ucyAvIHJlbW92YWxzLCBwZXJmb3JtZWQgZHVyaW5nIGEgbm90aWZpY2F0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX3RyYW5zYWN0aW9ucyA9IFtdO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBsaXN0ZW5lciB0byBiZSB0cmlnZ2VyZWQgb24ge0BsaW5rIEVtaXR0ZXIubm90aWZ5fS5cclxuICAgICAqXHJcbiAgICAgKiBCYXNpYyB1c2FnZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW1pdHRlci5hZGQoKGRhdGEpID0+IHtcclxuICAgICAqICAgICBjb25zb2xlLmxvZygnZXZlbnQgcmVjZWl2ZWQhJyk7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgKiB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZSBsaXN0ZW5lciB3aGVuIGFuIGV2ZW50IGlzIHJlY2VpdmVkOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBlbWl0dGVyLmFkZCgoZGF0YSkgPT4ge1xyXG4gICAgICogICAgIGNvbnNvbGUubG9nKCdldmVudCByZWNlaXZlZCEnKTtcclxuICAgICAqICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAqIH0sIHtvbmNlOiB0cnVlfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGNhbGxiYWNrIHRvIHJlZ2lzdGVyLlxyXG4gICAgICogQHBhcmFtIG9wdHMgVGhlIGxpc3RlbmVyIG9wdGlvbnMuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgaGF2ZSBhIGxvb2tcclxuICAgICAqICAgICBhdCB0aGUge0BsaW5rIExpc3RlbmVyT3B0aW9uc30gaW50ZXJmYWNlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKVxyXG4gICAgICovXHJcbiAgICBhZGQobGlzdGVuZXIsIG9wdHMgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IHsgb25jZSA9IGZhbHNlLCBpZCA9IHVuZGVmaW5lZCB9ID0gb3B0cztcclxuICAgICAgICBjb25zdCBkYXRhID0geyBpZCwgb25jZSwgY2FsbGJhY2s6IGxpc3RlbmVyIH07XHJcbiAgICAgICAgaWYgKHRoaXMuX25vdGlmeWluZykge1xyXG4gICAgICAgICAgICB0aGlzLl90cmFuc2FjdGlvbnMucHVzaCh7IHR5cGU6IFRyYW5zYWN0aW9uVHlwZS5BZGRpdGlvbiwgZGF0YSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKGRhdGEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFcXVpdmFsZW50IHRvIHtAbGluayBFbWl0dGVyLmFkZH0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVycyBUaGUgY2FsbGJhY2socykgdG8gcmVnaXN0ZXIuXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgRW1pdHRlci5hZGR9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHB1c2goLi4ubGlzdGVuZXJzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjYiBvZiBsaXN0ZW5lcnMpXHJcbiAgICAgICAgICAgIHRoaXMuYWRkKGNiKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBuZXcgbGlzdGVuZXIgdG8gYmUgdHJpZ2dlcmVkIG9uIHtAbGluayBFbWl0dGVyLm5vdGlmeX0uXHJcbiAgICAgKlxyXG4gICAgICogT25jZSBub3RpZmllZCwgdGhlIGxpc3RlbmVyIHdpbGwgYmUgYXV0b21hdGljYWxseSByZW1vdmVkLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBjYWxsaW5nIHtAbGluayBFbWl0dGVyLmFkZH0gd2l0aDpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW1pdHRlci5hZGQobGlzdGVuZXIsIHtvbmNlOiB0cnVlfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGNhbGxiYWNrIHRvIHJlZ2lzdGVyLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgb25jZShsaXN0ZW5lcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZChsaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYSByZWdpc3RlcmVkIGxpc3RlbmVyLlxyXG4gICAgICpcclxuICAgICAqIFVzYWdlIHdpdGggYSBjYWxsYmFjazpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogY29uc3QgbGlzdGVuZXIgPSAoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgKiBlbWl0dGVyLmFkZChsaXN0ZW5lcik7XHJcbiAgICAgKlxyXG4gICAgICogLy8gUmVtb3ZlIHVzaW5nIHRoZSBjYWxsYmFjayByZWZlcmVuY2U6XHJcbiAgICAgKiBlbWl0dGVyLnJlbW92ZShsaXN0ZW5lcik7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBVc2FnZSB3aXRoIGFuIGlkOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBlbWl0dGVyLmFkZCgoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSksIHtpZDogJ215LWNhbGxiYWNrJ30pO1xyXG4gICAgICpcclxuICAgICAqIC8vIFJlbW92ZSB1c2luZyB0aGUgaWQ6XHJcbiAgICAgKiBlbWl0dGVyLnJlbW92ZSgnbXktY2FsbGJhY2snKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFVzaW5nIGlkZW50aWZpZXJzLCB5b3Ugd2lsbCBuZWVkIHRvIGVuc3VyZSB5b3VyIHZhbHVlIGlzIHVuaXF1ZSB0byBhdm9pZFxyXG4gICAgICogcmVtb3ZpbmcgbGlzdGVuZXJzIGZyb20gb3RoZXIgbGlicmFyaWVzLCBlLmcuLDpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW1pdHRlci5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpLCB7aWQ6ICdub24tdW5pcXVlJ30pO1xyXG4gICAgICogLy8gVGhpcyBzZWNvbmQgbGlzdGVuZXIgY291bGQgYmUgYWRkZWQgYnkgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5LlxyXG4gICAgICogZW1pdHRlci5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKCdIZWxsbyBGcm9tIExpYnJhcnkhJyksIHtpZDogJ25vbi11bmlxdWUnfSk7XHJcbiAgICAgKlxyXG4gICAgICogLy8gSG8gU25hcCEgVGhpcyBhbHNvIHJlbW92ZWQgdGhlIGxpYnJhcnkgbGlzdGVuZXIhXHJcbiAgICAgKiBlbWl0dGVyLnJlbW92ZSgnbm9uLXVuaXF1ZScpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGlkZW50aWZpZXIgY2FuIGJlIGFueSB0eXBlLiBIb3dldmVyLCByZW1lbWJlciB0aGF0IHRoZSBjb21wYXJpc29uIHdpbGwgYmVcclxuICAgICAqIGJ5LXZhbHVlIGZvciBwcmltaXRpdmUgdHlwZXMgKHN0cmluZywgbnVtYmVyKSwgYnV0IGJ5IHJlZmVyZW5jZSBmb3Igb2JqZWN0cy5cclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBlbWl0dGVyLmFkZCgoKSA9PiBjb25zb2xlLmxvZygnSGVsbG8nKSwge2lkOiB7dmFsdWU6IDQyfX0pO1xyXG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ1dvcmxkIScpLCB7aWQ6IHt2YWx1ZTogNDJ9fSk7XHJcbiAgICAgKiBlbWl0dGVyLnJlbW92ZSh7dmFsdWU6IDQyfSk7IC8vIE5vbmUgb2YgdGhlIGFib3ZlIGxpc3RlbmVycyBtYXRjaCFcclxuICAgICAqIGVtaXR0ZXIubm90aWZ5KCk7IC8vIFByaW50cyAnSGVsbG8nIGFuZCAnV29ybGQhJy5cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEhlcmUsIGJvdGggZW1pdHRlcnMgaGF2ZSBpZCBge3ZhbHVlOiA0Mn1gLCBidXQgdGhlIGNvbXBhcmlzb24gaXMgbWFkZSBieSByZWZlcmVuY2UuIFRodXMsXHJcbiAgICAgKiB0aGUgYHJlbW92ZSgpYCBjYWxsIGhhcyBubyBlZmZlY3QuIFdlIGNhbiBtYWtlIGl0IHdvcmsgYnkgZG9pbmc6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGNvbnN0IGlkID0ge3ZhbHVlOiA0Mn07XHJcbiAgICAgKiBlbWl0dGVyLmFkZCgoKSA9PiBjb25zb2xlLmxvZygnSGVsbG8nKSwge2lkfSk7XHJcbiAgICAgKiBlbWl0dGVyLmFkZCgoKSA9PiBjb25zb2xlLmxvZygnV29ybGQhJyksIHtpZH0pO1xyXG4gICAgICogZW1pdHRlci5yZW1vdmUoaWQpOyAvLyBTYW1lIHJlZmVyZW5jZSwgaXQgd29ya3MhXHJcbiAgICAgKiBlbWl0dGVyLm5vdGlmeSgpOyAvLyBEb2Vzbid0IHByaW50LlxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSByZWdpc3RlcmVkIGNhbGxiYWNrIG9yIGEgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBgaWRgLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKVxyXG4gICAgICovXHJcbiAgICByZW1vdmUobGlzdGVuZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5fbm90aWZ5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zYWN0aW9ucy5wdXNoKHsgdHlwZTogVHJhbnNhY3Rpb25UeXBlLlJlbW92YWwsIGRhdGE6IGxpc3RlbmVyIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC5jYWxsYmFjayA9PT0gbGlzdGVuZXIgfHwgdGFyZ2V0LmlkID09PSBsaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLS0sIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBsaXN0ZW5lciBpcyByZWdpc3RlcmVkLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgbWV0aG9kIHBlcmZvcm1zIGEgbGluZWFyIHNlYXJjaC5cclxuICAgICAqXHJcbiAgICAgKiAqIEBub3RlIERvZXNuJ3QgYWNjb3VudCBmb3IgcGVuZGluZyBsaXN0ZW5lcnMsIGkuZS4sXHJcbiAgICAgKiBsaXN0ZW5lcnMgYWRkZWQgLyByZW1vdmVkIGR1cmluZyBhIG5vdGlmaWNhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIHJlZ2lzdGVyZWQgY2FsbGJhY2sgb3IgYSB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIGBpZGAuXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGhhbmRsZSBpcyBmb3VuZCwgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAgICAgKi9cclxuICAgIGhhcyhsaXN0ZW5lcikge1xyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBsaXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2FsbGJhY2sgPT09IGxpc3RlbmVyIHx8IHRhcmdldC5pZCA9PT0gbGlzdGVuZXIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBOb3RpZnkgbGlzdGVuZXJzIHdpdGggdGhlIGdpdmVuIGRhdGEgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgbWV0aG9kIGVuc3VyZXMgYWxsIGxpc3RlbmVycyBhcmUgY2FsbGVkIGV2ZW4gaWZcclxuICAgICAqIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24uIEZvciAocG9zc2libHkpIGZhc3RlciBub3RpZmljYXRpb24sXHJcbiAgICAgKiBwbGVhc2UgdXNlIHtAbGluayBFbWl0dGVyLm5vdGlmeVVuc2FmZX0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gcGFzcyB0byBsaXN0ZW5lciB3aGVuIGludm9rZWQuXHJcbiAgICAgKi9cclxuICAgIG5vdGlmeSguLi5kYXRhKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xyXG4gICAgICAgIHRoaXMuX25vdGlmeWluZyA9IHRydWU7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbmNlKVxyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLS0sIDEpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbGJhY2soLi4uZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbm90aWZ5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgLyogUHJvY2VzcyBkZWZlcnJlZCBhZGRpdGlvbnMgJiByZW1vdmFscyAqL1xyXG4gICAgICAgIHRoaXMuX2ZsdXNoVHJhbnNhY3Rpb25zKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE5vdGlmeSBsaXN0ZW5lcnMgd2l0aCB0aGUgZ2l2ZW4gZGF0YSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgQmVjYXVzZSB0aGlzIG1ldGhvZCBkb2Vzbid0IGNhdGNoIGV4Y2VwdGlvbnMsIHNvbWUgbGlzdGVuZXJzXHJcbiAgICAgKiB3aWxsIGJlIHNraXBwZWQgb24gYSB0aHJvdy4gUGxlYXNlIHVzZSB7QGxpbmsgRW1pdHRlci5ub3RpZnl9IGZvciBzYWZlXHJcbiAgICAgKiBub3RpZmljYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gcGFzcyB0byBsaXN0ZW5lciB3aGVuIGludm9rZWQuXHJcbiAgICAgKi9cclxuICAgIG5vdGlmeVVuc2FmZSguLi5kYXRhKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBpZiAobGlzdGVuZXIub25jZSlcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaS0tLCAxKTtcclxuICAgICAgICAgICAgbGlzdGVuZXIuY2FsbGJhY2soLi4uZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIFByb2Nlc3MgZGVmZXJyZWQgYWRkaXRpb25zICYgcmVtb3ZhbHMgKi9cclxuICAgICAgICB0aGlzLl9mbHVzaFRyYW5zYWN0aW9ucygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIG9uIHRoZSBuZXh0IGV2ZW50LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoZSBwcm9taXNlIG1pZ2h0IG5ldmVyIHJlc29sdmUgaWYgbm8gZXZlbnQgaXMgc2VudC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBkYXRhIHBhc3NlZCB0b1xyXG4gICAgICogICAgIHtAbGluayBFbWl0dGVyLm5vdGlmeX0uXHJcbiAgICAgKi9cclxuICAgIHByb21pc2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIF8pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vbmNlKCguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzKGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzKGFyZ3NbMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTnVtYmVyIG9mIGxpc3RlbmVycy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBEb2Vzbid0IGFjY291bnQgZm9yIHBlbmRpbmcgbGlzdGVuZXJzLCBpLmUuLFxyXG4gICAgICogbGlzdGVuZXJzIGFkZGVkIC8gcmVtb3ZlZCBkdXJpbmcgYSBub3RpZmljYXRpb24uXHJcbiAgICAgKi9cclxuICAgIGdldCBsaXN0ZW5lckNvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0ZW5lcnMubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgLyoqIGB0cnVlYCBpZiBpdCBoYXMgbm8gbGlzdGVuZXJzLCBgZmFsc2VgIG90aGVyd2lzZS4gKi9cclxuICAgIGdldCBpc0VtcHR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyQ291bnQgPT09IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZsdXNoIGFsbCBwZW5kaW5nIHRyYW5zYWN0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9mbHVzaFRyYW5zYWN0aW9ucygpIHtcclxuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XHJcbiAgICAgICAgZm9yIChjb25zdCB0cmFuc2FjdGlvbiBvZiB0aGlzLl90cmFuc2FjdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRyYW5zYWN0aW9uLnR5cGUgPT09IFRyYW5zYWN0aW9uVHlwZS5BZGRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2godHJhbnNhY3Rpb24uZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSh0cmFuc2FjdGlvbi5kYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl90cmFuc2FjdGlvbnMubGVuZ3RoID0gMDtcclxuICAgIH1cclxufVxyXG4vKiBEdW1teSB2YWx1ZSB1c2VkIHdpdGggUmV0YWluRW1pdHRlci4gKi9cclxuY29uc3QgUmV0YWluRW1pdHRlclVuZGVmaW5lZCA9IHt9O1xyXG4vKipcclxuICogRXZlbnQgZW1pdHRlciB0aGF0IHJldGFpbnMgZXZlbnQgZGF0YSB3aGVuIG5vdGlmaWVkLlxyXG4gKlxyXG4gKiBBZnRlciBhIG5vdGlmaWNhdGlvbiBoYXBwZW5zLCBzdWJzZXF1ZW50IGNhbGxzIHRvIHtAbGluayBSZXRhaW5FbWl0dGVyLmFkZH0gd2lsbCBnZXRcclxuICogYXV0b21hdGljYWxseSBub3RpZmllZC5cclxuICpcclxuICogWW91IGNhbiB1c2UgYW5vdGhlciBlbWl0dGVyIGluIG9yZGVyIHRvIGNhbmNlbCB0aGUgbGFzdCByZXRhaW5lZCBldmVudDpcclxuICpcclxuICogYGBganNcclxuICogaW1wb3J0IHtFbWl0dGVyLCBSZXRhaW5lZEVtaXR0ZXJ9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqXHJcbiAqIGNvbnN0IG9uU3RhcnQgPSBuZXcgUmV0YWluZWRFbWl0dGVyKCk7XHJcbiAqXHJcbiAqIG9uU3RhcnQubm90aWZ5KDQyKTtcclxuICogb25TdGFydC5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpKSAvLyBQcmludHMgJzQyJy5cclxuICogYGBgXHJcbiAqXHJcbiAqIFlvdSBjYW4gcmVzZXQgdGhlIHN0YXRlIG9mIHRoZSBlbWl0dGVyLCBpLmUuLCBtYWtpbmcgaXQgZm9yZ2V0IGFib3V0IHRoZVxyXG4gKiBsYXN0IGV2ZW50IHVzaW5nOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQge0VtaXR0ZXIsIFJldGFpbmVkRW1pdHRlcn0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuICpcclxuICogY29uc3Qgb25TdGFydCA9IG5ldyBSZXRhaW5lZEVtaXR0ZXIoKTtcclxuICogb25TdGFydC5ub3RpZnkoNDIpO1xyXG4gKiBvblN0YXJ0LmFkZCgoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSkpIC8vIFByaW50cyAnNDInLlxyXG4gKlxyXG4gKiAvLyBSZXNldCB0aGUgc3RhdGUgb2YgdGhlIGVtaXR0ZXIuXHJcbiAqIG9uU3RhcnQucmVzZXQoKTtcclxuICogb25TdGFydC5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpKSAvLyBEb2Vzbid0IHByaW50IGFueXRoaW5nLlxyXG4gKiBgYGBcclxuICpcclxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgZW1pdHRlcnMsIHBsZWFzZSBoYXZlIGEgbG9vayBhdCB0aGUgYmFzZSB7QGxpbmsgRW1pdHRlcn0gY2xhc3MuXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBldmVudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJldGFpbkVtaXR0ZXIgZXh0ZW5kcyBFbWl0dGVyIHtcclxuICAgIC8qKiBQcmUtcmVzb2x2ZWQgZGF0YS4gQGhpZGRlbiAqL1xyXG4gICAgX2V2ZW50ID0gUmV0YWluRW1pdHRlclVuZGVmaW5lZDtcclxuICAgIC8qKlxyXG4gICAgICogRW1pdHRlciB0YXJnZXQgdXNlZCB0byByZXNldCB0aGUgc3RhdGUgb2YgdGhpcyBlbWl0dGVyLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX3Jlc2V0O1xyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgYWRkKGxpc3RlbmVyLCBvcHRzKSB7XHJcbiAgICAgICAgY29uc3QgaW1tZWRpYXRlID0gb3B0cz8uaW1tZWRpYXRlID8/IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50ICE9PSBSZXRhaW5FbWl0dGVyVW5kZWZpbmVkICYmIGltbWVkaWF0ZSkge1xyXG4gICAgICAgICAgICBsaXN0ZW5lciguLi50aGlzLl9ldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLmFkZChsaXN0ZW5lciwgb3B0cyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBvdmVycmlkZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgY2FsbGJhY2sgdG8gcmVnaXN0ZXIuXHJcbiAgICAgKiBAcGFyYW0gaW1tZWRpYXRlIElmIGB0cnVlYCwgZGlyZWN0bHkgcmVzb2x2ZXMgaWYgdGhlIGVtaXR0ZXIgcmV0YWlucyBhIHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgb25jZShsaXN0ZW5lciwgaW1tZWRpYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGxpc3RlbmVyLCB7IG9uY2U6IHRydWUsIGltbWVkaWF0ZSB9KTtcclxuICAgIH1cclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIG5vdGlmeSguLi5kYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fZXZlbnQgPSBkYXRhO1xyXG4gICAgICAgIHN1cGVyLm5vdGlmeSguLi5kYXRhKTtcclxuICAgIH1cclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIG5vdGlmeVVuc2FmZSguLi5kYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fZXZlbnQgPSBkYXRhO1xyXG4gICAgICAgIHN1cGVyLm5vdGlmeVVuc2FmZSguLi5kYXRhKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgdGhlIHN0YXRlIG9mIHRoZSBlbWl0dGVyLlxyXG4gICAgICpcclxuICAgICAqIEZ1cnRoZXIgY2FsbCB0byB7QGxpbmsgRW1pdHRlci5hZGR9IHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgcmVzb2x2ZSxcclxuICAgICAqIHVudGlsIGEgbmV3IGNhbGwgdG8ge0BsaW5rIEVtaXR0ZXIubm90aWZ5fSBpcyBwZXJmb3JtZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpXHJcbiAgICAgKi9cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuX2V2ZW50ID0gUmV0YWluRW1pdHRlclVuZGVmaW5lZDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIHRoZSByZXRhaW5lZCBkYXRhLCBvciBgdW5kZWZpbmVkYCBpZiBubyBkYXRhIHdhcyByZXRhaW5lZC4gKi9cclxuICAgIGdldCBkYXRhKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzRGF0YVJldGFpbmVkID8gdGhpcy5fZXZlbnQgOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICAvKiogYHRydWVgIGlmIGRhdGEgaXMgcmV0YWluZWQgZnJvbSB0aGUgbGFzdCBldmVudCwgYGZhbHNlYCBvdGhlcndpc2UuICovXHJcbiAgICBnZXQgaXNEYXRhUmV0YWluZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50ICE9PSBSZXRhaW5FbWl0dGVyVW5kZWZpbmVkO1xyXG4gICAgfVxyXG59XHJcbiIsICIvKipcclxuICogVHlwZXNcclxuICovXHJcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbmltcG9ydCB7IG5hdGl2ZVByb3BlcnR5LCBlbnVtZXJhYmxlIH0gZnJvbSAnLi9kZWNvcmF0b3JzLmpzJztcclxuaW1wb3J0IHsgaXNOdW1iZXIsIGlzU3RyaW5nIH0gZnJvbSAnLi91dGlscy9vYmplY3QuanMnO1xyXG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi91dGlscy9ldmVudC5qcyc7XHJcbi8qKlxyXG4gKiBXb25kZXJsYW5kIEVuZ2luZSBBUElcclxuICogQG5hbWVzcGFjZSBXTFxyXG4gKi9cclxuLyoqXHJcbiAqIERlZmF1bHQgc2V0IG9mIGxvZ2dpbmcgdGFncyB1c2VkIGJ5IHRoZSBBUEkuXHJcbiAqL1xyXG5leHBvcnQgdmFyIExvZ1RhZztcclxuKGZ1bmN0aW9uIChMb2dUYWcpIHtcclxuICAgIC8qKiBJbml0aWFsaXphdGlvbiwgY29tcG9uZW50IHJlZ2lzdHJhdGlvbiwgZXRjLi4uICovXHJcbiAgICBMb2dUYWdbTG9nVGFnW1wiRW5naW5lXCJdID0gMF0gPSBcIkVuZ2luZVwiO1xyXG4gICAgLyoqIFNjZW5lIGxvYWRpbmcgKi9cclxuICAgIExvZ1RhZ1tMb2dUYWdbXCJTY2VuZVwiXSA9IDFdID0gXCJTY2VuZVwiO1xyXG4gICAgLyoqIENvbXBvbmVudCBpbml0LCB1cGRhdGUsIGV0Yy4uLiAqL1xyXG4gICAgTG9nVGFnW0xvZ1RhZ1tcIkNvbXBvbmVudFwiXSA9IDJdID0gXCJDb21wb25lbnRcIjtcclxufSkoTG9nVGFnIHx8IChMb2dUYWcgPSB7fSkpO1xyXG4vKipcclxuICogQ29sbGlkZXIgdHlwZSBlbnVtIGZvciB7QGxpbmsgQ29sbGlzaW9uQ29tcG9uZW50fS5cclxuICovXHJcbmV4cG9ydCB2YXIgQ29sbGlkZXI7XHJcbihmdW5jdGlvbiAoQ29sbGlkZXIpIHtcclxuICAgIC8qKlxyXG4gICAgICogKipTcGhlcmUgQ29sbGlkZXIqKjpcclxuICAgICAqXHJcbiAgICAgKiBTaW1wbGVzdCBhbmQgbW9zdCBwZXJmb3JtYW50IGNvbGxpc2lvbiBzaGFwZS4gSWYgdGhpcyB0eXBlIGlzIHNldCBvbiBhXHJcbiAgICAgKiB7QGxpbmsgQ29sbGlzaW9uQ29tcG9uZW50fSwgb25seSB0aGUgZmlyc3QgY29tcG9uZW50IG9mXHJcbiAgICAgKiB7QGxpbmsgQ29sbGlzaW9uQ29tcG9uZW50I2V4dGVudHN9IHdpbGwgYmUgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHJhZGl1cy5cclxuICAgICAqL1xyXG4gICAgQ29sbGlkZXJbQ29sbGlkZXJbXCJTcGhlcmVcIl0gPSAwXSA9IFwiU3BoZXJlXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqQXhpcyBBbGlnbmVkIEJvdW5kaW5nIEJveCBDb2xsaWRlcioqOlxyXG4gICAgICpcclxuICAgICAqIEJveCB0aGF0IGlzIGFsd2F5cyBhbGlnbmVkIHRvIFhZWiBheGlzLiBJdCBjYW5ub3QgYmUgcm90YXRlZCBidXQgaXMgbW9yZVxyXG4gICAgICogZWZmaWNpZW50IHRoYW4ge0BsaW5rIENvbGxpZGVyLkJveH0uXHJcbiAgICAgKi9cclxuICAgIENvbGxpZGVyW0NvbGxpZGVyW1wiQXhpc0FsaWduZWRCb3hcIl0gPSAxXSA9IFwiQXhpc0FsaWduZWRCb3hcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipBbGlnbmVkIEJvdW5kaW5nIEJveCBDb2xsaWRlcioqOlxyXG4gICAgICpcclxuICAgICAqIEJveCB0aGF0IG1hdGNoZXMgdGhlIG9iamVjdCdzIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBjb3JyZWN0bHkuIFRoaXNcclxuICAgICAqIGlzIHRoZSBsZWFzdCBlZmZpY2llbnQgY29sbGlkZXIgYW5kIHNob3VsZCBvbmx5IGJlIGNob3NlbiBvdmVyXHJcbiAgICAgKiB7QGxpbmsgQ29sbGlkZXIuU3BoZXJlfSBhbmQge0BsaW5rIENvbGxpZGVyLkF4aXNBbGlnbmVkQm94fSBpZiByZWFsbHlcclxuICAgICAqIG5lY2Vzc2FyeS5cclxuICAgICAqL1xyXG4gICAgQ29sbGlkZXJbQ29sbGlkZXJbXCJCb3hcIl0gPSAyXSA9IFwiQm94XCI7XHJcbn0pKENvbGxpZGVyIHx8IChDb2xsaWRlciA9IHt9KSk7XHJcbi8qKlxyXG4gKiBBbGlnbm1lbnQgdHlwZSBlbnVtIGZvciB7QGxpbmsgVGV4dENvbXBvbmVudH0uXHJcbiAqL1xyXG5leHBvcnQgdmFyIEFsaWdubWVudDtcclxuKGZ1bmN0aW9uIChBbGlnbm1lbnQpIHtcclxuICAgIC8qKiBUZXh0IHN0YXJ0IGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cclxuICAgIEFsaWdubWVudFtBbGlnbm1lbnRbXCJMZWZ0XCJdID0gMF0gPSBcIkxlZnRcIjtcclxuICAgIC8qKiBUZXh0IGNlbnRlciBpcyBhdCBvYmplY3Qgb3JpZ2luICovXHJcbiAgICBBbGlnbm1lbnRbQWxpZ25tZW50W1wiQ2VudGVyXCJdID0gMV0gPSBcIkNlbnRlclwiO1xyXG4gICAgLyoqIFRleHQgZW5kIGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cclxuICAgIEFsaWdubWVudFtBbGlnbm1lbnRbXCJSaWdodFwiXSA9IDJdID0gXCJSaWdodFwiO1xyXG59KShBbGlnbm1lbnQgfHwgKEFsaWdubWVudCA9IHt9KSk7XHJcbi8qKlxyXG4gKiBKdXN0aWZpY2F0aW9uIHR5cGUgZW51bSBmb3Ige0BsaW5rIFRleHRDb21wb25lbnR9LlxyXG4gKi9cclxuZXhwb3J0IHZhciBKdXN0aWZpY2F0aW9uO1xyXG4oZnVuY3Rpb24gKEp1c3RpZmljYXRpb24pIHtcclxuICAgIC8qKiBUZXh0IGxpbmUgaXMgYXQgb2JqZWN0IG9yaWdpbiAqL1xyXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiTGluZVwiXSA9IDBdID0gXCJMaW5lXCI7XHJcbiAgICAvKiogVGV4dCBtaWRkbGUgaXMgYXQgb2JqZWN0IG9yaWdpbiAqL1xyXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiTWlkZGxlXCJdID0gMV0gPSBcIk1pZGRsZVwiO1xyXG4gICAgLyoqIFRleHQgdG9wIGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cclxuICAgIEp1c3RpZmljYXRpb25bSnVzdGlmaWNhdGlvbltcIlRvcFwiXSA9IDJdID0gXCJUb3BcIjtcclxuICAgIC8qKiBUZXh0IGJvdHRvbSBpcyBhdCBvYmplY3Qgb3JpZ2luICovXHJcbiAgICBKdXN0aWZpY2F0aW9uW0p1c3RpZmljYXRpb25bXCJCb3R0b21cIl0gPSAzXSA9IFwiQm90dG9tXCI7XHJcbn0pKEp1c3RpZmljYXRpb24gfHwgKEp1c3RpZmljYXRpb24gPSB7fSkpO1xyXG4vKipcclxuICogRWZmZWN0IHR5cGUgZW51bSBmb3Ige0BsaW5rIFRleHRDb21wb25lbnR9LlxyXG4gKi9cclxuZXhwb3J0IHZhciBUZXh0RWZmZWN0O1xyXG4oZnVuY3Rpb24gKFRleHRFZmZlY3QpIHtcclxuICAgIC8qKiBUZXh0IGlzIHJlbmRlcmVkIG5vcm1hbGx5ICovXHJcbiAgICBUZXh0RWZmZWN0W1RleHRFZmZlY3RbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcclxuICAgIC8qKiBUZXh0IGlzIHJlbmRlcmVkIHdpdGggYW4gb3V0bGluZSAqL1xyXG4gICAgVGV4dEVmZmVjdFtUZXh0RWZmZWN0W1wiT3V0bGluZVwiXSA9IDFdID0gXCJPdXRsaW5lXCI7XHJcbn0pKFRleHRFZmZlY3QgfHwgKFRleHRFZmZlY3QgPSB7fSkpO1xyXG4vKipcclxuICogSW5wdXQgdHlwZSBlbnVtIGZvciB7QGxpbmsgSW5wdXRDb21wb25lbnR9LlxyXG4gKi9cclxuZXhwb3J0IHZhciBJbnB1dFR5cGU7XHJcbihmdW5jdGlvbiAoSW5wdXRUeXBlKSB7XHJcbiAgICAvKiogSGVhZCBpbnB1dCAqL1xyXG4gICAgSW5wdXRUeXBlW0lucHV0VHlwZVtcIkhlYWRcIl0gPSAwXSA9IFwiSGVhZFwiO1xyXG4gICAgLyoqIExlZnQgZXllIGlucHV0ICovXHJcbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiRXllTGVmdFwiXSA9IDFdID0gXCJFeWVMZWZ0XCI7XHJcbiAgICAvKiogUmlnaHQgZXllIGlucHV0ICovXHJcbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiRXllUmlnaHRcIl0gPSAyXSA9IFwiRXllUmlnaHRcIjtcclxuICAgIC8qKiBMZWZ0IGNvbnRyb2xsZXIgaW5wdXQgKi9cclxuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJDb250cm9sbGVyTGVmdFwiXSA9IDNdID0gXCJDb250cm9sbGVyTGVmdFwiO1xyXG4gICAgLyoqIFJpZ2h0IGNvbnRyb2xsZXIgaW5wdXQgKi9cclxuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJDb250cm9sbGVyUmlnaHRcIl0gPSA0XSA9IFwiQ29udHJvbGxlclJpZ2h0XCI7XHJcbiAgICAvKiogTGVmdCByYXkgaW5wdXQgKi9cclxuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJSYXlMZWZ0XCJdID0gNV0gPSBcIlJheUxlZnRcIjtcclxuICAgIC8qKiBSaWdodCByYXkgaW5wdXQgKi9cclxuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJSYXlSaWdodFwiXSA9IDZdID0gXCJSYXlSaWdodFwiO1xyXG59KShJbnB1dFR5cGUgfHwgKElucHV0VHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBMaWdodCB0eXBlIGVudW0gZm9yIHtAbGluayBMaWdodENvbXBvbmVudH0uXHJcbiAqL1xyXG5leHBvcnQgdmFyIExpZ2h0VHlwZTtcclxuKGZ1bmN0aW9uIChMaWdodFR5cGUpIHtcclxuICAgIC8qKiBQb2ludCBsaWdodCAqL1xyXG4gICAgTGlnaHRUeXBlW0xpZ2h0VHlwZVtcIlBvaW50XCJdID0gMF0gPSBcIlBvaW50XCI7XHJcbiAgICAvKiogU3BvdCBsaWdodCAqL1xyXG4gICAgTGlnaHRUeXBlW0xpZ2h0VHlwZVtcIlNwb3RcIl0gPSAxXSA9IFwiU3BvdFwiO1xyXG4gICAgLyoqIFN1biBsaWdodCAvIERpcmVjdGlvbmFsIGxpZ2h0ICovXHJcbiAgICBMaWdodFR5cGVbTGlnaHRUeXBlW1wiU3VuXCJdID0gMl0gPSBcIlN1blwiO1xyXG59KShMaWdodFR5cGUgfHwgKExpZ2h0VHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBBbmltYXRpb24gc3RhdGUgb2Yge0BsaW5rIEFuaW1hdGlvbkNvbXBvbmVudH0uXHJcbiAqL1xyXG5leHBvcnQgdmFyIEFuaW1hdGlvblN0YXRlO1xyXG4oZnVuY3Rpb24gKEFuaW1hdGlvblN0YXRlKSB7XHJcbiAgICAvKiogQW5pbWF0aW9uIGlzIGN1cnJlbnRseSBwbGF5aW5nICovXHJcbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlBsYXlpbmdcIl0gPSAwXSA9IFwiUGxheWluZ1wiO1xyXG4gICAgLyoqIEFuaW1hdGlvbiBpcyBwYXVzZWQgYW5kIHdpbGwgY29udGludWUgYXQgY3VycmVudCBwbGF5YmFja1xyXG4gICAgICogdGltZSBvbiB7QGxpbmsgQW5pbWF0aW9uQ29tcG9uZW50I3BsYXl9ICovXHJcbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlBhdXNlZFwiXSA9IDFdID0gXCJQYXVzZWRcIjtcclxuICAgIC8qKiBBbmltYXRpb24gaXMgc3RvcHBlZCAqL1xyXG4gICAgQW5pbWF0aW9uU3RhdGVbQW5pbWF0aW9uU3RhdGVbXCJTdG9wcGVkXCJdID0gMl0gPSBcIlN0b3BwZWRcIjtcclxufSkoQW5pbWF0aW9uU3RhdGUgfHwgKEFuaW1hdGlvblN0YXRlID0ge30pKTtcclxuLyoqXHJcbiAqIFJpZ2lkIGJvZHkgZm9yY2UgbW9kZSBmb3Ige0BsaW5rIFBoeXNYQ29tcG9uZW50I2FkZEZvcmNlfSBhbmQge0BsaW5rIFBoeXNYQ29tcG9uZW50I2FkZFRvcnF1ZX0uXHJcbiAqXHJcbiAqIFtQaHlzWCBBUEkgUmVmZXJlbmNlXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGFwaS9maWxlcy9zdHJ1Y3RQeEZvcmNlTW9kZS5odG1sKVxyXG4gKi9cclxuZXhwb3J0IHZhciBGb3JjZU1vZGU7XHJcbihmdW5jdGlvbiAoRm9yY2VNb2RlKSB7XHJcbiAgICAvKiogQXBwbHkgYXMgZm9yY2UgKi9cclxuICAgIEZvcmNlTW9kZVtGb3JjZU1vZGVbXCJGb3JjZVwiXSA9IDBdID0gXCJGb3JjZVwiO1xyXG4gICAgLyoqIEFwcGx5IGFzIGltcHVsc2UgKi9cclxuICAgIEZvcmNlTW9kZVtGb3JjZU1vZGVbXCJJbXB1bHNlXCJdID0gMV0gPSBcIkltcHVsc2VcIjtcclxuICAgIC8qKiBBcHBseSBhcyB2ZWxvY2l0eSBjaGFuZ2UsIG1hc3MgZGVwZW5kZW50ICovXHJcbiAgICBGb3JjZU1vZGVbRm9yY2VNb2RlW1wiVmVsb2NpdHlDaGFuZ2VcIl0gPSAyXSA9IFwiVmVsb2NpdHlDaGFuZ2VcIjtcclxuICAgIC8qKiBBcHBseSBhcyBtYXNzIGRlcGVuZGVudCBmb3JjZSAqL1xyXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIkFjY2VsZXJhdGlvblwiXSA9IDNdID0gXCJBY2NlbGVyYXRpb25cIjtcclxufSkoRm9yY2VNb2RlIHx8IChGb3JjZU1vZGUgPSB7fSkpO1xyXG4vKipcclxuICogQ29sbGlzaW9uIGNhbGxiYWNrIGV2ZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgdmFyIENvbGxpc2lvbkV2ZW50VHlwZTtcclxuKGZ1bmN0aW9uIChDb2xsaXNpb25FdmVudFR5cGUpIHtcclxuICAgIC8qKiBUb3VjaC9jb250YWN0IGRldGVjdGVkLCBjb2xsaXNpb24gKi9cclxuICAgIENvbGxpc2lvbkV2ZW50VHlwZVtDb2xsaXNpb25FdmVudFR5cGVbXCJUb3VjaFwiXSA9IDBdID0gXCJUb3VjaFwiO1xyXG4gICAgLyoqIFRvdWNoL2NvbnRhY3QgbG9zdCwgdW5jb2xsaWRlICovXHJcbiAgICBDb2xsaXNpb25FdmVudFR5cGVbQ29sbGlzaW9uRXZlbnRUeXBlW1wiVG91Y2hMb3N0XCJdID0gMV0gPSBcIlRvdWNoTG9zdFwiO1xyXG4gICAgLyoqIFRvdWNoL2NvbnRhY3Qgd2l0aCB0cmlnZ2VyIGRldGVjdGVkICovXHJcbiAgICBDb2xsaXNpb25FdmVudFR5cGVbQ29sbGlzaW9uRXZlbnRUeXBlW1wiVHJpZ2dlclRvdWNoXCJdID0gMl0gPSBcIlRyaWdnZXJUb3VjaFwiO1xyXG4gICAgLyoqIFRvdWNoL2NvbnRhY3Qgd2l0aCB0cmlnZ2VyIGxvc3QgKi9cclxuICAgIENvbGxpc2lvbkV2ZW50VHlwZVtDb2xsaXNpb25FdmVudFR5cGVbXCJUcmlnZ2VyVG91Y2hMb3N0XCJdID0gM10gPSBcIlRyaWdnZXJUb3VjaExvc3RcIjtcclxufSkoQ29sbGlzaW9uRXZlbnRUeXBlIHx8IChDb2xsaXNpb25FdmVudFR5cGUgPSB7fSkpO1xyXG4vKipcclxuICogUmlnaWQgYm9keSB7QGxpbmsgUGh5c1hDb21wb25lbnQjc2hhcGV9LlxyXG4gKlxyXG4gKiBbUGh5c1ggU0RLIEd1aWRlXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9HZW9tZXRyeS5odG1sI2dlb21ldHJ5LXR5cGVzKS5cclxuICovXHJcbmV4cG9ydCB2YXIgU2hhcGU7XHJcbihmdW5jdGlvbiAoU2hhcGUpIHtcclxuICAgIC8qKiBObyBzaGFwZS4gKi9cclxuICAgIFNoYXBlW1NoYXBlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XHJcbiAgICAvKiogU3BoZXJlIHNoYXBlLiAqL1xyXG4gICAgU2hhcGVbU2hhcGVbXCJTcGhlcmVcIl0gPSAxXSA9IFwiU3BoZXJlXCI7XHJcbiAgICAvKiogQ2Fwc3VsZSBzaGFwZS4gKi9cclxuICAgIFNoYXBlW1NoYXBlW1wiQ2Fwc3VsZVwiXSA9IDJdID0gXCJDYXBzdWxlXCI7XHJcbiAgICAvKiogQm94IHNoYXBlLiAqL1xyXG4gICAgU2hhcGVbU2hhcGVbXCJCb3hcIl0gPSAzXSA9IFwiQm94XCI7XHJcbiAgICAvKiogUGxhbmUgc2hhcGUuICovXHJcbiAgICBTaGFwZVtTaGFwZVtcIlBsYW5lXCJdID0gNF0gPSBcIlBsYW5lXCI7XHJcbiAgICAvKiogQ29udmV4IG1lc2ggc2hhcGUuICovXHJcbiAgICBTaGFwZVtTaGFwZVtcIkNvbnZleE1lc2hcIl0gPSA1XSA9IFwiQ29udmV4TWVzaFwiO1xyXG4gICAgLyoqIFRyaWFuZ2xlIG1lc2ggc2hhcGUuICovXHJcbiAgICBTaGFwZVtTaGFwZVtcIlRyaWFuZ2xlTWVzaFwiXSA9IDZdID0gXCJUcmlhbmdsZU1lc2hcIjtcclxufSkoU2hhcGUgfHwgKFNoYXBlID0ge30pKTtcclxuLyoqXHJcbiAqIE1lc2ggYXR0cmlidXRlIGVudW0uXHJcbiAqIEBzaW5jZSAwLjkuMFxyXG4gKi9cclxuZXhwb3J0IHZhciBNZXNoQXR0cmlidXRlO1xyXG4oZnVuY3Rpb24gKE1lc2hBdHRyaWJ1dGUpIHtcclxuICAgIC8qKiBQb3NpdGlvbiBhdHRyaWJ1dGUsIDMgZmxvYXRzICovXHJcbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJQb3NpdGlvblwiXSA9IDBdID0gXCJQb3NpdGlvblwiO1xyXG4gICAgLyoqIFRhbmdlbnQgYXR0cmlidXRlLCA0IGZsb2F0cyAqL1xyXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiVGFuZ2VudFwiXSA9IDFdID0gXCJUYW5nZW50XCI7XHJcbiAgICAvKiogTm9ybWFsIGF0dHJpYnV0ZSwgMyBmbG9hdHMgKi9cclxuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIk5vcm1hbFwiXSA9IDJdID0gXCJOb3JtYWxcIjtcclxuICAgIC8qKiBUZXh0dXJlIGNvb3JkaW5hdGUgYXR0cmlidXRlLCAyIGZsb2F0cyAqL1xyXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiVGV4dHVyZUNvb3JkaW5hdGVcIl0gPSAzXSA9IFwiVGV4dHVyZUNvb3JkaW5hdGVcIjtcclxuICAgIC8qKiBDb2xvciBhdHRyaWJ1dGUsIDQgZmxvYXRzLCBSR0JBLCByYW5nZSBgMGAgdG8gYDFgICovXHJcbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJDb2xvclwiXSA9IDRdID0gXCJDb2xvclwiO1xyXG4gICAgLyoqIEpvaW50IGlkIGF0dHJpYnV0ZSwgOCB1bnNpZ25lZCBpbnRzICovXHJcbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJKb2ludElkXCJdID0gNV0gPSBcIkpvaW50SWRcIjtcclxuICAgIC8qKiBKb2ludCB3ZWlnaHRzIGF0dHJpYnV0ZSwgOCBmbG9hdHMgKi9cclxuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIkpvaW50V2VpZ2h0XCJdID0gNl0gPSBcIkpvaW50V2VpZ2h0XCI7XHJcbn0pKE1lc2hBdHRyaWJ1dGUgfHwgKE1lc2hBdHRyaWJ1dGUgPSB7fSkpO1xyXG4vKipcclxuICogTWF0ZXJpYWwgcGFyYW1ldGVyIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgdmFyIE1hdGVyaWFsUGFyYW1UeXBlO1xyXG4oZnVuY3Rpb24gKE1hdGVyaWFsUGFyYW1UeXBlKSB7XHJcbiAgICAvKiogVW5zaWduZWQgaW50ZWdlciBwYXJhbWV0ZXIgdHlwZS4gKi9cclxuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiVW5zaWduZWRJbnRcIl0gPSAwXSA9IFwiVW5zaWduZWRJbnRcIjtcclxuICAgIC8qKiBJbnRlZ2VyIHBhcmFtZXRlciB0eXBlLiAqL1xyXG4gICAgTWF0ZXJpYWxQYXJhbVR5cGVbTWF0ZXJpYWxQYXJhbVR5cGVbXCJJbnRcIl0gPSAxXSA9IFwiSW50XCI7XHJcbiAgICAvKiogRmxvYXQgcGFyYW1ldGVyIHR5cGUuICovXHJcbiAgICBNYXRlcmlhbFBhcmFtVHlwZVtNYXRlcmlhbFBhcmFtVHlwZVtcIkZsb2F0XCJdID0gMl0gPSBcIkZsb2F0XCI7XHJcbiAgICAvKiogU2FtcGxlciByZXNvdXJjZSBwYXJhbWV0ZXIgdHlwZSwgaS5lLiwgYSB7QGxpbmsgVGV4dHVyZX0uICovXHJcbiAgICBNYXRlcmlhbFBhcmFtVHlwZVtNYXRlcmlhbFBhcmFtVHlwZVtcIlNhbXBsZXJcIl0gPSAzXSA9IFwiU2FtcGxlclwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBGb250IHJlc291cmNlIHBhcmFtZXRlciB0eXBlLlxyXG4gICAgICpcclxuICAgICAqICoqTm90ZSoqOiBDaGFuZ2luZyBmb250IGlzbid0IGV4cG9zZWQgeWV0IGFuZCB3aWxsIHJhaXNlIGFuIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBNYXRlcmlhbFBhcmFtVHlwZVtNYXRlcmlhbFBhcmFtVHlwZVtcIkZvbnRcIl0gPSA0XSA9IFwiRm9udFwiO1xyXG59KShNYXRlcmlhbFBhcmFtVHlwZSB8fCAoTWF0ZXJpYWxQYXJhbVR5cGUgPSB7fSkpO1xyXG4vKipcclxuICogQ3JlYXRlIGEgcHJveHkgdGhyb3dpbmcgZGVzdHJveWVkIGVycm9ycyB1cG9uIGFjY2Vzcy5cclxuICpcclxuICogQHBhcmFtIHR5cGUgVGhlIHR5cGUgdG8gZGlzcGxheSB1cG9uIGVycm9yXHJcbiAqIEByZXR1cm5zIFRoZSBwcm94eSBpbnN0YW5jZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlRGVzdHJveWVkUHJveHkodHlwZSkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm94eSh7fSwge1xyXG4gICAgICAgIGdldChfLCBwYXJhbSkge1xyXG4gICAgICAgICAgICBpZiAocGFyYW0gPT09ICdpc0Rlc3Ryb3llZCcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ubyd0IHJlYWQgJyR7cGFyYW19JyBvZiBkZXN0cm95ZWQgJHt0eXBlfWApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0KF8sIHBhcmFtKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm8ndCB3cml0ZSAnJHtwYXJhbX0nIG9mIGRlc3Ryb3llZCAke3R5cGV9YCk7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XHJcbi8qKiBQcm94eSB1c2VkIHRvIG92ZXJyaWRlIHByb3RvdHlwZXMgb2YgZGVzdHJveWVkIG9iamVjdHMuICovXHJcbmV4cG9ydCBjb25zdCBEZXN0cm95ZWRPYmplY3RJbnN0YW5jZSA9IGNyZWF0ZURlc3Ryb3llZFByb3h5KCdvYmplY3QnKTtcclxuLyoqIFByb3h5IHVzZWQgdG8gb3ZlcnJpZGUgcHJvdG90eXBlcyBvZiBkZXN0cm95ZWQgY29tcG9uZW50cy4gKi9cclxuZXhwb3J0IGNvbnN0IERlc3Ryb3llZENvbXBvbmVudEluc3RhbmNlID0gY3JlYXRlRGVzdHJveWVkUHJveHkoJ2NvbXBvbmVudCcpO1xyXG4vKiogUHJveHkgdXNlZCB0byBvdmVycmlkZSBwcm90b3R5cGVzIG9mIGRlc3Ryb3llZCB0ZXh0dXJlcy4gKi9cclxuZXhwb3J0IGNvbnN0IERlc3Ryb3llZFRleHR1cmVJbnN0YW5jZSA9IGNyZWF0ZURlc3Ryb3llZFByb3h5KCd0ZXh0dXJlJyk7XHJcbi8qKlxyXG4gKiBDaGVjayB3aGV0aGVyIGEgZ2l2ZW4gc2hhcGUgaXMgYSBtZXNoIG9yIG5vdC5cclxuICpcclxuICogQHBhcmFtIHNoYXBlIFRoZSBzaGFwZSB0byBjaGVjay5cclxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBzaGFwZSBpcyBhIG1lc2gsIGBmYWxzZWAgaWYgaXQncyBhIHByaW1pdGl2ZS5cclxuICovXHJcbmZ1bmN0aW9uIGlzTWVzaFNoYXBlKHNoYXBlKSB7XHJcbiAgICByZXR1cm4gc2hhcGUgPT09IFNoYXBlLkNvbnZleE1lc2ggfHwgc2hhcGUgPT09IFNoYXBlLlRyaWFuZ2xlTWVzaDtcclxufVxyXG4vKipcclxuICogQ2hlY2sgd2hldGhlciBhbiBvYmplY3QgaXMgdGhlIHtAbGluayBDb21wb25lbnR9IGNsYXNzIG9yIG5vdCxcclxuICpcclxuICogQG5vdGUgVGhpcyBtZXRob2QgaWYgZm9vbHByb29mIHRvIGRldmVsb3BlcnMgaW5hZHZlcnRlbnRseSB1c2luZ1xyXG4gKiBtdWx0aXBsZSBXb25kZXJsYW5kIEVuZ2luZSBBUEkgaW4gYSBidW5kbGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgb2JqZWN0IHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdCBpcyBhIHtAbGluayBDb21wb25lbnR9IGNsYXNzLCBgZmFsc2VgIG90aGVyd2lzZS5cclxuICovXHJcbmZ1bmN0aW9uIGlzQmFzZUNvbXBvbmVudENsYXNzKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gKCEhdmFsdWUgJiZcclxuICAgICAgICB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnX2lzQmFzZUNvbXBvbmVudCcpICYmXHJcbiAgICAgICAgdmFsdWUuX2lzQmFzZUNvbXBvbmVudCk7XHJcbn1cclxuLyoqXHJcbiAqIENvbnN0YW50cy5cclxuICovXHJcbi8qKlxyXG4gKiBEZWZhdWx0IHdvcmxkIHVwIHZlY3Rvci5cclxuICovXHJcbmNvbnN0IFVQX1ZFQ1RPUiA9IFswLCAxLCAwXTtcclxuY29uc3QgU1FSVF8zID0gTWF0aC5zcXJ0KDMpO1xyXG4vKipcclxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgY29tcG9uZW50IGluc3RhbmNlIG9mIGEgc3BlY2lmaWVkIGNvbXBvbmVudCB0eXBlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBUaGlzIGlzIGhvdyB5b3UgZXh0ZW5kIHRoaXMgY2xhc3MgdG8gY3JlYXRlIHlvdXIgb3duIGN1c3RvbVxyXG4gKiBjb21wb25lbnQ6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqXHJcbiAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAqICAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbXktY29tcG9uZW50JztcclxuICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gKiAgICAgICAgIG15Qm9vbGVhbjogeyB0eXBlOiBUeXBlLkJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAqICAgICB9O1xyXG4gKiAgICAgc3RhcnQoKSB7fVxyXG4gKiAgICAgb25BY3RpdmF0ZSgpIHt9XHJcbiAqICAgICBvbkRlYWN0aXZhdGUoKSB7fVxyXG4gKiAgICAgdXBkYXRlKGR0KSB7fVxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7XHJcbiAgICAvKipcclxuICAgICAqIGB0cnVlYCBmb3IgZXZlcnkgY2xhc3MgaW5oZXJpdGluZyBmcm9tIHRoaXMgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBpcyBhIHdvcmthcm91bmQgZm9yIGBpbnN0YW5jZW9mYCB0byBwcmV2ZW50IGlzc3Vlc1xyXG4gICAgICogdGhhdCBjb3VsZCBhcmlzZSB3aGVuIGFuIGFwcGxpY2F0aW9uIGVuZHMgdXAgdXNpbmcgbXVsdGlwbGUgQVBJIHZlcnNpb25zLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIF9pc0Jhc2VDb21wb25lbnQgPSB0cnVlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjb21wb25lbnQgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBpcyB1c2VkIHRvIHJlZ2lzdGVyLCBhZGQsIGFuZCByZXRyaWV2ZSBjb21wb25lbnRzIG9mIGEgZ2l2ZW4gdHlwZS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIFR5cGVOYW1lO1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9wZXJ0aWVzIG9mIHRoaXMgY29tcG9uZW50IGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIFByb3BlcnRpZXMgYXJlIHB1YmxpYyBhdHRyaWJ1dGVzIHRoYXQgY2FuIGJlIGNvbmZpZ3VyZWQgdmlhIHRoZVxyXG4gICAgICogV29uZGVybGFuZCBFZGl0b3IuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuICAgICAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgICAqICAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbXktY29tcG9uZW50JztcclxuICAgICAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAqICAgICAgICAgbXlCb29sZWFuOiB7IHR5cGU6IFR5cGUuQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgICAqICAgICAgICAgbXlGbG9hdDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgICogICAgICAgICBteVRleHR1cmU6IHsgdHlwZTogVHlwZS5UZXh0dXJlLCBkZWZhdWx0OiBudWxsIH0sXHJcbiAgICAgKiAgICAgfTtcclxuICAgICAqIH1cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFByb3BlcnRpZXMgYXJlIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gZWFjaCBjb21wb25lbnQgaW5zdGFuY2UsIGFuZCBhcmVcclxuICAgICAqIGFjY2Vzc2libGUgbGlrZSBhbnkgSlMgYXR0cmlidXRlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAvLyBDcmVhdGVzIGEgbmV3IGNvbXBvbmVudCBhbmQgc2V0IGVhY2ggcHJvcGVydGllcyB2YWx1ZTpcclxuICAgICAqIGNvbnN0IG15Q29tcG9uZW50ID0gb2JqZWN0LmFkZENvbXBvbmVudChNeUNvbXBvbmVudCwge1xyXG4gICAgICogICAgIG15Qm9vbGVhbjogdHJ1ZSxcclxuICAgICAqICAgICBteUZsb2F0OiA0Mi4wLFxyXG4gICAgICogICAgIG15VGV4dHVyZTogbnVsbFxyXG4gICAgICogfSk7XHJcbiAgICAgKlxyXG4gICAgICogLy8gWW91IGNhbiBhbHNvIG92ZXJyaWRlIHRoZSBwcm9wZXJ0aWVzIG9uIHRoZSBpbnN0YW5jZTpcclxuICAgICAqIG15Q29tcG9uZW50Lm15Qm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICogbXlDb21wb25lbnQubXlGbG9hdCA9IC00Mi4wO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogIyMjIyBSZWZlcmVuY2VzXHJcbiAgICAgKlxyXG4gICAgICogUmVmZXJlbmNlIHR5cGVzIChpLmUuLCBtZXNoLCBvYmplY3QsIGV0Yy4uLikgY2FuIGFsc28gYmUgbGlzdGVkIGFzICoqcmVxdWlyZWQqKjpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogaW1wb3J0IHtDb21wb25lbnQsIFByb3BlcnR5fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gICAgICpcclxuICAgICAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgICAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAqICAgICAgICAgbXlPYmplY3Q6IFByb3BlcnR5Lm9iamVjdCh7cmVxdWlyZWQ6IHRydWV9KSxcclxuICAgICAqICAgICAgICAgbXlBbmltYXRpb246IFByb3BlcnR5LmFuaW1hdGlvbih7cmVxdWlyZWQ6IHRydWV9KSxcclxuICAgICAqICAgICAgICAgbXlUZXh0dXJlOiBQcm9wZXJ0eS50ZXh0dXJlKHtyZXF1aXJlZDogdHJ1ZX0pLFxyXG4gICAgICogICAgICAgICBteU1lc2g6IFByb3BlcnR5Lm1lc2goe3JlcXVpcmVkOiB0cnVlfSksXHJcbiAgICAgKiAgICAgfVxyXG4gICAgICogfVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogUGxlYXNlIG5vdGUgdGhhdCByZWZlcmVuY2VzIGFyZSB2YWxpZGF0ZWQgKipvbmNlKiogYmVmb3JlIHRoZSBjYWxsIHRvIHtAbGluayBDb21wb25lbnQuc3RhcnR9IG9ubHksXHJcbiAgICAgKiB2aWEgdGhlIHtAbGluayBDb21wb25lbnQudmFsaWRhdGVQcm9wZXJ0aWVzfSBtZXRob2QuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzO1xyXG4gICAgLyoqXHJcbiAgICAgKiBXaGVuIHNldCB0byBgdHJ1ZWAsIHRoZSBjaGlsZCBjbGFzcyBpbmhlcml0cyBmcm9tIHRoZSBwYXJlbnRcclxuICAgICAqIHByb3BlcnRpZXMsIGFzIHNob3duIGluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogaW1wb3J0IHtDb21wb25lbnQsIFByb3BlcnR5fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gICAgICpcclxuICAgICAqIGNsYXNzIFBhcmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAgKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ3BhcmVudCc7XHJcbiAgICAgKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7cGFyZW50TmFtZTogUHJvcGVydHkuc3RyaW5nKCdwYXJlbnQnKX1cclxuICAgICAqIH1cclxuICAgICAqXHJcbiAgICAgKiBjbGFzcyBDaGlsZCBleHRlbmRzIFBhcmVudCB7XHJcbiAgICAgKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ2NoaWxkJztcclxuICAgICAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtuYW1lOiBQcm9wZXJ0eS5zdHJpbmcoJ2NoaWxkJyl9XHJcbiAgICAgKiAgICAgc3RhdGljIEluaGVyaXRQcm9wZXJ0aWVzID0gdHJ1ZTtcclxuICAgICAqXHJcbiAgICAgKiAgICAgc3RhcnQoKSB7XHJcbiAgICAgKiAgICAgICAgIC8vIFdvcmtzIGJlY2F1c2UgYEluaGVyaXRQcm9wZXJ0aWVzYCBpcyBgdHJ1ZWAuXHJcbiAgICAgKiAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMubmFtZX0gaW5oZXJpdHMgZnJvbSAke3RoaXMucGFyZW50TmFtZX1gKTtcclxuICAgICAqICAgICB9XHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBQcm9wZXJ0aWVzIGRlZmluZWQgaW4gZGVzY2VuZGFudCBjbGFzc2VzIHdpbGwgb3ZlcnJpZGUgcHJvcGVydGllc1xyXG4gICAgICogd2l0aCB0aGUgc2FtZSBuYW1lIGRlZmluZWQgaW4gYW5jZXN0b3IgY2xhc3Nlcy5cclxuICAgICAqXHJcbiAgICAgKiBEZWZhdWx0cyB0byBgdHJ1ZWAuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBJbmhlcml0UHJvcGVydGllcztcclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIHdoZW4gdGhpcyBjb21wb25lbnQgY2xhc3MgaXMgcmVnaXN0ZXJlZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICpcclxuICAgICAqIFRoaXMgY2FsbGJhY2sgY2FuIGJlIHVzZWQgdG8gcmVnaXN0ZXIgZGVwZW5kZW5jaWVzIG9mIGEgY29tcG9uZW50LFxyXG4gICAgICogZS5nLiwgY29tcG9uZW50IGNsYXNzZXMgdGhhdCBuZWVkIHRvIGJlIHJlZ2lzdGVyZWQgaW4gb3JkZXIgdG8gYWRkXHJcbiAgICAgKiB0aGVtIGF0IHJ1bnRpbWUgd2l0aCB7QGxpbmsgT2JqZWN0M0QuYWRkQ29tcG9uZW50fSwgaW5kZXBlbmRlbnQgb2Ygd2hldGhlclxyXG4gICAgICogdGhleSBhcmUgdXNlZCBpbiB0aGUgZWRpdG9yLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBjbGFzcyBTcGF3bmVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgICAqICAgICBzdGF0aWMgVHlwZU5hbWUgPSAnc3Bhd25lcic7XHJcbiAgICAgKlxyXG4gICAgICogICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSkge1xyXG4gICAgICogICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoU3Bhd25lZENvbXBvbmVudCk7XHJcbiAgICAgKiAgICAgfVxyXG4gICAgICpcclxuICAgICAqICAgICAvLyBZb3UgY2FuIG5vdyB1c2UgYWRkQ29tcG9uZW50IHdpdGggU3Bhd25lZENvbXBvbmVudFxyXG4gICAgICogfVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqXHJcbiAgICAgKiBUaGlzIGNhbGxiYWNrIGNhbiBiZSB1c2VkIHRvIHJlZ2lzdGVyIGRpZmZlcmVudCBpbXBsZW1lbnRhdGlvbnMgb2YgYVxyXG4gICAgICogY29tcG9uZW50IGRlcGVuZGluZyBvbiBjbGllbnQgZmVhdHVyZXMgb3IgQVBJIHZlcnNpb25zLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAvLyBQcm9wZXJ0aWVzIG5lZWQgdG8gYmUgdGhlIHNhbWUgZm9yIGFsbCBpbXBsZW1lbnRhdGlvbnMhXHJcbiAgICAgKiBjb25zdCBTaGFyZWRQcm9wZXJ0aWVzID0ge307XHJcbiAgICAgKlxyXG4gICAgICogY2xhc3MgQW5jaG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgICAqICAgICBzdGF0aWMgVHlwZU5hbWUgPSAnc3Bhd25lcic7XHJcbiAgICAgKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSBTaGFyZWRQcm9wZXJ0aWVzO1xyXG4gICAgICpcclxuICAgICAqICAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAqICAgICAgICAgaWYobmF2aWdhdG9yLnhyID09PSB1bmRlZmluZWQpIHtcclxuICAgICAqICAgICAgICAgICAgIC8qIFdlYlhSIHVuc3VwcG9ydGVkLCBrZWVwIHRoaXMgZHVtbXkgY29tcG9uZW50ICpcXC9cclxuICAgICAqICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAqICAgICAgICAgfVxyXG4gICAgICogICAgICAgICAvKiBXZWJYUiBzdXBwb3J0ZWQhIE92ZXJyaWRlIGFscmVhZHkgcmVnaXN0ZXJlZCBkdW1teSBpbXBsZW1lbnRhdGlvblxyXG4gICAgICogICAgICAgICAgKiB3aXRoIG9uZSBkZXBlbmRpbmcgb24gaGl0LXRlc3QgQVBJIHN1cHBvcnQgKlxcL1xyXG4gICAgICogICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQod2luZG93LkhpdFRlc3RTb3VyY2UgPT09IHVuZGVmaW5lZCA/XHJcbiAgICAgKiAgICAgICAgICAgICBBbmNob3JXaXRob3V0SGl0VGVzdCA6IEFuY2hvcldpdGhIaXRUZXN0KTtcclxuICAgICAqICAgICB9XHJcbiAgICAgKlxyXG4gICAgICogICAgIC8vIFRoaXMgb25lIGltcGxlbWVudHMgbm8gZnVuY3Rpb25zXHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG9uUmVnaXN0ZXI7XHJcbiAgICAvKipcclxuICAgICAqIEFsbG93cyB0byBpbmhlcml0IHByb3BlcnRpZXMgZGlyZWN0bHkgaW5zaWRlIHRoZSBlZGl0b3IuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgRG8gbm90IHVzZSBkaXJlY3RseSwgcHJlZmVyIHVzaW5nIHtAbGluayBpbmhlcml0UHJvcGVydGllc30uXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX2luaGVyaXRQcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIGluaGVyaXRQcm9wZXJ0aWVzKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLyoqIE1hbmFnZXIgaW5kZXguIEBoaWRkZW4gKi9cclxuICAgIF9tYW5hZ2VyO1xyXG4gICAgLyoqIEluc3RhbmNlIGluZGV4LiBAaGlkZGVuICovXHJcbiAgICBfaWQ7XHJcbiAgICAvKipcclxuICAgICAqIE9iamVjdCBjb250YWluaW5nIHRoaXMgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqICoqTm90ZSoqOiBUaGlzIGlzIGNhY2hlZCBmb3IgZmFzdGVyIHJldHJpZXZhbC5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9vYmplY3Q7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBlbmdpbmUgVGhlIGVuZ2luZSBpbnN0YW5jZS5cclxuICAgICAqIEBwYXJhbSBtYW5hZ2VyIEluZGV4IG9mIHRoZSBtYW5hZ2VyLlxyXG4gICAgICogQHBhcmFtIGlkIFdBU00gY29tcG9uZW50IGluc3RhbmNlIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBtYW5hZ2VyID0gLTEsIGlkID0gLTEpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICAgICAgdGhpcy5fbWFuYWdlciA9IG1hbmFnZXI7XHJcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcclxuICAgICAgICB0aGlzLl9vYmplY3QgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xyXG4gICAgZ2V0IGVuZ2luZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyoqIFRoZSBuYW1lIG9mIHRoaXMgY29tcG9uZW50J3MgdHlwZSAqL1xyXG4gICAgZ2V0IHR5cGUoKSB7XHJcbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XHJcbiAgICAgICAgcmV0dXJuIGN0b3IuVHlwZU5hbWUgPz8gdGhpcy5fZW5naW5lLndhc20uX3R5cGVOYW1lRm9yKHRoaXMuX21hbmFnZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqIFRoZSBvYmplY3QgdGhpcyBjb21wb25lbnQgaXMgYXR0YWNoZWQgdG8uICovXHJcbiAgICBnZXQgb2JqZWN0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fb2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdElkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbXBvbmVudF9nZXRfb2JqZWN0KHRoaXMuX21hbmFnZXIsIHRoaXMuX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fb2JqZWN0ID0gdGhpcy5fZW5naW5lLndyYXBPYmplY3Qob2JqZWN0SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIGNvbXBvbmVudCBpcyBhY3RpdmUuXHJcbiAgICAgKlxyXG4gICAgICogQWN0aXZhdGluZy9kZWFjdGl2YXRpbmcgYSBjb21wb25lbnQgY29tZXMgYXQgYSBzbWFsbCBjb3N0IG9mIHJlb3JkZXJpbmdcclxuICAgICAqIGNvbXBvbmVudHMgaW4gdGhlIHJlc3BlY3RpdmUgY29tcG9uZW50IG1hbmFnZXIuIFRoaXMgZnVuY3Rpb24gdGhlcmVmb3JlXHJcbiAgICAgKiBpcyBub3QgYSB0cml2aWFsIGFzc2lnbm1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogRG9lcyBub3RoaW5nIGlmIHRoZSBjb21wb25lbnQgaXMgYWxyZWFkeSBhY3RpdmF0ZWQvZGVhY3RpdmF0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFjdGl2ZSBOZXcgYWN0aXZlIHN0YXRlLlxyXG4gICAgICovXHJcbiAgICBzZXQgYWN0aXZlKGFjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb21wb25lbnRfc2V0QWN0aXZlKHRoaXMuX21hbmFnZXIsIHRoaXMuX2lkLCBhY3RpdmUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoaXMgY29tcG9uZW50IGlzIGFjdGl2ZVxyXG4gICAgICovXHJcbiAgICBnZXQgYWN0aXZlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29tcG9uZW50X2lzQWN0aXZlKHRoaXMuX21hbmFnZXIsIHRoaXMuX2lkKSAhPSAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb3B5IGFsbCB0aGUgcHJvcGVydGllcyBmcm9tIGBzcmNgIGludG8gdGhpcyBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBPbmx5IHByb3BlcnRpZXMgYXJlIGNvcGllZC4gSWYgYSBjb21wb25lbnQgbmVlZHMgdG9cclxuICAgICAqIGNvcHkgZXh0cmEgZGF0YSwgaXQgbmVlZHMgdG8gb3ZlcnJpZGUgdGhpcyBtZXRob2QuXHJcbiAgICAgKlxyXG4gICAgICogIyMjIyBFeGFtcGxlXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgICAqICAgICBub25Qcm9wZXJ0eURhdGEgPSAnSGVsbG8gV29ybGQnO1xyXG4gICAgICpcclxuICAgICAqICAgICBjb3B5KHNyYykge1xyXG4gICAgICogICAgICAgICBzdXBlci5jb3B5KHNyYyk7XHJcbiAgICAgKiAgICAgICAgIHRoaXMubm9uUHJvcGVydHlEYXRhID0gc3JjLm5vblByb3BlcnR5RGF0YTtcclxuICAgICAqICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgKiAgICAgfVxyXG4gICAgICogfVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IHtAbGluayBPYmplY3QzRC5jbG9uZX0uIERvIG5vdCBhdHRlbXB0IHRvOlxyXG4gICAgICogICAgIC0gQ3JlYXRlIG5ldyBjb21wb25lbnRcclxuICAgICAqICAgICAtIFJlYWQgcmVmZXJlbmNlcyB0byBvdGhlciBvYmplY3RzXHJcbiAgICAgKlxyXG4gICAgICogV2hlbiBjbG9uaW5nIHZpYSB7QGxpbmsgT2JqZWN0M0QuY2xvbmV9LCB0aGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBiZWZvcmVcclxuICAgICAqIHtAbGluayBDb21wb25lbnQuc3RhcnR9LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIEphdmFTY3JpcHQgY29tcG9uZW50IHByb3BlcnRpZXMgYXJlbid0IHJldGFyZ2V0ZWQuIFRodXMsIHJlZmVyZW5jZXNcclxuICAgICAqIGluc2lkZSB0aGUgc291cmNlIG9iamVjdCB3aWxsIG5vdCBiZSByZXRhcmdldGVkIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QsXHJcbiAgICAgKiBhdCB0aGUgZXhjZXB0aW9uIG9mIHRoZSBza2luIGRhdGEgb24ge0BsaW5rIE1lc2hDb21wb25lbnR9IGFuZCB7QGxpbmsgQW5pbWF0aW9uQ29tcG9uZW50fS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc3JjIFRoZSBzb3VyY2UgY29tcG9uZW50IHRvIGNvcHkgZnJvbS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIGNvcHkoc3JjKSB7XHJcbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XHJcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIGN0b3IuUHJvcGVydGllcykge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNyY1tuYW1lXTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIHRoaXMgY29tcG9uZW50IGZyb20gaXRzIG9iamVjdHMgYW5kIGRlc3Ryb3kgaXQuXHJcbiAgICAgKlxyXG4gICAgICogSXQgaXMgYmVzdCBwcmFjdGljZSB0byBzZXQgdGhlIGNvbXBvbmVudCB0byBgbnVsbGAgYWZ0ZXIsXHJcbiAgICAgKiB0byBlbnN1cmUgaXQgZG9lcyBub3QgZ2V0IHVzZWQgbGF0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqICAgIGMuZGVzdHJveSgpO1xyXG4gICAgICogICAgYyA9IG51bGw7XHJcbiAgICAgKiBgYGBcclxuICAgICAqIEBzaW5jZSAwLjkuMFxyXG4gICAgICovXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSB0aGlzLl9tYW5hZ2VyO1xyXG4gICAgICAgIGlmIChtYW5hZ2VyIDwgMCB8fCB0aGlzLl9pZCA8IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvKiBNdXN0IGJlIHN0b3JlZCBiZWZvcmUgZGVzdHJ1Y3Rpb24uICovXHJcbiAgICAgICAgY29uc3QganNNYW5hZ2VyID0gdGhpcy5lbmdpbmUud2FzbS5fanNNYW5hZ2VySW5kZXg7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbXBvbmVudF9yZW1vdmUobWFuYWdlciwgdGhpcy5faWQpO1xyXG4gICAgICAgIC8qKiBAdG9kbzogUmVtb3ZlIGF0IDEuMi4wIHdoZW4gYSBnZW5lcmljIGRlc3Ryb3kgaXMgaW1wbGVtZW50ZWRcclxuICAgICAgICAgKiBmb3IgZXZlcnkgbWFuYWdlci4gKi9cclxuICAgICAgICBpZiAobWFuYWdlciAhPT0ganNNYW5hZ2VyKVxyXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyT25EZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjb21wYXJpbmcgd2hldGhlciB0aGUgd3JhcHBlZCBuYXRpdmUgY29tcG9uZW50IGlkc1xyXG4gICAgICogYW5kIGNvbXBvbmVudCBtYW5hZ2VyIHR5cGVzIGFyZSBlcXVhbC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3RoZXJDb21wb25lbnQgQ29tcG9uZW50IHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgY29tcG9uZW50IGVxdWFscyB0aGUgZ2l2ZW4gY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBlcXVhbHMob3RoZXJDb21wb25lbnQpIHtcclxuICAgICAgICBpZiAoIW90aGVyQ29tcG9uZW50KVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hbmFnZXIgPT0gb3RoZXJDb21wb25lbnQuX21hbmFnZXIgJiYgdGhpcy5faWQgPT0gb3RoZXJDb21wb25lbnQuX2lkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldCB0aGUgY29tcG9uZW50IHByb3BlcnRpZXMgdG8gZGVmYXVsdC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGlzIGF1dG9tYXRpY2FsbHkgY2FsbGVkIGR1cmluZyB0aGUgY29tcG9uZW50IGluc3RhbnRpYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByZXNldFByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XHJcbiAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IGN0b3IuUHJvcGVydGllcztcclxuICAgICAgICBpZiAoIXByb3BlcnRpZXMpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSBwcm9wZXJ0aWVzW25hbWVdLmRlZmF1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgQ29tcG9uZW50LnJlc2V0UHJvcGVydGllc30gaW5zdGVhZC4gKi9cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc2V0UHJvcGVydGllcygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZSB0aGUgcHJvcGVydGllcyBvbiB0aGlzIGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEB0aHJvd3MgSWYgYW55IG9mIHRoZSByZXF1aXJlZCBwcm9wZXJ0aWVzIGlzbid0IGluaXRpYWxpemVkXHJcbiAgICAgKiBvbiB0aGlzIGluc3RhbmNlLlxyXG4gICAgICovXHJcbiAgICB2YWxpZGF0ZVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XHJcbiAgICAgICAgaWYgKCFjdG9yLlByb3BlcnRpZXMpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gY3Rvci5Qcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgIGlmICghY3Rvci5Qcm9wZXJ0aWVzW25hbWVdLnJlcXVpcmVkKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmICghdGhpc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9wZXJ0eSAnJHtuYW1lfScgaXMgcmVxdWlyZWQgYnV0IHdhcyBub3QgaW5pdGlhbGl6ZWRgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYHRydWVgIGlmIHRoZSBjb21wb25lbnQgaXMgZGVzdHJveWVkLCBgZmFsc2VgIG90aGVyd2lzZS5cclxuICAgICAqXHJcbiAgICAgKiBJZiB7QGxpbmsgV29uZGVybGFuZEVuZ2luZS5lcmFzZVByb3RvdHlwZU9uRGVzdHJveX0gaXMgYHRydWVgLFxyXG4gICAgICogcmVhZGluZyBhIGN1c3RvbSBwcm9wZXJ0eSB3aWxsIG5vdCB3b3JrOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBlbmdpbmUuZXJhc2VQcm90b3R5cGVPbkRlc3Ryb3kgPSB0cnVlO1xyXG4gICAgICpcclxuICAgICAqIGNvbnN0IGNvbXAgPSBvYmouYWRkQ29tcG9uZW50KCdtZXNoJyk7XHJcbiAgICAgKiBjb21wLmN1c3RvbVBhcmFtID0gJ0hlbGxvIFdvcmxkISc7XHJcbiAgICAgKlxyXG4gICAgICogY29uc29sZS5sb2coY29tcC5pc0Rlc3Ryb3llZCk7IC8vIFByaW50cyBgZmFsc2VgXHJcbiAgICAgKiBjb21wLmRlc3Ryb3koKTtcclxuICAgICAqIGNvbnNvbGUubG9nKGNvbXAuaXNEZXN0cm95ZWQpOyAvLyBQcmludHMgYHRydWVgXHJcbiAgICAgKiBjb25zb2xlLmxvZyhjb21wLmN1c3RvbVBhcmFtKTsgLy8gVGhyb3dzIGFuIGVycm9yXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjFcclxuICAgICAqL1xyXG4gICAgZ2V0IGlzRGVzdHJveWVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA8IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXIgdGhlIGNvbXBvbmVudCB7QGxpbmsgQ29tcG9uZW50LmluaXR9IG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBVc2UgdGhpcyBtZXRob2QgaW5zdGVhZCBvZiBkaXJlY3RseSBjYWxsaW5nIHtAbGluayBDb21wb25lbnQuaW5pdH0sXHJcbiAgICAgKiBiZWNhdXNlIHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gaGFuZGxlciBmb3IgdGhlIHtAbGluayBDb21wb25lbnQuc3RhcnR9LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF90cmlnZ2VySW5pdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pbml0KSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUubG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGBFeGNlcHRpb24gZHVyaW5nICR7dGhpcy50eXBlfSBpbml0KCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBBcm0gb25BY3RpdmF0ZSgpIHdpdGggdGhlIGluaXRpYWwgc3RhcnQoKSBjYWxsICovXHJcbiAgICAgICAgY29uc3Qgb2xkQWN0aXZhdGUgPSB0aGlzLm9uQWN0aXZhdGU7XHJcbiAgICAgICAgdGhpcy5vbkFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uQWN0aXZhdGUgPSBvbGRBY3RpdmF0ZTtcclxuICAgICAgICAgICAgbGV0IGZhaWxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVByb3BlcnRpZXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUubG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGBFeGNlcHRpb24gZHVyaW5nICR7dGhpcy50eXBlfSB2YWxpZGF0ZVByb3BlcnRpZXMoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUubG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGUpO1xyXG4gICAgICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydD8uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gc3RhcnQoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUubG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGUpO1xyXG4gICAgICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZmFpbGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5vbkFjdGl2YXRlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gb25BY3RpdmF0ZSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC51cGRhdGV9IG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfdHJpZ2dlclVwZGF0ZShkdCkge1xyXG4gICAgICAgIGlmICghdGhpcy51cGRhdGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShkdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gdXBkYXRlKCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcclxuICAgICAgICAgICAgdGhpcy5lbmdpbmUubG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGUpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZW5naW5lLndhc20uX2RlYWN0aXZhdGVfY29tcG9uZW50X29uX2Vycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC5vbkFjdGl2YXRlfSBtZXRob2QuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX3RyaWdnZXJPbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5vbkFjdGl2YXRlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gb25BY3RpdmF0ZSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXIgdGhlIGNvbXBvbmVudCB7QGxpbmsgQ29tcG9uZW50Lm9uRGVhY3RpdmF0ZX0gbWV0aG9kLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF90cmlnZ2VyT25EZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5vbkRlYWN0aXZhdGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLm9uRGVhY3RpdmF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IG9uRGVhY3RpdmF0ZSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXIgdGhlIGNvbXBvbmVudCB7QGxpbmsgQ29tcG9uZW50Lm9uRGVzdHJveX0gbWV0aG9kLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF90cmlnZ2VyT25EZXN0cm95KCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9uRGVzdHJveSlcclxuICAgICAgICAgICAgICAgIHRoaXMub25EZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmxvZy5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCBgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gb25EZXN0cm95KCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcclxuICAgICAgICAgICAgdGhpcy5lbmdpbmUubG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9lbmdpbmUuX2Rlc3Ryb3lDb21wb25lbnQodGhpcyk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIENvbXBvbmVudHMgbXVzdCBiZSByZWdpc3RlcmVkIGJlZm9yZSBsb2FkaW5nIC8gYXBwZW5kaW5nIGEgc2NlbmUuXHJcbiAqXHJcbiAqIEl0J3MgcG9zc2libGUgdG8gZW5kIHVwIHdpdGggYSBicm9rZW4gY29tcG9uZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XHJcbiAqXHJcbiAqIC0gQ29tcG9uZW50IHdhc24ndCByZWdpc3RlcmVkIHdoZW4gdGhlIHNjZW5lIHdhcyBsb2FkZWRcclxuICogLSBDb21wb25lbnQgaW5zdGFudGlhdGlvbiBmYWlsZWRcclxuICpcclxuICogVGhpcyBkdW1teSBjb21wb25lbnQgaXMgdGh1cyB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgYnkgdGhlIGVuZ2luZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBCcm9rZW5Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ19fYnJva2VuLWNvbXBvbmVudF9fJztcclxufVxyXG4vKipcclxuICogTWVyZ2UgdGhlIGFzY2VuZGFudCBwcm9wZXJ0aWVzIG9mIGNsYXNzXHJcbiAqXHJcbiAqIFRoaXMgbWV0aG9kIHdhbGtzIHRoZSBwcm90b3R5cGUgY2hhaW4sIGFuZCBtZXJnZXNcclxuICogYWxsIHRoZSBwcm9wZXJ0aWVzIGZvdW5kIGluIHBhcmVudCBjb21wb25lbnRzLlxyXG4gKlxyXG4gKiBFeGFtcGxlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQge1Byb3BlcnR5LCBpbmhlcml0UHJvcGVydGllc30gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuICpcclxuICogY2xhc3MgUGFyZW50IHtcclxuICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0geyBwYXJlbnRQcm9wOiBQcm9wZXJ0eS5zdHJpbmcoJ3BhcmVudCcpIH07XHJcbiAqIH1cclxuICpcclxuICogY2xhc3MgQ2hpbGQgZXh0ZW5kcyBQYXJlbnQge1xyXG4gKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7IGNoaWxkUHJvcDogUHJvcGVydHkuc3RyaW5nKCdjaGlsZCcpIH07XHJcbiAqIH1cclxuICogaW5oZXJpdFByb3BlcnRpZXMoQ2hpbGQpO1xyXG4gKiBgYGBcclxuICpcclxuICogQHBhcmFtIHRhcmdldCBUaGUgY2xhc3MgaW4gd2hpY2ggcHJvcGVydGllcyBzaG91bGQgYmUgbWVyZ2VkXHJcbiAqXHJcbiAqIEBoaWRkZW5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmhlcml0UHJvcGVydGllcyh0YXJnZXQpIHtcclxuICAgIGlmICghdGFyZ2V0LlR5cGVOYW1lKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGNvbnN0IGNoYWluID0gW107XHJcbiAgICBsZXQgY3VyciA9IHRhcmdldDtcclxuICAgIHdoaWxlIChjdXJyICYmICFpc0Jhc2VDb21wb25lbnRDbGFzcyhjdXJyKSkge1xyXG4gICAgICAgIGNvbnN0IGNvbXAgPSBjdXJyO1xyXG4gICAgICAgIC8qIFN0b3AgYXQgdGhlIGZpcnN0IGNsYXNzIHRoYXQgZG9lc24ndCByZXF1aXJlIHByb3BlcnRpZXMgbWVyZ2luZyAqL1xyXG4gICAgICAgIGNvbnN0IG5lZWRzTWVyZ2UgPSBjb21wLmhhc093blByb3BlcnR5KCdJbmhlcml0UHJvcGVydGllcycpXHJcbiAgICAgICAgICAgID8gY29tcC5Jbmhlcml0UHJvcGVydGllc1xyXG4gICAgICAgICAgICA6IHRydWU7XHJcbiAgICAgICAgaWYgKCFuZWVkc01lcmdlKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBpZiAoY29tcC5UeXBlTmFtZSAmJiBjb21wLmhhc093blByb3BlcnR5KCdQcm9wZXJ0aWVzJykpIHtcclxuICAgICAgICAgICAgY2hhaW4ucHVzaChjb21wLlByb3BlcnRpZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJyID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGN1cnIpO1xyXG4gICAgfVxyXG4gICAgLyogTm8gcHJvdG90eXBlIG1lcmdlIGlzIG5lZWRlZC4gKi9cclxuICAgIGlmIChjaGFpbi5sZW5ndGggPD0gMSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICBjb25zdCBtZXJnZWQgPSB7fTtcclxuICAgIGZvciAobGV0IGkgPSBjaGFpbi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24obWVyZ2VkLCBjaGFpbltpXSk7XHJcbiAgICB9XHJcbiAgICB0YXJnZXQuUHJvcGVydGllcyA9IG1lcmdlZDtcclxufVxyXG4vKipcclxuICogTmF0aXZlIGNvbGxpc2lvbiBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBjb2xsaXNpb24gY29tcG9uZW50IGluc3RhbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbGxpc2lvbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnY29sbGlzaW9uJztcclxuICAgIC8qKiBDb2xsaXNpb24gY29tcG9uZW50IGNvbGxpZGVyICovXHJcbiAgICBnZXQgY29sbGlkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X2dldF9jb2xsaWRlcih0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBjb2xsaXNpb24gY29tcG9uZW50IGNvbGxpZGVyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb2xsaWRlciBDb2xsaWRlciBvZiB0aGUgY29sbGlzaW9uIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgc2V0IGNvbGxpZGVyKGNvbGxpZGVyKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfc2V0X2NvbGxpZGVyKHRoaXMuX2lkLCBjb2xsaWRlcik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbGxpc2lvbiBjb21wb25lbnQgZXh0ZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBJZiB7QGxpbmsgY29sbGlkZXJ9IHJldHVybnMge0BsaW5rIENvbGxpZGVyLlNwaGVyZX0sIG9ubHkgdGhlIGZpcnN0XHJcbiAgICAgKiBjb21wb25lbnQgb2YgdGhlIHJldHVybmVkIHZlY3RvciBpcyB1c2VkLlxyXG4gICAgICovXHJcbiAgICBnZXQgZXh0ZW50cygpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfZXh0ZW50cyh0aGlzLl9pZCksIDMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgY29sbGlzaW9uIGNvbXBvbmVudCBleHRlbnRzLlxyXG4gICAgICpcclxuICAgICAqIElmIHtAbGluayBjb2xsaWRlcn0gcmV0dXJucyB7QGxpbmsgQ29sbGlkZXIuU3BoZXJlfSwgb25seSB0aGUgZmlyc3RcclxuICAgICAqIGNvbXBvbmVudCBvZiB0aGUgcGFzc2VkIHZlY3RvciBpcyB1c2VkLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIC8vIFNwYW5zIDEgdW5pdCBvbiB0aGUgeC1heGlzLCAyIG9uIHRoZSB5LWF4aXMsIDMgb24gdGhlIHotYXhpcy5cclxuICAgICAqIGNvbGxpc2lvbi5leHRlbnQgPSBbMSwgMiwgM107XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZXh0ZW50cyBFeHRlbnRzIG9mIHRoZSBjb2xsaXNpb24gY29tcG9uZW50LCBleHBlY3RzIGFcclxuICAgICAqICAgICAgMyBjb21wb25lbnQgYXJyYXkuXHJcbiAgICAgKi9cclxuICAgIHNldCBleHRlbnRzKGV4dGVudHMpIHtcclxuICAgICAgICB0aGlzLmV4dGVudHMuc2V0KGV4dGVudHMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgY29sbGlzaW9uIGNvbXBvbmVudCByYWRpdXMuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgSWYge0BsaW5rIGNvbGxpZGVyfSBpcyBub3Qge0BsaW5rIENvbGxpZGVyLlNwaGVyZX0sIHRoZSByZXR1cm5lZCB2YWx1ZVxyXG4gICAgICogY29ycmVzcG9uZHMgdG8gdGhlIHJhZGl1cyBvZiBhIHNwaGVyZSBlbmNsb3NpbmcgdGhlIHNoYXBlLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIHNwaGVyZS5yYWRpdXMgPSAzLjA7XHJcbiAgICAgKiBjb25zb2xlLmxvZyhzcGhlcmUucmFkaXVzKTsgLy8gMy4wXHJcbiAgICAgKlxyXG4gICAgICogYm94LmV4dGVudHMgPSBbMi4wLCAyLjAsIDIuMF07XHJcbiAgICAgKiBjb25zb2xlLmxvZyhib3gucmFkaXVzKTsgLy8gMS43MzIuLi5cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgZ2V0IHJhZGl1cygpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgaWYgKHRoaXMuY29sbGlkZXIgPT09IENvbGxpZGVyLlNwaGVyZSlcclxuICAgICAgICAgICAgcmV0dXJuIHdhc20uSEVBUEYzMlt3YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X2dldF9leHRlbnRzKHRoaXMuX2lkKSA+PiAyXTtcclxuICAgICAgICBjb25zdCBleHRlbnRzID0gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X2dldF9leHRlbnRzKHRoaXMuX2lkKSwgMyk7XHJcbiAgICAgICAgY29uc3QgeDIgPSBleHRlbnRzWzBdICogZXh0ZW50c1swXTtcclxuICAgICAgICBjb25zdCB5MiA9IGV4dGVudHNbMV0gKiBleHRlbnRzWzFdO1xyXG4gICAgICAgIGNvbnN0IHoyID0gZXh0ZW50c1syXSAqIGV4dGVudHNbMl07XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh4MiArIHkyICsgejIpIC8gMjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGNvbGxpc2lvbiBjb21wb25lbnQgcmFkaXVzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByYWRpdXMgUmFkaXVzIG9mIHRoZSBjb2xsaXNpb24gY29tcG9uZW50XHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgSWYge0BsaW5rIGNvbGxpZGVyfSBpcyBub3Qge0BsaW5rIENvbGxpZGVyLlNwaGVyZX0sXHJcbiAgICAgKiB0aGUgZXh0ZW50cyBhcmUgc2V0IHRvIGZvcm0gYSBzcXVhcmUgdGhhdCBmaXRzIGEgc3BoZXJlIHdpdGggdGhlIHByb3ZpZGVkIHJhZGl1cy5cclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBhYWJiQ29sbGlzaW9uLnJhZGl1cyA9IDIuMDsgLy8gQUFCQiBmaXRzIGEgc3BoZXJlIG9mIHJhZGl1cyAyLjBcclxuICAgICAqIGJveENvbGxpc2lvbi5yYWRpdXMgPSAzLjA7IC8vIEJveCBub3cgZml0cyBhIHNwaGVyZSBvZiByYWRpdXMgMy4wLCBrZWVwaW5nIG9yaWVudGF0aW9uXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIHNldCByYWRpdXMocmFkaXVzKSB7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5jb2xsaWRlciA9PT0gQ29sbGlkZXIuU3BoZXJlID8gcmFkaXVzIDogKDIgKiByYWRpdXMpIC8gU1FSVF8zO1xyXG4gICAgICAgIHRoaXMuZXh0ZW50cy5zZXQoW2xlbmd0aCwgbGVuZ3RoLCBsZW5ndGhdKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29sbGlzaW9uIGNvbXBvbmVudCBncm91cC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgZ3JvdXBzIGlzIGEgYml0bWFzayB0aGF0IGlzIGNvbXBhcmVkIHRvIG90aGVyIGNvbXBvbmVudHMgaW4ge0BsaW5rIENvbGxpc2lvbkNvbXBvbmVudCNxdWVyeU92ZXJsYXBzfVxyXG4gICAgICogb3IgdGhlIGdyb3VwIGluIHtAbGluayBTY2VuZSNyYXlDYXN0fS5cclxuICAgICAqXHJcbiAgICAgKiBDb2xsaWRlcnMgdGhhdCBoYXZlIG5vIGNvbW1vbiBncm91cHMgd2lsbCBub3Qgb3ZlcmxhcCB3aXRoIGVhY2ggb3RoZXIuIElmIGEgY29sbGlkZXJcclxuICAgICAqIGhhcyBub25lIG9mIHRoZSBncm91cHMgc2V0IGZvciB7QGxpbmsgU2NlbmUjcmF5Q2FzdH0sIHRoZSByYXkgd2lsbCBub3QgaGl0IGl0LlxyXG4gICAgICpcclxuICAgICAqIEVhY2ggYml0IHJlcHJlc2VudHMgYmVsb25naW5nIHRvIGEgZ3JvdXAsIHNlZSBleGFtcGxlLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgICAvLyBjIGJlbG9uZ3MgdG8gZ3JvdXAgMlxyXG4gICAgICogICAgYy5ncm91cCA9ICgxIDw8IDIpO1xyXG4gICAgICpcclxuICAgICAqICAgIC8vIGMgYmVsb25ncyB0byBncm91cCAwXHJcbiAgICAgKiAgICBjLmdyb3VwID0gKDEgPDwgMCk7XHJcbiAgICAgKlxyXG4gICAgICogICAgLy8gYyBiZWxvbmdzIHRvIGdyb3VwIDAgKmFuZCogMlxyXG4gICAgICogICAgYy5ncm91cCA9ICgxIDw8IDApIHwgKDEgPDwgMik7XHJcbiAgICAgKlxyXG4gICAgICogICAgKGMuZ3JvdXAgJiAoMSA8PCAyKSkgIT0gMDsgLy8gdHJ1ZVxyXG4gICAgICogICAgKGMuZ3JvdXAgJiAoMSA8PCA3KSkgIT0gMDsgLy8gZmFsc2VcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBnZXQgZ3JvdXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X2dldF9ncm91cCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBjb2xsaXNpb24gY29tcG9uZW50IGdyb3VwLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBncm91cCBHcm91cCBtYXNrIG9mIHRoZSBjb2xsaXNpb24gY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBzZXQgZ3JvdXAoZ3JvdXApIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9zZXRfZ3JvdXAodGhpcy5faWQsIGdyb3VwKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUXVlcnkgb3ZlcmxhcHBpbmcgb2JqZWN0cy5cclxuICAgICAqXHJcbiAgICAgKiBVc2FnZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogY29uc3QgY29sbGlzaW9uID0gb2JqZWN0LmdldENvbXBvbmVudCgnY29sbGlzaW9uJyk7XHJcbiAgICAgKiBjb25zdCBvdmVybGFwcyA9IGNvbGxpc2lvbi5xdWVyeU92ZXJsYXBzKCk7XHJcbiAgICAgKiBmb3IoY29uc3Qgb3RoZXJDb2xsaXNpb24gb2Ygb3ZlcmxhcHMpIHtcclxuICAgICAqICAgICBjb25zdCBvdGhlck9iamVjdCA9IG90aGVyQ29sbGlzaW9uLm9iamVjdDtcclxuICAgICAqICAgICBjb25zb2xlLmxvZyhgQ29sbGlzaW9uIHdpdGggb2JqZWN0ICR7b3RoZXJPYmplY3Qub2JqZWN0SWR9YCk7XHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBDb2xsaXNpb24gY29tcG9uZW50cyBvdmVybGFwcGluZyB0aGlzIGNvbGxpZGVyLlxyXG4gICAgICovXHJcbiAgICBxdWVyeU92ZXJsYXBzKCkge1xyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfcXVlcnlfb3ZlcmxhcHModGhpcy5faWQsIHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtLCB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbVNpemUgPj4gMSk7XHJcbiAgICAgICAgY29uc3Qgb3ZlcmxhcHMgPSBuZXcgQXJyYXkoY291bnQpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICBvdmVybGFwc1tpXSA9IG5ldyBDb2xsaXNpb25Db21wb25lbnQodGhpcy5fZW5naW5lLCB0aGlzLl9tYW5hZ2VyLCB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbVVpbnQxNltpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdmVybGFwcztcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgQ29sbGlzaW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xsaWRlclwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIENvbGxpc2lvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwiZXh0ZW50c1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIENvbGxpc2lvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JvdXBcIiwgbnVsbCk7XHJcbi8qKlxyXG4gKiBOYXRpdmUgdGV4dCBjb21wb25lbnRcclxuICpcclxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgbmF0aXZlIHRleHQgY29tcG9uZW50IGluc3RhbmNlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGV4dENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndGV4dCc7XHJcbiAgICAvKiogVGV4dCBjb21wb25lbnQgYWxpZ25tZW50LiAqL1xyXG4gICAgZ2V0IGFsaWdubWVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9ob3Jpem9udGFsX2FsaWdubWVudCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCBhbGlnbm1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFsaWdubWVudCBBbGlnbm1lbnQgZm9yIHRoZSB0ZXh0IGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgc2V0IGFsaWdubWVudChhbGlnbm1lbnQpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfc2V0X2hvcml6b250YWxfYWxpZ25tZW50KHRoaXMuX2lkLCBhbGlnbm1lbnQpO1xyXG4gICAgfVxyXG4gICAgLyoqIFRleHQgY29tcG9uZW50IGp1c3RpZmljYXRpb24uICovXHJcbiAgICBnZXQganVzdGlmaWNhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF92ZXJ0aWNhbF9hbGlnbm1lbnQodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQganVzdGlmaWNhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ganVzdGlmaWNhdGlvbiBKdXN0aWZpY2F0aW9uIGZvciB0aGUgdGV4dCBjb21wb25lbnQuXHJcbiAgICAgKi9cclxuICAgIHNldCBqdXN0aWZpY2F0aW9uKGp1c3RpZmljYXRpb24pIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfc2V0X3ZlcnRpY2FsX2FsaWdubWVudCh0aGlzLl9pZCwganVzdGlmaWNhdGlvbik7XHJcbiAgICB9XHJcbiAgICAvKiogVGV4dCBjb21wb25lbnQgY2hhcmFjdGVyIHNwYWNpbmcuICovXHJcbiAgICBnZXQgY2hhcmFjdGVyU3BhY2luZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9jaGFyYWN0ZXJfc3BhY2luZyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCBjaGFyYWN0ZXIgc3BhY2luZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc3BhY2luZyBDaGFyYWN0ZXIgc3BhY2luZyBmb3IgdGhlIHRleHQgY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBzZXQgY2hhcmFjdGVyU3BhY2luZyhzcGFjaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF9jaGFyYWN0ZXJfc3BhY2luZyh0aGlzLl9pZCwgc3BhY2luZyk7XHJcbiAgICB9XHJcbiAgICAvKiogVGV4dCBjb21wb25lbnQgbGluZSBzcGFjaW5nLiAqL1xyXG4gICAgZ2V0IGxpbmVTcGFjaW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfZ2V0X2xpbmVfc3BhY2luZyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCBsaW5lIHNwYWNpbmdcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc3BhY2luZyBMaW5lIHNwYWNpbmcgZm9yIHRoZSB0ZXh0IGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBzZXQgbGluZVNwYWNpbmcoc3BhY2luZykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfbGluZV9zcGFjaW5nKHRoaXMuX2lkLCBzcGFjaW5nKTtcclxuICAgIH1cclxuICAgIC8qKiBUZXh0IGNvbXBvbmVudCBlZmZlY3QuICovXHJcbiAgICBnZXQgZWZmZWN0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfZ2V0X2VmZmVjdCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCBlZmZlY3RcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZWZmZWN0IEVmZmVjdCBmb3IgdGhlIHRleHQgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHNldCBlZmZlY3QoZWZmZWN0KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF9lZmZlY3QodGhpcy5faWQsIGVmZmVjdCk7XHJcbiAgICB9XHJcbiAgICAvKiogVGV4dCBjb21wb25lbnQgdGV4dC4gKi9cclxuICAgIGdldCB0ZXh0KCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfdGV4dCh0aGlzLl9pZCk7XHJcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKHB0cik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCB0ZXh0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0ZXh0IFRleHQgb2YgdGhlIHRleHQgY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBzZXQgdGV4dCh0ZXh0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF90ZXh0KHRoaXMuX2lkLCB3YXNtLnRlbXBVVEY4KHRleHQudG9TdHJpbmcoKSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbWF0ZXJpYWwgdG8gcmVuZGVyIHRoZSB0ZXh0IHdpdGguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG1hdGVyaWFsIE5ldyBtYXRlcmlhbC5cclxuICAgICAqL1xyXG4gICAgc2V0IG1hdGVyaWFsKG1hdGVyaWFsKSB7XHJcbiAgICAgICAgY29uc3QgbWF0SW5kZXggPSBtYXRlcmlhbCA/IG1hdGVyaWFsLl9pbmRleCA6IDA7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF9tYXRlcmlhbCh0aGlzLl9pZCwgbWF0SW5kZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqIE1hdGVyaWFsIHVzZWQgdG8gcmVuZGVyIHRoZSB0ZXh0LiAqL1xyXG4gICAgZ2V0IG1hdGVyaWFsKCkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9tYXRlcmlhbCh0aGlzLl9pZCk7XHJcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBNYXRlcmlhbCh0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcImFsaWdubWVudFwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcImp1c3RpZmljYXRpb25cIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJjaGFyYWN0ZXJTcGFjaW5nXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwibGluZVNwYWNpbmdcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJlZmZlY3RcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0ZXh0XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF0ZXJpYWxcIiwgbnVsbCk7XHJcbi8qKlxyXG4gKiBOYXRpdmUgdmlldyBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSB2aWV3IGNvbXBvbmVudCBpbnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWaWV3Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd2aWV3JztcclxuICAgIC8qKiBQcm9qZWN0aW9uIG1hdHJpeC4gKi9cclxuICAgIGdldCBwcm9qZWN0aW9uTWF0cml4KCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF92aWV3X2NvbXBvbmVudF9nZXRfcHJvamVjdGlvbl9tYXRyaXgodGhpcy5faWQpLCAxNik7XHJcbiAgICB9XHJcbiAgICAvKiogVmlld0NvbXBvbmVudCBuZWFyIGNsaXBwaW5nIHBsYW5lIHZhbHVlLiAqL1xyXG4gICAgZ2V0IG5lYXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9nZXRfbmVhcih0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBuZWFyIGNsaXBwaW5nIHBsYW5lIGRpc3RhbmNlIGZvciB0aGUgdmlldy5cclxuICAgICAqXHJcbiAgICAgKiBJZiBhbiBYUiBzZXNzaW9uIGlzIGFjdGl2ZSwgdGhlIGNoYW5nZSB3aWxsIGFwcGx5IGluIHRoZVxyXG4gICAgICogZm9sbG93aW5nIGZyYW1lLCBvdGhlcndpc2UgdGhlIGNoYW5nZSBpcyBpbW1lZGlhdGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5lYXIgTmVhciBkZXB0aCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgc2V0IG5lYXIobmVhcikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9zZXRfbmVhcih0aGlzLl9pZCwgbmVhcik7XHJcbiAgICB9XHJcbiAgICAvKiogRmFyIGNsaXBwaW5nIHBsYW5lIHZhbHVlLiAqL1xyXG4gICAgZ2V0IGZhcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3ZpZXdfY29tcG9uZW50X2dldF9mYXIodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgZmFyIGNsaXBwaW5nIHBsYW5lIGRpc3RhbmNlIGZvciB0aGUgdmlldy5cclxuICAgICAqXHJcbiAgICAgKiBJZiBhbiBYUiBzZXNzaW9uIGlzIGFjdGl2ZSwgdGhlIGNoYW5nZSB3aWxsIGFwcGx5IGluIHRoZVxyXG4gICAgICogZm9sbG93aW5nIGZyYW1lLCBvdGhlcndpc2UgdGhlIGNoYW5nZSBpcyBpbW1lZGlhdGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGZhciBOZWFyIGRlcHRoIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBzZXQgZmFyKGZhcikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9zZXRfZmFyKHRoaXMuX2lkLCBmYXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGhvcml6b250YWwgZmllbGQgb2YgdmlldyBmb3IgdGhlIHZpZXcsICoqaW4gZGVncmVlcyoqLlxyXG4gICAgICpcclxuICAgICAqIElmIGFuIFhSIHNlc3Npb24gaXMgYWN0aXZlLCB0aGlzIHJldHVybnMgdGhlIGZpZWxkIG9mIHZpZXcgcmVwb3J0ZWQgYnlcclxuICAgICAqIHRoZSBkZXZpY2UsIHJlZ2FyZGxlc3Mgb2YgdGhlIGZvdiB0aGF0IHdhcyBzZXQuXHJcbiAgICAgKi9cclxuICAgIGdldCBmb3YoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9nZXRfZm92KHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBob3Jpem9udGFsIGZpZWxkIG9mIHZpZXcgZm9yIHRoZSB2aWV3LCAqKmluIGRlZ3JlZXMqKi5cclxuICAgICAqXHJcbiAgICAgKiBJZiBhbiBYUiBzZXNzaW9uIGlzIGFjdGl2ZSwgdGhlIGZpZWxkIG9mIHZpZXcgcmVwb3J0ZWQgYnkgdGhlIGRldmljZSBpc1xyXG4gICAgICogdXNlZCBhbmQgdGhpcyB2YWx1ZSBpcyBpZ25vcmVkLiBBZnRlciB0aGUgWFIgc2Vzc2lvbiBlbmRzLCB0aGUgbmV3IHZhbHVlXHJcbiAgICAgKiBpcyBhcHBsaWVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBmb3YgSG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3LCAqKmluIGRlZ3JlZXMqKi5cclxuICAgICAqL1xyXG4gICAgc2V0IGZvdihmb3YpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfc2V0X2Zvdih0aGlzLl9pZCwgZm92KTtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIGVudW1lcmFibGUoKVxyXG5dLCBWaWV3Q29tcG9uZW50LnByb3RvdHlwZSwgXCJwcm9qZWN0aW9uTWF0cml4XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgVmlld0NvbXBvbmVudC5wcm90b3R5cGUsIFwibmVhclwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFZpZXdDb21wb25lbnQucHJvdG90eXBlLCBcImZhclwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFZpZXdDb21wb25lbnQucHJvdG90eXBlLCBcImZvdlwiLCBudWxsKTtcclxuLyoqXHJcbiAqIE5hdGl2ZSBpbnB1dCBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBpbnB1dCBjb21wb25lbnQgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSW5wdXRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2lucHV0JztcclxuICAgIC8qKiBJbnB1dCBjb21wb25lbnQgdHlwZSAqL1xyXG4gICAgZ2V0IGlucHV0VHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2lucHV0X2NvbXBvbmVudF9nZXRfdHlwZSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBpbnB1dCBjb21wb25lbnQgdHlwZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW1zIE5ldyBpbnB1dCBjb21wb25lbnQgdHlwZS5cclxuICAgICAqL1xyXG4gICAgc2V0IGlucHV0VHlwZSh0eXBlKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2lucHV0X2NvbXBvbmVudF9zZXRfdHlwZSh0aGlzLl9pZCwgdHlwZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdlYlhSIERldmljZSBBUEkgaW5wdXQgc291cmNlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGlucHV0IGNvbXBvbmVudCxcclxuICAgICAqIGlmIHR5cGUge0BsaW5rIElucHV0VHlwZS5Db250cm9sbGVyTGVmdH0gb3Ige0BsaW5rIElucHV0VHlwZS5Db250cm9sbGVyUmlnaHR9LlxyXG4gICAgICovXHJcbiAgICBnZXQgeHJJbnB1dFNvdXJjZSgpIHtcclxuICAgICAgICBjb25zdCB4ciA9IHRoaXMuX2VuZ2luZS54cjtcclxuICAgICAgICBpZiAoIXhyKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBmb3IgKGxldCBpbnB1dFNvdXJjZSBvZiB4ci5zZXNzaW9uLmlucHV0U291cmNlcykge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSB0aGlzLmhhbmRlZG5lc3MpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dFNvdXJjZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogJ2xlZnQnLCAncmlnaHQnIG9yIGBudWxsYCBkZXBlbmRpbmcgb24gdGhlIHtAbGluayBJbnB1dENvbXBvbmVudCNpbnB1dFR5cGV9LlxyXG4gICAgICovXHJcbiAgICBnZXQgaGFuZGVkbmVzcygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dFR5cGUgPSB0aGlzLmlucHV0VHlwZTtcclxuICAgICAgICBpZiAoaW5wdXRUeXBlID09IElucHV0VHlwZS5Db250cm9sbGVyUmlnaHQgfHxcclxuICAgICAgICAgICAgaW5wdXRUeXBlID09IElucHV0VHlwZS5SYXlSaWdodCB8fFxyXG4gICAgICAgICAgICBpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLkV5ZVJpZ2h0KVxyXG4gICAgICAgICAgICByZXR1cm4gJ3JpZ2h0JztcclxuICAgICAgICBpZiAoaW5wdXRUeXBlID09IElucHV0VHlwZS5Db250cm9sbGVyTGVmdCB8fFxyXG4gICAgICAgICAgICBpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLlJheUxlZnQgfHxcclxuICAgICAgICAgICAgaW5wdXRUeXBlID09IElucHV0VHlwZS5FeWVMZWZ0KVxyXG4gICAgICAgICAgICByZXR1cm4gJ2xlZnQnO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBJbnB1dENvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5wdXRUeXBlXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIGVudW1lcmFibGUoKVxyXG5dLCBJbnB1dENvbXBvbmVudC5wcm90b3R5cGUsIFwieHJJbnB1dFNvdXJjZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBlbnVtZXJhYmxlKClcclxuXSwgSW5wdXRDb21wb25lbnQucHJvdG90eXBlLCBcImhhbmRlZG5lc3NcIiwgbnVsbCk7XHJcbi8qKlxyXG4gKiBOYXRpdmUgbGlnaHQgY29tcG9uZW50LlxyXG4gKlxyXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgbGlnaHQgY29tcG9uZW50IGluc3RhbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExpZ2h0Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdsaWdodCc7XHJcbiAgICBnZXRDb2xvcihvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfY29sb3IodGhpcy5faWQpIC8gNDsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbGlnaHQgY29sb3IuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGMgTmV3IGNvbG9yIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldENvbG9yKGMpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9jb2xvcih0aGlzLl9pZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyXSA9IGNbMF07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDFdID0gY1sxXTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMl0gPSBjWzJdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBWaWV3IG9uIHRoZSBsaWdodCBjb2xvci5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBQcmVmZXIgdG8gdXNlIHtAbGluayBnZXRDb2xvcn0gaW4gcGVyZm9ybWFuY2UtY3JpdGljYWwgY29kZS5cclxuICAgICAqL1xyXG4gICAgZ2V0IGNvbG9yKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X2NvbG9yKHRoaXMuX2lkKSwgMyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsaWdodCBjb2xvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYyBDb2xvciBvZiB0aGUgbGlnaHQgY29tcG9uZW50LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFByZWZlciB0byB1c2Uge0BsaW5rIHNldENvbG9yfSBpbiBwZXJmb3JtYW5jZS1jcml0aWNhbCBjb2RlLlxyXG4gICAgICovXHJcbiAgICBzZXQgY29sb3IoYykge1xyXG4gICAgICAgIHRoaXMuY29sb3Iuc2V0KGMpO1xyXG4gICAgfVxyXG4gICAgLyoqIExpZ2h0IHR5cGUuICovXHJcbiAgICBnZXQgbGlnaHRUeXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF90eXBlKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxpZ2h0IHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxpZ2h0VHlwZSBUeXBlIG9mIHRoZSBsaWdodCBjb21wb25lbnQuXHJcbiAgICAgKi9cclxuICAgIHNldCBsaWdodFR5cGUodCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3R5cGUodGhpcy5faWQsIHQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMaWdodCBpbnRlbnNpdHkuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZ2V0IGludGVuc2l0eSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfaW50ZW5zaXR5KHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxpZ2h0IGludGVuc2l0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW50ZW5zaXR5IEludGVuc2l0eSBvZiB0aGUgbGlnaHQgY29tcG9uZW50LlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldCBpbnRlbnNpdHkoaW50ZW5zaXR5KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfaW50ZW5zaXR5KHRoaXMuX2lkLCBpbnRlbnNpdHkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXRlciBhbmdsZSBmb3Igc3BvdCBsaWdodHMsIGluIGRlZ3JlZXMuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZ2V0IG91dGVyQW5nbGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X291dGVyQW5nbGUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgb3V0ZXIgYW5nbGUgZm9yIHNwb3QgbGlnaHRzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhbmdsZSBPdXRlciBhbmdsZSwgaW4gZGVncmVlcy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXQgb3V0ZXJBbmdsZShhbmdsZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X291dGVyQW5nbGUodGhpcy5faWQsIGFuZ2xlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSW5uZXIgYW5nbGUgZm9yIHNwb3QgbGlnaHRzLCBpbiBkZWdyZWVzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGdldCBpbm5lckFuZ2xlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9pbm5lckFuZ2xlKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGlubmVyIGFuZ2xlIGZvciBzcG90IGxpZ2h0cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYW5nbGUgSW5uZXIgYW5nbGUsIGluIGRlZ3JlZXMuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgc2V0IGlubmVyQW5nbGUoYW5nbGUpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9pbm5lckFuZ2xlKHRoaXMuX2lkLCBhbmdsZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhlIGxpZ2h0IGNhc3RzIHNoYWRvd3MuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZ2V0IHNoYWRvd3MoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfc2hhZG93cyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3aGV0aGVyIHRoZSBsaWdodCBjYXN0cyBzaGFkb3dzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhlIGxpZ2h0IGNhc3RzIHNoYWRvd3MuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgc2V0IHNoYWRvd3MoYikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd3ModGhpcy5faWQsIGIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSYW5nZSBmb3Igc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBnZXQgc2hhZG93UmFuZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3NoYWRvd1JhbmdlKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHJhbmdlIGZvciBzaGFkb3dzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByYW5nZSBSYW5nZSBmb3Igc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXQgc2hhZG93UmFuZ2UocmFuZ2UpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dSYW5nZSh0aGlzLl9pZCwgcmFuZ2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBCaWFzIHZhbHVlIGZvciBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGdldCBzaGFkb3dCaWFzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dCaWFzKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGJpYXMgdmFsdWUgZm9yIHNoYWRvd3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGJpYXMgQmlhcyBmb3Igc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXQgc2hhZG93QmlhcyhiaWFzKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfc2hhZG93Qmlhcyh0aGlzLl9pZCwgYmlhcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE5vcm1hbCBiaWFzIHZhbHVlIGZvciBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGdldCBzaGFkb3dOb3JtYWxCaWFzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dOb3JtYWxCaWFzKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IG5vcm1hbCBiaWFzIHZhbHVlIGZvciBzaGFkb3dzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiaWFzIE5vcm1hbCBiaWFzIGZvciBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldCBzaGFkb3dOb3JtYWxCaWFzKGJpYXMpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dOb3JtYWxCaWFzKHRoaXMuX2lkLCBiaWFzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGV4ZWwgc2l6ZSBmb3Igc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBnZXQgc2hhZG93VGV4ZWxTaXplKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dUZXhlbFNpemUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4ZWwgc2l6ZSBmb3Igc2hhZG93cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc2l6ZSBUZXhlbCBzaXplIGZvciBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldCBzaGFkb3dUZXhlbFNpemUoc2l6ZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd1RleGVsU2l6ZSh0aGlzLl9pZCwgc2l6ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhc2NhZGUgY291bnQgZm9yIHtAbGluayBMaWdodFR5cGUuU3VufSBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGdldCBjYXNjYWRlQ291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X2Nhc2NhZGVDb3VudCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBjYXNjYWRlIGNvdW50IGZvciB7QGxpbmsgTGlnaHRUeXBlLlN1bn0gc2hhZG93cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY291bnQgQ2FzY2FkZSBjb3VudC5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXQgY2FzY2FkZUNvdW50KGNvdW50KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfY2FzY2FkZUNvdW50KHRoaXMuX2lkLCBjb3VudCk7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xvclwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsaWdodFR5cGVcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiaW50ZW5zaXR5XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcIm91dGVyQW5nbGVcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5uZXJBbmdsZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFkb3dzXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcInNoYWRvd1JhbmdlXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcInNoYWRvd0JpYXNcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhZG93Tm9ybWFsQmlhc1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFkb3dUZXhlbFNpemVcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiY2FzY2FkZUNvdW50XCIsIG51bGwpO1xyXG4vKipcclxuICogTmF0aXZlIGFuaW1hdGlvbiBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBhbmltYXRpb24gY29tcG9uZW50IGluc3RhbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnYW5pbWF0aW9uJztcclxuICAgIC8qKlxyXG4gICAgICogU2V0IGFuaW1hdGlvbiB0byBwbGF5LlxyXG4gICAgICpcclxuICAgICAqIE1ha2Ugc3VyZSB0byB7QGxpbmsgQW5pbWF0aW9uI3JldGFyZ2V0fSB0aGUgYW5pbWF0aW9uIHRvIGFmZmVjdCB0aGVcclxuICAgICAqIHJpZ2h0IG9iamVjdHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFuaW0gQW5pbWF0aW9uIHRvIHBsYXkuXHJcbiAgICAgKi9cclxuICAgIHNldCBhbmltYXRpb24oYW5pbSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3NldF9hbmltYXRpb24odGhpcy5faWQsIGFuaW0gPyBhbmltLl9pbmRleCA6IDApO1xyXG4gICAgfVxyXG4gICAgLyoqIEFuaW1hdGlvbiBzZXQgZm9yIHRoaXMgY29tcG9uZW50ICovXHJcbiAgICBnZXQgYW5pbWF0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfZ2V0X2FuaW1hdGlvbih0aGlzLl9pZCk7XHJcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBBbmltYXRpb24odGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgcGxheSBjb3VudC4gU2V0IHRvIGAwYCB0byBsb29wIGluZGVmaW5pdGVseS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcGxheUNvdW50IE51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIGFuaW1hdGlvbi5cclxuICAgICAqL1xyXG4gICAgc2V0IHBsYXlDb3VudChwbGF5Q291bnQpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9zZXRfcGxheUNvdW50KHRoaXMuX2lkLCBwbGF5Q291bnQpO1xyXG4gICAgfVxyXG4gICAgLyoqIE51bWJlciBvZiB0aW1lcyB0aGUgYW5pbWF0aW9uIGlzIHBsYXllZC4gKi9cclxuICAgIGdldCBwbGF5Q291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X2dldF9wbGF5Q291bnQodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgc3BlZWQuIFNldCB0byBuZWdhdGl2ZSB2YWx1ZXMgdG8gcnVuIHRoZSBhbmltYXRpb24gYmFja3dhcmRzLlxyXG4gICAgICpcclxuICAgICAqIFNldHRpbmcgc3BlZWQgaGFzIGFuIGltbWVkaWF0ZSBlZmZlY3QgZm9yIHRoZSBjdXJyZW50IGZyYW1lJ3MgdXBkYXRlXHJcbiAgICAgKiBhbmQgd2lsbCBjb250aW51ZSB3aXRoIHRoZSBzcGVlZCBmcm9tIHRoZSBjdXJyZW50IHBvaW50IGluIHRoZSBhbmltYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNwZWVkIE5ldyBzcGVlZCBhdCB3aGljaCB0byBwbGF5IHRoZSBhbmltYXRpb24uXHJcbiAgICAgKiBAc2luY2UgMC44LjEwXHJcbiAgICAgKi9cclxuICAgIHNldCBzcGVlZChzcGVlZCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3NldF9zcGVlZCh0aGlzLl9pZCwgc3BlZWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTcGVlZCBmYWN0b3IgYXQgd2hpY2ggdGhlIGFuaW1hdGlvbiBpcyBwbGF5ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC4xMFxyXG4gICAgICovXHJcbiAgICBnZXQgc3BlZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X2dldF9zcGVlZCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKiogQ3VycmVudCBwbGF5aW5nIHN0YXRlIG9mIHRoZSBhbmltYXRpb24gKi9cclxuICAgIGdldCBzdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc3RhdGUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQbGF5IGFuaW1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGUgYW5pbWF0aW9uIGlzIGN1cnJlbnRseSBwYXVzZWQsIHJlc3VtZXMgZnJvbSB0aGF0IHBvc2l0aW9uLiBJZiB0aGVcclxuICAgICAqIGFuaW1hdGlvbiBpcyBhbHJlYWR5IHBsYXlpbmcsIGRvZXMgbm90aGluZy5cclxuICAgICAqXHJcbiAgICAgKiBUbyByZXN0YXJ0IHRoZSBhbmltYXRpb24sIHtAbGluayBBbmltYXRpb25Db21wb25lbnQjc3RvcH0gaXQgZmlyc3QuXHJcbiAgICAgKi9cclxuICAgIHBsYXkoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfcGxheSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKiogU3RvcCBhbmltYXRpb24uICovXHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3N0b3AodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqIFBhdXNlIGFuaW1hdGlvbi4gKi9cclxuICAgIHBhdXNlKCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3BhdXNlKHRoaXMuX2lkKTtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgQW5pbWF0aW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmltYXRpb25cIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBBbmltYXRpb25Db21wb25lbnQucHJvdG90eXBlLCBcInBsYXlDb3VudFwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwic3BlZWRcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgZW51bWVyYWJsZSgpXHJcbl0sIEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhdGVcIiwgbnVsbCk7XHJcbi8qKlxyXG4gKiBOYXRpdmUgbWVzaCBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBtZXNoIGNvbXBvbmVudCBpbnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZXNoQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdtZXNoJztcclxuICAgIC8qKlxyXG4gICAgICogU2V0IG1hdGVyaWFsIHRvIHJlbmRlciB0aGUgbWVzaCB3aXRoLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBtYXRlcmlhbCBNYXRlcmlhbCB0byByZW5kZXIgdGhlIG1lc2ggd2l0aC5cclxuICAgICAqL1xyXG4gICAgc2V0IG1hdGVyaWFsKG1hdGVyaWFsKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X3NldF9tYXRlcmlhbCh0aGlzLl9pZCwgbWF0ZXJpYWwgPyBtYXRlcmlhbC5faW5kZXggOiAwKTtcclxuICAgIH1cclxuICAgIC8qKiBNYXRlcmlhbCB1c2VkIHRvIHJlbmRlciB0aGUgbWVzaC4gKi9cclxuICAgIGdldCBtYXRlcmlhbCgpIHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2NvbXBvbmVudF9nZXRfbWF0ZXJpYWwodGhpcy5faWQpO1xyXG4gICAgICAgIHJldHVybiBpZCA+IDAgPyBuZXcgTWF0ZXJpYWwodGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqIE1lc2ggcmVuZGVyZWQgYnkgdGhpcyBjb21wb25lbnQuICovXHJcbiAgICBnZXQgbWVzaCgpIHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2NvbXBvbmVudF9nZXRfbWVzaCh0aGlzLl9pZCk7XHJcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBNZXNoKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IG1lc2ggdG8gcmVuZGVyZWQgd2l0aCB0aGlzIGNvbXBvbmVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbWVzaCBNZXNoIHJlbmRlcmVkIGJ5IHRoaXMgY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBzZXQgbWVzaChtZXNoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X3NldF9tZXNoKHRoaXMuX2lkLCBtZXNoID8gbWVzaC5faW5kZXggOiAwKTtcclxuICAgIH1cclxuICAgIC8qKiBTa2luIGZvciB0aGlzIG1lc2ggY29tcG9uZW50LiAqL1xyXG4gICAgZ2V0IHNraW4oKSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfZ2V0X3NraW4odGhpcy5faWQpO1xyXG4gICAgICAgIHJldHVybiBpZCA+IDAgPyBuZXcgU2tpbih0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBza2luIHRvIHRyYW5zZm9ybSB0aGlzIG1lc2ggY29tcG9uZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBza2luIFNraW4gdG8gdXNlIGZvciByZW5kZXJpbmcgc2tpbm5lZCBtZXNoZXMuXHJcbiAgICAgKi9cclxuICAgIHNldCBza2luKHNraW4pIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfc2V0X3NraW4odGhpcy5faWQsIHNraW4gPyBza2luLl9pbmRleCA6IDApO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBNZXNoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXRlcmlhbFwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIE1lc2hDb21wb25lbnQucHJvdG90eXBlLCBcIm1lc2hcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBNZXNoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJza2luXCIsIG51bGwpO1xyXG4vKipcclxuICogRW51bSBmb3IgUGh5c2ljcyBheGVzIGxvY2tpbmdcclxuICpcclxuICogU2VlIHtAbGluayBQaHlzWENvbXBvbmVudC5hbmd1bGFyTG9ja0F4aXN9IGFuZCB7QGxpbmsgUGh5c1hDb21wb25lbnQubGluZWFyTG9ja0F4aXN9LlxyXG4gKi9cclxuZXhwb3J0IHZhciBMb2NrQXhpcztcclxuKGZ1bmN0aW9uIChMb2NrQXhpcykge1xyXG4gICAgLyoqXHJcbiAgICAgKiBObyBheGlzIHNlbGVjdGVkLlxyXG4gICAgICovXHJcbiAgICBMb2NrQXhpc1tMb2NrQXhpc1tcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKlggYXhpcyoqOlxyXG4gICAgICovXHJcbiAgICBMb2NrQXhpc1tMb2NrQXhpc1tcIlhcIl0gPSAxXSA9IFwiWFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKlkgYXhpcyoqOlxyXG4gICAgICovXHJcbiAgICBMb2NrQXhpc1tMb2NrQXhpc1tcIllcIl0gPSAyXSA9IFwiWVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKlogYXhpcyoqOlxyXG4gICAgICovXHJcbiAgICBMb2NrQXhpc1tMb2NrQXhpc1tcIlpcIl0gPSA0XSA9IFwiWlwiO1xyXG59KShMb2NrQXhpcyB8fCAoTG9ja0F4aXMgPSB7fSkpO1xyXG4vKipcclxuICogTmF0aXZlIHBoeXN4IHJpZ2lkIGJvZHkgY29tcG9uZW50LlxyXG4gKlxyXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgbWVzaCBjb21wb25lbnQgaW5zdGFuY2UuXHJcbiAqIE9ubHkgYXZhaWxhYmxlIHdoZW4gdXNpbmcgcGh5c3ggZW5hYmxlZCBydW50aW1lLCBzZWUgXCJQcm9qZWN0IFNldHRpbmdzID4gUnVudGltZVwiLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBoeXNYQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwaHlzeCc7XHJcbiAgICBnZXRUcmFuc2xhdGlvbk9mZnNldChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfb2Zmc2V0VHJhbnNsYXRpb24odGhpcy5faWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICBnZXRSb3RhdGlvbk9mZnNldChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfb2Zmc2V0VHJhbnNmb3JtKHRoaXMuX2lkKSA+PiAyOyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xyXG4gICAgICAgIG91dFszXSA9IHdhc20uSEVBUEYzMltwdHIgKyAzXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgaXMgc3RhdGljLlxyXG4gICAgICpcclxuICAgICAqIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSBvbmx5IHRha2VzIGVmZmVjdCBvbmNlIHRoZSBjb21wb25lbnRcclxuICAgICAqIHN3aXRjaGVzIGZyb20gaW5hY3RpdmUgdG8gYWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkgc2hvdWxkIGJlIHN0YXRpYy5cclxuICAgICAqL1xyXG4gICAgc2V0IHN0YXRpYyhiKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc3RhdGljKHRoaXMuX2lkLCBiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgaXMgc3RhdGljLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgcHJvcGVydHkgcmV0dXJucyB3aGV0aGVyIHRoZSByaWdpZCBib2R5IGlzICplZmZlY3RpdmVseSpcclxuICAgICAqIHN0YXRpYy4gSWYgc3RhdGljIHByb3BlcnR5IHdhcyBzZXQgd2hpbGUgdGhlIHJpZ2lkIGJvZHkgd2FzXHJcbiAgICAgKiBhY3RpdmUsIGl0IHdpbGwgbm90IHRha2UgZWZmZWN0IHVudGlsIHRoZSByaWdpZCBib2R5IGlzIHNldFxyXG4gICAgICogaW5hY3RpdmUgYW5kIGFjdGl2ZSBhZ2Fpbi4gVW50aWwgdGhlIGNvbXBvbmVudCBpcyBzZXQgaW5hY3RpdmUsXHJcbiAgICAgKiB0aGlzIGdldHRlciB3aWxsIHJldHVybiB3aGV0aGVyIHRoZSByaWdpZCBib2R5IGlzIGFjdHVhbGx5XHJcbiAgICAgKiBzdGF0aWMuXHJcbiAgICAgKi9cclxuICAgIGdldCBzdGF0aWMoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc3RhdGljKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRXF1aXZhbGVudCB0byB7QGxpbmsgUGh5c1hDb21wb25lbnQuZ2V0VHJhbnNsYXRpb25PZmZzZXR9LlxyXG4gICAgICpcclxuICAgICAqIEdpdmVzIGEgcXVpY2sgdmlldyBvZiB0aGUgb2Zmc2V0IGluIGEgZGVidWdnZXIuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgUHJlZmVyIHRvIHVzZSB7QGxpbmsgUGh5c1hDb21wb25lbnQuZ2V0VHJhbnNsYXRpb25PZmZzZXR9IGZvciBwZXJmb3JtYW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjFcclxuICAgICAqL1xyXG4gICAgZ2V0IHRyYW5zbGF0aW9uT2Zmc2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFRyYW5zbGF0aW9uT2Zmc2V0KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgb2Zmc2V0IHRyYW5zbGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBhcnJheSBtdXN0IGJlIGEgdmVjdG9yIG9mIGF0IGxlYXN0ICoqMyoqIGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoZSBjb21wb25lbnQgbXVzdCBiZSByZS1hY3RpdmF0ZWQgdG8gYXBwbHkgdGhlIGNoYW5nZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjFcclxuICAgICAqL1xyXG4gICAgc2V0IHRyYW5zbGF0aW9uT2Zmc2V0KG9mZnNldCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X29mZnNldFRyYW5zbGF0aW9uKHRoaXMuX2lkLCBvZmZzZXRbMF0sIG9mZnNldFsxXSwgb2Zmc2V0WzJdKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRXF1aXZhbGVudCB0byB7QGxpbmsgUGh5c1hDb21wb25lbnQuZ2V0Um90YXRpb25PZmZzZXR9LlxyXG4gICAgICpcclxuICAgICAqIEdpdmVzIGEgcXVpY2sgdmlldyBvZiB0aGUgb2Zmc2V0IGluIGEgZGVidWdnZXIuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgUHJlZmVyIHRvIHVzZSB7QGxpbmsgUGh5c1hDb21wb25lbnQuZ2V0Um90YXRpb25PZmZzZXR9IGZvciBwZXJmb3JtYW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjFcclxuICAgICAqL1xyXG4gICAgZ2V0IHJvdGF0aW9uT2Zmc2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFJvdGF0aW9uT2Zmc2V0KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgb2Zmc2V0IHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBhcnJheSBtdXN0IGJlIGEgcXVhdGVybmlvbiBvZiBhdCBsZWFzdCAqKjQqKiBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGUgY29tcG9uZW50IG11c3QgYmUgcmUtYWN0aXZhdGVkIHRvIGFwcGx5IHRoZSBjaGFuZ2UuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMS4xXHJcbiAgICAgKi9cclxuICAgIHNldCByb3RhdGlvbk9mZnNldChvZmZzZXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9vZmZzZXRSb3RhdGlvbih0aGlzLl9pZCwgb2Zmc2V0WzBdLCBvZmZzZXRbMV0sIG9mZnNldFsyXSwgb2Zmc2V0WzNdKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyByaWdpZCBib2R5IGlzIGtpbmVtYXRpYy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoZSByaWdpZCBib2R5IHNob3VsZCBiZSBraW5lbWF0aWMuXHJcbiAgICAgKi9cclxuICAgIHNldCBraW5lbWF0aWMoYikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2tpbmVtYXRpYyh0aGlzLl9pZCwgYik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5IGlzIGtpbmVtYXRpYy5cclxuICAgICAqL1xyXG4gICAgZ2V0IGtpbmVtYXRpYygpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9raW5lbWF0aWModGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkncyBncmF2aXR5IGlzIGVuYWJsZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGUgcmlnaWQgYm9keSdzIGdyYXZpdHkgc2hvdWxkIGJlIGVuYWJsZWQuXHJcbiAgICAgKi9cclxuICAgIHNldCBncmF2aXR5KGIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9ncmF2aXR5KHRoaXMuX2lkLCBiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkncyBncmF2aXR5IGZsYWcgaXMgZW5hYmxlZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IGdyYXZpdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfZ3Jhdml0eSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgcmlnaWQgYm9keSdzIHNpbXVsYXRlIGZsYWcgaXMgZW5hYmxlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoZSByaWdpZCBib2R5J3Mgc2ltdWxhdGUgZmxhZyBzaG91bGQgYmUgZW5hYmxlZC5cclxuICAgICAqL1xyXG4gICAgc2V0IHNpbXVsYXRlKGIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zaW11bGF0ZSh0aGlzLl9pZCwgYik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5J3Mgc2ltdWxhdGUgZmxhZyBpcyBlbmFibGVkLlxyXG4gICAgICovXHJcbiAgICBnZXQgc2ltdWxhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc2ltdWxhdGUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0byBhbGxvdyBzaW11bGF0aW9uIG9mIHRoaXMgcmlnaWQgYm9keS5cclxuICAgICAqXHJcbiAgICAgKiB7QGxpbmsgYWxsb3dTaW11bGF0aW9ufSBhbmQge0BsaW5rIHRyaWdnZXJ9IGNhbiBub3QgYmUgZW5hYmxlZCBhdCB0aGVcclxuICAgICAqIHNhbWUgdGltZS4gRW5hYmxpbmcge0BsaW5rIGFsbG93U2ltdWxhdGlvbn0gd2hpbGUge0BsaW5rIHRyaWdnZXJ9IGlzIGVuYWJsZWRcclxuICAgICAqIHdpbGwgZGlzYWJsZSB7QGxpbmsgdHJpZ2dlcn0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0byBhbGxvdyBzaW11bGF0aW9uIG9mIHRoaXMgcmlnaWQgYm9keS5cclxuICAgICAqL1xyXG4gICAgc2V0IGFsbG93U2ltdWxhdGlvbihiKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYWxsb3dTaW11bGF0aW9uKHRoaXMuX2lkLCBiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0byBhbGxvdyBzaW11bGF0aW9uIG9mIHRoaXMgcmlnaWQgYm9keS5cclxuICAgICAqL1xyXG4gICAgZ2V0IGFsbG93U2ltdWxhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbGxvd1NpbXVsYXRpb24odGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgbWF5IGJlIHF1ZXJpZWQgaW4gcmF5IGNhc3RzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5IG1heSBiZSBxdWVyaWVkIGluIHJheSBjYXN0cy5cclxuICAgICAqL1xyXG4gICAgc2V0IGFsbG93UXVlcnkoYikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FsbG93UXVlcnkodGhpcy5faWQsIGIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSBtYXkgYmUgcXVlcmllZCBpbiByYXkgY2FzdHMuXHJcbiAgICAgKi9cclxuICAgIGdldCBhbGxvd1F1ZXJ5KCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FsbG93UXVlcnkodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHBoeXNpY3MgYm9keSBpcyBhIHRyaWdnZXIuXHJcbiAgICAgKlxyXG4gICAgICoge0BsaW5rIGFsbG93U2ltdWxhdGlvbn0gYW5kIHtAbGluayB0cmlnZ2VyfSBjYW4gbm90IGJlIGVuYWJsZWQgYXQgdGhlXHJcbiAgICAgKiBzYW1lIHRpbWUuIEVuYWJsaW5nIHRyaWdnZXIgd2hpbGUge0BsaW5rIGFsbG93U2ltdWxhdGlvbn0gaXMgZW5hYmxlZCxcclxuICAgICAqIHdpbGwgZGlzYWJsZSB7QGxpbmsgYWxsb3dTaW11bGF0aW9ufS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoaXMgcGh5c2ljcyBib2R5IGlzIGEgdHJpZ2dlci5cclxuICAgICAqL1xyXG4gICAgc2V0IHRyaWdnZXIoYikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3RyaWdnZXIodGhpcy5faWQsIGIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoaXMgcGh5c2ljcyBib2R5IGlzIGEgdHJpZ2dlci5cclxuICAgICAqL1xyXG4gICAgZ2V0IHRyaWdnZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfdHJpZ2dlcih0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgc2hhcGUgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHMgTmV3IHNoYXBlLlxyXG4gICAgICogQHNpbmNlIDAuOC41XHJcbiAgICAgKi9cclxuICAgIHNldCBzaGFwZShzKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc2hhcGUodGhpcy5faWQsIHMpO1xyXG4gICAgfVxyXG4gICAgLyoqIFRoZSBzaGFwZSBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi4gKi9cclxuICAgIGdldCBzaGFwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc2hhcGUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYWRkaXRpb25hbCBkYXRhIGZvciB0aGUgc2hhcGUuXHJcbiAgICAgKlxyXG4gICAgICogUmV0cmlldmVkIG9ubHkgZnJvbSB7QGxpbmsgUGh5c1hDb21wb25lbnQjc2hhcGVEYXRhfS5cclxuICAgICAqIEBzaW5jZSAwLjguMTBcclxuICAgICAqL1xyXG4gICAgc2V0IHNoYXBlRGF0YShkKSB7XHJcbiAgICAgICAgaWYgKGQgPT0gbnVsbCB8fCAhaXNNZXNoU2hhcGUodGhpcy5zaGFwZSkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zaGFwZV9kYXRhKHRoaXMuX2lkLCBkLmluZGV4KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkaXRpb25hbCBkYXRhIGZvciB0aGUgc2hhcGUuXHJcbiAgICAgKlxyXG4gICAgICogYG51bGxgIGZvciB7QGxpbmsgU2hhcGV9IHZhbHVlczogYE5vbmVgLCBgU3BoZXJlYCwgYENhcHN1bGVgLCBgQm94YCwgYFBsYW5lYC5cclxuICAgICAqIGB7aW5kZXg6IG59YCBmb3IgYFRyaWFuZ2xlTWVzaGAgYW5kIGBDb252ZXhIdWxsYC5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIGRhdGEgaXMgY3VycmVudGx5IG9ubHkgZm9yIHBhc3Npbmcgb250byBvciBjcmVhdGluZyBvdGhlciB7QGxpbmsgUGh5c1hDb21wb25lbnR9LlxyXG4gICAgICogQHNpbmNlIDAuOC4xMFxyXG4gICAgICovXHJcbiAgICBnZXQgc2hhcGVEYXRhKCkge1xyXG4gICAgICAgIGlmICghaXNNZXNoU2hhcGUodGhpcy5zaGFwZSkpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGluZGV4OiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9zaGFwZV9kYXRhKHRoaXMuX2lkKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIHNoYXBlIGV4dGVudHMgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGUgTmV3IGV4dGVudHMgZm9yIHRoZSBzaGFwZS5cclxuICAgICAqIEBzaW5jZSAwLjguNVxyXG4gICAgICovXHJcbiAgICBzZXQgZXh0ZW50cyhlKSB7XHJcbiAgICAgICAgdGhpcy5leHRlbnRzLnNldChlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHNoYXBlIGV4dGVudHMgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIGdldCBleHRlbnRzKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2V4dGVudHModGhpcy5faWQpO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHB0ciwgMyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBzdGF0aWNGcmljdGlvbi5cclxuICAgICAqL1xyXG4gICAgZ2V0IHN0YXRpY0ZyaWN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9zdGF0aWNGcmljdGlvbih0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBzdGF0aWNGcmljdGlvbi5cclxuICAgICAqIEBwYXJhbSB2IE5ldyBzdGF0aWNGcmljdGlvbi5cclxuICAgICAqL1xyXG4gICAgc2V0IHN0YXRpY0ZyaWN0aW9uKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zdGF0aWNGcmljdGlvbih0aGlzLl9pZCwgdik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBkeW5hbWljRnJpY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIGdldCBkeW5hbWljRnJpY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2R5bmFtaWNGcmljdGlvbih0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBkeW5hbWljRnJpY3Rpb25cclxuICAgICAqIEBwYXJhbSB2IE5ldyBkeW5hbWljRGFtcGluZy5cclxuICAgICAqL1xyXG4gICAgc2V0IGR5bmFtaWNGcmljdGlvbih2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfZHluYW1pY0ZyaWN0aW9uKHRoaXMuX2lkLCB2KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGJvdW5jaW5lc3MuXHJcbiAgICAgKiBAc2luY2UgMC45LjBcclxuICAgICAqL1xyXG4gICAgZ2V0IGJvdW5jaW5lc3MoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2JvdW5jaW5lc3ModGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYm91bmNpbmVzcy5cclxuICAgICAqIEBwYXJhbSB2IE5ldyBib3VuY2luZXNzLlxyXG4gICAgICogQHNpbmNlIDAuOS4wXHJcbiAgICAgKi9cclxuICAgIHNldCBib3VuY2luZXNzKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9ib3VuY2luZXNzKHRoaXMuX2lkLCB2KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGxpbmVhckRhbXBpbmcvXHJcbiAgICAgKi9cclxuICAgIGdldCBsaW5lYXJEYW1waW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9saW5lYXJEYW1waW5nKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxpbmVhckRhbXBpbmcuXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgbGluZWFyRGFtcGluZy5cclxuICAgICAqL1xyXG4gICAgc2V0IGxpbmVhckRhbXBpbmcodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2xpbmVhckRhbXBpbmcodGhpcy5faWQsIHYpO1xyXG4gICAgfVxyXG4gICAgLyoqIEdldCBhbmd1bGFyRGFtcGluZy4gKi9cclxuICAgIGdldCBhbmd1bGFyRGFtcGluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYW5ndWxhckRhbXBpbmcodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYW5ndWxhckRhbXBpbmcuXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgYW5ndWxhckRhbXBpbmcuXHJcbiAgICAgKi9cclxuICAgIHNldCBhbmd1bGFyRGFtcGluZyh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYW5ndWxhckRhbXBpbmcodGhpcy5faWQsIHYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbGluZWFyIHZlbG9jaXR5LlxyXG4gICAgICpcclxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIlZlbG9jaXR5XCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjdmVsb2NpdHkpXHJcbiAgICAgKlxyXG4gICAgICogSGFzIG5vIGVmZmVjdCwgaWYgdGhlIGNvbXBvbmVudCBpcyBub3QgYWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyBsaW5lYXIgdmVsb2NpdHkuXHJcbiAgICAgKi9cclxuICAgIHNldCBsaW5lYXJWZWxvY2l0eSh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbGluZWFyVmVsb2NpdHkodGhpcy5faWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgfVxyXG4gICAgLyoqIExpbmVhciB2ZWxvY2l0eSBvciBgWzAsIDAsIDBdYCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuICovXHJcbiAgICBnZXQgbGluZWFyVmVsb2NpdHkoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfbGluZWFyVmVsb2NpdHkodGhpcy5faWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3RlbXBNZW0sIDMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYW5ndWxhciB2ZWxvY2l0eVxyXG4gICAgICpcclxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIlZlbG9jaXR5XCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjdmVsb2NpdHkpXHJcbiAgICAgKlxyXG4gICAgICogSGFzIG5vIGVmZmVjdCwgaWYgdGhlIGNvbXBvbmVudCBpcyBub3QgYWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyBhbmd1bGFyIHZlbG9jaXR5XHJcbiAgICAgKi9cclxuICAgIHNldCBhbmd1bGFyVmVsb2NpdHkodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FuZ3VsYXJWZWxvY2l0eSh0aGlzLl9pZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICB9XHJcbiAgICAvKiogQW5ndWxhciB2ZWxvY2l0eSBvciBgWzAsIDAsIDBdYCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuICovXHJcbiAgICBnZXQgYW5ndWxhclZlbG9jaXR5KCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FuZ3VsYXJWZWxvY2l0eSh0aGlzLl9pZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgMyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgY29tcG9uZW50cyBncm91cHMgbWFzay5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZmxhZ3MgTmV3IGZsYWdzIHRoYXQgbmVlZCB0byBiZSBzZXQuXHJcbiAgICAgKi9cclxuICAgIHNldCBncm91cHNNYXNrKGZsYWdzKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfZ3JvdXBzTWFzayh0aGlzLl9pZCwgZmxhZ3MpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGNvbXBvbmVudHMgZ3JvdXBzIG1hc2sgZmxhZ3MuXHJcbiAgICAgKlxyXG4gICAgICogRWFjaCBiaXQgcmVwcmVzZW50cyBtZW1iZXJzaGlwIHRvIGdyb3VwLCBzZWUgZXhhbXBsZS5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gQXNzaWduIGMgdG8gZ3JvdXAgMlxyXG4gICAgICogYy5ncm91cHNNYXNrID0gKDEgPDwgMik7XHJcbiAgICAgKlxyXG4gICAgICogLy8gQXNzaWduIGMgdG8gZ3JvdXAgMFxyXG4gICAgICogYy5ncm91cHNNYXNrICA9ICgxIDw8IDApO1xyXG4gICAgICpcclxuICAgICAqIC8vIEFzc2lnbiBjIHRvIGdyb3VwIDAgYW5kIDJcclxuICAgICAqIGMuZ3JvdXBzTWFzayA9ICgxIDw8IDApIHwgKDEgPDwgMik7XHJcbiAgICAgKlxyXG4gICAgICogKGMuZ3JvdXBzTWFzayAmICgxIDw8IDIpKSAhPSAwOyAvLyB0cnVlXHJcbiAgICAgKiAoYy5ncm91cHNNYXNrICYgKDEgPDwgNykpICE9IDA7IC8vIGZhbHNlXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZ2V0IGdyb3Vwc01hc2soKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2dyb3Vwc01hc2sodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGNvbXBvbmVudHMgYmxvY2tzIG1hc2suXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGZsYWdzIE5ldyBmbGFncyB0aGF0IG5lZWQgdG8gYmUgc2V0LlxyXG4gICAgICovXHJcbiAgICBzZXQgYmxvY2tzTWFzayhmbGFncykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2Jsb2Nrc01hc2sodGhpcy5faWQsIGZsYWdzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBjb21wb25lbnRzIGJsb2NrcyBtYXNrIGZsYWdzLlxyXG4gICAgICpcclxuICAgICAqIEVhY2ggYml0IHJlcHJlc2VudHMgbWVtYmVyc2hpcCB0byB0aGUgYmxvY2ssIHNlZSBleGFtcGxlLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAvLyBCbG9jayBvdmVybGFwIHdpdGggYW55IG9iamVjdHMgaW4gZ3JvdXAgMlxyXG4gICAgICogYy5ibG9ja3NNYXNrID0gKDEgPDwgMik7XHJcbiAgICAgKlxyXG4gICAgICogLy8gQmxvY2sgb3ZlcmxhcCB3aXRoIGFueSBvYmplY3RzIGluIGdyb3VwIDBcclxuICAgICAqIGMuYmxvY2tzTWFzayAgPSAoMSA8PCAwKVxyXG4gICAgICpcclxuICAgICAqIC8vIEJsb2NrIG92ZXJsYXAgd2l0aCBhbnkgb2JqZWN0cyBpbiBncm91cCAwIGFuZCAyXHJcbiAgICAgKiBjLmJsb2Nrc01hc2sgPSAoMSA8PCAwKSB8ICgxIDw8IDIpO1xyXG4gICAgICpcclxuICAgICAqIChjLmJsb2Nrc01hc2sgJiAoMSA8PCAyKSkgIT0gMDsgLy8gdHJ1ZVxyXG4gICAgICogKGMuYmxvY2tzTWFzayAmICgxIDw8IDcpKSAhPSAwOyAvLyBmYWxzZVxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGdldCBibG9ja3NNYXNrKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9ibG9ja3NNYXNrKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGF4ZXMgdG8gbG9jayBmb3IgbGluZWFyIHZlbG9jaXR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsb2NrIFRoZSBBeGlzIHRoYXQgbmVlZHMgdG8gYmUgc2V0LlxyXG4gICAgICpcclxuICAgICAqIENvbWJpbmUgZmxhZ3Mgd2l0aCBCaXR3aXNlIE9SOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBib2R5LmxpbmVhckxvY2tBeGlzID0gTG9ja0F4aXMuWCB8IExvY2tBeGlzLlk7IC8vIHggYW5kIHkgc2V0XHJcbiAgICAgKiBib2R5LmxpbmVhckxvY2tBeGlzID0gTG9ja0F4aXMuWDsgLy8geSB1bnNldFxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBoYXMgbm8gZWZmZWN0IGlmIHRoZSBjb21wb25lbnQgaXMgc3RhdGljLlxyXG4gICAgICovXHJcbiAgICBzZXQgbGluZWFyTG9ja0F4aXMobG9jaykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2xpbmVhckxvY2tBeGlzKHRoaXMuX2lkLCBsb2NrKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBsaW5lYXIgbG9jayBheGVzIGZsYWdzLlxyXG4gICAgICpcclxuICAgICAqIFRvIGdldCB0aGUgc3RhdGUgb2YgYSBzcGVjaWZpYyBmbGFnLCBCaXR3aXNlIEFORCB3aXRoIHRoZSBMb2NrQXhpcyBuZWVkZWQuXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGlmKGJvZHkubGluZWFyTG9ja0F4aXMgJiBMb2NrQXhpcy5ZKSB7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2coXCJUaGUgWSBmbGFnIHdhcyBzZXQhXCIpO1xyXG4gICAgICogfVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBheGVzIHRoYXQgYXJlIGN1cnJlbnRseSBsb2NrZWQgZm9yIGxpbmVhciBtb3ZlbWVudC5cclxuICAgICAqL1xyXG4gICAgZ2V0IGxpbmVhckxvY2tBeGlzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9saW5lYXJMb2NrQXhpcyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBheGVzIHRvIGxvY2sgZm9yIGFuZ3VsYXIgdmVsb2NpdHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxvY2sgVGhlIEF4aXMgdGhhdCBuZWVkcyB0byBiZSBzZXQuXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGJvZHkuYW5ndWxhckxvY2tBeGlzID0gTG9ja0F4aXMuWCB8IExvY2tBeGlzLlk7IC8vIHggYW5kIHkgc2V0XHJcbiAgICAgKiBib2R5LmFuZ3VsYXJMb2NrQXhpcyA9IExvY2tBeGlzLlg7IC8vIHkgdW5zZXRcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgaGFzIG5vIGVmZmVjdCBpZiB0aGUgY29tcG9uZW50IGlzIHN0YXRpYy5cclxuICAgICAqL1xyXG4gICAgc2V0IGFuZ3VsYXJMb2NrQXhpcyhsb2NrKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYW5ndWxhckxvY2tBeGlzKHRoaXMuX2lkLCBsb2NrKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBhbmd1bGFyIGxvY2sgYXhlcyBmbGFncy5cclxuICAgICAqXHJcbiAgICAgKiBUbyBnZXQgdGhlIHN0YXRlIG9mIGEgc3BlY2lmaWMgZmxhZywgQml0d2lzZSBBTkQgd2l0aCB0aGUgTG9ja0F4aXMgbmVlZGVkOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBpZihib2R5LmFuZ3VsYXJMb2NrQXhpcyAmIExvY2tBeGlzLlkpIHtcclxuICAgICAqICAgICBjb25zb2xlLmxvZyhcIlRoZSBZIGZsYWcgd2FzIHNldCFcIik7XHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIGF4ZXMgdGhhdCBhcmUgY3VycmVudGx5IGxvY2tlZCBmb3IgYW5ndWxhciBtb3ZlbWVudC5cclxuICAgICAqL1xyXG4gICAgZ2V0IGFuZ3VsYXJMb2NrQXhpcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYW5ndWxhckxvY2tBeGlzKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IG1hc3MuXHJcbiAgICAgKlxyXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiTWFzcyBQcm9wZXJ0aWVzXCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjbWFzcy1wcm9wZXJ0aWVzKVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBtIE5ldyBtYXNzLlxyXG4gICAgICovXHJcbiAgICBzZXQgbWFzcyhtKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbWFzcyh0aGlzLl9pZCwgbSk7XHJcbiAgICB9XHJcbiAgICAvKiogTWFzcyAqL1xyXG4gICAgZ2V0IG1hc3MoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X21hc3ModGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbWFzcyBzcGFjZSBpbnRlcmlhIHRlbnNvci5cclxuICAgICAqXHJcbiAgICAgKiBbUGh5c1ggTWFudWFsIC0gXCJNYXNzIFByb3BlcnRpZXNcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCNtYXNzLXByb3BlcnRpZXMpXHJcbiAgICAgKlxyXG4gICAgICogSGFzIG5vIGVmZmVjdCwgaWYgdGhlIGNvbXBvbmVudCBpcyBub3QgYWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyBtYXNzIHNwYWNlIGludGVyYXRpYSB0ZW5zb3IuXHJcbiAgICAgKi9cclxuICAgIHNldCBtYXNzU3BhY2VJbnRlcmlhVGVuc29yKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9tYXNzU3BhY2VJbmVydGlhVGVuc29yKHRoaXMuX2lkLCB2WzBdLCB2WzFdLCB2WzJdKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSByaWdpZCBib2R5IHRvIHNsZWVwIHVwb24gYWN0aXZhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBXaGVuIGFzbGVlcCwgdGhlIHJpZ2lkIGJvZHkgd2lsbCBub3QgYmUgc2ltdWxhdGVkIHVudGlsIHRoZSBuZXh0IGNvbnRhY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGZsYWcgYHRydWVgIHRvIHNsZWVwIHVwb24gYWN0aXZhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjVcclxuICAgICAqL1xyXG4gICAgc2V0IHNsZWVwT25BY3RpdmF0ZShmbGFnKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc2xlZXBPbkFjdGl2YXRlKHRoaXMuX2lkLCBmbGFnKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYHRydWVgIGlmIHRoZSByaWdpZCBib2R5IGlzIHNldCB0byBzbGVlcCB1cG9uIGFjdGl2YXRpb24sIGBmYWxzZWAgb3RoZXJ3aXNlLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjEuNVxyXG4gICAgICovXHJcbiAgICBnZXQgc2xlZXBPbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3NsZWVwT25BY3RpdmF0ZSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFwcGx5IGEgZm9yY2UuXHJcbiAgICAgKlxyXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiQXBwbHlpbmcgRm9yY2VzIGFuZCBUb3JxdWVzXCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjYXBwbHlpbmctZm9yY2VzLWFuZC10b3JxdWVzKVxyXG4gICAgICpcclxuICAgICAqIEhhcyBubyBlZmZlY3QsIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZiBGb3JjZSB2ZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0gbSBGb3JjZSBtb2RlLCBzZWUge0BsaW5rIEZvcmNlTW9kZX0sIGRlZmF1bHQgYEZvcmNlYC5cclxuICAgICAqIEBwYXJhbSBsb2NhbEZvcmNlIFdoZXRoZXIgdGhlIGZvcmNlIHZlY3RvciBpcyBpbiBsb2NhbCBzcGFjZSwgZGVmYXVsdCBgZmFsc2VgLlxyXG4gICAgICogQHBhcmFtIHAgUG9zaXRpb24gdG8gYXBwbHkgZm9yY2UgYXQsIGRlZmF1bHQgaXMgY2VudGVyIG9mIG1hc3MuXHJcbiAgICAgKiBAcGFyYW0gbG9jYWwgV2hldGhlciBwb3NpdGlvbiBpcyBpbiBsb2NhbCBzcGFjZSwgZGVmYXVsdCBgZmFsc2VgLlxyXG4gICAgICovXHJcbiAgICBhZGRGb3JjZShmLCBtID0gRm9yY2VNb2RlLkZvcmNlLCBsb2NhbEZvcmNlID0gZmFsc2UsIHAsIGxvY2FsID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgaWYgKCFwKSB7XHJcbiAgICAgICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRGb3JjZSh0aGlzLl9pZCwgZlswXSwgZlsxXSwgZlsyXSwgbSwgbG9jYWxGb3JjZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2FkZEZvcmNlQXQodGhpcy5faWQsIGZbMF0sIGZbMV0sIGZbMl0sIG0sIGxvY2FsRm9yY2UsIHBbMF0sIHBbMV0sIHBbMl0sIGxvY2FsKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQXBwbHkgdG9ycXVlLlxyXG4gICAgICpcclxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIkFwcGx5aW5nIEZvcmNlcyBhbmQgVG9ycXVlc1wiXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9SaWdpZEJvZHlEeW5hbWljcy5odG1sI2FwcGx5aW5nLWZvcmNlcy1hbmQtdG9ycXVlcylcclxuICAgICAqXHJcbiAgICAgKiBIYXMgbm8gZWZmZWN0LCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGYgRm9yY2UgdmVjdG9yLlxyXG4gICAgICogQHBhcmFtIG0gRm9yY2UgbW9kZSwgc2VlIHtAbGluayBGb3JjZU1vZGV9LCBkZWZhdWx0IGBGb3JjZWAuXHJcbiAgICAgKi9cclxuICAgIGFkZFRvcnF1ZShmLCBtID0gRm9yY2VNb2RlLkZvcmNlKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRUb3JxdWUodGhpcy5faWQsIGZbMF0sIGZbMV0sIGZbMl0sIG0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgb24gY29sbGlzaW9uIGNhbGxiYWNrLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyByaWdpZCBib2R5ICh1biljb2xsaWRlcyB3aXRoIGFueSBvdGhlci5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogIGxldCByaWdpZEJvZHkgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ3BoeXN4Jyk7XHJcbiAgICAgKiAgcmlnaWRCb2R5Lm9uQ29sbGlzaW9uKGZ1bmN0aW9uKHR5cGUsIG90aGVyKSB7XHJcbiAgICAgKiAgICAgIC8vIElnbm9yZSB1bmNvbGxpZGVzXHJcbiAgICAgKiAgICAgIGlmKHR5cGUgPT0gQ29sbGlzaW9uRXZlbnRUeXBlLlRvdWNoTG9zdCkgcmV0dXJuO1xyXG4gICAgICpcclxuICAgICAqICAgICAgLy8gVGFrZSBkYW1hZ2Ugb24gY29sbGlzaW9uIHdpdGggZW5lbWllc1xyXG4gICAgICogICAgICBpZihvdGhlci5vYmplY3QubmFtZS5zdGFydHNXaXRoKFwiZW5lbXktXCIpKSB7XHJcbiAgICAgKiAgICAgICAgICB0aGlzLmFwcGx5RGFtYWdlKDEwKTtcclxuICAgICAqICAgICAgfVxyXG4gICAgICogIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBJZCBvZiB0aGUgbmV3IGNhbGxiYWNrIGZvciB1c2Ugd2l0aCB7QGxpbmsgUGh5c1hDb21wb25lbnQjcmVtb3ZlQ29sbGlzaW9uQ2FsbGJhY2t9LlxyXG4gICAgICovXHJcbiAgICBvbkNvbGxpc2lvbihjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9uQ29sbGlzaW9uV2l0aCh0aGlzLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZCBmaWx0ZXJlZCBvbiBjb2xsaXNpb24gY2FsbGJhY2suXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyQ29tcCBDb21wb25lbnQgZm9yIHdoaWNoIGNhbGxiYWNrcyB3aWxsXHJcbiAgICAgKiAgICAgICAgYmUgdHJpZ2dlcmVkLiBJZiB5b3UgcGFzcyB0aGlzIGNvbXBvbmVudCwgdGhlIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvLlxyXG4gICAgICogICAgICAgIHtAbGluayBQaHlzWENvbXBvbmVudCNvbkNvbGxpc2lvbn0uXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgcmlnaWQgYm9keVxyXG4gICAgICogICAgICAgICh1biljb2xsaWRlcyB3aXRoIGBvdGhlckNvbXBgLlxyXG4gICAgICogQHJldHVybnMgSWQgb2YgdGhlIG5ldyBjYWxsYmFjayBmb3IgdXNlIHdpdGgge0BsaW5rIFBoeXNYQ29tcG9uZW50I3JlbW92ZUNvbGxpc2lvbkNhbGxiYWNrfS5cclxuICAgICAqL1xyXG4gICAgb25Db2xsaXNpb25XaXRoKG90aGVyQ29tcCwgY2FsbGJhY2spIHtcclxuICAgICAgICBjb25zdCBwaHlzaWNzID0gdGhpcy5fZW5naW5lLnBoeXNpY3M7XHJcbiAgICAgICAgcGh5c2ljcy5fY2FsbGJhY2tzW3RoaXMuX2lkXSA9IHBoeXNpY3MuX2NhbGxiYWNrc1t0aGlzLl9pZF0gfHwgW107XHJcbiAgICAgICAgcGh5c2ljcy5fY2FsbGJhY2tzW3RoaXMuX2lkXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRDYWxsYmFjayh0aGlzLl9pZCwgb3RoZXJDb21wLl9pZCB8fCB0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhIGNvbGxpc2lvbiBjYWxsYmFjayBhZGRlZCB3aXRoIHtAbGluayBQaHlzWENvbXBvbmVudCNvbkNvbGxpc2lvbn0gb3Ige0BsaW5rIFBoeXNYQ29tcG9uZW50I29uQ29sbGlzaW9uV2l0aH0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrSWQgQ2FsbGJhY2sgaWQgYXMgcmV0dXJuZWQgYnkge0BsaW5rIFBoeXNYQ29tcG9uZW50I29uQ29sbGlzaW9ufSBvciB7QGxpbmsgUGh5c1hDb21wb25lbnQjb25Db2xsaXNpb25XaXRofS5cclxuICAgICAqIEB0aHJvd3MgV2hlbiB0aGUgY2FsbGJhY2sgZG9lcyBub3QgYmVsb25nIHRvIHRoZSBjb21wb25lbnQuXHJcbiAgICAgKiBAdGhyb3dzIFdoZW4gdGhlIGNhbGxiYWNrIGRvZXMgbm90IGV4aXN0LlxyXG4gICAgICovXHJcbiAgICByZW1vdmVDb2xsaXNpb25DYWxsYmFjayhjYWxsYmFja0lkKSB7XHJcbiAgICAgICAgY29uc3QgcGh5c2ljcyA9IHRoaXMuX2VuZ2luZS5waHlzaWNzO1xyXG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3JlbW92ZUNhbGxiYWNrKHRoaXMuX2lkLCBjYWxsYmFja0lkKTtcclxuICAgICAgICAvKiByIGlzIHRoZSBhbW91bnQgb2Ygb2JqZWN0IHRvIHJlbW92ZSBmcm9tIHRoZSBlbmQgb2YgdGhlXHJcbiAgICAgICAgICogY2FsbGJhY2tzIGFycmF5IGZvciB0aGlzIG9iamVjdCAqL1xyXG4gICAgICAgIGlmIChyKVxyXG4gICAgICAgICAgICBwaHlzaWNzLl9jYWxsYmFja3NbdGhpcy5faWRdLnNwbGljZSgtcik7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdGF0aWNcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwidHJhbnNsYXRpb25PZmZzZXRcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwicm90YXRpb25PZmZzZXRcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwia2luZW1hdGljXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImdyYXZpdHlcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic2ltdWxhdGVcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWxsb3dTaW11bGF0aW9uXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFsbG93UXVlcnlcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwidHJpZ2dlclwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFwZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFwZURhdGFcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiZXh0ZW50c1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdGF0aWNGcmljdGlvblwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkeW5hbWljRnJpY3Rpb25cIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiYm91bmNpbmVzc1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsaW5lYXJEYW1waW5nXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFuZ3VsYXJEYW1waW5nXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImxpbmVhclZlbG9jaXR5XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFuZ3VsYXJWZWxvY2l0eVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncm91cHNNYXNrXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImJsb2Nrc01hc2tcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwibGluZWFyTG9ja0F4aXNcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiYW5ndWxhckxvY2tBeGlzXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcIm1hc3NcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic2xlZXBPbkFjdGl2YXRlXCIsIG51bGwpO1xyXG4vKipcclxuICogQWNjZXNzIHRvIHRoZSBwaHlzaWNzIHNjZW5lXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGh5c2ljcyB7XHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGUqKjogVGhpcyBpcyBwdWJsaWMgdG8gZW11bGF0ZSBhIGBmcmllbmRgIGFjY2Vzc29yLlxyXG4gICAgICovXHJcbiAgICBfY2FsbGJhY2tzO1xyXG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlICovXHJcbiAgICBfZW5naW5lO1xyXG4gICAgLyoqIFJheSBIaXQgKi9cclxuICAgIF9yYXlIaXQ7XHJcbiAgICAvKiogSGl0LiAqL1xyXG4gICAgX2hpdDtcclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgICAgICB0aGlzLl9yYXlIaXQgPSBlbmdpbmUud2FzbS5fbWFsbG9jKDQgKiAoMyAqIDQgKyAzICogNCArIDQgKyAyKSArIDQpO1xyXG4gICAgICAgIHRoaXMuX2hpdCA9IG5ldyBSYXlIaXQodGhpcy5fZW5naW5lLCB0aGlzLl9yYXlIaXQpO1xyXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDYXN0IGEgcmF5IHRocm91Z2ggdGhlIHBoeXNpY3Mgc2NlbmUgYW5kIGZpbmQgaW50ZXJzZWN0aW5nIG9iamVjdHMuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHJlc3VsdGluZyByYXkgaGl0IHdpbGwgY29udGFpbiAqKnVwIHRvIDQqKiBjbG9zZXN0IHJheSBoaXRzLFxyXG4gICAgICogc29ydGVkIGJ5IGluY3JlYXNpbmcgZGlzdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG8gUmF5IG9yaWdpbi5cclxuICAgICAqIEBwYXJhbSBkIFJheSBkaXJlY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0gZ3JvdXAgQ29sbGlzaW9uIGdyb3VwIHRvIGZpbHRlciBieTogb25seSBvYmplY3RzIHRoYXQgYXJlXHJcbiAgICAgKiAgICAgICAgcGFydCBvZiBnaXZlbiBncm91cCBhcmUgY29uc2lkZXJlZCBmb3IgcmF5Y2FzdC5cclxuICAgICAqIEBwYXJhbSBtYXhEaXN0YW5jZSBNYXhpbXVtIHJheSBkaXN0YW5jZSwgZGVmYXVsdCBgMTAwLjBgLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFRoZSBSYXlIaXQgaW5zdGFuY2UsIGJlbG9uZ2luZyB0byB0aGlzIGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoZSByZXR1cm5lZCB7QGxpbmsgUmF5SGl0fSBvYmplY3QgaXMgb3duZWQgYnkgdGhlIFBoeXNpY3MgaW5zdGFuY2UgYW5kXHJcbiAgICAgKiAgICAgICB3aWxsIGJlIHJldXNlZCB3aXRoIHRoZSBuZXh0IHtAbGluayBQaHlzaWNzI3JheUNhc3R9IGNhbGwuXHJcbiAgICAgKi9cclxuICAgIHJheUNhc3QobywgZCwgZ3JvdXAsIG1heERpc3RhbmNlID0gMTAwLjApIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfcmF5X2Nhc3Qob1swXSwgb1sxXSwgb1syXSwgZFswXSwgZFsxXSwgZFsyXSwgZ3JvdXAsIG1heERpc3RhbmNlLCB0aGlzLl9yYXlIaXQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9oaXQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIE1lc2ggaW5kZXggdHlwZS5cclxuICovXHJcbmV4cG9ydCB2YXIgTWVzaEluZGV4VHlwZTtcclxuKGZ1bmN0aW9uIChNZXNoSW5kZXhUeXBlKSB7XHJcbiAgICAvKiogU2luZ2xlIGJ5dGUgbWVzaCBpbmRleCwgcmFuZ2UgMC0yNTUgKi9cclxuICAgIE1lc2hJbmRleFR5cGVbTWVzaEluZGV4VHlwZVtcIlVuc2lnbmVkQnl0ZVwiXSA9IDFdID0gXCJVbnNpZ25lZEJ5dGVcIjtcclxuICAgIC8qKiBUd28gYnl0ZSBtZXNoIGluZGV4LCByYW5nZSAwLTY1NTM1ICovXHJcbiAgICBNZXNoSW5kZXhUeXBlW01lc2hJbmRleFR5cGVbXCJVbnNpZ25lZFNob3J0XCJdID0gMl0gPSBcIlVuc2lnbmVkU2hvcnRcIjtcclxuICAgIC8qKiBGb3VyIGJ5dGUgbWVzaCBpbmRleCwgcmFuZ2UgMC00Mjk0OTY3Mjk1ICovXHJcbiAgICBNZXNoSW5kZXhUeXBlW01lc2hJbmRleFR5cGVbXCJVbnNpZ25lZEludFwiXSA9IDRdID0gXCJVbnNpZ25lZEludFwiO1xyXG59KShNZXNoSW5kZXhUeXBlIHx8IChNZXNoSW5kZXhUeXBlID0ge30pKTtcclxuLyoqXHJcbiAqIE1lc2ggc2tpbm5pbmcgdHlwZS5cclxuICovXHJcbmV4cG9ydCB2YXIgTWVzaFNraW5uaW5nVHlwZTtcclxuKGZ1bmN0aW9uIChNZXNoU2tpbm5pbmdUeXBlKSB7XHJcbiAgICAvKiogTm90IHNraW5uZWQgKi9cclxuICAgIE1lc2hTa2lubmluZ1R5cGVbTWVzaFNraW5uaW5nVHlwZVtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xyXG4gICAgLyoqIFNraW5uZWQsIDQgam9pbnRzL3dlaWdodCBwZXIgdmVydGV4ICovXHJcbiAgICBNZXNoU2tpbm5pbmdUeXBlW01lc2hTa2lubmluZ1R5cGVbXCJGb3VySm9pbnRzXCJdID0gMV0gPSBcIkZvdXJKb2ludHNcIjtcclxuICAgIC8qKiBTa2lubmVkLCA4IGpvaW50cy93ZWlnaHQgcGVyIHZlcnRleCAqL1xyXG4gICAgTWVzaFNraW5uaW5nVHlwZVtNZXNoU2tpbm5pbmdUeXBlW1wiRWlnaHRKb2ludHNcIl0gPSAyXSA9IFwiRWlnaHRKb2ludHNcIjtcclxufSkoTWVzaFNraW5uaW5nVHlwZSB8fCAoTWVzaFNraW5uaW5nVHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBXcmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSBtZXNoIGRhdGEuXHJcbiAqXHJcbiAqIFRvIG1vZGlmeSBhIG1lc2gsIHlvdSBnZXQgYWNjZXNzIHRvIGEge0BsaW5rIE1lc2hBdHRyaWJ1dGVBY2Nlc3Nvcn0gdGhhdCBhbGxvd3MgeW91IHRvIG1vZGlmeVxyXG4gKiB0aGUgY29udGVudCBvZiB0aGUgYnVmZmVyczpcclxuICpcclxuICogVXNhZ2U6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChlbmdpbmUsIHt2ZXJ0ZXhDb3VudDogMywgaW5kZXhEYXRhOiBbMCwgMSwgMl0gfSk7XHJcbiAqIGNvbnN0IHBvc2l0aW9ucyA9IG1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuUG9zaXRpb24pO1xyXG4gKiAuLi5cclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVzaCB7XHJcbiAgICAvKipcclxuICAgICAqIEluZGV4IG9mIHRoZSBtZXNoIGluIHRoZSBtYW5hZ2VyLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX2luZGV4ID0gLTE7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1zIEVpdGhlciBhIG1lc2ggaW5kZXggdG8gd3JhcCBvciBzZXQgb2YgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBuZXcgbWVzaC5cclxuICAgICAqICAgIEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgaGF2ZSBhIGxvb2sgYXQgdGhlIHtAbGluayBNZXNoUGFyYW1ldGVyc30gaW50ZXJmYWNlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIHBhcmFtcykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZSA/PyBXTDtcclxuICAgICAgICB0aGlzLl9pbmRleCA9IC0xO1xyXG4gICAgICAgIGlmIChpc051bWJlcihwYXJhbXMpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gcGFyYW1zO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcGFyYW1zLnZlcnRleENvdW50KVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHBhcmFtZXRlciAndmVydGV4Q291bnQnXCIpO1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBsZXQgaW5kZXhEYXRhID0gMDtcclxuICAgICAgICBsZXQgaW5kZXhUeXBlID0gMDtcclxuICAgICAgICBsZXQgaW5kZXhEYXRhU2l6ZSA9IDA7XHJcbiAgICAgICAgaWYgKHBhcmFtcy5pbmRleERhdGEpIHtcclxuICAgICAgICAgICAgaW5kZXhUeXBlID0gcGFyYW1zLmluZGV4VHlwZSB8fCBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkU2hvcnQ7XHJcbiAgICAgICAgICAgIGluZGV4RGF0YVNpemUgPSBwYXJhbXMuaW5kZXhEYXRhLmxlbmd0aCAqIGluZGV4VHlwZTtcclxuICAgICAgICAgICAgaW5kZXhEYXRhID0gd2FzbS5fbWFsbG9jKGluZGV4RGF0YVNpemUpO1xyXG4gICAgICAgICAgICAvKiBDb3B5IHRoZSBpbmRleCBkYXRhIGludG8gd2FzbSBtZW1vcnkgKi9cclxuICAgICAgICAgICAgc3dpdGNoIChpbmRleFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEJ5dGU6XHJcbiAgICAgICAgICAgICAgICAgICAgd2FzbS5IRUFQVTguc2V0KHBhcmFtcy5pbmRleERhdGEsIGluZGV4RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1lc2hJbmRleFR5cGUuVW5zaWduZWRTaG9ydDpcclxuICAgICAgICAgICAgICAgICAgICB3YXNtLkhFQVBVMTYuc2V0KHBhcmFtcy5pbmRleERhdGEsIGluZGV4RGF0YSA+PiAxKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEludDpcclxuICAgICAgICAgICAgICAgICAgICB3YXNtLkhFQVBVMzIuc2V0KHBhcmFtcy5pbmRleERhdGEsIGluZGV4RGF0YSA+PiAyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IHNraW5uaW5nVHlwZSA9IE1lc2hTa2lubmluZ1R5cGUuTm9uZSB9ID0gcGFyYW1zO1xyXG4gICAgICAgIHRoaXMuX2luZGV4ID0gd2FzbS5fd2xfbWVzaF9jcmVhdGUoaW5kZXhEYXRhLCBpbmRleERhdGFTaXplLCBpbmRleFR5cGUsIHBhcmFtcy52ZXJ0ZXhDb3VudCwgc2tpbm5pbmdUeXBlKTtcclxuICAgIH1cclxuICAgIC8qKiBOdW1iZXIgb2YgdmVydGljZXMgaW4gdGhpcyBtZXNoLiAqL1xyXG4gICAgZ2V0IHZlcnRleENvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9nZXRfdmVydGV4Q291bnQodGhpcy5faW5kZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqIEluZGV4IGRhdGEgKHJlYWQtb25seSkgb3IgYG51bGxgIGlmIHRoZSBtZXNoIGlzIG5vdCBpbmRleGVkLiAqL1xyXG4gICAgZ2V0IGluZGV4RGF0YSgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgdGVtcE1lbSA9IHdhc20uX3RlbXBNZW07XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfbWVzaF9nZXRfaW5kZXhEYXRhKHRoaXMuX2luZGV4LCB0ZW1wTWVtLCB0ZW1wTWVtICsgNCk7XHJcbiAgICAgICAgaWYgKHB0ciA9PT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgY29uc3QgaW5kZXhDb3VudCA9IHdhc20uSEVBUFUzMlt0ZW1wTWVtIC8gNF07XHJcbiAgICAgICAgY29uc3QgaW5kZXhTaXplID0gd2FzbS5IRUFQVTMyW3RlbXBNZW0gLyA0ICsgMV07XHJcbiAgICAgICAgc3dpdGNoIChpbmRleFNpemUpIHtcclxuICAgICAgICAgICAgY2FzZSBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkQnl0ZTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh3YXNtLkhFQVBVOC5idWZmZXIsIHB0ciwgaW5kZXhDb3VudCk7XHJcbiAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZFNob3J0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50MTZBcnJheSh3YXNtLkhFQVBVMTYuYnVmZmVyLCBwdHIsIGluZGV4Q291bnQpO1xyXG4gICAgICAgICAgICBjYXNlIE1lc2hJbmRleFR5cGUuVW5zaWduZWRJbnQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KHdhc20uSEVBUFUzMi5idWZmZXIsIHB0ciwgaW5kZXhDb3VudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xyXG4gICAgZ2V0IGVuZ2luZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBseSBjaGFuZ2VzIHRvIHtAbGluayBhdHRyaWJ1dGUgfCB2ZXJ0ZXggYXR0cmlidXRlc30uXHJcbiAgICAgKlxyXG4gICAgICogVXBsb2FkcyB0aGUgdXBkYXRlZCB2ZXJ0ZXggYXR0cmlidXRlcyB0byB0aGUgR1BVIGFuZCB1cGRhdGVzIHRoZSBib3VuZGluZ1xyXG4gICAgICogc3BoZXJlIHRvIG1hdGNoIHRoZSBuZXcgdmVydGV4IHBvc2l0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBTaW5jZSB0aGlzIGlzIGFuIGV4cGVuc2l2ZSBvcGVyYXRpb24sIGNhbGwgaXQgb25seSBvbmNlIHlvdSBoYXZlIHBlcmZvcm1lZFxyXG4gICAgICogYWxsIG1vZGlmaWNhdGlvbnMgb24gYSBtZXNoIGFuZCBhdm9pZCBjYWxsaW5nIGlmIHlvdSBkaWQgbm90IHBlcmZvcm0gYW55XHJcbiAgICAgKiBtb2RpZmljYXRpb25zIGF0IGFsbC5cclxuICAgICAqL1xyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX3VwZGF0ZSh0aGlzLl9pbmRleCk7XHJcbiAgICB9XHJcbiAgICBnZXRCb3VuZGluZ1NwaGVyZShvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpKSB7XHJcbiAgICAgICAgY29uc3QgdGVtcE1lbUZsb2F0ID0gdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1GbG9hdDtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9nZXRfYm91bmRpbmdTcGhlcmUodGhpcy5faW5kZXgsIHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB0ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHRlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICBvdXRbM10gPSB0ZW1wTWVtRmxvYXRbM107XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIGF0dHJpYnV0ZShhdHRyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhdHRyICE9ICdudW1iZXInKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBudW1iZXIsIGJ1dCBnb3QgJyArIHR5cGVvZiBhdHRyKTtcclxuICAgICAgICBjb25zdCB0ZW1wTWVtVWludDMyID0gdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1VaW50MzI7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfZ2V0X2F0dHJpYnV0ZSh0aGlzLl9pbmRleCwgYXR0ciwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIGlmICh0ZW1wTWVtVWludDMyWzBdID09IDI1NSlcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgY29uc3QgYXJyYXlTaXplID0gdGVtcE1lbVVpbnQzMls1XTtcclxuICAgICAgICByZXR1cm4gbmV3IE1lc2hBdHRyaWJ1dGVBY2Nlc3Nvcih0aGlzLl9lbmdpbmUsIHtcclxuICAgICAgICAgICAgYXR0cmlidXRlOiB0ZW1wTWVtVWludDMyWzBdLFxyXG4gICAgICAgICAgICBvZmZzZXQ6IHRlbXBNZW1VaW50MzJbMV0sXHJcbiAgICAgICAgICAgIHN0cmlkZTogdGVtcE1lbVVpbnQzMlsyXSxcclxuICAgICAgICAgICAgZm9ybWF0U2l6ZTogdGVtcE1lbVVpbnQzMlszXSxcclxuICAgICAgICAgICAgY29tcG9uZW50Q291bnQ6IHRlbXBNZW1VaW50MzJbNF0sXHJcbiAgICAgICAgICAgIC8qIFRoZSBXQVNNIEFQSSByZXR1cm5zIGAwYCBmb3IgYSBzY2FsYXIgdmFsdWUuIFdlIGNsYW1wIGl0IHRvIDEgYXMgd2Ugc3RyaWN0bHkgdXNlIGl0IGFzIGEgbXVsdGlwbGllciBmb3IgZ2V0L3NldCBvcGVyYXRpb25zICovXHJcbiAgICAgICAgICAgIGFycmF5U2l6ZTogYXJyYXlTaXplID8gYXJyYXlTaXplIDogMSxcclxuICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLnZlcnRleENvdW50LFxyXG4gICAgICAgICAgICBidWZmZXJUeXBlOiAoYXR0ciAhPT0gTWVzaEF0dHJpYnV0ZS5Kb2ludElkXHJcbiAgICAgICAgICAgICAgICA/IEZsb2F0MzJBcnJheVxyXG4gICAgICAgICAgICAgICAgOiBVaW50MTZBcnJheSksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3kgYW5kIGZyZWUgdGhlIG1lc2hlcyBtZW1vcnkuXHJcbiAgICAgKlxyXG4gICAgICogSXQgaXMgYmVzdCBwcmFjdGljZSB0byBzZXQgdGhlIG1lc2ggdmFyaWFibGUgdG8gYG51bGxgIGFmdGVyIGNhbGxpbmdcclxuICAgICAqIGRlc3Ryb3kgdG8gcHJldmVudCBhY2NpZGVudGFsIHVzZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICBtZXNoLmRlc3Ryb3koKTtcclxuICAgICAqICAgbWVzaCA9IG51bGw7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBBY2Nlc3NpbmcgdGhlIG1lc2ggYWZ0ZXIgZGVzdHJ1Y3Rpb24gYmVoYXZlcyBsaWtlIGFjY2Vzc2luZyBhbiBlbXB0eVxyXG4gICAgICogbWVzaC5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC45LjBcclxuICAgICAqL1xyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9kZXN0cm95KHRoaXMuX2luZGV4KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBtZXNoIGlkcyBhcmVcclxuICAgICAqIGVxdWFsLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdGhlck1lc2ggTWVzaCB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxyXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIG1lc2ggZXF1YWxzIHRoZSBnaXZlbiBtZXNoLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBlcXVhbHMob3RoZXJNZXNoKSB7XHJcbiAgICAgICAgaWYgKCFvdGhlck1lc2gpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXggPT09IG90aGVyTWVzaC5faW5kZXg7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEFuIGl0ZXJhdG9yIG92ZXIgYSBtZXNoIHZlcnRleCBhdHRyaWJ1dGUuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBjb25zdCBtZXNoID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdtZXNoJykubWVzaDtcclxuICogY29uc3QgcG9zaXRpb25zID0gbWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5Qb3NpdGlvbik7XHJcbiAqXHJcbiAqIC8vIEVxdWl2YWxlbnQgdG8gYG5ldyBGbG9hdDMyQXJyYXkoMylgLlxyXG4gKiBjb25zdCB0ZW1wID0gcG9zaXRpb25zLmNyZWF0ZUFycmF5KCk7XHJcbiAqXHJcbiAqIGZvcihsZXQgaSA9IDA7IGkgPCBwb3NpdGlvbnMubGVuZ3RoOyArK2kpIHtcclxuICogICAgIC8vIGBwb3NgIHdpbGwgcmVmZXJlbmNlIGB0ZW1wYCBhbmQgdGhlcmVieSBub3QgYWxsb2NhdGUgYWRkaXRpb25hbFxyXG4gKiAgICAgLy8gbWVtb3J5LCB3aGljaCB3b3VsZCBjYXVzZSBhIHBlcmYgc3Bpa2Ugd2hlbiBjb2xsZWN0ZWQuXHJcbiAqICAgICBjb25zdCBwb3MgPSBwb3NpdGlvbnMuZ2V0KGksIHRlbXApO1xyXG4gKiAgICAgLy8gU2NhbGUgcG9zaXRpb24gYnkgMiBvbiB4LWF4aXMgb25seS5cclxuICogICAgIHBvc1swXSAqPSAyLjA7XHJcbiAqICAgICBwb3NpdGlvbnMuc2V0KGksIHBvcyk7XHJcbiAqIH1cclxuICogLy8gV2UncmUgZG9uZSBtb2RpZnlpbmcsIHRlbGwgdGhlIGVuZ2luZSB0byBtb3ZlIHZlcnRleCBkYXRhIHRvIHRoZSBHUFUuXHJcbiAqIG1lc2gudXBkYXRlKCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lc2hBdHRyaWJ1dGVBY2Nlc3NvciB7XHJcbiAgICAvKiogTWF4IG51bWJlciBvZiBlbGVtZW50cy4gKi9cclxuICAgIGxlbmd0aCA9IDA7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKiogQXR0cmlidXRlIGluZGV4LiBAaGlkZGVuICovXHJcbiAgICBfYXR0cmlidXRlID0gLTE7XHJcbiAgICAvKiogQXR0cmlidXRlIG9mZnNldC4gQGhpZGRlbiAqL1xyXG4gICAgX29mZnNldCA9IDA7XHJcbiAgICAvKiogQXR0cmlidXRlIHN0cmlkZS4gQGhpZGRlbiAqL1xyXG4gICAgX3N0cmlkZSA9IDA7XHJcbiAgICAvKiogRm9ybWF0IHNpemUgbmF0aXZlIGVudW0uIEBoaWRkZW4gKi9cclxuICAgIF9mb3JtYXRTaXplID0gMDtcclxuICAgIC8qKiBOdW1iZXIgb2YgY29tcG9uZW50cyBwZXIgdmVydGV4LiBAaGlkZGVuICovXHJcbiAgICBfY29tcG9uZW50Q291bnQgPSAwO1xyXG4gICAgLyoqIE51bWJlciBvZiB2YWx1ZXMgcGVyIHZlcnRleC4gQGhpZGRlbiAqL1xyXG4gICAgX2FycmF5U2l6ZSA9IDE7XHJcbiAgICAvKipcclxuICAgICAqIENsYXNzIHRvIGluc3RhbnRpYXRlIGFuIEFycmF5QnVmZmVyIHRvIGdldC9zZXQgdmFsdWVzLlxyXG4gICAgICovXHJcbiAgICBfYnVmZmVyVHlwZTtcclxuICAgIC8qKlxyXG4gICAgICogRnVuY3Rpb24gdG8gYWxsb2NhdGUgdGVtcG9yYXJ5IFdBU00gbWVtb3J5LiBJdCBpcyBjYWNoZWQgaW4gdGhlIGFjY2Vzc29yIHRvIGF2b2lkXHJcbiAgICAgKiBjb25kaXRpb25hbHMgZHVyaW5nIGdldC9zZXQuXHJcbiAgICAgKi9cclxuICAgIF90ZW1wQnVmZmVyR2V0dGVyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgUGxlYXNlIHVzZSB7QGxpbmsgTWVzaC5hdHRyaWJ1dGV9IHRvIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBDb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCBob3cgdG8gcmVhZCB0aGUgZGF0YS5cclxuICAgICAqIEBub3RlIERvIG5vdCB1c2UgdGhpcyBjb25zdHJ1Y3Rvci4gSW5zdGVhZCwgcGxlYXNlIHVzZSB0aGUge0BsaW5rIE1lc2guYXR0cmlidXRlfSBtZXRob2QuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZSA9IG9wdGlvbnMuYXR0cmlidXRlO1xyXG4gICAgICAgIHRoaXMuX29mZnNldCA9IG9wdGlvbnMub2Zmc2V0O1xyXG4gICAgICAgIHRoaXMuX3N0cmlkZSA9IG9wdGlvbnMuc3RyaWRlO1xyXG4gICAgICAgIHRoaXMuX2Zvcm1hdFNpemUgPSBvcHRpb25zLmZvcm1hdFNpemU7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50Q291bnQgPSBvcHRpb25zLmNvbXBvbmVudENvdW50O1xyXG4gICAgICAgIHRoaXMuX2FycmF5U2l6ZSA9IG9wdGlvbnMuYXJyYXlTaXplO1xyXG4gICAgICAgIHRoaXMuX2J1ZmZlclR5cGUgPSBvcHRpb25zLmJ1ZmZlclR5cGU7XHJcbiAgICAgICAgdGhpcy5sZW5ndGggPSBvcHRpb25zLmxlbmd0aDtcclxuICAgICAgICB0aGlzLl90ZW1wQnVmZmVyR2V0dGVyID0gKHRoaXMuX2J1ZmZlclR5cGUgPT09IEZsb2F0MzJBcnJheVxyXG4gICAgICAgICAgICA/IHdhc20uZ2V0VGVtcEJ1ZmZlckYzMi5iaW5kKHdhc20pXHJcbiAgICAgICAgICAgIDogd2FzbS5nZXRUZW1wQnVmZmVyVTE2LmJpbmQod2FzbSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgVHlwZWRBcnJheSB0byBob2xkIHRoaXMgYXR0cmlidXRlJ3MgdmFsdWVzLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWZ1bCB0byBjcmVhdGUgYSB2aWV3IHRvIGhvbGQgdGhlIGRhdGEgdG9cclxuICAgICAqIHBhc3MgdG8ge0BsaW5rIGdldH0gYW5kIHtAbGluayBzZXR9XHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogY29uc3QgdmVydGV4Q291bnQgPSA0O1xyXG4gICAgICogY29uc3QgcG9zaXRpb25BdHRyaWJ1dGUgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlBvc2l0aW9uKTtcclxuICAgICAqXHJcbiAgICAgKiAvLyBBIHBvc2l0aW9uIGhhcyAzIGZsb2F0cyBwZXIgdmVydGV4LiBUaHVzLCBwb3NpdGlvbnMgaGFzIGxlbmd0aCAzICogNC5cclxuICAgICAqIGNvbnN0IHBvc2l0aW9ucyA9IHBvc2l0aW9uQXR0cmlidXRlLmNyZWF0ZUFycmF5KHZlcnRleENvdW50KTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqdmVydGljZXMqKiBleHBlY3RlZC5cclxuICAgICAqIEByZXR1cm5zIEEgVHlwZWRBcnJheSB3aXRoIHRoZSBhcHByb3ByaWF0ZSBmb3JtYXQgdG8gYWNjZXNzIHRoZSBkYXRhXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUFycmF5KGNvdW50ID0gMSkge1xyXG4gICAgICAgIGNvdW50ID0gY291bnQgPiB0aGlzLmxlbmd0aCA/IHRoaXMubGVuZ3RoIDogY291bnQ7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLl9idWZmZXJUeXBlKGNvdW50ICogdGhpcy5fY29tcG9uZW50Q291bnQgKiB0aGlzLl9hcnJheVNpemUpO1xyXG4gICAgfVxyXG4gICAgZ2V0KGluZGV4LCBvdXQgPSB0aGlzLmNyZWF0ZUFycmF5KCkpIHtcclxuICAgICAgICBpZiAob3V0Lmxlbmd0aCAlIHRoaXMuX2NvbXBvbmVudENvdW50ICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgb3V0Lmxlbmd0aCwgJHtvdXQubGVuZ3RofSBpcyBub3QgYSBtdWx0aXBsZSBvZiB0aGUgYXR0cmlidXRlIHZlY3RvciBjb21wb25lbnRzLCAke3RoaXMuX2NvbXBvbmVudENvdW50fWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkZXN0ID0gdGhpcy5fdGVtcEJ1ZmZlckdldHRlcihvdXQubGVuZ3RoKTtcclxuICAgICAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuX2J1ZmZlclR5cGUuQllURVNfUEVSX0VMRU1FTlQ7XHJcbiAgICAgICAgY29uc3QgZGVzdFNpemUgPSBlbGVtZW50U2l6ZSAqIG91dC5sZW5ndGg7XHJcbiAgICAgICAgY29uc3Qgc3JjRm9ybWF0U2l6ZSA9IHRoaXMuX2Zvcm1hdFNpemUgKiB0aGlzLl9hcnJheVNpemU7XHJcbiAgICAgICAgY29uc3QgZGVzdEZvcm1hdFNpemUgPSB0aGlzLl9jb21wb25lbnRDb3VudCAqIGVsZW1lbnRTaXplICogdGhpcy5fYXJyYXlTaXplO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2dldF9hdHRyaWJ1dGVfdmFsdWVzKHRoaXMuX2F0dHJpYnV0ZSwgc3JjRm9ybWF0U2l6ZSwgdGhpcy5fb2Zmc2V0ICsgaW5kZXggKiB0aGlzLl9zdHJpZGUsIHRoaXMuX3N0cmlkZSwgZGVzdEZvcm1hdFNpemUsIGRlc3QuYnl0ZU9mZnNldCwgZGVzdFNpemUpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0Lmxlbmd0aDsgKytpKVxyXG4gICAgICAgICAgICBvdXRbaV0gPSBkZXN0W2ldO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBhdHRyaWJ1dGUgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaSBJbmRleFxyXG4gICAgICogQHBhcmFtIHYgVmFsdWUgdG8gc2V0IHRoZSBlbGVtZW50IHRvXHJcbiAgICAgKlxyXG4gICAgICogYHYubGVuZ3RoYCBuZWVkcyB0byBiZSBhIG11bHRpcGxlIG9mIHRoZSBhdHRyaWJ1dGVzIGNvbXBvbmVudCBjb3VudCwgc2VlXHJcbiAgICAgKiB7QGxpbmsgTWVzaEF0dHJpYnV0ZX0uIElmIGB2Lmxlbmd0aGAgaXMgbW9yZSB0aGFuIG9uZSBtdWx0aXBsZSwgaXQgd2lsbCBiZVxyXG4gICAgICogZmlsbGVkIHdpdGggdGhlIG5leHQgbiBhdHRyaWJ1dGUgZWxlbWVudHMsIHdoaWNoIGNhbiByZWR1Y2Ugb3ZlcmhlYWRcclxuICAgICAqIG9mIHRoaXMgY2FsbC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZylcclxuICAgICAqL1xyXG4gICAgc2V0KGksIHYpIHtcclxuICAgICAgICBpZiAodi5sZW5ndGggJSB0aGlzLl9jb21wb25lbnRDb3VudCAhPT0gMClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvdXQubGVuZ3RoLCAke3YubGVuZ3RofSBpcyBub3QgYSBtdWx0aXBsZSBvZiB0aGUgYXR0cmlidXRlIHZlY3RvciBjb21wb25lbnRzLCAke3RoaXMuX2NvbXBvbmVudENvdW50fWApO1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5fYnVmZmVyVHlwZS5CWVRFU19QRVJfRUxFTUVOVDtcclxuICAgICAgICBjb25zdCBzcmNTaXplID0gZWxlbWVudFNpemUgKiB2Lmxlbmd0aDtcclxuICAgICAgICBjb25zdCBzcmNGb3JtYXRTaXplID0gdGhpcy5fY29tcG9uZW50Q291bnQgKiBlbGVtZW50U2l6ZSAqIHRoaXMuX2FycmF5U2l6ZTtcclxuICAgICAgICBjb25zdCBkZXN0Rm9ybWF0U2l6ZSA9IHRoaXMuX2Zvcm1hdFNpemUgKiB0aGlzLl9hcnJheVNpemU7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIC8qIFVubGVzcyB3ZSBhcmUgYWxyZWFkeSB3b3JraW5nIHdpdGggZGF0YSBmcm9tIFdBU00gaGVhcCwgd2VcclxuICAgICAgICAgKiBuZWVkIHRvIGNvcHkgaW50byB0ZW1wb3JhcnkgbWVtb3J5LiAqL1xyXG4gICAgICAgIGlmICh2LmJ1ZmZlciAhPSB3YXNtLkhFQVBVOC5idWZmZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgZGVzdCA9IHRoaXMuX3RlbXBCdWZmZXJHZXR0ZXIodi5sZW5ndGgpO1xyXG4gICAgICAgICAgICBkZXN0LnNldCh2KTtcclxuICAgICAgICAgICAgdiA9IGRlc3Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdhc20uX3dsX21lc2hfc2V0X2F0dHJpYnV0ZV92YWx1ZXModGhpcy5fYXR0cmlidXRlLCBzcmNGb3JtYXRTaXplLCB2LmJ5dGVPZmZzZXQsIHNyY1NpemUsIGRlc3RGb3JtYXRTaXplLCB0aGlzLl9vZmZzZXQgKyBpICogdGhpcy5fc3RyaWRlLCB0aGlzLl9zdHJpZGUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBXcmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSBtYXRlcmlhbC5cclxuICpcclxuICogRWFjaCBtYXRlcmlhbCBpbnN0YW5jZSB3aWxsIGhhdmUgcHJvcGVydGllcyBhc3NvY2lhdGVkIHRvIHRoZSBwaXBlbGluZSBpdCB1c2VzLlxyXG4gKiBUaGUgbWF0ZXJpYWwgcHJvcGVydGllcyBhcmUgYXV0b21hdGljYWxseSBhZGRlZCB0byBlYWNoIG1hdGVyaWFsIGluc3RhbmNlLCBleGFtcGxlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBjb25zdCBtYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWw7IC8vIE1hdGVyaWFsIHdpdGggYSBgUGhvbmcgT3BhcXVlIFRleHR1cmVkYCBwaXBlbGluZVxyXG4gKiAvLyBZb3UgY2FuIGFjY2VzcyBhbGwgdGhlIG1hdGVyaWFsIHByb3BlcnRpZXMgZnJvbSB0aGUgZWRpdG9yIHVzaW5nOlxyXG4gKiBtYXRlcmlhbC5kaWZmdXNlVGV4dHVyZSA9IG51bGw7XHJcbiAqIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IFsxLjAsIDAuMCwgMC4wLCAxLjBdO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBNYXRlcmlhbCB7XHJcbiAgICAvKipcclxuICAgICAqIEluZGV4IG9mIHRoaXMgbWF0ZXJpYWwgaW4gdGhlIG1hbmFnZXIuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfaW5kZXg7XHJcbiAgICAvKipcclxuICAgICAqIE1hdGVyaWFsIGRlZmluaXRpb24gaW5kZXggaW4gdGhlIHNjZW5lLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX2RlZmluaXRpb247XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBNYXRlcmlhbC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBDcmVhdGluZyBtYXRlcmlhbCBpcyBleHBlbnNpdmUuIFBsZWFzZSB1c2Uge0BsaW5rIE1hdGVyaWFsI2Nsb25lfSB0byBjbG9uZSBhIG1hdGVyaWFsLlxyXG4gICAgICogQG5vdGUgRG8gbm90IHVzZSB0aGlzIGNvbnN0cnVjdG9yIGRpcmVjdGx5IHdpdGggYW4gaW5kZXgsIHRoaXMgaXMgcmVzZXJ2ZWQgZm9yIGludGVybmFsIHB1cnBvc2VzLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIHBhcmFtcykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgICAgICBpZiAodHlwZW9mIHBhcmFtcyAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgaWYgKCFwYXJhbXM/LnBpcGVsaW5lKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBwYXJhbWV0ZXIgJ3BpcGVsaW5lJ1wiKTtcclxuICAgICAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgICAgICBjb25zdCBwaXBlbGluZSA9IHBhcmFtcy5waXBlbGluZTtcclxuICAgICAgICAgICAgdGhpcy5faW5kZXggPSB3YXNtLl93bF9tYXRlcmlhbF9jcmVhdGUod2FzbS50ZW1wVVRGOChwaXBlbGluZSkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faW5kZXggPCAwKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWNoIHBpcGVsaW5lICcke3BpcGVsaW5lfSdgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gcGFyYW1zO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9kZWZpbml0aW9uID0gdGhpcy5fZW5naW5lLndhc20uX3dsX21hdGVyaWFsX2dldF9kZWZpbml0aW9uKHRoaXMuX2luZGV4KTtcclxuICAgICAgICBpZiAoIXRoaXMuX2VuZ2luZS53YXNtLl9tYXRlcmlhbERlZmluaXRpb25zW3RoaXMuX2RlZmluaXRpb25dKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hdGVyaWFsIERlZmluaXRpb24gJHt0aGlzLl9kZWZpbml0aW9ufSBub3QgZm91bmQgZm9yIG1hdGVyaWFsIHdpdGggaW5kZXggJHt0aGlzLl9pbmRleH1gKTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb3h5KHRoaXMsIHtcclxuICAgICAgICAgICAgZ2V0KHRhcmdldCwgcHJvcCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2FzbSA9IGVuZ2luZS53YXNtO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IHdhc20uX21hdGVyaWFsRGVmaW5pdGlvbnNbdGFyZ2V0Ll9kZWZpbml0aW9uXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gZGVmaW5pdGlvbi5nZXQocHJvcCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRbcHJvcF07XHJcbiAgICAgICAgICAgICAgICBpZiAod2FzbS5fd2xfbWF0ZXJpYWxfZ2V0X3BhcmFtX3ZhbHVlKHRhcmdldC5faW5kZXgsIHBhcmFtLmluZGV4LCB3YXNtLl90ZW1wTWVtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwYXJhbS50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuVW5zaWduZWRJbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZS5jb21wb25lbnRDb3VudCA9PSAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB3YXNtLl90ZW1wTWVtVWludDMyWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgVWludDMyQXJyYXkod2FzbS5IRUFQVTMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgdHlwZS5jb21wb25lbnRDb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuSW50OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUuY29tcG9uZW50Q291bnQgPT0gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gd2FzbS5fdGVtcE1lbUludFswXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IEludDMyQXJyYXkod2FzbS5IRUFQMzIuYnVmZmVyLCB3YXNtLl90ZW1wTWVtLCB0eXBlLmNvbXBvbmVudENvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5GbG9hdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlLmNvbXBvbmVudENvdW50ID09IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHdhc20uX3RlbXBNZW1GbG9hdFswXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl90ZW1wTWVtLCB0eXBlLmNvbXBvbmVudENvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5TYW1wbGVyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVuZ2luZS50ZXh0dXJlcy53cmFwKHdhc20uX3RlbXBNZW1JbnRbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHR5cGUgJHt0eXBlLnR5cGV9IG9uIHBhcmFtZXRlciAke3BhcmFtLmluZGV4fSBmb3IgbWF0ZXJpYWwgJHt0YXJnZXQuX2luZGV4fWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdhc20gPSBlbmdpbmUud2FzbTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSB3YXNtLl9tYXRlcmlhbERlZmluaXRpb25zW3RhcmdldC5fZGVmaW5pdGlvbl07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbSA9IGRlZmluaXRpb24uZ2V0KHByb3ApO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwYXJhbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHBhcmFtLnR5cGU7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuVW5zaWduZWRJbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5JbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5TYW1wbGVyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ID0gdmFsdWUuaWQgPz8gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhc20uX3dsX21hdGVyaWFsX3NldF9wYXJhbV92YWx1ZV91aW50KHRhcmdldC5faW5kZXgsIHBhcmFtLmluZGV4LCB2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5GbG9hdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgPSB2YWx1ZS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyArK2kpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0W2ldID0gdmFsdWVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FzbS5fd2xfbWF0ZXJpYWxfc2V0X3BhcmFtX3ZhbHVlX2Zsb2F0KHRhcmdldC5faW5kZXgsIHBhcmFtLmluZGV4LCB3YXNtLl90ZW1wTWVtLCBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuRm9udDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXR0aW5nIGZvbnQgcHJvcGVydGllcyBpcyBjdXJyZW50bHkgdW5zdXBwb3J0ZWQuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rICNwaXBlbGluZX0gaW5zdGVhZC4gKi9cclxuICAgIGdldCBzaGFkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGlwZWxpbmU7XHJcbiAgICB9XHJcbiAgICAvKiogTmFtZSBvZiB0aGUgcGlwZWxpbmUgdXNlZCBieSB0aGlzIG1hdGVyaWFsLiAqL1xyXG4gICAgZ2V0IHBpcGVsaW5lKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcod2FzbS5fd2xfbWF0ZXJpYWxfZ2V0X3BpcGVsaW5lKHRoaXMuX2luZGV4KSk7XHJcbiAgICB9XHJcbiAgICAvKiogSG9zdGluZyBlbmdpbmUgaW5zdGFuY2UuICovXHJcbiAgICBnZXQgZW5naW5lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIGNvcHkgb2YgdGhlIHVuZGVybHlpbmcgbmF0aXZlIG1hdGVyaWFsLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIE1hdGVyaWFsIGNsb25lLlxyXG4gICAgICovXHJcbiAgICBjbG9uZSgpIHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9tYXRlcmlhbF9jbG9uZSh0aGlzLl9pbmRleCk7XHJcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBNYXRlcmlhbCh0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjb21wYXJpbmcgd2hldGhlciB0aGUgd3JhcHBlZCBuYXRpdmUgbWF0ZXJpYWwgaWRzIGFyZVxyXG4gICAgICogZXF1YWwuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyTWF0ZXJpYWwgTWF0ZXJpYWwgdG8gY2hlY2sgZXF1YWxpdHkgd2l0aC5cclxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBtYXRlcmlhbCBlcXVhbHMgdGhlIGdpdmVuIG1hdGVyaWFsLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBlcXVhbHMob3RoZXJNYXRlcmlhbCkge1xyXG4gICAgICAgIGlmICghb3RoZXJNYXRlcmlhbClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleCA9PT0gb3RoZXJNYXRlcmlhbC5faW5kZXg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdyYXAgYSBuYXRpdmUgbWF0ZXJpYWwgaW5kZXguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGVuZ2luZSBFbmdpbmUgaW5zdGFuY2UuXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggVGhlIGluZGV4LlxyXG4gICAgICogQHJldHVybnMgTWF0ZXJpYWwgaW5zdGFuY2Ugb3IgYG51bGxgIGlmIGluZGV4IDw9IDAuXHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBgbmV3IE1hdGVyaWFsKClgIGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyB3cmFwKGVuZ2luZSwgaW5kZXgpIHtcclxuICAgICAgICAvKiogQHRvZG86IHRoaXMgcHJvcGFnYXRlIG51bGxhYmxlIGluIHRoZSBlbnRpcmUgY29kZWJhc2UuIFJlbW92ZS4gKi9cclxuICAgICAgICByZXR1cm4gaW5kZXggPiAwID8gbmV3IE1hdGVyaWFsKGVuZ2luZSwgaW5kZXgpIDogbnVsbDtcclxuICAgIH1cclxufVxyXG4vKiogVGVtcG9yYXJ5IGNhbnZhcyAqL1xyXG5sZXQgdGVtcDJkID0gbnVsbDtcclxuLyoqXHJcbiAqIFdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIHRleHR1cmUgZGF0YS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBUZXh0dXJlIHtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKiBJbmRleCBpbiB0aGUgbWFuYWdlci4gQGhpZGRlbiAqL1xyXG4gICAgX2lkID0gMDtcclxuICAgIC8qKiBIVE1MIGltYWdlIGluZGV4LiBAaGlkZGVuICovXHJcbiAgICBfaW1hZ2VJbmRleCA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBlbmdpbmUgVGhlIGVuZ2luZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIHBhcmFtIEhUTUwgbWVkaWEgZWxlbWVudCB0byBjcmVhdGUgdGV4dHVyZSBmcm9tIG9yIHRleHR1cmUgaWQgdG8gd3JhcC5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBwYXJhbSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZSA/PyBXTDtcclxuICAgICAgICBjb25zdCB3YXNtID0gZW5naW5lLndhc207XHJcbiAgICAgICAgaWYgKHBhcmFtIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCB8fFxyXG4gICAgICAgICAgICBwYXJhbSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQgfHxcclxuICAgICAgICAgICAgcGFyYW0gaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHdhc20uX2ltYWdlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHdhc20uX2ltYWdlcy5wdXNoKHBhcmFtKTtcclxuICAgICAgICAgICAgdGhpcy5faW1hZ2VJbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICAvKiogQHRvZG86IEZvciAxLjIuMCwgaW1hZ2VzIHJlZmVyZW5jZWQgaGVyZSBzaG91bGQgYmUgcGVyLXNjZW5lLCBpLmUuLCBiYXNlZFxyXG4gICAgICAgICAgICAgKiBvbiB0aGUgbWFpbiBzY2VuZSBpbWFnZXMuICovXHJcbiAgICAgICAgICAgIHRoaXMuX2lkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX3JlbmRlcmVyX2FkZEltYWdlKGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lkID0gcGFyYW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2VuZ2luZS50ZXh0dXJlcy5fc2V0KHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLyoqIFdoZXRoZXIgdGhpcyB0ZXh0dXJlIGlzIHZhbGlkLiAqL1xyXG4gICAgZ2V0IHZhbGlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA+PSAwO1xyXG4gICAgfVxyXG4gICAgLyoqIEluZGV4IGluIHRoaXMgbWFuYWdlci4gKi9cclxuICAgIGdldCBpZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9XHJcbiAgICAvKiogVXBkYXRlIHRoZSB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBIVE1MIGVsZW1lbnQgKGUuZy4gcmVmbGVjdCB0aGUgY3VycmVudCBmcmFtZSBvZiBhIHZpZGVvKS4gKi9cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMudmFsaWQgfHwgdGhpcy5faW1hZ2VJbmRleCA9PT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9yZW5kZXJlcl91cGRhdGVJbWFnZSh0aGlzLl9pZCwgdGhpcy5faW1hZ2VJbmRleCk7XHJcbiAgICB9XHJcbiAgICAvKiogV2lkdGggb2YgdGhlIHRleHR1cmUuICovXHJcbiAgICBnZXQgd2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0dXJlX3dpZHRoKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKiBIZWlnaHQgb2YgdGhlIHRleHR1cmUuICovXHJcbiAgICBnZXQgaGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dHVyZV9oZWlnaHQodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xyXG4gICAgZ2V0IGVuZ2luZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgYSBzdWJyYW5nZSBvbiB0aGUgdGV4dHVyZSB0byBtYXRjaCB0aGUgSFRNTCBlbGVtZW50IChlLmcuIHJlZmxlY3QgdGhlIGN1cnJlbnQgZnJhbWUgb2YgYSB2aWRlbykuXHJcbiAgICAgKlxyXG4gICAgICogVXNhZ2U6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIC8vIENvcGllcyByZWN0YW5nbGUgb2YgcGl4ZWwgc3RhcnRpbmcgZnJvbSAoMTAsIDIwKVxyXG4gICAgICogdGV4dHVyZS51cGRhdGVTdWJJbWFnZSgxMCwgMjAsIDYwMCwgNDAwKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB4IHggb2Zmc2V0XHJcbiAgICAgKiBAcGFyYW0geSB5IG9mZnNldFxyXG4gICAgICogQHBhcmFtIHcgd2lkdGhcclxuICAgICAqIEBwYXJhbSBoIGhlaWdodFxyXG4gICAgICovXHJcbiAgICB1cGRhdGVTdWJJbWFnZSh4LCB5LCB3LCBoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkIHx8IHRoaXMuX2ltYWdlSW5kZXggPT09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvKiBMYXp5IGluaXRpYWxpemUgdGVtcCBjYW52YXMgKi9cclxuICAgICAgICBpZiAoIXRlbXAyZCkge1xyXG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgIGlmICghY3R4KSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmUudXBkYXRlU3ViSW1hZ2UoKTogRmFpbGVkIHRvIG9idGFpbiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGVtcDJkID0ge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLFxyXG4gICAgICAgICAgICAgICAgY3R4LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgaW1nID0gd2FzbS5faW1hZ2VzW3RoaXMuX2ltYWdlSW5kZXhdO1xyXG4gICAgICAgIGlmICghaW1nKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGVtcDJkLmNhbnZhcy53aWR0aCA9IHc7XHJcbiAgICAgICAgdGVtcDJkLmNhbnZhcy5oZWlnaHQgPSBoO1xyXG4gICAgICAgIHRlbXAyZC5jdHguZHJhd0ltYWdlKGltZywgeCwgeSwgdywgaCwgMCwgMCwgdywgaCk7XHJcbiAgICAgICAgY29uc3QgeU9mZnNldCA9IChpbWcudmlkZW9IZWlnaHQgPz8gaW1nLmhlaWdodCkgLSB5IC0gaDtcclxuICAgICAgICB3YXNtLl9pbWFnZXNbdGhpcy5faW1hZ2VJbmRleF0gPSB0ZW1wMmQuY2FudmFzO1xyXG4gICAgICAgIHdhc20uX3dsX3JlbmRlcmVyX3VwZGF0ZUltYWdlKHRoaXMuX2lkLCB0aGlzLl9pbWFnZUluZGV4LCB4LCB5T2Zmc2V0KTtcclxuICAgICAgICB3YXNtLl9pbWFnZXNbdGhpcy5faW1hZ2VJbmRleF0gPSBpbWc7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3kgYW5kIGZyZWUgdGhlIHRleHR1cmUncyB0ZXh0dXJlIGFsdGFzIHNwYWNlIGFuZCBtZW1vcnkuXHJcbiAgICAgKlxyXG4gICAgICogSXQgaXMgYmVzdCBwcmFjdGljZSB0byBzZXQgdGhlIHRleHR1cmUgdmFyaWFibGUgdG8gYG51bGxgIGFmdGVyIGNhbGxpbmdcclxuICAgICAqIGRlc3Ryb3kgdG8gcHJldmVudCBhY2NpZGVudGFsIHVzZSBvZiB0aGUgaW52YWxpZCB0ZXh0dXJlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgIHRleHR1cmUuZGVzdHJveSgpO1xyXG4gICAgICogICB0ZXh0dXJlID0gbnVsbDtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjkuMFxyXG4gICAgICovXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLl9kZXN0cm95VGV4dHVyZSh0aGlzKTtcclxuICAgICAgICB0aGlzLl9pZCA9IC0xO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlSW5kZXggPSBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIHRleHR1cmUgaWRzIGFyZVxyXG4gICAgICogZXF1YWwuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyVGV4dHVyZSBUZXh0dXJlIHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgdGV4dHVyZSBlcXVhbHMgdGhlIGdpdmVuIHRleHR1cmUuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGVxdWFscyhvdGhlclRleHR1cmUpIHtcclxuICAgICAgICBpZiAoIW90aGVyVGV4dHVyZSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA9PT0gb3RoZXJUZXh0dXJlLl9pZDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogV3JhcHBlciBhcm91bmQgYSBuYXRpdmUgYW5pbWF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbiB7XHJcbiAgICAvKiogSW5kZXggb2YgdGhlIG1lc2ggaW4gdGhlIG1hbmFnZXIuIEBoaWRkZW4gKi9cclxuICAgIF9pbmRleDtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGluZGV4IEluZGV4IGluIHRoZSBtYW5hZ2VyXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSA9IFdMLCBpbmRleCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgICAgICB0aGlzLl9pbmRleCA9IGluZGV4O1xyXG4gICAgfVxyXG4gICAgLyoqIER1cmF0aW9uIG9mIHRoaXMgYW5pbWF0aW9uLiAqL1xyXG4gICAgZ2V0IGR1cmF0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2dldF9kdXJhdGlvbih0aGlzLl9pbmRleCk7XHJcbiAgICB9XHJcbiAgICAvKiogTnVtYmVyIG9mIHRyYWNrcyBpbiB0aGlzIGFuaW1hdGlvbi4gKi9cclxuICAgIGdldCB0cmFja0NvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2dldF90cmFja0NvdW50KHRoaXMuX2luZGV4KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2xvbmUgdGhpcyBhbmltYXRpb24gcmV0YXJnZXRlZCB0byBhIG5ldyBzZXQgb2Ygb2JqZWN0cy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgY2xvbmUgc2hhcmVzIG1vc3Qgb2YgdGhlIGRhdGEgd2l0aCB0aGUgb3JpZ2luYWwgYW5kIGlzIHRoZXJlZm9yZVxyXG4gICAgICogbGlnaHQtd2VpZ2h0LlxyXG4gICAgICpcclxuICAgICAqICoqRXhwZXJpbWVudGFsOioqIFRoaXMgQVBJIG1pZ2h0IGNoYW5nZSBpbiB1cGNvbWluZyB2ZXJzaW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBJZiByZXRhcmdldGluZyB0byB7QGxpbmsgU2tpbn0sIHRoZSBqb2luIG5hbWVzIHdpbGwgYmUgdXNlZCB0byBkZXRlcm1pbmUgYSBtYXBwaW5nXHJcbiAgICAgKiBmcm9tIHRoZSBwcmV2aW91cyBza2luIHRvIHRoZSBuZXcgc2tpbi4gVGhlIHNvdXJjZSBza2luIHdpbGwgYmUgcmV0cmlldmVkIGZyb21cclxuICAgICAqIHRoZSBmaXJzdCB0cmFjayBpbiB0aGUgYW5pbWF0aW9uIHRoYXQgdGFyZ2V0cyBhIGpvaW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuZXdUYXJnZXRzIE5ldyB0YXJnZXRzIHBlciB0cmFjay4gRXhwZWN0ZWQgdG8gaGF2ZVxyXG4gICAgICogICAgICB7QGxpbmsgQW5pbWF0aW9uI3RyYWNrQ291bnR9IGVsZW1lbnRzIG9yIHRvIGJlIGEge0BsaW5rIFNraW59LlxyXG4gICAgICogQHJldHVybnMgVGhlIHJldGFyZ2V0ZWQgY2xvbmUgb2YgdGhpcyBhbmltYXRpb24uXHJcbiAgICAgKi9cclxuICAgIHJldGFyZ2V0KG5ld1RhcmdldHMpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgaWYgKG5ld1RhcmdldHMgaW5zdGFuY2VvZiBTa2luKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFuaW1JZCA9IHdhc20uX3dsX2FuaW1hdGlvbl9yZXRhcmdldFRvU2tpbih0aGlzLl9pbmRleCwgbmV3VGFyZ2V0cy5faW5kZXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGlvbih0aGlzLl9lbmdpbmUsIGFuaW1JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXdUYXJnZXRzLmxlbmd0aCAhPSB0aGlzLnRyYWNrQ291bnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0V4cGVjdGVkICcgK1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFja0NvdW50LnRvU3RyaW5nKCkgK1xyXG4gICAgICAgICAgICAgICAgJyB0YXJnZXRzLCBidXQgZ290ICcgK1xyXG4gICAgICAgICAgICAgICAgbmV3VGFyZ2V0cy5sZW5ndGgudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX21hbGxvYygyICogbmV3VGFyZ2V0cy5sZW5ndGgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VGFyZ2V0cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB3YXNtLkhFQVBVMTZbcHRyID4+ICgxICsgaSldID0gbmV3VGFyZ2V0c1tpXS5vYmplY3RJZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYW5pbUlkID0gd2FzbS5fd2xfYW5pbWF0aW9uX3JldGFyZ2V0KHRoaXMuX2luZGV4LCBwdHIpO1xyXG4gICAgICAgIHdhc20uX2ZyZWUocHRyKTtcclxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGlvbih0aGlzLl9lbmdpbmUsIGFuaW1JZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjb21wYXJpbmcgd2hldGhlciB0aGUgd3JhcHBlZCBuYXRpdmUgYW5pbWF0aW9uIGlkc1xyXG4gICAgICogYXJlIGVxdWFsLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdGhlckFuaW1hdGlvbiBBbmltYXRpb24gdG8gY2hlY2sgZXF1YWxpdHkgd2l0aC5cclxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBhbmltYXRpb24gZXF1YWxzIHRoZSBnaXZlbiBhbmltYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGVxdWFscyhvdGhlckFuaW1hdGlvbikge1xyXG4gICAgICAgIGlmICghb3RoZXJBbmltYXRpb24pXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXggPT09IG90aGVyQW5pbWF0aW9uLl9pbmRleDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogU2NlbmUgZ3JhcGggb2JqZWN0LlxyXG4gKlxyXG4gKiBOb2RlIGluIHRoZSBzY2VuZSBncmFwaCBvciBcImVudGl0eVwiLiBDb25zaXN0cyBvZiB0cmFuc2Zvcm1hdGlvbiBhbmQgYSByZWZlcmVuY2VcclxuICogdG8gaXRzIHBhcmVudCBvYmplY3QuIFVzdWFsbHkgaG9sZHMgY29tcG9uZW50cyBhbmQgaXMgYWNjZXNzaWJsZSBieSBjb21wb25lbnRzXHJcbiAqIHRocm91Z2gge0BsaW5rIENvbXBvbmVudCNvYmplY3R9LlxyXG4gKlxyXG4gKiBPYmplY3RzIGFyZSBzdG9yZWQgaW4gYSBkYXRhIG9yaWVudGVkIG1hbm5lciBpbnNpZGUgV2ViQXNzZW1ibHkgbWVtb3J5LiBUaGlzIGNsYXNzXHJcbiAqIGlzIGEgSmF2YVNjcmlwdCBBUEkgd3JhcHBlciBhcm91bmQgdGhpcyBtZW1vcnkgZm9yIG1vcmUgY29udmVuaWVudCB1c2UgaW5cclxuICogY29tcG9uZW50cy5cclxuICpcclxuICogT2JqZWN0cyBjYW4gYmUgY3JlYXRlZCBhbmQgYWRkZWQgdG8gYSBzY2VuZSB0aHJvdWdoXHJcbiAqIHtAbGluayBTY2VuZSNhZGRPYmplY3R9IG9uIHRoZSB7QGxpbmsgV29uZGVybGFuZEVuZ2luZS5zY2VuZX0uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgT2JqZWN0M0Qge1xyXG4gICAgLyoqXHJcbiAgICAgKiBPYmplY3QgaW5kZXggaW4gdGhlIG1hbmFnZXIuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfb2JqZWN0SWQgPSAtMTtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIG8gT2JqZWN0IGlkIHRvIHdyYXBcclxuICAgICAqXHJcbiAgICAgKiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgcGxlYXNlIHVzZSB7QGxpbmsgV29uZGVybGFuZEVuZ2luZS53cmFwT2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIG8pIHtcclxuICAgICAgICB0aGlzLl9vYmplY3RJZCA9IG87XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBOYW1lIG9mIHRoZSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogVXNlZnVsIGZvciBpZGVudGlmeWluZyBvYmplY3RzIGR1cmluZyBkZWJ1Z2dpbmcuXHJcbiAgICAgKi9cclxuICAgIGdldCBuYW1lKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcod2FzbS5fd2xfb2JqZWN0X25hbWUodGhpcy5vYmplY3RJZCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIG9iamVjdCdzIG5hbWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5ld05hbWUgVGhlIG5ldyBuYW1lIHRvIHNldC5cclxuICAgICAqL1xyXG4gICAgc2V0IG5hbWUobmV3TmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3Rfc2V0X25hbWUodGhpcy5vYmplY3RJZCwgd2FzbS50ZW1wVVRGOChuZXdOYW1lKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFBhcmVudCBvZiB0aGlzIG9iamVjdCBvciBgbnVsbGAgaWYgcGFyZW50ZWQgdG8gcm9vdC5cclxuICAgICAqL1xyXG4gICAgZ2V0IHBhcmVudCgpIHtcclxuICAgICAgICBjb25zdCBwID0gdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9wYXJlbnQodGhpcy5vYmplY3RJZCk7XHJcbiAgICAgICAgcmV0dXJuIHAgPT09IDAgPyBudWxsIDogdGhpcy5fZW5naW5lLndyYXBPYmplY3QocCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoaWxkcmVuIG9mIHRoaXMgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIENoaWxkIG9yZGVyIGlzICoqdW5kZWZpbmVkKiouIE5vIGFzc3VtcHRpb25zIHNob3VsZCBiZSBtYWRlXHJcbiAgICAgKiBhYm91dCB0aGUgaW5kZXggb2YgYSBzcGVjaWZpYyBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogSWYgeW91IG5lZWQgdG8gYWNjZXNzIGEgc3BlY2lmaWMgY2hpbGQgb2YgdGhpcyBvYmplY3QsIHlvdSBjYW5cclxuICAgICAqIHVzZSB7QGxpbmsgT2JqZWN0M0QuZmluZEJ5TmFtZX0uXHJcbiAgICAgKlxyXG4gICAgICogV2hlbiB0aGUgb2JqZWN0IGV4aXN0cyBpbiB0aGUgc2NlbmUgYXQgZWRpdG9yIHRpbWUsIHByZWZlciBwYXNzaW5nIGl0IGFzXHJcbiAgICAgKiBhIGNvbXBvbmVudCBwcm9wZXJ0eS5cclxuICAgICAqL1xyXG4gICAgZ2V0IGNoaWxkcmVuKCkge1xyXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuQ291bnQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X2dldF9jaGlsZHJlbl9jb3VudCh0aGlzLm9iamVjdElkKTtcclxuICAgICAgICBpZiAoY2hpbGRyZW5Db3VudCA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLnJlcXVpcmVUZW1wTWVtKGNoaWxkcmVuQ291bnQgKiAyKTtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X2dldF9jaGlsZHJlbih0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtLCB3YXNtLl90ZW1wTWVtU2l6ZSA+PiAxKTtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IG5ldyBBcnJheShjaGlsZHJlbkNvdW50KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuQ291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbltpXSA9IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KHdhc20uX3RlbXBNZW1VaW50MTZbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlcGFyZW50IG9iamVjdCB0byBnaXZlbiBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgUmVwYXJlbnRpbmcgaXMgbm90IHRyaXZpYWwgYW5kIG1pZ2h0IGhhdmUgYSBub3RpY2VhYmxlIHBlcmZvcm1hbmNlIGltcGFjdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmV3UGFyZW50IE5ldyBwYXJlbnQgb3IgYG51bGxgIHRvIHBhcmVudCB0byByb290XHJcbiAgICAgKi9cclxuICAgIHNldCBwYXJlbnQobmV3UGFyZW50KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfcGFyZW50KHRoaXMub2JqZWN0SWQsIG5ld1BhcmVudCA9PSBudWxsID8gMCA6IG5ld1BhcmVudC5vYmplY3RJZCk7XHJcbiAgICB9XHJcbiAgICAvKiogT2JqZWN0IGluZGV4IGluIHRoZSBtYW5hZ2VyLiAqL1xyXG4gICAgZ2V0IG9iamVjdElkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3RJZDtcclxuICAgIH1cclxuICAgIC8qKiBIb3N0aW5nIGVuZ2luZSBpbnN0YW5jZS4gKi9cclxuICAgIGdldCBlbmdpbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2xvbmUgdGhpcyBoaWVyYXJjaHkgaW50byBhIG5ldyBvbmUuXHJcbiAgICAgKlxyXG4gICAgICogQ2xvbmluZyBjb3BpZXMgdGhlIGhpZXJhcmNoeSBzdHJ1Y3R1cmUsIG9iamVjdCBuYW1lcyxcclxuICAgICAqIGFzIHdlbGwgYXMgY29tcG9uZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBKYXZhU2NyaXB0IGNvbXBvbmVudHMgYXJlIGNsb25lZCB1c2luZyB7QGxpbmsgQ29tcG9uZW50LmNvcHl9LiBZb3UgY2FuXHJcbiAgICAgKiBvdmVycmlkZSB0aGlzIG1ldGhvZCBpbiB5b3VyIGNvbXBvbmVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBhcmVudCBUaGUgcGFyZW50IGZvciB0aGUgY2xvbmVkIGhpZXJhcmNoeSBvciBgbnVsbGAgdG8gY2xvbmVcclxuICAgICAqICAgICBpbnRvIHRoZSBzY2VuZSByb290LiBEZWZhdWx0cyB0byBgbnVsbGAuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgVGhlIGNsb25lIG9mIHRoaXMgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBjbG9uZShwYXJlbnQgPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgZW5naW5lID0gdGhpcy5fZW5naW5lO1xyXG4gICAgICAgIGNvbnN0IGlkID0gZW5naW5lLndhc20uX3dsX29iamVjdF9jbG9uZSh0aGlzLl9vYmplY3RJZCwgcGFyZW50ID8gcGFyZW50Ll9vYmplY3RJZCA6IDApO1xyXG4gICAgICAgIHJldHVybiBlbmdpbmUud3JhcE9iamVjdChpZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IGxvY2FsIHRyYW5zZm9ybWF0aW9uICh0cmFuc2xhdGlvbiwgcm90YXRpb24gYW5kIHNjYWxpbmcpIHRvIGlkZW50aXR5LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcmVzZXRUcmFuc2Zvcm0oKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yZXNldF90cmFuc2xhdGlvbl9yb3RhdGlvbih0aGlzLm9iamVjdElkKTtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3NjYWxpbmcodGhpcy5vYmplY3RJZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IGxvY2FsIHBvc2l0aW9uIGFuZCByb3RhdGlvbiB0byBpZGVudGl0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJlc2V0UG9zaXRpb25Sb3RhdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3RyYW5zbGF0aW9uX3JvdGF0aW9uKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJlc2V0UG9zaXRpb25Sb3RhdGlvbn0gaW5zdGVhZC4gKi9cclxuICAgIHJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgbG9jYWwgcm90YXRpb24sIGtlZXAgdHJhbnNsYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVG8gcmVzZXQgYm90aCByb3RhdGlvbiBhbmQgdHJhbnNsYXRpb24sIHByZWZlclxyXG4gICAgICogICAgICAge0BsaW5rIHJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbn0uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByZXNldFJvdGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcmVzZXRfcm90YXRpb24odGhpcy5vYmplY3RJZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IGxvY2FsIHRyYW5zbGF0aW9uLCBrZWVwIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRvIHJlc2V0IGJvdGggcm90YXRpb24gYW5kIHRyYW5zbGF0aW9uLCBwcmVmZXJcclxuICAgICAqICAgICAgIHtAbGluayByZXNldFRyYW5zbGF0aW9uUm90YXRpb259LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcmVzZXRQb3NpdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3RyYW5zbGF0aW9uKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJlc2V0UG9zaXRpb259IGluc3RlYWQuICovXHJcbiAgICByZXNldFRyYW5zbGF0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc2V0UG9zaXRpb24oKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgbG9jYWwgc2NhbGluZyB0byBpZGVudGl0eSAoYGBbMS4wLCAxLjAsIDEuMF1gYCkuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByZXNldFNjYWxpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yZXNldF9zY2FsaW5nKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnRyYW5zbGF0ZUxvY2FsfSBpbnN0ZWFkLiAqL1xyXG4gICAgdHJhbnNsYXRlKHYpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVMb2NhbCh2KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNsYXRlIG9iamVjdCBieSBhIHZlY3RvciBpbiB0aGUgcGFyZW50J3Mgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zbGF0ZSBieS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHRyYW5zbGF0ZUxvY2FsKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3RyYW5zbGF0ZSh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNsYXRlIG9iamVjdCBieSBhIHZlY3RvciBpbiBvYmplY3Qgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zbGF0ZSBieS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHRyYW5zbGF0ZU9iamVjdCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF90cmFuc2xhdGVfb2JqKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2xhdGUgb2JqZWN0IGJ5IGEgdmVjdG9yIGluIHdvcmxkIHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2xhdGUgYnkuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICB0cmFuc2xhdGVXb3JsZCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF90cmFuc2xhdGVfd29ybGQodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Qucm90YXRlQXhpc0FuZ2xlRGVnTG9jYWx9IGluc3RlYWQuICovXHJcbiAgICByb3RhdGVBeGlzQW5nbGVEZWcoYSwgZCkge1xyXG4gICAgICAgIHRoaXMucm90YXRlQXhpc0FuZ2xlRGVnTG9jYWwoYSwgZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJvdGF0ZSBhcm91bmQgZ2l2ZW4gYXhpcyBieSBnaXZlbiBhbmdsZSAoZGVncmVlcykgaW4gbG9jYWwgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGEgVmVjdG9yIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb24gYXhpcy5cclxuICAgICAqIEBwYXJhbSBkIEFuZ2xlIGluIGRlZ3JlZXMuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgSWYgdGhlIG9iamVjdCBpcyB0cmFuc2xhdGVkIHRoZSByb3RhdGlvbiB3aWxsIGJlIGFyb3VuZFxyXG4gICAgICogICAgIHRoZSBwYXJlbnQuIFRvIHJvdGF0ZSBhcm91bmQgdGhlIG9iamVjdCBvcmlnaW4sIHVzZVxyXG4gICAgICogICAgIHtAbGluayByb3RhdGVBeGlzQW5nbGVEZWdPYmplY3R9XHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgcm90YXRlQXhpc0FuZ2xlUmFkfVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcm90YXRlQXhpc0FuZ2xlRGVnTG9jYWwoYSwgZCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfcm90YXRlX2F4aXNfYW5nbGUodGhpcy5vYmplY3RJZCwgYVswXSwgYVsxXSwgYVsyXSwgZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Qucm90YXRlQXhpc0FuZ2xlUmFkTG9jYWx9IGluc3RlYWQuICovXHJcbiAgICByb3RhdGVBeGlzQW5nbGVSYWQoYSwgZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0ZUF4aXNBbmdsZVJhZExvY2FsKGEsIGQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3RhdGUgYXJvdW5kIGdpdmVuIGF4aXMgYnkgZ2l2ZW4gYW5nbGUgKHJhZGlhbnMpIGluIGxvY2FsIHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhIFZlY3RvciByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uIGF4aXMuXHJcbiAgICAgKiBAcGFyYW0gZCBBbmdsZSBpbiByYWRpYW5zLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIElmIHRoZSBvYmplY3QgaXMgdHJhbnNsYXRlZCB0aGUgcm90YXRpb24gd2lsbCBiZSBhcm91bmRcclxuICAgICAqICAgICB0aGUgcGFyZW50LiBUbyByb3RhdGUgYXJvdW5kIHRoZSBvYmplY3Qgb3JpZ2luLCB1c2VcclxuICAgICAqICAgICB7QGxpbmsgcm90YXRlQXhpc0FuZ2xlRGVnT2JqZWN0fVxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZURlZ31cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJvdGF0ZUF4aXNBbmdsZVJhZExvY2FsKGEsIGQpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9heGlzX2FuZ2xlX3JhZCh0aGlzLm9iamVjdElkLCBhWzBdLCBhWzFdLCBhWzJdLCBkKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUm90YXRlIGFyb3VuZCBnaXZlbiBheGlzIGJ5IGdpdmVuIGFuZ2xlIChkZWdyZWVzKSBpbiBvYmplY3Qgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGEgVmVjdG9yIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb24gYXhpcy5cclxuICAgICAqIEBwYXJhbSBkIEFuZ2xlIGluIGRlZ3JlZXMuXHJcbiAgICAgKlxyXG4gICAgICogRXF1aXZhbGVudCB0byBwcmVwZW5kaW5nIGEgcm90YXRpb24gcXVhdGVybmlvbiB0byB0aGUgb2JqZWN0J3NcclxuICAgICAqIGxvY2FsIHRyYW5zZm9ybWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZVJhZE9iamVjdH1cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdChhLCBkKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfYXhpc19hbmdsZV9vYmoodGhpcy5vYmplY3RJZCwgYVswXSwgYVsxXSwgYVsyXSwgZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJvdGF0ZSBhcm91bmQgZ2l2ZW4gYXhpcyBieSBnaXZlbiBhbmdsZSAocmFkaWFucykgaW4gb2JqZWN0IHNwYWNlXHJcbiAgICAgKiBFcXVpdmFsZW50IHRvIHByZXBlbmRpbmcgYSByb3RhdGlvbiBxdWF0ZXJuaW9uIHRvIHRoZSBvYmplY3Qnc1xyXG4gICAgICogbG9jYWwgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGEgVmVjdG9yIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb24gYXhpc1xyXG4gICAgICogQHBhcmFtIGQgQW5nbGUgaW4gZGVncmVlc1xyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdH1cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJvdGF0ZUF4aXNBbmdsZVJhZE9iamVjdChhLCBkKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfYXhpc19hbmdsZV9yYWRfb2JqKHRoaXMub2JqZWN0SWQsIGFbMF0sIGFbMV0sIGFbMl0sIGQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJvdGF0ZUxvY2FsfSBpbnN0ZWFkLiAqL1xyXG4gICAgcm90YXRlKHEpIHtcclxuICAgICAgICB0aGlzLnJvdGF0ZUxvY2FsKHEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3RhdGUgYnkgYSBxdWF0ZXJuaW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBxIHRoZSBRdWF0ZXJuaW9uIHRvIHJvdGF0ZSBieS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJvdGF0ZUxvY2FsKHEpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9xdWF0KHRoaXMub2JqZWN0SWQsIHFbMF0sIHFbMV0sIHFbMl0sIHFbM10pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3RhdGUgYnkgYSBxdWF0ZXJuaW9uIGluIG9iamVjdCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBFcXVpdmFsZW50IHRvIHByZXBlbmRpbmcgYSByb3RhdGlvbiBxdWF0ZXJuaW9uIHRvIHRoZSBvYmplY3Qnc1xyXG4gICAgICogbG9jYWwgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHEgdGhlIFF1YXRlcm5pb24gdG8gcm90YXRlIGJ5LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcm90YXRlT2JqZWN0KHEpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9xdWF0X29iaih0aGlzLm9iamVjdElkLCBxWzBdLCBxWzFdLCBxWzJdLCBxWzNdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zY2FsZUxvY2FsfSBpbnN0ZWFkLiAqL1xyXG4gICAgc2NhbGUodikge1xyXG4gICAgICAgIHRoaXMuc2NhbGVMb2NhbCh2KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2NhbGUgb2JqZWN0IGJ5IGEgdmVjdG9yIGluIG9iamVjdCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gc2NhbGUgYnkuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBzY2FsZUxvY2FsKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NjYWxlKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgZ2V0UG9zaXRpb25Mb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIC8qIFRyYW5zbGF0aW9uIGlzIGRpZmZlcmVudCB0aGFuIHJvdGF0aW9uICYgc2NhbGluZy5cclxuICAgICAgICAgKiBXZSBjYW4ndCBzaW1wbHkgcmVhZCB0aGUgbWVtb3J5LiAqL1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF9nZXRfdHJhbnNsYXRpb25fbG9jYWwodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIGdldFRyYW5zbGF0aW9uTG9jYWwob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFBvc2l0aW9uTG9jYWwob3V0KTtcclxuICAgIH1cclxuICAgIGdldFBvc2l0aW9uV29ybGQob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICAvKiBUcmFuc2xhdGlvbiBpcyBkaWZmZXJlbnQgdGhhbiByb3RhdGlvbiAmIHNjYWxpbmcuXHJcbiAgICAgICAgICogV2UgY2FuJ3Qgc2ltcGx5IHJlYWQgdGhlIG1lbW9yeS4gKi9cclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfZ2V0X3RyYW5zbGF0aW9uX3dvcmxkKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICBnZXRUcmFuc2xhdGlvbldvcmxkKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQb3NpdGlvbldvcmxkKG91dCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsb2NhbCAvIG9iamVjdCBzcGFjZSBwb3NpdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBDb25jYXRlbmF0ZXMgYSBuZXcgdHJhbnNsYXRpb24gZHVhbCBxdWF0ZXJuaW9uIG9udG8gdGhlIGV4aXN0aW5nIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyBsb2NhbCBwb3NpdGlvbiBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHNldFBvc2l0aW9uTG9jYWwodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3RyYW5zbGF0aW9uX2xvY2FsKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFBvc2l0aW9uTG9jYWx9IGluc3RlYWQuICovXHJcbiAgICBzZXRUcmFuc2xhdGlvbkxvY2FsKHYpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXRQb3NpdGlvbkxvY2FsKHYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd29ybGQgc3BhY2UgcG9zaXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQXBwbGllcyB0aGUgaW52ZXJzZSBwYXJlbnQgdHJhbnNmb3JtIHdpdGggYSBuZXcgdHJhbnNsYXRpb24gZHVhbCBxdWF0ZXJuaW9uXHJcbiAgICAgKiB3aGljaCBpcyBjb25jYXRlbmF0ZWQgb250byB0aGUgZXhpc3Rpbmcgcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IHdvcmxkIHBvc2l0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2V0UG9zaXRpb25Xb3JsZCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfdHJhbnNsYXRpb25fd29ybGQodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0UG9zaXRpb25Xb3JsZH0gaW5zdGVhZC4gKi9cclxuICAgIHNldFRyYW5zbGF0aW9uV29ybGQodikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNldFBvc2l0aW9uV29ybGQodik7XHJcbiAgICB9XHJcbiAgICBnZXRTY2FsaW5nTG9jYWwob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3Rfc2NhbGluZ19sb2NhbCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxvY2FsIC8gb2JqZWN0IHNwYWNlIHNjYWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IGxvY2FsIHNjYWxpbmcgYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBzZXRTY2FsaW5nTG9jYWwodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3NjYWxpbmdfbG9jYWwodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBnZXRTY2FsaW5nV29ybGQob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3Rfc2NhbGluZ193b3JsZCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IFdvcmxkIHNwYWNlIHNjYWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IHdvcmxkIHNjYWxpbmcgYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBzZXRTY2FsaW5nV29ybGQodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3NjYWxpbmdfd29ybGQodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBnZXRSb3RhdGlvbkxvY2FsKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoNCkpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX2xvY2FsKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgLyogVGhlIGZpcnN0IDQgZmxvYXRzIHJlcHJlc2VudCB0aGUgcm90YXRpb24gcXVhdGVybmlvbi4gKi9cclxuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xyXG4gICAgICAgIG91dFszXSA9IHdhc20uSEVBUEYzMltwdHIgKyAzXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IHdvcmxkIHJvdGF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCA0IGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2V0Um90YXRpb25Mb2NhbCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfcm90YXRpb25fbG9jYWwodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBnZXRSb3RhdGlvbldvcmxkKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoNCkpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgLyogVGhlIGZpcnN0IDQgZmxvYXRzIHJlcHJlc2VudCB0aGUgcm90YXRpb24gcXVhdGVybmlvbi4gKi9cclxuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xyXG4gICAgICAgIG91dFszXSA9IHdhc20uSEVBUEYzMltwdHIgKyAzXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IHdvcmxkIHJvdGF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCA0IGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2V0Um90YXRpb25Xb3JsZCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfcm90YXRpb25fd29ybGQodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBnZXRUcmFuc2Zvcm1Mb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDgpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc19sb2NhbCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XHJcbiAgICAgICAgb3V0WzNdID0gd2FzbS5IRUFQRjMyW3B0ciArIDNdO1xyXG4gICAgICAgIG91dFs0XSA9IHdhc20uSEVBUEYzMltwdHIgKyA0XTtcclxuICAgICAgICBvdXRbNV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNV07XHJcbiAgICAgICAgb3V0WzZdID0gd2FzbS5IRUFQRjMyW3B0ciArIDZdO1xyXG4gICAgICAgIG91dFs3XSA9IHdhc20uSEVBUEYzMltwdHIgKyA3XTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IGxvY2FsIHRyYW5zZm9ybSBhcnJheSwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCA4IGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2V0VHJhbnNmb3JtTG9jYWwodikge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfbG9jYWwodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyXSA9IHZbMF07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDFdID0gdlsxXTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMl0gPSB2WzJdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAzXSA9IHZbM107XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDRdID0gdls0XTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNV0gPSB2WzVdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA2XSA9IHZbNl07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDddID0gdls3XTtcclxuICAgICAgICB0aGlzLnNldERpcnR5KCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBnZXRUcmFuc2Zvcm1Xb3JsZChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDgpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc193b3JsZCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XHJcbiAgICAgICAgb3V0WzNdID0gd2FzbS5IRUFQRjMyW3B0ciArIDNdO1xyXG4gICAgICAgIG91dFs0XSA9IHdhc20uSEVBUEYzMltwdHIgKyA0XTtcclxuICAgICAgICBvdXRbNV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNV07XHJcbiAgICAgICAgb3V0WzZdID0gd2FzbS5IRUFQRjMyW3B0ciArIDZdO1xyXG4gICAgICAgIG91dFs3XSA9IHdhc20uSEVBUEYzMltwdHIgKyA3XTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd29ybGQgc3BhY2Ugcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IHdvcmxkIHRyYW5zZm9ybSBhcnJheSwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCA4IGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2V0VHJhbnNmb3JtV29ybGQodikge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGQodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyXSA9IHZbMF07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDFdID0gdlsxXTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMl0gPSB2WzJdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAzXSA9IHZbM107XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDRdID0gdls0XTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNV0gPSB2WzVdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA2XSA9IHZbNl07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDddID0gdls3XTtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkX3RvX2xvY2FsKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2NhbCBzcGFjZSB0cmFuc2Zvcm1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRUcmFuc2Zvcm1Mb2NhbH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0VHJhbnNmb3JtTG9jYWx9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIGdldCB0cmFuc2Zvcm1Mb2NhbCgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfb2JqZWN0X3RyYW5zX2xvY2FsKHRoaXMub2JqZWN0SWQpLCA4KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxvY2FsIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdCBMb2NhbCBzcGFjZSB0cmFuc2Zvcm1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjVcclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRUcmFuc2Zvcm1Mb2NhbH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0VHJhbnNmb3JtTG9jYWx9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHNldCB0cmFuc2Zvcm1Mb2NhbCh0KSB7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1Mb2NhbC5zZXQodCk7XHJcbiAgICAgICAgdGhpcy5zZXREaXJ0eSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHbG9iYWwgLyB3b3JsZCBzcGFjZSB0cmFuc2Zvcm1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBNYXkgcmVjb21wdXRlIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgaGllcmFyY2h5IG9mIHRoaXMgb2JqZWN0LFxyXG4gICAgICogaWYgdGhleSB3ZXJlIGNoYW5nZWQgYnkgSmF2YVNjcmlwdCBjb21wb25lbnRzIHRoaXMgZnJhbWUuXHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0VHJhbnNmb3JtV29ybGR9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFRyYW5zZm9ybVdvcmxkfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBnZXQgdHJhbnNmb3JtV29ybGQoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX29iamVjdF90cmFuc193b3JsZCh0aGlzLm9iamVjdElkKSwgOCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3b3JsZCB0cmFuc2Zvcm0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHQgR2xvYmFsIC8gd29ybGQgc3BhY2UgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC41XHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0VHJhbnNmb3JtV29ybGR9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFRyYW5zZm9ybVdvcmxkfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBzZXQgdHJhbnNmb3JtV29ybGQodCkge1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtV29ybGQuc2V0KHQpO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGRfdG9fbG9jYWwodGhpcy5vYmplY3RJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvY2FsIC8gb2JqZWN0IHNwYWNlIHNjYWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0U2NhbGluZ0xvY2FsfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRTY2FsaW5nTG9jYWx9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIGdldCBzY2FsaW5nTG9jYWwoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX29iamVjdF9zY2FsaW5nX2xvY2FsKHRoaXMub2JqZWN0SWQpLCAzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxvY2FsIHNwYWNlIHNjYWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHMgTG9jYWwgc3BhY2Ugc2NhbGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRTY2FsaW5nTG9jYWx9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFNjYWxpbmdMb2NhbH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgc2V0IHNjYWxpbmdMb2NhbChzKSB7XHJcbiAgICAgICAgdGhpcy5zY2FsaW5nTG9jYWwuc2V0KHMpO1xyXG4gICAgICAgIHRoaXMuc2V0RGlydHkoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2xvYmFsIC8gd29ybGQgc3BhY2Ugc2NhbGluZy5cclxuICAgICAqXHJcbiAgICAgKiBNYXkgcmVjb21wdXRlIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgaGllcmFyY2h5IG9mIHRoaXMgb2JqZWN0LFxyXG4gICAgICogaWYgdGhleSB3ZXJlIGNoYW5nZWQgYnkgSmF2YVNjcmlwdCBjb21wb25lbnRzIHRoaXMgZnJhbWUuXHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0U2NhbGluZ1dvcmxkfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRTY2FsaW5nV29ybGR9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIGdldCBzY2FsaW5nV29ybGQoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX29iamVjdF9zY2FsaW5nX3dvcmxkKHRoaXMub2JqZWN0SWQpLCAzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdvcmxkIHNwYWNlIHNjYWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHQgV29ybGQgc3BhY2Ugc2NhbGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRTY2FsaW5nV29ybGR9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFNjYWxpbmdXb3JsZH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgc2V0IHNjYWxpbmdXb3JsZChzKSB7XHJcbiAgICAgICAgdGhpcy5zY2FsaW5nV29ybGQuc2V0KHMpO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2NhbGluZ193b3JsZF90b19sb2NhbCh0aGlzLm9iamVjdElkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9jYWwgc3BhY2Ugcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0Um90YXRpb25Mb2NhbH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0Quc2V0Um90YXRpb25Mb2NhbH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IHJvdGF0aW9uTG9jYWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtTG9jYWwuc3ViYXJyYXkoMCwgNCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdsb2JhbCAvIHdvcmxkIHNwYWNlIHJvdGF0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0Um90YXRpb25Xb3JsZH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0Quc2V0Um90YXRpb25Xb3JsZH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IHJvdGF0aW9uV29ybGQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtV29ybGQuc3ViYXJyYXkoMCwgNCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsb2NhbCBzcGFjZSByb3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gciBMb2NhbCBzcGFjZSByb3RhdGlvblxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJvdGF0aW9uTG9jYWx9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELnNldFJvdGF0aW9uTG9jYWx9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHNldCByb3RhdGlvbkxvY2FsKHIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9yb3RhdGlvbl9sb2NhbCh0aGlzLm9iamVjdElkLCByWzBdLCByWzFdLCByWzJdLCByWzNdKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdvcmxkIHNwYWNlIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByIEdsb2JhbCAvIHdvcmxkIHNwYWNlIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJvdGF0aW9uV29ybGR9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELnNldFJvdGF0aW9uV29ybGR9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHNldCByb3RhdGlvbldvcmxkKHIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9yb3RhdGlvbl93b3JsZCh0aGlzLm9iamVjdElkLCByWzBdLCByWzFdLCByWzJdLCByWzNdKTtcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRGb3J3YXJkV29ybGR9IGluc3RlYWQuICovXHJcbiAgICBnZXRGb3J3YXJkKG91dCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEZvcndhcmRXb3JsZChvdXQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wdXRlIHRoZSBvYmplY3QncyBmb3J3YXJkIGZhY2luZyB3b3JsZCBzcGFjZSB2ZWN0b3IuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGZvcndhcmQgdmVjdG9yIGluIG9iamVjdCBzcGFjZSBpcyBhbG9uZyB0aGUgbmVnYXRpdmUgei1heGlzLCBpLmUuLFxyXG4gICAgICogYFswLCAwLCAtMV1gLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgRGVzdGluYXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKi9cclxuICAgIGdldEZvcndhcmRXb3JsZChvdXQpIHtcclxuICAgICAgICBvdXRbMF0gPSAwO1xyXG4gICAgICAgIG91dFsxXSA9IDA7XHJcbiAgICAgICAgb3V0WzJdID0gLTE7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1WZWN0b3JXb3JsZChvdXQpO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0VXBXb3JsZH0gaW5zdGVhZC4gKi9cclxuICAgIGdldFVwKG91dCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFVwV29ybGQob3V0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29tcHV0ZSB0aGUgb2JqZWN0J3MgdXAgZmFjaW5nIHdvcmxkIHNwYWNlIHZlY3Rvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IERlc3RpbmF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICovXHJcbiAgICBnZXRVcFdvcmxkKG91dCkge1xyXG4gICAgICAgIG91dFswXSA9IDA7XHJcbiAgICAgICAgb3V0WzFdID0gMTtcclxuICAgICAgICBvdXRbMl0gPSAwO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtVmVjdG9yV29ybGQob3V0KTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJpZ2h0V29ybGR9IGluc3RlYWQuICovXHJcbiAgICBnZXRSaWdodChvdXQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRSaWdodFdvcmxkKG91dCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbXB1dGUgdGhlIG9iamVjdCdzIHJpZ2h0IGZhY2luZyB3b3JsZCBzcGFjZSB2ZWN0b3IuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBEZXN0aW5hdGlvbiBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqL1xyXG4gICAgZ2V0UmlnaHRXb3JsZChvdXQpIHtcclxuICAgICAgICBvdXRbMF0gPSAxO1xyXG4gICAgICAgIG91dFsxXSA9IDA7XHJcbiAgICAgICAgb3V0WzJdID0gMDtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybVZlY3RvcldvcmxkKG91dCk7XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgdmVjdG9yIGJ5IHRoaXMgb2JqZWN0J3Mgd29ybGQgdHJhbnNmb3JtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHZlY3RvclxyXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YFxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICovXHJcbiAgICB0cmFuc2Zvcm1WZWN0b3JXb3JsZChvdXQsIHYgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gdlswXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSB2WzFdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHZbMl07XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVZlY3RvcldvcmxkKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIGxvY2FsIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB2ZWN0b3JcclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGBcclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdHJhbnNmb3JtVmVjdG9yTG9jYWwob3V0LCB2ID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHZbMF07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gdlsxXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSB2WzJdO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1WZWN0b3JMb2NhbCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSBwb2ludCBieSB0aGlzIG9iamVjdCdzIHdvcmxkIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCBwb2ludC5cclxuICAgICAqIEBwYXJhbSBwIFBvaW50IHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YC5cclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdHJhbnNmb3JtUG9pbnRXb3JsZChvdXQsIHAgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gcFswXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSBwWzFdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHBbMl07XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVBvaW50V29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgcG9pbnQgYnkgdGhpcyBvYmplY3QncyBsb2NhbCB0cmFuc2Zvcm0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgcG9pbnQuXHJcbiAgICAgKiBAcGFyYW0gcCBQb2ludCB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGAuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRyYW5zZm9ybVBvaW50TG9jYWwob3V0LCBwID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHBbMF07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gcFsxXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSBwWzJdO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1Qb2ludExvY2FsKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIGludmVyc2Ugd29ybGQgdHJhbnNmb3JtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHZlY3Rvci5cclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGAuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRyYW5zZm9ybVZlY3RvckludmVyc2VXb3JsZChvdXQsIHYgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gdlswXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSB2WzFdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHZbMl07XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVZlY3RvckludmVyc2VXb3JsZCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSB2ZWN0b3IgYnkgdGhpcyBvYmplY3QncyBpbnZlcnNlIGxvY2FsIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB2ZWN0b3JcclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGBcclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdHJhbnNmb3JtVmVjdG9ySW52ZXJzZUxvY2FsKG91dCwgdiA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSB2WzBdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHZbMV07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gdlsyXTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtVmVjdG9ySW52ZXJzZUxvY2FsKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHBvaW50IGJ5IHRoaXMgb2JqZWN0J3MgaW52ZXJzZSB3b3JsZCB0cmFuc2Zvcm0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgcG9pbnQuXHJcbiAgICAgKiBAcGFyYW0gcCBQb2ludCB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGAuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKG91dCwgcCA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSBwWzBdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHBbMV07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gcFsyXTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgcG9pbnQgYnkgdGhpcyBvYmplY3QncyBpbnZlcnNlIGxvY2FsIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCBwb2ludC5cclxuICAgICAqIEBwYXJhbSBwIFBvaW50IHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YC5cclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdHJhbnNmb3JtUG9pbnRJbnZlcnNlTG9jYWwob3V0LCBwID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zZXQocCk7XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVBvaW50SW52ZXJzZUxvY2FsKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhbiBvYmplY3Qgc3BhY2UgZHVhbCBxdWF0ZXJuaW9uIGludG8gd29ybGQgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKiBAcGFyYW0gcSBMb2NhbCBzcGFjZSB0cmFuc2Zvcm1hdGlvbiwgZGVmYXVsdCBgb3V0YC5cclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdG9Xb3JsZFNwYWNlVHJhbnNmb3JtKG91dCwgcSA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc2V0KHEpO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90b1dvcmxkU3BhY2VUcmFuc2Zvcm0odGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgb3V0WzNdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzNdO1xyXG4gICAgICAgIG91dFs0XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs0XTtcclxuICAgICAgICBvdXRbNV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNV07XHJcbiAgICAgICAgb3V0WzZdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzZdO1xyXG4gICAgICAgIG91dFs3XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs3XTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSB3b3JsZCBzcGFjZSBkdWFsIHF1YXRlcm5pb24gaW50byBsb2NhbCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB0cmFuc2Zvcm1hdGlvblxyXG4gICAgICogQHBhcmFtIHEgV29ybGQgc3BhY2UgdHJhbnNmb3JtYXRpb24sIGRlZmF1bHQgYG91dGBcclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdG9Mb2NhbFNwYWNlVHJhbnNmb3JtKG91dCwgcSA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICBpZiAocCkge1xyXG4gICAgICAgICAgICBwLnRvT2JqZWN0U3BhY2VUcmFuc2Zvcm0ob3V0LCBxKTtcclxuICAgICAgICAgICAgcmV0dXJuIG91dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG91dCAhPT0gcSkge1xyXG4gICAgICAgICAgICBvdXRbMF0gPSBxWzBdO1xyXG4gICAgICAgICAgICBvdXRbMV0gPSBxWzFdO1xyXG4gICAgICAgICAgICBvdXRbMl0gPSBxWzJdO1xyXG4gICAgICAgICAgICBvdXRbM10gPSBxWzNdO1xyXG4gICAgICAgICAgICBvdXRbNF0gPSBxWzRdO1xyXG4gICAgICAgICAgICBvdXRbNV0gPSBxWzVdO1xyXG4gICAgICAgICAgICBvdXRbNl0gPSBxWzZdO1xyXG4gICAgICAgICAgICBvdXRbN10gPSBxWzddO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSB3b3JsZCBzcGFjZSBkdWFsIHF1YXRlcm5pb24gaW50byBvYmplY3Qgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKiBAcGFyYW0gcSBXb3JsZCBzcGFjZSB0cmFuc2Zvcm1hdGlvbiwgZGVmYXVsdCBgb3V0YFxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICovXHJcbiAgICB0b09iamVjdFNwYWNlVHJhbnNmb3JtKG91dCwgcSA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc2V0KHEpO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90b09iamVjdFNwYWNlVHJhbnNmb3JtKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIG91dFszXSA9IHdhc20uX3RlbXBNZW1GbG9hdFszXTtcclxuICAgICAgICBvdXRbNF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNF07XHJcbiAgICAgICAgb3V0WzVdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzVdO1xyXG4gICAgICAgIG91dFs2XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs2XTtcclxuICAgICAgICBvdXRbN10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbN107XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHVybiB0b3dhcmRzIC8gbG9vayBhdCB0YXJnZXQuXHJcbiAgICAgKlxyXG4gICAgICogUm90YXRlcyB0aGUgb2JqZWN0IHNvIHRoYXQgaXRzIGZvcndhcmQgdmVjdG9yIGZhY2VzIHRvd2FyZHMgdGhlIHRhcmdldFxyXG4gICAgICogcG9zaXRpb24uIFRoZSBgdXBgIHZlY3RvciBhY3RzIGFzIGEgaGludCB0byB1bmlxdWVseSBvcmllbnQgdGhlIG9iamVjdCdzXHJcbiAgICAgKiB1cCBkaXJlY3Rpb24uIFdoZW4gb3JpZW50aW5nIGEgdmlldyBjb21wb25lbnQsIHRoZSBwcm9qZWN0ZWQgYHVwYCB2ZWN0b3JcclxuICAgICAqIGZhY2VzIHVwd2FyZHMgb24gdGhlIHZpZXdpbmcgcGxhbmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHAgVGFyZ2V0IHBvc2l0aW9uIHRvIHR1cm4gdG93YXJkcywgaW4gd29ybGQgc3BhY2UuXHJcbiAgICAgKiBAcGFyYW0gdXAgVXAgdmVjdG9yIHRvIGFsaWduIG9iamVjdCB3aXRoLCBpbiB3b3JsZCBzcGFjZS4gRGVmYXVsdCBpcyBgWzAsIDEsIDBdYC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIGxvb2tBdChwLCB1cCA9IFVQX1ZFQ1RPUikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfbG9va0F0KHRoaXMub2JqZWN0SWQsIHBbMF0sIHBbMV0sIHBbMl0sIHVwWzBdLCB1cFsxXSwgdXBbMl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIERlc3Ryb3kgdGhlIG9iamVjdCB3aXRoIGFsbCBvZiBpdHMgY29tcG9uZW50cyBhbmQgcmVtb3ZlIGl0IGZyb20gdGhlIHNjZW5lICovXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9vYmplY3RJZCA8IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLmVuZ2luZS53YXNtLl93bF9zY2VuZV9yZW1vdmVfb2JqZWN0KHRoaXMuX29iamVjdElkKTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5fZGVzdHJveU9iamVjdCh0aGlzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTWFyayB0cmFuc2Zvcm1hdGlvbiBkaXJ0eS5cclxuICAgICAqXHJcbiAgICAgKiBDYXVzZXMgYW4gZXZlbnR1YWwgcmVjYWxjdWxhdGlvbiBvZiB7QGxpbmsgdHJhbnNmb3JtV29ybGR9LCBlaXRoZXJcclxuICAgICAqIG9uIG5leHQge0BsaW5rIGdldFRyYW5zbGF0aW9uV29ybGR9LCB7QGxpbmsgdHJhbnNmb3JtV29ybGR9IG9yXHJcbiAgICAgKiB7QGxpbmsgc2NhbGluZ1dvcmxkfSBvciB0aGUgYmVnaW5uaW5nIG9mIG5leHQgZnJhbWUsIHdoaWNoZXZlclxyXG4gICAgICogaGFwcGVucyBmaXJzdC5cclxuICAgICAqL1xyXG4gICAgc2V0RGlydHkoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfZGlydHkodGhpcy5vYmplY3RJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERpc2FibGUvZW5hYmxlIGFsbCBjb21wb25lbnRzIG9mIHRoaXMgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiIE5ldyBzdGF0ZSBmb3IgdGhlIGNvbXBvbmVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC41XHJcbiAgICAgKi9cclxuICAgIHNldCBhY3RpdmUoYikge1xyXG4gICAgICAgIGNvbnN0IGNvbXBzID0gdGhpcy5nZXRDb21wb25lbnRzKCk7XHJcbiAgICAgICAgZm9yIChsZXQgYyBvZiBjb21wcykge1xyXG4gICAgICAgICAgICBjLmFjdGl2ZSA9IGI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0Q29tcG9uZW50KHR5cGVPckNsYXNzLCBpbmRleCA9IDApIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gaXNTdHJpbmcodHlwZU9yQ2xhc3MpID8gdHlwZU9yQ2xhc3MgOiB0eXBlT3JDbGFzcy5UeXBlTmFtZTtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50VHlwZSA9IHdhc20uX3dsX2dldF9jb21wb25lbnRfbWFuYWdlcl9pbmRleCh3YXNtLnRlbXBVVEY4KHR5cGUpKTtcclxuICAgICAgICBpZiAoY29tcG9uZW50VHlwZSA8IDApIHtcclxuICAgICAgICAgICAgLyogTm90IGEgbmF0aXZlIGNvbXBvbmVudCwgdHJ5IGpzOiAqL1xyXG4gICAgICAgICAgICBjb25zdCB0eXBlSW5kZXggPSB3YXNtLl9jb21wb25lbnRUeXBlSW5kaWNlc1t0eXBlXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVJbmRleCA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIGNvbnN0IGpzSW5kZXggPSB3YXNtLl93bF9nZXRfanNfY29tcG9uZW50X2luZGV4KHRoaXMub2JqZWN0SWQsIHR5cGVJbmRleCwgaW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAoanNJbmRleCA8IDApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5fZW5naW5lLndhc20uX2NvbXBvbmVudHNbanNJbmRleF07XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQuY29uc3RydWN0b3IgIT09IEJyb2tlbkNvbXBvbmVudCA/IGNvbXBvbmVudCA6IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX2dldF9jb21wb25lbnRfaWQodGhpcy5vYmplY3RJZCwgY29tcG9uZW50VHlwZSwgaW5kZXgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUuX3dyYXBDb21wb25lbnQodHlwZSwgY29tcG9uZW50VHlwZSwgY29tcG9uZW50SWQpO1xyXG4gICAgfVxyXG4gICAgZ2V0Q29tcG9uZW50cyh0eXBlT3JDbGFzcykge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBsZXQgY29tcG9uZW50VHlwZSA9IG51bGw7XHJcbiAgICAgICAgbGV0IHR5cGUgPSBudWxsO1xyXG4gICAgICAgIGlmICh0eXBlT3JDbGFzcykge1xyXG4gICAgICAgICAgICB0eXBlID0gaXNTdHJpbmcodHlwZU9yQ2xhc3MpID8gdHlwZU9yQ2xhc3MgOiB0eXBlT3JDbGFzcy5UeXBlTmFtZTtcclxuICAgICAgICAgICAgY29tcG9uZW50VHlwZSA9IHdhc20uX3R5cGVJbmRleEZvcih0eXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IG1heENvbXBzID0gTWF0aC5mbG9vcigod2FzbS5fdGVtcE1lbVNpemUgLyAzKSAqIDIpO1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHNDb3VudCA9IHdhc20uX3dsX29iamVjdF9nZXRfY29tcG9uZW50cyh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtLCBtYXhDb21wcyk7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gMiAqIGNvbXBvbmVudHNDb3VudDtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfZ2V0X2NvbXBvbmVudF90eXBlcyh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtICsgb2Zmc2V0LCBtYXhDb21wcyk7XHJcbiAgICAgICAgY29uc3QganNNYW5hZ2VySW5kZXggPSB3YXNtLl9qc01hbmFnZXJJbmRleDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudHNDb3VudDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHQgPSB3YXNtLl90ZW1wTWVtVWludDhbaSArIG9mZnNldF07XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gd2FzbS5fdGVtcE1lbVVpbnQxNltpXTtcclxuICAgICAgICAgICAgLyogSGFuZGxlIEpTIHR5cGVzIHNlcGFyYXRlbHkgKi9cclxuICAgICAgICAgICAgaWYgKHQgPT0ganNNYW5hZ2VySW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVJbmRleCA9IHdhc20uX3dsX2dldF9qc19jb21wb25lbnRfaW5kZXhfZm9yX2lkKGNvbXBvbmVudElkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB3YXNtLl9jb21wb25lbnRzW3R5cGVJbmRleF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gY29tcG9uZW50VHlwZSA9PT0gbnVsbCB8fCBjb21wLnR5cGUgPT0gdHlwZTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wLmNvbnN0cnVjdG9yICE9PSBCcm9rZW5Db21wb25lbnQgJiYgbWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHMucHVzaChjb21wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRUeXBlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYW5hZ2VyTmFtZSA9IHdhc20uX3R5cGVOYW1lRm9yKHQpO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKHRoaXMuX2VuZ2luZS5fd3JhcENvbXBvbmVudChtYW5hZ2VyTmFtZSwgdCwgY29tcG9uZW50SWQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0ID09IGNvbXBvbmVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIC8qIE9wdGltaXplZCBtYW5hZ2VyIG5hbWUgcmV0cmlldmFsLCBhbHJlYWR5IGhhdmUgdHlwZSAqL1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKHRoaXMuX2VuZ2luZS5fd3JhcENvbXBvbmVudCh0eXBlLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21wb25lbnRzO1xyXG4gICAgfVxyXG4gICAgYWRkQ29tcG9uZW50KHR5cGVPckNsYXNzLCBwYXJhbXMpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGlzU3RyaW5nKHR5cGVPckNsYXNzKSA/IHR5cGVPckNsYXNzIDogdHlwZU9yQ2xhc3MuVHlwZU5hbWU7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50VHlwZSA9IHdhc20uX3R5cGVJbmRleEZvcih0eXBlKTtcclxuICAgICAgICBsZXQgY29tcG9uZW50ID0gbnVsbDtcclxuICAgICAgICBsZXQgY29tcG9uZW50SW5kZXggPSBudWxsO1xyXG4gICAgICAgIGlmIChjb21wb25lbnRUeXBlIDwgMCkge1xyXG4gICAgICAgICAgICAvKiBKYXZhU2NyaXB0IGNvbXBvbmVudCAqL1xyXG4gICAgICAgICAgICBpZiAoISh0eXBlIGluIHdhc20uX2NvbXBvbmVudFR5cGVJbmRpY2VzKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gY29tcG9uZW50IHR5cGUgJ1wiICsgdHlwZSArIFwiJ1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IHdhc20uX3dsX29iamVjdF9hZGRfanNfY29tcG9uZW50KHRoaXMub2JqZWN0SWQsIHdhc20uX2NvbXBvbmVudFR5cGVJbmRpY2VzW3R5cGVdKTtcclxuICAgICAgICAgICAgY29tcG9uZW50SW5kZXggPSB3YXNtLl93bF9nZXRfanNfY29tcG9uZW50X2luZGV4X2Zvcl9pZChjb21wb25lbnRJZCk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IHdhc20uX2NvbXBvbmVudHNbY29tcG9uZW50SW5kZXhdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLyogbmF0aXZlIGNvbXBvbmVudCAqL1xyXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IHdhc20uX3dsX29iamVjdF9hZGRfY29tcG9uZW50KHRoaXMub2JqZWN0SWQsIGNvbXBvbmVudFR5cGUpO1xyXG4gICAgICAgICAgICBjb21wb25lbnQgPSB0aGlzLl9lbmdpbmUuX3dyYXBDb21wb25lbnQodHlwZSwgY29tcG9uZW50VHlwZSwgY29tcG9uZW50SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGFyYW1zICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5jb3B5KHBhcmFtcyk7XHJcbiAgICAgICAgLyogRXhwbGljaXRseSBpbml0aWFsaXplIG5hdGl2ZSBjb21wb25lbnRzICovXHJcbiAgICAgICAgaWYgKGNvbXBvbmVudFR5cGUgPCAwKSB7XHJcbiAgICAgICAgICAgIC8qIEB0b2RvOiBgY29tcG9uZW50SW5kZXhgIGNhbiBiZSBudWxsIGhlcmUsIHRoYXQncyBhbiBlcnJvciAqL1xyXG4gICAgICAgICAgICB3YXNtLl93bGpzX2NvbXBvbmVudF9pbml0KGNvbXBvbmVudEluZGV4KTtcclxuICAgICAgICAgICAgLyogc3RhcnQoKSBpcyBjYWxsZWQgdGhyb3VnaCBvbkFjdGl2YXRlKCkgKi9cclxuICAgICAgICB9XHJcbiAgICAgICAgLyogSWYgaXQgd2FzIG5vdCBleHBsaWNpdGx5IHJlcXVlc3RlZCBieSB0aGUgdXNlciB0byBsZWF2ZSB0aGUgY29tcG9uZW50IGluYWN0aXZlLFxyXG4gICAgICAgICAqIHdlIGFjdGl2YXRlIGl0IGFzIGEgZmluYWwgc3RlcC4gVGhpcyBpbnZhbGlkYXRlcyBjb21wb25lbnRJbmRleCEgKi9cclxuICAgICAgICBpZiAoIXBhcmFtcyB8fCAhKCdhY3RpdmUnIGluIHBhcmFtcyAmJiAhcGFyYW1zLmFjdGl2ZSkpIHtcclxuICAgICAgICAgICAgY29tcG9uZW50LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNlYXJjaCBmb3IgZGVzY2VuZGFudHMgbWF0Y2hpbmcgdGhlIG5hbWUuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgYSB3cmFwcGVyIGFyb3VuZCB7QGxpbmsgT2JqZWN0M0QuZmluZEJ5TmFtZURpcmVjdH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZmluZEJ5TmFtZVJlY3Vyc2l2ZX0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgdG8gc2VhcmNoIGZvci5cclxuICAgICAqIEBwYXJhbSByZWN1cnNpdmUgSWYgYHRydWVgLCB0aGUgbWV0aG9kIHdpbGwgbG9vayBhdCBhbGwgdGhlIGRlc2NlbmRhbnRzIG9mIHRoaXMgb2JqZWN0LlxyXG4gICAgICogICAgIElmIGBmYWxzZWAsIHRoaXMgbWV0aG9kIHdpbGwgb25seSBwZXJmb3JtIHRoZSBzZWFyY2ggaW4gZGlyZWN0IGNoaWxkcmVuLlxyXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2Yge0BsaW5rIE9iamVjdDNEfSBtYXRjaGluZyB0aGUgbmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjBcclxuICAgICAqL1xyXG4gICAgZmluZEJ5TmFtZShuYW1lLCByZWN1cnNpdmUgPSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybiByZWN1cnNpdmUgPyB0aGlzLmZpbmRCeU5hbWVSZWN1cnNpdmUobmFtZSkgOiB0aGlzLmZpbmRCeU5hbWVEaXJlY3QobmFtZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNlYXJjaCBmb3IgYWxsICoqZGlyZWN0KiogY2hpbGRyZW4gbWF0Y2hpbmcgdGhlIG5hbWUuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgRXZlbiB0aG91Z2ggdGhpcyBtZXRob2QgaXMgaGVhdmlseSBvcHRpbWl6ZWQsIGl0IGRvZXMgcGVyZm9ybVxyXG4gICAgICogYSBsaW5lYXIgc2VhcmNoIHRvIGZpbmQgdGhlIG9iamVjdHMuIERvIG5vdCB1c2UgaW4gYSBob3QgcGF0aC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSB0byBzZWFyY2ggZm9yLlxyXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2Yge0BsaW5rIE9iamVjdDNEfSBtYXRjaGluZyB0aGUgbmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjBcclxuICAgICAqL1xyXG4gICAgZmluZEJ5TmFtZURpcmVjdChuYW1lKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fb2JqZWN0SWQ7XHJcbiAgICAgICAgLyogRGl2aWRlIGJ5IDQgdG8gZ2V0IGhhbGYgYXMgbWFueSB1c2hvcnQgYXMgcG9zc2libGUgKi9cclxuICAgICAgICBjb25zdCB0ZW1wU2l6ZVUxNiA9IHdhc20uX3RlbXBNZW1TaXplID4+IDI7XHJcbiAgICAgICAgY29uc3QgbWF4Q291bnQgPSB0ZW1wU2l6ZVUxNiAtIDI7IC8qIFJlc2VydmUgdHdvIHVzaG9ydCAqL1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHdhc20uX3RlbXBNZW1VaW50MTY7XHJcbiAgICAgICAgYnVmZmVyW21heENvdW50XSA9IDA7IC8qIEluZGV4IG9mZnNldCAqL1xyXG4gICAgICAgIGJ1ZmZlclttYXhDb3VudCArIDFdID0gMDsgLyogY2hpbGQgY291bnQgKi9cclxuICAgICAgICBjb25zdCBidWZmZXJQdHIgPSB3YXNtLl90ZW1wTWVtO1xyXG4gICAgICAgIGNvbnN0IGluZGV4UHRyID0gYnVmZmVyUHRyICsgbWF4Q291bnQgKiAyO1xyXG4gICAgICAgIGNvbnN0IGNoaWxkQ291bnRQdHIgPSBidWZmZXJQdHIgKyBtYXhDb3VudCAqIDIgKyAyO1xyXG4gICAgICAgIGNvbnN0IG5hbWVQdHIgPSB3YXNtLnRlbXBVVEY4KG5hbWUsIChtYXhDb3VudCArIDIpICogMik7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XHJcbiAgICAgICAgbGV0IHJlYWQgPSAwO1xyXG4gICAgICAgIHdoaWxlICgocmVhZCA9IHdhc20uX3dsX29iamVjdF9maW5kQnlOYW1lKGlkLCBuYW1lUHRyLCBpbmRleFB0ciwgY2hpbGRDb3VudFB0ciwgYnVmZmVyUHRyLCBtYXhDb3VudCkpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVhZDsgKytpKVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5lbmdpbmUud3JhcE9iamVjdChidWZmZXJbaV0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2VhcmNoIGZvciAqKmFsbCBkZXNjZW5kYW50cyoqIG1hdGNoaW5nIHRoZSBuYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIEV2ZW4gdGhvdWdoIHRoaXMgbWV0aG9kIGlzIGhlYXZpbHkgb3B0aW1pemVkLCBpdCBkb2VzIHBlcmZvcm1cclxuICAgICAqIGEgbGluZWFyIHNlYXJjaCB0byBmaW5kIHRoZSBvYmplY3RzLiBEbyBub3QgdXNlIGluIGEgaG90IHBhdGguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgdG8gc2VhcmNoIGZvci5cclxuICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHtAbGluayBPYmplY3QzRH0gbWF0Y2hpbmcgdGhlIG5hbWUuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMS4wXHJcbiAgICAgKi9cclxuICAgIGZpbmRCeU5hbWVSZWN1cnNpdmUobmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX29iamVjdElkO1xyXG4gICAgICAgIC8qIERpdmlkZSBieSA0IHRvIGdldCBoYWxmIGFzIG1hbnkgdXNob3J0IGFzIHBvc3NpYmxlICovXHJcbiAgICAgICAgY29uc3QgdGVtcFNpemVVMTYgPSB3YXNtLl90ZW1wTWVtU2l6ZSA+PiAyO1xyXG4gICAgICAgIGNvbnN0IG1heENvdW50ID0gdGVtcFNpemVVMTYgLSAxOyAvKiBSZXNlcnZlIG9uZSB1c2hvcnQgKi9cclxuICAgICAgICBjb25zdCBidWZmZXIgPSB3YXNtLl90ZW1wTWVtVWludDE2O1xyXG4gICAgICAgIGJ1ZmZlclttYXhDb3VudF0gPSAwOyAvKiBJbmRleCBvZmZzZXQgKi9cclxuICAgICAgICBjb25zdCBidWZmZXJQdHIgPSB3YXNtLl90ZW1wTWVtO1xyXG4gICAgICAgIGNvbnN0IGluZGV4UHRyID0gYnVmZmVyUHRyICsgbWF4Q291bnQgKiAyO1xyXG4gICAgICAgIGNvbnN0IG5hbWVQdHIgPSB3YXNtLnRlbXBVVEY4KG5hbWUsIChtYXhDb3VudCArIDEpICogMik7XHJcbiAgICAgICAgbGV0IHJlYWQgPSAwO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIHdoaWxlICgocmVhZCA9IHdhc20uX3dsX29iamVjdF9maW5kQnlOYW1lUmVjdXJzaXZlKGlkLCBuYW1lUHRyLCBpbmRleFB0ciwgYnVmZmVyUHRyLCBtYXhDb3VudCkpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVhZDsgKytpKVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5lbmdpbmUud3JhcE9iamVjdChidWZmZXJbaV0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciBnaXZlbiBvYmplY3QncyB0cmFuc2Zvcm1hdGlvbiBoYXMgY2hhbmdlZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IGNoYW5nZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9pc19jaGFuZ2VkKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBgdHJ1ZWAgaWYgdGhlIG9iamVjdCBpcyBkZXN0cm95ZWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxyXG4gICAgICpcclxuICAgICAqIElmIHtAbGluayBXb25kZXJsYW5kRW5naW5lLmVyYXNlUHJvdG90eXBlT25EZXN0cm95fSBpcyBgdHJ1ZWAsXHJcbiAgICAgKiByZWFkaW5nIGEgY3VzdG9tIHByb3BlcnR5IHdpbGwgbm90IHdvcms6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGVuZ2luZS5lcmFzZVByb3RvdHlwZU9uRGVzdHJveSA9IHRydWU7XHJcbiAgICAgKlxyXG4gICAgICogY29uc3Qgb2JqID0gc2NlbmUuYWRkT2JqZWN0KCk7XHJcbiAgICAgKiBvYmouY3VzdG9tUGFyYW0gPSAnSGVsbG8gV29ybGQhJztcclxuICAgICAqXHJcbiAgICAgKiBjb25zb2xlLmxvZyhvYmouaXNEZXN0cm95ZWQpOyAvLyBQcmludHMgYGZhbHNlYFxyXG4gICAgICogb2JqLmRlc3Ryb3koKTtcclxuICAgICAqIGNvbnNvbGUubG9nKG9iai5pc0Rlc3Ryb3llZCk7IC8vIFByaW50cyBgdHJ1ZWBcclxuICAgICAqIGNvbnNvbGUubG9nKG9iai5jdXN0b21QYXJhbSk7IC8vIFRocm93cyBhbiBlcnJvclxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMS4xXHJcbiAgICAgKi9cclxuICAgIGdldCBpc0Rlc3Ryb3llZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0SWQgPCAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIG9iamVjdCBpZHMgYXJlXHJcbiAgICAgKiBlcXVhbC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3RoZXJPYmplY3QgT2JqZWN0IHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgb2JqZWN0IGVxdWFscyB0aGUgZ2l2ZW4gb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBlcXVhbHMob3RoZXJPYmplY3QpIHtcclxuICAgICAgICBpZiAoIW90aGVyT2JqZWN0KVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub2JqZWN0SWQgPT0gb3RoZXJPYmplY3Qub2JqZWN0SWQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIHNraW4gZGF0YS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTa2luIHtcclxuICAgIC8qKlxyXG4gICAgICogSW5kZXggb2YgdGhlIHNraW4gaW4gdGhlIG1hbmFnZXIuXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9pbmRleDtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgaW5kZXgpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICAgICAgdGhpcy5faW5kZXggPSBpbmRleDtcclxuICAgIH1cclxuICAgIC8qKiBBbW91bnQgb2Ygam9pbnRzIGluIHRoaXMgc2tpbi4gKi9cclxuICAgIGdldCBqb2ludENvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfc2tpbl9nZXRfam9pbnRfY291bnQodGhpcy5faW5kZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqIEpvaW50cyBvYmplY3QgaWRzIGZvciB0aGlzIHNraW4gKi9cclxuICAgIGdldCBqb2ludElkcygpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50MTZBcnJheSh3YXNtLkhFQVBVMTYuYnVmZmVyLCB3YXNtLl93bF9za2luX2pvaW50X2lkcyh0aGlzLl9pbmRleCksIHRoaXMuam9pbnRDb3VudCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIER1YWwgcXVhdGVybmlvbnMgaW4gYSBmbGF0IGFycmF5IG9mIHNpemUgOCB0aW1lcyB7QGxpbmsgam9pbnRDb3VudH0uXHJcbiAgICAgKlxyXG4gICAgICogSW52ZXJzZSBiaW5kIHRyYW5zZm9ybXMgb2YgdGhlIHNraW4uXHJcbiAgICAgKi9cclxuICAgIGdldCBpbnZlcnNlQmluZFRyYW5zZm9ybXMoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX3NraW5faW52ZXJzZV9iaW5kX3RyYW5zZm9ybXModGhpcy5faW5kZXgpLCA4ICogdGhpcy5qb2ludENvdW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVmVjdG9ycyBpbiBhIGZsYXQgYXJyYXkgb2Ygc2l6ZSAzIHRpbWVzIHtAbGluayBqb2ludENvdW50fS5cclxuICAgICAqXHJcbiAgICAgKiBJbnZlcnNlIGJpbmQgc2NhbGluZ3Mgb2YgdGhlIHNraW4uXHJcbiAgICAgKi9cclxuICAgIGdldCBpbnZlcnNlQmluZFNjYWxpbmdzKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9za2luX2ludmVyc2VfYmluZF9zY2FsaW5ncyh0aGlzLl9pbmRleCksIDMgKiB0aGlzLmpvaW50Q291bnQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIHNraW4gaWRzIGFyZVxyXG4gICAgICogZXF1YWwuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyU2tpbiBTa2luIHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgc2tpbiBlcXVhbHMgdGhlIGdpdmVuIHNraW4uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGVxdWFscyhvdGhlclNraW4pIHtcclxuICAgICAgICBpZiAoIW90aGVyU2tpbilcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleCA9PT0gb3RoZXJTa2luLl9pbmRleDtcclxuICAgIH1cclxufVxyXG4vKiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIDwgMS4wLjAuICovXHJcbmV4cG9ydCB7IE9iamVjdDNEIGFzIE9iamVjdCB9O1xyXG4vKipcclxuICogUmF5IGhpdC5cclxuICpcclxuICogUmVzdWx0IG9mIGEge0BsaW5rIFNjZW5lLnJheUNhc3R9LlxyXG4gKlxyXG4gKiBAbm90ZSB0aGlzIGNsYXNzIHdyYXBzIGludGVybmFsIGVuZ2luZSBkYXRhIGFuZCBzaG91bGQgb25seSBiZSBjcmVhdGVkIGludGVybmFsbHkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUmF5SGl0IHtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKiBQb2ludGVyIHRvIHRoZSBtZW1vcnkgaGVhcC4gKi9cclxuICAgIF9wdHI7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBwdHIgUG9pbnRlciB0byB0aGUgcmF5IGhpdHMgbWVtb3J5LlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIHB0cikge1xyXG4gICAgICAgIGlmICgocHRyICYgMykgIT09IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNhbGlnbmVkIHBvaW50ZXI6IHBsZWFzZSByZXBvcnQgYSBidWcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgIHRoaXMuX3B0ciA9IHB0cjtcclxuICAgIH1cclxuICAgIC8qKiBBcnJheSBvZiByYXkgaGl0IGxvY2F0aW9ucy4gKi9cclxuICAgIGdldCBsb2NhdGlvbnMoKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLl9wdHI7XHJcbiAgICAgICAgbGV0IGwgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaGl0Q291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICBsLnB1c2gobmV3IEZsb2F0MzJBcnJheSh0aGlzLl9lbmdpbmUud2FzbS5IRUFQRjMyLmJ1ZmZlciwgcCArIDEyICogaSwgMykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbDtcclxuICAgIH1cclxuICAgIC8qKiBBcnJheSBvZiByYXkgaGl0IG5vcm1hbHMgKG9ubHkgd2hlbiB1c2luZyB7QGxpbmsgUGh5c2ljcyNyYXlDYXN0fS4gKi9cclxuICAgIGdldCBub3JtYWxzKCkge1xyXG4gICAgICAgIGxldCBwID0gdGhpcy5fcHRyICsgNDg7XHJcbiAgICAgICAgbGV0IGwgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaGl0Q291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICBsLnB1c2gobmV3IEZsb2F0MzJBcnJheSh0aGlzLl9lbmdpbmUud2FzbS5IRUFQRjMyLmJ1ZmZlciwgcCArIDEyICogaSwgMykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUHJlZmVyIHRoZXNlIHRvIHJlY2FsY3VsYXRpbmcgdGhlIGRpc3RhbmNlIGZyb20gbG9jYXRpb25zLlxyXG4gICAgICpcclxuICAgICAqIERpc3RhbmNlcyBvZiBhcnJheSBoaXRzIHRvIHJheSBvcmlnaW4uXHJcbiAgICAgKi9cclxuICAgIGdldCBkaXN0YW5jZXMoKSB7XHJcbiAgICAgICAgY29uc3QgcCA9IHRoaXMuX3B0ciArIDQ4ICogMjtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0aGlzLl9lbmdpbmUud2FzbS5IRUFQRjMyLmJ1ZmZlciwgcCwgdGhpcy5oaXRDb3VudCk7XHJcbiAgICB9XHJcbiAgICAvKiogSGl0IG9iamVjdHMgKi9cclxuICAgIGdldCBvYmplY3RzKCkge1xyXG4gICAgICAgIGNvbnN0IEhFQVBVMTYgPSB0aGlzLl9lbmdpbmUud2FzbS5IRUFQVTE2O1xyXG4gICAgICAgIGNvbnN0IG9iamVjdHMgPSBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF07XHJcbiAgICAgICAgbGV0IHAgPSAodGhpcy5fcHRyICsgKDQ4ICogMiArIDE2KSkgPj4gMTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaGl0Q291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICBvYmplY3RzW2ldID0gdGhpcy5fZW5naW5lLndyYXBPYmplY3QoSEVBUFUxNltwICsgaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqZWN0cztcclxuICAgIH1cclxuICAgIC8qKiBOdW1iZXIgb2YgaGl0cyAobWF4IDQpICovXHJcbiAgICBnZXQgaGl0Q291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuX2VuZ2luZS53YXNtLkhFQVBVMzJbdGhpcy5fcHRyIC8gNCArIDMwXSwgNCk7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgbWF0aCB7XHJcbiAgICAvKiogKEV4cGVyaW1lbnRhbCEpIEN1YmljIEhlcm1pdGUgc3BsaW5lIGludGVycG9sYXRpb24gZm9yIHZlY3RvcjMgYW5kIHF1YXRlcm5pb25zLlxyXG4gICAgICpcclxuICAgICAqIFdpdGggYGYgPT0gMGAsIGBvdXRgIHdpbGwgYmUgYGJgLCBpZiBgZiA9PSAxYCwgYG91dGAgd2lsbCBiZSBjLlxyXG4gICAgICpcclxuICAgICAqIFdoZXRoZXIgYSBxdWF0ZXJuaW9uIG9yIHZlY3RvcjMgaW50ZXJwb2xhdGlvbiBpcyBpbnRlbmRlZCBpcyBkZXRlcm1pbmVkIGJ5XHJcbiAgICAgKiBsZW5ndGggb2YgYGFgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgQXJyYXkgdG8gd3JpdGUgcmVzdWx0IHRvLlxyXG4gICAgICogQHBhcmFtIGEgRmlyc3QgdGFuZ2VudC9oYW5kbGUuXHJcbiAgICAgKiBAcGFyYW0gYiBGaXJzdCBwb2ludCBvciBxdWF0ZXJuaW9uLlxyXG4gICAgICogQHBhcmFtIGMgU2Vjb25kIHBvaW50IG9yIHF1YXRlcm5pb24uXHJcbiAgICAgKiBAcGFyYW0gZCBTZWNvbmQgaGFuZGxlLlxyXG4gICAgICogQHBhcmFtIGYgSW50ZXJwb2xhdGlvbiBmYWN0b3IgaW4gWzA7IDFdLlxyXG4gICAgICogQHJldHVybnMgVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjZcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGN1YmljSGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIGYsIGVuZ2luZSA9IFdMKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IGVuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zdWJhcnJheSgwKS5zZXQoYSk7XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnN1YmFycmF5KDQpLnNldChiKTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc3ViYXJyYXkoOCkuc2V0KGMpO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zdWJhcnJheSgxMikuc2V0KGQpO1xyXG4gICAgICAgIGNvbnN0IGlzUXVhdCA9IGEubGVuZ3RoID09IDQ7XHJcbiAgICAgICAgd2FzbS5fd2xfbWF0aF9jdWJpY0hlcm1pdGUod2FzbS5fdGVtcE1lbSArIDQgKiAxNiwgd2FzbS5fdGVtcE1lbSArIDQgKiAwLCB3YXNtLl90ZW1wTWVtICsgNCAqIDQsIHdhc20uX3RlbXBNZW0gKyA0ICogOCwgd2FzbS5fdGVtcE1lbSArIDQgKiAxMiwgZiwgaXNRdWF0KTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMTZdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxN107XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzE4XTtcclxuICAgICAgICBpZiAoaXNRdWF0KVxyXG4gICAgICAgICAgICBvdXRbM10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMTldO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgbWF0aCB9O1xyXG4vKipcclxuICogQ2xhc3MgZm9yIGFjY2Vzc2luZyBpbnRlcm5hdGlvbmFsaXphdGlvbiAoaTE4bikgZmVhdHVyZXMuXHJcbiAqXHJcbiAqIEFsbG93cyB7QGxpbmsgSTE4Ti5vbkxhbmd1YWdlQ2hhbmdlZCBcImRldGVjdGluZyBsYW5ndWFnZSBjaGFuZ2VcIn0sXHJcbiAqIHtAbGluayBJMThOLmxhbmd1YWdlIFwic2V0dGluZyB0aGUgY3VycmVudCBsYW5ndWFnZVwifSBvciB0cmFuc2xhdGluZ1xyXG4gKiB7QGxpbmsgSTE4Ti50cmFuc2xhdGUgXCJpbmRpdmlkdWFsIHRlcm1zXCJ9LlxyXG4gKlxyXG4gKiBJbnRlcm5hdGlvbmFsaXphdGlvbiB3b3JrcyB3aXRoIHRlcm1zLFxyXG4gKiBhIHN0cmluZyB0eXBlIGtleXdvcmQgdGhhdCBpcyBsaW5rZWQgdG8gYSBkaWZmZXJlbnQgdGV4dCBmb3IgZWFjaCBsYW5ndWFnZS5cclxuICpcclxuICogSW50ZXJuYWxseSwgc3RyaW5nIHBhcmFtZXRlcnMgZm9yIHRleHQgYW5kIGpzIGNvbXBvbmVudHMgYXJlXHJcbiAqIGF1dG9tYXRpY2FsbHkgc3dhcHBlZCBkdXJpbmcgbGFuZ3VhZ2UgY2hhbmdlLCBnaXZlbiB0aGV5IGFyZSBsaW5rZWQgdG8gYSB0ZXJtLlxyXG4gKiBJZiBtYW51YWwgdGV4dCBzd2FwcGluZyBpcyBkZXNpcmVkLCB7QGxpbmsgSTE4Ti50cmFuc2xhdGV9XHJcbiAqIGNhbiBiZSB1c2VkIHRvIHJldHJpZXZlIHRoZSBjdXJyZW50IHRyYW5zbGF0aW9uIGZvciBhbnkgdGVybS5cclxuICpcclxuICogWW91IGNhbiBhbHNvIHVzZSB0aGUge0BsaW5rIEkxOE4ub25MYW5ndWFnZUNoYW5nZWR9IHRvIG1hbnVhbGx5IHVwZGF0ZSB0ZXh0XHJcbiAqIHdoZW4gYSBsYW5ndWFnZSBpcyBjaGFuZ2VkIHRvIGZvciBleGFtcGxlIHVwZGF0ZSBhIG51bWJlciBpbiBhIHN0cmluZy5cclxuICpcclxuICogQHNpbmNlIDEuMC4wXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSTE4TiB7XHJcbiAgICAvKipcclxuICAgICAqIHtAbGluayBFbWl0dGVyfSBmb3IgbGFuZ3VhZ2UgY2hhbmdlIGV2ZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBGaXJzdCBwYXJhbWV0ZXIgdG8gYSBsaXN0ZW5lciBpcyB0aGUgb2xkIGxhbmd1YWdlIGluZGV4LFxyXG4gICAgICogc2Vjb25kIHBhcmFtZXRlciBpcyB0aGUgbmV3IGxhbmd1YWdlIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIFVzYWdlIGZyb20gYSB3aXRoaW4gYSBjb21wb25lbnQ6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIHRoaXMuZW5naW5lLmkxOG4ub25MYW5ndWFnZUNoYW5nZWQuYWRkKChvbGRMYW5ndWFnZUluZGV4LCBuZXdMYW5ndWFnZUluZGV4KSA9PiB7XHJcbiAgICAgKiAgICAgY29uc3Qgb2xkTGFuZ3VhZ2UgPSB0aGlzLmVuZ2luZS5pMThuLmxhbmd1YWdlTmFtZShvbGRMYW5ndWFnZUluZGV4KTtcclxuICAgICAqICAgICBjb25zdCBuZXdMYW5ndWFnZSA9IHRoaXMuZW5naW5lLmkxOG4ubGFuZ3VhZ2VOYW1lKG5ld0xhbmd1YWdlSW5kZXgpO1xyXG4gICAgICogICAgIGNvbnNvbGUubG9nKFwiU3dpdGNoZWQgZnJvbVwiLCBvbGRMYW5ndWFnZSwgXCJ0b1wiLCBuZXdMYW5ndWFnZSk7XHJcbiAgICAgKiB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBvbkxhbmd1YWdlQ2hhbmdlZCA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKiogUHJldmlvdXNseSBzZXQgbGFuZ3VhZ2UgaW5kZXguIEBoaWRkZW4gKi9cclxuICAgIF9wcmV2TGFuZ3VhZ2VJbmRleCA9IC0xO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvclxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBjdXJyZW50IGxhbmd1YWdlIGFuZCBhcHBseSB0cmFuc2xhdGlvbnMgdG8gbGlua2VkIHRleHQgcGFyYW1ldGVycy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGlzIGVxdWl2YWxlbnQgdG8ge0BsaW5rIEkxOE4uc2V0TGFuZ3VhZ2V9LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb2RlIExhbmd1YWdlIGNvZGUgdG8gc3dpdGNoIHRvXHJcbiAgICAgKi9cclxuICAgIHNldCBsYW5ndWFnZShjb2RlKSB7XHJcbiAgICAgICAgdGhpcy5zZXRMYW5ndWFnZShjb2RlKTtcclxuICAgIH1cclxuICAgIC8qKiBHZXQgY3VycmVudCBsYW5ndWFnZSBjb2RlLiAqL1xyXG4gICAgZ2V0IGxhbmd1YWdlKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBjb2RlID0gd2FzbS5fd2xfaTE4bl9jdXJyZW50TGFuZ3VhZ2UoKTtcclxuICAgICAgICBpZiAoY29kZSA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKGNvZGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgbGFuZ3VhZ2UgaW5kZXguXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgbW9yZSBlZmZpY2llbnQgdGhhbiBpdHMgZXF1aXZhbGVudDpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogY29uc3QgaW5kZXggPSBpMThuLmxhbmd1YWdlSW5kZXgoaTE4bi5sYW5ndWFnZSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZ2V0IGN1cnJlbnRJbmRleCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2kxOG5fY3VycmVudExhbmd1YWdlSW5kZXgoKTtcclxuICAgIH1cclxuICAgIC8qKiBQcmV2aW91cyBsYW5ndWFnZSBpbmRleC4gKi9cclxuICAgIGdldCBwcmV2aW91c0luZGV4KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wcmV2TGFuZ3VhZ2VJbmRleDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGN1cnJlbnQgbGFuZ3VhZ2UgYW5kIGFwcGx5IHRyYW5zbGF0aW9ucyB0byBsaW5rZWQgdGV4dCBwYXJhbWV0ZXJzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb2RlIFRoZSBsYW5ndWFnZSBjb2RlLlxyXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY3VycmVudCBpbmRleCBjb2RlIHdoZW4gdGhlXHJcbiAgICAgKiAgICAgbGFuZ3VhZ2UgaXMgbG9hZGVkLlxyXG4gICAgICovXHJcbiAgICBzZXRMYW5ndWFnZShjb2RlKSB7XHJcbiAgICAgICAgaWYgKGNvZGUgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmN1cnJlbnRJbmRleCk7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHRoaXMuX3ByZXZMYW5ndWFnZUluZGV4ID0gdGhpcy5jdXJyZW50SW5kZXg7XHJcbiAgICAgICAgd2FzbS5fd2xfaTE4bl9zZXRMYW5ndWFnZSh3YXNtLnRlbXBVVEY4KGNvZGUpKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLnNjZW5lXHJcbiAgICAgICAgICAgIC5fZmx1c2hBcHBlbmQodGhpcy5fZW5naW5lLnNjZW5lLmJhc2VVUkwpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuY3VycmVudEluZGV4KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRyYW5zbGF0ZWQgc3RyaW5nIGZvciBhIHRlcm0gZm9yIHRoZSBjdXJyZW50bHkgbG9hZGVkIGxhbmd1YWdlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0ZXJtIFRlcm0gdG8gdHJhbnNsYXRlXHJcbiAgICAgKi9cclxuICAgIHRyYW5zbGF0ZSh0ZXJtKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0aW9uID0gd2FzbS5fd2xfaTE4bl90cmFuc2xhdGUod2FzbS50ZW1wVVRGOCh0ZXJtKSk7XHJcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcodHJhbnNsYXRpb24pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIG51bWJlciBvZiBsYW5ndWFnZXMgaW4gdGhlIHByb2plY3QuXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBsYW5ndWFnZUNvdW50KCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gd2FzbS5fd2xfaTE4bl9sYW5ndWFnZUNvdW50KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIGxhbmd1YWdlIGNvZGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBsYW5ndWFnZSB0byBnZXQgdGhlIGNvZGUgZnJvbVxyXG4gICAgICovXHJcbiAgICBsYW5ndWFnZUluZGV4KGNvZGUpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIHdhc20uX3dsX2kxOG5fbGFuZ3VhZ2VJbmRleCh3YXNtLnRlbXBVVEY4KGNvZGUpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgbGFuZ3VhZ2UgY29kZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGxhbmd1YWdlIHRvIGdldCB0aGUgY29kZSBmcm9tXHJcbiAgICAgKi9cclxuICAgIGxhbmd1YWdlQ29kZShpbmRleCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBjb2RlID0gd2FzbS5fd2xfaTE4bl9sYW5ndWFnZUNvZGUoaW5kZXgpO1xyXG4gICAgICAgIGlmIChjb2RlID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcoY29kZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIGxhbmd1YWdlIG5hbWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBsYW5ndWFnZSB0byBnZXQgdGhlIG5hbWUgZnJvbVxyXG4gICAgICovXHJcbiAgICBsYW5ndWFnZU5hbWUoaW5kZXgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHdhc20uX3dsX2kxOG5fbGFuZ3VhZ2VOYW1lKGluZGV4KTtcclxuICAgICAgICBpZiAobmFtZSA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKG5hbWUpO1xyXG4gICAgfVxyXG59XHJcbi8qKiBQcm9wZXJ0aWVzIG9mIGEgV2ViWFIgc2Vzc2lvbiAqL1xyXG5leHBvcnQgY2xhc3MgWFIge1xyXG4gICAgLyoqIFdvbmRlcmxhbmQgV0FTTSBicmlkZ2UuIEBoaWRkZW4gKi9cclxuICAgICN3YXNtO1xyXG4gICAgI21vZGU7XHJcbiAgICBjb25zdHJ1Y3Rvcih3YXNtLCBtb2RlKSB7XHJcbiAgICAgICAgdGhpcy4jd2FzbSA9IHdhc207XHJcbiAgICAgICAgdGhpcy4jbW9kZSA9IG1vZGU7XHJcbiAgICB9XHJcbiAgICAvKiogQ3VycmVudCBXZWJYUiBzZXNzaW9uIG1vZGUgKi9cclxuICAgIGdldCBzZXNzaW9uTW9kZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jbW9kZTtcclxuICAgIH1cclxuICAgIC8qKiBDdXJyZW50IFdlYlhSIHNlc3Npb24gKi9cclxuICAgIGdldCBzZXNzaW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX3Nlc3Npb247XHJcbiAgICB9XHJcbiAgICAvKiogQ3VycmVudCBXZWJYUiBmcmFtZSAqL1xyXG4gICAgZ2V0IGZyYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX2ZyYW1lO1xyXG4gICAgfVxyXG4gICAgcmVmZXJlbmNlU3BhY2VGb3JUeXBlKHR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZXNbdHlwZV0gPz8gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKiBTZXQgY3VycmVudCByZWZlcmVuY2Ugc3BhY2UgdHlwZSB1c2VkIGZvciByZXRyaWV2aW5nIGV5ZSwgaGVhZCwgaGFuZCBhbmQgam9pbnQgcG9zZXMgKi9cclxuICAgIHNldCBjdXJyZW50UmVmZXJlbmNlU3BhY2UocmVmU3BhY2UpIHtcclxuICAgICAgICB0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlID0gcmVmU3BhY2U7XHJcbiAgICAgICAgdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZVR5cGUgPSBudWxsO1xyXG4gICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBPYmplY3Qua2V5cyh0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlcykpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VzW3R5cGVdID09PSByZWZTcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgLyogS2VlcCB0cmFjayBvZiByZWZlcmVuY2Ugc3BhY2UgdHlwZSAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZVR5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqIEN1cnJlbnQgcmVmZXJlbmNlIHNwYWNlIHR5cGUgdXNlZCBmb3IgcmV0cmlldmluZyBleWUsIGhlYWQsIGhhbmQgYW5kIGpvaW50IHBvc2VzICovXHJcbiAgICBnZXQgY3VycmVudFJlZmVyZW5jZVNwYWNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlO1xyXG4gICAgfVxyXG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgcmVmZXJlbmNlIHNwYWNlIHR5cGUgb3IgYG51bGxgIGlmIG5vdCBhIGRlZmF1bHQgcmVmZXJlbmNlIHNwYWNlICovXHJcbiAgICBnZXQgY3VycmVudFJlZmVyZW5jZVNwYWNlVHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZVR5cGU7XHJcbiAgICB9XHJcbiAgICAvKiogQ3VycmVudCBXZWJYUiBiYXNlIGxheWVyICAqL1xyXG4gICAgZ2V0IGJhc2VMYXllcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9iYXNlTGF5ZXI7XHJcbiAgICB9XHJcbiAgICAvKiogQ3VycmVudCBXZWJYUiBmcmFtZWJ1ZmZlciAqL1xyXG4gICAgZ2V0IGZyYW1lYnVmZmVycygpIHtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy4jd2FzbS53ZWJ4cl9mYm8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbdGhpcy4jd2FzbS5HTC5mcmFtZWJ1ZmZlcnNbdGhpcy4jd2FzbS53ZWJ4cl9mYm9dXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfZmJvLm1hcCgoaWQpID0+IHRoaXMuI3dhc20uR0wuZnJhbWVidWZmZXJzW2lkXSk7XHJcbiAgICB9XHJcbn1cclxuIiwgIi8qKlxyXG4gKiBBc3NlcnQgdGhhdCB0aGUgZ2l2ZW4gYml0IGluZGV4IGlzIGxlc3MgdGhhbiAzMi5cclxuICpcclxuICogQHBhcmFtIGJpdCBUaGUgYml0IHRvIHRlc3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBhc3NlcnQoYml0KSB7XHJcbiAgICBpZiAoYml0ID49IDMyKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCaXRTZXQuZW5hYmxlKCk6IFZhbHVlICR7Yml0fSBpcyBvdmVyIDMxYCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFN0b3JlcyBhIGJpdCBwYXR0ZXJuIHRvIHF1aWNrbHkgdGVzdCBpZiBhbiBpbmRleCBpcyBlbmFibGVkIC8gZGlzYWJsZWQuXHJcbiAqXHJcbiAqIFRoaXMgY2xhc3MgY2FuIHN0b3JlIHVwIHRvICoqMzIqKiBkaWZmZXJlbnQgdmFsdWVzIGluIHRoZSByYW5nZSBbMDsgMzFdLlxyXG4gKlxyXG4gKiAjIyMjIFVzYWdlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGNvbnN0IGJpdHNldCA9IG5ldyBCaXRTZXQoKTtcclxuICogYml0c2V0LmVuYWJsZSgxMCk7IC8vIEVuYWJsZSBiaXQgYXQgaW5kZXggYDEwYC5cclxuICogY29uc29sZS5sb2coYml0c2V0LmVuYWJsZWQoMTApKTsgLy8gUHJpbnRzICd0cnVlJy5cclxuICogYGBgXHJcbiAqXHJcbiAqICMjIyMgVHlwZVNjcmlwdFxyXG4gKlxyXG4gKiBUaGUgc2V0IGNhbiBiZSB0eXBlZCBvdmVyIGFuIGVudW06XHJcbiAqXHJcbiAqIGBgYHRzXHJcbiAqIGVudW0gVGFnIHtcclxuICogICAgIEZpcnN0ID0gMCxcclxuICogICAgIFNlY29uZCA9IDEsXHJcbiAqIH1cclxuICpcclxuICogY29uc3QgYml0c2V0ID0gbmV3IEJpdFNldDxUYWc+KCk7XHJcbiAqIGJpdHNldC5lbmFibGUoVGFnLkZpcnN0KTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQml0U2V0IHtcclxuICAgIC8qKiBFbmFibGVkIGJpdHMuIEBoaWRkZW4gKi9cclxuICAgIF9iaXRzID0gMDtcclxuICAgIC8qKlxyXG4gICAgICogRW5hYmxlIHRoZSBiaXQgYXQgdGhlIGdpdmVuIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiaXRzIEEgc3ByZWFkIG9mIGFsbCB0aGUgYml0cyB0byBlbmFibGUuXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIGVuYWJsZSguLi5iaXRzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBiaXQgb2YgYml0cykge1xyXG4gICAgICAgICAgICBhc3NlcnQoYml0KTtcclxuICAgICAgICAgICAgLyogQ2FzdHMgdGhlIHJlc3VsdCB0byBhbiB1bnNpZ25lZCBpbnRlZ2VyICovXHJcbiAgICAgICAgICAgIHRoaXMuX2JpdHMgfD0gKDEgPDwgYml0KSA+Pj4gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEVuYWJsZSBhbGwgYml0cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIGVuYWJsZUFsbCgpIHtcclxuICAgICAgICB0aGlzLl9iaXRzID0gfjA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERpc2FibGUgdGhlIGJpdCBhdCB0aGUgZ2l2ZW4gaW5kZXguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGJpdHMgQSBzcHJlYWQgb2YgYWxsIHRoZSBiaXRzIHRvIGRpc2FibGUuXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIGRpc2FibGUoLi4uYml0cykge1xyXG4gICAgICAgIGZvciAoY29uc3QgYml0IG9mIGJpdHMpIHtcclxuICAgICAgICAgICAgYXNzZXJ0KGJpdCk7XHJcbiAgICAgICAgICAgIC8qIENhc3RzIHRoZSByZXN1bHQgdG8gYW4gdW5zaWduZWQgaW50ZWdlciAqL1xyXG4gICAgICAgICAgICB0aGlzLl9iaXRzICY9IH4oKDEgPDwgYml0KSA+Pj4gMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNhYmxlIGFsbCBiaXRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgZGlzYWJsZUFsbCgpIHtcclxuICAgICAgICB0aGlzLl9iaXRzID0gMDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tlciB3aGV0aGVyIHRoZSBiaXQgaXMgc2V0IG9yIG5vdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYml0IFRoZSBiaXQgdG8gY2hlY2suXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgaXQncyBlbmFibGVkLCBgZmFsc2VgIG90aGVyd2lzZS5cclxuICAgICAqL1xyXG4gICAgZW5hYmxlZChiaXQpIHtcclxuICAgICAgICByZXR1cm4gISEodGhpcy5fYml0cyAmICgoMSA8PCBiaXQpID4+PiAwKSk7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IEJpdFNldCB9IGZyb20gJy4vYml0c2V0LmpzJztcclxuLyoqXHJcbiAqIExvZ2dpbmcgbGV2ZWxzIHN1cHBvcnRlZCBieSB7QGxpbmsgTG9nZ2VyfS5cclxuICovXHJcbmV4cG9ydCB2YXIgTG9nTGV2ZWw7XHJcbihmdW5jdGlvbiAoTG9nTGV2ZWwpIHtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiSW5mb1wiXSA9IDBdID0gXCJJbmZvXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIldhcm5cIl0gPSAxXSA9IFwiV2FyblwiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJFcnJvclwiXSA9IDJdID0gXCJFcnJvclwiO1xyXG59KShMb2dMZXZlbCB8fCAoTG9nTGV2ZWwgPSB7fSkpO1xyXG4vKipcclxuICogTG9nZ2luZyB3cmFwcGVyLlxyXG4gKlxyXG4gKiBUaGlzIGlzIHVzZWQgdG8gYWxsb3cgdHVybmluZyBvbi9vZmY6XHJcbiAqICAgICAtIGBjb25zb2xlLmxvZ2BcclxuICogICAgIC0gYGNvbnNvbGUud2FybmBcclxuICogICAgIC0gYGNvbnNvbGUuZXJyb3JgXHJcbiAqXHJcbiAqICMjIyMgVXNhZ2VcclxuICpcclxuICogYGBganNcclxuICogaW1wb3J0IHtMb2dnZXIsIExvZ0xldmVsLCBMb2dUYWd9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqXHJcbiAqIC8vIENyZWF0ZSBhIGxvZ2dlciB3aXRoIG9ubHkgdGhlIFwiZXJyb3JcIiBhbmQgXCJ3YXJuXCIgbGV2ZWxzIGFjdGl2YXRlZFxyXG4gKiBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKExvZ0xldmVsLldhcm4sIExvZ0xldmVsLkVycm9yKTtcclxuICpcclxuICogLy8gT25seSB0aGUgXCJlcnJvclwiIGFuZCBcIndhcm5cIiBsZXZlbHMgYXJlIGFjdGl2YXRlZCxcclxuICogLy8gdGhpcyBtZXNzYWdlIGlzbid0IGxvZ2dlZC5cclxuICogbG9nZ2VyLmluZm8oTG9nVGFnLkNvbXBvbmVudCwgJ1RoaXMgbWVzc2FnZSBpcyBzaHVzaGVkJylcclxuICpcclxuICogLy8gUHJpbnRzICdIZWxsbyBFcnJvciEnXHJcbiAqIGxvZ2dlci5lcnJvcihMb2dUYWcuQ29tcG9uZW50LCAnSGVsbG8gRXJyb3IhJyk7XHJcbiAqXHJcbiAqIC8vIFByaW50cyAnSGVsbG8gV2FybmluZyEnXHJcbiAqIGxvZ2dlci53YXJuKExvZ1RhZy5Db21wb25lbnQsICdIZWxsbyBXYXJuaW5nIScpO1xyXG4gKiBgYGBcclxuICpcclxuICogVGhlIGxvZyBsZXZlbHMgY2FuIGJlIGNoYW5nZWQgYXQgYW55dGltZSB1c2luZyB0aGUge0BsaW5rIEJpdFNldH0gYXBpOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAvLyBFbmFibGUgdGhlIFwiaW5mb1wiIGxldmVsXHJcbiAqIGxvZ2dlci5sZXZlbHMuZW5hYmxlKExvZ0xldmVsLkluZm8pO1xyXG4gKiAqIC8vIERpc2FibGUgdGhlIFwid2FyblwiIGxldmVsXHJcbiAqIGxvZ2dlci5sZXZlbHMuZGlzYWJsZShMb2dMZXZlbC5XYXJuKTtcclxuICogYGBgXHJcbiAqXHJcbiAqICMjIyMgVGFnc1xyXG4gKlxyXG4gKiBJbiBhZGRpdGlvbiwgdGhlIGxvZ2dlciBzdXBwb3J0cyB0YWdnaW5nIG1lc3NhZ2VzOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQge0xvZ2dlciwgTG9nTGV2ZWwsIExvZ1RhZ30gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuICpcclxuICogY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihMb2dMZXZlbC5JbmZvKTtcclxuICpcclxuICogbG9nZ2VyLnRhZ3MuZGlzYWJsZUFsbCgpO1xyXG4gKlxyXG4gKiAvLyBBbGwgdGFncyBhcmUgb2ZmLCB0aGlzIG1lc3NhZ2UgaXNuJ3QgbG9nZ2VkXHJcbiAqIGxvZ2dlci5pbmZvKExvZ1RhZy5Db21wb25lbnQsICdUaGlzIG1lc3NhZ2UgaXMgc2h1c2hlZCcpO1xyXG4gKlxyXG4gKiBsb2dnZXIudGFncy5lbmFibGUoTG9nVGFnLkNvbXBvbmVudCk7XHJcbiAqIGxvZ2dlci5pbmZvKExvZ1RhZy5Db21wb25lbnQsICdIZWxsbyBXb3JsZCEnKSAvLyBQcmludHMgJ0hlbGxvIFdvcmxkISdcclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSB0YWdnaW5nIHN5c3RlbSBnaXZlcyBhbm90aGVyIGxheWVyIG9mIGNvbnRyb2wgdG8gZW5hYmxlIC8gZGlzYWJsZVxyXG4gKiBzb21lIHNwZWNpZmljIGxvZ3MuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcclxuICAgIC8qKlxyXG4gICAgICogQml0c2V0IG9mIGVuYWJsZWQgbGV2ZWxzLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgbGV2ZWxzID0gbmV3IEJpdFNldCgpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBCaXRzZXQgb2YgZW5hYmxlZCB0YWdzLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgdGFncyA9IG5ldyBCaXRTZXQoKS5lbmFibGVBbGwoKTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IGxvZ2dlciBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbGV2ZWxzIERlZmF1bHQgc2V0IG9mIGxldmVscyB0byBlbmFibGUuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKC4uLmxldmVscykge1xyXG4gICAgICAgIHRoaXMubGV2ZWxzLmVuYWJsZSguLi5sZXZlbHMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2cgdGhlIG1lc3NhZ2UocykgdXNpbmcgYGNvbnNvbGUubG9nYC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGFnIFRhZyByZXByZXNlbnRlZCBieSBhIHBvc2l0aXZlIGludGVnZXIuXHJcbiAgICAgKiBAcGFyYW0gbXNnIEEgc3ByZWFkIG9mIG1lc3NhZ2UgdG8gbG9nLlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBpbmZvKHRhZywgLi4ubXNnKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubGV2ZWxzLmVuYWJsZWQoTG9nTGV2ZWwuSW5mbykgJiYgdGhpcy50YWdzLmVuYWJsZWQodGFnKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyguLi5tc2cpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9nIHRoZSBtZXNzYWdlKHMpIHVzaW5nIGBjb25zb2xlLndhcm5gLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0YWcgVGFnIHJlcHJlc2VudGVkIGJ5IGEgcG9zaXRpdmUgaW50ZWdlci5cclxuICAgICAqIEBwYXJhbSBtc2cgQSBzcHJlYWQgb2YgbWVzc2FnZSB0byBsb2cuXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHdhcm4odGFnLCAuLi5tc2cpIHtcclxuICAgICAgICBpZiAodGhpcy5sZXZlbHMuZW5hYmxlZChMb2dMZXZlbC5XYXJuKSAmJiB0aGlzLnRhZ3MuZW5hYmxlZCh0YWcpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybiguLi5tc2cpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9nIHRoZSBtZXNzYWdlKHMpIHVzaW5nIGBjb25zb2xlLmVycm9yYC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGFnIFRhZyByZXByZXNlbnRlZCBieSBhIHBvc2l0aXZlIGludGVnZXIuXHJcbiAgICAgKiBAcGFyYW0gbXNnIEEgc3ByZWFkIG9mIG1lc3NhZ2UgdG8gbG9nLlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBlcnJvcih0YWcsIC4uLm1zZykge1xyXG4gICAgICAgIGlmICh0aGlzLmxldmVscy5lbmFibGVkKExvZ0xldmVsLkVycm9yKSAmJiB0aGlzLnRhZ3MuZW5hYmxlZCh0YWcpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoLi4ubXNnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IExvZ1RhZyB9IGZyb20gJy4vaW5kZXguanMnO1xyXG5pbXBvcnQgeyBUeXBlIH0gZnJvbSAnLi9wcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCB7IFJldGFpbkVtaXR0ZXIgfSBmcm9tICcuL3V0aWxzL2V2ZW50LmpzJztcclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi91dGlscy9sb2dnZXIuanMnO1xyXG5pbXBvcnQgeyBpbmhlcml0UHJvcGVydGllcywgQW5pbWF0aW9uLCBDb21wb25lbnQsIE1hdGVyaWFsLCBNZXNoLCBCcm9rZW5Db21wb25lbnQsIFNraW4sIFhSLCB9IGZyb20gJy4vd29uZGVybGFuZC5qcyc7XHJcbi8qKlxyXG4gKiBEZWZhdWx0IGNvbXBvbmVudCBwYXJhbWV0ZXIgdmFsdWUgcGVyIHR5cGUuXHJcbiAqL1xyXG5jb25zdCBfY29tcG9uZW50RGVmYXVsdHMgPSBuZXcgTWFwKFtcclxuICAgIFtUeXBlLkJvb2wsIGZhbHNlXSxcclxuICAgIFtUeXBlLkludCwgMF0sXHJcbiAgICBbVHlwZS5GbG9hdCwgMC4wXSxcclxuICAgIFtUeXBlLlN0cmluZywgJyddLFxyXG4gICAgW1R5cGUuRW51bSwgdW5kZWZpbmVkXSxcclxuICAgIFtUeXBlLk9iamVjdCwgbnVsbF0sXHJcbiAgICBbVHlwZS5NZXNoLCBudWxsXSxcclxuICAgIFtUeXBlLlRleHR1cmUsIG51bGxdLFxyXG4gICAgW1R5cGUuTWF0ZXJpYWwsIG51bGxdLFxyXG4gICAgW1R5cGUuQW5pbWF0aW9uLCBudWxsXSxcclxuICAgIFtUeXBlLlNraW4sIG51bGxdLFxyXG4gICAgW1R5cGUuQ29sb3IsIFswLjAsIDAuMCwgMC4wLCAxLjBdXSxcclxuXSk7XHJcbi8qKlxyXG4gKiBTZXR1cCB0aGUgZGVmYXVsdHMgdmFsdWUgb2YgdGhlIHByb3BlcnRpZXMgb24gYSBnaXZlblxyXG4gKiBjb21wb25lbnQgY2xhc3MuXHJcbiAqXHJcbiAqIEBwYXJhbSBjdG9yIFRoZSBjb21wb25lbnQgY2xhc3NcclxuICovXHJcbmZ1bmN0aW9uIF9zZXR1cERlZmF1bHRzKGN0b3IpIHtcclxuICAgIGZvciAoY29uc3QgbmFtZSBpbiBjdG9yLlByb3BlcnRpZXMpIHtcclxuICAgICAgICBjb25zdCBwID0gY3Rvci5Qcm9wZXJ0aWVzW25hbWVdO1xyXG4gICAgICAgIGlmIChwLnR5cGUgPT09IFR5cGUuRW51bSkge1xyXG4gICAgICAgICAgICAvKiBFbnVtIGRlZmF1bHQgY2FuIGJlIGEgc3RyaW5nIG9yIGFuIGluZGV4LiBDb252ZXJ0IHRvIGFuZC9vclxyXG4gICAgICAgICAgICAgKiBzYW5pdHktY2hlY2sgdGhlIGluZGV4LiAqL1xyXG4gICAgICAgICAgICBpZiAocC52YWx1ZXM/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLyogRG9uJ3QgdHJ5IHRvIGxvb2sgdXAgdGhlIGRlZmF1bHQgaWYgdGhlIHVzZXIgc3BlY2lmaWVkIGFcclxuICAgICAgICAgICAgICAgICAqIG51bWJlciBvciB3ZSBhbHJlYWR5IGNvbnZlcnRlZCB0byBvbmUuICovXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHAuZGVmYXVsdCAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiBJZiB1bmRlZmluZWQsIG1pc3NpbmcgZWxlbWVudCBvciB3cm9uZyB0eXBlIHRoaXMgcmV0dXJuc1xyXG4gICAgICAgICAgICAgICAgICAgICAqIC0xIHdoaWNoIGJlY29tZXMgMCBiZWxvdy4gVGhpcyBtYXRjaGVzIGVkaXRvciBiZWhhdmlvci4gKi9cclxuICAgICAgICAgICAgICAgICAgICBwLmRlZmF1bHQgPSBwLnZhbHVlcy5pbmRleE9mKHAuZGVmYXVsdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocC5kZWZhdWx0IDwgMCB8fCBwLmRlZmF1bHQgPj0gcC52YWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcC5kZWZhdWx0ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qIFRoZXJlJ3Mgbm8gaW5kZXggdmFsdWUgdGhhdCBtYWtlcyBzZW5zZSAqL1xyXG4gICAgICAgICAgICAgICAgcC5kZWZhdWx0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwLmRlZmF1bHQgPSBwLmRlZmF1bHQgPz8gX2NvbXBvbmVudERlZmF1bHRzLmdldChwLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdG9yLnByb3RvdHlwZVtuYW1lXSA9IHAuZGVmYXVsdDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogTG93LWxldmVsIHdyYXBwZXIgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgV2ViQXNzZW1ibHkgY29kZS5cclxuICpcclxuICogQGhpZGRlblxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFdBU00ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbXNjcmlwdGVuIHdvcmtlciBmaWVsZC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdvcmtlciA9ICcnO1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbXNjcmlwdGVuIHdhc20gZmllbGQuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3YXNtID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiBjYW52YXMuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICBjYW52YXMgPSBudWxsO1xyXG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgICovXHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgc2Vzc2lvbi5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdlYnhyX3Nlc3Npb24gPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIHJlcXVlc3Qgc2Vzc2lvbiBjYWxsYmFjay5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdlYnhyX3JlcXVlc3RTZXNzaW9uID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBvZmZlciBzZXNzaW9uIGNhbGxiYWNrLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgd2VieHJfb2ZmZXJTZXNzaW9uID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBmcmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdlYnhyX2ZyYW1lID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiBjdXJyZW50IFdlYlhSIHJlZmVyZW5jZSBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdlYnhyX3JlZlNwYWNlID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiByZWZlcmVuY2Ugc3BhY2VzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgd2VieHJfcmVmU3BhY2VzID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBjdXJyZW50IHJlZmVyZW5jZSBzcGFjZSB0eXBlLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgd2VieHJfcmVmU3BhY2VUeXBlID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBHTCBwcm9qZWN0aW9uIGxheWVyLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgd2VieHJfYmFzZUxheWVyID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBmcmFtZWJ1ZmZlciBzY2FsZSBmYWN0b3IuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3ZWJ4cl9mcmFtZWJ1ZmZlclNjYWxlRmFjdG9yID0gMS4wO1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIGZyYW1lYnVmZmVyKHMpLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgLyogd2VieHJfZmJvIHdpbGwgbm90IGdldCBvdmVyd3JpdHRlbiBpZiB3ZSBhcmUgcmVuZGVyaW5nIHRvIHRoZVxyXG4gICAgICogZGVmYXVsdCBmcmFtZWJ1ZmZlciwgZS5nLiwgd2hlbiB1c2luZyBXZWJYUiBlbXVsYXRvci4gKi9cclxuICAgIHdlYnhyX2ZibyA9IDA7XHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnQgYSBXQVNNIG1lbW9yeSB2aWV3IHRvIGEgSmF2YVNjcmlwdCBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHB0ciBQb2ludGVyIHN0YXJ0XHJcbiAgICAgKiBAcGFyYW0gcHRyRW5kIFBvaW50ZXIgZW5kXHJcbiAgICAgKiBAcmV0dXJucyBKYXZhU2NyaXB0IHN0cmluZ1xyXG4gICAgICovXHJcbiAgICBVVEY4Vmlld1RvU3RyaW5nO1xyXG4gICAgLyoqIExvZ2dlciBpbnN0YW5jZS4gKi9cclxuICAgIF9sb2cgPSBuZXcgTG9nZ2VyKCk7XHJcbiAgICAvKiogSWYgYHRydWVgLCBsb2dzIHdpbGwgbm90IHNwYW0gdGhlIGNvbnNvbGUgb24gZXJyb3IuICovXHJcbiAgICBfZGVhY3RpdmF0ZV9jb21wb25lbnRfb25fZXJyb3IgPSBmYWxzZTtcclxuICAgIC8qKiBUZW1wb3JhcnkgbWVtb3J5IHBvaW50ZXIuICovXHJcbiAgICBfdGVtcE1lbSA9IG51bGw7XHJcbiAgICAvKiogVGVtcG9yYXJ5IG1lbW9yeSBzaXplLiAqL1xyXG4gICAgX3RlbXBNZW1TaXplID0gMDtcclxuICAgIC8qKiBUZW1wb3JhcnkgZmxvYXQgbWVtb3J5IHZpZXcuICovXHJcbiAgICBfdGVtcE1lbUZsb2F0ID0gbnVsbDtcclxuICAgIC8qKiBUZW1wb3JhcnkgaW50IG1lbW9yeSB2aWV3LiAqL1xyXG4gICAgX3RlbXBNZW1JbnQgPSBudWxsO1xyXG4gICAgLyoqIFRlbXBvcmFyeSB1aW50OCBtZW1vcnkgdmlldy4gKi9cclxuICAgIF90ZW1wTWVtVWludDggPSBudWxsO1xyXG4gICAgLyoqIFRlbXBvcmFyeSB1aW50MzIgbWVtb3J5IHZpZXcuICovXHJcbiAgICBfdGVtcE1lbVVpbnQzMiA9IG51bGw7XHJcbiAgICAvKiogVGVtcG9yYXJ5IHVpbnQxNiBtZW1vcnkgdmlldy4gKi9cclxuICAgIF90ZW1wTWVtVWludDE2ID0gbnVsbDtcclxuICAgIC8qKiBMb2FkaW5nIHNjcmVlbiAuYmluIGZpbGUgZGF0YSAqL1xyXG4gICAgX2xvYWRpbmdTY3JlZW4gPSBudWxsO1xyXG4gICAgLyoqIExpc3Qgb2YgY2FsbGJhY2tzIHRyaWdnZXJlZCB3aGVuIHRoZSBzY2VuZSBpcyBsb2FkZWQuICovXHJcbiAgICBfc2NlbmVMb2FkZWRDYWxsYmFjayA9IFtdO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYXRlcmlhbCBkZWZpbml0aW9uIGNhY2hlLiBFYWNoIHBpcGVsaW5lIGhhcyBpdHMgb3duXHJcbiAgICAgKiBhc3NvY2lhdGVkIG1hdGVyaWFsIGRlZmluaXRpb24uXHJcbiAgICAgKi9cclxuICAgIF9tYXRlcmlhbERlZmluaXRpb25zID0gW107XHJcbiAgICAvKiogSW1hZ2UgY2FjaGUuICovXHJcbiAgICBfaW1hZ2VzID0gW107XHJcbiAgICAvKiogQ29tcG9uZW50IGluc3RhbmNlcy4gKi9cclxuICAgIF9jb21wb25lbnRzID0gW107XHJcbiAgICAvKiogQ29tcG9uZW50IFR5cGUgaW5mby4gKi9cclxuICAgIF9jb21wb25lbnRUeXBlcyA9IFtdO1xyXG4gICAgLyoqIEluZGV4IHBlciBjb21wb25lbnQgdHlwZSBuYW1lLiAqL1xyXG4gICAgX2NvbXBvbmVudFR5cGVJbmRpY2VzID0ge307XHJcbiAgICAvKiogV29uZGVybGFuZCBlbmdpbmUgaW5zdGFuY2UuICovXHJcbiAgICBfZW5naW5lID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogYHRydWVgIGlmIHRoaXMgcnVudGltZSBpcyB1c2luZyBwaHlzeC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIF93aXRoUGh5c1ggPSBmYWxzZTtcclxuICAgIC8qKiBEZWNvZGVyIGZvciBVVEY4IGBBcnJheUJ1ZmZlcmAgdG8gSmF2YVNjcmlwdCBzdHJpbmcuICovXHJcbiAgICBfdXRmOERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKTtcclxuICAgIC8qKiBKYXZhU2NyaXB0IG1hbmFnZXIgaW5kZXguICovXHJcbiAgICBfanNNYW5hZ2VySW5kZXhDYWNoZWQgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RyYXRpb24gaW5kZXggb2Yge0BsaW5rIEJyb2tlbkNvbXBvbmVudH0uXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBpcyB1c2VkIHRvIHJldHVybiBkdW1teSBpbnN0YW5jZXMgd2hlbiBhIGNvbXBvbmVudFxyXG4gICAgICogaXNuJ3QgcmVnaXN0ZXJlZC5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9icm9rZW5Db21wb25lbnRJbmRleCA9IDA7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgV2ViQXNzZW1ibHkgPD4gQVBJIGJyaWRnZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGhyZWFkcyBgdHJ1ZWAgaWYgdGhlIHJ1bnRpbWUgdXNlZCBoYXMgdGhyZWFkcyBzdXBwb3J0XHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHRocmVhZHMpIHtcclxuICAgICAgICBpZiAodGhyZWFkcykge1xyXG4gICAgICAgICAgICB0aGlzLlVURjhWaWV3VG9TdHJpbmcgPSAocywgZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91dGY4RGVjb2Rlci5kZWNvZGUodGhpcy5IRUFQVTguc2xpY2UocywgZSkpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuVVRGOFZpZXdUb1N0cmluZyA9IChzLCBlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghcylcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3V0ZjhEZWNvZGVyLmRlY29kZSh0aGlzLkhFQVBVOC5zdWJhcnJheShzLCBlKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9icm9rZW5Db21wb25lbnRJbmRleCA9IHRoaXMuX3JlZ2lzdGVyQ29tcG9uZW50KEJyb2tlbkNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IHRoZSBjYWNoZSBvZiB0aGUgbGlicmFyeS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBTaG91bGQgb25seSBiZSBjYWxsZWQgd2hlbiB0ZWFyaW5nIGRvd24gdGhlIHJ1bnRpbWUuXHJcbiAgICAgKi9cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIC8qIENhbmNlbCBpbi1mbGlnaHQgaW1hZ2VzICovXHJcbiAgICAgICAgZm9yIChjb25zdCBpbWcgb2YgdGhpcy5faW1hZ2VzKSB7XHJcbiAgICAgICAgICAgIGlmICghaW1nIHx8ICFpbWcuc3JjKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIGltZy5zcmMgPSAnJztcclxuICAgICAgICAgICAgaW1nLm9ubG9hZCA9IG51bGw7XHJcbiAgICAgICAgICAgIGltZy5vbmVycm9yID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1hZ2VzID0gW107XHJcbiAgICAgICAgdGhpcy5hbGxvY2F0ZVRlbXBNZW1vcnkoMTAyNCk7XHJcbiAgICAgICAgdGhpcy5fbWF0ZXJpYWxEZWZpbml0aW9ucyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMgPSBbXTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRUeXBlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudFR5cGVJbmRpY2VzID0ge307XHJcbiAgICAgICAgdGhpcy5fanNNYW5hZ2VySW5kZXhDYWNoZWQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2Jyb2tlbkNvbXBvbmVudEluZGV4ID0gdGhpcy5fcmVnaXN0ZXJDb21wb25lbnQoQnJva2VuQ29tcG9uZW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkIG9yIG5vdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY3RvciAgQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjb21wb25lbnQgdHlwZW5hbWUgKGUuZy4sIGAnY3Vyc29yLWNvbXBvbmVudCdgKS5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgY29tcG9uZW50IGlzIHJlZ2lzdGVyZWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxyXG4gICAgICovXHJcbiAgICBpc1JlZ2lzdGVyZWQodHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0eXBlIGluIHRoaXMuX2NvbXBvbmVudFR5cGVJbmRpY2VzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIGxlZ2FjeSBjb21wb25lbnQgaW4gdGhpcyBFbXNjcmlwdGVuIGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZU5hbWUgVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cclxuICAgICAqIEBwYXJhbSBwYXJhbXMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHBhcmFtZXRlcnMgKHByb3BlcnRpZXMpLlxyXG4gICAgICogQHBhcmFtIG9iamVjdCBUaGUgb2JqZWN0J3MgcHJvdG90eXBlLlxyXG4gICAgICogQHJldHVybnMgVGhlIHJlZ2lzdHJhdGlvbiBpbmRleFxyXG4gICAgICovXHJcbiAgICBfcmVnaXN0ZXJDb21wb25lbnRMZWdhY3kodHlwZU5hbWUsIHBhcmFtcywgb2JqZWN0KSB7XHJcbiAgICAgICAgY29uc3QgY3RvciA9IGNsYXNzIEN1c3RvbUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjdG9yLlR5cGVOYW1lID0gdHlwZU5hbWU7XHJcbiAgICAgICAgY3Rvci5Qcm9wZXJ0aWVzID0gcGFyYW1zO1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24oY3Rvci5wcm90b3R5cGUsIG9iamVjdCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZ2lzdGVyQ29tcG9uZW50KGN0b3IpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIGNsYXNzIGNvbXBvbmVudCBpbiB0aGlzIEVtc2NyaXB0ZW4gaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjdG9yIFRoZSBjbGFzcyB0byByZWdpc3Rlci5cclxuICAgICAqIEByZXR1cm5zIFRoZSByZWdpc3RyYXRpb24gaW5kZXguXHJcbiAgICAgKi9cclxuICAgIF9yZWdpc3RlckNvbXBvbmVudChjdG9yKSB7XHJcbiAgICAgICAgaWYgKCFjdG9yLlR5cGVOYW1lKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIG5hbWUgcHJvdmlkZWQgZm9yIGNvbXBvbmVudC4nKTtcclxuICAgICAgICBpZiAoIWN0b3IucHJvdG90eXBlLl90cmlnZ2VySW5pdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlZ2lzdGVyQ29tcG9uZW50KCk6IENvbXBvbmVudCAke2N0b3IuVHlwZU5hbWV9IG11c3QgZXh0ZW5kIENvbXBvbmVudGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmhlcml0UHJvcGVydGllcyhjdG9yKTtcclxuICAgICAgICBfc2V0dXBEZWZhdWx0cyhjdG9yKTtcclxuICAgICAgICBjb25zdCB0eXBlSW5kZXggPSBjdG9yLlR5cGVOYW1lIGluIHRoaXMuX2NvbXBvbmVudFR5cGVJbmRpY2VzXHJcbiAgICAgICAgICAgID8gdGhpcy5fY29tcG9uZW50VHlwZUluZGljZXNbY3Rvci5UeXBlTmFtZV1cclxuICAgICAgICAgICAgOiB0aGlzLl9jb21wb25lbnRUeXBlcy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50VHlwZXNbdHlwZUluZGV4XSA9IGN0b3I7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50VHlwZUluZGljZXNbY3Rvci5UeXBlTmFtZV0gPSB0eXBlSW5kZXg7XHJcbiAgICAgICAgaWYgKGN0b3IgPT09IEJyb2tlbkNvbXBvbmVudClcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVJbmRleDtcclxuICAgICAgICB0aGlzLl9sb2cuaW5mbyhMb2dUYWcuRW5naW5lLCAnUmVnaXN0ZXJlZCBjb21wb25lbnQnLCBjdG9yLlR5cGVOYW1lLCBgKGNsYXNzICR7Y3Rvci5uYW1lfSlgLCAnd2l0aCBpbmRleCcsIHR5cGVJbmRleCk7XHJcbiAgICAgICAgaWYgKGN0b3Iub25SZWdpc3RlcilcclxuICAgICAgICAgICAgY3Rvci5vblJlZ2lzdGVyKHRoaXMuX2VuZ2luZSk7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVJbmRleDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWxsb2NhdGUgdGhlIHJlcXVlc3RlZCBhbW91bnQgb2YgdGVtcG9yYXJ5IG1lbW9yeVxyXG4gICAgICogaW4gdGhpcyBXQVNNIGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzaXplIFRoZSBudW1iZXIgb2YgYnl0ZXMgdG8gYWxsb2NhdGVcclxuICAgICAqL1xyXG4gICAgYWxsb2NhdGVUZW1wTWVtb3J5KHNpemUpIHtcclxuICAgICAgICB0aGlzLl9sb2cuaW5mbyhMb2dUYWcuRW5naW5lLCAnQWxsb2NhdGluZyB0ZW1wIG1lbTonLCBzaXplKTtcclxuICAgICAgICB0aGlzLl90ZW1wTWVtU2l6ZSA9IHNpemU7XHJcbiAgICAgICAgaWYgKHRoaXMuX3RlbXBNZW0pXHJcbiAgICAgICAgICAgIHRoaXMuX2ZyZWUodGhpcy5fdGVtcE1lbSk7XHJcbiAgICAgICAgdGhpcy5fdGVtcE1lbSA9IHRoaXMuX21hbGxvYyh0aGlzLl90ZW1wTWVtU2l6ZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVUZW1wTWVtb3J5KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEB0b2RvOiBEZWxldGUgdGhpcyBhbmQgb25seSBrZWVwIGBhbGxvY2F0ZVRlbXBNZW1vcnlgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNpemUgTnVtYmVyIG9mIGJ5dGVzIHRvIGFsbG9jYXRlXHJcbiAgICAgKi9cclxuICAgIHJlcXVpcmVUZW1wTWVtKHNpemUpIHtcclxuICAgICAgICBpZiAodGhpcy5fdGVtcE1lbVNpemUgPj0gc2l6ZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8qIEdyb3cgaW4gMWtiIGluY3JlbWVudHMgKi9cclxuICAgICAgICB0aGlzLmFsbG9jYXRlVGVtcE1lbW9yeShNYXRoLmNlaWwoc2l6ZSAvIDEwMjQpICogMTAyNCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgdGVtcG9yYXJ5IG1lbW9yeSB2aWV3cy4gVGhpcyBtdXN0IGJlIGNhbGxlZCB3aGVuZXZlciB0aGVcclxuICAgICAqIHRlbXBvcmFyeSBtZW1vcnkgYWRkcmVzcyBjaGFuZ2VzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgdXBkYXRlVGVtcE1lbW9yeSgpIHtcclxuICAgICAgICB0aGlzLl90ZW1wTWVtRmxvYXQgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSA+PiAyKTtcclxuICAgICAgICB0aGlzLl90ZW1wTWVtSW50ID0gbmV3IEludDMyQXJyYXkodGhpcy5IRUFQOC5idWZmZXIsIHRoaXMuX3RlbXBNZW0sIHRoaXMuX3RlbXBNZW1TaXplID4+IDIpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBNZW1VaW50MzIgPSBuZXcgVWludDMyQXJyYXkodGhpcy5IRUFQOC5idWZmZXIsIHRoaXMuX3RlbXBNZW0sIHRoaXMuX3RlbXBNZW1TaXplID4+IDIpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBNZW1VaW50MTYgPSBuZXcgVWludDE2QXJyYXkodGhpcy5IRUFQOC5idWZmZXIsIHRoaXMuX3RlbXBNZW0sIHRoaXMuX3RlbXBNZW1TaXplID4+IDEpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBNZW1VaW50OCA9IG5ldyBVaW50OEFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSB1aW50OCBidWZmZXIgdmlldyBvbiB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkuXHJcbiAgICAgKlxyXG4gICAgICogKipOb3RlKio6IHRoaXMgbWV0aG9kIG1pZ2h0IGFsbG9jYXRlIGlmIHRoZSByZXF1ZXN0ZWQgbWVtb3J5IGlzIGJpZ2dlclxyXG4gICAgICogdGhhbiB0aGUgY3VycmVudCB0ZW1wb3JhcnkgbWVtb3J5IGFsbG9jYXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiAqKmVsZW1lbnRzKiogcmVxdWlyZWRcclxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5XHJcbiAgICAgKi9cclxuICAgIGdldFRlbXBCdWZmZXJVOChjb3VudCkge1xyXG4gICAgICAgIHRoaXMucmVxdWlyZVRlbXBNZW0oY291bnQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtVWludDg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSB1aW50MTYgYnVmZmVyIHZpZXcgb24gdGVtcG9yYXJ5IFdBU00gbWVtb3J5LlxyXG4gICAgICpcclxuICAgICAqICoqTm90ZSoqOiB0aGlzIG1ldGhvZCBtaWdodCBhbGxvY2F0ZSBpZiB0aGUgcmVxdWVzdGVkIG1lbW9yeSBpcyBiaWdnZXJcclxuICAgICAqIHRoYW4gdGhlIGN1cnJlbnQgdGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgKiplbGVtZW50cyoqIHJlcXVpcmVkXHJcbiAgICAgKiBAcmV0dXJucyBBIHtAbGluayBUeXBlZEFycmF5fSBvdmVyIHRoZSBXQVNNIG1lbW9yeVxyXG4gICAgICovXHJcbiAgICBnZXRUZW1wQnVmZmVyVTE2KGNvdW50KSB7XHJcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShjb3VudCAqIDIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtVWludDE2O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgdWludDMyIGJ1ZmZlciB2aWV3IG9uIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGUqKjogdGhpcyBtZXRob2QgbWlnaHQgYWxsb2NhdGUgaWYgdGhlIHJlcXVlc3RlZCBtZW1vcnkgaXMgYmlnZ2VyXHJcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IHRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqZWxlbWVudHMqKiByZXF1aXJlZC5cclxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5LlxyXG4gICAgICovXHJcbiAgICBnZXRUZW1wQnVmZmVyVTMyKGNvdW50KSB7XHJcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShjb3VudCAqIDQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtVWludDMyO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgaW50MzIgYnVmZmVyIHZpZXcgb24gdGVtcG9yYXJ5IFdBU00gbWVtb3J5LlxyXG4gICAgICpcclxuICAgICAqICoqTm90ZSoqOiB0aGlzIG1ldGhvZCBtaWdodCBhbGxvY2F0ZSBpZiB0aGUgcmVxdWVzdGVkIG1lbW9yeSBpcyBiaWdnZXJcclxuICAgICAqIHRoYW4gdGhlIGN1cnJlbnQgdGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgKiplbGVtZW50cyoqIHJlcXVpcmVkLlxyXG4gICAgICogQHJldHVybnMgQSB7QGxpbmsgVHlwZWRBcnJheX0gb3ZlciB0aGUgV0FTTSBtZW1vcnkuXHJcbiAgICAgKi9cclxuICAgIGdldFRlbXBCdWZmZXJJMzIoY291bnQpIHtcclxuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKGNvdW50ICogNCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RlbXBNZW1JbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBmbG9hdDMyIGJ1ZmZlciB2aWV3IG9uIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGUqKjogdGhpcyBtZXRob2QgbWlnaHQgYWxsb2NhdGUgaWYgdGhlIHJlcXVlc3RlZCBtZW1vcnkgaXMgYmlnZ2VyXHJcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IHRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqZWxlbWVudHMqKiByZXF1aXJlZC5cclxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5LlxyXG4gICAgICovXHJcbiAgICBnZXRUZW1wQnVmZmVyRjMyKGNvdW50KSB7XHJcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShjb3VudCAqIDQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtRmxvYXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvcHkgdGhlIHN0cmluZyBpbnRvIHRlbXBvcmFyeSBXQVNNIG1lbW9yeSBhbmQgcmV0cmlldmUgdGhlIHBvaW50ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBtZXRob2Qgd2lsbCBjb21wdXRlIHRoZSBzdHJsZW4gYW5kIGFwcGVuZCBhIGBcXDBgLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoZSByZXN1bHQgc2hvdWxkIGJlIHVzZWQgKipkaXJlY3RseSoqIG90aGVyd2lzZSBpdCBtaWdodCBnZXRcclxuICAgICAqIG92ZXJyaWRkZW4gYnkgYW55IG5leHQgY2FsbCBtb2RpZnlpbmcgdGhlIHRlbXBvcmFyeSBtZW1vcnkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHN0ciBUaGUgc3RyaW5nIHRvIHdyaXRlIHRvIHRlbXBvcmFyeSBtZW1vcnlcclxuICAgICAqIEBwYXJhbSBieXRlT2Zmc2V0IFRoZSBzdGFydGluZyBieXRlIG9mZnNldCBpbiB0aGUgdGVtcG9yYXJ5IG1lbW9yeSBhdCB3aGljaFxyXG4gICAgICogICAgIHRoZSBzdHJpbmcgc2hvdWxkIGJlIHdyaXR0ZW4uIFRoaXMgaXMgdXNlZnVsIHdoZW4gdXNpbmcgbXVsdGlwbGUgdGVtcG9yYXJpZXMuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSB0ZW1wb3JhcnkgcG9pbnRlciBvbnRvIHRoZSBXQVNNIG1lbW9yeVxyXG4gICAgICovXHJcbiAgICB0ZW1wVVRGOChzdHIsIGJ5dGVPZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgY29uc3Qgc3RyTGVuID0gdGhpcy5sZW5ndGhCeXRlc1VURjgoc3RyKSArIDE7XHJcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShzdHJMZW4gKyBieXRlT2Zmc2V0KTtcclxuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl90ZW1wTWVtICsgYnl0ZU9mZnNldDtcclxuICAgICAgICB0aGlzLnN0cmluZ1RvVVRGOChzdHIsIHB0ciwgc3RyTGVuKTtcclxuICAgICAgICByZXR1cm4gcHRyO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gdGhlIGluZGV4IG9mIHRoZSBjb21wb25lbnQgdHlwZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIG1ldGhvZCB1c2VzIG1hbGxvYyBhbmQgY29waWVzIHRoZSBzdHJpbmdcclxuICAgICAqIHRvIGF2b2lkIG92ZXJ3cml0aW5nIGNhbGxlcidzIHRlbXBvcmFyeSBkYXRhLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlIFRoZSB0eXBlXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBjb21wb25lbnQgdHlwZSBpbmRleFxyXG4gICAgICovXHJcbiAgICBfdHlwZUluZGV4Rm9yKHR5cGUpIHtcclxuICAgICAgICBjb25zdCBsZW5ndGhCeXRlcyA9IHRoaXMubGVuZ3RoQnl0ZXNVVEY4KHR5cGUpICsgMTtcclxuICAgICAgICBjb25zdCBtZW0gPSB0aGlzLl9tYWxsb2MobGVuZ3RoQnl0ZXMpO1xyXG4gICAgICAgIHRoaXMuc3RyaW5nVG9VVEY4KHR5cGUsIG1lbSwgbGVuZ3RoQnl0ZXMpO1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFR5cGUgPSB0aGlzLl93bF9nZXRfY29tcG9uZW50X21hbmFnZXJfaW5kZXgobWVtKTtcclxuICAgICAgICB0aGlzLl9mcmVlKG1lbSk7XHJcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFR5cGU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0aGUgbmFtZSBvZiBjb21wb25lbnQgdHlwZSBzdG9yZWQgYXQgdGhlIGdpdmVuIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlSW5kZXggVGhlIHR5cGUgaW5kZXhcclxuICAgICAqIEByZXR1cm4gVGhlIG5hbWUgYXMgYSBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgX3R5cGVOYW1lRm9yKHR5cGVJbmRleCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlVURjhUb1N0cmluZyh0aGlzLl93bF9jb21wb25lbnRfbWFuYWdlcl9uYW1lKHR5cGVJbmRleCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcnVudGltZSBzdXBwb3J0cyBwaHlzeCBvciBub3QuXHJcbiAgICAgKi9cclxuICAgIGdldCB3aXRoUGh5c1goKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpdGhQaHlzWDtcclxuICAgIH1cclxuICAgIC8qKiBKYXZhU2NyaXB0IG1hbmFnZXIgaW5kZXguICovXHJcbiAgICBnZXQgX2pzTWFuYWdlckluZGV4KCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9qc01hbmFnZXJJbmRleENhY2hlZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9qc01hbmFnZXJJbmRleENhY2hlZCA9IHRoaXMuX3R5cGVJbmRleEZvcignanMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2pzTWFuYWdlckluZGV4Q2FjaGVkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGVuZ2luZSBpbnN0YW5jZSBob2xkaW5nIHRoaXMgYnJpZGdlLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZW5naW5lIFRoZSBlbmdpbmUgaW5zdGFuY2UuXHJcbiAgICAgKi9cclxuICAgIF9zZXRFbmdpbmUoZW5naW5lKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyogV2ViQXNzZW1ibHkgdG8gSlMgY2FsbCBicmlkZ2UuICovXHJcbiAgICBfd2xqc194cl9zZXNzaW9uX3N0YXJ0KG1vZGUpIHtcclxuICAgICAgICBpZiAodGhpcy5fZW5naW5lLnhyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZ2luZS54ciA9IG5ldyBYUih0aGlzLCBtb2RlKTtcclxuICAgICAgICAgICAgdGhpcy5fZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQubm90aWZ5KHRoaXMud2VieHJfc2Vzc2lvbiwgbW9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3dsanNfeHJfc2Vzc2lvbl9lbmQoKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRFbWl0dGVyID0gdGhpcy5fZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQ7XHJcbiAgICAgICAgaWYgKHN0YXJ0RW1pdHRlciBpbnN0YW5jZW9mIFJldGFpbkVtaXR0ZXIpXHJcbiAgICAgICAgICAgIHN0YXJ0RW1pdHRlci5yZXNldCgpO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS5vblhSU2Vzc2lvbkVuZC5ub3RpZnkoKTtcclxuICAgICAgICB0aGlzLl9lbmdpbmUueHIgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgX3dsanNfeHJfZGlzYWJsZSgpIHtcclxuICAgICAgICAvKiBAdG9kbyBUaGlzIGNvdWxkIGRpcmVjdGx5IGJlIGZ1bGx5IGhhbmRsZWQgaW4gSlMuICovXHJcbiAgICAgICAgdGhpcy5fZW5naW5lLmFyU3VwcG9ydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLnZyU3VwcG9ydGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfd2xqc19hbGxvY2F0ZShudW1Db21wb25lbnRzKSB7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50cyA9IG5ldyBBcnJheShudW1Db21wb25lbnRzKTtcclxuICAgIH1cclxuICAgIF93bGpzX2luaXQod2l0aFBoeXNYKSB7XHJcbiAgICAgICAgdGhpcy5fd2l0aFBoeXNYID0gd2l0aFBoeXNYO1xyXG4gICAgICAgIC8qIFRhcmdldCBtZW1vcnkgZm9yIEpTIEFQSSBmdW5jdGlvbnMgdGhhdCByZXR1cm4gYXJyYXlzICovXHJcbiAgICAgICAgdGhpcy5hbGxvY2F0ZVRlbXBNZW1vcnkoMTAyNCk7XHJcbiAgICB9XHJcbiAgICBfd2xqc19yZWFsbG9jYXRlKG51bUNvbXBvbmVudHMpIHtcclxuICAgICAgICBpZiAobnVtQ29tcG9uZW50cyA+IHRoaXMuX2NvbXBvbmVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudHMubGVuZ3RoID0gbnVtQ29tcG9uZW50cztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfd2xqc19zY2VuZV9hZGRfbWF0ZXJpYWxfZGVmaW5pdGlvbihkZWZpbml0aW9uSWQpIHtcclxuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8qIENhY2hlIG1hdGVyaWFsIGRlZmluaXRpb24gZm9yIGZhc3RlciByZWFkL3dyaXRlICovXHJcbiAgICAgICAgY29uc3QgbmJQYXJhbXMgPSB0aGlzLl93bF9tYXRlcmlhbF9kZWZpbml0aW9uX2dldF9jb3VudChkZWZpbml0aW9uSWQpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJQYXJhbXM7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5VVEY4VG9TdHJpbmcodGhpcy5fd2xfbWF0ZXJpYWxfZGVmaW5pdGlvbl9nZXRfcGFyYW1fbmFtZShkZWZpbml0aW9uSWQsIGkpKTtcclxuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuX3dsX21hdGVyaWFsX2RlZmluaXRpb25fZ2V0X3BhcmFtX3R5cGUoZGVmaW5pdGlvbklkLCBpKTtcclxuICAgICAgICAgICAgZGVmaW5pdGlvbi5zZXQobmFtZSwge1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IGksXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdCAmIDB4ZmYsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Q291bnQ6ICh0ID4+IDgpICYgMHhmZixcclxuICAgICAgICAgICAgICAgICAgICBtZXRhVHlwZTogKHQgPj4gMTYpICYgMHhmZixcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9tYXRlcmlhbERlZmluaXRpb25zW2RlZmluaXRpb25JZF0gPSBkZWZpbml0aW9uO1xyXG4gICAgfVxyXG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9ib29sKGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID0gdiAhPT0gMDtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1faW50KGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID0gdjtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fZmxvYXQoYywgcCwgcGUsIHYpIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPSB2O1xyXG4gICAgfVxyXG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9zdHJpbmcoYywgcCwgcGUsIHYsIHZlKSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHYsIHZlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9jb2xvcihjLCBwLCBwZSwgdikge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDgsIDE2LCAyNF0ubWFwKChzKSA9PiAoKHYgPj4+IHMpICYgMHhmZikgLyAyNTUuMCkpO1xyXG4gICAgfVxyXG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9vYmplY3QoYywgcCwgcGUsIHYpIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxyXG4gICAgICAgICAgICB2ID4gMCA/IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KHYpIDogbnVsbDtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fbWVzaChjLCBwLCBwZSwgdikge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9XHJcbiAgICAgICAgICAgIHYgPiAwID8gbmV3IE1lc2godGhpcy5fZW5naW5lLCB2KSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX3RleHR1cmUoYywgcCwgcGUsIHYpIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxyXG4gICAgICAgICAgICB2ID4gMCA/IHRoaXMuX2VuZ2luZS50ZXh0dXJlcy53cmFwKHYpIDogbnVsbDtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fbWF0ZXJpYWwoYywgcCwgcGUsIHYpIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxyXG4gICAgICAgICAgICB2ID4gMCA/IG5ldyBNYXRlcmlhbCh0aGlzLl9lbmdpbmUsIHYpIDogbnVsbDtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fYW5pbWF0aW9uKGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cclxuICAgICAgICAgICAgdiA+IDAgPyBuZXcgQW5pbWF0aW9uKHRoaXMuX2VuZ2luZSwgdikgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9za2luKGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cclxuICAgICAgICAgICAgdiA+IDAgPyBuZXcgU2tpbih0aGlzLl9lbmdpbmUsIHYpIDogbnVsbDtcclxuICAgIH1cclxuICAgIF93bGpzX2dldF9jb21wb25lbnRfdHlwZV9pbmRleChuYW1lUHRyLCBuYW1lRW5kUHRyKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZW5hbWUgPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcobmFtZVB0ciwgbmFtZUVuZFB0cik7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1t0eXBlbmFtZV07XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Jyb2tlbkNvbXBvbmVudEluZGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcbiAgICBfd2xqc19jb21wb25lbnRfY3JlYXRlKGpzTWFuYWdlckluZGV4LCBpbmRleCwgaWQsIHR5cGUsIG9iamVjdCkge1xyXG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLl9jb21wb25lbnRUeXBlc1t0eXBlXTtcclxuICAgICAgICBpZiAoIWN0b3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUeXBlIGluZGV4ICR7dHlwZX0gaXNuJ3QgcmVnaXN0ZXJlZGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY29tcG9uZW50ID0gbnVsbDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQgPSBuZXcgY3RvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgYEV4Y2VwdGlvbiBkdXJpbmcgaW5zdGFudGlhdGlvbiBvZiBjb21wb25lbnQgJHtjdG9yLlR5cGVOYW1lfWApO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgZSk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IG5ldyBCcm9rZW5Db21wb25lbnQodGhpcy5fZW5naW5lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogU2V0cyB0aGUgbWFuYWdlciBhbmQgaWRlbnRpZmllciBmcm9tIHRoZSBvdXRzaWRlLCB0byBzaW1wbGlmeSB0aGUgdXNlcidzIGNvbnN0cnVjdG9yLiAqL1xyXG4gICAgICAgIC8qIEB0cy1pZ25vcmUgKi9cclxuICAgICAgICBjb21wb25lbnQuX2VuZ2luZSA9IHRoaXMuX2VuZ2luZTtcclxuICAgICAgICBjb21wb25lbnQuX21hbmFnZXIgPSBqc01hbmFnZXJJbmRleDtcclxuICAgICAgICBjb21wb25lbnQuX2lkID0gaWQ7XHJcbiAgICAgICAgY29tcG9uZW50Ll9vYmplY3QgPSB0aGlzLl9lbmdpbmUud3JhcE9iamVjdChvYmplY3QpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5yZXNldFByb3BlcnRpZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGBFeGNlcHRpb24gZHVyaW5nICR7Y29tcG9uZW50LnR5cGV9IHJlc2V0UHJvcGVydGllcygpIG9uIG9iamVjdCAke2NvbXBvbmVudC5vYmplY3QubmFtZX1gKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2luZGV4XSA9IGNvbXBvbmVudDtcclxuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xyXG4gICAgfVxyXG4gICAgX3dsanNfY29tcG9uZW50X2luaXQoY29tcG9uZW50KSB7XHJcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50XTtcclxuICAgICAgICBjLl90cmlnZ2VySW5pdCgpO1xyXG4gICAgfVxyXG4gICAgX3dsanNfY29tcG9uZW50X3VwZGF0ZShjb21wb25lbnQsIGR0KSB7XHJcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50XTtcclxuICAgICAgICBjLl90cmlnZ2VyVXBkYXRlKGR0KTtcclxuICAgIH1cclxuICAgIF93bGpzX2NvbXBvbmVudF9vbkFjdGl2YXRlKGNvbXBvbmVudCkge1xyXG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudF07XHJcbiAgICAgICAgaWYgKGMpXHJcbiAgICAgICAgICAgIGMuX3RyaWdnZXJPbkFjdGl2YXRlKCk7XHJcbiAgICB9XHJcbiAgICBfd2xqc19jb21wb25lbnRfb25EZWFjdGl2YXRlKGNvbXBvbmVudCkge1xyXG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudF07XHJcbiAgICAgICAgYy5fdHJpZ2dlck9uRGVhY3RpdmF0ZSgpO1xyXG4gICAgfVxyXG4gICAgX3dsanNfY29tcG9uZW50X29uRGVzdHJveShjb21wb25lbnQpIHtcclxuICAgICAgICBjb25zdCBjID0gdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnRdO1xyXG4gICAgICAgIGMuX3RyaWdnZXJPbkRlc3Ryb3koKTtcclxuICAgIH1cclxuICAgIF93bGpzX3N3YXAoYSwgYikge1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEEgPSB0aGlzLl9jb21wb25lbnRzW2FdO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbYV0gPSB0aGlzLl9jb21wb25lbnRzW2JdO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbYl0gPSBjb21wb25lbnRBO1xyXG4gICAgfVxyXG4gICAgX3dsanNfY29weShzcmMsIGRzdCkge1xyXG4gICAgICAgIGNvbnN0IGRlc3RDb21wID0gdGhpcy5fY29tcG9uZW50c1tkc3RdO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGRlc3RDb21wLmNvcHkodGhpcy5fY29tcG9uZW50c1tzcmNdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nLmVycm9yKExvZ1RhZy5Db21wb25lbnQsIGBFeGNlcHRpb24gZHVyaW5nICR7ZGVzdENvbXAudHlwZX0gY29weSgpIG9uIG9iamVjdCAke2Rlc3RDb21wLm9iamVjdC5uYW1lfWApO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2cuZXJyb3IoTG9nVGFnLkNvbXBvbmVudCwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qXHJcbiAqIEFwaSA8PiBSdW50aW1lIGNvbXBhdGliaWxpdHkuXHJcbiAqXHJcbiAqIFNvbWUgZmVhdHVyZXMgZXhwb3NlZCBpbiB0aGUgQVBJIGFyZSBvbmx5IGF2YWlsYWJsZSBmcm9tIGEgc3BlY2lmaWNcclxuICogcnVudGltZSB2ZXJzaW9uLlxyXG4gKlxyXG4gKiBFdmVyeSBhZGRlZCBmZWF0dXJlIG11c3QgdGhyb3cgYnkgZGVmYXVsdC4gSWYgdGhlIHJ1bnRpbWUgbG9hZGVkXHJcbiAqIGhhcyB0aGUgc3BlY2lmaWMgZmVhdHVyZSwgdGhlIG1ldGhvZCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IEVtc2NyaXB0ZW5cclxuICogdXBvbiBsb2FkaW5nLlxyXG4gKi9cclxuZnVuY3Rpb24gdGhyb3dJbnZhbGlkUnVudGltZSh2ZXJzaW9uKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmVhdHVyZSBhZGRlZCBpbiB2ZXJzaW9uICR7dmVyc2lvbn0uYCArXHJcbiAgICAgICAgICAgIGBcXG5cXHRcdTIxOTIgUGxlYXNlIHVzZSBhIFdvbmRlcmxhbmQgRW5naW5lIGVkaXRvciB2ZXJzaW9uID49ICR7dmVyc2lvbn1gKTtcclxuICAgIH07XHJcbn1cclxuY29uc3QgcmVxdWlyZVJ1bnRpbWUxXzFfMSA9IHRocm93SW52YWxpZFJ1bnRpbWUoJzEuMS4xJyk7XHJcbmNvbnN0IHJlcXVpcmVSdW50aW1lMV8xXzUgPSB0aHJvd0ludmFsaWRSdW50aW1lKCcxLjEuNScpO1xyXG4vKiogQHRvZG86IFJlbW92ZSBhdCAxLjIuMCAqL1xyXG5XQVNNLnByb3RvdHlwZS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9vZmZzZXRUcmFuc2xhdGlvbiA9IHJlcXVpcmVSdW50aW1lMV8xXzE7XHJcbldBU00ucHJvdG90eXBlLl93bF9waHlzeF9jb21wb25lbnRfc2V0X29mZnNldFRyYW5zbGF0aW9uID0gcmVxdWlyZVJ1bnRpbWUxXzFfMTtcclxuV0FTTS5wcm90b3R5cGUuX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfb2Zmc2V0VHJhbnNmb3JtID0gcmVxdWlyZVJ1bnRpbWUxXzFfMTtcclxuV0FTTS5wcm90b3R5cGUuX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfb2Zmc2V0Um90YXRpb24gPSByZXF1aXJlUnVudGltZTFfMV8xO1xyXG5XQVNNLnByb3RvdHlwZS5fd2xfb2JqZWN0X2Nsb25lID0gcmVxdWlyZVJ1bnRpbWUxXzFfMTtcclxuV0FTTS5wcm90b3R5cGUuX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc2xlZXBPbkFjdGl2YXRlID0gcmVxdWlyZVJ1bnRpbWUxXzFfNTtcclxuV0FTTS5wcm90b3R5cGUuX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc2xlZXBPbkFjdGl2YXRlID0gcmVxdWlyZVJ1bnRpbWUxXzFfNTtcclxuV0FTTS5wcm90b3R5cGUud2VieHJfb2ZmZXJTZXNzaW9uID0gcmVxdWlyZVJ1bnRpbWUxXzFfNTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbi8qKlxyXG4gKiA4dGh3YWxsIGNhbWVyYSBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFNldHMgdXAgdGhlIDh0aHdhbGwgcGlwZWxpbmUgYW5kIHJldHJpZXZlcyB0cmFja2luZyBldmVudHMgdG8gcGxhY2UgYW5cclxuICogb2JqZWN0IGF0IHRoZSBsb2NhdGlvbiBvZiB0aGUgdHJhY2tlZCBBUiBjYW1lcmEgLyBtb2JpbGUgZGV2aWNlLlxyXG4gKlxyXG4gKiBVc2UgdGhpcyBmb3IgU0xBTSB0cmFja2luZyBiYXNlZCBvbiA4dGh3YWxsLlxyXG4gKlxyXG4gKiBNYWtlIHN1cmUgdG8gZW5hYmxlIDh0aHdhbGwgaW4gXCJQcm9qZWN0IFNldHRpbmdzXCIgPiBcIkFSXCIuIFNlZSBhbHNvIHRoZVxyXG4gKiBbQVIgR2V0dGluZyBTdGFydGVkIEd1aWRlXSgvZ2V0dGluZy1zdGFydGVkL3F1aWNrLXN0YXJ0LWFyKVxyXG4gKlxyXG4gKlxyXG4gKiBDdXJyZW50bHkgb25seSBzdXBwb3J0cyB3b3JsZC10cmFja2luZyAoU0xBTSkgdXNpbmcgQkFDSyBjYW1lcmEuXHJcbiAqXHJcbiAqIC0gcmVtb3ZlIGFueSBvY2N1cnJlbmNlcyBvZiB0aGUgb2xkIDh0aHdhbGwtY2FtZXJhIGNvbXBvbmVudCBpbiB0aGUgZWRpdG9yXHJcbiAqIC0gQWRkIHRoaXMgY29tcG9uZW50IHRvIE5vblZyQ2FtZXJhXHJcbiAqXHJcbiAqIElNUE9SVEFOVCFcclxuICogLSB1bnRpbCBpdCBnZXQncyBmaXhlZCwgc2VsZWN0ICdjdXN0b21JbmRleEh0bWwnIGluIHRoZSBwcm9qZWN0IHNldHRpbmdzXHJcbiAqIC0gb3BlbiBhIGdlbmVyYXRlZCBpbmRleC5odG1sIGFuZCBjcm9zc29yaWdpbj1cImFub255bW91c1wiIGF0dHJpYnV0ZSB0byB0aGUgPHNjcmlwdD4gdGFnIHdoZXJlIC8vYXBwcy44dGh3YWxsLmNvbS94cndlYiBpcyBsb2FkZWRcclxuICpcclxuICpcclxuICogIyMjIyMjIyMjIFVzaW5nIFVJIG92ZXJsYXlzICMjIyMjIyMjIyMjIyNcclxuICogQnkgZGVmYXVsdCwgdGhpcyBjb21wb25lbnQgcmVuZGVycyBvd24gVUkgdG8gZ2l2ZSB0aGUgdXNlciBmZWVkYmFjayBhYm91dCByZWplY3RlZCBwZXJtaXNzaW9ucyBvciB0cmFja2luZyBlcnJvcnMuXHJcbiAqIEl0IGNhbiBiZSBjaGFuZ2VkIGJ5IGVuYWJsaW5nIHVzZUN1c3RvbVVJT3ZlcmxheXMgZmxhZy5cclxuICpcclxuICogSWYgdXNlQ3VzdG9tVUlPdmVybGF5cyBpcyBlbmFibGVkLCB5b3UgYXJlIGV4cGVjdGVkIGhhbmRsZSB0aGUgZm9sbG93aW5nIGV2ZW50cyBkaXNwYXRjaGVkIGJ5IHRoZSB3aW5kb3cgb2JqZWN0OlxyXG4gKiAtIFwiOHRod2FsbC1yZXF1ZXN0LXVzZXItaW50ZXJhY3Rpb25cIiAtIHVzZWQgb25seSBvbiBpT1Mgc2FmYXJpLiBSZXF1ZXN0IGEgdXNlciB0byBwZXJmb3JtIGFuZCBpbnRlcmFjdGlvbiB3aXRoIHRoZSBwYWdlIHNvIHRoYXQgamF2YXNjcmlwdCBpcyBhbGxvd2VkIHRvIGFsbG93ZWQgdG8gcmVxdWVzdCBhIG1vdGlvbi9jYW1lcmEvbWljIHBlcm1pc3Npb25zLlxyXG4gKiAgTWFrZSBzdXJlIHRoZSB3aW5kb3cgb2JqZWN0IGlzIGRpc3BhdGNoaW5nIGFuICc4dGh3YWxsLXNhZmUtdG8tcmVxdWVzdC1wZXJtaXNzaW9ucycgZXZlbnQgYWZ0ZXIgaW50ZXJhY3Rpb24gaGFzIGhhcHBlbmVkLlxyXG4gKiBgYGBcclxuICogPGJ1dHRvbiBvbmNsaWNrPVwid2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCc4dGh3YWxsLXNhZmUtdG8tcmVxdWVzdC1wZXJtaXNzaW9ucycpKVwiPkFsbG93IFNlbnNvcnM8L2J1dHRvbj5cclxuICogYGBgXHJcbiAqXHJcbiAqIC0gXCI4dGh3YWxsLXBlcm1pc3Npb24tZmFpbFwiIC0gdXNlciByZWplY3RlZCBhbnkgb2YgdGhlIHBlcm1pc3Npb25zXHJcbiAqXHJcbiAqIC0gXCI4dGh3YWxsLWVycm9yXCIgLSBydW50aW1lIDh0aHdhbGwgZXJyb3Igb2NjdXJyZWRcclxuICovXHJcbmNsYXNzIEFSQ2FtZXJhOHRod2FsbCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnOHRod2FsbC1jYW1lcmEnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIE92ZXJyaWRlIHRoZSBXTCBodG1sIG92ZXJsYXlzIGZvciBoYW5kbGluZyBjYW1lcmEvbW90aW9uIHBlcm1pc3Npb25zIGFuZCBlcnJvciBoYW5kbGluZyAqL1xyXG4gICAgICAgIHVzZUN1c3RvbVVJT3ZlcmxheXM6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgfTtcclxuICAgIC8qIDh0aHdhbGwgY2FtZXJhIHBpcGVsaW5lIG1vZHVsZSBuYW1lICovXHJcbiAgICBuYW1lID0gJ3dvbmRlcmxhbmQtZW5naW5lLTh0aHdhbGwtY2FtZXJhJztcclxuICAgIHN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIHZpZXcgPSBudWxsOyAvLyBjYWNoZSBjYW1lcmFcclxuICAgIHBvc2l0aW9uID0gWzAsIDAsIDBdOyAvLyBjYWNoZSA4dGh3YWxsIGNhbSBwb3NpdGlvblxyXG4gICAgcm90YXRpb24gPSBbMCwgMCwgMCwgLTFdOyAvLyBjYWNoZSA4dGh3YWxsIGNhbSByb3RhdGlvblxyXG4gICAgZ2xUZXh0dXJlUmVuZGVyZXIgPSBudWxsOyAvLyBjYWNoZSBYUjguR2xUZXh0dXJlUmVuZGVyZXIucGlwZWxpbmVNb2R1bGVcclxuICAgIHByb21wdEZvckRldmljZU1vdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBUZWxsIGFueW9uZSB3aG8ncyBpbnRlcmVzdGVkIHRoYXQgd2Ugd2FudCB0byBnZXQgc29tZSB1c2VyIGludGVyYWN0aW9uXHJcbiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnOHRod2FsbC1yZXF1ZXN0LXVzZXItaW50ZXJhY3Rpb24nKSk7XHJcbiAgICAgICAgICAgIC8vIFdhaXQgdW50aWwgc29tZW9uZSByZXNwb25zZSB0aGF0IHVzZXIgaW50ZXJhY3Rpb24gaGFwcGVuZWRcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJzh0aHdhbGwtc2FmZS10by1yZXF1ZXN0LXBlcm1pc3Npb25zJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3Rpb25FdmVudCA9IGF3YWl0IERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtb3Rpb25FdmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGV4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgZ2V0UGVybWlzc2lvbnMoKSB7XHJcbiAgICAgICAgLy8gaU9TIFwiZmVhdHVyZVwiLiBJZiB3ZSB3YW50IHRvIHJlcXVlc3QgdGhlIERldmljZU1vdGlvbiBwZXJtaXNzaW9uLCB1c2VyIGhhcyB0byBpbnRlcmFjdCB3aXRoIHRoZSBwYWdlIGF0IGZpcnN0ICh0b3VjaCBpdCkuXHJcbiAgICAgICAgLy8gSWYgdGhlcmUgd2FzIG5vIGludGVyYWN0aW9uIGRvbmUgc28gZmFyLCB3ZSB3aWxsIHJlbmRlciBhIEhUTUwgb3ZlcmxheSB3aXRoIHdvdWxkIGdldCB0aGUgdXNlciB0byBpbnRlcmFjdCB3aXRoIHRoZSBzY3JlZW5cclxuICAgICAgICBpZiAoRGV2aWNlTW90aW9uRXZlbnQgJiYgRGV2aWNlTW90aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24pIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgdXNlciBtdXN0IGhhdmUgcmVqZWN0ZWQgdGhlIG1vdGlvbiBldmVudCBvbiBwcmV2aW91cyBwYWdlIGxvYWQuIChzYWZhcmkgcmVtZW1iZXJzIHRoaXMgY2hvaWNlKS5cclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09ICdncmFudGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTW90aW9uRXZlbnQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBVc2VyIGhhZCBubyBpbnRlcmFjdGlvbiB3aXRoIHRoZSBwYWdlIHNvIGZhclxyXG4gICAgICAgICAgICAgICAgaWYgKGV4Y2VwdGlvbi5uYW1lID09PSAnTm90QWxsb3dlZEVycm9yJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdGlvbkV2ZW50ID0gYXdhaXQgdGhpcy5wcm9tcHRGb3JEZXZpY2VNb3Rpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobW90aW9uRXZlbnQgIT09ICdncmFudGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vdGlvbkV2ZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb3Rpb25FdmVudCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBnZXQgdGhlIGNhbWVyYSBzdHJlYW1cclxuICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xyXG4gICAgICAgICAgICAgICAgdmlkZW86IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhdWRpbzogdHJ1ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIElmIHdlIHN1Y2Nlc3NmdWxseSBhY3F1aXJlZCB0aGUgY2FtZXJhIHN0cmVhbSAtIHdlIGNhbiBzdG9wIGl0IGFuZCB3YWl0IHVudGlsIDh0aHdhbGwgcmVxdWVzdHMgaXQgYWdhaW5cclxuICAgICAgICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cmFjay5zdG9wKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FtZXJhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnZpZXcgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ3ZpZXcnKTtcclxuICAgICAgICB0aGlzLm9uVXBkYXRlID0gdGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25BdHRhY2ggPSB0aGlzLm9uQXR0YWNoLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbkV4Y2VwdGlvbiA9IHRoaXMub25FeGNlcHRpb24uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uQ2FtZXJhU3RhdHVzQ2hhbmdlID0gdGhpcy5vbkNhbWVyYVN0YXR1c0NoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCd2aWV3Jyk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVzZUN1c3RvbVVJT3ZlcmxheXMpIHtcclxuICAgICAgICAgICAgT3ZlcmxheXNIYW5kbGVyLmluaXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5nZXRQZXJtaXNzaW9ucygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gVXNlciBkaWQgbm90IGdyYW50IHRoZSBjYW1lcmEgb3IgbW90aW9uRXZlbnQgcGVybWlzc2lvbnNcclxuICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCc4dGh3YWxsLXBlcm1pc3Npb24tZmFpbCcsIHsgZGV0YWlsOiBlcnJvciB9KSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yWFI4KCk7XHJcbiAgICAgICAgWFI4LlhyQ29udHJvbGxlci5jb25maWd1cmUoe1xyXG4gICAgICAgICAgICBkaXNhYmxlV29ybGRUcmFja2luZzogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nbFRleHR1cmVSZW5kZXJlciA9IFhSOC5HbFRleHR1cmVSZW5kZXJlci5waXBlbGluZU1vZHVsZSgpO1xyXG4gICAgICAgIFhSOC5hZGRDYW1lcmFQaXBlbGluZU1vZHVsZXMoW1xyXG4gICAgICAgICAgICB0aGlzLmdsVGV4dHVyZVJlbmRlcmVyLFxyXG4gICAgICAgICAgICBYUjguWHJDb250cm9sbGVyLnBpcGVsaW5lTW9kdWxlKCksXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgICAgICBjYW1lcmFDb25maWc6IHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogWFI4LlhyQ29uZmlnLmNhbWVyYSgpLkJBQ0ssXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbnZhczogTW9kdWxlLmNhbnZhcyxcclxuICAgICAgICAgICAgYWxsb3dlZERldmljZXM6IFhSOC5YckNvbmZpZy5kZXZpY2UoKS5BTlksXHJcbiAgICAgICAgICAgIG93blJ1bkxvb3A6IGZhbHNlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgWFI4LnJ1bihjb25maWcpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogOHRod2FsbCBwaXBlbGluZSBmdW5jdGlvblxyXG4gICAgICovXHJcbiAgICBvbkF0dGFjaChwYXJhbXMpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLnNjZW5lLmNvbG9yQ2xlYXJFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgZ2wgPSBNb2R1bGUuY3R4O1xyXG4gICAgICAgIGNvbnN0IHJvdCA9IHRoaXMub2JqZWN0LnJvdGF0aW9uV29ybGQ7XHJcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZChbXSk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IEFycmF5LmZyb20ocG9zKTtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gQXJyYXkuZnJvbShyb3QpO1xyXG4gICAgICAgIFhSOC5YckNvbnRyb2xsZXIudXBkYXRlQ2FtZXJhUHJvamVjdGlvbk1hdHJpeCh7XHJcbiAgICAgICAgICAgIG9yaWdpbjogeyB4OiBwb3NbMF0sIHk6IHBvc1sxXSwgejogcG9zWzJdIH0sXHJcbiAgICAgICAgICAgIGZhY2luZzogeyB4OiByb3RbMF0sIHk6IHJvdFsxXSwgejogcm90WzJdLCB3OiByb3RbM10gfSxcclxuICAgICAgICAgICAgY2FtOiB7XHJcbiAgICAgICAgICAgICAgICBwaXhlbFJlY3RXaWR0aDogTW9kdWxlLmNhbnZhcy53aWR0aCxcclxuICAgICAgICAgICAgICAgIHBpeGVsUmVjdEhlaWdodDogTW9kdWxlLmNhbnZhcy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICBuZWFyQ2xpcFBsYW5lOiB0aGlzLnZpZXcubmVhcixcclxuICAgICAgICAgICAgICAgIGZhckNsaXBQbGFuZTogdGhpcy52aWV3LmZhcixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5zY2VuZS5vblByZVJlbmRlci5wdXNoKCgpID0+IHtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkRSQVdfRlJBTUVCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBYUjgucnVuUHJlUmVuZGVyKERhdGUubm93KCkpO1xyXG4gICAgICAgICAgICBYUjgucnVuUmVuZGVyKCk7IC8vIDwtLS0gdGVsbCA4dGh3YWxsIHRvIGRvIGl0J3MgdGhpbmcgKGFsdGVybmF0aXZlbHkgY2FsbCB0aGlzLmdsVGV4dHVyZVJlbmRlcmVyLm9uUmVuZGVyKCkgaWYgeW91IG9ubHkgY2FyZSBhYm91dCBjYW1lcmEgZmVlZCApXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUuc2NlbmUub25Qb3N0UmVuZGVyLnB1c2goKCkgPT4ge1xyXG4gICAgICAgICAgICBYUjgucnVuUG9zdFJlbmRlcihEYXRlLm5vdygpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIDh0aHdhbGwgcGlwZWxpbmUgZnVuY3Rpb25cclxuICAgICAqL1xyXG4gICAgb25DYW1lcmFTdGF0dXNDaGFuZ2UoZSkge1xyXG4gICAgICAgIGlmIChlICYmIGUuc3RhdHVzID09PSAnZmFpbGVkJykge1xyXG4gICAgICAgICAgICB0aGlzLm9uRXhjZXB0aW9uKG5ldyBFcnJvcihgQ2FtZXJhIGZhaWxlZCB3aXRoIHN0YXR1czogJHtlLnN0YXR1c31gKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogOHRod2FsbCBwaXBlbGluZSBmdW5jdGlvblxyXG4gICAgICovXHJcbiAgICBvblVwZGF0ZShlKSB7XHJcbiAgICAgICAgaWYgKCFlLnByb2Nlc3NDcHVSZXN1bHQucmVhbGl0eSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IHsgcm90YXRpb24sIHBvc2l0aW9uLCBpbnRyaW5zaWNzIH0gPSBlLnByb2Nlc3NDcHVSZXN1bHQucmVhbGl0eTtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uWzBdID0gcm90YXRpb24ueDtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uWzFdID0gcm90YXRpb24ueTtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uWzJdID0gcm90YXRpb24uejtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uWzNdID0gcm90YXRpb24udztcclxuICAgICAgICB0aGlzLnBvc2l0aW9uWzBdID0gcG9zaXRpb24ueDtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uWzFdID0gcG9zaXRpb24ueTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uWzJdID0gcG9zaXRpb24uejtcclxuICAgICAgICBpZiAoaW50cmluc2ljcykge1xyXG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uTWF0cml4ID0gdGhpcy52aWV3LnByb2plY3Rpb25NYXRyaXg7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLyogU29tZSBwcm9jZXNzQ3B1UmVzdWx0LnJlYWxpdHkuaW50cmluc2ljcyBhcmUgc2V0IHRvIEluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICogd2hpY2ggYnJha2VzIG91ciBwcm9qZWN0aW9uTWF0cml4LiBTbyB3ZSBqdXN0IGZpbHRlciB0aG9zZSBlbGVtZW50cyBvdXQuICovXHJcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGludHJpbnNpY3NbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbk1hdHJpeFtpXSA9IGludHJpbnNpY3NbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uICYmIHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJvdGF0aW9uV29ybGQgPSB0aGlzLnJvdGF0aW9uO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5zZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMucG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIDh0aHdhbGwgcGlwZWxpbmUgZnVuY3Rpb25cclxuICAgICAqL1xyXG4gICAgb25FeGNlcHRpb24oZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCc4dGh3YWxsIGV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCc4dGh3YWxsLWVycm9yJywgeyBkZXRhaWw6IGVycm9yIH0pKTtcclxuICAgIH1cclxuICAgIHdhaXRGb3JYUjgoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCBfcmVqKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuWFI4KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigneHJsb2FkZWQnLCAoKSA9PiByZXNvbHZlKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgQVJDYW1lcmE4dGh3YWxsIH07XHJcbmNvbnN0IE92ZXJsYXlzSGFuZGxlciA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmhhbmRsZVJlcXVlc3RVc2VySW50ZXJhY3Rpb24gPSB0aGlzLmhhbmRsZVJlcXVlc3RVc2VySW50ZXJhY3Rpb24uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZVBlcm1pc3Npb25GYWlsID0gdGhpcy5oYW5kbGVQZXJtaXNzaW9uRmFpbC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRXJyb3IgPSB0aGlzLmhhbmRsZUVycm9yLmJpbmQodGhpcyk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJzh0aHdhbGwtcmVxdWVzdC11c2VyLWludGVyYWN0aW9uJywgdGhpcy5oYW5kbGVSZXF1ZXN0VXNlckludGVyYWN0aW9uKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1wZXJtaXNzaW9uLWZhaWwnLCB0aGlzLmhhbmRsZVBlcm1pc3Npb25GYWlsKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1lcnJvcicsIHRoaXMuaGFuZGxlRXJyb3IpO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZVJlcXVlc3RVc2VySW50ZXJhY3Rpb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5zaG93T3ZlcmxheShyZXF1ZXN0UGVybWlzc2lvbk92ZXJsYXkpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCc4dGh3YWxsLXNhZmUtdG8tcmVxdWVzdC1wZXJtaXNzaW9ucycsICgpID0+IHtcclxuICAgICAgICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVQZXJtaXNzaW9uRmFpbDogZnVuY3Rpb24gKF9yZWFzb24pIHtcclxuICAgICAgICB0aGlzLnNob3dPdmVybGF5KGZhaWxlZFBlcm1pc3Npb25PdmVybGF5KTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVFcnJvcjogZnVuY3Rpb24gKF9lcnJvcikge1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJsYXkocnVudGltZUVycm9yT3ZlcmxheSk7XHJcbiAgICB9LFxyXG4gICAgc2hvd092ZXJsYXk6IGZ1bmN0aW9uIChodG1sQ29udGVudCkge1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBvdmVybGF5LmlubmVySFRNTCA9IGh0bWxDb250ZW50O1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3ZlcmxheSk7XHJcbiAgICAgICAgcmV0dXJuIG92ZXJsYXk7XHJcbiAgICB9LFxyXG59O1xyXG5jb25zdCByZXF1ZXN0UGVybWlzc2lvbk92ZXJsYXkgPSBgXHJcbjxzdHlsZT5cclxuICAjcmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXkge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgei1pbmRleDogOTk5O1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcclxuICB9XHJcblxyXG4gIC5yZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheV90aXRsZSB7XHJcbiAgICBtYXJnaW46IDMwcHg7XHJcbiAgICBmb250LXNpemU6IDMycHg7XHJcbiAgfVxyXG5cclxuICAucmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXlfYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlODAwODY7XHJcbiAgICBmb250LXNpemU6IDIycHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDMwcHg7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgfVxyXG48L3N0eWxlPlxyXG5cclxuPGRpdiBpZD1cInJlcXVlc3QtcGVybWlzc2lvbi1vdmVybGF5XCI+XHJcbiAgPGRpdiBjbGFzcz1cInJlcXVlc3QtcGVybWlzc2lvbi1vdmVybGF5X3RpdGxlXCI+VGhpcyBhcHAgcmVxdWlyZXMgdG8gdXNlIHlvdXIgY2FtZXJhIGFuZCBtb3Rpb24gc2Vuc29yczwvZGl2PlxyXG5cclxuICA8YnV0dG9uIGNsYXNzPVwicmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXlfYnV0dG9uXCIgb25jbGljaz1cIndpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnKSlcIj5PSzwvYnV0dG9uPlxyXG48L2Rpdj5gO1xyXG5jb25zdCBmYWlsZWRQZXJtaXNzaW9uT3ZlcmxheSA9IGBcclxuPHN0eWxlPlxyXG4gICNmYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5IHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHotaW5kZXg6IDk5OTtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XHJcbiAgfVxyXG5cclxuICAuZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheV90aXRsZSB7XHJcbiAgICBtYXJnaW46IDMwcHg7XHJcbiAgICBmb250LXNpemU6IDMycHg7XHJcbiAgfVxyXG5cclxuICAuZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheV9idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U4MDA4NjtcclxuICAgIGZvbnQtc2l6ZTogMjJweDtcclxuICAgIHBhZGRpbmc6IDEwcHggMzBweDtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICB9XHJcbjwvc3R5bGU+XHJcblxyXG48ZGl2IGlkPVwiZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheVwiPlxyXG4gIDxkaXYgY2xhc3M9XCJmYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5X3RpdGxlXCI+RmFpbGVkIHRvIGdyYW50IHBlcm1pc3Npb25zLiBSZXNldCB0aGUgdGhlIHBlcm1pc3Npb25zIGFuZCByZWZyZXNoIHRoZSBwYWdlLjwvZGl2PlxyXG5cclxuICA8YnV0dG9uIGNsYXNzPVwiZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheV9idXR0b25cIiBvbmNsaWNrPVwid2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXCI+UmVmcmVzaCB0aGUgcGFnZTwvYnV0dG9uPlxyXG48L2Rpdj5gO1xyXG5jb25zdCBydW50aW1lRXJyb3JPdmVybGF5ID0gYFxyXG48c3R5bGU+XHJcbiAgI3dhbGwtZXJyb3Itb3ZlcmxheSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB6LWluZGV4OiA5OTk7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xyXG4gIH1cclxuXHJcbiAgLndhbGwtZXJyb3Itb3ZlcmxheV90aXRsZSB7XHJcbiAgICBtYXJnaW46IDMwcHg7XHJcbiAgICBmb250LXNpemU6IDMycHg7XHJcbiAgfVxyXG5cclxuICAud2FsbC1lcnJvci1vdmVybGF5X2J1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTgwMDg2O1xyXG4gICAgZm9udC1zaXplOiAyMnB4O1xyXG4gICAgcGFkZGluZzogMTBweCAzMHB4O1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gIH1cclxuPC9zdHlsZT5cclxuXHJcbjxkaXYgaWQ9XCJ3YWxsLWVycm9yLW92ZXJsYXlcIj5cclxuICA8ZGl2IGNsYXNzPVwid2FsbC1lcnJvci1vdmVybGF5X3RpdGxlXCI+RXJyb3IgaGFzIG9jY3VycmVkLiBQbGVhc2UgcmVsb2FkIHRoZSBwYWdlPC9kaXY+XHJcblxyXG4gIDxidXR0b24gY2xhc3M9XCJ3YWxsLWVycm9yLW92ZXJsYXlfYnV0dG9uXCIgb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVwiPlJlbG9hZDwvYnV0dG9uPlxyXG48L2Rpdj5gO1xyXG4iLCAiY29uc3QgdGVtcFZlYyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbmNvbnN0IHRlbXBRdWF0ID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcclxuZXhwb3J0IGZ1bmN0aW9uIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbChvLCB0cmFuc2Zvcm0pIHtcclxuICAgIGNvbnN0IHIgPSB0cmFuc2Zvcm0ub3JpZW50YXRpb247XHJcbiAgICB0ZW1wUXVhdFswXSA9IHIueDtcclxuICAgIHRlbXBRdWF0WzFdID0gci55O1xyXG4gICAgdGVtcFF1YXRbMl0gPSByLno7XHJcbiAgICB0ZW1wUXVhdFszXSA9IHIudztcclxuICAgIGNvbnN0IHQgPSB0cmFuc2Zvcm0ucG9zaXRpb247XHJcbiAgICB0ZW1wVmVjWzBdID0gdC54O1xyXG4gICAgdGVtcFZlY1sxXSA9IHQueTtcclxuICAgIHRlbXBWZWNbMl0gPSB0Lno7XHJcbiAgICBvLnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xyXG4gICAgby5zZXRSb3RhdGlvbkxvY2FsKHRlbXBRdWF0KTtcclxuICAgIG8udHJhbnNsYXRlTG9jYWwodGVtcFZlYyk7XHJcbn1cclxuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbmltcG9ydCB7IENvbXBvbmVudCwgRW1pdHRlciB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xyXG5pbXBvcnQgeyBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwgfSBmcm9tICcuL3V0aWxzL3dlYnhyLmpzJztcclxudmFyIHRlbXBWZWMzID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxudmFyIHRlbXBRdWF0ID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcclxuLyoqXHJcbiAqIFNldHMgdGhlIGxvY2F0aW9uIG9mIHRoZSBvYmplY3QgdG8gdGhlIGxvY2F0aW9uIG9mIGFuIFhSQW5jaG9yXHJcbiAqXHJcbiAqIENyZWF0ZSBhbmNob3JzIHVzaW5nIHRoZSBgQW5jaG9yLmNyZWF0ZSgpYCBzdGF0aWMgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEV4YW1wbGUgZm9yIHVzZSB3aXRoIGN1cnNvcjpcclxuICogYGBganNcclxuICogY3Vyc29yVGFyZ2V0Lm9uQ2xpY2suYWRkKChvYmplY3QsIGN1cnNvciwgb3JpZ2luYWxFdmVudCkgPT4ge1xyXG4gKiAgICAgLyogT25seSBldmVudHMgaW4gWFIgd2lsbCBoYXZlIGEgZnJhbWUgYXR0YWNoZWQgKlxcL1xyXG4gKiAgICAgaWYoIW9yaWdpbmFsRXZlbnQuZnJhbWUpIHJldHVybjtcclxuICogICAgIEFuY2hvci5jcmVhdGUoYW5jaG9yT2JqZWN0LCB7dXVpZDogaWQsIHBlcnNpc3Q6IHRydWV9LCBvcmlnaW5hbEV2ZW50LmZyYW1lKTtcclxuICogfSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuY2xhc3MgQW5jaG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdhbmNob3InO1xyXG4gICAgLyogU3RhdGljIG1hbmFnZW1lbnQgb2YgYWxsIGFuY2hvcnMgKi9cclxuICAgIHN0YXRpYyAjYW5jaG9ycyA9IFtdO1xyXG4gICAgcGVyc2lzdCA9IGZhbHNlO1xyXG4gICAgLyoqIFVuaXF1ZSBpZGVudGlmaWVyIHRvIGxvYWQgYSBwZXJzaXN0ZW50IGFuY2hvciBmcm9tLCBvciBlbXB0eS9udWxsIGlmIHVua25vd24gKi9cclxuICAgIHV1aWQgPSBudWxsO1xyXG4gICAgLyoqIFRoZSB4ckFuY2hvciwgaWYgY3JlYXRlZCAqL1xyXG4gICAgeHJBbmNob3IgPSBudWxsO1xyXG4gICAgLyoqIEVtaXRzIGV2ZW50cyB3aGVuIHRoZSBhbmNob3IgaXMgY3JlYXRlZCBlaXRoZXIgYnkgYmVpbmcgcmVzdG9yZWQgb3IgbmV3bHkgY3JlYXRlZCAqL1xyXG4gICAgb25DcmVhdGUgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIFdoZXRoZXIgdGhlIGFuY2hvciBpcyBjdXJyZW50bHkgYmVpbmcgdHJhY2tlZCAqL1xyXG4gICAgdmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgLyoqIEVtaXRzIGFuIGV2ZW50IHdoZW4gdGhpcyBhbmNob3Igc3RhcnRzIHRyYWNraW5nICovXHJcbiAgICBvblRyYWNraW5nRm91bmQgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXRzIGFuIGV2ZW50IHdoZW4gdGhpcyBhbmNob3Igc3RvcHMgdHJhY2tpbmcgKi9cclxuICAgIG9uVHJhY2tpbmdMb3N0ID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBYUkZyYW1lIHRvIHVzZSBmb3IgY3JlYXRpbmcgdGhlIGFuY2hvciAqL1xyXG4gICAgeHJGcmFtZSA9IG51bGw7XHJcbiAgICAvKiogWFJIaXRUZXN0UmVzdWx0IHRvIHVzZSBmb3IgY3JlYXRpbmcgdGhlIGFuY2hvciAqL1xyXG4gICAgeHJIaXRSZXN1bHQgPSBudWxsO1xyXG4gICAgLyoqIFJldHJpZXZlIGFsbCBhbmNob3JzIG9mIHRoZSBjdXJyZW50IHNjZW5lICovXHJcbiAgICBzdGF0aWMgZ2V0QWxsQW5jaG9ycygpIHtcclxuICAgICAgICByZXR1cm4gQW5jaG9yLiNhbmNob3JzO1xyXG4gICAgfVxyXG4gICAgc3RhdGljICNhZGRBbmNob3IoYW5jaG9yKSB7XHJcbiAgICAgICAgQW5jaG9yLiNhbmNob3JzLnB1c2goYW5jaG9yKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyAjcmVtb3ZlQW5jaG9yKGFuY2hvcikge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gQW5jaG9yLiNhbmNob3JzLmluZGV4T2YoYW5jaG9yKTtcclxuICAgICAgICBpZiAoaW5kZXggPCAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgQW5jaG9yLiNhbmNob3JzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBhbmNob3JcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbyBPYmplY3QgdG8gYXR0YWNoIHRoZSBjb21wb25lbnQgdG9cclxuICAgICAqIEBwYXJhbSBwYXJhbXMgUGFyYW1ldGVycyBmb3IgdGhlIGFuY2hvciBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSBmcmFtZSBYUkZyYW1lIHRvIHVzZSBmb3IgYW5jaG9yIGNyYXRpb24sIGlmIG51bGwsIHdpbGwgdXNlIHRoZSBjdXJyZW50IGZyYW1lIGlmIGF2YWlsYWJsZVxyXG4gICAgICogQHBhcmFtIGhpdFJlc3VsdCBPcHRpb25hbCBoaXQtdGVzdCByZXN1bHQgdG8gY3JlYXRlIHRoZSBhbmNob3Igd2l0aFxyXG4gICAgICogQHJldHVybnMgUHJvbWlzZSBmb3IgdGhlIG5ld2x5IGNyZWF0ZWQgYW5jaG9yIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlKG8sIHBhcmFtcywgZnJhbWUsIGhpdFJlc3VsdCkge1xyXG4gICAgICAgIGNvbnN0IGEgPSBvLmFkZENvbXBvbmVudChBbmNob3IsIHsgLi4ucGFyYW1zLCBhY3RpdmU6IGZhbHNlIH0pO1xyXG4gICAgICAgIGlmIChhID09PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBhLnhySGl0UmVzdWx0ID0gaGl0UmVzdWx0ID8/IG51bGw7XHJcbiAgICAgICAgYS54ckZyYW1lID0gZnJhbWUgPz8gbnVsbDtcclxuICAgICAgICBhLm9uQ3JlYXRlLm9uY2UoKCkgPT4gKChhLnhyRnJhbWUgPSBudWxsKSwgKGEueHJIaXRSZXN1bHQgPSBudWxsKSkpO1xyXG4gICAgICAgIGEuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gYS5vbkNyZWF0ZS5wcm9taXNlKCk7XHJcbiAgICB9XHJcbiAgICAjZ2V0RnJhbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueHJGcmFtZSB8fCB0aGlzLmVuZ2luZS54ci5mcmFtZTtcclxuICAgIH1cclxuICAgIGFzeW5jICNjcmVhdGVBbmNob3IoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLiNnZXRGcmFtZSgpLmNyZWF0ZUFuY2hvcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGFuY2hvciAtIGFuY2hvcnMgbm90IHN1cHBvcnRlZCwgZGlkIHlvdSBlbmFibGUgdGhlICdhbmNob3JzJyBXZWJYUiBmZWF0dXJlP1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMueHJIaXRSZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMueHJIaXRSZXN1bHQuY3JlYXRlQW5jaG9yID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWVzdGVkIGFuY2hvciBvbiBYUkhpdFRlc3RSZXN1bHQsIGJ1dCBXZWJYUiBoaXQtdGVzdCBmZWF0dXJlIGlzIG5vdCBhdmFpbGFibGUuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueHJIaXRSZXN1bHQuY3JlYXRlQW5jaG9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRlbXBWZWMzKTtcclxuICAgICAgICAgICAgdGVtcFF1YXQuc2V0KHRoaXMub2JqZWN0LnJvdGF0aW9uV29ybGQpO1xyXG4gICAgICAgICAgICBjb25zdCByb3RhdGlvbiA9IHRlbXBRdWF0O1xyXG4gICAgICAgICAgICBjb25zdCBhbmNob3JQb3NlID0gbmV3IFhSUmlnaWRUcmFuc2Zvcm0oeyB4OiB0ZW1wVmVjM1swXSwgeTogdGVtcFZlYzNbMV0sIHo6IHRlbXBWZWMzWzJdIH0sIHsgeDogcm90YXRpb25bMF0sIHk6IHJvdGF0aW9uWzFdLCB6OiByb3RhdGlvblsyXSwgdzogcm90YXRpb25bM10gfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiNnZXRGcmFtZSgpPy5jcmVhdGVBbmNob3IoYW5jaG9yUG9zZSwgdGhpcy5lbmdpbmUueHIuY3VycmVudFJlZmVyZW5jZVNwYWNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAjb25BZGRBbmNob3IoYW5jaG9yKSB7XHJcbiAgICAgICAgaWYgKCFhbmNob3IpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5wZXJzaXN0KSB7XHJcbiAgICAgICAgICAgIGlmIChhbmNob3IucmVxdWVzdFBlcnNpc3RlbnRIYW5kbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgYW5jaG9yLnJlcXVlc3RQZXJzaXN0ZW50SGFuZGxlKCkudGhlbigodXVpZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXVpZCA9IHV1aWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jb25DcmVhdGUoYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgICAgICBBbmNob3IuI2FkZEFuY2hvcih0aGlzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdhbmNob3I6IFBlcnNpc3RlbnQgYW5jaG9ycyBhcmUgbm90IHN1cHBvcnRlZCBieSB5b3VyIGNsaWVudC4gSWdub3JpbmcgcGVyc2lzdCBwcm9wZXJ0eS4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLiNvbkNyZWF0ZShhbmNob3IpO1xyXG4gICAgfVxyXG4gICAgI29uUmVzdG9yZUFuY2hvcihhbmNob3IpIHtcclxuICAgICAgICB0aGlzLiNvbkNyZWF0ZShhbmNob3IpO1xyXG4gICAgfVxyXG4gICAgI29uQ3JlYXRlKGFuY2hvcikge1xyXG4gICAgICAgIHRoaXMueHJBbmNob3IgPSBhbmNob3I7XHJcbiAgICAgICAgdGhpcy5vbkNyZWF0ZS5ub3RpZnkodGhpcyk7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBpZiAodGhpcy51dWlkICYmIHRoaXMuZW5naW5lLnhyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGVyc2lzdCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVuZ2luZS54ci5zZXNzaW9uLnJlc3RvcmVQZXJzaXN0ZW50QW5jaG9yID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignYW5jaG9yOiBQZXJzaXN0ZW50IGFuY2hvcnMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBjbGllbnQuIElnbm9yaW5nIHBlcnNpc3QgcHJvcGVydHkuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5yZXN0b3JlUGVyc2lzdGVudEFuY2hvcih0aGlzLnV1aWQpLnRoZW4odGhpcy4jb25SZXN0b3JlQW5jaG9yLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLiNnZXRGcmFtZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuI2NyZWF0ZUFuY2hvcigpLnRoZW4odGhpcy4jb25BZGRBbmNob3IuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuY2hvcnMgY2FuIG9ubHkgYmUgY3JlYXRlZCBkdXJpbmcgdGhlIFhSIGZyYW1lIGluIGFuIGFjdGl2ZSBYUiBzZXNzaW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy54ckFuY2hvciB8fCAhdGhpcy5lbmdpbmUueHIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvKiBXZSBuZWVkIHRvIHVzZSB0aGUgYWN0dWFsIGZyYW1lIGZyb20gdGhlIGRyYXcgY2FsbGJhY2sgaGVyZSAqL1xyXG4gICAgICAgIGNvbnN0IHBvc2UgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5nZXRQb3NlKHRoaXMueHJBbmNob3IuYW5jaG9yU3BhY2UsIHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XHJcbiAgICAgICAgY29uc3QgdmlzaWJsZSA9ICEhcG9zZTtcclxuICAgICAgICBpZiAodmlzaWJsZSAhPSB0aGlzLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZTtcclxuICAgICAgICAgICAgKHZpc2libGUgPyB0aGlzLm9uVHJhY2tpbmdGb3VuZCA6IHRoaXMub25UcmFja2luZ0xvc3QpLm5vdGlmeSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBvc2UpIHtcclxuICAgICAgICAgICAgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsKHRoaXMub2JqZWN0LCBwb3NlLnRyYW5zZm9ybSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25EZXN0cm95KCkge1xyXG4gICAgICAgIEFuY2hvci4jcmVtb3ZlQW5jaG9yKHRoaXMpO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuYm9vbChmYWxzZSlcclxuXSwgQW5jaG9yLnByb3RvdHlwZSwgXCJwZXJzaXN0XCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuc3RyaW5nKClcclxuXSwgQW5jaG9yLnByb3RvdHlwZSwgXCJ1dWlkXCIsIHZvaWQgMCk7XHJcbmV4cG9ydCB7IEFuY2hvciB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBFbWl0dGVyIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuLyoqXHJcbiAqIENsaWNrL2hvdmVyL21vdmUvYnV0dG9uIHRhcmdldCBmb3IgW2N1cnNvcl0oI2N1cnNvcikuXHJcbiAqXHJcbiAqIFRvIHRyaWdnZXIgY29kZSB3aGVuIGNsaWNraW5nLCBob3ZlcmluZywgdW5ob3ZlcmluZywgbW92aW5nIGN1cnNvciwgcHJlc3NpbmdcclxuICogY3Vyc29yIGJ1dHRvbiBvciByZWxlYXNpbmcgY3Vyc29yIGJ1dHRvbiwgdXNlIGAuYWRkQ2xpY2tGdW5jdGlvbihmKWAsXHJcbiAqIGAuYWRkSG92ZXJGdW5jdGlvbihmKWAsIGAuYWRkVW5Ib3ZlckZ1bmN0aW9uKGYpYCxcclxuICogYC5hZGRNb3ZlRnVuY3Rpb24oZilgLCBgLmFkZERvd25GdW5jdGlvbihmKWAgYW5kXHJcbiAqIGAuYWRkVXBGdW5jdGlvbihmKWAgcmVzcGVjdGl2ZWx5IHdpdGggYW55IGBmdW5jdGlvbiBmKCkge31gLlxyXG4gKlxyXG4gKiBUbyBjYWxsIG1lbWJlcnMgb24gYSBkaWZmZXJlbnQgY29tcG9uZW50LCB5b3UgY2FuIHNldCB1cCBhIGN1cnNvciB0YXJnZXQgbGlrZVxyXG4gKiBzbzpcclxuICpcclxuICogYGBganNcclxuICogc3RhcnQ6IGZ1bmN0aW9uKCkge1xyXG4gKiAgIGxldCB0YXJnZXQgPSB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQoJ2N1cnNvci10YXJnZXQnKTtcclxuICogICB0YXJnZXQub25DbGljay5hZGQodGhpcy5vbkNsaWNrLmJpbmQodGhpcykpO1xyXG4gKiB9LFxyXG4gKiBvbkNsaWNrOiBmdW5jdGlvbigpIHtcclxuICogICBjb25zb2xlLmxvZyh0aGlzLm9iamVjdC5uYW1lLCBcIndhcyBjbGlja2VkIVwiKTtcclxuICogfVxyXG4gKiBgYGBcclxuICogKipGdW5jdGlvbnM6KipcclxuICpcclxuICogYGBganNcclxuICogY29uc3QgdGFyZ2V0ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KEN1cnNvclRhcmdldCk7XHJcbiAqIGNvbnN0IGNhbGxiYWNrID0gZnVuY3Rpb24ob2JqZWN0LCBjdXJzb3JDb21wb25lbnQpIHt9O1xyXG4gKlxyXG4gKiB0YXJnZXQub25Ib3Zlci5hZGQoY2FsbGJhY2spO1xyXG4gKiB0YXJnZXQub25Ib3Zlci5yZW1vdmUoY2FsbGJhY2spO1xyXG4gKlxyXG4gKiB0YXJnZXQub25VbkhvdmVyLmFkZChjYWxsYmFjayk7XHJcbiAqIHRhcmdldC5vblVuSG92ZXIucmVtb3ZlKGNhbGxiYWNrKTtcclxuICpcclxuICogdGFyZ2V0Lm9uQ2xpY2suYWRkKGNhbGxiYWNrKTtcclxuICogdGFyZ2V0Lm9uQ2xpY2sucmVtb3ZlKGNhbGxiYWNrKTtcclxuICpcclxuICogdGFyZ2V0Lm9uTW92ZS5hZGQoY2FsbGJhY2spO1xyXG4gKiB0YXJnZXQub25Nb3ZlLnJlbW92ZShjYWxsYmFjayk7XHJcbiAqXHJcbiAqIHRhcmdldC5vbkRvd24uYWRkKGNhbGxiYWNrKTtcclxuICogdGFyZ2V0Lm9uRG93bi5yZW1vdmUoY2FsbGJhY2spO1xyXG4gKlxyXG4gKiB0YXJnZXQub25VcC5hZGQoY2FsbGJhY2spO1xyXG4gKiB0YXJnZXQub25VcC5yZW1vdmUoY2FsbGJhY2spO1xyXG4gKiBgYGBcclxuICpcclxuICogKipSZXF1aXJlbWVudHM6KipcclxuICogLSBhIGBjb2xsaXNpb25gIGNvbXBvbmVudCB0byBiZSBhdHRhY2hlZCB0byB0aGUgc2FtZSBvYmplY3QuXHJcbiAqXHJcbiAqIFNlZSBbQW5pbWF0aW9uIEV4YW1wbGVdKC9zaG93Y2FzZS9hbmltYXRpb24pLlxyXG4gKi9cclxuY2xhc3MgQ3Vyc29yVGFyZ2V0IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdjdXJzb3ItdGFyZ2V0JztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge307XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHRhcmdldCBpcyBob3ZlcmVkICovXHJcbiAgICBvbkhvdmVyID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIHVuaG92ZXJlZCAqL1xyXG4gICAgb25VbmhvdmVyID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIGNsaWNrZWQgKi9cclxuICAgIG9uQ2xpY2sgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSBjdXJzb3IgbW92ZXMgb24gdGhlIHRhcmdldCAqL1xyXG4gICAgb25Nb3ZlID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdXNlciBwcmVzc2VkIHRoZSBzZWxlY3QgYnV0dG9uIG9uIHRoZSB0YXJnZXQgKi9cclxuICAgIG9uRG93biA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHVzZXIgdW5wcmVzc2VkIHRoZSBzZWxlY3QgYnV0dG9uIG9uIHRoZSB0YXJnZXQgKi9cclxuICAgIG9uVXAgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgdGhpcy5vbkhvdmVyLmFkZChmKTtcclxuICAgICAqL1xyXG4gICAgYWRkSG92ZXJGdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vbkhvdmVyLmFkZChmKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIHRoaXMub25Ib3Zlci5yZW1vdmUoZik7XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUhvdmVyRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25Ib3Zlci5yZW1vdmUoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICB0aGlzLm9uVW5ob3Zlci5hZGQoZik7XHJcbiAgICAgKi9cclxuICAgIGFkZFVuSG92ZXJGdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vblVuaG92ZXIuYWRkKGYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgdGhpcy5vblVuaG92ZXIucmVtb3ZlKGYpO1xyXG4gICAgICovXHJcbiAgICByZW1vdmVVbkhvdmVyRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25VbmhvdmVyLnJlbW92ZShmKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIHRoaXMub25DbGljay5hZGQoZik7XHJcbiAgICAgKi9cclxuICAgIGFkZENsaWNrRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25DbGljay5hZGQoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25DbGljay5yZW1vdmUoZik7XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUNsaWNrRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25DbGljay5yZW1vdmUoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25Nb3ZlLmFkZChmKTtcclxuICAgICAqL1xyXG4gICAgYWRkTW92ZUZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uTW92ZS5hZGQoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25Nb3ZlLnJlbW92ZShmKTtcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlTW92ZUZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uTW92ZS5yZW1vdmUoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25Eb3duLmFkZChmKTtcclxuICAgICAqL1xyXG4gICAgYWRkRG93bkZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uRG93bi5hZGQoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25Eb3duLnJlbW92ZShmKTtcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlRG93bkZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uRG93bi5yZW1vdmUoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25VcC5hZGQoZik7XHJcbiAgICAgKi9cclxuICAgIGFkZFVwRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25VcC5hZGQoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25VcC5yZW1vdmUoZik7XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZVVwRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25VcC5yZW1vdmUoZik7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgQ3Vyc29yVGFyZ2V0IH07XHJcbiIsICIvKipcclxuICogQ29tbW9uIHV0aWxpdGllc1xyXG4gKiBAbW9kdWxlIGdsTWF0cml4XHJcbiAqL1xyXG4vLyBDb25maWd1cmF0aW9uIENvbnN0YW50c1xyXG5leHBvcnQgdmFyIEVQU0lMT04gPSAwLjAwMDAwMTtcclxuZXhwb3J0IHZhciBBUlJBWV9UWVBFID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBGbG9hdDMyQXJyYXkgOiBBcnJheTtcclxuZXhwb3J0IHZhciBSQU5ET00gPSBNYXRoLnJhbmRvbTtcclxuLyoqXHJcbiAqIFNldHMgdGhlIHR5cGUgb2YgYXJyYXkgdXNlZCB3aGVuIGNyZWF0aW5nIG5ldyB2ZWN0b3JzIGFuZCBtYXRyaWNlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheUNvbnN0cnVjdG9yIHwgQXJyYXlDb25zdHJ1Y3Rvcn0gdHlwZSBBcnJheSB0eXBlLCBzdWNoIGFzIEZsb2F0MzJBcnJheSBvciBBcnJheVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRNYXRyaXhBcnJheVR5cGUodHlwZSkge1xyXG4gIEFSUkFZX1RZUEUgPSB0eXBlO1xyXG59XHJcbnZhciBkZWdyZWUgPSBNYXRoLlBJIC8gMTgwO1xyXG4vKipcclxuICogQ29udmVydCBEZWdyZWUgVG8gUmFkaWFuXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIEFuZ2xlIGluIERlZ3JlZXNcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9SYWRpYW4oYSkge1xyXG4gIHJldHVybiBhICogZGVncmVlO1xyXG59XHJcbi8qKlxyXG4gKiBUZXN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgYXJndW1lbnRzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSB2YWx1ZSwgd2l0aGluIGFuIGFic29sdXRlXHJcbiAqIG9yIHJlbGF0aXZlIHRvbGVyYW5jZSBvZiBnbE1hdHJpeC5FUFNJTE9OIChhbiBhYnNvbHV0ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgdmFsdWVzIGxlc3NcclxuICogdGhhbiBvciBlcXVhbCB0byAxLjAsIGFuZCBhIHJlbGF0aXZlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciBsYXJnZXIgdmFsdWVzKVxyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0gYSBUaGUgZmlyc3QgbnVtYmVyIHRvIHRlc3QuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIFRoZSBzZWNvbmQgbnVtYmVyIHRvIHRlc3QuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBudW1iZXJzIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XHJcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBFUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhKSwgTWF0aC5hYnMoYikpO1xyXG59XHJcbmlmICghTWF0aC5oeXBvdCkgTWF0aC5oeXBvdCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeSA9IDAsXHJcbiAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG5cclxuICB3aGlsZSAoaS0tKSB7XHJcbiAgICB5ICs9IGFyZ3VtZW50c1tpXSAqIGFyZ3VtZW50c1tpXTtcclxuICB9XHJcblxyXG4gIHJldHVybiBNYXRoLnNxcnQoeSk7XHJcbn07IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xyXG4vKipcclxuICogM3gzIE1hdHJpeFxyXG4gKiBAbW9kdWxlIG1hdDNcclxuICovXHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQzXHJcbiAqXHJcbiAqIEByZXR1cm5zIHttYXQzfSBhIG5ldyAzeDMgbWF0cml4XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XHJcblxyXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xyXG4gICAgb3V0WzFdID0gMDtcclxuICAgIG91dFsyXSA9IDA7XHJcbiAgICBvdXRbM10gPSAwO1xyXG4gICAgb3V0WzVdID0gMDtcclxuICAgIG91dFs2XSA9IDA7XHJcbiAgICBvdXRbN10gPSAwO1xyXG4gIH1cclxuXHJcbiAgb3V0WzBdID0gMTtcclxuICBvdXRbNF0gPSAxO1xyXG4gIG91dFs4XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ29waWVzIHRoZSB1cHBlci1sZWZ0IDN4MyB2YWx1ZXMgaW50byB0aGUgZ2l2ZW4gbWF0My5cclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyAzeDMgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhICAgdGhlIHNvdXJjZSA0eDQgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbU1hdDQob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgb3V0WzNdID0gYVs0XTtcclxuICBvdXRbNF0gPSBhWzVdO1xyXG4gIG91dFs1XSA9IGFbNl07XHJcbiAgb3V0WzZdID0gYVs4XTtcclxuICBvdXRbN10gPSBhWzldO1xyXG4gIG91dFs4XSA9IGFbMTBdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgbWF0MyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gY2xvbmVcclxuICogQHJldHVybnMge21hdDN9IGEgbmV3IDN4MyBtYXRyaXhcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIG91dFs0XSA9IGFbNF07XHJcbiAgb3V0WzVdID0gYVs1XTtcclxuICBvdXRbNl0gPSBhWzZdO1xyXG4gIG91dFs3XSA9IGFbN107XHJcbiAgb3V0WzhdID0gYVs4XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0MyB0byBhbm90aGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIG91dFs0XSA9IGFbNF07XHJcbiAgb3V0WzVdID0gYVs1XTtcclxuICBvdXRbNl0gPSBhWzZdO1xyXG4gIG91dFs3XSA9IGFbN107XHJcbiAgb3V0WzhdID0gYVs4XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBuZXcgbWF0MyB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHJldHVybnMge21hdDN9IEEgbmV3IG1hdDNcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMTAsIG0xMSwgbTEyLCBtMjAsIG0yMSwgbTIyKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDkpO1xyXG4gIG91dFswXSA9IG0wMDtcclxuICBvdXRbMV0gPSBtMDE7XHJcbiAgb3V0WzJdID0gbTAyO1xyXG4gIG91dFszXSA9IG0xMDtcclxuICBvdXRbNF0gPSBtMTE7XHJcbiAgb3V0WzVdID0gbTEyO1xyXG4gIG91dFs2XSA9IG0yMDtcclxuICBvdXRbN10gPSBtMjE7XHJcbiAgb3V0WzhdID0gbTIyO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIG1hdDMgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDMpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA1KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDYpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA4KVxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIG0wMCwgbTAxLCBtMDIsIG0xMCwgbTExLCBtMTIsIG0yMCwgbTIxLCBtMjIpIHtcclxuICBvdXRbMF0gPSBtMDA7XHJcbiAgb3V0WzFdID0gbTAxO1xyXG4gIG91dFsyXSA9IG0wMjtcclxuICBvdXRbM10gPSBtMTA7XHJcbiAgb3V0WzRdID0gbTExO1xyXG4gIG91dFs1XSA9IG0xMjtcclxuICBvdXRbNl0gPSBtMjA7XHJcbiAgb3V0WzddID0gbTIxO1xyXG4gIG91dFs4XSA9IG0yMjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgYSBtYXQzIHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcclxuICBvdXRbMF0gPSAxO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDE7XHJcbiAgb3V0WzVdID0gMDtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBUcmFuc3Bvc2UgdGhlIHZhbHVlcyBvZiBhIG1hdDNcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XHJcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xyXG4gIGlmIChvdXQgPT09IGEpIHtcclxuICAgIHZhciBhMDEgPSBhWzFdLFxyXG4gICAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgICAgYTEyID0gYVs1XTtcclxuICAgIG91dFsxXSA9IGFbM107XHJcbiAgICBvdXRbMl0gPSBhWzZdO1xyXG4gICAgb3V0WzNdID0gYTAxO1xyXG4gICAgb3V0WzVdID0gYVs3XTtcclxuICAgIG91dFs2XSA9IGEwMjtcclxuICAgIG91dFs3XSA9IGExMjtcclxuICB9IGVsc2Uge1xyXG4gICAgb3V0WzBdID0gYVswXTtcclxuICAgIG91dFsxXSA9IGFbM107XHJcbiAgICBvdXRbMl0gPSBhWzZdO1xyXG4gICAgb3V0WzNdID0gYVsxXTtcclxuICAgIG91dFs0XSA9IGFbNF07XHJcbiAgICBvdXRbNV0gPSBhWzddO1xyXG4gICAgb3V0WzZdID0gYVsyXTtcclxuICAgIG91dFs3XSA9IGFbNV07XHJcbiAgICBvdXRbOF0gPSBhWzhdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogSW52ZXJ0cyBhIG1hdDNcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl07XHJcbiAgdmFyIGExMCA9IGFbM10sXHJcbiAgICAgIGExMSA9IGFbNF0sXHJcbiAgICAgIGExMiA9IGFbNV07XHJcbiAgdmFyIGEyMCA9IGFbNl0sXHJcbiAgICAgIGEyMSA9IGFbN10sXHJcbiAgICAgIGEyMiA9IGFbOF07XHJcbiAgdmFyIGIwMSA9IGEyMiAqIGExMSAtIGExMiAqIGEyMTtcclxuICB2YXIgYjExID0gLWEyMiAqIGExMCArIGExMiAqIGEyMDtcclxuICB2YXIgYjIxID0gYTIxICogYTEwIC0gYTExICogYTIwOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XHJcblxyXG4gIHZhciBkZXQgPSBhMDAgKiBiMDEgKyBhMDEgKiBiMTEgKyBhMDIgKiBiMjE7XHJcblxyXG4gIGlmICghZGV0KSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGRldCA9IDEuMCAvIGRldDtcclxuICBvdXRbMF0gPSBiMDEgKiBkZXQ7XHJcbiAgb3V0WzFdID0gKC1hMjIgKiBhMDEgKyBhMDIgKiBhMjEpICogZGV0O1xyXG4gIG91dFsyXSA9IChhMTIgKiBhMDEgLSBhMDIgKiBhMTEpICogZGV0O1xyXG4gIG91dFszXSA9IGIxMSAqIGRldDtcclxuICBvdXRbNF0gPSAoYTIyICogYTAwIC0gYTAyICogYTIwKSAqIGRldDtcclxuICBvdXRbNV0gPSAoLWExMiAqIGEwMCArIGEwMiAqIGExMCkgKiBkZXQ7XHJcbiAgb3V0WzZdID0gYjIxICogZGV0O1xyXG4gIG91dFs3XSA9ICgtYTIxICogYTAwICsgYTAxICogYTIwKSAqIGRldDtcclxuICBvdXRbOF0gPSAoYTExICogYTAwIC0gYTAxICogYTEwKSAqIGRldDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDNcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdO1xyXG4gIHZhciBhMTAgPSBhWzNdLFxyXG4gICAgICBhMTEgPSBhWzRdLFxyXG4gICAgICBhMTIgPSBhWzVdO1xyXG4gIHZhciBhMjAgPSBhWzZdLFxyXG4gICAgICBhMjEgPSBhWzddLFxyXG4gICAgICBhMjIgPSBhWzhdO1xyXG4gIG91dFswXSA9IGExMSAqIGEyMiAtIGExMiAqIGEyMTtcclxuICBvdXRbMV0gPSBhMDIgKiBhMjEgLSBhMDEgKiBhMjI7XHJcbiAgb3V0WzJdID0gYTAxICogYTEyIC0gYTAyICogYTExO1xyXG4gIG91dFszXSA9IGExMiAqIGEyMCAtIGExMCAqIGEyMjtcclxuICBvdXRbNF0gPSBhMDAgKiBhMjIgLSBhMDIgKiBhMjA7XHJcbiAgb3V0WzVdID0gYTAyICogYTEwIC0gYTAwICogYTEyO1xyXG4gIG91dFs2XSA9IGExMCAqIGEyMSAtIGExMSAqIGEyMDtcclxuICBvdXRbN10gPSBhMDEgKiBhMjAgLSBhMDAgKiBhMjE7XHJcbiAgb3V0WzhdID0gYTAwICogYTExIC0gYTAxICogYTEwO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0M1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KGEpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXTtcclxuICB2YXIgYTEwID0gYVszXSxcclxuICAgICAgYTExID0gYVs0XSxcclxuICAgICAgYTEyID0gYVs1XTtcclxuICB2YXIgYTIwID0gYVs2XSxcclxuICAgICAgYTIxID0gYVs3XSxcclxuICAgICAgYTIyID0gYVs4XTtcclxuICByZXR1cm4gYTAwICogKGEyMiAqIGExMSAtIGExMiAqIGEyMSkgKyBhMDEgKiAoLWEyMiAqIGExMCArIGExMiAqIGEyMCkgKyBhMDIgKiAoYTIxICogYTEwIC0gYTExICogYTIwKTtcclxufVxyXG4vKipcclxuICogTXVsdGlwbGllcyB0d28gbWF0MydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdO1xyXG4gIHZhciBhMTAgPSBhWzNdLFxyXG4gICAgICBhMTEgPSBhWzRdLFxyXG4gICAgICBhMTIgPSBhWzVdO1xyXG4gIHZhciBhMjAgPSBhWzZdLFxyXG4gICAgICBhMjEgPSBhWzddLFxyXG4gICAgICBhMjIgPSBhWzhdO1xyXG4gIHZhciBiMDAgPSBiWzBdLFxyXG4gICAgICBiMDEgPSBiWzFdLFxyXG4gICAgICBiMDIgPSBiWzJdO1xyXG4gIHZhciBiMTAgPSBiWzNdLFxyXG4gICAgICBiMTEgPSBiWzRdLFxyXG4gICAgICBiMTIgPSBiWzVdO1xyXG4gIHZhciBiMjAgPSBiWzZdLFxyXG4gICAgICBiMjEgPSBiWzddLFxyXG4gICAgICBiMjIgPSBiWzhdO1xyXG4gIG91dFswXSA9IGIwMCAqIGEwMCArIGIwMSAqIGExMCArIGIwMiAqIGEyMDtcclxuICBvdXRbMV0gPSBiMDAgKiBhMDEgKyBiMDEgKiBhMTEgKyBiMDIgKiBhMjE7XHJcbiAgb3V0WzJdID0gYjAwICogYTAyICsgYjAxICogYTEyICsgYjAyICogYTIyO1xyXG4gIG91dFszXSA9IGIxMCAqIGEwMCArIGIxMSAqIGExMCArIGIxMiAqIGEyMDtcclxuICBvdXRbNF0gPSBiMTAgKiBhMDEgKyBiMTEgKiBhMTEgKyBiMTIgKiBhMjE7XHJcbiAgb3V0WzVdID0gYjEwICogYTAyICsgYjExICogYTEyICsgYjEyICogYTIyO1xyXG4gIG91dFs2XSA9IGIyMCAqIGEwMCArIGIyMSAqIGExMCArIGIyMiAqIGEyMDtcclxuICBvdXRbN10gPSBiMjAgKiBhMDEgKyBiMjEgKiBhMTEgKyBiMjIgKiBhMjE7XHJcbiAgb3V0WzhdID0gYjIwICogYTAyICsgYjIxICogYTEyICsgYjIyICogYTIyO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFRyYW5zbGF0ZSBhIG1hdDMgYnkgdGhlIGdpdmVuIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiB2ZWN0b3IgdG8gdHJhbnNsYXRlIGJ5XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdLFxyXG4gICAgICBhMTAgPSBhWzNdLFxyXG4gICAgICBhMTEgPSBhWzRdLFxyXG4gICAgICBhMTIgPSBhWzVdLFxyXG4gICAgICBhMjAgPSBhWzZdLFxyXG4gICAgICBhMjEgPSBhWzddLFxyXG4gICAgICBhMjIgPSBhWzhdLFxyXG4gICAgICB4ID0gdlswXSxcclxuICAgICAgeSA9IHZbMV07XHJcbiAgb3V0WzBdID0gYTAwO1xyXG4gIG91dFsxXSA9IGEwMTtcclxuICBvdXRbMl0gPSBhMDI7XHJcbiAgb3V0WzNdID0gYTEwO1xyXG4gIG91dFs0XSA9IGExMTtcclxuICBvdXRbNV0gPSBhMTI7XHJcbiAgb3V0WzZdID0geCAqIGEwMCArIHkgKiBhMTAgKyBhMjA7XHJcbiAgb3V0WzddID0geCAqIGEwMSArIHkgKiBhMTEgKyBhMjE7XHJcbiAgb3V0WzhdID0geCAqIGEwMiArIHkgKiBhMTIgKyBhMjI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIG1hdDMgYnkgdGhlIGdpdmVuIGFuZ2xlXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgIGExMCA9IGFbM10sXHJcbiAgICAgIGExMSA9IGFbNF0sXHJcbiAgICAgIGExMiA9IGFbNV0sXHJcbiAgICAgIGEyMCA9IGFbNl0sXHJcbiAgICAgIGEyMSA9IGFbN10sXHJcbiAgICAgIGEyMiA9IGFbOF0sXHJcbiAgICAgIHMgPSBNYXRoLnNpbihyYWQpLFxyXG4gICAgICBjID0gTWF0aC5jb3MocmFkKTtcclxuICBvdXRbMF0gPSBjICogYTAwICsgcyAqIGExMDtcclxuICBvdXRbMV0gPSBjICogYTAxICsgcyAqIGExMTtcclxuICBvdXRbMl0gPSBjICogYTAyICsgcyAqIGExMjtcclxuICBvdXRbM10gPSBjICogYTEwIC0gcyAqIGEwMDtcclxuICBvdXRbNF0gPSBjICogYTExIC0gcyAqIGEwMTtcclxuICBvdXRbNV0gPSBjICogYTEyIC0gcyAqIGEwMjtcclxuICBvdXRbNl0gPSBhMjA7XHJcbiAgb3V0WzddID0gYTIxO1xyXG4gIG91dFs4XSA9IGEyMjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTY2FsZXMgdGhlIG1hdDMgYnkgdGhlIGRpbWVuc2lvbnMgaW4gdGhlIGdpdmVuIHZlYzJcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdGhlIHZlYzIgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcclxuICB2YXIgeCA9IHZbMF0sXHJcbiAgICAgIHkgPSB2WzFdO1xyXG4gIG91dFswXSA9IHggKiBhWzBdO1xyXG4gIG91dFsxXSA9IHggKiBhWzFdO1xyXG4gIG91dFsyXSA9IHggKiBhWzJdO1xyXG4gIG91dFszXSA9IHkgKiBhWzNdO1xyXG4gIG91dFs0XSA9IHkgKiBhWzRdO1xyXG4gIG91dFs1XSA9IHkgKiBhWzVdO1xyXG4gIG91dFs2XSA9IGFbNl07XHJcbiAgb3V0WzddID0gYVs3XTtcclxuICBvdXRbOF0gPSBhWzhdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQzLnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHYpIHtcclxuICBvdXRbMF0gPSAxO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDE7XHJcbiAgb3V0WzVdID0gMDtcclxuICBvdXRbNl0gPSB2WzBdO1xyXG4gIG91dFs3XSA9IHZbMV07XHJcbiAgb3V0WzhdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZVxyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQzLnJvdGF0ZShkZXN0LCBkZXN0LCByYWQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkKSB7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpLFxyXG4gICAgICBjID0gTWF0aC5jb3MocmFkKTtcclxuICBvdXRbMF0gPSBjO1xyXG4gIG91dFsxXSA9IHM7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAtcztcclxuICBvdXRbNF0gPSBjO1xyXG4gIG91dFs1XSA9IDA7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQzLmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0My5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFNjYWxpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XHJcbiAgb3V0WzBdID0gdlswXTtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSB2WzFdO1xyXG4gIG91dFs1XSA9IDA7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ29waWVzIHRoZSB2YWx1ZXMgZnJvbSBhIG1hdDJkIGludG8gYSBtYXQzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYSB0aGUgbWF0cml4IHRvIGNvcHlcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKiovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbU1hdDJkKG91dCwgYSkge1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IGFbMl07XHJcbiAgb3V0WzRdID0gYVszXTtcclxuICBvdXRbNV0gPSAwO1xyXG4gIG91dFs2XSA9IGFbNF07XHJcbiAgb3V0WzddID0gYVs1XTtcclxuICBvdXRbOF0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgYSAzeDMgbWF0cml4IGZyb20gdGhlIGdpdmVuIHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBRdWF0ZXJuaW9uIHRvIGNyZWF0ZSBtYXRyaXggZnJvbVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xyXG4gIHZhciB4ID0gcVswXSxcclxuICAgICAgeSA9IHFbMV0sXHJcbiAgICAgIHogPSBxWzJdLFxyXG4gICAgICB3ID0gcVszXTtcclxuICB2YXIgeDIgPSB4ICsgeDtcclxuICB2YXIgeTIgPSB5ICsgeTtcclxuICB2YXIgejIgPSB6ICsgejtcclxuICB2YXIgeHggPSB4ICogeDI7XHJcbiAgdmFyIHl4ID0geSAqIHgyO1xyXG4gIHZhciB5eSA9IHkgKiB5MjtcclxuICB2YXIgenggPSB6ICogeDI7XHJcbiAgdmFyIHp5ID0geiAqIHkyO1xyXG4gIHZhciB6eiA9IHogKiB6MjtcclxuICB2YXIgd3ggPSB3ICogeDI7XHJcbiAgdmFyIHd5ID0gdyAqIHkyO1xyXG4gIHZhciB3eiA9IHcgKiB6MjtcclxuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcclxuICBvdXRbM10gPSB5eCAtIHd6O1xyXG4gIG91dFs2XSA9IHp4ICsgd3k7XHJcbiAgb3V0WzFdID0geXggKyB3ejtcclxuICBvdXRbNF0gPSAxIC0geHggLSB6ejtcclxuICBvdXRbN10gPSB6eSAtIHd4O1xyXG4gIG91dFsyXSA9IHp4IC0gd3k7XHJcbiAgb3V0WzVdID0genkgKyB3eDtcclxuICBvdXRbOF0gPSAxIC0geHggLSB5eTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGEgM3gzIG5vcm1hbCBtYXRyaXggKHRyYW5zcG9zZSBpbnZlcnNlKSBmcm9tIHRoZSA0eDQgbWF0cml4XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgTWF0NCB0byBkZXJpdmUgdGhlIG5vcm1hbCBtYXRyaXggZnJvbVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbEZyb21NYXQ0KG91dCwgYSkge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdLFxyXG4gICAgICBhMDMgPSBhWzNdO1xyXG4gIHZhciBhMTAgPSBhWzRdLFxyXG4gICAgICBhMTEgPSBhWzVdLFxyXG4gICAgICBhMTIgPSBhWzZdLFxyXG4gICAgICBhMTMgPSBhWzddO1xyXG4gIHZhciBhMjAgPSBhWzhdLFxyXG4gICAgICBhMjEgPSBhWzldLFxyXG4gICAgICBhMjIgPSBhWzEwXSxcclxuICAgICAgYTIzID0gYVsxMV07XHJcbiAgdmFyIGEzMCA9IGFbMTJdLFxyXG4gICAgICBhMzEgPSBhWzEzXSxcclxuICAgICAgYTMyID0gYVsxNF0sXHJcbiAgICAgIGEzMyA9IGFbMTVdO1xyXG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XHJcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcclxuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xyXG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XHJcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcclxuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xyXG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XHJcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcclxuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xyXG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XHJcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcclxuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XHJcblxyXG4gIHZhciBkZXQgPSBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XHJcblxyXG4gIGlmICghZGV0KSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGRldCA9IDEuMCAvIGRldDtcclxuICBvdXRbMF0gPSAoYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5KSAqIGRldDtcclxuICBvdXRbMV0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcclxuICBvdXRbMl0gPSAoYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2KSAqIGRldDtcclxuICBvdXRbM10gPSAoYTAyICogYjEwIC0gYTAxICogYjExIC0gYTAzICogYjA5KSAqIGRldDtcclxuICBvdXRbNF0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcclxuICBvdXRbNV0gPSAoYTAxICogYjA4IC0gYTAwICogYjEwIC0gYTAzICogYjA2KSAqIGRldDtcclxuICBvdXRbNl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGRldDtcclxuICBvdXRbN10gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcclxuICBvdXRbOF0gPSAoYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwKSAqIGRldDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSAyRCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHNcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggV2lkdGggb2YgeW91ciBnbCBjb250ZXh0XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIGdsIGNvbnRleHRcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0aW9uKG91dCwgd2lkdGgsIGhlaWdodCkge1xyXG4gIG91dFswXSA9IDIgLyB3aWR0aDtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAtMiAvIGhlaWdodDtcclxuICBvdXRbNV0gPSAwO1xyXG4gIG91dFs2XSA9IC0xO1xyXG4gIG91dFs3XSA9IDE7XHJcbiAgb3V0WzhdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgbWF0M1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XHJcbiAgcmV0dXJuIFwibWF0MyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiKVwiO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0M1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIGNhbGN1bGF0ZSBGcm9iZW5pdXMgbm9ybSBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcclxuICByZXR1cm4gTWF0aC5oeXBvdChhWzBdLCBhWzFdLCBhWzJdLCBhWzNdLCBhWzRdLCBhWzVdLCBhWzZdLCBhWzddLCBhWzhdKTtcclxufVxyXG4vKipcclxuICogQWRkcyB0d28gbWF0MydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcclxuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcclxuICBvdXRbM10gPSBhWzNdICsgYlszXTtcclxuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcclxuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcclxuICBvdXRbNl0gPSBhWzZdICsgYls2XTtcclxuICBvdXRbN10gPSBhWzddICsgYls3XTtcclxuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTdWJ0cmFjdHMgbWF0cml4IGIgZnJvbSBtYXRyaXggYVxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcclxuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcclxuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcclxuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcclxuICBvdXRbNV0gPSBhWzVdIC0gYls1XTtcclxuICBvdXRbNl0gPSBhWzZdIC0gYls2XTtcclxuICBvdXRbN10gPSBhWzddIC0gYls3XTtcclxuICBvdXRbOF0gPSBhWzhdIC0gYls4XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNdWx0aXBseSBlYWNoIGVsZW1lbnQgb2YgdGhlIG1hdHJpeCBieSBhIHNjYWxhci5cclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGJ5XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAqIGI7XHJcbiAgb3V0WzFdID0gYVsxXSAqIGI7XHJcbiAgb3V0WzJdID0gYVsyXSAqIGI7XHJcbiAgb3V0WzNdID0gYVszXSAqIGI7XHJcbiAgb3V0WzRdID0gYVs0XSAqIGI7XHJcbiAgb3V0WzVdID0gYVs1XSAqIGI7XHJcbiAgb3V0WzZdID0gYVs2XSAqIGI7XHJcbiAgb3V0WzddID0gYVs3XSAqIGI7XHJcbiAgb3V0WzhdID0gYVs4XSAqIGI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWRkcyB0d28gbWF0MydzIGFmdGVyIG11bHRpcGx5aW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcclxuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xyXG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XHJcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcclxuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xyXG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XHJcbiAgb3V0WzVdID0gYVs1XSArIGJbNV0gKiBzY2FsZTtcclxuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xyXG4gIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XHJcbiAgb3V0WzhdID0gYVs4XSArIGJbOF0gKiBzY2FsZTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcclxuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXSAmJiBhWzRdID09PSBiWzRdICYmIGFbNV0gPT09IGJbNV0gJiYgYVs2XSA9PT0gYls2XSAmJiBhWzddID09PSBiWzddICYmIGFbOF0gPT09IGJbOF07XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgVGhlIHNlY29uZCBtYXRyaXguXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcclxuICB2YXIgYTAgPSBhWzBdLFxyXG4gICAgICBhMSA9IGFbMV0sXHJcbiAgICAgIGEyID0gYVsyXSxcclxuICAgICAgYTMgPSBhWzNdLFxyXG4gICAgICBhNCA9IGFbNF0sXHJcbiAgICAgIGE1ID0gYVs1XSxcclxuICAgICAgYTYgPSBhWzZdLFxyXG4gICAgICBhNyA9IGFbN10sXHJcbiAgICAgIGE4ID0gYVs4XTtcclxuICB2YXIgYjAgPSBiWzBdLFxyXG4gICAgICBiMSA9IGJbMV0sXHJcbiAgICAgIGIyID0gYlsyXSxcclxuICAgICAgYjMgPSBiWzNdLFxyXG4gICAgICBiNCA9IGJbNF0sXHJcbiAgICAgIGI1ID0gYls1XSxcclxuICAgICAgYjYgPSBiWzZdLFxyXG4gICAgICBiNyA9IGJbN10sXHJcbiAgICAgIGI4ID0gYls4XTtcclxuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKSAmJiBNYXRoLmFicyhhOCAtIGI4KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOCksIE1hdGguYWJzKGI4KSk7XHJcbn1cclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0My5tdWx0aXBseX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0My5zdWJ0cmFjdH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCAiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XHJcbi8qKlxyXG4gKiA0eDQgTWF0cml4PGJyPkZvcm1hdDogY29sdW1uLW1ham9yLCB3aGVuIHR5cGVkIG91dCBpdCBsb29rcyBsaWtlIHJvdy1tYWpvcjxicj5UaGUgbWF0cmljZXMgYXJlIGJlaW5nIHBvc3QgbXVsdGlwbGllZC5cclxuICogQG1vZHVsZSBtYXQ0XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgbWF0NFxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bWF0NH0gYSBuZXcgNHg0IG1hdHJpeFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcclxuXHJcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XHJcbiAgICBvdXRbMV0gPSAwO1xyXG4gICAgb3V0WzJdID0gMDtcclxuICAgIG91dFszXSA9IDA7XHJcbiAgICBvdXRbNF0gPSAwO1xyXG4gICAgb3V0WzZdID0gMDtcclxuICAgIG91dFs3XSA9IDA7XHJcbiAgICBvdXRbOF0gPSAwO1xyXG4gICAgb3V0WzldID0gMDtcclxuICAgIG91dFsxMV0gPSAwO1xyXG4gICAgb3V0WzEyXSA9IDA7XHJcbiAgICBvdXRbMTNdID0gMDtcclxuICAgIG91dFsxNF0gPSAwO1xyXG4gIH1cclxuXHJcbiAgb3V0WzBdID0gMTtcclxuICBvdXRbNV0gPSAxO1xyXG4gIG91dFsxMF0gPSAxO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gY2xvbmVcclxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICBvdXRbNF0gPSBhWzRdO1xyXG4gIG91dFs1XSA9IGFbNV07XHJcbiAgb3V0WzZdID0gYVs2XTtcclxuICBvdXRbN10gPSBhWzddO1xyXG4gIG91dFs4XSA9IGFbOF07XHJcbiAgb3V0WzldID0gYVs5XTtcclxuICBvdXRbMTBdID0gYVsxMF07XHJcbiAgb3V0WzExXSA9IGFbMTFdO1xyXG4gIG91dFsxMl0gPSBhWzEyXTtcclxuICBvdXRbMTNdID0gYVsxM107XHJcbiAgb3V0WzE0XSA9IGFbMTRdO1xyXG4gIG91dFsxNV0gPSBhWzE1XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0NCB0byBhbm90aGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIG91dFs0XSA9IGFbNF07XHJcbiAgb3V0WzVdID0gYVs1XTtcclxuICBvdXRbNl0gPSBhWzZdO1xyXG4gIG91dFs3XSA9IGFbN107XHJcbiAgb3V0WzhdID0gYVs4XTtcclxuICBvdXRbOV0gPSBhWzldO1xyXG4gIG91dFsxMF0gPSBhWzEwXTtcclxuICBvdXRbMTFdID0gYVsxMV07XHJcbiAgb3V0WzEyXSA9IGFbMTJdO1xyXG4gIG91dFsxM10gPSBhWzEzXTtcclxuICBvdXRbMTRdID0gYVsxNF07XHJcbiAgb3V0WzE1XSA9IGFbMTVdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZSBhIG5ldyBtYXQ0IHdpdGggdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAzIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDMgcG9zaXRpb24gKGluZGV4IDMpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA1KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDYpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA4KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDkpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjMgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzAgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMTIpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzIgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzMgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTUpXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBBIG5ldyBtYXQ0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcclxuICBvdXRbMF0gPSBtMDA7XHJcbiAgb3V0WzFdID0gbTAxO1xyXG4gIG91dFsyXSA9IG0wMjtcclxuICBvdXRbM10gPSBtMDM7XHJcbiAgb3V0WzRdID0gbTEwO1xyXG4gIG91dFs1XSA9IG0xMTtcclxuICBvdXRbNl0gPSBtMTI7XHJcbiAgb3V0WzddID0gbTEzO1xyXG4gIG91dFs4XSA9IG0yMDtcclxuICBvdXRbOV0gPSBtMjE7XHJcbiAgb3V0WzEwXSA9IG0yMjtcclxuICBvdXRbMTFdID0gbTIzO1xyXG4gIG91dFsxMl0gPSBtMzA7XHJcbiAgb3V0WzEzXSA9IG0zMTtcclxuICBvdXRbMTRdID0gbTMyO1xyXG4gIG91dFsxNV0gPSBtMzM7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0NCB0byB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDUpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDgpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMyBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxMSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMiBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxNClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcclxuICBvdXRbMF0gPSBtMDA7XHJcbiAgb3V0WzFdID0gbTAxO1xyXG4gIG91dFsyXSA9IG0wMjtcclxuICBvdXRbM10gPSBtMDM7XHJcbiAgb3V0WzRdID0gbTEwO1xyXG4gIG91dFs1XSA9IG0xMTtcclxuICBvdXRbNl0gPSBtMTI7XHJcbiAgb3V0WzddID0gbTEzO1xyXG4gIG91dFs4XSA9IG0yMDtcclxuICBvdXRbOV0gPSBtMjE7XHJcbiAgb3V0WzEwXSA9IG0yMjtcclxuICBvdXRbMTFdID0gbTIzO1xyXG4gIG91dFsxMl0gPSBtMzA7XHJcbiAgb3V0WzEzXSA9IG0zMTtcclxuICBvdXRbMTRdID0gbTMyO1xyXG4gIG91dFsxNV0gPSBtMzM7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IGEgbWF0NCB0byB0aGUgaWRlbnRpdHkgbWF0cml4XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XHJcbiAgb3V0WzBdID0gMTtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IDE7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTBdID0gMTtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTRdID0gMDtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBUcmFuc3Bvc2UgdGhlIHZhbHVlcyBvZiBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XHJcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xyXG4gIGlmIChvdXQgPT09IGEpIHtcclxuICAgIHZhciBhMDEgPSBhWzFdLFxyXG4gICAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgICAgYTAzID0gYVszXTtcclxuICAgIHZhciBhMTIgPSBhWzZdLFxyXG4gICAgICAgIGExMyA9IGFbN107XHJcbiAgICB2YXIgYTIzID0gYVsxMV07XHJcbiAgICBvdXRbMV0gPSBhWzRdO1xyXG4gICAgb3V0WzJdID0gYVs4XTtcclxuICAgIG91dFszXSA9IGFbMTJdO1xyXG4gICAgb3V0WzRdID0gYTAxO1xyXG4gICAgb3V0WzZdID0gYVs5XTtcclxuICAgIG91dFs3XSA9IGFbMTNdO1xyXG4gICAgb3V0WzhdID0gYTAyO1xyXG4gICAgb3V0WzldID0gYTEyO1xyXG4gICAgb3V0WzExXSA9IGFbMTRdO1xyXG4gICAgb3V0WzEyXSA9IGEwMztcclxuICAgIG91dFsxM10gPSBhMTM7XHJcbiAgICBvdXRbMTRdID0gYTIzO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBvdXRbMF0gPSBhWzBdO1xyXG4gICAgb3V0WzFdID0gYVs0XTtcclxuICAgIG91dFsyXSA9IGFbOF07XHJcbiAgICBvdXRbM10gPSBhWzEyXTtcclxuICAgIG91dFs0XSA9IGFbMV07XHJcbiAgICBvdXRbNV0gPSBhWzVdO1xyXG4gICAgb3V0WzZdID0gYVs5XTtcclxuICAgIG91dFs3XSA9IGFbMTNdO1xyXG4gICAgb3V0WzhdID0gYVsyXTtcclxuICAgIG91dFs5XSA9IGFbNl07XHJcbiAgICBvdXRbMTBdID0gYVsxMF07XHJcbiAgICBvdXRbMTFdID0gYVsxNF07XHJcbiAgICBvdXRbMTJdID0gYVszXTtcclxuICAgIG91dFsxM10gPSBhWzddO1xyXG4gICAgb3V0WzE0XSA9IGFbMTFdO1xyXG4gICAgb3V0WzE1XSA9IGFbMTVdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogSW52ZXJ0cyBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgIGEwMyA9IGFbM107XHJcbiAgdmFyIGExMCA9IGFbNF0sXHJcbiAgICAgIGExMSA9IGFbNV0sXHJcbiAgICAgIGExMiA9IGFbNl0sXHJcbiAgICAgIGExMyA9IGFbN107XHJcbiAgdmFyIGEyMCA9IGFbOF0sXHJcbiAgICAgIGEyMSA9IGFbOV0sXHJcbiAgICAgIGEyMiA9IGFbMTBdLFxyXG4gICAgICBhMjMgPSBhWzExXTtcclxuICB2YXIgYTMwID0gYVsxMl0sXHJcbiAgICAgIGEzMSA9IGFbMTNdLFxyXG4gICAgICBhMzIgPSBhWzE0XSxcclxuICAgICAgYTMzID0gYVsxNV07XHJcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcclxuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xyXG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XHJcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcclxuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xyXG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XHJcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcclxuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xyXG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XHJcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcclxuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xyXG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcclxuXHJcbiAgdmFyIGRldCA9IGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcclxuXHJcbiAgaWYgKCFkZXQpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgZGV0ID0gMS4wIC8gZGV0O1xyXG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xyXG4gIG91dFsxXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xyXG4gIG91dFsyXSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xyXG4gIG91dFszXSA9IChhMjIgKiBiMDQgLSBhMjEgKiBiMDUgLSBhMjMgKiBiMDMpICogZGV0O1xyXG4gIG91dFs0XSA9IChhMTIgKiBiMDggLSBhMTAgKiBiMTEgLSBhMTMgKiBiMDcpICogZGV0O1xyXG4gIG91dFs1XSA9IChhMDAgKiBiMTEgLSBhMDIgKiBiMDggKyBhMDMgKiBiMDcpICogZGV0O1xyXG4gIG91dFs2XSA9IChhMzIgKiBiMDIgLSBhMzAgKiBiMDUgLSBhMzMgKiBiMDEpICogZGV0O1xyXG4gIG91dFs3XSA9IChhMjAgKiBiMDUgLSBhMjIgKiBiMDIgKyBhMjMgKiBiMDEpICogZGV0O1xyXG4gIG91dFs4XSA9IChhMTAgKiBiMTAgLSBhMTEgKiBiMDggKyBhMTMgKiBiMDYpICogZGV0O1xyXG4gIG91dFs5XSA9IChhMDEgKiBiMDggLSBhMDAgKiBiMTAgLSBhMDMgKiBiMDYpICogZGV0O1xyXG4gIG91dFsxMF0gPSAoYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwKSAqIGRldDtcclxuICBvdXRbMTFdID0gKGEyMSAqIGIwMiAtIGEyMCAqIGIwNCAtIGEyMyAqIGIwMCkgKiBkZXQ7XHJcbiAgb3V0WzEyXSA9IChhMTEgKiBiMDcgLSBhMTAgKiBiMDkgLSBhMTIgKiBiMDYpICogZGV0O1xyXG4gIG91dFsxM10gPSAoYTAwICogYjA5IC0gYTAxICogYjA3ICsgYTAyICogYjA2KSAqIGRldDtcclxuICBvdXRbMTRdID0gKGEzMSAqIGIwMSAtIGEzMCAqIGIwMyAtIGEzMiAqIGIwMCkgKiBkZXQ7XHJcbiAgb3V0WzE1XSA9IChhMjAgKiBiMDMgLSBhMjEgKiBiMDEgKyBhMjIgKiBiMDApICogZGV0O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGFkanVnYXRlIG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgIGEwMyA9IGFbM107XHJcbiAgdmFyIGExMCA9IGFbNF0sXHJcbiAgICAgIGExMSA9IGFbNV0sXHJcbiAgICAgIGExMiA9IGFbNl0sXHJcbiAgICAgIGExMyA9IGFbN107XHJcbiAgdmFyIGEyMCA9IGFbOF0sXHJcbiAgICAgIGEyMSA9IGFbOV0sXHJcbiAgICAgIGEyMiA9IGFbMTBdLFxyXG4gICAgICBhMjMgPSBhWzExXTtcclxuICB2YXIgYTMwID0gYVsxMl0sXHJcbiAgICAgIGEzMSA9IGFbMTNdLFxyXG4gICAgICBhMzIgPSBhWzE0XSxcclxuICAgICAgYTMzID0gYVsxNV07XHJcbiAgb3V0WzBdID0gYTExICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpO1xyXG4gIG91dFsxXSA9IC0oYTAxICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpKTtcclxuICBvdXRbMl0gPSBhMDEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMSAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XHJcbiAgb3V0WzNdID0gLShhMDEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xyXG4gIG91dFs0XSA9IC0oYTEwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpKTtcclxuICBvdXRbNV0gPSBhMDAgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMik7XHJcbiAgb3V0WzZdID0gLShhMDAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xyXG4gIG91dFs3XSA9IGEwMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTEwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcclxuICBvdXRbOF0gPSBhMTAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzMgLSBhMTMgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSk7XHJcbiAgb3V0WzldID0gLShhMDAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkpO1xyXG4gIG91dFsxMF0gPSBhMDAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSk7XHJcbiAgb3V0WzExXSA9IC0oYTAwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpKTtcclxuICBvdXRbMTJdID0gLShhMTAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkpO1xyXG4gIG91dFsxM10gPSBhMDAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSk7XHJcbiAgb3V0WzE0XSA9IC0oYTAwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpKTtcclxuICBvdXRbMTVdID0gYTAwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KGEpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXSxcclxuICAgICAgYTAzID0gYVszXTtcclxuICB2YXIgYTEwID0gYVs0XSxcclxuICAgICAgYTExID0gYVs1XSxcclxuICAgICAgYTEyID0gYVs2XSxcclxuICAgICAgYTEzID0gYVs3XTtcclxuICB2YXIgYTIwID0gYVs4XSxcclxuICAgICAgYTIxID0gYVs5XSxcclxuICAgICAgYTIyID0gYVsxMF0sXHJcbiAgICAgIGEyMyA9IGFbMTFdO1xyXG4gIHZhciBhMzAgPSBhWzEyXSxcclxuICAgICAgYTMxID0gYVsxM10sXHJcbiAgICAgIGEzMiA9IGFbMTRdLFxyXG4gICAgICBhMzMgPSBhWzE1XTtcclxuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xyXG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XHJcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcclxuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xyXG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XHJcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcclxuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xyXG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XHJcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcclxuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xyXG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XHJcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxyXG5cclxuICByZXR1cm4gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xyXG59XHJcbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQ0c1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXSxcclxuICAgICAgYTAzID0gYVszXTtcclxuICB2YXIgYTEwID0gYVs0XSxcclxuICAgICAgYTExID0gYVs1XSxcclxuICAgICAgYTEyID0gYVs2XSxcclxuICAgICAgYTEzID0gYVs3XTtcclxuICB2YXIgYTIwID0gYVs4XSxcclxuICAgICAgYTIxID0gYVs5XSxcclxuICAgICAgYTIyID0gYVsxMF0sXHJcbiAgICAgIGEyMyA9IGFbMTFdO1xyXG4gIHZhciBhMzAgPSBhWzEyXSxcclxuICAgICAgYTMxID0gYVsxM10sXHJcbiAgICAgIGEzMiA9IGFbMTRdLFxyXG4gICAgICBhMzMgPSBhWzE1XTsgLy8gQ2FjaGUgb25seSB0aGUgY3VycmVudCBsaW5lIG9mIHRoZSBzZWNvbmQgbWF0cml4XHJcblxyXG4gIHZhciBiMCA9IGJbMF0sXHJcbiAgICAgIGIxID0gYlsxXSxcclxuICAgICAgYjIgPSBiWzJdLFxyXG4gICAgICBiMyA9IGJbM107XHJcbiAgb3V0WzBdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XHJcbiAgb3V0WzFdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XHJcbiAgb3V0WzJdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XHJcbiAgb3V0WzNdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XHJcbiAgYjAgPSBiWzRdO1xyXG4gIGIxID0gYls1XTtcclxuICBiMiA9IGJbNl07XHJcbiAgYjMgPSBiWzddO1xyXG4gIG91dFs0XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xyXG4gIG91dFs1XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xyXG4gIG91dFs2XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xyXG4gIG91dFs3XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xyXG4gIGIwID0gYls4XTtcclxuICBiMSA9IGJbOV07XHJcbiAgYjIgPSBiWzEwXTtcclxuICBiMyA9IGJbMTFdO1xyXG4gIG91dFs4XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xyXG4gIG91dFs5XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xyXG4gIG91dFsxMF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcclxuICBvdXRbMTFdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XHJcbiAgYjAgPSBiWzEyXTtcclxuICBiMSA9IGJbMTNdO1xyXG4gIGIyID0gYlsxNF07XHJcbiAgYjMgPSBiWzE1XTtcclxuICBvdXRbMTJdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XHJcbiAgb3V0WzEzXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xyXG4gIG91dFsxNF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcclxuICBvdXRbMTVdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNsYXRlIGEgbWF0NCBieSB0aGUgZ2l2ZW4gdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gdHJhbnNsYXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUob3V0LCBhLCB2KSB7XHJcbiAgdmFyIHggPSB2WzBdLFxyXG4gICAgICB5ID0gdlsxXSxcclxuICAgICAgeiA9IHZbMl07XHJcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcclxuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xyXG4gIHZhciBhMjAsIGEyMSwgYTIyLCBhMjM7XHJcblxyXG4gIGlmIChhID09PSBvdXQpIHtcclxuICAgIG91dFsxMl0gPSBhWzBdICogeCArIGFbNF0gKiB5ICsgYVs4XSAqIHogKyBhWzEyXTtcclxuICAgIG91dFsxM10gPSBhWzFdICogeCArIGFbNV0gKiB5ICsgYVs5XSAqIHogKyBhWzEzXTtcclxuICAgIG91dFsxNF0gPSBhWzJdICogeCArIGFbNl0gKiB5ICsgYVsxMF0gKiB6ICsgYVsxNF07XHJcbiAgICBvdXRbMTVdID0gYVszXSAqIHggKyBhWzddICogeSArIGFbMTFdICogeiArIGFbMTVdO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhMDAgPSBhWzBdO1xyXG4gICAgYTAxID0gYVsxXTtcclxuICAgIGEwMiA9IGFbMl07XHJcbiAgICBhMDMgPSBhWzNdO1xyXG4gICAgYTEwID0gYVs0XTtcclxuICAgIGExMSA9IGFbNV07XHJcbiAgICBhMTIgPSBhWzZdO1xyXG4gICAgYTEzID0gYVs3XTtcclxuICAgIGEyMCA9IGFbOF07XHJcbiAgICBhMjEgPSBhWzldO1xyXG4gICAgYTIyID0gYVsxMF07XHJcbiAgICBhMjMgPSBhWzExXTtcclxuICAgIG91dFswXSA9IGEwMDtcclxuICAgIG91dFsxXSA9IGEwMTtcclxuICAgIG91dFsyXSA9IGEwMjtcclxuICAgIG91dFszXSA9IGEwMztcclxuICAgIG91dFs0XSA9IGExMDtcclxuICAgIG91dFs1XSA9IGExMTtcclxuICAgIG91dFs2XSA9IGExMjtcclxuICAgIG91dFs3XSA9IGExMztcclxuICAgIG91dFs4XSA9IGEyMDtcclxuICAgIG91dFs5XSA9IGEyMTtcclxuICAgIG91dFsxMF0gPSBhMjI7XHJcbiAgICBvdXRbMTFdID0gYTIzO1xyXG4gICAgb3V0WzEyXSA9IGEwMCAqIHggKyBhMTAgKiB5ICsgYTIwICogeiArIGFbMTJdO1xyXG4gICAgb3V0WzEzXSA9IGEwMSAqIHggKyBhMTEgKiB5ICsgYTIxICogeiArIGFbMTNdO1xyXG4gICAgb3V0WzE0XSA9IGEwMiAqIHggKyBhMTIgKiB5ICsgYTIyICogeiArIGFbMTRdO1xyXG4gICAgb3V0WzE1XSA9IGEwMyAqIHggKyBhMTMgKiB5ICsgYTIzICogeiArIGFbMTVdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2NhbGVzIHRoZSBtYXQ0IGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMzIG5vdCB1c2luZyB2ZWN0b3JpemF0aW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdGhlIHZlYzMgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcclxuICB2YXIgeCA9IHZbMF0sXHJcbiAgICAgIHkgPSB2WzFdLFxyXG4gICAgICB6ID0gdlsyXTtcclxuICBvdXRbMF0gPSBhWzBdICogeDtcclxuICBvdXRbMV0gPSBhWzFdICogeDtcclxuICBvdXRbMl0gPSBhWzJdICogeDtcclxuICBvdXRbM10gPSBhWzNdICogeDtcclxuICBvdXRbNF0gPSBhWzRdICogeTtcclxuICBvdXRbNV0gPSBhWzVdICogeTtcclxuICBvdXRbNl0gPSBhWzZdICogeTtcclxuICBvdXRbN10gPSBhWzddICogeTtcclxuICBvdXRbOF0gPSBhWzhdICogejtcclxuICBvdXRbOV0gPSBhWzldICogejtcclxuICBvdXRbMTBdID0gYVsxMF0gKiB6O1xyXG4gIG91dFsxMV0gPSBhWzExXSAqIHo7XHJcbiAgb3V0WzEyXSA9IGFbMTJdO1xyXG4gIG91dFsxM10gPSBhWzEzXTtcclxuICBvdXRbMTRdID0gYVsxNF07XHJcbiAgb3V0WzE1XSA9IGFbMTVdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBtYXQ0IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIGdpdmVuIGF4aXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCwgYXhpcykge1xyXG4gIHZhciB4ID0gYXhpc1swXSxcclxuICAgICAgeSA9IGF4aXNbMV0sXHJcbiAgICAgIHogPSBheGlzWzJdO1xyXG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xyXG4gIHZhciBzLCBjLCB0O1xyXG4gIHZhciBhMDAsIGEwMSwgYTAyLCBhMDM7XHJcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcclxuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xyXG4gIHZhciBiMDAsIGIwMSwgYjAyO1xyXG4gIHZhciBiMTAsIGIxMSwgYjEyO1xyXG4gIHZhciBiMjAsIGIyMSwgYjIyO1xyXG5cclxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBsZW4gPSAxIC8gbGVuO1xyXG4gIHggKj0gbGVuO1xyXG4gIHkgKj0gbGVuO1xyXG4gIHogKj0gbGVuO1xyXG4gIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIHQgPSAxIC0gYztcclxuICBhMDAgPSBhWzBdO1xyXG4gIGEwMSA9IGFbMV07XHJcbiAgYTAyID0gYVsyXTtcclxuICBhMDMgPSBhWzNdO1xyXG4gIGExMCA9IGFbNF07XHJcbiAgYTExID0gYVs1XTtcclxuICBhMTIgPSBhWzZdO1xyXG4gIGExMyA9IGFbN107XHJcbiAgYTIwID0gYVs4XTtcclxuICBhMjEgPSBhWzldO1xyXG4gIGEyMiA9IGFbMTBdO1xyXG4gIGEyMyA9IGFbMTFdOyAvLyBDb25zdHJ1Y3QgdGhlIGVsZW1lbnRzIG9mIHRoZSByb3RhdGlvbiBtYXRyaXhcclxuXHJcbiAgYjAwID0geCAqIHggKiB0ICsgYztcclxuICBiMDEgPSB5ICogeCAqIHQgKyB6ICogcztcclxuICBiMDIgPSB6ICogeCAqIHQgLSB5ICogcztcclxuICBiMTAgPSB4ICogeSAqIHQgLSB6ICogcztcclxuICBiMTEgPSB5ICogeSAqIHQgKyBjO1xyXG4gIGIxMiA9IHogKiB5ICogdCArIHggKiBzO1xyXG4gIGIyMCA9IHggKiB6ICogdCArIHkgKiBzO1xyXG4gIGIyMSA9IHkgKiB6ICogdCAtIHggKiBzO1xyXG4gIGIyMiA9IHogKiB6ICogdCArIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXHJcblxyXG4gIG91dFswXSA9IGEwMCAqIGIwMCArIGExMCAqIGIwMSArIGEyMCAqIGIwMjtcclxuICBvdXRbMV0gPSBhMDEgKiBiMDAgKyBhMTEgKiBiMDEgKyBhMjEgKiBiMDI7XHJcbiAgb3V0WzJdID0gYTAyICogYjAwICsgYTEyICogYjAxICsgYTIyICogYjAyO1xyXG4gIG91dFszXSA9IGEwMyAqIGIwMCArIGExMyAqIGIwMSArIGEyMyAqIGIwMjtcclxuICBvdXRbNF0gPSBhMDAgKiBiMTAgKyBhMTAgKiBiMTEgKyBhMjAgKiBiMTI7XHJcbiAgb3V0WzVdID0gYTAxICogYjEwICsgYTExICogYjExICsgYTIxICogYjEyO1xyXG4gIG91dFs2XSA9IGEwMiAqIGIxMCArIGExMiAqIGIxMSArIGEyMiAqIGIxMjtcclxuICBvdXRbN10gPSBhMDMgKiBiMTAgKyBhMTMgKiBiMTEgKyBhMjMgKiBiMTI7XHJcbiAgb3V0WzhdID0gYTAwICogYjIwICsgYTEwICogYjIxICsgYTIwICogYjIyO1xyXG4gIG91dFs5XSA9IGEwMSAqIGIyMCArIGExMSAqIGIyMSArIGEyMSAqIGIyMjtcclxuICBvdXRbMTBdID0gYTAyICogYjIwICsgYTEyICogYjIxICsgYTIyICogYjIyO1xyXG4gIG91dFsxMV0gPSBhMDMgKiBiMjAgKyBhMTMgKiBiMjEgKyBhMjMgKiBiMjI7XHJcblxyXG4gIGlmIChhICE9PSBvdXQpIHtcclxuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XHJcbiAgICBvdXRbMTJdID0gYVsxMl07XHJcbiAgICBvdXRbMTNdID0gYVsxM107XHJcbiAgICBvdXRbMTRdID0gYVsxNF07XHJcbiAgICBvdXRbMTVdID0gYVsxNV07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XHJcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIHZhciBhMTAgPSBhWzRdO1xyXG4gIHZhciBhMTEgPSBhWzVdO1xyXG4gIHZhciBhMTIgPSBhWzZdO1xyXG4gIHZhciBhMTMgPSBhWzddO1xyXG4gIHZhciBhMjAgPSBhWzhdO1xyXG4gIHZhciBhMjEgPSBhWzldO1xyXG4gIHZhciBhMjIgPSBhWzEwXTtcclxuICB2YXIgYTIzID0gYVsxMV07XHJcblxyXG4gIGlmIChhICE9PSBvdXQpIHtcclxuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcclxuICAgIG91dFswXSA9IGFbMF07XHJcbiAgICBvdXRbMV0gPSBhWzFdO1xyXG4gICAgb3V0WzJdID0gYVsyXTtcclxuICAgIG91dFszXSA9IGFbM107XHJcbiAgICBvdXRbMTJdID0gYVsxMl07XHJcbiAgICBvdXRbMTNdID0gYVsxM107XHJcbiAgICBvdXRbMTRdID0gYVsxNF07XHJcbiAgICBvdXRbMTVdID0gYVsxNV07XHJcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXHJcblxyXG5cclxuICBvdXRbNF0gPSBhMTAgKiBjICsgYTIwICogcztcclxuICBvdXRbNV0gPSBhMTEgKiBjICsgYTIxICogcztcclxuICBvdXRbNl0gPSBhMTIgKiBjICsgYTIyICogcztcclxuICBvdXRbN10gPSBhMTMgKiBjICsgYTIzICogcztcclxuICBvdXRbOF0gPSBhMjAgKiBjIC0gYTEwICogcztcclxuICBvdXRbOV0gPSBhMjEgKiBjIC0gYTExICogcztcclxuICBvdXRbMTBdID0gYTIyICogYyAtIGExMiAqIHM7XHJcbiAgb3V0WzExXSA9IGEyMyAqIGMgLSBhMTMgKiBzO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xyXG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcclxuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XHJcbiAgdmFyIGEwMCA9IGFbMF07XHJcbiAgdmFyIGEwMSA9IGFbMV07XHJcbiAgdmFyIGEwMiA9IGFbMl07XHJcbiAgdmFyIGEwMyA9IGFbM107XHJcbiAgdmFyIGEyMCA9IGFbOF07XHJcbiAgdmFyIGEyMSA9IGFbOV07XHJcbiAgdmFyIGEyMiA9IGFbMTBdO1xyXG4gIHZhciBhMjMgPSBhWzExXTtcclxuXHJcbiAgaWYgKGEgIT09IG91dCkge1xyXG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgcm93c1xyXG4gICAgb3V0WzRdID0gYVs0XTtcclxuICAgIG91dFs1XSA9IGFbNV07XHJcbiAgICBvdXRbNl0gPSBhWzZdO1xyXG4gICAgb3V0WzddID0gYVs3XTtcclxuICAgIG91dFsxMl0gPSBhWzEyXTtcclxuICAgIG91dFsxM10gPSBhWzEzXTtcclxuICAgIG91dFsxNF0gPSBhWzE0XTtcclxuICAgIG91dFsxNV0gPSBhWzE1XTtcclxuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cclxuXHJcblxyXG4gIG91dFswXSA9IGEwMCAqIGMgLSBhMjAgKiBzO1xyXG4gIG91dFsxXSA9IGEwMSAqIGMgLSBhMjEgKiBzO1xyXG4gIG91dFsyXSA9IGEwMiAqIGMgLSBhMjIgKiBzO1xyXG4gIG91dFszXSA9IGEwMyAqIGMgLSBhMjMgKiBzO1xyXG4gIG91dFs4XSA9IGEwMCAqIHMgKyBhMjAgKiBjO1xyXG4gIG91dFs5XSA9IGEwMSAqIHMgKyBhMjEgKiBjO1xyXG4gIG91dFsxMF0gPSBhMDIgKiBzICsgYTIyICogYztcclxuICBvdXRbMTFdID0gYTAzICogcyArIGEyMyAqIGM7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcclxuICB2YXIgYTAwID0gYVswXTtcclxuICB2YXIgYTAxID0gYVsxXTtcclxuICB2YXIgYTAyID0gYVsyXTtcclxuICB2YXIgYTAzID0gYVszXTtcclxuICB2YXIgYTEwID0gYVs0XTtcclxuICB2YXIgYTExID0gYVs1XTtcclxuICB2YXIgYTEyID0gYVs2XTtcclxuICB2YXIgYTEzID0gYVs3XTtcclxuXHJcbiAgaWYgKGEgIT09IG91dCkge1xyXG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgbGFzdCByb3dcclxuICAgIG91dFs4XSA9IGFbOF07XHJcbiAgICBvdXRbOV0gPSBhWzldO1xyXG4gICAgb3V0WzEwXSA9IGFbMTBdO1xyXG4gICAgb3V0WzExXSA9IGFbMTFdO1xyXG4gICAgb3V0WzEyXSA9IGFbMTJdO1xyXG4gICAgb3V0WzEzXSA9IGFbMTNdO1xyXG4gICAgb3V0WzE0XSA9IGFbMTRdO1xyXG4gICAgb3V0WzE1XSA9IGFbMTVdO1xyXG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxyXG5cclxuXHJcbiAgb3V0WzBdID0gYTAwICogYyArIGExMCAqIHM7XHJcbiAgb3V0WzFdID0gYTAxICogYyArIGExMSAqIHM7XHJcbiAgb3V0WzJdID0gYTAyICogYyArIGExMiAqIHM7XHJcbiAgb3V0WzNdID0gYTAzICogYyArIGExMyAqIHM7XHJcbiAgb3V0WzRdID0gYTEwICogYyAtIGEwMCAqIHM7XHJcbiAgb3V0WzVdID0gYTExICogYyAtIGEwMSAqIHM7XHJcbiAgb3V0WzZdID0gYTEyICogYyAtIGEwMiAqIHM7XHJcbiAgb3V0WzddID0gYTEzICogYyAtIGEwMyAqIHM7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xyXG4gIG91dFswXSA9IDE7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSAxO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAwO1xyXG4gIG91dFs5XSA9IDA7XHJcbiAgb3V0WzEwXSA9IDE7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IHZbMF07XHJcbiAgb3V0WzEzXSA9IHZbMV07XHJcbiAgb3V0WzE0XSA9IHZbMl07XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFNjYWxpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XHJcbiAgb3V0WzBdID0gdlswXTtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IHZbMV07XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTBdID0gdlsyXTtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTRdID0gMDtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZSBhcm91bmQgYSBnaXZlbiBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlKGRlc3QsIGRlc3QsIHJhZCwgYXhpcyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHJhZCwgYXhpcykge1xyXG4gIHZhciB4ID0gYXhpc1swXSxcclxuICAgICAgeSA9IGF4aXNbMV0sXHJcbiAgICAgIHogPSBheGlzWzJdO1xyXG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xyXG4gIHZhciBzLCBjLCB0O1xyXG5cclxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBsZW4gPSAxIC8gbGVuO1xyXG4gIHggKj0gbGVuO1xyXG4gIHkgKj0gbGVuO1xyXG4gIHogKj0gbGVuO1xyXG4gIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIHQgPSAxIC0gYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cclxuXHJcbiAgb3V0WzBdID0geCAqIHggKiB0ICsgYztcclxuICBvdXRbMV0gPSB5ICogeCAqIHQgKyB6ICogcztcclxuICBvdXRbMl0gPSB6ICogeCAqIHQgLSB5ICogcztcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IHggKiB5ICogdCAtIHogKiBzO1xyXG4gIG91dFs1XSA9IHkgKiB5ICogdCArIGM7XHJcbiAgb3V0WzZdID0geiAqIHkgKiB0ICsgeCAqIHM7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSB4ICogeiAqIHQgKyB5ICogcztcclxuICBvdXRbOV0gPSB5ICogeiAqIHQgLSB4ICogcztcclxuICBvdXRbMTBdID0geiAqIHogKiB0ICsgYztcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTRdID0gMDtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWCBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlWChkZXN0LCBkZXN0LCByYWQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVhSb3RhdGlvbihvdXQsIHJhZCkge1xyXG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcclxuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cclxuXHJcbiAgb3V0WzBdID0gMTtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IGM7XHJcbiAgb3V0WzZdID0gcztcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gLXM7XHJcbiAgb3V0WzEwXSA9IGM7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IDA7XHJcbiAgb3V0WzEzXSA9IDA7XHJcbiAgb3V0WzE0XSA9IDA7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnJvdGF0ZVkoZGVzdCwgZGVzdCwgcmFkKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21ZUm90YXRpb24ob3V0LCByYWQpIHtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XHJcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXHJcblxyXG4gIG91dFswXSA9IGM7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAtcztcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gMTtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gcztcclxuICBvdXRbOV0gPSAwO1xyXG4gIG91dFsxMF0gPSBjO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNF0gPSAwO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5yb3RhdGVaKGRlc3QsIGRlc3QsIHJhZCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tWlJvdGF0aW9uKG91dCwgcmFkKSB7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxyXG5cclxuICBvdXRbMF0gPSBjO1xyXG4gIG91dFsxXSA9IHM7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IC1zO1xyXG4gIG91dFs1XSA9IGM7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTBdID0gMTtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTRdID0gMDtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uIGFuZCB2ZWN0b3IgdHJhbnNsYXRpb25cclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgcSwgdikge1xyXG4gIC8vIFF1YXRlcm5pb24gbWF0aFxyXG4gIHZhciB4ID0gcVswXSxcclxuICAgICAgeSA9IHFbMV0sXHJcbiAgICAgIHogPSBxWzJdLFxyXG4gICAgICB3ID0gcVszXTtcclxuICB2YXIgeDIgPSB4ICsgeDtcclxuICB2YXIgeTIgPSB5ICsgeTtcclxuICB2YXIgejIgPSB6ICsgejtcclxuICB2YXIgeHggPSB4ICogeDI7XHJcbiAgdmFyIHh5ID0geCAqIHkyO1xyXG4gIHZhciB4eiA9IHggKiB6MjtcclxuICB2YXIgeXkgPSB5ICogeTI7XHJcbiAgdmFyIHl6ID0geSAqIHoyO1xyXG4gIHZhciB6eiA9IHogKiB6MjtcclxuICB2YXIgd3ggPSB3ICogeDI7XHJcbiAgdmFyIHd5ID0gdyAqIHkyO1xyXG4gIHZhciB3eiA9IHcgKiB6MjtcclxuICBvdXRbMF0gPSAxIC0gKHl5ICsgenopO1xyXG4gIG91dFsxXSA9IHh5ICsgd3o7XHJcbiAgb3V0WzJdID0geHogLSB3eTtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IHh5IC0gd3o7XHJcbiAgb3V0WzVdID0gMSAtICh4eCArIHp6KTtcclxuICBvdXRbNl0gPSB5eiArIHd4O1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0geHogKyB3eTtcclxuICBvdXRbOV0gPSB5eiAtIHd4O1xyXG4gIG91dFsxMF0gPSAxIC0gKHh4ICsgeXkpO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSB2WzBdO1xyXG4gIG91dFsxM10gPSB2WzFdO1xyXG4gIG91dFsxNF0gPSB2WzJdO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBmcm9tIGEgZHVhbCBxdWF0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBNYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxyXG4gKiBAcmV0dXJucyB7bWF0NH0gbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdDIob3V0LCBhKSB7XHJcbiAgdmFyIHRyYW5zbGF0aW9uID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XHJcbiAgdmFyIGJ4ID0gLWFbMF0sXHJcbiAgICAgIGJ5ID0gLWFbMV0sXHJcbiAgICAgIGJ6ID0gLWFbMl0sXHJcbiAgICAgIGJ3ID0gYVszXSxcclxuICAgICAgYXggPSBhWzRdLFxyXG4gICAgICBheSA9IGFbNV0sXHJcbiAgICAgIGF6ID0gYVs2XSxcclxuICAgICAgYXcgPSBhWzddO1xyXG4gIHZhciBtYWduaXR1ZGUgPSBieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnogKyBidyAqIGJ3OyAvL09ubHkgc2NhbGUgaWYgaXQgbWFrZXMgc2Vuc2VcclxuXHJcbiAgaWYgKG1hZ25pdHVkZSA+IDApIHtcclxuICAgIHRyYW5zbGF0aW9uWzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMiAvIG1hZ25pdHVkZTtcclxuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMiAvIG1hZ25pdHVkZTtcclxuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMiAvIG1hZ25pdHVkZTtcclxuICB9IGVsc2Uge1xyXG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xyXG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyO1xyXG4gICAgdHJhbnNsYXRpb25bMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyO1xyXG4gIH1cclxuXHJcbiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBhLCB0cmFuc2xhdGlvbik7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXHJcbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sXHJcbiAqICB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cclxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHRyYW5zbGF0aW9uIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0gIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXHJcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsIG1hdCkge1xyXG4gIG91dFswXSA9IG1hdFsxMl07XHJcbiAgb3V0WzFdID0gbWF0WzEzXTtcclxuICBvdXRbMl0gPSBtYXRbMTRdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXHJcbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZVxyXG4gKiAgd2l0aCBhIG5vcm1hbGl6ZWQgUXVhdGVybmlvbiBwYXJhbXRlciwgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlXHJcbiAqICB0aGUgc2FtZSBhcyB0aGUgc2NhbGluZyB2ZWN0b3JcclxuICogIG9yaWdpbmFsbHkgc3VwcGxpZWQuXHJcbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnRcclxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxyXG4gKiBAcmV0dXJuIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NhbGluZyhvdXQsIG1hdCkge1xyXG4gIHZhciBtMTEgPSBtYXRbMF07XHJcbiAgdmFyIG0xMiA9IG1hdFsxXTtcclxuICB2YXIgbTEzID0gbWF0WzJdO1xyXG4gIHZhciBtMjEgPSBtYXRbNF07XHJcbiAgdmFyIG0yMiA9IG1hdFs1XTtcclxuICB2YXIgbTIzID0gbWF0WzZdO1xyXG4gIHZhciBtMzEgPSBtYXRbOF07XHJcbiAgdmFyIG0zMiA9IG1hdFs5XTtcclxuICB2YXIgbTMzID0gbWF0WzEwXTtcclxuICBvdXRbMF0gPSBNYXRoLmh5cG90KG0xMSwgbTEyLCBtMTMpO1xyXG4gIG91dFsxXSA9IE1hdGguaHlwb3QobTIxLCBtMjIsIG0yMyk7XHJcbiAgb3V0WzJdID0gTWF0aC5oeXBvdChtMzEsIG0zMiwgbTMzKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uYWwgY29tcG9uZW50XHJcbiAqICBvZiBhIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aFxyXG4gKiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sIHRoZSByZXR1cm5lZCBxdWF0ZXJuaW9uIHdpbGwgYmUgdGhlXHJcbiAqICBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIG9yaWdpbmFsbHkgc3VwcGxpZWQuXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxyXG4gKiBAcmV0dXJuIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um90YXRpb24ob3V0LCBtYXQpIHtcclxuICB2YXIgc2NhbGluZyA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xyXG4gIGdldFNjYWxpbmcoc2NhbGluZywgbWF0KTtcclxuICB2YXIgaXMxID0gMSAvIHNjYWxpbmdbMF07XHJcbiAgdmFyIGlzMiA9IDEgLyBzY2FsaW5nWzFdO1xyXG4gIHZhciBpczMgPSAxIC8gc2NhbGluZ1syXTtcclxuICB2YXIgc20xMSA9IG1hdFswXSAqIGlzMTtcclxuICB2YXIgc20xMiA9IG1hdFsxXSAqIGlzMjtcclxuICB2YXIgc20xMyA9IG1hdFsyXSAqIGlzMztcclxuICB2YXIgc20yMSA9IG1hdFs0XSAqIGlzMTtcclxuICB2YXIgc20yMiA9IG1hdFs1XSAqIGlzMjtcclxuICB2YXIgc20yMyA9IG1hdFs2XSAqIGlzMztcclxuICB2YXIgc20zMSA9IG1hdFs4XSAqIGlzMTtcclxuICB2YXIgc20zMiA9IG1hdFs5XSAqIGlzMjtcclxuICB2YXIgc20zMyA9IG1hdFsxMF0gKiBpczM7XHJcbiAgdmFyIHRyYWNlID0gc20xMSArIHNtMjIgKyBzbTMzO1xyXG4gIHZhciBTID0gMDtcclxuXHJcbiAgaWYgKHRyYWNlID4gMCkge1xyXG4gICAgUyA9IE1hdGguc3FydCh0cmFjZSArIDEuMCkgKiAyO1xyXG4gICAgb3V0WzNdID0gMC4yNSAqIFM7XHJcbiAgICBvdXRbMF0gPSAoc20yMyAtIHNtMzIpIC8gUztcclxuICAgIG91dFsxXSA9IChzbTMxIC0gc20xMykgLyBTO1xyXG4gICAgb3V0WzJdID0gKHNtMTIgLSBzbTIxKSAvIFM7XHJcbiAgfSBlbHNlIGlmIChzbTExID4gc20yMiAmJiBzbTExID4gc20zMykge1xyXG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcclxuICAgIG91dFszXSA9IChzbTIzIC0gc20zMikgLyBTO1xyXG4gICAgb3V0WzBdID0gMC4yNSAqIFM7XHJcbiAgICBvdXRbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcclxuICAgIG91dFsyXSA9IChzbTMxICsgc20xMykgLyBTO1xyXG4gIH0gZWxzZSBpZiAoc20yMiA+IHNtMzMpIHtcclxuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XHJcbiAgICBvdXRbM10gPSAoc20zMSAtIHNtMTMpIC8gUztcclxuICAgIG91dFswXSA9IChzbTEyICsgc20yMSkgLyBTO1xyXG4gICAgb3V0WzFdID0gMC4yNSAqIFM7XHJcbiAgICBvdXRbMl0gPSAoc20yMyArIHNtMzIpIC8gUztcclxuICB9IGVsc2Uge1xyXG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTMzIC0gc20xMSAtIHNtMjIpICogMjtcclxuICAgIG91dFszXSA9IChzbTEyIC0gc20yMSkgLyBTO1xyXG4gICAgb3V0WzBdID0gKHNtMzEgKyBzbTEzKSAvIFM7XHJcbiAgICBvdXRbMV0gPSAoc20yMyArIHNtMzIpIC8gUztcclxuICAgIG91dFsyXSA9IDAuMjUgKiBTO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGVcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlKG91dCwgcSwgdiwgcykge1xyXG4gIC8vIFF1YXRlcm5pb24gbWF0aFxyXG4gIHZhciB4ID0gcVswXSxcclxuICAgICAgeSA9IHFbMV0sXHJcbiAgICAgIHogPSBxWzJdLFxyXG4gICAgICB3ID0gcVszXTtcclxuICB2YXIgeDIgPSB4ICsgeDtcclxuICB2YXIgeTIgPSB5ICsgeTtcclxuICB2YXIgejIgPSB6ICsgejtcclxuICB2YXIgeHggPSB4ICogeDI7XHJcbiAgdmFyIHh5ID0geCAqIHkyO1xyXG4gIHZhciB4eiA9IHggKiB6MjtcclxuICB2YXIgeXkgPSB5ICogeTI7XHJcbiAgdmFyIHl6ID0geSAqIHoyO1xyXG4gIHZhciB6eiA9IHogKiB6MjtcclxuICB2YXIgd3ggPSB3ICogeDI7XHJcbiAgdmFyIHd5ID0gdyAqIHkyO1xyXG4gIHZhciB3eiA9IHcgKiB6MjtcclxuICB2YXIgc3ggPSBzWzBdO1xyXG4gIHZhciBzeSA9IHNbMV07XHJcbiAgdmFyIHN6ID0gc1syXTtcclxuICBvdXRbMF0gPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcclxuICBvdXRbMV0gPSAoeHkgKyB3eikgKiBzeDtcclxuICBvdXRbMl0gPSAoeHogLSB3eSkgKiBzeDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9ICh4eSAtIHd6KSAqIHN5O1xyXG4gIG91dFs1XSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xyXG4gIG91dFs2XSA9ICh5eiArIHd4KSAqIHN5O1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gKHh6ICsgd3kpICogc3o7XHJcbiAgb3V0WzldID0gKHl6IC0gd3gpICogc3o7XHJcbiAgb3V0WzEwXSA9ICgxIC0gKHh4ICsgeXkpKSAqIHN6O1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSB2WzBdO1xyXG4gIG91dFsxM10gPSB2WzFdO1xyXG4gIG91dFsxNF0gPSB2WzJdO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlLCByb3RhdGluZyBhbmQgc2NhbGluZyBhcm91bmQgdGhlIGdpdmVuIG9yaWdpblxyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgb3JpZ2luKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgbmVnYXRpdmVPcmlnaW4pO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IG8gVGhlIG9yaWdpbiB2ZWN0b3IgYXJvdW5kIHdoaWNoIHRvIHNjYWxlIGFuZCByb3RhdGVcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlT3JpZ2luKG91dCwgcSwgdiwgcywgbykge1xyXG4gIC8vIFF1YXRlcm5pb24gbWF0aFxyXG4gIHZhciB4ID0gcVswXSxcclxuICAgICAgeSA9IHFbMV0sXHJcbiAgICAgIHogPSBxWzJdLFxyXG4gICAgICB3ID0gcVszXTtcclxuICB2YXIgeDIgPSB4ICsgeDtcclxuICB2YXIgeTIgPSB5ICsgeTtcclxuICB2YXIgejIgPSB6ICsgejtcclxuICB2YXIgeHggPSB4ICogeDI7XHJcbiAgdmFyIHh5ID0geCAqIHkyO1xyXG4gIHZhciB4eiA9IHggKiB6MjtcclxuICB2YXIgeXkgPSB5ICogeTI7XHJcbiAgdmFyIHl6ID0geSAqIHoyO1xyXG4gIHZhciB6eiA9IHogKiB6MjtcclxuICB2YXIgd3ggPSB3ICogeDI7XHJcbiAgdmFyIHd5ID0gdyAqIHkyO1xyXG4gIHZhciB3eiA9IHcgKiB6MjtcclxuICB2YXIgc3ggPSBzWzBdO1xyXG4gIHZhciBzeSA9IHNbMV07XHJcbiAgdmFyIHN6ID0gc1syXTtcclxuICB2YXIgb3ggPSBvWzBdO1xyXG4gIHZhciBveSA9IG9bMV07XHJcbiAgdmFyIG96ID0gb1syXTtcclxuICB2YXIgb3V0MCA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xyXG4gIHZhciBvdXQxID0gKHh5ICsgd3opICogc3g7XHJcbiAgdmFyIG91dDIgPSAoeHogLSB3eSkgKiBzeDtcclxuICB2YXIgb3V0NCA9ICh4eSAtIHd6KSAqIHN5O1xyXG4gIHZhciBvdXQ1ID0gKDEgLSAoeHggKyB6eikpICogc3k7XHJcbiAgdmFyIG91dDYgPSAoeXogKyB3eCkgKiBzeTtcclxuICB2YXIgb3V0OCA9ICh4eiArIHd5KSAqIHN6O1xyXG4gIHZhciBvdXQ5ID0gKHl6IC0gd3gpICogc3o7XHJcbiAgdmFyIG91dDEwID0gKDEgLSAoeHggKyB5eSkpICogc3o7XHJcbiAgb3V0WzBdID0gb3V0MDtcclxuICBvdXRbMV0gPSBvdXQxO1xyXG4gIG91dFsyXSA9IG91dDI7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSBvdXQ0O1xyXG4gIG91dFs1XSA9IG91dDU7XHJcbiAgb3V0WzZdID0gb3V0NjtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IG91dDg7XHJcbiAgb3V0WzldID0gb3V0OTtcclxuICBvdXRbMTBdID0gb3V0MTA7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IHZbMF0gKyBveCAtIChvdXQwICogb3ggKyBvdXQ0ICogb3kgKyBvdXQ4ICogb3opO1xyXG4gIG91dFsxM10gPSB2WzFdICsgb3kgLSAob3V0MSAqIG94ICsgb3V0NSAqIG95ICsgb3V0OSAqIG96KTtcclxuICBvdXRbMTRdID0gdlsyXSArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgYSA0eDQgbWF0cml4IGZyb20gdGhlIGdpdmVuIHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBRdWF0ZXJuaW9uIHRvIGNyZWF0ZSBtYXRyaXggZnJvbVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xyXG4gIHZhciB4ID0gcVswXSxcclxuICAgICAgeSA9IHFbMV0sXHJcbiAgICAgIHogPSBxWzJdLFxyXG4gICAgICB3ID0gcVszXTtcclxuICB2YXIgeDIgPSB4ICsgeDtcclxuICB2YXIgeTIgPSB5ICsgeTtcclxuICB2YXIgejIgPSB6ICsgejtcclxuICB2YXIgeHggPSB4ICogeDI7XHJcbiAgdmFyIHl4ID0geSAqIHgyO1xyXG4gIHZhciB5eSA9IHkgKiB5MjtcclxuICB2YXIgenggPSB6ICogeDI7XHJcbiAgdmFyIHp5ID0geiAqIHkyO1xyXG4gIHZhciB6eiA9IHogKiB6MjtcclxuICB2YXIgd3ggPSB3ICogeDI7XHJcbiAgdmFyIHd5ID0gdyAqIHkyO1xyXG4gIHZhciB3eiA9IHcgKiB6MjtcclxuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcclxuICBvdXRbMV0gPSB5eCArIHd6O1xyXG4gIG91dFsyXSA9IHp4IC0gd3k7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSB5eCAtIHd6O1xyXG4gIG91dFs1XSA9IDEgLSB4eCAtIHp6O1xyXG4gIG91dFs2XSA9IHp5ICsgd3g7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSB6eCArIHd5O1xyXG4gIG91dFs5XSA9IHp5IC0gd3g7XHJcbiAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNF0gPSAwO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIGZydXN0dW0gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcnVzdHVtKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcclxuICB2YXIgcmwgPSAxIC8gKHJpZ2h0IC0gbGVmdCk7XHJcbiAgdmFyIHRiID0gMSAvICh0b3AgLSBib3R0b20pO1xyXG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XHJcbiAgb3V0WzBdID0gbmVhciAqIDIgKiBybDtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IG5lYXIgKiAyICogdGI7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IChyaWdodCArIGxlZnQpICogcmw7XHJcbiAgb3V0WzldID0gKHRvcCArIGJvdHRvbSkgKiB0YjtcclxuICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XHJcbiAgb3V0WzExXSA9IC0xO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNF0gPSBmYXIgKiBuZWFyICogMiAqIG5mO1xyXG4gIG91dFsxNV0gPSAwO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cclxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcclxuICogd2hpY2ggbWF0Y2hlcyBXZWJHTC9PcGVuR0wncyBjbGlwIHZvbHVtZS5cclxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVOTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XHJcbiAgdmFyIGYgPSAxLjAgLyBNYXRoLnRhbihmb3Z5IC8gMiksXHJcbiAgICAgIG5mO1xyXG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSBmO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAwO1xyXG4gIG91dFs5XSA9IDA7XHJcbiAgb3V0WzExXSA9IC0xO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNV0gPSAwO1xyXG5cclxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xyXG4gICAgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xyXG4gICAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xyXG4gICAgb3V0WzE0XSA9IDIgKiBmYXIgKiBuZWFyICogbmY7XHJcbiAgfSBlbHNlIHtcclxuICAgIG91dFsxMF0gPSAtMTtcclxuICAgIG91dFsxNF0gPSAtMiAqIG5lYXI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQucGVyc3BlY3RpdmVOT31cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBwZXJzcGVjdGl2ZSA9IHBlcnNwZWN0aXZlTk87XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCBzdWl0YWJsZSBmb3IgV2ViR1BVIHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cclxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWzAsIDFdLFxyXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxyXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcclxuICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdCBBc3BlY3QgcmF0aW8uIHR5cGljYWxseSB2aWV3cG9ydCB3aWR0aC9oZWlnaHRcclxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZVpPKG91dCwgZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpIHtcclxuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcclxuICAgICAgbmY7XHJcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IGY7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTFdID0gLTE7XHJcbiAgb3V0WzEyXSA9IDA7XHJcbiAgb3V0WzEzXSA9IDA7XHJcbiAgb3V0WzE1XSA9IDA7XHJcblxyXG4gIGlmIChmYXIgIT0gbnVsbCAmJiBmYXIgIT09IEluZmluaXR5KSB7XHJcbiAgICBuZiA9IDEgLyAobmVhciAtIGZhcik7XHJcbiAgICBvdXRbMTBdID0gZmFyICogbmY7XHJcbiAgICBvdXRbMTRdID0gZmFyICogbmVhciAqIG5mO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBvdXRbMTBdID0gLTE7XHJcbiAgICBvdXRbMTRdID0gLW5lYXI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBmaWVsZCBvZiB2aWV3LlxyXG4gKiBUaGlzIGlzIHByaW1hcmlseSB1c2VmdWwgZm9yIGdlbmVyYXRpbmcgcHJvamVjdGlvbiBtYXRyaWNlcyB0byBiZSB1c2VkXHJcbiAqIHdpdGggdGhlIHN0aWxsIGV4cGVyaWVtZW50YWwgV2ViVlIgQVBJLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBmb3YgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyB2YWx1ZXM6IHVwRGVncmVlcywgZG93bkRlZ3JlZXMsIGxlZnREZWdyZWVzLCByaWdodERlZ3JlZXNcclxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCwgZm92LCBuZWFyLCBmYXIpIHtcclxuICB2YXIgdXBUYW4gPSBNYXRoLnRhbihmb3YudXBEZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcclxuICB2YXIgZG93blRhbiA9IE1hdGgudGFuKGZvdi5kb3duRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XHJcbiAgdmFyIGxlZnRUYW4gPSBNYXRoLnRhbihmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xyXG4gIHZhciByaWdodFRhbiA9IE1hdGgudGFuKGZvdi5yaWdodERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xyXG4gIHZhciB4U2NhbGUgPSAyLjAgLyAobGVmdFRhbiArIHJpZ2h0VGFuKTtcclxuICB2YXIgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbik7XHJcbiAgb3V0WzBdID0geFNjYWxlO1xyXG4gIG91dFsxXSA9IDAuMDtcclxuICBvdXRbMl0gPSAwLjA7XHJcbiAgb3V0WzNdID0gMC4wO1xyXG4gIG91dFs0XSA9IDAuMDtcclxuICBvdXRbNV0gPSB5U2NhbGU7XHJcbiAgb3V0WzZdID0gMC4wO1xyXG4gIG91dFs3XSA9IDAuMDtcclxuICBvdXRbOF0gPSAtKChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41KTtcclxuICBvdXRbOV0gPSAodXBUYW4gLSBkb3duVGFuKSAqIHlTY2FsZSAqIDAuNTtcclxuICBvdXRbMTBdID0gZmFyIC8gKG5lYXIgLSBmYXIpO1xyXG4gIG91dFsxMV0gPSAtMS4wO1xyXG4gIG91dFsxMl0gPSAwLjA7XHJcbiAgb3V0WzEzXSA9IDAuMDtcclxuICBvdXRbMTRdID0gZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTtcclxuICBvdXRbMTVdID0gMC4wO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIG9ydGhvZ29uYWwgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxyXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbLTEsIDFdLFxyXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdML09wZW5HTCdzIGNsaXAgdm9sdW1lLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvcnRob05PKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcclxuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XHJcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xyXG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XHJcbiAgb3V0WzBdID0gLTIgKiBscjtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IC0yICogYnQ7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTBdID0gMiAqIG5mO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAobGVmdCArIHJpZ2h0KSAqIGxyO1xyXG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xyXG4gIG91dFsxNF0gPSAoZmFyICsgbmVhcikgKiBuZjtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQub3J0aG9OT31cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBvcnRobyA9IG9ydGhvTk87XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cclxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWzAsIDFdLFxyXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvcnRob1pPKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcclxuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XHJcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xyXG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XHJcbiAgb3V0WzBdID0gLTIgKiBscjtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IC0yICogYnQ7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTBdID0gbmY7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XHJcbiAgb3V0WzEzXSA9ICh0b3AgKyBib3R0b20pICogYnQ7XHJcbiAgb3V0WzE0XSA9IG5lYXIgKiBuZjtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBsb29rLWF0IG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBleWUgcG9zaXRpb24sIGZvY2FsIHBvaW50LCBhbmQgdXAgYXhpcy5cclxuICogSWYgeW91IHdhbnQgYSBtYXRyaXggdGhhdCBhY3R1YWxseSBtYWtlcyBhbiBvYmplY3QgbG9vayBhdCBhbm90aGVyIG9iamVjdCwgeW91IHNob3VsZCB1c2UgdGFyZ2V0VG8gaW5zdGVhZC5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsb29rQXQob3V0LCBleWUsIGNlbnRlciwgdXApIHtcclxuICB2YXIgeDAsIHgxLCB4MiwgeTAsIHkxLCB5MiwgejAsIHoxLCB6MiwgbGVuO1xyXG4gIHZhciBleWV4ID0gZXllWzBdO1xyXG4gIHZhciBleWV5ID0gZXllWzFdO1xyXG4gIHZhciBleWV6ID0gZXllWzJdO1xyXG4gIHZhciB1cHggPSB1cFswXTtcclxuICB2YXIgdXB5ID0gdXBbMV07XHJcbiAgdmFyIHVweiA9IHVwWzJdO1xyXG4gIHZhciBjZW50ZXJ4ID0gY2VudGVyWzBdO1xyXG4gIHZhciBjZW50ZXJ5ID0gY2VudGVyWzFdO1xyXG4gIHZhciBjZW50ZXJ6ID0gY2VudGVyWzJdO1xyXG5cclxuICBpZiAoTWF0aC5hYnMoZXlleCAtIGNlbnRlcngpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV5IC0gY2VudGVyeSkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IGdsTWF0cml4LkVQU0lMT04pIHtcclxuICAgIHJldHVybiBpZGVudGl0eShvdXQpO1xyXG4gIH1cclxuXHJcbiAgejAgPSBleWV4IC0gY2VudGVyeDtcclxuICB6MSA9IGV5ZXkgLSBjZW50ZXJ5O1xyXG4gIHoyID0gZXlleiAtIGNlbnRlcno7XHJcbiAgbGVuID0gMSAvIE1hdGguaHlwb3QoejAsIHoxLCB6Mik7XHJcbiAgejAgKj0gbGVuO1xyXG4gIHoxICo9IGxlbjtcclxuICB6MiAqPSBsZW47XHJcbiAgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxO1xyXG4gIHgxID0gdXB6ICogejAgLSB1cHggKiB6MjtcclxuICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XHJcbiAgbGVuID0gTWF0aC5oeXBvdCh4MCwgeDEsIHgyKTtcclxuXHJcbiAgaWYgKCFsZW4pIHtcclxuICAgIHgwID0gMDtcclxuICAgIHgxID0gMDtcclxuICAgIHgyID0gMDtcclxuICB9IGVsc2Uge1xyXG4gICAgbGVuID0gMSAvIGxlbjtcclxuICAgIHgwICo9IGxlbjtcclxuICAgIHgxICo9IGxlbjtcclxuICAgIHgyICo9IGxlbjtcclxuICB9XHJcblxyXG4gIHkwID0gejEgKiB4MiAtIHoyICogeDE7XHJcbiAgeTEgPSB6MiAqIHgwIC0gejAgKiB4MjtcclxuICB5MiA9IHowICogeDEgLSB6MSAqIHgwO1xyXG4gIGxlbiA9IE1hdGguaHlwb3QoeTAsIHkxLCB5Mik7XHJcblxyXG4gIGlmICghbGVuKSB7XHJcbiAgICB5MCA9IDA7XHJcbiAgICB5MSA9IDA7XHJcbiAgICB5MiA9IDA7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxlbiA9IDEgLyBsZW47XHJcbiAgICB5MCAqPSBsZW47XHJcbiAgICB5MSAqPSBsZW47XHJcbiAgICB5MiAqPSBsZW47XHJcbiAgfVxyXG5cclxuICBvdXRbMF0gPSB4MDtcclxuICBvdXRbMV0gPSB5MDtcclxuICBvdXRbMl0gPSB6MDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IHgxO1xyXG4gIG91dFs1XSA9IHkxO1xyXG4gIG91dFs2XSA9IHoxO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0geDI7XHJcbiAgb3V0WzldID0geTI7XHJcbiAgb3V0WzEwXSA9IHoyO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAtKHgwICogZXlleCArIHgxICogZXlleSArIHgyICogZXlleik7XHJcbiAgb3V0WzEzXSA9IC0oeTAgKiBleWV4ICsgeTEgKiBleWV5ICsgeTIgKiBleWV6KTtcclxuICBvdXRbMTRdID0gLSh6MCAqIGV5ZXggKyB6MSAqIGV5ZXkgKyB6MiAqIGV5ZXopO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIG1hdHJpeCB0aGF0IG1ha2VzIHNvbWV0aGluZyBsb29rIGF0IHNvbWV0aGluZyBlbHNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBleWUgUG9zaXRpb24gb2YgdGhlIHZpZXdlclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gY2VudGVyIFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRhcmdldFRvKG91dCwgZXllLCB0YXJnZXQsIHVwKSB7XHJcbiAgdmFyIGV5ZXggPSBleWVbMF0sXHJcbiAgICAgIGV5ZXkgPSBleWVbMV0sXHJcbiAgICAgIGV5ZXogPSBleWVbMl0sXHJcbiAgICAgIHVweCA9IHVwWzBdLFxyXG4gICAgICB1cHkgPSB1cFsxXSxcclxuICAgICAgdXB6ID0gdXBbMl07XHJcbiAgdmFyIHowID0gZXlleCAtIHRhcmdldFswXSxcclxuICAgICAgejEgPSBleWV5IC0gdGFyZ2V0WzFdLFxyXG4gICAgICB6MiA9IGV5ZXogLSB0YXJnZXRbMl07XHJcbiAgdmFyIGxlbiA9IHowICogejAgKyB6MSAqIHoxICsgejIgKiB6MjtcclxuXHJcbiAgaWYgKGxlbiA+IDApIHtcclxuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcclxuICAgIHowICo9IGxlbjtcclxuICAgIHoxICo9IGxlbjtcclxuICAgIHoyICo9IGxlbjtcclxuICB9XHJcblxyXG4gIHZhciB4MCA9IHVweSAqIHoyIC0gdXB6ICogejEsXHJcbiAgICAgIHgxID0gdXB6ICogejAgLSB1cHggKiB6MixcclxuICAgICAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xyXG4gIGxlbiA9IHgwICogeDAgKyB4MSAqIHgxICsgeDIgKiB4MjtcclxuXHJcbiAgaWYgKGxlbiA+IDApIHtcclxuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcclxuICAgIHgwICo9IGxlbjtcclxuICAgIHgxICo9IGxlbjtcclxuICAgIHgyICo9IGxlbjtcclxuICB9XHJcblxyXG4gIG91dFswXSA9IHgwO1xyXG4gIG91dFsxXSA9IHgxO1xyXG4gIG91dFsyXSA9IHgyO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gejEgKiB4MiAtIHoyICogeDE7XHJcbiAgb3V0WzVdID0gejIgKiB4MCAtIHowICogeDI7XHJcbiAgb3V0WzZdID0gejAgKiB4MSAtIHoxICogeDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSB6MDtcclxuICBvdXRbOV0gPSB6MTtcclxuICBvdXRbMTBdID0gejI7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IGV5ZXg7XHJcbiAgb3V0WzEzXSA9IGV5ZXk7XHJcbiAgb3V0WzE0XSA9IGV5ZXo7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xyXG4gIHJldHVybiBcIm1hdDQoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIsIFwiICsgYVs0XSArIFwiLCBcIiArIGFbNV0gKyBcIiwgXCIgKyBhWzZdICsgXCIsIFwiICsgYVs3XSArIFwiLCBcIiArIGFbOF0gKyBcIiwgXCIgKyBhWzldICsgXCIsIFwiICsgYVsxMF0gKyBcIiwgXCIgKyBhWzExXSArIFwiLCBcIiArIGFbMTJdICsgXCIsIFwiICsgYVsxM10gKyBcIiwgXCIgKyBhWzE0XSArIFwiLCBcIiArIGFbMTVdICsgXCIpXCI7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb2IoYSkge1xyXG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0sIGFbOV0sIGFbMTBdLCBhWzExXSwgYVsxMl0sIGFbMTNdLCBhWzE0XSwgYVsxNV0pO1xyXG59XHJcbi8qKlxyXG4gKiBBZGRzIHR3byBtYXQ0J3NcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xyXG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xyXG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdO1xyXG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xyXG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xyXG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdO1xyXG4gIG91dFs5XSA9IGFbOV0gKyBiWzldO1xyXG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdO1xyXG4gIG91dFsxMV0gPSBhWzExXSArIGJbMTFdO1xyXG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdO1xyXG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdO1xyXG4gIG91dFsxNF0gPSBhWzE0XSArIGJbMTRdO1xyXG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xyXG4gIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xyXG4gIG91dFs1XSA9IGFbNV0gLSBiWzVdO1xyXG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xyXG4gIG91dFs3XSA9IGFbN10gLSBiWzddO1xyXG4gIG91dFs4XSA9IGFbOF0gLSBiWzhdO1xyXG4gIG91dFs5XSA9IGFbOV0gLSBiWzldO1xyXG4gIG91dFsxMF0gPSBhWzEwXSAtIGJbMTBdO1xyXG4gIG91dFsxMV0gPSBhWzExXSAtIGJbMTFdO1xyXG4gIG91dFsxMl0gPSBhWzEyXSAtIGJbMTJdO1xyXG4gIG91dFsxM10gPSBhWzEzXSAtIGJbMTNdO1xyXG4gIG91dFsxNF0gPSBhWzE0XSAtIGJbMTRdO1xyXG4gIG91dFsxNV0gPSBhWzE1XSAtIGJbMTVdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICogYjtcclxuICBvdXRbMV0gPSBhWzFdICogYjtcclxuICBvdXRbMl0gPSBhWzJdICogYjtcclxuICBvdXRbM10gPSBhWzNdICogYjtcclxuICBvdXRbNF0gPSBhWzRdICogYjtcclxuICBvdXRbNV0gPSBhWzVdICogYjtcclxuICBvdXRbNl0gPSBhWzZdICogYjtcclxuICBvdXRbN10gPSBhWzddICogYjtcclxuICBvdXRbOF0gPSBhWzhdICogYjtcclxuICBvdXRbOV0gPSBhWzldICogYjtcclxuICBvdXRbMTBdID0gYVsxMF0gKiBiO1xyXG4gIG91dFsxMV0gPSBhWzExXSAqIGI7XHJcbiAgb3V0WzEyXSA9IGFbMTJdICogYjtcclxuICBvdXRbMTNdID0gYVsxM10gKiBiO1xyXG4gIG91dFsxNF0gPSBhWzE0XSAqIGI7XHJcbiAgb3V0WzE1XSA9IGFbMTVdICogYjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBZGRzIHR3byBtYXQ0J3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIncyBlbGVtZW50cyBieSBiZWZvcmUgYWRkaW5nXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xyXG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XHJcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcclxuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xyXG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XHJcbiAgb3V0WzRdID0gYVs0XSArIGJbNF0gKiBzY2FsZTtcclxuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xyXG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdICogc2NhbGU7XHJcbiAgb3V0WzddID0gYVs3XSArIGJbN10gKiBzY2FsZTtcclxuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xyXG4gIG91dFs5XSA9IGFbOV0gKyBiWzldICogc2NhbGU7XHJcbiAgb3V0WzEwXSA9IGFbMTBdICsgYlsxMF0gKiBzY2FsZTtcclxuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXSAqIHNjYWxlO1xyXG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdICogc2NhbGU7XHJcbiAgb3V0WzEzXSA9IGFbMTNdICsgYlsxM10gKiBzY2FsZTtcclxuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XSAqIHNjYWxlO1xyXG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdICogc2NhbGU7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XHJcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XSAmJiBhWzhdID09PSBiWzhdICYmIGFbOV0gPT09IGJbOV0gJiYgYVsxMF0gPT09IGJbMTBdICYmIGFbMTFdID09PSBiWzExXSAmJiBhWzEyXSA9PT0gYlsxMl0gJiYgYVsxM10gPT09IGJbMTNdICYmIGFbMTRdID09PSBiWzE0XSAmJiBhWzE1XSA9PT0gYlsxNV07XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcclxuICB2YXIgYTAgPSBhWzBdLFxyXG4gICAgICBhMSA9IGFbMV0sXHJcbiAgICAgIGEyID0gYVsyXSxcclxuICAgICAgYTMgPSBhWzNdO1xyXG4gIHZhciBhNCA9IGFbNF0sXHJcbiAgICAgIGE1ID0gYVs1XSxcclxuICAgICAgYTYgPSBhWzZdLFxyXG4gICAgICBhNyA9IGFbN107XHJcbiAgdmFyIGE4ID0gYVs4XSxcclxuICAgICAgYTkgPSBhWzldLFxyXG4gICAgICBhMTAgPSBhWzEwXSxcclxuICAgICAgYTExID0gYVsxMV07XHJcbiAgdmFyIGExMiA9IGFbMTJdLFxyXG4gICAgICBhMTMgPSBhWzEzXSxcclxuICAgICAgYTE0ID0gYVsxNF0sXHJcbiAgICAgIGExNSA9IGFbMTVdO1xyXG4gIHZhciBiMCA9IGJbMF0sXHJcbiAgICAgIGIxID0gYlsxXSxcclxuICAgICAgYjIgPSBiWzJdLFxyXG4gICAgICBiMyA9IGJbM107XHJcbiAgdmFyIGI0ID0gYls0XSxcclxuICAgICAgYjUgPSBiWzVdLFxyXG4gICAgICBiNiA9IGJbNl0sXHJcbiAgICAgIGI3ID0gYls3XTtcclxuICB2YXIgYjggPSBiWzhdLFxyXG4gICAgICBiOSA9IGJbOV0sXHJcbiAgICAgIGIxMCA9IGJbMTBdLFxyXG4gICAgICBiMTEgPSBiWzExXTtcclxuICB2YXIgYjEyID0gYlsxMl0sXHJcbiAgICAgIGIxMyA9IGJbMTNdLFxyXG4gICAgICBiMTQgPSBiWzE0XSxcclxuICAgICAgYjE1ID0gYlsxNV07XHJcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSkgJiYgTWF0aC5hYnMoYTggLSBiOCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTgpLCBNYXRoLmFicyhiOCkpICYmIE1hdGguYWJzKGE5IC0gYjkpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE5KSwgTWF0aC5hYnMoYjkpKSAmJiBNYXRoLmFicyhhMTAgLSBiMTApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMCksIE1hdGguYWJzKGIxMCkpICYmIE1hdGguYWJzKGExMSAtIGIxMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTExKSwgTWF0aC5hYnMoYjExKSkgJiYgTWF0aC5hYnMoYTEyIC0gYjEyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTIpLCBNYXRoLmFicyhiMTIpKSAmJiBNYXRoLmFicyhhMTMgLSBiMTMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMyksIE1hdGguYWJzKGIxMykpICYmIE1hdGguYWJzKGExNCAtIGIxNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE0KSwgTWF0aC5hYnMoYjE0KSkgJiYgTWF0aC5hYnMoYTE1IC0gYjE1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTUpLCBNYXRoLmFicyhiMTUpKTtcclxufVxyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0Lm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnN1YnRyYWN0fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0OyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcclxuaW1wb3J0ICogYXMgbWF0MyBmcm9tIFwiLi9tYXQzLmpzXCI7XHJcbmltcG9ydCAqIGFzIHZlYzMgZnJvbSBcIi4vdmVjMy5qc1wiO1xyXG5pbXBvcnQgKiBhcyB2ZWM0IGZyb20gXCIuL3ZlYzQuanNcIjtcclxuLyoqXHJcbiAqIFF1YXRlcm5pb25cclxuICogQG1vZHVsZSBxdWF0XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgcXVhdFxyXG4gKlxyXG4gKiBAcmV0dXJucyB7cXVhdH0gYSBuZXcgcXVhdGVybmlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xyXG5cclxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcclxuICAgIG91dFswXSA9IDA7XHJcbiAgICBvdXRbMV0gPSAwO1xyXG4gICAgb3V0WzJdID0gMDtcclxuICB9XHJcblxyXG4gIG91dFszXSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IGEgcXVhdCB0byB0aGUgaWRlbnRpdHkgcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcclxuICBvdXRbMF0gPSAwO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldHMgYSBxdWF0IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFuZCByb3RhdGlvbiBheGlzLFxyXG4gKiB0aGVuIHJldHVybnMgaXQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyBhcm91bmQgd2hpY2ggdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0QXhpc0FuZ2xlKG91dCwgYXhpcywgcmFkKSB7XHJcbiAgcmFkID0gcmFkICogMC41O1xyXG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcclxuICBvdXRbMF0gPSBzICogYXhpc1swXTtcclxuICBvdXRbMV0gPSBzICogYXhpc1sxXTtcclxuICBvdXRbMl0gPSBzICogYXhpc1syXTtcclxuICBvdXRbM10gPSBNYXRoLmNvcyhyYWQpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdldHMgdGhlIHJvdGF0aW9uIGF4aXMgYW5kIGFuZ2xlIGZvciBhIGdpdmVuXHJcbiAqICBxdWF0ZXJuaW9uLiBJZiBhIHF1YXRlcm5pb24gaXMgY3JlYXRlZCB3aXRoXHJcbiAqICBzZXRBeGlzQW5nbGUsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBzYW1lXHJcbiAqICB2YWx1ZXMgYXMgcHJvdmlkaWVkIGluIHRoZSBvcmlnaW5hbCBwYXJhbWV0ZXIgbGlzdFxyXG4gKiAgT1IgZnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdmFsdWVzLlxyXG4gKiBFeGFtcGxlOiBUaGUgcXVhdGVybmlvbiBmb3JtZWQgYnkgYXhpcyBbMCwgMCwgMV0gYW5kXHJcbiAqICBhbmdsZSAtOTAgaXMgdGhlIHNhbWUgYXMgdGhlIHF1YXRlcm5pb24gZm9ybWVkIGJ5XHJcbiAqICBbMCwgMCwgMV0gYW5kIDI3MC4gVGhpcyBtZXRob2QgZmF2b3JzIHRoZSBsYXR0ZXIuXHJcbiAqIEBwYXJhbSAge3ZlYzN9IG91dF9heGlzICBWZWN0b3IgcmVjZWl2aW5nIHRoZSBheGlzIG9mIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdH0gcSAgICAgUXVhdGVybmlvbiB0byBiZSBkZWNvbXBvc2VkXHJcbiAqIEByZXR1cm4ge051bWJlcn0gICAgIEFuZ2xlLCBpbiByYWRpYW5zLCBvZiB0aGUgcm90YXRpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXhpc0FuZ2xlKG91dF9heGlzLCBxKSB7XHJcbiAgdmFyIHJhZCA9IE1hdGguYWNvcyhxWzNdKSAqIDIuMDtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCAvIDIuMCk7XHJcblxyXG4gIGlmIChzID4gZ2xNYXRyaXguRVBTSUxPTikge1xyXG4gICAgb3V0X2F4aXNbMF0gPSBxWzBdIC8gcztcclxuICAgIG91dF9heGlzWzFdID0gcVsxXSAvIHM7XHJcbiAgICBvdXRfYXhpc1syXSA9IHFbMl0gLyBzO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBJZiBzIGlzIHplcm8sIHJldHVybiBhbnkgYXhpcyAobm8gcm90YXRpb24gLSBheGlzIGRvZXMgbm90IG1hdHRlcilcclxuICAgIG91dF9heGlzWzBdID0gMTtcclxuICAgIG91dF9heGlzWzFdID0gMDtcclxuICAgIG91dF9heGlzWzJdID0gMDtcclxuICB9XHJcblxyXG4gIHJldHVybiByYWQ7XHJcbn1cclxuLyoqXHJcbiAqIEdldHMgdGhlIGFuZ3VsYXIgZGlzdGFuY2UgYmV0d2VlbiB0d28gdW5pdCBxdWF0ZXJuaW9uc1xyXG4gKlxyXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IGEgICAgIE9yaWdpbiB1bml0IHF1YXRlcm5pb25cclxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0fSBiICAgICBEZXN0aW5hdGlvbiB1bml0IHF1YXRlcm5pb25cclxuICogQHJldHVybiB7TnVtYmVyfSAgICAgQW5nbGUsIGluIHJhZGlhbnMsIGJldHdlZW4gdGhlIHR3byBxdWF0ZXJuaW9uc1xyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBbmdsZShhLCBiKSB7XHJcbiAgdmFyIGRvdHByb2R1Y3QgPSBkb3QoYSwgYik7XHJcbiAgcmV0dXJuIE1hdGguYWNvcygyICogZG90cHJvZHVjdCAqIGRvdHByb2R1Y3QgLSAxKTtcclxufVxyXG4vKipcclxuICogTXVsdGlwbGllcyB0d28gcXVhdCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcclxuICB2YXIgYXggPSBhWzBdLFxyXG4gICAgICBheSA9IGFbMV0sXHJcbiAgICAgIGF6ID0gYVsyXSxcclxuICAgICAgYXcgPSBhWzNdO1xyXG4gIHZhciBieCA9IGJbMF0sXHJcbiAgICAgIGJ5ID0gYlsxXSxcclxuICAgICAgYnogPSBiWzJdLFxyXG4gICAgICBidyA9IGJbM107XHJcbiAgb3V0WzBdID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieTtcclxuICBvdXRbMV0gPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6O1xyXG4gIG91dFsyXSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7XHJcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgcXVhdGVybmlvbiBieSB0aGUgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIFggYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBxdWF0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZVxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcclxuICByYWQgKj0gMC41O1xyXG4gIHZhciBheCA9IGFbMF0sXHJcbiAgICAgIGF5ID0gYVsxXSxcclxuICAgICAgYXogPSBhWzJdLFxyXG4gICAgICBhdyA9IGFbM107XHJcbiAgdmFyIGJ4ID0gTWF0aC5zaW4ocmFkKSxcclxuICAgICAgYncgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIG91dFswXSA9IGF4ICogYncgKyBhdyAqIGJ4O1xyXG4gIG91dFsxXSA9IGF5ICogYncgKyBheiAqIGJ4O1xyXG4gIG91dFsyXSA9IGF6ICogYncgLSBheSAqIGJ4O1xyXG4gIG91dFszXSA9IGF3ICogYncgLSBheCAqIGJ4O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBxdWF0ZXJuaW9uIGJ5IHRoZSBnaXZlbiBhbmdsZSBhYm91dCB0aGUgWSBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byByb3RhdGVcclxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBhbmdsZSAoaW4gcmFkaWFucykgdG8gcm90YXRlXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xyXG4gIHJhZCAqPSAwLjU7XHJcbiAgdmFyIGF4ID0gYVswXSxcclxuICAgICAgYXkgPSBhWzFdLFxyXG4gICAgICBheiA9IGFbMl0sXHJcbiAgICAgIGF3ID0gYVszXTtcclxuICB2YXIgYnkgPSBNYXRoLnNpbihyYWQpLFxyXG4gICAgICBidyA9IE1hdGguY29zKHJhZCk7XHJcbiAgb3V0WzBdID0gYXggKiBidyAtIGF6ICogYnk7XHJcbiAgb3V0WzFdID0gYXkgKiBidyArIGF3ICogYnk7XHJcbiAgb3V0WzJdID0gYXogKiBidyArIGF4ICogYnk7XHJcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF5ICogYnk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBaIGF4aXNcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XHJcbiAgcmFkICo9IDAuNTtcclxuICB2YXIgYXggPSBhWzBdLFxyXG4gICAgICBheSA9IGFbMV0sXHJcbiAgICAgIGF6ID0gYVsyXSxcclxuICAgICAgYXcgPSBhWzNdO1xyXG4gIHZhciBieiA9IE1hdGguc2luKHJhZCksXHJcbiAgICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcclxuICBvdXRbMF0gPSBheCAqIGJ3ICsgYXkgKiBiejtcclxuICBvdXRbMV0gPSBheSAqIGJ3IC0gYXggKiBiejtcclxuICBvdXRbMl0gPSBheiAqIGJ3ICsgYXcgKiBiejtcclxuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXogKiBiejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBXIGNvbXBvbmVudCBvZiBhIHF1YXQgZnJvbSB0aGUgWCwgWSwgYW5kIFogY29tcG9uZW50cy5cclxuICogQXNzdW1lcyB0aGF0IHF1YXRlcm5pb24gaXMgMSB1bml0IGluIGxlbmd0aC5cclxuICogQW55IGV4aXN0aW5nIFcgY29tcG9uZW50IHdpbGwgYmUgaWdub3JlZC5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIFcgY29tcG9uZW50IG9mXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlVyhvdXQsIGEpIHtcclxuICB2YXIgeCA9IGFbMF0sXHJcbiAgICAgIHkgPSBhWzFdLFxyXG4gICAgICB6ID0gYVsyXTtcclxuICBvdXRbMF0gPSB4O1xyXG4gIG91dFsxXSA9IHk7XHJcbiAgb3V0WzJdID0gejtcclxuICBvdXRbM10gPSBNYXRoLnNxcnQoTWF0aC5hYnMoMS4wIC0geCAqIHggLSB5ICogeSAtIHogKiB6KSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZiBhIHVuaXQgcXVhdGVybmlvbi5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZlxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cChvdXQsIGEpIHtcclxuICB2YXIgeCA9IGFbMF0sXHJcbiAgICAgIHkgPSBhWzFdLFxyXG4gICAgICB6ID0gYVsyXSxcclxuICAgICAgdyA9IGFbM107XHJcbiAgdmFyIHIgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcclxuICB2YXIgZXQgPSBNYXRoLmV4cCh3KTtcclxuICB2YXIgcyA9IHIgPiAwID8gZXQgKiBNYXRoLnNpbihyKSAvIHIgOiAwO1xyXG4gIG91dFswXSA9IHggKiBzO1xyXG4gIG91dFsxXSA9IHkgKiBzO1xyXG4gIG91dFsyXSA9IHogKiBzO1xyXG4gIG91dFszXSA9IGV0ICogTWF0aC5jb3Mocik7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBhIHVuaXQgcXVhdGVybmlvbi5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZlxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxuKG91dCwgYSkge1xyXG4gIHZhciB4ID0gYVswXSxcclxuICAgICAgeSA9IGFbMV0sXHJcbiAgICAgIHogPSBhWzJdLFxyXG4gICAgICB3ID0gYVszXTtcclxuICB2YXIgciA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xyXG4gIHZhciB0ID0gciA+IDAgPyBNYXRoLmF0YW4yKHIsIHcpIC8gciA6IDA7XHJcbiAgb3V0WzBdID0geCAqIHQ7XHJcbiAgb3V0WzFdID0geSAqIHQ7XHJcbiAgb3V0WzJdID0geiAqIHQ7XHJcbiAgb3V0WzNdID0gMC41ICogTWF0aC5sb2coeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZSB0aGUgc2NhbGFyIHBvd2VyIG9mIGEgdW5pdCBxdWF0ZXJuaW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgcXVhdGVybmlvbiBieVxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBvdyhvdXQsIGEsIGIpIHtcclxuICBsbihvdXQsIGEpO1xyXG4gIHNjYWxlKG91dCwgb3V0LCBiKTtcclxuICBleHAob3V0LCBvdXQpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHF1YXRcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2xlcnAob3V0LCBhLCBiLCB0KSB7XHJcbiAgLy8gYmVuY2htYXJrczpcclxuICAvLyAgICBodHRwOi8vanNwZXJmLmNvbS9xdWF0ZXJuaW9uLXNsZXJwLWltcGxlbWVudGF0aW9uc1xyXG4gIHZhciBheCA9IGFbMF0sXHJcbiAgICAgIGF5ID0gYVsxXSxcclxuICAgICAgYXogPSBhWzJdLFxyXG4gICAgICBhdyA9IGFbM107XHJcbiAgdmFyIGJ4ID0gYlswXSxcclxuICAgICAgYnkgPSBiWzFdLFxyXG4gICAgICBieiA9IGJbMl0sXHJcbiAgICAgIGJ3ID0gYlszXTtcclxuICB2YXIgb21lZ2EsIGNvc29tLCBzaW5vbSwgc2NhbGUwLCBzY2FsZTE7IC8vIGNhbGMgY29zaW5lXHJcblxyXG4gIGNvc29tID0gYXggKiBieCArIGF5ICogYnkgKyBheiAqIGJ6ICsgYXcgKiBidzsgLy8gYWRqdXN0IHNpZ25zIChpZiBuZWNlc3NhcnkpXHJcblxyXG4gIGlmIChjb3NvbSA8IDAuMCkge1xyXG4gICAgY29zb20gPSAtY29zb207XHJcbiAgICBieCA9IC1ieDtcclxuICAgIGJ5ID0gLWJ5O1xyXG4gICAgYnogPSAtYno7XHJcbiAgICBidyA9IC1idztcclxuICB9IC8vIGNhbGN1bGF0ZSBjb2VmZmljaWVudHNcclxuXHJcblxyXG4gIGlmICgxLjAgLSBjb3NvbSA+IGdsTWF0cml4LkVQU0lMT04pIHtcclxuICAgIC8vIHN0YW5kYXJkIGNhc2UgKHNsZXJwKVxyXG4gICAgb21lZ2EgPSBNYXRoLmFjb3MoY29zb20pO1xyXG4gICAgc2lub20gPSBNYXRoLnNpbihvbWVnYSk7XHJcbiAgICBzY2FsZTAgPSBNYXRoLnNpbigoMS4wIC0gdCkgKiBvbWVnYSkgLyBzaW5vbTtcclxuICAgIHNjYWxlMSA9IE1hdGguc2luKHQgKiBvbWVnYSkgLyBzaW5vbTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gXCJmcm9tXCIgYW5kIFwidG9cIiBxdWF0ZXJuaW9ucyBhcmUgdmVyeSBjbG9zZVxyXG4gICAgLy8gIC4uLiBzbyB3ZSBjYW4gZG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvblxyXG4gICAgc2NhbGUwID0gMS4wIC0gdDtcclxuICAgIHNjYWxlMSA9IHQ7XHJcbiAgfSAvLyBjYWxjdWxhdGUgZmluYWwgdmFsdWVzXHJcblxyXG5cclxuICBvdXRbMF0gPSBzY2FsZTAgKiBheCArIHNjYWxlMSAqIGJ4O1xyXG4gIG91dFsxXSA9IHNjYWxlMCAqIGF5ICsgc2NhbGUxICogYnk7XHJcbiAgb3V0WzJdID0gc2NhbGUwICogYXogKyBzY2FsZTEgKiBiejtcclxuICBvdXRbM10gPSBzY2FsZTAgKiBhdyArIHNjYWxlMSAqIGJ3O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB1bml0IHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCkge1xyXG4gIC8vIEltcGxlbWVudGF0aW9uIG9mIGh0dHA6Ly9wbGFubmluZy5jcy51aXVjLmVkdS9ub2RlMTk4Lmh0bWxcclxuICAvLyBUT0RPOiBDYWxsaW5nIHJhbmRvbSAzIHRpbWVzIGlzIHByb2JhYmx5IG5vdCB0aGUgZmFzdGVzdCBzb2x1dGlvblxyXG4gIHZhciB1MSA9IGdsTWF0cml4LlJBTkRPTSgpO1xyXG4gIHZhciB1MiA9IGdsTWF0cml4LlJBTkRPTSgpO1xyXG4gIHZhciB1MyA9IGdsTWF0cml4LlJBTkRPTSgpO1xyXG4gIHZhciBzcXJ0MU1pbnVzVTEgPSBNYXRoLnNxcnQoMSAtIHUxKTtcclxuICB2YXIgc3FydFUxID0gTWF0aC5zcXJ0KHUxKTtcclxuICBvdXRbMF0gPSBzcXJ0MU1pbnVzVTEgKiBNYXRoLnNpbigyLjAgKiBNYXRoLlBJICogdTIpO1xyXG4gIG91dFsxXSA9IHNxcnQxTWludXNVMSAqIE1hdGguY29zKDIuMCAqIE1hdGguUEkgKiB1Mik7XHJcbiAgb3V0WzJdID0gc3FydFUxICogTWF0aC5zaW4oMi4wICogTWF0aC5QSSAqIHUzKTtcclxuICBvdXRbM10gPSBzcXJ0VTEgKiBNYXRoLmNvcygyLjAgKiBNYXRoLlBJICogdTMpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGludmVyc2Ugb2YgYSBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBpbnZlcnNlIG9mXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xyXG4gIHZhciBhMCA9IGFbMF0sXHJcbiAgICAgIGExID0gYVsxXSxcclxuICAgICAgYTIgPSBhWzJdLFxyXG4gICAgICBhMyA9IGFbM107XHJcbiAgdmFyIGRvdCA9IGEwICogYTAgKyBhMSAqIGExICsgYTIgKiBhMiArIGEzICogYTM7XHJcbiAgdmFyIGludkRvdCA9IGRvdCA/IDEuMCAvIGRvdCA6IDA7IC8vIFRPRE86IFdvdWxkIGJlIGZhc3RlciB0byByZXR1cm4gWzAsMCwwLDBdIGltbWVkaWF0ZWx5IGlmIGRvdCA9PSAwXHJcblxyXG4gIG91dFswXSA9IC1hMCAqIGludkRvdDtcclxuICBvdXRbMV0gPSAtYTEgKiBpbnZEb3Q7XHJcbiAgb3V0WzJdID0gLWEyICogaW52RG90O1xyXG4gIG91dFszXSA9IGEzICogaW52RG90O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGNvbmp1Z2F0ZSBvZiBhIHF1YXRcclxuICogSWYgdGhlIHF1YXRlcm5pb24gaXMgbm9ybWFsaXplZCwgdGhpcyBmdW5jdGlvbiBpcyBmYXN0ZXIgdGhhbiBxdWF0LmludmVyc2UgYW5kIHByb2R1Y2VzIHRoZSBzYW1lIHJlc3VsdC5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIGNvbmp1Z2F0ZSBvZlxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbmp1Z2F0ZShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSAtYVswXTtcclxuICBvdXRbMV0gPSAtYVsxXTtcclxuICBvdXRbMl0gPSAtYVsyXTtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIDN4MyByb3RhdGlvbiBtYXRyaXguXHJcbiAqXHJcbiAqIE5PVEU6IFRoZSByZXN1bHRhbnQgcXVhdGVybmlvbiBpcyBub3Qgbm9ybWFsaXplZCwgc28geW91IHNob3VsZCBiZSBzdXJlXHJcbiAqIHRvIHJlbm9ybWFsaXplIHRoZSBxdWF0ZXJuaW9uIHlvdXJzZWxmIHdoZXJlIG5lY2Vzc2FyeS5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIHJvdGF0aW9uIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0MyhvdXQsIG0pIHtcclxuICAvLyBBbGdvcml0aG0gaW4gS2VuIFNob2VtYWtlJ3MgYXJ0aWNsZSBpbiAxOTg3IFNJR0dSQVBIIGNvdXJzZSBub3Rlc1xyXG4gIC8vIGFydGljbGUgXCJRdWF0ZXJuaW9uIENhbGN1bHVzIGFuZCBGYXN0IEFuaW1hdGlvblwiLlxyXG4gIHZhciBmVHJhY2UgPSBtWzBdICsgbVs0XSArIG1bOF07XHJcbiAgdmFyIGZSb290O1xyXG5cclxuICBpZiAoZlRyYWNlID4gMC4wKSB7XHJcbiAgICAvLyB8d3wgPiAxLzIsIG1heSBhcyB3ZWxsIGNob29zZSB3ID4gMS8yXHJcbiAgICBmUm9vdCA9IE1hdGguc3FydChmVHJhY2UgKyAxLjApOyAvLyAyd1xyXG5cclxuICAgIG91dFszXSA9IDAuNSAqIGZSb290O1xyXG4gICAgZlJvb3QgPSAwLjUgLyBmUm9vdDsgLy8gMS8oNHcpXHJcblxyXG4gICAgb3V0WzBdID0gKG1bNV0gLSBtWzddKSAqIGZSb290O1xyXG4gICAgb3V0WzFdID0gKG1bNl0gLSBtWzJdKSAqIGZSb290O1xyXG4gICAgb3V0WzJdID0gKG1bMV0gLSBtWzNdKSAqIGZSb290O1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyB8d3wgPD0gMS8yXHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICBpZiAobVs0XSA+IG1bMF0pIGkgPSAxO1xyXG4gICAgaWYgKG1bOF0gPiBtW2kgKiAzICsgaV0pIGkgPSAyO1xyXG4gICAgdmFyIGogPSAoaSArIDEpICUgMztcclxuICAgIHZhciBrID0gKGkgKyAyKSAlIDM7XHJcbiAgICBmUm9vdCA9IE1hdGguc3FydChtW2kgKiAzICsgaV0gLSBtW2ogKiAzICsgal0gLSBtW2sgKiAzICsga10gKyAxLjApO1xyXG4gICAgb3V0W2ldID0gMC41ICogZlJvb3Q7XHJcbiAgICBmUm9vdCA9IDAuNSAvIGZSb290O1xyXG4gICAgb3V0WzNdID0gKG1baiAqIDMgKyBrXSAtIG1bayAqIDMgKyBqXSkgKiBmUm9vdDtcclxuICAgIG91dFtqXSA9IChtW2ogKiAzICsgaV0gKyBtW2kgKiAzICsgal0pICogZlJvb3Q7XHJcbiAgICBvdXRba10gPSAobVtrICogMyArIGldICsgbVtpICogMyArIGtdKSAqIGZSb290O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIHF1YXRlcm5pb24gZnJvbSB0aGUgZ2l2ZW4gZXVsZXIgYW5nbGUgeCwgeSwgei5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7eH0gQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBYIGF4aXMgaW4gZGVncmVlcy5cclxuICogQHBhcmFtIHt5fSBBbmdsZSB0byByb3RhdGUgYXJvdW5kIFkgYXhpcyBpbiBkZWdyZWVzLlxyXG4gKiBAcGFyYW0ge3p9IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWiBheGlzIGluIGRlZ3JlZXMuXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdWxlcihvdXQsIHgsIHksIHopIHtcclxuICB2YXIgaGFsZlRvUmFkID0gMC41ICogTWF0aC5QSSAvIDE4MC4wO1xyXG4gIHggKj0gaGFsZlRvUmFkO1xyXG4gIHkgKj0gaGFsZlRvUmFkO1xyXG4gIHogKj0gaGFsZlRvUmFkO1xyXG4gIHZhciBzeCA9IE1hdGguc2luKHgpO1xyXG4gIHZhciBjeCA9IE1hdGguY29zKHgpO1xyXG4gIHZhciBzeSA9IE1hdGguc2luKHkpO1xyXG4gIHZhciBjeSA9IE1hdGguY29zKHkpO1xyXG4gIHZhciBzeiA9IE1hdGguc2luKHopO1xyXG4gIHZhciBjeiA9IE1hdGguY29zKHopO1xyXG4gIG91dFswXSA9IHN4ICogY3kgKiBjeiAtIGN4ICogc3kgKiBzejtcclxuICBvdXRbMV0gPSBjeCAqIHN5ICogY3ogKyBzeCAqIGN5ICogc3o7XHJcbiAgb3V0WzJdID0gY3ggKiBjeSAqIHN6IC0gc3ggKiBzeSAqIGN6O1xyXG4gIG91dFszXSA9IGN4ICogY3kgKiBjeiArIHN4ICogc3kgKiBzejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgcXVhdGVuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcclxuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcclxuICByZXR1cm4gXCJxdWF0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiKVwiO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXRlcm5pb24gdG8gY2xvbmVcclxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBjbG9uZSA9IHZlYzQuY2xvbmU7XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XHJcbiAqIEByZXR1cm5zIHtxdWF0fSBhIG5ldyBxdWF0ZXJuaW9uXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZnJvbVZhbHVlcyA9IHZlYzQuZnJvbVZhbHVlcztcclxuLyoqXHJcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBxdWF0IHRvIGFub3RoZXJcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBzb3VyY2UgcXVhdGVybmlvblxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgY29weSA9IHZlYzQuY29weTtcclxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHF1YXQgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNldCA9IHZlYzQuc2V0O1xyXG4vKipcclxuICogQWRkcyB0d28gcXVhdCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGFkZCA9IHZlYzQuYWRkO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Lm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xyXG4vKipcclxuICogU2NhbGVzIGEgcXVhdCBieSBhIHNjYWxhciBudW1iZXJcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc2NhbGUgPSB2ZWM0LnNjYWxlO1xyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHF1YXQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGRvdCA9IHZlYzQuZG90O1xyXG4vKipcclxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBxdWF0J3NcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBsZXJwID0gdmVjNC5sZXJwO1xyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbGVuZ3RoID0gdmVjNC5sZW5ndGg7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQubGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzcXVhcmVkTGVuZ3RoID0gdmVjNC5zcXVhcmVkTGVuZ3RoO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0LnNxdWFyZWRMZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcclxuLyoqXHJcbiAqIE5vcm1hbGl6ZSBhIHF1YXRcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXRlcm5pb24gdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBub3JtYWxpemUgPSB2ZWM0Lm5vcm1hbGl6ZTtcclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHF1YXRlcm5pb25zIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgVGhlIGZpcnN0IHF1YXRlcm5pb24uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIFRoZSBzZWNvbmQgcXVhdGVybmlvbi5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBleGFjdEVxdWFscyA9IHZlYzQuZXhhY3RFcXVhbHM7XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBxdWF0ZXJuaW9ucyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGVxdWFscyA9IHZlYzQuZXF1YWxzO1xyXG4vKipcclxuICogU2V0cyBhIHF1YXRlcm5pb24gdG8gcmVwcmVzZW50IHRoZSBzaG9ydGVzdCByb3RhdGlvbiBmcm9tIG9uZVxyXG4gKiB2ZWN0b3IgdG8gYW5vdGhlci5cclxuICpcclxuICogQm90aCB2ZWN0b3JzIGFyZSBhc3N1bWVkIHRvIGJlIHVuaXQgbGVuZ3RoLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb24uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBpbml0aWFsIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgZGVzdGluYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgdmFyIHJvdGF0aW9uVG8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHRtcHZlYzMgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIHZhciB4VW5pdFZlYzMgPSB2ZWMzLmZyb21WYWx1ZXMoMSwgMCwgMCk7XHJcbiAgdmFyIHlVbml0VmVjMyA9IHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKTtcclxuICByZXR1cm4gZnVuY3Rpb24gKG91dCwgYSwgYikge1xyXG4gICAgdmFyIGRvdCA9IHZlYzMuZG90KGEsIGIpO1xyXG5cclxuICAgIGlmIChkb3QgPCAtMC45OTk5OTkpIHtcclxuICAgICAgdmVjMy5jcm9zcyh0bXB2ZWMzLCB4VW5pdFZlYzMsIGEpO1xyXG4gICAgICBpZiAodmVjMy5sZW4odG1wdmVjMykgPCAwLjAwMDAwMSkgdmVjMy5jcm9zcyh0bXB2ZWMzLCB5VW5pdFZlYzMsIGEpO1xyXG4gICAgICB2ZWMzLm5vcm1hbGl6ZSh0bXB2ZWMzLCB0bXB2ZWMzKTtcclxuICAgICAgc2V0QXhpc0FuZ2xlKG91dCwgdG1wdmVjMywgTWF0aC5QSSk7XHJcbiAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9IGVsc2UgaWYgKGRvdCA+IDAuOTk5OTk5KSB7XHJcbiAgICAgIG91dFswXSA9IDA7XHJcbiAgICAgIG91dFsxXSA9IDA7XHJcbiAgICAgIG91dFsyXSA9IDA7XHJcbiAgICAgIG91dFszXSA9IDE7XHJcbiAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2ZWMzLmNyb3NzKHRtcHZlYzMsIGEsIGIpO1xyXG4gICAgICBvdXRbMF0gPSB0bXB2ZWMzWzBdO1xyXG4gICAgICBvdXRbMV0gPSB0bXB2ZWMzWzFdO1xyXG4gICAgICBvdXRbMl0gPSB0bXB2ZWMzWzJdO1xyXG4gICAgICBvdXRbM10gPSAxICsgZG90O1xyXG4gICAgICByZXR1cm4gbm9ybWFsaXplKG91dCwgb3V0KTtcclxuICAgIH1cclxuICB9O1xyXG59KCk7XHJcbi8qKlxyXG4gKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBjIHRoZSB0aGlyZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBkIHRoZSBmb3VydGggb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNxbGVycCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgdGVtcDEgPSBjcmVhdGUoKTtcclxuICB2YXIgdGVtcDIgPSBjcmVhdGUoKTtcclxuICByZXR1cm4gZnVuY3Rpb24gKG91dCwgYSwgYiwgYywgZCwgdCkge1xyXG4gICAgc2xlcnAodGVtcDEsIGEsIGQsIHQpO1xyXG4gICAgc2xlcnAodGVtcDIsIGIsIGMsIHQpO1xyXG4gICAgc2xlcnAob3V0LCB0ZW1wMSwgdGVtcDIsIDIgKiB0ICogKDEgLSB0KSk7XHJcbiAgICByZXR1cm4gb3V0O1xyXG4gIH07XHJcbn0oKTtcclxuLyoqXHJcbiAqIFNldHMgdGhlIHNwZWNpZmllZCBxdWF0ZXJuaW9uIHdpdGggdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuXHJcbiAqIGF4ZXMuIEVhY2ggYXhpcyBpcyBhIHZlYzMgYW5kIGlzIGV4cGVjdGVkIHRvIGJlIHVuaXQgbGVuZ3RoIGFuZFxyXG4gKiBwZXJwZW5kaWN1bGFyIHRvIGFsbCBvdGhlciBzcGVjaWZpZWQgYXhlcy5cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHZpZXcgIHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSB2aWV3aW5nIGRpcmVjdGlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcmlnaHQgdGhlIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGxvY2FsIFwicmlnaHRcIiBkaXJlY3Rpb25cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwICAgIHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBsb2NhbCBcInVwXCIgZGlyZWN0aW9uXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNldEF4ZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIG1hdHIgPSBtYXQzLmNyZWF0ZSgpO1xyXG4gIHJldHVybiBmdW5jdGlvbiAob3V0LCB2aWV3LCByaWdodCwgdXApIHtcclxuICAgIG1hdHJbMF0gPSByaWdodFswXTtcclxuICAgIG1hdHJbM10gPSByaWdodFsxXTtcclxuICAgIG1hdHJbNl0gPSByaWdodFsyXTtcclxuICAgIG1hdHJbMV0gPSB1cFswXTtcclxuICAgIG1hdHJbNF0gPSB1cFsxXTtcclxuICAgIG1hdHJbN10gPSB1cFsyXTtcclxuICAgIG1hdHJbMl0gPSAtdmlld1swXTtcclxuICAgIG1hdHJbNV0gPSAtdmlld1sxXTtcclxuICAgIG1hdHJbOF0gPSAtdmlld1syXTtcclxuICAgIHJldHVybiBub3JtYWxpemUob3V0LCBmcm9tTWF0MyhvdXQsIG1hdHIpKTtcclxuICB9O1xyXG59KCk7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xyXG4vKipcclxuICogMyBEaW1lbnNpb25hbCBWZWN0b3JcclxuICogQG1vZHVsZSB2ZWMzXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzNcclxuICpcclxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xyXG5cclxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcclxuICAgIG91dFswXSA9IDA7XHJcbiAgICBvdXRbMV0gPSAwO1xyXG4gICAgb3V0WzJdID0gMDtcclxuICB9XHJcblxyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2xvbmVcclxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSBhWzJdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcclxuICB2YXIgeCA9IGFbMF07XHJcbiAgdmFyIHkgPSBhWzFdO1xyXG4gIHZhciB6ID0gYVsyXTtcclxuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeikge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcclxuICBvdXRbMF0gPSB4O1xyXG4gIG91dFsxXSA9IHk7XHJcbiAgb3V0WzJdID0gejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjMyB0byBhbm90aGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBzb3VyY2UgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6KSB7XHJcbiAgb3V0WzBdID0geDtcclxuICBvdXRbMV0gPSB5O1xyXG4gIG91dFsyXSA9IHo7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWRkcyB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcclxuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcclxuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogRGl2aWRlcyB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcclxuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjZWlsXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XHJcbiAgb3V0WzFdID0gTWF0aC5jZWlsKGFbMV0pO1xyXG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gZmxvb3JcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5mbG9vcihhWzJdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IE1hdGgubWluKGFbMF0sIGJbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xyXG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYXgob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XHJcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5tYXgoYVsyXSwgYlsyXSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJvdW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gTWF0aC5yb3VuZChhWzBdKTtcclxuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xyXG4gIG91dFsyXSA9IE1hdGgucm91bmQoYVsyXSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2NhbGVzIGEgdmVjMyBieSBhIHNjYWxhciBudW1iZXJcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKiBiO1xyXG4gIG91dFsxXSA9IGFbMV0gKiBiO1xyXG4gIG91dFsyXSA9IGFbMl0gKiBiO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgdHdvIHZlYzMncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xyXG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XHJcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcclxuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XHJcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcclxuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xyXG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XHJcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcclxuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xyXG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XHJcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcclxuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xyXG4gIHZhciB4ID0gYVswXTtcclxuICB2YXIgeSA9IGFbMV07XHJcbiAgdmFyIHogPSBhWzJdO1xyXG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XHJcbn1cclxuLyoqXHJcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBuZWdhdGVcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gLWFbMF07XHJcbiAgb3V0WzFdID0gLWFbMV07XHJcbiAgb3V0WzJdID0gLWFbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGludmVydFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcclxuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xyXG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTm9ybWFsaXplIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xyXG4gIHZhciB4ID0gYVswXTtcclxuICB2YXIgeSA9IGFbMV07XHJcbiAgdmFyIHogPSBhWzJdO1xyXG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHo7XHJcblxyXG4gIGlmIChsZW4gPiAwKSB7XHJcbiAgICAvL1RPRE86IGV2YWx1YXRlIHVzZSBvZiBnbG1faW52c3FydCBoZXJlP1xyXG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xyXG4gIH1cclxuXHJcbiAgb3V0WzBdID0gYVswXSAqIGxlbjtcclxuICBvdXRbMV0gPSBhWzFdICogbGVuO1xyXG4gIG91dFsyXSA9IGFbMl0gKiBsZW47XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xyXG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XHJcbn1cclxuLyoqXHJcbiAqIENvbXB1dGVzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCBhLCBiKSB7XHJcbiAgdmFyIGF4ID0gYVswXSxcclxuICAgICAgYXkgPSBhWzFdLFxyXG4gICAgICBheiA9IGFbMl07XHJcbiAgdmFyIGJ4ID0gYlswXSxcclxuICAgICAgYnkgPSBiWzFdLFxyXG4gICAgICBieiA9IGJbMl07XHJcbiAgb3V0WzBdID0gYXkgKiBieiAtIGF6ICogYnk7XHJcbiAgb3V0WzFdID0gYXogKiBieCAtIGF4ICogYno7XHJcbiAgb3V0WzJdID0gYXggKiBieSAtIGF5ICogYng7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xyXG4gIHZhciBheCA9IGFbMF07XHJcbiAgdmFyIGF5ID0gYVsxXTtcclxuICB2YXIgYXogPSBhWzJdO1xyXG4gIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpO1xyXG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xyXG4gIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgaGVybWl0ZSBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhlcm1pdGUob3V0LCBhLCBiLCBjLCBkLCB0KSB7XHJcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xyXG4gIHZhciBmYWN0b3IxID0gZmFjdG9yVGltZXMyICogKDIgKiB0IC0gMykgKyAxO1xyXG4gIHZhciBmYWN0b3IyID0gZmFjdG9yVGltZXMyICogKHQgLSAyKSArIHQ7XHJcbiAgdmFyIGZhY3RvcjMgPSBmYWN0b3JUaW1lczIgKiAodCAtIDEpO1xyXG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogKDMgLSAyICogdCk7XHJcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XHJcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XHJcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUGVyZm9ybXMgYSBiZXppZXIgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiZXppZXIob3V0LCBhLCBiLCBjLCBkLCB0KSB7XHJcbiAgdmFyIGludmVyc2VGYWN0b3IgPSAxIC0gdDtcclxuICB2YXIgaW52ZXJzZUZhY3RvclRpbWVzVHdvID0gaW52ZXJzZUZhY3RvciAqIGludmVyc2VGYWN0b3I7XHJcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xyXG4gIHZhciBmYWN0b3IxID0gaW52ZXJzZUZhY3RvclRpbWVzVHdvICogaW52ZXJzZUZhY3RvcjtcclxuICB2YXIgZmFjdG9yMiA9IDMgKiB0ICogaW52ZXJzZUZhY3RvclRpbWVzVHdvO1xyXG4gIHZhciBmYWN0b3IzID0gMyAqIGZhY3RvclRpbWVzMiAqIGludmVyc2VGYWN0b3I7XHJcbiAgdmFyIGZhY3RvcjQgPSBmYWN0b3JUaW1lczIgKiB0O1xyXG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xyXG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xyXG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB2ZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc2NhbGVcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbW1pdHRlZCwgYSB1bml0IHZlY3RvciB3aWxsIGJlIHJldHVybmVkXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcclxuICBzY2FsZSA9IHNjYWxlIHx8IDEuMDtcclxuICB2YXIgciA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wICogTWF0aC5QSTtcclxuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xyXG4gIHZhciB6U2NhbGUgPSBNYXRoLnNxcnQoMS4wIC0geiAqIHopICogc2NhbGU7XHJcbiAgb3V0WzBdID0gTWF0aC5jb3MocikgKiB6U2NhbGU7XHJcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XHJcbiAgb3V0WzJdID0geiAqIHNjYWxlO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDQuXHJcbiAqIDR0aCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XHJcbiAgdmFyIHggPSBhWzBdLFxyXG4gICAgICB5ID0gYVsxXSxcclxuICAgICAgeiA9IGFbMl07XHJcbiAgdmFyIHcgPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV07XHJcbiAgdyA9IHcgfHwgMS4wO1xyXG4gIG91dFswXSA9IChtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSkgLyB3O1xyXG4gIG91dFsxXSA9IChtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHogKyBtWzEzXSkgLyB3O1xyXG4gIG91dFsyXSA9IChtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0pIC8gdztcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSB0aGUgM3gzIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDMob3V0LCBhLCBtKSB7XHJcbiAgdmFyIHggPSBhWzBdLFxyXG4gICAgICB5ID0gYVsxXSxcclxuICAgICAgeiA9IGFbMl07XHJcbiAgb3V0WzBdID0geCAqIG1bMF0gKyB5ICogbVszXSArIHogKiBtWzZdO1xyXG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNF0gKyB6ICogbVs3XTtcclxuICBvdXRbMl0gPSB4ICogbVsyXSArIHkgKiBtWzVdICsgeiAqIG1bOF07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgcXVhdFxyXG4gKiBDYW4gYWxzbyBiZSB1c2VkIGZvciBkdWFsIHF1YXRlcm5pb25zLiAoTXVsdGlwbHkgaXQgd2l0aCB0aGUgcmVhbCBwYXJ0KVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcclxuICAvLyBiZW5jaG1hcmtzOiBodHRwczovL2pzcGVyZi5jb20vcXVhdGVybmlvbi10cmFuc2Zvcm0tdmVjMy1pbXBsZW1lbnRhdGlvbnMtZml4ZWRcclxuICB2YXIgcXggPSBxWzBdLFxyXG4gICAgICBxeSA9IHFbMV0sXHJcbiAgICAgIHF6ID0gcVsyXSxcclxuICAgICAgcXcgPSBxWzNdO1xyXG4gIHZhciB4ID0gYVswXSxcclxuICAgICAgeSA9IGFbMV0sXHJcbiAgICAgIHogPSBhWzJdOyAvLyB2YXIgcXZlYyA9IFtxeCwgcXksIHF6XTtcclxuICAvLyB2YXIgdXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCBhKTtcclxuXHJcbiAgdmFyIHV2eCA9IHF5ICogeiAtIHF6ICogeSxcclxuICAgICAgdXZ5ID0gcXogKiB4IC0gcXggKiB6LFxyXG4gICAgICB1dnogPSBxeCAqIHkgLSBxeSAqIHg7IC8vIHZhciB1dXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCB1dik7XHJcblxyXG4gIHZhciB1dXZ4ID0gcXkgKiB1dnogLSBxeiAqIHV2eSxcclxuICAgICAgdXV2eSA9IHF6ICogdXZ4IC0gcXggKiB1dnosXHJcbiAgICAgIHV1dnogPSBxeCAqIHV2eSAtIHF5ICogdXZ4OyAvLyB2ZWMzLnNjYWxlKHV2LCB1diwgMiAqIHcpO1xyXG5cclxuICB2YXIgdzIgPSBxdyAqIDI7XHJcbiAgdXZ4ICo9IHcyO1xyXG4gIHV2eSAqPSB3MjtcclxuICB1dnogKj0gdzI7IC8vIHZlYzMuc2NhbGUodXV2LCB1dXYsIDIpO1xyXG5cclxuICB1dXZ4ICo9IDI7XHJcbiAgdXV2eSAqPSAyO1xyXG4gIHV1dnogKj0gMjsgLy8gcmV0dXJuIHZlYzMuYWRkKG91dCwgYSwgdmVjMy5hZGQob3V0LCB1diwgdXV2KSk7XHJcblxyXG4gIG91dFswXSA9IHggKyB1dnggKyB1dXZ4O1xyXG4gIG91dFsxXSA9IHkgKyB1dnkgKyB1dXZ5O1xyXG4gIG91dFsyXSA9IHogKyB1dnogKyB1dXZ6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgYiwgcmFkKSB7XHJcbiAgdmFyIHAgPSBbXSxcclxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXHJcblxyXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcclxuICBwWzFdID0gYVsxXSAtIGJbMV07XHJcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cclxuXHJcbiAgclswXSA9IHBbMF07XHJcbiAgclsxXSA9IHBbMV0gKiBNYXRoLmNvcyhyYWQpIC0gcFsyXSAqIE1hdGguc2luKHJhZCk7XHJcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cclxuXHJcbiAgb3V0WzBdID0gclswXSArIGJbMF07XHJcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XHJcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgeS1heGlzXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCBiLCByYWQpIHtcclxuICB2YXIgcCA9IFtdLFxyXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cclxuXHJcbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xyXG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcclxuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxyXG5cclxuICByWzBdID0gcFsyXSAqIE1hdGguc2luKHJhZCkgKyBwWzBdICogTWF0aC5jb3MocmFkKTtcclxuICByWzFdID0gcFsxXTtcclxuICByWzJdID0gcFsyXSAqIE1hdGguY29zKHJhZCkgLSBwWzBdICogTWF0aC5zaW4ocmFkKTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxyXG5cclxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcclxuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcclxuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB6LWF4aXNcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIGIsIHJhZCkge1xyXG4gIHZhciBwID0gW10sXHJcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxyXG5cclxuICBwWzBdID0gYVswXSAtIGJbMF07XHJcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xyXG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXHJcblxyXG4gIHJbMF0gPSBwWzBdICogTWF0aC5jb3MocmFkKSAtIHBbMV0gKiBNYXRoLnNpbihyYWQpO1xyXG4gIHJbMV0gPSBwWzBdICogTWF0aC5zaW4ocmFkKSArIHBbMV0gKiBNYXRoLmNvcyhyYWQpO1xyXG4gIHJbMl0gPSBwWzJdOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXHJcblxyXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xyXG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xyXG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYW5nbGUoYSwgYikge1xyXG4gIHZhciBheCA9IGFbMF0sXHJcbiAgICAgIGF5ID0gYVsxXSxcclxuICAgICAgYXogPSBhWzJdLFxyXG4gICAgICBieCA9IGJbMF0sXHJcbiAgICAgIGJ5ID0gYlsxXSxcclxuICAgICAgYnogPSBiWzJdLFxyXG4gICAgICBtYWcxID0gTWF0aC5zcXJ0KGF4ICogYXggKyBheSAqIGF5ICsgYXogKiBheiksXHJcbiAgICAgIG1hZzIgPSBNYXRoLnNxcnQoYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6KSxcclxuICAgICAgbWFnID0gbWFnMSAqIG1hZzIsXHJcbiAgICAgIGNvc2luZSA9IG1hZyAmJiBkb3QoYSwgYikgLyBtYWc7XHJcbiAgcmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChjb3NpbmUsIC0xKSwgMSkpO1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHplcm9cclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xyXG4gIG91dFswXSA9IDAuMDtcclxuICBvdXRbMV0gPSAwLjA7XHJcbiAgb3V0WzJdID0gMC4wO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xyXG4gIHJldHVybiBcInZlYzMoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIilcIjtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xyXG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcclxuICB2YXIgYTAgPSBhWzBdLFxyXG4gICAgICBhMSA9IGFbMV0sXHJcbiAgICAgIGEyID0gYVsyXTtcclxuICB2YXIgYjAgPSBiWzBdLFxyXG4gICAgICBiMSA9IGJbMV0sXHJcbiAgICAgIGIyID0gYlsyXTtcclxuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSk7XHJcbn1cclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zdWJ0cmFjdH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5tdWx0aXBseX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5kaXZpZGV9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpc3RhbmNlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zcXVhcmVkRGlzdGFuY2V9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5sZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWRMZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcclxuLyoqXHJcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWMzcy5cclxuICpcclxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgYXJyYXkgb2YgdmVjdG9ycyB0byBpdGVyYXRlIG92ZXJcclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWMzLiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcclxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxyXG4gKiBAcGFyYW0ge051bWJlcn0gY291bnQgTnVtYmVyIG9mIHZlYzNzIHRvIGl0ZXJhdGUgb3Zlci4gSWYgMCBpdGVyYXRlcyBvdmVyIGVudGlyZSBhcnJheVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcclxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcclxuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xyXG4gICAgdmFyIGksIGw7XHJcblxyXG4gICAgaWYgKCFzdHJpZGUpIHtcclxuICAgICAgc3RyaWRlID0gMztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9mZnNldCkge1xyXG4gICAgICBvZmZzZXQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb3VudCkge1xyXG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGwgPSBhLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xyXG4gICAgICB2ZWNbMF0gPSBhW2ldO1xyXG4gICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcclxuICAgICAgdmVjWzJdID0gYVtpICsgMl07XHJcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xyXG4gICAgICBhW2ldID0gdmVjWzBdO1xyXG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcclxuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGE7XHJcbiAgfTtcclxufSgpOyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcclxuLyoqXHJcbiAqIDQgRGltZW5zaW9uYWwgVmVjdG9yXHJcbiAqIEBtb2R1bGUgdmVjNFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWM0XHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcclxuXHJcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XHJcbiAgICBvdXRbMF0gPSAwO1xyXG4gICAgb3V0WzFdID0gMDtcclxuICAgIG91dFsyXSA9IDA7XHJcbiAgICBvdXRbM10gPSAwO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyB2ZWM0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjbG9uZVxyXG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6LCB3KSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xyXG4gIG91dFswXSA9IHg7XHJcbiAgb3V0WzFdID0geTtcclxuICBvdXRbMl0gPSB6O1xyXG4gIG91dFszXSA9IHc7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzQgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgc291cmNlIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6LCB3KSB7XHJcbiAgb3V0WzBdID0geDtcclxuICBvdXRbMV0gPSB5O1xyXG4gIG91dFsyXSA9IHo7XHJcbiAgb3V0WzNdID0gdztcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICogYlswXTtcclxuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcclxuICBvdXRbM10gPSBhWzNdICogYlszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBEaXZpZGVzIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gLyBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gLyBiWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE1hdGguY2VpbCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNlaWxcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xyXG4gIG91dFswXSA9IE1hdGguY2VpbChhWzBdKTtcclxuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xyXG4gIG91dFszXSA9IE1hdGguY2VpbChhWzNdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gZmxvb3JcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5mbG9vcihhWzJdKTtcclxuICBvdXRbM10gPSBNYXRoLmZsb29yKGFbM10pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XHJcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5taW4oYVsyXSwgYlsyXSk7XHJcbiAgb3V0WzNdID0gTWF0aC5taW4oYVszXSwgYlszXSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcclxuICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcclxuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcclxuICBvdXRbM10gPSBNYXRoLm1heChhWzNdLCBiWzNdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcm91bmRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5yb3VuZChhWzJdKTtcclxuICBvdXRbM10gPSBNYXRoLnJvdW5kKGFbM10pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNjYWxlcyBhIHZlYzQgYnkgYSBzY2FsYXIgbnVtYmVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICogYjtcclxuICBvdXRbMV0gPSBhWzFdICogYjtcclxuICBvdXRbMl0gPSBhWzJdICogYjtcclxuICBvdXRbM10gPSBhWzNdICogYjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWM0J3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcclxuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xyXG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XHJcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcclxuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XHJcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcclxuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xyXG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XHJcbiAgdmFyIHcgPSBiWzNdIC0gYVszXTtcclxuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6LCB3KTtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xyXG4gIHZhciB4ID0gYlswXSAtIGFbMF07XHJcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcclxuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xyXG4gIHZhciB3ID0gYlszXSAtIGFbM107XHJcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XHJcbiAgdmFyIHggPSBhWzBdO1xyXG4gIHZhciB5ID0gYVsxXTtcclxuICB2YXIgeiA9IGFbMl07XHJcbiAgdmFyIHcgPSBhWzNdO1xyXG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHosIHcpO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xyXG4gIHZhciB4ID0gYVswXTtcclxuICB2YXIgeSA9IGFbMV07XHJcbiAgdmFyIHogPSBhWzJdO1xyXG4gIHZhciB3ID0gYVszXTtcclxuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XHJcbn1cclxuLyoqXHJcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBuZWdhdGVcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gLWFbMF07XHJcbiAgb3V0WzFdID0gLWFbMV07XHJcbiAgb3V0WzJdID0gLWFbMl07XHJcbiAgb3V0WzNdID0gLWFbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGludmVydFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcclxuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xyXG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XHJcbiAgb3V0WzNdID0gMS4wIC8gYVszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBOb3JtYWxpemUgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBub3JtYWxpemVcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XHJcbiAgdmFyIHggPSBhWzBdO1xyXG4gIHZhciB5ID0gYVsxXTtcclxuICB2YXIgeiA9IGFbMl07XHJcbiAgdmFyIHcgPSBhWzNdO1xyXG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcclxuXHJcbiAgaWYgKGxlbiA+IDApIHtcclxuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcclxuICB9XHJcblxyXG4gIG91dFswXSA9IHggKiBsZW47XHJcbiAgb3V0WzFdID0geSAqIGxlbjtcclxuICBvdXRbMl0gPSB6ICogbGVuO1xyXG4gIG91dFszXSA9IHcgKiBsZW47XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xyXG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl0gKyBhWzNdICogYlszXTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgY3Jvc3MtcHJvZHVjdCBvZiB0aHJlZSB2ZWN0b3JzIGluIGEgNC1kaW1lbnNpb25hbCBzcGFjZVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gcmVzdWx0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBVIHRoZSBmaXJzdCB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFYgdGhlIHNlY29uZCB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFcgdGhlIHRoaXJkIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7dmVjNH0gcmVzdWx0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgdSwgdiwgdykge1xyXG4gIHZhciBBID0gdlswXSAqIHdbMV0gLSB2WzFdICogd1swXSxcclxuICAgICAgQiA9IHZbMF0gKiB3WzJdIC0gdlsyXSAqIHdbMF0sXHJcbiAgICAgIEMgPSB2WzBdICogd1szXSAtIHZbM10gKiB3WzBdLFxyXG4gICAgICBEID0gdlsxXSAqIHdbMl0gLSB2WzJdICogd1sxXSxcclxuICAgICAgRSA9IHZbMV0gKiB3WzNdIC0gdlszXSAqIHdbMV0sXHJcbiAgICAgIEYgPSB2WzJdICogd1szXSAtIHZbM10gKiB3WzJdO1xyXG4gIHZhciBHID0gdVswXTtcclxuICB2YXIgSCA9IHVbMV07XHJcbiAgdmFyIEkgPSB1WzJdO1xyXG4gIHZhciBKID0gdVszXTtcclxuICBvdXRbMF0gPSBIICogRiAtIEkgKiBFICsgSiAqIEQ7XHJcbiAgb3V0WzFdID0gLShHICogRikgKyBJICogQyAtIEogKiBCO1xyXG4gIG91dFsyXSA9IEcgKiBFIC0gSCAqIEMgKyBKICogQTtcclxuICBvdXRbM10gPSAtKEcgKiBEKSArIEggKiBCIC0gSSAqIEE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xyXG4gIHZhciBheCA9IGFbMF07XHJcbiAgdmFyIGF5ID0gYVsxXTtcclxuICB2YXIgYXogPSBhWzJdO1xyXG4gIHZhciBhdyA9IGFbM107XHJcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XHJcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XHJcbiAgb3V0WzJdID0gYXogKyB0ICogKGJbMl0gLSBheik7XHJcbiAgb3V0WzNdID0gYXcgKyB0ICogKGJbM10gLSBhdyk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0LCBzY2FsZSkge1xyXG4gIHNjYWxlID0gc2NhbGUgfHwgMS4wOyAvLyBNYXJzYWdsaWEsIEdlb3JnZS4gQ2hvb3NpbmcgYSBQb2ludCBmcm9tIHRoZSBTdXJmYWNlIG9mIGFcclxuICAvLyBTcGhlcmUuIEFubi4gTWF0aC4gU3RhdGlzdC4gNDMgKDE5NzIpLCBuby4gMiwgNjQ1LS02NDYuXHJcbiAgLy8gaHR0cDovL3Byb2plY3RldWNsaWQub3JnL2V1Y2xpZC5hb21zLzExNzc2OTI2NDQ7XHJcblxyXG4gIHZhciB2MSwgdjIsIHYzLCB2NDtcclxuICB2YXIgczEsIHMyO1xyXG5cclxuICBkbyB7XHJcbiAgICB2MSA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XHJcbiAgICB2MiA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XHJcbiAgICBzMSA9IHYxICogdjEgKyB2MiAqIHYyO1xyXG4gIH0gd2hpbGUgKHMxID49IDEpO1xyXG5cclxuICBkbyB7XHJcbiAgICB2MyA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XHJcbiAgICB2NCA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XHJcbiAgICBzMiA9IHYzICogdjMgKyB2NCAqIHY0O1xyXG4gIH0gd2hpbGUgKHMyID49IDEpO1xyXG5cclxuICB2YXIgZCA9IE1hdGguc3FydCgoMSAtIHMxKSAvIHMyKTtcclxuICBvdXRbMF0gPSBzY2FsZSAqIHYxO1xyXG4gIG91dFsxXSA9IHNjYWxlICogdjI7XHJcbiAgb3V0WzJdID0gc2NhbGUgKiB2MyAqIGQ7XHJcbiAgb3V0WzNdID0gc2NhbGUgKiB2NCAqIGQ7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNmb3JtcyB0aGUgdmVjNCB3aXRoIGEgbWF0NC5cclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcclxuICB2YXIgeCA9IGFbMF0sXHJcbiAgICAgIHkgPSBhWzFdLFxyXG4gICAgICB6ID0gYVsyXSxcclxuICAgICAgdyA9IGFbM107XHJcbiAgb3V0WzBdID0gbVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0gKiB3O1xyXG4gIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdICogdztcclxuICBvdXRbMl0gPSBtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0gKiB3O1xyXG4gIG91dFszXSA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XSAqIHc7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNmb3JtcyB0aGUgdmVjNCB3aXRoIGEgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcclxuICB2YXIgeCA9IGFbMF0sXHJcbiAgICAgIHkgPSBhWzFdLFxyXG4gICAgICB6ID0gYVsyXTtcclxuICB2YXIgcXggPSBxWzBdLFxyXG4gICAgICBxeSA9IHFbMV0sXHJcbiAgICAgIHF6ID0gcVsyXSxcclxuICAgICAgcXcgPSBxWzNdOyAvLyBjYWxjdWxhdGUgcXVhdCAqIHZlY1xyXG5cclxuICB2YXIgaXggPSBxdyAqIHggKyBxeSAqIHogLSBxeiAqIHk7XHJcbiAgdmFyIGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6O1xyXG4gIHZhciBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDtcclxuICB2YXIgaXcgPSAtcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6OyAvLyBjYWxjdWxhdGUgcmVzdWx0ICogaW52ZXJzZSBxdWF0XHJcblxyXG4gIG91dFswXSA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7XHJcbiAgb3V0WzFdID0gaXkgKiBxdyArIGl3ICogLXF5ICsgaXogKiAtcXggLSBpeCAqIC1xejtcclxuICBvdXRbMl0gPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4O1xyXG4gIG91dFszXSA9IGFbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNCB0byB6ZXJvXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gemVybyhvdXQpIHtcclxuICBvdXRbMF0gPSAwLjA7XHJcbiAgb3V0WzFdID0gMC4wO1xyXG4gIG91dFsyXSA9IDAuMDtcclxuICBvdXRbM10gPSAwLjA7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XHJcbiAgcmV0dXJuIFwidmVjNChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xyXG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xyXG4gIHZhciBhMCA9IGFbMF0sXHJcbiAgICAgIGExID0gYVsxXSxcclxuICAgICAgYTIgPSBhWzJdLFxyXG4gICAgICBhMyA9IGFbM107XHJcbiAgdmFyIGIwID0gYlswXSxcclxuICAgICAgYjEgPSBiWzFdLFxyXG4gICAgICBiMiA9IGJbMl0sXHJcbiAgICAgIGIzID0gYlszXTtcclxuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpO1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuc3VidHJhY3R9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQubXVsdGlwbHl9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuZGl2aWRlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5kaXN0YW5jZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuc3F1YXJlZERpc3RhbmNlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQubGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zcXVhcmVkTGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XHJcbi8qKlxyXG4gKiBQZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG92ZXIgYW4gYXJyYXkgb2YgdmVjNHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdHJpZGUgTnVtYmVyIG9mIGVsZW1lbnRzIGJldHdlZW4gdGhlIHN0YXJ0IG9mIGVhY2ggdmVjNC4gSWYgMCBhc3N1bWVzIHRpZ2h0bHkgcGFja2VkXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcclxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWM0cyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB2ZWN0b3IgaW4gdGhlIGFycmF5XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cclxuICogQHJldHVybnMge0FycmF5fSBhXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgdmVjID0gY3JlYXRlKCk7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcclxuICAgIHZhciBpLCBsO1xyXG5cclxuICAgIGlmICghc3RyaWRlKSB7XHJcbiAgICAgIHN0cmlkZSA9IDQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFvZmZzZXQpIHtcclxuICAgICAgb2Zmc2V0ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY291bnQpIHtcclxuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsID0gYS5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcclxuICAgICAgdmVjWzBdID0gYVtpXTtcclxuICAgICAgdmVjWzFdID0gYVtpICsgMV07XHJcbiAgICAgIHZlY1syXSA9IGFbaSArIDJdO1xyXG4gICAgICB2ZWNbM10gPSBhW2kgKyAzXTtcclxuICAgICAgZm4odmVjLCB2ZWMsIGFyZyk7XHJcbiAgICAgIGFbaV0gPSB2ZWNbMF07XHJcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xyXG4gICAgICBhW2kgKyAyXSA9IHZlY1syXTtcclxuICAgICAgYVtpICsgM10gPSB2ZWNbM107XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGE7XHJcbiAgfTtcclxufSgpOyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcclxuaW1wb3J0ICogYXMgcXVhdCBmcm9tIFwiLi9xdWF0LmpzXCI7XHJcbmltcG9ydCAqIGFzIG1hdDQgZnJvbSBcIi4vbWF0NC5qc1wiO1xyXG4vKipcclxuICogRHVhbCBRdWF0ZXJuaW9uPGJyPlxyXG4gKiBGb3JtYXQ6IFtyZWFsLCBkdWFsXTxicj5cclxuICogUXVhdGVybmlvbiBmb3JtYXQ6IFhZWlc8YnI+XHJcbiAqIE1ha2Ugc3VyZSB0byBoYXZlIG5vcm1hbGl6ZWQgZHVhbCBxdWF0ZXJuaW9ucywgb3RoZXJ3aXNlIHRoZSBmdW5jdGlvbnMgbWF5IG5vdCB3b3JrIGFzIGludGVuZGVkLjxicj5cclxuICogQG1vZHVsZSBxdWF0MlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IGR1YWwgcXVhdFxyXG4gKlxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IGEgbmV3IGR1YWwgcXVhdGVybmlvbiBbcmVhbCAtPiByb3RhdGlvbiwgZHVhbCAtPiB0cmFuc2xhdGlvbl1cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xyXG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xyXG5cclxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcclxuICAgIGRxWzBdID0gMDtcclxuICAgIGRxWzFdID0gMDtcclxuICAgIGRxWzJdID0gMDtcclxuICAgIGRxWzRdID0gMDtcclxuICAgIGRxWzVdID0gMDtcclxuICAgIGRxWzZdID0gMDtcclxuICAgIGRxWzddID0gMDtcclxuICB9XHJcblxyXG4gIGRxWzNdID0gMTtcclxuICByZXR1cm4gZHE7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgcXVhdCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdGVybmlvbiB0byBjbG9uZVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG5ldyBkdWFsIHF1YXRlcm5pb25cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcclxuICB2YXIgZHEgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg4KTtcclxuICBkcVswXSA9IGFbMF07XHJcbiAgZHFbMV0gPSBhWzFdO1xyXG4gIGRxWzJdID0gYVsyXTtcclxuICBkcVszXSA9IGFbM107XHJcbiAgZHFbNF0gPSBhWzRdO1xyXG4gIGRxWzVdID0gYVs1XTtcclxuICBkcVs2XSA9IGFbNl07XHJcbiAgZHFbN10gPSBhWzddO1xyXG4gIHJldHVybiBkcTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBkdWFsIHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4MSBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geTEgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHoxIFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3MSBXIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geDIgWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkyIFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MiBaIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdzIgVyBjb21wb25lbnRcclxuICogQHJldHVybnMge3F1YXQyfSBuZXcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKHgxLCB5MSwgejEsIHcxLCB4MiwgeTIsIHoyLCB3Mikge1xyXG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xyXG4gIGRxWzBdID0geDE7XHJcbiAgZHFbMV0gPSB5MTtcclxuICBkcVsyXSA9IHoxO1xyXG4gIGRxWzNdID0gdzE7XHJcbiAgZHFbNF0gPSB4MjtcclxuICBkcVs1XSA9IHkyO1xyXG4gIGRxWzZdID0gejI7XHJcbiAgZHFbN10gPSB3MjtcclxuICByZXR1cm4gZHE7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgZHVhbCBxdWF0IGZyb20gdGhlIGdpdmVuIHZhbHVlcyAocXVhdCBhbmQgdHJhbnNsYXRpb24pXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4MSBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geTEgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHoxIFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3MSBXIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geDIgWCBjb21wb25lbnQgKHRyYW5zbGF0aW9uKVxyXG4gKiBAcGFyYW0ge051bWJlcn0geTIgWSBjb21wb25lbnQgKHRyYW5zbGF0aW9uKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gejIgWiBjb21wb25lbnQgKHRyYW5zbGF0aW9uKVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG5ldyBkdWFsIHF1YXRlcm5pb25cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uVmFsdWVzKHgxLCB5MSwgejEsIHcxLCB4MiwgeTIsIHoyKSB7XHJcbiAgdmFyIGRxID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOCk7XHJcbiAgZHFbMF0gPSB4MTtcclxuICBkcVsxXSA9IHkxO1xyXG4gIGRxWzJdID0gejE7XHJcbiAgZHFbM10gPSB3MTtcclxuICB2YXIgYXggPSB4MiAqIDAuNSxcclxuICAgICAgYXkgPSB5MiAqIDAuNSxcclxuICAgICAgYXogPSB6MiAqIDAuNTtcclxuICBkcVs0XSA9IGF4ICogdzEgKyBheSAqIHoxIC0gYXogKiB5MTtcclxuICBkcVs1XSA9IGF5ICogdzEgKyBheiAqIHgxIC0gYXggKiB6MTtcclxuICBkcVs2XSA9IGF6ICogdzEgKyBheCAqIHkxIC0gYXkgKiB4MTtcclxuICBkcVs3XSA9IC1heCAqIHgxIC0gYXkgKiB5MSAtIGF6ICogejE7XHJcbiAgcmV0dXJuIGRxO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgZHVhbCBxdWF0IGZyb20gYSBxdWF0ZXJuaW9uIGFuZCBhIHRyYW5zbGF0aW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIGEgbm9ybWFsaXplZCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB0IHRyYW5sYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIHEsIHQpIHtcclxuICB2YXIgYXggPSB0WzBdICogMC41LFxyXG4gICAgICBheSA9IHRbMV0gKiAwLjUsXHJcbiAgICAgIGF6ID0gdFsyXSAqIDAuNSxcclxuICAgICAgYnggPSBxWzBdLFxyXG4gICAgICBieSA9IHFbMV0sXHJcbiAgICAgIGJ6ID0gcVsyXSxcclxuICAgICAgYncgPSBxWzNdO1xyXG4gIG91dFswXSA9IGJ4O1xyXG4gIG91dFsxXSA9IGJ5O1xyXG4gIG91dFsyXSA9IGJ6O1xyXG4gIG91dFszXSA9IGJ3O1xyXG4gIG91dFs0XSA9IGF4ICogYncgKyBheSAqIGJ6IC0gYXogKiBieTtcclxuICBvdXRbNV0gPSBheSAqIGJ3ICsgYXogKiBieCAtIGF4ICogYno7XHJcbiAgb3V0WzZdID0gYXogKiBidyArIGF4ICogYnkgLSBheSAqIGJ4O1xyXG4gIG91dFs3XSA9IC1heCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIGR1YWwgcXVhdCBmcm9tIGEgdHJhbnNsYXRpb25cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBkdWFsIHF1YXRlcm5pb24gcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHQgdHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LCB0KSB7XHJcbiAgb3V0WzBdID0gMDtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMTtcclxuICBvdXRbNF0gPSB0WzBdICogMC41O1xyXG4gIG91dFs1XSA9IHRbMV0gKiAwLjU7XHJcbiAgb3V0WzZdID0gdFsyXSAqIDAuNTtcclxuICBvdXRbN10gPSAwO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBkdWFsIHF1YXQgZnJvbSBhIHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBkdWFsIHF1YXRlcm5pb24gcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgdGhlIHF1YXRlcm5pb25cclxuICogQHJldHVybnMge3F1YXQyfSBkdWFsIHF1YXRlcm5pb24gcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHEpIHtcclxuICBvdXRbMF0gPSBxWzBdO1xyXG4gIG91dFsxXSA9IHFbMV07XHJcbiAgb3V0WzJdID0gcVsyXTtcclxuICBvdXRbM10gPSBxWzNdO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gMDtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBkdWFsIHF1YXQgZnJvbSBhIG1hdHJpeCAoNHg0KVxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4XHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gZHVhbCBxdWF0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0NChvdXQsIGEpIHtcclxuICAvL1RPRE8gT3B0aW1pemUgdGhpc1xyXG4gIHZhciBvdXRlciA9IHF1YXQuY3JlYXRlKCk7XHJcbiAgbWF0NC5nZXRSb3RhdGlvbihvdXRlciwgYSk7XHJcbiAgdmFyIHQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcclxuICBtYXQ0LmdldFRyYW5zbGF0aW9uKHQsIGEpO1xyXG4gIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgb3V0ZXIsIHQpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBkdWFsIHF1YXQgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBzb3VyY2UgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSBhWzJdO1xyXG4gIG91dFszXSA9IGFbM107XHJcbiAgb3V0WzRdID0gYVs0XTtcclxuICBvdXRbNV0gPSBhWzVdO1xyXG4gIG91dFs2XSA9IGFbNl07XHJcbiAgb3V0WzddID0gYVs3XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgYSBkdWFsIHF1YXQgdG8gdGhlIGlkZW50aXR5IGR1YWwgcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xyXG4gIG91dFswXSA9IDA7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDE7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSAwO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBkdWFsIHF1YXQgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4MSBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geTEgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHoxIFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3MSBXIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geDIgWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkyIFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MiBaIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdzIgVyBjb21wb25lbnRcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgxLCB5MSwgejEsIHcxLCB4MiwgeTIsIHoyLCB3Mikge1xyXG4gIG91dFswXSA9IHgxO1xyXG4gIG91dFsxXSA9IHkxO1xyXG4gIG91dFsyXSA9IHoxO1xyXG4gIG91dFszXSA9IHcxO1xyXG4gIG91dFs0XSA9IHgyO1xyXG4gIG91dFs1XSA9IHkyO1xyXG4gIG91dFs2XSA9IHoyO1xyXG4gIG91dFs3XSA9IHcyO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdldHMgdGhlIHJlYWwgcGFydCBvZiBhIGR1YWwgcXVhdFxyXG4gKiBAcGFyYW0gIHtxdWF0fSBvdXQgcmVhbCBwYXJ0XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm4ge3F1YXR9IHJlYWwgcGFydFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZ2V0UmVhbCA9IHF1YXQuY29weTtcclxuLyoqXHJcbiAqIEdldHMgdGhlIGR1YWwgcGFydCBvZiBhIGR1YWwgcXVhdFxyXG4gKiBAcGFyYW0gIHtxdWF0fSBvdXQgZHVhbCBwYXJ0XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm4ge3F1YXR9IGR1YWwgcGFydFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREdWFsKG91dCwgYSkge1xyXG4gIG91dFswXSA9IGFbNF07XHJcbiAgb3V0WzFdID0gYVs1XTtcclxuICBvdXRbMl0gPSBhWzZdO1xyXG4gIG91dFszXSA9IGFbN107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IHRoZSByZWFsIGNvbXBvbmVudCBvZiBhIGR1YWwgcXVhdCB0byB0aGUgZ2l2ZW4gcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJlYWwgcGFydFxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNldFJlYWwgPSBxdWF0LmNvcHk7XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGR1YWwgY29tcG9uZW50IG9mIGEgZHVhbCBxdWF0IHRvIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgYSBxdWF0ZXJuaW9uIHJlcHJlc2VudGluZyB0aGUgZHVhbCBwYXJ0XHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXREdWFsKG91dCwgcSkge1xyXG4gIG91dFs0XSA9IHFbMF07XHJcbiAgb3V0WzVdID0gcVsxXTtcclxuICBvdXRbNl0gPSBxWzJdO1xyXG4gIG91dFs3XSA9IHFbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2V0cyB0aGUgdHJhbnNsYXRpb24gb2YgYSBub3JtYWxpemVkIGR1YWwgcXVhdFxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgdHJhbnNsYXRpb25cclxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0Mn0gYSBEdWFsIFF1YXRlcm5pb24gdG8gYmUgZGVjb21wb3NlZFxyXG4gKiBAcmV0dXJuIHt2ZWMzfSB0cmFuc2xhdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsIGEpIHtcclxuICB2YXIgYXggPSBhWzRdLFxyXG4gICAgICBheSA9IGFbNV0sXHJcbiAgICAgIGF6ID0gYVs2XSxcclxuICAgICAgYXcgPSBhWzddLFxyXG4gICAgICBieCA9IC1hWzBdLFxyXG4gICAgICBieSA9IC1hWzFdLFxyXG4gICAgICBieiA9IC1hWzJdLFxyXG4gICAgICBidyA9IGFbM107XHJcbiAgb3V0WzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMjtcclxuICBvdXRbMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyO1xyXG4gIG91dFsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNsYXRlcyBhIGR1YWwgcXVhdCBieSB0aGUgZ2l2ZW4gdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byB0cmFuc2xhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUob3V0LCBhLCB2KSB7XHJcbiAgdmFyIGF4MSA9IGFbMF0sXHJcbiAgICAgIGF5MSA9IGFbMV0sXHJcbiAgICAgIGF6MSA9IGFbMl0sXHJcbiAgICAgIGF3MSA9IGFbM10sXHJcbiAgICAgIGJ4MSA9IHZbMF0gKiAwLjUsXHJcbiAgICAgIGJ5MSA9IHZbMV0gKiAwLjUsXHJcbiAgICAgIGJ6MSA9IHZbMl0gKiAwLjUsXHJcbiAgICAgIGF4MiA9IGFbNF0sXHJcbiAgICAgIGF5MiA9IGFbNV0sXHJcbiAgICAgIGF6MiA9IGFbNl0sXHJcbiAgICAgIGF3MiA9IGFbN107XHJcbiAgb3V0WzBdID0gYXgxO1xyXG4gIG91dFsxXSA9IGF5MTtcclxuICBvdXRbMl0gPSBhejE7XHJcbiAgb3V0WzNdID0gYXcxO1xyXG4gIG91dFs0XSA9IGF3MSAqIGJ4MSArIGF5MSAqIGJ6MSAtIGF6MSAqIGJ5MSArIGF4MjtcclxuICBvdXRbNV0gPSBhdzEgKiBieTEgKyBhejEgKiBieDEgLSBheDEgKiBiejEgKyBheTI7XHJcbiAgb3V0WzZdID0gYXcxICogYnoxICsgYXgxICogYnkxIC0gYXkxICogYngxICsgYXoyO1xyXG4gIG91dFs3XSA9IC1heDEgKiBieDEgLSBheTEgKiBieTEgLSBhejEgKiBiejEgKyBhdzI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBhcm91bmQgdGhlIFggYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgaG93IGZhciBzaG91bGQgdGhlIHJvdGF0aW9uIGJlXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcclxuICB2YXIgYnggPSAtYVswXSxcclxuICAgICAgYnkgPSAtYVsxXSxcclxuICAgICAgYnogPSAtYVsyXSxcclxuICAgICAgYncgPSBhWzNdLFxyXG4gICAgICBheCA9IGFbNF0sXHJcbiAgICAgIGF5ID0gYVs1XSxcclxuICAgICAgYXogPSBhWzZdLFxyXG4gICAgICBhdyA9IGFbN10sXHJcbiAgICAgIGF4MSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnksXHJcbiAgICAgIGF5MSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnosXHJcbiAgICAgIGF6MSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngsXHJcbiAgICAgIGF3MSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XHJcbiAgcXVhdC5yb3RhdGVYKG91dCwgYSwgcmFkKTtcclxuICBieCA9IG91dFswXTtcclxuICBieSA9IG91dFsxXTtcclxuICBieiA9IG91dFsyXTtcclxuICBidyA9IG91dFszXTtcclxuICBvdXRbNF0gPSBheDEgKiBidyArIGF3MSAqIGJ4ICsgYXkxICogYnogLSBhejEgKiBieTtcclxuICBvdXRbNV0gPSBheTEgKiBidyArIGF3MSAqIGJ5ICsgYXoxICogYnggLSBheDEgKiBiejtcclxuICBvdXRbNl0gPSBhejEgKiBidyArIGF3MSAqIGJ6ICsgYXgxICogYnkgLSBheTEgKiBieDtcclxuICBvdXRbN10gPSBhdzEgKiBidyAtIGF4MSAqIGJ4IC0gYXkxICogYnkgLSBhejEgKiBiejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGFyb3VuZCB0aGUgWSBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcclxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBob3cgZmFyIHNob3VsZCB0aGUgcm90YXRpb24gYmVcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xyXG4gIHZhciBieCA9IC1hWzBdLFxyXG4gICAgICBieSA9IC1hWzFdLFxyXG4gICAgICBieiA9IC1hWzJdLFxyXG4gICAgICBidyA9IGFbM10sXHJcbiAgICAgIGF4ID0gYVs0XSxcclxuICAgICAgYXkgPSBhWzVdLFxyXG4gICAgICBheiA9IGFbNl0sXHJcbiAgICAgIGF3ID0gYVs3XSxcclxuICAgICAgYXgxID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSxcclxuICAgICAgYXkxID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieixcclxuICAgICAgYXoxID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCxcclxuICAgICAgYXcxID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcclxuICBxdWF0LnJvdGF0ZVkob3V0LCBhLCByYWQpO1xyXG4gIGJ4ID0gb3V0WzBdO1xyXG4gIGJ5ID0gb3V0WzFdO1xyXG4gIGJ6ID0gb3V0WzJdO1xyXG4gIGJ3ID0gb3V0WzNdO1xyXG4gIG91dFs0XSA9IGF4MSAqIGJ3ICsgYXcxICogYnggKyBheTEgKiBieiAtIGF6MSAqIGJ5O1xyXG4gIG91dFs1XSA9IGF5MSAqIGJ3ICsgYXcxICogYnkgKyBhejEgKiBieCAtIGF4MSAqIGJ6O1xyXG4gIG91dFs2XSA9IGF6MSAqIGJ3ICsgYXcxICogYnogKyBheDEgKiBieSAtIGF5MSAqIGJ4O1xyXG4gIG91dFs3XSA9IGF3MSAqIGJ3IC0gYXgxICogYnggLSBheTEgKiBieSAtIGF6MSAqIGJ6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYXJvdW5kIHRoZSBaIGF4aXNcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGhvdyBmYXIgc2hvdWxkIHRoZSByb3RhdGlvbiBiZVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XHJcbiAgdmFyIGJ4ID0gLWFbMF0sXHJcbiAgICAgIGJ5ID0gLWFbMV0sXHJcbiAgICAgIGJ6ID0gLWFbMl0sXHJcbiAgICAgIGJ3ID0gYVszXSxcclxuICAgICAgYXggPSBhWzRdLFxyXG4gICAgICBheSA9IGFbNV0sXHJcbiAgICAgIGF6ID0gYVs2XSxcclxuICAgICAgYXcgPSBhWzddLFxyXG4gICAgICBheDEgPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5LFxyXG4gICAgICBheTEgPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6LFxyXG4gICAgICBhejEgPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4LFxyXG4gICAgICBhdzEgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xyXG4gIHF1YXQucm90YXRlWihvdXQsIGEsIHJhZCk7XHJcbiAgYnggPSBvdXRbMF07XHJcbiAgYnkgPSBvdXRbMV07XHJcbiAgYnogPSBvdXRbMl07XHJcbiAgYncgPSBvdXRbM107XHJcbiAgb3V0WzRdID0gYXgxICogYncgKyBhdzEgKiBieCArIGF5MSAqIGJ6IC0gYXoxICogYnk7XHJcbiAgb3V0WzVdID0gYXkxICogYncgKyBhdzEgKiBieSArIGF6MSAqIGJ4IC0gYXgxICogYno7XHJcbiAgb3V0WzZdID0gYXoxICogYncgKyBhdzEgKiBieiArIGF4MSAqIGJ5IC0gYXkxICogYng7XHJcbiAgb3V0WzddID0gYXcxICogYncgLSBheDEgKiBieCAtIGF5MSAqIGJ5IC0gYXoxICogYno7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBieSBhIGdpdmVuIHF1YXRlcm5pb24gKGEgKiBxKVxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gcm90YXRlIGJ5XHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUJ5UXVhdEFwcGVuZChvdXQsIGEsIHEpIHtcclxuICB2YXIgcXggPSBxWzBdLFxyXG4gICAgICBxeSA9IHFbMV0sXHJcbiAgICAgIHF6ID0gcVsyXSxcclxuICAgICAgcXcgPSBxWzNdLFxyXG4gICAgICBheCA9IGFbMF0sXHJcbiAgICAgIGF5ID0gYVsxXSxcclxuICAgICAgYXogPSBhWzJdLFxyXG4gICAgICBhdyA9IGFbM107XHJcbiAgb3V0WzBdID0gYXggKiBxdyArIGF3ICogcXggKyBheSAqIHF6IC0gYXogKiBxeTtcclxuICBvdXRbMV0gPSBheSAqIHF3ICsgYXcgKiBxeSArIGF6ICogcXggLSBheCAqIHF6O1xyXG4gIG91dFsyXSA9IGF6ICogcXcgKyBhdyAqIHF6ICsgYXggKiBxeSAtIGF5ICogcXg7XHJcbiAgb3V0WzNdID0gYXcgKiBxdyAtIGF4ICogcXggLSBheSAqIHF5IC0gYXogKiBxejtcclxuICBheCA9IGFbNF07XHJcbiAgYXkgPSBhWzVdO1xyXG4gIGF6ID0gYVs2XTtcclxuICBhdyA9IGFbN107XHJcbiAgb3V0WzRdID0gYXggKiBxdyArIGF3ICogcXggKyBheSAqIHF6IC0gYXogKiBxeTtcclxuICBvdXRbNV0gPSBheSAqIHF3ICsgYXcgKiBxeSArIGF6ICogcXggLSBheCAqIHF6O1xyXG4gIG91dFs2XSA9IGF6ICogcXcgKyBhdyAqIHF6ICsgYXggKiBxeSAtIGF5ICogcXg7XHJcbiAgb3V0WzddID0gYXcgKiBxdyAtIGF4ICogcXggLSBheSAqIHF5IC0gYXogKiBxejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGJ5IGEgZ2l2ZW4gcXVhdGVybmlvbiAocSAqIGEpXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHJvdGF0ZSBieVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQnlRdWF0UHJlcGVuZChvdXQsIHEsIGEpIHtcclxuICB2YXIgcXggPSBxWzBdLFxyXG4gICAgICBxeSA9IHFbMV0sXHJcbiAgICAgIHF6ID0gcVsyXSxcclxuICAgICAgcXcgPSBxWzNdLFxyXG4gICAgICBieCA9IGFbMF0sXHJcbiAgICAgIGJ5ID0gYVsxXSxcclxuICAgICAgYnogPSBhWzJdLFxyXG4gICAgICBidyA9IGFbM107XHJcbiAgb3V0WzBdID0gcXggKiBidyArIHF3ICogYnggKyBxeSAqIGJ6IC0gcXogKiBieTtcclxuICBvdXRbMV0gPSBxeSAqIGJ3ICsgcXcgKiBieSArIHF6ICogYnggLSBxeCAqIGJ6O1xyXG4gIG91dFsyXSA9IHF6ICogYncgKyBxdyAqIGJ6ICsgcXggKiBieSAtIHF5ICogYng7XHJcbiAgb3V0WzNdID0gcXcgKiBidyAtIHF4ICogYnggLSBxeSAqIGJ5IC0gcXogKiBiejtcclxuICBieCA9IGFbNF07XHJcbiAgYnkgPSBhWzVdO1xyXG4gIGJ6ID0gYVs2XTtcclxuICBidyA9IGFbN107XHJcbiAgb3V0WzRdID0gcXggKiBidyArIHF3ICogYnggKyBxeSAqIGJ6IC0gcXogKiBieTtcclxuICBvdXRbNV0gPSBxeSAqIGJ3ICsgcXcgKiBieSArIHF6ICogYnggLSBxeCAqIGJ6O1xyXG4gIG91dFs2XSA9IHF6ICogYncgKyBxdyAqIGJ6ICsgcXggKiBieSAtIHF5ICogYng7XHJcbiAgb3V0WzddID0gcXcgKiBidyAtIHF4ICogYnggLSBxeSAqIGJ5IC0gcXogKiBiejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGFyb3VuZCBhIGdpdmVuIGF4aXMuIERvZXMgdGhlIG5vcm1hbGlzYXRpb24gYXV0b21hdGljYWxseVxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBob3cgZmFyIHRoZSByb3RhdGlvbiBzaG91bGQgYmVcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQXJvdW5kQXhpcyhvdXQsIGEsIGF4aXMsIHJhZCkge1xyXG4gIC8vU3BlY2lhbCBjYXNlIGZvciByYWQgPSAwXHJcbiAgaWYgKE1hdGguYWJzKHJhZCkgPCBnbE1hdHJpeC5FUFNJTE9OKSB7XHJcbiAgICByZXR1cm4gY29weShvdXQsIGEpO1xyXG4gIH1cclxuXHJcbiAgdmFyIGF4aXNMZW5ndGggPSBNYXRoLmh5cG90KGF4aXNbMF0sIGF4aXNbMV0sIGF4aXNbMl0pO1xyXG4gIHJhZCA9IHJhZCAqIDAuNTtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XHJcbiAgdmFyIGJ4ID0gcyAqIGF4aXNbMF0gLyBheGlzTGVuZ3RoO1xyXG4gIHZhciBieSA9IHMgKiBheGlzWzFdIC8gYXhpc0xlbmd0aDtcclxuICB2YXIgYnogPSBzICogYXhpc1syXSAvIGF4aXNMZW5ndGg7XHJcbiAgdmFyIGJ3ID0gTWF0aC5jb3MocmFkKTtcclxuICB2YXIgYXgxID0gYVswXSxcclxuICAgICAgYXkxID0gYVsxXSxcclxuICAgICAgYXoxID0gYVsyXSxcclxuICAgICAgYXcxID0gYVszXTtcclxuICBvdXRbMF0gPSBheDEgKiBidyArIGF3MSAqIGJ4ICsgYXkxICogYnogLSBhejEgKiBieTtcclxuICBvdXRbMV0gPSBheTEgKiBidyArIGF3MSAqIGJ5ICsgYXoxICogYnggLSBheDEgKiBiejtcclxuICBvdXRbMl0gPSBhejEgKiBidyArIGF3MSAqIGJ6ICsgYXgxICogYnkgLSBheTEgKiBieDtcclxuICBvdXRbM10gPSBhdzEgKiBidyAtIGF4MSAqIGJ4IC0gYXkxICogYnkgLSBhejEgKiBiejtcclxuICB2YXIgYXggPSBhWzRdLFxyXG4gICAgICBheSA9IGFbNV0sXHJcbiAgICAgIGF6ID0gYVs2XSxcclxuICAgICAgYXcgPSBhWzddO1xyXG4gIG91dFs0XSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XHJcbiAgb3V0WzVdID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBiejtcclxuICBvdXRbNl0gPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4O1xyXG4gIG91dFs3XSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWRkcyB0d28gZHVhbCBxdWF0J3NcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XHJcbiAgb3V0WzNdID0gYVszXSArIGJbM107XHJcbiAgb3V0WzRdID0gYVs0XSArIGJbNF07XHJcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XHJcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XHJcbiAgb3V0WzddID0gYVs3XSArIGJbN107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTXVsdGlwbGllcyB0d28gZHVhbCBxdWF0J3NcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xyXG4gIHZhciBheDAgPSBhWzBdLFxyXG4gICAgICBheTAgPSBhWzFdLFxyXG4gICAgICBhejAgPSBhWzJdLFxyXG4gICAgICBhdzAgPSBhWzNdLFxyXG4gICAgICBieDEgPSBiWzRdLFxyXG4gICAgICBieTEgPSBiWzVdLFxyXG4gICAgICBiejEgPSBiWzZdLFxyXG4gICAgICBidzEgPSBiWzddLFxyXG4gICAgICBheDEgPSBhWzRdLFxyXG4gICAgICBheTEgPSBhWzVdLFxyXG4gICAgICBhejEgPSBhWzZdLFxyXG4gICAgICBhdzEgPSBhWzddLFxyXG4gICAgICBieDAgPSBiWzBdLFxyXG4gICAgICBieTAgPSBiWzFdLFxyXG4gICAgICBiejAgPSBiWzJdLFxyXG4gICAgICBidzAgPSBiWzNdO1xyXG4gIG91dFswXSA9IGF4MCAqIGJ3MCArIGF3MCAqIGJ4MCArIGF5MCAqIGJ6MCAtIGF6MCAqIGJ5MDtcclxuICBvdXRbMV0gPSBheTAgKiBidzAgKyBhdzAgKiBieTAgKyBhejAgKiBieDAgLSBheDAgKiBiejA7XHJcbiAgb3V0WzJdID0gYXowICogYncwICsgYXcwICogYnowICsgYXgwICogYnkwIC0gYXkwICogYngwO1xyXG4gIG91dFszXSA9IGF3MCAqIGJ3MCAtIGF4MCAqIGJ4MCAtIGF5MCAqIGJ5MCAtIGF6MCAqIGJ6MDtcclxuICBvdXRbNF0gPSBheDAgKiBidzEgKyBhdzAgKiBieDEgKyBheTAgKiBiejEgLSBhejAgKiBieTEgKyBheDEgKiBidzAgKyBhdzEgKiBieDAgKyBheTEgKiBiejAgLSBhejEgKiBieTA7XHJcbiAgb3V0WzVdID0gYXkwICogYncxICsgYXcwICogYnkxICsgYXowICogYngxIC0gYXgwICogYnoxICsgYXkxICogYncwICsgYXcxICogYnkwICsgYXoxICogYngwIC0gYXgxICogYnowO1xyXG4gIG91dFs2XSA9IGF6MCAqIGJ3MSArIGF3MCAqIGJ6MSArIGF4MCAqIGJ5MSAtIGF5MCAqIGJ4MSArIGF6MSAqIGJ3MCArIGF3MSAqIGJ6MCArIGF4MSAqIGJ5MCAtIGF5MSAqIGJ4MDtcclxuICBvdXRbN10gPSBhdzAgKiBidzEgLSBheDAgKiBieDEgLSBheTAgKiBieTEgLSBhejAgKiBiejEgKyBhdzEgKiBidzAgLSBheDEgKiBieDAgLSBheTEgKiBieTAgLSBhejEgKiBiejA7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Mi5tdWx0aXBseX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcclxuLyoqXHJcbiAqIFNjYWxlcyBhIGR1YWwgcXVhdCBieSBhIHNjYWxhciBudW1iZXJcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0IHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgZHVhbCBxdWF0IGJ5XHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICogYjtcclxuICBvdXRbMV0gPSBhWzFdICogYjtcclxuICBvdXRbMl0gPSBhWzJdICogYjtcclxuICBvdXRbM10gPSBhWzNdICogYjtcclxuICBvdXRbNF0gPSBhWzRdICogYjtcclxuICBvdXRbNV0gPSBhWzVdICogYjtcclxuICBvdXRbNl0gPSBhWzZdICogYjtcclxuICBvdXRbN10gPSBhWzddICogYjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gZHVhbCBxdWF0J3MgKFRoZSBkb3QgcHJvZHVjdCBvZiB0aGUgcmVhbCBwYXJ0cylcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGRvdCA9IHF1YXQuZG90O1xyXG4vKipcclxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBkdWFsIHF1YXRzJ3NcclxuICogTk9URTogVGhlIHJlc3VsdGluZyBkdWFsIHF1YXRlcm5pb25zIHdvbid0IGFsd2F5cyBiZSBub3JtYWxpemVkIChUaGUgZXJyb3IgaXMgbW9zdCBub3RpY2VhYmxlIHdoZW4gdCA9IDAuNSlcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcclxuICB2YXIgbXQgPSAxIC0gdDtcclxuICBpZiAoZG90KGEsIGIpIDwgMCkgdCA9IC10O1xyXG4gIG91dFswXSA9IGFbMF0gKiBtdCArIGJbMF0gKiB0O1xyXG4gIG91dFsxXSA9IGFbMV0gKiBtdCArIGJbMV0gKiB0O1xyXG4gIG91dFsyXSA9IGFbMl0gKiBtdCArIGJbMl0gKiB0O1xyXG4gIG91dFszXSA9IGFbM10gKiBtdCArIGJbM10gKiB0O1xyXG4gIG91dFs0XSA9IGFbNF0gKiBtdCArIGJbNF0gKiB0O1xyXG4gIG91dFs1XSA9IGFbNV0gKiBtdCArIGJbNV0gKiB0O1xyXG4gIG91dFs2XSA9IGFbNl0gKiBtdCArIGJbNl0gKiB0O1xyXG4gIG91dFs3XSA9IGFbN10gKiBtdCArIGJbN10gKiB0O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGludmVyc2Ugb2YgYSBkdWFsIHF1YXQuIElmIHRoZXkgYXJlIG5vcm1hbGl6ZWQsIGNvbmp1Z2F0ZSBpcyBjaGVhcGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0IHRvIGNhbGN1bGF0ZSBpbnZlcnNlIG9mXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcclxuICB2YXIgc3FsZW4gPSBzcXVhcmVkTGVuZ3RoKGEpO1xyXG4gIG91dFswXSA9IC1hWzBdIC8gc3FsZW47XHJcbiAgb3V0WzFdID0gLWFbMV0gLyBzcWxlbjtcclxuICBvdXRbMl0gPSAtYVsyXSAvIHNxbGVuO1xyXG4gIG91dFszXSA9IGFbM10gLyBzcWxlbjtcclxuICBvdXRbNF0gPSAtYVs0XSAvIHNxbGVuO1xyXG4gIG91dFs1XSA9IC1hWzVdIC8gc3FsZW47XHJcbiAgb3V0WzZdID0gLWFbNl0gLyBzcWxlbjtcclxuICBvdXRbN10gPSBhWzddIC8gc3FsZW47XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgY29uanVnYXRlIG9mIGEgZHVhbCBxdWF0XHJcbiAqIElmIHRoZSBkdWFsIHF1YXRlcm5pb24gaXMgbm9ybWFsaXplZCwgdGhpcyBmdW5jdGlvbiBpcyBmYXN0ZXIgdGhhbiBxdWF0Mi5pbnZlcnNlIGFuZCBwcm9kdWNlcyB0aGUgc2FtZSByZXN1bHQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHF1YXQgdG8gY2FsY3VsYXRlIGNvbmp1Z2F0ZSBvZlxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb25qdWdhdGUob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gLWFbMF07XHJcbiAgb3V0WzFdID0gLWFbMV07XHJcbiAgb3V0WzJdID0gLWFbMl07XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICBvdXRbNF0gPSAtYVs0XTtcclxuICBvdXRbNV0gPSAtYVs1XTtcclxuICBvdXRbNl0gPSAtYVs2XTtcclxuICBvdXRbN10gPSBhWzddO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIGR1YWwgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0IHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBsZW5ndGggPSBxdWF0Lmxlbmd0aDtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdDIubGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgZHVhbCBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXQgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzcXVhcmVkTGVuZ3RoID0gcXVhdC5zcXVhcmVkTGVuZ3RoO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Mi5zcXVhcmVkTGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XHJcbi8qKlxyXG4gKiBOb3JtYWxpemUgYSBkdWFsIHF1YXRcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXRlcm5pb24gdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XHJcbiAgdmFyIG1hZ25pdHVkZSA9IHNxdWFyZWRMZW5ndGgoYSk7XHJcblxyXG4gIGlmIChtYWduaXR1ZGUgPiAwKSB7XHJcbiAgICBtYWduaXR1ZGUgPSBNYXRoLnNxcnQobWFnbml0dWRlKTtcclxuICAgIHZhciBhMCA9IGFbMF0gLyBtYWduaXR1ZGU7XHJcbiAgICB2YXIgYTEgPSBhWzFdIC8gbWFnbml0dWRlO1xyXG4gICAgdmFyIGEyID0gYVsyXSAvIG1hZ25pdHVkZTtcclxuICAgIHZhciBhMyA9IGFbM10gLyBtYWduaXR1ZGU7XHJcbiAgICB2YXIgYjAgPSBhWzRdO1xyXG4gICAgdmFyIGIxID0gYVs1XTtcclxuICAgIHZhciBiMiA9IGFbNl07XHJcbiAgICB2YXIgYjMgPSBhWzddO1xyXG4gICAgdmFyIGFfZG90X2IgPSBhMCAqIGIwICsgYTEgKiBiMSArIGEyICogYjIgKyBhMyAqIGIzO1xyXG4gICAgb3V0WzBdID0gYTA7XHJcbiAgICBvdXRbMV0gPSBhMTtcclxuICAgIG91dFsyXSA9IGEyO1xyXG4gICAgb3V0WzNdID0gYTM7XHJcbiAgICBvdXRbNF0gPSAoYjAgLSBhMCAqIGFfZG90X2IpIC8gbWFnbml0dWRlO1xyXG4gICAgb3V0WzVdID0gKGIxIC0gYTEgKiBhX2RvdF9iKSAvIG1hZ25pdHVkZTtcclxuICAgIG91dFs2XSA9IChiMiAtIGEyICogYV9kb3RfYikgLyBtYWduaXR1ZGU7XHJcbiAgICBvdXRbN10gPSAoYjMgLSBhMyAqIGFfZG90X2IpIC8gbWFnbml0dWRlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIGR1YWwgcXVhdGVuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXRlcm5pb24gdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZHVhbCBxdWF0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XHJcbiAgcmV0dXJuIFwicXVhdDIoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIsIFwiICsgYVs0XSArIFwiLCBcIiArIGFbNV0gKyBcIiwgXCIgKyBhWzZdICsgXCIsIFwiICsgYVs3XSArIFwiKVwiO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBkdWFsIHF1YXRlcm5pb25zIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBkdWFsIHF1YXRlcm5pb24uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIGR1YWwgcXVhdGVybmlvbi5cclxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIGR1YWwgcXVhdGVybmlvbnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcclxuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXSAmJiBhWzRdID09PSBiWzRdICYmIGFbNV0gPT09IGJbNV0gJiYgYVs2XSA9PT0gYls2XSAmJiBhWzddID09PSBiWzddO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBkdWFsIHF1YXRlcm5pb25zIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBkdWFsIHF1YXQuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIGR1YWwgcXVhdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIGR1YWwgcXVhdHMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XHJcbiAgdmFyIGEwID0gYVswXSxcclxuICAgICAgYTEgPSBhWzFdLFxyXG4gICAgICBhMiA9IGFbMl0sXHJcbiAgICAgIGEzID0gYVszXSxcclxuICAgICAgYTQgPSBhWzRdLFxyXG4gICAgICBhNSA9IGFbNV0sXHJcbiAgICAgIGE2ID0gYVs2XSxcclxuICAgICAgYTcgPSBhWzddO1xyXG4gIHZhciBiMCA9IGJbMF0sXHJcbiAgICAgIGIxID0gYlsxXSxcclxuICAgICAgYjIgPSBiWzJdLFxyXG4gICAgICBiMyA9IGJbM10sXHJcbiAgICAgIGI0ID0gYls0XSxcclxuICAgICAgYjUgPSBiWzVdLFxyXG4gICAgICBiNiA9IGJbNl0sXHJcbiAgICAgIGI3ID0gYls3XTtcclxuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKTtcclxufSIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEVtaXR0ZXIgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuaW1wb3J0IHsgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsIH0gZnJvbSAnLi91dGlscy93ZWJ4ci5qcyc7XHJcbi8qKlxyXG4gKiBTZXRzIHVwIGEgW1dlYlhSIERldmljZSBBUEkgXCJIaXQgVGVzdFwiXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL2hpdC10ZXN0LylcclxuICogYW5kIHBsYWNlcyB0aGUgb2JqZWN0IHRvIHRoZSBoaXQgbG9jYXRpb24uXHJcbiAqXHJcbiAqICoqUmVxdWlyZW1lbnRzOioqXHJcbiAqICAtIFNwZWNpZnkgYCdoaXQtdGVzdCdgIGluIHRoZSByZXF1aXJlZCBvciBvcHRpb25hbCBmZWF0dXJlcyBvbiB0aGUgQVIgYnV0dG9uIGluIHlvdXIgaHRtbCBmaWxlLlxyXG4gKiAgICBTZWUgW1dhc3RlcGFwZXJiaW4gQVJdKC9zaG93Y2FzZS93cGItYXIpIGFzIGFuIGV4YW1wbGUuXHJcbiAqL1xyXG5jbGFzcyBIaXRUZXN0TG9jYXRpb24gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2hpdC10ZXN0LWxvY2F0aW9uJztcclxuICAgIHRlbXBTY2FsaW5nID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIHZpc2libGUgPSBmYWxzZTtcclxuICAgIHhySGl0VGVzdFNvdXJjZSA9IG51bGw7XHJcbiAgICAvKiogUmVmZXJlbmNlIHNwYWNlIGZvciBjcmVhdGluZyB0aGUgaGl0IHRlc3Qgd2hlbiB0aGUgc2Vzc2lvbiBzdGFydHMgKi9cclxuICAgIHhyUmVmZXJlbmNlU3BhY2UgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBGb3IgbWFpbnRhaW5pbmcgYmFja3dhcmRzIGNvbXBhdGliaWxpdHk6IFdoZXRoZXIgdG8gc2NhbGUgdGhlIG9iamVjdCB0byAwIGFuZCBiYWNrLlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIG9uSGl0TG9zdCBhbmQgb25IaXRGb3VuZCBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBzY2FsZU9iamVjdCA9IHRydWU7XHJcbiAgICAvKiogRW1pdHMgYW4gZXZlbnQgd2hlbiB0aGUgaGl0IHRlc3Qgc3dpdGNoZXMgZnJvbSB2aXNpYmxlIHRvIGludmlzaWJsZSAqL1xyXG4gICAgb25IaXRMb3N0ID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoZSBoaXQgdGVzdCBzd2l0Y2hlcyBmcm9tIGludmlzaWJsZSB0byB2aXNpYmxlICovXHJcbiAgICBvbkhpdEZvdW5kID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIG9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSBudWxsO1xyXG4gICAgb25TZXNzaW9uRW5kQ2FsbGJhY2sgPSBudWxsO1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvblN0YXJ0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayA9IHRoaXMub25YUlNlc3Npb25FbmQuYmluZCh0aGlzKTtcclxuICAgICAgICBpZiAodGhpcy5zY2FsZU9iamVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBTY2FsaW5nLnNldCh0aGlzLm9iamVjdC5zY2FsaW5nTG9jYWwpO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5zY2FsZShbMCwgMCwgMF0pO1xyXG4gICAgICAgICAgICB0aGlzLm9uSGl0TG9zdC5hZGQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wU2NhbGluZy5zZXQodGhpcy5vYmplY3Quc2NhbGluZ0xvY2FsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnNjYWxlKFswLCAwLCAwXSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm9uSGl0Rm91bmQuYWRkKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnNjYWxpbmdMb2NhbC5zZXQodGhpcy50ZW1wU2NhbGluZyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5zZXREaXJ0eSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQuYWRkKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgb25EZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQucmVtb3ZlKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc1Zpc2libGUgPSB0aGlzLnZpc2libGU7XHJcbiAgICAgICAgaWYgKHRoaXMueHJIaXRUZXN0U291cmNlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5lbmdpbmUueHJGcmFtZTtcclxuICAgICAgICAgICAgaWYgKCFmcmFtZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgbGV0IGhpdFRlc3RSZXN1bHRzID0gZnJhbWUuZ2V0SGl0VGVzdFJlc3VsdHModGhpcy54ckhpdFRlc3RTb3VyY2UpO1xyXG4gICAgICAgICAgICBpZiAoaGl0VGVzdFJlc3VsdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBvc2UgPSBoaXRUZXN0UmVzdWx0c1swXS5nZXRQb3NlKHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSAhIXBvc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCh0aGlzLm9iamVjdCwgcG9zZS50cmFuc2Zvcm0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyogRW1pdCBldmVudHMgZm9yIHZpc2libGUgc3RhdGUgY2hhbmdlICovXHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSAhPSB3YXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICh0aGlzLnZpc2libGUgPyB0aGlzLm9uSGl0Rm91bmQgOiB0aGlzLm9uSGl0TG9zdCkubm90aWZ5KHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldEhpdFRlc3RSZXN1bHRzKGZyYW1lID0gdGhpcy5lbmdpbmUueHI/LmZyYW1lID8/IG51bGwpIHtcclxuICAgICAgICBpZiAoIWZyYW1lKVxyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgLyogTWF5IGhhcHBlbiBpZiB0aGUgaGl0IHRlc3Qgc291cmNlIGNvdWxkbid0IGJlIGNyZWF0ZWQgKi9cclxuICAgICAgICBpZiAoIXRoaXMueHJIaXRUZXN0U291cmNlKVxyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgcmV0dXJuIGZyYW1lLmdldEhpdFRlc3RSZXN1bHRzKHRoaXMueHJIaXRUZXN0U291cmNlKTtcclxuICAgIH1cclxuICAgIG9uWFJTZXNzaW9uU3RhcnQoc2Vzc2lvbikge1xyXG4gICAgICAgIGlmIChzZXNzaW9uLnJlcXVlc3RIaXRUZXN0U291cmNlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignaGl0LXRlc3QtbG9jYXRpb246IGhpdCB0ZXN0IGZlYXR1cmUgbm90IGF2YWlsYWJsZS4gRGVhY3RpdmF0aW5nIGNvbXBvbmVudC4nKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXNzaW9uXHJcbiAgICAgICAgICAgIC5yZXF1ZXN0SGl0VGVzdFNvdXJjZSh7XHJcbiAgICAgICAgICAgIHNwYWNlOiB0aGlzLnhyUmVmZXJlbmNlU3BhY2UgPz9cclxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLnhyLnJlZmVyZW5jZVNwYWNlRm9yVHlwZSgndmlld2VyJyksXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKGhpdFRlc3RTb3VyY2UpID0+IHtcclxuICAgICAgICAgICAgdGhpcy54ckhpdFRlc3RTb3VyY2UgPSBoaXRUZXN0U291cmNlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuICAgIH1cclxuICAgIG9uWFJTZXNzaW9uRW5kKCkge1xyXG4gICAgICAgIGlmICghdGhpcy54ckhpdFRlc3RTb3VyY2UpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnhySGl0VGVzdFNvdXJjZS5jYW5jZWwoKTtcclxuICAgICAgICB0aGlzLnhySGl0VGVzdFNvdXJjZSA9IG51bGw7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5ib29sKHRydWUpXHJcbl0sIEhpdFRlc3RMb2NhdGlvbi5wcm90b3R5cGUsIFwic2NhbGVPYmplY3RcIiwgdm9pZCAwKTtcclxuZXhwb3J0IHsgSGl0VGVzdExvY2F0aW9uIH07XHJcbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIFZpZXdDb21wb25lbnQsIEVtaXR0ZXIsIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcbmltcG9ydCB7IHZlYzMsIG1hdDQgfSBmcm9tICdnbC1tYXRyaXgnO1xyXG5pbXBvcnQgeyBDdXJzb3JUYXJnZXQgfSBmcm9tICcuL2N1cnNvci10YXJnZXQuanMnO1xyXG5pbXBvcnQgeyBIaXRUZXN0TG9jYXRpb24gfSBmcm9tICcuL2hpdC10ZXN0LWxvY2F0aW9uLmpzJztcclxuY29uc3QgdGVtcFZlYyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbmNvbnN0IFpFUk8gPSBbMCwgMCwgMF07XHJcbi8qKiBHbG9iYWwgdGFyZ2V0IGZvciB7QGxpbmsgQ3Vyc29yfSAqL1xyXG5jbGFzcyBDdXJzb3JUYXJnZXRFbWl0dGVycyB7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHRhcmdldCBpcyBob3ZlcmVkICovXHJcbiAgICBvbkhvdmVyID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIHVuaG92ZXJlZCAqL1xyXG4gICAgb25VbmhvdmVyID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIGNsaWNrZWQgKi9cclxuICAgIG9uQ2xpY2sgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSBjdXJzb3IgbW92ZXMgb24gdGhlIHRhcmdldCAqL1xyXG4gICAgb25Nb3ZlID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdXNlciBwcmVzc2VkIHRoZSBzZWxlY3QgYnV0dG9uIG9uIHRoZSB0YXJnZXQgKi9cclxuICAgIG9uRG93biA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHVzZXIgdW5wcmVzc2VkIHRoZSBzZWxlY3QgYnV0dG9uIG9uIHRoZSB0YXJnZXQgKi9cclxuICAgIG9uVXAgPSBuZXcgRW1pdHRlcigpO1xyXG59XHJcbi8qKlxyXG4gKiAzRCBjdXJzb3IgZm9yIGRlc2t0b3AvbW9iaWxlL1ZSLlxyXG4gKlxyXG4gKiBJbXBsZW1lbnRzIGEgcmF5LWNhc3RpbmcgY3Vyc29yIGludG8gdGhlIHNjZW5lLiBUbyByZWFjdCB0b1xyXG4gKiBjbGlja2luZy9ob3Zlci91bmhvdmVyL2N1cnNvciBkb3duL2N1cnNvciB1cC9tb3ZlIHVzZSBhXHJcbiAqIFtjdXJzb3ItdGFyZ2V0XSgjY3Vyc29yLXRhcmdldCkuXHJcbiAqXHJcbiAqIEZvciBWUiwgdGhlIHJheSBpcyBjYXN0IGluIGRpcmVjdGlvbiBvZlxyXG4gKiBbdGhpcy5vYmplY3QuZ2V0Rm9yd2FyZCgpXSgvanNhcGkvb2JqZWN0LyNnZXRmb3J3YXJkKS4gRm9yIGRlc2t0b3AgYW5kIG1vYmlsZSwgdGhlXHJcbiAqIGZvcndhcmQgdmVjdG9yIGlzIGludmVyc2UtcHJvamVjdGVkIHRvIGFjY291bnQgZm9yIHdoZXJlIG9uIHNjcmVlbiB0aGUgdXNlciBjbGlja2VkLlxyXG4gKlxyXG4gKiBgLmdsb2JhbFRhcmdldGAgY2FuIGJlIHVzZWQgdG8gY2FsbCBjYWxsYmFja3MgZm9yIGFsbCBvYmplY3RzLCBldmVuIHRob3NlIHRoYXRcclxuICogZG8gbm90IGhhdmUgYSBjdXJzb3IgdGFyZ2V0IGF0dGFjaGVkLCBidXQgbWF0Y2ggdGhlIGNvbGxpc2lvbiBncm91cC5cclxuICpcclxuICogYC5oaXRUZXN0VGFyZ2V0YCBjYW4gYmUgdXNlZCB0byBjYWxsIGNhbGxiYWNrcyBXZWJYUiBoaXQgdGVzdCByZXN1bHRzLFxyXG4gKlxyXG4gKiBTZWUgW0FuaW1hdGlvbiBFeGFtcGxlXSgvc2hvd2Nhc2UvYW5pbWF0aW9uKS5cclxuICovXHJcbmNsYXNzIEN1cnNvciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnY3Vyc29yJztcclxuICAgIC8qIERlcGVuZGVuY2llcyBpcyBkZXByZWNhdGVkLCBidXQgd2Uga2VlcCBpdCBoZXJlIGZvciBjb21wYXRpYmlsaXR5XHJcbiAgICAgKiB3aXRoIDEuMC4wLXJjMiB1bnRpbCAxLjAuMCBpcyByZWxlYXNlZCAqL1xyXG4gICAgc3RhdGljIERlcGVuZGVuY2llcyA9IFtIaXRUZXN0TG9jYXRpb25dO1xyXG4gICAgc3RhdGljIG9uUmVnaXN0ZXIoZW5naW5lKSB7XHJcbiAgICAgICAgZW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50KEhpdFRlc3RMb2NhdGlvbik7XHJcbiAgICB9XHJcbiAgICBfY29sbGlzaW9uTWFzayA9IDA7XHJcbiAgICBfb25EZWFjdGl2YXRlQ2FsbGJhY2tzID0gW107XHJcbiAgICBfaW5wdXQgPSBudWxsO1xyXG4gICAgX29yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBfY3Vyc29yT2JqU2NhbGUgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgX2RpcmVjdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBfcHJvamVjdGlvbk1hdHJpeCA9IG5ldyBGbG9hdDMyQXJyYXkoMTYpO1xyXG4gICAgX3ZpZXdDb21wb25lbnQgPSBudWxsO1xyXG4gICAgX2lzRG93biA9IGZhbHNlO1xyXG4gICAgX2xhc3RJc0Rvd24gPSBmYWxzZTtcclxuICAgIF9hclRvdWNoRG93biA9IGZhbHNlO1xyXG4gICAgX2xhc3RQb2ludGVyUG9zID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcclxuICAgIF9sYXN0Q3Vyc29yUG9zT25UYXJnZXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgX2hpdFRlc3RMb2NhdGlvbiA9IG51bGw7XHJcbiAgICBfaGl0VGVzdE9iamVjdCA9IG51bGw7XHJcbiAgICBfb25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhlIGN1cnNvciAoYW5kIGN1cnNvck9iamVjdCkgaXMgdmlzaWJsZSwgaS5lLiBwb2ludGluZyBhdCBhbiBvYmplY3RcclxuICAgICAqIHRoYXQgbWF0Y2hlcyB0aGUgY29sbGlzaW9uIGdyb3VwXHJcbiAgICAgKi9cclxuICAgIHZpc2libGUgPSB0cnVlO1xyXG4gICAgLyoqIEN1cnJlbnRseSBob3ZlcmVkIG9iamVjdCAqL1xyXG4gICAgaG92ZXJpbmdPYmplY3QgPSBudWxsO1xyXG4gICAgLyoqIEN1cnNvclRhcmdldCBjb21wb25lbnQgb2YgdGhlIGN1cnJlbnRseSBob3ZlcmVkIG9iamVjdCAqL1xyXG4gICAgaG92ZXJpbmdPYmplY3RUYXJnZXQgPSBudWxsO1xyXG4gICAgLyoqIFdoZXRoZXIgdGhlIGN1cnNvciBpcyBob3ZlcmluZyByZWFsaXR5IHZpYSBoaXQtdGVzdCAqL1xyXG4gICAgaG92ZXJpbmdSZWFsaXR5ID0gZmFsc2U7XHJcbiAgICAvKipcclxuICAgICAqIEdsb2JhbCB0YXJnZXQgbGV0cyB5b3UgcmVjZWl2ZSBnbG9iYWwgY3Vyc29yIGV2ZW50cyBvbiBhbnkgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBnbG9iYWxUYXJnZXQgPSBuZXcgQ3Vyc29yVGFyZ2V0RW1pdHRlcnMoKTtcclxuICAgIC8qKlxyXG4gICAgICogSGl0IHRlc3QgdGFyZ2V0IGxldHMgeW91IHJlY2VpdmUgY3Vyc29yIGV2ZW50cyBmb3IgXCJyZWFsaXR5XCIsIGlmXHJcbiAgICAgKiBgdXNlV2ViWFJIaXRUZXN0YCBpcyBzZXQgdG8gYHRydWVgLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogY3Vyc29yLmhpdFRlc3RUYXJnZXQub25DbGljay5hZGQoKGhpdCwgY3Vyc29yKSA9PiB7XHJcbiAgICAgKiAgICAgLy8gVXNlciBjbGlja2VkIG9uIHJlYWxpdHlcclxuICAgICAqIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGhpdFRlc3RUYXJnZXQgPSBuZXcgQ3Vyc29yVGFyZ2V0RW1pdHRlcnMoKTtcclxuICAgIC8qKiBXb3JsZCBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yICovXHJcbiAgICBjdXJzb3JQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgLyoqIENvbGxpc2lvbiBncm91cCBmb3IgdGhlIHJheSBjYXN0LiBPbmx5IG9iamVjdHMgaW4gdGhpcyBncm91cCB3aWxsIGJlIGFmZmVjdGVkIGJ5IHRoaXMgY3Vyc29yLiAqL1xyXG4gICAgY29sbGlzaW9uR3JvdXAgPSAxO1xyXG4gICAgLyoqIChvcHRpb25hbCkgT2JqZWN0IHRoYXQgdmlzdWFsaXplcyB0aGUgY3Vyc29yJ3MgcmF5LiAqL1xyXG4gICAgY3Vyc29yUmF5T2JqZWN0ID0gbnVsbDtcclxuICAgIC8qKiBBeGlzIGFsb25nIHdoaWNoIHRvIHNjYWxlIHRoZSBgY3Vyc29yUmF5T2JqZWN0YC4gKi9cclxuICAgIGN1cnNvclJheVNjYWxpbmdBeGlzID0gMjtcclxuICAgIC8qKiAob3B0aW9uYWwpIE9iamVjdCB0aGF0IHZpc3VhbGl6ZXMgdGhlIGN1cnNvcidzIGhpdCBsb2NhdGlvbi4gKi9cclxuICAgIGN1cnNvck9iamVjdCA9IG51bGw7XHJcbiAgICAvKiogSGFuZGVkbmVzcyBmb3IgVlIgY3Vyc29ycyB0byBhY2NlcHQgdHJpZ2dlciBldmVudHMgb25seSBmcm9tIHJlc3BlY3RpdmUgY29udHJvbGxlci4gKi9cclxuICAgIGhhbmRlZG5lc3MgPSAwO1xyXG4gICAgLyoqIE1vZGUgZm9yIHJheWNhc3RpbmcsIHdoZXRoZXIgdG8gdXNlIFBoeXNYIG9yIHNpbXBsZSBjb2xsaXNpb24gY29tcG9uZW50cyAqL1xyXG4gICAgcmF5Q2FzdE1vZGUgPSAwO1xyXG4gICAgLyoqIE1heGltdW0gZGlzdGFuY2UgZm9yIHRoZSBjdXJzb3IncyByYXkgY2FzdC4gKi9cclxuICAgIG1heERpc3RhbmNlID0gMTAwO1xyXG4gICAgLyoqIFdoZXRoZXIgdG8gc2V0IHRoZSBDU1Mgc3R5bGUgb2YgdGhlIG1vdXNlIGN1cnNvciBvbiBkZXNrdG9wICovXHJcbiAgICBzdHlsZUN1cnNvciA9IHRydWU7XHJcbiAgICAvKipcclxuICAgICAqIFVzZSBXZWJYUiBoaXQtdGVzdCBpZiBhdmFpbGFibGUuXHJcbiAgICAgKlxyXG4gICAgICogQXR0YWNoZXMgYSBoaXQtdGVzdC1sb2NhdGlvbiBjb21wb25lbnQgdG8gdGhlIGN1cnNvck9iamVjdCwgd2hpY2ggd2lsbCBiZSB1c2VkXHJcbiAgICAgKiBieSB0aGUgY3Vyc29yIHRvIHNlbmQgZXZlbnRzIHRvIHRoZSBoaXRUZXN0VGFyZ2V0IHdpdGggSGl0VGVzdFJlc3VsdC5cclxuICAgICAqL1xyXG4gICAgdXNlV2ViWFJIaXRUZXN0ID0gZmFsc2U7XHJcbiAgICBfb25WaWV3cG9ydFJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuX3ZpZXdDb21wb25lbnQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvKiBQcm9qZWN0aW9uIG1hdHJpeCB3aWxsIGNoYW5nZSBpZiB0aGUgdmlld3BvcnQgaXMgcmVzaXplZCwgd2hpY2ggd2lsbCBhZmZlY3QgdGhlXHJcbiAgICAgICAgICogcHJvamVjdGlvbiBtYXRyaXggYmVjYXVzZSBvZiB0aGUgYXNwZWN0IHJhdGlvLiAqL1xyXG4gICAgICAgIG1hdDQuaW52ZXJ0KHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsIHRoaXMuX3ZpZXdDb21wb25lbnQucHJvamVjdGlvbk1hdHJpeCk7XHJcbiAgICB9O1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5fY29sbGlzaW9uTWFzayA9IDEgPDwgdGhpcy5jb2xsaXNpb25Hcm91cDtcclxuICAgICAgICBpZiAodGhpcy5oYW5kZWRuZXNzID09IDApIHtcclxuICAgICAgICAgICAgY29uc3QgaW5wdXRDb21wID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdpbnB1dCcpO1xyXG4gICAgICAgICAgICBpZiAoIWlucHV0Q29tcCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdjdXJzb3IgY29tcG9uZW50IG9uIG9iamVjdCcsIHRoaXMub2JqZWN0Lm5hbWUsICd3YXMgY29uZmlndXJlZCB3aXRoIGhhbmRlZG5lc3MgXCJpbnB1dCBjb21wb25lbnRcIiwgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ2J1dCBvYmplY3QgaGFzIG5vIGlucHV0IGNvbXBvbmVudC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IGlucHV0Q29tcC5oYW5kZWRuZXNzIHx8ICdub25lJztcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXRDb21wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRlZG5lc3MgPSBbJ2xlZnQnLCAncmlnaHQnLCAnbm9uZSddW3RoaXMuaGFuZGVkbmVzcyAtIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl92aWV3Q29tcG9uZW50ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KFZpZXdDb21wb25lbnQpO1xyXG4gICAgICAgIGlmICh0aGlzLnVzZVdlYlhSSGl0VGVzdCkge1xyXG4gICAgICAgICAgICB0aGlzLl9oaXRUZXN0T2JqZWN0ID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KHRoaXMub2JqZWN0KTtcclxuICAgICAgICAgICAgdGhpcy5faGl0VGVzdExvY2F0aW9uID1cclxuICAgICAgICAgICAgICAgIHRoaXMuX2hpdFRlc3RPYmplY3QuYWRkQ29tcG9uZW50KEhpdFRlc3RMb2NhdGlvbiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlT2JqZWN0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIH0pID8/IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX29uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLnNldHVwVlJFdmVudHMuYmluZCh0aGlzKTtcclxuICAgIH1cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5fb25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25SZXNpemUuYWRkKHRoaXMuX29uVmlld3BvcnRSZXNpemUpO1xyXG4gICAgICAgIHRoaXMuX3NldEN1cnNvclZpc2liaWxpdHkodHJ1ZSk7XHJcbiAgICAgICAgLyogSWYgdGhpcyBvYmplY3QgYWxzbyBoYXMgYSB2aWV3IGNvbXBvbmVudCwgd2Ugd2lsbCBlbmFibGUgaW52ZXJzZS1wcm9qZWN0ZWQgbW91c2UgY2xpY2tzLFxyXG4gICAgICAgICAqIG90aGVyd2lzZSBqdXN0IHVzZSB0aGUgb2JqZWN0cyB0cmFuc2Zvcm1hdGlvbiAqL1xyXG4gICAgICAgIGlmICh0aGlzLl92aWV3Q29tcG9uZW50ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5lbmdpbmUuY2FudmFzO1xyXG4gICAgICAgICAgICBjb25zdCBvbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9uUG9pbnRlck1vdmUgPSB0aGlzLm9uUG9pbnRlck1vdmUuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgY29uc3Qgb25Qb2ludGVyRG93biA9IHRoaXMub25Qb2ludGVyRG93bi5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICBjb25zdCBvblBvaW50ZXJVcCA9IHRoaXMub25Qb2ludGVyVXAuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uUG9pbnRlck1vdmUpO1xyXG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBvblBvaW50ZXJEb3duKTtcclxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIG9uUG9pbnRlclVwKTtcclxuICAgICAgICAgICAgdGhpcy5fb25EZWFjdGl2YXRlQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBvblBvaW50ZXJNb3ZlKTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIG9uUG9pbnRlckRvd24pO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIG9uUG9pbnRlclVwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX29uVmlld3BvcnRSZXNpemUoKTtcclxuICAgIH1cclxuICAgIF9zZXRDdXJzb3JSYXlUcmFuc2Zvcm0oaGl0UG9zaXRpb24pIHtcclxuICAgICAgICBpZiAoIXRoaXMuY3Vyc29yUmF5T2JqZWN0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgZGlzdCA9IHZlYzMuZGlzdCh0aGlzLl9vcmlnaW4sIGhpdFBvc2l0aW9uKTtcclxuICAgICAgICB0aGlzLmN1cnNvclJheU9iamVjdC5zZXRQb3NpdGlvbkxvY2FsKFswLjAsIDAuMCwgLWRpc3QgLyAyXSk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29yUmF5U2NhbGluZ0F4aXMgIT0gNCkge1xyXG4gICAgICAgICAgICAvKiBTY2FsZSBvbmx5IHRoZSByZXF1ZXN0ZWQgYXhpcywgcmVsYXRpdmUgdG8gdGhlIG9yaWdpbmFsIHNjYWxpbmcgKi9cclxuICAgICAgICAgICAgdGVtcFZlYy5maWxsKDEpO1xyXG4gICAgICAgICAgICB0ZW1wVmVjW3RoaXMuY3Vyc29yUmF5U2NhbGluZ0F4aXNdID0gZGlzdCAvIDI7XHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUmF5T2JqZWN0LnNldFNjYWxpbmdMb2NhbCh0ZW1wVmVjKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc2V0Q3Vyc29yVmlzaWJpbGl0eSh2aXNpYmxlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSA9PSB2aXNpYmxlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZTtcclxuICAgICAgICBpZiAoIXRoaXMuY3Vyc29yT2JqZWN0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKHZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJzb3JPYmplY3Quc2V0U2NhbGluZ1dvcmxkKHRoaXMuX2N1cnNvck9ialNjYWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yT2JqZWN0LmdldFNjYWxpbmdXb3JsZCh0aGlzLl9jdXJzb3JPYmpTY2FsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yT2JqZWN0LnNjYWxlTG9jYWwoWzAsIDAsIDBdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgLyogSWYgaW4gVlIsIHNldCB0aGUgY3Vyc29yIHJheSBiYXNlZCBvbiBvYmplY3QgdHJhbnNmb3JtICovXHJcbiAgICAgICAgLyogU2luY2UgR29vZ2xlIENhcmRib2FyZCB0YXAgaXMgcmVnaXN0ZXJlZCBhcyBhclRvdWNoRG93biB3aXRob3V0IGEgZ2FtZXBhZCwgd2UgbmVlZCB0byBjaGVjayBmb3IgZ2FtZXBhZCBwcmVzZW5jZSAqL1xyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZS54ciAmJlxyXG4gICAgICAgICAgICB0aGlzLl9hclRvdWNoRG93biAmJlxyXG4gICAgICAgICAgICB0aGlzLl9pbnB1dCAmJlxyXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLmlucHV0U291cmNlc1swXS5oYW5kZWRuZXNzID09PSAnbm9uZScgJiZcclxuICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5pbnB1dFNvdXJjZXNbMF0uZ2FtZXBhZCkge1xyXG4gICAgICAgICAgICAvKiBXZWJYUiBBUiBpbnB1dCAqL1xyXG4gICAgICAgICAgICBjb25zdCBwID0gdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5pbnB1dFNvdXJjZXNbMF0uZ2FtZXBhZC5heGVzO1xyXG4gICAgICAgICAgICAvKiBTY3JlZW5zcGFjZSBZIGlzIGludmVydGVkICovXHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblswXSA9IHBbMF07XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblsxXSA9IC1wWzFdO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMl0gPSAtMS4wO1xyXG4gICAgICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtQW5kUHJvamVjdERpcmVjdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmVuZ2luZS54ciAmJiB0aGlzLl9pbnB1dCAmJiB0aGlzLl9pbnB1dC54cklucHV0U291cmNlKSB7XHJcbiAgICAgICAgICAgIC8qIFdlYlhSIFZSIGlucHV0ICovXHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblswXSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblsxXSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblsyXSA9IC0xLjA7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1Ub0RpcmVjdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLl92aWV3Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIC8qIEFwcGx5IHBvdGVudGlhbGx5IGNoYW5nZWQgdHJhbnNmb3JtIHRvIGxhc3Qgc3RvcmVkIHBvaW50ZXJcclxuICAgICAgICAgICAgICogcG9zaXRpb24gKi9cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yYXlDYXN0KG51bGwsIHRoaXMuZW5naW5lLnhyPy5mcmFtZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29yT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0ICYmXHJcbiAgICAgICAgICAgICAgICAodGhpcy5jdXJzb3JQb3NbMF0gIT0gMCB8fCB0aGlzLmN1cnNvclBvc1sxXSAhPSAwIHx8IHRoaXMuY3Vyc29yUG9zWzJdICE9IDApKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3JWaXNpYmlsaXR5KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3JPYmplY3Quc2V0UG9zaXRpb25Xb3JsZCh0aGlzLmN1cnNvclBvcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3JSYXlUcmFuc2Zvcm0odGhpcy5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q3Vyc29yVmlzaWJpbGl0eShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiBSZXR1cm5zIHRoZSBob3ZlcmVkIGN1cnNvciB0YXJnZXQsIGlmIGF2YWlsYWJsZSAqL1xyXG4gICAgbm90aWZ5KGV2ZW50LCBvcmlnaW5hbEV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5ob3ZlcmluZ09iamVjdDtcclxuICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnNvclRhcmdldCA9IHRoaXMuaG92ZXJpbmdPYmplY3RUYXJnZXQ7XHJcbiAgICAgICAgICAgIGlmIChjdXJzb3JUYXJnZXQpXHJcbiAgICAgICAgICAgICAgICBjdXJzb3JUYXJnZXRbZXZlbnRdLm5vdGlmeSh0YXJnZXQsIHRoaXMsIG9yaWdpbmFsRXZlbnQgPz8gdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxUYXJnZXRbZXZlbnRdLm5vdGlmeSh0YXJnZXQsIHRoaXMsIG9yaWdpbmFsRXZlbnQgPz8gdW5kZWZpbmVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBob3ZlckJlaGF2aW91cihyYXlIaXQsIGhpdFRlc3RSZXN1bHQsIGRvQ2xpY2ssIG9yaWdpbmFsRXZlbnQpIHtcclxuICAgICAgICAvKiBPbGQgQVBJIHZlcnNpb24gZG9lcyBub3QgcmV0dXJuIG51bGwgZm9yIG9iamVjdHNbMF0gaWYgbm8gaGl0ICovXHJcbiAgICAgICAgY29uc3QgaGl0ID0gIXRoaXMuaG92ZXJpbmdSZWFsaXR5ICYmIHJheUhpdC5oaXRDb3VudCA+IDAgPyByYXlIaXQub2JqZWN0c1swXSA6IG51bGw7XHJcbiAgICAgICAgaWYgKGhpdCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaG92ZXJpbmdPYmplY3QgfHwgIXRoaXMuaG92ZXJpbmdPYmplY3QuZXF1YWxzKGhpdCkpIHtcclxuICAgICAgICAgICAgICAgIC8qIFVuaG92ZXIgcHJldmlvdXMsIGlmIGV4aXN0cyAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25VbmhvdmVyJywgb3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBIb3ZlciBuZXcgb2JqZWN0ICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvdmVyaW5nT2JqZWN0ID0gaGl0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3ZlcmluZ09iamVjdFRhcmdldCA9IHRoaXMuaG92ZXJpbmdPYmplY3QuZ2V0Q29tcG9uZW50KEN1cnNvclRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdHlsZUN1cnNvcilcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uSG92ZXInLCBvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIC8qIFByZXZpb3VzbHkgaG92ZXJpbmcgb2JqZWN0LCBub3cgaG92ZXJpbmcgbm90aGluZyAqL1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25VbmhvdmVyJywgb3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuaG92ZXJpbmdPYmplY3QgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmhvdmVyaW5nT2JqZWN0VGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3R5bGVDdXJzb3IpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5ob3ZlcmluZ09iamVjdCkge1xyXG4gICAgICAgICAgICAvKiBvbkRvd24vb25VcCBmb3Igb2JqZWN0ICovXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rvd24gIT09IHRoaXMuX2xhc3RJc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHRoaXMuX2lzRG93biA/ICdvbkRvd24nIDogJ29uVXAnLCBvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBvbkNsaWNrIGZvciBvYmplY3QgKi9cclxuICAgICAgICAgICAgaWYgKGRvQ2xpY2spXHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25DbGljaycsIG9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmhvdmVyaW5nUmVhbGl0eSkge1xyXG4gICAgICAgICAgICAvKiBvbkRvd24vb25VcCBmb3IgaGl0IHRlc3QgKi9cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRG93biAhPT0gdGhpcy5fbGFzdElzRG93bikge1xyXG4gICAgICAgICAgICAgICAgKHRoaXMuX2lzRG93biA/IHRoaXMuaGl0VGVzdFRhcmdldC5vbkRvd24gOiB0aGlzLmhpdFRlc3RUYXJnZXQub25VcCkubm90aWZ5KGhpdFRlc3RSZXN1bHQsIHRoaXMsIG9yaWdpbmFsRXZlbnQgPz8gdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBvbkNsaWNrIGZvciBoaXQgdGVzdCAqL1xyXG4gICAgICAgICAgICBpZiAoZG9DbGljaylcclxuICAgICAgICAgICAgICAgIHRoaXMuaGl0VGVzdFRhcmdldC5vbkNsaWNrLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzLCBvcmlnaW5hbEV2ZW50ID8/IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIG9uTW92ZSAqL1xyXG4gICAgICAgIGlmIChoaXQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJpbmdPYmplY3QudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQodGVtcFZlYywgdGhpcy5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGVtcFZlYy5zZXQodGhpcy5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdmVjMy5lcXVhbHModGhpcy5fbGFzdEN1cnNvclBvc09uVGFyZ2V0LCB0ZW1wVmVjKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uTW92ZScsIG9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEN1cnNvclBvc09uVGFyZ2V0LnNldCh0ZW1wVmVjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmhvdmVyaW5nUmVhbGl0eSkge1xyXG4gICAgICAgICAgICBpZiAoIXZlYzMuZXF1YWxzKHRoaXMuX2xhc3RDdXJzb3JQb3NPblRhcmdldCwgdGhpcy5jdXJzb3JQb3MpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpdFRlc3RUYXJnZXQub25Nb3ZlLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzLCBvcmlnaW5hbEV2ZW50ID8/IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0Q3Vyc29yUG9zT25UYXJnZXQuc2V0KHRoaXMuY3Vyc29yUG9zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fbGFzdEN1cnNvclBvc09uVGFyZ2V0LnNldCh0aGlzLmN1cnNvclBvcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xhc3RJc0Rvd24gPSB0aGlzLl9pc0Rvd247XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHVwIGV2ZW50IGxpc3RlbmVycyBvbiBzZXNzaW9uIG9iamVjdFxyXG4gICAgICogQHBhcmFtIHMgV2ViWFIgc2Vzc2lvblxyXG4gICAgICpcclxuICAgICAqIFNldHMgdXAgJ3NlbGVjdCcgYW5kICdlbmQnIGV2ZW50cy5cclxuICAgICAqL1xyXG4gICAgc2V0dXBWUkV2ZW50cyhzKSB7XHJcbiAgICAgICAgaWYgKCFzKVxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdzZXR1cFZSRXZlbnRzIGNhbGxlZCB3aXRob3V0IGEgdmFsaWQgc2Vzc2lvbicpO1xyXG4gICAgICAgIC8qIEJlY2F1c2Ugd2UgcmVtb3ZlIHRoZSBjYWxsYmFjayBpbiAuYWN0aXZlIGFuZCBhbm90aGVyIGNvbXBvbmVudCBtaWdodFxyXG4gICAgICAgICAqIGRlYWN0aXZhdGUgdGhlIGN1cnNvciBkdXJpbmcgb25YUlNlc3Npb25TdGFydCwgd2UgbWFrZSBzdXJlIHRoZSBjdXJzb3JcclxuICAgICAgICAgKiByZWFsbHkgaXMgYWN0aXZlIHdoZW4gd2UgcnVuIHRoaXMgKi9cclxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLyogSWYgaW4gVlIsIG9uZS10aW1lIGJpbmQgdGhlIGxpc3RlbmVyICovXHJcbiAgICAgICAgY29uc3Qgb25TZWxlY3QgPSB0aGlzLm9uU2VsZWN0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3QnLCBvblNlbGVjdCk7XHJcbiAgICAgICAgY29uc3Qgb25TZWxlY3RTdGFydCA9IHRoaXMub25TZWxlY3RTdGFydC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBvblNlbGVjdFN0YXJ0KTtcclxuICAgICAgICBjb25zdCBvblNlbGVjdEVuZCA9IHRoaXMub25TZWxlY3RFbmQuYmluZCh0aGlzKTtcclxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVuZCcsIG9uU2VsZWN0RW5kKTtcclxuICAgICAgICB0aGlzLl9vbkRlYWN0aXZhdGVDYWxsYmFja3MucHVzaCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5lbmdpbmUueHIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0Jywgb25TZWxlY3QpO1xyXG4gICAgICAgICAgICBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0Jywgb25TZWxlY3RTdGFydCk7XHJcbiAgICAgICAgICAgIHMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0ZW5kJywgb25TZWxlY3RFbmQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qIEFmdGVyIEFSIHNlc3Npb24gd2FzIGVudGVyZWQsIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBjaGFuZ2VkICovXHJcbiAgICAgICAgdGhpcy5fb25WaWV3cG9ydFJlc2l6ZSgpO1xyXG4gICAgfVxyXG4gICAgb25EZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMuX29uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uUmVzaXplLnJlbW92ZSh0aGlzLl9vblZpZXdwb3J0UmVzaXplKTtcclxuICAgICAgICB0aGlzLl9zZXRDdXJzb3JWaXNpYmlsaXR5KGZhbHNlKTtcclxuICAgICAgICBpZiAodGhpcy5ob3ZlcmluZ09iamVjdClcclxuICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uVW5ob3ZlcicsIG51bGwpO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvclJheU9iamVjdClcclxuICAgICAgICAgICAgdGhpcy5jdXJzb3JSYXlPYmplY3Quc2V0U2NhbGluZ0xvY2FsKFpFUk8pO1xyXG4gICAgICAgIC8qIEVuc3VyZSBhbGwgZXZlbnQgbGlzdGVuZXJzIGFyZSByZW1vdmVkICovXHJcbiAgICAgICAgZm9yIChjb25zdCBmIG9mIHRoaXMuX29uRGVhY3RpdmF0ZUNhbGxiYWNrcylcclxuICAgICAgICAgICAgZigpO1xyXG4gICAgICAgIHRoaXMuX29uRGVhY3RpdmF0ZUNhbGxiYWNrcy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG4gICAgb25EZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuX2hpdFRlc3RPYmplY3Q/LmRlc3Ryb3koKTtcclxuICAgIH1cclxuICAgIC8qKiAnc2VsZWN0JyBldmVudCBsaXN0ZW5lciAqL1xyXG4gICAgb25TZWxlY3QoZSkge1xyXG4gICAgICAgIGlmIChlLmlucHV0U291cmNlLmhhbmRlZG5lc3MgIT0gdGhpcy5oYW5kZWRuZXNzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUsIGUuZnJhbWUsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgLyoqICdzZWxlY3RzdGFydCcgZXZlbnQgbGlzdGVuZXIgKi9cclxuICAgIG9uU2VsZWN0U3RhcnQoZSkge1xyXG4gICAgICAgIHRoaXMuX2FyVG91Y2hEb3duID0gdHJ1ZTtcclxuICAgICAgICBpZiAoZS5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09IHRoaXMuaGFuZGVkbmVzcykge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0Rvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnJheUNhc3QoZSwgZS5mcmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqICdzZWxlY3RlbmQnIGV2ZW50IGxpc3RlbmVyICovXHJcbiAgICBvblNlbGVjdEVuZChlKSB7XHJcbiAgICAgICAgdGhpcy5fYXJUb3VjaERvd24gPSBmYWxzZTtcclxuICAgICAgICBpZiAoZS5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09IHRoaXMuaGFuZGVkbmVzcykge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5yYXlDYXN0KGUsIGUuZnJhbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiAncG9pbnRlcm1vdmUnIGV2ZW50IGxpc3RlbmVyICovXHJcbiAgICBvblBvaW50ZXJNb3ZlKGUpIHtcclxuICAgICAgICAvKiBEb24ndCBjYXJlIGFib3V0IHNlY29uZGFyeSBwb2ludGVycyAqL1xyXG4gICAgICAgIGlmICghZS5pc1ByaW1hcnkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlUG9zKGUpO1xyXG4gICAgICAgIHRoaXMucmF5Q2FzdChlLCBudWxsKTtcclxuICAgIH1cclxuICAgIC8qKiAnY2xpY2snIGV2ZW50IGxpc3RlbmVyICovXHJcbiAgICBvbkNsaWNrKGUpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlUG9zKGUpO1xyXG4gICAgICAgIHRoaXMucmF5Q2FzdChlLCBudWxsLCB0cnVlKTtcclxuICAgIH1cclxuICAgIC8qKiAncG9pbnRlcmRvd24nIGV2ZW50IGxpc3RlbmVyICovXHJcbiAgICBvblBvaW50ZXJEb3duKGUpIHtcclxuICAgICAgICAvKiBEb24ndCBjYXJlIGFib3V0IHNlY29uZGFyeSBwb2ludGVycyBvciBub24tbGVmdCBjbGlja3MgKi9cclxuICAgICAgICBpZiAoIWUuaXNQcmltYXJ5IHx8IGUuYnV0dG9uICE9PSAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy51cGRhdGVNb3VzZVBvcyhlKTtcclxuICAgICAgICB0aGlzLl9pc0Rvd24gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmF5Q2FzdChlKTtcclxuICAgIH1cclxuICAgIC8qKiAncG9pbnRlcnVwJyBldmVudCBsaXN0ZW5lciAqL1xyXG4gICAgb25Qb2ludGVyVXAoZSkge1xyXG4gICAgICAgIC8qIERvbid0IGNhcmUgYWJvdXQgc2Vjb25kYXJ5IHBvaW50ZXJzIG9yIG5vbi1sZWZ0IGNsaWNrcyAqL1xyXG4gICAgICAgIGlmICghZS5pc1ByaW1hcnkgfHwgZS5idXR0b24gIT09IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlUG9zKGUpO1xyXG4gICAgICAgIHRoaXMuX2lzRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmF5Q2FzdChlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIG1vdXNlIHBvc2l0aW9uIGluIG5vbi1WUiBtb2RlIGFuZCByYXljYXN0IGZvciBuZXcgcG9zaXRpb25cclxuICAgICAqIEByZXR1cm5zIEByZWYgV0wuUmF5SGl0IGZvciBuZXcgcG9zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZU1vdXNlUG9zKGUpIHtcclxuICAgICAgICB0aGlzLl9sYXN0UG9pbnRlclBvc1swXSA9IGUuY2xpZW50WDtcclxuICAgICAgICB0aGlzLl9sYXN0UG9pbnRlclBvc1sxXSA9IGUuY2xpZW50WTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlRGlyZWN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuZW5naW5lLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAvKiBHZXQgZGlyZWN0aW9uIGluIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgc3BhY2UgZnJvbSBtb3VzZSBwb3NpdGlvbiAqL1xyXG4gICAgICAgIGNvbnN0IGxlZnQgPSB0aGlzLl9sYXN0UG9pbnRlclBvc1swXSAvIGJvdW5kcy53aWR0aDtcclxuICAgICAgICBjb25zdCB0b3AgPSB0aGlzLl9sYXN0UG9pbnRlclBvc1sxXSAvIGJvdW5kcy5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzBdID0gbGVmdCAqIDIgLSAxO1xyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvblsxXSA9IC10b3AgKiAyICsgMTtcclxuICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMl0gPSAtMS4wO1xyXG4gICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1BbmRQcm9qZWN0RGlyZWN0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBhcHBseVRyYW5zZm9ybUFuZFByb2plY3REaXJlY3Rpb24oKSB7XHJcbiAgICAgICAgLyogUmV2ZXJzZS1wcm9qZWN0IHRoZSBkaXJlY3Rpb24gaW50byB2aWV3IHNwYWNlICovXHJcbiAgICAgICAgdmVjMy50cmFuc2Zvcm1NYXQ0KHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uLCB0aGlzLl9wcm9qZWN0aW9uTWF0cml4KTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX2RpcmVjdGlvbik7XHJcbiAgICAgICAgdGhpcy5hcHBseVRyYW5zZm9ybVRvRGlyZWN0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBhcHBseVRyYW5zZm9ybVRvRGlyZWN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMub2JqZWN0LnRyYW5zZm9ybVZlY3RvcldvcmxkKHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uKTtcclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRQb3NpdGlvbldvcmxkKHRoaXMuX29yaWdpbik7XHJcbiAgICB9XHJcbiAgICByYXlDYXN0KG9yaWdpbmFsRXZlbnQsIGZyYW1lID0gbnVsbCwgZG9DbGljayA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgcmF5SGl0ID0gdGhpcy5yYXlDYXN0TW9kZSA9PSAwXHJcbiAgICAgICAgICAgID8gdGhpcy5lbmdpbmUuc2NlbmUucmF5Q2FzdCh0aGlzLl9vcmlnaW4sIHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fY29sbGlzaW9uTWFzaylcclxuICAgICAgICAgICAgOiB0aGlzLmVuZ2luZS5waHlzaWNzLnJheUNhc3QodGhpcy5fb3JpZ2luLCB0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX2NvbGxpc2lvbk1hc2ssIHRoaXMubWF4RGlzdGFuY2UpO1xyXG4gICAgICAgIGxldCBoaXRSZXN1bHREaXN0YW5jZSA9IEluZmluaXR5O1xyXG4gICAgICAgIGxldCBoaXRUZXN0UmVzdWx0ID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5faGl0VGVzdExvY2F0aW9uPy52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpdFRlc3RPYmplY3QuZ2V0UG9zaXRpb25Xb3JsZCh0aGlzLmN1cnNvclBvcyk7XHJcbiAgICAgICAgICAgIGhpdFJlc3VsdERpc3RhbmNlID0gdmVjMy5kaXN0YW5jZSh0aGlzLm9iamVjdC5nZXRQb3NpdGlvbldvcmxkKHRlbXBWZWMpLCB0aGlzLmN1cnNvclBvcyk7XHJcbiAgICAgICAgICAgIGhpdFRlc3RSZXN1bHQgPSB0aGlzLl9oaXRUZXN0TG9jYXRpb24/LmdldEhpdFRlc3RSZXN1bHRzKGZyYW1lKVswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGhvdmVyaW5nUmVhbGl0eSA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChyYXlIaXQuaGl0Q291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGQgPSByYXlIaXQuZGlzdGFuY2VzWzBdO1xyXG4gICAgICAgICAgICBpZiAoaGl0UmVzdWx0RGlzdGFuY2UgPj0gZCkge1xyXG4gICAgICAgICAgICAgICAgLyogT3ZlcnJpZGUgY3Vyc29yUG9zIHNldCBieSBoaXQgdGVzdCBsb2NhdGlvbiAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3JQb3Muc2V0KHJheUhpdC5sb2NhdGlvbnNbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJpbmdSZWFsaXR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChoaXRSZXN1bHREaXN0YW5jZSA8IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgIC8qIGN1cnNvclBvcyBhbHJlYWR5IHNldCAqL1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJzb3JQb3MuZmlsbCgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGhvdmVyaW5nUmVhbGl0eSAmJiAhdGhpcy5ob3ZlcmluZ1JlYWxpdHkpIHtcclxuICAgICAgICAgICAgdGhpcy5oaXRUZXN0VGFyZ2V0Lm9uSG92ZXIubm90aWZ5KGhpdFRlc3RSZXN1bHQsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghaG92ZXJpbmdSZWFsaXR5ICYmIHRoaXMuaG92ZXJpbmdSZWFsaXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGl0VGVzdFRhcmdldC5vblVuaG92ZXIubm90aWZ5KGhpdFRlc3RSZXN1bHQsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhvdmVyaW5nUmVhbGl0eSA9IGhvdmVyaW5nUmVhbGl0eTtcclxuICAgICAgICB0aGlzLmhvdmVyQmVoYXZpb3VyKHJheUhpdCwgaGl0VGVzdFJlc3VsdCwgZG9DbGljaywgb3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgcmV0dXJuIHJheUhpdDtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmludCgxKVxyXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcImNvbGxpc2lvbkdyb3VwXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkub2JqZWN0KClcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJjdXJzb3JSYXlPYmplY3RcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5lbnVtKFsneCcsICd5JywgJ3onLCAnbm9uZSddLCAneicpXHJcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwiY3Vyc29yUmF5U2NhbGluZ0F4aXNcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5vYmplY3QoKVxyXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcImN1cnNvck9iamVjdFwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmVudW0oWydpbnB1dCBjb21wb25lbnQnLCAnbGVmdCcsICdyaWdodCcsICdub25lJ10sICdpbnB1dCBjb21wb25lbnQnKVxyXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcImhhbmRlZG5lc3NcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5lbnVtKFsnY29sbGlzaW9uJywgJ3BoeXN4J10sICdjb2xsaXNpb24nKVxyXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcInJheUNhc3RNb2RlXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuZmxvYXQoMTAwKVxyXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcIm1heERpc3RhbmNlXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuYm9vbCh0cnVlKVxyXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcInN0eWxlQ3Vyc29yXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuYm9vbChmYWxzZSlcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJ1c2VXZWJYUkhpdFRlc3RcIiwgdm9pZCAwKTtcclxuZXhwb3J0IHsgQ3Vyc29yIH07XHJcbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuaW1wb3J0IHsgcXVhdDIgfSBmcm9tICdnbC1tYXRyaXgnO1xyXG4vKipcclxuICogUHJpbnRzIHNvbWUgbGltaXRlZCBkZWJ1ZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0LlxyXG4gKlxyXG4gKiBJbmZvcm1hdGlvbiBjb25zaXN0cyBvZjogVGhpcyBvYmplY3QncyBuYW1lLCBhbiBvYmplY3QgcGFyYW1ldGVyJ3MgbmFtZSxcclxuICogdGhlIG9iamVjdCdzIHdvcmxkIHRyYW5zbGF0aW9uLCB3b3JsZCB0cmFuc2Zvcm0gYW5kIGxvY2FsIHRyYW5zZm9ybS5cclxuICpcclxuICogTWFpbmx5IHVzZWQgYnkgZW5naW5lIGRldmVsb3BlcnMgZm9yIGRlYnVnIHB1cnBvc2VzIG9yIGFzIGV4YW1wbGUgY29kZS5cclxuICovXHJcbmNsYXNzIERlYnVnT2JqZWN0IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdkZWJ1Zy1vYmplY3QnO1xyXG4gICAgLyoqIEEgc2Vjb25kIG9iamVjdCB0byBwcmludCB0aGUgbmFtZSBvZiAqL1xyXG4gICAgb2JqID0gbnVsbDtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGxldCBvcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHF1YXQyLmdldFRyYW5zbGF0aW9uKG9yaWdpbiwgdGhpcy5vYmplY3QudHJhbnNmb3JtV29ybGQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdEZWJ1ZyBvYmplY3Q6JywgdGhpcy5vYmplY3QubmFtZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ090aGVyIG9iamVjdDonLCB0aGlzLm9iaj8ubmFtZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1xcdHRyYW5zbGF0aW9uJywgb3JpZ2luKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnXFx0dHJhbnNmb3JtV29ybGQnLCB0aGlzLm9iamVjdC50cmFuc2Zvcm1Xb3JsZCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1xcdHRyYW5zZm9ybUxvY2FsJywgdGhpcy5vYmplY3QudHJhbnNmb3JtTG9jYWwpO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkub2JqZWN0KClcclxuXSwgRGVidWdPYmplY3QucHJvdG90eXBlLCBcIm9ialwiLCB2b2lkIDApO1xyXG5leHBvcnQgeyBEZWJ1Z09iamVjdCB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuLyoqXHJcbiAqIEZ1bmN0aW9uIHRvIGNvbnZlcnQgYSBFdWxlciBpbiBZWFogb3JkZXIgdG8gYSBxdWF0ZXJuaW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBxdWF0RnJvbUV1bGVyWVhaKG91dCwgeCwgeSwgeikge1xyXG4gICAgY29uc3QgYzEgPSBNYXRoLmNvcyh4IC8gMik7XHJcbiAgICBjb25zdCBjMiA9IE1hdGguY29zKHkgLyAyKTtcclxuICAgIGNvbnN0IGMzID0gTWF0aC5jb3MoeiAvIDIpO1xyXG4gICAgY29uc3QgczEgPSBNYXRoLnNpbih4IC8gMik7XHJcbiAgICBjb25zdCBzMiA9IE1hdGguc2luKHkgLyAyKTtcclxuICAgIGNvbnN0IHMzID0gTWF0aC5zaW4oeiAvIDIpO1xyXG4gICAgb3V0WzBdID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xyXG4gICAgb3V0WzFdID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzO1xyXG4gICAgb3V0WzJdID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xyXG4gICAgb3V0WzNdID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzO1xyXG59XHJcbi8qKlxyXG4gKiBSZXRyaWV2ZSBkZXZpY2Ugb3JpZW50YXRpb24gZnJvbSBhIG1vYmlsZSBkZXZpY2UgYW5kIHNldCB0aGUgb2JqZWN0J3NcclxuICogb3JpZW50YXRpb24gYWNjb3JkaW5nbHkuXHJcbiAqXHJcbiAqIFVzZWZ1bCBmb3IgbWFnaWMgd2luZG93IGV4cGVyaWVuY2VzLlxyXG4gKi9cclxuY2xhc3MgRGV2aWNlT3JpZW50YXRpb25Mb29rIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdkZXZpY2Utb3JpZW50YXRpb24tbG9vayc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHt9O1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvblggPSAwO1xyXG4gICAgICAgIHRoaXMucm90YXRpb25ZID0gMDtcclxuICAgICAgICB0aGlzLmxhc3RDbGllbnRYID0gLTE7XHJcbiAgICAgICAgdGhpcy5sYXN0Q2xpZW50WSA9IC0xO1xyXG4gICAgfVxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICAvKiBJbml0aWFsaXplIGRldmljZSBvcmllbnRhdGlvbiB3aXRoIElkZW50aXR5IFF1YXRlcm5pb24gKi9cclxuICAgICAgICB0aGlzLmRldmljZU9yaWVudGF0aW9uID0gWzAsIDAsIDAsIDFdO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuT3JpZW50YXRpb24gPSB3aW5kb3cuaW5uZXJIZWlnaHQgPiB3aW5kb3cuaW5uZXJXaWR0aCA/IDAgOiA5MDtcclxuICAgICAgICB0aGlzLl9vcmlnaW4gPSBbMCwgMCwgMF07XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgbGV0IGFscGhhID0gZS5hbHBoYSB8fCAwO1xyXG4gICAgICAgICAgICBsZXQgYmV0YSA9IGUuYmV0YSB8fCAwO1xyXG4gICAgICAgICAgICBsZXQgZ2FtbWEgPSBlLmdhbW1hIHx8IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvUmFkID0gTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgcXVhdEZyb21FdWxlcllYWih0aGlzLmRldmljZU9yaWVudGF0aW9uLCBiZXRhICogdG9SYWQsIGFscGhhICogdG9SYWQsIC1nYW1tYSAqIHRvUmFkKTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NyZWVuT3JpZW50YXRpb24gPSB3aW5kb3cub3JpZW50YXRpb24gfHwgMDtcclxuICAgICAgICB9LmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICAvKiBEb24ndCB1c2UgZGV2aWNlIG9yaWVudGF0aW9uIGluIFZSICovXHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lLnhyKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Mb2NhbCh0aGlzLl9vcmlnaW4pO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LnJlc2V0VHJhbnNmb3JtKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuT3JpZW50YXRpb24gIT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGVBeGlzQW5nbGVEZWcoWzAsIDAsIC0xXSwgdGhpcy5zY3JlZW5PcmllbnRhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZShbLU1hdGguc3FydCgwLjUpLCAwLCAwLCBNYXRoLnNxcnQoMC41KV0pO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZSh0aGlzLmRldmljZU9yaWVudGF0aW9uKTtcclxuICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGUodGhpcy5fb3JpZ2luKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBEZXZpY2VPcmllbnRhdGlvbkxvb2sgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbi8qKlxyXG4gKiBFbmFibGVzIGludGVyYWN0aW9uIHdpdGggY3Vyc29yLXRhcmdldHMgdGhyb3VnaCBjb2xsaXNpb24gb3ZlcmxhcHMsXHJcbiAqIGUuZy4gb24gdGhlIHRpcCBvZiBhIGZpbmdlciBvbiBhIHRyYWNrZWQgaGFuZC5cclxuICpcclxuICogKipSZXF1aXJlbWVudHM6KipcclxuICogIC0gQSBjb2xsaXNpb24gY29tcG9uZW50ICh1c3VhbGx5IGEgc3BoZXJlIHdpdGggYDAuMDVgIHJhZGl1cykgb24gdGhlIHNhbWUgb2JqZWN0XHJcbiAqXHJcbiAqIEBzaW5jZSAwLjguNVxyXG4gKi9cclxuY2xhc3MgRmluZ2VyQ3Vyc29yIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdmaW5nZXItY3Vyc29yJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge307XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMubGFzdFRhcmdldCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLnRpcCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnY29sbGlzaW9uJyk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgY29uc3Qgb3ZlcmxhcHMgPSB0aGlzLnRpcC5xdWVyeU92ZXJsYXBzKCk7XHJcbiAgICAgICAgbGV0IG92ZXJsYXBGb3VuZCA9IG51bGw7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdmVybGFwcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCBvID0gb3ZlcmxhcHNbaV0ub2JqZWN0O1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBvLmdldENvbXBvbmVudCgnY3Vyc29yLXRhcmdldCcpO1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5lcXVhbHModGhpcy5sYXN0VGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5vbkhvdmVyKG8sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5vbkNsaWNrKG8sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgb3ZlcmxhcEZvdW5kID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFvdmVybGFwRm91bmQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGFzdFRhcmdldClcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldC5vblVuaG92ZXIodGhpcy5sYXN0VGFyZ2V0Lm9iamVjdCwgdGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldCA9IG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldCA9IG92ZXJsYXBGb3VuZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgRmluZ2VyQ3Vyc29yIH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4vKipcclxuICogQXBwbGllcyBbZml4ZWQgZm92ZWF0aW9uXShodHRwczovL3d3dy53My5vcmcvVFIvd2VieHJsYXllcnMtMS8jZG9tLXhyY29tcG9zaXRpb25sYXllci1maXhlZGZvdmVhdGlvbilcclxuICogb25jZSBhIFdlYlhSIHNlc3Npb24gaXMgc3RhcnRlZFxyXG4gKlxyXG4gKiBGaXhlZCBmb3ZlYXRpb24gcmVkdWNlcyBzaGFkaW5nIGNvc3QgYXQgdGhlIHBlcmlwaGVyeSBieSByZW5kZXJpbmcgYXQgbG93ZXIgcmVzb2x1dGlvbnMgYXQgdGhlXHJcbiAqIGVkZ2VzIG9mIHRoZSB1c2VycyB2aXNpb24uXHJcbiAqL1xyXG5jbGFzcyBGaXhlZEZvdmVhdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZml4ZWQtZm92ZWF0aW9uJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBBbW91bnQgdG8gYXBwbHkgZnJvbSAwIChub25lKSB0byAxIChmdWxsKSAqL1xyXG4gICAgICAgIGZpeGVkRm92ZWF0aW9uOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDAuNSB9LFxyXG4gICAgfTtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMuc2V0Rml4ZWRGb3ZlYXRpb24uYmluZCh0aGlzKTtcclxuICAgIH1cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgc2V0Rml4ZWRGb3ZlYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUueHIuYmFzZUxheWVyLmZpeGVkRm92ZWF0aW9uID0gdGhpcy5maXhlZEZvdmVhdGlvbjtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBGaXhlZEZvdmVhdGlvbiB9O1xyXG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBNZXNoQ29tcG9uZW50LCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xyXG5pbXBvcnQgeyB2ZWMzLCBxdWF0IH0gZnJvbSAnZ2wtbWF0cml4JztcclxuaW1wb3J0IHsgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsIH0gZnJvbSAnLi91dGlscy93ZWJ4ci5qcyc7XHJcbmNvbnN0IE9SREVSRURfSk9JTlRTID0gW1xyXG4gICAgJ3dyaXN0JyxcclxuICAgICd0aHVtYi1tZXRhY2FycGFsJyxcclxuICAgICd0aHVtYi1waGFsYW54LXByb3hpbWFsJyxcclxuICAgICd0aHVtYi1waGFsYW54LWRpc3RhbCcsXHJcbiAgICAndGh1bWItdGlwJyxcclxuICAgICdpbmRleC1maW5nZXItbWV0YWNhcnBhbCcsXHJcbiAgICAnaW5kZXgtZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxyXG4gICAgJ2luZGV4LWZpbmdlci1waGFsYW54LWludGVybWVkaWF0ZScsXHJcbiAgICAnaW5kZXgtZmluZ2VyLXBoYWxhbngtZGlzdGFsJyxcclxuICAgICdpbmRleC1maW5nZXItdGlwJyxcclxuICAgICdtaWRkbGUtZmluZ2VyLW1ldGFjYXJwYWwnLFxyXG4gICAgJ21pZGRsZS1maW5nZXItcGhhbGFueC1wcm94aW1hbCcsXHJcbiAgICAnbWlkZGxlLWZpbmdlci1waGFsYW54LWludGVybWVkaWF0ZScsXHJcbiAgICAnbWlkZGxlLWZpbmdlci1waGFsYW54LWRpc3RhbCcsXHJcbiAgICAnbWlkZGxlLWZpbmdlci10aXAnLFxyXG4gICAgJ3JpbmctZmluZ2VyLW1ldGFjYXJwYWwnLFxyXG4gICAgJ3JpbmctZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxyXG4gICAgJ3JpbmctZmluZ2VyLXBoYWxhbngtaW50ZXJtZWRpYXRlJyxcclxuICAgICdyaW5nLWZpbmdlci1waGFsYW54LWRpc3RhbCcsXHJcbiAgICAncmluZy1maW5nZXItdGlwJyxcclxuICAgICdwaW5reS1maW5nZXItbWV0YWNhcnBhbCcsXHJcbiAgICAncGlua3ktZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxyXG4gICAgJ3Bpbmt5LWZpbmdlci1waGFsYW54LWludGVybWVkaWF0ZScsXHJcbiAgICAncGlua3ktZmluZ2VyLXBoYWxhbngtZGlzdGFsJyxcclxuICAgICdwaW5reS1maW5nZXItdGlwJyxcclxuXTtcclxuY29uc3QgaW52VHJhbnNsYXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG5jb25zdCBpbnZSb3RhdGlvbiA9IHF1YXQuY3JlYXRlKCk7XHJcbmNvbnN0IHRlbXBWZWMwID0gdmVjMy5jcmVhdGUoKTtcclxuY29uc3QgdGVtcFZlYzEgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4vKipcclxuICogRWFzeSBoYW5kIHRyYWNraW5nIHRocm91Z2ggdGhlIFdlYlhSIERldmljZSBBUElcclxuICogW1wiSGFuZCBJbnB1dFwiIEFQSV0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby93ZWJ4ci1oYW5kLWlucHV0LykuXHJcbiAqXHJcbiAqIEFsbG93cyBkaXNwbGF5aW5nIGhhbmRzIGVpdGhlciBhcyBzcGhlcmUtam9pbnRzIG9yIHNraW5uZWQgbWVzaC5cclxuICpcclxuICogVG8gcmVhY3QgdG8gZ3JhYmJpbmcsIHVzZSBgdGhpcy5pc0dyYWJiaW5nKClgLiBGb3Igb3RoZXIgZ2VzdHVyZXMsIHJlZmVyXHJcbiAqIHRvIGB0aGlzLmpvaW50c2AgLSBhbiBhcnJheSBvZiBbV0wuT2JqZWN0XSgvanNhcGkvb2JqZWN0KSBhbmQgdXNlIHRoZSBqb2ludFxyXG4gKiBpbmRpY2VzIGxpc3RlZCBbaW4gdGhlIFdlYlhSIEhhbmQgSW5wdXQgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby93ZWJ4ci1oYW5kLWlucHV0LyNza2VsZXRvbi1qb2ludHMtc2VjdGlvbikuXHJcbiAqXHJcbiAqIEl0IGlzIG9mdGVuIGRlc2lyZWQgdG8gdXNlIGVpdGhlciBoYW5kIHRyYWNraW5nIG9yIGNvbnRyb2xsZXJzLCBub3QgYm90aC5cclxuICogVGhpcyBjb21wb25lbnQgcHJvdmlkZXMgYGRlYWN0aXZhdGVDaGlsZHJlbldpdGhvdXRQb3NlYCB0byBoaWRlIHRoZSBoYW5kXHJcbiAqIHRyYWNraW5nIHZpc3VhbGl6YXRpb24gaWYgbm8gcG9zZSBpcyBhdmFpbGFibGUgYW5kIGBjb250cm9sbGVyVG9EZWFjdGl2YXRlYFxyXG4gKiBmb3IgZGlzYWJsaW5nIGFub3RoZXIgb2JqZWN0IG9uY2UgYSBoYW5kIHRyYWNraW5nIHBvc2UgKmlzKiBhdmFpbGFibGUuXHJcbiAqIE91dHNpZGUgb2YgWFIgc2Vzc2lvbnMsIHRyYWNraW5nIG9yIGNvbnRyb2xsZXJzIGFyZSBuZWl0aGVyIGVuYWJsZWQgbm9yIGRpc2FibGVkXHJcbiAqIHRvIHBsYXkgd2VsbCB3aXRoIHRoZSBbdnItbW9kZS1hY3RpdmUtc3dpdGNoXSgjdnItbW9kZS1hY3RpdmUtc3dpdGNoKSBjb21wb25lbnQuXHJcbiAqXHJcbiAqICoqUmVxdWlyZW1lbnRzOioqXHJcbiAqICAtIFRvIHVzZSBoYW5kLXRyYWNraW5nLCBlbmFibGUgXCJqb2ludCB0cmFja2luZ1wiIGluIGBjaHJvbWU6Ly9mbGFnc2Agb25cclxuICogICAgT2N1bHVzIEJyb3dzZXIgZm9yIE9jdWx1cyBRdWVzdC9PY3VsdXMgUXVlc3QgMi5cclxuICpcclxuICogU2VlIFtIYW5kIFRyYWNraW5nIEV4YW1wbGVdKC9zaG93Y2FzZS9oYW5kLXRyYWNraW5nKS5cclxuICovXHJcbmNsYXNzIEhhbmRUcmFja2luZyBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaGFuZC10cmFja2luZyc7XHJcbiAgICAvKiogSGFuZGVkbmVzcyBkZXRlcm1pbmluZyB3aGV0aGVyIHRvIHJlY2VpdmUgdHJhY2tpbmcgaW5wdXQgZnJvbSByaWdodCBvciBsZWZ0IGhhbmQgKi9cclxuICAgIGhhbmRlZG5lc3MgPSAwO1xyXG4gICAgLyoqIChvcHRpb25hbCkgTWVzaCB0byB1c2UgdG8gdmlzdWFsaXplIGpvaW50cyAqL1xyXG4gICAgam9pbnRNZXNoID0gbnVsbDtcclxuICAgIC8qKiBNYXRlcmlhbCB0byB1c2UgZm9yIGRpc3BsYXkuIEFwcGxpZWQgdG8gZWl0aGVyIHRoZSBzcGF3bmVkIHNraW5uZWQgbWVzaCBvciB0aGUgam9pbnQgc3BoZXJlcy4gKi9cclxuICAgIGpvaW50TWF0ZXJpYWwgPSBudWxsO1xyXG4gICAgLyoqIChvcHRpb25hbCkgU2tpbiB0byBhcHBseSB0cmFja2VkIGpvaW50IHBvc2VzIHRvLiBJZiBub3QgcHJlc2VudCxcclxuICAgICAqIGpvaW50IHNwaGVyZXMgd2lsbCBiZSB1c2VkIGZvciBkaXNwbGF5IGluc3RlYWQuICovXHJcbiAgICBoYW5kU2tpbiA9IG51bGw7XHJcbiAgICAvKiogRGVhY3RpdmF0ZSBjaGlsZHJlbiBpZiBubyBwb3NlIHdhcyB0cmFja2VkICovXHJcbiAgICBkZWFjdGl2YXRlQ2hpbGRyZW5XaXRob3V0UG9zZSA9IHRydWU7XHJcbiAgICAvKiogQ29udHJvbGxlciBvYmplY3RzIHRvIGFjdGl2YXRlIGluY2x1ZGluZyBjaGlsZHJlbiBpZiBubyBwb3NlIGlzIGF2YWlsYWJsZSAqL1xyXG4gICAgY29udHJvbGxlclRvRGVhY3RpdmF0ZSA9IG51bGw7XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IFsnbGVmdCcsICdyaWdodCddW3RoaXMuaGFuZGVkbmVzc107XHJcbiAgICB9XHJcbiAgICBqb2ludHMgPSB7fTtcclxuICAgIHNlc3Npb24gPSBudWxsO1xyXG4gICAgLyogV2hldGhlciBsYXN0IHVwZGF0ZSBoYWQgYSBoYW5kIHBvc2UgKi9cclxuICAgIGhhc1Bvc2UgPSBmYWxzZTtcclxuICAgIF9jaGlsZHJlbkFjdGl2ZSA9IHRydWU7XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBpZiAoISgnWFJIYW5kJyBpbiB3aW5kb3cpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignV2ViWFIgSGFuZCBUcmFja2luZyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci4nKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5oYW5kU2tpbikge1xyXG4gICAgICAgICAgICBjb25zdCBza2luID0gdGhpcy5oYW5kU2tpbjtcclxuICAgICAgICAgICAgY29uc3Qgam9pbnRJZHMgPSBza2luLmpvaW50SWRzO1xyXG4gICAgICAgICAgICAvKiBNYXAgdGhlIHdyaXN0ICovXHJcbiAgICAgICAgICAgIHRoaXMuam9pbnRzW09SREVSRURfSk9JTlRTWzBdXSA9IHRoaXMuZW5naW5lLndyYXBPYmplY3Qoam9pbnRJZHNbMF0pO1xyXG4gICAgICAgICAgICAvKiBJbmRleCBpbiBPUkRFUkVEX0pPSU5UUyB0aGF0IHdlIGFyZSBtYXBwaW5nIHRvIG91ciBqb2ludHMgKi9cclxuICAgICAgICAgICAgLyogU2tpcCB0aHVtYjAgam9pbnQsIHN0YXJ0IGF0IHRodW1iMSAqL1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGpvaW50SWRzLmxlbmd0aDsgKytqKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBqb2ludCA9IHRoaXMuZW5naW5lLndyYXBPYmplY3Qoam9pbnRJZHNbal0pO1xyXG4gICAgICAgICAgICAgICAgLyogdGlwIGpvaW50cyBhcmUgb25seSBuZWVkZWQgZm9yIGpvaW50IHJlbmRlcmluZywgc28gd2Ugc2tpcCB0aG9zZSB3aGlsZSBtYXBwaW5nICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLmpvaW50c1tqb2ludC5uYW1lXSA9IGpvaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIElmIHdlIGhhdmUgYSBoYW5kIHNraW4sIG5vIG5lZWQgdG8gc3Bhd24gdGhlIGpvaW50cy1iYXNlZCBvbmUgKi9cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBTcGF3biBqb2ludHMgKi9cclxuICAgICAgICBjb25zdCBqb2ludE9iamVjdHMgPSB0aGlzLmVuZ2luZS5zY2VuZS5hZGRPYmplY3RzKE9SREVSRURfSk9JTlRTLmxlbmd0aCwgdGhpcy5vYmplY3QsIE9SREVSRURfSk9JTlRTLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBPUkRFUkVEX0pPSU5UUy5sZW5ndGg7ICsraikge1xyXG4gICAgICAgICAgICBjb25zdCBqb2ludCA9IGpvaW50T2JqZWN0c1tqXTtcclxuICAgICAgICAgICAgam9pbnQuYWRkQ29tcG9uZW50KE1lc2hDb21wb25lbnQsIHtcclxuICAgICAgICAgICAgICAgIG1lc2g6IHRoaXMuam9pbnRNZXNoLFxyXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHRoaXMuam9pbnRNYXRlcmlhbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuam9pbnRzW09SREVSRURfSk9JTlRTW2pdXSA9IGpvaW50O1xyXG4gICAgICAgICAgICBqb2ludC5uYW1lID0gT1JERVJFRF9KT0lOVFNbal07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVuZ2luZS54cilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuaGFzUG9zZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZS54ci5zZXNzaW9uLmlucHV0U291cmNlcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZW5naW5lLnhyLnNlc3Npb24uaW5wdXRTb3VyY2VzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFNvdXJjZSA9IHRoaXMuZW5naW5lLnhyLnNlc3Npb24uaW5wdXRTb3VyY2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dFNvdXJjZT8uaGFuZCB8fCBpbnB1dFNvdXJjZT8uaGFuZGVkbmVzcyAhPSB0aGlzLmhhbmRlZG5lc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3cmlzdFNwYWNlID0gaW5wdXRTb3VyY2UuaGFuZC5nZXQoJ3dyaXN0Jyk7XHJcbiAgICAgICAgICAgICAgICBpZiAod3Jpc3RTcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5nZXRKb2ludFBvc2Uod3Jpc3RTcGFjZSwgdGhpcy5lbmdpbmUueHIuY3VycmVudFJlZmVyZW5jZVNwYWNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwodGhpcy5vYmplY3QsIHAudHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRSb3RhdGlvbkxvY2FsKGludlJvdGF0aW9uKTtcclxuICAgICAgICAgICAgICAgIHF1YXQuY29uanVnYXRlKGludlJvdGF0aW9uLCBpbnZSb3RhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRQb3NpdGlvbkxvY2FsKGludlRyYW5zbGF0aW9uKTtcclxuICAgICAgICAgICAgICAgIC8qIFRoZXJlIGlzIGEgYm9uZSAnd3Jpc3QnLCBidXQgaXQganVzdCBzaXRzIG9uIHRoZSByb290XHJcbiAgICAgICAgICAgICAgICAgKiBvYmplY3QuIEl0IGNvdWxkIGhhdmUgYW4gaW5pdGlhbCB0cmFuc2Zvcm0gd2Ugd2FudCB0b1xyXG4gICAgICAgICAgICAgICAgICogY2xlYXIgZm9yIHNraW5uaW5nLCB0aG91Z2guICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLmpvaW50c1snd3Jpc3QnXS5yZXNldFRyYW5zZm9ybSgpO1xyXG4gICAgICAgICAgICAgICAgLyogV3Jpc3QgaXMgYWxyZWFkeSBoYW5kbGVkLCBzbyBzdGFydCBhdCAxICovXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IE9SREVSRURfSk9JTlRTLmxlbmd0aDsgKytqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgam9pbnROYW1lID0gT1JERVJFRF9KT0lOVFNbal07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgam9pbnQgPSB0aGlzLmpvaW50c1tqb2ludE5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgham9pbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBqb2ludFBvc2UgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50U3BhY2UgPSBpbnB1dFNvdXJjZS5oYW5kLmdldChqb2ludE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChqb2ludFNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZSA9IHRoaXMuZW5naW5lLnhyLmZyYW1lLmdldEpvaW50UG9zZShqb2ludFNwYWNlLCB0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoam9pbnRQb3NlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzUG9zZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqb2ludC50cmFuc2xhdGVMb2NhbChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLnBvc2l0aW9uLnggLSBpbnZUcmFuc2xhdGlvblswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ucG9zaXRpb24ueSAtIGludlRyYW5zbGF0aW9uWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5wb3NpdGlvbi56IC0gaW52VHJhbnNsYXRpb25bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqb2ludC5yb3RhdGVMb2NhbChpbnZSb3RhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50LnJvdGF0ZU9iamVjdChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLm9yaWVudGF0aW9uLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLm9yaWVudGF0aW9uLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLm9yaWVudGF0aW9uLnosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLm9yaWVudGF0aW9uLncsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFuZFNraW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIExhc3Qgam9pbnQgcmFkaXVzIG9mIGVhY2ggZmluZ2VyIGlzIG51bGwgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBqb2ludFBvc2UucmFkaXVzIHx8IDAuMDA3O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnQuc2V0U2NhbGluZ0xvY2FsKFtyLCByLCByXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc1Bvc2UgJiYgdGhpcy5fY2hpbGRyZW5BY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5BY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGVhY3RpdmF0ZUNoaWxkcmVuV2l0aG91dFBvc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5BY3RpdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlclRvRGVhY3RpdmF0ZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlbkFjdGl2ZSh0cnVlLCB0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaGFzUG9zZSAmJiAhdGhpcy5fY2hpbGRyZW5BY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5BY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kZWFjdGl2YXRlQ2hpbGRyZW5XaXRob3V0UG9zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlbkFjdGl2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuQWN0aXZlKGZhbHNlLCB0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0Q2hpbGRyZW5BY3RpdmUoYWN0aXZlLCBvYmplY3QpIHtcclxuICAgICAgICBvYmplY3QgPSBvYmplY3QgfHwgdGhpcy5vYmplY3Q7XHJcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBvYmplY3QuY2hpbGRyZW47XHJcbiAgICAgICAgZm9yIChjb25zdCBvIG9mIGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIG8uYWN0aXZlID0gYWN0aXZlO1xyXG4gICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuQWN0aXZlKGFjdGl2ZSwgbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaXNHcmFiYmluZygpIHtcclxuICAgICAgICB0aGlzLmpvaW50c1snaW5kZXgtZmluZ2VyLXRpcCddLmdldFBvc2l0aW9uTG9jYWwodGVtcFZlYzApO1xyXG4gICAgICAgIHRoaXMuam9pbnRzWyd0aHVtYi10aXAnXS5nZXRQb3NpdGlvbkxvY2FsKHRlbXBWZWMxKTtcclxuICAgICAgICByZXR1cm4gdmVjMy5zcXJEaXN0KHRlbXBWZWMwLCB0ZW1wVmVjMSkgPCAwLjAwMTtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmVudW0oWydsZWZ0JywgJ3JpZ2h0J10pXHJcbl0sIEhhbmRUcmFja2luZy5wcm90b3R5cGUsIFwiaGFuZGVkbmVzc1wiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5Lm1lc2goKVxyXG5dLCBIYW5kVHJhY2tpbmcucHJvdG90eXBlLCBcImpvaW50TWVzaFwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5Lm1hdGVyaWFsKClcclxuXSwgSGFuZFRyYWNraW5nLnByb3RvdHlwZSwgXCJqb2ludE1hdGVyaWFsXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuc2tpbigpXHJcbl0sIEhhbmRUcmFja2luZy5wcm90b3R5cGUsIFwiaGFuZFNraW5cIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5ib29sKHRydWUpXHJcbl0sIEhhbmRUcmFja2luZy5wcm90b3R5cGUsIFwiZGVhY3RpdmF0ZUNoaWxkcmVuV2l0aG91dFBvc2VcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5vYmplY3QoKVxyXG5dLCBIYW5kVHJhY2tpbmcucHJvdG90eXBlLCBcImNvbnRyb2xsZXJUb0RlYWN0aXZhdGVcIiwgdm9pZCAwKTtcclxuZXhwb3J0IHsgSGFuZFRyYWNraW5nIH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgJ2hvd2xlcic7XHJcbi8qKlxyXG4gKiAoU3BhdGlhbCkgYXVkaW8gbGlzdGVuZXIgYmFzZWQgb24gW0hvd2xlci5qc10oaHR0cHM6Ly9ob3dsZXJqcy5jb20vKS5cclxuICpcclxuICogUmV0cmlldmVzIHRoZSBsb2NhdGlvbiBhbmQgb3JpZW50YXRpb24gb2YgdGhlIG9iamVjdCBhbmQgcGFzc2VzIGl0XHJcbiAqIHRvIFtIb3dsZXIucG9zKCldKGh0dHBzOi8vZ2l0aHViLmNvbS9nb2xkZmlyZS9ob3dsZXIuanMjcG9zeC15LXotaWQpXHJcbiAqIGFuZCBbSG93bGVyLm9yaWVudGF0aW9uKCldKGh0dHBzOi8vZ2l0aHViLmNvbS9nb2xkZmlyZS9ob3dsZXIuanMjb3JpZW50YXRpb254LXktei1pZCkuXHJcbiAqL1xyXG5jbGFzcyBIb3dsZXJBdWRpb0xpc3RlbmVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdob3dsZXItYXVkaW8tbGlzdGVuZXInO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIFdoZXRoZXIgYXVkaW8gc2hvdWxkIGJlIHNwYXRpYWxpemVkL3Bvc2l0aW9uYWwuICovXHJcbiAgICAgICAgc3BhdGlhbDogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IHRydWUgfSxcclxuICAgIH07XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMub3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLmZ3ZCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy51cCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNwYXRpYWwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMub3JpZ2luKTtcclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRGb3J3YXJkKHRoaXMuZndkKTtcclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRVcCh0aGlzLnVwKTtcclxuICAgICAgICBIb3dsZXIucG9zKHRoaXMub3JpZ2luWzBdLCB0aGlzLm9yaWdpblsxXSwgdGhpcy5vcmlnaW5bMl0pO1xyXG4gICAgICAgIEhvd2xlci5vcmllbnRhdGlvbih0aGlzLmZ3ZFswXSwgdGhpcy5md2RbMV0sIHRoaXMuZndkWzJdLCB0aGlzLnVwWzBdLCB0aGlzLnVwWzFdLCB0aGlzLnVwWzJdKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBIb3dsZXJBdWRpb0xpc3RlbmVyIH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgJ2hvd2xlcic7XHJcbi8qKlxyXG4gKiAoU3BhdGlhbCkgYXVkaW8gc291cmNlIGJhc2VkIG9uIFtIb3dsZXIuanNdKGh0dHBzOi8vaG93bGVyanMuY29tLykuXHJcbiAqXHJcbiAqIENyZWF0ZXMgYSBIb3dsZXIgYXVkaW8gc291cmNlLCBwbGF5cyBhbiBhdWRpbyBmaWxlIG9uIGl0IGFuZCB1cGRhdGVzXHJcbiAqIGl0cyBwb3NpdGlvbi5cclxuICpcclxuICogT3B0aW1pemVzIHRoZSBwb3NpdGlvbiB1cGRhdGUgdG8gb25seSB1cGRhdGUgaWYgdGhlIGRpZmZlcmVuY2UgdG8gbGFzdFxyXG4gKiBwb3NpdGlvbiBpcyBsYXJnZXIgdGhhbiBoYWxmIGEgY2VudGltZXRlci4gVG8gZm9yY2UgdXBkYXRlcyAoZS5nLiBpZlxyXG4gKiB0aGUgc291bmQgc291cmNlIGlzIF92ZXJ5XyBjbG9zZSB0byB0aGUgbGlzdGVuZXIpLFxyXG4gKiB1c2UgYC51cGRhdGVQb3NpdGlvbigpYC5cclxuICovXHJcbmNsYXNzIEhvd2xlckF1ZGlvU291cmNlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdob3dsZXItYXVkaW8tc291cmNlJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBWb2x1bWUgKi9cclxuICAgICAgICB2b2x1bWU6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMS4wIH0sXHJcbiAgICAgICAgLyoqIFdoZXRoZXIgYXVkaW8gc2hvdWxkIGJlIHNwYXRpYWxpemVkL3Bvc2l0aW9uYWwgKi9cclxuICAgICAgICBzcGF0aWFsOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxyXG4gICAgICAgIC8qKiBXaGV0aGVyIHRvIGxvb3AgdGhlIHNvdW5kICovXHJcbiAgICAgICAgbG9vcDogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gc3RhcnQgcGxheWluZyBhdXRvbWF0aWNhbGx5ICovXHJcbiAgICAgICAgYXV0b3BsYXk6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgICAgIC8qKiBVUkwgdG8gYSBzb3VuZCBmaWxlIHRvIHBsYXkgKi9cclxuICAgICAgICBzcmM6IHsgdHlwZTogVHlwZS5TdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXHJcbiAgICB9O1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpbyA9IG5ldyBIb3dsKHtcclxuICAgICAgICAgICAgc3JjOiBbdGhpcy5zcmNdLFxyXG4gICAgICAgICAgICBsb29wOiB0aGlzLmxvb3AsXHJcbiAgICAgICAgICAgIHZvbHVtZTogdGhpcy52b2x1bWUsXHJcbiAgICAgICAgICAgIGF1dG9wbGF5OiB0aGlzLmF1dG9wbGF5LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubGFzdFBsYXllZEF1ZGlvSWQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMub3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLmxhc3RPcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIGlmICh0aGlzLnNwYXRpYWwgJiYgdGhpcy5hdXRvcGxheSkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3BhdGlhbCB8fCAhdGhpcy5sYXN0UGxheWVkQXVkaW9JZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5vcmlnaW4pO1xyXG4gICAgICAgIC8qIE9ubHkgY2FsbCBwb3MoKSBpZiB0aGUgcG9zaXRpb24gbW92ZWQgbW9yZSB0aGFuIGhhbGYgYSBjZW50aW1ldGVyXHJcbiAgICAgICAgICogb3RoZXJ3aXNlIHRoaXMgZ2V0cyB2ZXJ5IHBlcmZvcm1hbmNlIGhlYXZ5LlxyXG4gICAgICAgICAqIFNtYWxsZXIgbW92ZW1lbnQgc2hvdWxkIG9ubHkgYmUgcGVyY2VpdmFibGUgaWYgY2xvc2UgdG8gdGhlXHJcbiAgICAgICAgICogZWFyIGFueXdheS4gKi9cclxuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5sYXN0T3JpZ2luWzBdIC0gdGhpcy5vcmlnaW5bMF0pID4gMC4wMDUgfHxcclxuICAgICAgICAgICAgTWF0aC5hYnModGhpcy5sYXN0T3JpZ2luWzFdIC0gdGhpcy5vcmlnaW5bMV0pID4gMC4wMDUgfHxcclxuICAgICAgICAgICAgTWF0aC5hYnModGhpcy5sYXN0T3JpZ2luWzJdIC0gdGhpcy5vcmlnaW5bMl0pID4gMC4wMDUpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZVBvc2l0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW8ucG9zKHRoaXMub3JpZ2luWzBdLCB0aGlzLm9yaWdpblsxXSwgdGhpcy5vcmlnaW5bMl0sIHRoaXMubGFzdFBsYXllZEF1ZGlvSWQpO1xyXG4gICAgICAgIHRoaXMubGFzdE9yaWdpbi5zZXQodGhpcy5vcmlnaW4pO1xyXG4gICAgfVxyXG4gICAgcGxheSgpIHtcclxuICAgICAgICBpZiAodGhpcy5sYXN0UGxheWVkQXVkaW9JZClcclxuICAgICAgICAgICAgdGhpcy5hdWRpby5zdG9wKHRoaXMubGFzdFBsYXllZEF1ZGlvSWQpO1xyXG4gICAgICAgIHRoaXMubGFzdFBsYXllZEF1ZGlvSWQgPSB0aGlzLmF1ZGlvLnBsYXkoKTtcclxuICAgICAgICBpZiAodGhpcy5zcGF0aWFsKVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5sYXN0UGxheWVkQXVkaW9JZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uc3RvcCh0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkKTtcclxuICAgICAgICB0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkID0gbnVsbDtcclxuICAgIH1cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICAvKiBTdG9wIHNvdW5kIHdoZW4gY29tcG9uZW50IGlzIGRlYWN0aXZhdGVkIG9yIGRlc3Ryb3llZCwgZS5nLlxyXG4gICAgICAgICAqIHdoZW4gc3dpdGNoaW5nIHNjZW5lcyAqL1xyXG4gICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IEhvd2xlckF1ZGlvU291cmNlIH07XHJcbiIsICIvKipcclxuICogU2V0IHRoZSBkaWZmdXNlL2ZsYXQgdGV4dHVyZSBvZiBrbm93biBwaXBlbGluZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSBtYXQgTWF0ZXJpYWwgdG8gc2V0IHRoZSB0ZXh0dXJlIG9uXHJcbiAqIEBwYXJhbSB0ZXh0dXJlIFRleHR1cmUgdG8gc2V0XHJcbiAqIEBwYXJhbSBjdXN0b21UZXh0dXJlUHJvcGVydHkgVGV4dHVyZSBwcm9wZXJ0eSB0byBzZXQgb3IgYCdhdXRvJ2AgdG8gYXV0b21hdGljYWxseVxyXG4gKiAgICAgIGRldGVjdCB0aGUgcmlnaHQgdGV4dHVyZSBwcm9wZXJ0eSBiYXNlZCBvbiBrbm93biBwaXBlbGluZS5cclxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSB3YXMgc2V0LCBgZmFsc2VgIG90aGVyd2lzZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRGaXJzdE1hdGVyaWFsVGV4dHVyZShtYXQsIHRleHR1cmUsIGN1c3RvbVRleHR1cmVQcm9wZXJ0eSkge1xyXG4gICAgaWYgKGN1c3RvbVRleHR1cmVQcm9wZXJ0eSAhPT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG1hdFtjdXN0b21UZXh0dXJlUHJvcGVydHldID0gdGV4dHVyZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnN0IHNoYWRlciA9IG1hdC5zaGFkZXI7XHJcbiAgICBpZiAoc2hhZGVyID09PSAnRmxhdCBPcGFxdWUgVGV4dHVyZWQnKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG1hdC5mbGF0VGV4dHVyZSA9IHRleHR1cmU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChzaGFkZXIgPT09ICdQaG9uZyBPcGFxdWUgVGV4dHVyZWQnIHx8XHJcbiAgICAgICAgc2hhZGVyID09PSAnRm9saWFnZScgfHxcclxuICAgICAgICBzaGFkZXIgPT09ICdQaG9uZyBOb3JtYWxtYXBwZWQnIHx8XHJcbiAgICAgICAgc2hhZGVyID09PSAnUGhvbmcgTGlnaHRtYXBwZWQnKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG1hdC5kaWZmdXNlVGV4dHVyZSA9IHRleHR1cmU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChzaGFkZXIgPT09ICdQYXJ0aWNsZScpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgbWF0Lm1haW5UZXh0dXJlID0gdGV4dHVyZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHNoYWRlciA9PT0gJ0Rpc3RhbmNlRmllbGRWZWN0b3InKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG1hdC52ZWN0b3JUZXh0dXJlID0gdGV4dHVyZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHNoYWRlciA9PT0gJ0JhY2tncm91bmQnIHx8IHNoYWRlciA9PT0gJ1NreScpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgbWF0LnRleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnUGh5c2ljYWwgT3BhcXVlIFRleHR1cmVkJykge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBtYXQuYWxiZWRvVGV4dHVyZSA9IHRleHR1cmU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgUHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBzZXRGaXJzdE1hdGVyaWFsVGV4dHVyZSB9IGZyb20gJy4vdXRpbHMvdXRpbHMuanMnO1xyXG4vKipcclxuICogRG93bmxvYWRzIGFuIGltYWdlIGZyb20gVVJMIGFuZCBhcHBsaWVzIGl0IGFzIGBkaWZmdXNlVGV4dHVyZWAgb3IgYGZsYXRUZXh0dXJlYFxyXG4gKiB0byBhbiBhdHRhY2hlZCBtZXNoIGNvbXBvbmVudC5cclxuICpcclxuICogTWF0ZXJpYWxzIGZyb20gdGhlIGZvbGxvd2luZyBzaGFkZXJzIGFyZSBzdXBwb3J0ZWQ6XHJcbiAqICAtIFwiUGhvbmcgT3BhcXVlIFRleHR1cmVkXCJcclxuICogIC0gXCJGbGF0IE9wYXF1ZSBUZXh0dXJlZFwiXHJcbiAqICAtIFwiQmFja2dyb3VuZFwiXHJcbiAqICAtIFwiUGh5c2ljYWwgT3BhcXVlIFRleHR1cmVkXCJcclxuICogIC0gXCJGb2xpYWdlXCJcclxuICovXHJcbmNsYXNzIEltYWdlVGV4dHVyZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaW1hZ2UtdGV4dHVyZSc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogVVJMIHRvIGRvd25sb2FkIHRoZSBpbWFnZSBmcm9tICovXHJcbiAgICAgICAgdXJsOiBQcm9wZXJ0eS5zdHJpbmcoKSxcclxuICAgICAgICAvKiogTWF0ZXJpYWwgdG8gYXBwbHkgdGhlIHZpZGVvIHRleHR1cmUgdG8gKi9cclxuICAgICAgICBtYXRlcmlhbDogUHJvcGVydHkubWF0ZXJpYWwoKSxcclxuICAgICAgICAvKiogTmFtZSBvZiB0aGUgdGV4dHVyZSBwcm9wZXJ0eSB0byBzZXQgKi9cclxuICAgICAgICB0ZXh0dXJlUHJvcGVydHk6IFByb3BlcnR5LnN0cmluZygnYXV0bycpLFxyXG4gICAgfTtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYXRlcmlhbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignaW1hZ2UtdGV4dHVyZTogbWF0ZXJpYWwgcHJvcGVydHkgbm90IHNldCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVuZ2luZS50ZXh0dXJlc1xyXG4gICAgICAgICAgICAubG9hZCh0aGlzLnVybCwgJ2Fub255bW91cycpXHJcbiAgICAgICAgICAgIC50aGVuKCh0ZXh0dXJlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdCA9IHRoaXMubWF0ZXJpYWw7XHJcbiAgICAgICAgICAgIGlmICghc2V0Rmlyc3RNYXRlcmlhbFRleHR1cmUobWF0LCB0ZXh0dXJlLCB0aGlzLnRleHR1cmVQcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NoYWRlcicsIG1hdC5zaGFkZXIsICdub3Qgc3VwcG9ydGVkIGJ5IGltYWdlLXRleHR1cmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChjb25zb2xlLmVycik7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgSW1hZ2VUZXh0dXJlIH07XHJcbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuaW1wb3J0IHsgdmVjMyB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbmNvbnN0IHByZXZlbnREZWZhdWx0ID0gKGUpID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyB9O1xyXG4vKipcclxuICogQ29udHJvbHMgdGhlIGNhbWVyYSBvcmllbnRhdGlvbiB0aHJvdWdoIG1vdXNlIG1vdmVtZW50LlxyXG4gKlxyXG4gKiBFZmZpY2llbnRseSBpbXBsZW1lbnRlZCB0byBhZmZlY3Qgb2JqZWN0IG9yaWVudGF0aW9uIG9ubHlcclxuICogd2hlbiB0aGUgbW91c2UgbW92ZXMuXHJcbiAqL1xyXG5jbGFzcyBNb3VzZUxvb2tDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ21vdXNlLWxvb2snO1xyXG4gICAgLyoqIE1vdXNlIGxvb2sgc2Vuc2l0aXZpdHkgKi9cclxuICAgIHNlbnNpdGl0eSA9IDAuMjU7XHJcbiAgICAvKiogUmVxdWlyZSBhIG1vdXNlIGJ1dHRvbiB0byBiZSBwcmVzc2VkIHRvIGNvbnRyb2wgdmlldy5cclxuICAgICAqIE90aGVyd2lzZSB2aWV3IHdpbGwgYWxsd2F5cyBmb2xsb3cgbW91c2UgbW92ZW1lbnQgKi9cclxuICAgIHJlcXVpcmVNb3VzZURvd24gPSB0cnVlO1xyXG4gICAgLyoqIElmIFwibW92ZU9uQ2xpY2tcIiBpcyBlbmFibGVkLCBtb3VzZSBidXR0b24gd2hpY2ggc2hvdWxkXHJcbiAgICAgKiBiZSBoZWxkIGRvd24gdG8gY29udHJvbCB2aWV3ICovXHJcbiAgICBtb3VzZUJ1dHRvbkluZGV4ID0gMDtcclxuICAgIC8qKiBFbmFibGVzIHBvaW50ZXIgbG9jayBvbiBcIm1vdXNlZG93blwiIGV2ZW50IG9uIGNhbnZhcyAqL1xyXG4gICAgcG9pbnRlckxvY2tPbkNsaWNrID0gZmFsc2U7XHJcbiAgICBjdXJyZW50Um90YXRpb25ZID0gMDtcclxuICAgIGN1cnJlbnRSb3RhdGlvblggPSAwO1xyXG4gICAgb3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIHBhcmVudE9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICByb3RhdGlvblggPSAwO1xyXG4gICAgcm90YXRpb25ZID0gMDtcclxuICAgIG1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgb25BY3RpdmF0ZSgpIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcclxuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmVuZ2luZS5jYW52YXM7XHJcbiAgICAgICAgaWYgKHRoaXMucG9pbnRlckxvY2tPbkNsaWNrKSB7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLnJlcXVlc3RQb2ludGVyTG9jayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVNb3VzZURvd24pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubW91c2VCdXR0b25JbmRleCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgcHJldmVudERlZmF1bHQsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bik7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcclxuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmVuZ2luZS5jYW52YXM7XHJcbiAgICAgICAgaWYgKHRoaXMucG9pbnRlckxvY2tPbkNsaWNrKSB7XHJcbiAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLnJlcXVlc3RQb2ludGVyTG9jayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVNb3VzZURvd24pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubW91c2VCdXR0b25JbmRleCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgcHJldmVudERlZmF1bHQsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bik7XHJcbiAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlcXVlc3RQb2ludGVyTG9jayA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmVuZ2luZS5jYW52YXM7XHJcbiAgICAgICAgY2FudmFzLnJlcXVlc3RQb2ludGVyTG9jayA9XHJcbiAgICAgICAgICAgIGNhbnZhcy5yZXF1ZXN0UG9pbnRlckxvY2sgfHxcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5tb3pSZXF1ZXN0UG9pbnRlckxvY2sgfHxcclxuICAgICAgICAgICAgICAgIGNhbnZhcy53ZWJraXRSZXF1ZXN0UG9pbnRlckxvY2s7XHJcbiAgICAgICAgY2FudmFzLnJlcXVlc3RQb2ludGVyTG9jaygpO1xyXG4gICAgfTtcclxuICAgIG9uTW91c2VEb3duID0gKGUpID0+IHtcclxuICAgICAgICBpZiAoZS5idXR0b24gPT09IHRoaXMubW91c2VCdXR0b25JbmRleCkge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2dyYWJiaW5nJztcclxuICAgICAgICAgICAgaWYgKGUuYnV0dG9uID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAvKiBQcmV2ZW50IHNjcm9sbGluZyAqL1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIG9uTW91c2VVcCA9IChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUuYnV0dG9uID09PSB0aGlzLm1vdXNlQnV0dG9uSW5kZXgpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnaW5pdGlhbCc7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIG9uTW91c2VNb3ZlID0gKGUpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUgJiYgKHRoaXMubW91c2VEb3duIHx8ICF0aGlzLnJlcXVpcmVNb3VzZURvd24pKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25ZID0gKC10aGlzLnNlbnNpdGl0eSAqIGUubW92ZW1lbnRYKSAvIDEwMDtcclxuICAgICAgICAgICAgdGhpcy5yb3RhdGlvblggPSAoLXRoaXMuc2Vuc2l0aXR5ICogZS5tb3ZlbWVudFkpIC8gMTAwO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSb3RhdGlvblggKz0gdGhpcy5yb3RhdGlvblg7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWSArPSB0aGlzLnJvdGF0aW9uWTtcclxuICAgICAgICAgICAgLyogMS41MDcgPSBQSS8yID0gOTBcdTAwQjAgKi9cclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Um90YXRpb25YID0gTWF0aC5taW4oMS41MDcsIHRoaXMuY3VycmVudFJvdGF0aW9uWCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWCA9IE1hdGgubWF4KC0xLjUwNywgdGhpcy5jdXJyZW50Um90YXRpb25YKTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZCh0aGlzLm9yaWdpbik7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMub2JqZWN0LnBhcmVudDtcclxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LmdldFBvc2l0aW9uV29ybGQodGhpcy5wYXJlbnRPcmlnaW4pO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5zdWIodGhpcy5vcmlnaW4sIHRoaXMub3JpZ2luLCB0aGlzLnBhcmVudE9yaWdpbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5vYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZUF4aXNBbmdsZVJhZExvY2FsKFsxLCAwLCAwXSwgdGhpcy5jdXJyZW50Um90YXRpb25YKTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3Qucm90YXRlQXhpc0FuZ2xlUmFkTG9jYWwoWzAsIDEsIDBdLCB0aGlzLmN1cnJlbnRSb3RhdGlvblkpO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGVMb2NhbCh0aGlzLm9yaWdpbik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmZsb2F0KDAuMjUpXHJcbl0sIE1vdXNlTG9va0NvbXBvbmVudC5wcm90b3R5cGUsIFwic2Vuc2l0aXR5XCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuYm9vbCh0cnVlKVxyXG5dLCBNb3VzZUxvb2tDb21wb25lbnQucHJvdG90eXBlLCBcInJlcXVpcmVNb3VzZURvd25cIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5pbnQoKVxyXG5dLCBNb3VzZUxvb2tDb21wb25lbnQucHJvdG90eXBlLCBcIm1vdXNlQnV0dG9uSW5kZXhcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5ib29sKGZhbHNlKVxyXG5dLCBNb3VzZUxvb2tDb21wb25lbnQucHJvdG90eXBlLCBcInBvaW50ZXJMb2NrT25DbGlja1wiLCB2b2lkIDApO1xyXG5leHBvcnQgeyBNb3VzZUxvb2tDb21wb25lbnQgfTtcclxuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xyXG4vKipcclxuICogU2V0IHBsYXllciBoZWlnaHQgZm9yIGEgWS1vZmZzZXQgYWJvdmUgdGhlIGdyb3VuZCBmb3JcclxuICogJ2xvY2FsJyBhbmQgJ3ZpZXdlcicgcmVmZXJlbmNlIHNwYWNlcy5cclxuICovXHJcbmNsYXNzIFBsYXllckhlaWdodCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAncGxheWVyLWhlaWdodCc7XHJcbiAgICBoZWlnaHQgPSAxLjc1O1xyXG4gICAgb25TZXNzaW9uU3RhcnRDYWxsYmFjaztcclxuICAgIG9uU2Vzc2lvbkVuZENhbGxiYWNrO1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5vYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlTG9jYWwoWzAuMCwgdGhpcy5oZWlnaHQsIDAuMF0pO1xyXG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMub25YUlNlc3Npb25TdGFydC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uRW5kLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQuYWRkKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgb25EZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQucmVtb3ZlKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgb25YUlNlc3Npb25TdGFydCgpIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5lbmdpbmUueHI/LmN1cnJlbnRSZWZlcmVuY2VTcGFjZVR5cGU7XHJcbiAgICAgICAgaWYgKHR5cGUgIT09ICdsb2NhbCcgJiYgdHlwZSAhPT0gJ3ZpZXdlcicpIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25YUlNlc3Npb25FbmQoKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMuZW5naW5lLnhyPy5jdXJyZW50UmVmZXJlbmNlU3BhY2VUeXBlO1xyXG4gICAgICAgIGlmICh0eXBlICE9PSAnbG9jYWwnICYmIHR5cGUgIT09ICd2aWV3ZXInKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGVMb2NhbChbMC4wLCB0aGlzLmhlaWdodCwgMC4wXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuZmxvYXQoMS43NSlcclxuXSwgUGxheWVySGVpZ2h0LnByb3RvdHlwZSwgXCJoZWlnaHRcIiwgdm9pZCAwKTtcclxuZXhwb3J0IHsgUGxheWVySGVpZ2h0IH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4vKipcclxuICogU2V0cyB0aGUgdGFyZ2V0IGZyYW1lcmF0ZVxyXG4gKlxyXG4gKiBbVXBkYXRlcyB0aGUgdGFyZ2V0IGZyYW1lcmF0ZV0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby93ZWJ4ci8jZG9tLXhyc2Vzc2lvbi11cGRhdGV0YXJnZXRmcmFtZXJhdGUpXHJcbiAqIHRvIHRoZSBjbG9zZXN0IFtzdXBwb3J0ZWQgdGFyZ2V0IGZyYW1lcmF0ZV0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby93ZWJ4ci8jZG9tLXhyc2Vzc2lvbi1zdXBwb3J0ZWRGcmFtZVJhdGVzKVxyXG4gKiB0byB0aGUgZ2l2ZW4gYGZyYW1lcmF0ZWAuXHJcbiAqXHJcbiAqIFRoZSB0YXJnZXQgZnJhbWVyYXRlIGlzIHVzZWQgZm9yIHRoZSBkZXZpY2UncyBWUiBjb21wb3NpdG9yIGFzIGFuIGluZGljYXRpb24gb2YgaG93IG9mdGVuIHRvIHJlZnJlc2ggdGhlXHJcbiAqIHNjcmVlbiB3aXRoIG5ldyBpbWFnZXMuIFRoaXMgbWVhbnMgdGhlIGFwcCB3aWxsIGJlIGFza2VkIHRvIHByb2R1Y2UgZnJhbWVzIGluIG1vcmUgcmVndWxhciBpbnRlcnZhbHMsXHJcbiAqIHBvdGVudGlhbGx5IHNwZW5kaW5nIGxlc3MgdGltZSBvbiBmcmFtZXMgdGhhdCBhcmUgbGlrZWx5IHRvIGJlIGRyb3BwZWQuXHJcbiAqXHJcbiAqIEZvciBhcHBzIHdpdGggaGVhdnkgbG9hZCwgc2V0dGluZyBhIHdlbGwgbWF0Y2hpbmcgdGFyZ2V0IGZyYW1lcmF0ZSBjYW4gaW1wcm92ZSB0aGUgYXBwcyByZW5kZXJpbmcgc3RhYmlsaXR5XHJcbiAqIGFuZCByZWR1Y2Ugc3R1dHRlci5cclxuICpcclxuICogTGlrZXdpc2UsIHRoZSB0YXJnZXQgZnJhbWVyYXRlIGNhbiBiZSB1c2VkIHRvIGVuYWJsZSAxMjBIeiByZWZyZXNoIHJhdGVzIG9uIE9jdWx1cyBRdWVzdCAyIG9uIHNpbXBsZXIgYXBwcy5cclxuICovXHJcbmNsYXNzIFRhcmdldEZyYW1lcmF0ZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndGFyZ2V0LWZyYW1lcmF0ZSc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBmcmFtZXJhdGU6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogOTAuMCB9LFxyXG4gICAgfTtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMuc2V0VGFyZ2V0RnJhbWVyYXRlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBvbkRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIHNldFRhcmdldEZyYW1lcmF0ZShzKSB7XHJcbiAgICAgICAgaWYgKHMuc3VwcG9ydGVkRnJhbWVSYXRlcyAmJiBzLnVwZGF0ZVRhcmdldEZyYW1lUmF0ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBhID0gdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5zdXBwb3J0ZWRGcmFtZVJhdGVzO1xyXG4gICAgICAgICAgICBhLnNvcnQoKGEsIGIpID0+IE1hdGguYWJzKGEgLSB0aGlzLmZyYW1lcmF0ZSkgLSBNYXRoLmFicyhiIC0gdGhpcy5mcmFtZXJhdGUpKTtcclxuICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi51cGRhdGVUYXJnZXRGcmFtZVJhdGUoYVswXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IFRhcmdldEZyYW1lcmF0ZSB9O1xyXG4iLCAiaW1wb3J0IHsgdmVjMywgcXVhdDIgfSBmcm9tICdnbC1tYXRyaXgnO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4vKipcclxuICogVGVsZXBvcnQgVlIgbG9jb21vdGlvbi5cclxuICpcclxuICogU2VlIFtUZWxlcG9ydCBFeGFtcGxlXSgvc2hvd2Nhc2UvdGVsZXBvcnQpLlxyXG4gKi9cclxuY2xhc3MgVGVsZXBvcnRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3RlbGVwb3J0JztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBPYmplY3QgdGhhdCB3aWxsIGJlIHBsYWNlZCBhcyBpbmRpY2lhdGlvbiBmb3J3aGVyZSB0aGUgcGxheWVyIHdpbGwgdGVsZXBvcnQgdG8uICovXHJcbiAgICAgICAgdGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0OiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXHJcbiAgICAgICAgLyoqIFJvb3Qgb2YgdGhlIHBsYXllciwgdGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgcG9zaXRpb25lZCBvbiB0ZWxlcG9ydGF0aW9uLiAqL1xyXG4gICAgICAgIGNhbVJvb3Q6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcclxuICAgICAgICAvKiogTm9uLXZyIGNhbWVyYSBmb3IgdXNlIG91dHNpZGUgb2YgVlIgKi9cclxuICAgICAgICBjYW06IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcclxuICAgICAgICAvKiogTGVmdCBleWUgZm9yIHVzZSBpbiBWUiovXHJcbiAgICAgICAgZXllTGVmdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxyXG4gICAgICAgIC8qKiBSaWdodCBleWUgZm9yIHVzZSBpbiBWUiovXHJcbiAgICAgICAgZXllUmlnaHQ6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcclxuICAgICAgICAvKiogSGFuZGVkbmVzcyBmb3IgVlIgY3Vyc29ycyB0byBhY2NlcHQgdHJpZ2dlciBldmVudHMgb25seSBmcm9tIHJlc3BlY3RpdmUgY29udHJvbGxlci4gKi9cclxuICAgICAgICBoYW5kZWRuZXNzOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFR5cGUuRW51bSxcclxuICAgICAgICAgICAgdmFsdWVzOiBbJ2lucHV0IGNvbXBvbmVudCcsICdsZWZ0JywgJ3JpZ2h0JywgJ25vbmUnXSxcclxuICAgICAgICAgICAgZGVmYXVsdDogJ2lucHV0IGNvbXBvbmVudCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKiogQ29sbGlzaW9uIGdyb3VwIG9mIHZhbGlkIFwiZmxvb3JcIiBvYmplY3RzIHRoYXQgY2FuIGJlIHRlbGVwb3J0ZWQgb24gKi9cclxuICAgICAgICBmbG9vckdyb3VwOiB7IHR5cGU6IFR5cGUuSW50LCBkZWZhdWx0OiAxIH0sXHJcbiAgICAgICAgLyoqIEhvdyBmYXIgdGhlIHRodW1ic3RpY2sgbmVlZHMgdG8gYmUgcHVzaGVkIHRvIGhhdmUgdGhlIHRlbGVwb3J0IHRhcmdldCBpbmRpY2F0b3Igc2hvdyB1cCAqL1xyXG4gICAgICAgIHRodW1ic3RpY2tBY3RpdmF0aW9uVGhyZXNoaG9sZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAtMC43IH0sXHJcbiAgICAgICAgLyoqIEhvdyBmYXIgdGhlIHRodW1ic3RpY2sgbmVlZHMgdG8gYmUgcmVsZWFzZWQgdG8gZXhlY3V0ZSB0aGUgdGVsZXBvcnQgKi9cclxuICAgICAgICB0aHVtYnN0aWNrRGVhY3RpdmF0aW9uVGhyZXNoaG9sZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjMgfSxcclxuICAgICAgICAvKiogT2Zmc2V0IHRvIGFwcGx5IHRvIHRoZSBpbmRpY2F0b3Igb2JqZWN0LCBlLmcuIHRvIGF2b2lkIGl0IGZyb20gWi1maWdodGluZyB3aXRoIHRoZSBmbG9vciAqL1xyXG4gICAgICAgIGluZGljYXRvcllPZmZzZXQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC4wMSB9LFxyXG4gICAgICAgIC8qKiBNb2RlIGZvciByYXljYXN0aW5nLCB3aGV0aGVyIHRvIHVzZSBQaHlzWCBvciBzaW1wbGUgY29sbGlzaW9uIGNvbXBvbmVudHMgKi9cclxuICAgICAgICByYXlDYXN0TW9kZToge1xyXG4gICAgICAgICAgICB0eXBlOiBUeXBlLkVudW0sXHJcbiAgICAgICAgICAgIHZhbHVlczogWydjb2xsaXNpb24nLCAncGh5c3gnXSxcclxuICAgICAgICAgICAgZGVmYXVsdDogJ2NvbGxpc2lvbicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKiogTWF4IGRpc3RhbmNlIGZvciBQaHlzWCByYXljYXN0ICovXHJcbiAgICAgICAgbWF4RGlzdGFuY2U6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMTAwLjAgfSxcclxuICAgIH07XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuX3ByZXZUaHVtYnN0aWNrQXhpcyA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XHJcbiAgICAgICAgdGhpcy5fdGVtcFZlYyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5fdGVtcFZlYzAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbiA9IDA7XHJcbiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnaW5wdXQnKTtcclxuICAgICAgICBpZiAoIXRoaXMuaW5wdXQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLm9iamVjdC5uYW1lLCAnZ2VuZXJpYy10ZWxlcG9ydC1jb21wb25lbnQuanM6IGlucHV0IGNvbXBvbmVudCBpcyByZXF1aXJlZCBvbiB0aGUgb2JqZWN0Jyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMub2JqZWN0Lm5hbWUsICdnZW5lcmljLXRlbGVwb3J0LWNvbXBvbmVudC5qczogVGVsZXBvcnQgaW5kaWNhdG9yIG1lc2ggaXMgbWlzc2luZycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5jYW1Sb290KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5vYmplY3QubmFtZSwgJ2dlbmVyaWMtdGVsZXBvcnQtY29tcG9uZW50LmpzOiBjYW1Sb290IG5vdCBzZXQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlzSW5kaWNhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmhpdFNwb3QgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMuX2hhc0hpdCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2V4dHJhUm90YXRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXMgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FtKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNNb3VzZUluZGljYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXAuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmhhbmRlZG5lc3MgPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbnB1dENvbXAgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgIGlmICghaW5wdXRDb21wKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3RlbGVwb3J0IGNvbXBvbmVudCBvbiBvYmplY3QnLCB0aGlzLm9iamVjdC5uYW1lLCAnd2FzIGNvbmZpZ3VyZWQgd2l0aCBoYW5kZWRuZXNzIFwiaW5wdXQgY29tcG9uZW50XCIsICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdidXQgb2JqZWN0IGhhcyBubyBpbnB1dCBjb21wb25lbnQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRlZG5lc3MgPSBpbnB1dENvbXAuaGFuZGVkbmVzcztcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dENvbXA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IFsnbGVmdCcsICdyaWdodCddW3RoaXMuaGFuZGVkbmVzcyAtIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLnNldHVwVlJFdmVudHMuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgLyogR2V0IGN1cnJlbnQgY2FtZXJhIFkgcm90YXRpb24gKi9cclxuICAgIF9nZXRDYW1Sb3RhdGlvbigpIHtcclxuICAgICAgICB0aGlzLmV5ZUxlZnQuZ2V0Rm9yd2FyZCh0aGlzLl90ZW1wVmVjKTtcclxuICAgICAgICB0aGlzLl90ZW1wVmVjWzFdID0gMDtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0aGlzLl90ZW1wVmVjLCB0aGlzLl90ZW1wVmVjKTtcclxuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLl90ZW1wVmVjWzBdLCB0aGlzLl90ZW1wVmVjWzJdKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBsZXQgaW5wdXRMZW5ndGggPSAwO1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVwYWQgJiYgdGhpcy5nYW1lcGFkLmF4ZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFN0aWNrQXhlc1swXSA9IHRoaXMuZ2FtZXBhZC5heGVzWzJdO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzFdID0gdGhpcy5nYW1lcGFkLmF4ZXNbM107XHJcbiAgICAgICAgICAgIGlucHV0TGVuZ3RoID1cclxuICAgICAgICAgICAgICAgIE1hdGguYWJzKHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMF0pICsgTWF0aC5hYnModGhpcy5fY3VycmVudFN0aWNrQXhlc1sxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5pc0luZGljYXRpbmcgJiZcclxuICAgICAgICAgICAgdGhpcy5fcHJldlRodW1ic3RpY2tBeGlzWzFdID49IHRoaXMudGh1bWJzdGlja0FjdGl2YXRpb25UaHJlc2hob2xkICYmXHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMV0gPCB0aGlzLnRodW1ic3RpY2tBY3RpdmF0aW9uVGhyZXNoaG9sZCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzSW5kaWNhdGluZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNJbmRpY2F0aW5nICYmXHJcbiAgICAgICAgICAgIGlucHV0TGVuZ3RoIDwgdGhpcy50aHVtYnN0aWNrRGVhY3RpdmF0aW9uVGhyZXNoaG9sZCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzSW5kaWNhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2hhc0hpdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGVsZXBvcnRQbGF5ZXIodGhpcy5oaXRTcG90LCB0aGlzLl9leHRyYVJvdGF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0luZGljYXRpbmcgJiYgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QgJiYgdGhpcy5pbnB1dCkge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW4gPSB0aGlzLl90ZW1wVmVjMDtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZChvcmlnaW4pO1xyXG4gICAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLm9iamVjdC5nZXRGb3J3YXJkV29ybGQodGhpcy5fdGVtcFZlYyk7XHJcbiAgICAgICAgICAgIGxldCByYXlIaXQgPSAodGhpcy5yYXlIaXQgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yYXlDYXN0TW9kZSA9PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmVuZ2luZS5zY2VuZS5yYXlDYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCAxIDw8IHRoaXMuZmxvb3JHcm91cClcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZW5naW5lLnBoeXNpY3MucmF5Q2FzdChvcmlnaW4sIGRpcmVjdGlvbiwgMSA8PCB0aGlzLmZsb29yR3JvdXAsIHRoaXMubWF4RGlzdGFuY2UpKTtcclxuICAgICAgICAgICAgaWYgKHJheUhpdC5oaXRDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9leHRyYVJvdGF0aW9uID1cclxuICAgICAgICAgICAgICAgICAgICBNYXRoLlBJICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hdGFuMih0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzBdLCB0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzFdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbiA9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0Q2FtUm90YXRpb24oKSArICh0aGlzLl9leHRyYVJvdGF0aW9uIC0gTWF0aC5QSSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnJvdGF0ZUF4aXNBbmdsZVJhZChbMCwgMSwgMF0sIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC50cmFuc2xhdGUocmF5SGl0LmxvY2F0aW9uc1swXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC50cmFuc2xhdGUoW1xyXG4gICAgICAgICAgICAgICAgICAgIDAuMCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvcllPZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgMC4wLFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaXRTcG90LnNldChyYXlIaXQubG9jYXRpb25zWzBdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhc0hpdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW5kaWNhdG9ySGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QgJiYgdGhpcy5pc01vdXNlSW5kaWNhdGluZykge1xyXG4gICAgICAgICAgICB0aGlzLm9uTW91c2VQcmVzc2VkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3ByZXZUaHVtYnN0aWNrQXhpcy5zZXQodGhpcy5fY3VycmVudFN0aWNrQXhlcyk7XHJcbiAgICB9XHJcbiAgICBzZXR1cFZSRXZlbnRzKHMpIHtcclxuICAgICAgICAvKiBJZiBpbiBWUiwgb25lLXRpbWUgYmluZCB0aGUgbGlzdGVuZXIgKi9cclxuICAgICAgICB0aGlzLnNlc3Npb24gPSBzO1xyXG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvKiBSZXNldCBjYWNoZSBvbmNlIHRoZSBzZXNzaW9uIGVuZHMgdG8gcmViaW5kIHNlbGVjdCBldGMsIGluIGNhc2VcclxuICAgICAgICAgICAgICogaXQgc3RhcnRzIGFnYWluICovXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZXBhZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBpZiAocy5pbnB1dFNvdXJjZXMgJiYgcy5pbnB1dFNvdXJjZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcy5pbnB1dFNvdXJjZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnB1dFNvdXJjZSA9IHMuaW5wdXRTb3VyY2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gdGhpcy5oYW5kZWRuZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lcGFkID0gaW5wdXRTb3VyY2UuZ2FtZXBhZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0c291cmNlc2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmFkZGVkICYmIGUuYWRkZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGUuYWRkZWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXRTb3VyY2UgPSBlLmFkZGVkW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09IHRoaXMuaGFuZGVkbmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVwYWQgPSBpbnB1dFNvdXJjZS5nYW1lcGFkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICBvbk1vdXNlRG93bigpIHtcclxuICAgICAgICB0aGlzLmlzTW91c2VJbmRpY2F0aW5nID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIG9uTW91c2VVcCgpIHtcclxuICAgICAgICB0aGlzLmlzTW91c2VJbmRpY2F0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc0hpdCkge1xyXG4gICAgICAgICAgICB0aGlzLl90ZWxlcG9ydFBsYXllcih0aGlzLmhpdFNwb3QsIDAuMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25Nb3VzZVByZXNzZWQoKSB7XHJcbiAgICAgICAgbGV0IG9yaWdpbiA9IFswLCAwLCAwXTtcclxuICAgICAgICB0aGlzLmNhbS5nZXRQb3NpdGlvbldvcmxkKG9yaWdpbik7XHJcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5jYW0uZ2V0Rm9yd2FyZCh0aGlzLl90ZW1wVmVjKTtcclxuICAgICAgICBsZXQgcmF5SGl0ID0gKHRoaXMucmF5SGl0ID1cclxuICAgICAgICAgICAgdGhpcy5yYXlDYXN0TW9kZSA9PSAwXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMuZW5naW5lLnNjZW5lLnJheUNhc3Qob3JpZ2luLCBkaXJlY3Rpb24sIDEgPDwgdGhpcy5mbG9vckdyb3VwKVxyXG4gICAgICAgICAgICAgICAgOiB0aGlzLmVuZ2luZS5waHlzaWNzLnJheUNhc3Qob3JpZ2luLCBkaXJlY3Rpb24sIDEgPDwgdGhpcy5mbG9vckdyb3VwLCB0aGlzLm1heERpc3RhbmNlKSk7XHJcbiAgICAgICAgaWYgKHJheUhpdC5oaXRDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgZGlyZWN0aW9uWzFdID0gMDtcclxuICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUoZGlyZWN0aW9uLCBkaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24gPVxyXG4gICAgICAgICAgICAgICAgLU1hdGguc2lnbihkaXJlY3Rpb25bMl0pICogTWF0aC5hY29zKGRpcmVjdGlvblswXSkgLSBNYXRoLlBJICogMC41O1xyXG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3Qucm90YXRlQXhpc0FuZ2xlUmFkKFswLCAxLCAwXSwgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QudHJhbnNsYXRlKHJheUhpdC5sb2NhdGlvbnNbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmhpdFNwb3QgPSByYXlIaXQubG9jYXRpb25zWzBdO1xyXG4gICAgICAgICAgICB0aGlzLl9oYXNIaXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmluZGljYXRvckhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3RlbGVwb3J0UGxheWVyKG5ld1Bvc2l0aW9uLCByb3RhdGlvblRvQWRkKSB7XHJcbiAgICAgICAgdGhpcy5jYW1Sb290LnJvdGF0ZUF4aXNBbmdsZVJhZChbMCwgMSwgMF0sIHJvdGF0aW9uVG9BZGQpO1xyXG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLl90ZW1wVmVjO1xyXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5fdGVtcFZlYzA7XHJcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbikge1xyXG4gICAgICAgICAgICB0aGlzLmV5ZUxlZnQuZ2V0UG9zaXRpb25Xb3JsZChwKTtcclxuICAgICAgICAgICAgdGhpcy5leWVSaWdodC5nZXRQb3NpdGlvbldvcmxkKHAxKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQocCwgcCwgcDEpO1xyXG4gICAgICAgICAgICB2ZWMzLnNjYWxlKHAsIHAsIDAuNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNhbS5nZXRQb3NpdGlvbldvcmxkKHApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhbVJvb3QuZ2V0UG9zaXRpb25Xb3JsZChwMSk7XHJcbiAgICAgICAgdmVjMy5zdWIocCwgcDEsIHApO1xyXG4gICAgICAgIHBbMF0gKz0gbmV3UG9zaXRpb25bMF07XHJcbiAgICAgICAgcFsxXSA9IG5ld1Bvc2l0aW9uWzFdO1xyXG4gICAgICAgIHBbMl0gKz0gbmV3UG9zaXRpb25bMl07XHJcbiAgICAgICAgdGhpcy5jYW1Sb290LnNldFBvc2l0aW9uV29ybGQocCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgVGVsZXBvcnRDb21wb25lbnQgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSwgTWVzaCwgTWVzaEluZGV4VHlwZSwgTWVzaEF0dHJpYnV0ZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHZlYzMgfSBmcm9tICdnbC1tYXRyaXgnO1xyXG5jb25zdCBkaXJlY3Rpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG5jb25zdCBvZmZzZXQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG5jb25zdCBub3JtYWwgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4vKipcclxuICogRHluYW1pYyBtZXNoLWJhc2VkIHRyYWlsXHJcbiAqXHJcbiAqIFRoaXMgY29tcG9uZW50IGtlZXBzIHRyYWNrIG9mIHRoZSB3b3JsZCBwb3NpdGlvbiBvZiB0aGUgb2JqZWN0IGl0J3MgYWRkZWQgdG8uXHJcbiAqIEF0IGEgZml4ZWQgaW50ZXJ2YWwgdGhlIHdvcmxkIHBvc2l0aW9uIGlzIHN0b3JlZCBhcyBzdGFydCBhbmQgZW5kIHBvaW50cyBvZiB0aGUgdHJhaWwgc2VnbWVudHMuXHJcbiAqXHJcbiAqIFRoZSB0cmFpbCB0YXBlcnMgb2ZmIGFsb25nIGl0cyBsZW5ndGguIFVWIHRleHR1cmUgY29vcmRpbmF0ZXMgYXJlIHNldHVwIHN1Y2ggdGhhdCB0aGVcclxuICogVS1heGlzIGNvdmVycyB0aGUgd2lkdGggb2YgdGhlIHRyYWlsIGFuZCB0aGUgVi1heGlzIGNvdmVycyB0aGUgbGVuZ3RoIG9mIHRoZSB0cmFpbC5cclxuICogVGhpcyBhbGxvd3MgdGhlIHRyYWlsJ3MgYXBwZWFyYW5jZSB0byBiZSBkZWZpbmVkIHVzaW5nIGEgdGV4dHVyZS5cclxuICovXHJcbmNsYXNzIFRyYWlsIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0cmFpbCc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogVGhlIG1hdGVyaWFsIHRvIGFwcGx5IHRvIHRoZSB0cmFpbCBtZXNoICovXHJcbiAgICAgICAgbWF0ZXJpYWw6IHsgdHlwZTogVHlwZS5NYXRlcmlhbCB9LFxyXG4gICAgICAgIC8qKiBUaGUgbnVtYmVyIG9mIHNlZ21lbnRzIGluIHRoZSB0cmFpbCBtZXNoICovXHJcbiAgICAgICAgc2VnbWVudHM6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDUwIH0sXHJcbiAgICAgICAgLyoqIFRoZSB0aW1lIGludGVydmFsIGJlZm9yZSByZWNvcmRpbmcgYSBuZXcgcG9pbnQgKi9cclxuICAgICAgICBpbnRlcnZhbDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjEgfSxcclxuICAgICAgICAvKiogVGhlIHdpZHRoIG9mIHRoZSB0cmFpbCAoaW4gd29ybGQgc3BhY2UpICovXHJcbiAgICAgICAgd2lkdGg6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMS4wIH0sXHJcbiAgICAgICAgLyoqIFdoZXRoZXIgb3Igbm90IHRoZSB0cmFpbCBzaG91bGQgdGFwZXIgb2ZmICovXHJcbiAgICAgICAgdGFwZXI6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiB0cnVlIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIG1heGltdW0gZGVsdGEgdGltZSBpbiBzZWNvbmRzLCBhYm92ZSB3aGljaCB0aGUgdHJhaWwgcmVzZXRzLlxyXG4gICAgICAgICAqIFRoaXMgcHJldmVudHMgdGhlIHRyYWlsIGZyb20ganVtcGluZyBhcm91bmQgd2hlbiB1cGRhdGVzIGhhcHBlblxyXG4gICAgICAgICAqIGluZnJlcXVlbnRseSAoZS5nLiB3aGVuIHRoZSB0YWIgZG9lc24ndCBoYXZlIGZvY3VzKS5cclxuICAgICAgICAgKi9cclxuICAgICAgICByZXNldFRocmVzaG9sZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjUgfSxcclxuICAgIH07XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMucG9pbnRzID0gbmV3IEFycmF5KHRoaXMuc2VnbWVudHMgKyAxKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9pbnRzW2ldID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogVGhlIHBvaW50cyBhcnJheSBpcyBjaXJjdWxhciwgc28ga2VlcCB0cmFjayBvZiBpdHMgaGVhZCAqL1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBvaW50T2Zmc2V0ID0gMDtcclxuICAgICAgICB0aGlzLnVwID0gWzAsIDEsIDBdO1xyXG4gICAgICAgIHRoaXMudGltZVRpbGxOZXh0ID0gdGhpcy5pbnRlcnZhbDtcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMudHJhaWxDb250YWluZXIgPSB0aGlzLmVuZ2luZS5zY2VuZS5hZGRPYmplY3QoKTtcclxuICAgICAgICB0aGlzLm1lc2hDb21wID0gdGhpcy50cmFpbENvbnRhaW5lci5hZGRDb21wb25lbnQoJ21lc2gnKTtcclxuICAgICAgICB0aGlzLm1lc2hDb21wLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbDtcclxuICAgICAgICAvKiBFYWNoIHBvaW50IHdpbGwgaGF2ZSB0d28gdmVydGljZXM7IG9uZSBvbiBlaXRoZXIgc2lkZSAqL1xyXG4gICAgICAgIGNvbnN0IHZlcnRleENvdW50ID0gMiAqIHRoaXMucG9pbnRzLmxlbmd0aDtcclxuICAgICAgICAvKiBFYWNoIHNlZ21lbnQgY29uc2lzdHMgb2YgdHdvIHRyaWFuZ2xlcyAqL1xyXG4gICAgICAgIHRoaXMuaW5kZXhEYXRhID0gbmV3IFVpbnQzMkFycmF5KDYgKiB0aGlzLnNlZ21lbnRzKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgdiA9IDA7IGkgPCB2ZXJ0ZXhDb3VudCAtIDI7IGkgKz0gMiwgdiArPSA2KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXhEYXRhXHJcbiAgICAgICAgICAgICAgICAuc3ViYXJyYXkodiwgdiArIDYpXHJcbiAgICAgICAgICAgICAgICAuc2V0KFtpICsgMSwgaSArIDAsIGkgKyAyLCBpICsgMiwgaSArIDMsIGkgKyAxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWVzaCA9IG5ldyBNZXNoKHRoaXMuZW5naW5lLCB7XHJcbiAgICAgICAgICAgIHZlcnRleENvdW50OiB2ZXJ0ZXhDb3VudCxcclxuICAgICAgICAgICAgaW5kZXhEYXRhOiB0aGlzLmluZGV4RGF0YSxcclxuICAgICAgICAgICAgaW5kZXhUeXBlOiBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkSW50LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubWVzaENvbXAubWVzaCA9IHRoaXMubWVzaDtcclxuICAgIH1cclxuICAgIHVwZGF0ZVZlcnRpY2VzKCkge1xyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IHRoaXMubWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5Qb3NpdGlvbik7XHJcbiAgICAgICAgY29uc3QgdGV4Q29vcmRzID0gdGhpcy5tZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlRleHR1cmVDb29yZGluYXRlKTtcclxuICAgICAgICBjb25zdCBub3JtYWxzID0gdGhpcy5tZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLk5vcm1hbCk7XHJcbiAgICAgICAgdmVjMy5zZXQoZGlyZWN0aW9uLCAwLCAwLCAwKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnIgPSB0aGlzLnBvaW50c1sodGhpcy5jdXJyZW50UG9pbnRJbmRleCArIGkgKyAxKSAlIHRoaXMucG9pbnRzLmxlbmd0aF07XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLnBvaW50c1sodGhpcy5jdXJyZW50UG9pbnRJbmRleCArIGkgKyAyKSAlIHRoaXMucG9pbnRzLmxlbmd0aF07XHJcbiAgICAgICAgICAgIC8qIFRoZSBsYXN0IHBvaW50IGhhcyBubyBuZXh0LCBzbyByZS11c2UgdGhlIGRpcmVjdGlvbiBvZiB0aGUgcHJldmlvdXMgc2VnbWVudCAqL1xyXG4gICAgICAgICAgICBpZiAoaSAhPT0gdGhpcy5wb2ludHMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgdmVjMy5zdWIoZGlyZWN0aW9uLCBuZXh0LCBjdXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2ZWMzLmNyb3NzKG9mZnNldCwgdGhpcy51cCwgZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUob2Zmc2V0LCBvZmZzZXQpO1xyXG4gICAgICAgICAgICBjb25zdCB0aW1lRnJhY3Rpb24gPSAxLjAgLSB0aGlzLnRpbWVUaWxsTmV4dCAvIHRoaXMuaW50ZXJ2YWw7XHJcbiAgICAgICAgICAgIGNvbnN0IGZyYWN0aW9uID0gKGkgLSB0aW1lRnJhY3Rpb24pIC8gdGhpcy5zZWdtZW50cztcclxuICAgICAgICAgICAgdmVjMy5zY2FsZShvZmZzZXQsIG9mZnNldCwgKCh0aGlzLnRhcGVyID8gZnJhY3Rpb24gOiAxLjApICogdGhpcy53aWR0aCkgLyAyLjApO1xyXG4gICAgICAgICAgICBwb3NpdGlvbnMuc2V0KGkgKiAyLCBbXHJcbiAgICAgICAgICAgICAgICBjdXJyWzBdIC0gb2Zmc2V0WzBdLFxyXG4gICAgICAgICAgICAgICAgY3VyclsxXSAtIG9mZnNldFsxXSxcclxuICAgICAgICAgICAgICAgIGN1cnJbMl0gLSBvZmZzZXRbMl0sXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICBwb3NpdGlvbnMuc2V0KGkgKiAyICsgMSwgW1xyXG4gICAgICAgICAgICAgICAgY3VyclswXSArIG9mZnNldFswXSxcclxuICAgICAgICAgICAgICAgIGN1cnJbMV0gKyBvZmZzZXRbMV0sXHJcbiAgICAgICAgICAgICAgICBjdXJyWzJdICsgb2Zmc2V0WzJdLFxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgaWYgKG5vcm1hbHMpIHtcclxuICAgICAgICAgICAgICAgIHZlYzMuY3Jvc3Mobm9ybWFsLCBkaXJlY3Rpb24sIG9mZnNldCk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShub3JtYWwsIG5vcm1hbCk7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxzLnNldChpICogMiwgbm9ybWFsKTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbHMuc2V0KGkgKiAyICsgMSwgbm9ybWFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGV4Q29vcmRzKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHMuc2V0KGkgKiAyLCBbMCwgZnJhY3Rpb25dKTtcclxuICAgICAgICAgICAgICAgIHRleENvb3Jkcy5zZXQoaSAqIDIgKyAxLCBbMSwgZnJhY3Rpb25dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBOb3RpZnkgV0xFIHRoYXQgdGhlIG1lc2ggaGFzIGNoYW5nZWQgKi9cclxuICAgICAgICB0aGlzLm1lc2gudXBkYXRlKCk7XHJcbiAgICB9XHJcbiAgICByZXNldFRyYWlsKCkge1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5wb2ludHNbMF0pO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdmVjMy5jb3B5KHRoaXMucG9pbnRzW2ldLCB0aGlzLnBvaW50c1swXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFBvaW50SW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMudGltZVRpbGxOZXh0ID0gdGhpcy5pbnRlcnZhbDtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIHRoaXMudGltZVRpbGxOZXh0IC09IGR0O1xyXG4gICAgICAgIGlmIChkdCA+IHRoaXMucmVzZXRUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldFRyYWlsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRpbWVUaWxsTmV4dCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9pbnRJbmRleCA9ICh0aGlzLmN1cnJlbnRQb2ludEluZGV4ICsgMSkgJSB0aGlzLnBvaW50cy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVRpbGxOZXh0ID0gKHRoaXMudGltZVRpbGxOZXh0ICUgdGhpcy5pbnRlcnZhbCkgKyB0aGlzLmludGVydmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMucG9pbnRzW3RoaXMuY3VycmVudFBvaW50SW5kZXhdKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMucmVzZXRUcmFpbCgpO1xyXG4gICAgfVxyXG4gICAgb25EZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMudHJhaWxDb250YWluZXIuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMubWVzaC5kZXN0cm95KCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgVHJhaWwgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgUHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyB2ZWMzIH0gZnJvbSAnZ2wtbWF0cml4JztcclxuZnVuY3Rpb24gY2xhbXAodiwgYSwgYikge1xyXG4gICAgcmV0dXJuIE1hdGgubWF4KGEsIE1hdGgubWluKHYsIGIpKTtcclxufVxyXG5jb25zdCByb290U2NhbGluZyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbmNvbnN0IHRlbXBRdWF0ID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcclxuY29uc3QgbWlkZGxlUG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuY29uc3QgZW5kUG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuY29uc3QgdGFyZ2V0UG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuY29uc3QgaGVscGVyUG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuY29uc3Qgcm9vdFRyYW5zZm9ybSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XHJcbmNvbnN0IG1pZGRsZVRyYW5zZm9ybSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XHJcbmNvbnN0IGVuZFRyYW5zZm9ybSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XHJcbi8qKlxyXG4gKiBTb2x2ZSBpbnZlcnNlIGtpbmVtYXRpY3MgZm9yIGEgdHdvIGpvaW50IGNoYWluc1xyXG4gKlxyXG4gKiBJbnNwaXJlZCBieSBodHRwOi8vdGhlb3JhbmdlZHVjay5jb20vcGFnZS9zaW1wbGUtdHdvLWpvaW50XHJcbiAqL1xyXG5jb25zdCB0d29Kb2ludElLID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHRhID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IGNhID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IGJhID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IGFiID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IGNiID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IGF4aXMwID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IGF4aXMxID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IHRlbXAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyb290LCBtaWRkbGUsIGIsIGMsIHRhcmdldFBvcywgZXBzLCBoZWxwZXIpIHtcclxuICAgICAgICAvKiBhID0gWzAsIDAsIDBdLCBzaW5jZSBldmVyeXRoaW5nIGlzIGNvbXB1dGVkIGluIHJvb3Qtc3BhY2UgKi9cclxuICAgICAgICBiYS5zZXQoYik7XHJcbiAgICAgICAgY29uc3QgbGFiID0gdmVjMy5sZW5ndGgoYmEpO1xyXG4gICAgICAgIHZlYzMuc3ViKHRhLCBiLCBjKTtcclxuICAgICAgICBjb25zdCBsY2IgPSB2ZWMzLmxlbmd0aCh0YSk7XHJcbiAgICAgICAgdGEuc2V0KHRhcmdldFBvcyk7XHJcbiAgICAgICAgY29uc3QgbGF0ID0gY2xhbXAodmVjMy5sZW5ndGgodGEpLCBlcHMsIGxhYiArIGxjYiAtIGVwcyk7XHJcbiAgICAgICAgY2Euc2V0KGMpO1xyXG4gICAgICAgIHZlYzMuc2NhbGUoYWIsIGIsIC0xKTtcclxuICAgICAgICB2ZWMzLnN1YihjYiwgYywgYik7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoY2EsIGNhKTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShiYSwgYmEpO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKGFiLCBhYik7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoY2IsIGNiKTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0YSwgdGEpO1xyXG4gICAgICAgIC8qIFN1cHBvc2VkbHkgbnVtZXJpY2FsIGVycm9ycyBjYW4gY2F1c2UgdGhlIGRvdCB0byBnbyBvdXQgb2YgLTEsIDEgcmFuZ2UgKi9cclxuICAgICAgICBjb25zdCBhY19hYl8wID0gTWF0aC5hY29zKGNsYW1wKHZlYzMuZG90KGNhLCBiYSksIC0xLCAxKSk7XHJcbiAgICAgICAgY29uc3QgYmFfYmNfMCA9IE1hdGguYWNvcyhjbGFtcCh2ZWMzLmRvdChhYiwgY2IpLCAtMSwgMSkpO1xyXG4gICAgICAgIGNvbnN0IGFjX2F0XzAgPSBNYXRoLmFjb3MoY2xhbXAodmVjMy5kb3QoY2EsIHRhKSwgLTEsIDEpKTtcclxuICAgICAgICBjb25zdCBhY19hYl8xID0gTWF0aC5hY29zKGNsYW1wKChsY2IgKiBsY2IgLSBsYWIgKiBsYWIgLSBsYXQgKiBsYXQpIC8gKC0yICogbGFiICogbGF0KSwgLTEsIDEpKTtcclxuICAgICAgICBjb25zdCBiYV9iY18xID0gTWF0aC5hY29zKGNsYW1wKChsYXQgKiBsYXQgLSBsYWIgKiBsYWIgLSBsY2IgKiBsY2IpIC8gKC0yICogbGFiICogbGNiKSwgLTEsIDEpKTtcclxuICAgICAgICBpZiAoaGVscGVyKSB7XHJcbiAgICAgICAgICAgIHZlYzMuc3ViKGJhLCBoZWxwZXIsIGIpO1xyXG4gICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShiYSwgYmEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2ZWMzLmNyb3NzKGF4aXMwLCBjYSwgYmEpO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKGF4aXMwLCBheGlzMCk7XHJcbiAgICAgICAgdmVjMy5jcm9zcyhheGlzMSwgYywgdGFyZ2V0UG9zKTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShheGlzMSwgYXhpczEpO1xyXG4gICAgICAgIG1pZGRsZS50cmFuc2Zvcm1WZWN0b3JJbnZlcnNlTG9jYWwodGVtcCwgYXhpczApO1xyXG4gICAgICAgIHJvb3Qucm90YXRlQXhpc0FuZ2xlUmFkT2JqZWN0KGF4aXMxLCBhY19hdF8wKTtcclxuICAgICAgICByb290LnJvdGF0ZUF4aXNBbmdsZVJhZE9iamVjdChheGlzMCwgYWNfYWJfMSAtIGFjX2FiXzApO1xyXG4gICAgICAgIG1pZGRsZS5yb3RhdGVBeGlzQW5nbGVSYWRPYmplY3QoYXhpczAsIGJhX2JjXzEgLSBiYV9iY18wKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbi8qKlxyXG4gKiBJbnZlcnNlIGtpbmVtYXRpY3MgZm9yIHR3by1qb2ludCBjaGFpbnMgKGUuZy4ga25lZXMgb3IgZWxib3dzKVxyXG4gKi9cclxuY2xhc3MgVHdvSm9pbnRJa1NvbHZlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndHdvLWpvaW50LWlrLXNvbHZlcic7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogUm9vdCBib25lLCBuZXZlciBtb3ZlcyAqL1xyXG4gICAgICAgIHJvb3Q6IFByb3BlcnR5Lm9iamVjdCgpLFxyXG4gICAgICAgIC8qKiBCb25lIGF0dGFjaGVkIHRvIHRoZSByb290ICovXHJcbiAgICAgICAgbWlkZGxlOiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgICAgICAvKiogQm9uZSBhdHRhY2hlZCB0byB0aGUgbWlkZGxlICovXHJcbiAgICAgICAgZW5kOiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgICAgICAvKiogVGFyZ2V0IHRoZSBqb2lucyBzaG91bGQgcmVhY2ggZm9yICovXHJcbiAgICAgICAgdGFyZ2V0OiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgICAgICAvKiogRmxhZyBmb3IgY29weWluZyByb3RhdGlvbiBmcm9tIHRhcmdldCB0byBlbmQgKi9cclxuICAgICAgICBjb3B5VGFyZ2V0Um90YXRpb246IFByb3BlcnR5LmJvb2wodHJ1ZSksXHJcbiAgICAgICAgLyoqIEhlbHBlciBvYmplY3QgdG8gdXNlIHRvIGRldGVybWluZSBqb2ludCByb3RhdGlvbiBheGlzICovXHJcbiAgICAgICAgaGVscGVyOiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgIH07XHJcbiAgICB0aW1lID0gMDtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMucm9vdC5nZXRUcmFuc2Zvcm1Mb2NhbChyb290VHJhbnNmb3JtKTtcclxuICAgICAgICB0aGlzLm1pZGRsZS5nZXRUcmFuc2Zvcm1Mb2NhbChtaWRkbGVUcmFuc2Zvcm0pO1xyXG4gICAgICAgIHRoaXMuZW5kLmdldFRyYW5zZm9ybUxvY2FsKGVuZFRyYW5zZm9ybSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICB0aGlzLnRpbWUgKz0gZHQ7XHJcbiAgICAgICAgLyogUmVzZXQgdG8gb3JpZ2luYWwgcG9zZSBmb3Igc3RhYmlsaXR5ICovXHJcbiAgICAgICAgdGhpcy5yb290LnNldFRyYW5zZm9ybUxvY2FsKHJvb3RUcmFuc2Zvcm0pO1xyXG4gICAgICAgIHRoaXMubWlkZGxlLnNldFRyYW5zZm9ybUxvY2FsKG1pZGRsZVRyYW5zZm9ybSk7XHJcbiAgICAgICAgdGhpcy5lbmQuc2V0VHJhbnNmb3JtTG9jYWwoZW5kVHJhbnNmb3JtKTtcclxuICAgICAgICB0aGlzLnJvb3QuZ2V0U2NhbGluZ1dvcmxkKHJvb3RTY2FsaW5nKTtcclxuICAgICAgICAvKiBHZXQgam9pbnQgcG9zaXRpb25zIGluIHJvb3Qtc3BhY2UgKi9cclxuICAgICAgICB0aGlzLm1pZGRsZS5nZXRQb3NpdGlvbkxvY2FsKG1pZGRsZVBvcyk7XHJcbiAgICAgICAgdGhpcy5lbmQuZ2V0UG9zaXRpb25Mb2NhbChlbmRQb3MpO1xyXG4gICAgICAgIHRoaXMubWlkZGxlLnRyYW5zZm9ybVBvaW50TG9jYWwoZW5kUG9zLCBlbmRQb3MpO1xyXG4gICAgICAgIGlmICh0aGlzLmhlbHBlcikge1xyXG4gICAgICAgICAgICAvKiBHZXQgaGVscGVyIHBvc2l0aW9uIGluIHJvb3Qgc3BhY2UgKi9cclxuICAgICAgICAgICAgdGhpcy5oZWxwZXIuZ2V0UG9zaXRpb25Xb3JsZChoZWxwZXJQb3MpO1xyXG4gICAgICAgICAgICB0aGlzLnJvb3QudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQoaGVscGVyUG9zLCBoZWxwZXJQb3MpO1xyXG4gICAgICAgICAgICB2ZWMzLmRpdihoZWxwZXJQb3MsIGhlbHBlclBvcywgcm9vdFNjYWxpbmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBHZXQgdGFyZ2V0IHBvc2l0aW9uIGluIHJvb3Qgc3BhY2UgKi9cclxuICAgICAgICB0aGlzLnRhcmdldC5nZXRQb3NpdGlvbldvcmxkKHRhcmdldFBvcyk7XHJcbiAgICAgICAgdGhpcy5yb290LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKHRhcmdldFBvcywgdGFyZ2V0UG9zKTtcclxuICAgICAgICB2ZWMzLmRpdih0YXJnZXRQb3MsIHRhcmdldFBvcywgcm9vdFNjYWxpbmcpO1xyXG4gICAgICAgIHR3b0pvaW50SUsodGhpcy5yb290LCB0aGlzLm1pZGRsZSwgbWlkZGxlUG9zLCBlbmRQb3MsIHRhcmdldFBvcywgMC4wMSwgdGhpcy5oZWxwZXIgPyBoZWxwZXJQb3MgOiBudWxsLCB0aGlzLnRpbWUpO1xyXG4gICAgICAgIGlmICh0aGlzLmNvcHlUYXJnZXRSb3RhdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmVuZC5zZXRSb3RhdGlvbldvcmxkKHRoaXMudGFyZ2V0LmdldFJvdGF0aW9uV29ybGQodGVtcFF1YXQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgVHdvSm9pbnRJa1NvbHZlciB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUZXh0dXJlLCBQcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHNldEZpcnN0TWF0ZXJpYWxUZXh0dXJlIH0gZnJvbSAnLi91dGlscy91dGlscy5qcyc7XHJcbi8qKlxyXG4gKiBEb3dubG9hZHMgYSB2aWRlbyBmcm9tIFVSTCBhbmQgYXBwbGllcyBpdCBhcyBgZGlmZnVzZVRleHR1cmVgIG9yIGBmbGF0VGV4dHVyZWBcclxuICogb24gZ2l2ZW4gbWF0ZXJpYWwuXHJcbiAqXHJcbiAqIFZpZGVvIHRleHR1cmVzIG5lZWQgdG8gYmUgdXBkYXRlZCByZWd1bGFybHkgd2hlbmV2ZXJcclxuICogYSBuZXcgZnJhbWUgaXMgYXZhaWxhYmxlLiBUaGlzIGNvbXBvbmVudCBoYW5kbGVzIHRoZVxyXG4gKiBkZXRlY3Rpb24gb2YgYSBuZXcgZnJhbWUgYW5kIHVwZGF0ZXMgdGhlIHRleHR1cmUgdG9cclxuICogcmVmbGVjdCB0aGUgdmlkZW8ncyBjdXJyZW50IGZyYW1lLlxyXG4gKlxyXG4gKiBNYXRlcmlhbHMgZnJvbSB0aGUgZm9sbG93aW5nIHNoYWRlcnMgYXJlIHN1cHBvcnRlZDpcclxuICogIC0gXCJQaG9uZyBPcGFxdWUgVGV4dHVyZWRcIlxyXG4gKiAgLSBcIkZsYXQgT3BhcXVlIFRleHR1cmVkXCJcclxuICogIC0gXCJCYWNrZ3JvdW5kXCJcclxuICogIC0gXCJQaHlzaWNhbCBPcGFxdWUgVGV4dHVyZWRcIlxyXG4gKiAgLSBcIkZvbGlhZ2VcIlxyXG4gKlxyXG4gKiBUaGUgdmlkZW8gY2FuIGJlIGFjY2Vzc2VkIHRocm91Z2ggYHRoaXMudmlkZW9gOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIGxldCB2aWRlb1RleHR1cmUgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ3ZpZGVvLXRleHR1cmUnKTtcclxuICogICB2aWRlb1RleHR1cmUudmlkZW8ucGxheSgpO1xyXG4gKiAgIHZpZGVvVGV4dHVyZS52aWRlby5wYXVzZSgpO1xyXG4gKiBgYGBcclxuICpcclxuICogU2VlIFtWaWRlbyBFeGFtcGxlXSgvc2hvd2Nhc2UvdmlkZW8pLlxyXG4gKi9cclxuY2xhc3MgVmlkZW9UZXh0dXJlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd2aWRlby10ZXh0dXJlJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBVUkwgdG8gZG93bmxvYWQgdmlkZW8gZnJvbSAqL1xyXG4gICAgICAgIHVybDogUHJvcGVydHkuc3RyaW5nKCksXHJcbiAgICAgICAgLyoqIE1hdGVyaWFsIHRvIGFwcGx5IHRoZSB2aWRlbyB0ZXh0dXJlIHRvICovXHJcbiAgICAgICAgbWF0ZXJpYWw6IFByb3BlcnR5Lm1hdGVyaWFsKCksXHJcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gbG9vcCB0aGUgdmlkZW8gKi9cclxuICAgICAgICBsb29wOiBQcm9wZXJ0eS5ib29sKHRydWUpLFxyXG4gICAgICAgIC8qKiBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgc3RhcnQgcGxheWluZyB0aGUgdmlkZW8gKi9cclxuICAgICAgICBhdXRvcGxheTogUHJvcGVydHkuYm9vbCh0cnVlKSxcclxuICAgICAgICAvKiogV2hldGhlciB0byBtdXRlIHNvdW5kICovXHJcbiAgICAgICAgbXV0ZWQ6IFByb3BlcnR5LmJvb2wodHJ1ZSksXHJcbiAgICAgICAgLyoqIE5hbWUgb2YgdGhlIHRleHR1cmUgcHJvcGVydHkgdG8gc2V0ICovXHJcbiAgICAgICAgdGV4dHVyZVByb3BlcnR5OiBQcm9wZXJ0eS5zdHJpbmcoJ2F1dG8nKSxcclxuICAgIH07XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYXRlcmlhbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcigndmlkZW8tdGV4dHVyZTogbWF0ZXJpYWwgcHJvcGVydHkgbm90IHNldCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZnJhbWVVcGRhdGVSZXF1ZXN0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy52aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XHJcbiAgICAgICAgdGhpcy52aWRlby5zcmMgPSB0aGlzLnVybDtcclxuICAgICAgICB0aGlzLnZpZGVvLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XHJcbiAgICAgICAgdGhpcy52aWRlby5wbGF5c0lubGluZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy52aWRlby5sb29wID0gdGhpcy5sb29wO1xyXG4gICAgICAgIHRoaXMudmlkZW8ubXV0ZWQgPSB0aGlzLm11dGVkO1xyXG4gICAgICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigncGxheWluZycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmF1dG9wbGF5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXlBZnRlclVzZXJHZXN0dXJlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGF5QWZ0ZXJVc2VyR2VzdHVyZSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHBsYXlBZnRlclVzZXJHZXN0dXJlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGxheUFmdGVyVXNlckdlc3R1cmUpO1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHBsYXlBZnRlclVzZXJHZXN0dXJlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhcHBseVRleHR1cmUoKSB7XHJcbiAgICAgICAgY29uc3QgbWF0ID0gdGhpcy5tYXRlcmlhbDtcclxuICAgICAgICBjb25zdCBzaGFkZXIgPSBtYXQuc2hhZGVyO1xyXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSAodGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5lbmdpbmUsIHRoaXMudmlkZW8pKTtcclxuICAgICAgICBpZiAoIXNldEZpcnN0TWF0ZXJpYWxUZXh0dXJlKG1hdCwgdGV4dHVyZSwgdGhpcy50ZXh0dXJlUHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NoYWRlcicsIHNoYWRlciwgJ25vdCBzdXBwb3J0ZWQgYnkgdmlkZW8tdGV4dHVyZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJ3JlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2snIGluIHRoaXMudmlkZW8pIHtcclxuICAgICAgICAgICAgdGhpcy52aWRlby5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKHRoaXMudXBkYXRlVmlkZW8uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9hZGVkICYmIHRoaXMuZnJhbWVVcGRhdGVSZXF1ZXN0ZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGV4dHVyZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLyogQXBwbHkgdGV4dHVyZSBvbiBmaXJzdCBmcmFtZSB1cGRhdGUgcmVxdWVzdCAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseVRleHR1cmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlVmlkZW8oKSB7XHJcbiAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZVJlcXVlc3RlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy52aWRlby5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKHRoaXMudXBkYXRlVmlkZW8uYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgVmlkZW9UZXh0dXJlIH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4vKipcclxuICogQWxsb3dzIHN3aXRjaGluZyBhbGwgb3RoZXIgY29tcG9uZW50cyBvbiBhbiBvYmplY3QgdG8gYWN0aXZlL2luYWN0aXZlXHJcbiAqIGRlcGVuZGluZyBvbiB3aGV0aGVyIGEgVlIvQVIgc2Vzc2lvbiBpcyBhY3RpdmUuXHJcbiAqXHJcbiAqIFVzZWZ1bCBmb3IgaGlkaW5nIGNvbnRyb2xsZXJzIHVudGlsIHRoZSB1c2VyIGVudGVycyBWUiBmb3IgZXhhbXBsZS5cclxuICovXHJcbmNsYXNzIFZyTW9kZUFjdGl2ZVN3aXRjaCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndnItbW9kZS1hY3RpdmUtc3dpdGNoJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBXaGVuIGNvbXBvbmVudHMgc2hvdWxkIGJlIGFjdGl2ZTogSW4gVlIgb3Igd2hlbiBub3QgaW4gVlIgKi9cclxuICAgICAgICBhY3RpdmF0ZUNvbXBvbmVudHM6IHtcclxuICAgICAgICAgICAgdHlwZTogVHlwZS5FbnVtLFxyXG4gICAgICAgICAgICB2YWx1ZXM6IFsnaW4gVlInLCAnaW4gbm9uLVZSJ10sXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbiBWUicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKiogV2hldGhlciBjaGlsZCBvYmplY3QncyBjb21wb25lbnRzIHNob3VsZCBiZSBhZmZlY3RlZCAqL1xyXG4gICAgICAgIGFmZmVjdENoaWxkcmVuOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxyXG4gICAgfTtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50cyh0aGlzLm9iamVjdCk7XHJcbiAgICAgICAgLyogSW5pdGlhbCBhY3RpdmF0aW9uL2RlYWN0aXZhdGlvbiAqL1xyXG4gICAgICAgIHRoaXMub25YUlNlc3Npb25FbmQoKTtcclxuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uU3RhcnQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvbkVuZC5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgb25BY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLmFkZCh0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLnJlbW92ZSh0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGdldENvbXBvbmVudHMob2JqKSB7XHJcbiAgICAgICAgY29uc3QgY29tcHMgPSBvYmouZ2V0Q29tcG9uZW50cygpLmZpbHRlcigoYykgPT4gYy50eXBlICE9PSAndnItbW9kZS1hY3RpdmUtc3dpdGNoJyk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gdGhpcy5jb21wb25lbnRzLmNvbmNhdChjb21wcyk7XHJcbiAgICAgICAgaWYgKHRoaXMuYWZmZWN0Q2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gb2JqLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldENvbXBvbmVudHMoY2hpbGRyZW5baV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0Q29tcG9uZW50c0FjdGl2ZShhY3RpdmUpIHtcclxuICAgICAgICBjb25zdCBjb21wcyA9IHRoaXMuY29tcG9uZW50cztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbXBzW2ldLmFjdGl2ZSA9IGFjdGl2ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvblhSU2Vzc2lvblN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuc2V0Q29tcG9uZW50c0FjdGl2ZSh0aGlzLmFjdGl2YXRlQ29tcG9uZW50cyA9PSAwKTtcclxuICAgIH1cclxuICAgIG9uWFJTZXNzaW9uRW5kKCkge1xyXG4gICAgICAgIHRoaXMuc2V0Q29tcG9uZW50c0FjdGl2ZSh0aGlzLmFjdGl2YXRlQ29tcG9uZW50cyAhPSAwKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBWck1vZGVBY3RpdmVTd2l0Y2ggfTtcclxuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbmltcG9ydCB7IENvbGxpZGVyLCBDb2xsaXNpb25Db21wb25lbnQsIENvbXBvbmVudCwgRW1pdHRlciwgTWVzaCwgTWVzaEF0dHJpYnV0ZSwgTWVzaENvbXBvbmVudCwgTWVzaEluZGV4VHlwZSwgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuaW1wb3J0IHsgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsIH0gZnJvbSAnLi91dGlscy93ZWJ4ci5qcyc7XHJcbi8vIEZJWE1FOiBlYXJjdXQgb3ZlcnJpZGVzIGRlZmF1bHQgZXhwb3J0LCBicmVha2luZyBvdXIgdGVzdHNcclxuaW1wb3J0IGVhcmN1dCBmcm9tICdlYXJjdXQnO1xyXG5jb25zdCB0ZW1wVmVjMyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbi8qKiBDb21wdXRlIG1pbmltdW0gYW5kIG1heGl1bSBleHRlbnRzIG9mIGdpdmVuIGxpc3Qgb2YgY29udG91ciBwb2ludHMgKi9cclxuZnVuY3Rpb24gZXh0ZW50c0Zyb21Db250b3VyKG91dCwgcG9pbnRzKSB7XHJcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICBsZXQgYWJzTWF4WCA9IE1hdGguYWJzKHBvaW50c1swXS54KTtcclxuICAgIGxldCBhYnNNYXhaID0gTWF0aC5hYnMocG9pbnRzWzBdLnopO1xyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwb2ludHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICBhYnNNYXhYID0gTWF0aC5tYXgoYWJzTWF4WCwgTWF0aC5hYnMocG9pbnRzW2ldLngpKTtcclxuICAgICAgICBhYnNNYXhaID0gTWF0aC5tYXgoYWJzTWF4WiwgTWF0aC5hYnMocG9pbnRzW2ldLnopKTtcclxuICAgIH1cclxuICAgIG91dFswXSA9IGFic01heFg7XHJcbiAgICBvdXRbMV0gPSAwO1xyXG4gICAgb3V0WzJdID0gYWJzTWF4WjtcclxufVxyXG4vKiogQ2hlY2sgd2hldGhlciB4IGxpZXMgYmV0d2VlbiBhIGFuZCBiICovXHJcbmZ1bmN0aW9uIHdpdGhpbih4LCBhLCBiKSB7XHJcbiAgICBpZiAoYSA+IGIpXHJcbiAgICAgICAgcmV0dXJuIHggPCBhICYmIHggPiBiO1xyXG4gICAgcmV0dXJuIHggPiBhICYmIHggPCBiO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVjayB3aGV0aGVyIGdpdmVuIHBvaW50IG9uIHBsYW5lJ3MgYm91bmRpbmcgYm94IGlzIGluc2lkZSBwbGFuZSdzIHBvbHlnb25cclxuICpcclxuICogQHBhcmFtIHAgM0QgcG9pbnQgaW4gcGxhbmUncyBsb2NhbCBzcGFjZSwgWSB2YWx1ZSBpcyBpZ25vcmVkLCBzaW5jZSBpdCBpcyBhc3N1bWVkXHJcbiAqICAgICB0aGF0IHRoZSBwb2ludCB3YXMgY2hlY2tlZCBhZ2FpbnN0IHRoZSBwbGFuZSdzIGJvdW5kaW5nIGJveC5cclxuICogQHBhcmFtIHBsYW5lIFhSUGxhbmUgdGhhdCBoYXMgYFhSUGxhbmUucG9seWdvbmBcclxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBwb2ludCBsaWVzIG9uIHRoZSBwbGFuZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUG9pbnRMb2NhbE9uWFJQbGFuZVBvbHlnb24ocCwgcGxhbmUpIHtcclxuICAgIGNvbnN0IHBvaW50cyA9IHBsYW5lLnBvbHlnb247XHJcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDMpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgLyogQ291bnQgcmF5IGludGVyc2VjdGlvbnM6IGV2ZW4gPT0gaW5zaWRlLCBvZGQgPT0gb3V0c2lkZSAqL1xyXG4gICAgY29uc3QgcFggPSBwWzBdO1xyXG4gICAgY29uc3QgcFogPSBwWzJdO1xyXG4gICAgbGV0IGludGVyc2VjdGlvbnMgPSAwO1xyXG4gICAgZm9yIChsZXQgbiA9IDAsIGwgPSBwb2ludHMubGVuZ3RoIC0gMTsgbiA8IHBvaW50cy5sZW5ndGg7ICsrbikge1xyXG4gICAgICAgIGNvbnN0IGFYID0gcG9pbnRzW2xdLng7XHJcbiAgICAgICAgY29uc3QgYVogPSBwb2ludHNbbF0uejtcclxuICAgICAgICBjb25zdCBzID0gKHBvaW50c1tuXS56IC0gYVopIC8gKHBvaW50c1tuXS54IC0gYVgpO1xyXG4gICAgICAgIGNvbnN0IHggPSBNYXRoLmFicygocFogLSBhWikgLyBzKTtcclxuICAgICAgICBpZiAoeCA+PSAwLjAgJiYgeCA8PSAxLjAgJiYgd2l0aGluKHggKyBwWCwgYVgsIHBvaW50c1tuXS54KSlcclxuICAgICAgICAgICAgKytpbnRlcnNlY3Rpb25zO1xyXG4gICAgICAgIGwgPSBuO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChpbnRlcnNlY3Rpb25zICYgMSkgPT0gMDtcclxufVxyXG4vKipcclxuICogQ2hlY2sgd2hldGhlciBnaXZlbiBwb2ludCBvbiBwbGFuZSdzIGJvdW5kaW5nIGJveCBpcyBpbnNpZGUgcGxhbmUncyBwb2x5Z29uXHJcbiAqXHJcbiAqIEBwYXJhbSBwIDNEIHBvaW50IHRvIHRlc3QuIEl0IGlzIGFzc3VtZWQgdGhhdCB0aGUgcG9pbnQgd2FzIGNoZWNrZWQgYWdhaW5zdFxyXG4gKiAgICAgdGhlIHBsYW5lJ3MgYm91bmRpbmcgYm94IGJlZm9yZWhhbmQuXHJcbiAqIEBwYXJhbSBwbGFuZSBYUlBsYW5lIHRoYXQgaGFzIGBYUlBsYW5lLnBvbHlnb25gXHJcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgcG9pbnQgbGllcyBvbiB0aGUgcGxhbmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BvaW50V29ybGRPblhSUGxhbmVQb2x5Z29uKG9iamVjdCwgcCwgcGxhbmUpIHtcclxuICAgIGlmIChwbGFuZS5wb2x5Z29uLmxlbmd0aCA8IDMpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgaXNQb2ludExvY2FsT25YUlBsYW5lUG9seWdvbihvYmplY3QudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQodGVtcFZlYzMsIHApLCBwbGFuZSk7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZSBhIHBsYW5lIG1lc2ggZnJvbSBhIGxpc3Qgb2YgY29udG91ciBwb2ludHNcclxuICpcclxuICogQHBhcmFtIGVuZ2luZSBFbmdpbmUgdG8gY3JlYXRlIHRoZSBtZXNoIHdpdGhcclxuICogQHBhcmFtIHBvaW50cyBDb250b3VyIHBvaW50c1xyXG4gKiBAcGFyYW0gbWVzaFRvVXBkYXRlIE9wdGlvbmFsIG1lc2ggdG8gdXBkYXRlIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgb25lLlxyXG4gKi9cclxuZnVuY3Rpb24gcGxhbmVNZXNoRnJvbUNvbnRvdXIoZW5naW5lLCBwb2ludHMsIG1lc2hUb1VwZGF0ZSA9IG51bGwpIHtcclxuICAgIGNvbnN0IHZlcnRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcclxuICAgIGNvbnN0IHZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0ZXhDb3VudCAqIDIpO1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGQgPSAwOyBpIDwgdmVydGV4Q291bnQ7ICsraSwgZCArPSAyKSB7XHJcbiAgICAgICAgdmVydGljZXNbZF0gPSBwb2ludHNbaV0ueDtcclxuICAgICAgICB2ZXJ0aWNlc1tkICsgMV0gPSBwb2ludHNbaV0uejtcclxuICAgIH1cclxuICAgIGNvbnN0IHRyaWFuZ2xlcyA9IGVhcmN1dCh2ZXJ0aWNlcyk7XHJcbiAgICBjb25zdCBtZXNoID0gbWVzaFRvVXBkYXRlIHx8XHJcbiAgICAgICAgbmV3IE1lc2goZW5naW5lLCB7XHJcbiAgICAgICAgICAgIHZlcnRleENvdW50LFxyXG4gICAgICAgICAgICAvKiBBc3N1bXB0aW9uIGhlcmUgdGhhdCB3ZSB3aWxsIG5ldmVyIGhhdmUgbW9yZSB0aGFuIDI1NiBwb2ludHNcclxuICAgICAgICAgICAgICogaW4gdGhlIGRldGVjdGVkIHBsYW5lIG1lc2hlcyEgKi9cclxuICAgICAgICAgICAgaW5kZXhUeXBlOiBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkQnl0ZSxcclxuICAgICAgICAgICAgaW5kZXhEYXRhOiB0cmlhbmdsZXMsXHJcbiAgICAgICAgfSk7XHJcbiAgICBpZiAobWVzaC52ZXJ0ZXhDb3VudCAhPT0gdmVydGV4Q291bnQpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ3ZlcnRleENvdW50IG9mIG1lc2hUb1VwZGF0ZSBkaWQgbm90IG1hdGNoIHJlcXVpcmVkIHZlcnRleENvdW50Jyk7XHJcbiAgICAgICAgcmV0dXJuIG1lc2g7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlBvc2l0aW9uKTtcclxuICAgIGNvbnN0IHRleHR1cmVDb29yZHMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlRleHR1cmVDb29yZGluYXRlKTtcclxuICAgIGNvbnN0IG5vcm1hbHMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLk5vcm1hbCk7XHJcbiAgICB0ZW1wVmVjM1sxXSA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMCwgcyA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgKytpLCBzICs9IDIpIHtcclxuICAgICAgICB0ZW1wVmVjM1swXSA9IHZlcnRpY2VzW3NdO1xyXG4gICAgICAgIHRlbXBWZWMzWzJdID0gdmVydGljZXNbcyArIDFdO1xyXG4gICAgICAgIHBvc2l0aW9ucy5zZXQoaSwgdGVtcFZlYzMpO1xyXG4gICAgfVxyXG4gICAgdGV4dHVyZUNvb3Jkcz8uc2V0KDAsIHZlcnRpY2VzKTtcclxuICAgIGlmIChub3JtYWxzKSB7XHJcbiAgICAgICAgdGVtcFZlYzNbMF0gPSAwO1xyXG4gICAgICAgIHRlbXBWZWMzWzFdID0gMTtcclxuICAgICAgICB0ZW1wVmVjM1syXSA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgKytpKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbHMuc2V0KGksIHRlbXBWZWMzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobWVzaFRvVXBkYXRlKVxyXG4gICAgICAgIG1lc2gudXBkYXRlKCk7XHJcbiAgICByZXR1cm4gbWVzaDtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGUgbWVzaGVzIGFuZCBjb2xsaXNpb25zIGZvciBYUlBsYW5lcyB1c2luZyBbV2ViWFIgRGV2aWNlIEFQSSAtIFBsYW5lIERldGVjdGlvbl0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby9yZWFsLXdvcmxkLWdlb21ldHJ5L3BsYW5lLWRldGVjdGlvbi5odG1sKS5cclxuICovXHJcbmNsYXNzIFBsYW5lRGV0ZWN0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwbGFuZS1kZXRlY3Rpb24nO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYXRlcmlhbCB0byBhc3NpZ24gdG8gY3JlYXRlZCBwbGFuZSBtZXNoZXMgb3IgYG51bGxgIGlmIG1lc2hlcyBzaG91bGQgbm90IGJlIGNyZWF0ZWQuXHJcbiAgICAgKi9cclxuICAgIHBsYW5lTWF0ZXJpYWwgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb2xsaXNpb24gbWFzayB0byBhc3NpZ24gdG8gbmV3bHkgY3JlYXRlZCBjb2xsaXNpb24gY29tcG9uZW50cyBvciBhIG5lZ2F0aXZlIHZhbHVlIGlmXHJcbiAgICAgKiBjb2xsaXNpb24gY29tcG9uZW50cyBzaG91bGQgbm90IGJlIGNyZWF0ZWQuXHJcbiAgICAgKi9cclxuICAgIGNvbGxpc2lvbk1hc2sgPSAtMTtcclxuICAgIC8qKiBNYXAgb2YgYWxsIHBsYW5lcyBhbmQgdGhlaXIgbGFzdCB1cGRhdGVkIHRpbWVzdGFtcHMgKi9cclxuICAgIHBsYW5lcyA9IG5ldyBNYXAoKTtcclxuICAgIC8qKiBPYmplY3RzIGdlbmVyYXRlZCBmb3IgZWFjaCBYUlBsYW5lICovXHJcbiAgICBwbGFuZU9iamVjdHMgPSBuZXcgTWFwKCk7XHJcbiAgICAvKiogQ2FsbGVkIHdoZW4gYSBwbGFuZSBzdGFydHMgdHJhY2tpbmcgKi9cclxuICAgIG9uUGxhbmVGb3VuZCA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogQ2FsbGVkIHdoZW4gYSBwbGFuZSBzdG9wcyB0cmFja2luZyAqL1xyXG4gICAgb25QbGFuZUxvc3QgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5lbmdpbmUueHI/LmZyYW1lKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZS54ci5mcmFtZS5kZXRlY3RlZFBsYW5lcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3BsYW5lLWRldGVjdGlvbjogV2ViWFIgZmVhdHVyZSBub3QgYXZhaWxhYmxlLicpO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjb25zdCBkZXRlY3RlZFBsYW5lcyA9IHRoaXMuZW5naW5lLnhyLmZyYW1lLmRldGVjdGVkUGxhbmVzO1xyXG4gICAgICAgIGZvciAoY29uc3QgW3BsYW5lLCBfXSBvZiB0aGlzLnBsYW5lcykge1xyXG4gICAgICAgICAgICBpZiAoIWRldGVjdGVkUGxhbmVzLmhhcyhwbGFuZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuI3BsYW5lTG9zdChwbGFuZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZGV0ZWN0ZWRQbGFuZXMuZm9yRWFjaCgocGxhbmUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGxhbmVzLmhhcyhwbGFuZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFuZS5sYXN0Q2hhbmdlZFRpbWUgPiB0aGlzLnBsYW5lcy5nZXQocGxhbmUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jcGxhbmVVcGRhdGUocGxhbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4jcGxhbmVGb3VuZChwbGFuZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy4jcGxhbmVVcGRhdGVQb3NlKHBsYW5lKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgICNwbGFuZUxvc3QocGxhbmUpIHtcclxuICAgICAgICB0aGlzLnBsYW5lcy5kZWxldGUocGxhbmUpO1xyXG4gICAgICAgIGNvbnN0IG8gPSB0aGlzLnBsYW5lT2JqZWN0cy5nZXQocGxhbmUpO1xyXG4gICAgICAgIHRoaXMub25QbGFuZUxvc3Qubm90aWZ5KHBsYW5lLCBvKTtcclxuICAgICAgICAvKiBVc2VyIG1pZ2h0IGRlc3Ryb3kgdGhlIG9iamVjdCAqL1xyXG4gICAgICAgIGlmIChvLm9iamVjdElkID4gMClcclxuICAgICAgICAgICAgby5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICAjcGxhbmVGb3VuZChwbGFuZSkge1xyXG4gICAgICAgIHRoaXMucGxhbmVzLnNldChwbGFuZSwgcGxhbmUubGFzdENoYW5nZWRUaW1lKTtcclxuICAgICAgICBjb25zdCBvID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KHRoaXMub2JqZWN0KTtcclxuICAgICAgICB0aGlzLnBsYW5lT2JqZWN0cy5zZXQocGxhbmUsIG8pO1xyXG4gICAgICAgIGlmICh0aGlzLnBsYW5lTWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgby5hZGRDb21wb25lbnQoTWVzaENvbXBvbmVudCwge1xyXG4gICAgICAgICAgICAgICAgbWVzaDogcGxhbmVNZXNoRnJvbUNvbnRvdXIodGhpcy5lbmdpbmUsIHBsYW5lLnBvbHlnb24pLFxyXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHRoaXMucGxhbmVNYXRlcmlhbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbGxpc2lvbk1hc2sgPj0gMCkge1xyXG4gICAgICAgICAgICBleHRlbnRzRnJvbUNvbnRvdXIodGVtcFZlYzMsIHBsYW5lLnBvbHlnb24pO1xyXG4gICAgICAgICAgICB0ZW1wVmVjM1sxXSA9IDAuMDI1O1xyXG4gICAgICAgICAgICBvLmFkZENvbXBvbmVudChDb2xsaXNpb25Db21wb25lbnQsIHtcclxuICAgICAgICAgICAgICAgIGdyb3VwOiB0aGlzLmNvbGxpc2lvbk1hc2ssXHJcbiAgICAgICAgICAgICAgICBjb2xsaWRlcjogQ29sbGlkZXIuQm94LFxyXG4gICAgICAgICAgICAgICAgZXh0ZW50czogdGVtcFZlYzMsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uUGxhbmVGb3VuZC5ub3RpZnkocGxhbmUsIG8pO1xyXG4gICAgfVxyXG4gICAgI3BsYW5lVXBkYXRlKHBsYW5lKSB7XHJcbiAgICAgICAgdGhpcy5wbGFuZXMuc2V0KHBsYW5lLCBwbGFuZS5sYXN0Q2hhbmdlZFRpbWUpO1xyXG4gICAgICAgIGNvbnN0IHBsYW5lTWVzaCA9IHRoaXMucGxhbmVPYmplY3RzLmdldChwbGFuZSkuZ2V0Q29tcG9uZW50KE1lc2hDb21wb25lbnQpO1xyXG4gICAgICAgIGlmICghcGxhbmVNZXNoKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgcGxhbmVNZXNoRnJvbUNvbnRvdXIodGhpcy5lbmdpbmUsIHBsYW5lLnBvbHlnb24sIHBsYW5lTWVzaC5tZXNoKTtcclxuICAgIH1cclxuICAgICNwbGFuZVVwZGF0ZVBvc2UocGxhbmUpIHtcclxuICAgICAgICBjb25zdCBvID0gdGhpcy5wbGFuZU9iamVjdHMuZ2V0KHBsYW5lKTtcclxuICAgICAgICBjb25zdCBwb3NlID0gdGhpcy5lbmdpbmUueHIuZnJhbWUuZ2V0UG9zZShwbGFuZS5wbGFuZVNwYWNlLCB0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xyXG4gICAgICAgIGlmICghcG9zZSkge1xyXG4gICAgICAgICAgICBvLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbChvLCBwb3NlLnRyYW5zZm9ybSk7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5tYXRlcmlhbCgpXHJcbl0sIFBsYW5lRGV0ZWN0aW9uLnByb3RvdHlwZSwgXCJwbGFuZU1hdGVyaWFsXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuaW50KClcclxuXSwgUGxhbmVEZXRlY3Rpb24ucHJvdG90eXBlLCBcImNvbGxpc2lvbk1hc2tcIiwgdm9pZCAwKTtcclxuZXhwb3J0IHsgUGxhbmVEZXRlY3Rpb24gfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHZlYzMsIG1hdDQsIHF1YXQsIHF1YXQyIH0gZnJvbSAnZ2wtbWF0cml4JztcclxuY29uc3QgVlJNX1JPTExfQVhFUyA9IHtcclxuICAgIFg6IFsxLjAsIDAuMCwgMC4wXSxcclxuICAgIFk6IFswLjAsIDEuMCwgMC4wXSxcclxuICAgIFo6IFswLjAsIDAuMCwgMS4wXSxcclxufTtcclxuY29uc3QgVlJNX0FJTV9BWEVTID0ge1xyXG4gICAgUG9zaXRpdmVYOiBbMS4wLCAwLjAsIDAuMF0sXHJcbiAgICBOZWdhdGl2ZVg6IFstMS4wLCAwLjAsIDAuMF0sXHJcbiAgICBQb3NpdGl2ZVk6IFswLjAsIDEuMCwgMC4wXSxcclxuICAgIE5lZ2F0aXZlWTogWzAuMCwgLTEuMCwgMC4wXSxcclxuICAgIFBvc2l0aXZlWjogWzAuMCwgMC4wLCAxLjBdLFxyXG4gICAgTmVnYXRpdmVaOiBbMC4wLCAwLjAsIC0xLjBdLFxyXG59O1xyXG4vKipcclxuICogQ29tcG9uZW50IGZvciBsb2FkaW5nIGFuZCBoYW5kbGluZyBWUk0gMS4wIG1vZGVscy5cclxuICpcclxuICogUG9zaW5nIG9mIHRoZSBtb2RlbCBzaG91bGQgYmUgZG9uZSBleGNsdXNpdmVseSBieSByb3RhdGluZyB0aGUgYm9uZXMuIFRoZXNlIGNhbiBiZVxyXG4gKiBhY2Nlc3NlZCB1c2luZyB0aGUgYC5ib25lc2AgcHJvcGVydHkgYW5kIGZvbGxvdyB0aGUgVlJNIGJvbmUgbmFtaW5nLiBOb3RlIHRoYXQgbm90XHJcbiAqIGFsbCBWUk0gbW9kZWxzIHdpbGwgaGF2ZSBhbGwgcG9zc2libGUgYm9uZXMuIFRoZSByZXN0IHBvc2UgKFQtcG9zZSkgaXMgY2FwdHVyZWQgaW5cclxuICogdGhlIGAucmVzdFBvc2VgIHByb3BlcnR5LiBSZXNldHRpbmcgYSBib25lIHRvIGl0cyByZXN0IHBvc2UgY2FuIGJlIGRvbmUgYXMgZm9sbG93czpcclxuICogYGBganNcclxuICogdnJtQ29tcG9uZW50LmJvbmVzW3ZybUJvbmVOYW1lXS5yb3RhdGlvbkxvY2FsID0gdnJtQ29tcG9uZW50LnJlc3RQb3NlW3ZybUJvbmVOYW1lXTtcclxuICogYGBgXHJcbiAqXHJcbiAqIE1vdmluZyB0aGUgbW9kZWwgdGhyb3VnaCB0aGUgd29ybGQgc2hvdWxkIGJlIGRvbmUgYnkgbW92aW5nIHRoZSBvYmplY3QgdGhpcyBjb21wb25lbnRcclxuICogaXMgYXR0YWNoZWQgdG8uIEluIG90aGVyIHdvcmRzLCBieSBtb3ZpbmcgdGhlIHJvb3Qgb2YgdGhlIFZSTSBtb2RlbC4gVGhlIGJvbmVzIGFuZCBhbnlcclxuICogZGVzY2VuZGFudCBvYmplY3RzIHNob3VsZCAqbm90KiBiZSB1c2VkIHRvIG1vdmUgdGhlIFZSTSBtb2RlbC5cclxuICpcclxuICogVGhlIGNvcmUgZXh0ZW5zaW9uIGBWUk1DX3ZybWAgYXMgd2VsbCBhcyB0aGVgVlJNQ19zcHJpbmdCb25lYCBhbmQgYFZSTUNfbm9kZV9jb25zdHJhaW50YFxyXG4gKiBleHRlbnNpb25zIGFyZSBzdXBwb3J0ZWQuXHJcbiAqXHJcbiAqICoqTGltaXRhdGlvbnM6KipcclxuICogLSBObyBzdXBwb3J0IGZvciBgVlJNQ19tYXRlcmlhbF9tdG9vbmBcclxuICogLSBFeHByZXNzaW9ucyBhcmVuJ3Qgc3VwcG9ydGVkXHJcbiAqIC0gRXhwcmVzc2lvbiBiYXNlZCBsb29rQXQgaXNuJ3Qgc3VwcG9ydGVkXHJcbiAqIC0gTWVzaCBhbm5vdGF0aW9uIG1vZGUgYGF1dG9gIGlzIG5vdCBzdXBwb3J0ZWQgKGZpcnN0IHBlcnNvbiBtb2RlKVxyXG4gKi9cclxuY2xhc3MgVnJtIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd2cm0nO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIFVSTCB0byBhIFZSTSBmaWxlIHRvIGxvYWQgKi9cclxuICAgICAgICBzcmM6IHsgdHlwZTogVHlwZS5TdHJpbmcgfSxcclxuICAgICAgICAvKiogT2JqZWN0IHRoZSBWUk0gaXMgbG9va2luZyBhdCAqL1xyXG4gICAgICAgIGxvb2tBdFRhcmdldDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxyXG4gICAgfTtcclxuICAgIC8qKiBNZXRhIGluZm9ybWF0aW9uIGFib3V0IHRoZSBWUk0gbW9kZWwgKi9cclxuICAgIG1ldGEgPSBudWxsO1xyXG4gICAgLyoqIFRoZSBodW1hbm9pZCBib25lcyBvZiB0aGUgVlJNIG1vZGVsICovXHJcbiAgICBib25lcyA9IHtcclxuICAgICAgICAvKiBUb3JzbyAqL1xyXG4gICAgICAgIGhpcHM6IG51bGwsXHJcbiAgICAgICAgc3BpbmU6IG51bGwsXHJcbiAgICAgICAgY2hlc3Q6IG51bGwsXHJcbiAgICAgICAgdXBwZXJDaGVzdDogbnVsbCxcclxuICAgICAgICBuZWNrOiBudWxsLFxyXG4gICAgICAgIC8qIEhlYWQgKi9cclxuICAgICAgICBoZWFkOiBudWxsLFxyXG4gICAgICAgIGxlZnRFeWU6IG51bGwsXHJcbiAgICAgICAgcmlnaHRFeWU6IG51bGwsXHJcbiAgICAgICAgamF3OiBudWxsLFxyXG4gICAgICAgIC8qIExlZ3MgKi9cclxuICAgICAgICBsZWZ0VXBwZXJMZWc6IG51bGwsXHJcbiAgICAgICAgbGVmdExvd2VyTGVnOiBudWxsLFxyXG4gICAgICAgIGxlZnRGb290OiBudWxsLFxyXG4gICAgICAgIGxlZnRUb2VzOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0VXBwZXJMZWc6IG51bGwsXHJcbiAgICAgICAgcmlnaHRMb3dlckxlZzogbnVsbCxcclxuICAgICAgICByaWdodEZvb3Q6IG51bGwsXHJcbiAgICAgICAgcmlnaHRUb2VzOiBudWxsLFxyXG4gICAgICAgIC8qIEFybXMgKi9cclxuICAgICAgICBsZWZ0U2hvdWxkZXI6IG51bGwsXHJcbiAgICAgICAgbGVmdFVwcGVyQXJtOiBudWxsLFxyXG4gICAgICAgIGxlZnRMb3dlckFybTogbnVsbCxcclxuICAgICAgICBsZWZ0SGFuZDogbnVsbCxcclxuICAgICAgICByaWdodFNob3VsZGVyOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0VXBwZXJBcm06IG51bGwsXHJcbiAgICAgICAgcmlnaHRMb3dlckFybTogbnVsbCxcclxuICAgICAgICByaWdodEhhbmQ6IG51bGwsXHJcbiAgICAgICAgLyogRmluZ2VycyAqL1xyXG4gICAgICAgIGxlZnRUaHVtYk1ldGFjYXJwYWw6IG51bGwsXHJcbiAgICAgICAgbGVmdFRodW1iUHJveGltYWw6IG51bGwsXHJcbiAgICAgICAgbGVmdFRodW1iRGlzdGFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRJbmRleFByb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRJbmRleEludGVybWVkaWF0ZTogbnVsbCxcclxuICAgICAgICBsZWZ0SW5kZXhEaXN0YWw6IG51bGwsXHJcbiAgICAgICAgbGVmdE1pZGRsZVByb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRNaWRkbGVJbnRlcm1lZGlhdGU6IG51bGwsXHJcbiAgICAgICAgbGVmdE1pZGRsZURpc3RhbDogbnVsbCxcclxuICAgICAgICBsZWZ0UmluZ1Byb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRSaW5nSW50ZXJtZWRpYXRlOiBudWxsLFxyXG4gICAgICAgIGxlZnRSaW5nRGlzdGFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRMaXR0bGVQcm94aW1hbDogbnVsbCxcclxuICAgICAgICBsZWZ0TGl0dGxlSW50ZXJtZWRpYXRlOiBudWxsLFxyXG4gICAgICAgIGxlZnRMaXR0bGVEaXN0YWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRUaHVtYk1ldGFjYXJwYWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRUaHVtYlByb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0VGh1bWJEaXN0YWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRJbmRleFByb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0SW5kZXhJbnRlcm1lZGlhdGU6IG51bGwsXHJcbiAgICAgICAgcmlnaHRJbmRleERpc3RhbDogbnVsbCxcclxuICAgICAgICByaWdodE1pZGRsZVByb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0TWlkZGxlSW50ZXJtZWRpYXRlOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0TWlkZGxlRGlzdGFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0UmluZ1Byb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0UmluZ0ludGVybWVkaWF0ZTogbnVsbCxcclxuICAgICAgICByaWdodFJpbmdEaXN0YWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRMaXR0bGVQcm94aW1hbDogbnVsbCxcclxuICAgICAgICByaWdodExpdHRsZUludGVybWVkaWF0ZTogbnVsbCxcclxuICAgICAgICByaWdodExpdHRsZURpc3RhbDogbnVsbCxcclxuICAgIH07XHJcbiAgICAvKiogUm90YXRpb25zIG9mIHRoZSBib25lcyBpbiB0aGUgcmVzdCBwb3NlIChULXBvc2UpICovXHJcbiAgICByZXN0UG9zZSA9IHt9O1xyXG4gICAgLyogQWxsIG5vZGUgY29uc3RyYWludHMsIG9yZGVyZWQgdG8gZGVhbCB3aXRoIGRlcGVuZGVuY2llcyAqL1xyXG4gICAgX25vZGVDb25zdHJhaW50cyA9IFtdO1xyXG4gICAgLyogVlJNQ19zcHJpbmdCb25lIGNoYWlucyAqL1xyXG4gICAgX3NwcmluZ0NoYWlucyA9IFtdO1xyXG4gICAgLyogU3BoZXJpY2FsIGNvbGxpZGVycyBmb3Igc3ByaW5nIGJvbmVzICovXHJcbiAgICBfc3BoZXJlQ29sbGlkZXJzID0gW107XHJcbiAgICAvKiBDYXBzdWxlIHNoYXBlZCBjb2xsaWRlcnMgZm9yIHNwcmluZyBib25lcyAqL1xyXG4gICAgX2NhcHN1bGVDb2xsaWRlcnMgPSBbXTtcclxuICAgIC8qIEluZGljYXRlcyB3aGljaCBtZXNoZXMgYXJlIHJlbmRlcmVkIGluIGZpcnN0L3RoaXJkIHBlcnNvbiB2aWV3cyAqL1xyXG4gICAgX2ZpcnN0UGVyc29uQW5ub3RhdGlvbnMgPSBbXTtcclxuICAgIC8qIENvbnRhaW5zIGRldGFpbHMgZm9yIChib25lIHR5cGUpIGxvb2tBdCBiZWhhdmlvdXIgKi9cclxuICAgIF9sb29rQXQgPSBudWxsO1xyXG4gICAgLyogV2hldGhlciBvciBub3QgdGhlIFZSTSBjb21wb25lbnQgaGFzIGJlZW4gaW5pdGlhbGl6ZWQgd2l0aCBgaW5pdGlhbGl6ZVZybWAgKi9cclxuICAgIF9pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLl90ZW1wVjMgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBWM0EgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBWM0IgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBRdWF0ID0gcXVhdC5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl90ZW1wUXVhdEEgPSBxdWF0LmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBRdWF0QiA9IHF1YXQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fdGVtcE1hdDRBID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl90ZW1wUXVhdDIgPSBxdWF0Mi5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl90YWlsVG9TaGFwZSA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5faGVhZFRvVGFpbCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5faW5lcnRpYSA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fc3RpZmZuZXNzID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl9leHRlcm5hbCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fcmlnaHRWZWN0b3IgPSB2ZWMzLnNldCh2ZWMzLmNyZWF0ZSgpLCAxLCAwLCAwKTtcclxuICAgICAgICB0aGlzLl91cFZlY3RvciA9IHZlYzMuc2V0KHZlYzMuY3JlYXRlKCksIDAsIDEsIDApO1xyXG4gICAgICAgIHRoaXMuX2ZvcndhcmRWZWN0b3IgPSB2ZWMzLnNldCh2ZWMzLmNyZWF0ZSgpLCAwLCAwLCAxKTtcclxuICAgICAgICB0aGlzLl9pZGVudGl0eVF1YXQgPSBxdWF0LmlkZW50aXR5KHF1YXQuY3JlYXRlKCkpO1xyXG4gICAgICAgIHRoaXMuX3JhZDJkZWcgPSAxODAuMCAvIE1hdGguUEk7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3JjKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3ZybTogc3JjIHByb3BlcnR5IG5vdCBzZXQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVuZ2luZS5zY2VuZVxyXG4gICAgICAgICAgICAuYXBwZW5kKHRoaXMuc3JjLCB7IGxvYWRHbHRmRXh0ZW5zaW9uczogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAudGhlbigoeyByb290LCBleHRlbnNpb25zIH0pID0+IHtcclxuICAgICAgICAgICAgcm9vdC5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4gKGNoaWxkLnBhcmVudCA9IHRoaXMub2JqZWN0KSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVWcm0oZXh0ZW5zaW9ucyk7XHJcbiAgICAgICAgICAgIHJvb3QuZGVzdHJveSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZXMgdGhlIFZSTSBnbFRGIGV4dGVuc2lvbnMgYW5kIGluaXRpYWxpemVzIHRoZSB2cm0gY29tcG9uZW50LlxyXG4gICAgICogQHBhcmFtIHtHTFRGRXh0ZW5zaW9uc30gZXh0ZW5zaW9ucyBUaGUgZ2xURiBleHRlbnNpb25zIGZvciB0aGUgVlJNIG1vZGVsXHJcbiAgICAgKi9cclxuICAgIF9pbml0aWFsaXplVnJtKGV4dGVuc2lvbnMpIHtcclxuICAgICAgICBpZiAodGhpcy5faW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1ZSTSBjb21wb25lbnQgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBWUk1DX3ZybSA9IGV4dGVuc2lvbnMucm9vdFsnVlJNQ192cm0nXTtcclxuICAgICAgICBpZiAoIVZSTUNfdnJtKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdNaXNzaW5nIFZSTSBleHRlbnNpb25zJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChWUk1DX3ZybS5zcGVjVmVyc2lvbiAhPT0gJzEuMCcpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFVuc3VwcG9ydGVkIFZSTSB2ZXJzaW9uLCBvbmx5IDEuMCBpcyBzdXBwb3J0ZWQsIGJ1dCBlbmNvdW50ZXJlZCAnJHtWUk1DX3ZybS5zcGVjVmVyc2lvbn0nYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWV0YSA9IFZSTUNfdnJtLm1ldGE7XHJcbiAgICAgICAgdGhpcy5fcGFyc2VIdW1hbm9pZChWUk1DX3ZybS5odW1hbm9pZCwgZXh0ZW5zaW9ucyk7XHJcbiAgICAgICAgaWYgKFZSTUNfdnJtLmZpcnN0UGVyc29uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlRmlyc3RQZXJzb24oVlJNQ192cm0uZmlyc3RQZXJzb24sIGV4dGVuc2lvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoVlJNQ192cm0ubG9va0F0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlTG9va0F0KFZSTUNfdnJtLmxvb2tBdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2ZpbmRBbmRQYXJzZU5vZGVDb25zdHJhaW50cyhleHRlbnNpb25zKTtcclxuICAgICAgICBjb25zdCBzcHJpbmdCb25lID0gZXh0ZW5zaW9ucy5yb290WydWUk1DX3NwcmluZ0JvbmUnXTtcclxuICAgICAgICBpZiAoc3ByaW5nQm9uZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJzZUFuZEluaXRpYWxpemVTcHJpbmdCb25lcyhzcHJpbmdCb25lLCBleHRlbnNpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgX3BhcnNlSHVtYW5vaWQoaHVtYW5vaWQsIGV4dGVuc2lvbnMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGJvbmVOYW1lIGluIGh1bWFub2lkLmh1bWFuQm9uZXMpIHtcclxuICAgICAgICAgICAgaWYgKCEoYm9uZU5hbWUgaW4gdGhpcy5ib25lcykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5yZWNvZ25pemVkIGJvbmUgJyR7Ym9uZU5hbWV9J2ApO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGh1bWFub2lkLmh1bWFuQm9uZXNbYm9uZU5hbWVdLm5vZGU7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdElkID0gZXh0ZW5zaW9ucy5pZE1hcHBpbmdbbm9kZV07XHJcbiAgICAgICAgICAgIHRoaXMuYm9uZXNbYm9uZU5hbWVdID0gdGhpcy5lbmdpbmUud3JhcE9iamVjdChvYmplY3RJZCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdFBvc2VbYm9uZU5hbWVdID0gcXVhdC5jb3B5KHF1YXQuY3JlYXRlKCksIHRoaXMuYm9uZXNbYm9uZU5hbWVdLnJvdGF0aW9uTG9jYWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wYXJzZUZpcnN0UGVyc29uKGZpcnN0UGVyc29uLCBleHRlbnNpb25zKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBtZXNoQW5ub3RhdGlvbiBvZiBmaXJzdFBlcnNvbi5tZXNoQW5ub3RhdGlvbnMpIHtcclxuICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuZW5naW5lLndyYXBPYmplY3QoZXh0ZW5zaW9ucy5pZE1hcHBpbmdbbWVzaEFubm90YXRpb24ubm9kZV0pLFxyXG4gICAgICAgICAgICAgICAgZmlyc3RQZXJzb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICB0aGlyZFBlcnNvbjogdHJ1ZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc3dpdGNoIChtZXNoQW5ub3RhdGlvbi50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdmaXJzdFBlcnNvbk9ubHknOlxyXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb24udGhpcmRQZXJzb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RoaXJkUGVyc29uT25seSc6XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbi5maXJzdFBlcnNvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYm90aCc6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhdXRvJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGaXJzdCBwZXJzb24gbWVzaCBhbm5vdGF0aW9uIHR5cGUgJ2F1dG8nIGlzIG5vdCBzdXBwb3J0ZWQsIHRyZWF0aW5nIGFzICdib3RoJyFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEludmFsaWQgbWVzaCBhbm5vdGF0aW9uIHR5cGUgJyR7bWVzaEFubm90YXRpb24udHlwZX0nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fZmlyc3RQZXJzb25Bbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wYXJzZUxvb2tBdChsb29rQXQpIHtcclxuICAgICAgICBpZiAobG9va0F0LnR5cGUgIT09ICdib25lJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuc3VwcG9ydGVkIGxvb2tBdCB0eXBlICcke2xvb2tBdC50eXBlfScsIG9ubHkgJ2JvbmUnIGlzIHN1cHBvcnRlZGApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcnNlUmFuZ2VNYXAgPSAocmFuZ2VNYXApID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlucHV0TWF4VmFsdWU6IHJhbmdlTWFwLmlucHV0TWF4VmFsdWUsXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRTY2FsZTogcmFuZ2VNYXAub3V0cHV0U2NhbGUsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9sb29rQXQgPSB7XHJcbiAgICAgICAgICAgIG9mZnNldEZyb21IZWFkQm9uZTogbG9va0F0Lm9mZnNldEZyb21IZWFkQm9uZSB8fCBbMCwgMCwgMF0sXHJcbiAgICAgICAgICAgIGhvcml6b250YWxJbm5lcjogcGFyc2VSYW5nZU1hcChsb29rQXQucmFuZ2VNYXBIb3Jpem9udGFsSW5uZXIpLFxyXG4gICAgICAgICAgICBob3Jpem9udGFsT3V0ZXI6IHBhcnNlUmFuZ2VNYXAobG9va0F0LnJhbmdlTWFwSG9yaXpvbnRhbE91dGVyKSxcclxuICAgICAgICAgICAgdmVydGljYWxEb3duOiBwYXJzZVJhbmdlTWFwKGxvb2tBdC5yYW5nZU1hcFZlcnRpY2FsRG93biksXHJcbiAgICAgICAgICAgIHZlcnRpY2FsVXA6IHBhcnNlUmFuZ2VNYXAobG9va0F0LnJhbmdlTWFwVmVydGljYWxVcCksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIF9maW5kQW5kUGFyc2VOb2RlQ29uc3RyYWludHMoZXh0ZW5zaW9ucykge1xyXG4gICAgICAgIGNvbnN0IHRyYXZlcnNlID0gKG9iamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBub2RlRXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnMubm9kZVtvYmplY3Qub2JqZWN0SWRdO1xyXG4gICAgICAgICAgICBpZiAobm9kZUV4dGVuc2lvbnMgJiYgJ1ZSTUNfbm9kZV9jb25zdHJhaW50JyBpbiBub2RlRXh0ZW5zaW9ucykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZUNvbnN0cmFpbnRFeHRlbnNpb24gPSBub2RlRXh0ZW5zaW9uc1snVlJNQ19ub2RlX2NvbnN0cmFpbnQnXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBub2RlQ29uc3RyYWludEV4dGVuc2lvbi5jb25zdHJhaW50O1xyXG4gICAgICAgICAgICAgICAgbGV0IHR5cGUsIGF4aXM7XHJcbiAgICAgICAgICAgICAgICBpZiAoJ3JvbGwnIGluIGNvbnN0cmFpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ3JvbGwnO1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXMgPSBWUk1fUk9MTF9BWEVTW2NvbnN0cmFpbnQucm9sbC5yb2xsQXhpc107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgnYWltJyBpbiBjb25zdHJhaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdhaW0nO1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXMgPSBWUk1fQUlNX0FYRVNbY29uc3RyYWludC5haW0uYWltQXhpc107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgncm90YXRpb24nIGluIGNvbnN0cmFpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ3JvdGF0aW9uJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5lbmdpbmUud3JhcE9iamVjdChleHRlbnNpb25zLmlkTWFwcGluZ1tjb25zdHJhaW50W3R5cGVdLnNvdXJjZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25vZGVDb25zdHJhaW50cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogb2JqZWN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzOiBheGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IGNvbnN0cmFpbnRbdHlwZV0ud2VpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBSZXN0IHBvc2UgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25SZXN0TG9jYWxSb3RhdGlvbjogcXVhdC5jb3B5KHF1YXQuY3JlYXRlKCksIG9iamVjdC5yb3RhdGlvbkxvY2FsKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlUmVzdExvY2FsUm90YXRpb246IHF1YXQuY29weShxdWF0LmNyZWF0ZSgpLCBzb3VyY2Uucm90YXRpb25Mb2NhbCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVJlc3RMb2NhbFJvdGF0aW9uSW52OiBxdWF0LmludmVydChxdWF0LmNyZWF0ZSgpLCBzb3VyY2Uucm90YXRpb25Mb2NhbCksXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1VucmVjb2duaXplZCBvciBpbnZhbGlkIFZSTUNfbm9kZV9jb25zdHJhaW50LCBpZ25vcmluZyBpdCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygb2JqZWN0LmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZShjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyYXZlcnNlKHRoaXMub2JqZWN0KTtcclxuICAgIH1cclxuICAgIF9wYXJzZUFuZEluaXRpYWxpemVTcHJpbmdCb25lcyhzcHJpbmdCb25lLCBleHRlbnNpb25zKSB7XHJcbiAgICAgICAgY29uc3QgY29sbGlkZXJzID0gKHNwcmluZ0JvbmUuY29sbGlkZXJzIHx8IFtdKS5tYXAoKGNvbGxpZGVyLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlVHlwZSA9ICdjYXBzdWxlJyBpbiBjb2xsaWRlci5zaGFwZSA/ICdjYXBzdWxlJyA6ICdzcGhlcmUnO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IGksXHJcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMuZW5naW5lLndyYXBPYmplY3QoZXh0ZW5zaW9ucy5pZE1hcHBpbmdbY29sbGlkZXIubm9kZV0pLFxyXG4gICAgICAgICAgICAgICAgc2hhcGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBpc0NhcHN1bGU6IHNoYXBlVHlwZSA9PT0gJ2NhcHN1bGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1czogY29sbGlkZXIuc2hhcGVbc2hhcGVUeXBlXS5yYWRpdXMsXHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBjb2xsaWRlci5zaGFwZVtzaGFwZVR5cGVdLm9mZnNldCxcclxuICAgICAgICAgICAgICAgICAgICB0YWlsOiBjb2xsaWRlci5zaGFwZVtzaGFwZVR5cGVdLnRhaWwsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY2FjaGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBoZWFkOiB2ZWMzLmNyZWF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhaWw6IHZlYzMuY3JlYXRlKCksXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3NwaGVyZUNvbGxpZGVycyA9IGNvbGxpZGVycy5maWx0ZXIoKGMpID0+ICFjLnNoYXBlLmlzQ2Fwc3VsZSk7XHJcbiAgICAgICAgdGhpcy5fY2Fwc3VsZUNvbGxpZGVycyA9IGNvbGxpZGVycy5maWx0ZXIoKGMpID0+IGMuc2hhcGUuaXNDYXBzdWxlKTtcclxuICAgICAgICBjb25zdCBjb2xsaWRlckdyb3VwcyA9IChzcHJpbmdCb25lLmNvbGxpZGVyR3JvdXBzIHx8IFtdKS5tYXAoKGdyb3VwKSA9PiAoe1xyXG4gICAgICAgICAgICBuYW1lOiBncm91cC5uYW1lLFxyXG4gICAgICAgICAgICBjb2xsaWRlcnM6IGdyb3VwLmNvbGxpZGVycy5tYXAoKGMpID0+IGNvbGxpZGVyc1tjXSksXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3ByaW5nIG9mIHNwcmluZ0JvbmUuc3ByaW5ncykge1xyXG4gICAgICAgICAgICBjb25zdCBqb2ludHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBqb2ludCBvZiBzcHJpbmcuam9pbnRzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpbmdKb2ludCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBoaXRSYWRpdXM6IDAuMCxcclxuICAgICAgICAgICAgICAgICAgICBzdGlmZm5lc3M6IDEuMCxcclxuICAgICAgICAgICAgICAgICAgICBncmF2aXR5UG93ZXI6IDAuMCxcclxuICAgICAgICAgICAgICAgICAgICBncmF2aXR5RGlyOiBbMC4wLCAtMS4wLCAwLjBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGRyYWdGb3JjZTogMC41LFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzcHJpbmdKb2ludCwgam9pbnQpO1xyXG4gICAgICAgICAgICAgICAgc3ByaW5nSm9pbnQubm9kZSA9IHRoaXMuZW5naW5lLndyYXBPYmplY3QoZXh0ZW5zaW9ucy5pZE1hcHBpbmdbc3ByaW5nSm9pbnQubm9kZV0pO1xyXG4gICAgICAgICAgICAgICAgam9pbnRzLnB1c2goc3ByaW5nSm9pbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNwcmluZ0NoYWluQ29sbGlkZXJzID0gKHNwcmluZy5jb2xsaWRlckdyb3VwcyB8fCBbXSkuZmxhdE1hcCgoY2cpID0+IGNvbGxpZGVyR3JvdXBzW2NnXS5jb2xsaWRlcnMpO1xyXG4gICAgICAgICAgICB0aGlzLl9zcHJpbmdDaGFpbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBzcHJpbmcubmFtZSxcclxuICAgICAgICAgICAgICAgIGNlbnRlcjogc3ByaW5nLmNlbnRlclxyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5lbmdpbmUud3JhcE9iamVjdChleHRlbnNpb25zLmlkTWFwcGluZ1tzcHJpbmcuY2VudGVyXSlcclxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBqb2ludHMsXHJcbiAgICAgICAgICAgICAgICBzcGhlcmVDb2xsaWRlcnM6IHNwcmluZ0NoYWluQ29sbGlkZXJzLmZpbHRlcigoYykgPT4gIWMuc2hhcGUuaXNDYXBzdWxlKSxcclxuICAgICAgICAgICAgICAgIGNhcHN1bGVDb2xsaWRlcnM6IHNwcmluZ0NoYWluQ29sbGlkZXJzLmZpbHRlcigoYykgPT4gYy5zaGFwZS5pc0NhcHN1bGUpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogSW5pdGlhbGl6ZSBzcHJpbmcgYm9uZSBqb2ludCBzdGF0ZSAqL1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3ByaW5nQ2hhaW4gb2YgdGhpcy5fc3ByaW5nQ2hhaW5zKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ByaW5nQ2hhaW4uam9pbnRzLmxlbmd0aCAtIDE7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaW5nQm9uZUpvaW50ID0gc3ByaW5nQ2hhaW4uam9pbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRTcHJpbmdCb25lSm9pbnQgPSBzcHJpbmdDaGFpbi5qb2ludHNbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaW5nQm9uZVBvc2l0aW9uID0gc3ByaW5nQm9uZUpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Xb3JsZCh2ZWMzLmNyZWF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uID0gY2hpbGRTcHJpbmdCb25lSm9pbnQubm9kZS5nZXRUcmFuc2xhdGlvbldvcmxkKHZlYzMuY3JlYXRlKCkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYm9uZURpcmVjdGlvbiA9IHZlYzMuc3VidHJhY3QodGhpcy5fdGVtcFYzQSwgc3ByaW5nQm9uZVBvc2l0aW9uLCBjaGlsZFNwcmluZ0JvbmVQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2VGFpbDogY2hpbGRTcHJpbmdCb25lUG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhaWw6IHZlYzMuY29weSh2ZWMzLmNyZWF0ZSgpLCBjaGlsZFNwcmluZ0JvbmVQb3NpdGlvbiksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbExvY2FsUm90YXRpb246IHF1YXQuY29weShxdWF0LmNyZWF0ZSgpLCBzcHJpbmdCb25lSm9pbnQubm9kZS5yb3RhdGlvbkxvY2FsKSxcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsTG9jYWxUcmFuc2Zvcm1JbnZlcnQ6IHF1YXQyLmludmVydChxdWF0Mi5jcmVhdGUoKSwgc3ByaW5nQm9uZUpvaW50Lm5vZGUudHJhbnNmb3JtTG9jYWwpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvbmVBeGlzOiB2ZWMzLm5vcm1hbGl6ZSh2ZWMzLmNyZWF0ZSgpLCBjaGlsZFNwcmluZ0JvbmVKb2ludC5ub2RlLmdldFRyYW5zbGF0aW9uTG9jYWwodGhpcy5fdGVtcFYzKSksXHJcbiAgICAgICAgICAgICAgICAgICAgLyogRW5zdXJlIGJvbmUgbGVuZ3RoIGlzIGF0IGxlYXN0IDFjbSB0byBhdm9pZCBqaXR0ZXJ5IGJlaGF2aW91ciBmcm9tIHplcm8tbGVuZ3RoIGJvbmVzICovXHJcbiAgICAgICAgICAgICAgICAgICAgYm9uZUxlbmd0aDogTWF0aC5tYXgoMC4wMSwgdmVjMy5sZW5ndGgoYm9uZURpcmVjdGlvbikpLFxyXG4gICAgICAgICAgICAgICAgICAgIC8qIFRhaWwgcG9zaXRpb25zIGluIGNlbnRlciBzcGFjZSwgaWYgbmVlZGVkICovXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldlRhaWxDZW50ZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhaWxDZW50ZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKHNwcmluZ0NoYWluLmNlbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnByZXZUYWlsQ2VudGVyID0gc3ByaW5nQ2hhaW4uY2VudGVyLnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKHZlYzMuY3JlYXRlKCksIGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50VGFpbENlbnRlciA9IHZlYzMuY29weSh2ZWMzLmNyZWF0ZSgpLCBjaGlsZFNwcmluZ0JvbmVQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzcHJpbmdCb25lSm9pbnQuc3RhdGUgPSBzdGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiAxLiBSZXNvbHZlIGh1bWFub2lkIGJvbmVzIChwZXJmb3JtZWQgYnkgdXNlcikgKi9cclxuICAgICAgICAvKiAyLiBSZXNvbHZlIExvb2tBdCAoYm9uZSB0eXBlKSBhcyB0aGUgcG9zaXRpb24gb2YgdGhlIGhlYWQgaXMgZGV0ZXJtaW5lZCAqL1xyXG4gICAgICAgIHRoaXMuX3Jlc29sdmVMb29rQXQoKTtcclxuICAgICAgICAvKiAzLiBFeHByZXNzaW9uIHVwZGF0ZSAoVE9ETykgKi9cclxuICAgICAgICAvKiA0LiBBcHBseSBFeHByZXNzaW9uIChUT0RPKSAqL1xyXG4gICAgICAgIC8qIDUuIFJlc29sdmUgY29uc3RyYWludHMgKi9cclxuICAgICAgICB0aGlzLl9yZXNvbHZlQ29uc3RyYWludHMoKTtcclxuICAgICAgICAvKiA2LiBSZXNvbHZlIFNwcmluZyBCb25lICovXHJcbiAgICAgICAgdGhpcy5fdXBkYXRlU3ByaW5nQm9uZXMoZHQpO1xyXG4gICAgfVxyXG4gICAgX3JhbmdlTWFwKHJhbmdlTWFwLCBpbnB1dCkge1xyXG4gICAgICAgIGNvbnN0IG1heFZhbHVlID0gcmFuZ2VNYXAuaW5wdXRNYXhWYWx1ZTtcclxuICAgICAgICBjb25zdCBvdXRwdXRTY2FsZSA9IHJhbmdlTWFwLm91dHB1dFNjYWxlO1xyXG4gICAgICAgIHJldHVybiAoTWF0aC5taW4oaW5wdXQsIG1heFZhbHVlKSAvIG1heFZhbHVlKSAqIG91dHB1dFNjYWxlO1xyXG4gICAgfVxyXG4gICAgX3Jlc29sdmVMb29rQXQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9sb29rQXQgfHwgIXRoaXMubG9va0F0VGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbG9va0F0U291cmNlID0gdGhpcy5ib25lcy5oZWFkLnRyYW5zZm9ybVBvaW50V29ybGQodGhpcy5fdGVtcFYzQSwgdGhpcy5fbG9va0F0Lm9mZnNldEZyb21IZWFkQm9uZSk7XHJcbiAgICAgICAgY29uc3QgbG9va0F0VGFyZ2V0ID0gdGhpcy5sb29rQXRUYXJnZXQuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjNCKTtcclxuICAgICAgICBjb25zdCBsb29rQXREaXJlY3Rpb24gPSB2ZWMzLnN1Yih0aGlzLl90ZW1wVjNBLCBsb29rQXRUYXJnZXQsIGxvb2tBdFNvdXJjZSk7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUobG9va0F0RGlyZWN0aW9uLCBsb29rQXREaXJlY3Rpb24pO1xyXG4gICAgICAgIC8qIENvbnZlcnQgdGhlIGRpcmVjdGlvbiBpbnRvIExvb2tBdCBzcGFjZSAqL1xyXG4gICAgICAgIHRoaXMuYm9uZXMuaGVhZC5wYXJlbnQudHJhbnNmb3JtVmVjdG9ySW52ZXJzZVdvcmxkKGxvb2tBdERpcmVjdGlvbik7XHJcbiAgICAgICAgY29uc3QgeiA9IHZlYzMuZG90KGxvb2tBdERpcmVjdGlvbiwgdGhpcy5fZm9yd2FyZFZlY3Rvcik7XHJcbiAgICAgICAgY29uc3QgeCA9IHZlYzMuZG90KGxvb2tBdERpcmVjdGlvbiwgdGhpcy5fcmlnaHRWZWN0b3IpO1xyXG4gICAgICAgIGNvbnN0IHlhdyA9IE1hdGguYXRhbjIoeCwgeikgKiB0aGlzLl9yYWQyZGVnO1xyXG4gICAgICAgIGNvbnN0IHh6ID0gTWF0aC5zcXJ0KHggKiB4ICsgeiAqIHopO1xyXG4gICAgICAgIGNvbnN0IHkgPSB2ZWMzLmRvdChsb29rQXREaXJlY3Rpb24sIHRoaXMuX3VwVmVjdG9yKTtcclxuICAgICAgICBsZXQgcGl0Y2ggPSBNYXRoLmF0YW4yKC15LCB4eikgKiB0aGlzLl9yYWQyZGVnO1xyXG4gICAgICAgIC8qIExpbWl0IHBpdGNoICovXHJcbiAgICAgICAgaWYgKHBpdGNoID4gMCkge1xyXG4gICAgICAgICAgICBwaXRjaCA9IHRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC52ZXJ0aWNhbERvd24sIHBpdGNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBpdGNoID0gLXRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC52ZXJ0aWNhbFVwLCAtcGl0Y2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBMZWZ0IGV5ZSAobGltaXQgeWF3KSAqL1xyXG4gICAgICAgIGlmICh0aGlzLmJvbmVzLmxlZnRFeWUpIHtcclxuICAgICAgICAgICAgbGV0IHlhd0xlZnQgPSB5YXc7XHJcbiAgICAgICAgICAgIGlmICh5YXdMZWZ0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgeWF3TGVmdCA9IHRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsSW5uZXIsIHlhd0xlZnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgeWF3TGVmdCA9IC10aGlzLl9yYW5nZU1hcCh0aGlzLl9sb29rQXQuaG9yaXpvbnRhbE91dGVyLCAteWF3TGVmdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZXllUm90YXRpb24gPSBxdWF0LmZyb21FdWxlcih0aGlzLl90ZW1wUXVhdEEsIHBpdGNoLCB5YXdMZWZ0LCAwKTtcclxuICAgICAgICAgICAgdGhpcy5ib25lcy5sZWZ0RXllLnJvdGF0aW9uTG9jYWwgPSBxdWF0Lm11bHRpcGx5KGV5ZVJvdGF0aW9uLCB0aGlzLnJlc3RQb3NlLmxlZnRFeWUsIGV5ZVJvdGF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogUmlnaHQgZXllIChsaW1pdCB5YXcpICovXHJcbiAgICAgICAgaWYgKHRoaXMuYm9uZXMucmlnaHRFeWUpIHtcclxuICAgICAgICAgICAgbGV0IHlhd1JpZ2h0ID0geWF3O1xyXG4gICAgICAgICAgICBpZiAoeWF3UmlnaHQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB5YXdSaWdodCA9IHRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsT3V0ZXIsIHlhd1JpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHlhd1JpZ2h0ID0gLXRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsSW5uZXIsIC15YXdSaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZXllUm90YXRpb24gPSBxdWF0LmZyb21FdWxlcih0aGlzLl90ZW1wUXVhdEEsIHBpdGNoLCB5YXdSaWdodCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9uZXMucmlnaHRFeWUucm90YXRpb25Mb2NhbCA9IHF1YXQubXVsdGlwbHkoZXllUm90YXRpb24sIHRoaXMucmVzdFBvc2UucmlnaHRFeWUsIGV5ZVJvdGF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcmVzb2x2ZUNvbnN0cmFpbnRzKCkge1xyXG4gICAgICAgIGZvciAoY29uc3Qgbm9kZUNvbnN0cmFpbnQgb2YgdGhpcy5fbm9kZUNvbnN0cmFpbnRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVDb25zdHJhaW50KG5vZGVDb25zdHJhaW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcmVzb2x2ZUNvbnN0cmFpbnQobm9kZUNvbnN0cmFpbnQpIHtcclxuICAgICAgICBjb25zdCBkc3RSZXN0UXVhdCA9IG5vZGVDb25zdHJhaW50LmRlc3RpbmF0aW9uUmVzdExvY2FsUm90YXRpb247XHJcbiAgICAgICAgY29uc3Qgc3JjUmVzdFF1YXRJbnYgPSBub2RlQ29uc3RyYWludC5zb3VyY2VSZXN0TG9jYWxSb3RhdGlvbkludjtcclxuICAgICAgICBjb25zdCB0YXJnZXRRdWF0ID0gcXVhdC5pZGVudGl0eSh0aGlzLl90ZW1wUXVhdEEpO1xyXG4gICAgICAgIHN3aXRjaCAobm9kZUNvbnN0cmFpbnQudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdyb2xsJzpcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVNyY1F1YXQgPSBxdWF0Lm11bHRpcGx5KHRoaXMuX3RlbXBRdWF0QSwgc3JjUmVzdFF1YXRJbnYsIG5vZGVDb25zdHJhaW50LnNvdXJjZS5yb3RhdGlvbkxvY2FsKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiBzb3VyY2UgdG8gcGFyZW50ICovXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsdGFTcmNRdWF0SW5QYXJlbnQgPSBxdWF0Lm11bHRpcGx5KHRoaXMuX3RlbXBRdWF0QSwgbm9kZUNvbnN0cmFpbnQuc291cmNlUmVzdExvY2FsUm90YXRpb24sIGRlbHRhU3JjUXVhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwoZGVsdGFTcmNRdWF0SW5QYXJlbnQsIGRlbHRhU3JjUXVhdEluUGFyZW50LCBzcmNSZXN0UXVhdEludik7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogcGFyZW50IHRvIGRlc3RpbmF0aW9uICovXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHN0UmVzdFF1YXRJbnYgPSBxdWF0LmludmVydCh0aGlzLl90ZW1wUXVhdEIsIGRzdFJlc3RRdWF0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVNyY1F1YXRJbkRzdCA9IHF1YXQubXVsdGlwbHkodGhpcy5fdGVtcFF1YXRCLCBkc3RSZXN0UXVhdEludiwgZGVsdGFTcmNRdWF0SW5QYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsdGlwbHkoZGVsdGFTcmNRdWF0SW5Ec3QsIGRlbHRhU3JjUXVhdEluRHN0LCBkc3RSZXN0UXVhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9WZWMgPSB2ZWMzLnRyYW5zZm9ybVF1YXQodGhpcy5fdGVtcFYzQSwgbm9kZUNvbnN0cmFpbnQuYXhpcywgZGVsdGFTcmNRdWF0SW5Ec3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21Ub1F1YXQgPSBxdWF0LnJvdGF0aW9uVG8odGhpcy5fdGVtcFF1YXRBLCBub2RlQ29uc3RyYWludC5heGlzLCB0b1ZlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwodGFyZ2V0UXVhdCwgZHN0UmVzdFF1YXQsIHF1YXQuaW52ZXJ0KHRoaXMuX3RlbXBRdWF0LCBmcm9tVG9RdWF0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwodGFyZ2V0UXVhdCwgdGFyZ2V0UXVhdCwgZGVsdGFTcmNRdWF0SW5Ec3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2FpbSc6XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHN0UGFyZW50V29ybGRRdWF0ID0gbm9kZUNvbnN0cmFpbnQuZGVzdGluYXRpb24ucGFyZW50LnJvdGF0aW9uV29ybGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogZnJvbVZlYyA9IGFpbUF4aXMuYXBwbHlRdWF0ZXJuaW9uKCBkc3RQYXJlbnRXb3JsZFF1YXQgKiBkc3RSZXN0UXVhdCApICovXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVZlYyA9IHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLl90ZW1wVjNBLCBub2RlQ29uc3RyYWludC5heGlzLCBkc3RSZXN0UXVhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KGZyb21WZWMsIGZyb21WZWMsIGRzdFBhcmVudFdvcmxkUXVhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogdG9WZWMgPSAoIHNyY1dvcmxkUG9zIC0gZHN0V29ybGRQb3MgKS5ub3JtYWxpemVkICovXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9WZWMgPSBub2RlQ29uc3RyYWludC5zb3VyY2UuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjNCKTtcclxuICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1Yih0b1ZlYywgdG9WZWMsIG5vZGVDb25zdHJhaW50LmRlc3RpbmF0aW9uLmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fdGVtcFYzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUodG9WZWMsIHRvVmVjKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiBmcm9tVG9RdWF0ID0gUXVhdGVybmlvbi5mcm9tVG9Sb3RhdGlvbiggZnJvbVZlYywgdG9WZWMgKSAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21Ub1F1YXQgPSBxdWF0LnJvdGF0aW9uVG8odGhpcy5fdGVtcFF1YXRBLCBmcm9tVmVjLCB0b1ZlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwodGFyZ2V0UXVhdCwgcXVhdC5pbnZlcnQodGhpcy5fdGVtcFF1YXQsIGRzdFBhcmVudFdvcmxkUXVhdCksIGZyb21Ub1F1YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIHRhcmdldFF1YXQsIGRzdFBhcmVudFdvcmxkUXVhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwodGFyZ2V0UXVhdCwgdGFyZ2V0UXVhdCwgZHN0UmVzdFF1YXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JvdGF0aW9uJzpcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcmNEZWx0YVF1YXQgPSBxdWF0Lm11bCh0YXJnZXRRdWF0LCBzcmNSZXN0UXVhdEludiwgbm9kZUNvbnN0cmFpbnQuc291cmNlLnJvdGF0aW9uTG9jYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIGRzdFJlc3RRdWF0LCBzcmNEZWx0YVF1YXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIEFwcGx5IGNvbnN0cmFpbnQgKi9cclxuICAgICAgICBxdWF0LnNsZXJwKHRhcmdldFF1YXQsIGRzdFJlc3RRdWF0LCB0YXJnZXRRdWF0LCBub2RlQ29uc3RyYWludC53ZWlnaHQpO1xyXG4gICAgICAgIG5vZGVDb25zdHJhaW50LmRlc3RpbmF0aW9uLnJvdGF0aW9uTG9jYWwgPSB0YXJnZXRRdWF0O1xyXG4gICAgfVxyXG4gICAgX3VwZGF0ZVNwcmluZ0JvbmVzKGR0KSB7XHJcbiAgICAgICAgLyogUHJlLWNvbXB1dGUgY29sbGlkZXIgcG9zaXRpb25zICovXHJcbiAgICAgICAgdGhpcy5fc3BoZXJlQ29sbGlkZXJzLmZvckVhY2goKHsgb2JqZWN0LCBzaGFwZSwgY2FjaGUgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB2ZWMzLmNvcHkoY2FjaGUuaGVhZCwgc2hhcGUub2Zmc2V0KTtcclxuICAgICAgICAgICAgb2JqZWN0LnRyYW5zZm9ybVZlY3RvcldvcmxkKG9mZnNldCk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKGNhY2hlLmhlYWQsIG9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWMyksIG9mZnNldCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fY2Fwc3VsZUNvbGxpZGVycy5mb3JFYWNoKCh7IG9iamVjdCwgc2hhcGUsIGNhY2hlIH0pID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVDZW50ZXIgPSBvYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjNBKTtcclxuICAgICAgICAgICAgY29uc3QgaGVhZE9mZnNldCA9IHZlYzMuY29weShjYWNoZS5oZWFkLCBzaGFwZS5vZmZzZXQpO1xyXG4gICAgICAgICAgICBvYmplY3QudHJhbnNmb3JtVmVjdG9yV29ybGQoaGVhZE9mZnNldCk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKGNhY2hlLmhlYWQsIHNoYXBlQ2VudGVyLCBoZWFkT2Zmc2V0KTtcclxuICAgICAgICAgICAgY29uc3QgdGFpbE9mZnNldCA9IHZlYzMuY29weShjYWNoZS50YWlsLCBzaGFwZS50YWlsKTtcclxuICAgICAgICAgICAgb2JqZWN0LnRyYW5zZm9ybVZlY3RvcldvcmxkKHRhaWxPZmZzZXQpO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChjYWNoZS50YWlsLCBzaGFwZUNlbnRlciwgdGFpbE9mZnNldCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyogVXBkYXRlIHNwcmluZyBjaGFpbnMgKi9cclxuICAgICAgICB0aGlzLl9zcHJpbmdDaGFpbnMuZm9yRWFjaCgoc3ByaW5nQ2hhaW4pID0+IHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcHJpbmdDaGFpbi5qb2ludHMubGVuZ3RoIC0gMTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBqb2ludCA9IHNwcmluZ0NoYWluLmpvaW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFdvcmxkUm90YXRpb24gPSBqb2ludC5ub2RlLnBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgID8gam9pbnQubm9kZS5wYXJlbnQucm90YXRpb25Xb3JsZFxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5faWRlbnRpdHlRdWF0O1xyXG4gICAgICAgICAgICAgICAgLyogMS4gRm9yY2VzICovXHJcbiAgICAgICAgICAgICAgICAvKiBpbmVydGlhID0gKGN1cnJlbnRUYWlsIC0gcHJldlRhaWwpICogKDEuMGYgLSBkcmFnRm9yY2UpOyAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWE7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByaW5nQ2hhaW4uY2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIoaW5lcnRpYSwgam9pbnQuc3RhdGUuY3VycmVudFRhaWxDZW50ZXIsIGpvaW50LnN0YXRlLnByZXZUYWlsQ2VudGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBzcHJpbmdDaGFpbi5jZW50ZXIudHJhbnNmb3JtVmVjdG9yV29ybGQoaW5lcnRpYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1YihpbmVydGlhLCBqb2ludC5zdGF0ZS5jdXJyZW50VGFpbCwgam9pbnQuc3RhdGUucHJldlRhaWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmVjMy5zY2FsZShpbmVydGlhLCBpbmVydGlhLCAxLjAgLSBqb2ludC5kcmFnRm9yY2UpO1xyXG4gICAgICAgICAgICAgICAgLyogc3RpZmZuZXNzID0gZGVsdGFUaW1lICogcGFyZW50V29ybGRSb3RhdGlvbiAqIGxvY2FsUm90YXRpb24gKiBib25lQXhpcyAqIHN0aWZmbmVzc0ZvcmNlOyAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RpZmZuZXNzID0gdmVjMy5jb3B5KHRoaXMuX3N0aWZmbmVzcywgam9pbnQuc3RhdGUuYm9uZUF4aXMpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KHN0aWZmbmVzcywgc3RpZmZuZXNzLCBqb2ludC5zdGF0ZS5pbml0aWFsTG9jYWxSb3RhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLnRyYW5zZm9ybVF1YXQoc3RpZmZuZXNzLCBzdGlmZm5lc3MsIHBhcmVudFdvcmxkUm90YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5zY2FsZShzdGlmZm5lc3MsIHN0aWZmbmVzcywgZHQgKiBqb2ludC5zdGlmZm5lc3MpO1xyXG4gICAgICAgICAgICAgICAgLyogZXh0ZXJuYWwgPSBkZWx0YVRpbWUgKiBncmF2aXR5RGlyICogZ3Jhdml0eVBvd2VyOyAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZXJuYWwgPSB2ZWMzLnNjYWxlKHRoaXMuX2V4dGVybmFsLCBqb2ludC5ncmF2aXR5RGlyLCBkdCAqIGpvaW50LmdyYXZpdHlQb3dlcik7XHJcbiAgICAgICAgICAgICAgICAvKiBuZXh0VGFpbCA9IGN1cnJlbnRUYWlsICsgaW5lcnRpYSArIHN0aWZmbmVzcyArIGV4dGVybmFsOyAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRhaWwgPSB2ZWMzLmNvcHkodGhpcy5fdGVtcFYzQSwgam9pbnQuc3RhdGUuY3VycmVudFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5hZGQobmV4dFRhaWwsIG5leHRUYWlsLCBpbmVydGlhKTtcclxuICAgICAgICAgICAgICAgIHZlYzMuYWRkKG5leHRUYWlsLCBuZXh0VGFpbCwgc3RpZmZuZXNzKTtcclxuICAgICAgICAgICAgICAgIHZlYzMuYWRkKG5leHRUYWlsLCBuZXh0VGFpbCwgZXh0ZXJuYWwpO1xyXG4gICAgICAgICAgICAgICAgLyogY29uc3RyYWluIHRoZSBsZW5ndGggKi9cclxuICAgICAgICAgICAgICAgIC8qIG5leHRUYWlsID0gd29ybGRQb3NpdGlvbiArIChuZXh0VGFpbCAtIHdvcmxkUG9zaXRpb24pLm5vcm1hbGl6ZWQgKiBib25lTGVuZ3RoOyAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd29ybGRQb3NpdGlvbiA9IGpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjNCKTtcclxuICAgICAgICAgICAgICAgIHZlYzMuc3ViKG5leHRUYWlsLCBuZXh0VGFpbCwgd29ybGRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShuZXh0VGFpbCwgbmV4dFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChuZXh0VGFpbCwgd29ybGRQb3NpdGlvbiwgbmV4dFRhaWwsIGpvaW50LnN0YXRlLmJvbmVMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgLyogMi4gQ29sbGlzaW9uIHdpdGggY29sbGlkZXJzICovXHJcbiAgICAgICAgICAgICAgICAvKiBTcGhlcmUgY29sbGlkZXJzICovXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHsgc2hhcGUsIGNhY2hlIH0gb2Ygc3ByaW5nQ2hhaW4uc3BoZXJlQ29sbGlkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhaWxUb1NoYXBlID0gdGhpcy5fdGFpbFRvU2hhcGU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BoZXJlQ2VudGVyID0gY2FjaGUuaGVhZDtcclxuICAgICAgICAgICAgICAgICAgICB0YWlsVG9TaGFwZSA9IHZlYzMuc3ViKHRhaWxUb1NoYXBlLCBuZXh0VGFpbCwgc3BoZXJlQ2VudGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWRpdXMgPSBzaGFwZS5yYWRpdXMgKyBqb2ludC5oaXRSYWRpdXM7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdCA9IHZlYzMubGVuZ3RoKHRhaWxUb1NoYXBlKSAtIHJhZGl1cztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdCA8IDAuMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0YWlsVG9TaGFwZSwgdGFpbFRvU2hhcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKG5leHRUYWlsLCBuZXh0VGFpbCwgdGFpbFRvU2hhcGUsIC1kaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyogY29uc3RyYWludCB0aGUgbGVuZ3RoICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKG5leHRUYWlsLCBuZXh0VGFpbCwgd29ybGRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG5leHRUYWlsLCBuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIHdvcmxkUG9zaXRpb24sIG5leHRUYWlsLCBqb2ludC5zdGF0ZS5ib25lTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBDYXBzdWxlIGNvbGxpZGVycyAqL1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB7IHNoYXBlLCBjYWNoZSB9IG9mIHNwcmluZ0NoYWluLmNhcHN1bGVDb2xsaWRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFpbFRvU2hhcGUgPSB0aGlzLl90YWlsVG9TaGFwZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkID0gY2FjaGUuaGVhZDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWlsID0gY2FjaGUudGFpbDtcclxuICAgICAgICAgICAgICAgICAgICAvKiBOYWl2ZWx5IHN0YXJ0IHdpdGggZGlzdGFuY2UgdG8gdGhlIGhlYWQgKi9cclxuICAgICAgICAgICAgICAgICAgICB0YWlsVG9TaGFwZSA9IHZlYzMuc3ViKHRhaWxUb1NoYXBlLCBuZXh0VGFpbCwgaGVhZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZFRvVGFpbCA9IHZlYzMuc3ViKHRoaXMuX2hlYWRUb1RhaWwsIHRhaWwsIGhlYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvdCA9IHZlYzMuZG90KGhlYWRUb1RhaWwsIHRhaWxUb1NoYXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmVjMy5zcXVhcmVkTGVuZ3RoKGhlYWRUb1RhaWwpIDw9IGRvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBDbG9zZXN0IHRvIHRhaWwgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIodGFpbFRvU2hhcGUsIG5leHRUYWlsLCB0YWlsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZG90ID4gMC4wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIENsb3Nlc3QgdG8gbWlkZGxlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGUoaGVhZFRvVGFpbCwgaGVhZFRvVGFpbCwgZG90IC8gdmVjMy5zcXVhcmVkTGVuZ3RoKGhlYWRUb1RhaWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIodGFpbFRvU2hhcGUsIHRhaWxUb1NoYXBlLCBoZWFkVG9UYWlsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gc2hhcGUucmFkaXVzICsgam9pbnQuaGl0UmFkaXVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3QgPSB2ZWMzLmxlbmd0aCh0YWlsVG9TaGFwZSkgLSByYWRpdXM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3QgPCAwLjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUodGFpbFRvU2hhcGUsIHRhaWxUb1NoYXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChuZXh0VGFpbCwgbmV4dFRhaWwsIHRhaWxUb1NoYXBlLCAtZGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGNvbnN0cmFpbnQgdGhlIGxlbmd0aCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1YihuZXh0VGFpbCwgbmV4dFRhaWwsIHdvcmxkUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShuZXh0VGFpbCwgbmV4dFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKG5leHRUYWlsLCB3b3JsZFBvc2l0aW9uLCBuZXh0VGFpbCwgam9pbnQuc3RhdGUuYm9uZUxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyogMy4gQXBwbHlpbmcgcm90YXRpb24gKi9cclxuICAgICAgICAgICAgICAgIHZlYzMuY29weShqb2ludC5zdGF0ZS5wcmV2VGFpbCwgam9pbnQuc3RhdGUuY3VycmVudFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5jb3B5KGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsLCBuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByaW5nQ2hhaW4uY2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5jb3B5KGpvaW50LnN0YXRlLnByZXZUYWlsQ2VudGVyLCBqb2ludC5zdGF0ZS5jdXJyZW50VGFpbENlbnRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5jb3B5KGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsQ2VudGVyLCBuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaW5nQ2hhaW4uY2VudGVyLnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsQ2VudGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIHRvID0gKG5leHRUYWlsICogKG5vZGUucGFyZW50LndvcmxkTWF0cml4ICogaW5pdGlhbExvY2FsTWF0cml4KS5pbnZlcnNlKS5ub3JtYWxpemVkICovXHJcbiAgICAgICAgICAgICAgICBqb2ludC5ub2RlLnBhcmVudC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZChuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFpbER1YWxRdWF0ID0gcXVhdDIuZnJvbVRyYW5zbGF0aW9uKHRoaXMuX3RlbXBRdWF0MiwgbmV4dFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgcXVhdDIubXVsdGlwbHkobmV4dFRhaWxEdWFsUXVhdCwgam9pbnQuc3RhdGUuaW5pdGlhbExvY2FsVHJhbnNmb3JtSW52ZXJ0LCBuZXh0VGFpbER1YWxRdWF0KTtcclxuICAgICAgICAgICAgICAgIHF1YXQyLmdldFRyYW5zbGF0aW9uKG5leHRUYWlsLCBuZXh0VGFpbER1YWxRdWF0KTtcclxuICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG5leHRUYWlsLCBuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICAvKiBub2RlLnJvdGF0aW9uID0gaW5pdGlhbExvY2FsUm90YXRpb24gKiBRdWF0ZXJuaW9uLmZyb21Ub1F1YXRlcm5pb24oYm9uZUF4aXMsIHRvKTsgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50Um90YXRpb24gPSBxdWF0LnJvdGF0aW9uVG8odGhpcy5fdGVtcFF1YXRBLCBqb2ludC5zdGF0ZS5ib25lQXhpcywgbmV4dFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgam9pbnQubm9kZS5yb3RhdGlvbkxvY2FsID0gcXVhdC5tdWwodGhpcy5fdGVtcFF1YXRBLCBqb2ludC5zdGF0ZS5pbml0aWFsTG9jYWxSb3RhdGlvbiwgam9pbnRSb3RhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmaXJzdFBlcnNvbiBXaGV0aGVyIHRoZSBtb2RlbCBzaG91bGQgcmVuZGVyIGZvciBmaXJzdCBwZXJzb24gb3IgdGhpcmQgcGVyc29uIHZpZXdzXHJcbiAgICAgKi9cclxuICAgIHNldCBmaXJzdFBlcnNvbihmaXJzdFBlcnNvbikge1xyXG4gICAgICAgIHRoaXMuX2ZpcnN0UGVyc29uQW5ub3RhdGlvbnMuZm9yRWFjaCgoYW5ub3RhdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlID0gZmlyc3RQZXJzb24gPT0gYW5ub3RhdGlvbi5maXJzdFBlcnNvbiB8fFxyXG4gICAgICAgICAgICAgICAgZmlyc3RQZXJzb24gIT0gYW5ub3RhdGlvbi50aGlyZFBlcnNvbjtcclxuICAgICAgICAgICAgYW5ub3RhdGlvbi5ub2RlLmdldENvbXBvbmVudHMoJ21lc2gnKS5mb3JFYWNoKChtZXNoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtZXNoLmFjdGl2ZSA9IHZpc2libGU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IFZybSB9O1xyXG4iLCAiLyoqXHJcbiAqIGdhbWUgYW5kIHN0YXRlIHRvZ2V0aGVyIGhvbGQgdGhlIHJhbmRvbSBmdW5jdGlvbnMgYW5kIGdhbWUgaW5mb3JtYXRpb24gdGhhdCBuZWVkcyB0byBiZSBhY2Nlc3NlZCBhY3Jvc3MgdGhlIGZpbGUuXHJcbiAqIHVwZGF0ZSBpdCB3aGVuZXZlciB5b3UgbmVlZCB0byBhZGQgc29tZXRoaW5nIGF0IGFnYW1lIGxldmVsXHJcbiAqL1xyXG4vLyBHbG9iYWwgVE9ET1xyXG4vLyBNdXNpYy9zb3VuZCAtIFJvblxyXG4vLyBFeHRyYSB0eXBlcyBvZiB0b3dlcnMgLSBIaWV1XHJcbi8vIEVuZW15IHR5cGVzIC0gU2F1bFxyXG4vLyBGbHlpbmcgZW5lbXlcclxuLy8gQm9zcyBtb25zdGVyLyBzZWlnZSB3ZWFwb25cclxuLy8gSGlnaCBTY29yZVxyXG4vLyB0ZXJyYWluIGNvbGxpc2lvblxyXG4vLyBUdXJyZXRzIHNwYXduIGF0IGN1cnNvciBpbnN0ZWFkIG9mIHdoZXJlIHBsYXllciBpcyBzdGFuZGluZ1xyXG4vLyBPZmYgbGltaXQgYnVpbGRpbmcgcGF0aHNcclxuLy8gU2VlIHRocm91Z2gvc2VtaSB0cmFuc3BhcmVudCBodWRcclxuLy8gRml4IGFuaW1hdGlvblxyXG4vLyBTeW5jIGRheS9uaWdodCB3aXRoIGxldmVsIGFuZCBzdW4vbW9vblxyXG5cclxuaW1wb3J0IHsgQnV0dG9uRnVuY3Rpb25zIH0gZnJvbSAnLi9idXR0b24tZnVuY3Rpb25zJztcclxuXHJcbi8vIG9uSE92ZXI/ICBjdXJzb3IgaG92ZXIgZm9yIHVwZ3JhZGUgZGV0YWlscyBmb3IgaW5kaXZpZHVhbCB0b3dlcnM/XHJcbi8vIGFsdGVybmF0aXZlbHksXHJcbmV4cG9ydCBjb25zdCBzdGF0ZSA9IHtcclxuICBFbmVteVNwYXduZXI6IFtdLFxyXG4gIC8vdGhpcyBpcyB0aGUgZnVuY3Rpb24gdGhhdCBzcGF3bnMgZW5lbWVpZXNcclxuICBzcGF3bjogbnVsbCxcclxuICBzcGF3bmVkRW5lbWllczogMCxcclxuICBjdXJyZW50RW5lbWllczogW10sXHJcbiAgbWF4RW5lbWllczogMTUsXHJcbiAgZW5lbWllc0Rlc3Ryb3llZDogMCxcclxuXHJcbiAgaGVhbHRoOiAxMDAsXHJcbiAgZ2V0SGVhbHRoOiBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5oZWFsdGgudG9TdHJpbmcoKTtcclxuICB9LFxyXG4gIGdldEN1cnJlbmN5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXJyZW5jeS50b1N0cmluZygpO1xyXG4gIH0sXHJcblxyXG4gIHR1cnJldFNwYXduZXI6IFtdLFxyXG4gIHR1cnJldHM6IFtdLFxyXG4gIGJ1aWxkVDogbnVsbCxcclxuICBzcGF3bmVkVHVycmV0czogMCxcclxuICBtYXhUdXJyZXRzOiAxMCxcclxuICBjdXJyZW5jeTogNTAsXHJcblxyXG4gIG5lZWRzVXBkYXRlOiBmYWxzZSxcclxuICBnYW1lT3ZlcjogZmFsc2UsXHJcbiAgc2VsZWN0ZWRUdXJyZXQ6ICdwb2lzb24nLFxyXG4gIHNoaXBIaXQ6IG51bGwsXHJcbiAgYnVpbGRUaW1lOiAxNSxcclxuXHJcbiAgbGV2ZWxVcDogbnVsbCxcclxuICBkYXk6IHRydWUsXHJcbiAgcGF1c2VFbmVtaWVzOiB0cnVlLFxyXG4gIHBhdXNlQnVpbGRpbmc6IGZhbHNlLFxyXG4gIGJ1dHRvbkZ1bmN0aW9uczogW1xyXG4gICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICBzdGF0ZS5jdXJyZW5jeSAtPSBzdGF0ZS5hdHRhY2tEYW1hZ2Vjb3N0O1xyXG4gICAgICBzdGF0ZS5hdHRhY2tEYW1hZ2Vjb3N0ICs9IDUwO1xyXG4gICAgICBzdGF0ZS5hdHRhY2tEYW1hZ2UgKz0gMTA7XHJcbiAgICAgIHN0YXRlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgcmV0dXJuICdBVFRBQ0sgREFNQUdFIFVQR1JBREVcXG4nICsgc3RhdGUuYXR0YWNrRGFtYWdlY29zdC50b1N0cmluZygpO1xyXG4gICAgfSxcclxuICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuICdUVVJSRVQgUkFOR0UgVVBHUkFERVxcbicgKyBzdGF0ZS5hdHRhY2tSYW5nZUNvc3QudG9TdHJpbmcoKTtcclxuICAgIH0sXHJcbiAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiAnQVRUQUNLIFNQRUVEIFVQR1JBREVcXG4nICsgc3RhdGUuYXR0YWNrU3BlZWRDb3N0KCk7XHJcbiAgICB9LFxyXG4gICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gJ1BST0ZJVCBVUEdSQURFXFxuJyArIHN0YXRlLnByb2ZpdFVwQ29zdC50b1N0cmluZygpO1xyXG4gICAgfSxcclxuICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuICdTSElQIEhFQUxUSCBVUEdSQURFXFxuJyArIHN0YXRlLmhlYWx0aFVwQ29zdC50b1N0cmluZygpO1xyXG4gICAgfSxcclxuICBdLFxyXG4gIGF0dGFja0RhbWFnZWNvc3Q6IDUwLFxyXG4gIGF0dGFja1JhbmdlQ29zdDogNTAsXHJcbiAgYXR0YWNrU3BlZWRDb3N0OiA1MCxcclxuICBwcm9maXRVcENvc3Q6IDUwLFxyXG4gIGhlYWx0aFVwQ29zdDogNTAsXHJcblxyXG4gIGF0dGFja0RhbWFnZTogMTAsXHJcbiAgYXR0YWNrUmFuZ2U6IDEwLFxyXG4gIGF0dGFja1NwZWVkOiAxMCxcclxuICBwcm9maXRVcDogMTAsXHJcbiAgaGVhbHRoVXA6IDEwLFxyXG5cclxuICBkZWZhdWx0VHVycmV0M0Q6IG51bGwsXHJcbiAgcG9pc29uVHVycmV0M0Q6IG51bGwsXHJcbn07XHJcbiIsICJpbXBvcnQge0NvbXBvbmVudCwgUHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSAnLi9nYW1lJztcclxuXHJcbi8qKlxyXG4gKiBidXR0b24tZnVuY3Rpb25zXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQnV0dG9uRnVuY3Rpb25zIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdidXR0b24tZnVuY3Rpb25zJztcclxuICAgIC8qIFByb3BlcnRpZXMgdGhhdCBhcmUgY29uZmlndXJhYmxlIGluIHRoZSBlZGl0b3IgKi9cclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIHBhcmFtOiBQcm9wZXJ0eS5mbG9hdCgxLjApXHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXJ0KCkge1xyXG5cclxuICAgICAgICBzdGF0ZS5idXR0b25GdW5jdGlvbnMucHVzaChmdW5jdGlvbigpIHsgc3RhdGUuZGFtYWdlKz0gNTAsIHN0YXRlLmN1cnJlbmN5IC09IDEwLCBzdGF0ZS5sb2coXCJkYW1hZ2UgaW5jcmVhc2VkIGJ5IDUwXCIpOyBzdGF0ZS5uZWVkc1VwZGF0ZSA9IHRydWU7IH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmJ1dHRvbkZ1bmN0aW9ucyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIC8qIENhbGxlZCBldmVyeSBmcmFtZS4gKi9cclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgdmVjMyB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSBcIi4vLi4vLi4vLi4vLi4vanMvZ2FtZVwiO1xyXG5jb25zdCBfZGlyZWN0aW9uID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuLyoqXHJcbiAqIEJhc2ljIG1vdmVtZW50IHdpdGggVy9BL1MvRCBrZXlzLlxyXG4gKi9cclxuY2xhc3MgV2FzZENvbnRyb2xzQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd3YXNkLWNvbnRyb2xzJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBNb3ZlbWVudCBzcGVlZCBpbiBtL3MuICovXHJcbiAgICAgICAgc3BlZWQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC4xIH0sXHJcbiAgICAgICAgLyoqIEZsYWcgZm9yIG9ubHkgbW92aW5nIHRoZSBvYmplY3Qgb24gdGhlIGdsb2JhbCB4ICYgeiBwbGFuZXMgKi9cclxuICAgICAgICBsb2NrWTogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgICAgICAgLyoqIE9iamVjdCBvZiB3aGljaCB0aGUgb3JpZW50YXRpb24gaXMgdXNlZCB0byBkZXRlcm1pbmUgZm9yd2FyZCBkaXJlY3Rpb24gKi9cclxuICAgICAgICBoZWFkT2JqZWN0OiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXHJcbiAgICB9O1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnVwID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yaWdodCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGVmdCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3Bhd20gPSBmYWxzZTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMucHJlc3MuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZWxlYXNlLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5oZWFkT2JqZWN0ID0gdGhpcy5oZWFkT2JqZWN0IHx8IHRoaXMub2JqZWN0O1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHZlYzMuemVybyhfZGlyZWN0aW9uKTtcclxuICAgICAgICBpZiAodGhpcy51cClcclxuICAgICAgICAgICAgX2RpcmVjdGlvblsyXSAtPSAxLjA7XHJcbiAgICAgICAgaWYgKHRoaXMuZG93bilcclxuICAgICAgICAgICAgX2RpcmVjdGlvblsyXSArPSAxLjA7XHJcbiAgICAgICAgaWYgKHRoaXMubGVmdClcclxuICAgICAgICAgICAgX2RpcmVjdGlvblswXSAtPSAxLjA7XHJcbiAgICAgICAgaWYgKHRoaXMucmlnaHQpXHJcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMF0gKz0gMS4wO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKF9kaXJlY3Rpb24sIF9kaXJlY3Rpb24pO1xyXG4gICAgICAgIF9kaXJlY3Rpb25bMF0gKj0gdGhpcy5zcGVlZDtcclxuICAgICAgICBfZGlyZWN0aW9uWzJdICo9IHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KF9kaXJlY3Rpb24sIF9kaXJlY3Rpb24sIHRoaXMuaGVhZE9iamVjdC50cmFuc2Zvcm1Xb3JsZCk7XHJcbiAgICAgICAgaWYgKHRoaXMubG9ja1kpIHtcclxuICAgICAgICAgICAgX2RpcmVjdGlvblsxXSA9IDA7XHJcbiAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKF9kaXJlY3Rpb24sIF9kaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB2ZWMzLnNjYWxlKF9kaXJlY3Rpb24sIF9kaXJlY3Rpb24sIHRoaXMuc3BlZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGVMb2NhbChfZGlyZWN0aW9uKTtcclxuICAgIH1cclxuICAgIHByZXNzKGUpIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCAvKiB1cCAqLyB8fFxyXG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IDg3IC8qIHcgKi8gfHxcclxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA5MCAvKiB6ICovKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXAgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM5IC8qIHJpZ2h0ICovIHx8IGUua2V5Q29kZSA9PT0gNjggLyogZCAqLykge1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSA0MCAvKiBkb3duICovIHx8IGUua2V5Q29kZSA9PT0gODMgLyogcyAqLykge1xyXG4gICAgICAgICAgICB0aGlzLmRvd24gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3IC8qIGxlZnQgKi8gfHxcclxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA2NSAvKiBhICovIHx8XHJcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gODEgLyogcSAqLykge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDY5KSB7XHJcbiAgICAgICAgICAgIHN0YXRlLmJ1aWxkVCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDQ5KSB7XHJcbiAgICAgICAgICAgIHN0YXRlLnNlbGVjdGVkVHVycmV0ID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNTApIHtcclxuICAgICAgICAgICAgc3RhdGUuc2VsZWN0ZWRUdXJyZXQgPSBcInBvaXNvblwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICByZWxlYXNlKGUpIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCAvKiB1cCAqLyB8fFxyXG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IDg3IC8qIHcgKi8gfHxcclxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA5MCAvKiB6ICovKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXAgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzOSAvKiByaWdodCAqLyB8fCBlLmtleUNvZGUgPT09IDY4IC8qIGQgKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5yaWdodCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDQwIC8qIGRvd24gKi8gfHwgZS5rZXlDb2RlID09PSA4MyAvKiBzICovKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG93biA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3IC8qIGxlZnQgKi8gfHxcclxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA2NSAvKiBhICovIHx8XHJcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gODEgLyogcSAqLykge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgV2FzZENvbnRyb2xzQ29tcG9uZW50IH07XHJcbiIsICJpbXBvcnQgeyBUZXh0dXJlLCBPYmplY3QzRCB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcclxuaW1wb3J0IHsgdmVjMywgcXVhdCB9IGZyb20gXCJnbC1tYXRyaXhcIjtcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcblxyXG5cclxuLy8gVGhpcyBpcyB0aGUgY29kZSBTaGFyaWFoYXIgcHJvdmlkZWQgZm9yIHRoZSBVSSBpbnRlcmZhY2UgYWxvbmcgd2l0aCB0aGUgIHVpSGFuZGxlciBqcy4gVGhpcyBjb2RlIGlzIGEgY29tcGxpY2F0ZWRjIGNvbmZ1c2luZyBtZXNzIGFuZCBJIHdvdWxkIGF2b2lkIHRvdWNoaW5nIGl0IFxyXG4vLyB1bmxlc3MgYWJzb2x1dGVseSBuZWNlc3NhcnlcclxuXHJcblxyXG5jbGFzcyBDYW52YXNLZXlib2FyZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgY2FudmFzdWksIGxhbmcgPSBcIkVOXCIpIHtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLmdldENvbmZpZyhsYW5nKTtcclxuICAgICAgICBjb25maWcucGFuZWxTaXplID0geyB3aWR0aCwgaGVpZ2h0OiB3aWR0aCAqIDAuNSB9O1xyXG4gICAgICAgIGNvbmZpZy5oZWlnaHQgPSAyNTY7XHJcbiAgICAgICAgY29uZmlnLmJvZHkgPSB7IGJhY2tncm91bmRDb2xvcjogXCIjNTU1XCIgfTtcclxuICAgICAgICBjb25zdCBvYmplY3QgPSBXTC5zY2VuZS5hZGRPYmplY3QoKTtcclxuICAgICAgICBvYmplY3QubmFtZSA9ICdrZXlib2FyZCc7XHJcbiAgICAgICAgY29uc3QgbWVzaCA9IG9iamVjdC5hZGRDb21wb25lbnQoJ21lc2gnKTtcclxuICAgICAgICBjb25zdCB1aW1lc2ggPSBjYW52YXN1aS5vYmplY3QuZ2V0Q29tcG9uZW50KCdtZXNoJyk7XHJcbiAgICAgICAgbWVzaC5tZXNoID0gdWltZXNoLm1lc2g7XHJcbiAgICAgICAgbWVzaC5tYXRlcmlhbCA9IHVpbWVzaC5tYXRlcmlhbC5jbG9uZSgpO1xyXG4gICAgICAgIG9iamVjdC5hZGRDb21wb25lbnQoJ2N1cnNvci10YXJnZXQnKTtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5nZXRDb250ZW50KGxhbmcpO1xyXG4gICAgICAgIHRoaXMua2V5Ym9hcmQgPSBuZXcgQ2FudmFzVUkoY29udGVudCwgY29uZmlnLCBvYmplY3QsIGNhbnZhc3VpLmVuZ2luZSk7XHJcbiAgICAgICAgdGhpcy50bXBWZWMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMuaHAgPSBzdGF0ZS50ZXN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG9iamVjdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5rZXlib2FyZC5vYmplY3Q7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29uZmlnKGxhbmcpIHtcclxuICAgICAgICAvL0VOXHJcbiAgICAgICAgLy9rZXlzXHJcbiAgICAgICAgLy9xd2VydHl1aW9wIC0gMTAgc3F1YXJlIC0gYnRuMC1idG45XHJcbiAgICAgICAgLy9hc2RmZ2hqa2xAIC0gMTAgc3F1YXJlIGJ1dHRvbnMgLSBidG4xMC1idG4xOVxyXG4gICAgICAgIC8vXnp4Y3Zibm08IC0gMS41IHNoaWZ0LDcgc3F1YXJlLDEuNSBiYWNrc3BhY2UgLSBidG4yMC1idG4yOFxyXG4gICAgICAgIC8vWz8xMjNdLHNwYWNlLltFbnRlcl0gLSAyLDEsNCwxLDIgLSBidG4zMC1idG4zNFxyXG4gICAgICAgIC8va2V5cyBzaGlmdGVkXHJcbiAgICAgICAgLy9RV0VSVFlVSU9QIC0gMTAgc3F1YXJlIFxyXG4gICAgICAgIC8vQVNERkdISktMQCAtIDEwIHNxdWFyZSBidXR0b25zXHJcbiAgICAgICAgLy9eWlhDVkJOTTwgLSAxLjUgc2hpZnQsNyBzcXVhcmUsMS41IGJhY2tzcGFjZVxyXG4gICAgICAgIC8vWz8xMjNdLHNwYWNlLltFbnRlcl0gLSAyLDEsNCwxLDJcclxuICAgICAgICAvL251bWJlcnNcclxuICAgICAgICAvLzEyMzQ1Njc4OTAgLSAxMCBzcXVhcmVcclxuICAgICAgICAvL0AjJSYqLy0rKCkgLSAxMCBzcVxyXG4gICAgICAgIC8vXj8hXCInXFw6OzwgLSAxLjUgc2hpZnQsNyBzcXVhcmUsMS41IGJhY2tzcGFjZVxyXG4gICAgICAgIC8vW0FCQ10sc3BhY2UuW0VudGVyXSAtIDIsMSw0LDEsMlxyXG4gICAgICAgIC8vbnVtYmVycyBzaGlmdGVkXHJcbiAgICAgICAgLy8xMjM0NTY3ODkwIC0gMTAgc3F1YXJlXHJcbiAgICAgICAgLy9cdTIwQUNcdTAwQTMkXj18e31bXSAtIDEwIHNxXHJcbiAgICAgICAgLy9ePD5fYH46OzwgLSAxLjUgc2hpZnQsNyBzcXVhcmUsMS41IGJhY2tzcGFjZVxyXG4gICAgICAgIC8vW0FCQ10sc3BhY2UuW0VudGVyXSAtIDIsMSw0LDEsMlxyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHt9O1xyXG4gICAgICAgIGxldCBwYWRkaW5nID0gMTA7XHJcbiAgICAgICAgY29uc3QgcGFkZGluZ1RvcCA9IDIwO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gKCg1MTIgLSAyICogcGFkZGluZykgLyAxMCkgLSBwYWRkaW5nO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9ICgoMjU2IC0gMiAqIHBhZGRpbmcpIC8gNCkgLSBwYWRkaW5nO1xyXG4gICAgICAgIGNvbnN0IGhvdmVyID0gXCIjMzMzXCI7XHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZENvbG9yID0gXCIjMDAwXCI7XHJcbiAgICAgICAgLy9Ub3Agcm93XHJcbiAgICAgICAgbGV0IHkgPSBwYWRkaW5nO1xyXG4gICAgICAgIGxldCB4ID0gcGFkZGluZztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgYnRuID0geyB0eXBlOiBcImJ1dHRvblwiLCBwb3NpdGlvbjogeyB4LCB5IH0sIHdpZHRoLCBoZWlnaHQsIHBhZGRpbmcsIHBhZGRpbmdUb3AsIGJhY2tncm91bmRDb2xvciwgYm9yZGVyUmFkaXVzOiA2LCBob3Zlciwgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QuYmluZCh0aGlzLCBpKSB9XHJcbiAgICAgICAgICAgIGNvbmZpZ1tgYnRuJHtpfWBdID0gYnRuO1xyXG4gICAgICAgICAgICB4ICs9ICh3aWR0aCArIHBhZGRpbmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLzJuZCByb3dcclxuICAgICAgICB5ICs9IChoZWlnaHQgKyBwYWRkaW5nKTtcclxuICAgICAgICB4ID0gcGFkZGluZztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgYnRuID0geyB0eXBlOiBcImJ1dHRvblwiLCBwb3NpdGlvbjogeyB4LCB5IH0sIHdpZHRoLCBoZWlnaHQsIHBhZGRpbmcsIHBhZGRpbmdUb3AsIGJhY2tncm91bmRDb2xvciwgYm9yZGVyUmFkaXVzOiA2LCBob3Zlciwgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QuYmluZCh0aGlzLCBpICsgMTApIH1cclxuICAgICAgICAgICAgY29uZmlnW2BidG4ke2kgKyAxMH1gXSA9IGJ0bjtcclxuICAgICAgICAgICAgeCArPSAod2lkdGggKyBwYWRkaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8zcmQgcm93XHJcbiAgICAgICAgeSArPSAoaGVpZ2h0ICsgcGFkZGluZyk7XHJcbiAgICAgICAgeCA9IHBhZGRpbmc7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdyA9IChpID09IDAgfHwgaSA9PSA4KSA/ICh3aWR0aCAqIDEuNSArIHBhZGRpbmcgKiAwLjUpIDogd2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ0biA9IHsgdHlwZTogXCJidXR0b25cIiwgcG9zaXRpb246IHsgeCwgeSB9LCB3aWR0aDogdywgaGVpZ2h0LCBwYWRkaW5nLCBwYWRkaW5nVG9wLCBiYWNrZ3JvdW5kQ29sb3IsIGJvcmRlclJhZGl1czogNiwgaG92ZXIsIG9uU2VsZWN0OiB0aGlzLm9uU2VsZWN0LmJpbmQodGhpcywgaSArIDIwKSB9O1xyXG4gICAgICAgICAgICBjb25maWdbYGJ0biR7aSArIDIwfWBdID0gYnRuO1xyXG4gICAgICAgICAgICB4ICs9ICh3ICsgcGFkZGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vNHJkIHJvd1xyXG4gICAgICAgIHkgKz0gKGhlaWdodCArIHBhZGRpbmcpO1xyXG4gICAgICAgIHggPSBwYWRkaW5nO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHcgPSAoaSA9PSAwIHx8IGkgPT0gNCkgPyAod2lkdGggKiAyICsgcGFkZGluZykgOiAoaSA9PSAyKSA/ICh3aWR0aCAqIDQgKyAzICogcGFkZGluZykgOiB3aWR0aDtcclxuICAgICAgICAgICAgY29uc3QgYnRuID0geyB0eXBlOiBcImJ1dHRvblwiLCBwb3NpdGlvbjogeyB4LCB5IH0sIHdpZHRoOiB3LCBoZWlnaHQsIHBhZGRpbmcsIHBhZGRpbmdUb3AsIGJhY2tncm91bmRDb2xvciwgYm9yZGVyUmFkaXVzOiA2LCBob3Zlciwgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QuYmluZCh0aGlzLCBpICsgMzApIH07XHJcbiAgICAgICAgICAgIGlmIChpID09IDApIGJ0bi5mb250U2l6ZSA9IDIwO1xyXG4gICAgICAgICAgICBjb25maWdbYGJ0biR7aSArIDMwfWBdID0gYnRuO1xyXG4gICAgICAgICAgICB4ICs9ICh3ICsgcGFkZGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29udGVudChsYW5nLCBsYXlvdXRJbmRleCA9IDApIHtcclxuICAgICAgICBsZXQgY29udGVudCA9IHt9O1xyXG4gICAgICAgIGxldCBrZXlzO1xyXG5cclxuICAgICAgICB0aGlzLmxhbmd1YWdlID0gbGFuZztcclxuICAgICAgICB0aGlzLmtleWJvYXJkSW5kZXggPSBsYXlvdXRJbmRleDtcclxuXHJcbiAgICAgICAgc3dpdGNoIChsYXlvdXRJbmRleCkge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAvL0VOXHJcbiAgICAgICAgICAgICAgICAvL2tleXNcclxuICAgICAgICAgICAgICAgIC8vcXdlcnR5dWlvcCAtIDEwIHNxdWFyZSAtIGJ0bjAtYnRuOVxyXG4gICAgICAgICAgICAgICAgLy9hc2RmZ2hqa2xAIC0gMTAgc3F1YXJlIGJ1dHRvbnMgLSBidG4xMC1idG4xOVxyXG4gICAgICAgICAgICAgICAgLy9eenhjdmJubTwgLSAxLjUgc2hpZnQsNyBzcXVhcmUsMS41IGJhY2tzcGFjZSAtIGJ0bjIwLWJ0bjI4XHJcbiAgICAgICAgICAgICAgICAvL1s/MTIzXSxzcGFjZS5bRW50ZXJdIC0gMS41LDEsNCwxLDEuNSAtIGJ0bjMwLWJ0bjM0XHJcbiAgICAgICAgICAgICAgICBrZXlzID0gWydxJywgJ3cnLCAnZScsICdyJywgJ3QnLCAneScsICd1JywgJ2knLCAnbycsICdwJyxcclxuICAgICAgICAgICAgICAgICAgICAnYScsICdzJywgJ2QnLCAnZicsICdnJywgJ2gnLCAnaicsICdrJywgJ2wnLCAnQCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1x1MjFFNycsICd6JywgJ3gnLCAnYycsICd2JywgJ2InLCAnbicsICdtJywgJ1x1MjFFNicsICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICc/MTIzJywgJywnLCAnICAgJywgJy4nLCAnXHUyMUIyJ107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICcnKSBjb250ZW50W2BidG4ke2l9YF0gPSBrZXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgLy9rZXlzIHNoaWZ0ZWRcclxuICAgICAgICAgICAgICAgIC8vUVdFUlRZVUlPUCAtIDEwIHNxdWFyZSBcclxuICAgICAgICAgICAgICAgIC8vQVNERkdISktMQCAtIDEwIHNxdWFyZSBidXR0b25zXHJcbiAgICAgICAgICAgICAgICAvL15aWENWQk5NPCAtIDEuNSBzaGlmdCw3IHNxdWFyZSwxLjUgYmFja3NwYWNlXHJcbiAgICAgICAgICAgICAgICAvL1s/MTIzXSxzcGFjZS5bRW50ZXJdIC0gMS41LDEsNCwxLDEuNVxyXG4gICAgICAgICAgICAgICAga2V5cyA9IFsnUScsICdXJywgJ0UnLCAnUicsICdUJywgJ1knLCAnVScsICdJJywgJ08nLCAnUCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0EnLCAnUycsICdEJywgJ0YnLCAnRycsICdIJywgJ0onLCAnSycsICdMJywgJ0AnLFxyXG4gICAgICAgICAgICAgICAgICAgICdcdTIxRTcnLCAnWicsICdYJywgJ0MnLCAnVicsICdCJywgJ04nLCAnTScsICdcdTIxRTYnLCAnJyxcclxuICAgICAgICAgICAgICAgICAgICAnPzEyMycsICcsJywgJyAgICcsICcuJywgJ1x1MjFCMiddO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnJykgY29udGVudFtgYnRuJHtpfWBdID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIC8vbnVtYmVyc1xyXG4gICAgICAgICAgICAgICAgLy8xMjM0NTY3ODkwIC0gMTAgc3F1YXJlXHJcbiAgICAgICAgICAgICAgICAvL0AjJSYqLy0rKCkgLSAxMCBzcVxyXG4gICAgICAgICAgICAgICAgLy9ePyFcIidcXDo7PCAtIDEuNSBzaGlmdCw3IHNxdWFyZSwxLjUgYmFja3NwYWNlXHJcbiAgICAgICAgICAgICAgICAvL1tBQkNdLHNwYWNlLltFbnRlcl0gLSAxLjUsMSw0LDEsMS41XHJcbiAgICAgICAgICAgICAgICBrZXlzID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcwJyxcclxuICAgICAgICAgICAgICAgICAgICAnQCcsICcjJywgJyUnLCAnJicsICcqJywgJy8nLCAnLScsICcrJywgJygnLCAnKScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1x1MjFFNycsICc/JywgJyEnLCAnXCInLCAnXFwnJywgJ1xcXFwnLCAnOicsICc7JywgJ1x1MjFFNicsICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICdhYmMnLCAnLCcsICcgICAnLCAnLicsICdcdTIxQjInXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJycpIGNvbnRlbnRbYGJ0biR7aX1gXSA9IGtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAvL251bWJlcnMgc2hpZnRlZFxyXG4gICAgICAgICAgICAgICAgLy8xMjM0NTY3ODkwIC0gMTAgc3F1YXJlXHJcbiAgICAgICAgICAgICAgICAvL1x1MjBBQ1x1MDBBMyRePXx7fVtdIC0gMTAgc3FcclxuICAgICAgICAgICAgICAgIC8vXjw+X2B+Ojs8IC0gMS41IHNoaWZ0LDcgc3F1YXJlLDEuNSBiYWNrc3BhY2VcclxuICAgICAgICAgICAgICAgIC8vW0FCQ10sc3BhY2UuW0VudGVyXSAtIDEuNSwxLDUsMSwxLjVcclxuICAgICAgICAgICAgICAgIGtleXMgPSBbJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJzAnLFxyXG4gICAgICAgICAgICAgICAgICAgICdcdTIwQUMnLCAnXHUwMEEzJywgJyQnLCAnXicsICc9JywgJ3wnLCAneycsICd9JywgJ1snLCAnfScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1x1MjFFNycsICc8JywgJz4nLCAnXycsICdgJywgJ34nLCAnOicsICc7JywgJ1x1MjFFNicsICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICdhYmMnLCAnLCcsICcgICAnLCAnLicsICdcdTIxQjInXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJycpIGNvbnRlbnRbYGJ0biR7aX1gXSA9IGtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBvc2l0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMua2V5Ym9hcmQub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy50bXBWZWMpO1xyXG4gICAgICAgIHJldHVybiBwb3M7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBvc2l0aW9uTG9jYWwoKSB7XHJcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5rZXlib2FyZC5vYmplY3QuZ2V0VHJhbnNsYXRpb25Mb2NhbCh0aGlzLnRtcFZlYyk7XHJcbiAgICAgICAgcmV0dXJuIHBvcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmlzaWJsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZpc2libGUodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmtleWJvYXJkLm9iamVjdC5hY3RpdmUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEtleWJvYXJkKGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5rZXlib2FyZC5jb250ZW50ID0gdGhpcy5nZXRDb250ZW50KHRoaXMubGFuZ3VhZ2UsIGluZGV4KTtcclxuICAgICAgICB0aGlzLmtleWJvYXJkLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBvblNlbGVjdChpbmRleCkge1xyXG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlKSByZXR1cm5cclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyggYENhbnZhc0tleWJvYXJkIG9uU2VsZWN0OiBrZXkgaW5kZXggJHtpbmRleH1gKTtcclxuICAgICAgICBsZXQgY2hhbmdlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoaW5kZXgpIHtcclxuICAgICAgICAgICAgY2FzZSAzNDovL0VudGVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxpbmtlZEVsZW1lbnQub25FbnRlcikgdGhpcy5saW5rZWRFbGVtZW50Lm9uRW50ZXIodGhpcy5saW5rZWRUZXh0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDMyOi8vc3BhY2VcclxuICAgICAgICAgICAgICAgIHRoaXMubGlua2VkVGV4dCArPSAnICc7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzA6Ly9zd2l0Y2gga2V5Ym9hcmRcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hpZnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmtleWJvYXJkSW5kZXggPCAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRLZXlib2FyZCgyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRLZXlib2FyZCgwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjg6Ly9iYWNrc3BhY2VcclxuICAgICAgICAgICAgICAgIHRoaXMubGlua2VkVGV4dCA9IHRoaXMubGlua2VkVGV4dC5zdWJzdHJpbmcoMCwgdGhpcy5saW5rZWRUZXh0Lmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDIwOi8vc2hpZnRcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hpZnQgPSAhdGhpcy5zaGlmdDtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmtleWJvYXJkSW5kZXggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0S2V5Ym9hcmQoMSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMua2V5Ym9hcmRJbmRleCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRLZXlib2FyZCgwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5rZXlib2FyZEluZGV4ID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEtleWJvYXJkKDMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmtleWJvYXJkSW5kZXggPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0S2V5Ym9hcmQoMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHR4dCA9IHRoaXMua2V5Ym9hcmQuY29udGVudFtgYnRuJHtpbmRleH1gXTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlua2VkVGV4dCArPSB0eHQ7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmRJbmRleCA9PSAxKSB0aGlzLnNldEtleWJvYXJkKDApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlua2VkVUkudXBkYXRlRWxlbWVudCh0aGlzLmxpbmtlZE5hbWUsIHRoaXMubGlua2VkVGV4dCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxpbmtlZEVsZW1lbnQub25DaGFuZ2VkKSB0aGlzLmxpbmtlZEVsZW1lbnQub25DaGFuZ2VkKHRoaXMubGlua2VkVGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5rZXlib2FyZCkge1xyXG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qQW4gZWxlbWVudCBpcyBkZWZpbmVkIGJ5IFxyXG50eXBlOiB0ZXh0IHwgYnV0dG9uIHwgaW1hZ2UgfCBzaGFwZVxyXG5ob3ZlcjogaGV4XHJcbmFjdGl2ZTogaGV4XHJcbnBvc2l0aW9uOiB4LCB5LCBsZWZ0LCByaWdodCwgdG9wLCBib3R0b21cclxud2lkdGg6IHBpeGVscywgd2lsbCBpbmhlcml0IGZyb20gYm9keSBpZiBtaXNzaW5nXHJcbmhlaWdodDogcGl4ZWxzLCB3aWxsIGluaGVyaXQgZnJvbSBib2R5IGlmIG1pc3Npbmdcclxub3ZlcmZsb3c6IGZpdCB8IHNjcm9sbCB8IGhpZGRlblxyXG50ZXh0QWxpZ246IGNlbnRlciB8IGxlZnQgfCByaWdodFxyXG5mb250U2l6ZTogcGl4ZWxzXHJcbmZvbnRDb2xvcjogaGV4XHJcbmZvbnRGYW1pbHk6IHN0cmluZ1xyXG5wYWRkaW5nOiBwaXhlbHNcclxuYmFja2dyb3VuZENvbG9yOiBoZXhcclxuYm9yZGVyUmFkaXVzOiBwaXhlbHNcclxuY2xpcFBhdGg6IHN2ZyBwYXRoXHJcbmJvcmRlcjogd2lkdGggY29sb3Igc3R5bGVcclxuKi9cclxuY2xhc3MgQ2FudmFzVUkge1xyXG4gICAgY29uc3RydWN0b3IoY29udGVudCwgY29uZmlnLCBvYmplY3QsIGVuZ2luZSkge1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRjb25maWcgPSB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MTIsXHJcbiAgICAgICAgICAgIGhlaWdodDogNTEyLFxyXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjcsXHJcbiAgICAgICAgICAgIGJvZHk6IHtcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMTAwLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMjAsXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwJyxcclxuICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogJyNmZmYnLFxyXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA2XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSAoY29uZmlnID09PSB1bmRlZmluZWQpID8gZGVmYXVsdGNvbmZpZyA6IGNvbmZpZztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLndpZHRoID09PSB1bmRlZmluZWQpIHRoaXMuY29uZmlnLndpZHRoID0gNTEyO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5oZWlnaHQgPT09IHVuZGVmaW5lZCkgdGhpcy5jb25maWcuaGVpZ2h0ID0gNTEyO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5ib2R5ID09PSB1bmRlZmluZWQpIHRoaXMuY29uZmlnLmJvZHkgPSB7IGZvbnRGYW1pbHk6ICdBcmlhbCcsIHNpemU6IDMwLCBwYWRkaW5nOiAyMCwgYmFja2dyb3VuZENvbG9yOiAnIzAwMCcsIGZvbnRDb2xvcjogJyNmZmYnLCBib3JkZXJSYWRpdXM6IDYgfTtcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuY29sbGlzaW9uR3JvdXAgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbGxpc2lvbkdyb3VwID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNvbGxpc2lvbkdyb3VwID0gMSA8PCB0aGlzLmNvbmZpZy5jb2xsaXNpb25Hcm91cDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLmNvbmZpZy5ib2R5O1xyXG4gICAgICAgIGlmIChib2R5LmJvcmRlclJhZGl1cyA9PT0gdW5kZWZpbmVkKSBib2R5LmJvcmRlclJhZGl1cyA9IDY7XHJcbiAgICAgICAgaWYgKGJvZHkuZm9udEZhbWlseSA9PT0gdW5kZWZpbmVkKSBib2R5LmZvbnRGYW1pbHkgPSBcIkFyaWFsXCI7XHJcbiAgICAgICAgaWYgKGJvZHkucGFkZGluZyA9PT0gdW5kZWZpbmVkKSBib2R5LnBhZGRpbmcgPSAyMDtcclxuICAgICAgICBpZiAoYm9keS5mb250U2l6ZSA9PT0gdW5kZWZpbmVkKSBib2R5LmZvbnRTaXplID0gMTAwO1xyXG4gICAgICAgIGlmIChib2R5LmJhY2tncm91bmRDb2xvciA9PT0gdW5kZWZpbmVkKSBib2R5LmJhY2tncm91bmRDb2xvciA9ICcjMDAwJztcclxuICAgICAgICBpZiAoYm9keS5mb250Q29sb3IgPT09IHVuZGVmaW5lZCkgYm9keS5mb250Q29sb3IgPSAnI2ZmZic7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuY29uZmlnKS5mb3JFYWNoKChbbmFtZSwgdmFsdWVdKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PT0gJ29iamVjdCcgJiYgbmFtZSAhPT0gJ3BhbmVsU2l6ZScpIHsvL30gJiYgISh2YWx1ZSBpbnN0YW5jZW9mIFdlYkdMUmVuZGVyZXIpICYmICEodmFsdWUgaW5zdGFuY2VvZiBTY2VuZSkgKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9ICh2YWx1ZS5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSA/IHZhbHVlLnBvc2l0aW9uIDogeyB4OiAwLCB5OiAwIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBvcy5sZWZ0ICE9PSB1bmRlZmluZWQgJiYgcG9zLnggPT09IHVuZGVmaW5lZCkgcG9zLnggPSBwb3MubGVmdDtcclxuICAgICAgICAgICAgICAgIGlmIChwb3MudG9wICE9PSB1bmRlZmluZWQgJiYgcG9zLnkgPT09IHVuZGVmaW5lZCkgcG9zLnkgPSBwb3MudG9wO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gKHZhbHVlLndpZHRoICE9PSB1bmRlZmluZWQpID8gdmFsdWUud2lkdGggOiB0aGlzLmNvbmZpZy53aWR0aDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9ICh2YWx1ZS5oZWlnaHQgIT09IHVuZGVmaW5lZCkgPyB2YWx1ZS5oZWlnaHQgOiB0aGlzLmNvbmZpZy5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBvcy5yaWdodCAhPT0gdW5kZWZpbmVkICYmIHBvcy54ID09PSB1bmRlZmluZWQpIHBvcy54ID0gdGhpcy5jb25maWcud2lkdGggLSBwb3MucmlnaHQgLSB3aWR0aDtcclxuICAgICAgICAgICAgICAgIGlmIChwb3MuYm90dG9tICE9PSB1bmRlZmluZWQgJiYgcG9zLnkgPT09IHVuZGVmaW5lZCkgcG9zLnkgPSB0aGlzLmNvbmZpZy5oZWlnaHQgLSBwb3MuYm90dG9tIC0gaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwb3MueCA9PT0gdW5kZWZpbmVkKSBwb3MueCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zLnkgPT09IHVuZGVmaW5lZCkgcG9zLnkgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhbHVlLnBvc2l0aW9uID0gcG9zO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09PSB1bmRlZmluZWQpIHZhbHVlLnR5cGUgPSAndGV4dCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSB0aGlzLmNyZWF0ZU9mZnNjcmVlbkNhbnZhcyh0aGlzLmNvbmZpZy53aWR0aCwgdGhpcy5jb25maWcuaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9wYWNpdHkgPSAodGhpcy5jb25maWcub3BhY2l0eSAhPT0gdW5kZWZpbmVkKSA/IHRoaXMuY29uZmlnLm9wYWNpdHkgOiAwLjc7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lc2ggPSBvYmplY3QuZ2V0Q29tcG9uZW50KCdtZXNoJyk7XHJcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWw7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGVuZ2luZSwgdGhpcy5jYW52YXMpO1xyXG4gICAgICAgIHRoaXMubWF0ZXJpYWwuZmxhdFRleHR1cmUgPSB0aGlzLmNhbnZhc1RleHR1cmU7XHJcblxyXG4gICAgICAgIGlmIChjb25maWcucGFuZWxTaXplKSB7XHJcbiAgICAgICAgICAgIG9iamVjdC5yZXNldFNjYWxpbmcoKTtcclxuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBbY29uZmlnLnBhbmVsU2l6ZS53aWR0aCwgY29uZmlnLnBhbmVsU2l6ZS5oZWlnaHQsIDAuMDFdO1xyXG4gICAgICAgICAgICBvYmplY3Quc2NhbGUoc2NhbGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVsU2l6ZSA9IGNvbmZpZy5wYW5lbFNpemU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbFNpemUgPSB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xyXG4gICAgICAgIHRoaXMuZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgIHRoaXMudG1wVmVjID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLnRtcFZlYzEgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMudG1wUXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlucHV0cyA9IE9iamVjdC52YWx1ZXModGhpcy5jb25maWcpLmZpbHRlcigodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnR5cGUgPT09IFwiaW5wdXQtdGV4dFwiO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChpbnB1dHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IChjb25maWcucGFuZWxTaXplKSA/IGNvbmZpZy5wYW5lbFNpemUud2lkdGggOiAxO1xyXG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSAoY29uZmlnLnBhbmVsU2l6ZSkgPyBjb25maWcucGFuZWxTaXplLmhlaWdodCA6IDE7XHJcbiAgICAgICAgICAgIGxldCBoYWxmaGVpZ2h0ID0gaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgdGhpcy5rZXlib2FyZCA9IG5ldyBDYW52YXNLZXlib2FyZCh3aWR0aCwgdGhpcyk7XHJcbiAgICAgICAgICAgIC8vQ2FsY3VsYXRlIG1haW4gcGFuZWwgb2Zmc2V0XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RXVsZXIodGhpcy50bXBWZWMsIHRoaXMub2JqZWN0LnJvdGF0aW9uV29ybGQpO1xyXG4gICAgICAgICAgICBsZXQgdGhldGEgPSB0aGlzLnRtcFZlY1sxXTtcclxuICAgICAgICAgICAgdGhpcy50bXBWZWNbMF0gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnRtcFZlY1syXSA9IC1NYXRoLmNvcyh0aGV0YSkgLyBoYWxmaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLnRtcFZlY1sxXSA9IE1hdGguc2luKHRoZXRhKSAvIGhhbGZoZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDYW52YXNVSSBjcmVhdGUga2V5Ym9hcmQgMSB0aGV0YT0ke3RoZXRhLnRvRml4ZWQoMil9IG9mZnNldD0ke3RoaXMudmVjVG9TdHIodGhpcy50bXBWZWMpfWApO1xyXG4gICAgICAgICAgICAvL0NhbGN1bGF0ZSBrZXlib2FyZCBwYW5lbCBvZmZzZXRcclxuICAgICAgICAgICAgaGFsZmhlaWdodCA9IHdpZHRoIC8gNDtcclxuICAgICAgICAgICAgdGhpcy5nZXRFdWxlcih0aGlzLnRtcFZlYzEsIHRoaXMua2V5Ym9hcmQua2V5Ym9hcmQub2JqZWN0LnJvdGF0aW9uV29ybGQpO1xyXG4gICAgICAgICAgICB0aGV0YSArPSAtMTUgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgICAgICB0aGlzLnRtcFZlYzFbMF0gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnRtcFZlYzFbMl0gPSAtTWF0aC5jb3ModGhldGEpIC8gaGFsZmhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy50bXBWZWMxWzFdID0gTWF0aC5zaW4odGhldGEpIC8gaGFsZmhlaWdodDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYENhbnZhc1VJIGNyZWF0ZSBrZXlib2FyZCAyIHRoZXRhPSR7dGhldGEudG9GaXhlZCgyKX0gb2Zmc2V0PSR7dGhpcy52ZWNUb1N0cih0aGlzLnRtcFZlYzEpfWApO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZCh0aGlzLnRtcFZlYywgdGhpcy50bXBWZWMsIHRoaXMudG1wVmVjMSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDYW52YXNVSSBjcmVhdGUga2V5Ym9hcmQgMyB0aGV0YT0ke3RoZXRhLnRvRml4ZWQoMil9IG9mZnNldD0ke3RoaXMudmVjVG9TdHIodGhpcy50bXBWZWMpfWApO1xyXG4gICAgICAgICAgICBjb25zdCBvYmogPSB0aGlzLmtleWJvYXJkLm9iamVjdDtcclxuICAgICAgICAgICAgcXVhdC5mcm9tRXVsZXIodGhpcy50bXBRdWF0LCAtMTUsIDAsIDApO1xyXG4gICAgICAgICAgICBvYmoucm90YXRlKHRoaXMudG1wUXVhdCk7XHJcbiAgICAgICAgICAgIG9iai50cmFuc2xhdGUodGhpcy50bXBWZWMpOy8vWzAsIC1oZWlnaHQqMTIsIDEyXSApO1xyXG4gICAgICAgICAgICB2ZWMzLmRpdmlkZSh0aGlzLnRtcFZlYywgb2JqLnNjYWxpbmdMb2NhbCwgb2JqZWN0LnNjYWxpbmdXb3JsZCk7XHJcbiAgICAgICAgICAgIG9iai5yZXNldFNjYWxpbmcoKTtcclxuICAgICAgICAgICAgb2JqLnNjYWxlKHRoaXMudG1wVmVjKTtcclxuICAgICAgICAgICAgb2JqLnBhcmVudCA9IG9iamVjdDtcclxuICAgICAgICAgICAgb2JqLnNldERpcnR5KCk7XHJcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSB7IGJvZHk6IFwiXCIgfTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWcuYm9keS50eXBlID0gXCJ0ZXh0XCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcclxuICAgICAgICAgICAgY29uc3QgYnRucyA9IE9iamVjdC52YWx1ZXMoY29uZmlnKS5maWx0ZXIoKHZhbHVlKSA9PiB7IHJldHVybiB2YWx1ZS50eXBlID09PSBcImJ1dHRvblwiIHx8IHZhbHVlLm92ZXJmbG93ID09PSBcInNjcm9sbFwiIHx8IHZhbHVlLnR5cGUgPT09IFwiaW5wdXQtdGV4dFwiIH0pO1xyXG4gICAgICAgICAgICBpZiAoYnRucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLmluaXRDb250cm9sbGVycy5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVudHMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5jb3B5KGV4dGVudHMsIHRoaXMub2JqZWN0LnNjYWxpbmdXb3JsZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xsaXNpb24gPSB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQoJ2NvbGxpc2lvbicsIHsgY29sbGlkZXI6IDIsIGV4dGVudHMsIGdyb3VwOiB0aGlzLmNvbGxpc2lvbkdyb3VwIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNlbGVjdGVkRWxlbWVudHMgPSBbdW5kZWZpbmVkLCB1bmRlZmluZWRdO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0UHJlc3NlZCA9IFtmYWxzZSwgZmFsc2VdO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsRGF0YSA9IFt1bmRlZmluZWQsIHVuZGVmaW5lZF07XHJcbiAgICAgICAgdGhpcy5pbnRlcnNlY3RzID0gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXTtcclxuXHJcbiAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmVjVG9TdHIodiwgcHJlY2lzaW9uID0gMikge1xyXG4gICAgICAgIGxldCBzdHIgPSBcIlwiO1xyXG5cclxuICAgICAgICBpZiAodikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHYubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHN0ciArPSB2W2ldLnRvRml4ZWQocHJlY2lzaW9uKSArICcsICc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9XHJcblxyXG4gICAgLy9yZXR1cm5zIHlhdywgcGl0Y2gsIHJvbGxcclxuICAgIGdldEV1bGVyKG91dCwgcXVhdCkge1xyXG4gICAgICAgIGxldCB4ID0gcXVhdFswXSxcclxuICAgICAgICAgICAgeSA9IHF1YXRbMV0sXHJcbiAgICAgICAgICAgIHogPSBxdWF0WzJdLFxyXG4gICAgICAgICAgICB3ID0gcXVhdFszXSxcclxuICAgICAgICAgICAgeDIgPSB4ICogeCxcclxuICAgICAgICAgICAgeTIgPSB5ICogeSxcclxuICAgICAgICAgICAgejIgPSB6ICogeixcclxuICAgICAgICAgICAgdzIgPSB3ICogdztcclxuICAgICAgICBsZXQgdW5pdCA9IHgyICsgeTIgKyB6MiArIHcyO1xyXG4gICAgICAgIGxldCB0ZXN0ID0geCAqIHcgLSB5ICogejtcclxuICAgICAgICBpZiAodGVzdCA+IDAuNDk5OTk1ICogdW5pdCkgeyAvL1RPRE86IFVzZSBnbG1hdHJpeC5FUFNJTE9OXHJcbiAgICAgICAgICAgIC8vIHNpbmd1bGFyaXR5IGF0IHRoZSBub3J0aCBwb2xlXHJcbiAgICAgICAgICAgIG91dFswXSA9IE1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICBvdXRbMV0gPSAyICogTWF0aC5hdGFuMih5LCB4KTtcclxuICAgICAgICAgICAgb3V0WzJdID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRlc3QgPCAtMC40OTk5OTUgKiB1bml0KSB7IC8vVE9ETzogVXNlIGdsbWF0cml4LkVQU0lMT05cclxuICAgICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgdGhlIHNvdXRoIHBvbGVcclxuICAgICAgICAgICAgb3V0WzBdID0gLU1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICBvdXRbMV0gPSAyICogTWF0aC5hdGFuMih5LCB4KTtcclxuICAgICAgICAgICAgb3V0WzJdID0gMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvdXRbMF0gPSBNYXRoLmFzaW4oMiAqICh4ICogeiAtIHcgKiB5KSk7XHJcbiAgICAgICAgICAgIG91dFsxXSA9IE1hdGguYXRhbjIoMiAqICh4ICogdyArIHkgKiB6KSwgMSAtIDIgKiAoejIgKyB3MikpO1xyXG4gICAgICAgICAgICBvdXRbMl0gPSBNYXRoLmF0YW4yKDIgKiAoeCAqIHkgKyB6ICogdyksIDEgLSAyICogKHkyICsgejIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETzogUmV0dXJuIHRoZW0gYXMgZGVncmVlcyBhbmQgbm90IGFzIHJhZGlhbnNcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldEludGVyc2VjdFkoaW5kZXgpIHtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNvbmZpZy5oZWlnaHQgfHwgNTEyO1xyXG4gICAgICAgIGNvbnN0IGludGVyc2VjdCA9IHRoaXMuaW50ZXJzZWN0c1tpbmRleF07XHJcbiAgICAgICAgaWYgKGludGVyc2VjdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gMDtcclxuICAgICAgICBpZiAoaW50ZXJzZWN0Lnh5ID09PSB1bmRlZmluZWQpIHJldHVybiAwO1xyXG4gICAgICAgIHJldHVybiBpbnRlcnNlY3QueHlbMV07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNlbGVjdElzUHJlc3NlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RQcmVzc2VkWzBdIHx8IHRoaXMuc2VsZWN0UHJlc3NlZFsxXTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0Q29udHJvbGxlcnMocykge1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHM7XHJcbiAgICAgICAgLy9HZXQgcmF5bGVmdCBhbmQgcmlnaHRcclxuICAgICAgICBjb25zdCByb290ID0gbmV3IE9iamVjdDNEKDApO1xyXG4gICAgICAgIHJvb3QuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5uYW1lID09ICdQbGF5ZXInKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcGFjZSA9IGNoaWxkLmNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICAgICAgc3BhY2UuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ0N1cnNvckxlZnQnKSB0aGlzLnJheUxlZnQgPSBjaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQubmFtZSA9PSAnQ3Vyc29yUmlnaHQnKSB0aGlzLnJheVJpZ2h0ID0gY2hpbGQ7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoISh0aGlzLnJheUxlZnQgJiYgdGhpcy5yYXlSaWdodCkpIGNvbnNvbGUud2FybignUGxheWVyIEN1cnNvckxlZnQgb3IgUGxheWVyIEN1cnNvclJpZ2h0IG5vdCBmb3VuZCcpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBvblNlbGVjdChldmVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IChldmVudC5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09PSAnbGVmdCcpID8gMCA6IDE7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsbSA9IHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgICAgIGlmIChlbG0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsbS50eXBlID09IFwiYnV0dG9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsbS50eXBlID09IFwiaW5wdXQtdGV4dFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5saW5rZWRVSSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVGV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkRWxlbWVudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5saW5rZWRVSSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuY29uZmlnKS5mb3JFYWNoKChbcHJvcCwgdmFsdWVdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IGVsbSkgbmFtZSA9IHByb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSAoMC41IC0gKChlbG0ucG9zaXRpb24ueSArIGVsbS5oZWlnaHQgKyB0aGlzLmNvbmZpZy5ib2R5LnBhZGRpbmcpIC8gdGhpcy5jb25maWcuaGVpZ2h0KSkgKiB0aGlzLnBhbmVsU2l6ZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoID0gTWF0aC5tYXgodGhpcy5wYW5lbFNpemUud2lkdGgsIHRoaXMucGFuZWxTaXplLmhlaWdodCkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmtleWJvYXJkLnBvc2l0aW9uLnNldCggWzAsIGgvMS41IC0geSwgLTAuMV0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVGV4dCA9IHRoaXMuY29udGVudFtuYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkTmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZEVsZW1lbnQgPSBlbG07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb25TZWxlY3RTdGFydChldmVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IChldmVudC5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09PSAnbGVmdCcpID8gMCA6IDE7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0UHJlc3NlZFtpbmRleF0gPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0ub3ZlcmZsb3cgPT0gXCJzY3JvbGxcIikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWxtID0gdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsRGF0YVtpbmRleF0gPSB7IHNjcm9sbFk6IGVsbS5zY3JvbGxZLCByYXlZOiB0aGlzLmdldEludGVyc2VjdFkoaW5kZXgpIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9uU2VsZWN0RW5kKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gKGV2ZW50LmlucHV0U291cmNlLmhhbmRlZG5lc3MgPT09ICdsZWZ0JykgPyAwIDogMTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RQcmVzc2VkW2luZGV4XSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0ub3ZlcmZsb3cgPT0gXCJzY3JvbGxcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxEYXRhW2luZGV4XSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIG9uU2VsZWN0LmJpbmQodGhpcykpO1xyXG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBvblNlbGVjdFN0YXJ0LmJpbmQodGhpcykpO1xyXG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0ZW5kJywgb25TZWxlY3RFbmQuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldENsaXAoZWxtKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcclxuXHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcblxyXG4gICAgICAgIGlmIChlbG0uY2xpcFBhdGggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gbmV3IFBhdGgyRChlbG0uY2xpcFBhdGgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmNsaXAocGF0aCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcG9zID0gKGVsbS5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSA/IGVsbS5wb3NpdGlvbiA6IHsgeDogMCwgeTogMCB9O1xyXG4gICAgICAgICAgICBjb25zdCBib3JkZXJSYWRpdXMgPSBlbG0uYm9yZGVyUmFkaXVzIHx8IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gZWxtLndpZHRoIHx8IHRoaXMuY29uZmlnLndpZHRoO1xyXG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBlbG0uaGVpZ2h0IHx8IHRoaXMuY29uZmlnLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYm9yZGVyUmFkaXVzICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICAgICAgLy9zdGFydCB0b3AgbGVmdFxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocG9zLnggKyBib3JkZXJSYWRpdXMsIHBvcy55KTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHBvcy54ICsgYm9yZGVyUmFkaXVzLCBwb3MueSArIGJvcmRlclJhZGl1cywgYm9yZGVyUmFkaXVzLCBhbmdsZSwgYW5nbGUgKiAyLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvcy54LCBwb3MueSArIGhlaWdodCAtIGJvcmRlclJhZGl1cyk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhwb3MueCArIGJvcmRlclJhZGl1cywgcG9zLnkgKyBoZWlnaHQgLSBib3JkZXJSYWRpdXMsIGJvcmRlclJhZGl1cywgMCwgYW5nbGUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocG9zLnggKyB3aWR0aCAtIGJvcmRlclJhZGl1cywgcG9zLnkgKyBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMocG9zLnggKyB3aWR0aCAtIGJvcmRlclJhZGl1cywgcG9zLnkgKyBoZWlnaHQgLSBib3JkZXJSYWRpdXMsIGJvcmRlclJhZGl1cywgYW5nbGUgKiAzLCBhbmdsZSAqIDQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocG9zLnggKyB3aWR0aCwgcG9zLnkgKyBib3JkZXJSYWRpdXMpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMocG9zLnggKyB3aWR0aCAtIGJvcmRlclJhZGl1cywgcG9zLnkgKyBib3JkZXJSYWRpdXMsIGJvcmRlclJhZGl1cywgYW5nbGUgKiAyLCBhbmdsZSAqIDMsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5yZWN0KHBvcy54LCBwb3MueSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWVzaCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLnNldCh4LCB5LCB6KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRSb3RhdGlvbih4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWVzaCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5tZXNoLnJvdGF0aW9uLnNldCh4LCB5LCB6KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVFbGVtZW50KG5hbWUsIGNvbnRlbnQpIHtcclxuICAgICAgICBsZXQgZWxtID0gdGhpcy5jb250ZW50W25hbWVdO1xyXG5cclxuICAgICAgICBpZiAoZWxtID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDYW52YXNVSS51cGRhdGVFbGVtZW50OiBObyAke25hbWV9IGZvdW5kYCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgZWxtID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBlbG0uY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWxtID0gY29udGVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29udGVudFtuYW1lXSA9IGVsbTtcclxuXHJcbiAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhbmVsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lc2g7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RWxlbWVudEF0TG9jYXRpb24oeCwgeSkge1xyXG4gICAgICAgIGNvbnN0IGVsbXMgPSBPYmplY3QuZW50cmllcyh0aGlzLmNvbmZpZykuZmlsdGVyKChbbmFtZSwgZWxtXSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsbSA9PT0gJ29iamVjdCcgJiYgbmFtZSAhPT0gJ3BhbmVsU2l6ZScgJiYgbmFtZSAhPT0gJ2JvZHknKSB7Ly8gJiYgIShlbG0gaW5zdGFuY2VvZiBXZWJHTFJlbmRlcmVyKSAmJiAhKGVsbSBpbnN0YW5jZW9mIFNjZW5lKSl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3MgPSBlbG0ucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IChlbG0ud2lkdGggIT09IHVuZGVmaW5lZCkgPyBlbG0ud2lkdGggOiB0aGlzLmNvbmZpZy53aWR0aDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IChlbG0uaGVpZ2h0ICE9PSB1bmRlZmluZWQpID8gZWxtLmhlaWdodCA6IHRoaXMuY29uZmlnLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoeCA+PSBwb3MueCAmJiB4IDwgKHBvcy54ICsgd2lkdGgpICYmIHkgPj0gcG9zLnkgJiYgeSA8IChwb3MueSArIGhlaWdodCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgZWxtID0gKGVsbXMubGVuZ3RoID09IDApID8gbnVsbCA6IHRoaXMuY29uZmlnW2VsbXNbMF1bMF1dO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coYHNlbGVjdGVkID0gJHtlbG19YCk7XHJcbiAgICAgICAgcmV0dXJuIGVsbTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDb25maWcobmFtZSwgcHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IGVsbSA9IHRoaXMuY29uZmlnW25hbWVdO1xyXG5cclxuICAgICAgICBpZiAoZWxtID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDYW52YXNVSS51cGRhdGVjb25maWc6IE5vICR7bmFtZX0gZm91bmRgKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxtW3Byb3BlcnR5XSA9IHZhbHVlO1xyXG5cclxuICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBob3ZlcihpbmRleCA9IDAsIHh5KSB7XHJcbiAgICAgICAgaWYgKHh5ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgeCA9IHh5WzBdO1xyXG4gICAgICAgICAgICBjb25zdCB5ID0geHlbMV07XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coIGBob3ZlciB1djoke3V2LngudG9GaXhlZCgyKX0sJHt1di55LnRvRml4ZWQoMil9Pj50ZXh0dXJlUG9zOiR7eC50b0ZpeGVkKDApfSwgJHt5LnRvRml4ZWQoMCl9YCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsbSA9IHRoaXMuZ2V0RWxlbWVudEF0TG9jYXRpb24oeCwgeSk7XHJcbiAgICAgICAgICAgIGlmIChlbG0gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0gIT09IGVsbSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSA9IGVsbTtcclxuICAgICAgICAgICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3QoaW5kZXggPSAwLCBtb3VzZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBlbG0gPSB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoZWxtLm9uU2VsZWN0KSBlbG0ub25TZWxlY3QoKTtcclxuICAgICAgICAgICAgaWYgKGVsbS50eXBlID09PSAnaW5wdXQtdGV4dCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtb3VzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmtleWJvYXJkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmtleWJvYXJkLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVUkgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZFRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZEVsZW1lbnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQubGlua2VkVUkgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLmNvbmZpZykuZm9yRWFjaCgoW3Byb3AsIHZhbHVlXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBlbG0pIG5hbWUgPSBwcm9wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gKDAuNSAtICgoZWxtLnBvc2l0aW9uLnkgKyBlbG0uaGVpZ2h0ICsgdGhpcy5jb25maWcuYm9keS5wYWRkaW5nKSAvIHRoaXMuY29uZmlnLmhlaWdodCkpICogdGhpcy5wYW5lbFNpemUuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaCA9IE1hdGgubWF4KHRoaXMucGFuZWxTaXplLndpZHRoLCB0aGlzLnBhbmVsU2l6ZS5oZWlnaHQpIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5rZXlib2FyZC5wb3NpdGlvbi5zZXQoIFswLCBoLzEuNSAtIHksIC0wLjFdICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZFRleHQgPSB0aGlzLmNvbnRlbnRbbmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLmxpbmtlZE5hbWUgPSBuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5saW5rZWRFbGVtZW50ID0gZWxtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC52aXNpYmxlID0gKHRoaXMua2V5Ym9hcmQudmlzaWJsZSkgPyBmYWxzZSA6IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNjcm9sbChpbmRleCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVsZW1lbnRzW2luZGV4XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmludGVyc2VjdE1lc2gpIHRoaXMuaW50ZXJzZWN0TWVzaFtpbmRleF0udmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRWxlbWVudHNbaW5kZXhdLm92ZXJmbG93ICE9PSAnc2Nyb2xsJykgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGVsbSA9IHRoaXMuc2VsZWN0ZWRFbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0UHJlc3NlZFtpbmRleF0pIHtcclxuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsRGF0YSA9IHRoaXMuc2Nyb2xsRGF0YVtpbmRleF07XHJcbiAgICAgICAgICAgIGlmIChzY3JvbGxEYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmludGVyc2VjdE1lc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyc2VjdE1lc2hbaW5kZXhdLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0TWVzaFtpbmRleF0ucG9zaXRpb24uY29weSh0aGlzLmludGVyc2VjdHNbaW5kZXhdLnBvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJheVkgPSB0aGlzLmdldEludGVyc2VjdFkoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcmF5WSAtIHNjcm9sbERhdGEucmF5WTtcclxuICAgICAgICAgICAgICAgIGVsbS5zY3JvbGxZID0gTWF0aC5taW4oTWF0aC5tYXgoZWxtLm1pblNjcm9sbFksIHNjcm9sbERhdGEuc2Nyb2xsWSArIG9mZnNldCksIDApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnRlcnNlY3RNZXNoKSB0aGlzLmludGVyc2VjdE1lc2hbaW5kZXhdLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgd29ybGRUb0NhbnZhcyhwb3MpIHtcclxuICAgICAgICB0aGlzLm9iamVjdC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh0aGlzLnRtcFZlYywgcG9zKTtcclxuICAgICAgICB2ZWMzLmNvcHkodGhpcy50bXBWZWMxLCB0aGlzLm9iamVjdC5zY2FsaW5nV29ybGQpO1xyXG4gICAgICAgIHZlYzMuZGl2KHRoaXMudG1wVmVjLCB0aGlzLnRtcFZlYywgdGhpcy50bXBWZWMxKTtcclxuICAgICAgICBjb25zdCB4eSA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XHJcbiAgICAgICAgeHlbMF0gPSAoKHRoaXMudG1wVmVjWzBdICsgMSkgLyAyKSAqIHRoaXMuY29uZmlnLndpZHRoO1xyXG4gICAgICAgIHh5WzFdID0gKDEgLSAodGhpcy50bXBWZWNbMV0gKyAxKSAvIDIpICogdGhpcy5jb25maWcuaGVpZ2h0O1xyXG4gICAgICAgIC8vb2JqOiR7dGhpcy50bXBWZWNbMF0udG9GaXhlZCgyKX0sJHt0aGlzLnRtcFZlY1syXS50b0ZpeGVkKDIpfWA7XHJcbiAgICAgICAgLy9jb25zdCBzdHIgPSBgcG9zOiR7cG9zWzBdLnRvRml4ZWQoMil9LCR7cG9zWzFdLnRvRml4ZWQoMil9IHh5OiR7eHlbMF0udG9GaXhlZCgyKX0sJHt4eVsxXS50b0ZpeGVkKDIpfWA7XHJcbiAgICAgICAgLy90aGlzLnVwZGF0ZUVsZW1lbnQoJ2luZm8nLCBzdHIpO1xyXG4gICAgICAgIC8vaWYgKHRoaXMuc2VsZWN0SXNQcmVzc2VkKSBjb25zb2xlLmxvZyhgQ2FudmFzVUkud29ybGRUb0NhbnZhcyAke3N0cn1gKTtcclxuICAgICAgICByZXR1cm4geHk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ29udHJvbGxlcihjb250cm9sbGVyLCBpbmRleCkge1xyXG4gICAgICAgIGlmIChjb250cm9sbGVyID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29udHJvbGxlci5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMudG1wVmVjKTtcclxuICAgICAgICBjb250cm9sbGVyLmdldEZvcndhcmQodGhpcy50bXBWZWMxKTtcclxuXHJcbiAgICAgICAgY29uc3QgaW50ZXJzZWN0cyA9IFdMLnNjZW5lLnJheUNhc3QodGhpcy50bXBWZWMsIHRoaXMudG1wVmVjMSwgdGhpcy5jb2xsaXNpb25Hcm91cCwgMTAwKTtcclxuXHJcbiAgICAgICAgaWYgKGludGVyc2VjdHMuaGl0Q291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIGludGVyc2VjdHMueHkgPSB0aGlzLndvcmxkVG9DYW52YXMoaW50ZXJzZWN0cy5sb2NhdGlvbnNbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLmhvdmVyKGluZGV4LCBpbnRlcnNlY3RzLnh5KTtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3RzW2luZGV4XSA9IGludGVyc2VjdHM7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsKGluZGV4KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhvdmVyKGluZGV4KTtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3RzW2luZGV4XSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmF5TGVmdCkgdGhpcy5oYW5kbGVDb250cm9sbGVyKHRoaXMucmF5TGVmdCwgMCk7XHJcbiAgICAgICAgaWYgKHRoaXMucmF5UmlnaHQpIHRoaXMuaGFuZGxlQ29udHJvbGxlcih0aGlzLnJheVJpZ2h0LCAxKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQgJiYgdGhpcy5rZXlib2FyZC52aXNpYmxlKSB0aGlzLmtleWJvYXJkLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMubmVlZHNVcGRhdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XHJcblxyXG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY29uZmlnLndpZHRoLCB0aGlzLmNvbmZpZy5oZWlnaHQpO1xyXG5cclxuICAgICAgICBjb25zdCBiZ0NvbG9yID0gKHRoaXMuY29uZmlnLmJvZHkuYmFja2dyb3VuZENvbG9yKSA/IHRoaXMuY29uZmlnLmJvZHkuYmFja2dyb3VuZENvbG9yIDogXCIjMDAwXCI7XHJcbiAgICAgICAgY29uc3QgZm9udEZhbWlseSA9ICh0aGlzLmNvbmZpZy5ib2R5LmZvbnRGYW1pbHkpID8gdGhpcy5jb25maWcuYm9keS5mb250RmFtaWx5IDogXCJBcmlhbFwiO1xyXG4gICAgICAgIGNvbnN0IGZvbnRDb2xvciA9ICh0aGlzLmNvbmZpZy5ib2R5LmZvbnRDb2xvcikgPyB0aGlzLmNvbmZpZy5ib2R5LmZvbnRDb2xvciA6IFwiI2ZmZlwiO1xyXG4gICAgICAgIGNvbnN0IGZvbnRTaXplID0gKHRoaXMuY29uZmlnLmJvZHkuZm9udFNpemUpID8gdGhpcy5jb25maWcuYm9keS5mb250U2l6ZSA6IDMwO1xyXG4gICAgICAgIHRoaXMuc2V0Q2xpcCh0aGlzLmNvbmZpZy5ib2R5KTtcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGJnQ29sb3I7XHJcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLmNvbmZpZy53aWR0aCwgdGhpcy5jb25maWcuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5jb250ZW50KS5mb3JFYWNoKChbbmFtZSwgY29udGVudF0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gKHRoaXMuY29uZmlnW25hbWVdICE9PSB1bmRlZmluZWQpID8gdGhpcy5jb25maWdbbmFtZV0gOiB0aGlzLmNvbmZpZy5ib2R5O1xyXG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5ID0gKGNvbmZpZy5kaXNwbGF5ICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmRpc3BsYXkgOiAnYmxvY2snO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRpc3BsYXkgIT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gKGNvbmZpZy5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5wb3NpdGlvbiA6IHsgeDogMCwgeTogMCB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSAoY29uZmlnLndpZHRoICE9PSB1bmRlZmluZWQpID8gY29uZmlnLndpZHRoIDogdGhpcy5jb25maWcud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSAoY29uZmlnLmhlaWdodCAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5oZWlnaHQgOiB0aGlzLmNvbmZpZy5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy50eXBlID09IFwiYnV0dG9uXCIgJiYgIWNvbnRlbnQudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwiPHBhdGg+XCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5ib3JkZXJSYWRpdXMgPT09IHVuZGVmaW5lZCkgY29uZmlnLmJvcmRlclJhZGl1cyA9IDY7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy50ZXh0QWxpZ24gPT09IHVuZGVmaW5lZCkgY29uZmlnLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDbGlwKGNvbmZpZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ZnUGF0aCA9IGNvbnRlbnQudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwiPHBhdGg+XCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaG92ZXIgPSAoKHRoaXMuc2VsZWN0ZWRFbGVtZW50c1swXSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1swXSA9PT0gY29uZmlnKSB8fCAodGhpcy5zZWxlY3RlZEVsZW1lbnRzWzFdICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWxlY3RlZEVsZW1lbnRzWzFdID09PSBjb25maWcpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmJhY2tncm91bmRDb2xvciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdmVyICYmIGNvbmZpZy50eXBlID09IFwiYnV0dG9uXCIgJiYgY29uZmlnLmhvdmVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjb25maWcuaG92ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjb25maWcuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KHBvcy54LCBwb3MueSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy50eXBlID09IFwidGV4dFwiIHx8IGNvbmZpZy50eXBlID09IFwiYnV0dG9uXCIgfHwgY29uZmlnLnR5cGUgPT0gXCJpbnB1dC10ZXh0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3Ryb2tlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3ZnUGF0aCAmJiBjb25maWcudHlwZSA9PSBcImJ1dHRvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IChjb25maWcuZm9udENvbG9yICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmZvbnRDb2xvciA6IGZvbnRDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gKGNvbmZpZy5ob3ZlciAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5ob3ZlciA6IChjb25maWcuZm9udENvbG9yICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmZvbnRDb2xvciA6IGZvbnRDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2UgPSAoY29uZmlnLmhvdmVyID09PSB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gKGNvbmZpZy5mb250Q29sb3IgIT09IHVuZGVmaW5lZCkgPyBjb25maWcuZm9udENvbG9yIDogZm9udENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN2Z1BhdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZSA9IGNvbnRlbnQudG9VcHBlckNhc2UoKS5zdWJzdHJpbmcoNiwgY29udGVudC5sZW5ndGggLSA3KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHBvcy54LCBwb3MueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBuZXcgUGF0aDJEKGNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwocGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3JhcFRleHQobmFtZSwgY29udGVudClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiI2ZmZlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdChwb3MueCwgcG9zLnksIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnR5cGUgPT0gXCJpbWdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcuaW1nID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkSW1hZ2UoY29udGVudCkudGhlbihpbWcgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYHc6ICR7aW1nLndpZHRofSB8IGg6ICR7aW1nLmhlaWdodH1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5pbWcgPSBpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzcGVjdCA9IGNvbmZpZy5pbWcud2lkdGggLyBjb25maWcuaW1nLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaCA9IHdpZHRoIC8gYXNwZWN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShjb25maWcuaW1nLCBwb3MueCwgcG9zLnksIHdpZHRoLCBoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jYW52YXNUZXh0dXJlKSB0aGlzLmNhbnZhc1RleHR1cmUudXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWRJbWFnZShzcmMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHJlc29sdmUoaW1nKSk7XHJcbiAgICAgICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZXJyID0+IHJlamVjdChlcnIpKTtcclxuICAgICAgICAgICAgaW1nLnNyYyA9IHNyYztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVPZmZzY3JlZW5DYW52YXModywgaCkge1xyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHc7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGg7XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcclxuICAgIH1cclxuXHJcbiAgICBmaWxsUm91bmRlZFJlY3QoeCwgeSwgdywgaCwgcmFkaXVzKSB7XHJcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKHggKyByYWRpdXMsIHkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIHcgLSByYWRpdXMsIHkpO1xyXG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3LCB5LCB4ICsgdywgeSArIHJhZGl1cyk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdywgeSArIGggLSByYWRpdXMpO1xyXG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3LCB5ICsgaCwgeCArIHcgLSByYWRpdXMsIHkgKyBoKTtcclxuICAgICAgICBjdHgubGluZVRvKHggKyByYWRpdXMsIHkgKyBoKTtcclxuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5ICsgaCwgeCwgeSArIGggLSByYWRpdXMpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCwgeSArIHJhZGl1cyk7XHJcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCwgeSwgeCArIHJhZGl1cywgeSk7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9va0F0KHBvcykge1xyXG4gICAgICAgIGlmICh0aGlzLm1lc2ggPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICghKHBvcyBpbnN0YW5jZW9mIFZlY3RvcjMpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NhbnZhc1VJIGxvb2tBdCBjYWxsZWQgcGFyYW1ldGVyIG5vdCBhIFRIUkVFLlZlY3RvcjMnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1lc2gubG9va0F0KHBvcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZpc2libGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWVzaCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzaC5hY3RpdmU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZpc2libGUodmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5tZXNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVzaC5hY3RpdmUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBvc2l0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9iamVjdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy50bXBWZWMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRtcFZlYztcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcG9zaXRpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5vYmplY3QgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW52YXNVSSB0cnlpbmcgdG8gc2V0IHRoZSBvYmplY3QgcG9zaXRpb24gdXNpbmcgYSBwYXJhbWV0ZXIgdGhhdCBpcyBub3QgYSBGbG9hdDMyQXJyYXknKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9iamVjdC5zZXRUcmFuc2xhdGlvbldvcmxkKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcXVhdGVybmlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5vYmplY3QgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMudG1wVmVjKTtcclxuICAgICAgICByZXR1cm4gdGhpcy50bXBWZWM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHF1YXRlcm5pb24odmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5tZXNoID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgICAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIFFVYXRlcm5pb24pKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NhbnZhc1VJIHRyeWluZyB0byBzZXQgdGhlIG9iamVjdCBxdWF0ZXJuaW9uIHVzaW5nIGEgcGFyYW1ldGVyIHRoYXQgaXMgbm90IGEgVEhSRUUuUXVhdGVybmlvbicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWVzaC5xdWF0ZXJuaW9uLmNvcHkodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHdyYXBUZXh0KG5hbWUsIHR4dCkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coIGB3cmFwVGV4dDogJHtuYW1lfToke3R4dH1gKTtcclxuICAgICAgICBjb25zdCB3b3JkcyA9IHR4dC5zcGxpdCgnICcpO1xyXG4gICAgICAgIGxldCBsaW5lID0gJyc7XHJcbiAgICAgICAgY29uc3QgbGluZXMgPSBbXTtcclxuICAgICAgICBjb25zdCBjb25maWcgPSAodGhpcy5jb25maWdbbmFtZV0gIT09IHVuZGVmaW5lZCkgPyB0aGlzLmNvbmZpZ1tuYW1lXSA6IHRoaXMuY29uZmlnLmJvZHk7XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSAoY29uZmlnLndpZHRoICE9PSB1bmRlZmluZWQpID8gY29uZmlnLndpZHRoIDogdGhpcy5jb25maWcud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGNvbmZpZy5oZWlnaHQgIT09IHVuZGVmaW5lZCkgPyBjb25maWcuaGVpZ2h0IDogdGhpcy5jb25maWcuaGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IChjb25maWcucG9zaXRpb24gIT09IHVuZGVmaW5lZCkgPyBjb25maWcucG9zaXRpb24gOiB7IHg6IDAsIHk6IDAgfTtcclxuICAgICAgICBjb25zdCBwYWRkaW5nID0gKGNvbmZpZy5wYWRkaW5nICE9PSB1bmRlZmluZWQpID8gY29uZmlnLnBhZGRpbmcgOiAodGhpcy5jb25maWcuYm9keS5wYWRkaW5nICE9PSB1bmRlZmluZWQpID8gdGhpcy5jb25maWcuYm9keS5wYWRkaW5nIDogMTA7XHJcbiAgICAgICAgY29uc3QgcGFkZGluZ1RvcCA9IChjb25maWcucGFkZGluZ1RvcCAhPT0gdW5kZWZpbmVkKSA/IGNvbmZpZy5wYWRkaW5nVG9wIDogcGFkZGluZztcclxuICAgICAgICBjb25zdCBwYWRkaW5nTGVmdCA9IChjb25maWcucGFkZGluZ0xlZnQgIT09IHVuZGVmaW5lZCkgPyBjb25maWcucGFkZGluZ0xlZnQgOiBwYWRkaW5nO1xyXG4gICAgICAgIGNvbnN0IHBhZGRpbmdCb3R0b20gPSAoY29uZmlnLnBhZGRpbmdCb3R0b20gIT09IHVuZGVmaW5lZCkgPyBjb25maWcucGFkZGluZ0JvdHRvbSA6IHBhZGRpbmc7XHJcbiAgICAgICAgY29uc3QgcGFkZGluZ1JpZ2h0ID0gKGNvbmZpZy5wYWRkaW5nUmlnaHQgIT09IHVuZGVmaW5lZCkgPyBjb25maWcucGFkZGluZ1JpZ2h0IDogcGFkZGluZztcclxuICAgICAgICBjb25zdCByZWN0ID0geyB4OiBwb3MueCArIHBhZGRpbmdMZWZ0LCB5OiBwb3MueSArIHBhZGRpbmdUb3AsIHdpZHRoOiB3aWR0aCAtIHBhZGRpbmdMZWZ0IC0gcGFkZGluZ1JpZ2h0LCBoZWlnaHQ6IGhlaWdodCAtIHBhZGRpbmdUb3AgLSBwYWRkaW5nQm90dG9tIH07XHJcbiAgICAgICAgY29uc3QgdGV4dEFsaWduID0gKGNvbmZpZy50ZXh0QWxpZ24gIT09IHVuZGVmaW5lZCkgPyBjb25maWcudGV4dEFsaWduIDogKHRoaXMuY29uZmlnLmJvZHkudGV4dEFsaWduICE9PSB1bmRlZmluZWQpID8gdGhpcy5jb25maWcuYm9keS50ZXh0QWxpZ24gOiBcImxlZnRcIjtcclxuICAgICAgICBjb25zdCBmb250U2l6ZSA9IChjb25maWcuZm9udFNpemUgIT09IHVuZGVmaW5lZCkgPyBjb25maWcuZm9udFNpemUgOiAodGhpcy5jb25maWcuYm9keS5mb250U2l6ZSAhPT0gdW5kZWZpbmVkKSA/IHRoaXMuY29uZmlnLmJvZHkuZm9udFNpemUgOiAzMDtcclxuICAgICAgICBjb25zdCBmb250RmFtaWx5ID0gKGNvbmZpZy5mb250RmFtaWx5ICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmZvbnRGYW1pbHkgOiAodGhpcy5jb25maWcuYm9keS5mb250RmFtaWx5ICE9PSB1bmRlZmluZWQpID8gdGhpcy5jb25maWcuYm9keS5mb250RmFtaWx5IDogJ0FyaWFsJztcclxuICAgICAgICBjb25zdCBsZWFkaW5nID0gKGNvbmZpZy5sZWFkaW5nICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmxlYWRpbmcgOiAodGhpcy5jb25maWcuYm9keS5sZWFkaW5nICE9PSB1bmRlZmluZWQpID8gdGhpcy5jb25maWcuYm9keS5sZWFkaW5nIDogODtcclxuICAgICAgICBjb25zdCBsaW5lSGVpZ2h0ID0gZm9udFNpemUgKyBsZWFkaW5nO1xyXG5cclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xyXG5cclxuICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9IHRleHRBbGlnbjtcclxuXHJcbiAgICAgICAgY29udGV4dC5mb250ID0gYCR7Zm9udFNpemV9cHggJyR7Zm9udEZhbWlseX0nYDtcclxuXHJcbiAgICAgICAgd29yZHMuZm9yRWFjaChmdW5jdGlvbiAod29yZCkge1xyXG4gICAgICAgICAgICBsZXQgdGVzdExpbmUgPSAod29yZHMubGVuZ3RoID4gMSkgPyBgJHtsaW5lfSR7d29yZH0gYCA6IHdvcmQ7XHJcbiAgICAgICAgICAgIGxldCBtZXRyaWNzID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXN0TGluZSk7XHJcbiAgICAgICAgICAgIGlmIChtZXRyaWNzLndpZHRoID4gcmVjdC53aWR0aCAmJiB3b3JkLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA9PSAwICYmIG1ldHJpY3Mud2lkdGggPiByZWN0LndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy93b3JkIHRvbyBsb25nXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG1ldHJpY3Mud2lkdGggPiByZWN0LndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50KytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RMaW5lID0gd29yZC5zdWJzdHIoMCwgY291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGVzdExpbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChtZXRyaWNzLndpZHRoIDwgcmVjdC53aWR0aCAmJiBjb3VudCA8ICh3b3JkLmxlbmd0aCAtIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVzdExpbmUgPSB3b3JkLnN1YnN0cigwLCBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzLnB1c2godGVzdExpbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JkID0gd29yZC5zdWJzdHIoY291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPD0gMSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHdvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAod29yZCAhPSBcIlwiKSBsaW5lcy5wdXNoKHdvcmQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKGxpbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSBgJHt3b3JkfSBgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGluZSA9IHRlc3RMaW5lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChsaW5lICE9ICcnKSBsaW5lcy5wdXNoKGxpbmUpO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0SGVpZ2h0ID0gbGluZXMubGVuZ3RoICogbGluZUhlaWdodDtcclxuICAgICAgICBsZXQgc2Nyb2xsWSA9IDA7XHJcblxyXG4gICAgICAgIGlmICh0ZXh0SGVpZ2h0ID4gcmVjdC5oZWlnaHQgJiYgY29uZmlnLm92ZXJmbG93ID09PSAnc2Nyb2xsJykge1xyXG4gICAgICAgICAgICAvL1Nob3cgYSBzY3JvbGwgYmFyXHJcbiAgICAgICAgICAgIGlmIChjb25maWcuc2Nyb2xsWSA9PT0gdW5kZWZpbmVkKSBjb25maWcuc2Nyb2xsWSA9IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbnRDb2xvciA9IChjb25maWcuZm9udENvbG9yICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmZvbnRDb2xvciA6IHRoaXMuY29uZmlnLmJvZHkuZm9udENvbG9yO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiI2FhYVwiO1xyXG4gICAgICAgICAgICB0aGlzLmZpbGxSb3VuZGVkUmVjdChwb3MueCArIHdpZHRoIC0gMTIsIHBvcy55LCAxMiwgaGVpZ2h0LCA2KTtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiM2NjZcIjtcclxuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSByZWN0LmhlaWdodCAvIHRleHRIZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHRodW1iSGVpZ2h0ID0gc2NhbGUgKiBoZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHRodW1iWSA9IC1jb25maWcuc2Nyb2xsWSAqIHNjYWxlO1xyXG4gICAgICAgICAgICB0aGlzLmZpbGxSb3VuZGVkUmVjdChwb3MueCArIHdpZHRoIC0gMTIsIHBvcy55ICsgdGh1bWJZLCAxMiwgdGh1bWJIZWlnaHQsIDYpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZvbnRDb2xvcjtcclxuICAgICAgICAgICAgc2Nyb2xsWSA9IGNvbmZpZy5zY3JvbGxZO1xyXG4gICAgICAgICAgICBjb25maWcubWluU2Nyb2xsWSA9IHJlY3QuaGVpZ2h0IC0gdGV4dEhlaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB5ID0gc2Nyb2xsWSArIHJlY3QueSArIGZvbnRTaXplIC8gMjtcclxuICAgICAgICBsZXQgeDtcclxuXHJcbiAgICAgICAgc3dpdGNoICh0ZXh0QWxpZ24pIHtcclxuICAgICAgICAgICAgY2FzZSBcImNlbnRlclwiOlxyXG4gICAgICAgICAgICAgICAgeCA9IHJlY3QueCArIHJlY3Qud2lkdGggLyAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxyXG4gICAgICAgICAgICAgICAgeCA9IHJlY3QueCArIHJlY3Qud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHggPSByZWN0Lng7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbmVzLmZvckVhY2goKGxpbmUpID0+IHtcclxuICAgICAgICAgICAgaWYgKCh5ICsgbGluZUhlaWdodCkgPiAwKSBjb250ZXh0LmZpbGxUZXh0KGxpbmUsIHgsIHkpO1xyXG4gICAgICAgICAgICB5ICs9IGxpbmVIZWlnaHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IENhbnZhc1VJIH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BlcnR5LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICcuL2dhbWUnO1xyXG4vKipcclxuICogRGF5TmlnaHRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBEYXlOaWdodCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnRGF5TmlnaHQnO1xyXG4gICAgLyogUHJvcGVydGllcyB0aGF0IGFyZSBjb25maWd1cmFibGUgaW4gdGhlIGVkaXRvciAqL1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgZGF5VGltZXI6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDIgfSxcclxuICAgIH07XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3N0YXJ0KCkgd2l0aCBwYXJhbScsIHRoaXMucGFyYW0pO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy50aW1lcjEgPSAwO1xyXG4gICAgICAgIHRoaXMuciA9IC41O1xyXG4gICAgICAgIHRoaXMuZyA9IC41O1xyXG4gICAgICAgIHRoaXMuYiA9IC41O1xyXG4gICAgICAgIHRoaXMubW9kID0gLjAwNTtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIHRoaXMudGltZXIxICs9IGR0O1xyXG4gICAgICAgIGxldCB4ID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudGltZXIxID4gLjEyNSkge1xyXG4gICAgICAgICAgICB0aGlzLnIgKz0gdGhpcy5tb2Q7XHJcbiAgICAgICAgICAgIHRoaXMuZyArPSB0aGlzLm1vZDtcclxuICAgICAgICAgICAgdGhpcy5iICs9IHRoaXMubW9kO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyMSA9IDA7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnIgPiAxIHx8IHRoaXMuciA8IC4yKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5kYXkgPSAhc3RhdGUuZGF5O1xyXG4gICAgICAgICAgICAgICAgc3RhdGUucGF1c2VFbmVtaWVzID0gIXN0YXRlLnBhdXNlRW5lbWllcztcclxuICAgICAgICAgICAgICAgIHN0YXRlLnBhdXNlQnVpbGRpbmcgPSAhc3RhdGUucGF1c2VCdWlsZGluZztcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yICs9IHRoaXMubW9kICogMztcclxuICAgICAgICAgICAgICAgIHRoaXMuZyArPSB0aGlzLm1vZCAqIDM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmIgKz0gdGhpcy5tb2QgKiAzO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUubGV2ZWxVcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHggPSBbdGhpcy5yLCB0aGlzLmcsIHRoaXMuYl07XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnbGlnaHQnKS5zZXRDb2xvcih4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcbiIsICIvKlxyXG4gICAgQ29weXJpZ2h0IDIwMjEuIEZ1dHVyZXdlaSBUZWNobm9sb2dpZXMgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gICAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICAgIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICAgIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gICAgaHR0cDogIHd3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAgICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAgICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAgICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICAgIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICAgIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qL1xyXG5cclxuaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaVwiO1xyXG5pbXBvcnQgeyB2ZWMzIH0gZnJvbSBcImdsLW1hdHJpeFwiO1xyXG5pbXBvcnQgeyBzdGF0ZSB9IGZyb20gXCIuL2dhbWVcIjtcclxuLyoqXHJcbkBicmllZiBDb250cm9scyB0aGUgYnVsbGV0IHRyYWplY3RvcnlcclxuXHJcbkRlYWN0aXZhdGVzIGJ1bGxldCB1cGRhdGVzIHRvIHByZXNlcnZlIHBlcmZvcm1hbmNlLiBCdWxsZXRzIGNvbGxpc2lvbiBpcyBhbHNvXHJcbmRlYWN0aXZhdGVkIHdoZW4gdGhlIGJ1bGxldCBpcyBvbiB0aGUgZ3JvdW5kLiBUaGlzIGlzIGRvbmUgdG8gcHJldmVudCB0aGUgXHJcbnNjb3JlLXRyaWdnZXIgZ29pbmcgb2ZmIHdoZW4gdGhlIG1pY2UgcnVuIG92ZXIgdGhlIGJ1bGxldHMuXHJcblxyXG4qL1xyXG5cclxubGV0IG5ld0RpciA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcblxyXG5leHBvcnQgY2xhc3MgQnVsbGV0UGh5c2ljcyBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSBcImJ1bGxldC1waHlzaWNzXCI7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBzcGVlZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAxLjAgfSxcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuZGlyID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gWzAsIDAsIDBdO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFBvc2l0aW9uV29ybGQodGhpcy5wb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5jb3JyZWN0ZWRTcGVlZCA9IHRoaXMuc3BlZWQgLyA2O1xyXG5cclxuICAgICAgICB0aGlzLmNvbGxpc2lvbiA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnY29sbGlzaW9uJywgMCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbGxpc2lvbikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgICBcIididWxsZXQtcGh5c2ljcycgY29tcG9uZW50IG9uIG9iamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QubmFtZSxcclxuICAgICAgICAgICAgICAgIFwicmVxdWlyZXMgYSBjb2xsaXNpb24gY29tcG9uZW50XCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICAvL3VwZGF0ZSBwb3NpdGlvblxyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFBvc2l0aW9uV29ybGQodGhpcy5wb3NpdGlvbik7XHJcbiAgICAgICAgLy9kZWFjdGl2YXRlIGJ1bGxldCBpZiB0aHJvdWdoIHRoZSBmbG9vclxyXG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uWzFdIDw9IHN0YXRlLmZsb29ySGVpZ2h0ICsgdGhpcy5jb2xsaXNpb24uZXh0ZW50c1swXSkge1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lCdWxsZXQoMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9kZWFjdGl2YXRlIGJ1bGxldCBpZiB0cmF2ZWwgZGlzdGFuY2UgdG9vIGZhclxyXG4gICAgICAgIGlmICh2ZWMzLmxlbmd0aCh0aGlzLnBvc2l0aW9uKSA+IDE3NSkge1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lCdWxsZXQoMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5ld0Rpci5zZXQodGhpcy5kaXIpO1xyXG4gICAgICAgIHZlYzMuc2NhbGUobmV3RGlyLCBuZXdEaXIsIHRoaXMuY29ycmVjdGVkU3BlZWQpO1xyXG4gICAgICAgIHZlYzMuYWRkKHRoaXMucG9zaXRpb24sIHRoaXMucG9zaXRpb24sIG5ld0Rpcik7XHJcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0UG9zaXRpb25Mb2NhbCh0aGlzLnBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgbGV0IG92ZXJsYXBzID0gdGhpcy5jb2xsaXNpb24ucXVlcnlPdmVybGFwcygpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3ZlcmxhcHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgbGV0IHQgPSBvdmVybGFwc1tpXS5vYmplY3QuZ2V0Q29tcG9uZW50KFwic2NvcmUtdHJpZ2dlclwiKTtcclxuICAgICAgICAgICAgaWYgKHQgJiYgIXRoaXMuc2NvcmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0Lm9uSGl0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lCdWxsZXQoMCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkZXN0cm95QnVsbGV0KHRpbWUpIHtcclxuICAgICAgICBpZiAodGltZSA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LmRlc3Ryb3koKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LmRlc3Ryb3koKVxyXG4gICAgICAgICAgICB9LCB0aW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbiIsICIvKlxyXG4gICAgQ29weXJpZ2h0IDIwMjEuIEZ1dHVyZXdlaSBUZWNobm9sb2dpZXMgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gICAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICAgIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICAgIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gICAgaHR0cDogIHd3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAgICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAgICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAgICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICAgIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICAgIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qL1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpXCI7XHJcbmltcG9ydCB7IEhvd2xlckF1ZGlvU291cmNlIH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcbmltcG9ydCB7IEJ1bGxldFBoeXNpY3MgfSBmcm9tIFwiLi9idWxsZXQtcGh5c2ljc1wiO1xyXG4vKipcclxuICogc3Bhd25zIFByb2plY3RpbGVzIGZvciB0aGUgcGxheWVyIFxyXG5AYnJpZWYgU3Bhd25zIGEgbmV3IGJ1bGxldCBvYmplY3Qgd2hlbiB0aGUgcGxheWVyIGRlcHJlc3NlcyB0aGUgdHJpZ2dlci5cclxuXHJcbiovXHJcblxyXG5jb25zdCB0ZW1wUXVhdDIgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1bGxldFNwYXduZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gXCJidWxsZXQtc3Bhd25lclwiO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgYnVsbGV0TWVzaDogeyB0eXBlOiBUeXBlLk1lc2ggfSxcclxuICAgICAgICBidWxsZXRNYXRlcmlhbDogeyB0eXBlOiBUeXBlLk1hdGVyaWFsIH0sXHJcbiAgICAgICAgYnVsbGV0U3BlZWQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMS4wIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSkge1xyXG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChCdWxsZXRQaHlzaWNzKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBzdGF0ZS5sYXVuY2ggPSBmdW5jdGlvbiAoZGlyKSB7XHJcbiAgICAgICAgICAgIGxldCBidWxsZXQgPSB0aGlzLnNwYXduQnVsbGV0KCk7XHJcbiAgICAgICAgICAgIGJ1bGxldC5vYmplY3Quc2V0VHJhbnNmb3JtTG9jYWwodGhpcy5vYmplY3QuZ2V0VHJhbnNmb3JtV29ybGQodGVtcFF1YXQyKSk7XHJcbiAgICAgICAgICAgIGJ1bGxldC5vYmplY3Quc2V0RGlydHkoKTtcclxuICAgICAgICAgICAgYnVsbGV0LnBoeXNpY3MuZGlyLnNldChkaXIpO1xyXG4gICAgICAgICAgICBidWxsZXQucGh5c2ljcy5zY29yZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnVsbGV0LnBoeXNpY3MuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy54clNlc3Npb25TdGFydC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnN0YXJ0ID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcclxuXHJcbiAgICAgICAgdGhpcy5idWxsZXRzID0gW107XHJcbiAgICAgICAgdGhpcy5uZXh0SW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdFNob3RUaW1lID0gMDtcclxuXHJcbiAgICAgICAgc3RhdGUuYnVsbGV0U3Bhd25lciA9IHRoaXMub2JqZWN0O1xyXG4gICAgICAgIHRoaXMuc291bmRDbGljayA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSwge1xyXG4gICAgICAgICAgICB2b2x1bWU6IDAuNSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvblRvdWNoRG93bihlKSB7XHJcbiAgICAgICAgLyoqIFByZXZlbnQgbGVmdCB0cmlnZ2VyIGZyb20gZmlyaW5nICovXHJcbiAgICAgICAgaWYgKGUuaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSBcInJpZ2h0XCIgKSB7XHJcbiAgICAgICAgICAgIC8qKiBMaW1pdCBob3cgZmFzdCBwbGF5ZXIgY2FuIHNob290ICovXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGxldCBsYXN0U2hvdFRpbWVHYXAgPSBNYXRoLmFicyhjdXJyZW50VGltZSAtIHRoaXMubGFzdFNob3RUaW1lKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsYXN0U2hvdFRpbWVHYXAgPiA1MDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpciA9IFswLCAwLCAwXTtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnY3Vyc29yJykuY3Vyc29yUmF5T2JqZWN0LmdldEZvcndhcmQoZGlyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5sYXVuY2goZGlyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNob3RUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNwYXduQnVsbGV0KCkge1xyXG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuZW5naW5lLnNjZW5lLmFkZE9iamVjdCgpO1xyXG4gICAgICAgIG9iai5zY2FsZUxvY2FsKFswLjA1LCAwLjA1LCAwLjA1XSk7XHJcblxyXG4gICAgICAgIG9iai5hZGRDb21wb25lbnQoXCJtZXNoXCIsIHtcclxuICAgICAgICAgICAgbWVzaDogdGhpcy5idWxsZXRNZXNoLm1lc2gsXHJcbiAgICAgICAgICAgIG1hdGVyaWFsOiB0aGlzLmJ1bGxldE1hdGVyaWFsLm1hdGVyaWFsLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG9iai5hZGRDb21wb25lbnQoXCJjb2xsaXNpb25cIiwge1xyXG4gICAgICAgICAgICBzaGFwZTogV0wuQ29sbGlkZXIuU3BoZXJlLFxyXG4gICAgICAgICAgICBleHRlbnRzOiBbMC4wNSwgMCwgMF0sXHJcbiAgICAgICAgICAgIGdyb3VwOiAxIDw8IDAsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBoeXNpY3MgPSBvYmouYWRkQ29tcG9uZW50KEJ1bGxldFBoeXNpY3MsIHtcclxuICAgICAgICAgICAgc3BlZWQ6IHRoaXMuYnVsbGV0U3BlZWQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGh5c2ljcy5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBvYmplY3Q6IG9iaixcclxuICAgICAgICAgICAgcGh5c2ljczogcGh5c2ljc1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy92aWJyYXRlcyBjb250cm9sbGVyIGZvciBoYXB0aWMgZmVlZGJhY2tcclxuXHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5lbmdpbmUueHIpIHJldHVybjtcclxuICAgICAgICB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICAgIFwic2VsZWN0c3RhcnRcIiwgdGhpcy5vblRvdWNoRG93bi5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICB4clNlc3Npb25TdGFydChzZXNzaW9uKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZSkgcmV0dXJuO1xyXG4gICAgICAgIHNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsIHRoaXMub25Ub3VjaERvd24uYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG59OyIsICJpbXBvcnQge1xyXG4gIENvbXBvbmVudCxcclxuICBJbnB1dENvbXBvbmVudCxcclxuICBNZXNoQ29tcG9uZW50LFxyXG4gIE9iamVjdDNELFxyXG4gIFByb3BlcnR5LFxyXG59IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IEN1cnNvclRhcmdldCwgSG93bGVyQXVkaW9Tb3VyY2UgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzJztcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICcuL2dhbWUuanMnO1xyXG5cclxuLyoqXHJcbiAqIEhlbHBlciBmdW5jdGlvbiB0byB0cmlnZ2VyIGhhcHRpYyBmZWVkYmFjayBwdWxzZS5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBBbiBvYmplY3Qgd2l0aCAnaW5wdXQnIGNvbXBvbmVudCBhdHRhY2hlZFxyXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyZW5ndGggU3RyZW5ndGggZnJvbSAwLjAgLSAxLjBcclxuICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIER1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGhhcHRpY0ZlZWRiYWNrKG9iamVjdCwgc3RyZW5ndGgsIGR1cmF0aW9uKSB7XHJcbiAgY29uc3QgaW5wdXQgPSBvYmplY3QuZ2V0Q29tcG9uZW50KElucHV0Q29tcG9uZW50KTtcclxuICBpZiAoaW5wdXQgJiYgaW5wdXQueHJJbnB1dFNvdXJjZSkge1xyXG4gICAgY29uc3QgZ2FtZXBhZCA9IGlucHV0LnhySW5wdXRTb3VyY2UuZ2FtZXBhZDtcclxuICAgIGlmIChnYW1lcGFkICYmIGdhbWVwYWQuaGFwdGljQWN0dWF0b3JzKVxyXG4gICAgICBnYW1lcGFkLmhhcHRpY0FjdHVhdG9yc1swXS5wdWxzZShzdHJlbmd0aCwgZHVyYXRpb24pO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEJ1dHRvbiBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFNob3dzIGEgJ2hvdmVyTWF0ZXJpYWwnIG9uIGN1cnNvciBob3ZlciwgbW92ZXMgYmFja3dhcmQgb24gY3Vyc29yIGRvd24sXHJcbiAqIHJldHVybnMgdG8gaXRzIHBvc2l0aW9uIG9uIGN1cnNvciB1cCwgcGxheXMgY2xpY2svdW5jbGljayBzb3VuZHMgYW5kIGhhcHRpY1xyXG4gKiBmZWVkYmFjayBvbiBob3Zlci5cclxuICpcclxuICogVXNlIGB0YXJnZXQub25DbGljay5hZGQoKCkgPT4ge30pYCBvbiB0aGUgYGN1cnNvci10YXJnZXRgIGNvbXBvbmVudCB1c2VkXHJcbiAqIHdpdGggdGhlIGJ1dHRvbiB0byBkZWZpbmUgdGhlIGJ1dHRvbidzIGFjdGlvbi5cclxuICpcclxuICogU3VwcG9ydHMgaW50ZXJhY3Rpb24gd2l0aCBgZmluZ2VyLWN1cnNvcmAgY29tcG9uZW50IGZvciBoYW5kIHRyYWNraW5nLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIFR5cGVOYW1lID0gJ2J1dHRvbic7XHJcbiAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAvKiogT2JqZWN0IHRoYXQgaGFzIHRoZSBidXR0b24ncyBtZXNoIGF0dGFjaGVkICovXHJcbiAgICBidXR0b25NZXNoT2JqZWN0OiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgIC8qKiBNYXRlcmlhbCB0byBhcHBseSB3aGVuIHRoZSB1c2VyIGhvdmVycyB0aGUgYnV0dG9uICovXHJcbiAgICBob3Zlck1hdGVyaWFsOiBQcm9wZXJ0eS5tYXRlcmlhbCgpLFxyXG4gICAgYnV0dG9uRnVuY3Rpb246IFByb3BlcnR5LmVudW0oW1xyXG4gICAgICAnYXR0YWNrLWRhbWFnZS11cCcsXHJcbiAgICAgICdhdHRhY2stcmFuZ2UtdXAnLFxyXG4gICAgICAnc3BlZWQtdXAnLFxyXG4gICAgICAncHJvZml0LXVwJyxcclxuICAgICAgJ2hlYWwtc2hpcCcsXHJcbiAgICBdKSxcclxuICB9O1xyXG5cclxuICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSk7XHJcbiAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoQ3Vyc29yVGFyZ2V0KTtcclxuICB9XHJcblxyXG4gIC8qIFBvc2l0aW9uIHRvIHJldHVybiB0byB3aGVuIFwidW5wcmVzc2luZ1wiIHRoZSBidXR0b24gKi9cclxuICByZXR1cm5Qb3MgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG5cclxuICBzdGFydCgpIHtcclxuICAgIHRoaXMubWVzaCA9IHRoaXMuYnV0dG9uTWVzaE9iamVjdC5nZXRDb21wb25lbnQoTWVzaENvbXBvbmVudCk7XHJcbiAgICB0aGlzLmRlZmF1bHRNYXRlcmlhbCA9IHRoaXMubWVzaC5tYXRlcmlhbDtcclxuICAgIHRoaXMuYnV0dG9uTWVzaE9iamVjdC5nZXRUcmFuc2xhdGlvbkxvY2FsKHRoaXMucmV0dXJuUG9zKTtcclxuXHJcbiAgICB0aGlzLnRhcmdldCA9XHJcbiAgICAgIHRoaXMub2JqZWN0LmdldENvbXBvbmVudChDdXJzb3JUYXJnZXQpIHx8XHJcbiAgICAgIHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChDdXJzb3JUYXJnZXQpO1xyXG5cclxuICAgIHRoaXMuc291bmRDbGljayA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSwge1xyXG4gICAgICBzcmM6ICdzZngvY2xpY2sud2F2JyxcclxuICAgICAgc3BhdGlhbDogdHJ1ZSxcclxuICAgIH0pO1xyXG4gICAgdGhpcy5zb3VuZFVuQ2xpY2sgPSB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQoSG93bGVyQXVkaW9Tb3VyY2UsIHtcclxuICAgICAgc3JjOiAnc2Z4L3VuY2xpY2sud2F2JyxcclxuICAgICAgc3BhdGlhbDogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgb25BY3RpdmF0ZSgpIHtcclxuICAgIHRoaXMudGFyZ2V0Lm9uSG92ZXIuYWRkKHRoaXMub25Ib3Zlcik7XHJcbiAgICB0aGlzLnRhcmdldC5vblVuaG92ZXIuYWRkKHRoaXMub25VbmhvdmVyKTtcclxuICAgIHRoaXMudGFyZ2V0Lm9uRG93bi5hZGQodGhpcy5vbkRvd24pO1xyXG4gICAgdGhpcy50YXJnZXQub25VcC5hZGQodGhpcy5vblVwKTtcclxuICB9XHJcblxyXG4gIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgIHRoaXMudGFyZ2V0Lm9uSG92ZXIucmVtb3ZlKHRoaXMub25Ib3Zlcik7XHJcbiAgICB0aGlzLnRhcmdldC5vblVuaG92ZXIucmVtb3ZlKHRoaXMub25VbmhvdmVyKTtcclxuICAgIHRoaXMudGFyZ2V0Lm9uRG93bi5yZW1vdmUodGhpcy5vbkRvd24pO1xyXG4gICAgdGhpcy50YXJnZXQub25VcC5yZW1vdmUodGhpcy5vblVwKTtcclxuICB9XHJcblxyXG4gIC8qIENhbGxlZCBieSAnY3Vyc29yLXRhcmdldCcgKi9cclxuICBvbkhvdmVyID0gKF8sIGN1cnNvcikgPT4ge1xyXG4gICAgdGhpcy5tZXNoLm1hdGVyaWFsID0gdGhpcy5ob3Zlck1hdGVyaWFsO1xyXG4gICAgaWYgKGN1cnNvci50eXBlID09PSAnZmluZ2VyLWN1cnNvcicpIHtcclxuICAgICAgdGhpcy5vbkRvd24oXywgY3Vyc29yKTtcclxuICAgIH1cclxuXHJcbiAgICBoYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjUsIDUwKTtcclxuICB9O1xyXG5cclxuICAvKiBDYWxsZWQgYnkgJ2N1cnNvci10YXJnZXQnICovXHJcbiAgb25Eb3duID0gKF8sIGN1cnNvcikgPT4ge1xyXG4gICAgdGhpcy5idXR0b25NZXNoT2JqZWN0LnRyYW5zbGF0ZShbMC4wLCAtMC4wNSwgMC4wXSk7XHJcbiAgICBoYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAxLjAsIDIwKTtcclxuICAgIC8vIHRoaXMuYnV0dG9uTWVzaE9iamVjdC5jaGlsZHJlblswXS5nZXRDb21wXHJcblxyXG4gICAgLy8gdGhpcy5idXR0b25NZXNoT2JqZWN0LmNoaWxkcmVuWzBdLmdldENvbXBvbmVudCgndGV4dCcpLnRleHQgPVxyXG4gICAgLy8gICBzdGF0ZS5nZXRBdHRhY2tEYW1hZ2VDb3N0KCk7XHJcblxyXG4gICAgdGhpcy5idXR0b25NZXNoT2JqZWN0LmNoaWxkcmVuWzBdLmdldENvbXBvbmVudCgndGV4dCcpLnRleHQgPVxyXG4gICAgICBzdGF0ZS5idXR0b25GdW5jdGlvbnNbdGhpcy5idXR0b25GdW5jdGlvbl0odGhpcyk7XHJcbiAgfTtcclxuXHJcbiAgLyogQ2FsbGVkIGJ5ICdjdXJzb3ItdGFyZ2V0JyAqL1xyXG4gIG9uVXAgPSAoXywgY3Vyc29yKSA9PiB7XHJcbiAgICB0aGlzLnNvdW5kVW5DbGljay5wbGF5KCk7XHJcbiAgICB0aGlzLmJ1dHRvbk1lc2hPYmplY3Quc2V0VHJhbnNsYXRpb25Mb2NhbCh0aGlzLnJldHVyblBvcyk7XHJcbiAgICBoYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjcsIDIwKTtcclxuICB9O1xyXG5cclxuICAvKiBDYWxsZWQgYnkgJ2N1cnNvci10YXJnZXQnICovXHJcbiAgb25VbmhvdmVyID0gKF8sIGN1cnNvcikgPT4ge1xyXG4gICAgdGhpcy5tZXNoLm1hdGVyaWFsID0gdGhpcy5kZWZhdWx0TWF0ZXJpYWw7XHJcbiAgICBpZiAoY3Vyc29yLnR5cGUgPT09ICdmaW5nZXItY3Vyc29yJykge1xyXG4gICAgICB0aGlzLm9uVXAoXywgY3Vyc29yKTtcclxuICAgIH1cclxuXHJcbiAgICBoYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjMsIDUwKTtcclxuICB9O1xyXG59XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuXHJcbi8qKlxyXG4gKiBydGVzdFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENlbGVzdGlhbFJvdGF0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgVHlwZU5hbWUgPSAnY2VsZXN0aWFsLXJvdGF0aW9uJztcclxuICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXHJcbiAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICBwYXJhbTogUHJvcGVydHkuZmxvYXQoMS4wKSxcclxuICB9O1xyXG5cclxuICB1cGRhdGUoZHQpIHtcclxuICAgIHRoaXMub2JqZWN0LnJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdChbMSwgMCwgMF0sIDAuMDU1NTU1KTtcclxuICB9XHJcbn1cclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgUHJvcGVydHksIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBUdXJyZXRBaW1lciB9IGZyb20gJy4vdHVycmV0LWFpbWVyJztcclxuaW1wb3J0IHsgUHJvamVjdGlsZVNwYXduZXIgfSBmcm9tICcuL3Byb2plY3RpbGUtc3Bhd25lcic7XHJcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSBcIi4vZ2FtZVwiO1xyXG5pbXBvcnQgeyBEZWZhdWx0VHVycmV0M0QgfSBmcm9tICcuL2RlZmF1bHRfdHVycmV0XzNEJztcclxuXHJcbi8qKlxyXG4gKiBkZWZhdWx0XHJcbiAqL1xyXG5jb25zdCB0ZW1wUXVhdDIgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xyXG5leHBvcnQgY2xhc3MgRGVmYXVsdCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZGVmYXVsdCc7XHJcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBwYXJhbTogUHJvcGVydHkuZmxvYXQoMS4wKVxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoVHVycmV0QWltZXIpO1xyXG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChQcm9qZWN0aWxlU3Bhd25lcik7XHJcbiAgICAgICAgZW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50KERlZmF1bHRUdXJyZXQzRCk7XHJcbiAgICB9XHJcbiAgICBtYWtlVHVycmV0KHgpIHtcclxuICAgICAgICAvLyBhZGRzIHRoZSBvYmplY3QgdG8gdGhlIHNjZW5lLCBhbmQgYWxsIG9mIHRoZSBjb21wb25lbnRzIGFuZCBtZXNoZXNcclxuICAgICAgICAvLyBhbmQgdGhlIHByb3BlcnRpZXMgb2YgdGhlIHR1cnJldC4gXHJcbiAgICAgICAgLy8gISEhISBJTVBPUlRBTlQuIFRoZSB0dXJyZXQgb2JqZWN0IGl0c2VsZiBpcyBncmFudGVkIG93bmVyc2lwIG9mIGFsbCBvZiB0aGUgZnVuY3Rpb25zIFxyXG4gICAgICAgIC8vIHJlbGF0ZWQgdG8gdHVycmV0IG9wZXJhdGlvbi4gQW55IGFkZGl0aW9uYWwgZnVuY3Rpb25hbGl0eSBzaG91bGQgZm9sbG93IHRoaXMgc3RhbmRhcmRcclxuICAgICAgICAvLyBUaGUgdHVycmV0IG9iamVjdDNEIHNob3VsZCBiZSBnaXZlbiB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXMgYW5kIGZ1bmN0aW9ucyB0byBwYXNzIG9udG8gY2hpbGRyZW5cclxuICAgICAgICAvLyBUT0RPIG1ha2UgdGhlIHRvd2VycyBzcGF3biBhdCBncm91bmQgbGV2ZWwgaW5zdGVhZCBvZiBmbG9hdGluZ1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG9iaiA9IHguZW5naW5lLnNjZW5lLmFkZE9iamVjdCgpO1xyXG4gICAgICAgIG9iai50dXJyZXQgPSBzdGF0ZS5kZWZhdWx0VHVycmV0M0QudHVycmV0LmNsb25lKG9iaik7XHJcbiAgICAgICAgb2JqLmJhc2UgPSBzdGF0ZS5kZWZhdWx0VHVycmV0M0QuYmFzZS5jbG9uZShvYmopO1xyXG4gICAgICAgIC8vIE5VTEwgb2JqZWN0cyBmb3IgZnVuY3Rpb24vcHJvcGVydHkgYWxsb2NhdGlvbiBmcm9tIGNoaWxkcmVuXHJcbiAgICAgICAgb2JqLnRhcmdldCA9IG51bGw7XHJcbiAgICAgICAgb2JqLnNob290ID0gbnVsbDtcclxuICAgICAgICBvYmouY2QgPSB4LnNob290aW5nQ0Q7XHJcbiAgICAgICAgb2JqLm5hbWUgPSBcInNhbVwiO1xyXG4gICAgICAgIG9iai5zdGF0dXMgPSBudWxsO1xyXG4gICAgICAgIG9iai5kYW1hZ2UgPSB4LmRhbWFnZTtcclxuICAgICAgICBvYmouYnVsbGV0TWVzaCA9IHtcclxuICAgICAgICAgICAgbWVzaDpzdGF0ZS5kZWZhdWx0VHVycmV0M0QuYnVsbGV0TWVzaCxcclxuICAgICAgICAgICAgbWF0ZXJpYWw6IHN0YXRlLmRlZmF1bHRUdXJyZXQzRC5idWxsZXRNYXRlcmlhbCxcclxuICAgICAgICB9XHJcbiAgICAgICAgb2JqLmFkZENvbXBvbmVudChcImNvbGxpc2lvblwiLCB7XHJcbiAgICAgICAgICAgIGNvbGxpZGVyOiBXTC5Db2xsaWRlci5TcGhlcmUsXHJcbiAgICAgICAgICAgIGV4dGVudHM6IFs1LCAwLCAwXSxcclxuICAgICAgICAgICAgZ3JvdXA6IDEgPDwgNSxcclxuICAgICAgICAgICAgLy8gdGhpcyBjb2RlIGlzIGEgdGVzdCB0byBzZWUgaG93IHRvIHRyaWdnZXIgQ29sbGlzaW9uIE9uaGl0IGFuZCBvbmxlYXZlIHRoYXQgaGFzXHJcbiAgICAgICAgICAgIC8vIHNvbWUgZG9jdW1lbnRhdGlvbiBvbiB3b25kZXJsYW5kLCBidXQgSSBjYW50IGZpZ3JlIG91dCBob3cgdG8gdXNlXHJcbiAgICAgICAgICAgIC8vIElGIHdlIGNhbiBnZXQgaXQgd29ya2luZyBpdCB3b3VsZCBtYWtlIGFpbWluZyBhbmQgc2hvb3Rpbmcgc2lnbmlmZmljYW50bHlcclxuICAgICAgICAgICAgLy8gICBtb3JlIGVmZmljaWVudFxyXG4gICAgICAgICAgICBDb2xsaXNpb25FdmVudFR5cGU6IDEsXHJcbiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYWltZXIgaXMgaXRzIG93biBuYW1lZCBvYmplY3QgYmVjYXVzZSBvZiBhIHByZXZpb3VzIHZlcnNpb24sIGl0IHNob3VsZCBqdXN0IGJlIGFkZGVkIGFzXHJcbiAgICAgICAgLy8gb2JqLmFkZENvbXBvbmVudCh0dXJyZXRBaW1lcikgYnV0IHRoYXQgY3JycmVudGx5IGdpdmVzIGVycm9yc1xyXG4gICAgICAgIG9iai5hZGRDb21wb25lbnQoVHVycmV0QWltZXIpO1xyXG4gICAgICAgIG9iai5hZGRDb21wb25lbnQoUHJvamVjdGlsZVNwYXduZXIpO1xyXG5cclxuICAgICAgICAvLyBTZXRzIHRvd2VyIHBvc2l0aW9uLCBtYWtlcyBpdCBmbG9hdCBmbGF0IGluZGVwZW5kZW50IG9mIHNwYXduIGFuZ2xlLCBhbmQgc2NhbGVcclxuICAgICAgICBvYmouc2V0VHJhbnNmb3JtTG9jYWwoeC5vYmplY3QuZ2V0VHJhbnNmb3JtV29ybGQodGVtcFF1YXQyKSk7XHJcbiAgICAgICAgb2JqLnNldFNjYWxpbmdMb2NhbChbMC4yLCAwLjQsIDAuMl0pO1xyXG4gICAgICAgIG9iai5zZXRSb3RhdGlvbkxvY2FsKFswLCAwLCAwLCAxXSk7XHJcblxyXG4gICAgICAgIG9iai5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIC8vIHB1c2hlcyB0aGUgdHVycmV0cyB0byBhIHZlY3RvciBpbiBzdGF0ZVxyXG4gICAgICAgIC8vIHN0YXRlLnR1cnJldHMgY2FuIGJlIGNhbGxlZCBpbiBvdGhlciBjbGFzc2VzIGZvciBidWdmaXhpbmcuXHJcbiAgICAgICAgc3RhdGUudHVycmV0cy5wdXNoKG9iaik7XHJcbiAgICAgICAgb2JqLnNldERpcnR5KCk7XHJcbiAgICB9XHJcbn07IiwgImltcG9ydCB7IENvbGxpc2lvbkV2ZW50VHlwZSwgQ29tcG9uZW50LCBQcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSBcIi4vZ2FtZVwiO1xyXG5cclxuLyoqXHJcbiAqIFR1cnJldGFpbWVyXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVHVycmV0QWltZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3R1cnJldC1haW1lcic7XHJcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgIH07XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnc3RhcnQoKSB3aXRoIHBhcmFtJywgdGhpcy5wYXJhbSk7XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMudGltZXIgPSAwO1xyXG4gICAgICAgIHRoaXMuaGl0cyA9IDA7XHJcbiAgICB9XHJcbiAgICBzZWVrKCkge1xyXG4gICAgICAgIGNvbnN0IGNvbGxpc2lvbiA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnY29sbGlzaW9uJyk7XHJcbiAgICAgICAgY29uc3Qgb3ZlcmxhcHMgPSBjb2xsaXNpb24ucXVlcnlPdmVybGFwcygpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY29sbCBvZiBvdmVybGFwcykge1xyXG4gICAgICAgICAgICBpZiAoY29sbC5vYmplY3QubmFtZSA9PT0gXCJkYXZlXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9iamVjdC50YXJnZXQgPT09IG51bGwgfHwgdGhpcy5vYmplY3QudGFyZ2V0LndhbGtlZCA8IGNvbGwub2JqZWN0LndhbGtlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnRhcmdldCA9IGNvbGwub2JqZWN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7IHRoaXMub2JqZWN0LnRhcmdldCA9IG51bGw7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNoZWNrU3RhdHVzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9iamVjdC5zdGF0dXMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC50YXJnZXQucG9pc29uZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC50YXJnZXQucG9pc29uU3RhY2sgKz0gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjaGVja0RlYWQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub2JqZWN0LnRhcmdldC5oZWFsdGggPD0gMCkge1xyXG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW5jeSArPSB0aGlzLm9iamVjdC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnRhcmdldC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHN0YXRlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgc3RhdGUuZW5lbWllc0Rlc3Ryb3llZCsrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZpcmUoKSB7XHJcblxyXG4gICAgICAgIGxldCBnID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICAvLyB0aGlzIHBhcnQgb2YgdGhlIGNvZGUgY2hlY2tzIHRvIG1ha2Ugc3VyZSB0aGUgdGFyZ2V0IGlzIHN0aWxsIGluIHJhbmdlLCBhbmQgdGhlbiBzaG9vdHNcclxuICAgICAgICAvLyBhdCB0aGUgdGFyZ2V0IGFuZCBkZWxldGVzIGl0IGlmIHRoZSB0YXJnZXQgaXMgYXQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDAgaHBcclxuICAgICAgICBjb25zdCBjb2xsaXNpb24gPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2NvbGxpc2lvbicpO1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXBzID0gY29sbGlzaW9uLnF1ZXJ5T3ZlcmxhcHMoKTtcclxuICAgICAgICBsZXQgZmlyZWQgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNvbGwgb2Ygb3ZlcmxhcHMpIHtcclxuICAgICAgICAgICAgaWYgKGZpcmVkID09IGZhbHNlICYmIGNvbGwub2JqZWN0ID09PSB0aGlzLm9iamVjdC50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnR1cnJldC5sb29rQXQodGhpcy5vYmplY3QudGFyZ2V0LmdldFBvc2l0aW9uV29ybGQoKSwgWzAsIDEsIDBdKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gdGhpcy5vYmplY3QuY2QpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50bHkgc2hvb3QganVzdCBsYXVuY2hlcyB0aGUgb2JqZWN0IGluIHRoZSBkaXJlY3Rpb24gb2YgdGhlIHRhcmdldCwgd2hldGhlciBvciBub3QgdGhlIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb2plY3RpbGUgaGl0cyB0aGUgdGFyZ2V0IGlzIGlycmVsZXZhbnQsIGRhbWFnZSBpcyBjYWxjdWxhdGVkIGhlcmUgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnNob290KHRoaXMub2JqZWN0LnR1cnJldC5nZXRGb3J3YXJkV29ybGQoZykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnRhcmdldC5oZWFsdGggLT0gdGhpcy5vYmplY3QuZGFtYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnRseSB0aGUgb25seSBzdGF0dXMgaW4gdGhlIGdhbWUgaXMgcG9pc29uLCBzbyB0aGlzIGNvZGUgYXV0b21hdGljYWxseSBzZXRzIHRoZSB0YXJnZXQgdG8gcG9pc29uZWRcclxuICAgICAgICAgICAgICAgICAgICAvLyBmdXR1cmUgc3RhdHVzIGVmZmVjdHMgd2lsbCBuZWVkIHRvIGJlIGFkZGVkIGhlcmVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrU3RhdHVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lciA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBjb2RlIGNoZWNrcyB0byBzZWUgaWYgdGhlIHRhcmdldCBpcyBkZWFkIGZyb20gdGhlIGluaXRpYWwgc2hvdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzIGFsc28gY2FsbHMgdG8gZGVsZXRlIHRoZSBvYmplY3QgaW4gb3RoZXIgZmlsZXMgKFdheXBvaW50LmpzLCBhbmQgZW5lbXlzcGF3bmVyLmpzKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFueSBjb2RlIHRoYXQgY2FyZXMgYWJvdXQgYW4gZW5lbXkgYmVpbmcgZGVzdHJveWVkIG5lZWRzIHRvIGJlIGFkZGVkIHRvIGFsbCBvZiB0aGVtXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0RlYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmaXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgdGhlIHRhcmdldCB3YXMgbm90IGZpcmVkIGF0LCBpdCBtZWFucyB0aGVyZSB3YXMgbm8gdGFyZ2V0IGluIHJhbmdlLCBzbyB0aGUgdGFyZ2V0IGlzIHNldCB0byBudWxsXHJcbiAgICAgICAgaWYgKCFmaXJlZCkgeyB0aGlzLm9iamVjdC50YXJnZXQgPSBudWxsIH07XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgdGhpcy50aW1lciArPSBkdDtcclxuICAgICAgICAvLyB0aGlzIGZ1bmN0aW9uIGNoZWNrcyB0byBzZWUgaWYgdGhlcmUgaXMgYW4gZW5lbXkgdGFyZ2V0IGluIGRlZmF1bHQgcmFuZ2VcclxuICAgICAgICBpZiAodGhpcy5vYmplY3QudGFyZ2V0ID09IG51bGwgfHwgdGhpcy5vYmplY3QudGFyZ2V0Lm9iamVjdElkIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlZWsoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSB0YXJnZXQgaW4gcmFuZ2UsIG1ha2VzIHRoZSB0dXJyZXQgbG9vayBhdCBhbmQgdGhlbiBmaXJlIGF0IHNhaWQgdGFyZ2V0LFxyXG4gICAgICAgIC8vIFRPRE8gZmluZCBzb21lIHdheSB0byBsb2NrIHRoZSBub24gWSBheGlzIHJvdGF0aW9uXHJcbiAgICAgICAgaWYgKHRoaXMub2JqZWN0LnRhcmdldCAmJiB0aGlzLm9iamVjdC50YXJnZXQuaXNEZXN0cm95ZWQgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5maXJlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BlcnR5LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgUHJvamVjdGlsZVBoeXNpY3MgfSBmcm9tICcuL3Byb2plY3RpbGUtcGh5c2ljcyc7XHJcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSAnLi9nYW1lJ1xyXG4vKipcclxuICogcHJvamVjdGlsZS1zcGF3bmVyXHJcbiAqIHNwYXducyBwcm9qZWN0aWxlcyBmb3IgVFVSUkVUIG9iamVjdHNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBQcm9qZWN0aWxlU3Bhd25lciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAncHJvamVjdGlsZS1zcGF3bmVyJztcclxuXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoUHJvamVjdGlsZVBoeXNpY3MpO1xyXG4gICAgfVxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICAvLyBncmFudHMgdGhlIHNob290IGZ1bmN0aW9uIHRvIHRoZSBPYmplY3QzRCB0aGF0IHByb2plY3RpbGVTcGF3bmVyIGlzIGF0dGF0Y2VoZCB0b1xyXG4gICAgICAgIC8vIGFsc28gc2V0cyB0aGUgcGh5c2ljcyBvYmplY3QgdGhhdCB3aWxsIGJlIGF0dGF0Y2hlZCB0byB0aGUgcHJvamVjdGlsZXMsIGFuZCB0aGUgZGlyZWN0aW9uIHRvIGJlIGxhdW5jaGVkXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJQcm9qZWN0aWxlIHNwYXduZXIgbmV3KyFcIik7XHJcbiAgICAgICAgdGhpcy50aW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5vYmplY3Quc2hvb3QgPSBmdW5jdGlvbiAoZGlyKSB7XHJcbiAgICAgICAgICAgIGxldCBwcm9qZWN0aWxlID0gdGhpcy5zcGF3bigpO1xyXG4gICAgICAgICAgICBwcm9qZWN0aWxlLnBoeXNpY3MuZGlyLnNldChkaXIpO1xyXG4gICAgICAgICAgICBwcm9qZWN0aWxlLm9iamVjdC5zZXREaXJ0eSgpO1xyXG4gICAgICAgICAgICBwcm9qZWN0aWxlLnBoeXNpY3MuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9O1xyXG4gICAgc3Bhd24oKSBcclxuICAgIHtcclxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmVuZ2luZS5zY2VuZS5hZGRPYmplY3QoKTtcclxuICAgICAgICBsZXQgbWVzaCA9IG9iai5hZGRDb21wb25lbnQoJ21lc2gnLCB0aGlzLm9iamVjdC5idWxsZXRNZXNoKTtcclxuICAgICAgICBtZXNoLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgb2JqLmFkZENvbXBvbmVudCgnY29sbGlzaW9uJywgeyBzaGFwZTogV0wuQ29sbGlkZXIuU3BoZXJlLCBleHRlbnRzOiBbMC4wNSwgMCwgMF0sIGdyb3VwOiAxIDw8IDAgfSlcclxuICAgICAgICBvYmoubmFtZSA9IFwic3RldmVuXCI7XHJcbiAgICAgICAgb2JqLnNldFBvc2l0aW9uTG9jYWwodGhpcy5vYmplY3QudHVycmV0LmNoaWxkcmVuWzNdLmdldFBvc2l0aW9uV29ybGQoKSk7XHJcbiAgICAgICAgY29uc3QgcGh5c2ljcyA9IG9iai5hZGRDb21wb25lbnQoUHJvamVjdGlsZVBoeXNpY3MsIHsgc3BlZWQ6IC4yIH0pO1xyXG4gICAgICAgIHBoeXNpY3MuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4geyBvYmplY3Q6IG9iaiwgcGh5c2ljczogcGh5c2ljcyB9O1xyXG4gICAgfVxyXG59XHJcbiIsICIvKlxyXG4gICAgQ29weXJpZ2h0IDIwMjEuIEZ1dHVyZXdlaSBUZWNobm9sb2dpZXMgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gICAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICAgIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICAgIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gICAgaHR0cDogIHd3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAgICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAgICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAgICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICAgIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICAgIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qL1xyXG5cclxuaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaVwiO1xyXG5pbXBvcnQgeyB2ZWMzIH0gZnJvbSBcImdsLW1hdHJpeFwiO1xyXG5pbXBvcnQgeyBzdGF0ZSB9IGZyb20gXCIuL2dhbWVcIjtcclxuLyoqXHJcbkBicmllZiBDb250cm9scyB0aGUgYnVsbGV0IHRyYWplY3RvcnlcclxuXHJcbkRlYWN0aXZhdGVzIGJ1bGxldCB1cGRhdGVzIHRvIHByZXNlcnZlIHBlcmZvcm1hbmNlLiBCdWxsZXRzIGNvbGxpc2lvbiBpcyBhbHNvXHJcbmRlYWN0aXZhdGVkIHdoZW4gdGhlIGJ1bGxldCBpcyBvbiB0aGUgZ3JvdW5kLiBUaGlzIGlzIGRvbmUgdG8gcHJldmVudCB0aGUgXHJcbnNjb3JlLXRyaWdnZXIgZ29pbmcgb2ZmIHdoZW4gdGhlIG1pY2UgcnVuIG92ZXIgdGhlIGJ1bGxldHMuXHJcbiovXHJcblxyXG5sZXQgbmV3RGlyID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuZXhwb3J0IGNsYXNzIFByb2plY3RpbGVQaHlzaWNzIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9IFwicHJvamVjdGlsZS1waHlzaWNzXCI7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBzcGVlZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiA5LjAgfSxcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIC8vIFNldHMgcG9zaXRpb24sIHNjYWxlLCBzcGVlZCwgYW5kIGdldHMgdGhlIGNvbGxpc2lvbiBib3ggb2YgdGhlIG9iamVjdFxyXG4gICAgICAgIHRoaXMuZGlyID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gWzAsIDAsIDBdO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFBvc2l0aW9uV29ybGQodGhpcy5wb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0U2NhbGluZ1dvcmxkKFsuMSwgLjEsIC4xXSk7XHJcbiAgICAgICAgdGhpcy5jb3JyZWN0ZWRTcGVlZCA9IHRoaXMuc3BlZWQgKiA1O1xyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdjb2xsaXNpb24nLCAwKTtcclxuICAgICAgICBpZiAoIXRoaXMuY29sbGlzaW9uKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgICAgIFwiYnVsbGV0LXBoeXNpY3MnIGNvbXBvbmVudCBvbiBvYmplY3RcIixcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICBcInJlcXVpcmVzIGEgY29sbGlzaW9uIGNvbXBvbmVudFwiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgaWYgKGlzTmFOKGR0KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImR0IGlzIE5hTlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL3VwZGF0ZSBwb3NpdGlvblxyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFBvc2l0aW9uV29ybGQodGhpcy5wb3NpdGlvbik7XHJcbiAgICAgICAgLy9kZWFjdGl2YXRlIGJ1bGxldCBpZiB0aHJvdWdoIHRoZSBmbG9vclxyXG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uWzFdIDw9IHN0YXRlLmZsb29ySGVpZ2h0ICsgdGhpcy5jb2xsaXNpb24uZXh0ZW50c1swXSkge1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lCdWxsZXQoMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9kZWFjdGl2YXRlIGJ1bGxldCBpZiB0cmF2ZWwgZGlzdGFuY2UgdG9vIGZhclxyXG4gICAgICAgIGlmICh2ZWMzLmxlbmd0aCh0aGlzLnBvc2l0aW9uKSA+IDE3NSkge1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lCdWxsZXQoMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5ld0Rpci5zZXQodGhpcy5kaXIpO1xyXG4gICAgICAgIHZlYzMuc2NhbGUobmV3RGlyLCBuZXdEaXIsIHRoaXMuY29ycmVjdGVkU3BlZWQpO1xyXG4gICAgICAgIHZlYzMuYWRkKHRoaXMucG9zaXRpb24sIHRoaXMucG9zaXRpb24sIG5ld0Rpcik7XHJcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0UG9zaXRpb25Mb2NhbCh0aGlzLnBvc2l0aW9uKTtcclxuICAgICAgICBsZXQgb3ZlcmxhcHMgPSB0aGlzLmNvbGxpc2lvbi5xdWVyeU92ZXJsYXBzKCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdmVybGFwcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lCdWxsZXQoMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkZXN0cm95QnVsbGV0KHRpbWUpIHtcclxuICAgICAgICBpZiAodGltZSA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LmRlc3Ryb3koKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LmRlc3Ryb3koKVxyXG4gICAgICAgICAgICB9LCB0aW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07IiwgImltcG9ydCB7Q29tcG9uZW50LCBPYmplY3QzRCwgUHJvcGVydHksIFR5cGV9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7c3RhdGUgfSBmcm9tICcuL2dhbWUnO1xyXG4vKipcclxuICogZGVmYXVsdF90dXJyZXRfM0RcclxuICovXHJcbmV4cG9ydCBjbGFzcyBEZWZhdWx0VHVycmV0M0QgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2RlZmF1bHRfdHVycmV0XzNEJztcclxuICAgIC8qIFByb3BlcnRpZXMgdGhhdCBhcmUgY29uZmlndXJhYmxlIGluIHRoZSBlZGl0b3IgKi9cclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIHR1cnJldDoge3R5cGU6IFR5cGUuT2JqZWN0fSxcclxuICAgICAgICBiYXNlOnt0eXBlOiBUeXBlLk9iamVjdH0sXHJcbiAgICAgICAgYnVsbGV0TWVzaDoge3R5cGU6IFR5cGUuTWVzaH0sXHJcbiAgICAgICAgYnVsbGV0TWF0ZXJpYWw6IHt0eXBlOiBUeXBlLk1hdGVyaWFsfVxyXG4gICAgfTtcclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBzdGF0ZS5kZWZhdWx0VHVycmV0M0QgPSB0aGlzOyB9XHJcbn1cclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSwgUHJvcGVydHksIE9iamVjdDNEIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcbmltcG9ydCB7IFdheXBvaW50TW92ZW1lbnQgfSBmcm9tIFwiLi93YXlwb2ludC1tb3ZlbWVudFwiO1xyXG5pbXBvcnQgeyBEZWZhdWx0VHVycmV0M0QgfSBmcm9tICcuL2RlZmF1bHRfdHVycmV0XzNEJztcclxuXHJcblxyXG4vKipcclxuICogZW5lbXktc3Bhd25lclxyXG4gKi9cclxuXHJcbmNvbnN0IHRlbXBRdWF0MiA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XHJcbmV4cG9ydCBjbGFzcyBFbmVteVNwYXduZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2VuZW15LXNwYXduZXInO1xyXG4gICAgLyogUHJvcGVydGllcyB0aGF0IGFyZSBjb25maWd1cmFibGUgaW4gdGhlIGVkaXRvciAqL1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgZGVmYXVsdEVuZW15OiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXHJcbiAgICAgICAgZGVmYXVsdE1lc2g6IHsgdHlwZTogVHlwZS5NZXNoIH0sXHJcbiAgICAgICAgZGVmYXVsdE1hdGVyaWFsOiB7IHR5cGU6IFR5cGUuTWF0ZXJpYWwgfSxcclxuICAgICAgICBzcGF3blRpbWVyOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDMgfSxcclxuICAgICAgICBkZWZhdWx0SGVhbHRoIDogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogNTB9LFxyXG4gICAgICAgIGRlZmF1bHRSZXdhcmQ6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDEwfSxcclxuICAgICAgICBzcGVjaWFsUmV3YXJkQ2hhbmNlOiB7IHR5cGU6IFR5cGUuSW50LCBkZWZhdWx0IDogMX0sXHJcbiAgICAgICAgZGVmYXVsdFNwZWVkOiB7dHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMy4wfSxcclxuICAgICAgICBkZWZhdWx0RGFtYWdlIDoge3R5cGUgOlR5cGUuSW50LCBkZWZhdWx0IDogNX0sXHJcbiAgICAgICAgcG9pc29uZWQ6IHsgdHlwZTpUeXBlLkJvb2wsIGRlZmF1bHQ6IGZhbHNlfSxcclxuICAgIH07XHJcblxyXG4gICAgLy8gVGhlIGdhbWUgZmlsZSBjb250YWlucyB0aGUgc3RhdGUgb2JqZWN0LCB0aGUgaW5pdCBmdW5jdGlvbiBhZGRzIGEgZnVuY3Rpb25cclxuICAgIC8vIGNhbGxlZCBzcGF3biB0byB0aGUgc3RhdGUgZmlsZSwgYXNzaWducyB0aGUgY2FsbGluZyBvYmplY3QgYXMgdGhlIHNwYXducG9pbnQsXHJcbiAgICAvLyBhbmQgaW5zdGF0bmlhdGVzIHRoZSB0aW1lciBmb3Igc3Bhd24gZGVsYXlcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy50aW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5kcm9uZSA9IGZhbHNlO1xyXG4gICAgICAgIHN0YXRlLkVuZW15U3Bhd25lci5wdXNoKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwicGF1bFwiO1xyXG4gICAgICAgIHN0YXRlLnNwYXduID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICBsZXQgZW5lbXkgPSBvYmplY3Quc3Bhd25FbmVteSgpO1xyXG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50RW5lbWllcy5wdXNoKGVuZW15KTtcclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInN0YXJ0XCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMubmFtZSk7XHJcbiAgICB9XHJcbiAgICAvLyBOb3QgZXhhY3RseSBzdXJlIHdoeSB3ZSBuZWVkIHRoaXMgYnV0IHdlIGRvXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoV2F5cG9pbnRNb3ZlbWVudCk7XHJcbiAgICB9XHJcbiAgICAvLyBzcGF3bnMgYSBuZXcgZW5lbXkgZXZlcnkgNSBzZWNvbmRzIFxyXG4gICAgLy8gVE9ETyBhZGQgYSBzcGF3bnRpbWVyIGZ1bmN0aW9uIGFuZCB1c2UgdGhhdCBpbnN0ZWFkIG9mIGhhcmRjb2RpbmcgdGhlIHRpbWVcclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIHRoaXMudGltZXIgKz0gZHQ7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZXIgPiB0aGlzLnNwYXduVGltZXIgJiYgc3RhdGUucGF1c2VFbmVtaWVzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyID0gMDtcclxuICAgICAgICAgICAgc3RhdGUuc3Bhd24odGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gVE9ETyBhZGQgYSBvbkhJdCBmdW5jdGlvbiB0byB0aGUgb2JqZWN0IHRoYXQgaXMgc3Bhd25lZCBcclxuXHJcbiAgICBzcGF3bkVuZW15KCkge1xyXG4gICAgICAgIC8vIHRoaXMgY3JlYXRlcyBhbiBvYmplY3QgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgd29uZGVybGFuZCBzY2VuZVxyXG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuZW5naW5lLnNjZW5lLmFkZE9iamVjdCgpO1xyXG4gICAgICAgIG9iai5lbmVtID0gdGhpcy5kZWZhdWx0RW5lbXkuY2xvbmUob2JqKTtcclxuICAgICAgICBvYmouZW5lbS5zZXRTY2FsaW5nTG9jYWwoWzMsMywzXSk7XHJcbiAgICAgICAgLy8gU2V0cyB0aGUgbG9jYXRpb24gb2YgdGhlIG5ldyBvYmplY3QgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIHNwYXduIHBvaW50XHJcbiAgICAgICAgb2JqLnNldFRyYW5zZm9ybUxvY2FsKHRoaXMub2JqZWN0LmdldFRyYW5zZm9ybVdvcmxkKHRlbXBRdWF0MikpO1xyXG4gICAgICAgIC8vIGFkZHMgbWVzaCB0byB0aGUgbmV3IG9iamVjdCByZWZlcmVudmluZyB0aGUgbWVzaCBkZXNpZ25hdGVkIGJ5IHRoZVxyXG4gICAgICAgIC8vc3Bhd25pbmcgb2JqZWN0IGluIHRoZSBlZGl0b3JcclxuICAgICAgICBvYmoucG9pc29uZWQgPSBmYWxzZTtcclxuICAgICAgICAvLyBncmFudHMgdGhlIG5ldyBlbmVteSBvYmplY3QgYSBjb2xsaXNpb24gYm94XHJcbiAgICAgICAgb2JqLmFkZENvbXBvbmVudChcImNvbGxpc2lvblwiLCB7XHJcbiAgICAgICAgICAgIHNoYXBlOiBXTC5Db2xsaWRlci5TcGhlcmUsXHJcbiAgICAgICAgICAgIGV4dGVudHM6IFs1LCAwLCAwXSxcclxuICAgICAgICAgICAgZ3JvdXA6IDEgPDwgNSxcclxuICAgICAgICAgICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHBvdGVudGlhbCBkaXN0YW5jZSB0cmF2ZWxlZCBmb3IgZW5lbXkgc2VsZWN0aW9uXHJcbiAgICAgICAgb2JqLndhbGtlZCA9IDA7XHJcbiAgICAgICAgb2JqLnRpbWVyID0gMDtcclxuICAgICAgICBvYmoucG9pc29uU3RhY2sgPSAwO1xyXG4gICAgICAgIG9iai5oZWFsdGggPSB0aGlzLmRlZmF1bHRIZWFsdGg7XHJcbiAgICAgICAgb2JqLmRhbWFnZSA9IHRoaXMuZGVmYXVsdERhbWFnZTtcclxuICAgICAgICBvYmoudmFsdWUgPSB0aGlzLmRlZmF1bHRSZXdhcmQ7XHJcbiAgICBcclxuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgb2JqZWN0IHRoYXQgaXMgYSBjb3B0IG9mIHRoZSBXYXlwb2ludCBNb3ZlbWVudCBvYmplY3QgXHJcbiAgICAgICAgLy8gYmVsb25naW5nIHRvIHRoZSBzcGF3bmVyXHJcbiAgICAgICAgbGV0IG8gPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoV2F5cG9pbnRNb3ZlbWVudCk7XHJcbiAgICAgICAgby5zcGVlZCA9IHRoaXMuZGVmYXVsdFNwZWVkO1xyXG5cclxuICAgICAgICAvL1RoaXMgY29kZSBpcyBtZWFudCB0byBiZSBob3cgd2UgdHJhY2sgdGhlIGhlYWx0aCBvZiB0aGUgZW5lbWllcywgY3VycmVudGx5IG5vdCBkb2luZyBhbnl0aGluZ1xyXG4gICAgICAgIG9iai5mID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzdGF0ZS5oZWFsdGggLT0gb2JqLmRhbWFnZTtcclxuICAgICAgICAgICAgLy8gaWYgc3RhdGUuaGVhbHRoIDw9IDAgc3RhdGUuZ2FtZU92ZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHN0YXRlLmN1cnJlbnRFbmVtaWVzLmluZGV4T2Yob2JqKTtcclxuICAgICAgICAgICAgY29uc3QgeCA9IHN0YXRlLmN1cnJlbnRFbmVtaWVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIHN0YXRlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgb2JqLmRlc3Ryb3koKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgY29waWVkIG1vdmVtZW50IG9iamVjdCB0byB0aGUgbmV3IGVuZW15LCBpbmNsdWRpbmdcclxuICAgICAgICAvLyB0aGUgcGF0aE9iamVjdCBvZiB0aGUgcGFyZW50IHNwZWNpZmllZCBpbiB0aGUgZWRpdG9yXHJcblxyXG4gICAgICAgIG9iai5hZGRDb21wb25lbnQoV2F5cG9pbnRNb3ZlbWVudCwgbyk7XHJcbiAgICAgICAgb2JqLnNldFNjYWxpbmdMb2NhbChbLjIsIC4yLCAuMl0pO1xyXG4gICAgICAgIG9iai5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIG9iai5uYW1lID0gXCJkYXZlXCI7XHJcbiAgICAgICAgb2JqLnNldERpcnR5KCk7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgdmVjMyB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSAnLi9nYW1lJztcclxuXHJcbi8qXHJcbk9yaWdpbmFsIGF1dGhvcnMgXHUyMDE0IGNyZWRpdCBpcyBhcHByZWNpYXRlZCBidXQgbm90IHJlcXVpcmVkOlxyXG5cclxuICAgICAyMDIxIFx1MjAxNCBGbG9yaWFuIElzaWtjaSA8Zmxvcmlhbi5pc2lrY2lAdmhpdGVyYWJiaXQuY29tPlxyXG5cclxuIFRoaXMgaXMgZnJlZSBhbmQgdW5lbmN1bWJlcmVkIHNvZnR3YXJlIHJlbGVhc2VkIGludG8gdGhlIHB1YmxpYyBkb21haW4uXHJcbiBBbnlvbmUgaXMgZnJlZSB0byBjb3B5LCBtb2RpZnksIHB1Ymxpc2gsIHVzZSwgY29tcGlsZSwgc2VsbCwgb3IgZGlzdHJpYnV0ZVxyXG4gdGhpcyBzb2Z0d2FyZSwgZWl0aGVyIGluIHNvdXJjZSBjb2RlIGZvcm0gb3IgYXMgYSBjb21waWxlZCBiaW5hcnksIGZvciBhbnlcclxuIHB1cnBvc2UsIGNvbW1lcmNpYWwgb3Igbm9uLWNvbW1lcmNpYWwsIGFuZCBieSBhbnkgbWVhbnMuXHJcblxyXG4gSW4ganVyaXNkaWN0aW9ucyB0aGF0IHJlY29nbml6ZSBjb3B5cmlnaHQgbGF3cywgdGhlIGF1dGhvciBvciBhdXRob3JzIG9mXHJcbiB0aGlzIHNvZnR3YXJlIGRlZGljYXRlIGFueSBhbmQgYWxsIGNvcHlyaWdodCBpbnRlcmVzdCBpbiB0aGUgc29mdHdhcmUgdG9cclxuIHRoZSBwdWJsaWMgZG9tYWluLiBXZSBtYWtlIHRoaXMgZGVkaWNhdGlvbiBmb3IgdGhlIGJlbmVmaXQgb2YgdGhlIHB1YmxpY1xyXG4gYXQgbGFyZ2UgYW5kIHRvIHRoZSBkZXRyaW1lbnQgb2Ygb3VyIGhlaXJzIGFuZCBzdWNjZXNzb3JzLiBXZSBpbnRlbmQgdGhpc1xyXG4gZGVkaWNhdGlvbiB0byBiZSBhbiBvdmVydCBhY3Qgb2YgcmVsaW5xdWlzaG1lbnQgaW4gcGVycGV0dWl0eSBvZiBhbGxcclxuIHByZXNlbnQgYW5kIGZ1dHVyZSByaWdodHMgdG8gdGhpcyBzb2Z0d2FyZSB1bmRlciBjb3B5cmlnaHQgbGF3LlxyXG5cclxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTExcclxuIFRIRSBBVVRIT1JTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUlxyXG4gSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU5cclxuIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGNsYXNzIFdheXBvaW50TW92ZW1lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3dheXBvaW50LW1vdmVtZW50JztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBUaGlzIG9iamVjdCBpcyB0aGUgY29udGFpbmVyIG9mIHRoZSB3YXlwb2ludHMuIEl0IHNob3VsZCBjb250YWluIGNoaWxkcmVuXHJcbiAgICB3aXRoIGFuIGFscGhlYmV0aWNhbGx5IGFzY2VuZGluZyBuYW1pbmcgKGUuZy4gQSwgQiwgQywgRCwgRSwgRikgKi9cclxuICAgICAgICBwYXRoT2JqZWN0OiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXHJcbiAgICAgICAgLyoqIE1vdmVtZW50IHNwZWVkIG9mIHRoZSBvYmplY3QgKi9cclxuICAgICAgICBzcGVlZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAxLjAgfSxcclxuICAgICAgICAvKiogRGlzdGFuY2UgaW4gbm9ybWFsIHNwYWNlIFswLCAwLjUpIGFmdGVyIHdoaWNoIHRoZSBvYmplY3RzIHN0YXJ0cyBtb3Zpbmcgb24gYSBjdXJ2ZSAqL1xyXG4gICAgICAgIGN1cnZlRGlzdGFuY2U6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC4xIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IHRoaXMucGF0aE9iamVjdC5jaGlsZHJlbi5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25zID0gbmV3IEFycmF5KHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbnNbaV0gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5wb3NpdGlvbnNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbkluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5sb29rUG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMuZnJvbVBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbnNbMF07XHJcbiAgICAgICAgdGhpcy50b1Bvc2l0aW9uID0gdGhpcy5wb3NpdGlvbnNbMV07XHJcbiAgICAgICAgdmVjMy5zdWIodGhpcy5jdXJyZW50UG9zaXRpb24sIHRoaXMudG9Qb3NpdGlvbiwgdGhpcy5mcm9tUG9zaXRpb24pO1xyXG4gICAgICAgIHRoaXMuZnJvbVRvTGVuZ3RoID0gdmVjMy5sZW5ndGgodGhpcy5jdXJyZW50UG9zaXRpb24pO1xyXG4gICAgICAgIHRoaXMuY3VycmVudExlbmd0aCA9IDA7XHJcbiAgICAgICAgdGhpcy51cCA9IFswLCAxLCAwXTtcclxuICAgICAgICB0aGlzLnF1YXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xyXG4gICAgICAgIGxvb2tBdCh0aGlzLnF1YXQsIHRoaXMuZnJvbVBvc2l0aW9uLCB0aGlzLnRvUG9zaXRpb24sIHRoaXMudXApO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LnJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbigpO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZSh0aGlzLnF1YXQpO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LnNldFRyYW5zbGF0aW9uV29ybGQodGhpcy5mcm9tUG9zaXRpb24pO1xyXG5cclxuICAgICAgICB0aGlzLnAwID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLnAxID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLnAyID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLmN1cnZlRGlzdGFuY2UgPSBNYXRoLm1heCgwLjAsIE1hdGgubWluKDAuNDk5OTksIHRoaXMuY3VydmVEaXN0YW5jZSkpO1xyXG4gICAgICAgIHRoaXMuYmV6RmFjdG9yTXVsdGlwbGljYXRvciA9IDEgLyAoMiAqIHRoaXMuY3VydmVEaXN0YW5jZSk7XHJcblxyXG4gICAgICAgIHRoaXMub25GaW5hbFdheXBvaW50UmVhY2hlZENhbGxiYWNrcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhIGZ1bmN0aW9uIHRvIGEgY2FsbGJhY2sgYXJyYXkgd2hpY2gsIHRoZW4gY2FsbHMgdGhlIGZ1bmN0aW9uIGFmdGVyIHRoZSBmaW5hbCB3YXlwb2ludCBoYXMgYmVlbiByZWFjaGVkLlxyXG4gICAgICogQHBhcmFtICB7ZnVuY3Rpb259IGYgRnVuY3Rpb24gdG8gYmUgYWRkZWQuXHJcbiAgICAgKi9cclxuICAgIGFkZE9uRmluYWxXYXlwb2ludFJlYWNoZWRDYWxsYmFjayhmKSB7XHJcbiAgICAgICAgdGhpcy5vbkZpbmFsV2F5cG9pbnRSZWFjaGVkQ2FsbGJhY2tzLnB1c2goZik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGEgZnVuY3Rpb24gZnJvbSB0aGUgY2FsbGJhY2sgYXJyYXkgZm9yIHJlYWNoaW5nIHRoZSBmaW5hbCB3YXlwb2ludC4uXHJcbiAgICAgKiBAcGFyYW0gIHtmdW5jdGlvbn0gZiBGdW5jdGlvbiB0byBiZSByZW1vdmVkLlxyXG4gICAgICovXHJcbiAgICByZW1vdmVPbkZpbmFsV2F5cG9pbnRSZWFjaGVkQ2FsbGJhY2soZikge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihmKTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uRmluYWxXYXlwb2ludFJlYWNoZWRDYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBwb2ludHMgbmVlZGVkIGZvciB0aGUgbmV4dCBjdXJ2ZVxyXG4gICAgICovXHJcbiAgICBfc2V0Q3VydmVQb2ludHMoKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBHaXZlbiBwb2ludHMgQSwgQiBhbmQgQyBmb3IgYSBjdXJ2ZSwgZm9sbG93aW5nIHBvaW50cyBwMCwgcDEgYW5kIHAyIGFyZSBzZXQgZm9yIGEgYmV6aWVyIGN1cnZlIGFyb3VuZCB0aGUgY29ybmVyIG9mIEIuXHJcbiAgICAgICAgICogd2hpY2ggaXMgc2V0IGZvciBzbW9vdGggY29ybmVyIG1vdmVtZW50IGFuZCBkZXBlbmRzIG9uIHRoZSBjdXJ2ZURpc3RhbmNlKGNEKSBmcm9tIEIuXHJcbiAgICAgICAgICogcDAgPSBCICsgY0QgKiAoQS1CKVxyXG4gICAgICAgICAqIHAxID0gQlxyXG4gICAgICAgICAqIHAyID0gQiArIGNEICogKEMtQilcclxuICAgICAgICAgKi9cclxuICAgICAgICB2ZWMzLnN1YihcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb24sXHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25zW3RoaXMuY3VycmVudEN1cnZlSW5kZXhdLFxyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uc1t0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4ICsgMV1cclxuICAgICAgICApO1xyXG4gICAgICAgIHZlYzMuc2NhbGUodGhpcy5jdXJyZW50UG9zaXRpb24sIHRoaXMuY3VycmVudFBvc2l0aW9uLCB0aGlzLmN1cnZlRGlzdGFuY2UpO1xyXG4gICAgICAgIHZlYzMuYWRkKHRoaXMucDAsIHRoaXMucG9zaXRpb25zW3RoaXMuY3VycmVudEN1cnZlSW5kZXggKyAxXSwgdGhpcy5jdXJyZW50UG9zaXRpb24pO1xyXG5cclxuICAgICAgICB0aGlzLnAxID0gdGhpcy5wb3NpdGlvbnNbdGhpcy5jdXJyZW50Q3VydmVJbmRleCArIDFdO1xyXG5cclxuICAgICAgICB2ZWMzLnN1YihcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb24sXHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25zW3RoaXMuY3VycmVudEN1cnZlSW5kZXggKyAyXSxcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbnNbdGhpcy5jdXJyZW50Q3VydmVJbmRleCArIDFdXHJcbiAgICAgICAgKTtcclxuICAgICAgICB2ZWMzLnNjYWxlKHRoaXMuY3VycmVudFBvc2l0aW9uLCB0aGlzLmN1cnJlbnRQb3NpdGlvbiwgdGhpcy5jdXJ2ZURpc3RhbmNlKTtcclxuICAgICAgICB2ZWMzLmFkZCh0aGlzLnAyLCB0aGlzLnBvc2l0aW9uc1t0aGlzLmN1cnJlbnRDdXJ2ZUluZGV4ICsgMV0sIHRoaXMuY3VycmVudFBvc2l0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIG9iamVjdCdzIHBhdGggb2JqZWN0IGFuZCBjb25maWd1cmVzIGl0LlxyXG4gICAgICogQHBhcmFtICB7V0wuT2JqZWN0fSBwYXRoT2JqZWN0IFtPYmplY3QgY29udGFpbmluZyBhbHBoZWJldGljYWxseSBuYW1lZCBjaGlsZHJlbl1cclxuICAgICAqL1xyXG4gICAgc2V0UGF0aE9iamVjdChwYXRoT2JqZWN0KSB7XHJcbiAgICAgICAgdGhpcy5wYXRoT2JqZWN0ID0gcGF0aE9iamVjdDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gdGhpcy5wYXRoT2JqZWN0LmNoaWxkcmVuLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbnMgPSBuZXcgQXJyYXkodGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uc1tpXSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLnBvc2l0aW9uc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEN1cnZlSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudExlbmd0aCA9IDA7XHJcbiAgICAgICAgdGhpcy5fc2V0Q3VydmVQb2ludHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5mcm9tUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uc1swXTtcclxuICAgICAgICB0aGlzLnRvUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uc1sxXTtcclxuICAgICAgICB2ZWMzLnN1Yih0aGlzLmN1cnJlbnRQb3NpdGlvbiwgdGhpcy50b1Bvc2l0aW9uLCB0aGlzLmZyb21Qb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5mcm9tVG9MZW5ndGggPSB2ZWMzLmxlbmd0aCh0aGlzLmN1cnJlbnRQb3NpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgdGhpcy5vYmplY3QudGltZXIrPSBkdDtcclxuICAgICAgICBpZih0aGlzLm9iamVjdC50aW1lciA+IDEgJiYgdGhpcy5vYmplY3QucG9pc29uZWQgPT09IHRydWUgKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LmhlYWx0aCAtPSB0aGlzLm9iamVjdC5wb2lzb25TdGFjaztcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QucG9pc29uU3RhY2sgLT0xO1xyXG4gICAgICAgICAgICBpZih0aGlzLm9iamVjdC5oZWFsdGggPCAwIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuY3VycmVuY3kgKz0gdGhpcy5vYmplY3QudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5vYmplY3QuaGVhbHRoKTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QudGltZXIgPSAwO1xyXG4gICAgICAgICAgICBpZih0aGlzLm9iamVjdC5wb2lzb25TdGFjayA8IDEpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnBvaXNvbmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50TGVuZ3RoICs9IGR0ICogdGhpcy5zcGVlZDtcclxuICAgICAgICB0aGlzLm9iamVjdC53YWxrZWQgKz0gMTtcclxuICAgICAgICB0aGlzLm9iamVjdC5lbmVtLmxvb2tBdCh0aGlzLnRvUG9zaXRpb24pO1xyXG4gICAgICAgIC8vIGZhY3RvciBpbmRpY2F0ZXMgdGhlIHBlcmNlbnRhZ2Ugb2YgaG93IG11Y2ggb2YgYSBnaXZlbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMgaGFzIGFscmVhZHkgYmVlbiB0cmF2ZXJzZWRcclxuICAgICAgICBsZXQgZmFjdG9yID0gdGhpcy5jdXJyZW50TGVuZ3RoIC8gdGhpcy5mcm9tVG9MZW5ndGg7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQgaXMgdGhlIGN1cnZlIHBvaW50LCBpZiBpdCBpcywgZG9uJ3QgaW5jcmVtZW50IHRoZSBpbmRleCBvZiBjdXJ2ZXNcclxuICAgICAgICBpZiAoZmFjdG9yID4gMC41ICYmIHRoaXMuY3VycmVudFBvc2l0aW9uSW5kZXggIT0gdGhpcy5wb3NpdGlvbnMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmluY3JlbWVudEN1cnZlSW5kZXggPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBmb3Igd2V0aGVyIHRoZSBjdXJ2ZSBzaG91bGQgc3RhcnQgKGxpbWl0IHNldCBieSB0aGlzLmN1cnZlRGlzdGFuY2UpIG9yIGEgc3RyYWlnaHQgbGVycCBzaG91bGQgb2NjdXJcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIE1hdGguYWJzKGZhY3RvciAtIE1hdGgucm91bmQoZmFjdG9yKSkgPCB0aGlzLmN1cnZlRGlzdGFuY2UgJiZcclxuICAgICAgICAgICAgISh0aGlzLmN1cnJlbnRQb3NpdGlvbkluZGV4ID09IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMiAmJiBmYWN0b3IgPiAwLjUpICYmXHJcbiAgICAgICAgICAgICEodGhpcy5jdXJyZW50UG9zaXRpb25JbmRleCA9PSAwICYmIGZhY3RvciA8IDAuNSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lcyB0aGUgcG9zaXRpb24gb24gdGhlIGJlemllciBjdXJ2ZSBhcm91bmQgdGhlIGNvcm5lciBmcm9tIGZhY3Rvciwgd2hpY2ggbW92ZXMgZnJvbSAwLjkgdG8gMC4xIGFmdGVyIHBhc3NpbmcgdGhlIG1pZGRsZSBwb2ludFxyXG4gICAgICAgICAgICBsZXQgYmV6RmFjdG9yID1cclxuICAgICAgICAgICAgICAgIChmYWN0b3IgLSBNYXRoLnJvdW5kKGZhY3RvcikgKyB0aGlzLmN1cnZlRGlzdGFuY2UpICpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmV6RmFjdG9yTXVsdGlwbGljYXRvcjtcclxuICAgICAgICAgICAgdmVjMy5iZXppZXIoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbixcclxuICAgICAgICAgICAgICAgIHRoaXMucDAsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnAxLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wMSxcclxuICAgICAgICAgICAgICAgIHRoaXMucDIsXHJcbiAgICAgICAgICAgICAgICBiZXpGYWN0b3JcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgLy8gcG9zaXRpb24gYWhlYWQgb2YgdGhlIG9iamVjdCBvbiB0aGUgcGF0aCwgZGV0ZXJtaW5lcyB0aGUgbG9va2luZyBkaXJlY3Rpb25cclxuICAgICAgICAgICAgdmVjMy5iZXppZXIoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvb2tQb3NpdGlvbixcclxuICAgICAgICAgICAgICAgIHRoaXMucDAsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnAxLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wMSxcclxuICAgICAgICAgICAgICAgIHRoaXMucDIsXHJcbiAgICAgICAgICAgICAgICBiZXpGYWN0b3IgKyAwLjAxXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJ2ZUluZGV4ICYmXHJcbiAgICAgICAgICAgICAgICBmYWN0b3IgPCAwLjUgJiZcclxuICAgICAgICAgICAgICAgIGZhY3RvciA+IHRoaXMuY3VydmVEaXN0YW5jZSAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q3VydmVJbmRleCAhPSB0aGlzLnBvc2l0aW9ucy5sZW5ndGggLSAzXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q3VydmVJbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJ2ZUluZGV4ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmVjMy5sZXJwKHRoaXMuY3VycmVudFBvc2l0aW9uLCB0aGlzLmZyb21Qb3NpdGlvbiwgdGhpcy50b1Bvc2l0aW9uLCBmYWN0b3IpO1xyXG4gICAgICAgICAgICAvLyBwb3NpdGlvbiBhaGVhZCBvZiB0aGUgb2JqZWN0IG9uIHRoZSBwYXRoLCBkZXRlcm1pbmVzIHRoZSBsb29raW5nIGRpcmVjdGlvblxyXG4gICAgICAgICAgICB2ZWMzLmxlcnAodGhpcy5sb29rUG9zaXRpb24sIHRoaXMuZnJvbVBvc2l0aW9uLCB0aGlzLnRvUG9zaXRpb24sIGZhY3RvciArIDAuMDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW92ZW1lbnQgYW5kIHJvdGF0aW9uIHRvIGNhbGN1bGF0ZWQgcG9zaXRpb24vZGlyZWN0aW9uXHJcbiAgICAgICAgdGhpcy5vYmplY3QucmVzZXRUcmFuc2xhdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgbG9va0F0KHRoaXMucXVhdCwgdGhpcy5jdXJyZW50UG9zaXRpb24sIHRoaXMubG9va1Bvc2l0aW9uLCB0aGlzLnVwKTtcclxuICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGUodGhpcy5xdWF0KTtcclxuICAgICAgICB0aGlzLm9iamVjdC5zZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuY3VycmVudFBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2tzIHdldGhlciB0aGUgd2F5cG9pbnQgaGFzIGJlZW4gcGFzc2VkXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudExlbmd0aCA+IHRoaXMuZnJvbVRvTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb25JbmRleCsrO1xyXG4gICAgICAgICAgICAvLyBDaGVja3MgaWYgdGhlIGZpbmFsIHdheXBvaW50IGhhcyBiZWVuIHJlYWNoZWRcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBvc2l0aW9uSW5kZXggPT0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5mKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbkluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEN1cnZlSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJ2ZUluZGV4ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uRmluYWxXYXlwb2ludFJlYWNoZWRDYWxsYmFja3MuZm9yRWFjaCgoZikgPT4gZigpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmZyb21Qb3NpdGlvbiA9IHRoaXMucG9zaXRpb25zW3RoaXMuY3VycmVudFBvc2l0aW9uSW5kZXhdO1xyXG4gICAgICAgICAgICB0aGlzLnRvUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uc1t0aGlzLmN1cnJlbnRQb3NpdGlvbkluZGV4ICsgMV07XHJcbiAgICAgICAgICAgIHZlYzMuc3ViKHRoaXMuY3VycmVudFBvc2l0aW9uLCB0aGlzLnRvUG9zaXRpb24sIHRoaXMuZnJvbVBvc2l0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5mcm9tVG9MZW5ndGggPSB2ZWMzLmxlbmd0aCh0aGlzLmN1cnJlbnRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudExlbmd0aCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBsb29rQXQgZnVuY3Rpb24gd2lsbCBiZSByZXBsYWNlZCBieSBhbiBpbnRlcm5hbCBmdW5jdGlvbiBpbiB0aGUgZnV0dXJlLlxyXG5jb25zdCBsb29rQXQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGZvcndhcmRUZW1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGxldCB0ZW1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGxldCBkb3RUZW1wID0gMDtcclxuXHJcbiAgICBsZXQgdmVjdG9yID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGxldCB2ZWN0b3IyID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGxldCB2ZWN0b3IzID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHF1YXRlcm5pb24sIHNvdXJjZVBvaW50LCBkZXN0UG9pbnQsIHVwKSB7XHJcbiAgICAgICAgaWYgKCF1cCkge1xyXG4gICAgICAgICAgICB1cCA9IFswLCAxLCAwXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZlYzMuc3ViKGZvcndhcmRUZW1wLCBkZXN0UG9pbnQsIHNvdXJjZVBvaW50KTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShmb3J3YXJkVGVtcCwgZm9yd2FyZFRlbXApO1xyXG5cclxuICAgICAgICBkb3RUZW1wID0gdmVjMy5kb3QodXAsIGZvcndhcmRUZW1wKTtcclxuXHJcbiAgICAgICAgdmVjMy5zY2FsZSh0ZW1wLCBmb3J3YXJkVGVtcCwgZG90VGVtcCk7XHJcblxyXG4gICAgICAgIHZlYzMuc3ViKHVwLCB1cCwgdGVtcCk7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUodXAsIHVwKTtcclxuXHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUodmVjdG9yLCBmb3J3YXJkVGVtcCk7XHJcbiAgICAgICAgdmVjMy5jcm9zcyh2ZWN0b3IyLCB1cCwgdmVjdG9yKTtcclxuICAgICAgICB2ZWMzLmNyb3NzKHZlY3RvcjMsIHZlY3RvciwgdmVjdG9yMik7XHJcbiAgICAgICAgbGV0IG0wMCA9IHZlY3RvcjJbMF07XHJcbiAgICAgICAgbGV0IG0wMSA9IHZlY3RvcjJbMV07XHJcbiAgICAgICAgbGV0IG0wMiA9IHZlY3RvcjJbMl07XHJcbiAgICAgICAgbGV0IG0xMCA9IHZlY3RvcjNbMF07XHJcbiAgICAgICAgbGV0IG0xMSA9IHZlY3RvcjNbMV07XHJcbiAgICAgICAgbGV0IG0xMiA9IHZlY3RvcjNbMl07XHJcbiAgICAgICAgbGV0IG0yMCA9IHZlY3RvclswXTtcclxuICAgICAgICBsZXQgbTIxID0gdmVjdG9yWzFdO1xyXG4gICAgICAgIGxldCBtMjIgPSB2ZWN0b3JbMl07XHJcblxyXG4gICAgICAgIGxldCBudW04ID0gbTAwICsgbTExICsgbTIyO1xyXG4gICAgICAgIGlmIChudW04ID4gMC4wKSB7XHJcbiAgICAgICAgICAgIGxldCBudW0gPSBNYXRoLnNxcnQobnVtOCArIDEuMCk7XHJcbiAgICAgICAgICAgIHF1YXRlcm5pb25bM10gPSBudW0gKiAwLjU7XHJcbiAgICAgICAgICAgIG51bSA9IDAuNSAvIG51bTtcclxuICAgICAgICAgICAgcXVhdGVybmlvblswXSA9IChtMTIgLSBtMjEpICogbnVtO1xyXG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzFdID0gKG0yMCAtIG0wMikgKiBudW07XHJcbiAgICAgICAgICAgIHF1YXRlcm5pb25bMl0gPSAobTAxIC0gbTEwKSAqIG51bTtcclxuICAgICAgICAgICAgcmV0dXJuIHF1YXRlcm5pb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtMDAgPj0gbTExICYmIG0wMCA+PSBtMjIpIHtcclxuICAgICAgICAgICAgbGV0IG51bTcgPSBNYXRoLnNxcnQoMS4wICsgbTAwIC0gbTExIC0gbTIyKTtcclxuICAgICAgICAgICAgbGV0IG51bTQgPSAwLjUgLyBudW03O1xyXG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzBdID0gMC41ICogbnVtNztcclxuICAgICAgICAgICAgcXVhdGVybmlvblsxXSA9IChtMDEgKyBtMTApICogbnVtNDtcclxuICAgICAgICAgICAgcXVhdGVybmlvblsyXSA9IChtMDIgKyBtMjApICogbnVtNDtcclxuICAgICAgICAgICAgcXVhdGVybmlvblszXSA9IChtMTIgLSBtMjEpICogbnVtNDtcclxuICAgICAgICAgICAgcmV0dXJuIHF1YXRlcm5pb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtMTEgPiBtMjIpIHtcclxuICAgICAgICAgICAgbGV0IG51bTYgPSBNYXRoLnNxcnQoMS4wICsgbTExIC0gbTAwIC0gbTIyKTtcclxuICAgICAgICAgICAgbGV0IG51bTMgPSAwLjUgLyBudW02O1xyXG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzBdID0gKG0xMCArIG0wMSkgKiBudW0zO1xyXG4gICAgICAgICAgICBxdWF0ZXJuaW9uWzFdID0gMC41ICogbnVtNjtcclxuICAgICAgICAgICAgcXVhdGVybmlvblsyXSA9IChtMjEgKyBtMTIpICogbnVtMztcclxuICAgICAgICAgICAgcXVhdGVybmlvblszXSA9IChtMjAgLSBtMDIpICogbnVtMztcclxuICAgICAgICAgICAgcmV0dXJuIHF1YXRlcm5pb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBudW01ID0gTWF0aC5zcXJ0KDEuMCArIG0yMiAtIG0wMCAtIG0xMSk7XHJcbiAgICAgICAgbGV0IG51bTIgPSAwLjUgLyBudW01O1xyXG4gICAgICAgIHF1YXRlcm5pb25bMF0gPSAobTIwICsgbTAyKSAqIG51bTI7XHJcbiAgICAgICAgcXVhdGVybmlvblsxXSA9IChtMjEgKyBtMTIpICogbnVtMjtcclxuICAgICAgICBxdWF0ZXJuaW9uWzJdID0gMC41ICogbnVtNTtcclxuICAgICAgICBxdWF0ZXJuaW9uWzNdID0gKG0wMSAtIG0xMCkgKiBudW0yO1xyXG5cclxuICAgICAgICByZXR1cm4gcXVhdGVybmlvbjtcclxuICAgIH07XHJcbn0pKCk7XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICcuL2dhbWUnO1xyXG4vKipcclxuICogbGV2ZWwtdHJhY2tlclxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExldmVsVHJhY2tlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbGV2ZWwtdHJhY2tlcic7XHJcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBsZXZlbDogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogMSB9LFxyXG4gICAgICAgIHRpbWVyOiB7IHR5cGU6IFR5cGUuSW50LCBkZWZhdWx0OiBzdGF0ZS50aW1lciB9LFxyXG4gICAgICAgIGRheTogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IHRydWUgfSxcclxuICAgIH07XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgc3RhdGUubGV2ZWxVcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5sZXZlbCArPSAxO1xyXG4gICAgICAgICAgICB0aGlzLm1heEVuZW1pZXMgKz0gMTA7XHJcbiAgICAgICAgICAgIGxldCBzcGF3bmVyID0gc3RhdGUuRW5lbXlTcGF3bmVyO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImxldmVsIHVwOiBcIiwgdGhpcy5sZXZlbCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmV3YXJkIFVwIFwiKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0ZS5FbmVteVNwYXduZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHNwYXduZXJbaV0uZGVmYXVsdFJld2FyZCArPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxldmVsICUgMiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImhlYWx0aCBVcFwiKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGUuRW5lbXlTcGF3bmVyLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNwYXduZXJbaV0uZGVmYXVsdEhlYXRoICs9IDI1O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxldmVsICUgMyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImRhbWFnZSBVcFwiKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGUuRW5lbXlTcGF3bmVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Bhd25lcltpXS5kZWZhdWx0RGFtYWdlICs9IDU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWwgJSA0ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwic3BlZWQgVXBcIik7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRlLkVuZW15U3Bhd25lci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwYXduZXJbaV0uZGVmYXVsdFNwZWVkICs9IC4xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxldmVsICUgNSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInNwYXduVGltZXIgZG93blwiKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGUuRW5lbXlTcGF3bmVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Bhd25lcltpXS5zcGF3blRpbWVyIC09IC4zO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BlcnR5LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgVHVycmV0QWltZXIgfSBmcm9tICcuL3R1cnJldC1haW1lcic7XHJcbmltcG9ydCB7IFByb2plY3RpbGVTcGF3bmVyIH0gZnJvbSAnLi9wcm9qZWN0aWxlLXNwYXduZXInO1xyXG5pbXBvcnQgeyBzdGF0ZSB9IGZyb20gXCIuL2dhbWVcIjtcclxuaW1wb3J0IHsgUG9pc29uVHVycmV0M0QgfSBmcm9tICcuL3BvaXNvbl90dXJyZXRfM0QnO1xyXG5cclxuLyoqXHJcbiAqIGRlZmF1bHRcclxuICovXHJcbmNvbnN0IHRlbXBRdWF0MiA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XHJcbmV4cG9ydCBjbGFzcyBQb2lzb24gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3BvaXNvbic7XHJcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBwYXJhbTogUHJvcGVydHkuZmxvYXQoMS4wKVxyXG4gICAgfTtcclxuICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSkge1xyXG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChUdXJyZXRBaW1lcik7XHJcbiAgICAgICAgZW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50KFByb2plY3RpbGVTcGF3bmVyKTtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoUG9pc29uVHVycmV0M0QpO1xyXG4gICAgfVxyXG4gICAgbWFrZVR1cnJldCh4KSB7XHJcbiAgICAgICAgLy8gYWRkcyB0aGUgb2JqZWN0IHRvIHRoZSBzY2VuZSwgYW5kIGFsbCBvZiB0aGUgY29tcG9uZW50cyBhbmQgbWVzaGVzXHJcbiAgICAgICAgLy8gYW5kIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB0dXJyZXQuIFxyXG4gICAgICAgIC8vICEhISEgSU1QT1JUQU5ULiBUaGUgdHVycmV0IG9iamVjdCBpdHNlbGYgaXMgZ3JhbnRlZCBvd25lcnNpcCBvZiBhbGwgb2YgdGhlIGZ1bmN0aW9ucyBcclxuICAgICAgICAvLyByZWxhdGVkIHRvIHR1cnJldCBvcGVyYXRpb24uIEFueSBhZGRpdGlvbmFsIGZ1bmN0aW9uYWxpdHkgc2hvdWxkIGZvbGxvdyB0aGlzIHN0YW5kYXJkXHJcbiAgICAgICAgLy8gVGhlIHR1cnJldCBvYmplY3QzRCBzaG91bGQgYmUgZ2l2ZW4gdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzIGFuZCBmdW5jdGlvbnMgdG8gcGFzcyBvbnRvIGNoaWxkcmVuXHJcbiAgICAgICAgLy8gVE9ETyBtYWtlIHRoZSB0b3dlcnMgc3Bhd24gYXQgZ3JvdW5kIGxldmVsIGluc3RlYWQgb2YgZmxvYXRpbmdcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBvYmogPSB4LmVuZ2luZS5zY2VuZS5hZGRPYmplY3QoKTtcclxuICAgICAgICBvYmoudHVycmV0ID0gc3RhdGUucG9pc29uVHVycmV0M0QudHVycmV0LmNsb25lKG9iaik7XHJcbiAgICAgICAgb2JqLmJhc2UgPSBzdGF0ZS5wb2lzb25UdXJyZXQzRC5iYXNlLmNsb25lKG9iaik7XHJcbiAgICAgICAgY29uc29sZS5sb2cob2JqKTtcclxuICAgICAgICAvLyBOVUxMIG9iamVjdHMgZm9yIGZ1bmN0aW9uL3Byb3BlcnR5IGFsbG9jYXRpb24gZnJvbSBjaGlsZHJlblxyXG4gICAgICAgIG9iai50YXJnZXQgPSBudWxsO1xyXG4gICAgICAgIG9iai5zaG9vdCA9IG51bGw7XHJcbiAgICAgICAgb2JqLmNkID0geC5zaG9vdGluZ0NEO1xyXG4gICAgICAgIG9iai5uYW1lID0gXCJzYW1cIjtcclxuICAgICAgICBvYmouc3RhdHVzID0gXCJwb2lzb25Ub3dlclwiO1xyXG4gICAgICAgIG9iai5kYW1hZ2UgPSB4LmRhbWFnZTtcclxuXHJcbiAgICAgIG9iai5idWxsZXRNZXNoID0ge1xyXG4gICAgICAgICAgICBtZXNoOnN0YXRlLnBvaXNvblR1cnJldDNELmJ1bGxldE1lc2gsXHJcbiAgICAgICAgICAgIG1hdGVyaWFsOiBzdGF0ZS5wb2lzb25UdXJyZXQzRC5idWxsZXRNYXRlcmlhbCxcclxuICAgICAgICB9XHJcbiAgICAgICAgb2JqLmFkZENvbXBvbmVudChcImNvbGxpc2lvblwiLCB7XHJcbiAgICAgICAgICAgIGNvbGxpZGVyOiBXTC5Db2xsaWRlci5TcGhlcmUsXHJcbiAgICAgICAgICAgIGV4dGVudHM6IFs1LCAwLCAwXSxcclxuICAgICAgICAgICAgZ3JvdXA6IDEgPDwgNSxcclxuICAgICAgICAgICAgLy8gdGhpcyBjb2RlIGlzIGEgdGVzdCB0byBzZWUgaG93IHRvIHRyaWdnZXIgQ29sbGlzaW9uIE9uaGl0IGFuZCBvbmxlYXZlIHRoYXQgaGFzXHJcbiAgICAgICAgICAgIC8vIHNvbWUgZG9jdW1lbnRhdGlvbiBvbiB3b25kZXJsYW5kLCBidXQgSSBjYW50IGZpZ3JlIG91dCBob3cgdG8gdXNlXHJcbiAgICAgICAgICAgIC8vIElGIHdlIGNhbiBnZXQgaXQgd29ya2luZyBpdCB3b3VsZCBtYWtlIGFpbWluZyBhbmQgc2hvb3Rpbmcgc2lnbmlmZmljYW50bHlcclxuICAgICAgICAgICAgLy8gICBtb3JlIGVmZmljaWVudFxyXG4gICAgICAgICAgICBDb2xsaXNpb25FdmVudFR5cGU6IDEsXHJcbiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9vYmoudHVycmV0LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgLy8gYWltZXIgaXMgaXRzIG93biBuYW1lZCBvYmplY3QgYmVjYXVzZSBvZiBhIHByZXZpb3VzIHZlcnNpb24sIGl0IHNob3VsZCBqdXN0IGJlIGFkZGVkIGFzXHJcbiAgICAgICAgLy8gb2JqLmFkZENvbXBvbmVudCh0dXJyZXRBaW1lcikgYnV0IHRoYXQgY3JycmVudGx5IGdpdmVzIGVycm9yc1xyXG4gICAgICAgIG9iai5hZGRDb21wb25lbnQoVHVycmV0QWltZXIpO1xyXG4gICAgICAgIG9iai5hZGRDb21wb25lbnQoUHJvamVjdGlsZVNwYXduZXIpO1xyXG5cclxuICAgICAgICAvLyBTZXRzIHRvd2VyIHBvc2l0aW9uLCBtYWtlcyBpdCBmbG9hdCBmbGF0IGluZGVwZW5kZW50IG9mIHNwYXduIGFuZ2xlLCBhbmQgc2NhbGVcclxuICAgICAgICBvYmouc2V0VHJhbnNmb3JtTG9jYWwoeC5vYmplY3QuZ2V0VHJhbnNmb3JtV29ybGQodGVtcFF1YXQyKSk7XHJcbiAgICAgICAgb2JqLnJlc2V0Um90YXRpb24oKTtcclxuICAgICAgICBvYmouc2V0U2NhbGluZ0xvY2FsKFswLjIsIDAuNCwgMC4yXSk7XHJcblxyXG4gICAgICAgIG9iai5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIC8vIHB1c2hlcyB0aGUgdHVycmV0cyB0byBhIHZlY3RvciBpbiBzdGF0ZVxyXG4gICAgICAgIC8vIHN0YXRlLnR1cnJldHMgY2FuIGJlIGNhbGxlZCBpbiBvdGhlciBjbGFzc2VzIGZvciBidWdmaXhpbmcuXHJcbiAgICAgICAgc3RhdGUudHVycmV0cy5wdXNoKG9iaik7XHJcbiAgICAgICAgb2JqLnNldERpcnR5KCk7XHJcbn07XHJcbn0iLCAiaW1wb3J0IHtDb21wb25lbnQsIE9iamVjdDNELCBQcm9wZXJ0eSwgVHlwZX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHtzdGF0ZSB9IGZyb20gJy4vZ2FtZSc7XHJcbi8qKlxyXG4gKiBwb2lzb25fdHVycmV0XzNEXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUG9pc29uVHVycmV0M0QgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3BvaXNvbl90dXJyZXRfM0QnO1xyXG4gICAgLyogUHJvcGVydGllcyB0aGF0IGFyZSBjb25maWd1cmFibGUgaW4gdGhlIGVkaXRvciAqL1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgdHVycmV0OiB7dHlwZTogVHlwZS5PYmplY3R9LFxyXG4gICAgICAgIGJhc2U6e3R5cGU6IFR5cGUuT2JqZWN0fSxcclxuICAgICAgICBidWxsZXRNZXNoOiB7dHlwZTogVHlwZS5NZXNofSxcclxuICAgICAgICBidWxsZXRNYXRlcmlhbDoge3R5cGU6IFR5cGUuTWF0ZXJpYWx9XHJcbiAgICB9O1xyXG4gICBzdGFydCgpIHtcclxuICAgICAgICBzdGF0ZS5wb2lzb25UdXJyZXQzRCA9IHRoaXM7IH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wZXJ0eSwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IFR1cnJldEFpbWVyIH0gZnJvbSAnLi90dXJyZXQtYWltZXInO1xyXG5pbXBvcnQgeyBzdGF0ZSB9IGZyb20gJy4vZ2FtZSc7XHJcbmltcG9ydCB7IFByb2plY3RpbGVTcGF3bmVyIH0gZnJvbSAnLi9wcm9qZWN0aWxlLXNwYXduZXInO1xyXG5pbXBvcnQgeyBEZWZhdWx0IH0gZnJvbSAnLi9kZWZhdWx0JztcclxuaW1wb3J0IHsgUG9pc29uIH0gZnJvbSAnLi9wb2lzb24nO1xyXG5pbXBvcnQgeyBEZWZhdWx0VHVycmV0M0QgIH0gZnJvbSAnLi9kZWZhdWx0X3R1cnJldF8zRCc7XHJcbi8qKlxyXG4gKiB0dXJyZXQtc3Bhd25lclxyXG4gKiB0aGlzIGNvZGUgd2lsbCBhbGxvdyB0aGUgcGxheWVyIHRvIHNwYXduIHR1cnJldHMgaW4gdGhlIGxvY2F0aW9uXHJcbiAqIHRoZSBjdXJzb3IgaXMgcG9pbnRpbmcgICBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBUdXJyZXRTcGF3bmVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0dXJyZXQtc3Bhd25lcic7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBkZWZhdWx0TWVzaDogeyB0eXBlOiBUeXBlLk1lc2ggfSxcclxuICAgICAgICBkZWZhdWx0TWF0ZXJpYWw6IHsgdHlwZTogVHlwZS5NYXRlcmlhbCB9LFxyXG4gICAgICAgIHBvaXNvbk1lc2g6IHsgdHlwZTogVHlwZS5NZXNoIH0sXHJcbiAgICAgICAgcG9pc29uTWF0ZXJpYWw6IHsgdHlwZTogVHlwZS5NYXRlcmlhbCB9LFxyXG4gICAgICAgIHNob290aW5nQ0Q6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDEgfSxcclxuICAgICAgICBkYW1hZ2U6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDIwIH0sXHJcbiAgICAgICAgdHVycmV0Q29zdDogeyB0eXBlOiBUeXBlLkludCwgZGVmYXVsdDogMjUgfSxcclxuICAgICAgICBkZWZhdWx0VHVycmV0OiB7IHR5cGU6IFR5cGUuT2JqZWN0fSxcclxuICAgICAgICBkZWZhdWx0QmFzZToge3R5cGU6IFR5cGUuT2JqZWN0fSxcclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvLy8gcG9pc29uIHR1cnJldD9cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMudGltZXIgPSAwO1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdkYXZlJztcclxuICAgICAgICB0aGlzLm1ha2VUdXJyZXQgPSBudWxsO1xyXG4gICAgICAgIHN0YXRlLnR1cnJldFNwYXduZXIgPSB0aGlzO1xyXG4gICAgICAgIHN0YXRlLmRlZmF1bHRNZXNoID0gbmV3IENvbXBvbmVudChcIk9iamVjdFwiLCB7IG1lc2g6IHRoaXMuZGVmYXVsdE1lc2gsIG1hdGVyaWFsOiB0aGlzLmRlZmF1bHRNYXRlcmlhbCB9KTtcclxuICAgICAgICBzdGF0ZS5wb2lzb25NZXNoID0gbmV3IENvbXBvbmVudChcIm1lc2hcIiwgeyBtZXNoOiB0aGlzLnBvaXNvbk1lc2gsIG1hdGVyaWFsOiB0aGlzLnBvaXNvbk1hdGVyaWFsIH0pO1xyXG4gICAgICAgIHN0YXRlLmJ1aWxkVCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbmN5ID49IHRoaXMudHVycmV0Q29zdCAmJiBzdGF0ZS5wYXVzZUJ1aWxkaW5nID09PSBmYWxzZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB0ZW1wVHVycmV0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLnNlbGVjdGVkVHVycmV0KTtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zZWxlY3RlZFR1cnJldCA9PT0gXCJkZWZhdWx0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wVHVycmV0ID0gbmV3IERlZmF1bHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0dXJyZXQgPSB0ZW1wVHVycmV0Lm1ha2VUdXJyZXQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuc3Bhd25lZFR1cnJldHMgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW5jeSAtPSB0aGlzLnR1cnJldENvc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhdGUubmVlZHNVcGRhdGUgaXMgZm9yIHRoZSBIdWQgdXBkYXRlIGZ1bmN0aW9uIHNwZWNpZmljYWxseVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBodWQganVzdCBjYWxsZXMgdXBkYXRlIGFzIGl0IHdhbnRzIGl0IGV2ZW50dWFsbHkgYnJlYWtzXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLnNlbGVjdGVkVHVycmV0ID09PSBcInBvaXNvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcFR1cnJldCA9IG5ldyBQb2lzb247XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR1cnJldCA9IHRlbXBUdXJyZXQubWFrZVR1cnJldCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zcGF3bmVkVHVycmV0cyArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbmN5IC09IHRoaXMudHVycmV0Q29zdDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzdGF0ZS5uZWVkc1VwZGF0ZSBpcyBmb3IgdGhlIEh1ZCB1cGRhdGUgZnVuY3Rpb24gc3BlY2lmaWNhbGx5XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGh1ZCBqdXN0IGNhbGxlcyB1cGRhdGUgYXMgaXQgd2FudHMgaXQgZXZlbnR1YWxseSBicmVha3NcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoVHVycmV0QWltZXIpO1xyXG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChQcm9qZWN0aWxlU3Bhd25lcik7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnc3RhcnQgdHVycmV0IHNwYXduZXInKTtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IEhvd2xlckF1ZGlvU291cmNlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cyc7XHJcbmltcG9ydCB7IENhbnZhc1VJIH0gZnJvbSAnLi9DYW52YXNVSS5qcyc7XHJcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSAnLi9nYW1lLmpzJztcclxuXHJcbi8vIFRPRE8gQWRkIG90aGVyIEhVRCBmZWF0dXJlcyBmb3IgdGhlIHVzZXIgdG8gaW50ZXJhY3Qgd2l0aFxyXG5leHBvcnQgY2xhc3MgVUlIYW5kbGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9IFwidWlIYW5kbGVyXCI7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBwYW5lbDogUHJvcGVydHkuZW51bShbJ3NpbXBsZScsICdidXR0b25zJywgJ3Njcm9sbGluZycsICdpbWFnZXMnLCAnaW5wdXQtdGV4dCddLCAnc2ltcGxlJylcclxuICAgIH07XHJcblxyXG4gICAgc3RhdGljIG9uUmVnaXN0ZXIoZW5naW5lKSB7XHJcbiAgICAgICAgZW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50KEhvd2xlckF1ZGlvU291cmNlKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIC8vIHRoZXNlIGZuY3Rpb25zIGFyZSBtZW1iZXJzIG9mIHN0YXRlLCBhbmQgdXNlZCB0byBnZXQgdGhlIGVsZW1lbnRzIGFzIHN0cmluZyBvYmplY3RzXHJcbiAgICAgICAgLy8gYXMgV29uZGVybGFuZCBzZWVtcyAgdG8gbm90IGxpa2UgXCIkeyBzdGF0ZS5oZWFsdGh9XCIgZm9yIHJlYXNvbnMgSSBkb24ndCB1bmRlcnN0YW5kXHJcbiAgICAgICAgdGhpcy5ocCA9IHN0YXRlLmdldEhlYWx0aCgpO1xyXG4gICAgICAgIHRoaXMuY3VycmVuY3kgPSBzdGF0ZS5nZXRDdXJyZW5jeSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdjdXJzb3ItdGFyZ2V0Jyk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkSG92ZXJGdW5jdGlvbih0aGlzLm9uSG92ZXIuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkVW5Ib3ZlckZ1bmN0aW9uKHRoaXMub25VbkhvdmVyLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZE1vdmVGdW5jdGlvbih0aGlzLm9uTW92ZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5hZGREb3duRnVuY3Rpb24odGhpcy5vbkRvd24uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkVXBGdW5jdGlvbih0aGlzLm9uVXAuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIHRoaXMuc291bmRDbGljayA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSwgeyBzcmM6ICdzZngvY2xpY2sud2F2Jywgc3BhdGlhbDogdHJ1ZSB9KTtcclxuICAgICAgICB0aGlzLnNvdW5kVW5DbGljayA9IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSwgeyBzcmM6ICdzZngvdW5jbGljay53YXYnLCBzcGF0aWFsOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMucGFuZWwpIHtcclxuICAgICAgICAgICAgY2FzZSAwOi8vc2ltcGxlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpbXBsZVBhbmVsKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOi8vYnV0dG9uc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXR0b25zUGFuZWwoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6Ly9zY3JvbGxpbmdcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsUGFuZWwoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6Ly9pbWFnZXNcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VQYW5lbCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNDovL2lucHV0LXRleHRcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRUZXh0UGFuZWwoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyB0aGlzIGlzIHRoZSBjb2RlIGZvciB0aGUgSGVhbHRoIGFuZCBjdXJyZW5jeSBIVUQgXHJcbiAgICBzaW1wbGVQYW5lbCgpIHtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICAgIGJvZHk6IHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiA1MCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgdG9wOiAxMCB9LFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogNTAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDI1NlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPICBmaWd1cmUgb3V0IHdoeSBcXG4gZG9lc250IHdvcmsgZm9yIG5ld2xpbmUgZnVuY3Rpb25zXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IHsgYm9keTogXCJIZWFsdGg6IFwiICsgc3RhdGUuZ2V0SGVhbHRoKCkgKyBcIlxcck1vbmV5OiBcIiArIHN0YXRlLmdldEN1cnJlbmN5KCkgfTtcclxuICAgICAgICB0aGlzLnVpID0gbmV3IENhbnZhc1VJKGNvbnRlbnQsIGNvbmZpZywgdGhpcy5vYmplY3QsIHRoaXMuZW5naW5lKTtcclxuICAgICAgICB0aGlzLnVpLnVwZGF0ZUNvbmZpZyh0aGlzLCBjb25maWcuaGVpZ2h0LCAxMDApO1xyXG4gICAgICAgIGxldCB1aSA9IHRoaXMudWk7XHJcbiAgICB9XHJcblxyXG4gICAgYnV0dG9uc1BhbmVsKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGRlZmF1bHRUdXJyZXQoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xyXG4gICAgICAgICAgICB1aS51cGRhdGVFbGVtZW50KFwiaW5mb1wiLCBtc2cpO1xyXG4gICAgICAgICAgICBzdGF0ZS5zZWxlY3RlZFR1cnJldCA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZHJvbmVUdXJyZXQoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IFwiZHJvbmVcIjtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cobXNnKTtcclxuICAgICAgICAgICAgdWkudXBkYXRlRWxlbWVudChcImluZm9cIiwgbXNnKTtcclxuICAgICAgICAgICAgc3RhdGUuc2VsZWN0ZWRUdXJyZXQgPSBcImRyb25lXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBsYXNlcigpIHtcclxuICAgICAgICAgICAgY29uc3QgbXNnID0gXCJsYXNlclwiO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xyXG4gICAgICAgICAgICB1aS51cGRhdGVFbGVtZW50KFwiaW5mb1wiLCBtc2cpO1xyXG4gICAgICAgICAgICBzdGF0ZS5zZWxlY3RlZFR1cnJldCA9IFwibGFzZXJcIjtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBjb25zdCBjb250ZW50ID0ge1xyXG4gICAgICAgICAgICBpbmZvOiBcIlwiLFxyXG4gICAgICAgICAgICBkZWZhdWx0VHVycmV0OiBcIjxwYXRoPk0gMTAgMzIgTCA1NCAxMCBMIDU0IDU0IFo8L3BhdGg+XCIsXHJcbiAgICAgICAgICAgIGRyb25lVHVycmV0OiBcIjxwYXRoPk0gNTAgMTUgTCAxNSAxNSBMIDE1IDUwIEwgNTAgNTAgWjxwYXRoPlwiLFxyXG4gICAgICAgICAgICBsYXNlcjogXCI8cGF0aD5NIDU0IDMyIEwgMTAgMTAgTCAxMCA1NCBaPC9wYXRoPlwiLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51aTIgPSBuZXcgQ2FudmFzVUkoY29udGVudCwgY29uZmlnLCB0aGlzLm9iamVjdCwgdGhpcy5lbmdpbmUpO1xyXG4gICAgICAgIHRoaXMudWkyLnVwZGF0ZSgpO1xyXG4gICAgICAgIGxldCB1aTIgPSB0aGlzLnVpMjtcclxuICAgIH1cclxuXHJcbiAgICBzY3JvbGxQYW5lbCgpIHtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICAgIGJvZHk6IHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjNjY2XCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdHh0OiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcInNjcm9sbFwiLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgbGVmdDogMjAsIHRvcDogMjAgfSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA0NjAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwMCxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmXCIsXHJcbiAgICAgICAgICAgICAgICBmb250Q29sb3I6IFwiIzAwMFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB7XHJcbiAgICAgICAgICAgIHR4dDogXCJUaGlzIGlzIGFuIGV4YW1wbGUgb2YgYSBzY3JvbGxpbmcgcGFuZWwuIFNlbGVjdCBpdCB3aXRoIGEgY29udHJvbGxlciBhbmQgbW92ZSB0aGUgY29udHJvbGxlciB3aGlsZSBrZWVwaW5nIHRoZSBzZWxlY3QgYnV0dG9uIHByZXNzZWQuIEluIGFuIEFSIGFwcCBqdXN0IHByZXNzIGFuZCBkcmFnLiBJZiBhIHBhbmVsIGlzIHNldCB0byBzY3JvbGwgYW5kIHRoZSBvdmVyZmxvdyBzZXR0aW5nIGlzICdzY3JvbGwnLCB0aGVuIGEgc2Nyb2xsIGJhciB3aWxsIGFwcGVhciB3aGVuIHRoZSBwYW5lbCBpcyBhY3RpdmUuIEJ1dCB0byBzY3JvbGwgeW91IGNhbiBqdXN0IGRyYWcgYW55d2hlcmUgb24gdGhlIHBhbmVsLiBUaGlzIGlzIGFuIGV4YW1wbGUgb2YgYSBzY3JvbGxpbmcgcGFuZWwuIFNlbGVjdCBpdCB3aXRoIGEgY29udHJvbGxlciBhbmQgbW92ZSB0aGUgY29udHJvbGxlciB3aGlsZSBrZWVwaW5nIHRoZSBzZWxlY3QgYnV0dG9uIHByZXNzZWQuIEluIGFuIEFSIGFwcCBqdXN0IHByZXNzIGFuZCBkcmFnLiBJZiBhIHBhbmVsIGlzIHNldCB0byBzY3JvbGwgYW5kIHRoZSBvdmVyZmxvdyBzZXR0aW5nIGlzICdzY3JvbGwnLCB0aGVuIGEgc2Nyb2xsIGJhciB3aWxsIGFwcGVhciB3aGVuIHRoZSBwYW5lbCBpcyBhY3RpdmUuIEJ1dCB0byBzY3JvbGwgeW91IGNhbiBqdXN0IGRyYWcgYW55d2hlcmUgb24gdGhlIHBhbmVsLlwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVpID0gbmV3IENhbnZhc1VJKGNvbnRlbnQsIGNvbmZpZywgdGhpcy5vYmplY3QsIHRoaXMuZW5naW5lKTtcclxuICAgICAgICB0aGlzLnVpLnVwZGF0ZSgpO1xyXG4gICAgICAgIGxldCB1aSA9IHRoaXMudWk7XHJcbiAgICB9XHJcblxyXG4gICAgaW1hZ2VQYW5lbCgpIHtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICAgIGltYWdlOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImltZ1wiLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgbGVmdDogMjAsIHRvcDogMjAgfSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA0NzJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW5mbzoge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyB0b3A6IDMwMCB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB7XHJcbiAgICAgICAgICAgIGltYWdlOiBcImltYWdlcy9wcm9tby5wbmdcIixcclxuICAgICAgICAgICAgaW5mbzogXCJUaGUgcHJvbW8gaW1hZ2UgZnJvbSB0aGUgY291cnNlOiBMZWFybiB0byBjcmVhdGUgV2ViWFIsIFZSIGFuZCBBUiwgZXhwZXJpZW5jZXMgdXNpbmcgV29uZGVybGFuZCBFbmdpbmVcIlxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMudWkgPSBuZXcgQ2FudmFzVUkoY29udGVudCwgY29uZmlnLCB0aGlzLm9iamVjdCwgdGhpcy5lbmdpbmUpO1xyXG4gICAgICAgIHRoaXMudWkudXBkYXRlKCk7XHJcbiAgICAgICAgbGV0IHVpID0gdGhpcy51aTtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dFRleHRQYW5lbCgpIHtcclxuICAgICAgICBmdW5jdGlvbiBvbkNoYW5nZWQodHh0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBtZXNzYWdlIGNoYW5nZWQ6ICR7dHh0fWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb25FbnRlcih0eHQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYG1lc3NhZ2UgZW50ZXI6ICR7dHh0fWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgICAgICBwYW5lbFNpemU6IHsgd2lkdGg6IDEsIGhlaWdodDogMC4yNSB9LFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDEyOCxcclxuICAgICAgICAgICAgbWVzc2FnZToge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJpbnB1dC10ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyBsZWZ0OiAxMCwgdG9wOiA4IH0sXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDU2LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDQ5MixcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjY2NjXCIsXHJcbiAgICAgICAgICAgICAgICBmb250Q29sb3I6IFwiIzAwMFwiLFxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2VkLFxyXG4gICAgICAgICAgICAgICAgb25FbnRlclxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyB0b3A6IDY0IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IHtcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJcIixcclxuICAgICAgICAgICAgbGFiZWw6IFwiU2VsZWN0IHRoZSBwYW5lbCBhYm92ZS5cIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51aSA9IG5ldyBDYW52YXNVSShjb250ZW50LCBjb25maWcsIHRoaXMub2JqZWN0LCB0aGlzLmVuZ2luZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMudWkua2V5Ym9hcmQub2JqZWN0LmdldENvbXBvbmVudCgnY3Vyc29yLXRhcmdldCcpO1xyXG4gICAgICAgIHRhcmdldC5hZGRIb3ZlckZ1bmN0aW9uKHRoaXMub25Ib3ZlcktleWJvYXJkLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRhcmdldC5hZGRVbkhvdmVyRnVuY3Rpb24odGhpcy5vblVuSG92ZXJLZXlib2FyZC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0YXJnZXQuYWRkTW92ZUZ1bmN0aW9uKHRoaXMub25Nb3ZlS2V5Ym9hcmQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGFyZ2V0LmFkZERvd25GdW5jdGlvbih0aGlzLm9uRG93bi5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0YXJnZXQuYWRkVXBGdW5jdGlvbih0aGlzLm9uVXBLZXlib2FyZC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy51aS51cGRhdGUoKTtcclxuICAgICAgICBsZXQgdWkgPSB0aGlzLnVpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uSG92ZXIoXywgY3Vyc29yKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnb25Ib3ZlcicpO1xyXG4gICAgICAgIGlmICh0aGlzLnVpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHh5ID0gdGhpcy51aS53b3JsZFRvQ2FudmFzKGN1cnNvci5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICB0aGlzLnVpLmhvdmVyKDAsIHh5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjdXJzb3IudHlwZSA9PSAnZmluZ2VyLWN1cnNvcicpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkRvd24oXywgY3Vyc29yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC41LCA1MCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Nb3ZlKF8sIGN1cnNvcikge1xyXG4gICAgICAgIGlmICh0aGlzLnVpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHh5ID0gdGhpcy51aS53b3JsZFRvQ2FudmFzKGN1cnNvci5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICB0aGlzLnVpLmhvdmVyKDAsIHh5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC41LCA1MCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Eb3duKF8sIGN1cnNvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdvbkRvd24nKTtcclxuICAgICAgICB0aGlzLnNvdW5kQ2xpY2sucGxheSgpO1xyXG5cclxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDEuMCwgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXAoXywgY3Vyc29yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ29uVXAnKTtcclxuICAgICAgICB0aGlzLnNvdW5kVW5DbGljay5wbGF5KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVpKSB0aGlzLnVpLnNlbGVjdCgwLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5oYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjcsIDIwKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVuSG92ZXIoXywgY3Vyc29yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ29uVW5Ib3ZlcicpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy51aSkgdGhpcy51aS5ob3ZlcigwKTtcclxuXHJcbiAgICAgICAgdGhpcy5oYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjMsIDUwKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkhvdmVyS2V5Ym9hcmQoXywgY3Vyc29yKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnb25Ib3ZlcicpO1xyXG4gICAgICAgIGlmICghdGhpcy51aSB8fCAhdGhpcy51aS5rZXlib2FyZCB8fCAhdGhpcy51aS5rZXlib2FyZC5rZXlib2FyZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCB1aSA9IHRoaXMudWkua2V5Ym9hcmQua2V5Ym9hcmQ7XHJcbiAgICAgICAgY29uc3QgeHkgPSB1aS53b3JsZFRvQ2FudmFzKGN1cnNvci5jdXJzb3JQb3MpO1xyXG4gICAgICAgIHVpLmhvdmVyKDAsIHh5KTtcclxuXHJcbiAgICAgICAgaWYgKGN1cnNvci50eXBlID09ICdmaW5nZXItY3Vyc29yJykge1xyXG4gICAgICAgICAgICB0aGlzLm9uRG93bihfLCBjdXJzb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5oYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjUsIDUwKTtcclxuICAgIH1cclxuXHJcbiAgICBvbk1vdmVLZXlib2FyZChfLCBjdXJzb3IpIHtcclxuICAgICAgICBpZiAoIXRoaXMudWkgfHwgIXRoaXMudWkua2V5Ym9hcmQgfHwgIXRoaXMudWkua2V5Ym9hcmQua2V5Ym9hcmQpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgdWkgPSB0aGlzLnVpLmtleWJvYXJkLmtleWJvYXJkO1xyXG4gICAgICAgIGNvbnN0IHh5ID0gdWkud29ybGRUb0NhbnZhcyhjdXJzb3IuY3Vyc29yUG9zKTtcclxuICAgICAgICB1aS5ob3ZlcigwLCB4eSk7XHJcblxyXG4gICAgICAgIHRoaXMuaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC41LCA1MCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcEtleWJvYXJkKF8sIGN1cnNvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdvblVwS2V5Ym9hcmQnKTtcclxuICAgICAgICB0aGlzLnNvdW5kVW5DbGljay5wbGF5KCk7XHJcbiAgICAgICAgaWYgKHRoaXMudWkgJiYgdGhpcy51aS5rZXlib2FyZCAmJiB0aGlzLnVpLmtleWJvYXJkLmtleWJvYXJkKSB0aGlzLnVpLmtleWJvYXJkLmtleWJvYXJkLnNlbGVjdCgwKTtcclxuICAgICAgICB0aGlzLmhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNywgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVW5Ib3ZlcktleWJvYXJkKF8sIGN1cnNvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdvblVuSG92ZXJLZXlib2FyZCcpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy51aSAmJiB0aGlzLnVpLmtleWJvYXJkICYmIHRoaXMudWkua2V5Ym9hcmQua2V5Ym9hcmQpIHRoaXMudWkua2V5Ym9hcmQua2V5Ym9hcmQuaG92ZXIoMCk7XHJcblxyXG4gICAgICAgIHRoaXMuaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC4zLCA1MCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFwdGljRmVlZGJhY2sob2JqZWN0LCBzdHJlbmd0aCwgZHVyYXRpb24pIHtcclxuICAgICAgICBjb25zdCBpbnB1dCA9IG9iamVjdC5nZXRDb21wb25lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgaWYgKGlucHV0ICYmIGlucHV0LnhySW5wdXRTb3VyY2UpIHtcclxuICAgICAgICAgICAgY29uc3QgZ2FtZXBhZCA9IGlucHV0LnhySW5wdXRTb3VyY2UuZ2FtZXBhZDtcclxuICAgICAgICAgICAgaWYgKGdhbWVwYWQgJiYgZ2FtZXBhZC5oYXB0aWNBY3R1YXRvcnMpIGdhbWVwYWQuaGFwdGljQWN0dWF0b3JzWzBdLnB1bHNlKHN0cmVuZ3RoLCBkdXJhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmIG5lZWRzVXBkYXRlIGlzIGNhbGxlZCB3aWxsIG5pbGx5IHRvIHVwZGF0ZSB0aGUgaGVhbHRoIGFuZCBjdXJyZW5jeSwgdGhlbiBcclxuICAgIC8vIGV2ZW50dWFsbHkgdGhlIGh1ZCBicmVha3Mgc28gbm93IGFueSBjaGFuZ2VzIHRvIHRoZSBodWQgb25seSB1cGRhdGUgd2hlbiBcclxuICAgIC8vIGNoYW5nZWQuIFxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgaWYgKHN0YXRlLm5lZWRzVXBkYXRlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMudWkuY29udGVudCA9IHsgYm9keTogXCJIZWFsdGg6IFwiICsgc3RhdGUuZ2V0SGVhbHRoKCkgKyBcIlxcclxcXFxuTW9uZXk6IFwiICsgc3RhdGUuZ2V0Q3VycmVuY3koKSB9O1xyXG4gICAgICAgICAgICB0aGlzLnVpLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgc3RhdGUubmVlZHNVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudWkpIHRoaXMudWkudXBkYXRlKCk7XHJcbiAgICAgICAgaWYoIHRoaXMudWkyICkgdGhpcy51aTIudXBkYXRlKCk7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCAqIGFzIF9fd29uZGVybGFuZGVuZ2luZV9jb21wb25lbnRzIGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9fd29uZGVybGFuZGVuZ2luZV9jb21wb25lbnRzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19DYW52YXNVSV9qcyBmcm9tICdDOi9Vc2Vycy9jbXB0MC9Eb2N1bWVudHMvdG93ZXItZGVmZW5jZS9qcy9DYW52YXNVSS5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0NfX1VzZXJzX2NtcHQwX0RvY3VtZW50c190b3dlcl9kZWZlbmNlX2pzX0NhbnZhc1VJX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19EYXlOaWdodF9qcyBmcm9tICdDOi9Vc2Vycy9jbXB0MC9Eb2N1bWVudHMvdG93ZXItZGVmZW5jZS9qcy9EYXlOaWdodC5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0NfX1VzZXJzX2NtcHQwX0RvY3VtZW50c190b3dlcl9kZWZlbmNlX2pzX0RheU5pZ2h0X2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19idWxsZXRfcGh5c2ljc19qcyBmcm9tICdDOi9Vc2Vycy9jbXB0MC9Eb2N1bWVudHMvdG93ZXItZGVmZW5jZS9qcy9idWxsZXQtcGh5c2ljcy5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0NfX1VzZXJzX2NtcHQwX0RvY3VtZW50c190b3dlcl9kZWZlbmNlX2pzX2J1bGxldF9waHlzaWNzX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19idWxsZXRfc3Bhd25lcl9qcyBmcm9tICdDOi9Vc2Vycy9jbXB0MC9Eb2N1bWVudHMvdG93ZXItZGVmZW5jZS9qcy9idWxsZXQtc3Bhd25lci5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0NfX1VzZXJzX2NtcHQwX0RvY3VtZW50c190b3dlcl9kZWZlbmNlX2pzX2J1bGxldF9zcGF3bmVyX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19idXR0b25fZnVuY3Rpb25zX2pzIGZyb20gJ0M6L1VzZXJzL2NtcHQwL0RvY3VtZW50cy90b3dlci1kZWZlbmNlL2pzL2J1dHRvbi1mdW5jdGlvbnMuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19idXR0b25fZnVuY3Rpb25zX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19idXR0b25fanMgZnJvbSAnQzovVXNlcnMvY21wdDAvRG9jdW1lbnRzL3Rvd2VyLWRlZmVuY2UvanMvYnV0dG9uLmpzJztcbl9yZWdpc3RlckVkaXRvcihfQ19fVXNlcnNfY21wdDBfRG9jdW1lbnRzX3Rvd2VyX2RlZmVuY2VfanNfYnV0dG9uX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19jZWxlc3RpYWxfcm90YXRpb25fanMgZnJvbSAnQzovVXNlcnMvY21wdDAvRG9jdW1lbnRzL3Rvd2VyLWRlZmVuY2UvanMvY2VsZXN0aWFsLXJvdGF0aW9uLmpzJztcbl9yZWdpc3RlckVkaXRvcihfQ19fVXNlcnNfY21wdDBfRG9jdW1lbnRzX3Rvd2VyX2RlZmVuY2VfanNfY2VsZXN0aWFsX3JvdGF0aW9uX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19kZWZhdWx0X2pzIGZyb20gJ0M6L1VzZXJzL2NtcHQwL0RvY3VtZW50cy90b3dlci1kZWZlbmNlL2pzL2RlZmF1bHQuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19kZWZhdWx0X2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19kZWZhdWx0X3R1cnJldF8zRF9qcyBmcm9tICdDOi9Vc2Vycy9jbXB0MC9Eb2N1bWVudHMvdG93ZXItZGVmZW5jZS9qcy9kZWZhdWx0X3R1cnJldF8zRC5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0NfX1VzZXJzX2NtcHQwX0RvY3VtZW50c190b3dlcl9kZWZlbmNlX2pzX2RlZmF1bHRfdHVycmV0XzNEX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19lbmVteV9zcGF3bmVyX2pzIGZyb20gJ0M6L1VzZXJzL2NtcHQwL0RvY3VtZW50cy90b3dlci1kZWZlbmNlL2pzL2VuZW15LXNwYXduZXIuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19lbmVteV9zcGF3bmVyX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19nYW1lX2pzIGZyb20gJ0M6L1VzZXJzL2NtcHQwL0RvY3VtZW50cy90b3dlci1kZWZlbmNlL2pzL2dhbWUuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19nYW1lX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19sZXZlbF90cmFja2VyX2pzIGZyb20gJ0M6L1VzZXJzL2NtcHQwL0RvY3VtZW50cy90b3dlci1kZWZlbmNlL2pzL2xldmVsLXRyYWNrZXIuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19sZXZlbF90cmFja2VyX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19wb2lzb25fanMgZnJvbSAnQzovVXNlcnMvY21wdDAvRG9jdW1lbnRzL3Rvd2VyLWRlZmVuY2UvanMvcG9pc29uLmpzJztcbl9yZWdpc3RlckVkaXRvcihfQ19fVXNlcnNfY21wdDBfRG9jdW1lbnRzX3Rvd2VyX2RlZmVuY2VfanNfcG9pc29uX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19wb2lzb25fdHVycmV0XzNEX2pzIGZyb20gJ0M6L1VzZXJzL2NtcHQwL0RvY3VtZW50cy90b3dlci1kZWZlbmNlL2pzL3BvaXNvbl90dXJyZXRfM0QuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19wb2lzb25fdHVycmV0XzNEX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19wcm9qZWN0aWxlX3BoeXNpY3NfanMgZnJvbSAnQzovVXNlcnMvY21wdDAvRG9jdW1lbnRzL3Rvd2VyLWRlZmVuY2UvanMvcHJvamVjdGlsZS1waHlzaWNzLmpzJztcbl9yZWdpc3RlckVkaXRvcihfQ19fVXNlcnNfY21wdDBfRG9jdW1lbnRzX3Rvd2VyX2RlZmVuY2VfanNfcHJvamVjdGlsZV9waHlzaWNzX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc19wcm9qZWN0aWxlX3NwYXduZXJfanMgZnJvbSAnQzovVXNlcnMvY21wdDAvRG9jdW1lbnRzL3Rvd2VyLWRlZmVuY2UvanMvcHJvamVjdGlsZS1zcGF3bmVyLmpzJztcbl9yZWdpc3RlckVkaXRvcihfQ19fVXNlcnNfY21wdDBfRG9jdW1lbnRzX3Rvd2VyX2RlZmVuY2VfanNfcHJvamVjdGlsZV9zcGF3bmVyX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc190dXJyZXRfYWltZXJfanMgZnJvbSAnQzovVXNlcnMvY21wdDAvRG9jdW1lbnRzL3Rvd2VyLWRlZmVuY2UvanMvdHVycmV0LWFpbWVyLmpzJztcbl9yZWdpc3RlckVkaXRvcihfQ19fVXNlcnNfY21wdDBfRG9jdW1lbnRzX3Rvd2VyX2RlZmVuY2VfanNfdHVycmV0X2FpbWVyX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc190dXJyZXRfc3Bhd25lcl9qcyBmcm9tICdDOi9Vc2Vycy9jbXB0MC9Eb2N1bWVudHMvdG93ZXItZGVmZW5jZS9qcy90dXJyZXQtc3Bhd25lci5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0NfX1VzZXJzX2NtcHQwX0RvY3VtZW50c190b3dlcl9kZWZlbmNlX2pzX3R1cnJldF9zcGF3bmVyX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc191aUhhbmRsZXJfanMgZnJvbSAnQzovVXNlcnMvY21wdDAvRG9jdW1lbnRzL3Rvd2VyLWRlZmVuY2UvanMvdWlIYW5kbGVyLmpzJztcbl9yZWdpc3RlckVkaXRvcihfQ19fVXNlcnNfY21wdDBfRG9jdW1lbnRzX3Rvd2VyX2RlZmVuY2VfanNfdWlIYW5kbGVyX2pzKTtcbmltcG9ydCAqIGFzIF9DX19Vc2Vyc19jbXB0MF9Eb2N1bWVudHNfdG93ZXJfZGVmZW5jZV9qc193YXlwb2ludF9tb3ZlbWVudF9qcyBmcm9tICdDOi9Vc2Vycy9jbXB0MC9Eb2N1bWVudHMvdG93ZXItZGVmZW5jZS9qcy93YXlwb2ludC1tb3ZlbWVudC5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0NfX1VzZXJzX2NtcHQwX0RvY3VtZW50c190b3dlcl9kZWZlbmNlX2pzX3dheXBvaW50X21vdmVtZW50X2pzKTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFVQSxPQUFDLFdBQVc7QUFFVjtBQVNBLFlBQUlBLGdCQUFlLFdBQVc7QUFDNUIsZUFBSyxLQUFLO0FBQUEsUUFDWjtBQUNBLFFBQUFBLGNBQWEsWUFBWTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsVUFLdkIsTUFBTSxXQUFXO0FBQ2YsZ0JBQUlDLFFBQU8sUUFBUUM7QUFHbkIsWUFBQUQsTUFBSyxXQUFXO0FBR2hCLFlBQUFBLE1BQUss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QUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixhQUFPO0FBQUEsSUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBVUEsb0JBQW9CLEtBQUssSUFBSSxLQUFLO0FBQzlCLFlBQU0sT0FBTyxLQUFLLFFBQVE7QUFDMUIsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSywrQkFBK0IsS0FBSyxVQUFVLEtBQUssUUFBUTtBQUNoRSxVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixhQUFPO0FBQUEsSUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBVUEsb0JBQW9CLEtBQUssSUFBSSxLQUFLO0FBQzlCLFlBQU0sT0FBTyxLQUFLLFFBQVE7QUFDMUIsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSywrQkFBK0IsS0FBSyxVQUFVLEtBQUssUUFBUTtBQUNoRSxVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixhQUFPO0FBQUEsSUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBVUEsNEJBQTRCLEtBQUssSUFBSSxLQUFLO0FBQ3RDLFlBQU0sT0FBTyxLQUFLLFFBQVE7QUFDMUIsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyx1Q0FBdUMsS0FBSyxVQUFVLEtBQUssUUFBUTtBQUN4RSxVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixhQUFPO0FBQUEsSUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBVUEsNEJBQTRCLEtBQUssSUFBSSxLQUFLO0FBQ3RDLFlBQU0sT0FBTyxLQUFLLFFBQVE7QUFDMUIsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyx1Q0FBdUMsS0FBSyxVQUFVLEtBQUssUUFBUTtBQUN4RSxVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixVQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM3QixhQUFPO0FBQUEsSUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBVUEsMkJBQTJCLEtBQUssSUFBSSxLQUFLO0FBQ3JDLFlBQU0sT0FBTyxLQUFLLFFBQVE7QUFDMUIsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0IsV0FBSyxjQUFjLENBQUMsSUFBSSxFQUFFLENB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QUFDZCxXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVMsS0FBSyxLQUFLLEdBQUc7QUFDM0IsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsV0FBTztBQUFBLEVBQ1Q7QUF1Qk8sV0FBUyxXQUFXLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDekcsUUFBSSxNQUFNLElBQWEsV0FBVyxFQUFFO0FBQ3BDLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUF3Qk8sV0FBUyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUN2RyxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBUU8sV0FBUyxTQUFTLEtBQUs7QUFDNUIsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVMsVUFBVSxLQUFLLEdBQUc7QUFFaEMsUUFBSSxRQUFRLEdBQUc7QUFDYixVQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFVBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFVBQUksTUFBTSxFQUFFLEVBQUU7QUFDZCxVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDYixVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUNiLFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUk7QUFBQSxJQUNaLE9BQU87QUFDTCxVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDYixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDYixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxVQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFBQSxJQUNoQjtBQUVBLFdBQU87QUFBQSxFQUNUO0FBU08sV0FBUyxPQUFPLEtBQUssR0FBRztBQUM3QixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFFNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUU1RSxRQUFJLENBQUMsS0FBSztBQUNSLGFBQU87QUFBQSxJQUNUO0FBRUEsVUFBTSxJQUFNO0FBQ1osUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsUUFBSSxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTLFFBQVEsS0FBSyxHQUFHO0FBQzlCLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLENBQUMsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsUUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDcEcsUUFBSSxDQUFDLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ2xHLFFBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLFFBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLFFBQUksQ0FBQyxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNsRyxRQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxRQUFJLENBQUMsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsUUFBSSxDQUFDLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ2xHLFFBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLFFBQUksRUFBRSxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNuRyxRQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNyRyxRQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNyRyxRQUFJLEVBQUUsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbkcsUUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDckcsUUFBSSxFQUFFLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFdBQU87QUFBQSxFQUNUO0FBUU8sV0FBUyxZQUFZLEdBQUc7QUFDN0IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBRTVCLFdBQU8sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQUEsRUFDM0U7QUFVTyxXQUFTLFNBQVMsS0FBSyxHQUFHLEdBQUc7QUFDbEMsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUVkLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLEVBQUU7QUFDVCxTQUFLLEVBQUUsRUFBRTtBQUNULFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsU0FBSyxFQUFFLEVBQUU7QUFDVCxTQUFLLEVBQUUsRUFBRTtBQUNULFNBQUssRUFBRSxFQUFFO0FBQ1QsU0FBSyxFQUFFLEVBQUU7QUFDVCxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsUUFBSSxFQUFFLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUNoRCxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBUyxVQUFVLEtBQUssR0FBRyxHQUFHO0FBQ25DLFFBQUksSUFBSSxFQUFFLENBQUMsR0FDUCxJQUFJLEVBQUUsQ0FBQyxHQUNQLElBQUksRUFBRSxDQUFDO0FBQ1gsUUFBSSxLQUFLLEtBQUssS0FBSztBQUNuQixRQUFJLEtBQUssS0FBSyxLQUFLO0FBQ25CLFFBQUksS0FBSyxLQUFLLEtBQUs7QUFFbkIsUUFBSSxNQUFNLEtBQUs7QUFDYixVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUU7QUFDL0MsVUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFO0FBQy9DLFVBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsSUFBSSxJQUFJLEVBQUUsRUFBRTtBQUNoRCxVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLElBQUksSUFBSSxFQUFFLEVBQUU7QUFBQSxJQUNsRCxPQUFPO0FBQ0wsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsRUFBRTtBQUNWLFlBQU0sRUFBRSxFQUFFO0FBQ1YsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksRUFBRSxFQUFFO0FBQzVDLFVBQUksRUFBRSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLEVBQUUsRUFBRTtBQUM1QyxVQUFJLEVBQUUsSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFLEVBQUU7QUFDNUMsVUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksRUFBRSxFQUFFO0FBQUEsSUFDOUM7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsTUFBTSxLQUFLLEdBQUcsR0FBRztBQUMvQixRQUFJLElBQUksRUFBRSxDQUFDLEdBQ1AsSUFBSSxFQUFFLENBQUMsR0FDUCxJQUFJLEVBQUUsQ0FBQztBQUNYLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJO0FBQ2xCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJO0FBQ2xCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFB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LElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxRQUFRLEtBQUssS0FBSyxPQUFPO0FBQzdCLFFBQUksUUFBUSxLQUFLLE1BQU07QUFDdkIsUUFBSSxRQUFRLEtBQUssTUFBTTtBQUN2QixRQUFJLFFBQVEsS0FBSyxNQUFNO0FBQ3ZCLFFBQUksUUFBUSxLQUFLLEtBQUssT0FBTztBQUM3QixRQUFJLFFBQVEsS0FBSyxNQUFNO0FBQ3ZCLFFBQUksUUFBUSxLQUFLLE1BQU07QUFDdkIsUUFBSSxRQUFRLEtBQUssTUFBTTtBQUN2QixRQUFJLFNBQVMsS0FBSyxLQUFLLE9BQU87QUFDOUIsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksTUFBTSxPQUFPLEtBQUssT0FBTyxLQUFLLE9BQU87QUFDdEQsUUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksTUFBTSxPQUFPLEtBQUssT0FBTyxLQUFLLE9BQU87QUFDdEQsUUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksTUFBTSxPQUFPLEtBQUssT0FBTyxLQUFLLFFBQVE7QUFDdkQsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsU0FBUyxLQUFLLEdBQUc7QUFDL0IsUUFBSSxJQUFJLEVBQUUsQ0FBQyxHQUNQLElBQUksRUFBRSxDQUFDLEdBQ1AsSUFBSSxFQUFFLENBQUMsR0FDUCxJQUFJLEVBQUUsQ0FBQztBQUNYLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksQ0FBQyxJQUFJLElBQUksS0FBSztBQUNsQixRQUFJLENBQUMsSUFBSSxLQUFLO0FBQ2QsUUFBSSxDQUFDLElBQUksS0FBSztBQUNkLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUksS0FBSztBQUNkLFFBQUksQ0FBQyxJQUFJLElBQUksS0FBSztBQUNsQixRQUFJLENBQUMsSUFBSSxLQUFLO0FBQ2QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSSxLQUFLO0FBQ2QsUUFBSSxDQUFDLElBQUksS0FBSztBQUNkLFFBQUksRUFBRSxJQUFJLElBQUksS0FBSztBQUNuQixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFjTyxXQUFTLFFBQVEsS0FBSyxNQUFNLE9BQU8sUUFBUSxLQUFLLE1BQU0sS0FBSztBQUNoRSxRQUFJLEtBQUssS0FBSyxRQUFRO0FBQ3RCLFFBQUksS0FBSyxLQUFLLE1BQU07QUFDcEIsUUFBSSxLQUFLLEtBQUssT0FBTztBQUNyQixRQUFJLENBQUMsSUFBSSxPQUFPLElBQUk7QUFDcEIsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSSxPQUFPLElBQUk7QUFDcEIsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxLQUFLLFFBQVEsUUFBUTtBQUMxQixRQUFJLENBQUMsS0FBSyxNQUFNLFVBQVU7QUFDMUIsUUFBSSxFQUFFLEtBQUssTUFBTSxRQUFRO0FBQ3pCLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJLE1BQU0sT0FBTyxJQUFJO0FBQzNCLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFlTyxXQUFTLGNBQWMsS0FBSyxNQUFNLFFBQVEsTUFBTSxLQUFLO0FBQzFELFFBQUksSUFBSSxJQUFNLEtBQUssSUFBSSxPQUFPLENBQUMsR0FDM0I7QUFDSixRQUFJLENBQUMsSUFBSSxJQUFJO0FBQ2IsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFFVixRQUFJLE9BQU8sUUFBUSxRQUFRLFVBQVU7QUFDbkMsV0FBSyxLQUFLLE9BQU87QUFDakIsVUFBSSxFQUFFLEtBQUssTUFBTSxRQUFRO0FBQ3pCLFVBQUksRUFBRSxJQUFJLElBQUksTUFBTSxPQUFPO0FBQUEsSUFDN0IsT0FBTztBQUNMLFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUksS0FBSztBQUFBLElBQ2pCO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFNTyxNQUFJLGNBQWM7QUFlbEIsV0FBUyxjQUFjLEtBQUssTUFBTSxRQUFRLE1BQU0sS0FBSztBQUMxRCxRQUFJLElBQUksSUFBTSxLQUFLLElBQUksT0FBTyxDQUFDLEdBQzNCO0FBQ0osUUFBSSxDQUFDLElBQUksSUFBSTtBQUNiLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBRVYsUUFBSSxPQUFPLFFBQVEsUUFBUSxVQUFVO0FBQ25DLFdBQUssS0FBSyxPQUFPO0FBQ2pCLFVBQUksRUFBRSxJQUFJLE1BQU07QUFDaEIsVUFBSSxFQUFFLElBQUksTUFBTSxPQUFPO0FBQUEsSUFDekIsT0FBTztBQUNMLFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUksQ0FBQztBQUFBLElBQ2I7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQWFPLFdBQVMsMkJBQTJCLEtBQUssS0FBSyxNQUFNLEtBQUs7QUFDOUQsUUFBSSxRQUFRLEtBQUssSUFBSSxJQUFJLFlBQVksS0FBSyxLQUFLLEdBQUs7QUFDcEQsUUFBSSxVQUFVLEtBQUssSUFBSSxJQUFJLGNBQWMsS0FBSyxLQUFLLEdBQUs7QUFDeEQsUUFBSSxVQUFVLEtBQUssSUFBSSxJQUFJLGNBQWMsS0FBSyxLQUFLLEdBQUs7QUFDeEQsUUFBSSxXQUFXLEtBQUssSUFBSSxJQUFJLGVBQWUsS0FBSyxLQUFLLEdBQUs7QUFDMUQsUUFBSSxTQUFTLEtBQU8sVUFBVTtBQUM5QixRQUFJLFNBQVMsS0FBTyxRQUFRO0FBQzVCLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSSxHQUFHLFVBQVUsWUFBWSxTQUFTO0FBQzNDLFFBQUksQ0FBQyxLQUFLLFFBQVEsV0FBVyxTQUFTO0FBQ3RDLFFBQUksRUFBRSxJQUFJLE9BQU8sT0FBTztBQUN4QixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSSxNQUFNLFFBQVEsT0FBTztBQUMvQixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBZ0JPLFdBQVMsUUFBUSxLQUFLLE1BQU0sT0FBTyxRQUFRLEtBQUssTUFBTSxLQUFLO0FBQ2hFLFFBQUksS0FBSyxLQUFLLE9BQU87QUFDckIsUUFBSSxLQUFLLEtBQUssU0FBUztBQUN2QixRQUFJLEtBQUssS0FBSyxPQUFPO0FBQ3JCLFFBQUksQ0FBQyxJQUFJLEtBQUs7QUFDZCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLEtBQUs7QUFDZCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJLElBQUk7QUFDZCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxLQUFLLE9BQU8sU0FBUztBQUMzQixRQUFJLEVBQUUsS0FBSyxNQUFNLFVBQVU7QUFDM0IsUUFBSSxFQUFFLEtBQUssTUFBTSxRQUFRO0FBQ3pCLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFNTyxNQUFJLFFBQVE7QUFnQlosV0FBUyxRQUFRLEtBQUssTUFBTSxPQUFPLFFBQVEsS0FBSyxNQUFNLEtBQUs7QUFDaEUsUUFBSSxLQUFLLEtBQUssT0FBTztBQUNyQixRQUFJLEtBQUssS0FBSyxTQUFTO0FBQ3ZCLFFBQUksS0FBSyxLQUFLLE9BQU87QUFDckIsUUFBSSxDQUFDLElBQUksS0FBSztBQUNkLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUksS0FBSztBQUNkLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxLQUFLLE9BQU8sU0FBUztBQUMzQixRQUFJLEVBQUUsS0FBSyxNQUFNLFVBQVU7QUFDM0IsUUFBSSxFQUFFLElBQUksT0FBTztBQUNqQixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBWU8sV0FBUyxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUk7QUFDM0MsUUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSUE7QUFDeEMsUUFBSSxPQUFPLElBQUksQ0FBQztBQUNoQixRQUFJLE9BQU8sSUFBSSxDQUFDO0FBQ2hCLFFBQUksT0FBTyxJQUFJLENBQUM7QUFDaEIsUUFBSSxNQUFNLEdBQUcsQ0FBQztBQUNkLFFBQUksTUFBTSxHQUFHLENBQUM7QUFDZCxRQUFJLE1BQU0sR0FBRyxDQUFDO0FBQ2QsUUFBSSxVQUFVLE9BQU8sQ0FBQztBQUN0QixRQUFJLFVBQVUsT0FBTyxDQUFDO0FBQ3RCLFFBQUksVUFBVSxPQUFPLENBQUM7QUFFdEIsUUFBSSxLQUFLLElBQUksT0FBTyxPQUFPLElBQWEsV0FBVyxLQUFLLElBQUksT0FBTyxPQUFPLElBQWEsV0FBVyxLQUFLLElBQUksT0FBTyxPQUFPLElBQWEsU0FBUztBQUM3SSxhQUFPLFNBQVMsR0FBRztBQUFBLElBQ3JCO0FBRUEsU0FBSyxPQUFPO0FBQ1osU0FBSyxPQUFPO0FBQ1osU0FBSyxPQUFPO0FBQ1osSUFBQUEsT0FBTSxJQUFJLEtBQUssTUFBTSxJQUFJLElBQUksRUFBRTtBQUMvQixVQUFNQTtBQUNOLFVBQU1BO0FBQ04sVUFBTUE7QUFDTixTQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ3RCLFNBQUssTUFBTSxLQUFLLE1BQU07QUFDdEIsU0FBSyxNQUFNLEtBQUssTUFBTTtBQUN0QixJQUFBQSxPQUFNLEtBQUssTUFBTSxJQUFJLElBQUksRUFBRTtBQUUzQixRQUFJLENBQUNBLE1BQUs7QUFDUixXQUFLO0FBQ0wsV0FBSztBQUNMLFdBQUs7QUFBQSxJQUNQLE9BQU87QUFDTCxNQUFBQSxPQUFNLElBQUlBO0FBQ1YsWUFBTUE7QUFDTixZQUFNQTtBQUNOLFlBQU1BO0FBQUEsSUFDUjtBQUVBLFNBQUssS0FBSyxLQUFLLEtBQUs7QUFDcEIsU0FBSyxLQUFLLEtBQUssS0FBSztBQUNwQixTQUFLLEtBQUssS0FBSyxLQUFLO0FBQ3BCLElBQUFBLE9BQU0sS0FBSyxNQUFNLElBQUksSUFBSSxFQUFFO0FBRTNCLFFBQUksQ0FBQ0EsTUFBSztBQUNSLFdBQUs7QUFDTCxXQUFLO0FBQ0wsV0FBSztBQUFBLElBQ1AsT0FBTztBQUNMLE1BQUFBLE9BQU0sSUFBSUE7QUFDVixZQUFNQTtBQUNOLFlBQU1BO0FBQ04sWUFBTUE7QUFBQSxJQUNSO0FBRUEsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLE9BQU8sS0FBSyxPQUFPLEtBQUs7QUFDekMsUUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLE9BQU8sS0FBSyxPQUFPLEtBQUs7QUFDekMsUUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLE9BQU8sS0FBSyxPQUFPLEtBQUs7QUFDekMsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQVdPLFdBQVMsU0FBUyxLQUFLLEtBQUssUUFBUSxJQUFJO0FBQzdDLFFBQUksT0FBTyxJQUFJLENBQUMsR0FDWixPQUFPLElBQUksQ0FBQyxHQUNaLE9BQU8sSUFBSSxDQUFDLEdBQ1osTUFBTSxHQUFHLENBQUMsR0FDVixNQUFNLEdBQUcsQ0FBQyxHQUNWLE1BQU0sR0FBRyxDQUFDO0FBQ2QsUUFBSSxLQUFLLE9BQU8sT0FBTyxDQUFDLEdBQ3BCLEtBQUssT0FBTyxPQUFPLENBQUMsR0FDcEIsS0FBSyxPQUFPLE9BQU8sQ0FBQztBQUN4QixRQUFJQSxPQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUVuQyxRQUFJQSxPQUFNLEdBQUc7QUFDWCxNQUFBQSxPQUFNLElBQUksS0FBSyxLQUFLQSxJQUFHO0FBQ3ZCLFlBQU1BO0FBQ04sWUFBTUE7QUFDTixZQUFNQTtBQUFBLElBQ1I7QUFFQSxRQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sSUFDdEIsS0FBSyxNQUFNLEtBQUssTUFBTSxJQUN0QixLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQzFCLElBQUFBLE9BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBRS9CLFFBQUlBLE9BQU0sR0FBRztBQUNYLE1BQUFBLE9BQU0sSUFBSSxLQUFLLEtBQUtBLElBQUc7QUFDdkIsWUFBTUE7QUFDTixZQUFNQTtBQUNOLFlBQU1BO0FBQUEsSUFDUjtBQUVBLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFRTyxXQUFTLElBQUksR0FBRztBQUNyQixXQUFPLFVBQVUsRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLEVBQUUsSUFBSSxPQUFPLEVBQUUsRUFBRSxJQUFJLE9BQU8sRUFBRSxFQUFFLElBQUksT0FBTyxFQUFFLEVBQUUsSUFBSSxPQUFPLEVBQUUsRUFBRSxJQUFJLE9BQU8sRUFBRSxFQUFFLElBQUk7QUFBQSxFQUNsUDtBQVFPLFdBQVMsS0FBSyxHQUFHO0FBQ3RCLFdBQU8sS0FBSyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDO0FBQUEsRUFDeEg7QUFVTyxXQUFTLElBQUksS0FBSyxHQUFHLEdBQUc7QUFDN0IsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBUyxTQUFTLEtBQUssR0FBRyxHQUFHO0FBQ2xDLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsZUFBZSxLQUFLLEdBQUcsR0FBRztBQUN4QyxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixXQUFPO0FBQUEsRUFDVDtBQVdPLFdBQVMscUJBQXFCLEtBQUssR0FBRyxHQUFHQyxRQUFPO0FBQ3JELFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVMsWUFBWSxHQUFHLEdBQUc7QUFDaEMsV0FBTyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUU7QUFBQSxFQUNoUztBQVNPLFdBQVMsT0FBTyxHQUFHLEdBQUc7QUFDM0IsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxXQUFPLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxNQUFNLEdBQUcsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEtBQUssSUFBSSxNQUFNLEdBQUcsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEtBQUssSUFBSSxNQUFNLEdBQUcsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEtBQUssSUFBSSxNQUFNLEdBQUcsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEtBQUssSUFBSSxNQUFNLEdBQUcsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEtBQUssSUFBSSxNQUFNLEdBQUcsS0FBYyxVQUFVLEtBQUssSUFBSSxHQUFLLEtBQUssSUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLEdBQUcsQ0FBQztBQUFBLEVBQzUyQztBQU1PLE1BQUksTUFBTTtBQU1WLE1BQUksTUFBTTs7O0FDcjNEakI7QUFBQTtBQUFBLGVBQUFDO0FBQUEsSUFBQTtBQUFBLGlCQUFBQztBQUFBLElBQUE7QUFBQSxnQkFBQUM7QUFBQSxJQUFBLGNBQUFDO0FBQUEsSUFBQSxXQUFBQztBQUFBLElBQUEsY0FB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LEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxTQUFRLEtBQUssR0FBRyxLQUFLO0FBQ25DLFdBQU87QUFDUCxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHLEdBQ2pCLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDckIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxTQUFRLEtBQUssR0FBRyxLQUFLO0FBQ25DLFdBQU87QUFDUCxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHLEdBQ2pCLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDckIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtB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S0FBSyxLQUFLLEtBQUssS0FBSyxNQUFNO0FBQ25ELFFBQUksQ0FBQyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssTUFBTTtBQUNuRCxRQUFJLENBQUMsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLE1BQU07QUFDbkQsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxXQUFVLEtBQUssR0FBRyxHQUFHO0FBQ25DLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxJQUFJLEtBQ2IsTUFBTSxFQUFFLENBQUMsSUFBSSxLQUNiLE1BQU0sRUFBRSxDQUFDLElBQUksS0FDYixNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDN0MsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDN0MsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDN0MsUUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM5QyxXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVNDLFNBQVEsS0FBSyxHQUFHLEtBQUs7QUFDbkMsUUFBSSxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQ1QsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUNULEtBQUssQ0FBQyxFQUFFLENBQUMsR0FDVCxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFD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O0FBQ1YsU0FBSyxJQUFJLENBQUM7QUFDVixTQUFLLElBQUksQ0FBQztBQUNWLFNBQUssSUFBSSxDQUFDO0FBQ1YsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsbUJBQW1CLEtBQUssR0FBRyxHQUFHO0FBQzVDLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBUyxvQkFBb0IsS0FBSyxHQUFHLEdBQUc7QUFDN0MsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsV0FBTztBQUFBLEVBQ1Q7QUFXTyxXQUFTLGlCQUFpQixLQUFLLEdBQUcsTUFBTSxLQUFLO0FBRWxELFFBQUksS0FBSyxJQUFJLEdBQUcsSUFBYSxTQUFTO0FBQ3BDLGFBQU9QLE1BQUssS0FBSyxDQUFDO0FBQUEsSUFDcEI7QUFFQSxRQUFJLGFBQWEsS0FBSyxNQUFNLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO0FBQ3JELFVBQU0sTUFBTTtBQUNaLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUNwQixRQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSTtBQUN2QixRQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSTtBQUN2QixRQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSTtBQUN2QixRQUFJLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDckIsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsV0FBTztBQUFBLEVBQ1Q7QUFXTyxXQUFTUSxLQUFJLEtBQUssR0FBRyxHQUFHO0FBQzdCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxVQUFTLEtBQUssR0FBRyxHQUFHO0FBQ2xDLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25ELFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDbkQsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRCxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25ELFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFdBQU87QUFBQSxFQUNUO0FBTU8sTUFBSUMsT0FBTUQ7QUFXVixXQUFTRSxPQUFNLEtBQUssR0FBRyxHQUFHO0FBQy9CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FB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QUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osV0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElB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QUFFdEUsa0JBQWdCLGdCQUFzRDtBQUV0RSxrQkFBZ0Isc0JBQTREO0FBRTVFLGtCQUFnQixzQkFBNEQ7QUFFNUUsa0JBQWdCLHdCQUE4RDtBQUU5RSxrQkFBZ0IsY0FBb0Q7QUFFcEUsa0JBQWdCLDBCQUFnRTtBQUVoRixrQkFBZ0IsZUFBcUQ7QUFFckUsa0JBQWdCLHlCQUErRDtBQUUvRSxrQkFBZ0IscUJBQTJEO0FBRTNFLGtCQUFnQixZQUFrRDtBQUVsRSxrQkFBZ0IscUJBQTJEO0FBRTNFLGtCQUFnQixjQUFvRDtBQUVwRSxrQkFBZ0Isd0JBQThEO0FBRTlFLGtCQUFnQiwwQkFBZ0U7QUFFaEYsa0JBQWdCLDBCQUFnRTtBQUVoRixrQkFBZ0Isb0JBQTBEO0FBRTFFLGtCQUFnQixzQkFBNEQ7QUFFNUUsa0JBQWdCLGlCQUF1RDtBQUV2RSxrQkFBZ0IseUJBQStEOyIsCiAgIm5hbWVzIjogWyJIb3dsZXJHbG9iYWwiLCAic2VsZiIsICJIb3dsZXIiLCAiZSIsICJpIiwgIkhvd2wiLCAic3RyIiwgIlNvdW5kIiwgInRpbWVvdXQiLCAibGVuIiwgImVhcmN1dCIsICJlcXVhbHMiLCAibGVuIiwgIlR5cGUiLCAiVHJhbnNhY3Rpb25UeXBlIiwgIkxvZ1RhZyIsICJDb2xsaWRlciIsICJBbGlnbm1lbnQiLCAiSnVzdGlmaWNhdGlvbiIsICJUZXh0RWZmZWN0IiwgIklucHV0VHlwZSIsICJMaWdodFR5cGUiLCAiQW5pbWF0aW9uU3RhdGUiLCAiRm9yY2VNb2RlIiwgIkNvbGxpc2lvbkV2ZW50VHlwZSIsICJTaGFwZSIsICJNZXNoQXR0cmlidXRlIiwgIk1hdGVyaWFsUGFyYW1UeXBlIiwgImxlbmd0aCIsICJhbmdsZSIsICJMb2NrQXhpcyIsICJvZmZzZXQiLCAiTWVzaEluZGV4VHlwZSIsICJNZXNoU2tpbm5pbmdUeXBlIiwgImNhbnZhcyIsICJhbmltSWQiLCAib2Zmc2V0IiwgIkxvZ0xldmVsIiwgInRocmVhZHMiLCAic3RyIiwgImNvbmZpZyIsICJfX2RlY29yYXRlIiwgInRlbXBRdWF0IiwgImNyZWF0ZSIsICJjcmVhdGUiLCAibGVuIiwgInNjYWxlIiwgImFkZCIsICJjbG9uZSIsICJjb3B5IiwgImNyZWF0ZSIsICJkb3QiLCAiZXF1YWxzIiwgImV4YWN0RXF1YWxzIiwgImZyb21WYWx1ZXMiLCAiaWRlbnRpdHkiLCAiaW52ZXJ0IiwgImxlbiIsICJsZW5ndGgiLCAibGVycCIsICJtdWwiLCAibXVsdGlwbHkiLCAibm9ybWFsaXplIiwgInJhbmRvbSIsICJyb3RhdGVYIiwgInJvdGF0ZVkiLCAicm90YXRlWiIsICJzY2FsZSIsICJzZXQiLCAic3FyTGVuIiwgInNxdWFyZWRMZW5ndGgiLCAic3RyIiwgImFkZCIsICJjbG9uZSIsICJjb3B5IiwgImNyZWF0ZSIsICJlcXVhbHMiLCAiZXhhY3RFcXVhbHMiLCAiZnJvbVZhbHVlcyIsICJtdWwiLCAibXVsdGlwbHkiLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic2NhbGUiLCAic2V0IiwgInN0ciIsICJzdWIiLCAic3VidHJhY3QiLCAiY3JlYXRlIiwgImNsb25lIiwgImZyb21WYWx1ZXMiLCAiY29weSIsICJzZXQiLCAiYWRkIiwgInN1YnRyYWN0IiwgIm11bHRpcGx5IiwgInNjYWxlIiwgImxlbiIsICJyb3RhdGVYIiwgInJvdGF0ZVkiLCAicm90YXRlWiIsICJzdHIiLCAiZXhhY3RFcXVhbHMiLCAiZXF1YWxzIiwgInN1YiIsICJtdWwiLCAib2Zmc2V0IiwgImNyZWF0ZSIsICJjbG9uZSIsICJmcm9tVmFsdWVzIiwgImNvcHkiLCAic2V0IiwgImFkZCIsICJzY2FsZSIsICJsZW5ndGgiLCAic3F1YXJlZExlbmd0aCIsICJub3JtYWxpemUiLCAibGVuIiwgImRvdCIsICJsZXJwIiwgImV4YWN0RXF1YWxzIiwgImVxdWFscyIsICJmb3JFYWNoIiwgImNyZWF0ZSIsICJvZmZzZXQiLCAiY3JlYXRlIiwgImlkZW50aXR5IiwgImRvdCIsICJtdWx0aXBseSIsICJyb3RhdGVYIiwgInJvdGF0ZVkiLCAicm90YXRlWiIsICJzY2FsZSIsICJyYW5kb20iLCAiaW52ZXJ0IiwgInN0ciIsICJjbG9uZSIsICJmcm9tVmFsdWVzIiwgImNvcHkiLCAic2V0IiwgImFkZCIsICJtdWwiLCAibGVycCIsICJsZW5ndGgiLCAibGVuIiwgInNxdWFyZWRMZW5ndGgiLCAic3FyTGVuIiwgIm5vcm1hbGl6ZSIsICJleGFjdEVxdWFscyIsICJlcXVhbHMiLCAiYWRkIiwgImNsb25lIiwgImNvbmp1Z2F0ZSIsICJjb3B5IiwgImNyZWF0ZSIsICJkb3QiLCAiZXF1YWxzIiwgImV4YWN0RXF1YWxzIiwgImZyb21Sb3RhdGlvbiIsICJmcm9tUm90YXRpb25UcmFuc2xhdGlvbiIsICJmcm9tVHJhbnNsYXRpb24iLCAiZnJvbVZhbHVlcyIsICJnZXRUcmFuc2xhdGlvbiIsICJpZGVudGl0eSIsICJpbnZlcnQiLCAibGVuIiwgImxlbmd0aCIsICJsZXJwIiwgIm11bCIsICJtdWx0aXBseSIsICJub3JtYWxpemUiLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic2NhbGUiLCAic2V0IiwgInNxckxlbiIsICJzcXVhcmVkTGVuZ3RoIiwgInN0ciIsICJ0cmFuc2xhdGUiLCAiY3JlYXRlIiwgImNsb25lIiwgImZyb21WYWx1ZXMiLCAiZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24iLCAiZnJvbVRyYW5zbGF0aW9uIiwgImZyb21Sb3RhdGlvbiIsICJjb3B5IiwgImlkZW50aXR5IiwgInNldCIsICJnZXRUcmFuc2xhdGlvbiIsICJ0cmFuc2xhdGUiLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAiYWRkIiwgIm11bHRpcGx5IiwgIm11bCIsICJzY2FsZSIsICJkb3QiLCAibGVycCIsICJpbnZlcnQiLCAic3F1YXJlZExlbmd0aCIsICJjb25qdWdhdGUiLCAibGVuZ3RoIiwgImxlbiIsICJzcXJMZW4iLCAibm9ybWFsaXplIiwgInN0ciIsICJleGFjdEVxdWFscyIsICJlcXVhbHMiLCAiX19kZWNvcmF0ZSIsICJfX2RlY29yYXRlIiwgInRlbXBWZWMiLCAiY2FudmFzIiwgImRpc3QiLCAiX19kZWNvcmF0ZSIsICJfX2RlY29yYXRlIiwgImltcG9ydF9ob3dsZXIiLCAiX19kZWNvcmF0ZSIsICJjYW52YXMiLCAiX19kZWNvcmF0ZSIsICJhIiwgImRpcmVjdGlvbiIsICJjbGFtcCIsICJ0ZW1wUXVhdCIsICJ0YXJnZXRQb3MiLCAiX19kZWNvcmF0ZSIsICJ0ZW1wVmVjMyIsICJlYXJjdXQiLCAibG9va0F0IiwgInN0YXRlIiwgIm9mZnNldCIsICJkaXN0IiwgImRvdCIsICJjb25maWciLCAic2NhbGUiLCAic3RyIiwgImNoaWxkIiwgImFuZ2xlIiwgImVsbSIsICJwcm9wZXJ0eSIsICJvZmZzZXQiLCAiY2FudmFzIiwgImxpbmUiLCAidGVtcFF1YXQyIiwgIm5ld0RpciIsICJ0ZW1wUXVhdDIiLCAibG9va0F0IiwgInRlbXBRdWF0MiIsICJ0ZW1wUXVhdDIiLCAiY29uZmlnIiwgInVpIl0KfQo=
